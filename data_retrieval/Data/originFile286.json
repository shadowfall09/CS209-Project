{"items":[{"tags":["java","postgresql","hibernate","spring-boot","java-8"],"comments":[{"owner":{"account_id":4271910,"reputation":233,"user_id":3493538,"display_name":"Naveen Kulkarni"},"score":0,"creation_date":1541506824,"post_id":53171685,"comment_id":93233130,"body_markdown":"Why do you want to struggle with this. Just add 2 Fields for you POJO creation date time and updated Date time. It will solve your problem","body":"Why do you want to struggle with this. Just add 2 Fields for you POJO creation date time and updated Date time. It will solve your problem"}],"answers":[{"tags":[],"owner":{"account_id":5342445,"reputation":4807,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1541509241,"creation_date":1541509241,"answer_id":53172430,"question_id":53171685,"body_markdown":"Your problem is your Hibernate version. You need to upgrade it to version 5.2.3 in order to use `@CreationTimestamp` and `@UpdateTimestamp` with `LocalDateTime`. For more information, you can check this [blog][1]. Just upgrade your Hibernate and everything should work as expected.\r\n\r\nIf you don&#39;t want to update your Hibernate version, you can change your field types to one of the following.\r\n\r\n- java.util.Date\r\n- java.util.Calendar\r\n- java.sql.Date\r\n- java.sql.Time\r\n- java.sql.Timestamp\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/persist-creation-update-timestamps-hibernate/","title":"@CreationTimestamp and @UpdateTimestamp is not working with LocalDateTime","body":"<p>Your problem is your Hibernate version. You need to upgrade it to version 5.2.3 in order to use <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code> with <code>LocalDateTime</code>. For more information, you can check this <a href=\"https://www.thoughts-on-java.org/persist-creation-update-timestamps-hibernate/\" rel=\"noreferrer\">blog</a>. Just upgrade your Hibernate and everything should work as expected.</p>\n\n<p>If you don't want to update your Hibernate version, you can change your field types to one of the following.</p>\n\n<ul>\n<li>java.util.Date</li>\n<li>java.util.Calendar</li>\n<li>java.sql.Date</li>\n<li>java.sql.Time</li>\n<li>java.sql.Timestamp</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22560311,"reputation":1,"user_id":16748038,"display_name":"Vidhi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690358349,"creation_date":1690358349,"answer_id":76769127,"question_id":53171685,"body_markdown":"In my case, I was using some other Date import instead of java.utils","title":"@CreationTimestamp and @UpdateTimestamp is not working with LocalDateTime","body":"<p>In my case, I was using some other Date import instead of java.utils</p>\n"}],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20239,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53172430,"answer_count":2,"score":12,"last_activity_date":1690358349,"creation_date":1541506434,"question_id":53171685,"body_markdown":"I am trying to use `@CreationTimestamp` and `@UpdateTimestamp` with `LocalDateTime` type, but it is giving me `org.hibernate.HibernateException:` Unsupported property type for generator annotation `@CreationTimestamp` exception.\r\n\r\nI am using 5.0.12.hibernate version with java 8 `LocalDataTime`, \r\n\r\nIs there any way to use `@UpdateTimestamp` and `@CreationTimestamp` with Java 8 `LocalDateTime` ?\r\n\r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1080)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n    \tat com.godigit.MotorDataService.main(MotorDataService.java:35)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\r\n    \tat org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:44)\r\n    \tat org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:22)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.instantiateAndInitializeValueGeneration(PropertyBinder.java:415)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotation(PropertyBinder.java:383)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotations(PropertyBinder.java:348)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.determineValueGenerationStrategy(PropertyBinder.java:323)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.makeProperty(PropertyBinder.java:269)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.makePropertyAndValue(PropertyBinder.java:189)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:199)\r\n    \tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2225)\r\n    \tat org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:911)\r\n    \tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:738)\r\n    \tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:382)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\r\n    \t... 21 common frames omitted","title":"@CreationTimestamp and @UpdateTimestamp is not working with LocalDateTime","body":"<p>I am trying to use <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code> with <code>LocalDateTime</code> type, but it is giving me <code>org.hibernate.HibernateException:</code> Unsupported property type for generator annotation <code>@CreationTimestamp</code> exception.</p>\n\n<p>I am using 5.0.12.hibernate version with java 8 <code>LocalDataTime</code>, </p>\n\n<p>Is there any way to use <code>@UpdateTimestamp</code> and <code>@CreationTimestamp</code> with Java 8 <code>LocalDateTime</code> ?</p>\n\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1080)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n    at com.godigit.MotorDataService.main(MotorDataService.java:35)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\n    at org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:44)\n    at org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:22)\n    at org.hibernate.cfg.annotations.PropertyBinder.instantiateAndInitializeValueGeneration(PropertyBinder.java:415)\n    at org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotation(PropertyBinder.java:383)\n    at org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotations(PropertyBinder.java:348)\n    at org.hibernate.cfg.annotations.PropertyBinder.determineValueGenerationStrategy(PropertyBinder.java:323)\n    at org.hibernate.cfg.annotations.PropertyBinder.makeProperty(PropertyBinder.java:269)\n    at org.hibernate.cfg.annotations.PropertyBinder.makePropertyAndValue(PropertyBinder.java:189)\n    at org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:199)\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2225)\n    at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:911)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:738)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:382)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n    ... 21 common frames omitted\n</code></pre>\n"},{"tags":["java","integration-testing","spring-restcontroller"],"comments":[{"owner":{"account_id":17126499,"reputation":646,"user_id":12393574,"display_name":"jeffrey.d.m"},"score":2,"creation_date":1636372263,"post_id":69882479,"comment_id":123530355,"body_markdown":"This is a highly open ended question without one good answer. If you google &quot;Spring Boot Writing Integration Tests&quot; you&#39;ll find lots of articles that talk about best practices and such. That would be a good place to start.","body":"This is a highly open ended question without one good answer. If you google &quot;Spring Boot Writing Integration Tests&quot; you&#39;ll find lots of articles that talk about best practices and such. That would be a good place to start."}],"answers":[{"tags":[],"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636374553,"creation_date":1636374553,"answer_id":69883475,"question_id":69882479,"body_markdown":"What i&#39;ve done is below:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebMvcTest(controllers = OrderControllerTest.class)\r\n    \r\n    class OrderControllerTest {\r\n    \r\n        @MockBean\r\n        private OrderService service;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n    \r\n        @Test\r\n        void shouldAddNewOrder() throws Exception {\r\n            AddUpdateOrderEnter enter =  new OrderBuilder()\r\n                    .orderId(1L)\r\n                    .orderType(1)\r\n                    .productId(2L)\r\n                    .paymentTypeId(&quot;STRIPE&quot;)\r\n                    .build();\r\n    \r\n            mockMvc.perform(post(&quot;/order/add&quot;)\r\n                    .contentType(&quot;application/json&quot;))\r\n                    .andExpect(status().isOk());\r\n            ArgumentCaptor&lt;AddUpdateOrderEnter&gt; orderCaptor = ArgumentCaptor.forClass(AddUpdateOrderEnter.class);\r\n            verify(service, times(1)).addOrder(orderCaptor.capture());\r\n            assertThat(orderCaptor.getValue().getOrderId()).isEqualTo(1L);\r\n            assertThat(orderCaptor.getValue().getOrderType()).isEqualTo(1);\r\n    \r\n        }","title":"How to write an integration test in JAVA","body":"<p>What i've done is below:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebMvcTest(controllers = OrderControllerTest.class)\n\nclass OrderControllerTest {\n\n    @MockBean\n    private OrderService service;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n\n    @Test\n    void shouldAddNewOrder() throws Exception {\n        AddUpdateOrderEnter enter =  new OrderBuilder()\n                .orderId(1L)\n                .orderType(1)\n                .productId(2L)\n                .paymentTypeId(&quot;STRIPE&quot;)\n                .build();\n\n        mockMvc.perform(post(&quot;/order/add&quot;)\n                .contentType(&quot;application/json&quot;))\n                .andExpect(status().isOk());\n        ArgumentCaptor&lt;AddUpdateOrderEnter&gt; orderCaptor = ArgumentCaptor.forClass(AddUpdateOrderEnter.class);\n        verify(service, times(1)).addOrder(orderCaptor.capture());\n        assertThat(orderCaptor.getValue().getOrderId()).isEqualTo(1L);\n        assertThat(orderCaptor.getValue().getOrderType()).isEqualTo(1);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19186844,"reputation":1,"user_id":14017454,"display_name":"Asep Saputra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690358097,"creation_date":1690358097,"answer_id":76769102,"question_id":69882479,"body_markdown":"```java\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class OrderControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private OrderService orderService;\r\n\r\n    @Test\r\n    public void testAddOrder() throws Exception {\r\n        AddUpdateOrderEnter enter = new AddUpdateOrderEnter();\r\n        AddOrderResult expectedResult = new AddOrderResult();\r\n    \twhen(orderService.addOrder(any(AddUpdateOrderEnter.class))).thenReturn(expectedResult);\r\n\r\n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/add&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content())\r\n                .andReturn();\r\n\r\n        assertEquals(200, result.getResponse().getStatus());\r\n    }\r\n\r\n}\r\n```","title":"How to write an integration test in JAVA","body":"<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class OrderControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private OrderService orderService;\n\n    @Test\n    public void testAddOrder() throws Exception {\n        AddUpdateOrderEnter enter = new AddUpdateOrderEnter();\n        AddOrderResult expectedResult = new AddOrderResult();\n        when(orderService.addOrder(any(AddUpdateOrderEnter.class))).thenReturn(expectedResult);\n\n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/add&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content())\n                .andReturn();\n\n        assertEquals(200, result.getResponse().getStatus());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690358097,"creation_date":1636369548,"question_id":69882479,"body_markdown":"i&#39;m learning yet testing in java and i&#39;m trying to write an integration test for controller below: \r\n\r\n        public class OrderController {\r\n    \r\n        @Autowired\r\n        private OrderService orderService;\r\n    \r\n    \r\n        public OrderController(OrderService service) {\r\n            this.orderService = service;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/add&quot;)\r\n        @ApiOperation(value = &quot;Add&quot;, response = AddOrderResult.class)\r\n        public Response&lt;AddOrderResult&gt; add(@ModelAttribute AddUpdateOrderEnter enter) {\r\n            return new Response&lt;&gt;(orderService.addOrder(enter));\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/addOrderParts&quot;)\r\n        @ApiOperation(value = &quot;AddOrderParts&quot;, response = GeneralResult.class)\r\n        public Response&lt;GeneralResult&gt; AddOrderParts(@ModelAttribute @ApiParam(&quot;请求参数&quot;) AddOrderPartsEnter enter) {\r\n            return new Response&lt;&gt;(orderService.AddOrderParts(enter));\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/list&quot;)\r\n        @ApiOperation(value = &quot;Order List&quot;, response = OrderDetailsResult.class)\r\n        public Response&lt;List&lt;OrderDetailsResult&gt;&gt; list(@ModelAttribute @ApiParam(&quot;请求参数&quot;) GeneralEnter enter) {\r\n            return new Response&lt;&gt;(orderService.getOrderList(enter));\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/details&quot;)\r\n        @ApiOperation(value = &quot;Order Details&quot;, response = OrderDetailsResult.class)\r\n        public Response&lt;OrderDetailsResult&gt; details(@ModelAttribute @ApiParam(&quot;请求参数&quot;) IdEnter enter) {\r\n            return new Response&lt;&gt;(orderService.getOrderDetails(enter));\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/delete&quot;)\r\n        @ApiOperation(value = &quot;delete&quot;, response = GeneralResult.class)\r\n        public Response&lt;GeneralResult&gt; delete(@ModelAttribute IdEnter enter) {\r\n            return new Response&lt;&gt;(orderService.deleteOrder(enter));\r\n        }\r\n    }\r\n\r\nMy test file which i&#39;m stuck:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    class OrderControllerTest {\r\n    \r\n        @Autowired\r\n        private OrderService service;\r\n    \r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n    \r\n        @Test\r\n        void shouldAddNewOrder() throws Exception {\r\n        \r\n        }\r\n\r\nSo i want to have some example to how to test my controller in integration way. Thnks for helps :) \r\n","title":"How to write an integration test in JAVA","body":"<p>i'm learning yet testing in java and i'm trying to write an integration test for controller below:</p>\n<pre><code>    public class OrderController {\n\n    @Autowired\n    private OrderService orderService;\n\n\n    public OrderController(OrderService service) {\n        this.orderService = service;\n    }\n\n    @PostMapping(value = &quot;/add&quot;)\n    @ApiOperation(value = &quot;Add&quot;, response = AddOrderResult.class)\n    public Response&lt;AddOrderResult&gt; add(@ModelAttribute AddUpdateOrderEnter enter) {\n        return new Response&lt;&gt;(orderService.addOrder(enter));\n    }\n\n    @PostMapping(value = &quot;/addOrderParts&quot;)\n    @ApiOperation(value = &quot;AddOrderParts&quot;, response = GeneralResult.class)\n    public Response&lt;GeneralResult&gt; AddOrderParts(@ModelAttribute @ApiParam(&quot;请求参数&quot;) AddOrderPartsEnter enter) {\n        return new Response&lt;&gt;(orderService.AddOrderParts(enter));\n    }\n\n    @GetMapping(value = &quot;/list&quot;)\n    @ApiOperation(value = &quot;Order List&quot;, response = OrderDetailsResult.class)\n    public Response&lt;List&lt;OrderDetailsResult&gt;&gt; list(@ModelAttribute @ApiParam(&quot;请求参数&quot;) GeneralEnter enter) {\n        return new Response&lt;&gt;(orderService.getOrderList(enter));\n    }\n\n    @GetMapping(value = &quot;/details&quot;)\n    @ApiOperation(value = &quot;Order Details&quot;, response = OrderDetailsResult.class)\n    public Response&lt;OrderDetailsResult&gt; details(@ModelAttribute @ApiParam(&quot;请求参数&quot;) IdEnter enter) {\n        return new Response&lt;&gt;(orderService.getOrderDetails(enter));\n    }\n\n    @PostMapping(value = &quot;/delete&quot;)\n    @ApiOperation(value = &quot;delete&quot;, response = GeneralResult.class)\n    public Response&lt;GeneralResult&gt; delete(@ModelAttribute IdEnter enter) {\n        return new Response&lt;&gt;(orderService.deleteOrder(enter));\n    }\n}\n</code></pre>\n<p>My test file which i'm stuck:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\nclass OrderControllerTest {\n\n    @Autowired\n    private OrderService service;\n\n\n    private MockMvc mockMvc;\n\n\n    @Test\n    void shouldAddNewOrder() throws Exception {\n    \n    }\n</code></pre>\n<p>So i want to have some example to how to test my controller in integration way. Thnks for helps :)</p>\n"},{"tags":["java","class"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690357773,"creation_date":1690357094,"answer_id":76768982,"question_id":76768747,"body_markdown":"This is specified in the JLS ([&#167;9.3.1][1], [&#167;12.4.1][2]):\r\n\r\n&gt; **Initialization of Fields in Interfaces**\r\n&gt;\r\n&gt; At run time, the initializer is evaluated and the field assignment performed exactly once, when the interface is initialized.\r\n\r\n&gt; **When Initialization Occurs**\r\n&gt;\r\n&gt; When a class is initialized, its superclasses are initialized (if they have not been previously initialized), as well as any superinterfaces that declare any `default` methods (if they have not been previously initialized).\r\n\r\nIt specifically says &quot;superinterfaces that declare any `default` methods&quot; because those `default` methods can be called from the instance constructor:\r\n\r\n```\r\nclass Class implements Interface {\r\n    public static final Class INSTANCE = new Class();\r\n    Class() {\r\n        func(); // this default method could use the interface&#39;s static fields!\r\n    }\r\n}\r\n```\r\n\r\nAccording to the Detailed Initialisation Procedures found in the [next section][3], the interfaces are actually initialised before the field initialisers in the class are executed (See step 7 and step 9). \r\n\r\n&gt; 7. Next, if C is a class rather than an interface, then let SC be its superclass and let SI1, ..., SIn be all superinterfaces of C that\r\n&gt; declare at least one default method.\r\n&gt; \r\n&gt;     For each S in the list [ SC, SI1, ..., SIn ], if S has not yet been initialized, then recursively perform this entire procedure for S\r\n\r\n&gt; 9. Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\r\n&gt; in textual order, as though they were a single block.\r\n\r\nFurthermore, if the class is in the middle of being initialised, nothing should be done (see step 3).\r\n\r\n&gt; 3. If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.\r\n\r\nSo when you first access `Class.INSTANCE`, `Class` is initialised. In this process, `Interface` is first fully initialised (because it has a default method). At this point `Class.INSTANCE` is not initialised yet, hence assigning `null` to `INSTANCE`. Then, the field initialisers in `Class` gets executed.\r\n\r\nIf you first access `Interface.INSTANCE`, `Interface` gets initialised and its field initialisers run. The field initialiser for `Interface.INSTANCE` accesses `Class.INSTANCE` *for the first time*, and so causes the initialisation of `Class`. This causes `Class.INSTANCE` to be assigned a non-null value. Remember that we are still running the field initialisers of `Interface`! After the full initialisation of `Class`, `Interface.INSTANCE` gets the non-null value.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.1\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.2","title":"Strange Java Behavior Regarding Interfaces and Class Circular Dependency","body":"<p>This is specified in the JLS (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3.1\" rel=\"nofollow noreferrer\">§9.3.1</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">§12.4.1</a>):</p>\n<blockquote>\n<p><strong>Initialization of Fields in Interfaces</strong></p>\n<p>At run time, the initializer is evaluated and the field assignment performed exactly once, when the interface is initialized.</p>\n</blockquote>\n<blockquote>\n<p><strong>When Initialization Occurs</strong></p>\n<p>When a class is initialized, its superclasses are initialized (if they have not been previously initialized), as well as any superinterfaces that declare any <code>default</code> methods (if they have not been previously initialized).</p>\n</blockquote>\n<p>It specifically says &quot;superinterfaces that declare any <code>default</code> methods&quot; because those <code>default</code> methods can be called from the instance constructor:</p>\n<pre><code>class Class implements Interface {\n    public static final Class INSTANCE = new Class();\n    Class() {\n        func(); // this default method could use the interface's static fields!\n    }\n}\n</code></pre>\n<p>According to the Detailed Initialisation Procedures found in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">next section</a>, the interfaces are actually initialised before the field initialisers in the class are executed (See step 7 and step 9).</p>\n<blockquote>\n<ol start=\"7\">\n<li><p>Next, if C is a class rather than an interface, then let SC be its superclass and let SI1, ..., SIn be all superinterfaces of C that\ndeclare at least one default method.</p>\n<p>For each S in the list [ SC, SI1, ..., SIn ], if S has not yet been initialized, then recursively perform this entire procedure for S</p>\n</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"9\">\n<li>Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\nin textual order, as though they were a single block.</li>\n</ol>\n</blockquote>\n<p>Furthermore, if the class is in the middle of being initialised, nothing should be done (see step 3).</p>\n<blockquote>\n<ol start=\"3\">\n<li>If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.</li>\n</ol>\n</blockquote>\n<p>So when you first access <code>Class.INSTANCE</code>, <code>Class</code> is initialised. In this process, <code>Interface</code> is first fully initialised (because it has a default method). At this point <code>Class.INSTANCE</code> is not initialised yet, hence assigning <code>null</code> to <code>INSTANCE</code>. Then, the field initialisers in <code>Class</code> gets executed.</p>\n<p>If you first access <code>Interface.INSTANCE</code>, <code>Interface</code> gets initialised and its field initialisers run. The field initialiser for <code>Interface.INSTANCE</code> accesses <code>Class.INSTANCE</code> <em>for the first time</em>, and so causes the initialisation of <code>Class</code>. This causes <code>Class.INSTANCE</code> to be assigned a non-null value. Remember that we are still running the field initialisers of <code>Interface</code>! After the full initialisation of <code>Class</code>, <code>Interface.INSTANCE</code> gets the non-null value.</p>\n"}],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76768982,"answer_count":1,"score":3,"last_activity_date":1690357773,"creation_date":1690355038,"question_id":76768747,"body_markdown":"I have the following code:\r\n```java\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Class.INSTANCE = &quot; + Class.INSTANCE);\r\n\t\tSystem.out.println(&quot;Interface.INSTANCE = &quot; + Interface.INSTANCE);\r\n\t}\r\n}\r\n\r\ninterface Interface {\r\n\tInterface INSTANCE = Class.INSTANCE;\r\n\r\n\tdefault void func() { }\r\n}\r\n\r\nclass Class implements Interface {\r\n\tpublic static final Class INSTANCE = new Class();\r\n}\r\n```\r\n\r\nI run it using Java 17.0.7, `java Main.java` I get:\r\n```\r\nClass.INSTANCE = Class@5579bb86\r\nInterface.INSTANCE = null\r\n```\r\nIt looks like the `Interface.INSTANCE` is not initialized properly.\r\nIf I swap two printlns, I get the expected result:\r\n```\r\nInterface.INSTANCE = Class@5579bb86\r\nClass.INSTANCE = Class@5579bb86\r\n```\r\nAlso If I remove the default method in `Interface` (from the first code snippet) everything works fine as well and no null is printed.\r\n\r\nWhat is happening here? More specifically I have three questions:\r\n\r\n1. Why does the first code snippet prints null?\r\n2. Why don&#39;t the second and third code snippet print null?\r\n\r\nI know it probably has something to do with circular dependencies, but I want to know what happens exactly at the JVM level.\r\n\r\nP.S. Question title suggestions are welcome","title":"Strange Java Behavior Regarding Interfaces and Class Circular Dependency","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Class.INSTANCE = &quot; + Class.INSTANCE);\n        System.out.println(&quot;Interface.INSTANCE = &quot; + Interface.INSTANCE);\n    }\n}\n\ninterface Interface {\n    Interface INSTANCE = Class.INSTANCE;\n\n    default void func() { }\n}\n\nclass Class implements Interface {\n    public static final Class INSTANCE = new Class();\n}\n</code></pre>\n<p>I run it using Java 17.0.7, <code>java Main.java</code> I get:</p>\n<pre><code>Class.INSTANCE = Class@5579bb86\nInterface.INSTANCE = null\n</code></pre>\n<p>It looks like the <code>Interface.INSTANCE</code> is not initialized properly.\nIf I swap two printlns, I get the expected result:</p>\n<pre><code>Interface.INSTANCE = Class@5579bb86\nClass.INSTANCE = Class@5579bb86\n</code></pre>\n<p>Also If I remove the default method in <code>Interface</code> (from the first code snippet) everything works fine as well and no null is printed.</p>\n<p>What is happening here? More specifically I have three questions:</p>\n<ol>\n<li>Why does the first code snippet prints null?</li>\n<li>Why don't the second and third code snippet print null?</li>\n</ol>\n<p>I know it probably has something to do with circular dependencies, but I want to know what happens exactly at the JVM level.</p>\n<p>P.S. Question title suggestions are welcome</p>\n"},{"tags":["java","jackson","spring-cloud-feign","feign","openfeign"],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690357289,"creation_date":1690132905,"question_id":76749504,"body_markdown":"I&#39;m looking to find a way to retrieve the original response caused by an Exception that has been thrown inside a microservice called as a RemoteService through FeignClient.\r\n\r\nIn the microservice &quot;Maps&quot; I expose an API to find a location by id:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/location&quot;)\r\n    public class LocationRestController {\r\n    \r\n    \tprivate final LocationService locationService;\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody LocationDto findById(@PathVariable Long id) throws FunctionalException {\r\n    \t\treturn locationService.findByIdToDto(id);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe API will return a LocationDto if found, otherwise, it will throw a FunctionalException that it will be handled by the RestControllerAdvice in order to return an ExceptionResponse :\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionRestController {\r\n    \r\n    \t@ResponseBody\r\n    \t@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    \t@ExceptionHandler(value = { FunctionalException.class })\r\n    \tpublic ExceptionResponse handleFunctionalException(FunctionalException exception) {\r\n    \t\treturn new ExceptionResponse(exception, Map.of(&quot;uniqueIdentifier&quot;, exception.getUniqueIdentifier()));\r\n    \t}\r\n    \r\n    \t@ResponseBody\r\n    \t@ExceptionHandler(Exception.class)\r\n    \t@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    \tpublic ExceptionResponse handleAllUncaughtException(Exception exception) {\r\n    \t\treturn new ExceptionResponse(exception);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe ExceptionResponse is:\r\n\r\n    @Log4j2\r\n    @Data\r\n    public class ExceptionResponse {\r\n    \r\n\t    @JsonProperty\r\n\t    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n\t    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n\t    private final LocalDateTime timestamp;\r\n\r\n\t    @JsonProperty\r\n\t    private final String status;\r\n\r\n\t    @JsonProperty\r\n\t    private final String error;\r\n\r\n\t    @JsonProperty\r\n\t    private String uniqueIdentifier = &quot;&quot;;\r\n\t\r\n\t    @JsonProperty\r\n\t    private final String message;\r\n\r\n\t    @JsonProperty\r\n\t    private final String stackTrace;\r\n    \t\r\n    \tpublic ExceptionResponse(Exception exception) {\r\n    \t\ttimestamp = LocalDateTime.now();\r\n    \t\tstatus = String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n    \t\terror = HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase();\r\n    \t\tmessage = exception.getMessage();\r\n    \t\tstackTrace = ExceptionUtils.getStackTrace(exception);\r\n    \t\tlog.error(stackTrace);\r\n    \t}\r\n    \t\r\n    \tpublic ExceptionResponse(Exception exception, Map&lt;String, String&gt; fieldValue) {\r\n    \t\ttimestamp = LocalDateTime.now();\r\n    \t\tstatus = fieldValue.getOrDefault(&quot;status&quot;, String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value()));\r\n    \t\terror = fieldValue.getOrDefault(&quot;error&quot;, HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase());\r\n    \t\tuniqueIdentifier = fieldValue.getOrDefault(&quot;uniqueIdentifier&quot;, &quot;&quot;);\r\n    \t\tmessage = fieldValue.getOrDefault(&quot;message&quot;, exception.getMessage());\r\n    \t\tstackTrace = ExceptionUtils.getStackTrace(exception);\r\n    \t\tlog.error(stackTrace);\r\n    \t}\r\n\r\n\t    @JsonCreator\r\n\t    public ExceptionResponse(LocalDateTime timestamp, String status, String error, String uniqueIdentifier,\r\n\t\t\t    String message, String stackTrace) {\r\n\t\t    this.timestamp = timestamp;\r\n\t\t    this.status = status;\r\n\t\t    this.error = error;\r\n\t\t    this.uniqueIdentifier = uniqueIdentifier;\r\n\t\t    this.message = message;\r\n\t\t    this.stackTrace = stackTrace;\r\n\t    }\r\n    \r\n    }\r\n\r\nIn the microservice &quot;Supermarket&quot; I have to call the exposed API of microservice &quot;Maps&quot; using OpenFeign:\r\n\r\n\r\n    @FeignClient(name = &quot;mapsClient&quot;, url = &quot;http://localhost:9888&quot;, configuration = ClientConfiguration.class)\r\n    public interface MapsRemoteService {\r\n    \r\n    \t@GetMapping(value = &quot;/api/location/{id}&quot;)\r\n    \tLocationDto findLocationById(@PathVariable(&quot;id&quot;) Long id);\r\n    \r\n    }\r\n\r\nNow, when calling this MapsRemoteService.findLocationById(id) with an id not present in DB, I would like to retrieve the ExceptionResponse\r\n\r\nSo I tried by creating an ErrorDecoder:\r\n\r\nClientConfiguration:\r\n\r\n    @Configuration\r\n    public class ClientConfiguration {\r\n    \r\n    \t@Bean\r\n    \tpublic OkHttpClient client() {\r\n    \t\treturn new OkHttpClient();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tLogger.Level feignLoggerLevel() {\r\n    \t\treturn Logger.Level.FULL;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic ErrorDecoder errorDecoder() {\r\n    \t    return new ClientErrorDecoder();\r\n    \t}\r\n    \r\n    }\r\n\r\nErrorDecoder: \r\n\r\n    public class ClientErrorDecoder implements ErrorDecoder {\r\n    \r\n        @Override\r\n        public Exception decode(String methodKey, Response response) {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            RemoteServiceException remoteServiceException = null;\r\n            \r\n            // Attempt 1\r\n            try (InputStream inputStream = response.body().asInputStream())  {\r\n            \tExceptionResponse exceptionResponse = mapper.readValue(inputStream, ExceptionResponse.class);\r\n            \tremoteServiceException = buildRemoteServiceException(exceptionResponse);\r\n            } catch (IOException e) {\r\n\r\n    \t\t}\r\n            \r\n            // Attempt 2\r\n            try (Reader reader = response.body().asReader())  {\r\n            \tExceptionResponse exceptionResponse = mapper.readValue(reader, ExceptionResponse.class);\r\n            \tremoteServiceException = buildRemoteServiceException(exceptionResponse);\r\n            } catch (IOException e) {\r\n\r\n    \t\t}\r\n            \r\n            // Attempt 3\r\n            try {\r\n            \tString body = response.body().toString();\r\n            \tExceptionResponse exceptionResponse = mapper.readValue(body, ExceptionResponse.class);\r\n            \tremoteServiceException = buildRemoteServiceException(exceptionResponse);\r\n            } catch (IOException e) {\r\n\r\n    \t\t}\r\n            \r\n            if(remoteServiceException == null){\r\n                return new ErrorDecoder.Default().decode(methodKey, response);\r\n            }\r\n\r\n            return remoteServiceException;\r\n        }\r\n        \r\n        private static RemoteServiceException buildRemoteServiceException(ExceptionResponse exceptionResponse) {\r\n        \treturn new RemoteServiceException(exceptionResponse.getMessage(), exceptionResponse.getUniqueIdentifier());\r\n        }\r\n    \r\n    }\r\n\r\nI tried everything I found on the internet, but nothing works.\r\n\r\nThe strange thing is that I saved the inputStream as a temporaryFile into the resource folder. and it is correct.\r\n\r\nI used this code to write the file:\r\n\r\n    try (InputStream inputStream = response.body().asInputStream())  {\r\n        File targetFile = new File(&quot;src/main/resources/targetFile.tmp&quot;);\r\n    \r\n        java.nio.file.Files.copy(\r\n                  inputStream, \r\n                  targetFile.toPath(), \r\n                  StandardCopyOption.REPLACE_EXISTING);\r\n    \r\n        IOUtils.closeQuietly(inputStream);\r\n    } catch (IOException e) {\r\n        // return new ErrorDecoder.Default().decode(methodKey, response);\r\n    }\r\n\r\nand this is the content of the file:\r\n\r\n    {\r\n    \t&quot;timestamp&quot;:&quot;2023-07-25T22:38:48.530815&quot;,\r\n    \t&quot;status&quot;:&quot;500&quot;,\r\n    \t&quot;error&quot;:&quot;Internal Server Error&quot;,\r\n    \t&quot;uniqueIdentifier&quot;:&quot;bc4bd3ae-2d40-4863-9e9f-6b10ecece27d&quot;,\r\n    \t&quot;message&quot;:&quot;No Location found with the id: 10&quot;,\r\n    \t&quot;stackTrace&quot;:&quot;7711 characters avoided for readability&quot;\r\n    }\r\n\r\nand it represents perfectly the class ExceptionResponse with the 6 fields.\r\n\r\nSo it seems there is an issue while using &lt;br&gt;\r\n\r\n    mapper.readValue(inputStream, ExceptionResponse.class);","title":"Openfeign ErrorDecoder how to retrieve the original message?","body":"<p>I'm looking to find a way to retrieve the original response caused by an Exception that has been thrown inside a microservice called as a RemoteService through FeignClient.</p>\n<p>In the microservice &quot;Maps&quot; I expose an API to find a location by id:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/location&quot;)\npublic class LocationRestController {\n\n    private final LocationService locationService;\n\n    @GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody LocationDto findById(@PathVariable Long id) throws FunctionalException {\n        return locationService.findByIdToDto(id);\n    }\n\n}\n</code></pre>\n<p>The API will return a LocationDto if found, otherwise, it will throw a FunctionalException that it will be handled by the RestControllerAdvice in order to return an ExceptionResponse :</p>\n<pre><code>@RestControllerAdvice\npublic class ExceptionRestController {\n\n    @ResponseBody\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(value = { FunctionalException.class })\n    public ExceptionResponse handleFunctionalException(FunctionalException exception) {\n        return new ExceptionResponse(exception, Map.of(&quot;uniqueIdentifier&quot;, exception.getUniqueIdentifier()));\n    }\n\n    @ResponseBody\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ExceptionResponse handleAllUncaughtException(Exception exception) {\n        return new ExceptionResponse(exception);\n    }\n\n}\n</code></pre>\n<p>The ExceptionResponse is:</p>\n<pre><code>@Log4j2\n@Data\npublic class ExceptionResponse {\n\n    @JsonProperty\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    private final LocalDateTime timestamp;\n\n    @JsonProperty\n    private final String status;\n\n    @JsonProperty\n    private final String error;\n\n    @JsonProperty\n    private String uniqueIdentifier = &quot;&quot;;\n\n    @JsonProperty\n    private final String message;\n\n    @JsonProperty\n    private final String stackTrace;\n    \n    public ExceptionResponse(Exception exception) {\n        timestamp = LocalDateTime.now();\n        status = String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value());\n        error = HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase();\n        message = exception.getMessage();\n        stackTrace = ExceptionUtils.getStackTrace(exception);\n        log.error(stackTrace);\n    }\n    \n    public ExceptionResponse(Exception exception, Map&lt;String, String&gt; fieldValue) {\n        timestamp = LocalDateTime.now();\n        status = fieldValue.getOrDefault(&quot;status&quot;, String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value()));\n        error = fieldValue.getOrDefault(&quot;error&quot;, HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase());\n        uniqueIdentifier = fieldValue.getOrDefault(&quot;uniqueIdentifier&quot;, &quot;&quot;);\n        message = fieldValue.getOrDefault(&quot;message&quot;, exception.getMessage());\n        stackTrace = ExceptionUtils.getStackTrace(exception);\n        log.error(stackTrace);\n    }\n\n    @JsonCreator\n    public ExceptionResponse(LocalDateTime timestamp, String status, String error, String uniqueIdentifier,\n            String message, String stackTrace) {\n        this.timestamp = timestamp;\n        this.status = status;\n        this.error = error;\n        this.uniqueIdentifier = uniqueIdentifier;\n        this.message = message;\n        this.stackTrace = stackTrace;\n    }\n\n}\n</code></pre>\n<p>In the microservice &quot;Supermarket&quot; I have to call the exposed API of microservice &quot;Maps&quot; using OpenFeign:</p>\n<pre><code>@FeignClient(name = &quot;mapsClient&quot;, url = &quot;http://localhost:9888&quot;, configuration = ClientConfiguration.class)\npublic interface MapsRemoteService {\n\n    @GetMapping(value = &quot;/api/location/{id}&quot;)\n    LocationDto findLocationById(@PathVariable(&quot;id&quot;) Long id);\n\n}\n</code></pre>\n<p>Now, when calling this MapsRemoteService.findLocationById(id) with an id not present in DB, I would like to retrieve the ExceptionResponse</p>\n<p>So I tried by creating an ErrorDecoder:</p>\n<p>ClientConfiguration:</p>\n<pre><code>@Configuration\npublic class ClientConfiguration {\n\n    @Bean\n    public OkHttpClient client() {\n        return new OkHttpClient();\n    }\n\n    @Bean\n    Logger.Level feignLoggerLevel() {\n        return Logger.Level.FULL;\n    }\n    \n    @Bean\n    public ErrorDecoder errorDecoder() {\n        return new ClientErrorDecoder();\n    }\n\n}\n</code></pre>\n<p>ErrorDecoder:</p>\n<pre><code>public class ClientErrorDecoder implements ErrorDecoder {\n\n    @Override\n    public Exception decode(String methodKey, Response response) {\n        ObjectMapper mapper = new ObjectMapper();\n        RemoteServiceException remoteServiceException = null;\n        \n        // Attempt 1\n        try (InputStream inputStream = response.body().asInputStream())  {\n            ExceptionResponse exceptionResponse = mapper.readValue(inputStream, ExceptionResponse.class);\n            remoteServiceException = buildRemoteServiceException(exceptionResponse);\n        } catch (IOException e) {\n\n        }\n        \n        // Attempt 2\n        try (Reader reader = response.body().asReader())  {\n            ExceptionResponse exceptionResponse = mapper.readValue(reader, ExceptionResponse.class);\n            remoteServiceException = buildRemoteServiceException(exceptionResponse);\n        } catch (IOException e) {\n\n        }\n        \n        // Attempt 3\n        try {\n            String body = response.body().toString();\n            ExceptionResponse exceptionResponse = mapper.readValue(body, ExceptionResponse.class);\n            remoteServiceException = buildRemoteServiceException(exceptionResponse);\n        } catch (IOException e) {\n\n        }\n        \n        if(remoteServiceException == null){\n            return new ErrorDecoder.Default().decode(methodKey, response);\n        }\n\n        return remoteServiceException;\n    }\n    \n    private static RemoteServiceException buildRemoteServiceException(ExceptionResponse exceptionResponse) {\n        return new RemoteServiceException(exceptionResponse.getMessage(), exceptionResponse.getUniqueIdentifier());\n    }\n\n}\n</code></pre>\n<p>I tried everything I found on the internet, but nothing works.</p>\n<p>The strange thing is that I saved the inputStream as a temporaryFile into the resource folder. and it is correct.</p>\n<p>I used this code to write the file:</p>\n<pre><code>try (InputStream inputStream = response.body().asInputStream())  {\n    File targetFile = new File(&quot;src/main/resources/targetFile.tmp&quot;);\n\n    java.nio.file.Files.copy(\n              inputStream, \n              targetFile.toPath(), \n              StandardCopyOption.REPLACE_EXISTING);\n\n    IOUtils.closeQuietly(inputStream);\n} catch (IOException e) {\n    // return new ErrorDecoder.Default().decode(methodKey, response);\n}\n</code></pre>\n<p>and this is the content of the file:</p>\n<pre><code>{\n    &quot;timestamp&quot;:&quot;2023-07-25T22:38:48.530815&quot;,\n    &quot;status&quot;:&quot;500&quot;,\n    &quot;error&quot;:&quot;Internal Server Error&quot;,\n    &quot;uniqueIdentifier&quot;:&quot;bc4bd3ae-2d40-4863-9e9f-6b10ecece27d&quot;,\n    &quot;message&quot;:&quot;No Location found with the id: 10&quot;,\n    &quot;stackTrace&quot;:&quot;7711 characters avoided for readability&quot;\n}\n</code></pre>\n<p>and it represents perfectly the class ExceptionResponse with the 6 fields.</p>\n<p>So it seems there is an issue while using <br></p>\n<pre><code>mapper.readValue(inputStream, ExceptionResponse.class);\n</code></pre>\n"},{"tags":["java","db2","apache-kafka-connect","debezium","change-data-capture"],"owner":{"account_id":29092965,"reputation":11,"user_id":22286389,"display_name":"George Bernard Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690356783,"creation_date":1690356783,"question_id":76768945,"body_markdown":"I have a local instance of a kafka connect cluster. I am trying to replicate data from a DB2(v11.5.8.0) database. I am using debezium connector(v2.2.1) to capture a table in DB2 that contains a column with an XML data type. Based on the [documentation](https://debezium.io/documentation/reference/2.3/connectors/db2.html#db2-basic-types), if I am correct, xml data type of db2 should be automatically changed into a string data type. However once I start my connector, during the initial snapshot phase, I get this logs:\r\n\r\n&gt; kafka-connect    | \\[2023-07-26 02:40:06,642\\] WARN Unexpected JDBC type &#39;1111&#39; for column &#39;DATA&#39; that will be ignored (io.debezium.relational.TableSchemaBuilder)\r\n&gt;\r\n&gt; kafka-connect    | \\[2023-07-26 02:40:06,643\\] WARN No converter found for column DB2INST1.TEST_XML.DATA of type XML. The column will not be part of change events for that table. (io.debezium.relational.TableSchemaBuilder)\r\n\r\nI have tried to use custom converters, with the following code:\r\n\r\n```\r\npublic class XmlConverter implements CustomConverter&lt;SchemaBuilder, RelationalColumn&gt; {\r\n\r\n    private SchemaBuilder xmlSchema;\r\n\r\n    @Override\r\n    public void configure(Properties props) {\r\n        xmlSchema = SchemaBuilder.string().name(props.getProperty(&quot;schema.name&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void converterFor(RelationalColumn column,\r\n        ConverterRegistration&lt;SchemaBuilder&gt; registration) {\r\n\r\n        if (&quot;xml&quot;.equalsIgnoreCase(column.typeName())) {\r\n            registration.register(xmlSchema, x -&gt; x.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThere are no warning logs anymore however, the data that I am getting is this &quot;com.ibm.db2.jcc.am.dc@413116b6&quot;. Which is if I am correct, is a string representation of an object in java. I don&#39;t know why it is like that but I think It should have been the xml data instead.","title":"Kafka Connect&#39;s Debezium Connector for DB2 not capturing column with XML data type","body":"<p>I have a local instance of a kafka connect cluster. I am trying to replicate data from a DB2(v11.5.8.0) database. I am using debezium connector(v2.2.1) to capture a table in DB2 that contains a column with an XML data type. Based on the <a href=\"https://debezium.io/documentation/reference/2.3/connectors/db2.html#db2-basic-types\" rel=\"nofollow noreferrer\">documentation</a>, if I am correct, xml data type of db2 should be automatically changed into a string data type. However once I start my connector, during the initial snapshot phase, I get this logs:</p>\n<blockquote>\n<p>kafka-connect    | [2023-07-26 02:40:06,642] WARN Unexpected JDBC type '1111' for column 'DATA' that will be ignored (io.debezium.relational.TableSchemaBuilder)</p>\n<p>kafka-connect    | [2023-07-26 02:40:06,643] WARN No converter found for column DB2INST1.TEST_XML.DATA of type XML. The column will not be part of change events for that table. (io.debezium.relational.TableSchemaBuilder)</p>\n</blockquote>\n<p>I have tried to use custom converters, with the following code:</p>\n<pre><code>public class XmlConverter implements CustomConverter&lt;SchemaBuilder, RelationalColumn&gt; {\n\n    private SchemaBuilder xmlSchema;\n\n    @Override\n    public void configure(Properties props) {\n        xmlSchema = SchemaBuilder.string().name(props.getProperty(&quot;schema.name&quot;));\n    }\n\n    @Override\n    public void converterFor(RelationalColumn column,\n        ConverterRegistration&lt;SchemaBuilder&gt; registration) {\n\n        if (&quot;xml&quot;.equalsIgnoreCase(column.typeName())) {\n            registration.register(xmlSchema, x -&gt; x.toString());\n        }\n    }\n}\n</code></pre>\n<p>There are no warning logs anymore however, the data that I am getting is this &quot;com.ibm.db2.jcc.am.dc@413116b6&quot;. Which is if I am correct, is a string representation of an object in java. I don't know why it is like that but I think It should have been the xml data instead.</p>\n"},{"tags":["java","selenium-webdriver","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690356399,"creation_date":1690191013,"answer_id":76753106,"question_id":76751953,"body_markdown":"You need to go into browser contexts, extract list of pages (joining into one list) and find a page, which containing url.\r\n\r\nFor example, this code do something like this\r\n\r\n\r\n    List&lt;Page&gt; result = new ArrayList&lt;&gt;();\r\n    browser.contexts().stream()\r\n                        .map(BrowserContext::pages)\r\n                        .forEach(result::addAll);\r\n    result.stream()\r\n          .filter(p -&gt; p.url().contains(&quot;/home&quot;))\r\n          .findFirst()\r\n          .ifPresent(Page::close);\r\n\r\nExample how to close page and context\r\n\r\n    public Optional&lt;Page&gt; containsUrl(List&lt;Page&gt; pages, String urlPart) {\r\n            return pages.stream().filter(p -&gt; p.url().contains(urlPart)).findFirst();\r\n    }\r\n\r\n    ...\r\n\r\n    browser.contexts().stream().filter(browserContext -&gt; containsUrl(browserContext.pages(), &quot;/home&quot;).isPresent())\r\n                            .findAny().ifPresent(BrowserContext::close);\r\n\r\n\r\nor less nice solution\r\n\r\n    //in test\r\n    withoutContext(browser, &quot;/home&quot;);\r\n\r\n    // somewhere in TestRunner or BaseTest\r\n    public void withoutContext(Browser browser, String urlPart) {\r\n     for (BrowserContext context: browser.contexts()) {\r\n      for(Page contextPage: context.pages()) {\r\n        if (contextPage.url().contains(urlPart)) {\r\n            context.close();\r\n            break;\r\n        }\r\n      }\r\n     }\r\n    }\r\n","title":"close browser context","body":"<p>You need to go into browser contexts, extract list of pages (joining into one list) and find a page, which containing url.</p>\n<p>For example, this code do something like this</p>\n<pre><code>List&lt;Page&gt; result = new ArrayList&lt;&gt;();\nbrowser.contexts().stream()\n                    .map(BrowserContext::pages)\n                    .forEach(result::addAll);\nresult.stream()\n      .filter(p -&gt; p.url().contains(&quot;/home&quot;))\n      .findFirst()\n      .ifPresent(Page::close);\n</code></pre>\n<p>Example how to close page and context</p>\n<pre><code>public Optional&lt;Page&gt; containsUrl(List&lt;Page&gt; pages, String urlPart) {\n        return pages.stream().filter(p -&gt; p.url().contains(urlPart)).findFirst();\n}\n\n...\n\nbrowser.contexts().stream().filter(browserContext -&gt; containsUrl(browserContext.pages(), &quot;/home&quot;).isPresent())\n                        .findAny().ifPresent(BrowserContext::close);\n</code></pre>\n<p>or less nice solution</p>\n<pre><code>//in test\nwithoutContext(browser, &quot;/home&quot;);\n\n// somewhere in TestRunner or BaseTest\npublic void withoutContext(Browser browser, String urlPart) {\n for (BrowserContext context: browser.contexts()) {\n  for(Page contextPage: context.pages()) {\n    if (contextPage.url().contains(urlPart)) {\n        context.close();\n        break;\n    }\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":14407711,"reputation":91,"user_id":10407342,"display_name":"goney225"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690356399,"creation_date":1690180703,"question_id":76751953,"body_markdown":"I am using playwright and Java. On test level I have\r\n\r\n    List&lt;BrowserContext&gt; browserContexts = browser.contexts();\r\n    browserContexts.get(1).close();\r\nIn debug mode I have two browsers context with a difference at the url name. Now I want to prepare a method which returns int for particular url which I need to used in this test. So this method I can put in \r\n\r\n    browserContexts.get(nameOfThisMethod).close();\r\nUrl name which I want to close has &quot;/home&quot; in name. I don&#39;t know how to write this method which will include steps to identify url which contains /home. Can someone help?","title":"close browser context","body":"<p>I am using playwright and Java. On test level I have</p>\n<pre><code>List&lt;BrowserContext&gt; browserContexts = browser.contexts();\nbrowserContexts.get(1).close();\n</code></pre>\n<p>In debug mode I have two browsers context with a difference at the url name. Now I want to prepare a method which returns int for particular url which I need to used in this test. So this method I can put in</p>\n<pre><code>browserContexts.get(nameOfThisMethod).close();\n</code></pre>\n<p>Url name which I want to close has &quot;/home&quot; in name. I don't know how to write this method which will include steps to identify url which contains /home. Can someone help?</p>\n"},{"tags":["java","exception","unhandled"],"answers":[{"tags":[],"owner":{"account_id":1650142,"reputation":9010,"user_id":1520907,"accept_rate":100,"display_name":"user123"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1421001632,"creation_date":1421001309,"answer_id":27890631,"question_id":27890597,"body_markdown":"What do you mean &quot;return&quot; an exception? When an exception is thrown, it bubbles up the call stack.\r\n\r\nYou are not handling it in this case. It reaches `main` and thus you have an unhandled exception.\r\n\r\nIf you want to handle an exception, you&#39;d use a `try-catch` block. Preferably surrounding `main` in this case.\r\n\r\n    try {\r\n        // Code that might throw\r\n        // an exception.\r\n    } catch (Exception e) {\r\n        // Handle it.\r\n    }\r\n\r\nAnother solution would be to specify that `main` throws a &quot;`RandomWeirdException`&quot;, and not `catch` it in the first place.\r\n\r\n    public static void main(String[] args) throws RandomWeirdException { ... }\r\n\r\nIt&#39;s preferable to just let functions `throw`, unless you can reasonably handle the exceptional case.\r\nIf you just `catch` for the sake of catching without doing anything meaningful in an exceptional case, it&#39;s the equivalent of hiding an error sometimes.","title":"Unhandled Exception in Java","body":"<p>What do you mean \"return\" an exception? When an exception is thrown, it bubbles up the call stack.</p>\n\n<p>You are not handling it in this case. It reaches <code>main</code> and thus you have an unhandled exception.</p>\n\n<p>If you want to handle an exception, you'd use a <code>try-catch</code> block. Preferably surrounding <code>main</code> in this case.</p>\n\n<pre><code>try {\n    // Code that might throw\n    // an exception.\n} catch (Exception e) {\n    // Handle it.\n}\n</code></pre>\n\n<p>Another solution would be to specify that <code>main</code> throws a \"<code>RandomWeirdException</code>\", and not <code>catch</code> it in the first place.</p>\n\n<pre><code>public static void main(String[] args) throws RandomWeirdException { ... }\n</code></pre>\n\n<p>It's preferable to just let functions <code>throw</code>, unless you can reasonably handle the exceptional case.\nIf you just <code>catch</code> for the sake of catching without doing anything meaningful in an exceptional case, it's the equivalent of hiding an error sometimes.</p>\n"},{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421001495,"creation_date":1421001495,"answer_id":27890658,"question_id":27890597,"body_markdown":"You are using the `execute` method, without creating a try-catch block for the `RandomWiredException` which it declares that it is throwing. Java required all checked exceptions (that extend `Exception`) to be properly handled by the caller - either with a try-catch block, or by adding `throws` to the calling method (in this case, it is `main`, though, so it shouldn&#39;t have a `throws` clause).\r\n\r\nSo the proper way to do it is like:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            double x=Math.random();\r\n            operation op=new operation();\r\n            try {\r\n                op.execute(x);\r\n            } catch ( RandomWiredException e ) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n        }\r\n    }\r\n\r\nThe actual code in the catch clause is up to your application&#39;s requirements, of course.\r\n\r\nNote: use uppercase initial letter when you name classes. This is one of the Java styling conventions that will improve your code readability.","title":"Unhandled Exception in Java","body":"<p>You are using the <code>execute</code> method, without creating a try-catch block for the <code>RandomWiredException</code> which it declares that it is throwing. Java required all checked exceptions (that extend <code>Exception</code>) to be properly handled by the caller - either with a try-catch block, or by adding <code>throws</code> to the calling method (in this case, it is <code>main</code>, though, so it shouldn't have a <code>throws</code> clause).</p>\n\n<p>So the proper way to do it is like:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        double x=Math.random();\n        operation op=new operation();\n        try {\n            op.execute(x);\n        } catch ( RandomWiredException e ) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n}\n</code></pre>\n\n<p>The actual code in the catch clause is up to your application's requirements, of course.</p>\n\n<p>Note: use uppercase initial letter when you name classes. This is one of the Java styling conventions that will improve your code readability.</p>\n"},{"tags":[],"owner":{"account_id":28942884,"reputation":1,"user_id":22169096,"display_name":"Ayush Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690356372,"creation_date":1690356372,"answer_id":76768892,"question_id":27890597,"body_markdown":"Write **throws Exception** after public static void main(String[] args), then it will work well.\r\n\r\n    public class Main {\r\n      public static void main(String[] args) throws Exception {\r\n        //Your code here\r\n      }\r\n    }","title":"Unhandled Exception in Java","body":"<p>Write <strong>throws Exception</strong> after public static void main(String[] args), then it will work well.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) throws Exception {\n    //Your code here\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5334520,"reputation":527,"user_id":4254033,"accept_rate":63,"display_name":"skulpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73120,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":27890631,"answer_count":3,"score":8,"last_activity_date":1690356372,"creation_date":1421001124,"question_id":27890597,"body_markdown":"I&#39;m currently in the process of learning how to properly do custom exception and I stumbled upon a problem. Whenever I try to utilize an object of a class that throws this custom exception, my IDE&#39;s debugger (I&#39;m using IntelliJ idea) says &quot;Unhandled Exception: InsertExceptionName()&quot;. The code, in a simplified manner, looks something like this. In this case, it should return an exception if the randomly generated number is &lt;0.5, and return a number otherwise, but it won&#39;t do that.\r\nWhat am I missing?\r\n\r\n\r\n\r\n\r\n    public class main {\r\n        public static void main(String[] args) {\r\n            double x=Math.random();\r\n            operation op=new operation();\r\n            op.execute(x);\r\n       }\r\n    }\r\n\r\n-\r\n\r\n    public class operation {\r\n        public operation() {\r\n        }\r\n\r\n        public double execute(double x) throws RandomWeirdException {\r\n            if(x&lt;0.5) {\r\n                throw new RandomWeirdException(&quot;&lt;0.5&quot;);\r\n            }\r\n            return x;\r\n        }\r\n    }\r\n\r\n-\r\n\r\n    public class RandomWeirdException extends Exception{\r\n        public RandomWeirdException() {\r\n            super();\r\n        }\r\n        public RandomWeirdException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n","title":"Unhandled Exception in Java","body":"<p>I'm currently in the process of learning how to properly do custom exception and I stumbled upon a problem. Whenever I try to utilize an object of a class that throws this custom exception, my IDE's debugger (I'm using IntelliJ idea) says \"Unhandled Exception: InsertExceptionName()\". The code, in a simplified manner, looks something like this. In this case, it should return an exception if the randomly generated number is &lt;0.5, and return a number otherwise, but it won't do that.\nWhat am I missing?</p>\n\n<pre><code>public class main {\n    public static void main(String[] args) {\n        double x=Math.random();\n        operation op=new operation();\n        op.execute(x);\n   }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>public class operation {\n    public operation() {\n    }\n\n    public double execute(double x) throws RandomWeirdException {\n        if(x&lt;0.5) {\n            throw new RandomWeirdException(\"&lt;0.5\");\n        }\n        return x;\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>public class RandomWeirdException extends Exception{\n    public RandomWeirdException() {\n        super();\n    }\n    public RandomWeirdException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle"],"owner":{"account_id":29093161,"reputation":1,"user_id":22286551,"display_name":"Ravikumar Jayanthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690356256,"creation_date":1690356256,"question_id":76768876,"body_markdown":"while opening a form in the Oracle-EBS application in the edge browser ,it is always prompting for jnlp frmservlet either for download or open the file. So how i can do this automatic without such prompting it should open the respective form.\r\nI already done some settings in edge browser(edge) like Registry policy Appwed urls,allowed files,etc and also done settings in java configure application prompting for jnlp file---give allow all.\r\nSo even though done the above settings it is still prompting. Can you suggest what need to do further.Please hep me on this  \r\n\r\nit should not ask for download/open file ,automatically the file has to be open when we try to open it in Oracle EBS apllication .","title":"how to automatically open the oracle form without prompting for jnlp frmservlet in edge browser","body":"<p>while opening a form in the Oracle-EBS application in the edge browser ,it is always prompting for jnlp frmservlet either for download or open the file. So how i can do this automatic without such prompting it should open the respective form.\nI already done some settings in edge browser(edge) like Registry policy Appwed urls,allowed files,etc and also done settings in java configure application prompting for jnlp file---give allow all.\nSo even though done the above settings it is still prompting. Can you suggest what need to do further.Please hep me on this</p>\n<p>it should not ask for download/open file ,automatically the file has to be open when we try to open it in Oracle EBS apllication .</p>\n"},{"tags":["java","mysql","while-loop","logical-operators"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690260295,"post_id":76759510,"comment_id":135324578,"body_markdown":"Before the `while` loop: `boolean exists = false;`. Change condition to `rs.next() &amp;&amp; !exists`. Make sure to set `exists` to `true` when appropriate. At least, that seems to be what you want from your description. But I&#39;m not sure the code does what you think it does (I&#39;d need more context to be sure).","body":"Before the <code>while</code> loop: <code>boolean exists = false;</code>. Change condition to <code>rs.next() &amp;&amp; !exists</code>. Make sure to set <code>exists</code> to <code>true</code> when appropriate. At least, that seems to be what you want from your description. But I&#39;m not sure the code does what you think it does (I&#39;d need more context to be sure)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690260567,"post_id":76759510,"comment_id":135324603,"body_markdown":"As an aside, you&#39;re creating `valChecker` wrong. Have it use `committe_name = ?`, and then use a `PreparedStatement` to set the parameter. Never use string concatenation to set parameters of SQL queries.","body":"As an aside, you&#39;re creating <code>valChecker</code> wrong. Have it use <code>committe_name = ?</code>, and then use a <code>PreparedStatement</code> to set the parameter. Never use string concatenation to set parameters of SQL queries."},{"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"score":0,"creation_date":1690261369,"post_id":76759510,"comment_id":135324663,"body_markdown":"String valChecker = &quot;SELECT * FROM `committee_memba` where (Rank= &#39;Chairperson&#39; or Rank=&#39;Vice-Chair&#39;) and committee_name=?&quot;; \n                pst.setString(1, jComboBox1.getSelectedItem().toString());\n\nI get the error: \njava.sql.SQLException: No value specified for parameter 1","body":"String valChecker = &quot;SELECT * FROM <code>committee_memba</code> where (Rank= &#39;Chairperson&#39; or Rank=&#39;Vice-Chair&#39;) and committee_name=?&quot;;                  pst.setString(1, jComboBox1.getSelectedItem().toString());  I get the error:  java.sql.SQLException: No value specified for parameter 1"},{"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"score":0,"creation_date":1690263313,"post_id":76759510,"comment_id":135324872,"body_markdown":"using if(rs.next()&amp;&amp;!exists){} will only fulfil one condition, eg Check chairperson and will add many vice-chairs or if it checks for vice-chair, add many Chairperson","body":"using if(rs.next()&amp;&amp;!exists){} will only fulfil one condition, eg Check chairperson and will add many vice-chairs or if it checks for vice-chair, add many Chairperson"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690266142,"post_id":76759510,"comment_id":135325197,"body_markdown":"Are you saying that your code first displays the `JOptionPane` with the message _Your Rank already Exist_ and then performs the [database] insert?","body":"Are you saying that your code first displays the <code>JOptionPane</code> with the message <i>Your Rank already Exist</i> and then performs the [database] insert?"}],"answers":[{"tags":[],"owner":{"account_id":20606083,"reputation":15,"user_id":15126306,"display_name":"deft artisan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690261694,"creation_date":1690260993,"answer_id":76759561,"question_id":76759510,"body_markdown":"If you do not wish to utilize a flag, abstract into a boolean method, and use the return statement to exit from the first condition.\r\n\r\nAlternatively, you could use `JOptionPane.showConfirmMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;, JOptionPane.YES_NO_CANCEL_OPTION)` which will interrupt.","title":"How to check for a condition within a while loop java","body":"<p>If you do not wish to utilize a flag, abstract into a boolean method, and use the return statement to exit from the first condition.</p>\n<p>Alternatively, you could use <code>JOptionPane.showConfirmMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;, JOptionPane.YES_NO_CANCEL_OPTION)</code> which will interrupt.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690267661,"creation_date":1690267661,"answer_id":76760076,"question_id":76759510,"body_markdown":"First of all, use a parameterized query instead of hard-conding your parameters in your SQL:\r\n\r\n    String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= ? and \r\n     committee_name=?&quot;;\r\n    PreparedStatement stmt = conn.prepareStatement(valChecker);\r\n    stmt.setString(1, rank);\r\n    stmt.setString(2, jComboBox1.getSelectedItem().toString());\r\n    rs = stmt.executeQuery();\r\n\r\nNow if you just want to test if a rank is already in the table before you add it, you just need to check:\r\n\r\n\r\n    boolean exists = rs.next();\r\n    stmt.close();\r\n    \r\n    if (exists) {\r\n        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\r\n    } else {\r\n        pst.setString(3, rank);\r\n        pst.execute();\r\n        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);}\r\n    }\r\n\r\n","title":"How to check for a condition within a while loop java","body":"<p>First of all, use a parameterized query instead of hard-conding your parameters in your SQL:</p>\n<pre><code>String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= ? and \n committee_name=?&quot;;\nPreparedStatement stmt = conn.prepareStatement(valChecker);\nstmt.setString(1, rank);\nstmt.setString(2, jComboBox1.getSelectedItem().toString());\nrs = stmt.executeQuery();\n</code></pre>\n<p>Now if you just want to test if a rank is already in the table before you add it, you just need to check:</p>\n<pre><code>boolean exists = rs.next();\nstmt.close();\n\nif (exists) {\n    JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\n} else {\n    pst.setString(3, rank);\n    pst.execute();\n    JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690356185,"creation_date":1690356185,"answer_id":76768871,"question_id":76759510,"body_markdown":"If someone had the problem I had, am happy to share assistance I got outside this forum, perhaps it could save someone\r\n\r\n\r\n     String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= &#39;&quot;+rank+&quot;&#39;  and committee_name=&#39;&quot;+ jComboBox1.getSelectedItem().toString() + &quot;&#39;&quot;;\r\n               \r\n                PreparedStatement stmt = conn.prepareStatement(valChecker);\r\n                rs = stmt.executeQuery();\r\n                 \r\n                \r\n                    \r\n                        \r\n                        if (rs.next() &amp;&amp; (rank.equals(&quot;Chairperson&quot;) || rank.equals(&quot;Vice-Chair&quot;))) {\r\n                            \r\n                            JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot; + rank + &quot; before adding another&quot;);\r\n                        } else {\r\n                            pst.setString(3, rank);\r\n                            pst.execute();\r\n                            JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\r\n                        }","title":"How to check for a condition within a while loop java","body":"<p>If someone had the problem I had, am happy to share assistance I got outside this forum, perhaps it could save someone</p>\n<pre><code> String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= '&quot;+rank+&quot;'  and committee_name='&quot;+ jComboBox1.getSelectedItem().toString() + &quot;'&quot;;\n           \n            PreparedStatement stmt = conn.prepareStatement(valChecker);\n            rs = stmt.executeQuery();\n             \n            \n                \n                    \n                    if (rs.next() &amp;&amp; (rank.equals(&quot;Chairperson&quot;) || rank.equals(&quot;Vice-Chair&quot;))) {\n                        \n                        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot; + rank + &quot; before adding another&quot;);\n                    } else {\n                        pst.setString(3, rank);\n                        pst.execute();\n                        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\n                    }\n</code></pre>\n"}],"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690356185,"creation_date":1690260154,"question_id":76759510,"body_markdown":"```java\r\nString valChecker = &quot;SELECT * FROM `committee_memba` where (Rank= &#39;Chairperson&#39; or Rank=&#39;Vice-Chair&#39;) and committee_name=&#39;&quot; + jComboBox1.getSelectedItem().toString() + &quot;&#39;&quot;;\r\nSystem.out.println(valChecker);\r\nPreparedStatement stmt = conn.prepareStatement(valChecker);\r\nrs = stmt.executeQuery();\r\nwhile (rs.next()){\r\n    String rnk = rs.getString(&quot;Rank&quot;);\r\n    System.err.println(rnk);\r\n    if ((rnk.equals(&quot;Chairperson&quot;) &amp;&amp; rank.equals(&quot;Chairperson&quot;)) || (rnk.equals(&quot;Vice-Chair&quot;) &amp;&amp; rank.equals(&quot;Vice-Chair&quot;))) {\r\n        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\r\n    else {\r\n        pst.setString(3, rank);\r\n        pst.execute();\r\n        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\r\n    }\r\n```\r\nThe Select query checks for existing rank of **chairperson** and **vice-chair** and it works well.\r\n\r\nI want to save a new record with a chairperson or vice-chair if and only if the candidates with the said title does not exist, that is you can only have one chair or vice-chair, but my `JOPtionpane` is reporting well but the **pst.execute()** for inserting is still working, despite the `JOptionpane` giving the error message.\r\n","title":"How to check for a condition within a while loop java","body":"<pre class=\"lang-java prettyprint-override\"><code>String valChecker = &quot;SELECT * FROM `committee_memba` where (Rank= 'Chairperson' or Rank='Vice-Chair') and committee_name='&quot; + jComboBox1.getSelectedItem().toString() + &quot;'&quot;;\nSystem.out.println(valChecker);\nPreparedStatement stmt = conn.prepareStatement(valChecker);\nrs = stmt.executeQuery();\nwhile (rs.next()){\n    String rnk = rs.getString(&quot;Rank&quot;);\n    System.err.println(rnk);\n    if ((rnk.equals(&quot;Chairperson&quot;) &amp;&amp; rank.equals(&quot;Chairperson&quot;)) || (rnk.equals(&quot;Vice-Chair&quot;) &amp;&amp; rank.equals(&quot;Vice-Chair&quot;))) {\n        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\n    else {\n        pst.setString(3, rank);\n        pst.execute();\n        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\n    }\n</code></pre>\n<p>The Select query checks for existing rank of <strong>chairperson</strong> and <strong>vice-chair</strong> and it works well.</p>\n<p>I want to save a new record with a chairperson or vice-chair if and only if the candidates with the said title does not exist, that is you can only have one chair or vice-chair, but my <code>JOPtionpane</code> is reporting well but the <strong>pst.execute()</strong> for inserting is still working, despite the <code>JOptionpane</code> giving the error message.</p>\n"},{"tags":["java","spring","openapi","code-first","openapi-generator"],"owner":{"account_id":1745534,"reputation":147,"user_id":1595867,"accept_rate":50,"display_name":"beagle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690356111,"creation_date":1689864929,"question_id":76731162,"body_markdown":"Ok, lets step in of what we have and the issues we are currently facing....\r\n\r\nWe have a data model, pretty close to that what is available in other examples.\r\n(all code here in github: https://github.com/straube-jens/swagger)\r\n\r\nWe have a Basis DTO Class *RsvXO* (shitty Name, I know…) which has a List of Class *Pet* inside. *Pet* is an abstract Class and is implemented by *Cat* and *Dog* Class. Service Endpoint is delivering the basis class *RsvXO*. We put the Json Annotations for referencing the Classes *Cat* and *Dog* out of *Pet*. \r\n\r\nWe add the spring swagger-ui dependency to the pom and ran all that, to get the openapi description out of “swagger” generated.\r\n \r\nSure, there is documentation that writes that polymorphic is not covered by openapi which is actually not true for this example, but we will see later.\r\n\r\nThe generated description looks like the following example:\r\n\r\n    {\r\n    \t&quot;openapi&quot;: &quot;3.0.1&quot;,\r\n    \t&quot;info&quot;: {\r\n    \t\t&quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n    \t\t&quot;version&quot;: &quot;v0&quot;\r\n    \t},\r\n    \t&quot;servers&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;Generated server url&quot;\r\n    \t\t}\r\n    \t],\r\n    \t&quot;paths&quot;: {\r\n    \t\t&quot;/vehicleDecision&quot;: {\r\n    \t\t\t&quot;post&quot;: {\r\n    \t\t\t\t&quot;tags&quot;: [\r\n    \t\t\t\t\t&quot;rest-service&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;operationId&quot;: &quot;createRiskDecission&quot;,\r\n    \t\t\t\t&quot;parameters&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;rsvXO&quot;,\r\n    \t\t\t\t\t\t&quot;in&quot;: &quot;query&quot;,\r\n    \t\t\t\t\t\t&quot;required&quot;: true,\r\n    \t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;responses&quot;: {\r\n    \t\t\t\t\t&quot;200&quot;: {\r\n    \t\t\t\t\t\t&quot;description&quot;: &quot;OK&quot;,\r\n    \t\t\t\t\t\t&quot;content&quot;: {\r\n    \t\t\t\t\t\t\t&quot;*/*&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t},\r\n    \t&quot;components&quot;: {\r\n    \t\t&quot;schemas&quot;: {\r\n    \t\t\t&quot;Cat&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t\t\t&quot;preferredGardenToPeeIn&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t]\r\n    \t\t\t},\r\n    \t\t\t&quot;Dog&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t\t\t&quot;preferredPostman&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t]\r\n    \t\t\t},\r\n    \t\t\t&quot;Pet&quot;: {\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;petType&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;discriminator&quot;: {\r\n    \t\t\t\t\t&quot;propertyName&quot;: &quot;petType&quot;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;RsvXO&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;pet&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;array&quot;,\r\n    \t\t\t\t\t\t&quot;items&quot;: {\r\n    \t\t\t\t\t\t\t&quot;oneOf&quot;: [\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\r\n    \t\t\t\t\t\t\t\t},\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t]\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;aenderDatum&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;format&quot;: &quot;date-time&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf we use the description on the client side to generate the data model, we get some wired implementation then. The generator is creating the *Pet*, the *Dog* and the *Cat* Classes as needed, that’s fine.\r\n\r\nBut is generates the for the Pet-relation in *RsvXO* another Class called *RsvXOPetInner* Class which is an exact copy of *Pet*. It sets the attribute inside the *RsvXO* to the type of *RsvXOPetInner* Class. \r\nBut there is no relation to *Pet* Class in *RsvXO* or *RsvXOPetInner*.\r\n \r\nSo, it is technically not possible to set a *Dog* or a *Cat* instance inside the List in *RsvXO*, because the type of the Classes does not fit.\r\n\r\n**BUT** \r\n\r\nWe changed the description json which was generated by the Server by hand. Available in the next post:\r\n\r\n    {\r\n    \t&quot;openapi&quot;: &quot;3.0.1&quot;,\r\n    \t&quot;info&quot;: {\r\n    \t\t&quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n    \t\t&quot;version&quot;: &quot;v0&quot;\r\n    \t},\r\n    \t&quot;servers&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;Generated server url&quot;\r\n    \t\t}\r\n    \t],\r\n    \t&quot;paths&quot;: {\r\n    \t\t&quot;/vehicleDecision&quot;: {\r\n    \t\t\t&quot;post&quot;: {\r\n    \t\t\t\t&quot;tags&quot;: [\r\n    \t\t\t\t\t&quot;rest-service&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;operationId&quot;: &quot;createRiskDecission&quot;,\r\n    \t\t\t\t&quot;parameters&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;rsvXO&quot;,\r\n    \t\t\t\t\t\t&quot;in&quot;: &quot;query&quot;,\r\n    \t\t\t\t\t\t&quot;required&quot;: true,\r\n    \t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;responses&quot;: {\r\n    \t\t\t\t\t&quot;200&quot;: {\r\n    \t\t\t\t\t\t&quot;description&quot;: &quot;OK&quot;,\r\n    \t\t\t\t\t\t&quot;content&quot;: {\r\n    \t\t\t\t\t\t\t&quot;*/*&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t},\r\n    \t&quot;components&quot;: {\r\n    \t\t&quot;schemas&quot;: {\r\n    \t\t\t&quot;Cat&quot;: {\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;preferredGardenToPeeIn&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;Dog&quot;: {\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;preferredPostman&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;Pet&quot;: {\r\n    \t\t\t\t&quot;oneOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;petType&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;discriminator&quot;: {\r\n    \t\t\t\t\t&quot;propertyName&quot;: &quot;petType&quot;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;RsvXO&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;pet&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;array&quot;,\r\n    \t\t\t\t\t\t&quot;items&quot;: {\r\n    \t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;aenderDatum&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;format&quot;: &quot;date-time&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf the client generator works over that json, the generated model looks perfect. \r\nSo, there should actually be an option to build polymorphic data model structures with openapi, right?\r\n \r\nSure there is a ArraySchema and Schema Annotation from swagger, that we used as well, but the documentation (https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations) \r\nfor that annotations does not cover our case. \r\n\r\nWe did the last 3 days a lot of try and error and decide now to ask the community for help.\r\n \r\nSo please check out the test-project from github (https://github.com/straube-jens/swagger) and hopefully you will have a solution or another hint for us.\r\n\r\n\r\nGreetings and thanks a lot, Katrin and Jens \r\n","title":"Swagger with abstract Class hierarchy, should work","body":"<p>Ok, lets step in of what we have and the issues we are currently facing....</p>\n<p>We have a data model, pretty close to that what is available in other examples.\n(all code here in github: <a href=\"https://github.com/straube-jens/swagger\" rel=\"nofollow noreferrer\">https://github.com/straube-jens/swagger</a>)</p>\n<p>We have a Basis DTO Class <em>RsvXO</em> (shitty Name, I know…) which has a List of Class <em>Pet</em> inside. <em>Pet</em> is an abstract Class and is implemented by <em>Cat</em> and <em>Dog</em> Class. Service Endpoint is delivering the basis class <em>RsvXO</em>. We put the Json Annotations for referencing the Classes <em>Cat</em> and <em>Dog</em> out of <em>Pet</em>.</p>\n<p>We add the spring swagger-ui dependency to the pom and ran all that, to get the openapi description out of “swagger” generated.</p>\n<p>Sure, there is documentation that writes that polymorphic is not covered by openapi which is actually not true for this example, but we will see later.</p>\n<p>The generated description looks like the following example:</p>\n<pre><code>{\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\n        &quot;version&quot;: &quot;v0&quot;\n    },\n    &quot;servers&quot;: [\n        {\n            &quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\n            &quot;description&quot;: &quot;Generated server url&quot;\n        }\n    ],\n    &quot;paths&quot;: {\n        &quot;/vehicleDecision&quot;: {\n            &quot;post&quot;: {\n                &quot;tags&quot;: [\n                    &quot;rest-service&quot;\n                ],\n                &quot;operationId&quot;: &quot;createRiskDecission&quot;,\n                &quot;parameters&quot;: [\n                    {\n                        &quot;name&quot;: &quot;rsvXO&quot;,\n                        &quot;in&quot;: &quot;query&quot;,\n                        &quot;required&quot;: true,\n                        &quot;schema&quot;: {\n                            &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                        }\n                    }\n                ],\n                &quot;responses&quot;: {\n                    &quot;200&quot;: {\n                        &quot;description&quot;: &quot;OK&quot;,\n                        &quot;content&quot;: {\n                            &quot;*/*&quot;: {\n                                &quot;schema&quot;: {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    &quot;components&quot;: {\n        &quot;schemas&quot;: {\n            &quot;Cat&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    },\n                    {\n                        &quot;type&quot;: &quot;object&quot;,\n                        &quot;properties&quot;: {\n                            &quot;preferredGardenToPeeIn&quot;: {\n                                &quot;type&quot;: &quot;string&quot;\n                            }\n                        }\n                    }\n                ]\n            },\n            &quot;Dog&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    },\n                    {\n                        &quot;type&quot;: &quot;object&quot;,\n                        &quot;properties&quot;: {\n                            &quot;preferredPostman&quot;: {\n                                &quot;type&quot;: &quot;string&quot;\n                            }\n                        }\n                    }\n                ]\n            },\n            &quot;Pet&quot;: {\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;petType&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                },\n                &quot;discriminator&quot;: {\n                    &quot;propertyName&quot;: &quot;petType&quot;\n                }\n            },\n            &quot;RsvXO&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;pet&quot;: {\n                        &quot;type&quot;: &quot;array&quot;,\n                        &quot;items&quot;: {\n                            &quot;oneOf&quot;: [\n                                {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\n                                },\n                                {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\n                                }\n                            ]\n                        }\n                    },\n                    &quot;aenderDatum&quot;: {\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;format&quot;: &quot;date-time&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>If we use the description on the client side to generate the data model, we get some wired implementation then. The generator is creating the <em>Pet</em>, the <em>Dog</em> and the <em>Cat</em> Classes as needed, that’s fine.</p>\n<p>But is generates the for the Pet-relation in <em>RsvXO</em> another Class called <em>RsvXOPetInner</em> Class which is an exact copy of <em>Pet</em>. It sets the attribute inside the <em>RsvXO</em> to the type of <em>RsvXOPetInner</em> Class.\nBut there is no relation to <em>Pet</em> Class in <em>RsvXO</em> or <em>RsvXOPetInner</em>.</p>\n<p>So, it is technically not possible to set a <em>Dog</em> or a <em>Cat</em> instance inside the List in <em>RsvXO</em>, because the type of the Classes does not fit.</p>\n<p><strong>BUT</strong></p>\n<p>We changed the description json which was generated by the Server by hand. Available in the next post:</p>\n<pre><code>{\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\n        &quot;version&quot;: &quot;v0&quot;\n    },\n    &quot;servers&quot;: [\n        {\n            &quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\n            &quot;description&quot;: &quot;Generated server url&quot;\n        }\n    ],\n    &quot;paths&quot;: {\n        &quot;/vehicleDecision&quot;: {\n            &quot;post&quot;: {\n                &quot;tags&quot;: [\n                    &quot;rest-service&quot;\n                ],\n                &quot;operationId&quot;: &quot;createRiskDecission&quot;,\n                &quot;parameters&quot;: [\n                    {\n                        &quot;name&quot;: &quot;rsvXO&quot;,\n                        &quot;in&quot;: &quot;query&quot;,\n                        &quot;required&quot;: true,\n                        &quot;schema&quot;: {\n                            &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                        }\n                    }\n                ],\n                &quot;responses&quot;: {\n                    &quot;200&quot;: {\n                        &quot;description&quot;: &quot;OK&quot;,\n                        &quot;content&quot;: {\n                            &quot;*/*&quot;: {\n                                &quot;schema&quot;: {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    &quot;components&quot;: {\n        &quot;schemas&quot;: {\n            &quot;Cat&quot;: {\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    }\n                ],\n                &quot;properties&quot;: {\n                    &quot;preferredGardenToPeeIn&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                }\n            },\n            &quot;Dog&quot;: {\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    }\n                ],\n                &quot;properties&quot;: {\n                    &quot;preferredPostman&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                }\n            },\n            &quot;Pet&quot;: {\n                &quot;oneOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\n                    },\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\n                    }\n                ],\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;petType&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                },\n                &quot;discriminator&quot;: {\n                    &quot;propertyName&quot;: &quot;petType&quot;\n                }\n            },\n            &quot;RsvXO&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;pet&quot;: {\n                        &quot;type&quot;: &quot;array&quot;,\n                        &quot;items&quot;: {\n                            &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                        }\n                    },\n                    &quot;aenderDatum&quot;: {\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;format&quot;: &quot;date-time&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>If the client generator works over that json, the generated model looks perfect.\nSo, there should actually be an option to build polymorphic data model structures with openapi, right?</p>\n<p>Sure there is a ArraySchema and Schema Annotation from swagger, that we used as well, but the documentation (<a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations</a>)\nfor that annotations does not cover our case.</p>\n<p>We did the last 3 days a lot of try and error and decide now to ask the community for help.</p>\n<p>So please check out the test-project from github (<a href=\"https://github.com/straube-jens/swagger\" rel=\"nofollow noreferrer\">https://github.com/straube-jens/swagger</a>) and hopefully you will have a solution or another hint for us.</p>\n<p>Greetings and thanks a lot, Katrin and Jens</p>\n"},{"tags":["java","spring-boot","spring-cloud","netflix-zuul"],"comments":[{"owner":{"account_id":27967515,"reputation":1,"user_id":21358036,"display_name":"Yauheni Vozny"},"score":0,"creation_date":1690356621,"post_id":76768793,"comment_id":135340314,"body_markdown":"Or maybe how to replace Zuul? I can&#39;t replace it with Api Gateway, cause it requires webflux","body":"Or maybe how to replace Zuul? I can&#39;t replace it with Api Gateway, cause it requires webflux"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1690386270,"post_id":76768793,"comment_id":135347044,"body_markdown":"An MVC compatible gateway we be available later this year","body":"An MVC compatible gateway we be available later this year"},{"owner":{"account_id":2017309,"reputation":325,"user_id":1804291,"display_name":"Brad Giaccio"},"score":0,"creation_date":1691695253,"post_id":76768793,"comment_id":135530024,"body_markdown":"@spencergibb do you have a link or repo where we could track MVC compatible gateway?","body":"@spencergibb do you have a link or repo where we could track MVC compatible gateway?"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1691702697,"post_id":76768793,"comment_id":135531248,"body_markdown":"https://github.com/spring-cloud/spring-cloud-gateway/pull/2949","body":"<a href=\"https://github.com/spring-cloud/spring-cloud-gateway/pull/2949\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/pull/2949</a>"}],"owner":{"account_id":27967515,"reputation":1,"user_id":21358036,"display_name":"Yauheni Vozny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690355592,"creation_date":1690355471,"question_id":76768793,"body_markdown":"I migrated from spring boot 2.7 to 3.1.1, before I have redirection with Zuul and it can&#39;t find bean for RouteLocator and ZuulController:\r\n\r\n```\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.config.BeanPostProcessor;\r\nimport org.springframework.boot.web.servlet.error.ErrorController;\r\nimport org.springframework.cglib.proxy.*;\r\nimport org.springframework.cloud.netflix.zuul.filters.RouteLocator;\r\nimport org.springframework.cloud.netflix.zuul.web.ZuulController;\r\nimport org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\n\r\nimport java.lang.reflect.Constructor;\r\nimport java.lang.reflect.Method;\r\n\r\n/** Zuul configuration. */\r\n@Configuration\r\npublic class ZuulConfiguration {\r\n\r\n    /**\r\n     * Constructs a new bean post-processor for Zuul.\r\n     *\r\n     * @param routeLocator\r\n     *            the route locator.\r\n     * @param zuulController\r\n     *            the Zuul controller.\r\n     * @param errorController\r\n     *            the error controller.\r\n     * @return the new bean post-processor.\r\n     */\r\n    @Bean\r\n    @Primary\r\n    public ZuulPostProcessor zuulPostProcessor(@Autowired RouteLocator routeLocator,\r\n                                               @Autowired ZuulController zuulController,\r\n                                               @Autowired ErrorController errorController) {\r\n        return new ZuulPostProcessor(routeLocator, zuulController, errorController);\r\n    }\r\n\r\n    private static final class ZuulPostProcessor implements BeanPostProcessor {\r\n\r\n        private final RouteLocator routeLocator;\r\n\r\n        private final ZuulController zuulController;\r\n\r\n        private final boolean hasErrorController;\r\n\r\n        ZuulPostProcessor(RouteLocator routeLocator, ZuulController zuulController, ErrorController errorController) {\r\n            this.routeLocator = routeLocator;\r\n            this.zuulController = zuulController;\r\n            this.hasErrorController = (errorController != null);\r\n        }\r\n\r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            if (hasErrorController &amp;&amp; (bean instanceof ZuulHandlerMapping)) {\r\n                Enhancer enhancer = new Enhancer();\r\n                enhancer.setSuperclass(ZuulHandlerMapping.class);\r\n                enhancer.setCallbackFilter(LookupHandlerCallbackFilter.INSTANCE); // only for lookupHandler\r\n                enhancer.setCallbacks(new Callback[] { LookupHandlerMethodInterceptor.INSTANCE, NoOp.INSTANCE });\r\n                Constructor&lt;?&gt; ctor = ZuulHandlerMapping.class.getConstructors()[0];\r\n                return enhancer.create(ctor.getParameterTypes(), new Object[] { routeLocator, zuulController });\r\n            }\r\n            return bean;\r\n        }\r\n\r\n    }\r\n\r\n    private enum LookupHandlerCallbackFilter implements CallbackFilter {\r\n\r\n        INSTANCE;\r\n\r\n        @Override\r\n        public int accept(Method method) {\r\n            if (&quot;lookupHandler&quot;.equals(method.getName())) {\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n\r\n    }\r\n\r\n    private enum LookupHandlerMethodInterceptor implements MethodInterceptor {\r\n\r\n        INSTANCE;\r\n\r\n        @Override\r\n        public Object intercept(Object target, Method method, Object[] args, MethodProxy methodProxy) throws Throwable {\r\n            if (&quot;/error&quot;.equals(args[0])) {\r\n\r\n                /* by entering this branch we avoid the ZuulHandlerMapping.lookupHandler method to trigger the NoSuchMethodError */\r\n                return null;\r\n            }\r\n            return methodProxy.invokeSuper(target, args);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n[Zuul not autowired dependencies](https://i.stack.imgur.com/wlRy5.png)\r\n\r\nI can&#39;t migrate to api-gateway, cause we use spring-web-dependency (I read that webflux is needed)\r\n\r\nIf you know any another ways how to redirect /report page to kibana in elastic (main idea of task) let me know, but better to keep old Zuul Configuration and add some dependencies\r\n\r\nI see that it not works cause of usage javax servlet, in spring boot 3.1.1 - jakarta\r\n\r\nPlease help me :)","title":"Zuul compatability with Spring boot 3","body":"<p>I migrated from spring boot 2.7 to 3.1.1, before I have redirection with Zuul and it can't find bean for RouteLocator and ZuulController:</p>\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.cglib.proxy.*;\nimport org.springframework.cloud.netflix.zuul.filters.RouteLocator;\nimport org.springframework.cloud.netflix.zuul.web.ZuulController;\nimport org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\n\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Method;\n\n/** Zuul configuration. */\n@Configuration\npublic class ZuulConfiguration {\n\n    /**\n     * Constructs a new bean post-processor for Zuul.\n     *\n     * @param routeLocator\n     *            the route locator.\n     * @param zuulController\n     *            the Zuul controller.\n     * @param errorController\n     *            the error controller.\n     * @return the new bean post-processor.\n     */\n    @Bean\n    @Primary\n    public ZuulPostProcessor zuulPostProcessor(@Autowired RouteLocator routeLocator,\n                                               @Autowired ZuulController zuulController,\n                                               @Autowired ErrorController errorController) {\n        return new ZuulPostProcessor(routeLocator, zuulController, errorController);\n    }\n\n    private static final class ZuulPostProcessor implements BeanPostProcessor {\n\n        private final RouteLocator routeLocator;\n\n        private final ZuulController zuulController;\n\n        private final boolean hasErrorController;\n\n        ZuulPostProcessor(RouteLocator routeLocator, ZuulController zuulController, ErrorController errorController) {\n            this.routeLocator = routeLocator;\n            this.zuulController = zuulController;\n            this.hasErrorController = (errorController != null);\n        }\n\n        @Override\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n            if (hasErrorController &amp;&amp; (bean instanceof ZuulHandlerMapping)) {\n                Enhancer enhancer = new Enhancer();\n                enhancer.setSuperclass(ZuulHandlerMapping.class);\n                enhancer.setCallbackFilter(LookupHandlerCallbackFilter.INSTANCE); // only for lookupHandler\n                enhancer.setCallbacks(new Callback[] { LookupHandlerMethodInterceptor.INSTANCE, NoOp.INSTANCE });\n                Constructor&lt;?&gt; ctor = ZuulHandlerMapping.class.getConstructors()[0];\n                return enhancer.create(ctor.getParameterTypes(), new Object[] { routeLocator, zuulController });\n            }\n            return bean;\n        }\n\n    }\n\n    private enum LookupHandlerCallbackFilter implements CallbackFilter {\n\n        INSTANCE;\n\n        @Override\n        public int accept(Method method) {\n            if (&quot;lookupHandler&quot;.equals(method.getName())) {\n                return 0;\n            }\n            return 1;\n        }\n\n    }\n\n    private enum LookupHandlerMethodInterceptor implements MethodInterceptor {\n\n        INSTANCE;\n\n        @Override\n        public Object intercept(Object target, Method method, Object[] args, MethodProxy methodProxy) throws Throwable {\n            if (&quot;/error&quot;.equals(args[0])) {\n\n                /* by entering this branch we avoid the ZuulHandlerMapping.lookupHandler method to trigger the NoSuchMethodError */\n                return null;\n            }\n            return methodProxy.invokeSuper(target, args);\n        }\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wlRy5.png\" rel=\"nofollow noreferrer\">Zuul not autowired dependencies</a></p>\n<p>I can't migrate to api-gateway, cause we use spring-web-dependency (I read that webflux is needed)</p>\n<p>If you know any another ways how to redirect /report page to kibana in elastic (main idea of task) let me know, but better to keep old Zuul Configuration and add some dependencies</p>\n<p>I see that it not works cause of usage javax servlet, in spring boot 3.1.1 - jakarta</p>\n<p>Please help me :)</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-firestore","android-recyclerview"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1572828491,"post_id":58685503,"comment_id":103670792,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."},{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1572834199,"post_id":58685503,"comment_id":103671789,"body_markdown":"what does logcat say when the app crashes","body":"what does logcat say when the app crashes"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572853201,"post_id":58685503,"comment_id":103675955,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please also respond with @AlexMamo","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please also respond with @AlexMamo"},{"owner":{"account_id":16986840,"reputation":49,"user_id":12287406,"display_name":"Salma Eng"},"score":0,"creation_date":1572859590,"post_id":58685503,"comment_id":103678563,"body_markdown":"@AlexMamo this is part of logcat, thanks in advance..","body":"@AlexMamo this is part of logcat, thanks in advance.."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572859987,"creation_date":1572859987,"answer_id":58690531,"question_id":58685503,"body_markdown":"You are getting the following error:\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.exercise, PID: 29966 java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)&#39; on a null object reference\r\n\r\nBecause you are calling `.setOnItemClickListener()` on your `teacherAdapter` object which is `null` at that point in time. To solve this, you should simply move the following block of code:\r\n\r\n    teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\r\n\r\n            String path = documentSnapshot.getReference().getPath();\r\n            Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\r\n            intent.putExtra(EXTRA_PATH, path);\r\n            startActivity(intent);\r\n\r\n        }\r\n    });\r\n\r\nRight after the declaration of your adapter:\r\n\r\n    teacherAdapter = new TeacherAdapter(options);\r\n\r\nIn your `setUpRecyclerView()` method and your problem will be solved.","title":"Problem in making the items in RecyclerView clickable","body":"<p>You are getting the following error:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.exercise, PID: 29966 java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)' on a null object reference</p>\n</blockquote>\n\n<p>Because you are calling <code>.setOnItemClickListener()</code> on your <code>teacherAdapter</code> object which is <code>null</code> at that point in time. To solve this, you should simply move the following block of code:</p>\n\n<pre><code>teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\n    @Override\n    public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\n\n        String path = documentSnapshot.getReference().getPath();\n        Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\n        intent.putExtra(EXTRA_PATH, path);\n        startActivity(intent);\n\n    }\n});\n</code></pre>\n\n<p>Right after the declaration of your adapter:</p>\n\n<pre><code>teacherAdapter = new TeacherAdapter(options);\n</code></pre>\n\n<p>In your <code>setUpRecyclerView()</code> method and your problem will be solved.</p>\n"}],"owner":{"account_id":16986840,"reputation":49,"user_id":12287406,"display_name":"Salma Eng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58690531,"answer_count":1,"score":0,"last_activity_date":1690354962,"creation_date":1572823359,"question_id":58685503,"body_markdown":"I know there are questions like this, but non solving mine..\r\n\r\nI&#39;m trying to make &#39;OnItemClickListener&#39; of &#39;RecyclerView&#39; , but when I run the app it stops..\r\n\r\ncan you tell me where is the error??\r\n\r\nHere is the code: (Note the error is in making the item clickable)\r\n\r\n    public class TeacherActivity extends AppCompatActivity {\r\n    private FirebaseAuth mAuth=FirebaseAuth.getInstance();\r\n    private FirebaseUser currentUser= mAuth.getCurrentUser();;\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private String UserId =currentUser.getUid();\r\n    private static String city;\r\n    private TeacherAdapter teacherAdapter;\r\n    public static final String EXTRA_PATH = &quot;com.example.exercise.EXTRA_PATH&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_teacher);\r\n\r\n          \r\n        setUpRecyclerView();\r\n              \r\n\r\n      teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\r\n      @Override\r\n      public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\r\n\r\n        String path = documentSnapshot.getReference().getPath();\r\n        Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\r\n        intent.putExtra(EXTRA_PATH, path);\r\n        startActivity(intent);\r\n\r\n        }\r\n        });\r\n\r\n    }// end of onCreate\r\n\r\n\r\n    private void setUpRecyclerView(){\r\n        Query query =   db.collection(&quot;Teachers&quot;);\r\n\r\n        FirestoreRecyclerOptions &lt; Teacher &gt; options = new \r\n        FirestoreRecyclerOptions.Builder&lt;Teacher&gt;()\r\n                                .setQuery(query, Teacher.class)\r\n                                .build();\r\n\r\n        teacherAdapter = new TeacherAdapter(options);\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);    //for performane reasons\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(teacherAdapter);\r\n        teacherAdapter.startListening();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        teacherAdapter.stopListening();\r\n    }\r\n   \r\n    }// end of class\r\n\r\n\r\nAnd this is the &#39;adapter&#39; of &#39;RecyclerView&#39;:\r\n\r\n    public class TeacherAdapter extends FirestoreRecyclerAdapter&lt;Teacher, \r\n    TeacherAdapter.TeacherHolder&gt; {\r\n    private OnItemClickListener listener;\r\n    public TeacherAdapter(@NonNull FirestoreRecyclerOptions&lt;Teacher&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull TeacherHolder holder, int i, @NonNull Teacher \r\n    teacher) {\r\n        holder.tv_teacher_name.setText(teacher.getName());\r\n        holder.tv_cv.setText(teacher.getCv());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TeacherHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.teacher_item, parent, false);\r\n        return new TeacherHolder(v);\r\n    }\r\n\r\n    class TeacherHolder extends RecyclerView.ViewHolder {\r\n        TextView tv_teacher_name;\r\n        TextView tv_cv;\r\n\r\n\r\n     public TeacherHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tv_teacher_name = itemView.findViewById(R.id.teacher_name);\r\n            tv_cv = itemView.findViewById(R.id.tv_cv);\r\n\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    int position = getAdapterPosition();\r\n                    if (position != RecyclerView.NO_POSITION &amp;&amp; listener != null){\r\n                        listener.onItemClick(getSnapshots().getSnapshot(position), position);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public interface OnItemClickListener{\r\n        void onItemClick(DocumentSnapshot documentSnapshot, int position);\r\n    }\r\n    public void setOnItemClickListener(OnItemClickListener listener){\r\n        this.listener = listener;\r\n    }\r\n    }\r\n\r\n\r\nPart of logcat:\r\n\r\n\r\n&gt;E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.exercise, PID: 29966\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)&#39; on a null object reference\r\n\r\n","title":"Problem in making the items in RecyclerView clickable","body":"<p>I know there are questions like this, but non solving mine..</p>\n\n<p>I'm trying to make 'OnItemClickListener' of 'RecyclerView' , but when I run the app it stops..</p>\n\n<p>can you tell me where is the error??</p>\n\n<p>Here is the code: (Note the error is in making the item clickable)</p>\n\n<pre><code>public class TeacherActivity extends AppCompatActivity {\nprivate FirebaseAuth mAuth=FirebaseAuth.getInstance();\nprivate FirebaseUser currentUser= mAuth.getCurrentUser();;\nprivate FirebaseFirestore db = FirebaseFirestore.getInstance();\nprivate String UserId =currentUser.getUid();\nprivate static String city;\nprivate TeacherAdapter teacherAdapter;\npublic static final String EXTRA_PATH = \"com.example.exercise.EXTRA_PATH\";\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_teacher);\n\n\n    setUpRecyclerView();\n\n\n  teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\n  @Override\n  public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\n\n    String path = documentSnapshot.getReference().getPath();\n    Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\n    intent.putExtra(EXTRA_PATH, path);\n    startActivity(intent);\n\n    }\n    });\n\n}// end of onCreate\n\n\nprivate void setUpRecyclerView(){\n    Query query =   db.collection(\"Teachers\");\n\n    FirestoreRecyclerOptions &lt; Teacher &gt; options = new \n    FirestoreRecyclerOptions.Builder&lt;Teacher&gt;()\n                            .setQuery(query, Teacher.class)\n                            .build();\n\n    teacherAdapter = new TeacherAdapter(options);\n\n    RecyclerView recyclerView = findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);    //for performane reasons\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(teacherAdapter);\n    teacherAdapter.startListening();\n\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    teacherAdapter.stopListening();\n}\n\n}// end of class\n</code></pre>\n\n<p>And this is the 'adapter' of 'RecyclerView':</p>\n\n<pre><code>public class TeacherAdapter extends FirestoreRecyclerAdapter&lt;Teacher, \nTeacherAdapter.TeacherHolder&gt; {\nprivate OnItemClickListener listener;\npublic TeacherAdapter(@NonNull FirestoreRecyclerOptions&lt;Teacher&gt; options) {\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull TeacherHolder holder, int i, @NonNull Teacher \nteacher) {\n    holder.tv_teacher_name.setText(teacher.getName());\n    holder.tv_cv.setText(teacher.getCv());\n}\n\n@NonNull\n@Override\npublic TeacherHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.teacher_item, parent, false);\n    return new TeacherHolder(v);\n}\n\nclass TeacherHolder extends RecyclerView.ViewHolder {\n    TextView tv_teacher_name;\n    TextView tv_cv;\n\n\n public TeacherHolder(@NonNull View itemView) {\n        super(itemView);\n        tv_teacher_name = itemView.findViewById(R.id.teacher_name);\n        tv_cv = itemView.findViewById(R.id.tv_cv);\n\n        itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int position = getAdapterPosition();\n                if (position != RecyclerView.NO_POSITION &amp;&amp; listener != null){\n                    listener.onItemClick(getSnapshots().getSnapshot(position), position);\n                }\n            }\n        });\n    }\n}\npublic interface OnItemClickListener{\n    void onItemClick(DocumentSnapshot documentSnapshot, int position);\n}\npublic void setOnItemClickListener(OnItemClickListener listener){\n    this.listener = listener;\n}\n}\n</code></pre>\n\n<p>Part of logcat:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.example.exercise, PID: 29966\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)' on a null object reference</p>\n</blockquote>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1572849817,"post_id":58687174,"comment_id":103674875,"body_markdown":"It looks like you&#39;re trying to perform a simple Cloud Firestore query.  The documentation is the best place to start learning about how that works.  https://firebase.google.com/docs/firestore/query-data/queries","body":"It looks like you&#39;re trying to perform a simple Cloud Firestore query.  The documentation is the best place to start learning about how that works.  <a href=\"https://firebase.google.com/docs/firestore/query-data/queries\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/query-data/queries</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572854107,"post_id":58687174,"comment_id":103676277,"body_markdown":"What is the exact value that you need to increment, `productQuantity`? Please also respond with @AlexMamo","body":"What is the exact value that you need to increment, <code>productQuantity</code>? Please also respond with @AlexMamo"},{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572858695,"post_id":58687174,"comment_id":103678191,"body_markdown":"yap i want when barcode is existing in firestore then productQuantity to increment @AlexMamo","body":"yap i want when barcode is existing in firestore then productQuantity to increment @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":109969,"reputation":14788,"user_id":291180,"accept_rate":80,"display_name":"Travis Webb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572843342,"creation_date":1572843342,"answer_id":58687385,"question_id":58687174,"body_markdown":"This will figure out if the barcode exists. You can fill in the commented `TODO` with a [Transaction][1] to update the quantity value.\r\n\r\n```java\r\npublic void handleResult(Result result) {\r\n  String scanResult = result.getText();\r\n  // ...\r\n\r\n  collectionReference\r\n    .whereEqualTo(&quot;barCode&quot;, scanResult)\r\n    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n      @Override\r\n      public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n        if (task.isSuccessful() &amp;&amp; task.getResult().size() &gt; 0) {\r\n          // TODO barcode exists; increase qty\r\n        }\r\n        else {\r\n          // barcode not found, new Intent\r\n        }\r\n      }\r\n    });\r\n}\r\n```\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/transactions","title":"Increment value from Firestore","body":"<p>This will figure out if the barcode exists. You can fill in the commented <code>TODO</code> with a <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">Transaction</a> to update the quantity value.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void handleResult(Result result) {\n  String scanResult = result.getText();\n  // ...\n\n  collectionReference\n    .whereEqualTo(\"barCode\", scanResult)\n    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n      @Override\n      public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful() &amp;&amp; task.getResult().size() &gt; 0) {\n          // TODO barcode exists; increase qty\n        }\n        else {\n          // barcode not found, new Intent\n        }\n      }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572962277,"creation_date":1572859614,"answer_id":58690418,"question_id":58687174,"body_markdown":"To increment the value of your `productQuantity` property based on the existence of the `barCode` property, please try the following lines of code:\r\n\r\n    collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    if (document.getString(&quot;barCode&quot;) != null) {\r\n                        collectionReference.document(document.getId()).update(\r\n                            &quot;productQuantity&quot;, FieldValue.increment(1)\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });","title":"Increment value from Firestore","body":"<p>To increment the value of your <code>productQuantity</code> property based on the existence of the <code>barCode</code> property, please try the following lines of code:</p>\n\n<pre><code>collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                if (document.getString(\"barCode\") != null) {\n                    collectionReference.document(document.getId()).update(\n                        \"productQuantity\", FieldValue.increment(1)\n                    );\n                }\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58690418,"answer_count":2,"score":0,"last_activity_date":1690354952,"creation_date":1572841529,"question_id":58687174,"body_markdown":"I have entries that look like this:\r\n\r\n![1][1]\r\n\r\nBefore the data is inputted, the barcode must be filled using a barcode scanner. When a barcode is existing in Firestore, I want product quantity is increase. And when the barcode is not available in Firestore, Intent to another class.\r\n\r\nCode :\r\n\r\n    @Override\r\n    public void handleResult(Result result) {\r\n        final String scanResult = result.getText();\r\n\r\n        ToneGenerator toneNotification = new ToneGenerator(AudioManager.STREAM_NOTIFICATION, 100);\r\n        toneNotification.startTone(ToneGenerator.TONE_PROP_BEEP, 150);\r\n\r\n        collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot queryDocumentSnapshot : task.getResult()) {\r\n                        // if barcode is existing, then product quantity to increment\r\n                        if (queryDocumentSnapshot.getString(&quot;barCode&quot;) != null) {\r\n                            collectionReference.document(queryDocumentSnapshot.getId()).update(&quot;productQuantity&quot;, FieldValue.increment(1));\r\n                            Intent moveView = new Intent(ScannersActivity.this, ViewData.class);\r\n                            moveView.putExtra(&quot;documentID&quot;, documentID);\r\n                            startActivity(moveView);\r\n                            finish();\r\n                        } else { // If barcode is not available in firestore, then intent to another class\r\n                            Intent moveCode = new Intent(ScannersActivity.this, AddItems.class);\r\n                            moveCode.putExtra(&quot;sendDocumentID&quot;, documentID);\r\n                            moveCode.putExtra(&quot;ScanResult&quot;, scanResult);\r\n                            startActivity(moveCode);\r\n                            finish();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/jWrFZ.png","title":"Increment value from Firestore","body":"<p>I have entries that look like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jWrFZ.png\" alt=\"1\"></p>\n\n<p>Before the data is inputted, the barcode must be filled using a barcode scanner. When a barcode is existing in Firestore, I want product quantity is increase. And when the barcode is not available in Firestore, Intent to another class.</p>\n\n<p>Code :</p>\n\n<pre><code>@Override\npublic void handleResult(Result result) {\n    final String scanResult = result.getText();\n\n    ToneGenerator toneNotification = new ToneGenerator(AudioManager.STREAM_NOTIFICATION, 100);\n    toneNotification.startTone(ToneGenerator.TONE_PROP_BEEP, 150);\n\n    collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot queryDocumentSnapshot : task.getResult()) {\n                    // if barcode is existing, then product quantity to increment\n                    if (queryDocumentSnapshot.getString(\"barCode\") != null) {\n                        collectionReference.document(queryDocumentSnapshot.getId()).update(\"productQuantity\", FieldValue.increment(1));\n                        Intent moveView = new Intent(ScannersActivity.this, ViewData.class);\n                        moveView.putExtra(\"documentID\", documentID);\n                        startActivity(moveView);\n                        finish();\n                    } else { // If barcode is not available in firestore, then intent to another class\n                        Intent moveCode = new Intent(ScannersActivity.this, AddItems.class);\n                        moveCode.putExtra(\"sendDocumentID\", documentID);\n                        moveCode.putExtra(\"ScanResult\", scanResult);\n                        startActivity(moveCode);\n                        finish();\n                    }\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":5161890,"reputation":5598,"user_id":4133301,"accept_rate":57,"display_name":"GensaGames"},"score":0,"creation_date":1572499793,"post_id":58637211,"comment_id":103581061,"body_markdown":"Above statement works, you just have wrong order. Right?","body":"Above statement works, you just have wrong order. Right?"},{"owner":{"account_id":14493209,"reputation":297,"user_id":10468712,"display_name":"Mr. Baks"},"score":0,"creation_date":1572500004,"post_id":58637211,"comment_id":103581089,"body_markdown":"It works when i removed the orderby. What is the correct order sir?","body":"It works when i removed the orderby. What is the correct order sir?"},{"owner":{"account_id":5161890,"reputation":5598,"user_id":4133301,"accept_rate":57,"display_name":"GensaGames"},"score":0,"creation_date":1572500187,"post_id":58637211,"comment_id":103581127,"body_markdown":"What you mean by `index` it&#39;s name of the column? Because you could try to replace with primary key, field with name `_id`.","body":"What you mean by <code>index</code> it&#39;s name of the column? Because you could try to replace with primary key, field with name <code>_id</code>."},{"owner":{"account_id":14493209,"reputation":297,"user_id":10468712,"display_name":"Mr. Baks"},"score":0,"creation_date":1572500691,"post_id":58637211,"comment_id":103581242,"body_markdown":"`index` is the total count of the stores then added by 1 which was you can call their key but not. Because these indexes will only represent their orders. Another thing that will prove that this is not their `id` because this will change every day or these `id`s will be jumbled. Basically this is their key so the buyer will saw different stores every day.","body":"<code>index</code> is the total count of the stores then added by 1 which was you can call their key but not. Because these indexes will only represent their orders. Another thing that will prove that this is not their <code>id</code> because this will change every day or these <code>id</code>s will be jumbled. Basically this is their key so the buyer will saw different stores every day."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572515131,"creation_date":1572515131,"answer_id":58640533,"question_id":58637211,"body_markdown":"&gt; It is not working and I don&#39;t know why is this happening.\r\n\r\nWhen you try to query a collection using both `whereEqualTo()` and `orderBy()` methods on different fields, please note that your query will **not** work unless you create an [index](https://firebase.google.com/docs/firestore/query-data/indexing) for it. This can be done, by creating it manually in your [Firebase Console](https://console.firebase.google.com/) or if you are using Android Studio, you&#39;ll find in your logcat a message that sounds like this:\r\n\r\n    FAILED_PRECONDITION: The query requires an index. You can create it here: ...\r\n\r\nYou can simply click on that link or copy and paste the url into a web broswer and you index will be created automatically.","title":"How to sort or Orderby in firstore android studio?","body":"<blockquote>\n  <p>It is not working and I don't know why is this happening.</p>\n</blockquote>\n\n<p>When you try to query a collection using both <code>whereEqualTo()</code> and <code>orderBy()</code> methods on different fields, please note that your query will <strong>not</strong> work unless you create an <a href=\"https://firebase.google.com/docs/firestore/query-data/indexing\" rel=\"nofollow noreferrer\">index</a> for it. This can be done, by creating it manually in your <a href=\"https://console.firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase Console</a> or if you are using Android Studio, you'll find in your logcat a message that sounds like this:</p>\n\n<pre><code>FAILED_PRECONDITION: The query requires an index. You can create it here: ...\n</code></pre>\n\n<p>You can simply click on that link or copy and paste the url into a web broswer and you index will be created automatically.</p>\n"}],"owner":{"account_id":14493209,"reputation":297,"user_id":10468712,"display_name":"Mr. Baks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58640533,"answer_count":1,"score":0,"last_activity_date":1690354926,"creation_date":1572498680,"question_id":58637211,"body_markdown":"I am trying to make a sorter for stores where they have an `index` which will indicate their position. But when I tried:\r\n\r\n    Query storeQuery = db.collection(&quot;Stores&quot;)\r\n        .whereEqualTo(&quot;online&quot;, true).orderBy(&quot;index&quot;, Query.Direction.ASCENDING);\r\n\r\nIt is not working and I don&#39;t know why is this happening.","title":"How to sort or Orderby in firstore android studio?","body":"<p>I am trying to make a sorter for stores where they have an <code>index</code> which will indicate their position. But when I tried:</p>\n\n<pre><code>Query storeQuery = db.collection(\"Stores\")\n    .whereEqualTo(\"online\", true).orderBy(\"index\", Query.Direction.ASCENDING);\n</code></pre>\n\n<p>It is not working and I don't know why is this happening.</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571909367,"creation_date":1571909367,"answer_id":58538313,"question_id":58538187,"body_markdown":"You have that behaviour because when you perform the second query to get those three new items, you clear your `documentsList` using the following line of code:\r\n\r\n    documentsList.clear();\r\n\r\nTo solve this, simply remove it from the second query because you need to add more data and to the list not to remove the initial one. I have answered a similar question **[here](https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android)**.","title":"Cannot load more data pagination using Recycler view android","body":"<p>You have that behaviour because when you perform the second query to get those three new items, you clear your <code>documentsList</code> using the following line of code:</p>\n\n<pre><code>documentsList.clear();\n</code></pre>\n\n<p>To solve this, simply remove it from the second query because you need to add more data and to the list not to remove the initial one. I have answered a similar question <strong><a href=\"https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\">here</a></strong>.</p>\n"}],"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58538313,"answer_count":1,"score":1,"last_activity_date":1690354883,"creation_date":1571908960,"question_id":58538187,"body_markdown":"I have added pagination feature to my application, but data cannot load more. When i set a limit of 20 data, then i add 23 data and load more, 20 data is invisible and 3 data is visible. Can anyone help me to fix this error?\r\n\r\nScreenshot of the first 20 data sets :\r\n\r\n![1][1]\r\n\r\nScreenshot of when i scroll :\r\n\r\n![2][2]\r\n\r\nCode :\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        collectionReference.limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    if(!task.getResult().isEmpty()) {\r\n                        documentsList.clear();\r\n\r\n                        for (DocumentSnapshot documentSnapshot : task.getResult()) {\r\n                            Documents documents = documentSnapshot.toObject(Documents.class);\r\n                            documentsList.add(documents);\r\n                            documentListAdapter.notifyDataSetChanged();\r\n                            lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\r\n                        }\r\n\r\n                        RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\r\n                            @Override\r\n                            public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\r\n                                super.onScrollStateChanged(recyclerView, newState);\r\n\r\n                                if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\r\n                                    isScrolling = true;\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                                super.onScrolled(recyclerView, dx, dy);\r\n\r\n                                int firstVisibleDocument = layoutManager.findFirstVisibleItemPosition();\r\n                                int visibleDocumentCount = layoutManager.getChildCount();\r\n                                int totalDocumentCount = layoutManager.getItemCount();\r\n\r\n                                if (isScrolling &amp;&amp; (firstVisibleDocument + visibleDocumentCount == totalDocumentCount) &amp;&amp; !isLastItemReached) {\r\n                                    isScrolling = false;\r\n\r\n                                    collectionReferences.startAfter(lastVisible).limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                documentsList.clear();\r\n\r\n                                                for (DocumentSnapshot documentSnapshot : task.getResult()) {\r\n                                                    Documents documents = documentSnapshot.toObject(Documents.class);\r\n                                                    documentsList.add(documents);\r\n                                                    documentListAdapter.notifyDataSetChanged();\r\n                                                    lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\r\n                                                }\r\n\r\n                                                if (task.getResult().size() &lt; 20) {\r\n                                                    isLastItemReached = true;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        };\r\n\r\n                        recyclerViewDocument.addOnScrollListener(onScrollListener);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mu7Ix.png\r\n  [2]: https://i.stack.imgur.com/aNN2p.png","title":"Cannot load more data pagination using Recycler view android","body":"<p>I have added pagination feature to my application, but data cannot load more. When i set a limit of 20 data, then i add 23 data and load more, 20 data is invisible and 3 data is visible. Can anyone help me to fix this error?</p>\n\n<p>Screenshot of the first 20 data sets :</p>\n\n<p><img src=\"https://i.stack.imgur.com/mu7Ix.png\" alt=\"1\"></p>\n\n<p>Screenshot of when i scroll :</p>\n\n<p><img src=\"https://i.stack.imgur.com/aNN2p.png\" alt=\"2\"></p>\n\n<p>Code :</p>\n\n<pre><code>@Override\nprotected void onStart() {\n    super.onStart();\n\n    collectionReference.limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                if(!task.getResult().isEmpty()) {\n                    documentsList.clear();\n\n                    for (DocumentSnapshot documentSnapshot : task.getResult()) {\n                        Documents documents = documentSnapshot.toObject(Documents.class);\n                        documentsList.add(documents);\n                        documentListAdapter.notifyDataSetChanged();\n                        lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\n                    }\n\n                    RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\n                        @Override\n                        public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\n                            super.onScrollStateChanged(recyclerView, newState);\n\n                            if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\n                                isScrolling = true;\n                            }\n                        }\n\n                        @Override\n                        public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n                            super.onScrolled(recyclerView, dx, dy);\n\n                            int firstVisibleDocument = layoutManager.findFirstVisibleItemPosition();\n                            int visibleDocumentCount = layoutManager.getChildCount();\n                            int totalDocumentCount = layoutManager.getItemCount();\n\n                            if (isScrolling &amp;&amp; (firstVisibleDocument + visibleDocumentCount == totalDocumentCount) &amp;&amp; !isLastItemReached) {\n                                isScrolling = false;\n\n                                collectionReferences.startAfter(lastVisible).limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                                        if (task.isSuccessful()) {\n                                            documentsList.clear();\n\n                                            for (DocumentSnapshot documentSnapshot : task.getResult()) {\n                                                Documents documents = documentSnapshot.toObject(Documents.class);\n                                                documentsList.add(documents);\n                                                documentListAdapter.notifyDataSetChanged();\n                                                lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\n                                            }\n\n                                            if (task.getResult().size() &lt; 20) {\n                                                isLastItemReached = true;\n                                            }\n                                        }\n                                    }\n                                });\n                            }\n                        }\n                    };\n\n                    recyclerViewDocument.addOnScrollListener(onScrollListener);\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571822645,"creation_date":1571818920,"answer_id":58518512,"question_id":58518315,"body_markdown":"Since passing a `Date` object as the second argument to the following query:\r\n\r\n    firestore.collection(&quot;user&quot;).whereEqualTo(&quot;birhtday&quot;, todaysDate);\r\n\r\nReturn all users that have the birthday today, the addition of a new property is required. In this new property you can simply store the date as day and month in a String format:\r\n\r\n    shortBirhtday: &quot;09-Jun&quot;\r\n\r\nAnd then query the database using:\r\n\r\n    firestore.collection(&quot;user&quot;).whereEqualTo(&quot;shortBirhtday&quot;, &quot;09-Jun&quot;);\r\n\r\nThis query ill return all users that have the birthday on 9 June, no matter of year.\r\n\r\n**Edit:**\r\n\r\nAccording to @DougStevenson comment, a more appropriate way of storing the Date should be:\r\n\r\n    09-06\r\n\r\nWhere `09` stands for the day and `06` stands for the month. And this is the corresponding query:\r\n\r\n    firestore.collection(&quot;user&quot;).whereEqualTo(&quot;shortBirhtday&quot;, &quot;09-06&quot;);","title":"Firestore query documents by birthday date, like only query by day and month exclude year?","body":"<p>Since passing a <code>Date</code> object as the second argument to the following query:</p>\n\n<pre><code>firestore.collection(\"user\").whereEqualTo(\"birhtday\", todaysDate);\n</code></pre>\n\n<p>Return all users that have the birthday today, the addition of a new property is required. In this new property you can simply store the date as day and month in a String format:</p>\n\n<pre><code>shortBirhtday: \"09-Jun\"\n</code></pre>\n\n<p>And then query the database using:</p>\n\n<pre><code>firestore.collection(\"user\").whereEqualTo(\"shortBirhtday\", \"09-Jun\");\n</code></pre>\n\n<p>This query ill return all users that have the birthday on 9 June, no matter of year.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>According to @DougStevenson comment, a more appropriate way of storing the Date should be:</p>\n\n<pre><code>09-06\n</code></pre>\n\n<p>Where <code>09</code> stands for the day and <code>06</code> stands for the month. And this is the corresponding query:</p>\n\n<pre><code>firestore.collection(\"user\").whereEqualTo(\"shortBirhtday\", \"09-06\");\n</code></pre>\n"}],"owner":{"account_id":7559749,"reputation":525,"user_id":6159314,"accept_rate":33,"display_name":"Kulwinder Singh Rahal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58518512,"answer_count":1,"score":0,"last_activity_date":1690354876,"creation_date":1571818126,"question_id":58518315,"body_markdown":"I have users collection where each user contains its `birthday` filed as `Timestamp`, so now I want to query users whose birthday is **today**, so how can I query only for `day` and `month` because in this case `year` does not matter.   \r\n[![enter image description here][1]][1]   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mNC57.png\r\n\r\nSo what I know is that we can only search by date like this  `firestore.collection(&quot;user&quot;).whereEqualTo(&quot;birhtday&quot;, todaysDate)`, but as we know it&#39;s not going to return anything because it will also going to match `year`\r\n\r\nSo what would be best solution here?","title":"Firestore query documents by birthday date, like only query by day and month exclude year?","body":"<p>I have users collection where each user contains its <code>birthday</code> filed as <code>Timestamp</code>, so now I want to query users whose birthday is <strong>today</strong>, so how can I query only for <code>day</code> and <code>month</code> because in this case <code>year</code> does not matter.<br>\n<a href=\"https://i.stack.imgur.com/mNC57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mNC57.png\" alt=\"enter image description here\"></a>   </p>\n\n<p>So what I know is that we can only search by date like this  <code>firestore.collection(\"user\").whereEqualTo(\"birhtday\", todaysDate)</code>, but as we know it's not going to return anything because it will also going to match <code>year</code></p>\n\n<p>So what would be best solution here?</p>\n"},{"tags":["java","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657901476,"creation_date":1657901476,"answer_id":72996855,"question_id":72994239,"body_markdown":"Your classpath contains incompatible dependencies. Specifically, the version of Spring Framework&#39;s `spring-context` jar that you are using is not compatible with the version of Spring Boot&#39;s `spring-boot` jar. Using Spring Boot&#39;s dependency management and allowing it to control the versions of your application&#39;s dependencies is the recommended way to avoid this problem.","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException Caused by: java.lang.AbstractMethodError:","body":"<p>Your classpath contains incompatible dependencies. Specifically, the version of Spring Framework's <code>spring-context</code> jar that you are using is not compatible with the version of Spring Boot's <code>spring-boot</code> jar. Using Spring Boot's dependency management and allowing it to control the versions of your application's dependencies is the recommended way to avoid this problem.</p>\n"},{"tags":[],"owner":{"account_id":18616430,"reputation":37,"user_id":14728619,"display_name":"Eufr&#225;nio Diogo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690354695,"creation_date":1690354695,"answer_id":76768706,"question_id":72994239,"body_markdown":"Try to delete target folder, and build again the application in my case, the IDE set Java 18, but my application uses Java 11 I changed it and deleted the target folder.","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException Caused by: java.lang.AbstractMethodError:","body":"<p>Try to delete target folder, and build again the application in my case, the IDE set Java 18, but my application uses Java 11 I changed it and deleted the target folder.</p>\n"}],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1540,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1690354695,"creation_date":1657889264,"question_id":72994239,"body_markdown":"Tried exploring multiple articles for the same but didn&#39;t help ! \r\n\r\nCan someone throw some light what could be possibly wrong here ? \r\n\r\n    &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_241\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar=56127:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar&quot; com.intellij.rt.execution.CommandLineWrapper C:\\Users\\x01373661\\AppData\\Local\\Temp\\1\\idea_classpath132405151 com.CONFIDENTIAL.svc.event.Application\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:63)\r\n    Caused by: java.lang.AbstractMethodError: org.springframework.boot.context.config.ConfigFileApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\r\n    \tat org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java:79)\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:289)\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:221)\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:192)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat com.barclaycardus.svc.event.Application.main(Application.java:66)\r\n    \t... 5 more\r\n    \r\n    Process finished with exit code 1","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException Caused by: java.lang.AbstractMethodError:","body":"<p>Tried exploring multiple articles for the same but didn't help !</p>\n<p>Can someone throw some light what could be possibly wrong here ?</p>\n<pre><code>&quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_241\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar=56127:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar&quot; com.intellij.rt.execution.CommandLineWrapper C:\\Users\\x01373661\\AppData\\Local\\Temp\\1\\idea_classpath132405151 com.CONFIDENTIAL.svc.event.Application\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:63)\nCaused by: java.lang.AbstractMethodError: org.springframework.boot.context.config.ConfigFileApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\n    at org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java:79)\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:289)\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:221)\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:192)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.barclaycardus.svc.event.Application.main(Application.java:66)\n    ... 5 more\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","spring","circuit-breaker","resilience4j","resilience4j-retry"],"comments":[{"owner":{"account_id":20695267,"reputation":23,"user_id":15195616,"display_name":"Julio Vargas"},"score":0,"creation_date":1690299777,"post_id":76764378,"comment_id":135332608,"body_markdown":"Not even fallbacks are getting executed because of the same issue (not identifying any &quot;desired&quot; exception).","body":"Not even fallbacks are getting executed because of the same issue (not identifying any &quot;desired&quot; exception)."},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1691050657,"post_id":76764378,"comment_id":135439793,"body_markdown":"Did you try to annotate an endpoint with the CB and retry where you don&#39;t have a custom exception handler? Does that setup work as expected?","body":"Did you try to annotate an endpoint with the CB and retry where you don&#39;t have a custom exception handler? Does that setup work as expected?"}],"owner":{"account_id":20695267,"reputation":23,"user_id":15195616,"display_name":"Julio Vargas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690354329,"creation_date":1690299698,"question_id":76764378,"body_markdown":"I was asked to implement both `@CircuitBreaker` and `@Retry` patterns in a project where a `CustomExceptionHandler` (`@ControllerAdvice`) is used to perform interceptions.\r\n\r\nAs custom outputs (based on custom models) are being returned instead of default exceptions, none of them are being executed.\r\n\r\nBoth `@CircuitBreaker` and `@Retry` patterns have some parameters to trigger themselves when specific exceptions occur, but the application is not having exceptions, but custom response entities.\r\n\r\nIs there any idea to fix this conflict? Resilience4j&#39;s documentation doesn&#39;t include anything similar.","title":"Resilience4j&#39;s patterns are not being executed due to CustomExceptionHandler","body":"<p>I was asked to implement both <code>@CircuitBreaker</code> and <code>@Retry</code> patterns in a project where a <code>CustomExceptionHandler</code> (<code>@ControllerAdvice</code>) is used to perform interceptions.</p>\n<p>As custom outputs (based on custom models) are being returned instead of default exceptions, none of them are being executed.</p>\n<p>Both <code>@CircuitBreaker</code> and <code>@Retry</code> patterns have some parameters to trigger themselves when specific exceptions occur, but the application is not having exceptions, but custom response entities.</p>\n<p>Is there any idea to fix this conflict? Resilience4j's documentation doesn't include anything similar.</p>\n"},{"tags":["java","amazon-iam","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"score":0,"creation_date":1680159689,"post_id":75870670,"comment_id":133851317,"body_markdown":"hi Taras , Im also facing the same issue , if you find any solution kindly keep it updated here.","body":"hi Taras , Im also facing the same issue , if you find any solution kindly keep it updated here."}],"answers":[{"tags":[],"owner":{"account_id":16559864,"reputation":23,"user_id":11966025,"display_name":"HB HONG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680484405,"creation_date":1680246172,"answer_id":75895727,"question_id":75870670,"body_markdown":"I&#39;ve got a same error.\r\nThere are a few things you can check:\r\n\r\n1. **Credentials**: Make sure that the `access key` and `secret key` in your Java application are correct and match the credentials in your `AWS profile`.\r\n2. **Region**: Make sure that your Java application is using the same region as your OpenSearch domain.\r\n3. **Permissions**: Make sure that the `IAM user/role` associated with your credentials has the necessary permissions to interact with your OpenSearch domain.\r\n4. **Endpoint**: Make sure that your Java application is using the correct endpoint URL which excludes `https://`.\r\n5. **Version**: Make sure that your Java application implemented correct version of the OpenSearchClient for the version of OpenSearch you are using.\r\n\r\nIn my case, in fact, my infrastructure manager set OpenSearch to only allow ID/PW access. Therefore, it is recommended to check the **OpenSearch security configuration**, too.","title":"AWS OpenSearch Service. Request failed: [security_exception] authentication/authorization failure","body":"<p>I've got a same error.\nThere are a few things you can check:</p>\n<ol>\n<li><strong>Credentials</strong>: Make sure that the <code>access key</code> and <code>secret key</code> in your Java application are correct and match the credentials in your <code>AWS profile</code>.</li>\n<li><strong>Region</strong>: Make sure that your Java application is using the same region as your OpenSearch domain.</li>\n<li><strong>Permissions</strong>: Make sure that the <code>IAM user/role</code> associated with your credentials has the necessary permissions to interact with your OpenSearch domain.</li>\n<li><strong>Endpoint</strong>: Make sure that your Java application is using the correct endpoint URL which excludes <code>https://</code>.</li>\n<li><strong>Version</strong>: Make sure that your Java application implemented correct version of the OpenSearchClient for the version of OpenSearch you are using.</li>\n</ol>\n<p>In my case, in fact, my infrastructure manager set OpenSearch to only allow ID/PW access. Therefore, it is recommended to check the <strong>OpenSearch security configuration</strong>, too.</p>\n"},{"tags":[],"owner":{"account_id":17325126,"reputation":11,"user_id":12549523,"display_name":"wals"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690353395,"creation_date":1690353164,"answer_id":76768580,"question_id":75870670,"body_markdown":"You may have enabled Fine-grained access control with master user when you created your cluster. If that&#39;s the case, the request is not authorized when processed with IAM user (in the case you are running your code on your IAM user profile). You have two options: \r\n\r\n1. Go to your Domain in console -&gt; Security configuration -&gt; Fine-grained access control and set IAM ARN as master user.\r\n\r\n2. Update domain level access policy to allow your IAM user access. \r\nResource to help on this point - https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html","title":"AWS OpenSearch Service. Request failed: [security_exception] authentication/authorization failure","body":"<p>You may have enabled Fine-grained access control with master user when you created your cluster. If that's the case, the request is not authorized when processed with IAM user (in the case you are running your code on your IAM user profile). You have two options:</p>\n<ol>\n<li><p>Go to your Domain in console -&gt; Security configuration -&gt; Fine-grained access control and set IAM ARN as master user.</p>\n</li>\n<li><p>Update domain level access policy to allow your IAM user access.\nResource to help on this point - <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":12811038,"reputation":31,"user_id":9269248,"display_name":"Taras Vovk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690353395,"creation_date":1680034384,"question_id":75870670,"body_markdown":"I&#39;m trying to use OpenSearch to connect to my OpenSearch domain on AWS. I set env for AWS. However, I&#39;m encountering an authentication/authorization failure. Here&#39;s my code:\r\n\r\n```\r\npublic class Example {\r\n\r\n  public static void main(final String[] args) throws IOException {\r\n    SdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n    try {\r\n      OpenSearchClient client =\r\n          new OpenSearchClient(\r\n              new AwsSdk2Transport(\r\n                  httpClient,\r\n                  &quot;search-*****-3ovub4o4gncugluu6t2tquptnu.eu-central-1.es.amazonaws.com&quot;,\r\n                  Region.EU_CENTRAL_1,\r\n                  AwsSdk2TransportOptions.builder().build()));\r\n\r\n      InfoResponse info = client.info();\r\n      System.out.println(info.version().distribution() + &quot;: &quot; + info.version().number());\r\n    } finally {\r\n      httpClient.close();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhen I run this code, I get the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failureat org.opensearch.client.transport.aws.AwsSdk2Transport.parseResponse(AwsSdk2Transport.java:47)at org.opensearch.client.transport.aws.AwsSdk2Transport.executeSync(AwsSdk2Transport.java:393)at org.opensearch.client.transport.aws.AwsSdk2Transport.performRequest(AwsSdk2Transport.java:191)at org.opensearch.client.opensearch.OpenSearchClient.info(OpenSearchClient.java:790)at Example.main(Example.java:25)\r\n```\r\n\r\nI believe I have the correct permissions set up for my IAM user, and I&#39;m using the correct access key and secret key. However, I still can&#39;t seem to resolve this issue. What am I missing or doing wrong? Any help or guidance would be appreciated.\r\n\r\nthis is my aws config [pic_1][1] [pic_2][2] [pic_3][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ho0pD.png\r\n  [2]: https://i.stack.imgur.com/JfSI4.png\r\n  [3]: https://i.stack.imgur.com/iA9Dk.png","title":"AWS OpenSearch Service. Request failed: [security_exception] authentication/authorization failure","body":"<p>I'm trying to use OpenSearch to connect to my OpenSearch domain on AWS. I set env for AWS. However, I'm encountering an authentication/authorization failure. Here's my code:</p>\n<pre><code>public class Example {\n\n  public static void main(final String[] args) throws IOException {\n    SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n    try {\n      OpenSearchClient client =\n          new OpenSearchClient(\n              new AwsSdk2Transport(\n                  httpClient,\n                  &quot;search-*****-3ovub4o4gncugluu6t2tquptnu.eu-central-1.es.amazonaws.com&quot;,\n                  Region.EU_CENTRAL_1,\n                  AwsSdk2TransportOptions.builder().build()));\n\n      InfoResponse info = client.info();\n      System.out.println(info.version().distribution() + &quot;: &quot; + info.version().number());\n    } finally {\n      httpClient.close();\n    }\n  }\n}\n</code></pre>\n<p>When I run this code, I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failureat org.opensearch.client.transport.aws.AwsSdk2Transport.parseResponse(AwsSdk2Transport.java:47)at org.opensearch.client.transport.aws.AwsSdk2Transport.executeSync(AwsSdk2Transport.java:393)at org.opensearch.client.transport.aws.AwsSdk2Transport.performRequest(AwsSdk2Transport.java:191)at org.opensearch.client.opensearch.OpenSearchClient.info(OpenSearchClient.java:790)at Example.main(Example.java:25)\n</code></pre>\n<p>I believe I have the correct permissions set up for my IAM user, and I'm using the correct access key and secret key. However, I still can't seem to resolve this issue. What am I missing or doing wrong? Any help or guidance would be appreciated.</p>\n<p>this is my aws config <a href=\"https://i.stack.imgur.com/Ho0pD.png\" rel=\"nofollow noreferrer\">pic_1</a> <a href=\"https://i.stack.imgur.com/JfSI4.png\" rel=\"nofollow noreferrer\">pic_2</a> <a href=\"https://i.stack.imgur.com/iA9Dk.png\" rel=\"nofollow noreferrer\">pic_3</a></p>\n"},{"tags":["java","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":0,"creation_date":1679915360,"post_id":74593513,"comment_id":133800583,"body_markdown":"The generator documentation page (https://openapi-generator.tech/docs/generators) is always the first goto in these cases. OpenAPI tech  is well adapted and chances are, the community has already hit the issue and delivered the fix","body":"The generator documentation page (<a href=\"https://openapi-generator.tech/docs/generators\" rel=\"nofollow noreferrer\">openapi-generator.tech/docs/generators</a>) is always the first goto in these cases. OpenAPI tech  is well adapted and chances are, the community has already hit the issue and delivered the fix"},{"owner":{"account_id":399864,"reputation":71,"user_id":4317999,"display_name":"SANJAY GAUTAM"},"score":0,"creation_date":1689211546,"post_id":74593513,"comment_id":135182497,"body_markdown":"can you share where they fixed the issues ?","body":"can you share where they fixed the issues ?"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":4,"creation_date":1689239921,"post_id":74593513,"comment_id":135186304,"body_markdown":"@SANJAYGAUTAM see sashok_bg&#39;s answer https://stackoverflow.com/a/75743432/2886891 - it works with `&lt;configOptions&gt; &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt; &lt;/configOptions&gt;` since some version. I am using it and I can confirm that it works. In my opinion this should be the accepted answer. The `useSpringBoot3` answer with the most votes works only for server-side generator `spring`.","body":"@SANJAYGAUTAM see sashok_bg&#39;s answer <a href=\"https://stackoverflow.com/a/75743432/2886891\">stackoverflow.com/a/75743432/2886891</a> - it works with <code>&lt;configOptions&gt; &lt;useJakartaEe&gt;true&lt;&#47;useJakartaEe&gt; &lt;&#47;configOptions&gt;</code> since some version. I am using it and I can confirm that it works. In my opinion this should be the accepted answer. The <code>useSpringBoot3</code> answer with the most votes works only for server-side generator <code>spring</code>."},{"owner":{"account_id":21375952,"reputation":593,"user_id":15742673,"display_name":"meldevep"},"score":1,"creation_date":1701271826,"post_id":74593513,"comment_id":136755573,"body_markdown":"@HonzaZidek To avoid any further confusion, I have accepted SANJAYGAUTAM`s  answer as the correct one","body":"@HonzaZidek To avoid any further confusion, I have accepted SANJAYGAUTAM`s  answer as the correct one"}],"answers":[{"tags":[],"owner":{"account_id":27073942,"reputation":377,"user_id":20624205,"display_name":"Shaki"},"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1669643637,"creation_date":1669643637,"answer_id":74601642,"question_id":74593513,"body_markdown":"Yes, you can use useSpringBoot3: &quot;true&quot; in your configoptions of the generator.\r\nExample in gradle:\r\n\r\n            configOptions = [\r\n                useSpringBoot3: &quot;true&quot;\r\n            ]","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>Yes, you can use useSpringBoot3: &quot;true&quot; in your configoptions of the generator.\nExample in gradle:</p>\n<pre><code>        configOptions = [\n            useSpringBoot3: &quot;true&quot;\n        ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1678876547,"creation_date":1678876019,"answer_id":75743432,"question_id":74593513,"body_markdown":"You should follow the documentation whenever possible.\r\n\r\nThe property that you need is either &quot;useSpringBoot3&quot; or &quot;useJakartaEe&quot; \r\n\r\n1) Go to https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\r\n\r\n2) At the end of the table you see &quot;configHelp&quot; property which will give you configs for the current generator &quot;spring&quot; in my case\r\n\r\n3) Rerun &quot;mvn clean install&quot; - this will give you a list of available &quot;configOptions&quot;.\r\n\r\n4) Read the list and found a property\r\n\r\n    useJakartaEe:\r\n    \t    whether to use Jakarta EE namespace instead of javax (Default: false)\r\n\r\nMy final pom:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;6.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configHelp&gt;false&lt;/configHelp&gt;\r\n                    &lt;configOptions&gt;\r\n                        &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\r\n                    &lt;/configOptions&gt;\r\n                    &lt;inputSpec&gt;\r\n                        ${project.basedir}/src/main/resources/api.openapi.yaml\r\n                    &lt;/inputSpec&gt;\r\n                    &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                    &lt;apiPackage&gt;some.package&lt;/apiPackage&gt;\r\n                    &lt;modelPackage&gt;some.package.model&lt;/modelPackage&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nCheers\r\n","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>You should follow the documentation whenever possible.</p>\n<p>The property that you need is either &quot;useSpringBoot3&quot; or &quot;useJakartaEe&quot;</p>\n<ol>\n<li><p>Go to <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"noreferrer\">https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin</a></p>\n</li>\n<li><p>At the end of the table you see &quot;configHelp&quot; property which will give you configs for the current generator &quot;spring&quot; in my case</p>\n</li>\n<li><p>Rerun &quot;mvn clean install&quot; - this will give you a list of available &quot;configOptions&quot;.</p>\n</li>\n<li><p>Read the list and found a property</p>\n<p>useJakartaEe:\nwhether to use Jakarta EE namespace instead of javax (Default: false)</p>\n</li>\n</ol>\n<p>My final pom:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.4.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;configHelp&gt;false&lt;/configHelp&gt;\n                &lt;configOptions&gt;\n                    &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\n                &lt;/configOptions&gt;\n                &lt;inputSpec&gt;\n                    ${project.basedir}/src/main/resources/api.openapi.yaml\n                &lt;/inputSpec&gt;\n                &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                &lt;apiPackage&gt;some.package&lt;/apiPackage&gt;\n                &lt;modelPackage&gt;some.package.model&lt;/modelPackage&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":29061885,"reputation":39,"user_id":22262333,"display_name":"Ikomyon"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1690353004,"creation_date":1690353004,"answer_id":76768560,"question_id":74593513,"body_markdown":"I use `openapi-generator generate` command and adding options that\r\n\r\n    --additional-properties=useSpringBoot3=true\r\n\r\nalso worked.\r\nHere is the reference: https://openapi-generator.tech/docs/generators/spring/\r\n","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>I use <code>openapi-generator generate</code> command and adding options that</p>\n<pre><code>--additional-properties=useSpringBoot3=true\n</code></pre>\n<p>also worked.\nHere is the reference: <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/generators/spring/</a></p>\n"}],"owner":{"account_id":21375952,"reputation":593,"user_id":15742673,"display_name":"meldevep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21710,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":75743432,"answer_count":3,"score":48,"last_activity_date":1690353004,"creation_date":1669580243,"question_id":74593513,"body_markdown":"I&#39;ve recently upgraded my project to use spring-boot 3.0.0. So I don&#39;t have `javax.*` modules in the project anymore. But the Open API generator keeps trying to import `javax` modules. Especially, it uses `javax.annotation.Generated` for the `@Generated` annotation which is not present in the project anymore. Is there a way to reconfigure it somehow? ","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>I've recently upgraded my project to use spring-boot 3.0.0. So I don't have <code>javax.*</code> modules in the project anymore. But the Open API generator keeps trying to import <code>javax</code> modules. Especially, it uses <code>javax.annotation.Generated</code> for the <code>@Generated</code> annotation which is not present in the project anymore. Is there a way to reconfigure it somehow?</p>\n"},{"tags":["java","azure","azure-blob-storage"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690330227,"post_id":76766861,"comment_id":135337542,"body_markdown":"From the typos in your post (`serviceCLient` vs `blobServiceClient` for example) it&#39;s clear you retyped the code.  DON&#39;T DO THAT -- copy/paste from the real source code.  We can&#39;t trust that what we see is what you are actually running, so all bets are off.","body":"From the typos in your post (<code>serviceCLient</code> vs <code>blobServiceClient</code> for example) it&#39;s clear you retyped the code.  DON&#39;T DO THAT -- copy/paste from the real source code.  We can&#39;t trust that what we see is what you are actually running, so all bets are off."},{"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"score":0,"creation_date":1690347225,"post_id":76766861,"comment_id":135338887,"body_markdown":"List&lt;BlobClient&gt; but you said it contained the blob names. If you put cookies in a cookie jar you have cookies. But if you put them in a meat grinder, you don&#39;t have cookies","body":"List&lt;BlobClient&gt; but you said it contained the blob names. If you put cookies in a cookie jar you have cookies. But if you put them in a meat grinder, you don&#39;t have cookies"}],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690352991,"creation_date":1690352991,"answer_id":76768554,"question_id":76766861,"body_markdown":"When you list blobs using [`listBlobsByHierarchy`][1], it will return both blobs and virtual folders. My guess is that the first item in your list is a virtual folder and since it is not an actual blob, the delete operation is failing with `404 (NotFound)` error.\r\n\r\nYou can either filter your list by checking if the blob returned is an actual blob by checking [`isPrefix()`][2] or you can simply return the list of blobs (and no virtual folders) by using [`flat listing`][3].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-hierarchical-listing\r\n  [2]: https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.models.blobitem?view=azure-java-stable#com-azure-storage-blob-models-blobitem-isprefix()\r\n  [3]: https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-flat-listing","title":"Deleting blobs from a sub-folder within a container","body":"<p>When you list blobs using <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-hierarchical-listing\" rel=\"nofollow noreferrer\"><code>listBlobsByHierarchy</code></a>, it will return both blobs and virtual folders. My guess is that the first item in your list is a virtual folder and since it is not an actual blob, the delete operation is failing with <code>404 (NotFound)</code> error.</p>\n<p>You can either filter your list by checking if the blob returned is an actual blob by checking <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.models.blobitem?view=azure-java-stable#com-azure-storage-blob-models-blobitem-isprefix()\" rel=\"nofollow noreferrer\"><code>isPrefix()</code></a> or you can simply return the list of blobs (and no virtual folders) by using <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-flat-listing\" rel=\"nofollow noreferrer\"><code>flat listing</code></a>.</p>\n"}],"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76768554,"answer_count":1,"score":-1,"last_activity_date":1690352991,"creation_date":1690323751,"question_id":76766861,"body_markdown":"I am attempting to delete some blobs from blob storage, but I don&#39;t initially know which blobs to delete. Basically, I want to list the blobs and figure out the most recent one and delete that one. My code looks something like this:\r\n```\r\nprivate void deleteLatestBlob(String sasUrl, String container)\r\n{\r\n    BlobServiceClient serviceClient = new BlobServiceClientBuilder().endpoint(sasUrl).buildClient();\r\n    BlobContainerClient container = serviceClient.getBlobContainerClient(container);\r\n    List&lt;BlobClient&gt; clients = container.listBlobsByHierarchy(&quot;foo/bar/&quot;)\r\n        .stream()\r\n        .map(item -&gt; container.getBlobClient(item.getName()))\r\n        .sorted((client1, client2) -&gt;\r\n            client2.getProperties().getLastModified()\r\n                .compareTo(client1.getProperties().getLastModified()))\r\n        .collect(Collectors.toList());\r\n\r\n    if (!clients.isEmpty())\r\n    {\r\n        clients.get(clients.size() - 1).delete(); // Exception happens here\r\n    }\r\n}\r\n```\r\nThe goal here is to delete the most recent blob inside of `foo/bar/`. However, I get an exception with message &quot;The requested URI does not represent any resource on the server.&quot;. To avoid spam, a snippet from the stack trace:\r\n```\r\ncom.azure.storage.blob.models.BlobStorageException: Status code 400, &quot;?&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;InvalidUri&lt;/Code&gt;&lt;Message&gt;The requested URI does not represent any resource on the server.\r\nRequestId:300025de-001e-006e-7644-bfb34b000000\r\nTime:2023-07-25T22:09:35.6134376Z&lt;/Message&gt;&lt;/Error&gt;&quot;\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at com.azure.core.http.rest.RestProxy.instantiateUnexpectedException(RestProxy.java:370)\r\n        at com.azure.core.http.rest.RestProxy.lambda$ensureExpectedStatus$7(RestProxy.java:425)\r\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\r\n... snip...\r\n        Suppressed: java.lang.Exception: #block terminated with an error\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1706)\r\n                at com.azure.storage.common.implementation.StorageImplUtils.blockWithOptionalTimeout(StorageImplUtils.java:128)\r\n                at com.azure.storage.blob.specialized.BlobClientBase.deleteWithResponse(BlobClientBase.java:973)\r\n                at com.azure.storage.blob.specialized.BlobClientBase.delete(BlobClientBase.java:944)\r\n```\r\nGiven that I&#39;m using the blob name directly from the `BlobItem` I just got from listing, how could the resource be missing?\r\n```","title":"Deleting blobs from a sub-folder within a container","body":"<p>I am attempting to delete some blobs from blob storage, but I don't initially know which blobs to delete. Basically, I want to list the blobs and figure out the most recent one and delete that one. My code looks something like this:</p>\n<pre><code>private void deleteLatestBlob(String sasUrl, String container)\n{\n    BlobServiceClient serviceClient = new BlobServiceClientBuilder().endpoint(sasUrl).buildClient();\n    BlobContainerClient container = serviceClient.getBlobContainerClient(container);\n    List&lt;BlobClient&gt; clients = container.listBlobsByHierarchy(&quot;foo/bar/&quot;)\n        .stream()\n        .map(item -&gt; container.getBlobClient(item.getName()))\n        .sorted((client1, client2) -&gt;\n            client2.getProperties().getLastModified()\n                .compareTo(client1.getProperties().getLastModified()))\n        .collect(Collectors.toList());\n\n    if (!clients.isEmpty())\n    {\n        clients.get(clients.size() - 1).delete(); // Exception happens here\n    }\n}\n</code></pre>\n<p>The goal here is to delete the most recent blob inside of <code>foo/bar/</code>. However, I get an exception with message &quot;The requested URI does not represent any resource on the server.&quot;. To avoid spam, a snippet from the stack trace:</p>\n<pre><code>com.azure.storage.blob.models.BlobStorageException: Status code 400, &quot;?&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;InvalidUri&lt;/Code&gt;&lt;Message&gt;The requested URI does not represent any resource on the server.\nRequestId:300025de-001e-006e-7644-bfb34b000000\nTime:2023-07-25T22:09:35.6134376Z&lt;/Message&gt;&lt;/Error&gt;&quot;\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at com.azure.core.http.rest.RestProxy.instantiateUnexpectedException(RestProxy.java:370)\n        at com.azure.core.http.rest.RestProxy.lambda$ensureExpectedStatus$7(RestProxy.java:425)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\n... snip...\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                at reactor.core.publisher.Mono.block(Mono.java:1706)\n                at com.azure.storage.common.implementation.StorageImplUtils.blockWithOptionalTimeout(StorageImplUtils.java:128)\n                at com.azure.storage.blob.specialized.BlobClientBase.deleteWithResponse(BlobClientBase.java:973)\n                at com.azure.storage.blob.specialized.BlobClientBase.delete(BlobClientBase.java:944)\n</code></pre>\n<p>Given that I'm using the blob name directly from the <code>BlobItem</code> I just got from listing, how could the resource be missing?</p>\n<pre><code></code></pre>\n"},{"tags":["java","json","spring-boot","jackson","objectmapper"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690352891,"post_id":76768520,"comment_id":135339595,"body_markdown":"Does this answer your question? [Convert JSON String to Pretty Print JSON output using Jackson](https://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson\">Convert JSON String to Pretty Print JSON output using Jackson</a>"},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1690353215,"post_id":76768520,"comment_id":135339648,"body_markdown":"@tgdavies both top 2 answers given in your suggested link gives - &quot;{\\n  \\&quot;apiRequestType\\&quot; : \\&quot;add\\&quot;,\\n  \\&quot;noOfTIDsRequired\\&quot; : \\&quot;1\\&quot;,\\n  \\&quot;applicationId\\&quot; : \\&quot;dxvfdv\\&quot;,\\n  \\&quot;posId\\&quot; : \\&quot;1140475\\&quot;,\\n  \\&quot;midTidDetails\\&quot; : null\\n}&quot;\n\nthere is an extra \\n with every key-value pair. Which is not what i was looking for.","body":"@tgdavies both top 2 answers given in your suggested link gives - &quot;{\\n  \\&quot;apiRequestType\\&quot; : \\&quot;add\\&quot;,\\n  \\&quot;noOfTIDsRequired\\&quot; : \\&quot;1\\&quot;,\\n  \\&quot;applicationId\\&quot; : \\&quot;dxvfdv\\&quot;,\\n  \\&quot;posId\\&quot; : \\&quot;1140475\\&quot;,\\n  \\&quot;midTidDetails\\&quot; : null\\n}&quot;  there is an extra \\n with every key-value pair. Which is not what i was looking for."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690353341,"post_id":76768520,"comment_id":135339670,"body_markdown":"Why do you want indents but not newlines? I assumed you were trying to make the JSON more human readable.","body":"Why do you want indents but not newlines? I assumed you were trying to make the JSON more human readable."},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1690355248,"post_id":76768520,"comment_id":135340059,"body_markdown":"bro, if Newlines is what I have wanted, then I won&#39;t have put up a new question here on StackOverflow. Google search already suggested to me the link you shared. I exactly want what I have mentioned in the question.","body":"bro, if Newlines is what I have wanted, then I won&#39;t have put up a new question here on StackOverflow. Google search already suggested to me the link you shared. I exactly want what I have mentioned in the question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690355691,"post_id":76768520,"comment_id":135340142,"body_markdown":"Just remove the newlines from the string.","body":"Just remove the newlines from the string."},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1690359698,"post_id":76768520,"comment_id":135340908,"body_markdown":"That is also not easy. in-between &#39;\\n&#39; characters need to be replaced with &#39;  &#39; but ending &#39;\\n&#39; characters need to be replaced with &#39;&#39;. And I do not want to customize  encryptino-decryption logic this much.","body":"That is also not easy. in-between &#39;\\n&#39; characters need to be replaced with &#39;  &#39; but ending &#39;\\n&#39; characters need to be replaced with &#39;&#39;. And I do not want to customize  encryptino-decryption logic this much."}],"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690352595,"creation_date":1690352595,"question_id":76768520,"body_markdown":"for the given object -\r\n\r\n    {\r\n        &quot;apiRequestType&quot;: &quot;add&quot;,\r\n        &quot;noOfTIDsRequired&quot;: &quot;1&quot;,\r\n        &quot;applicationId&quot;: &quot;dxvfdv&quot;,\r\n        &quot;posId&quot;: &quot;1140475&quot;,\r\n        &quot;midTidDetails&quot;: null\r\n    }\r\n\r\ni get this -\r\n\r\n    &quot;{\\&quot;apiRequestType\\&quot;:\\&quot;add\\&quot;,\\&quot;noOfTIDsRequired\\&quot;:\\&quot;1\\&quot;,\\&quot;applicationId\\&quot;:\\&quot;dxvfdv\\&quot;,\\&quot;posId\\&quot;:\\&quot;1140475\\&quot;,\\&quot;midTidDetails\\&quot;:null}&quot;\r\n\r\nfrom -\r\n\r\n    objectMapper.writeValueAsString(inputMap))\r\n\r\nbut i want this -\r\n\r\n    &quot;{    \\&quot;apiRequestType\\&quot;: \\&quot;add\\&quot;,    \\&quot;noOfTIDsRequired\\&quot;: \\&quot;1\\&quot;,    \\&quot;applicationId\\&quot;: \\&quot;dxvfdv\\&quot;,    \\&quot;posId\\&quot;: \\&quot;1140475\\&quot;,    \\&quot;midTidDetails\\&quot;: null}&quot;\r\n\r\ncan anyone suggest me how can I achieve my expected output using Jackson ObjectMapper.\r\nOr if any other library can be used then please suggest.\r\n","title":"need indented spacing in JSON converted string from objectMapper","body":"<p>for the given object -</p>\n<pre><code>{\n    &quot;apiRequestType&quot;: &quot;add&quot;,\n    &quot;noOfTIDsRequired&quot;: &quot;1&quot;,\n    &quot;applicationId&quot;: &quot;dxvfdv&quot;,\n    &quot;posId&quot;: &quot;1140475&quot;,\n    &quot;midTidDetails&quot;: null\n}\n</code></pre>\n<p>i get this -</p>\n<pre><code>&quot;{\\&quot;apiRequestType\\&quot;:\\&quot;add\\&quot;,\\&quot;noOfTIDsRequired\\&quot;:\\&quot;1\\&quot;,\\&quot;applicationId\\&quot;:\\&quot;dxvfdv\\&quot;,\\&quot;posId\\&quot;:\\&quot;1140475\\&quot;,\\&quot;midTidDetails\\&quot;:null}&quot;\n</code></pre>\n<p>from -</p>\n<pre><code>objectMapper.writeValueAsString(inputMap))\n</code></pre>\n<p>but i want this -</p>\n<pre><code>&quot;{    \\&quot;apiRequestType\\&quot;: \\&quot;add\\&quot;,    \\&quot;noOfTIDsRequired\\&quot;: \\&quot;1\\&quot;,    \\&quot;applicationId\\&quot;: \\&quot;dxvfdv\\&quot;,    \\&quot;posId\\&quot;: \\&quot;1140475\\&quot;,    \\&quot;midTidDetails\\&quot;: null}&quot;\n</code></pre>\n<p>can anyone suggest me how can I achieve my expected output using Jackson ObjectMapper.\nOr if any other library can be used then please suggest.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690353505,"post_id":76768517,"comment_id":135339706,"body_markdown":"Disabling basic and form login have nothing to do with generating a user. You don&#39;t have a `UserDetailsService` and Spring Boot will automatically create an in memory one with a generated user.","body":"Disabling basic and form login have nothing to do with generating a user. You don&#39;t have a <code>UserDetailsService</code> and Spring Boot will automatically create an in memory one with a generated user."}],"owner":{"account_id":23540670,"reputation":11,"user_id":17584913,"display_name":"lulzeR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690352558,"creation_date":1690352558,"question_id":76768517,"body_markdown":"Here is my Security config where I disable HttpBasic and FormLogin but yet I get generated password..How Can I disable it and following up the logic?\r\n\r\ncould be a problem that my dependencies wrong?\r\n```\r\n@RequiredArgsConstructor\r\n@Configuration\r\n@ComponentScan\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final UserAuthenticationEntryPoint userAuthenticationEntryPoint;\r\n    private final UserAuthenticationProvider userAuthenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.exceptionHandling((exceptionalHandling) -&gt; exceptionalHandling.accessDeniedPage(&quot;/errors/access-denied&quot;))\r\n                .authenticationProvider((AuthenticationProvider) userAuthenticationEntryPoint)\r\n                .addFilterBefore(new JwtAuthFilter(userAuthenticationProvider), BasicAuthenticationFilter.class)\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .cors(AbstractHttpConfigurer::disable)\r\n                .sessionManagement((sessionManagement) -&gt; sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/message&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .formLogin(AbstractHttpConfigurer::disable)\r\n                .httpBasic(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nand this is the entryPoint Auth\r\n\r\n```\r\n@Component\r\npublic class UserAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n\r\n    @Override\r\n    public void commence(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            AuthenticationException authException) throws IOException, ServletException {\r\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n        OBJECT_MAPPER.writeValue(response.getOutputStream(), new ErrorDto(&quot;Unauthorized path&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is the AuthProvider\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\n\r\npublic class UserAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\r\n    private String secretKey;\r\n\r\n    private final UserService userService;\r\n\r\n    @PostConstruct\r\n    protected void init() {\r\n        // this is to avoid having the raw secret key available in the JVM\r\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\r\n    }\r\n\r\n    public String createToken(String login) {\r\n        Date now = new Date();\r\n        Date validity = new Date(now.getTime() + 3600000); // 1 hour\r\n\r\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\r\n        return JWT.create()\r\n                .withIssuer(login)\r\n                .withIssuedAt(now)\r\n                .withExpiresAt(validity)\r\n                .sign(algorithm);\r\n    }\r\n\r\n    public Authentication validateToken(String token) {\r\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\r\n\r\n        JWTVerifier verifier = JWT.require(algorithm)\r\n                .build();\r\n\r\n        DecodedJWT decoded = verifier.verify(token);\r\n\r\n        UserDto user = userService.findByLogin(decoded.getIssuer());\r\n\r\n        return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\r\n    }\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.entur.jwt-rs:jwt-spring-auth0:1.1.16&#39;\r\n    implementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.5.5.Final&#39;\r\n    implementation group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.1.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.5.Final&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n\r\nand here is my application properties\r\n\r\n```\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nserver.port=8080\r\nsecurity.basic.enable=false\r\n```\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@RestController\r\n\r\npublic class AuthController {\r\n\r\n    private final UserService userService;\r\n    private final UserAuthenticationProvider userAuthProvider;\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; login (@RequestBody CredentialsDto credentialsDto) {\r\n        UserDto user = userService.login(credentialsDto);\r\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\r\n        return ResponseEntity.ok(user);\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; register(@RequestBody SignUpDto signUpDto) {\r\n        UserDto user = userService.register(signUpDto);\r\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\r\n        return ResponseEntity.created(URI.create(&quot;/users/&quot; + user.getId()))\r\n                .body(user);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo I want remove HttpBasic and auth by jwt","title":"getting HttpBasic form even though I disabled it","body":"<p>Here is my Security config where I disable HttpBasic and FormLogin but yet I get generated password..How Can I disable it and following up the logic?</p>\n<p>could be a problem that my dependencies wrong?</p>\n<pre><code>@RequiredArgsConstructor\n@Configuration\n@ComponentScan\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final UserAuthenticationEntryPoint userAuthenticationEntryPoint;\n    private final UserAuthenticationProvider userAuthenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.exceptionHandling((exceptionalHandling) -&gt; exceptionalHandling.accessDeniedPage(&quot;/errors/access-denied&quot;))\n                .authenticationProvider((AuthenticationProvider) userAuthenticationEntryPoint)\n                .addFilterBefore(new JwtAuthFilter(userAuthenticationProvider), BasicAuthenticationFilter.class)\n                .csrf(AbstractHttpConfigurer::disable)\n                .cors(AbstractHttpConfigurer::disable)\n                .sessionManagement((sessionManagement) -&gt; sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/message&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .formLogin(AbstractHttpConfigurer::disable)\n                .httpBasic(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>and this is the entryPoint Auth</p>\n<pre><code>@Component\npublic class UserAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n\n    @Override\n    public void commence(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            AuthenticationException authException) throws IOException, ServletException {\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n        OBJECT_MAPPER.writeValue(response.getOutputStream(), new ErrorDto(&quot;Unauthorized path&quot;));\n    }\n}\n</code></pre>\n<p>Here is the AuthProvider</p>\n<pre><code>@RequiredArgsConstructor\n@Component\n\npublic class UserAuthenticationProvider implements AuthenticationProvider {\n\n    @Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\n    private String secretKey;\n\n    private final UserService userService;\n\n    @PostConstruct\n    protected void init() {\n        // this is to avoid having the raw secret key available in the JVM\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\n    }\n\n    public String createToken(String login) {\n        Date now = new Date();\n        Date validity = new Date(now.getTime() + 3600000); // 1 hour\n\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\n        return JWT.create()\n                .withIssuer(login)\n                .withIssuedAt(now)\n                .withExpiresAt(validity)\n                .sign(algorithm);\n    }\n\n    public Authentication validateToken(String token) {\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\n\n        JWTVerifier verifier = JWT.require(algorithm)\n                .build();\n\n        DecodedJWT decoded = verifier.verify(token);\n\n        UserDto user = userService.findByLogin(decoded.getIssuer());\n\n        return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        return null;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return false;\n    }\n}\n</code></pre>\n<pre><code>\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.entur.jwt-rs:jwt-spring-auth0:1.1.16'\n    implementation 'org.projectlombok:lombok:1.18.26'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    implementation 'org.mapstruct:mapstruct:1.5.5.Final'\n    implementation group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.5.Final'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>and here is my application properties</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=none\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=password\nserver.port=8080\nsecurity.basic.enable=false\n</code></pre>\n<pre><code>@RequiredArgsConstructor\n@RestController\n\npublic class AuthController {\n\n    private final UserService userService;\n    private final UserAuthenticationProvider userAuthProvider;\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;UserDto&gt; login (@RequestBody CredentialsDto credentialsDto) {\n        UserDto user = userService.login(credentialsDto);\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\n        return ResponseEntity.ok(user);\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;UserDto&gt; register(@RequestBody SignUpDto signUpDto) {\n        UserDto user = userService.register(signUpDto);\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\n        return ResponseEntity.created(URI.create(&quot;/users/&quot; + user.getId()))\n                .body(user);\n    }\n}\n\n</code></pre>\n<p>So I want remove HttpBasic and auth by jwt</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1682000521,"creation_date":1682000521,"answer_id":76065186,"question_id":76064893,"body_markdown":"You&#39;ve selected a [Jetpack Compose][1] project template, and [Jetpack Compose can only be used with Kotlin][2].\r\n\r\nSpecifically, you&#39;ve selected the &quot;Empty Activity&quot; template shown below that has the Jetpack Compose logo on it:\r\n\r\n[![&quot;New Project&quot; wizard with &quot;Empty Activity&quot; selected.  The image above &quot;Empty Activity&quot; displays the Jetpack Compose logo.][3]][3]\r\n\r\nTo solve this, select any template with &quot;Views&quot; in the name, or select the &quot;No Activity&quot; template.  You&#39;ll be given the &quot;Language&quot; dropdown in any of those templates and will be able to select Java there:\r\n\r\n[![New project wizard showing the configuration for an &quot;Empty Views Activity&quot; project.  A &quot;Language&quot; dropdown with &quot;Java&quot; and &quot;Kotlin&quot; options is present.][4]][4]\r\n\r\nThat said, [Android development is becoming increasingly Kotlin-first][5]; you may wish to consider trying Kotlin.\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/compose\r\n  [2]: https://stackoverflow.com/a/66433621/208273\r\n  [3]: https://i.stack.imgur.com/2NHiU.png\r\n  [4]: https://i.stack.imgur.com/oqang.png\r\n  [5]: https://developer.android.com/kotlin/first","title":"Not showing language option after selecting project template in Android Studio","body":"<p>You've selected a <a href=\"https://developer.android.com/jetpack/compose\" rel=\"noreferrer\">Jetpack Compose</a> project template, and <a href=\"https://stackoverflow.com/a/66433621/208273\">Jetpack Compose can only be used with Kotlin</a>.</p>\n<p>Specifically, you've selected the &quot;Empty Activity&quot; template shown below that has the Jetpack Compose logo on it:</p>\n<p><a href=\"https://i.stack.imgur.com/2NHiU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2NHiU.png\" alt=\"&quot;New Project&quot; wizard with &quot;Empty Activity&quot; selected.  The image above &quot;Empty Activity&quot; displays the Jetpack Compose logo.\" /></a></p>\n<p>To solve this, select any template with &quot;Views&quot; in the name, or select the &quot;No Activity&quot; template.  You'll be given the &quot;Language&quot; dropdown in any of those templates and will be able to select Java there:</p>\n<p><a href=\"https://i.stack.imgur.com/oqang.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oqang.png\" alt=\"New project wizard showing the configuration for an &quot;Empty Views Activity&quot; project.  A &quot;Language&quot; dropdown with &quot;Java&quot; and &quot;Kotlin&quot; options is present.\" /></a></p>\n<p>That said, <a href=\"https://developer.android.com/kotlin/first\" rel=\"noreferrer\">Android development is becoming increasingly Kotlin-first</a>; you may wish to consider trying Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683403084,"creation_date":1683403084,"answer_id":76190857,"question_id":76064893,"body_markdown":"I&#39;m using `Android Studio Flamingo | 2022.2.1 Patch 1`\r\n\r\nExcept for the selected activity, you can select and use the Java language for other Activities.\r\n\r\nThis Selected Activity is Jetpack Compose Activity. Jetpack Compose supports only Kotlin language. \r\n\r\nFor more details: https://developer.android.com/jetpack/compose\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PlCWq.png","title":"Not showing language option after selecting project template in Android Studio","body":"<p>I'm using <code>Android Studio Flamingo | 2022.2.1 Patch 1</code></p>\n<p>Except for the selected activity, you can select and use the Java language for other Activities.</p>\n<p>This Selected Activity is Jetpack Compose Activity. Jetpack Compose supports only Kotlin language.</p>\n<p>For more details: <a href=\"https://developer.android.com/jetpack/compose\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/compose</a></p>\n<p><a href=\"https://i.stack.imgur.com/PlCWq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PlCWq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28904797,"reputation":1,"user_id":22138992,"display_name":"kripal singh"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1690352365,"creation_date":1690352365,"answer_id":76768498,"question_id":76064893,"body_markdown":"If you want to change the language for an existing Android Studio project from Kotlin to Java, you can follow these steps:\r\n\r\nOpen your existing Kotlin project in Android Studio.\r\n\r\nIn the Project view (usually located on the left side of the Android Studio window), right-click on your project&#39;s module (usually named &quot;app&quot;).\r\n\r\nFrom the context menu, navigate to &quot;New&quot; &gt; &quot;Other&quot; &gt; &quot;Empty Activity.&quot;\r\n\r\nIn the &quot;Configure Activity&quot; dialog that appears, set the &quot;Language&quot; dropdown to &quot;Java.&quot;\r\n\r\nClick &quot;Finish&quot; to create the new Java Activity.\r\n\r\nOnce the new Java Activity is created, you can safely delete the existing Kotlin Activity. Right-click on the Kotlin Activity file (e.g., MainActivity.kt) and choose &quot;Delete.&quot;\r\n\r\nWhen prompted, select &quot;Move to Recycle Bin&quot; or &quot;Delete Permanently&quot; (make sure to have a backup if needed).\r\n\r\nFinally, you should also rename the new Java Activity (e.g., from MainActivity.java to MainActivity) to ensure that it becomes the main entry point for your application.\r\n\r\nAfter these steps, your project will be in Java instead of Kotlin. Remember to also update any references to the Kotlin Activity or Kotlin-specific code in your project to use Java code instead.\r\n\r\nKeep in mind that changing the language may require adapting any Kotlin-specific features and syntax to Java equivalents, so some code modifications may be needed depending on the complexity of your project.\r\n\r\n------------------------------------------------------------------------------------\r\n\r\nYou will need to make some updates in the AndroidManifest.xml file after converting your project from Kotlin to Java:\r\n\r\nOpen the AndroidManifest.xml file in the &quot;app&quot; module.\r\n\r\nIn the &lt;activity&gt; tag for your main activity (previously MainActivity.kt), change the android:name attribute from the Kotlin class reference to the Java class reference. For example:\r\n\r\nFrom:\r\n           android:name=&quot;.MainActivityKt&quot;  \r\nTo: \r\n           android:name=&quot;.MainActivity&quot;\r\n\r\n\r\nIf you have manually renamed the new Java activity (from MainActivity.java to MainActivity), ensure that the android:name attribute in the manifest matches the new name.\r\n\r\nIf you have any other Kotlin activities in your project that you&#39;ve converted to Java, update their android:name attributes accordingly.\r\n\r\nIf there are any other references to Kotlin-specific features or libraries in your manifest, you may need to update or remove them based on the changes you made in the code.\r\n\r\nOther than these changes, there should be no major adjustments required in the manifest if you&#39;ve converted your project from Kotlin to Java. Make sure to thoroughly test your app after the conversion to ensure everything works as expected.","title":"Not showing language option after selecting project template in Android Studio","body":"<p>If you want to change the language for an existing Android Studio project from Kotlin to Java, you can follow these steps:</p>\n<p>Open your existing Kotlin project in Android Studio.</p>\n<p>In the Project view (usually located on the left side of the Android Studio window), right-click on your project's module (usually named &quot;app&quot;).</p>\n<p>From the context menu, navigate to &quot;New&quot; &gt; &quot;Other&quot; &gt; &quot;Empty Activity.&quot;</p>\n<p>In the &quot;Configure Activity&quot; dialog that appears, set the &quot;Language&quot; dropdown to &quot;Java.&quot;</p>\n<p>Click &quot;Finish&quot; to create the new Java Activity.</p>\n<p>Once the new Java Activity is created, you can safely delete the existing Kotlin Activity. Right-click on the Kotlin Activity file (e.g., MainActivity.kt) and choose &quot;Delete.&quot;</p>\n<p>When prompted, select &quot;Move to Recycle Bin&quot; or &quot;Delete Permanently&quot; (make sure to have a backup if needed).</p>\n<p>Finally, you should also rename the new Java Activity (e.g., from MainActivity.java to MainActivity) to ensure that it becomes the main entry point for your application.</p>\n<p>After these steps, your project will be in Java instead of Kotlin. Remember to also update any references to the Kotlin Activity or Kotlin-specific code in your project to use Java code instead.</p>\n<p>Keep in mind that changing the language may require adapting any Kotlin-specific features and syntax to Java equivalents, so some code modifications may be needed depending on the complexity of your project.</p>\n<hr />\n<p>You will need to make some updates in the AndroidManifest.xml file after converting your project from Kotlin to Java:</p>\n<p>Open the AndroidManifest.xml file in the &quot;app&quot; module.</p>\n<p>In the  tag for your main activity (previously MainActivity.kt), change the android:name attribute from the Kotlin class reference to the Java class reference. For example:</p>\n<p>From:\nandroid:name=&quot;.MainActivityKt&quot;<br />\nTo:\nandroid:name=&quot;.MainActivity&quot;</p>\n<p>If you have manually renamed the new Java activity (from MainActivity.java to MainActivity), ensure that the android:name attribute in the manifest matches the new name.</p>\n<p>If you have any other Kotlin activities in your project that you've converted to Java, update their android:name attributes accordingly.</p>\n<p>If there are any other references to Kotlin-specific features or libraries in your manifest, you may need to update or remove them based on the changes you made in the code.</p>\n<p>Other than these changes, there should be no major adjustments required in the manifest if you've converted your project from Kotlin to Java. Make sure to thoroughly test your app after the conversion to ensure everything works as expected.</p>\n"}],"owner":{"account_id":28344434,"reputation":91,"user_id":21676869,"display_name":"Bisal Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7028,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":3,"score":8,"last_activity_date":1690352365,"creation_date":1681998809,"question_id":76064893,"body_markdown":"The &quot;New Project&quot; wizard in Android Studio is not showing the &quot;Language&quot; option. I want to use Java, but it&#39;s forcing me to use Kotlin.\r\n\r\n![Language option is missing.](https://i.stack.imgur.com/R5IVD.png)\r\n\r\nI am expecting to use Java for Android development.  How can I make a Java project?","title":"Not showing language option after selecting project template in Android Studio","body":"<p>The &quot;New Project&quot; wizard in Android Studio is not showing the &quot;Language&quot; option. I want to use Java, but it's forcing me to use Kotlin.</p>\n<p><img src=\"https://i.stack.imgur.com/R5IVD.png\" alt=\"Language option is missing.\" /></p>\n<p>I am expecting to use Java for Android development.  How can I make a Java project?</p>\n"},{"tags":["java","google-developer-tools","androidpublisher"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690263533,"post_id":76759549,"comment_id":135324903,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."}],"owner":{"account_id":23682269,"reputation":1,"user_id":17707681,"display_name":"harry li"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690352248,"creation_date":1690260802,"question_id":76759549,"body_markdown":"This is my maven dependent libraries.\t\r\n```\r\n&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-androidpublisher&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;v3-rev20230615-2.0.0&lt;/version&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.43.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nThis is code:\r\n\r\n```\r\n`InputStream purchaseToken = GoogleChannel.class.getClassLoader().getResourceAsStream(&quot;xxxxx.json&quot;);\r\n            assert purchaseToken != null;\r\n            GoogleCredentials credentials = GoogleCredentials.fromStream(purchaseToken)\r\n                    .createScoped(Sets.newHashSet(AndroidPublisherScopes.ANDROIDPUBLISHER));\r\n            androidPublisher = new AndroidPublisher.Builder(\r\n                    GoogleNetHttpTransport.newTrustedTransport(),\r\n                    GsonFactory.getDefaultInstance(),\r\n                    new HttpCredentialsAdapter(credentials)).build();\r\n```\r\n\r\nbut the error appears in the dependent library.\r\n[enter image description here](https://i.stack.imgur.com/GT0t1.jpg)\r\n\r\nLooking for a lot of methods, still reporting errors，I don&#39;t know what to do with it, please\r\n\r\nReplaced different dependency versions, ended up using the latest version, but still got the error.","title":"use GoogleNetHttpTransport.newTrustedTransport() func, return a error! java.lang.ExceptionInInitializerError","body":"<p>This is my maven dependent libraries.</p>\n<pre><code>&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-androidpublisher&lt;/artifactId&gt;\n        &lt;version&gt;v3-rev20230615-2.0.0&lt;/version&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;1.43.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This is code:</p>\n<pre><code>`InputStream purchaseToken = GoogleChannel.class.getClassLoader().getResourceAsStream(&quot;xxxxx.json&quot;);\n            assert purchaseToken != null;\n            GoogleCredentials credentials = GoogleCredentials.fromStream(purchaseToken)\n                    .createScoped(Sets.newHashSet(AndroidPublisherScopes.ANDROIDPUBLISHER));\n            androidPublisher = new AndroidPublisher.Builder(\n                    GoogleNetHttpTransport.newTrustedTransport(),\n                    GsonFactory.getDefaultInstance(),\n                    new HttpCredentialsAdapter(credentials)).build();\n</code></pre>\n<p>but the error appears in the dependent library.\n<a href=\"https://i.stack.imgur.com/GT0t1.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Looking for a lot of methods, still reporting errors，I don't know what to do with it, please</p>\n<p>Replaced different dependency versions, ended up using the latest version, but still got the error.</p>\n"},{"tags":["java","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":1482474,"reputation":7545,"user_id":1652451,"display_name":"PbxMan"},"down_vote_count":2,"up_vote_count":47,"is_accepted":true,"score":45,"last_activity_date":1619307179,"creation_date":1350003297,"answer_id":12850784,"question_id":12836647,"body_markdown":"It seems like there is no other way since `java.Lang.Number` doesn&#39;t have a method which returns a `BigDecimal` type. Anyway it makes sense because `BigDecimal` only accepts strings which are properly formatted not like `&quot;2.105,88&quot;` but like `&quot;2105.88&quot;`.\r\n \r\nLet me show your my code:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.DecimalFormat;\r\n    import java.text.NumberFormat;\r\n    import java.text.ParseException;\r\n    import java.util.Locale;\r\n    public class JavaMain {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString numberString = &quot;2.105,88&quot;;\r\n    \t\t//using casting\r\n    \t\ttry {\r\n    \t\t\tDecimalFormat df = (DecimalFormat) NumberFormat.getInstance(Locale.GERMAN);\r\n    \t\t\tdf.setParseBigDecimal(true);\r\n    \t\t\tBigDecimal bd = (BigDecimal) df.parseObject(numberString);\r\n    \t\t\tSystem.out.println(bd.toString());\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t//your way short version\r\n    \t    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\r\n    \t    try {\r\n    \t        BigDecimal bd1 = new BigDecimal(nf.parse(numberString).toString());\r\n    \t        System.out.println(bd1.toString());\r\n    \t    } catch (ParseException e) {\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t\tString numberStringFixed = &quot;2105.88&quot;;\r\n    \t    //direct string formatted\r\n    \t    System.out.println(new BigDecimal(numberStringFixed));;\t    \r\n    \t    //direct but erroneous way if the string is not formatted\r\n    \t    System.out.println(new BigDecimal(numberString));;\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nI hope this helps!","title":"Best way to convert Locale specific String to BigDecimal","body":"<p>It seems like there is no other way since <code>java.Lang.Number</code> doesn't have a method which returns a <code>BigDecimal</code> type. Anyway it makes sense because <code>BigDecimal</code> only accepts strings which are properly formatted not like <code>&quot;2.105,88&quot;</code> but like <code>&quot;2105.88&quot;</code>.</p>\n<p>Let me show your my code:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.util.Locale;\npublic class JavaMain {\n    public static void main(String[] args) {\n        String numberString = &quot;2.105,88&quot;;\n        //using casting\n        try {\n            DecimalFormat df = (DecimalFormat) NumberFormat.getInstance(Locale.GERMAN);\n            df.setParseBigDecimal(true);\n            BigDecimal bd = (BigDecimal) df.parseObject(numberString);\n            System.out.println(bd.toString());\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        //your way short version\n        NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\n        try {\n            BigDecimal bd1 = new BigDecimal(nf.parse(numberString).toString());\n            System.out.println(bd1.toString());\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        String numberStringFixed = &quot;2105.88&quot;;\n        //direct string formatted\n        System.out.println(new BigDecimal(numberStringFixed));;     \n        //direct but erroneous way if the string is not formatted\n        System.out.println(new BigDecimal(numberString));;\n        \n    }\n}\n</code></pre>\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":8733,"reputation":5830,"user_id":15882,"accept_rate":100,"display_name":"Jarett Millard"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1588151916,"creation_date":1369755405,"answer_id":16796038,"question_id":12836647,"body_markdown":"`DecimalFormat` has a method called [`setParseBigDecimal`][1] that causes `parse()` to return a `BigDecimal`. You just need to cast the returned `Number`.\r\n\r\n\t\tString numberString = &quot;2.105,88&quot;;\r\n\r\n\t    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\r\n\t    if (nf instanceof DecimalFormat) {\r\n\t    \tDecimalFormat df = (DecimalFormat) nf;\r\n\t    \tdf.setParseBigDecimal(true);\r\n\t    \tBigDecimal parsed = (BigDecimal) df.parse(numberString);\r\n\t    \t\r\n\t    \tSystem.out.println(parsed);\r\n\t\t}\r\n\r\nOutput:\r\n\r\n&gt; 2105.88\r\n\r\n`setParseBigDecimal` was introduced in Java 1.5.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html#setParseBigDecimal%28boolean%29\r\n","title":"Best way to convert Locale specific String to BigDecimal","body":"<p><code>DecimalFormat</code> has a method called <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html#setParseBigDecimal%28boolean%29\" rel=\"noreferrer\"><code>setParseBigDecimal</code></a> that causes <code>parse()</code> to return a <code>BigDecimal</code>. You just need to cast the returned <code>Number</code>.</p>\n\n<pre><code>    String numberString = \"2.105,88\";\n\n    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\n    if (nf instanceof DecimalFormat) {\n        DecimalFormat df = (DecimalFormat) nf;\n        df.setParseBigDecimal(true);\n        BigDecimal parsed = (BigDecimal) df.parse(numberString);\n\n        System.out.println(parsed);\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>2105.88</p>\n</blockquote>\n\n<p><code>setParseBigDecimal</code> was introduced in Java 1.5.</p>\n"}],"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41969,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":12850784,"answer_count":2,"score":45,"last_activity_date":1690351812,"creation_date":1349948518,"question_id":12836647,"body_markdown":"I have to convert a German locale formatted `String` to a `BigDecimal`. However, I&#39;m struggling with the best solution.\r\n\r\nThe following code shows my problem:\r\n\r\n   \t\tString numberString = &quot;2.105,88&quot;;\r\n\t\t\r\n\t\tNumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\r\n\t\ttry {\r\n\t\t\tNumber parsed = nf.parse(numberString);\r\n\t\t\tBigDecimal bd1 = new BigDecimal(parsed.toString());\r\n\t\t\tSystem.out.println(bd1.toString());\r\n\t\t\t\r\n\t\t\tBigDecimal bd2 = new BigDecimal(parsed.doubleValue());\r\n\t\t\tSystem.out.println(bd2);\r\n\t\t\t\r\n\t\t\tBigDecimal bd3 = new BigDecimal(numberString);\r\n\t\t\tSystem.out.println(bd3);\r\n\t\t\t\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nThe outpout of this is\r\n\r\n&gt; 2105.88\r\n\r\n&gt; 2105.8800000000001091393642127513885498046875\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NumberFormatException\r\n\tat java.math.BigDecimal.&lt;init&gt;(Unknown Source)\r\n\tat java.math.BigDecimal.&lt;init&gt;(Unknown Source)\r\n\tat test.BigDecimalTest.main(BigDecimalTest.java:22)\r\n\r\nThe first output is correct, but it doesn&#39;t really make sense to convert a `String` to a `Number` (`Double` to be precise), then back to a `String` again and then into a specific type of `Number`, `BigDecimal`.\r\n\r\nThe second output is incorrect, but could be solved by setting the scale of the `BigDecimal`. However, the amount of digits is not always known.\r\n\r\nThe third output is obviously not what I&#39;m looking for.\r\n\r\nMy question: What would be the best way? Are there better ways to do this?","title":"Best way to convert Locale specific String to BigDecimal","body":"<p>I have to convert a German locale formatted <code>String</code> to a <code>BigDecimal</code>. However, I'm struggling with the best solution.</p>\n\n<p>The following code shows my problem:</p>\n\n<pre><code>    String numberString = \"2.105,88\";\n\n    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\n    try {\n        Number parsed = nf.parse(numberString);\n        BigDecimal bd1 = new BigDecimal(parsed.toString());\n        System.out.println(bd1.toString());\n\n        BigDecimal bd2 = new BigDecimal(parsed.doubleValue());\n        System.out.println(bd2);\n\n        BigDecimal bd3 = new BigDecimal(numberString);\n        System.out.println(bd3);\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The outpout of this is</p>\n\n<blockquote>\n  <p>2105.88</p>\n  \n  <p>2105.8800000000001091393642127513885498046875</p>\n  \n  <p>Exception in thread \"main\" java.lang.NumberFormatException\n      at java.math.BigDecimal.(Unknown Source)\n      at java.math.BigDecimal.(Unknown Source)\n      at test.BigDecimalTest.main(BigDecimalTest.java:22)</p>\n</blockquote>\n\n<p>The first output is correct, but it doesn't really make sense to convert a <code>String</code> to a <code>Number</code> (<code>Double</code> to be precise), then back to a <code>String</code> again and then into a specific type of <code>Number</code>, <code>BigDecimal</code>.</p>\n\n<p>The second output is incorrect, but could be solved by setting the scale of the <code>BigDecimal</code>. However, the amount of digits is not always known.</p>\n\n<p>The third output is obviously not what I'm looking for.</p>\n\n<p>My question: What would be the best way? Are there better ways to do this?</p>\n"},{"tags":["java","arrays","json","jackson"],"comments":[{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":1,"creation_date":1689731419,"post_id":76717443,"comment_id":135253716,"body_markdown":"`[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]`  is a standard json, but `[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]` is not , Show your complete input.","body":"<code>[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000}, {&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]</code>  is a standard json, but <code>[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000}, {&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}] [{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000}, {&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]</code> is not , Show your complete input."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1689731786,"post_id":76717443,"comment_id":135253753,"body_markdown":"Maybe you  need to split your input into multiple Strings first.  Can use regex.","body":"Maybe you  need to split your input into multiple Strings first.  Can use regex."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689735342,"post_id":76717443,"comment_id":135254039,"body_markdown":"https://cowtowncoder.medium.com/line-delimited-json-with-jackson-69c9e4cb6c00","body":"<a href=\"https://cowtowncoder.medium.com/line-delimited-json-with-jackson-69c9e4cb6c00\" rel=\"nofollow noreferrer\">cowtowncoder.medium.com/&hellip;</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689735745,"post_id":76717443,"comment_id":135254080,"body_markdown":"Great question; parsing malformed data is an important programming skill to master.","body":"Great question; parsing malformed data is an important programming skill to master."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689739645,"post_id":76717443,"comment_id":135254371,"body_markdown":"`.split(&quot;(?&lt;=\\\\])(?=\\\\[)&quot;)` and for loop to process","body":"<code>.split(&quot;(?&lt;=\\\\])(?=\\\\[)&quot;)</code> and for loop to process"},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1689946582,"post_id":76717443,"comment_id":135288937,"body_markdown":"Its not a typo, voting to reopen.","body":"Its not a typo, voting to reopen."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689735836,"creation_date":1689735303,"answer_id":76717677,"question_id":76717443,"body_markdown":"&gt; _&quot;I&#39;m receiving an input of one or more Json arrays ..._  \r\n&gt; _... How can I read multiple arrays from a Json String in Java? ...&quot;_\r\n\r\nYou could evaluate the characters to determine when a complete array has been reached.\r\n\r\nIn this example, I&#39;m ignoring the fact that a the brackets may occur within a text value.  \r\nThis doesn&#39;t appear to be the case with your data, so I&#39;ve left out the check.\r\n\r\n```java\r\nString string =\r\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\r\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nint index = 0, offset = 0, count = 0;\r\nfor (char character : string.toCharArray()) {\r\n    switch (character) {\r\n        case &#39;[&#39; -&gt; count++;\r\n        case &#39;]&#39; -&gt; {\r\n            count--;\r\n            if (count == 0) {\r\n                list.add(string.substring(offset, index + 1).strip());\r\n                offset = index + 1;\r\n            }\r\n        }\r\n    }\r\n    index++;\r\n}\r\n```\r\n\r\nOutput, for _list_.\r\n\r\n```none\r\n0 = &#39;[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]&#39;\r\n1 = &#39;[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]&#39;\r\n```\r\n\r\nI then used _[Gson](https://en.wikipedia.org/wiki/Gson)_ to parse the data.  \r\nI&#39;m using the _SerializedName_ annotation here to conform the hyphenated name.  \r\nAdditionally, I added a _toString_ override to debug the output.\r\n\r\n```java\r\nclass Data {\r\n    String operation;\r\n    @SerializedName(&quot;unit-cost&quot;) float unitCost;\r\n    float quantity;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;{operation= &#39;%s&#39;, &quot;.formatted(operation)\r\n            + &quot;unitCost= %s, &quot;.formatted(unitCost)\r\n            + &quot;quantity= %s}&quot;.formatted(quantity);\r\n    }\r\n}\r\n```\r\n\r\nHere is a basic parse and output.\r\n\r\n```java\r\nGson gson = new Gson();\r\nList&lt;Data[]&gt; data = new ArrayList&lt;&gt;();\r\nfor (String value : list)\r\n    data.add(gson.fromJson(value, Data[].class));\r\n\r\nfor (Data[] datum : data)\r\n    System.out.println(Arrays.toString(datum));\r\n```\r\n\r\n```none\r\n[{operation= &#39;buy&#39;, unitCost= 10.0, quantity= 10000.0}, {operation= &#39;sell&#39;, unitCost= 20.0, quantity= 5000.0}]\r\n[{operation= &#39;buy&#39;, unitCost= 20.0, quantity= 10000.0}, {operation= &#39;sell&#39;, unitCost= 10.0, quantity= 5000.0}]\r\n```","title":"How to read several Json arrays from input and convert them to Java array or List","body":"<blockquote>\n<p><em>&quot;I'm receiving an input of one or more Json arrays ...</em><br />\n<em>... How can I read multiple arrays from a Json String in Java? ...&quot;</em></p>\n</blockquote>\n<p>You could evaluate the characters to determine when a complete array has been reached.</p>\n<p>In this example, I'm ignoring the fact that a the brackets may occur within a text value.<br />\nThis doesn't appear to be the case with your data, so I've left out the check.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string =\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nint index = 0, offset = 0, count = 0;\nfor (char character : string.toCharArray()) {\n    switch (character) {\n        case '[' -&gt; count++;\n        case ']' -&gt; {\n            count--;\n            if (count == 0) {\n                list.add(string.substring(offset, index + 1).strip());\n                offset = index + 1;\n            }\n        }\n    }\n    index++;\n}\n</code></pre>\n<p>Output, for <em>list</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 = '[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]'\n1 = '[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]'\n</code></pre>\n<p>I then used <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em> to parse the data.<br />\nI'm using the <em>SerializedName</em> annotation here to conform the hyphenated name.<br />\nAdditionally, I added a <em>toString</em> override to debug the output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Data {\n    String operation;\n    @SerializedName(&quot;unit-cost&quot;) float unitCost;\n    float quantity;\n\n    @Override\n    public String toString() {\n        return &quot;{operation= '%s', &quot;.formatted(operation)\n            + &quot;unitCost= %s, &quot;.formatted(unitCost)\n            + &quot;quantity= %s}&quot;.formatted(quantity);\n    }\n}\n</code></pre>\n<p>Here is a basic parse and output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nList&lt;Data[]&gt; data = new ArrayList&lt;&gt;();\nfor (String value : list)\n    data.add(gson.fromJson(value, Data[].class));\n\nfor (Data[] datum : data)\n    System.out.println(Arrays.toString(datum));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[{operation= 'buy', unitCost= 10.0, quantity= 10000.0}, {operation= 'sell', unitCost= 20.0, quantity= 5000.0}]\n[{operation= 'buy', unitCost= 20.0, quantity= 10000.0}, {operation= 'sell', unitCost= 10.0, quantity= 5000.0}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2871364,"reputation":203,"user_id":2464647,"display_name":"mlim1972"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689738332,"creation_date":1689738332,"answer_id":76717859,"question_id":76717443,"body_markdown":"There is no automatic way to read it since the object is an appended array of objects. You&#39;ll have to parse it yourself programmatically. Here is a possible way:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport org.json.*;\r\n\r\npublic class JsonTest {\r\n\r\n    public static final void main(String... args){\r\n        String str = &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\r\n                        &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\r\n\r\n        // store all the arrays in a list\r\n        ArrayList&lt;JSONArray&gt; jsonArrays = new ArrayList&lt;&gt;();\r\n        \r\n        int last, beg = last = 0;\r\n        while(true){\r\n            // substring up to ] and treat it as a json array\r\n            last = str.indexOf(&quot;]&quot;, beg);\r\n            if(last == -1) break;\r\n            JSONArray arr = new JSONArray(str.substring(beg, last+1));\r\n            jsonArrays.add(arr);\r\n            beg = last+1;\r\n        }\r\n        \r\n        // print all the json objects in the array list\r\n        for(JSONArray arr : jsonArrays){\r\n            for(int i = 0; i &lt; arr.length(); i++){\r\n                JSONObject obj = arr.getJSONObject(i);\r\n                System.out.println(obj.toString());\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"How to read several Json arrays from input and convert them to Java array or List","body":"<p>There is no automatic way to read it since the object is an appended array of objects. You'll have to parse it yourself programmatically. Here is a possible way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport org.json.*;\n\npublic class JsonTest {\n\n    public static final void main(String... args){\n        String str = &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\n                        &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\n\n        // store all the arrays in a list\n        ArrayList&lt;JSONArray&gt; jsonArrays = new ArrayList&lt;&gt;();\n        \n        int last, beg = last = 0;\n        while(true){\n            // substring up to ] and treat it as a json array\n            last = str.indexOf(&quot;]&quot;, beg);\n            if(last == -1) break;\n            JSONArray arr = new JSONArray(str.substring(beg, last+1));\n            jsonArrays.add(arr);\n            beg = last+1;\n        }\n        \n        // print all the json objects in the array list\n        for(JSONArray arr : jsonArrays){\n            for(int i = 0; i &lt; arr.length(); i++){\n                JSONObject obj = arr.getJSONObject(i);\n                System.out.println(obj.toString());\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14533878,"reputation":21,"user_id":10504212,"display_name":"Edder Javier Pe&#241;a Barranco"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1690351626,"creation_date":1689731079,"question_id":76717443,"body_markdown":"I&#39;m receiving an input of one or more Json arrays like \r\n\r\n\r\n```\r\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]\r\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]\r\n```\r\nI tried to read the array using JSON-Java in this way:\r\n\r\n\r\n```\r\nJSONArray array = new JSONArray(json)\r\n```\r\nBut this only reads the first array and ignores the second one.\r\n\r\nHow can I read multiple arrays from a Json String in Java?\r\n\r\nI already tried with JSON-java and Jackson but I haven&#39;t found the way to get the expected result.","title":"How to read several Json arrays from input and convert them to Java array or List","body":"<p>I'm receiving an input of one or more Json arrays like</p>\n<pre><code>[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]\n</code></pre>\n<p>I tried to read the array using JSON-Java in this way:</p>\n<pre><code>JSONArray array = new JSONArray(json)\n</code></pre>\n<p>But this only reads the first array and ignores the second one.</p>\n<p>How can I read multiple arrays from a Json String in Java?</p>\n<p>I already tried with JSON-java and Jackson but I haven't found the way to get the expected result.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","keep-alive"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1578693321,"post_id":59689386,"comment_id":105535606,"body_markdown":"There is, indeed, no concrete timespan after which the VM gets destroyed. In some tests I made about a year ago, the VM was destroyed after ~15 minutes (AWS, you can verify this by printing something out in a static inttializer block). If you want to reuse database connection, use static initializers (I cave an example in [this blog post](https://labs.consol.de/development/2019/02/04/aws_lambda_getting_started.html)).","body":"There is, indeed, no concrete timespan after which the VM gets destroyed. In some tests I made about a year ago, the VM was destroyed after ~15 minutes (AWS, you can verify this by printing something out in a static inttializer block). If you want to reuse database connection, use static initializers (I cave an example in <a href=\"https://labs.consol.de/development/2019/02/04/aws_lambda_getting_started.html\" rel=\"nofollow noreferrer\">this blog post</a>)."},{"owner":{"account_id":12290607,"reputation":747,"user_id":8968137,"accept_rate":25,"display_name":"Raj"},"score":0,"creation_date":1578694102,"post_id":59689386,"comment_id":105535863,"body_markdown":"https://stackoverflow.com/questions/51074990/","body":"<a href=\"https://stackoverflow.com/questions/51074990/\">stackoverflow.com/questions/51074990</a>"},{"owner":{"account_id":12290607,"reputation":747,"user_id":8968137,"accept_rate":25,"display_name":"Raj"},"score":0,"creation_date":1578694418,"post_id":59689386,"comment_id":105535954,"body_markdown":"https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/ does not help","body":"<a href=\"https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/compute/container-reuse-in-lambda</a> does not help"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1578694646,"post_id":59689386,"comment_id":105536023,"body_markdown":"Does [Aron Gupta&#39;s example](https://github.com/arun-gupta/lambda-rds-mysql) help?","body":"Does <a href=\"https://github.com/arun-gupta/lambda-rds-mysql\" rel=\"nofollow noreferrer\">Aron Gupta&#39;s example</a> help?"},{"owner":{"account_id":60348,"reputation":3362,"user_id":180309,"accept_rate":87,"display_name":"Tofig Hasanov"},"score":0,"creation_date":1690351880,"post_id":59689386,"comment_id":135339423,"body_markdown":"Have you looked at the relatively new Lambda DB Proxy feature? https://aws.amazon.com/blogs/compute/using-amazon-rds-proxy-with-aws-lambda/","body":"Have you looked at the relatively new Lambda DB Proxy feature? <a href=\"https://aws.amazon.com/blogs/compute/using-amazon-rds-proxy-with-aws-lambda/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/compute/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578693054,"creation_date":1578693054,"answer_id":59689474,"question_id":59689386,"body_markdown":"There&#39;s no documented time that I&#39;m aware of. It will vary, depending on the needs of the Lambda service. Are you sure that the Lambda wasn&#39;t warm-started within that hour? One hour seems like a long time.\r\n\r\nAlso, look at [Lambda Provisioned Concurrency][1], RDS Proxy (in preview) and Aurora Serverless Data API (if you&#39;re using Aurora Serverless). They are all relevant to database connections from Lambda.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/new-for-aws-lambda-predictable-start-up-times-with-provisioned-concurrency/","title":"How long does AWS Lambda keep your idle functions around?","body":"<p>There's no documented time that I'm aware of. It will vary, depending on the needs of the Lambda service. Are you sure that the Lambda wasn't warm-started within that hour? One hour seems like a long time.</p>\n\n<p>Also, look at <a href=\"https://aws.amazon.com/blogs/compute/new-for-aws-lambda-predictable-start-up-times-with-provisioned-concurrency/\" rel=\"nofollow noreferrer\">Lambda Provisioned Concurrency</a>, RDS Proxy (in preview) and Aurora Serverless Data API (if you're using Aurora Serverless). They are all relevant to database connections from Lambda.</p>\n"},{"tags":[],"owner":{"account_id":5153935,"reputation":17,"user_id":20097628,"display_name":"Jagvir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690351555,"creation_date":1690351555,"answer_id":76768431,"question_id":59689386,"body_markdown":"The latest Code start official Duration is :-  100 ms to over 1 second. You can find it [here][1] \r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/operating-lambda-performance-optimization-part-1/","title":"How long does AWS Lambda keep your idle functions around?","body":"<p>The latest Code start official Duration is :-  100 ms to over 1 second. You can find it <a href=\"https://aws.amazon.com/blogs/compute/operating-lambda-performance-optimization-part-1/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":12290607,"reputation":747,"user_id":8968137,"accept_rate":25,"display_name":"Raj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690351555,"creation_date":1578692491,"question_id":59689386,"body_markdown":"I looked at [AWS documentation][1] and also on google and its [result][2], but could not find the duration before that the AWS Lambda will be cold started.\r\n\r\nMy aim is to [reuse database connections][3], I leave the function unused for 1+ hours and I can still see that the code is still in memory.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/limits.html\r\n  [2]: https://read.acloud.guru/how-long-does-aws-lambda-keep-your-idle-functions-around-before-a-cold-start-bf715d3b810\r\n  [3]: https://www.jeremydaly.com/reuse-database-connections-aws-lambda/","title":"How long does AWS Lambda keep your idle functions around?","body":"<p>I looked at <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/limits.html\" rel=\"nofollow noreferrer\">AWS documentation</a> and also on google and its <a href=\"https://read.acloud.guru/how-long-does-aws-lambda-keep-your-idle-functions-around-before-a-cold-start-bf715d3b810\" rel=\"nofollow noreferrer\">result</a>, but could not find the duration before that the AWS Lambda will be cold started.</p>\n\n<p>My aim is to <a href=\"https://www.jeremydaly.com/reuse-database-connections-aws-lambda/\" rel=\"nofollow noreferrer\">reuse database connections</a>, I leave the function unused for 1+ hours and I can still see that the code is still in memory.</p>\n"},{"tags":["java","list","collections","arraylist","duplicates"],"answers":[{"tags":[],"owner":{"account_id":13665,"reputation":11657,"user_id":27587,"display_name":"jonathan-stafford"},"down_vote_count":12,"up_vote_count":1106,"is_accepted":true,"score":1094,"last_activity_date":1544793547,"creation_date":1224058287,"answer_id":203992,"question_id":203984,"body_markdown":"If you don&#39;t want duplicates in a `Collection`, you should consider why you&#39;re using a `Collection` that allows duplicates. The easiest way to remove repeated elements is to add the contents to a `Set` (which will not allow duplicates) and then add the `Set` back to the `ArrayList`:\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(yourList);\r\n    yourList.clear();\r\n    yourList.addAll(set);\r\n\r\n\r\nOf course, this destroys the ordering of the elements in the `ArrayList`.","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you don't want duplicates in a <code>Collection</code>, you should consider why you're using a <code>Collection</code> that allows duplicates. The easiest way to remove repeated elements is to add the contents to a <code>Set</code> (which will not allow duplicates) and then add the <code>Set</code> back to the <code>ArrayList</code>:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(yourList);\nyourList.clear();\nyourList.addAll(set);\n</code></pre>\n\n<p>Of course, this destroys the ordering of the elements in the <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":2553,"reputation":15453,"user_id":3565,"accept_rate":70,"display_name":"Benno Richters"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1224058428,"creation_date":1224058428,"answer_id":203997,"question_id":203984,"body_markdown":"If you don&#39;t want duplicates, use a [Set][1] instead of a `List`. To convert a `List` to a `Set` you can use the following code:\r\n\r\n    // list is some List of Strings\r\n    Set&lt;String&gt; s = new HashSet&lt;String&gt;(list);\r\n\r\nIf really necessary you can use the same construction to convert a `Set` back into a `List`.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you don't want duplicates, use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\">Set</a> instead of a <code>List</code>. To convert a <code>List</code> to a <code>Set</code> you can use the following code:</p>\n\n<pre><code>// list is some List of Strings\nSet&lt;String&gt; s = new HashSet&lt;String&gt;(list);\n</code></pre>\n\n<p>If really necessary you can use the same construction to convert a <code>Set</code> back into a <code>List</code>.</p>\n"},{"tags":[],"owner":{"account_id":13653,"reputation":13400,"user_id":27565,"accept_rate":100,"display_name":"abahgat"},"down_vote_count":0,"up_vote_count":320,"is_accepted":false,"score":320,"last_activity_date":1441752460,"creation_date":1224058699,"answer_id":204004,"question_id":203984,"body_markdown":"Although converting the `ArrayList` to a `HashSet` effectively removes duplicates, if you need to preserve insertion order, I&#39;d rather suggest you to use this variant\r\n\r\n    // list is some List of Strings\r\n    Set&lt;String&gt; s = new LinkedHashSet&lt;&gt;(list);\r\n\r\nThen, if you need to get back a `List` reference, you can use again the conversion constructor.","title":"How do I remove repeated elements from ArrayList?","body":"<p>Although converting the <code>ArrayList</code> to a <code>HashSet</code> effectively removes duplicates, if you need to preserve insertion order, I'd rather suggest you to use this variant</p>\n\n<pre><code>// list is some List of Strings\nSet&lt;String&gt; s = new LinkedHashSet&lt;&gt;(list);\n</code></pre>\n\n<p>Then, if you need to get back a <code>List</code> reference, you can use again the conversion constructor.</p>\n"},{"tags":[],"owner":{"account_id":13392,"reputation":2549,"user_id":26859,"accept_rate":91,"display_name":"Vinze"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1532982115,"creation_date":1224078510,"answer_id":204766,"question_id":203984,"body_markdown":"As said before, you should use a class implementing the Set interface instead of List to be sure of the unicity of elements. If you have to keep the order of elements, the SortedSet interface can then be used; the TreeSet class implements that interface.","title":"How do I remove repeated elements from ArrayList?","body":"<p>As said before, you should use a class implementing the Set interface instead of List to be sure of the unicity of elements. If you have to keep the order of elements, the SortedSet interface can then be used; the TreeSet class implements that interface.</p>\n"},{"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1224346595,"creation_date":1224346295,"answer_id":215212,"question_id":203984,"body_markdown":"Probably a bit overkill, but I enjoy this kind of isolated problem. :)\r\n\r\nThis code uses a temporary Set (for the uniqueness check) but removes elements directly inside the original list. Since element removal inside an ArrayList can induce a huge amount of array copying, the remove(int)-method is avoided.\r\n\r\n    public static &lt;T&gt; void removeDuplicates(ArrayList&lt;T&gt; list) {\r\n        int size = list.size();\r\n        int out = 0;\r\n        {\r\n            final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\r\n            for (int in = 0; in &lt; size; in++) {\r\n                final T t = list.get(in);\r\n                final boolean first = encountered.add(t);\r\n                if (first) {\r\n                    list.set(out++, t);\r\n                }\r\n            }\r\n        }\r\n        while (out &lt; size) {\r\n            list.remove(--size);\r\n        }\r\n    }\r\n\r\nWhile we&#39;re at it, here&#39;s a version for LinkedList (a lot nicer!):\r\n\r\n    public static &lt;T&gt; void removeDuplicates(LinkedList&lt;T&gt; list) {\r\n        final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\r\n        for (Iterator&lt;T&gt; iter = list.iterator(); iter.hasNext(); ) {\r\n            final T t = iter.next();\r\n            final boolean first = encountered.add(t);\r\n            if (!first) {\r\n                iter.remove();\r\n            }\r\n        }\r\n    }\r\n\r\nUse the marker interface to present a unified solution for List:\r\n\r\n    public static &lt;T&gt; void removeDuplicates(List&lt;T&gt; list) {\r\n        if (list instanceof RandomAccess) {\r\n            // use first version here\r\n        } else {\r\n            // use other version here\r\n        }\r\n    }\r\n\r\nEDIT: I guess the generics-stuff doesn&#39;t really add any value here.. Oh well. :)\r\n\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>Probably a bit overkill, but I enjoy this kind of isolated problem. :)</p>\n\n<p>This code uses a temporary Set (for the uniqueness check) but removes elements directly inside the original list. Since element removal inside an ArrayList can induce a huge amount of array copying, the remove(int)-method is avoided.</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(ArrayList&lt;T&gt; list) {\n    int size = list.size();\n    int out = 0;\n    {\n        final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\n        for (int in = 0; in &lt; size; in++) {\n            final T t = list.get(in);\n            final boolean first = encountered.add(t);\n            if (first) {\n                list.set(out++, t);\n            }\n        }\n    }\n    while (out &lt; size) {\n        list.remove(--size);\n    }\n}\n</code></pre>\n\n<p>While we're at it, here's a version for LinkedList (a lot nicer!):</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(LinkedList&lt;T&gt; list) {\n    final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\n    for (Iterator&lt;T&gt; iter = list.iterator(); iter.hasNext(); ) {\n        final T t = iter.next();\n        final boolean first = encountered.add(t);\n        if (!first) {\n            iter.remove();\n        }\n    }\n}\n</code></pre>\n\n<p>Use the marker interface to present a unified solution for List:</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(List&lt;T&gt; list) {\n    if (list instanceof RandomAccess) {\n        // use first version here\n    } else {\n        // use other version here\n    }\n}\n</code></pre>\n\n<p>EDIT: I guess the generics-stuff doesn't really add any value here.. Oh well. :)</p>\n"},{"tags":[],"owner":{"account_id":266731,"reputation":425,"user_id":554467,"display_name":"stbn"},"down_vote_count":3,"up_vote_count":33,"is_accepted":false,"score":30,"last_activity_date":1556265846,"creation_date":1293552430,"answer_id":4547382,"question_id":203984,"body_markdown":"Here&#39;s a way that doesn&#39;t affect your list ordering:\r\n\r\n    ArrayList l1 = new ArrayList();\r\n    ArrayList l2 = new ArrayList();\r\n    \r\n    Iterator iterator = l1.iterator();\r\n    \r\n    while (iterator.hasNext()) {\r\n        YourClass o = (YourClass) iterator.next();\r\n        if(!l2.contains(o)) l2.add(o);\r\n    }\r\n\r\nl1 is the original list, and l2 is the list without repeated items\r\n(Make sure YourClass has the equals method according to what you want to stand for equality)","title":"How do I remove repeated elements from ArrayList?","body":"<p>Here's a way that doesn't affect your list ordering:</p>\n\n<pre><code>ArrayList l1 = new ArrayList();\nArrayList l2 = new ArrayList();\n\nIterator iterator = l1.iterator();\n\nwhile (iterator.hasNext()) {\n    YourClass o = (YourClass) iterator.next();\n    if(!l2.contains(o)) l2.add(o);\n}\n</code></pre>\n\n<p>l1 is the original list, and l2 is the list without repeated items\n(Make sure YourClass has the equals method according to what you want to stand for equality)</p>\n"},{"tags":[],"owner":{"account_id":360018,"reputation":113,"user_id":701779,"display_name":"HarpyWar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1343238428,"creation_date":1302509858,"answer_id":5618571,"question_id":203984,"body_markdown":"When you are filling the ArrayList, use a condition for each element. For example:\r\n\r\n\t\tArrayList&lt; Integer &gt; al = new ArrayList&lt; Integer &gt;(); \r\n\t\t \r\n\t\t// fill 1 \r\n\t\tfor ( int i = 0; i &lt;= 5; i++ ) \r\n\t\t    if ( !al.contains( i ) ) \r\n\t\t        al.add( i ); \r\n\t\t \r\n\t\t// fill 2 \r\n\t\tfor (int i = 0; i &lt;= 10; i++ ) \r\n\t\t    if ( !al.contains( i ) ) \r\n\t\t        al.add( i ); \r\n\r\n\t\tfor( Integer i: al )\r\n\t\t{\r\n\t\t\tSystem.out.print( i + &quot; &quot;);\t\t\r\n\t\t}\r\nWe will get an array {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10}\r\n\r\n\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>When you are filling the ArrayList, use a condition for each element. For example:</p>\n\n<pre><code>    ArrayList&lt; Integer &gt; al = new ArrayList&lt; Integer &gt;(); \n\n    // fill 1 \n    for ( int i = 0; i &lt;= 5; i++ ) \n        if ( !al.contains( i ) ) \n            al.add( i ); \n\n    // fill 2 \n    for (int i = 0; i &lt;= 10; i++ ) \n        if ( !al.contains( i ) ) \n            al.add( i ); \n\n    for( Integer i: al )\n    {\n        System.out.print( i + \" \");     \n    }\n</code></pre>\n\n<p>We will get an array {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10}</p>\n"},{"tags":[],"owner":{"account_id":102066,"reputation":5017,"user_id":274205,"accept_rate":75,"display_name":"Timofey Gorshkov"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1449510003,"creation_date":1323471349,"answer_id":8452741,"question_id":203984,"body_markdown":"There is also [`ImmutableSet`][1] from [Guava][2] as an option ([here][3] is the documentation):\r\n\r\n    ImmutableSet.copyOf(list);\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableSet.html\r\n  [2]: https://github.com/google/guava\r\n  [3]: https://github.com/google/guava/wiki/ImmutableCollectionsExplained","title":"How do I remove repeated elements from ArrayList?","body":"<p>There is also <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableSet.html\" rel=\"noreferrer\"><code>ImmutableSet</code></a> from <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> as an option (<a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\" rel=\"noreferrer\">here</a> is the documentation):</p>\n\n<pre><code>ImmutableSet.copyOf(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190715,"reputation":31,"user_id":1163576,"display_name":"Ghyour"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1327245798,"creation_date":1327245798,"answer_id":8962127,"question_id":203984,"body_markdown":"    for(int a=0;a&lt;myArray.size();a++){\r\n        \tfor(int b=a+1;b&lt;myArray.size();b++){\r\n        \t\tif(myArray.get(a).equalsIgnoreCase(myArray.get(b))){\r\n        \t\t\tmyArray.remove(b); \r\n                    dups++;\r\n        \t\t\tb--;\r\n        \t\t}\r\n        \t}\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>for(int a=0;a&lt;myArray.size();a++){\n        for(int b=a+1;b&lt;myArray.size();b++){\n            if(myArray.get(a).equalsIgnoreCase(myArray.get(b))){\n                myArray.remove(b); \n                dups++;\n                b--;\n            }\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1892809,"reputation":1,"user_id":1710433,"display_name":"reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349044541,"creation_date":1349041541,"answer_id":12665409,"question_id":203984,"body_markdown":"    import java.util.*;\r\n    class RemoveDupFrmString\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            \r\n            String s=&quot;appsc&quot;;\r\n            \r\n            Set&lt;Character&gt; unique = new LinkedHashSet&lt;Character&gt; ();\r\n            \r\n            for(char c : s.toCharArray()) {\r\n                \r\n                System.out.println(unique.add(c));\r\n            }\r\n            for(char dis:unique){\r\n                System.out.println(dis);\r\n            }\r\n            \r\n            \r\n        }\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>import java.util.*;\nclass RemoveDupFrmString\n{\n    public static void main(String[] args)\n    {\n\n        String s=\"appsc\";\n\n        Set&lt;Character&gt; unique = new LinkedHashSet&lt;Character&gt; ();\n\n        for(char c : s.toCharArray()) {\n\n            System.out.println(unique.add(c));\n        }\n        for(char dis:unique){\n            System.out.println(dis);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2157517,"reputation":369,"user_id":1912383,"accept_rate":0,"display_name":"user1912383"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357146401,"creation_date":1357146401,"answer_id":14126093,"question_id":203984,"body_markdown":"LinkedHashSet will do the trick.\r\n\r\n    String[] arr2 = {&quot;5&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;3&quot;,&quot;4&quot;,&quot;1&quot;,&quot;2&quot;};\r\n    Set&lt;String&gt; set = new LinkedHashSet&lt;String&gt;(Arrays.asList(arr2));\r\n    for(String s1 : set)\r\n        System.out.println(s1);\r\n\r\n    System.out.println( &quot;------------------------&quot; );\r\n    String[] arr3 = set.toArray(new String[0]);\r\n    for(int i = 0; i &lt; arr3.length; i++)\r\n         System.out.println(arr3[i].toString());\r\n\r\n//output: 5,1,2,3,4","title":"How do I remove repeated elements from ArrayList?","body":"<p>LinkedHashSet will do the trick.</p>\n\n<pre><code>String[] arr2 = {\"5\",\"1\",\"2\",\"3\",\"3\",\"4\",\"1\",\"2\"};\nSet&lt;String&gt; set = new LinkedHashSet&lt;String&gt;(Arrays.asList(arr2));\nfor(String s1 : set)\n    System.out.println(s1);\n\nSystem.out.println( \"------------------------\" );\nString[] arr3 = set.toArray(new String[0]);\nfor(int i = 0; i &lt; arr3.length; i++)\n     System.out.println(arr3[i].toString());\n</code></pre>\n\n<p>//output: 5,1,2,3,4</p>\n"},{"tags":[],"owner":{"account_id":3205723,"reputation":49,"user_id":2706817,"display_name":"Harsha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377760869,"creation_date":1377760869,"answer_id":18504616,"question_id":203984,"body_markdown":"    public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list) {\r\n\t\t\tSet&lt;Object&gt; items = new HashSet&lt;Object&gt;();\r\n\t\t\tSet&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();\r\n\t\t\tfor (Object item : list) {\r\n\t\t\t\tif (items.contains(item)) {\r\n\t\t\t\t\tduplicates.add(item);\r\n\t\t\t\t\t} else { \r\n\t\t\t\t\t\titems.add(item);\r\n\t\t\t\t\t\t} \r\n\t\t\t\t} \r\n\t\t\treturn duplicates;\r\n\t\t\t}","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list) {\n        Set&lt;Object&gt; items = new HashSet&lt;Object&gt;();\n        Set&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();\n        for (Object item : list) {\n            if (items.contains(item)) {\n                duplicates.add(item);\n                } else { \n                    items.add(item);\n                    } \n            } \n        return duplicates;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3421134,"reputation":279,"user_id":2868724,"display_name":"user2868724"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1556265982,"creation_date":1381436686,"answer_id":19305534,"question_id":203984,"body_markdown":"this can solve the problem:\r\n\r\n    private List&lt;SomeClass&gt; clearListFromDuplicateFirstName(List&lt;SomeClass&gt; list1) {\r\n    \r\n         Map&lt;String, SomeClass&gt; cleanMap = new LinkedHashMap&lt;String, SomeClass&gt;();\r\n         for (int i = 0; i &lt; list1.size(); i++) {\r\n             cleanMap.put(list1.get(i).getFirstName(), list1.get(i));\r\n         }\r\n         List&lt;SomeClass&gt; list = new ArrayList&lt;SomeClass&gt;(cleanMap.values());\r\n         return list;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>this can solve the problem:</p>\n\n<pre><code>private List&lt;SomeClass&gt; clearListFromDuplicateFirstName(List&lt;SomeClass&gt; list1) {\n\n     Map&lt;String, SomeClass&gt; cleanMap = new LinkedHashMap&lt;String, SomeClass&gt;();\n     for (int i = 0; i &lt; list1.size(); i++) {\n         cleanMap.put(list1.get(i).getFirstName(), list1.get(i));\n     }\n     List&lt;SomeClass&gt; list = new ArrayList&lt;SomeClass&gt;(cleanMap.values());\n     return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366287,"reputation":159,"user_id":2071911,"accept_rate":25,"display_name":"ram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381583690,"creation_date":1381582261,"answer_id":19334383,"question_id":203984,"body_markdown":"If you want to preserve your Order then it is best to use **LinkedHashSet**.\r\nBecause if you want to pass this List to an Insert Query by Iterating it, the order would be preserved.\r\n\r\nTry this\r\n\r\n\r\n    LinkedHashSet link=new LinkedHashSet();\r\n    List listOfValues=new ArrayList();\r\n    listOfValues.add(link);\r\n\r\nThis conversion will be very helpful when you want to return a List but not a Set.\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you want to preserve your Order then it is best to use <strong>LinkedHashSet</strong>.\nBecause if you want to pass this List to an Insert Query by Iterating it, the order would be preserved.</p>\n\n<p>Try this</p>\n\n<pre><code>LinkedHashSet link=new LinkedHashSet();\nList listOfValues=new ArrayList();\nlistOfValues.add(link);\n</code></pre>\n\n<p>This conversion will be very helpful when you want to return a List but not a Set.</p>\n"},{"tags":[],"owner":{"account_id":153644,"reputation":727,"user_id":369035,"accept_rate":53,"display_name":"CarlJohn"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1382035094,"creation_date":1382035094,"answer_id":19434592,"question_id":203984,"body_markdown":"It is possible to remove duplicates from arraylist without using **HashSet** or **one more arraylist**. \r\n\r\nTry this code..\r\n\r\n\r\n  \r\n\r\n        ArrayList&lt;String&gt; lst = new ArrayList&lt;String&gt;();\r\n        lst.add(&quot;ABC&quot;);\r\n        lst.add(&quot;ABC&quot;);\r\n        lst.add(&quot;ABCD&quot;);\r\n        lst.add(&quot;ABCD&quot;);\r\n        lst.add(&quot;ABCE&quot;);\r\n    \r\n        System.out.println(&quot;Duplicates List &quot;+lst);\r\n    \r\n        Object[] st = lst.toArray();\r\n          for (Object s : st) {\r\n            if (lst.indexOf(s) != lst.lastIndexOf(s)) {\r\n                lst.remove(lst.lastIndexOf(s));\r\n             }\r\n          }\r\n       \r\n        System.out.println(&quot;Distinct List &quot;+lst);\r\n\r\nOutput is\r\n\r\n \r\n\r\n    Duplicates List [ABC, ABC, ABCD, ABCD, ABCE]\r\n    Distinct List [ABC, ABCD, ABCE]","title":"How do I remove repeated elements from ArrayList?","body":"<p>It is possible to remove duplicates from arraylist without using <strong>HashSet</strong> or <strong>one more arraylist</strong>. </p>\n\n<p>Try this code..</p>\n\n<pre><code>    ArrayList&lt;String&gt; lst = new ArrayList&lt;String&gt;();\n    lst.add(\"ABC\");\n    lst.add(\"ABC\");\n    lst.add(\"ABCD\");\n    lst.add(\"ABCD\");\n    lst.add(\"ABCE\");\n\n    System.out.println(\"Duplicates List \"+lst);\n\n    Object[] st = lst.toArray();\n      for (Object s : st) {\n        if (lst.indexOf(s) != lst.lastIndexOf(s)) {\n            lst.remove(lst.lastIndexOf(s));\n         }\n      }\n\n    System.out.println(\"Distinct List \"+lst);\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>Duplicates List [ABC, ABC, ABCD, ABCD, ABCE]\nDistinct List [ABC, ABCD, ABCE]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":0,"up_vote_count":175,"is_accepted":false,"score":175,"last_activity_date":1397956998,"creation_date":1397956998,"answer_id":23177411,"question_id":203984,"body_markdown":"In Java 8:\r\n\r\n    List&lt;String&gt; deduped = list.stream().distinct().collect(Collectors.toList());\r\n\r\nPlease note that the [hashCode-equals][1] contract for list members should be respected for the filtering to work properly.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java","title":"How do I remove repeated elements from ArrayList?","body":"<p>In Java 8:</p>\n\n<pre><code>List&lt;String&gt; deduped = list.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p>Please note that the <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">hashCode-equals</a> contract for list members should be respected for the filtering to work properly.</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402663899,"creation_date":1402663899,"answer_id":24205781,"question_id":203984,"body_markdown":"        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        HashSet&lt;String&gt; unique = new LinkedHashSet&lt;String&gt;();\r\n        HashSet&lt;String&gt; dup = new LinkedHashSet&lt;String&gt;();\r\n        boolean b = false;\r\n        list.add(&quot;Hello&quot;);\r\n        list.add(&quot;Hello&quot;);\r\n        list.add(&quot;how&quot;);\r\n        list.add(&quot;are&quot;);\r\n        list.add(&quot;u&quot;);\r\n        list.add(&quot;u&quot;);\r\n\r\n        for(Iterator iterator= list.iterator();iterator.hasNext();)\r\n        {\r\n            String value = (String)iterator.next();\r\n            System.out.println(value);\r\n\r\n            if(b==unique.add(value))\r\n                dup.add(value);\r\n            else\r\n                unique.add(value);\r\n\r\n\r\n        }\r\n        System.out.println(unique);\r\n        System.out.println(dup);","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    HashSet&lt;String&gt; unique = new LinkedHashSet&lt;String&gt;();\n    HashSet&lt;String&gt; dup = new LinkedHashSet&lt;String&gt;();\n    boolean b = false;\n    list.add(\"Hello\");\n    list.add(\"Hello\");\n    list.add(\"how\");\n    list.add(\"are\");\n    list.add(\"u\");\n    list.add(\"u\");\n\n    for(Iterator iterator= list.iterator();iterator.hasNext();)\n    {\n        String value = (String)iterator.next();\n        System.out.println(value);\n\n        if(b==unique.add(value))\n            dup.add(value);\n        else\n            unique.add(value);\n\n\n    }\n    System.out.println(unique);\n    System.out.println(dup);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5014583,"reputation":77,"user_id":4029759,"display_name":"Thananjayan N"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410518038,"creation_date":1410418376,"answer_id":25780946,"question_id":203984,"body_markdown":" If you want to remove duplicates from ArrayList means find the below logic,\r\n\r\n    public static Object[] removeDuplicate(Object[] inputArray)\r\n\t{\r\n\t\tlong startTime = System.nanoTime();\r\n\t\tint totalSize = inputArray.length;\r\n\t\tObject[] resultArray = new Object[totalSize];\r\n\t\tint newSize = 0;\r\n\t\tfor(int i=0; i&lt;totalSize; i++)\r\n\t\t{\r\n\t\t\tObject value = inputArray[i];\r\n\t\t\tif(value == null)\r\n\t\t\t{\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor(int j=i+1; j&lt;totalSize; j++)\r\n\t\t\t{\r\n\t\t\t\tif(value.equals(inputArray[j]))\r\n\t\t\t\t{\r\n\t\t\t\t\tinputArray[j] = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresultArray[newSize++] = value;\r\n\t\t}\r\n\t\t\r\n\t\tlong endTime = System.nanoTime()-startTime;\r\n\t\tSystem.out.println(&quot;Total Time-B:&quot;+endTime);\r\n\t\treturn resultArray;\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you want to remove duplicates from ArrayList means find the below logic,</p>\n\n<pre><code>public static Object[] removeDuplicate(Object[] inputArray)\n{\n    long startTime = System.nanoTime();\n    int totalSize = inputArray.length;\n    Object[] resultArray = new Object[totalSize];\n    int newSize = 0;\n    for(int i=0; i&lt;totalSize; i++)\n    {\n        Object value = inputArray[i];\n        if(value == null)\n        {\n            continue;\n        }\n\n        for(int j=i+1; j&lt;totalSize; j++)\n        {\n            if(value.equals(inputArray[j]))\n            {\n                inputArray[j] = null;\n            }\n        }\n        resultArray[newSize++] = value;\n    }\n\n    long endTime = System.nanoTime()-startTime;\n    System.out.println(\"Total Time-B:\"+endTime);\n    return resultArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1644869,"reputation":216,"user_id":1516571,"display_name":"M Kaweepatt Churcharoen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418036259,"creation_date":1418036259,"answer_id":27356461,"question_id":203984,"body_markdown":"This three lines of code can remove the duplicated element from ArrayList or any collection.\r\n\r\n    List&lt;Entity&gt; entities = repository.findByUserId(userId);\r\n    \r\n    Set&lt;Entity&gt; s = new LinkedHashSet&lt;Entity&gt;(entities);\r\n    entities.clear();\r\n    entities.addAll(s);\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>This three lines of code can remove the duplicated element from ArrayList or any collection.</p>\n\n<pre><code>List&lt;Entity&gt; entities = repository.findByUserId(userId);\n\nSet&lt;Entity&gt; s = new LinkedHashSet&lt;Entity&gt;(entities);\nentities.clear();\nentities.addAll(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5599169,"reputation":111,"user_id":4435902,"display_name":"sambhu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433899975,"creation_date":1426078051,"answer_id":28987005,"question_id":203984,"body_markdown":"**Code:**\r\n\r\n    List&lt;String&gt; duplicatList = new ArrayList&lt;String&gt;();\r\n    duplicatList = Arrays.asList(&quot;AA&quot;,&quot;BB&quot;,&quot;CC&quot;,&quot;DD&quot;,&quot;DD&quot;,&quot;EE&quot;,&quot;AA&quot;,&quot;FF&quot;);\r\n    //above AA and DD are duplicate\r\n    Set&lt;String&gt; uniqueList = new HashSet&lt;String&gt;(duplicatList);\r\n    duplicatList = new ArrayList&lt;String&gt;(uniqueList); //let GC will doing free memory\r\n    System.out.println(&quot;Removed Duplicate : &quot;+duplicatList);\r\n\r\n\r\n \r\n**Note:** Definitely, there will be memory overhead.","title":"How do I remove repeated elements from ArrayList?","body":"<p><strong>Code:</strong></p>\n\n<pre><code>List&lt;String&gt; duplicatList = new ArrayList&lt;String&gt;();\nduplicatList = Arrays.asList(\"AA\",\"BB\",\"CC\",\"DD\",\"DD\",\"EE\",\"AA\",\"FF\");\n//above AA and DD are duplicate\nSet&lt;String&gt; uniqueList = new HashSet&lt;String&gt;(duplicatList);\nduplicatList = new ArrayList&lt;String&gt;(uniqueList); //let GC will doing free memory\nSystem.out.println(\"Removed Duplicate : \"+duplicatList);\n</code></pre>\n\n<p><strong>Note:</strong> Definitely, there will be memory overhead.</p>\n"},{"tags":[],"owner":{"account_id":1430809,"reputation":2970,"user_id":1353274,"accept_rate":97,"display_name":"sharkbait"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435751685,"creation_date":1435751685,"answer_id":31160570,"question_id":203984,"body_markdown":"The @jonathan-stafford solution is OK. But this don&#39;t preserve the list order.\r\n\r\nIf you want preserve the list order you have to use this:\r\n\r\n    public static &lt;T&gt; void removeDuplicate(List &lt;T&gt; list) {\r\n    Set &lt;T&gt; set = new HashSet &lt;T&gt;();\r\n    List &lt;T&gt; newList = new ArrayList &lt;T&gt;();\r\n    for (Iterator &lt;T&gt;iter = list.iterator();    iter.hasNext(); ) {\r\n       Object element = iter.next();\r\n       if (set.add((T) element))\r\n          newList.add((T) element);\r\n       }\r\n       list.clear();\r\n       list.addAll(newList);\r\n    }\r\n\r\nIt&#39;s only to complete the answer. Very good!","title":"How do I remove repeated elements from ArrayList?","body":"<p>The @jonathan-stafford solution is OK. But this don't preserve the list order.</p>\n\n<p>If you want preserve the list order you have to use this:</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicate(List &lt;T&gt; list) {\nSet &lt;T&gt; set = new HashSet &lt;T&gt;();\nList &lt;T&gt; newList = new ArrayList &lt;T&gt;();\nfor (Iterator &lt;T&gt;iter = list.iterator();    iter.hasNext(); ) {\n   Object element = iter.next();\n   if (set.add((T) element))\n      newList.add((T) element);\n   }\n   list.clear();\n   list.addAll(newList);\n}\n</code></pre>\n\n<p>It's only to complete the answer. Very good!</p>\n"},{"tags":[],"owner":{"account_id":6723483,"reputation":11,"user_id":5182491,"display_name":"siva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438509243,"creation_date":1438509243,"answer_id":31770675,"question_id":203984,"body_markdown":"            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \t\tSet&lt;String&gt; set = new LinkedHashSet&lt;String&gt;();\r\n    \t\tString s = &quot;ravi is a good!boy. But ravi is very nasty fellow.&quot;;\r\n    \t\tStringTokenizer st = new StringTokenizer(s, &quot; ,. ,!&quot;);\r\n    \t\twhile (st.hasMoreTokens()) {\r\n    \t\t\tresult.add(st.nextToken());\r\n    \t\t}\r\n             System.out.println(result);\r\n             set.addAll(result);\r\n    \t\tresult.clear();\r\n    \t\tresult.addAll(set);\r\n            System.out.println(result);\r\n    \r\n    output:\r\n    [ravi, is, a, good, boy, But, ravi, is, very, nasty, fellow]\r\n    [ravi, is, a, good, boy, But, very, nasty, fellow]","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n        Set&lt;String&gt; set = new LinkedHashSet&lt;String&gt;();\n        String s = \"ravi is a good!boy. But ravi is very nasty fellow.\";\n        StringTokenizer st = new StringTokenizer(s, \" ,. ,!\");\n        while (st.hasMoreTokens()) {\n            result.add(st.nextToken());\n        }\n         System.out.println(result);\n         set.addAll(result);\n        result.clear();\n        result.addAll(set);\n        System.out.println(result);\n\noutput:\n[ravi, is, a, good, boy, But, ravi, is, very, nasty, fellow]\n[ravi, is, a, good, boy, But, very, nasty, fellow]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6236104,"reputation":681,"user_id":4851359,"display_name":"infoj"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1439400638,"creation_date":1439400638,"answer_id":31971798,"question_id":203984,"body_markdown":"Java 8 streams provide a very simple way to remove duplicate elements from a list. Using the distinct method.\r\nIf we have a list of cities and we want to remove duplicates from that list it can be done in a single line - \r\n\r\n     List&lt;String&gt; cityList = new ArrayList&lt;&gt;();\r\n     cityList.add(&quot;Delhi&quot;);\r\n     cityList.add(&quot;Mumbai&quot;);\r\n     cityList.add(&quot;Bangalore&quot;);\r\n     cityList.add(&quot;Chennai&quot;);\r\n     cityList.add(&quot;Kolkata&quot;);\r\n     cityList.add(&quot;Mumbai&quot;);\r\n            \r\n     cityList = cityList.stream().distinct().collect(Collectors.toList());\r\n\r\n[How to remove duplicate elements from an arraylist][1]\r\n\r\n\r\n  [1]: http://netjs.blogspot.com/2015/08/how-to-remove-duplicate-elements-from-arraylist-java.html","title":"How do I remove repeated elements from ArrayList?","body":"<p>Java 8 streams provide a very simple way to remove duplicate elements from a list. Using the distinct method.\nIf we have a list of cities and we want to remove duplicates from that list it can be done in a single line - </p>\n\n<pre><code> List&lt;String&gt; cityList = new ArrayList&lt;&gt;();\n cityList.add(\"Delhi\");\n cityList.add(\"Mumbai\");\n cityList.add(\"Bangalore\");\n cityList.add(\"Chennai\");\n cityList.add(\"Kolkata\");\n cityList.add(\"Mumbai\");\n\n cityList = cityList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p><a href=\"http://netjs.blogspot.com/2015/08/how-to-remove-duplicate-elements-from-arraylist-java.html\" rel=\"noreferrer\">How to remove duplicate elements from an arraylist</a></p>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1442760116,"creation_date":1442760116,"answer_id":32680600,"question_id":203984,"body_markdown":"\tpublic static void main(String[] args){\r\n\t\tArrayList&lt;Object&gt; al = new ArrayList&lt;Object&gt;();\r\n\t\tal.add(&quot;abc&quot;);\r\n\t\tal.add(&#39;a&#39;);\r\n\t\tal.add(&#39;b&#39;);\r\n\t\tal.add(&#39;a&#39;);\r\n\t\tal.add(&quot;abc&quot;);\r\n\t\tal.add(10.3);\r\n\t\tal.add(&#39;c&#39;);\r\n\t\tal.add(10);\r\n\t\tal.add(&quot;abc&quot;);\r\n\t\tal.add(10);\r\n\t\tSystem.out.println(&quot;Before Duplicate Remove:&quot;+al);\r\n\t\tfor(int i=0;i&lt;al.size();i++){\r\n\t\t\tfor(int j=i+1;j&lt;al.size();j++){\r\n\t\t\t\tif(al.get(i).equals(al.get(j))){\r\n\t\t\t\t\tal.remove(j);\r\n\t\t\t\t\tj--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;After Removing duplicate:&quot;+al);\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>public static void main(String[] args){\n    ArrayList&lt;Object&gt; al = new ArrayList&lt;Object&gt;();\n    al.add(\"abc\");\n    al.add('a');\n    al.add('b');\n    al.add('a');\n    al.add(\"abc\");\n    al.add(10.3);\n    al.add('c');\n    al.add(10);\n    al.add(\"abc\");\n    al.add(10);\n    System.out.println(\"Before Duplicate Remove:\"+al);\n    for(int i=0;i&lt;al.size();i++){\n        for(int j=i+1;j&lt;al.size();j++){\n            if(al.get(i).equals(al.get(j))){\n                al.remove(j);\n                j--;\n            }\n        }\n    }\n    System.out.println(\"After Removing duplicate:\"+al);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2250200,"reputation":654,"user_id":1982580,"display_name":"neo7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443000962,"creation_date":1443000962,"answer_id":32735976,"question_id":203984,"body_markdown":"Here is my answer without using any other data structure like set or hashmap etc.\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; uniquefy(ArrayList&lt;T&gt; myList) {\r\n\t\t\r\n\t\tArrayList &lt;T&gt; uniqueArrayList = new ArrayList&lt;T&gt;();\r\n\t\tfor (int i = 0; i &lt; myList.size(); i++){\r\n\t\t\tif (!uniqueArrayList.contains(myList.get(i))){\r\n\t\t\t\tuniqueArrayList.add(myList.get(i));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn uniqueArrayList;\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<p>Here is my answer without using any other data structure like set or hashmap etc.</p>\n\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; uniquefy(ArrayList&lt;T&gt; myList) {\n\n    ArrayList &lt;T&gt; uniqueArrayList = new ArrayList&lt;T&gt;();\n    for (int i = 0; i &lt; myList.size(); i++){\n        if (!uniqueArrayList.contains(myList.get(i))){\n            uniqueArrayList.add(myList.get(i));\n        }\n    }\n\n    return uniqueArrayList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6871153,"reputation":1591,"user_id":5281441,"display_name":"satish"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1612451528,"creation_date":1447745199,"answer_id":33751322,"question_id":203984,"body_markdown":"In Java, List permits ordered access of their elements. They can have duplicates because their lookup key is the position not some hash code, every element can be modified while they remain in the list where as Set represents a collection of unique elements and while elements are in set, they must not be modified.While there is no restriction preventing you from modifying elements in a set, if an element is modified, then it could become forever lost in the set.\r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n           List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n           l.add(&quot;A&quot;);\r\n           l.add(&quot;B&quot;);\r\n           l.add(&quot;C&quot;);\r\n           l.add(&quot;A&quot;);\r\n           System.out.println(&quot;Before removing duplicates: &quot;);\r\n           for (String s : l) {\r\n                System.out.println(s);\r\n           }\r\n           Set&lt;String&gt; set = new HashSet&lt;String&gt;(l);\r\n           List&lt;String&gt; newlist = new ArrayList&lt;String&gt;(set);\r\n           System.out.println(&quot;after removing duplicates: &quot;);\r\n           for (String s : newlist) {\r\n                System.out.println(s);\r\n           }\r\n      }\r\n\r\nfor reference, refer this link [How to remove duplicates from ArrayList][1] \r\n\r\n\r\n  [1]: http://techno-terminal.blogspot.in/2015/11/how-to-remove-duplicates-from-arraylist.html","title":"How do I remove repeated elements from ArrayList?","body":"<p>In Java, List permits ordered access of their elements. They can have duplicates because their lookup key is the position not some hash code, every element can be modified while they remain in the list where as Set represents a collection of unique elements and while elements are in set, they must not be modified.While there is no restriction preventing you from modifying elements in a set, if an element is modified, then it could become forever lost in the set.</p>\n<pre><code>public static void main(String[] args) {\n       List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n       l.add(&quot;A&quot;);\n       l.add(&quot;B&quot;);\n       l.add(&quot;C&quot;);\n       l.add(&quot;A&quot;);\n       System.out.println(&quot;Before removing duplicates: &quot;);\n       for (String s : l) {\n            System.out.println(s);\n       }\n       Set&lt;String&gt; set = new HashSet&lt;String&gt;(l);\n       List&lt;String&gt; newlist = new ArrayList&lt;String&gt;(set);\n       System.out.println(&quot;after removing duplicates: &quot;);\n       for (String s : newlist) {\n            System.out.println(s);\n       }\n  }\n</code></pre>\n<p>for reference, refer this link <a href=\"http://techno-terminal.blogspot.in/2015/11/how-to-remove-duplicates-from-arraylist.html\" rel=\"nofollow noreferrer\">How to remove duplicates from ArrayList</a></p>\n"},{"tags":[],"owner":{"account_id":7396615,"reputation":1,"user_id":5628310,"display_name":"Ravi Vital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612451455,"creation_date":1449023001,"answer_id":34033817,"question_id":203984,"body_markdown":"Would something like this work better ? \r\n\r\n    public static void removeDuplicates(ArrayList&lt;String&gt; list) {\r\n        Arraylist&lt;Object&gt; ar     = new Arraylist&lt;Object&gt;();\r\n        Arraylist&lt;Object&gt; tempAR = new Arraylist&lt;Object&gt;();\r\n        while (list.size()&gt;0){\r\n            ar.add(list(0));\r\n            list.removeall(Collections.singleton(list(0)));\r\n        }\r\n        list.addAll(ar);\r\n    }\r\n\r\nThat should maintain the order and also not be quadratic in run time.","title":"How do I remove repeated elements from ArrayList?","body":"<p>Would something like this work better ?</p>\n<pre><code>public static void removeDuplicates(ArrayList&lt;String&gt; list) {\n    Arraylist&lt;Object&gt; ar     = new Arraylist&lt;Object&gt;();\n    Arraylist&lt;Object&gt; tempAR = new Arraylist&lt;Object&gt;();\n    while (list.size()&gt;0){\n        ar.add(list(0));\n        list.removeall(Collections.singleton(list(0)));\n    }\n    list.addAll(ar);\n}\n</code></pre>\n<p>That should maintain the order and also not be quadratic in run time.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475102742,"creation_date":1449758818,"answer_id":34204842,"question_id":203984,"body_markdown":"If you&#39;re willing to use a third-party library, you can use the method `distinct()` in [Eclipse Collections][1] (formerly GS Collections).\r\n\r\n    ListIterable&lt;Integer&gt; integers = FastList.newListWith(1, 3, 1, 2, 2, 1);\r\n    Assert.assertEquals(\r\n        FastList.newListWith(1, 3, 2),\r\n        integers.distinct());\r\n\r\nThe advantage of using `distinct()` instead of converting to a Set and then back to a List is that `distinct()` preserves the order of the original List, retaining the first occurrence of each element. It&#39;s implemented by using both a Set and a List.\r\n\r\n    MutableSet&lt;T&gt; seenSoFar = UnifiedSet.newSet();\r\n    int size = list.size();\r\n    for (int i = 0; i &lt; size; i++)\r\n    {\r\n        T item = list.get(i);\r\n        if (seenSoFar.add(item))\r\n        {\r\n            targetCollection.add(item);\r\n        }\r\n    }\r\n    return targetCollection;\r\n\r\nIf you cannot convert your original List into an Eclipse Collections type, you can use ListAdapter to get the same API.\r\n\r\n    MutableList&lt;Integer&gt; distinct = ListAdapter.adapt(integers).distinct();\r\n\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you're willing to use a third-party library, you can use the method <code>distinct()</code> in <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> (formerly GS Collections).</p>\n\n<pre><code>ListIterable&lt;Integer&gt; integers = FastList.newListWith(1, 3, 1, 2, 2, 1);\nAssert.assertEquals(\n    FastList.newListWith(1, 3, 2),\n    integers.distinct());\n</code></pre>\n\n<p>The advantage of using <code>distinct()</code> instead of converting to a Set and then back to a List is that <code>distinct()</code> preserves the order of the original List, retaining the first occurrence of each element. It's implemented by using both a Set and a List.</p>\n\n<pre><code>MutableSet&lt;T&gt; seenSoFar = UnifiedSet.newSet();\nint size = list.size();\nfor (int i = 0; i &lt; size; i++)\n{\n    T item = list.get(i);\n    if (seenSoFar.add(item))\n    {\n        targetCollection.add(item);\n    }\n}\nreturn targetCollection;\n</code></pre>\n\n<p>If you cannot convert your original List into an Eclipse Collections type, you can use ListAdapter to get the same API.</p>\n\n<pre><code>MutableList&lt;Integer&gt; distinct = ListAdapter.adapt(integers).distinct();\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":5862240,"reputation":360,"user_id":5018911,"display_name":"Hardip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458989484,"creation_date":1458987210,"answer_id":36234085,"question_id":203984,"body_markdown":"    ArrayList&lt;String&gt; city=new ArrayList&lt;String&gt;();\r\n    city.add(&quot;rajkot&quot;);\r\n    city.add(&quot;gondal&quot;);\r\n    city.add(&quot;rajkot&quot;);\r\n    city.add(&quot;gova&quot;);\r\n    city.add(&quot;baroda&quot;);\r\n    city.add(&quot;morbi&quot;);\r\n    city.add(&quot;gova&quot;);\r\n    \r\n    HashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\r\n    hashSet.addAll(city);\r\n    city.clear();\r\n    city.addAll(hashSet);\r\n    Toast.makeText(getActivity(),&quot;&quot; + city.toString(),Toast.LENGTH_SHORT).show();","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>ArrayList&lt;String&gt; city=new ArrayList&lt;String&gt;();\ncity.add(\"rajkot\");\ncity.add(\"gondal\");\ncity.add(\"rajkot\");\ncity.add(\"gova\");\ncity.add(\"baroda\");\ncity.add(\"morbi\");\ncity.add(\"gova\");\n\nHashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\nhashSet.addAll(city);\ncity.clear();\ncity.addAll(hashSet);\nToast.makeText(getActivity(),\"\" + city.toString(),Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1690351343,"creation_date":1464070677,"answer_id":37405769,"question_id":203984,"body_markdown":"Suppose we have a list of `String` like:\r\n\r\n    List&lt;String&gt; strList = new ArrayList&lt;&gt;(5);\r\n    // insert up to five items to list.        \r\n\r\nThen we can remove duplicate elements in multiple ways.\r\n\r\nPrior to Java 8\r\n---------------\r\n\r\n    List&lt;String&gt; deDupStringList = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(strList));\r\n\r\n**Note:** If we want to maintain the insertion order then we need to use `LinkedHashSet` in place of `HashSet`\r\n\r\nUsing Guava\r\n-----------\r\n\r\n    List&lt;String&gt; deDupStringList2 = Lists.newArrayList(Sets.newHashSet(strList));\r\n\r\nUsing Java 8\r\n------------\r\n\r\n    List&lt;String&gt; deDupStringList3 = strList.stream().distinct().collect(Collectors.toList());\r\n\r\n**Note:**  In case we want to collect the result in a **specific list implementation** e.g. `LinkedList` then we can modify the above example as:\r\n\r\n    List&lt;String&gt; deDupStringList3 = strList.stream().distinct()\r\n                     .collect(Collectors.toCollection(LinkedList::new));\r\n\r\nWe can use `parallelStream` also in the above code but it may not always give expected performance benefits. Check this [question][1] for more.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53645037/will-parallel-stream-work-fine-with-distinct-operation","title":"How do I remove repeated elements from ArrayList?","body":"<p>Suppose we have a list of <code>String</code> like:</p>\n<pre><code>List&lt;String&gt; strList = new ArrayList&lt;&gt;(5);\n// insert up to five items to list.        \n</code></pre>\n<p>Then we can remove duplicate elements in multiple ways.</p>\n<h2>Prior to Java 8</h2>\n<pre><code>List&lt;String&gt; deDupStringList = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(strList));\n</code></pre>\n<p><strong>Note:</strong> If we want to maintain the insertion order then we need to use <code>LinkedHashSet</code> in place of <code>HashSet</code></p>\n<h2>Using Guava</h2>\n<pre><code>List&lt;String&gt; deDupStringList2 = Lists.newArrayList(Sets.newHashSet(strList));\n</code></pre>\n<h2>Using Java 8</h2>\n<pre><code>List&lt;String&gt; deDupStringList3 = strList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n<p><strong>Note:</strong>  In case we want to collect the result in a <strong>specific list implementation</strong> e.g. <code>LinkedList</code> then we can modify the above example as:</p>\n<pre><code>List&lt;String&gt; deDupStringList3 = strList.stream().distinct()\n                 .collect(Collectors.toCollection(LinkedList::new));\n</code></pre>\n<p>We can use <code>parallelStream</code> also in the above code but it may not always give expected performance benefits. Check this <a href=\"https://stackoverflow.com/questions/53645037/will-parallel-stream-work-fine-with-distinct-operation\">question</a> for more.</p>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1481304883,"creation_date":1478252830,"answer_id":40419515,"question_id":203984,"body_markdown":"You can also do it this way, and preserve order:\r\n\r\n    // delete duplicates (if any) from &#39;myArrayList&#39;\r\n    myArrayList = new ArrayList&lt;String&gt;(new LinkedHashSet&lt;String&gt;(myArrayList));","title":"How do I remove repeated elements from ArrayList?","body":"<p>You can also do it this way, and preserve order:</p>\n\n<pre><code>// delete duplicates (if any) from 'myArrayList'\nmyArrayList = new ArrayList&lt;String&gt;(new LinkedHashSet&lt;String&gt;(myArrayList));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8137775,"reputation":87,"user_id":6128908,"display_name":"Gujjula Ramesh Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490509153,"creation_date":1490509153,"answer_id":43025730,"question_id":203984,"body_markdown":"This is used for your Custom Objects list \r\n                                                                                                                               \r\n       public List&lt;Contact&gt; removeDuplicates(List&lt;Contact&gt; list) {\r\n        // Set set1 = new LinkedHashSet(list);\r\n        Set set = new TreeSet(new Comparator() {\r\n\r\n            @Override\r\n            public int compare(Object o1, Object o2) {\r\n                if (((Contact) o1).getId().equalsIgnoreCase(((Contact) o2).getId()) /*&amp;&amp;\r\n                        ((Contact)o1).getName().equalsIgnoreCase(((Contact)o2).getName())*/) {\r\n                    return 0;\r\n                }\r\n                return 1;\r\n            }\r\n        });\r\n        set.addAll(list);\r\n\r\n        final List newList = new ArrayList(set);\r\n        return newList;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>This is used for your Custom Objects list </p>\n\n<pre><code>   public List&lt;Contact&gt; removeDuplicates(List&lt;Contact&gt; list) {\n    // Set set1 = new LinkedHashSet(list);\n    Set set = new TreeSet(new Comparator() {\n\n        @Override\n        public int compare(Object o1, Object o2) {\n            if (((Contact) o1).getId().equalsIgnoreCase(((Contact) o2).getId()) /*&amp;&amp;\n                    ((Contact)o1).getName().equalsIgnoreCase(((Contact)o2).getName())*/) {\n                return 0;\n            }\n            return 1;\n        }\n    });\n    set.addAll(list);\n\n    final List newList = new ArrayList(set);\n    return newList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401160,"reputation":1776,"user_id":767555,"display_name":"HamidReza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512067258,"creation_date":1512067258,"answer_id":47580485,"question_id":203984,"body_markdown":"you can use nested loop in follow :\r\n\r\n    ArrayList&lt;Class1&gt; l1 = new ArrayList&lt;Class1&gt;();\r\n    ArrayList&lt;Class1&gt; l2 = new ArrayList&lt;Class1&gt;();\r\n    \r\n            Iterator iterator1 = l1.iterator();\r\n            boolean repeated = false;\r\n    \r\n            while (iterator1.hasNext())\r\n            {\r\n                Class1 c1 = (Class1) iterator1.next();\r\n                for (Class1 _c: l2) {\r\n                    if(_c.getId() == c1.getId())\r\n                        repeated = true;\r\n                }\r\n                if(!repeated)\r\n                    l2.add(c1);\r\n            }","title":"How do I remove repeated elements from ArrayList?","body":"<p>you can use nested loop in follow :</p>\n\n<pre><code>ArrayList&lt;Class1&gt; l1 = new ArrayList&lt;Class1&gt;();\nArrayList&lt;Class1&gt; l2 = new ArrayList&lt;Class1&gt;();\n\n        Iterator iterator1 = l1.iterator();\n        boolean repeated = false;\n\n        while (iterator1.hasNext())\n        {\n            Class1 c1 = (Class1) iterator1.next();\n            for (Class1 _c: l2) {\n                if(_c.getId() == c1.getId())\n                    repeated = true;\n            }\n            if(!repeated)\n                l2.add(c1);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4999870,"reputation":1555,"user_id":4019233,"display_name":"Saurabh Gaddelpalliwar"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1565071451,"creation_date":1525870486,"answer_id":50253949,"question_id":203984,"body_markdown":"\t\r\n##If you are using model type List&lt; T&gt;/ArrayList&lt; T&gt; . Hope,it&#39;s help you.##\r\n\r\n**Here is my code without using any other data structure like set or hashmap**\r\n\r\n    for (int i = 0; i &lt; Models.size(); i++){\r\n    for (int j = i + 1; j &lt; Models.size(); j++) {       \r\n     if (Models.get(i).getName().equals(Models.get(j).getName())) {    \r\n     Models.remove(j);\r\n       j--;\r\n      }\r\n     }\r\n    }\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<h2>If you are using model type List&lt; T>/ArrayList&lt; T> . Hope,it's help you.</h2>\n\n<p><strong>Here is my code without using any other data structure like set or hashmap</strong></p>\n\n<pre><code>for (int i = 0; i &lt; Models.size(); i++){\nfor (int j = i + 1; j &lt; Models.size(); j++) {       \n if (Models.get(i).getName().equals(Models.get(j).getName())) {    \n Models.remove(j);\n   j--;\n  }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529461271,"creation_date":1526525585,"answer_id":50382676,"question_id":203984,"body_markdown":"Time Complexity : O(n) : Without Set\r\n        \r\n    private static void removeDup(ArrayList&lt;String&gt; listWithDuplicateElements) {\r\n\t\tSystem.out.println(&quot; Original Duplicate List :&quot; + listWithDuplicateElements);\r\n\t\tList&lt;String&gt; listWithoutDuplicateElements = new ArrayList&lt;&gt;(listWithDuplicateElements.size());\r\n\r\n        listWithDuplicateElements.stream().forEach(str -&gt; {\r\n\t\t\tif (listWithoutDuplicateElements.indexOf(str) == -1) {\r\n\t\t\t\tlistWithoutDuplicateElements.add(str);\r\n\t\t\t}\r\n\t\t});\t\t\r\n\r\n\t\tSystem.out.println(&quot; Without Duplicate List :&quot; + listWithoutDuplicateElements);\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<p>Time Complexity : O(n) : Without Set</p>\n\n<pre><code>private static void removeDup(ArrayList&lt;String&gt; listWithDuplicateElements) {\n    System.out.println(\" Original Duplicate List :\" + listWithDuplicateElements);\n    List&lt;String&gt; listWithoutDuplicateElements = new ArrayList&lt;&gt;(listWithDuplicateElements.size());\n\n    listWithDuplicateElements.stream().forEach(str -&gt; {\n        if (listWithoutDuplicateElements.indexOf(str) == -1) {\n            listWithoutDuplicateElements.add(str);\n        }\n    });     \n\n    System.out.println(\" Without Duplicate List :\" + listWithoutDuplicateElements);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530836864,"creation_date":1530749657,"answer_id":51181971,"question_id":203984,"body_markdown":"This is the right one (if you are concerned about the overhead of HashSet.\r\n\r\n     public static ArrayList&lt;String&gt; removeDuplicates (ArrayList&lt;String&gt; arrayList){\r\n        if (arrayList.isEmpty()) return null;  //return what makes sense for your app\r\n        Collections.sort(arrayList, String.CASE_INSENSITIVE_ORDER);\r\n        //remove duplicates\r\n        ArrayList &lt;String&gt; arrayList_mod = new ArrayList&lt;&gt;();\r\n        arrayList_mod.add(arrayList.get(0));\r\n        for (int i=1; i&lt;arrayList.size(); i++){\r\n            if (!arrayList.get(i).equals(arrayList.get(i-1))) arrayList_mod.add(arrayList.get(i));\r\n        }\r\n        return arrayList_mod;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>This is the right one (if you are concerned about the overhead of HashSet.</p>\n\n<pre><code> public static ArrayList&lt;String&gt; removeDuplicates (ArrayList&lt;String&gt; arrayList){\n    if (arrayList.isEmpty()) return null;  //return what makes sense for your app\n    Collections.sort(arrayList, String.CASE_INSENSITIVE_ORDER);\n    //remove duplicates\n    ArrayList &lt;String&gt; arrayList_mod = new ArrayList&lt;&gt;();\n    arrayList_mod.add(arrayList.get(0));\n    for (int i=1; i&lt;arrayList.size(); i++){\n        if (!arrayList.get(i).equals(arrayList.get(i-1))) arrayList_mod.add(arrayList.get(i));\n    }\n    return arrayList_mod;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9719109,"reputation":1190,"user_id":7208392,"display_name":"saif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549639231,"creation_date":1549639231,"answer_id":54595465,"question_id":203984,"body_markdown":"```\r\nSet&lt;String&gt; strSet = strList.stream().collect(Collectors.toSet());\r\n```\r\n\r\nIs the easiest way to remove your duplicates.","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>Set&lt;String&gt; strSet = strList.stream().collect(Collectors.toSet());\n</code></pre>\n\n<p>Is the easiest way to remove your duplicates.</p>\n"},{"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552096284,"creation_date":1552095877,"answer_id":55073204,"question_id":203984,"body_markdown":"If you want your list to automatically ignore duplicates and preserve its order, you could create a **HashList**(a HashMap embedded List).\r\n\r\n    public static class HashList&lt;T&gt; extends ArrayList&lt;T&gt;{\r\n            private HashMap &lt;T,T&gt; hashMap;\r\n            public HashList(){\r\n                hashMap=new HashMap&lt;&gt;();\r\n            }\r\n    \r\n            @Override\r\n            public boolean add(T t){\r\n                if(hashMap.get(t)==null){\r\n                    hashMap.put(t,t);\r\n                    return super.add(t);\r\n                }else return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean addAll(Collection&lt;? extends T&gt; c){\r\n                HashList&lt;T&gt; addup=(HashList&lt;T&gt;)c;\r\n                for(int i=0;i&lt;addup.size();i++){\r\n                    add(addup.get(i));\r\n                }return true;\r\n            }\r\n            \r\n        }\r\n\r\n**`Usage Example:`**\r\n\r\n    HashList&lt;String&gt; hashlist=new HashList&lt;&gt;();\r\n    hashList.add(&quot;hello&quot;);\r\n    hashList.add(&quot;hello&quot;);\r\n    System.out.println(&quot; HashList: &quot;+hashlist);","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you want your list to automatically ignore duplicates and preserve its order, you could create a <strong>HashList</strong>(a HashMap embedded List).</p>\n\n<pre><code>public static class HashList&lt;T&gt; extends ArrayList&lt;T&gt;{\n        private HashMap &lt;T,T&gt; hashMap;\n        public HashList(){\n            hashMap=new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public boolean add(T t){\n            if(hashMap.get(t)==null){\n                hashMap.put(t,t);\n                return super.add(t);\n            }else return false;\n        }\n\n        @Override\n        public boolean addAll(Collection&lt;? extends T&gt; c){\n            HashList&lt;T&gt; addup=(HashList&lt;T&gt;)c;\n            for(int i=0;i&lt;addup.size();i++){\n                add(addup.get(i));\n            }return true;\n        }\n\n    }\n</code></pre>\n\n<p><strong><code>Usage Example:</code></strong></p>\n\n<pre><code>HashList&lt;String&gt; hashlist=new HashList&lt;&gt;();\nhashList.add(\"hello\");\nhashList.add(\"hello\");\nSystem.out.println(\" HashList: \"+hashlist);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":472023,"reputation":3798,"user_id":880223,"display_name":"Gil SH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633715960,"creation_date":1633715960,"answer_id":69499989,"question_id":203984,"body_markdown":"Here is a solution that works with any object:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; clearDuplicates(List&lt;T&gt; messages,Comparator&lt;T&gt; comparator) {\r\n        List&lt;T&gt; results = new ArrayList&lt;T&gt;();\r\n        for (T m1 : messages) {\r\n            boolean found = false;\r\n            for (T m2 : results) {\r\n                if (comparator.compare(m1,m2)==0) {\r\n                    found=true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                results.add(m1);\r\n            }\r\n        }\r\n        return results;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>Here is a solution that works with any object:</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; clearDuplicates(List&lt;T&gt; messages,Comparator&lt;T&gt; comparator) {\n    List&lt;T&gt; results = new ArrayList&lt;T&gt;();\n    for (T m1 : messages) {\n        boolean found = false;\n        for (T m2 : results) {\n            if (comparator.compare(m1,m2)==0) {\n                found=true;\n                break;\n            }\n        }\n        if (!found) {\n            results.add(m1);\n        }\n    }\n    return results;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11779404,"reputation":764,"user_id":8619606,"display_name":"Kirguduck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648390923,"creation_date":1648390923,"answer_id":71637149,"question_id":203984,"body_markdown":"Kotlin\r\n\r\n    val list = listOf(&#39;a&#39;, &#39;A&#39;, &#39;b&#39;, &#39;B&#39;, &#39;A&#39;, &#39;a&#39;)\r\n    println(list.distinct()) // [a, A, b, B]\r\n    println(list.distinctBy { it.uppercaseChar() }) // [a, b]\r\n\r\nfrom here [kotlinlang][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html","title":"How do I remove repeated elements from ArrayList?","body":"<p>Kotlin</p>\n<pre><code>val list = listOf('a', 'A', 'b', 'B', 'A', 'a')\nprintln(list.distinct()) // [a, A, b, B]\nprintln(list.distinctBy { it.uppercaseChar() }) // [a, b]\n</code></pre>\n<p>from here <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html\" rel=\"nofollow noreferrer\">kotlinlang</a></p>\n"}],"owner":{"account_id":12956,"reputation":5911,"user_id":25778,"accept_rate":38,"display_name":"user25778"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003069,"favorite_count":0,"down_vote_count":1,"up_vote_count":575,"accepted_answer_id":203992,"answer_count":40,"score":574,"last_activity_date":1690351343,"creation_date":1224057926,"question_id":203984,"body_markdown":"I have an `ArrayList&lt;String&gt;`, and I want to remove repeated strings from it. How can I do this?\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>I have an <code>ArrayList&lt;String&gt;</code>, and I want to remove repeated strings from it. How can I do this?</p>\n"},{"tags":["java","android","paypal","paypal-sandbox"],"owner":{"account_id":8321718,"reputation":1,"user_id":6253160,"display_name":"Asim Afzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690350861,"creation_date":1690317802,"question_id":76766393,"body_markdown":"`I am integrating the PayPal Checkout SDK (version 0.8.1) into my Android app to process payments. The SDK is initializing correctly, and I&#39;m able to add the email address for payment. However, when I tap on &quot;Complete Purchase,&quot; the SDK navigates to a WebView showing the PayPal payment screen. After completing the payment in the WebView, it gets stuck at the message &quot;Thank you for using PayPal&quot; and doesn&#39;t return back to my app.\r\n\r\n\r\nAfter completing the payment in the PayPal WebView, the SDK doesn&#39;t return to my app. Instead, it gets stuck on a page displaying &quot;Thank you for using PayPal.&quot;\r\n\r\nExpected Behavior:\r\nAfter the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.\r\n\r\n```\r\nPayPalCheckout.setConfig(new CheckoutConfig(this, clientId, Environment.SANDBOX,\r\n    CurrencyCode.EUR,UserAction.PAY_NOW));\r\n\r\nPayPalCheckout.registerCallbacks(\r\n    approval -\\&gt; { // Order is approved\r\n        Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n        // navigateToThankYouPage(payment);\r\n    },\r\n    () -\\&gt; {\r\n        Toast.makeText(getApplicationContext(), &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n        // Optional callback for when a buyer cancels the order\r\n    },\r\n    errorInfo -\\&gt; { // Optional error callback\r\n        Toast.makeText(getApplicationContext(), &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n);\r\n\r\nPayPalCheckout.startCheckout(\r\n    createOrderActions -\\&gt; {\r\n        ArrayList\\&lt;PurchaseUnit\\&gt; purchaseUnits = new ArrayList\\&lt;\\&gt;();\r\n        purchaseUnits.add(\r\n            new PurchaseUnit.Builder().amount(\r\n                new Amount.Builder()\r\n                .currencyCode(CurrencyCode.EUR)\r\n                .value((String)grandTotalTv.getTag())\r\n                .build()\r\n            ).build()\r\n        );\r\n        Order order = new Order(OrderIntent.CAPTURE,\r\n            new AppContext.Builder()\r\n            .userAction(UserAction.PAY_NOW)\r\n            .build(), purchaseUnits);\r\n        createOrderActions.create(order, orderId -\\&gt; {});\r\n    }\r\n);\r\n```\r\nAfter the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.","title":"Android - Paypal checkout got stuck in webview thankyou page","body":"<p>`I am integrating the PayPal Checkout SDK (version 0.8.1) into my Android app to process payments. The SDK is initializing correctly, and I'm able to add the email address for payment. However, when I tap on &quot;Complete Purchase,&quot; the SDK navigates to a WebView showing the PayPal payment screen. After completing the payment in the WebView, it gets stuck at the message &quot;Thank you for using PayPal&quot; and doesn't return back to my app.</p>\n<p>After completing the payment in the PayPal WebView, the SDK doesn't return to my app. Instead, it gets stuck on a page displaying &quot;Thank you for using PayPal.&quot;</p>\n<p>Expected Behavior:\nAfter the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.</p>\n<pre><code>PayPalCheckout.setConfig(new CheckoutConfig(this, clientId, Environment.SANDBOX,\n    CurrencyCode.EUR,UserAction.PAY_NOW));\n\nPayPalCheckout.registerCallbacks(\n    approval -\\&gt; { // Order is approved\n        Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n        // navigateToThankYouPage(payment);\n    },\n    () -\\&gt; {\n        Toast.makeText(getApplicationContext(), &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\n        // Optional callback for when a buyer cancels the order\n    },\n    errorInfo -\\&gt; { // Optional error callback\n        Toast.makeText(getApplicationContext(), &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n    }\n);\n\nPayPalCheckout.startCheckout(\n    createOrderActions -\\&gt; {\n        ArrayList\\&lt;PurchaseUnit\\&gt; purchaseUnits = new ArrayList\\&lt;\\&gt;();\n        purchaseUnits.add(\n            new PurchaseUnit.Builder().amount(\n                new Amount.Builder()\n                .currencyCode(CurrencyCode.EUR)\n                .value((String)grandTotalTv.getTag())\n                .build()\n            ).build()\n        );\n        Order order = new Order(OrderIntent.CAPTURE,\n            new AppContext.Builder()\n            .userAction(UserAction.PAY_NOW)\n            .build(), purchaseUnits);\n        createOrderActions.create(order, orderId -\\&gt; {});\n    }\n);\n</code></pre>\n<p>After the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.</p>\n"},{"tags":["javascript","java","jnlp"],"answers":[{"tags":[],"owner":{"account_id":102134,"reputation":18322,"user_id":274354,"accept_rate":68,"display_name":"mydoghasworms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690350467,"creation_date":1690347862,"answer_id":76768162,"question_id":44175367,"body_markdown":"Unless I have misunderstood your question, according to the Oracle documentation, you should be setting the attribute `check` to `&quot;background&quot;`.\r\n\r\nBy setting it to `&quot;always&quot;`, it forces an update before the user starts the application.\r\n\r\n(However, I am still struggling with this, because OpenWebStart seems to be ignoring that option and downloading in the foreground anyway - this may be dependent on the WebStart implementation; OpenWebStart is a community project).\r\n\r\n```\r\ncheck attribute: The check attribute indicates the preference for when the JNLP Client should check for updates, and can have one of the three values: &quot;always&quot;, &quot;timeout&quot;, and &quot;background&quot;\r\n\r\nA value of &quot;always&quot; means to always check for updates before launching the application.\r\n\r\nA value of &quot;timeout&quot; (default) means to check for updates until timeout before launching the application. If the update check is not completed before the timeout, the application is launched, and the update check will continue in the background.\r\n\r\nA value of &quot;background&quot; means to launch the application while checking for updates in the background.\r\n```\r\n\r\n(See https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html#update).\r\n\r\nYou may also want to refer to this standard document (Avoiding Unnecessary Update Checks):\r\n\r\nhttps://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html","title":"jnlp is updating itself even i have define policy prompt-update","body":"<p>Unless I have misunderstood your question, according to the Oracle documentation, you should be setting the attribute <code>check</code> to <code>&quot;background&quot;</code>.</p>\n<p>By setting it to <code>&quot;always&quot;</code>, it forces an update before the user starts the application.</p>\n<p>(However, I am still struggling with this, because OpenWebStart seems to be ignoring that option and downloading in the foreground anyway - this may be dependent on the WebStart implementation; OpenWebStart is a community project).</p>\n<pre><code>check attribute: The check attribute indicates the preference for when the JNLP Client should check for updates, and can have one of the three values: &quot;always&quot;, &quot;timeout&quot;, and &quot;background&quot;\n\nA value of &quot;always&quot; means to always check for updates before launching the application.\n\nA value of &quot;timeout&quot; (default) means to check for updates until timeout before launching the application. If the update check is not completed before the timeout, the application is launched, and the update check will continue in the background.\n\nA value of &quot;background&quot; means to launch the application while checking for updates in the background.\n</code></pre>\n<p>(See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html#update\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html#update</a>).</p>\n<p>You may also want to refer to this standard document (Avoiding Unnecessary Update Checks):</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html</a></p>\n"}],"owner":{"account_id":4852395,"reputation":31,"user_id":3914359,"display_name":"user3914359"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690350467,"creation_date":1495699284,"question_id":44175367,"body_markdown":"I want update popup become on screen If user run existing application, Update prompt should be visible to user. User will confirm then application should be update. But now if i change the jar version, application auto updated without any prompt even i have define policy=&#39;prompt-update&#39;.\r\n\r\nI am using below jnlp file\r\n\r\n**\r\n\r\n    &lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;http://192.168.2.40/New&quot; href=&quot;index.jnlp&quot;&gt;\r\n     &lt;information&gt;\r\n            &lt;title&gt;Safety&lt;/title&gt;\r\n            &lt;homepage href=&quot;/Safety&quot; /&gt;\r\n            \r\n            &lt;Application-Name&gt;Safety&lt;/Application-Name&gt;\r\n            &lt;icon href=&quot;Safety.gif&quot;/&gt;\r\n            &lt;icon kind=&quot;shortcut&quot; href=&quot;Safety.jpeg&quot; width=&quot;32&quot; height=&quot;32&quot;/&gt;\r\n            &lt;icon kind=&quot;shortcut&quot; href=&quot;Safety.jpeg&quot; width=&quot;48&quot; height=&quot;48&quot;/&gt;\r\n            &lt;icon kind=&quot;splash&quot; href=&quot;index.jpeg&quot;/&gt;\r\n            &lt;offline-allowed/&gt;\r\n            &lt;shortcut online=&quot;true&quot;&gt;\r\n                    &lt;desktop/&gt;\r\n                    &lt;menu submenu=&quot;Safety Home&quot;/&gt;\r\n            &lt;/shortcut&gt;\r\n     &lt;/information&gt;\r\n      &lt;update check=&quot;always&quot; policy=&quot;prompt-update&quot;/&gt;\r\n      &lt;security&gt;\r\n        &lt;all-permissions/&gt;\r\n      &lt;/security&gt;\r\n         &lt;resources os=&quot;Windows&quot; arch=&quot;x86_64 amd64&quot;&gt;\r\n            &lt;j2se version=&quot;1.6+&quot; max-heap-size=&quot;2000m&quot;/&gt;\r\n         &lt;/resources&gt;\r\n         &lt;resources os=&quot;Linux&quot; arch=&quot;x86_64 amd64&quot;&gt;\r\n            &lt;j2se version=&quot;1.6+&quot; max-heap-size=&quot;2000m&quot;/&gt;\r\n         &lt;/resources&gt;\r\n         &lt;resources&gt;\r\n              &lt;j2se version=&quot;1.6+&quot;/&gt;\r\n              &lt;jar href=&quot;Safety-maven-1.0.13.jar&quot; /&gt;\r\n         &lt;/resources&gt;\r\n         &lt;application-desc main-class=&quot;in.NewFrame&quot; /&gt;\r\n    &lt;/jnlp&gt;\r\n\r\n**","title":"jnlp is updating itself even i have define policy prompt-update","body":"<p>I want update popup become on screen If user run existing application, Update prompt should be visible to user. User will confirm then application should be update. But now if i change the jar version, application auto updated without any prompt even i have define policy='prompt-update'.</p>\n\n<p>I am using below jnlp file</p>\n\n<p>**</p>\n\n<pre><code>&lt;jnlp spec=\"1.0+\" codebase=\"http://192.168.2.40/New\" href=\"index.jnlp\"&gt;\n &lt;information&gt;\n        &lt;title&gt;Safety&lt;/title&gt;\n        &lt;homepage href=\"/Safety\" /&gt;\n\n        &lt;Application-Name&gt;Safety&lt;/Application-Name&gt;\n        &lt;icon href=\"Safety.gif\"/&gt;\n        &lt;icon kind=\"shortcut\" href=\"Safety.jpeg\" width=\"32\" height=\"32\"/&gt;\n        &lt;icon kind=\"shortcut\" href=\"Safety.jpeg\" width=\"48\" height=\"48\"/&gt;\n        &lt;icon kind=\"splash\" href=\"index.jpeg\"/&gt;\n        &lt;offline-allowed/&gt;\n        &lt;shortcut online=\"true\"&gt;\n                &lt;desktop/&gt;\n                &lt;menu submenu=\"Safety Home\"/&gt;\n        &lt;/shortcut&gt;\n &lt;/information&gt;\n  &lt;update check=\"always\" policy=\"prompt-update\"/&gt;\n  &lt;security&gt;\n    &lt;all-permissions/&gt;\n  &lt;/security&gt;\n     &lt;resources os=\"Windows\" arch=\"x86_64 amd64\"&gt;\n        &lt;j2se version=\"1.6+\" max-heap-size=\"2000m\"/&gt;\n     &lt;/resources&gt;\n     &lt;resources os=\"Linux\" arch=\"x86_64 amd64\"&gt;\n        &lt;j2se version=\"1.6+\" max-heap-size=\"2000m\"/&gt;\n     &lt;/resources&gt;\n     &lt;resources&gt;\n          &lt;j2se version=\"1.6+\"/&gt;\n          &lt;jar href=\"Safety-maven-1.0.13.jar\" /&gt;\n     &lt;/resources&gt;\n     &lt;application-desc main-class=\"in.NewFrame\" /&gt;\n&lt;/jnlp&gt;\n</code></pre>\n\n<p>**</p>\n"},{"tags":["java","security","java-11","pbkdf2","secretkeyfactory"],"comments":[{"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"score":0,"creation_date":1690384204,"post_id":76768270,"comment_id":135346599,"body_markdown":"While some changes were done around this https://www.oracle.com/java/technologies/javase/11all-relnotes.html#R11_0_17 , but that should not be the case .. can you elaborate the use case a little bit more ..","body":"While some changes were done around this <a href=\"https://www.oracle.com/java/technologies/javase/11all-relnotes.html#R11_0_17\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a> , but that should not be the case .. can you elaborate the use case a little bit more .."},{"owner":{"account_id":12794692,"reputation":11,"user_id":9258090,"display_name":"Kaushik LV"},"score":0,"creation_date":1690439711,"post_id":76768270,"comment_id":135354590,"body_markdown":"So basically we are trying to generatePBKDFKey with this algorithm, and using this call we get a SecretKeyFactory instance. Using this instance we can then generate the SecretKey by employing the generateSecret() method. \nThis method was working so far, but since we performed the java upgrade it is failing with the above mentioned exception. We are also facing the same issue with JDK17 as well.","body":"So basically we are trying to generatePBKDFKey with this algorithm, and using this call we get a SecretKeyFactory instance. Using this instance we can then generate the SecretKey by employing the generateSecret() method.  This method was working so far, but since we performed the java upgrade it is failing with the above mentioned exception. We are also facing the same issue with JDK17 as well."}],"owner":{"account_id":12794692,"reputation":11,"user_id":9258090,"display_name":"Kaushik LV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690349560,"creation_date":1690349560,"question_id":76768270,"body_markdown":"We have recently upgraded to JDK 11.0.17 and when I try to call -\r\n\r\n`SecretKeyFactory.getInstance(&quot;PBKDF2WithSHA512-256&quot;);`\r\n\r\nI am getting the following exception -\r\n\r\n`java.security.NoSuchAlgorithmException: PBKDF2WithSHA512-256 SecretKeyFactory not available\r\n`\r\n\r\nThe same code is working when I use JDK 11.0.1.\r\nHas the behaviour changed with the JDK upgrade? \r\nIf so, can anyone suggest a workaround for this?","title":"PBKDF2WithSHA512-256 SecretKeyFactory not available error while using JDK11.0.17","body":"<p>We have recently upgraded to JDK 11.0.17 and when I try to call -</p>\n<p><code>SecretKeyFactory.getInstance(&quot;PBKDF2WithSHA512-256&quot;);</code></p>\n<p>I am getting the following exception -</p>\n<p><code>java.security.NoSuchAlgorithmException: PBKDF2WithSHA512-256 SecretKeyFactory not available </code></p>\n<p>The same code is working when I use JDK 11.0.1.\nHas the behaviour changed with the JDK upgrade?\nIf so, can anyone suggest a workaround for this?</p>\n"},{"tags":["java","android","menu"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1690297413,"post_id":76763866,"comment_id":135332061,"body_markdown":"Your fragment&#39;s `MenuProvider` implementation lacks `onPrepareMenu` callback implementation.","body":"Your fragment&#39;s <code>MenuProvider</code> implementation lacks <code>onPrepareMenu</code> callback implementation."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1690297752,"post_id":76763866,"comment_id":135332133,"body_markdown":"Hello @Kozmotronik , thanks for the answer, added right now the onPrepareMenu copying the same code from MainActivity and seems working but still I see like double menu due of `inflater.inflate` and `menuinflater` as you can see in the code in post..... I thought it could be passed directly `MainActivity` &#39;s `MenuProvider` to fragment to avoid double code and avoid double inflate....","body":"Hello @Kozmotronik , thanks for the answer, added right now the onPrepareMenu copying the same code from MainActivity and seems working but still I see like double menu due of <code>inflater.inflate</code> and <code>menuinflater</code> as you can see in the code in post..... I thought it could be passed directly <code>MainActivity</code> &#39;s <code>MenuProvider</code> to fragment to avoid double code and avoid double inflate...."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1690307898,"post_id":76763866,"comment_id":135334317,"body_markdown":"If you add a MenuProvider at the Activity level, those menu items will be available no matter what fragment you are on (and no matter if that fragment _also_ adds menu items via its own MenuProvider) - that&#39;s what adding at the activity level means. Is that what you are experiencing? What was your expectation?","body":"If you add a MenuProvider at the Activity level, those menu items will be available no matter what fragment you are on (and no matter if that fragment <i>also</i> adds menu items via its own MenuProvider) - that&#39;s what adding at the activity level means. Is that what you are experiencing? What was your expectation?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1690309937,"post_id":76763866,"comment_id":135334711,"body_markdown":"Could you add a screenshot that shows the problem? Also another screenshot that shows your expectation would be great.","body":"Could you add a screenshot that shows the problem? Also another screenshot that shows your expectation would be great."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1690310591,"post_id":76763866,"comment_id":135334821,"body_markdown":"@ianhanniballake , in fact I don&#39;t need to add more menu items from fragment... just I need to reach menu items in activity.... does that mean then I just have to use `setHasOptionsMenu(true);` inside `onCreateView` &#39;s event in fragments to reach MainActivity &#39;s MenuProvider?.... or how I could reach Activity &#39;s menu items from fragment?","body":"@ianhanniballake , in fact I don&#39;t need to add more menu items from fragment... just I need to reach menu items in activity.... does that mean then I just have to use <code>setHasOptionsMenu(true);</code> inside <code>onCreateView</code> &#39;s event in fragments to reach MainActivity &#39;s MenuProvider?.... or how I could reach Activity &#39;s menu items from fragment?"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1690315911,"post_id":76763866,"comment_id":135335822,"body_markdown":"The only thing that should be interacting with the activity&#39;s menu items is the activity. Your fragment shouldn&#39;t be involved at all. `setHasOptionsMenu` has no interaction at all with MenuProvider. Please take a step back and update your question with what you are trying to do to avoid an [XY problem](https://en.wikipedia.org/wiki/XY_problem).","body":"The only thing that should be interacting with the activity&#39;s menu items is the activity. Your fragment shouldn&#39;t be involved at all. <code>setHasOptionsMenu</code> has no interaction at all with MenuProvider. Please take a step back and update your question with what you are trying to do to avoid an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":15835153,"reputation":164,"user_id":11425232,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690348808,"creation_date":1690318419,"answer_id":76766449,"question_id":76763866,"body_markdown":"**@Luigino**\r\n\r\nI&#39;ve a similar or even the same requirements as you:\r\n1) One main menu (defined in `R.menu.menu_main` and inflated in `MainActivity`) that contains all required menu entries used in all fragments.\r\n2) Several fragments whereas I need to execute specific code in each fragment when the user clicks on a particular icon. For example, you&#39;re using a menu icon &quot;Save&quot; across all fragments but you want to save data shown in each fragment. \r\n\r\nI&#39;ve solved it as shown below, i.e. in each fragment in the according `onCreateMenu` I don&#39;t inflate the menu once again. That prevents the menu entries from duplicating.\r\n\r\nSee also https://developer.android.com/jetpack/androidx/releases/activity#1.4.0-alpha01 for additional information.\r\n\r\nHope that helps!\r\n\r\n**MainActivity:**\r\n\r\n    private void setupMenu() {\r\n    \tMenuProvider menuProvider = new MenuProvider() {\r\n    \t\t@Override\r\n    \t\tpublic void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \t\t\tmenuInflater.inflate(R.menu.menu_main, menu);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n    \t\t\tint id = menuItem.getItemId();\r\n    \t\t\tif (id == R.id.menu_action_about) {\r\n    \t\t\t\t/* show about dialog */\r\n    \t\t\t\treturn true;\r\n    \t\t\t} else if (id == R.id.menu_action_settings) {\r\n    \t\t\t\t/* show settings dialog */\r\n    \t\t\t\treturn true;\r\n    \t\t\t} \r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t};\r\n    \r\n    \taddMenuProvider(menuProvider);\r\n    }\r\n\r\n**Fragment 1:**\r\n\r\n    private void setupMenu() {\r\n        MenuProvider menuProvider = new MenuProvider() {\r\n            @Override\r\n            public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n                /* do not inflate the menu again */\r\n            }\r\n    \r\n            @Override\r\n            public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n                int id = menuItem.getItemId();\r\n                if (id == R.id.menu_action_save) {\r\n                    /* execute specific code,\r\n                       e.g. save data shown in fragment one */\r\n                    return true;\r\n                } \r\n                return false;\r\n            }\r\n        };\r\n    \r\n        requireActivity().addMenuProvider(menuProvider, getViewLifecycleOwner(), Lifecycle.State.RESUMED);\r\n    }","title":"Android Studio - MenuProvider in MainActivity and also in Fragments?","body":"<p><strong>@Luigino</strong></p>\n<p>I've a similar or even the same requirements as you:</p>\n<ol>\n<li>One main menu (defined in <code>R.menu.menu_main</code> and inflated in <code>MainActivity</code>) that contains all required menu entries used in all fragments.</li>\n<li>Several fragments whereas I need to execute specific code in each fragment when the user clicks on a particular icon. For example, you're using a menu icon &quot;Save&quot; across all fragments but you want to save data shown in each fragment.</li>\n</ol>\n<p>I've solved it as shown below, i.e. in each fragment in the according <code>onCreateMenu</code> I don't inflate the menu once again. That prevents the menu entries from duplicating.</p>\n<p>See also <a href=\"https://developer.android.com/jetpack/androidx/releases/activity#1.4.0-alpha01\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/activity#1.4.0-alpha01</a> for additional information.</p>\n<p>Hope that helps!</p>\n<p><strong>MainActivity:</strong></p>\n<pre><code>private void setupMenu() {\n    MenuProvider menuProvider = new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            menuInflater.inflate(R.menu.menu_main, menu);\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            int id = menuItem.getItemId();\n            if (id == R.id.menu_action_about) {\n                /* show about dialog */\n                return true;\n            } else if (id == R.id.menu_action_settings) {\n                /* show settings dialog */\n                return true;\n            } \n            return false;\n        }\n    };\n\n    addMenuProvider(menuProvider);\n}\n</code></pre>\n<p><strong>Fragment 1:</strong></p>\n<pre><code>private void setupMenu() {\n    MenuProvider menuProvider = new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            /* do not inflate the menu again */\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            int id = menuItem.getItemId();\n            if (id == R.id.menu_action_save) {\n                /* execute specific code,\n                   e.g. save data shown in fragment one */\n                return true;\n            } \n            return false;\n        }\n    };\n\n    requireActivity().addMenuProvider(menuProvider, getViewLifecycleOwner(), Lifecycle.State.RESUMED);\n}\n</code></pre>\n"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76766449,"answer_count":1,"score":0,"last_activity_date":1690348808,"creation_date":1690296311,"question_id":76763866,"body_markdown":"I migrated from normal menus to MenuProvider so I added in MainActivity:\r\n\r\n    private void setMenuProvider() {\r\n    \taddMenuProvider(new MenuProvider() {\r\n    \t\t@Override\r\n    \t\tpublic void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \t\t\tmenuInflater.inflate(R.menu.menu_action, menu);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onPrepareMenu(@NonNull Menu menu) {\r\n    \t\t\tMenuItem itemIcon1 = menu.findItem(R.id.menu_icon1);\r\n    \t\t\tDrawable resIcon1 = getResources().getDrawable(R.drawable.icon_32x32_icon1_green);\r\n    \t\t\tif (statusForIcon1 == false)\r\n    \t\t\t\tresIcon1.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\r\n    \t\t\titemIcon1.setEnabled(statusForIcon1);\r\n    \t\t\titemIcon1.setIcon(resIcon1);\r\n    \r\n    \t\t\tMenuItem itemIcon2 = menu.findItem(R.id.menu_icon2);\r\n    \t\t\tDrawable resIcon2 = getResources().getDrawable(R.drawable.icon_32x32_icon2_green);\r\n    \t\t\tif (statusForIcon2 == false)\r\n    \t\t\t\tresIcon2.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\r\n    \t\t\titemIcon2.setEnabled(statusForIcon2);\r\n    \t\t\titemIcon2.setIcon(resIcon2);\r\n    \t\t\t\r\n    \t\t\tMenuItem itemIcon3 = menu.findItem(R.id.menu_icon3);\r\n    \t\t\tDrawable resIcon3 = getResources().getDrawable(R.drawable.icon_32x32_icon3_green);\r\n    \t\t\tif (statusForIcon3 == false)\r\n    \t\t\t\tresIcon3.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\r\n    \t\t\titemIcon3.setEnabled(statusForIcon3);\r\n    \t\t\titemIcon3.setIcon(resIcon3);\r\n    \r\n    \t\t\tMenuProvider.super.onPrepareMenu(menu);\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\nand I have two fragment tabs where I added there too:\r\n\r\n    public void setFragmentOneMenuProvider( LifecycleOwner lcFragmentOne) {\r\n    \tgetActivity().addMenuProvider(new MenuProvider() {\r\n    \t\t@Override\r\n    \t\tpublic void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \t\t\tmenuInflater.inflate(R.menu.menu_action, menu);\r\n    \r\n    \t\t\tif (myClassObject == null)\r\n    \t\t\t\tmyClassObject = new ClassObject(getActivity(), getContext(), menu);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}, lcFragmentOne , Lifecycle.State.RESUMED);\r\n    }\r\n\r\nwhere I have also :\r\n\r\n    ublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n    \t\t\t\t\t\t Bundle savedInstanceState) {\r\n    \t// Inflate the layout for this fragment\r\n    \tView viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\r\n    \t\r\n    \tsetFragmentOneMenuProvider( getViewLifecycleOwner() );\r\n    \t\r\n    \treturn viewFragmentOne;\r\n    }\r\n\r\nbut in this way with both :\r\n\r\n    View viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\r\n\r\nand \r\n\r\n    menuInflater.inflate(R.menu.menu_action, menu);  // this one inside the MenuProvider code\r\n\r\nI see like double menus ...does that mean if I add `MenuProvider` on MainActivity then in fragments then I shall just use: \r\n\r\n    setHasOptionsMenu(true);\r\n\r\nin the way to inform the system that my app bar fragment is participating in the population of the options menu or maybe I have just to modify the `MenuProvider` in my fragments?\r\nIn fact , if I click on fab button I added next to refresh status of icons where I call:\r\n\r\n    getActivity().invalidateMenu();\r\n\r\nor \r\n\r\n    getActivity().invalidateOptionsMenu();\r\n\r\nsupposing it should refresh the menu inflated by `MenuProvider` , it doesn&#39;t refresh anything....so I tried to comment the fragment&#39;s MenuProvider code keeping the `inflater.inflate` but it didn&#39;t changed at all about refreshing when it should refresh...maybe I missed something?... \r\n\r\nThanks in advance to all !! Cheers!! ","title":"Android Studio - MenuProvider in MainActivity and also in Fragments?","body":"<p>I migrated from normal menus to MenuProvider so I added in MainActivity:</p>\n<pre><code>private void setMenuProvider() {\n    addMenuProvider(new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            menuInflater.inflate(R.menu.menu_action, menu);\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            return false;\n        }\n\n        @Override\n        public void onPrepareMenu(@NonNull Menu menu) {\n            MenuItem itemIcon1 = menu.findItem(R.id.menu_icon1);\n            Drawable resIcon1 = getResources().getDrawable(R.drawable.icon_32x32_icon1_green);\n            if (statusForIcon1 == false)\n                resIcon1.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n            itemIcon1.setEnabled(statusForIcon1);\n            itemIcon1.setIcon(resIcon1);\n\n            MenuItem itemIcon2 = menu.findItem(R.id.menu_icon2);\n            Drawable resIcon2 = getResources().getDrawable(R.drawable.icon_32x32_icon2_green);\n            if (statusForIcon2 == false)\n                resIcon2.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n            itemIcon2.setEnabled(statusForIcon2);\n            itemIcon2.setIcon(resIcon2);\n            \n            MenuItem itemIcon3 = menu.findItem(R.id.menu_icon3);\n            Drawable resIcon3 = getResources().getDrawable(R.drawable.icon_32x32_icon3_green);\n            if (statusForIcon3 == false)\n                resIcon3.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n            itemIcon3.setEnabled(statusForIcon3);\n            itemIcon3.setIcon(resIcon3);\n\n            MenuProvider.super.onPrepareMenu(menu);\n        }\n    });\n}\n</code></pre>\n<p>and I have two fragment tabs where I added there too:</p>\n<pre><code>public void setFragmentOneMenuProvider( LifecycleOwner lcFragmentOne) {\n    getActivity().addMenuProvider(new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            menuInflater.inflate(R.menu.menu_action, menu);\n\n            if (myClassObject == null)\n                myClassObject = new ClassObject(getActivity(), getContext(), menu);\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            return false;\n        }\n    }, lcFragmentOne , Lifecycle.State.RESUMED);\n}\n</code></pre>\n<p>where I have also :</p>\n<pre><code>ublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\n    \n    setFragmentOneMenuProvider( getViewLifecycleOwner() );\n    \n    return viewFragmentOne;\n}\n</code></pre>\n<p>but in this way with both :</p>\n<pre><code>View viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\n</code></pre>\n<p>and</p>\n<pre><code>menuInflater.inflate(R.menu.menu_action, menu);  // this one inside the MenuProvider code\n</code></pre>\n<p>I see like double menus ...does that mean if I add <code>MenuProvider</code> on MainActivity then in fragments then I shall just use:</p>\n<pre><code>setHasOptionsMenu(true);\n</code></pre>\n<p>in the way to inform the system that my app bar fragment is participating in the population of the options menu or maybe I have just to modify the <code>MenuProvider</code> in my fragments?\nIn fact , if I click on fab button I added next to refresh status of icons where I call:</p>\n<pre><code>getActivity().invalidateMenu();\n</code></pre>\n<p>or</p>\n<pre><code>getActivity().invalidateOptionsMenu();\n</code></pre>\n<p>supposing it should refresh the menu inflated by <code>MenuProvider</code> , it doesn't refresh anything....so I tried to comment the fragment's MenuProvider code keeping the <code>inflater.inflate</code> but it didn't changed at all about refreshing when it should refresh...maybe I missed something?...</p>\n<p>Thanks in advance to all !! Cheers!!</p>\n"},{"tags":["java","android","android-download-manager"],"answers":[{"tags":[],"owner":{"account_id":1412386,"reputation":1060,"user_id":1338728,"display_name":"Moien.Dev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1506237887,"creation_date":1506237887,"answer_id":46387639,"question_id":46387441,"body_markdown":"simply use \r\n\r\n    request.setDestinationInExternalPublicDir(&quot;/Path&quot;, &quot;test.mp4&quot;);","title":"Set Destination Path for DownloadManager","body":"<p>simply use </p>\n\n<pre><code>request.setDestinationInExternalPublicDir(\"/Path\", \"test.mp4\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19447718,"reputation":111,"user_id":14224828,"display_name":"Rakibul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690348682,"creation_date":1690200001,"answer_id":76754288,"question_id":46387441,"body_markdown":"This is how I solve my problem \r\n\r\n&lt;pre&gt;request.setDestinationInExternalFilesDir(context, &quot;/path/&quot;, &quot;MyFile.txt&quot;);&lt;/pre&gt;","title":"Set Destination Path for DownloadManager","body":"<p>This is how I solve my problem</p>\n<pre>request.setDestinationInExternalFilesDir(context, \"/path/\", \"MyFile.txt\");</pre>\n"}],"owner":{"account_id":9834469,"reputation":1711,"user_id":7285283,"accept_rate":56,"display_name":"Panache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46387639,"answer_count":2,"score":1,"last_activity_date":1690348682,"creation_date":1506236246,"question_id":46387441,"body_markdown":"I m using below code, but do not know where files are being downloaded. None of file stored at given path. What correction is required in code. Code is creating folder in beginning.\r\n\r\n      String path = Environment.getExternalStorageDirectory().getPath() + &quot;/Myapp/Videos&quot;;\r\n            System.out.println(path);\r\n            File folder = new File(path);\r\n            if (folder.canExecute()) {\r\n                System.out.println(&quot;Video  Folder Found&quot;);\r\n    \r\n            } else {\r\n                folder.mkdirs();\r\n            }\r\n    \r\n            DownloadManager.Request request = new DownloadManager.Request(uri);\r\n            request.setDescription(&quot;Selected Video is being downloaded&quot;);\r\n            request.allowScanningByMediaScanner();\r\n            request.setTitle(&quot;Downloading Video&quot;);\r\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n            request.setDestinationInExternalFilesDir(mContext, null, title + &quot;.mp4&quot;);\r\n            DownloadManager manager = (DownloadManager) mContext.getSystemService(Context.DOWNLOAD_SERVICE);\r\n            manager.enqueue(request);\r\n    \r\n            return null;","title":"Set Destination Path for DownloadManager","body":"<p>I m using below code, but do not know where files are being downloaded. None of file stored at given path. What correction is required in code. Code is creating folder in beginning.</p>\n\n<pre><code>  String path = Environment.getExternalStorageDirectory().getPath() + \"/Myapp/Videos\";\n        System.out.println(path);\n        File folder = new File(path);\n        if (folder.canExecute()) {\n            System.out.println(\"Video  Folder Found\");\n\n        } else {\n            folder.mkdirs();\n        }\n\n        DownloadManager.Request request = new DownloadManager.Request(uri);\n        request.setDescription(\"Selected Video is being downloaded\");\n        request.allowScanningByMediaScanner();\n        request.setTitle(\"Downloading Video\");\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n        request.setDestinationInExternalFilesDir(mContext, null, title + \".mp4\");\n        DownloadManager manager = (DownloadManager) mContext.getSystemService(Context.DOWNLOAD_SERVICE);\n        manager.enqueue(request);\n\n        return null;\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1690342579,"post_id":76767769,"comment_id":135338522,"body_markdown":"It&#39;s unclear which `@Query` annotation you are using, but the problem is surely that neither `&quot;?1&quot;` nor `&quot;$1&quot;` is a valid query in PSQL or any other relevant query language I know.  It&#39;s as if the entire body of this present question were just &quot;42&quot;.  What would that mean?  How could we respond, other than with some variation on &quot;that doesn&#39;t make sense&quot;?","body":"It&#39;s unclear which <code>@Query</code> annotation you are using, but the problem is surely that neither <code>&quot;?1&quot;</code> nor <code>&quot;$1&quot;</code> is a valid query in PSQL or any other relevant query language I know.  It&#39;s as if the entire body of this present question were just &quot;42&quot;.  What would that mean?  How could we respond, other than with some variation on &quot;that doesn&#39;t make sense&quot;?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690344970,"post_id":76767769,"comment_id":135338693,"body_markdown":"@John It&#39;s JPA.","body":"@John It&#39;s JPA."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690345061,"post_id":76767769,"comment_id":135338703,"body_markdown":"Try something like `@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)`","body":"Try something like <code>@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)</code>"},{"owner":{"account_id":27952306,"reputation":3,"user_id":21345844,"display_name":"Caroline"},"score":0,"creation_date":1690345628,"post_id":76767769,"comment_id":135338753,"body_markdown":"@Bohemian I am able to get that to work, but the reason I am trying to just use&quot;?1&quot; as the query is because depending on the request, there could be a different number of columns to filter by. So the query could look like  `@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)` or `@Query(&quot;select t from my_table t where t.some_column = ?1 and t.some_column = ?2&quot;)`. So I am building the entire query out in a function and passing it into `@Query`","body":"@Bohemian I am able to get that to work, but the reason I am trying to just use&quot;?1&quot; as the query is because depending on the request, there could be a different number of columns to filter by. So the query could look like  <code>@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)</code> or <code>@Query(&quot;select t from my_table t where t.some_column = ?1 and t.some_column = ?2&quot;)</code>. So I am building the entire query out in a function and passing it into <code>@Query</code>"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690345961,"post_id":76767769,"comment_id":135338784,"body_markdown":"@Bohemian, JPA has an ordinary interface named `Query`, but no `@Query` annotation.  If I had to guess, I would go with Spring, but I should not have to guess.","body":"@Bohemian, JPA has an ordinary interface named <code>Query</code>, but no <code>@Query</code> annotation.  If I had to guess, I would go with Spring, but I should not have to guess."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690346647,"post_id":76767769,"comment_id":135338840,"body_markdown":"@Caroline It doesn&#39;t work like that. If you want to build the whole query, down shift to using a `PreparedStatement`, or if the options are not too varied, create several Queries and decide which one to call within a public wrapper method.","body":"@Caroline It doesn&#39;t work like that. If you want to build the whole query, down shift to using a <code>PreparedStatement</code>, or if the options are not too varied, create several Queries and decide which one to call within a public wrapper method."}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690348428,"creation_date":1690348428,"answer_id":76768195,"question_id":76767769,"body_markdown":"The only thing you can pass as a query parameter is a constant value like `42`, `&#39;string&#39;` or `&#39;2023-07-26&#39;`. You cannot pass table or column names or bigger parts of an SQL statement like a `WHERE` clause or the complete statement.\r\n\r\nYou can construct the query string (avoid SQL injection!), then create a `java.sql.Statement`.","title":"Java: PSQL Exception: syntax error at or near &quot;$1&quot;","body":"<p>The only thing you can pass as a query parameter is a constant value like <code>42</code>, <code>'string'</code> or <code>'2023-07-26'</code>. You cannot pass table or column names or bigger parts of an SQL statement like a <code>WHERE</code> clause or the complete statement.</p>\n<p>You can construct the query string (avoid SQL injection!), then create a <code>java.sql.Statement</code>.</p>\n"}],"owner":{"account_id":27952306,"reputation":3,"user_id":21345844,"display_name":"Caroline"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76768195,"answer_count":1,"score":0,"last_activity_date":1690348428,"creation_date":1690340732,"question_id":76767769,"body_markdown":"I am building a query string &quot;filters&quot; and then calling it using the @Query annotation.\r\n\r\nI am getting a `PSQLException: syntax error at or near &quot;$1&quot;` when trying to execute the query\r\n\r\nMy current code is:\r\n\r\n```\r\nString QUERY = &quot;?1&quot;;\r\n@Query(value=QUERY, nativeQuery = true)\r\nList&lt;CustomData&gt; findAllByFilters(String filter);\r\n```\r\n\r\nI&#39;ve tried switching &quot;?1&quot; to &quot;$1&quot;, and I&#39;ve tried without quotations.","title":"Java: PSQL Exception: syntax error at or near &quot;$1&quot;","body":"<p>I am building a query string &quot;filters&quot; and then calling it using the @Query annotation.</p>\n<p>I am getting a <code>PSQLException: syntax error at or near &quot;$1&quot;</code> when trying to execute the query</p>\n<p>My current code is:</p>\n<pre><code>String QUERY = &quot;?1&quot;;\n@Query(value=QUERY, nativeQuery = true)\nList&lt;CustomData&gt; findAllByFilters(String filter);\n</code></pre>\n<p>I've tried switching &quot;?1&quot; to &quot;$1&quot;, and I've tried without quotations.</p>\n"},{"tags":["java","redis","jedis","redisclient"],"owner":{"account_id":8581069,"reputation":233,"user_id":6428642,"display_name":"Dattatray Satpute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690348082,"creation_date":1690278594,"question_id":76761478,"body_markdown":"I am using ConnectionPoolConfig + UnifiedJedis + Transaction. I am new for the redis using redis.clients 4.4.0-rc1, i have two questions\r\n\r\n1 - can i use ConnectionPoolConfig in this way?\r\n\r\n2 - Whats is the use of poolConfig.setMaxTotal()? in the code i have set poolConfig.setMaxTotal(250) but when i had increased load(set i &lt; 500 in run method for loop) then i seen it uses 500+ clients (seen in RedisInsight UI)\r\n\r\n    import java.time.Duration;\r\n    import java.util.Date;\r\n    \r\n    import redis.clients.jedis.ConnectionPoolConfig;\r\n    import redis.clients.jedis.JedisPooled;\r\n    import redis.clients.jedis.Transaction;\r\n    import redis.clients.jedis.UnifiedJedis;\r\n    \r\n    class MultithreadingDemo extends Thread {\r\n    \tprivate static final ConnectionPoolConfig connectionPoolConfig=buildConfigPool();\r\n    \tprivate static final UnifiedJedis jedis = new JedisPooled(connectionPoolConfig, &quot;localhost&quot;, 6379);\r\n    \t\r\n    \t private static ConnectionPoolConfig  buildConfigPool()\r\n    \t {\r\n    \t\t final ConnectionPoolConfig  poolConfig ;\r\n    \t\t       poolConfig = new ConnectionPoolConfig();\r\n    \t\t      \r\n    \t\t      poolConfig.setMaxTotal(250);\r\n    \t\t      poolConfig.setMaxIdle(50);\r\n    \t\t      poolConfig.setMinIdle(50);\r\n    \t\t      poolConfig.setTestOnBorrow(true);\r\n    \t\t      poolConfig.setTestOnReturn(true);\r\n    \t\t      poolConfig.setTestWhileIdle(true);\r\n    \t\t      poolConfig.setMinEvictableIdleTime(Duration.ofSeconds(60)); \r\n    \t\t      poolConfig.setTimeBetweenEvictionRuns(Duration.ofSeconds(30));\r\n    \t\t      poolConfig.setNumTestsPerEvictionRun(3);\r\n    \t\t      poolConfig.setBlockWhenExhausted(true);\t\t     \r\n    \t\t      return poolConfig;\r\n    \t }\r\n    \t\t\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot; Start - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());\t\t\t\r\n    \t\t\t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\t\t\tTransaction tr = jedis.multi();\r\n    \t\t\t\t\ttr.jsonSetLegacy(System.currentTimeMillis() + &quot; - &quot; + Thread.currentThread().getId() + &quot;ABC&quot;,&quot;Value&quot;);\r\n    \t\t\t\t\ttr.exec();\r\n    \t\t\t\t}\r\n    \t\t\tSystem.out.println(&quot; End - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());\r\n    \r\n    \t\t}\r\n    \t\t \r\n    }\r\n     \r\n    // Main Class\r\n    public class Multithread {\r\n    \t\r\n        public static void main(String[] args)\r\n        {\r\n            int n = 5; // Number of threads\r\n            for (int i = 0; i &lt; n; i++) {\r\n            \tMultithreadingDemo  object\r\n                    = new MultithreadingDemo();\r\n                object.start();\r\n            }\r\n        }\r\n    }","title":"How to use ConnectionPoolConfig + UnifiedJedis + Transaction","body":"<p>I am using ConnectionPoolConfig + UnifiedJedis + Transaction. I am new for the redis using redis.clients 4.4.0-rc1, i have two questions</p>\n<p>1 - can i use ConnectionPoolConfig in this way?</p>\n<p>2 - Whats is the use of poolConfig.setMaxTotal()? in the code i have set poolConfig.setMaxTotal(250) but when i had increased load(set i &lt; 500 in run method for loop) then i seen it uses 500+ clients (seen in RedisInsight UI)</p>\n<pre><code>import java.time.Duration;\nimport java.util.Date;\n\nimport redis.clients.jedis.ConnectionPoolConfig;\nimport redis.clients.jedis.JedisPooled;\nimport redis.clients.jedis.Transaction;\nimport redis.clients.jedis.UnifiedJedis;\n\nclass MultithreadingDemo extends Thread {\n    private static final ConnectionPoolConfig connectionPoolConfig=buildConfigPool();\n    private static final UnifiedJedis jedis = new JedisPooled(connectionPoolConfig, &quot;localhost&quot;, 6379);\n    \n     private static ConnectionPoolConfig  buildConfigPool()\n     {\n         final ConnectionPoolConfig  poolConfig ;\n               poolConfig = new ConnectionPoolConfig();\n              \n              poolConfig.setMaxTotal(250);\n              poolConfig.setMaxIdle(50);\n              poolConfig.setMinIdle(50);\n              poolConfig.setTestOnBorrow(true);\n              poolConfig.setTestOnReturn(true);\n              poolConfig.setTestWhileIdle(true);\n              poolConfig.setMinEvictableIdleTime(Duration.ofSeconds(60)); \n              poolConfig.setTimeBetweenEvictionRuns(Duration.ofSeconds(30));\n              poolConfig.setNumTestsPerEvictionRun(3);\n              poolConfig.setBlockWhenExhausted(true);            \n              return poolConfig;\n     }\n        \n        public void run() {\n            System.out.println(&quot; Start - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());          \n                for (int i = 0; i &lt; 10; i++) {\n                    Transaction tr = jedis.multi();\n                    tr.jsonSetLegacy(System.currentTimeMillis() + &quot; - &quot; + Thread.currentThread().getId() + &quot;ABC&quot;,&quot;Value&quot;);\n                    tr.exec();\n                }\n            System.out.println(&quot; End - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());\n\n        }\n         \n}\n \n// Main Class\npublic class Multithread {\n    \n    public static void main(String[] args)\n    {\n        int n = 5; // Number of threads\n        for (int i = 0; i &lt; n; i++) {\n            MultithreadingDemo  object\n                = new MultithreadingDemo();\n            object.start();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","togglz"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690353625,"post_id":76768153,"comment_id":135339741,"body_markdown":"Spring Boot 3.x is for JakartaEE, the togglz version you are using is for Javaee and thus not compatible. Either wait for a compatible version of find another library that does feature toggles. Please add your dependencies as looking at the 4.0 documentation that should be compatible","body":"Spring Boot 3.x is for JakartaEE, the togglz version you are using is for Javaee and thus not compatible. Either wait for a compatible version of find another library that does feature toggles. Please add your dependencies as looking at the 4.0 documentation that should be compatible"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690365987,"post_id":76768153,"comment_id":135342298,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":4267570,"reputation":1,"user_id":3490316,"display_name":"maruti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690347725,"creation_date":1690347725,"question_id":76768153,"body_markdown":"java.lang.ClassCastException: class org.togglz.servlet.TogglzFilter cannot be cast to class javax.servlet.Filter (org.togglz.servlet.TogglzFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3feb2e2b; javax.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @42eca56e)\r\n\r\nSpringBoot version - 3.1.2\r\nTogglz version - 4.0.0\r\n\r\ntried below versions\r\nSpringBoot version - 3.1.2\r\nTogglz version - 4.0.0-M4","title":"Togglz not getting started with SpringBoot 3.x","body":"<p>java.lang.ClassCastException: class org.togglz.servlet.TogglzFilter cannot be cast to class javax.servlet.Filter (org.togglz.servlet.TogglzFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3feb2e2b; javax.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @42eca56e)</p>\n<p>SpringBoot version - 3.1.2\nTogglz version - 4.0.0</p>\n<p>tried below versions\nSpringBoot version - 3.1.2\nTogglz version - 4.0.0-M4</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","google-cloud-pubsub"],"comments":[{"owner":{"account_id":27897431,"reputation":372,"user_id":21302428,"display_name":"Arpita Shrivastava"},"score":0,"creation_date":1690459271,"post_id":76768129,"comment_id":135358528,"body_markdown":"Can you share more details on your issue and share your code ?","body":"Can you share more details on your issue and share your code ?"}],"owner":{"account_id":7827128,"reputation":88,"user_id":5918319,"display_name":"Garvit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690347279,"creation_date":1690347279,"question_id":76768129,"body_markdown":"I am using Java dataflow.\r\nI am trying to read data from one pubsub and converting it into PCollectionView of Map&lt;String, String&gt;, So that i can use it in another pubsub&#39;s input as a sideInput.\r\n\r\nThe combiner is not producing any output.\r\n\r\nIs it correct approach ?\r\n\r\nUsed Window in lookup pubsub and then combined it globally to form a Map&lt;String, String&gt;and finally converted it to singletonView()","title":"Use output of one pubsub as a lookup in another pub sub input in dataflow","body":"<p>I am using Java dataflow.\nI am trying to read data from one pubsub and converting it into PCollectionView of Map&lt;String, String&gt;, So that i can use it in another pubsub's input as a sideInput.</p>\n<p>The combiner is not producing any output.</p>\n<p>Is it correct approach ?</p>\n<p>Used Window in lookup pubsub and then combined it globally to form a Map&lt;String, String&gt;and finally converted it to singletonView()</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1690386961,"post_id":76765917,"comment_id":135347208,"body_markdown":"Look at k8s startupProbe, readinessProbe and livenessProbe and Spring Actuators. Here you can check the resource (your servlet) and also the database connection. These should be standard checks before registering your container with the service.","body":"Look at k8s startupProbe, readinessProbe and livenessProbe and Spring Actuators. Here you can check the resource (your servlet) and also the database connection. These should be standard checks before registering your container with the service."},{"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"score":0,"creation_date":1690394234,"post_id":76765917,"comment_id":135348912,"body_markdown":"Thank you, that&#39;s a good suggestion!#","body":"Thank you, that&#39;s a good suggestion!#"}],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690325128,"creation_date":1690325128,"answer_id":76766957,"question_id":76765917,"body_markdown":"If you need to achieve small memory footprint and super fast startup times - I would recommend you to take a loot at [GraalVM Spring project][1].\r\n\r\nYour program will use AOT compilation, which means that your compilation\\build time will be increased, but your startup time will be decreased drastically. \r\nSmall screenshot from comparison of 2 different aproaches\r\n[![enter image description here][2]][2]\r\n\r\n\r\n----------\r\nBut also you have to understand that removing JIT will remove code warmups that is done periodically. \r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html\r\n  [2]: https://i.stack.imgur.com/Rx201.png","title":"Spring Boot Kubernetes startup speed","body":"<p>If you need to achieve small memory footprint and super fast startup times - I would recommend you to take a loot at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html\" rel=\"nofollow noreferrer\">GraalVM Spring project</a>.</p>\n<p>Your program will use AOT compilation, which means that your compilation\\build time will be increased, but your startup time will be decreased drastically.\nSmall screenshot from comparison of 2 different aproaches\n<a href=\"https://i.stack.imgur.com/Rx201.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rx201.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>But also you have to understand that removing JIT will remove code warmups that is done periodically.</p>\n"},{"tags":[],"owner":{"account_id":1137891,"reputation":345,"user_id":1122559,"accept_rate":47,"display_name":"Mandar K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690346462,"creation_date":1690346462,"answer_id":76768077,"question_id":76765917,"body_markdown":"Refer to, [Spring Boot Common Properties] https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web]\r\n\r\nspring.mvc.servlet.load-on-startup = 1\r\n\r\n","title":"Spring Boot Kubernetes startup speed","body":"<p>Refer to, [Spring Boot Common Properties] <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web%5D\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web]</a></p>\n<p>spring.mvc.servlet.load-on-startup = 1</p>\n"}],"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690346462,"creation_date":1690312972,"question_id":76765917,"body_markdown":"Looking for recommendations on improving Spring Boot startup speeds on Kubernetes. We&#39;re running a REST API built on Spring Boot on a relatively low amount of resources (obviously I&#39;m aware I can throw more compute at the problem, but I want to optimise other aspects first). \r\n\r\nOne of the major sticking points is the fact that dispatcherServlet only initialises after the first HTTP request is received. Can this be started up before this.\r\n\r\nAdditionally, how can I eagerly establish the connection to our JPA Datasource (in this circumstance, a MySQL server)\r\n\r\nLastly, we use JobRunr as a background job processor. Can this be abstracted to a different container within the pod, or a different pod altogether?\r\n\r\nThis is our Dockerfile:\r\n```\r\nFROM alpine\r\nRUN apk update\r\nRUN apk upgrade --available\r\nRUN apk --no-cache add openjdk17-jre-headless\r\nRUN mkdir /opt/app\r\nCOPY target/app.jar /opt/app\r\nCMD [&quot;java&quot;, &quot;-Xmx400m&quot;, &quot;-jar&quot;, &quot;/opt/app/app.jar&quot;]\r\n```\r\n\r\nTips/Tricks/Suggestions welcomed.","title":"Spring Boot Kubernetes startup speed","body":"<p>Looking for recommendations on improving Spring Boot startup speeds on Kubernetes. We're running a REST API built on Spring Boot on a relatively low amount of resources (obviously I'm aware I can throw more compute at the problem, but I want to optimise other aspects first).</p>\n<p>One of the major sticking points is the fact that dispatcherServlet only initialises after the first HTTP request is received. Can this be started up before this.</p>\n<p>Additionally, how can I eagerly establish the connection to our JPA Datasource (in this circumstance, a MySQL server)</p>\n<p>Lastly, we use JobRunr as a background job processor. Can this be abstracted to a different container within the pod, or a different pod altogether?</p>\n<p>This is our Dockerfile:</p>\n<pre><code>FROM alpine\nRUN apk update\nRUN apk upgrade --available\nRUN apk --no-cache add openjdk17-jre-headless\nRUN mkdir /opt/app\nCOPY target/app.jar /opt/app\nCMD [&quot;java&quot;, &quot;-Xmx400m&quot;, &quot;-jar&quot;, &quot;/opt/app/app.jar&quot;]\n</code></pre>\n<p>Tips/Tricks/Suggestions welcomed.</p>\n"},{"tags":["java","spring","spring-boot","sockets","interactive-brokers"],"comments":[{"owner":{"account_id":13548231,"reputation":631,"user_id":9773847,"display_name":"Nyamkhuu Buyanjargal"},"score":0,"creation_date":1690346358,"post_id":76768067,"comment_id":135338807,"body_markdown":"I already config my trader workstation. that is working fine","body":"I already config my trader workstation. that is working fine"}],"owner":{"account_id":13548231,"reputation":631,"user_id":9773847,"display_name":"Nyamkhuu Buyanjargal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690346202,"creation_date":1690346202,"question_id":76768067,"body_markdown":"I am little confused about the Spring boot application runtime lifecycle. The thing is I have a plain java project that is just running fine connect into Interactive Brokers Socket server (TWS workstation). But I want to migrate into a new Spring boot application. Because I think this is more safe and easy to maintenance. Because every time, I upgrade Jar libraries in plain java project that is so much work to do to me. Otherwise, Spring boot application is so much easy to upgrade dependencies and eager to add new features.\r\n\r\nSo here is example code in plain java project. Of course I already added TWS.jar (Interactive brokers SDK):\r\n\r\n            ...\r\n            EWrapperImpl wrapper = new EWrapperImpl();\r\n    \r\n            final EClientSocket m_client = wrapper.getClient();\r\n            final EReaderSignal m_signal = wrapper.getSignal();\r\n            //! [connect]\r\n            System.out.println(&quot;working....&quot;);\r\n            m_client.eConnect(&quot;127.0.0.1&quot;, 7497, 2);\r\n            System.out.println(&quot;client connected!&quot;);\r\n            //! [connect]\r\n            //! [ereader]\r\n            final EReader reader = new EReader(m_client, m_signal);\r\n    \r\n            reader.start();\r\n            //An additional thread is created in this program design to empty the messaging queue\r\n            new Thread(() -&gt; {\r\n                while (m_client.isConnected()) {\r\n                    m_signal.waitForSignal();\r\n                    try {\r\n                        reader.processMsgs();\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Exception: &quot;+e.getMessage());\r\n                    }\r\n                }\r\n            }).start();\r\n            ...\r\n\r\nThis code working absolutely fine. It can create active a client connection to TWS\r\n\r\nBut in the Spring boot project I created this Component class:\r\n\r\n    @Log4j2\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class Tester {\r\n    \r\n        private final IBCache cache;\r\n    \r\n        @PostConstruct\r\n        void initialize() {\r\n            Contract contract = new Contract();\r\n            contract.secType(&quot;NEWS&quot;);\r\n            contract.exchange(&quot;BRF&quot;);\r\n    \r\n            EJavaSignal signal = new EJavaSignal();\r\n            IBReceiver receiver = new IBReceiver();\r\n            log.info(&quot;Receiver initialized&quot;);\r\n    \r\n            EClientSocket socket = new EClientSocket(receiver, signal);\r\n    \r\n            log.info(&quot;TWS info: {}, {}, {}&quot;, this.cache.getHostname(), this.cache.getPort(), this.cache.getClientId());\r\n            socket.eConnect(cache.getHostname(), cache.getPort(), cache.getClientId());\r\n            log.info(&quot;Socket connecting...&quot;);\r\n            EReader reader = new EReader(socket, signal);\r\n            reader.start();\r\n    //        Reader worker = new Reader(reader);\r\n    //        Reader worker = new Reader(reader);\r\n    //        worker.run();\r\n            socket.reqContractDetails(Integer.parseInt(String.valueOf(Math.random() + 1)), contract);\r\n        }\r\n    }\r\n\r\nIn this class, IBCache provide connection info:\r\n\r\n 1. Hostname -&gt; 127.0.0.1\r\n 2. Port -&gt; 7497\r\n 3. clientId -&gt; 2\r\n\r\nBut when I run spring boot application, that application throw exception all the time. Message:\r\n\r\n&gt; ErrorCode: 502\r\n&gt;\r\n&gt; ErrorMessage: Couldn&#39;t connect to TWS. Confirm that\r\n&gt; &quot;Enable ActiveX and Socket Clients&quot; is enabled and connection port is\r\n&gt; the same as &quot;Socket Port&quot; on the TWS &quot;Edit-&gt;Global\r\n&gt; Configuration...-&gt;API-&gt;Settings&quot; menu. Live Trading ports: TWS: 7496;\r\n&gt; IB Gateway: 4001. Simulated Trading ports for new installations of\r\n&gt; version 954.1 or newer: TWS: 7497; IB Gateway: 4002\r\n\r\nWhat should I do?","title":"Plain java project vs Spring boot project (Interactive brokers integration)","body":"<p>I am little confused about the Spring boot application runtime lifecycle. The thing is I have a plain java project that is just running fine connect into Interactive Brokers Socket server (TWS workstation). But I want to migrate into a new Spring boot application. Because I think this is more safe and easy to maintenance. Because every time, I upgrade Jar libraries in plain java project that is so much work to do to me. Otherwise, Spring boot application is so much easy to upgrade dependencies and eager to add new features.</p>\n<p>So here is example code in plain java project. Of course I already added TWS.jar (Interactive brokers SDK):</p>\n<pre><code>        ...\n        EWrapperImpl wrapper = new EWrapperImpl();\n\n        final EClientSocket m_client = wrapper.getClient();\n        final EReaderSignal m_signal = wrapper.getSignal();\n        //! [connect]\n        System.out.println(&quot;working....&quot;);\n        m_client.eConnect(&quot;127.0.0.1&quot;, 7497, 2);\n        System.out.println(&quot;client connected!&quot;);\n        //! [connect]\n        //! [ereader]\n        final EReader reader = new EReader(m_client, m_signal);\n\n        reader.start();\n        //An additional thread is created in this program design to empty the messaging queue\n        new Thread(() -&gt; {\n            while (m_client.isConnected()) {\n                m_signal.waitForSignal();\n                try {\n                    reader.processMsgs();\n                } catch (Exception e) {\n                    System.out.println(&quot;Exception: &quot;+e.getMessage());\n                }\n            }\n        }).start();\n        ...\n</code></pre>\n<p>This code working absolutely fine. It can create active a client connection to TWS</p>\n<p>But in the Spring boot project I created this Component class:</p>\n<pre><code>@Log4j2\n@Component\n@RequiredArgsConstructor\npublic class Tester {\n\n    private final IBCache cache;\n\n    @PostConstruct\n    void initialize() {\n        Contract contract = new Contract();\n        contract.secType(&quot;NEWS&quot;);\n        contract.exchange(&quot;BRF&quot;);\n\n        EJavaSignal signal = new EJavaSignal();\n        IBReceiver receiver = new IBReceiver();\n        log.info(&quot;Receiver initialized&quot;);\n\n        EClientSocket socket = new EClientSocket(receiver, signal);\n\n        log.info(&quot;TWS info: {}, {}, {}&quot;, this.cache.getHostname(), this.cache.getPort(), this.cache.getClientId());\n        socket.eConnect(cache.getHostname(), cache.getPort(), cache.getClientId());\n        log.info(&quot;Socket connecting...&quot;);\n        EReader reader = new EReader(socket, signal);\n        reader.start();\n//        Reader worker = new Reader(reader);\n//        Reader worker = new Reader(reader);\n//        worker.run();\n        socket.reqContractDetails(Integer.parseInt(String.valueOf(Math.random() + 1)), contract);\n    }\n}\n</code></pre>\n<p>In this class, IBCache provide connection info:</p>\n<ol>\n<li>Hostname -&gt; 127.0.0.1</li>\n<li>Port -&gt; 7497</li>\n<li>clientId -&gt; 2</li>\n</ol>\n<p>But when I run spring boot application, that application throw exception all the time. Message:</p>\n<blockquote>\n<p>ErrorCode: 502</p>\n<p>ErrorMessage: Couldn't connect to TWS. Confirm that\n&quot;Enable ActiveX and Socket Clients&quot; is enabled and connection port is\nthe same as &quot;Socket Port&quot; on the TWS &quot;Edit-&gt;Global\nConfiguration...-&gt;API-&gt;Settings&quot; menu. Live Trading ports: TWS: 7496;\nIB Gateway: 4001. Simulated Trading ports for new installations of\nversion 954.1 or newer: TWS: 7497; IB Gateway: 4002</p>\n</blockquote>\n<p>What should I do?</p>\n"},{"tags":["java","ldap","websphere"],"owner":{"account_id":25189247,"reputation":25,"user_id":19029638,"display_name":"Qwerty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690345575,"creation_date":1690344181,"question_id":76767961,"body_markdown":"We have a Java web API deployed in IBM WebSphere Application Server. We also have a Poller Job that runs at 10-minute intervals. The job&#39;s purpose is to check entries in LDAP that have UnassignedUsers and remove those entries. &lt;br&gt;\r\nBelow is the code for the Poller Job:\r\n```\r\npublic void updateUser(final String username) {\r\n\tDistinguishedName distinguishedName = new DistinguishedName();\r\n\tdistinguishedName.add(&quot;-ou&quot;, &quot;-Roles&quot;);\r\n\tdistinguishedName.add(&quot;-cn&quot;, &quot;-UnassignedUsers&quot;);\r\n\r\n\tModificationItem[] modificationItems = new ModificationItem[1];\r\n\tmodificationItems[0] = new ModificationItem(DirContext.REMOVE_ATTRIBUTE,new BasicAttribute(&quot;member&quot;, &quot;cn=&quot;+ userName+&quot;,ou=ExternalUsers,OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=FD,DC=FG&quot;));\r\n\r\n\ttry {\r\n\t\tldapTemplate.modifyAttributes(distinguishedName, modificationItems);\r\n\t} catch(Exception e) {\r\n\t\t//...\r\n\t}\r\n}\r\n```\r\n\r\nFollowing is the LDAP configuration on server\r\n```\r\njava.naming.factory.initial = com.sun.jndi.ldap.LdapCtxFactory\r\njava.naming.security.principal = CN=SD-FINAL-ADSvc,OU=DOR,OU=ServiceAccounts,OU=AA,DC=FINALDEV,DC=dev,DC=FD,DC=FG\r\njava.naming.ldap.version = 3\r\njava.naming.ldap.derefAliases = never\r\njava.naming.provider.url = ldaps://finaldev.dev.fd.fg:636/ou=FINAL-DEV,ou=People,dc=FINALDEV,dc=dev,dc=fd,dc=fg\r\njava.naming.factory.url.pkgs = com.ibm.ws.naming:com.ibm.osgi.jndi.fep:com.ibm.ws.runtime:com.ibm.wps.jndi:com.ibm.ws.naming\r\njava.naming.factory.object = org.springframework.ldap.core.support.DefaultDirObjectFactory\r\ncom.sun.jndi.ldap.connect.pool = true\r\norg.springframework.ldap.base.path = ou=FINAL-DEV, ou=People, dc=FINALDEV, dc=dev, dc=fd, dc=fg\r\n```\r\n\r\nThe code ```ldapTemplate.modifyAttributes(distinguishedName, modificationItems);``` giving following error\r\n\r\n```\r\nLDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, best match of:\t&#39;OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg&#39; ]; \r\nnested exception is javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, \r\nbest match of:\t&#39;OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg&#39; ]; remaining name &#39;cn=UnassignedUsers, ou=Roles&#39;\r\n```\r\n\r\nI tried searching online, but did not find any solution. Any pointers to the problem or possible problems are really appreciated.","title":"LDAP Modification Error in Java Web API Poller Job","body":"<p>We have a Java web API deployed in IBM WebSphere Application Server. We also have a Poller Job that runs at 10-minute intervals. The job's purpose is to check entries in LDAP that have UnassignedUsers and remove those entries. <br>\nBelow is the code for the Poller Job:</p>\n<pre><code>public void updateUser(final String username) {\n    DistinguishedName distinguishedName = new DistinguishedName();\n    distinguishedName.add(&quot;-ou&quot;, &quot;-Roles&quot;);\n    distinguishedName.add(&quot;-cn&quot;, &quot;-UnassignedUsers&quot;);\n\n    ModificationItem[] modificationItems = new ModificationItem[1];\n    modificationItems[0] = new ModificationItem(DirContext.REMOVE_ATTRIBUTE,new BasicAttribute(&quot;member&quot;, &quot;cn=&quot;+ userName+&quot;,ou=ExternalUsers,OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=FD,DC=FG&quot;));\n\n    try {\n        ldapTemplate.modifyAttributes(distinguishedName, modificationItems);\n    } catch(Exception e) {\n        //...\n    }\n}\n</code></pre>\n<p>Following is the LDAP configuration on server</p>\n<pre><code>java.naming.factory.initial = com.sun.jndi.ldap.LdapCtxFactory\njava.naming.security.principal = CN=SD-FINAL-ADSvc,OU=DOR,OU=ServiceAccounts,OU=AA,DC=FINALDEV,DC=dev,DC=FD,DC=FG\njava.naming.ldap.version = 3\njava.naming.ldap.derefAliases = never\njava.naming.provider.url = ldaps://finaldev.dev.fd.fg:636/ou=FINAL-DEV,ou=People,dc=FINALDEV,dc=dev,dc=fd,dc=fg\njava.naming.factory.url.pkgs = com.ibm.ws.naming:com.ibm.osgi.jndi.fep:com.ibm.ws.runtime:com.ibm.wps.jndi:com.ibm.ws.naming\njava.naming.factory.object = org.springframework.ldap.core.support.DefaultDirObjectFactory\ncom.sun.jndi.ldap.connect.pool = true\norg.springframework.ldap.base.path = ou=FINAL-DEV, ou=People, dc=FINALDEV, dc=dev, dc=fd, dc=fg\n</code></pre>\n<p>The code <code>ldapTemplate.modifyAttributes(distinguishedName, modificationItems);</code> giving following error</p>\n<pre><code>LDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, best match of:    'OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg' ]; \nnested exception is javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, \nbest match of:  'OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg' ]; remaining name 'cn=UnassignedUsers, ou=Roles'\n</code></pre>\n<p>I tried searching online, but did not find any solution. Any pointers to the problem or possible problems are really appreciated.</p>\n"},{"tags":["java","appium"],"answers":[{"tags":[],"owner":{"account_id":3293544,"reputation":387,"user_id":2771287,"display_name":"Pradap Pandian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484459029,"creation_date":1484459029,"answer_id":41658206,"question_id":41654828,"body_markdown":"Try this it will work.&lt;br&gt;\r\n ` static AndroidDriver&lt;WebElement&gt; ds; \r\n File appDir = new File(&quot;Folder_Path&quot;);                                                       \r\n File app = new File(appDir,&quot;App_Name&quot;);                                                   \r\n DesiredCapabilities capabilities = new DesiredCapabilities();                               \r\n capabilities.setCapability(&quot;deviceName&quot;,&quot;device_name&quot;);                                     \r\n capabilities.setCapability(&quot;platformVersion&quot;, &quot;device_version&quot;);                            \r\n capabilities.setCapability(&quot;app&quot;, app.getAbsolutePath());                                   \r\n capabilities.setCapability(&quot;appPackage&quot;, &quot;package_name&quot;);                                   \r\n capabilities.setCapability(&quot;appActivity&quot;, &quot;app_Activity&quot;);                                  \r\n capabilities.setCapability(&quot;noReset&quot;,&quot;true&quot;);                                               \r\n ds = new AndroidDriver&lt;WebElement&gt;(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);  `\r\n&lt;br&gt;\r\nDo your operation.","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>Try this it will work.<br>\n <code>static AndroidDriver&lt;WebElement&gt; ds; \n File appDir = new File(\"Folder_Path\");<br>\n File app = new File(appDir,\"App_Name\");<br>\n DesiredCapabilities capabilities = new DesiredCapabilities();<br>\n capabilities.setCapability(\"deviceName\",\"device_name\");<br>\n capabilities.setCapability(\"platformVersion\", \"device_version\");<br>\n capabilities.setCapability(\"app\", app.getAbsolutePath());<br>\n capabilities.setCapability(\"appPackage\", \"package_name\");<br>\n capabilities.setCapability(\"appActivity\", \"app_Activity\");<br>\n capabilities.setCapability(\"noReset\",\"true\");<br>\n ds = new AndroidDriver&lt;WebElement&gt;(new URL(\"http://127.0.0.1:4723/wd/hub\"), capabilities);</code>\n<br>\nDo your operation.</p>\n"},{"tags":[],"owner":{"account_id":5565193,"reputation":71,"user_id":4412773,"display_name":"Abdul Malik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1596502424,"creation_date":1491498123,"answer_id":43261538,"question_id":41654828,"body_markdown":"I too encountered the same problem and found the solution, Redmi note 3 has an extra level of security in the developer options only after enabling that will the actions then work, i tried and is working for me. Try:\r\n\r\n1. Go to developer options\r\n2. Here, below usb Debugging(Which you have already enabled) you will find another option &#39;USB Debugging (Security Settings)&#39;\r\n3. Enable this, it will throw few warning pop ups, keep allowing and it will then be enabled, now all actions can be performed. You can disable this once your testing is done.\r\n\r\n\r\n  ![](https://i.stack.imgur.com/J6tP6.png)","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>I too encountered the same problem and found the solution, Redmi note 3 has an extra level of security in the developer options only after enabling that will the actions then work, i tried and is working for me. Try:</p>\n<ol>\n<li>Go to developer options</li>\n<li>Here, below usb Debugging(Which you have already enabled) you will find another option 'USB Debugging (Security Settings)'</li>\n<li>Enable this, it will throw few warning pop ups, keep allowing and it will then be enabled, now all actions can be performed. You can disable this once your testing is done.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/J6tP6.png\" alt=\"\" /></p>\n"},{"tags":[],"owner":{"account_id":7832428,"reputation":225,"user_id":5921879,"accept_rate":50,"display_name":"Hendrione"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645108036,"creation_date":1645108036,"answer_id":71159986,"question_id":41654828,"body_markdown":"Just turn on &quot;Install via USB&quot; options. it works on me","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>Just turn on &quot;Install via USB&quot; options. it works on me</p>\n"},{"tags":[],"owner":{"account_id":15052215,"reputation":572,"user_id":10863605,"display_name":"ilies Ould menouer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690343254,"creation_date":1690343254,"answer_id":76767915,"question_id":41654828,"body_markdown":"The **only solution** worked for me is as follows:\r\n\r\n \r\n 1. **Install** [appium settings apk][1] manually on my device\r\n 2. Go to settings and **allow** all **permissions** for appium settings app\r\n 3. **Keep** the app open than **run** the testing scripts and that solved the problem successfully.\r\n\r\nGood luck.\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/appium/io.appium.settings/releases/tag/v5.0.5","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>The <strong>only solution</strong> worked for me is as follows:</p>\n<ol>\n<li><strong>Install</strong> <a href=\"https://github.com/appium/io.appium.settings/releases/tag/v5.0.5\" rel=\"nofollow noreferrer\">appium settings apk</a> manually on my device</li>\n<li>Go to settings and <strong>allow</strong> all <strong>permissions</strong> for appium settings app</li>\n<li><strong>Keep</strong> the app open than <strong>run</strong> the testing scripts and that solved the problem successfully.</li>\n</ol>\n<p>Good luck.</p>\n"}],"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1690343254,"creation_date":1484426765,"question_id":41654828,"body_markdown":"I am trying to use Appium for testing calculator app (Just for knowledge purpose). But I am not able to perform any operation. Below is the details: &lt;br&gt;\r\nReal Mobile: Xiaomi Redmi Note 3 &lt;br&gt;\r\nAndroid version: 6.0.1 &lt;br&gt;\r\nMIUI: 8.1 &lt;br&gt;\r\nAppium version: 1.4.16 &lt;br&gt;\r\nAndroid SDK version: 24.4.1 &lt;br&gt;\r\nappium java-client: 4.1.2 &lt;br&gt;\r\nCode:\r\n\r\n    package unittest;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.util.Properties;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    import io.appium.java_client.MobileElement;\r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.remote.MobileCapabilityType;\r\n    \r\n    public class LaunchWardRobe {\r\n    \r\n    \t@Test\r\n    \tpublic void swipeTest() throws IOException {\r\n    \t\tString propFileName = &quot;wardrobe.properties&quot;;\r\n    \t\tInputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(propFileName);\r\n    \t\tProperties prop = new Properties();\r\n    \t\tprop.load(inputStream);\r\n    \t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n    \t\tcap.setCapability(MobileCapabilityType.PLATFORM_VERSION, prop.getProperty(&quot;cap.platform.version&quot;));\r\n    \t\tcap.setCapability(MobileCapabilityType.PLATFORM_NAME, prop.getProperty(&quot;cap.platform.name&quot;));\r\n    \t\tcap.setCapability(MobileCapabilityType.DEVICE_NAME, prop.getProperty(&quot;cap.device.name&quot;));\r\n    \t\tcap.setCapability(&quot;appPackage&quot;, prop.getProperty(&quot;cap.app.package&quot;));\r\n    \t\tcap.setCapability(&quot;appActivity&quot;, prop.getProperty(&quot;cap.app.activity&quot;));\r\n    \t\tcap.setCapability(MobileCapabilityType.BROWSER_NAME, &quot;&quot;);\r\n    \t\tcap.setCapability(MobileCapabilityType.AUTOMATION_NAME, &quot;Appium&quot;);\r\n    \t\tAndroidDriver&lt;MobileElement&gt; browser = new AndroidDriver&lt;MobileElement&gt;(\r\n    \t\t\t\tnew URL(prop.getProperty(&quot;cap.hub.url&quot;)), cap);\r\n    \t\tMobileElement dig5 = browser.findElement(By.id(&quot;com.miui.calculator:id/btn_5&quot;));\r\n    \t\tdig5.tap(1, 3);\r\n    \t\tdig5.click();\r\n    \t\tbrowser.closeApp();\r\n    \t}\r\n    }\r\n\r\nProperties File:\r\n\r\n    cap.platform.version=6.0.1\r\n    cap.platform.name=Android\r\n    cap.device.name=Redmi\r\n    cap.app.package=com.miui.calculator\r\n    cap.app.activity=com.miui.calculator.cal.CalculatorActivity\r\n    cap.hub.url=http://127.0.0.1:4723/wd/hub\r\n\r\nException or stacktrace on the Eclipse Console IDE: \r\n\r\n    org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 410 milliseconds\r\n    Build info: version: &#39;2.53.1&#39;, revision: &#39;a36b8b1cd5757287168e54b817830adce9b0158d&#39;, time: &#39;2016-06-30 19:26:09&#39;\r\n    System info: host: &#39;mrunal-laptop&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_111&#39;\r\n    Driver info: io.appium.java_client.android.AndroidDriver\r\n    Capabilities [{appPackage=com.miui.calculator, networkConnectionEnabled=true, warnings={}, databaseEnabled=false, deviceName=80b83390, platform=LINUX, appActivity=com.miui.calculator.cal.CalculatorActivity, desired={appPackage=com.miui.calculator, appActivity=com.miui.calculator.cal.CalculatorActivity, platformVersion=6.0.1, automationName=Appium, browserName=, platformName=Android, deviceName=Redmi}, platformVersion=6.0.1, webStorageEnabled=false, locationContextEnabled=false, automationName=Appium, browserName=, takesScreenshot=true, javascriptEnabled=true, platformName=Android}]\r\n    Session ID: caa419ad-6146-47e0-a1b1-ef700d6645e6\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:206)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:158)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:678)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:40)\r\n    \tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\r\n    \tat io.appium.java_client.AppiumDriver.performTouchAction(AppiumDriver.java:336)\r\n    \tat io.appium.java_client.MultiTouchAction.perform(MultiTouchAction.java:71)\r\n    \tat io.appium.java_client.AppiumDriver.tap(AppiumDriver.java:361)\r\n    \tat io.appium.java_client.MobileElement.tap(MobileElement.java:50)\r\n    \tat unittest.LaunchWardRobe.swipeTest(LaunchWardRobe.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\n\r\nAppium Logs:\r\n\r\n\r\n    info: [debug] Appium session started with sessionId caa419ad-6146-47e0-a1b1-ef700d6645e6 info: &lt;-- POST /wd/hub/session 303 10720.889 ms - 74  info: --&gt; GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 {} info: [debug] Responding to client with success: {&quot;status&quot;:0,&quot;value&quot;:{&quot;platform&quot;:&quot;LINUX&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;webStorageEnabled&quot;:false,&quot;takesScreenshot&quot;:true,&quot;javascriptEnabled&quot;:true,&quot;databaseEnabled&quot;:false,&quot;networkConnectionEnabled&quot;:true,&quot;locationContextEnabled&quot;:false,&quot;warnings&quot;:{},&quot;desired&quot;:{&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;Redmi&quot;},&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;80b83390&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: &lt;-- GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 200 1.228 ms - 700 {&quot;status&quot;:0,&quot;value&quot;:{&quot;platform&quot;:&quot;LINUX&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;webStorageEnabled&quot;:false,&quot;takesScreenshot&quot;:true,&quot;javascriptEnabled&quot;:true,&quot;databaseEnabled&quot;:false,&quot;networkConnectionEnabled&quot;:true,&quot;locationContextEnabled&quot;:false,&quot;warnings&quot;:{},&quot;desired&quot;:{&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;Redmi&quot;},&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;80b83390&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element {&quot;using&quot;:&quot;id&quot;,&quot;value&quot;:&quot;com.miui.calculator:id/btn_5&quot;} info: [debug] Waiting up to 0ms for condition info: [debug] Pushing command to appium work queue: [&quot;find&quot;,{&quot;strategy&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;com.miui.calculator:id/btn_5&quot;,&quot;context&quot;:&quot;&quot;,&quot;multiple&quot;:false}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;find&quot;,&quot;params&quot;:{&quot;strategy&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;com.miui.calculator:id/btn_5&quot;,&quot;context&quot;:&quot;&quot;,&quot;multiple&quot;:false}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: find info: [debug] [BOOTSTRAP] [debug] Finding com.miui.calculator:id/btn_5 using ID with the contextId:  multiple: false info: [debug] [BOOTSTRAP] [debug] Using: UiSelector[INSTANCE=0, RESOURCE_ID=com.miui.calculator:id/btn_5] info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;ELEMENT&quot;:&quot;1&quot;}} info: [debug] Responding to client with success: {&quot;status&quot;:0,&quot;value&quot;:{&quot;ELEMENT&quot;:&quot;1&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element 200 82.020 ms - 87 {&quot;status&quot;:0,&quot;value&quot;:{&quot;ELEMENT&quot;:&quot;1&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform {&quot;actions&quot;:[{&quot;action&quot;:&quot;press&quot;,&quot;options&quot;:{&quot;element&quot;:&quot;1&quot;}},{&quot;action&quot;:&quot;wait&quot;,&quot;options&quot;:{&quot;ms&quot;:3}},{&quot;action&quot;:&quot;release&quot;,&quot;options&quot;:{}}]} info: [debug] Pushing command to appium work queue: [&quot;element:getLocation&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] Pushing command to appium work queue: [&quot;element:getSize&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getLocation&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;x&quot;:270,&quot;y&quot;:1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getSize&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;width&quot;:270,&quot;height&quot;:201}} info: [debug] Pushing command to appium work queue: [&quot;element:getLocation&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getLocation&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] Pushing command to appium work queue: [&quot;element:getSize&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;x&quot;:270,&quot;y&quot;:1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getSize&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;width&quot;:270,&quot;height&quot;:201}} info: [debug] Pushing command to appium work queue: [&quot;element:touchDown&quot;,{&quot;elementId&quot;:&quot;1&quot;,&quot;x&quot;:405,&quot;y&quot;:1417.5}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:touchDown&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;,&quot;x&quot;:405,&quot;y&quot;:1417.5}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: touchDown info: [debug] [BOOTSTRAP] [debug] Performing TouchDown using element? true x: 405, y: 1417 info: [debug] [BOOTSTRAP] [error] error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] null info: [debug] [BOOTSTRAP] [debug] Problem invoking touchDown: java.lang.RuntimeException: error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] info: [debug] Responding to client with error: {&quot;status&quot;:13,&quot;value&quot;:{&quot;message&quot;:&quot;An unknown server-side error occurred while processing the command.&quot;,&quot;origValue&quot;:&quot;Failed to execute touch event&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform 500 358.523 ms - 198  info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:13,&quot;value&quot;:&quot;Failed to execute touch event&quot;}","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>I am trying to use Appium for testing calculator app (Just for knowledge purpose). But I am not able to perform any operation. Below is the details: <br>\nReal Mobile: Xiaomi Redmi Note 3 <br>\nAndroid version: 6.0.1 <br>\nMIUI: 8.1 <br>\nAppium version: 1.4.16 <br>\nAndroid SDK version: 24.4.1 <br>\nappium java-client: 4.1.2 <br>\nCode:</p>\n\n<pre><code>package unittest;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.Properties;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport io.appium.java_client.MobileElement;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.remote.MobileCapabilityType;\n\npublic class LaunchWardRobe {\n\n    @Test\n    public void swipeTest() throws IOException {\n        String propFileName = \"wardrobe.properties\";\n        InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(propFileName);\n        Properties prop = new Properties();\n        prop.load(inputStream);\n        DesiredCapabilities cap = new DesiredCapabilities();\n        cap.setCapability(MobileCapabilityType.PLATFORM_VERSION, prop.getProperty(\"cap.platform.version\"));\n        cap.setCapability(MobileCapabilityType.PLATFORM_NAME, prop.getProperty(\"cap.platform.name\"));\n        cap.setCapability(MobileCapabilityType.DEVICE_NAME, prop.getProperty(\"cap.device.name\"));\n        cap.setCapability(\"appPackage\", prop.getProperty(\"cap.app.package\"));\n        cap.setCapability(\"appActivity\", prop.getProperty(\"cap.app.activity\"));\n        cap.setCapability(MobileCapabilityType.BROWSER_NAME, \"\");\n        cap.setCapability(MobileCapabilityType.AUTOMATION_NAME, \"Appium\");\n        AndroidDriver&lt;MobileElement&gt; browser = new AndroidDriver&lt;MobileElement&gt;(\n                new URL(prop.getProperty(\"cap.hub.url\")), cap);\n        MobileElement dig5 = browser.findElement(By.id(\"com.miui.calculator:id/btn_5\"));\n        dig5.tap(1, 3);\n        dig5.click();\n        browser.closeApp();\n    }\n}\n</code></pre>\n\n<p>Properties File:</p>\n\n<pre><code>cap.platform.version=6.0.1\ncap.platform.name=Android\ncap.device.name=Redmi\ncap.app.package=com.miui.calculator\ncap.app.activity=com.miui.calculator.cal.CalculatorActivity\ncap.hub.url=http://127.0.0.1:4723/wd/hub\n</code></pre>\n\n<p>Exception or stacktrace on the Eclipse Console IDE: </p>\n\n<pre><code>org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 410 milliseconds\nBuild info: version: '2.53.1', revision: 'a36b8b1cd5757287168e54b817830adce9b0158d', time: '2016-06-30 19:26:09'\nSystem info: host: 'mrunal-laptop', ip: '192.168.56.1', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_111'\nDriver info: io.appium.java_client.android.AndroidDriver\nCapabilities [{appPackage=com.miui.calculator, networkConnectionEnabled=true, warnings={}, databaseEnabled=false, deviceName=80b83390, platform=LINUX, appActivity=com.miui.calculator.cal.CalculatorActivity, desired={appPackage=com.miui.calculator, appActivity=com.miui.calculator.cal.CalculatorActivity, platformVersion=6.0.1, automationName=Appium, browserName=, platformName=Android, deviceName=Redmi}, platformVersion=6.0.1, webStorageEnabled=false, locationContextEnabled=false, automationName=Appium, browserName=, takesScreenshot=true, javascriptEnabled=true, platformName=Android}]\nSession ID: caa419ad-6146-47e0-a1b1-ef700d6645e6\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:206)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:678)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:40)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\n    at io.appium.java_client.AppiumDriver.performTouchAction(AppiumDriver.java:336)\n    at io.appium.java_client.MultiTouchAction.perform(MultiTouchAction.java:71)\n    at io.appium.java_client.AppiumDriver.tap(AppiumDriver.java:361)\n    at io.appium.java_client.MobileElement.tap(MobileElement.java:50)\n    at unittest.LaunchWardRobe.swipeTest(LaunchWardRobe.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n\n<p>Appium Logs:</p>\n\n<pre><code>info: [debug] Appium session started with sessionId caa419ad-6146-47e0-a1b1-ef700d6645e6 info: &lt;-- POST /wd/hub/session 303 10720.889 ms - 74  info: --&gt; GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 {} info: [debug] Responding to client with success: {\"status\":0,\"value\":{\"platform\":\"LINUX\",\"browserName\":\"\",\"platformVersion\":\"6.0.1\",\"webStorageEnabled\":false,\"takesScreenshot\":true,\"javascriptEnabled\":true,\"databaseEnabled\":false,\"networkConnectionEnabled\":true,\"locationContextEnabled\":false,\"warnings\":{},\"desired\":{\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"platformVersion\":\"6.0.1\",\"automationName\":\"Appium\",\"browserName\":\"\",\"platformName\":\"Android\",\"deviceName\":\"Redmi\"},\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"automationName\":\"Appium\",\"platformName\":\"Android\",\"deviceName\":\"80b83390\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: &lt;-- GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 200 1.228 ms - 700 {\"status\":0,\"value\":{\"platform\":\"LINUX\",\"browserName\":\"\",\"platformVersion\":\"6.0.1\",\"webStorageEnabled\":false,\"takesScreenshot\":true,\"javascriptEnabled\":true,\"databaseEnabled\":false,\"networkConnectionEnabled\":true,\"locationContextEnabled\":false,\"warnings\":{},\"desired\":{\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"platformVersion\":\"6.0.1\",\"automationName\":\"Appium\",\"browserName\":\"\",\"platformName\":\"Android\",\"deviceName\":\"Redmi\"},\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"automationName\":\"Appium\",\"platformName\":\"Android\",\"deviceName\":\"80b83390\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element {\"using\":\"id\",\"value\":\"com.miui.calculator:id/btn_5\"} info: [debug] Waiting up to 0ms for condition info: [debug] Pushing command to appium work queue: [\"find\",{\"strategy\":\"id\",\"selector\":\"com.miui.calculator:id/btn_5\",\"context\":\"\",\"multiple\":false}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"find\",\"params\":{\"strategy\":\"id\",\"selector\":\"com.miui.calculator:id/btn_5\",\"context\":\"\",\"multiple\":false}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: find info: [debug] [BOOTSTRAP] [debug] Finding com.miui.calculator:id/btn_5 using ID with the contextId:  multiple: false info: [debug] [BOOTSTRAP] [debug] Using: UiSelector[INSTANCE=0, RESOURCE_ID=com.miui.calculator:id/btn_5] info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"ELEMENT\":\"1\"}} info: [debug] Responding to client with success: {\"status\":0,\"value\":{\"ELEMENT\":\"1\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element 200 82.020 ms - 87 {\"status\":0,\"value\":{\"ELEMENT\":\"1\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform {\"actions\":[{\"action\":\"press\",\"options\":{\"element\":\"1\"}},{\"action\":\"wait\",\"options\":{\"ms\":3}},{\"action\":\"release\",\"options\":{}}]} info: [debug] Pushing command to appium work queue: [\"element:getLocation\",{\"elementId\":\"1\"}] info: [debug] Pushing command to appium work queue: [\"element:getSize\",{\"elementId\":\"1\"}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getLocation\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"x\":270,\"y\":1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getSize\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"width\":270,\"height\":201}} info: [debug] Pushing command to appium work queue: [\"element:getLocation\",{\"elementId\":\"1\"}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getLocation\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] Pushing command to appium work queue: [\"element:getSize\",{\"elementId\":\"1\"}] info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"x\":270,\"y\":1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getSize\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"width\":270,\"height\":201}} info: [debug] Pushing command to appium work queue: [\"element:touchDown\",{\"elementId\":\"1\",\"x\":405,\"y\":1417.5}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:touchDown\",\"params\":{\"elementId\":\"1\",\"x\":405,\"y\":1417.5}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: touchDown info: [debug] [BOOTSTRAP] [debug] Performing TouchDown using element? true x: 405, y: 1417 info: [debug] [BOOTSTRAP] [error] error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] null info: [debug] [BOOTSTRAP] [debug] Problem invoking touchDown: java.lang.RuntimeException: error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] info: [debug] Responding to client with error: {\"status\":13,\"value\":{\"message\":\"An unknown server-side error occurred while processing the command.\",\"origValue\":\"Failed to execute touch event\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform 500 358.523 ms - 198  info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":13,\"value\":\"Failed to execute touch event\"}\n</code></pre>\n"},{"tags":["java","spring","eclipse","sts"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1690351914,"post_id":76767884,"comment_id":135339427,"body_markdown":"The STS and Java versions must both be for Intel or both for Apple Chips - you can&#39;t mix them. I don&#39;t think there is a version of STS 3 for Apple so you need the x86_64 Java","body":"The STS and Java versions must both be for Intel or both for Apple Chips - you can&#39;t mix them. I don&#39;t think there is a version of STS 3 for Apple so you need the x86_64 Java"}],"owner":{"account_id":22312217,"reputation":1,"user_id":16536054,"display_name":"Nirsa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690342705,"creation_date":1690342705,"question_id":76767884,"body_markdown":"I am getting JNI_CreateJavaVM symbol error in STS 3.\r\n\r\nMy environment is MAC OS M2, Apple Chip, Java-11, STS 3.9.18 version.\r\n\r\nand what i did\r\n\r\n1. Set &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home/bin/java&lt;/string&gt; in Info.plist of STS3 file\r\n2. export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home in ~/.zshrc\r\nSet export PATH=$JAVA_HOME/bin:$PATH\r\n3. Reinstall STS3\r\n4. Reinstall Java11\r\n5. Reinstall MAC OS\r\n\r\nIs there any other way to solve the JNI_CreateJavaVM symbol error?","title":"No way to resolve &#39;JNI_CreateJavaVM&#39; error","body":"<p>I am getting JNI_CreateJavaVM symbol error in STS 3.</p>\n<p>My environment is MAC OS M2, Apple Chip, Java-11, STS 3.9.18 version.</p>\n<p>and what i did</p>\n<ol>\n<li>Set -vm/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home/bin/java in Info.plist of STS3 file</li>\n<li>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home in ~/.zshrc\nSet export PATH=$JAVA_HOME/bin:$PATH</li>\n<li>Reinstall STS3</li>\n<li>Reinstall Java11</li>\n<li>Reinstall MAC OS</li>\n</ol>\n<p>Is there any other way to solve the JNI_CreateJavaVM symbol error?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8841788,"reputation":78,"user_id":6604016,"display_name":"Nav"},"score":0,"creation_date":1637022724,"post_id":69982453,"comment_id":123709191,"body_markdown":"RemoveAll method https://howtodoinjava.com/java/collections/arraylist/arraylist-removeall/ might be helpful","body":"RemoveAll method <a href=\"https://howtodoinjava.com/java/collections/arraylist/arraylist-removeall/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/collections/arraylist/&hellip;</a> might be helpful"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637022765,"post_id":69982453,"comment_id":123709195,"body_markdown":"See the old fashioned way https://stackoverflow.com/a/8892090/2310289","body":"See the old fashioned way <a href=\"https://stackoverflow.com/a/8892090/2310289\">stackoverflow.com/a/8892090/2310289</a>"}],"answers":[{"tags":[],"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672510179,"creation_date":1637022597,"answer_id":69982488,"question_id":69982453,"body_markdown":"You can use Java 8 method [`Collection.removeIf()`][removeIf], expecting a `Predicate`, to do so and make your code waaaaay simpler.\r\n\r\nTo perform a delete operation in a list based on a certain condition, just do:\r\n\r\n```\r\nfriendsList.removeIf(p -&gt; p.getFirstName().equalsIgnoreCase(firstName));\r\n```\r\nHere is a bit of more on it: [Operating and Removing an Item - Collection.removeIf][baeldung]\r\n\r\n\r\n\r\n   [removeIf]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\r\n\r\n   [baeldung]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)","title":"How can I make this for loop repeatedly go through a list of arrays until a condition is reached?","body":"<p>You can use Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Collection.removeIf()</code></a>, expecting a <code>Predicate</code>, to do so and make your code waaaaay simpler.</p>\n<p>To perform a delete operation in a list based on a certain condition, just do:</p>\n<pre><code>friendsList.removeIf(p -&gt; p.getFirstName().equalsIgnoreCase(firstName));\n</code></pre>\n<p>Here is a bit of more on it: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Operating and Removing an Item - Collection.removeIf</a></p>\n"},{"tags":[],"owner":{"account_id":14438836,"reputation":75,"user_id":10565192,"display_name":"Adrian Patterson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637022853,"creation_date":1637022853,"answer_id":69982514,"question_id":69982453,"body_markdown":"One way to do this would be to iterate over the friends list using indexing like so:\r\n\r\n```java\r\nint index = 0;\r\nfor(int i = 0; i &lt; friendsList.length; i++) {\r\n    if(!friendsList[i].getFirstName().equalsIgnoreCase(firstName)) {\r\n        friendsList[index++] = friendsList[i];\r\n    }\r\n}\r\n\r\nreturn Arrays.copyOf(friendsList, index);\r\n```\r\n\r\nAs seen in this [Geeks for Geeks](https://www.geeksforgeeks.org/remove-all-occurrences-of-an-element-from-array-in-java/) page. Check it out for other options, like filtering your list (which is much simpler &amp; quicker).","title":"How can I make this for loop repeatedly go through a list of arrays until a condition is reached?","body":"<p>One way to do this would be to iterate over the friends list using indexing like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int index = 0;\nfor(int i = 0; i &lt; friendsList.length; i++) {\n    if(!friendsList[i].getFirstName().equalsIgnoreCase(firstName)) {\n        friendsList[index++] = friendsList[i];\n    }\n}\n\nreturn Arrays.copyOf(friendsList, index);\n</code></pre>\n<p>As seen in this <a href=\"https://www.geeksforgeeks.org/remove-all-occurrences-of-an-element-from-array-in-java/\" rel=\"nofollow noreferrer\">Geeks for Geeks</a> page. Check it out for other options, like filtering your list (which is much simpler &amp; quicker).</p>\n"}],"owner":{"account_id":23328593,"reputation":43,"user_id":17405358,"display_name":"cruella devil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69982488,"answer_count":2,"score":0,"last_activity_date":1690342668,"creation_date":1637022213,"question_id":69982453,"body_markdown":"I have this method that searches a list of arrays of type Person and deletes a specific one based on the first name. \r\n\r\nIt works fine. \r\n\r\nBut it only deletes one person and then stops. \r\n \r\n```\r\n        public void deleteFriend(String firstName){\r\n                Person friendToDelete = null;\r\n                for(Person f : friendsList){\r\n                    if(f.getFirstName().equalsIgnoreCase(firstName)){\r\n                        friendToDelete = f;\r\n                    }\r\n                }\r\n                if(friendToDelete != null){\r\n                    friendsList.remove(friendToDelete);\r\n                    System.out.println(&quot;Friend deleted.&quot;);\r\n                }\r\n        }\r\n```\r\n\r\nSay my list `friendsList` has two people with the first name `Shane`. I want my method to delete ***all** Shanes*.\r\n\r\n\r\n************************************************************\r\nI have tried the following:\r\n\r\n```\r\n    public void deleteFriend(String firstName){\r\n        //Person friendToDelete = null;\r\n        for(Person f : friendsList){\r\n            if(f.getFirstName().equalsIgnoreCase(firstName)){\r\n                friendsList.remove(f);\r\n                continue; \r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nIn the above example, I tried some variations of the `if` loop. First, I tried `break;` instead of `continue;`. I also tried removing that line altogether.\r\n\r\n```\r\nif(f.getFirstName().equalsIgnoreCase(firstName))\r\n                friendsList.remove(f);\r\n```\r\nIt still **only deleted the first** Shane.\r\n\r\nI tried to make a condition to check if there are instances of `Person` with the first name `Shane` and while that is true, go through the list with `for(Person f : friendsList)` and remove it. And then check if there still is a Shane, and do it again. \r\n\r\nBut I can tell that what I have isn&#39;t going to work:\r\n\r\n```\r\n        public void deleteFriend(String firstName){\r\n                //Person friendToDelete = null;\r\n                for(Person f : friendsList){\r\n                    int cond = 0;\r\n                    while(cond == 0){\r\n                        if(f.getFirstName().equalsIgnoreCase(firstName)){\r\n                            friendsList.remove(f);\r\n                        }\r\n                        else{\r\n                            // ??? cond = 1?\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n```\r\n\r\nCan someone help me with what I&#39;m trying to do or point me in the right direction?","title":"How can I make this for loop repeatedly go through a list of arrays until a condition is reached?","body":"<p>I have this method that searches a list of arrays of type Person and deletes a specific one based on the first name.</p>\n<p>It works fine.</p>\n<p>But it only deletes one person and then stops.</p>\n<pre><code>        public void deleteFriend(String firstName){\n                Person friendToDelete = null;\n                for(Person f : friendsList){\n                    if(f.getFirstName().equalsIgnoreCase(firstName)){\n                        friendToDelete = f;\n                    }\n                }\n                if(friendToDelete != null){\n                    friendsList.remove(friendToDelete);\n                    System.out.println(&quot;Friend deleted.&quot;);\n                }\n        }\n</code></pre>\n<p>Say my list <code>friendsList</code> has two people with the first name <code>Shane</code>. I want my method to delete <em><strong>all</strong> Shanes</em>.</p>\n<hr />\n<p>I have tried the following:</p>\n<pre><code>    public void deleteFriend(String firstName){\n        //Person friendToDelete = null;\n        for(Person f : friendsList){\n            if(f.getFirstName().equalsIgnoreCase(firstName)){\n                friendsList.remove(f);\n                continue; \n            }\n        }\n    }\n\n</code></pre>\n<p>In the above example, I tried some variations of the <code>if</code> loop. First, I tried <code>break;</code> instead of <code>continue;</code>. I also tried removing that line altogether.</p>\n<pre><code>if(f.getFirstName().equalsIgnoreCase(firstName))\n                friendsList.remove(f);\n</code></pre>\n<p>It still <strong>only deleted the first</strong> Shane.</p>\n<p>I tried to make a condition to check if there are instances of <code>Person</code> with the first name <code>Shane</code> and while that is true, go through the list with <code>for(Person f : friendsList)</code> and remove it. And then check if there still is a Shane, and do it again.</p>\n<p>But I can tell that what I have isn't going to work:</p>\n<pre><code>        public void deleteFriend(String firstName){\n                //Person friendToDelete = null;\n                for(Person f : friendsList){\n                    int cond = 0;\n                    while(cond == 0){\n                        if(f.getFirstName().equalsIgnoreCase(firstName)){\n                            friendsList.remove(f);\n                        }\n                        else{\n                            // ??? cond = 1?\n                        }\n                    }\n                }\n        }\n</code></pre>\n<p>Can someone help me with what I'm trying to do or point me in the right direction?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","dao"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1692078771,"post_id":76767869,"comment_id":135572712,"body_markdown":"After getting the list returned by `findAll()` function, perhaps you can create `ArrayLists` of all months you need to count, loop through the list checking months of `createdOn` and add  records to arraylists eg if date is July add that record to July&#39;s arraylist. After looping then you check sizes of arraylists  which will be equal to number of accounts created that month","body":"After getting the list returned by <code>findAll()</code> function, perhaps you can create <code>ArrayLists</code> of all months you need to count, loop through the list checking months of <code>createdOn</code> and add  records to arraylists eg if date is July add that record to July&#39;s arraylist. After looping then you check sizes of arraylists  which will be equal to number of accounts created that month"}],"owner":{"account_id":10046033,"reputation":672,"user_id":7427398,"accept_rate":32,"display_name":"ksernow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690342529,"creation_date":1690342529,"question_id":76767869,"body_markdown":"I am new to spring boot and hibernate. I was able to build simple API to get all records using FindAll and similarly was able to add few filters as well like findAllByName. However, now I am stuck because I have a need for more complex data.\r\n\r\n\r\nUser.java\r\n```\r\nimport java.util.Date;\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\nprivate long id;\r\n\r\nprivate String name;\r\n\t\r\nprivate int age;\r\n\r\n@CreationTimestamp\r\nprivate Date createdOn;\r\n\r\n}\r\n\r\n```\r\n\r\nDatabase Example\r\n```\r\nTable 1 - User\r\nName   Age Created On\r\nMike   23  2023-07-10 22:55:25.787000\r\nAkshay 53  2023-06-25 21:15:25.787000\r\nBheem  43  2023-07-07 08:25:25.787000\r\nRahul  33  2023-06-11 12:55:25.787000\r\nGin    33  2023-05-10 01:55:25.787000\r\n```\r\n\r\nI have two users who got created in July, two in June, and 1 in May. I need to create a hibernate dao query to find number of records for each month. In this example I should get - July =2, June =2 and May = 1. How do I do that?","title":"Hibernate - Getting count of all records a in given month","body":"<p>I am new to spring boot and hibernate. I was able to build simple API to get all records using FindAll and similarly was able to add few filters as well like findAllByName. However, now I am stuck because I have a need for more complex data.</p>\n<p>User.java</p>\n<pre><code>import java.util.Date;\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\nprivate long id;\n\nprivate String name;\n    \nprivate int age;\n\n@CreationTimestamp\nprivate Date createdOn;\n\n}\n\n</code></pre>\n<p>Database Example</p>\n<pre><code>Table 1 - User\nName   Age Created On\nMike   23  2023-07-10 22:55:25.787000\nAkshay 53  2023-06-25 21:15:25.787000\nBheem  43  2023-07-07 08:25:25.787000\nRahul  33  2023-06-11 12:55:25.787000\nGin    33  2023-05-10 01:55:25.787000\n</code></pre>\n<p>I have two users who got created in July, two in June, and 1 in May. I need to create a hibernate dao query to find number of records for each month. In this example I should get - July =2, June =2 and May = 1. How do I do that?</p>\n"},{"tags":["java","codenameone","java-audio"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690235898,"post_id":76758192,"comment_id":135322439,"body_markdown":"This question [looks familiar](https://stackoverflow.com/q/76757514).","body":"This question <a href=\"https://stackoverflow.com/q/76757514\">looks familiar</a>."},{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690245094,"post_id":76758192,"comment_id":135323372,"body_markdown":"I reposted because I made a mistake in the post","body":"I reposted because I made a mistake in the post"},{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1690253173,"post_id":76758192,"comment_id":135324009,"body_markdown":"FYI you can edit the questions as much as you want with the edit button on the bottom.","body":"FYI you can edit the questions as much as you want with the edit button on the bottom."}],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690340217,"creation_date":1690253711,"answer_id":76759176,"question_id":76758192,"body_markdown":"It seems you&#39;re confusing `FileSystemStorage` with resources. Those are separate concepts. Resources like your sounds, get packaged into your application as part of the final bundle (e.g. jar) and are available to you on the device using an API to fetch the resources. \r\n\r\n`FileSystemStorage` accesses the file system available on the device. Here you first need to write or create the file in some way in order for it to be available for you. \r\n\r\nThere are additional problems:\r\n\r\n* Your resources are in a hierarchy. This isn&#39;t supported by Codename One since some packaging systems (iOS) behave somewhat differently. So you can&#39;t nest the files and need to put them all in one directory.\r\n\r\n* You named the directory `res` instead of `resources`.\r\n\r\n* It needs to be under `main` next to the `java` and `css` directory\r\n\r\nTo clarify, the file `fluffingADuck.wav` must be in `common/src/main/resources/fluffingADuck.wav` for the following code to work.\r\n\r\n\r\nNow you need to fix the code to use resources which is actually pretty simple:\r\n\r\n    audioPlayer.playAudio(&quot;/fluffingADuck.wav&quot;);\r\n\r\n\r\nNotice the `/` in the beginning. It&#39;s intentional.\r\n\r\nThen all you need to do is change the `InputStream` line to:\r\n\r\n    InputStream is = CN.getResourceAsStream(fileName);","title":"Making audio player in Codename One","body":"<p>It seems you're confusing <code>FileSystemStorage</code> with resources. Those are separate concepts. Resources like your sounds, get packaged into your application as part of the final bundle (e.g. jar) and are available to you on the device using an API to fetch the resources.</p>\n<p><code>FileSystemStorage</code> accesses the file system available on the device. Here you first need to write or create the file in some way in order for it to be available for you.</p>\n<p>There are additional problems:</p>\n<ul>\n<li><p>Your resources are in a hierarchy. This isn't supported by Codename One since some packaging systems (iOS) behave somewhat differently. So you can't nest the files and need to put them all in one directory.</p>\n</li>\n<li><p>You named the directory <code>res</code> instead of <code>resources</code>.</p>\n</li>\n<li><p>It needs to be under <code>main</code> next to the <code>java</code> and <code>css</code> directory</p>\n</li>\n</ul>\n<p>To clarify, the file <code>fluffingADuck.wav</code> must be in <code>common/src/main/resources/fluffingADuck.wav</code> for the following code to work.</p>\n<p>Now you need to fix the code to use resources which is actually pretty simple:</p>\n<pre><code>audioPlayer.playAudio(&quot;/fluffingADuck.wav&quot;);\n</code></pre>\n<p>Notice the <code>/</code> in the beginning. It's intentional.</p>\n<p>Then all you need to do is change the <code>InputStream</code> line to:</p>\n<pre><code>InputStream is = CN.getResourceAsStream(fileName);\n</code></pre>\n"}],"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690340217,"creation_date":1690234978,"question_id":76758192,"body_markdown":"I am porting a java game to mobile using Codename One, and have been trying to make an audio player with the framework using code from another thread. I&#39;m running into lots of trouble doing so, mainly with using the MediaManager. Here is the code:\r\n\r\n    package com.example.audio;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import com.codename1.io.FileSystemStorage;\r\n    import com.codename1.media.Media;\r\n    import com.codename1.media.MediaManager;\r\n    import com.codename1.ui.Display;\r\n    \r\n    public class AudioPlayer {\r\n        private Media MEDIA = null;\r\n        public void playAudio(String fileName) {\r\n            try {\r\n                if (MEDIA == null) {\r\n                    InputStream is = FileSystemStorage.getInstance().openInputStream(fileName);\r\n                    MEDIA = MediaManager.createMedia(is, &quot;audio/mp3&quot;, new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            MEDIA = null;\r\n                        }\r\n                    });\r\n                }\r\n                if (MEDIA != null &amp;&amp; MEDIA.isPlaying() == false) {\r\n                    MEDIA.setVolume(100);\r\n                    MEDIA.play();\r\n                }\r\n            } catch (IOException ioe) {\r\n                ioe.printStackTrace();\r\n            }\r\n        }\r\n    }\r\nClass where AudioPlayer is instantiated: \r\n\r\n    public AudioPlayer audioPlayer = new AudioPlayer(); //audio player \r\n    \r\n    public Game() {\r\n        changeState(sceneNum);\r\n        audioPlayer.playAudio(FileSystemStorage.getInstance().getAppHomePath() + &quot;res/Sounds/fluffingADuck.wav&quot;);\r\n    ...\r\nThis is what the stack trace gives me \r\n\r\n    java.io.IOException\r\n        at com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.java:9535)\r\n        at com.codename1.ui.Display.createMedia(Display.java:3705)\r\n        at com.codename1.media.MediaManager.createMedia(MediaManager.java:306)\r\n        at com.example.audio.AudioPlayer.playAudio(AudioPlayer.java:16)\r\n        at com.example.myapp.Game.&lt;init&gt;(Game.java:32)\r\n        at com.example.myapp.Game.getGame(Game.java:41)\r\n        at com.example.myapp.MyApp.runApp(MyApp.java:14)\r\n        at com.codename1.system.Lifecycle.start(Lifecycle.java:129)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at com.codename1.impl.javase.Executor$3$2.run(Executor.java:340)\r\n        at com.codename1.ui.Display.executeSerialCall(Display.java:1395)\r\n        at com.codename1.ui.Display.processSerialCalls(Display.java:1379)\r\n        at com.codename1.ui.Display.mainEDTLoop(Display.java:1166)\r\n        at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120)\r\n        at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\r\n\r\nHere is what the folder that holds the sounds looks like: [My folder set up][1]\r\n\r\n\r\nI converted one of the sounds to mp3 because I thought maybe wav wasn&#39;t recognized by CN1 but that did not fix the issue either. I use pretty much the same method to retrieve images for the game and that works fine. Not sure what to do, if someone could point me in the right direction or give any assistance it would mean a lot. I&#39;m still a bit of a noob at programming. Here is the github repo if anyone would want to take a look as well: [https://github.com/stefancohn/DuckWorldMobile][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YaxL6.png\r\n  [2]: https://github.com/stefancohn/DuckWorldMobile","title":"Making audio player in Codename One","body":"<p>I am porting a java game to mobile using Codename One, and have been trying to make an audio player with the framework using code from another thread. I'm running into lots of trouble doing so, mainly with using the MediaManager. Here is the code:</p>\n<pre><code>package com.example.audio;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport com.codename1.io.FileSystemStorage;\nimport com.codename1.media.Media;\nimport com.codename1.media.MediaManager;\nimport com.codename1.ui.Display;\n\npublic class AudioPlayer {\n    private Media MEDIA = null;\n    public void playAudio(String fileName) {\n        try {\n            if (MEDIA == null) {\n                InputStream is = FileSystemStorage.getInstance().openInputStream(fileName);\n                MEDIA = MediaManager.createMedia(is, &quot;audio/mp3&quot;, new Runnable() {\n                    @Override\n                    public void run() {\n                        MEDIA = null;\n                    }\n                });\n            }\n            if (MEDIA != null &amp;&amp; MEDIA.isPlaying() == false) {\n                MEDIA.setVolume(100);\n                MEDIA.play();\n            }\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Class where AudioPlayer is instantiated:</p>\n<pre><code>public AudioPlayer audioPlayer = new AudioPlayer(); //audio player \n\npublic Game() {\n    changeState(sceneNum);\n    audioPlayer.playAudio(FileSystemStorage.getInstance().getAppHomePath() + &quot;res/Sounds/fluffingADuck.wav&quot;);\n...\n</code></pre>\n<p>This is what the stack trace gives me</p>\n<pre><code>java.io.IOException\n    at com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.java:9535)\n    at com.codename1.ui.Display.createMedia(Display.java:3705)\n    at com.codename1.media.MediaManager.createMedia(MediaManager.java:306)\n    at com.example.audio.AudioPlayer.playAudio(AudioPlayer.java:16)\n    at com.example.myapp.Game.&lt;init&gt;(Game.java:32)\n    at com.example.myapp.Game.getGame(Game.java:41)\n    at com.example.myapp.MyApp.runApp(MyApp.java:14)\n    at com.codename1.system.Lifecycle.start(Lifecycle.java:129)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.codename1.impl.javase.Executor$3$2.run(Executor.java:340)\n    at com.codename1.ui.Display.executeSerialCall(Display.java:1395)\n    at com.codename1.ui.Display.processSerialCalls(Display.java:1379)\n    at com.codename1.ui.Display.mainEDTLoop(Display.java:1166)\n    at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120)\n    at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\n</code></pre>\n<p>Here is what the folder that holds the sounds looks like: <a href=\"https://i.stack.imgur.com/YaxL6.png\" rel=\"nofollow noreferrer\">My folder set up</a></p>\n<p>I converted one of the sounds to mp3 because I thought maybe wav wasn't recognized by CN1 but that did not fix the issue either. I use pretty much the same method to retrieve images for the game and that works fine. Not sure what to do, if someone could point me in the right direction or give any assistance it would mean a lot. I'm still a bit of a noob at programming. Here is the github repo if anyone would want to take a look as well: <a href=\"https://github.com/stefancohn/DuckWorldMobile\" rel=\"nofollow noreferrer\">https://github.com/stefancohn/DuckWorldMobile</a></p>\n"},{"tags":["java","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":11251034,"reputation":875,"user_id":8252138,"display_name":"Eric Su"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690339992,"creation_date":1690339992,"answer_id":76767732,"question_id":76766203,"body_markdown":"Replace\r\n```dart\r\npolylines[id] = polyline;\r\n```\r\nwith\r\n```dart\r\npolylines.update(id, (value) =&gt; polyline, ifAbsent: () =&gt; polyline);\r\n```\r\n","title":"Excpetion _TypeError (type &#39;_Map&lt;Object?, Object?&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39; in type cast)","body":"<p>Replace</p>\n<pre class=\"lang-dart prettyprint-override\"><code>polylines[id] = polyline;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-dart prettyprint-override\"><code>polylines.update(id, (value) =&gt; polyline, ifAbsent: () =&gt; polyline);\n</code></pre>\n"}],"owner":{"account_id":16634020,"reputation":531,"user_id":12021185,"display_name":"MrObscure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690339992,"creation_date":1690315800,"question_id":76766203,"body_markdown":"hello I&#39;m getting this exception from the code below\r\nthis application is running with those packages:-\r\n\r\n\r\n`Location:^5.0.1`\r\n\r\n`google_maps_flutter:^2.3.1`\r\n\r\n`flutter_polyline_points:^1.0.0`\r\n\r\n`location: ^5.0.1`\r\n\r\nexception (`method_channel_location.dart`):-\r\n\r\n&gt; Exception has occurred.\r\n\r\n&gt;_TypeError (type &#39;_Map&lt;Object?, Object?&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39; in type cast)\r\n\r\ncode(the function below is responsible on navigation):-\r\n\r\n```\r\n  getNavigation() async {\r\n    bool _serviceEnabled;\r\n    PermissionStatus _permissionGranted;\r\n    final GoogleMapController? controller = await _controller.future;\r\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\r\n    _serviceEnabled = await location.serviceEnabled();\r\n\r\n    if (!_serviceEnabled) {\r\n      _serviceEnabled = await location.requestService();\r\n      if (!_serviceEnabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    _permissionGranted = await location.hasPermission();\r\n    if (_permissionGranted == PermissionStatus.denied) {\r\n      _permissionGranted = await location.requestPermission();\r\n      if (_permissionGranted != PermissionStatus.granted) {\r\n        return;\r\n      }\r\n    }\r\n    if (_permissionGranted == loc.PermissionStatus.granted) {\r\n      _currentPosition = await location.getLocation();\r\n      curLocation =\r\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\r\n      locationSubscription =\r\n          location.onLocationChanged.listen((LocationData currentLocation) {\r\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\r\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n          zoom: 16,\r\n        )));\r\n        if (mounted) {\r\n          controller\r\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\r\n          setState(() {\r\n            curLocation =\r\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\r\n            sourcePosition = Marker(\r\n              markerId: MarkerId(currentLocation.toString()),\r\n              icon: BitmapDescriptor.defaultMarkerWithHue(\r\n                  BitmapDescriptor.hueBlue),\r\n              position:\r\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n              infoWindow: InfoWindow(\r\n                  title:\r\n                      &#39;${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km&#39;),\r\n              onTap: () {\r\n                print(&#39;market tapped&#39;);\r\n              },\r\n            );\r\n          });\r\n          getDirections(LatLng(widget.lat, widget.lang));\r\n        }\r\n      });\r\n    }\r\n  }\r\n```\r\nEven though the full code is:-\r\n\r\n```\r\nimport &#39;dart:async&#39;;\r\nimport &#39;package:applicationservice/main.dart&#39;;\r\nimport &#39;package:flutter/gestures.dart&#39;;\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:flutter/cupertino.dart&#39;;\r\nimport &#39;package:flutter_polyline_points/flutter_polyline_points.dart&#39;;\r\nimport &#39;package:google_maps_flutter/google_maps_flutter.dart&#39;;\r\nimport &#39;package:location/location.dart&#39;;\r\nimport &#39;package:location/location.dart&#39; as loc;\r\nimport &#39;dart:math&#39; show cos, sqrt, asin;\r\nimport &#39;package:url_launcher/url_launcher.dart&#39;;\r\n\r\nclass MainScreen extends StatefulWidget {\r\n  final double lat;\r\n  final double lang;\r\n  // const MainScreen({super.key, required this.lat, required this.lang});\r\n  MainScreen(this.lat, this.lang);\r\n\r\n  @override\r\n  State&lt;MainScreen&gt; createState() =&gt; _MainScreenState();\r\n}\r\n\r\nconst String google_api_key = &quot;AIzaSyAnpCS9K.......kabKsMAZzsQ&quot;;\r\n\r\nclass _MainScreenState extends State&lt;MainScreen&gt; {\r\n  final Completer&lt;GoogleMapController&gt; _controller = Completer();\r\n  Map&lt;PolylineId, Polyline&gt; polylines = {};\r\n  PolylinePoints polylinePoints = PolylinePoints();\r\n  Location location = Location();\r\n  Marker? sourcePosition, destinationPosition;\r\n  loc.LocationData? _currentPosition;\r\n  LatLng curLocation = LatLng(32.8945, 13.1807);\r\n  StreamSubscription&lt;loc.LocationData&gt;? locationSubscription;\r\n// تحديث الموقع\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    addMarker();\r\n    getNavigation();\r\n  }\r\n\r\n  @override\r\n  void dispose() {\r\n    locationSubscription?.cancel();\r\n    super.dispose();\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n        body: sourcePosition == null\r\n            ? Center(child: CircularProgressIndicator())\r\n            : Stack(\r\n                children: [\r\n                  GoogleMap(\r\n                    zoomControlsEnabled: false,\r\n                    polylines: Set&lt;Polyline&gt;.of(polylines.values),\r\n                    initialCameraPosition: CameraPosition(\r\n                      target: curLocation,\r\n                      zoom: 16,\r\n                    ),\r\n                    markers: {sourcePosition!, destinationPosition!},\r\n                    onTap: (latLng) {\r\n                      print(latLng);\r\n                    },\r\n                    onMapCreated: (GoogleMapController controller) {\r\n                      _controller.complete(controller);\r\n                    },\r\n                  ),\r\n                  Positioned(\r\n                    top: 30,\r\n                    left: 15,\r\n                    child: GestureDetector(\r\n                      onTap: () {\r\n                        Navigator.of(context).pushAndRemoveUntil(\r\n                            MaterialPageRoute(builder: (context) =&gt; MyApp()),\r\n                            (route) =&gt; false);\r\n                      },\r\n                      child: Icon(Icons.arrow_back),\r\n                    ),\r\n                  ),\r\n                  Positioned(\r\n                    bottom: 10,\r\n                    right: 10,\r\n                    child: Container(\r\n                      width: 50,\r\n                      height: 50,\r\n                      decoration: BoxDecoration(\r\n                          shape: BoxShape.circle, color: Colors.blue),\r\n                      child: Center(\r\n                          child: IconButton(\r\n                        icon: Icon(\r\n                          Icons.navigation_outlined,\r\n                          color: Colors.white,\r\n                        ),\r\n                        onPressed: () async {\r\n                          await launchUrl(Uri.parse(\r\n                              &#39;google.navigation:q=${widget.lat},${widget.lang}&amp;key=AIzaSyAnpCS9K8F......pZNb_kabKsMAZzsQ&#39;));\r\n                        },\r\n                      )),\r\n                    ),\r\n                  )\r\n                ],\r\n              ));\r\n  }\r\n\r\n  getNavigation() async {\r\n    bool _serviceEnabled;\r\n    PermissionStatus _permissionGranted;\r\n    final GoogleMapController? controller = await _controller.future;\r\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\r\n    _serviceEnabled = await location.serviceEnabled();\r\n\r\n    if (!_serviceEnabled) {\r\n      _serviceEnabled = await location.requestService();\r\n      if (!_serviceEnabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    _permissionGranted = await location.hasPermission();\r\n    if (_permissionGranted == PermissionStatus.denied) {\r\n      _permissionGranted = await location.requestPermission();\r\n      if (_permissionGranted != PermissionStatus.granted) {\r\n        return;\r\n      }\r\n    }\r\n    if (_permissionGranted == loc.PermissionStatus.granted) {\r\n      _currentPosition = await location.getLocation();\r\n      curLocation =\r\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\r\n      locationSubscription =\r\n          location.onLocationChanged.listen((LocationData currentLocation) {\r\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\r\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n          zoom: 16,\r\n        )));\r\n        if (mounted) {\r\n          controller\r\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\r\n          setState(() {\r\n            curLocation =\r\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\r\n            sourcePosition = Marker(\r\n              markerId: MarkerId(currentLocation.toString()),\r\n              icon: BitmapDescriptor.defaultMarkerWithHue(\r\n                  BitmapDescriptor.hueBlue),\r\n              position:\r\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n              infoWindow: InfoWindow(\r\n                  title:\r\n                      &#39;${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km&#39;),\r\n              onTap: () {\r\n                print(&#39;market tapped&#39;);\r\n              },\r\n            );\r\n          });\r\n          getDirections(LatLng(widget.lat, widget.lang));\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getDirections(LatLng dst) async {\r\n    List&lt;LatLng&gt; polylineCoordinates = [];\r\n    List&lt;dynamic&gt; points = [];\r\n    PolylineResult result = await polylinePoints.getRouteBetweenCoordinates(\r\n        google_api_key,\r\n        PointLatLng(curLocation.latitude, curLocation.longitude),\r\n        PointLatLng(dst.latitude, dst.longitude),\r\n        travelMode: TravelMode.driving);\r\n    if (result.points.isNotEmpty) {\r\n      result.points.forEach((PointLatLng point) {\r\n        polylineCoordinates.add(LatLng(point.latitude, point.longitude));\r\n        points.add({&#39;lat&#39;: point.latitude, &#39;lng&#39;: point.longitude});\r\n      });\r\n    } else {\r\n      print(result.errorMessage);\r\n    }\r\n    addPolyLine(polylineCoordinates);\r\n  }\r\n\r\n  addPolyLine(List&lt;LatLng&gt; polylineCoordinates) {\r\n    PolylineId id = PolylineId(&#39;poly&#39;);\r\n    Polyline polyline = Polyline(\r\n      polylineId: id,\r\n      color: Colors.blue,\r\n      points: polylineCoordinates,\r\n      width: 5,\r\n    );\r\n    polylines[id] = polyline;\r\n    setState(() {});\r\n  }\r\n\r\n  double calculateDistance(lat1, lon1, lat2, lon2) {\r\n    var p = 0.017453292519943295;\r\n    var c = cos;\r\n    var a = 0.5 -\r\n        c((lat2 - lat1) * p) / 2 +\r\n        c(lat1 * p) * c(lat2 * p) * (1 - c((lon2 - lon1) * p)) / 2;\r\n    return 12742 * asin(sqrt(a));\r\n  }\r\n\r\n  double getDistance(LatLng destposition) {\r\n    return calculateDistance(curLocation.latitude, curLocation.longitude,\r\n        destposition.latitude, destposition.longitude);\r\n  }\r\n\r\n  addMarker() {\r\n    setState(() {\r\n      sourcePosition = Marker(\r\n        markerId: MarkerId(&#39;source&#39;),\r\n        position: curLocation,\r\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueAzure),\r\n      );\r\n      destinationPosition = Marker(\r\n        markerId: MarkerId(&#39;destination&#39;),\r\n        position: LatLng(widget.lat, widget.lang),\r\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueCyan),\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\n```\r\nyour help is very appreciated, thanks.","title":"Excpetion _TypeError (type &#39;_Map&lt;Object?, Object?&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39; in type cast)","body":"<p>hello I'm getting this exception from the code below\nthis application is running with those packages:-</p>\n<p><code>Location:^5.0.1</code></p>\n<p><code>google_maps_flutter:^2.3.1</code></p>\n<p><code>flutter_polyline_points:^1.0.0</code></p>\n<p><code>location: ^5.0.1</code></p>\n<p>exception (<code>method_channel_location.dart</code>):-</p>\n<blockquote>\n<p>Exception has occurred.</p>\n</blockquote>\n<blockquote>\n<p>_TypeError (type '_Map&lt;Object?, Object?&gt;' is not a subtype of type 'Map&lt;String, dynamic&gt;' in type cast)</p>\n</blockquote>\n<p>code(the function below is responsible on navigation):-</p>\n<pre><code>  getNavigation() async {\n    bool _serviceEnabled;\n    PermissionStatus _permissionGranted;\n    final GoogleMapController? controller = await _controller.future;\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\n    _serviceEnabled = await location.serviceEnabled();\n\n    if (!_serviceEnabled) {\n      _serviceEnabled = await location.requestService();\n      if (!_serviceEnabled) {\n        return;\n      }\n    }\n\n    _permissionGranted = await location.hasPermission();\n    if (_permissionGranted == PermissionStatus.denied) {\n      _permissionGranted = await location.requestPermission();\n      if (_permissionGranted != PermissionStatus.granted) {\n        return;\n      }\n    }\n    if (_permissionGranted == loc.PermissionStatus.granted) {\n      _currentPosition = await location.getLocation();\n      curLocation =\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\n      locationSubscription =\n          location.onLocationChanged.listen((LocationData currentLocation) {\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\n          zoom: 16,\n        )));\n        if (mounted) {\n          controller\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\n          setState(() {\n            curLocation =\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\n            sourcePosition = Marker(\n              markerId: MarkerId(currentLocation.toString()),\n              icon: BitmapDescriptor.defaultMarkerWithHue(\n                  BitmapDescriptor.hueBlue),\n              position:\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\n              infoWindow: InfoWindow(\n                  title:\n                      '${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km'),\n              onTap: () {\n                print('market tapped');\n              },\n            );\n          });\n          getDirections(LatLng(widget.lat, widget.lang));\n        }\n      });\n    }\n  }\n</code></pre>\n<p>Even though the full code is:-</p>\n<pre><code>import 'dart:async';\nimport 'package:applicationservice/main.dart';\nimport 'package:flutter/gestures.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter_polyline_points/flutter_polyline_points.dart';\nimport 'package:google_maps_flutter/google_maps_flutter.dart';\nimport 'package:location/location.dart';\nimport 'package:location/location.dart' as loc;\nimport 'dart:math' show cos, sqrt, asin;\nimport 'package:url_launcher/url_launcher.dart';\n\nclass MainScreen extends StatefulWidget {\n  final double lat;\n  final double lang;\n  // const MainScreen({super.key, required this.lat, required this.lang});\n  MainScreen(this.lat, this.lang);\n\n  @override\n  State&lt;MainScreen&gt; createState() =&gt; _MainScreenState();\n}\n\nconst String google_api_key = &quot;AIzaSyAnpCS9K.......kabKsMAZzsQ&quot;;\n\nclass _MainScreenState extends State&lt;MainScreen&gt; {\n  final Completer&lt;GoogleMapController&gt; _controller = Completer();\n  Map&lt;PolylineId, Polyline&gt; polylines = {};\n  PolylinePoints polylinePoints = PolylinePoints();\n  Location location = Location();\n  Marker? sourcePosition, destinationPosition;\n  loc.LocationData? _currentPosition;\n  LatLng curLocation = LatLng(32.8945, 13.1807);\n  StreamSubscription&lt;loc.LocationData&gt;? locationSubscription;\n// تحديث الموقع\n\n  @override\n  void initState() {\n    super.initState();\n    addMarker();\n    getNavigation();\n  }\n\n  @override\n  void dispose() {\n    locationSubscription?.cancel();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        body: sourcePosition == null\n            ? Center(child: CircularProgressIndicator())\n            : Stack(\n                children: [\n                  GoogleMap(\n                    zoomControlsEnabled: false,\n                    polylines: Set&lt;Polyline&gt;.of(polylines.values),\n                    initialCameraPosition: CameraPosition(\n                      target: curLocation,\n                      zoom: 16,\n                    ),\n                    markers: {sourcePosition!, destinationPosition!},\n                    onTap: (latLng) {\n                      print(latLng);\n                    },\n                    onMapCreated: (GoogleMapController controller) {\n                      _controller.complete(controller);\n                    },\n                  ),\n                  Positioned(\n                    top: 30,\n                    left: 15,\n                    child: GestureDetector(\n                      onTap: () {\n                        Navigator.of(context).pushAndRemoveUntil(\n                            MaterialPageRoute(builder: (context) =&gt; MyApp()),\n                            (route) =&gt; false);\n                      },\n                      child: Icon(Icons.arrow_back),\n                    ),\n                  ),\n                  Positioned(\n                    bottom: 10,\n                    right: 10,\n                    child: Container(\n                      width: 50,\n                      height: 50,\n                      decoration: BoxDecoration(\n                          shape: BoxShape.circle, color: Colors.blue),\n                      child: Center(\n                          child: IconButton(\n                        icon: Icon(\n                          Icons.navigation_outlined,\n                          color: Colors.white,\n                        ),\n                        onPressed: () async {\n                          await launchUrl(Uri.parse(\n                              'google.navigation:q=${widget.lat},${widget.lang}&amp;key=AIzaSyAnpCS9K8F......pZNb_kabKsMAZzsQ'));\n                        },\n                      )),\n                    ),\n                  )\n                ],\n              ));\n  }\n\n  getNavigation() async {\n    bool _serviceEnabled;\n    PermissionStatus _permissionGranted;\n    final GoogleMapController? controller = await _controller.future;\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\n    _serviceEnabled = await location.serviceEnabled();\n\n    if (!_serviceEnabled) {\n      _serviceEnabled = await location.requestService();\n      if (!_serviceEnabled) {\n        return;\n      }\n    }\n\n    _permissionGranted = await location.hasPermission();\n    if (_permissionGranted == PermissionStatus.denied) {\n      _permissionGranted = await location.requestPermission();\n      if (_permissionGranted != PermissionStatus.granted) {\n        return;\n      }\n    }\n    if (_permissionGranted == loc.PermissionStatus.granted) {\n      _currentPosition = await location.getLocation();\n      curLocation =\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\n      locationSubscription =\n          location.onLocationChanged.listen((LocationData currentLocation) {\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\n          zoom: 16,\n        )));\n        if (mounted) {\n          controller\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\n          setState(() {\n            curLocation =\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\n            sourcePosition = Marker(\n              markerId: MarkerId(currentLocation.toString()),\n              icon: BitmapDescriptor.defaultMarkerWithHue(\n                  BitmapDescriptor.hueBlue),\n              position:\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\n              infoWindow: InfoWindow(\n                  title:\n                      '${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km'),\n              onTap: () {\n                print('market tapped');\n              },\n            );\n          });\n          getDirections(LatLng(widget.lat, widget.lang));\n        }\n      });\n    }\n  }\n\n  getDirections(LatLng dst) async {\n    List&lt;LatLng&gt; polylineCoordinates = [];\n    List&lt;dynamic&gt; points = [];\n    PolylineResult result = await polylinePoints.getRouteBetweenCoordinates(\n        google_api_key,\n        PointLatLng(curLocation.latitude, curLocation.longitude),\n        PointLatLng(dst.latitude, dst.longitude),\n        travelMode: TravelMode.driving);\n    if (result.points.isNotEmpty) {\n      result.points.forEach((PointLatLng point) {\n        polylineCoordinates.add(LatLng(point.latitude, point.longitude));\n        points.add({'lat': point.latitude, 'lng': point.longitude});\n      });\n    } else {\n      print(result.errorMessage);\n    }\n    addPolyLine(polylineCoordinates);\n  }\n\n  addPolyLine(List&lt;LatLng&gt; polylineCoordinates) {\n    PolylineId id = PolylineId('poly');\n    Polyline polyline = Polyline(\n      polylineId: id,\n      color: Colors.blue,\n      points: polylineCoordinates,\n      width: 5,\n    );\n    polylines[id] = polyline;\n    setState(() {});\n  }\n\n  double calculateDistance(lat1, lon1, lat2, lon2) {\n    var p = 0.017453292519943295;\n    var c = cos;\n    var a = 0.5 -\n        c((lat2 - lat1) * p) / 2 +\n        c(lat1 * p) * c(lat2 * p) * (1 - c((lon2 - lon1) * p)) / 2;\n    return 12742 * asin(sqrt(a));\n  }\n\n  double getDistance(LatLng destposition) {\n    return calculateDistance(curLocation.latitude, curLocation.longitude,\n        destposition.latitude, destposition.longitude);\n  }\n\n  addMarker() {\n    setState(() {\n      sourcePosition = Marker(\n        markerId: MarkerId('source'),\n        position: curLocation,\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueAzure),\n      );\n      destinationPosition = Marker(\n        markerId: MarkerId('destination'),\n        position: LatLng(widget.lat, widget.lang),\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueCyan),\n      );\n    });\n  }\n}\n\n</code></pre>\n<p>your help is very appreciated, thanks.</p>\n"},{"tags":["java","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":8838439,"reputation":728,"user_id":6601645,"accept_rate":100,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1536830145,"creation_date":1536830145,"answer_id":52310468,"question_id":52307471,"body_markdown":"I think GCP did not provide an API to map a project ID to a project number. But they did provide a [project list API][1], after you get the list of the projects. You can map the project number by yourself.\r\n\r\n\r\n  [1]: https://cloud.google.com/resource-manager/docs/creating-managing-projects#listing_projects","title":"Get Google Cloud Project Number using its Id","body":"<p>I think GCP did not provide an API to map a project ID to a project number. But they did provide a <a href=\"https://cloud.google.com/resource-manager/docs/creating-managing-projects#listing_projects\" rel=\"noreferrer\">project list API</a>, after you get the list of the projects. You can map the project number by yourself.</p>\n"},{"tags":[],"owner":{"account_id":15320004,"reputation":371,"user_id":11052778,"display_name":"erkolson"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1633015047,"creation_date":1549999997,"answer_id":54657449,"question_id":52307471,"body_markdown":"Not sure why they don&#39;t expose it directly, but you can do this (assuming your current configuration project corresponds to the desired project number):\r\n\r\n```console\r\ngcloud projects list \\\r\n--filter=&quot;$(gcloud config get-value project)&quot; \\\r\n--format=&quot;value(PROJECT_NUMBER)&quot;\r\n```","title":"Get Google Cloud Project Number using its Id","body":"<p>Not sure why they don't expose it directly, but you can do this (assuming your current configuration project corresponds to the desired project number):</p>\n<pre><code>gcloud projects list \\\n--filter=&quot;$(gcloud config get-value project)&quot; \\\n--format=&quot;value(PROJECT_NUMBER)&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666372599,"creation_date":1594323378,"answer_id":62822411,"question_id":52307471,"body_markdown":"There is an API now.\r\n\r\nThe jar version of the cloudresourcemanager java library supports it directly, as in the example here https://cloud.google.com/resource-manager/reference/rest/v1/projects/get\r\n\r\nWith maven dependencies, you can do\r\n\r\npom.xml\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-cloudresourcemanager --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-api-services-cloudresourcemanager&lt;/artifactId&gt;\r\n    &lt;version&gt;v2-rev20200617-1.30.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nCloudResourceManagerExample.java (adapted from the example by Google)\r\n```\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.services.cloudresourcemanager.CloudResourceManager;\r\nimport com.google.api.services.cloudresourcemanager.model.Project;\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Arrays;\r\n\r\nimport org.apache.commons.io.IOUtils\r\nimport com.google.api.client.http.GenericUrl;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class CloudResourceManagerExample {\r\n  public static void main(String args[]) throws IOException, GeneralSecurityException {\r\n    // The Project ID (for example, `my-project-123`).\r\n    // Required.\r\n    String projectId = &quot;my-project-id&quot;; // TODO: Update placeholder value.\r\n\r\n    CloudResourceManager cloudResourceManagerService = createCloudResourceManagerService();\r\n\r\n    String response = IOUtils.toString(cloudResourceManagerService.getRequestFactory().buildGetRequest(new GenericUrl(&quot;https://cloudresourcemanager.googleapis.com/v1/projects/&quot; + projectId)).execute().getContent(), StandardCharsets.UTF_8);\r\n\r\n    // TODO: Change code below to process the `response` object:\r\n    System.out.println(response);\r\n  }\r\n\r\n  public static CloudResourceManager createCloudResourceManagerService()\r\n      throws IOException, GeneralSecurityException {\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n\r\n    GoogleCredential credential = GoogleCredential.getApplicationDefault();\r\n    if (credential.createScopedRequired()) {\r\n      credential =\r\n          credential.createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n    }\r\n\r\n    return new CloudResourceManager.Builder(httpTransport, jsonFactory, credential)\r\n        .setApplicationName(&quot;Google-CloudResourceManagerSample/0.1&quot;)\r\n        .build();\r\n  }\r\n}\r\n```\r\n\r\n`response` will be something like `{&quot;projectNumber&quot;: &quot;123456&quot;, ...}`\r\n\r\nIn python you can do\r\n\r\n```\r\n# python3 -m pip install google.auth google-api-python-client\r\n# from https://github.com/GoogleCloudPlatform/python-docs-samples/blob/main/iam/api-client/quickstart.py\r\nimport google.auth\r\nimport googleapiclient.discovery\r\ndef initialize_service():\r\n    &quot;&quot;&quot;Initializes a Cloud Resource Manager service.&quot;&quot;&quot;\r\n\r\n    credentials, _ = google.auth.default(\r\n        scopes=[&quot;https://www.googleapis.com/auth/cloud-platform&quot;]\r\n    )\r\n    crm_service = googleapiclient.discovery.build(\r\n        &quot;cloudresourcemanager&quot;, &quot;v1&quot;, credentials=credentials\r\n    )\r\n    return crm_service\r\n\r\ncrm_service = initialize_service()\r\nproject = r.get(projectId=MY_PROJECT_ID).execute()\r\n```","title":"Get Google Cloud Project Number using its Id","body":"<p>There is an API now.</p>\n<p>The jar version of the cloudresourcemanager java library supports it directly, as in the example here <a href=\"https://cloud.google.com/resource-manager/reference/rest/v1/projects/get\" rel=\"nofollow noreferrer\">https://cloud.google.com/resource-manager/reference/rest/v1/projects/get</a></p>\n<p>With maven dependencies, you can do</p>\n<p>pom.xml</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-cloudresourcemanager --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-services-cloudresourcemanager&lt;/artifactId&gt;\n    &lt;version&gt;v2-rev20200617-1.30.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>CloudResourceManagerExample.java (adapted from the example by Google)</p>\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.cloudresourcemanager.CloudResourceManager;\nimport com.google.api.services.cloudresourcemanager.model.Project;\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.Arrays;\n\nimport org.apache.commons.io.IOUtils\nimport com.google.api.client.http.GenericUrl;\nimport java.nio.charset.StandardCharsets;\n\npublic class CloudResourceManagerExample {\n  public static void main(String args[]) throws IOException, GeneralSecurityException {\n    // The Project ID (for example, `my-project-123`).\n    // Required.\n    String projectId = &quot;my-project-id&quot;; // TODO: Update placeholder value.\n\n    CloudResourceManager cloudResourceManagerService = createCloudResourceManagerService();\n\n    String response = IOUtils.toString(cloudResourceManagerService.getRequestFactory().buildGetRequest(new GenericUrl(&quot;https://cloudresourcemanager.googleapis.com/v1/projects/&quot; + projectId)).execute().getContent(), StandardCharsets.UTF_8);\n\n    // TODO: Change code below to process the `response` object:\n    System.out.println(response);\n  }\n\n  public static CloudResourceManager createCloudResourceManagerService()\n      throws IOException, GeneralSecurityException {\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n\n    GoogleCredential credential = GoogleCredential.getApplicationDefault();\n    if (credential.createScopedRequired()) {\n      credential =\n          credential.createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\n    }\n\n    return new CloudResourceManager.Builder(httpTransport, jsonFactory, credential)\n        .setApplicationName(&quot;Google-CloudResourceManagerSample/0.1&quot;)\n        .build();\n  }\n}\n</code></pre>\n<p><code>response</code> will be something like <code>{&quot;projectNumber&quot;: &quot;123456&quot;, ...}</code></p>\n<p>In python you can do</p>\n<pre><code># python3 -m pip install google.auth google-api-python-client\n# from https://github.com/GoogleCloudPlatform/python-docs-samples/blob/main/iam/api-client/quickstart.py\nimport google.auth\nimport googleapiclient.discovery\ndef initialize_service():\n    &quot;&quot;&quot;Initializes a Cloud Resource Manager service.&quot;&quot;&quot;\n\n    credentials, _ = google.auth.default(\n        scopes=[&quot;https://www.googleapis.com/auth/cloud-platform&quot;]\n    )\n    crm_service = googleapiclient.discovery.build(\n        &quot;cloudresourcemanager&quot;, &quot;v1&quot;, credentials=credentials\n    )\n    return crm_service\n\ncrm_service = initialize_service()\nproject = r.get(projectId=MY_PROJECT_ID).execute()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":973980,"reputation":53285,"user_id":995862,"accept_rate":89,"display_name":"Kurt Peek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596802933,"creation_date":1596802933,"answer_id":63301790,"question_id":52307471,"body_markdown":"Although this question is for Java, for those who might find it useful, here is a program to obtain a Google Project number from its ID in Go as well:\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t&quot;context&quot;\r\n\t&quot;flag&quot;\r\n\t&quot;fmt&quot;\r\n\t&quot;log&quot;\r\n\r\n\t&quot;google.golang.org/api/cloudresourcemanager/v1&quot;\r\n)\r\n\r\nvar projectID string\r\n\r\nfunc main() {\r\n\tflag.StringVar(&amp;projectID, &quot;projectID&quot;, &quot;&quot;, &quot;Google Cloud Project ID&quot;)\r\n\tflag.Parse()\r\n\r\n\tcloudresourcemanagerService, err := cloudresourcemanager.NewService(context.Background())\r\n\tif err != nil {\r\n\t\tlog.Fatalf(&quot;NewService: %v&quot;, err)\r\n\t}\r\n\r\n\tproject, err := cloudresourcemanagerService.Projects.Get(projectID).Do()\r\n\tif err != nil {\r\n\t\tlog.Fatalf(&quot;Get project: %v&quot;, err)\r\n\t}\r\n\r\n\tfmt.Printf(&quot;Project number for project %s: %d\\n&quot;, projectID, project.ProjectNumber)\r\n}\r\n```\r\n\r\nYou can run it like so:\r\n\r\n```\r\n&gt; go run main.go --projectID=&quot;my-project&quot;\r\nProject number for project my-project: 123456789817\r\n```\r\n\r\n(Note that this example uses Google Application Default Credentials (cf. https://godoc.org/google.golang.org/api/cloudresourcemanager/v1#hdr-Creating_a_client)).","title":"Get Google Cloud Project Number using its Id","body":"<p>Although this question is for Java, for those who might find it useful, here is a program to obtain a Google Project number from its ID in Go as well:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport (\n    &quot;context&quot;\n    &quot;flag&quot;\n    &quot;fmt&quot;\n    &quot;log&quot;\n\n    &quot;google.golang.org/api/cloudresourcemanager/v1&quot;\n)\n\nvar projectID string\n\nfunc main() {\n    flag.StringVar(&amp;projectID, &quot;projectID&quot;, &quot;&quot;, &quot;Google Cloud Project ID&quot;)\n    flag.Parse()\n\n    cloudresourcemanagerService, err := cloudresourcemanager.NewService(context.Background())\n    if err != nil {\n        log.Fatalf(&quot;NewService: %v&quot;, err)\n    }\n\n    project, err := cloudresourcemanagerService.Projects.Get(projectID).Do()\n    if err != nil {\n        log.Fatalf(&quot;Get project: %v&quot;, err)\n    }\n\n    fmt.Printf(&quot;Project number for project %s: %d\\n&quot;, projectID, project.ProjectNumber)\n}\n</code></pre>\n<p>You can run it like so:</p>\n<pre><code>&gt; go run main.go --projectID=&quot;my-project&quot;\nProject number for project my-project: 123456789817\n</code></pre>\n<p>(Note that this example uses Google Application Default Credentials (cf. <a href=\"https://godoc.org/google.golang.org/api/cloudresourcemanager/v1#hdr-Creating_a_client\" rel=\"nofollow noreferrer\">https://godoc.org/google.golang.org/api/cloudresourcemanager/v1#hdr-Creating_a_client</a>)).</p>\n"},{"tags":[],"owner":{"account_id":7127475,"reputation":3882,"user_id":5449925,"display_name":"houtanb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605211557,"creation_date":1605211557,"answer_id":64811009,"question_id":52307471,"body_markdown":"You can just use `gcloud projects describe &lt;&lt;project_id&gt;&gt;` ([documentation][1])\r\n```\r\n$ gcloud projects describe XXX\r\ncreateTime: ...\r\nlifecycleState: ...\r\nname: ...\r\nparent:\r\n  id: ...\r\n  type: ...\r\nprojectId: XXX\r\nprojectNumber: &#39;YYY&#39;\r\n```\r\n\r\n\r\n  [1]: https://cloud.google.com/sdk/gcloud/reference/projects/describe","title":"Get Google Cloud Project Number using its Id","body":"<p>You can just use <code>gcloud projects describe &lt;&lt;project_id&gt;&gt;</code> (<a href=\"https://cloud.google.com/sdk/gcloud/reference/projects/describe\" rel=\"nofollow noreferrer\">documentation</a>)</p>\n<pre><code>$ gcloud projects describe XXX\ncreateTime: ...\nlifecycleState: ...\nname: ...\nparent:\n  id: ...\n  type: ...\nprojectId: XXX\nprojectNumber: 'YYY'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7004951,"reputation":2471,"user_id":5369706,"display_name":"Jason R Stevens CFA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615662067,"creation_date":1615662067,"answer_id":66617449,"question_id":52307471,"body_markdown":"My answer doesn&#39;t do anything in Java but should work in many environments, i.e. `bash` or `zsh`, using tools most have access to during development or within containerized environments.\r\n\r\nAssuming you&#39;re using some type of build process, you could trivially:\r\n1. throw the following command into a docker container, \r\n2. output the result (the project number) in a build step, and \r\n3. store that in an environment variable for use in additional steps. \r\n\r\n### Using `gcloud`, `grep` , and `awk`\r\n&gt; _This assumes you have the string project name set in the `PROJECT_NAME` environment variable._\r\n\r\nThis is a super simple solution using the Google Cloud SDK and the commonly available CLI tools `grep` and `awk`:\r\n\r\n```sh\r\ngcloud projects list | grep &#39;${PROJECT_NAME} &#39; | awk &#39;{print $3}&#39;\r\n```\r\n\r\n&gt; _Note: I suspect very big accounts with many projects may not want to query the entire list each time an individual project number is required. For those cases [@erkolson&#39;s answer](https://stackoverflow.com/a/54657449) is likely the best solution._","title":"Get Google Cloud Project Number using its Id","body":"<p>My answer doesn't do anything in Java but should work in many environments, i.e. <code>bash</code> or <code>zsh</code>, using tools most have access to during development or within containerized environments.</p>\n<p>Assuming you're using some type of build process, you could trivially:</p>\n<ol>\n<li>throw the following command into a docker container,</li>\n<li>output the result (the project number) in a build step, and</li>\n<li>store that in an environment variable for use in additional steps.</li>\n</ol>\n<h3>Using <code>gcloud</code>, <code>grep</code> , and <code>awk</code></h3>\n<blockquote>\n<p><em>This assumes you have the string project name set in the <code>PROJECT_NAME</code> environment variable.</em></p>\n</blockquote>\n<p>This is a super simple solution using the Google Cloud SDK and the commonly available CLI tools <code>grep</code> and <code>awk</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>gcloud projects list | grep '${PROJECT_NAME} ' | awk '{print $3}'\n</code></pre>\n<blockquote>\n<p><em>Note: I suspect very big accounts with many projects may not want to query the entire list each time an individual project number is required. For those cases <a href=\"https://stackoverflow.com/a/54657449\">@erkolson's answer</a> is likely the best solution.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637667257,"creation_date":1637667257,"answer_id":70080157,"question_id":52307471,"body_markdown":"there are a list of api&#39;s that can provide it, from the command line would be:\r\n\r\n\r\n    gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_NUMBER)&quot;\r\n\r\nit is possible to get also the project id : \r\n\r\n    gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_ID)&quot;","title":"Get Google Cloud Project Number using its Id","body":"<p>there are a list of api's that can provide it, from the command line would be:</p>\n<pre><code>gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_NUMBER)&quot;\n</code></pre>\n<p>it is possible to get also the project id :</p>\n<pre><code>gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_ID)&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25577404,"reputation":91,"user_id":19356577,"display_name":"Ben K"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1655444517,"creation_date":1655444517,"answer_id":72654784,"question_id":52307471,"body_markdown":"This gcloud command will return the project number: \r\n \r\n\r\n    gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;\r\n\r\nYou can then use this in a command to grant access such as:\r\n\r\n    gcloud projects add-iam-policy-binding $PROJECT_ID  --member=serviceAccount:$(gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;)@@storage-transfer-service.iam.gserviceaccount.com --role=roles/storage.legacyBucketWriter\r\n\r\n\r\n","title":"Get Google Cloud Project Number using its Id","body":"<p>This gcloud command will return the project number:</p>\n<pre><code>gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;\n</code></pre>\n<p>You can then use this in a command to grant access such as:</p>\n<pre><code>gcloud projects add-iam-policy-binding $PROJECT_ID  --member=serviceAccount:$(gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;)@@storage-transfer-service.iam.gserviceaccount.com --role=roles/storage.legacyBucketWriter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9215343,"reputation":928,"user_id":6846706,"display_name":"tidakdiinginkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690338635,"creation_date":1690338635,"answer_id":76767644,"question_id":52307471,"body_markdown":"Ensure you install the following package:\r\n```\r\npip install google-cloud-resource-manager\r\n```\r\n\r\nSource code:\r\n```\r\nfrom google.cloud import resourcemanager_v3\r\n\r\ndef get_project_number(project_id):\r\n    client = resourcemanager_v3.ProjectsClient()\r\n    project = client.get_project(name=f&quot;projects/{project_id}&quot;).name\r\n    return project.split(&#39;/&#39;)[-1]\r\n\r\nproject_id = &#39;myprojectid&#39;\r\nproject_number = get_project_number(project_id)\r\nprint(f&quot;The project number for project {project_id} is: {project_number}&quot;)\r\n```","title":"Get Google Cloud Project Number using its Id","body":"<p>Ensure you install the following package:</p>\n<pre><code>pip install google-cloud-resource-manager\n</code></pre>\n<p>Source code:</p>\n<pre><code>from google.cloud import resourcemanager_v3\n\ndef get_project_number(project_id):\n    client = resourcemanager_v3.ProjectsClient()\n    project = client.get_project(name=f&quot;projects/{project_id}&quot;).name\n    return project.split('/')[-1]\n\nproject_id = 'myprojectid'\nproject_number = get_project_number(project_id)\nprint(f&quot;The project number for project {project_id} is: {project_number}&quot;)\n</code></pre>\n"}],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28943,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":52310468,"answer_count":9,"score":23,"last_activity_date":1690338635,"creation_date":1536818312,"question_id":52307471,"body_markdown":"I have Google Cloud Service account and projectId and want to get projectNumber programmatically from Java.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I get it?\r\n\r\n\r\nBasically I have Service Account and want to use it for granting role &quot;roles/storage.legacyBucketWriter&quot; for the account &quot;project-XXXXXXX@storage-transfer-service.iam.gserviceaccount.com&quot; in the Google Cloud Storage Bucket.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V8aQt.png","title":"Get Google Cloud Project Number using its Id","body":"<p>I have Google Cloud Service account and projectId and want to get projectNumber programmatically from Java.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V8aQt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V8aQt.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I get it?</p>\n\n<p>Basically I have Service Account and want to use it for granting role \"roles/storage.legacyBucketWriter\" for the account \"project-XXXXXXX@storage-transfer-service.iam.gserviceaccount.com\" in the Google Cloud Storage Bucket.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","converters"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1502888458,"post_id":45714200,"comment_id":78386613,"body_markdown":"JPA 2.2 allows injecting properties into `AttributeConverters` using CDI, so if you are using an implementation that supports that you could give a converter some state. Other than that, no.","body":"JPA 2.2 allows injecting properties into <code>AttributeConverters</code> using CDI, so if you are using an implementation that supports that you could give a converter some state. Other than that, no."},{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1502892667,"post_id":45714200,"comment_id":78389733,"body_markdown":"i feel design misconception, such conversion is possible, but I&#39;m not sure best at entity level","body":"i feel design misconception, such conversion is possible, but I&#39;m not sure best at entity level"},{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1502893183,"post_id":45714200,"comment_id":78390170,"body_markdown":"Maybe this post will be useful https://stackoverflow.com/a/45628612","body":"Maybe this post will be useful <a href=\"https://stackoverflow.com/a/45628612\">stackoverflow.com/a/45628612</a>"}],"answers":[{"tags":[],"owner":{"account_id":7146992,"reputation":3381,"user_id":5462372,"accept_rate":64,"display_name":"MSS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690338582,"creation_date":1507451083,"answer_id":46629012,"question_id":45714200,"body_markdown":"You can achieve this by writing an abstract class `SomeAbstractClass` for your entity with `equal` and `hashcode` methods implemented. It can also have a property to store the state. Now your concrete implementation `SomeClass1` can implement this abstract class and add further details.\r\n\r\n```java\r\npublic SomeClass1 extends SomeAbstractClass {\r\n}\r\n\r\npublic SomeClass2 extends SomeAbstractClass {\r\n}\r\n```\r\n\r\nNow for [Converter](https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/Converter.html) class (implementing [AttributeConverter](https://docs.oracle.com/javaee/7/api/javax/persistence/AttributeConverter.html):\r\n\r\n```java\r\n@Converter(autoApply = true)\r\npublic class JsonListConverter implements AttributeConverter&lt;SomeAbstractClass, String&gt; {\r\n    \r\n    @override\r\n    public String convertToDatabaseColumn (SomeAbstractClass sac) {\r\n        // Your implementation goes here\r\n    }\r\n\r\n    @override\r\n    public SomeAbstractClass convertToEntityAttribute (String s) {\r\n        //check to find if s can be SomeClass1\r\n        if (checkSomeClass1(s)) { \r\n            // return an instance of SomeClass1\r\n        } else {\r\n            // return an instance of SomeClass2\r\n        }\r\n    }\r\n}\r\n```","title":"Specify particular instance of converter to use in JPA entity instead of class","body":"<p>You can achieve this by writing an abstract class <code>SomeAbstractClass</code> for your entity with <code>equal</code> and <code>hashcode</code> methods implemented. It can also have a property to store the state. Now your concrete implementation <code>SomeClass1</code> can implement this abstract class and add further details.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SomeClass1 extends SomeAbstractClass {\n}\n\npublic SomeClass2 extends SomeAbstractClass {\n}\n</code></pre>\n<p>Now for <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/Converter.html\" rel=\"nofollow noreferrer\">Converter</a> class (implementing <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/AttributeConverter.html\" rel=\"nofollow noreferrer\">AttributeConverter</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class JsonListConverter implements AttributeConverter&lt;SomeAbstractClass, String&gt; {\n    \n    @override\n    public String convertToDatabaseColumn (SomeAbstractClass sac) {\n        // Your implementation goes here\n    }\n\n    @override\n    public SomeAbstractClass convertToEntityAttribute (String s) {\n        //check to find if s can be SomeClass1\n        if (checkSomeClass1(s)) { \n            // return an instance of SomeClass1\n        } else {\n            // return an instance of SomeClass2\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5412293,"reputation":2188,"user_id":4308639,"accept_rate":73,"display_name":"Ruslan Akhundov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46629012,"answer_count":1,"score":0,"last_activity_date":1690338582,"creation_date":1502888312,"question_id":45714200,"body_markdown":"I have some jpa entity I store in database and it has a field which contains some data in json for example.\r\n\r\n    @Convert(converter = JsonConverter.class)\r\n    public SomeClass entities;\r\n\r\nand `JsonConverter` is smth like:\r\n\r\n    @Converter(autoApply = true)\r\n    public class JsonListConverter implements AttributeConverter&lt;T, String&gt; {\r\n    \r\n    }\r\n\r\nWhat I want to do is to add some constructor to this converter, initialize it with some type(and may be state), and then use it for jpa converting.\r\n\r\nSo is it possible to specify some particular instance of converter using `@Convert` annotation(or some other annotation) instead of specifying class?\r\n\r\nI want to be able to do this because in different entities I can have different json fields, like array of entities or set, or smth else, so I don&#39;t want to write separate converters to cover all cases, because code is the same for all of them, they differ only in generic type and some fields that should be initialized inside before converting.","title":"Specify particular instance of converter to use in JPA entity instead of class","body":"<p>I have some jpa entity I store in database and it has a field which contains some data in json for example.</p>\n\n<pre><code>@Convert(converter = JsonConverter.class)\npublic SomeClass entities;\n</code></pre>\n\n<p>and <code>JsonConverter</code> is smth like:</p>\n\n<pre><code>@Converter(autoApply = true)\npublic class JsonListConverter implements AttributeConverter&lt;T, String&gt; {\n\n}\n</code></pre>\n\n<p>What I want to do is to add some constructor to this converter, initialize it with some type(and may be state), and then use it for jpa converting.</p>\n\n<p>So is it possible to specify some particular instance of converter using <code>@Convert</code> annotation(or some other annotation) instead of specifying class?</p>\n\n<p>I want to be able to do this because in different entities I can have different json fields, like array of entities or set, or smth else, so I don't want to write separate converters to cover all cases, because code is the same for all of them, they differ only in generic type and some fields that should be initialized inside before converting.</p>\n"},{"tags":["java","string","variables","printing","println"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":3,"creation_date":1381877896,"post_id":19392481,"comment_id":28742856,"body_markdown":"try simple: `System.out.println(&quot;randomtext&quot; + var);` - this will automatically call toString method of var object","body":"try simple: <code>System.out.println(&quot;randomtext&quot; + var);</code> - this will automatically call toString method of var object"}],"answers":[{"tags":[],"owner":{"account_id":1897099,"reputation":1685,"user_id":1713801,"display_name":"alterfox"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633949561,"creation_date":1381877801,"answer_id":19392488,"question_id":19392481,"body_markdown":"    System.out.println(String.format(&quot;randomtext %s&quot;, var));","title":"How to println a string and variable within the same parameters","body":"<pre><code>System.out.println(String.format(&quot;randomtext %s&quot;, var));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381877900,"creation_date":1381877900,"answer_id":19392510,"question_id":19392481,"body_markdown":"You can concatenate the two strings together; the overloaded [`println` methods][1] take at most one parameter.\r\n\r\n    System.out.println(&quot;randomtext&quot; + var);\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html#println()","title":"How to println a string and variable within the same parameters","body":"<p>You can concatenate the two strings together; the overloaded <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html#println%28%29\" rel=\"nofollow\"><code>println</code> methods</a> take at most one parameter.</p>\n\n<pre><code>System.out.println(\"randomtext\" + var);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1381878762,"creation_date":1381877913,"answer_id":19392512,"question_id":19392481,"body_markdown":"You either need to use + to concatenate, or use String.format to format a string or similar.\r\n\r\nThe easiest is to do concatenation:\r\n\r\n    System.out.println(&quot;randomtext&quot; + var);\r\n\r\nSome people often use `System.out.printf` which works the same way as `String.format` if you have a big messy string you want to concatenate:\r\n\r\n    System.out.printf(&quot;This is %s lot of information about %d and %s&quot;, var, integer, stringVar);\r\n\r\nWhen using String.format the most important formatters you need to know is `%s` for Strings, `%f` for floating-point numbers, `%d` for integers.\r\n\r\nMore information about how to use String.format can be found in the [documentation about Formatter][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax","title":"How to println a string and variable within the same parameters","body":"<p>You either need to use + to concatenate, or use String.format to format a string or similar.</p>\n\n<p>The easiest is to do concatenation:</p>\n\n<pre><code>System.out.println(\"randomtext\" + var);\n</code></pre>\n\n<p>Some people often use <code>System.out.printf</code> which works the same way as <code>String.format</code> if you have a big messy string you want to concatenate:</p>\n\n<pre><code>System.out.printf(\"This is %s lot of information about %d and %s\", var, integer, stringVar);\n</code></pre>\n\n<p>When using String.format the most important formatters you need to know is <code>%s</code> for Strings, <code>%f</code> for floating-point numbers, <code>%d</code> for integers.</p>\n\n<p>More information about how to use String.format can be found in the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">documentation about Formatter</a>.</p>\n"},{"tags":[],"owner":{"account_id":29091531,"reputation":1,"user_id":22285241,"display_name":"Chiranjeet Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690337723,"creation_date":1690337723,"answer_id":76767594,"question_id":19392481,"body_markdown":"System.out.print(&quot;The sum of two number would be: &quot;+(num1+num2));","title":"How to println a string and variable within the same parameters","body":"<p>System.out.print(&quot;The sum of two number would be: &quot;+(num1+num2));</p>\n"}],"owner":{"account_id":3442915,"reputation":41,"user_id":2884410,"display_name":"Parker Moore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30379,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1690337723,"creation_date":1381877761,"question_id":19392481,"body_markdown":"I am writing some code right now and I haven&#39;t done this in a while, how would I use the println function to write both a string and a variable?\r\n\r\nI tried the following:\r\n\r\n    System.out.println(&quot;randomtext&quot;var);\r\n\r\nand \r\n\r\n    System.out.println(&quot;randomtext&quot;,var);\r\n\r\nNeither of those seemed to work, what am I doing wrong? How do I do this?","title":"How to println a string and variable within the same parameters","body":"<p>I am writing some code right now and I haven't done this in a while, how would I use the println function to write both a string and a variable?</p>\n\n<p>I tried the following:</p>\n\n<pre><code>System.out.println(\"randomtext\"var);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>System.out.println(\"randomtext\",var);\n</code></pre>\n\n<p>Neither of those seemed to work, what am I doing wrong? How do I do this?</p>\n"},{"tags":["java","oop","dependencies","uml","composition"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1389275459,"post_id":21022012,"comment_id":31598544,"body_markdown":"The quality of those definitions is quite poor. Example: &quot;...dependency between those two classes&quot; &quot;It need not be the same vice-versa&quot; But &quot;between&quot; is an undirected relationship---it is the same vice-versa *by definition of the term **between***.","body":"The quality of those definitions is quite poor. Example: &quot;...dependency between those two classes&quot; &quot;It need not be the same vice-versa&quot; But &quot;between&quot; is an undirected relationship---it is the same vice-versa <i>by definition of the term <b>between</i></b>."},{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":1,"creation_date":1389275513,"post_id":21022012,"comment_id":31598584,"body_markdown":"Can you give me an example in code please :)","body":"Can you give me an example in code please :)"},{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":0,"creation_date":1389275638,"post_id":21022012,"comment_id":31598687,"body_markdown":"@MarkoTopolnik An example of dependecy and composition where I can clearly understand the differance. In code if possible","body":"@MarkoTopolnik An example of dependecy and composition where I can clearly understand the differance. In code if possible"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1389277612,"creation_date":1389275646,"answer_id":21022154,"question_id":21022012,"body_markdown":"Simply put :\r\n\r\nThanks to `Marko Topolnik` for this...\r\n\r\n   1. `Dependency` occurs when one object &quot;is dependent&quot; on another. It can occur with or without a relation between the 2 objects. Actually, one object might not even be knowing that another exists, yet they might be dependent.\r\nExample : The Producer-Consumer problem. The producer need not know that the consumer exists, yet it has to do wait() and notify(). So, &quot;NO&quot; , dependency is not a subset of association.\r\n\r\n   2. `Composition` : Is a type of association in which the &quot;child&quot; object cannot exist without the parent class. i.e, if the child object exists, then it MUST BE IN THE parent Object and nowhere else.\r\n    \r\n   EG: A Car(Parent) has Fuel injection system(child). Now, it makes no sense to have a Fuel Injection system outside a car (it will be of no use). i.e, Fuel injection system cannot exist without the car.\r\n\r\n   3. `Aggregation` : Here, the child object can exist outside the parent object.\r\n    A Car has a Driver. The Driver CAN Exist outside the car. ","title":"Difference between dependency and composition?","body":"<p>Simply put :</p>\n\n<p>Thanks to <code>Marko Topolnik</code> for this...</p>\n\n<ol>\n<li><p><code>Dependency</code> occurs when one object \"is dependent\" on another. It can occur with or without a relation between the 2 objects. Actually, one object might not even be knowing that another exists, yet they might be dependent.\nExample : The Producer-Consumer problem. The producer need not know that the consumer exists, yet it has to do wait() and notify(). So, \"NO\" , dependency is not a subset of association.</p></li>\n<li><p><code>Composition</code> : Is a type of association in which the \"child\" object cannot exist without the parent class. i.e, if the child object exists, then it MUST BE IN THE parent Object and nowhere else.</p>\n\n<p>EG: A Car(Parent) has Fuel injection system(child). Now, it makes no sense to have a Fuel Injection system outside a car (it will be of no use). i.e, Fuel injection system cannot exist without the car.</p></li>\n<li><p><code>Aggregation</code> : Here, the child object can exist outside the parent object.\nA Car has a Driver. The Driver CAN Exist outside the car. </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2234135,"reputation":22149,"user_id":1971013,"accept_rate":71,"display_name":"meaning-matters"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1389275665,"creation_date":1389275665,"answer_id":21022162,"question_id":21022012,"body_markdown":"The difference can be seen in the two constructors:\r\n\r\n* **Dependency**: The `Address` object comes from **outside**, it&#39;s allocated somewhere else.  This means that the `Address` and `Employee` objects exists separately, and only **depend** on each other.\r\n\r\n* **Composition**: Here you see that a new `Engine` is created **inside** `Car`.  The `Engine` object is part of the `Car`.  This means that a `Car` is **composed** of an `Engine`.","title":"Difference between dependency and composition?","body":"<p>The difference can be seen in the two constructors:</p>\n\n<ul>\n<li><p><strong>Dependency</strong>: The <code>Address</code> object comes from <strong>outside</strong>, it's allocated somewhere else.  This means that the <code>Address</code> and <code>Employee</code> objects exists separately, and only <strong>depend</strong> on each other.</p></li>\n<li><p><strong>Composition</strong>: Here you see that a new <code>Engine</code> is created <strong>inside</strong> <code>Car</code>.  The <code>Engine</code> object is part of the <code>Car</code>.  This means that a <code>Car</code> is <strong>composed</strong> of an <code>Engine</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2727238,"reputation":1563,"user_id":2351948,"accept_rate":65,"display_name":"kiwicomb123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569983835,"creation_date":1518374985,"answer_id":48735131,"question_id":21022012,"body_markdown":"Dependency refers to usage of objects only within a functions scope.  In other words, instances of the class only exist within the functions (or methods) of the containing class, and are destroyed after functions exit.  \r\n\r\nThe example you gave for Dependency **is not** a Dependency because the Employee class contains an instance of an Address, this is called an Aggregation.  An aggregation is like a Composition except the object can also exist outside of the class which is using it. (It can be located outside the classes scope).\r\nIn your example you are passing a copy of an Address to the Employee constructor. But since it is created outside of the Employee object, the Address may also exist else where in the program.  \r\n\r\nJust as with Aggregation, Composition is where the component object is available to the entire composite object.  This means that all the  methods/functions of the composite object can access the component object. The only difference between Aggregation and Composition is that in Composition the component object only exists inside the composite object and no where else in  the program.  So when the composite object is destroyed, the given component object is also destroyed, and can not exist anywhere else.  In your example, The Car is a composite object and the Engine is a component because that instance of the Engine only exists in that particular Car and no where else.","title":"Difference between dependency and composition?","body":"<p>Dependency refers to usage of objects only within a functions scope.  In other words, instances of the class only exist within the functions (or methods) of the containing class, and are destroyed after functions exit.  </p>\n\n<p>The example you gave for Dependency <strong>is not</strong> a Dependency because the Employee class contains an instance of an Address, this is called an Aggregation.  An aggregation is like a Composition except the object can also exist outside of the class which is using it. (It can be located outside the classes scope).\nIn your example you are passing a copy of an Address to the Employee constructor. But since it is created outside of the Employee object, the Address may also exist else where in the program.  </p>\n\n<p>Just as with Aggregation, Composition is where the component object is available to the entire composite object.  This means that all the  methods/functions of the composite object can access the component object. The only difference between Aggregation and Composition is that in Composition the component object only exists inside the composite object and no where else in  the program.  So when the composite object is destroyed, the given component object is also destroyed, and can not exist anywhere else.  In your example, The Car is a composite object and the Engine is a component because that instance of the Engine only exists in that particular Car and no where else.</p>\n"},{"tags":[],"owner":{"account_id":3532787,"reputation":10557,"user_id":2951835,"accept_rate":80,"display_name":"ahnbizcad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690337669,"creation_date":1690335759,"answer_id":76767482,"question_id":21022012,"body_markdown":"Composition will necessarily, always utilize dependency injection.\r\n\r\nHowever, it is possible to do dependency injection without it constituting composition.\r\n\r\nPractically speaking, if you get to concrete code, whether composition occurs or not is determined by whether your save the argument passed via dependency injection as a member variable in the instantiated object when instantiating or not. If you do, it&#39;s composition. If you don&#39;t, it&#39;s not.\r\n\r\n----\r\n# Definitions\r\nDependency injection in simplified terms is adding a parameter to an capsulating chunk block of code (e.g. class, function, block, etc.), as opposed to using the literal procedural code that would be used without the parameter.\r\n\r\nComposition is when you use a dependency injected parameter/argument upon instantiating the object being composed\r\n\r\n------\r\n\r\n## Dependency injection with composition\r\n\r\nThe Syringe class is composed of Drug, since Syringe saves drug as a member variable. \r\n\r\nAside: `Syringe` could conceivably be composed of multiple dependencies, not just the single drug dependency (pun alert!), but even this degenerate case of a single-dependency composition constitutes composition nonetheless. If it helps, imagine if you had to compose a Syringe object from a `Drug` object as well as a `Needle` object, the needle object having a specific value among many possible gauges and lengths as well.\r\n\r\n```ruby\r\nClass Drug\r\n  def __init__(name)\r\n    @name = name\r\n  end\r\n\r\n  def contents\r\n    return @name\r\n  end\r\nend\r\n\r\nClass Syringe\r\n  def __init__(drug)\r\n    @drug = drug\r\n  end\r\n\r\n  def inject()\r\n    return @drug.name\r\n  end\r\nend\r\n\r\namoxicillin = Drug.new(&#39;amoxicillin&#39;)\r\n#these two lines are the key difference. compare them with the &#39;same&#39; lines in the other other example\r\nsyringe = Syringe.new(amoxicillin) \r\nsyringe.inject() \r\n```\r\n\r\n\r\n## Dependency injection without composition\r\n\r\nThis next example is not composition because it does not save &#39;drug&#39; when instantiating &#39;syringe&#39;.\r\n\r\nInstead, &#39;drug&#39; is used directly in a member function.\r\n\r\n```ruby\r\nClass Drug\r\n  def __init__(name)\r\n    @name = name\r\n  end\r\n\r\n  def contents\r\n    return @name \r\n  end\r\nend\r\n\r\nClass Syringe\r\n  def inject(drug)\r\n    return drug.contents\r\n  end\r\nend\r\n\r\namoxicillin = Drug.new(&#39;amoxicillin&#39;)\r\n#these two lines are the key difference. compare them with the &#39;same&#39; lines in the other other example\r\nsyringe = Syringe.new()\r\nsyringe.inject(amoxicillin)\r\n```\r\n\r\n","title":"Difference between dependency and composition?","body":"<p>Composition will necessarily, always utilize dependency injection.</p>\n<p>However, it is possible to do dependency injection without it constituting composition.</p>\n<p>Practically speaking, if you get to concrete code, whether composition occurs or not is determined by whether your save the argument passed via dependency injection as a member variable in the instantiated object when instantiating or not. If you do, it's composition. If you don't, it's not.</p>\n<hr />\n<h1>Definitions</h1>\n<p>Dependency injection in simplified terms is adding a parameter to an capsulating chunk block of code (e.g. class, function, block, etc.), as opposed to using the literal procedural code that would be used without the parameter.</p>\n<p>Composition is when you use a dependency injected parameter/argument upon instantiating the object being composed</p>\n<hr />\n<h2>Dependency injection with composition</h2>\n<p>The Syringe class is composed of Drug, since Syringe saves drug as a member variable.</p>\n<p>Aside: <code>Syringe</code> could conceivably be composed of multiple dependencies, not just the single drug dependency (pun alert!), but even this degenerate case of a single-dependency composition constitutes composition nonetheless. If it helps, imagine if you had to compose a Syringe object from a <code>Drug</code> object as well as a <code>Needle</code> object, the needle object having a specific value among many possible gauges and lengths as well.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>Class Drug\n  def __init__(name)\n    @name = name\n  end\n\n  def contents\n    return @name\n  end\nend\n\nClass Syringe\n  def __init__(drug)\n    @drug = drug\n  end\n\n  def inject()\n    return @drug.name\n  end\nend\n\namoxicillin = Drug.new('amoxicillin')\n#these two lines are the key difference. compare them with the 'same' lines in the other other example\nsyringe = Syringe.new(amoxicillin) \nsyringe.inject() \n</code></pre>\n<h2>Dependency injection without composition</h2>\n<p>This next example is not composition because it does not save 'drug' when instantiating 'syringe'.</p>\n<p>Instead, 'drug' is used directly in a member function.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>Class Drug\n  def __init__(name)\n    @name = name\n  end\n\n  def contents\n    return @name \n  end\nend\n\nClass Syringe\n  def inject(drug)\n    return drug.contents\n  end\nend\n\namoxicillin = Drug.new('amoxicillin')\n#these two lines are the key difference. compare them with the 'same' lines in the other other example\nsyringe = Syringe.new()\nsyringe.inject(amoxicillin)\n</code></pre>\n"}],"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20665,"favorite_count":0,"down_vote_count":1,"up_vote_count":33,"accepted_answer_id":21022162,"answer_count":4,"score":32,"last_activity_date":1690337669,"creation_date":1389275247,"question_id":21022012,"body_markdown":"[Definitions taken from here][1]\r\n\r\nDependency\r\n\r\n&gt; Change in structure or behaviour of a class affects the other related\r\n&gt; class, then there is a dependency between those two classes. It need\r\n&gt; not be the same vice-versa. When one class **contains the other** class it\r\n&gt; this happens.\r\n\r\nComposition\r\n\r\n&gt; Composition is a special case of aggregation. In a more specific\r\n&gt; manner, a restricted aggregation is called composition. When an object\r\n&gt; **contains the other** object, if the contained object cannot exist\r\n&gt; without the existence of container object, then it is called\r\n&gt; composition.\r\n\r\n\r\nConcrete examples in Java from [here][2] and [here][3]\r\n\r\nDependency\r\n\r\n    class Employee {\r\n        private Address address;\r\n    \r\n        // constructor \r\n        public Employee( Address newAddress ) {\r\n            this.address = newAddress;\r\n        }\r\n    \r\n        public Address getAddress() {\r\n        return this.address;\r\n        }\r\n        public void setAddress( Address newAddress ) {\r\n            this.address = newAddress;\r\n        }\r\n    }\r\n\r\nComposition\r\n\r\n    final class Car {\r\n    \r\n      private final Engine engine;\r\n    \r\n      Car(EngineSpecs specs) {\r\n        engine = new Engine(specs);\r\n      }\r\n    \r\n      void move() {\r\n        engine.work();\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://javapapers.com/oops/association-aggregation-composition-abstraction-generalization-realization-dependency/\r\n  [2]: https://stackoverflow.com/questions/11881552/implementation-difference-between-aggregation-and-composition-in-java/12431359#12431359\r\n  [3]: https://stackoverflow.com/questions/1638919/how-to-explain-dependency-injection-to-a-5-year-old","title":"Difference between dependency and composition?","body":"<p><a href=\"http://javapapers.com/oops/association-aggregation-composition-abstraction-generalization-realization-dependency/\" rel=\"noreferrer\">Definitions taken from here</a></p>\n\n<p>Dependency</p>\n\n<blockquote>\n  <p>Change in structure or behaviour of a class affects the other related\n  class, then there is a dependency between those two classes. It need\n  not be the same vice-versa. When one class <strong>contains the other</strong> class it\n  this happens.</p>\n</blockquote>\n\n<p>Composition</p>\n\n<blockquote>\n  <p>Composition is a special case of aggregation. In a more specific\n  manner, a restricted aggregation is called composition. When an object\n  <strong>contains the other</strong> object, if the contained object cannot exist\n  without the existence of container object, then it is called\n  composition.</p>\n</blockquote>\n\n<p>Concrete examples in Java from <a href=\"https://stackoverflow.com/questions/11881552/implementation-difference-between-aggregation-and-composition-in-java/12431359#12431359\">here</a> and <a href=\"https://stackoverflow.com/questions/1638919/how-to-explain-dependency-injection-to-a-5-year-old\">here</a></p>\n\n<p>Dependency</p>\n\n<pre><code>class Employee {\n    private Address address;\n\n    // constructor \n    public Employee( Address newAddress ) {\n        this.address = newAddress;\n    }\n\n    public Address getAddress() {\n    return this.address;\n    }\n    public void setAddress( Address newAddress ) {\n        this.address = newAddress;\n    }\n}\n</code></pre>\n\n<p>Composition</p>\n\n<pre><code>final class Car {\n\n  private final Engine engine;\n\n  Car(EngineSpecs specs) {\n    engine = new Engine(specs);\n  }\n\n  void move() {\n    engine.work();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690322878,"post_id":76766525,"comment_id":135336842,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2128094,"reputation":101,"user_id":12816390,"display_name":"user18896654353"},"score":0,"creation_date":1691507398,"post_id":76766525,"comment_id":135499502,"body_markdown":"I have decided its too difficult to get information on spring supports basic things like this, so putting spring on back burner","body":"I have decided its too difficult to get information on spring supports basic things like this, so putting spring on back burner"}],"owner":{"account_id":2128094,"reputation":101,"user_id":12816390,"display_name":"user18896654353"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690336986,"creation_date":1690319368,"question_id":76766525,"body_markdown":"I am trying to get multiple datasources working with spring boot 3, tried hundred changes and can&#39;t find way for it to not give this error\r\n\r\n\r\n```\r\nCaused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)\r\n```\r\n\r\nhere are the properties\r\n\r\n\r\n```\r\nlogging.level.=TRACE\r\nserver.error.include-stacktrace=always\r\nspring.main.banner-mode=off\r\nspring.output.ansi.enabled=always\r\nspring.thymeleaf.enabled=true\r\nspring.thymeleaf.mode=HTML5\r\nspring.thymeleaf.prefix=classpath:/templates/\r\nspring.thymeleaf.suffix=.html\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\r\nserver.port=8080\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=none\r\ndatabaseA.datasource.platform=mysql\r\ndatabaseA.datasource.username=myusername\r\ndatabaseA.datasource.password=mypassword\r\ndatabaseA.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\ndatabaseA.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\ndatabaseA.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\ndatabaseA.datasource.hibernate.jdbc.batch_size=490\r\ndatabaseA.datasource.hibernate.jdbc.fetch_size=490\t\t\t          \r\ndatabaseA.datasource.hibernate.hbm2ddl.auto=none\r\ndatabaseA.datasource.hibernate.show_sql=false\r\ndatabaseA.datasource.hibernate.ddl-auto=none\r\ndatabaseA.datasource.jakarta.persistence.query.timeout=9000\r\ndatabaseB.datasource.platform=mysql\r\ndatabaseB.datasource.username=myusername\r\ndatabaseB.datasource.password=mypassword\r\ndatabaseB.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\ndatabaseB.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\ndatabaseB.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\ndatabaseB.datasource.hibernate.jdbc.batch_size=490\r\ndatabaseB.datasource.hibernate.jdbc.fetch_size=490\t\t\t          \r\ndatabaseB.datasource.hibernate.hbm2ddl.auto=none\r\ndatabaseB.datasource.hibernate.show_sql=false\r\ndatabaseB.datasource.hibernate.ddl-auto=none\r\ndatabaseB.datasource.jakarta.persistence.query.timeout=9000\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.myproject.spring.database;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport jakarta.persistence.EntityManagerFactory;\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n\t\tentityManagerFactoryRef = &quot;databaseBEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;databaseBTransactionManager&quot;,\r\n\t\tbasePackages = {&quot;com.myproject.spring.repository.databaseB&quot;})\r\npublic class DatabaseBDatasourceConfiguration {\r\n\r\n\t   private final static Logger LOG = LoggerFactory.getLogger(DatabaseBDatasourceConfiguration.class);\t\r\n\t\t\t   \r\n\t   @Bean(name=&quot;databaseBDataSourceProperties&quot;)\t   \r\n\t   @ConfigurationProperties(&quot;databaseB.datasource&quot;) \r\n\t   public DataSourceProperties databaseBDataSourceProperties() {\r\n\t\t   DataSourceProperties props = new DataSourceProperties();\r\n\t\t   LOG.debug(&quot;databaseBDataSourceProperties : 200 : props = &quot;+props);\r\n\t\t   return props;\r\n\t   }\r\n\t\t\r\n\r\n\t\t@Bean(name=&quot;databaseBDataSource&quot;) \r\n\t\t@ConfigurationProperties(&quot;databaseB.datasource&quot;)\t\t\r\n\t\tpublic DataSource databaseBDataSource( ) { \r\n\t\t\treturn DataSourceBuilder.create().build();\r\n\t\t}\t\r\n\t\t\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBJdbcTemplate&quot;) \r\n\t\tpublic JdbcTemplate databaseBJdbcTemplate(\r\n\t\t\t\t@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource ) {\r\n\t\t\treturn new JdbcTemplate(dataSource);\r\n\t\t}\t\t\r\n\t\t\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBEntityManagerFactory&quot;)\r\n\t\tpublic LocalContainerEntityManagerFactoryBean databaseBEntityManagerFactory(\r\n\t\t\t\tEntityManagerFactoryBuilder builder ,\r\n\t\t\t\t@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource\r\n\t\t\t\t) {\r\n\t\t\treturn builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseB&quot;).persistenceUnit(&quot;databaseB&quot;).build();\r\n\t\t}\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBTransactionManager&quot;)\r\n\t\tpublic PlatformTransactionManager databaseBTransactionManager(\r\n\t\t\t\t@Qualifier(&quot;databaseBEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n\t\t\treturn new JpaTransactionManager(emf);\r\n\t\t}\t\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBDataSourceTransactionManager&quot;)\r\n\t\t@Autowired\r\n\t\tDataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource) { \r\n\t\t\treturn new DataSourceTransactionManager(dataSource);\r\n\t\t}\r\n}\r\n```\r\n\r\n```\r\npackage com.myproject.spring.database;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\nimport jakarta.persistence.EntityManagerFactory;\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n\t\tentityManagerFactoryRef = &quot;databaseAEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;databaseATransactionManager&quot;,\r\n\t\tbasePackages = {&quot;com.myproject.spring.repository.databaseA&quot;})\r\npublic class DatabaseADatasourceConfiguration {\r\n\r\n\t    private final static Logger LOG = LoggerFactory.getLogger(DatabaseADatasourceConfiguration.class);\t\t\r\n\r\n\t\t@Bean(name=&quot;databaseADataSourceProperties&quot;)\r\n\t    @Primary\t\t\r\n\t\t@ConfigurationProperties(&quot;databaseA.datasource&quot;)\t\r\n\t\tpublic DataSourceProperties databaseADataSourceProperties() {\r\n\t\t\tDataSourceProperties props = new DataSourceProperties();\t\t\t\r\n\t\t\tLOG.debug(&quot;databaseADataSourceProperties : 200 : props = &quot;+props);\r\n\t\t\treturn props;\r\n\t\t}\r\n\r\n\t\t@Bean(name=&quot;databaseADataSource&quot;) \r\n\t\t@Primary\r\n\t\t@ConfigurationProperties(&quot;databaseA.datasource&quot;)\t\t\r\n\t\tpublic DataSource databaseADataSource( ) { \r\n\t\t\treturn DataSourceBuilder.create().build();\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseAJdbcTemplate&quot;) \r\n\t\tpublic JdbcTemplate databaseAJdbcTemplate(\r\n\t\t\t\t@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource ) {\r\n\t\t\treturn new JdbcTemplate(dataSource);\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseAEntityManagerFactory&quot;)\r\n\t\tpublic LocalContainerEntityManagerFactoryBean databaseAEntityManagerFactory(\r\n\t\t\t\tEntityManagerFactoryBuilder builder ,\r\n\t\t\t\t@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource\r\n\t\t\t\t) {\r\n\t\t\treturn builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).persistenceUnit(&quot;databaseA&quot;).build();\r\n\t\t\t//return emfBuilder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).build();\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseATransactionManager&quot;)\r\n\t\tpublic PlatformTransactionManager databaseATransactionManager(\r\n\t\t\t\t@Qualifier(&quot;databaseAEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n\t\t\treturn new JpaTransactionManager(emf);\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseADataSourceTransactionManager&quot;)\r\n\t\t@Autowired\r\n\t\tDataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource) { \r\n\t\t\treturn new DataSourceTransactionManager(dataSource);\r\n\t\t}\t\t\t\t\r\n\r\n}\r\n\r\n```\r\n\r\nI am expecting no errors when spring starts up, its able to auto configure 2 different datasources. In this case both mysql but future one can be oracle or postgres. There shouldn&#39;t be any general properties that don&#39;t map to one datasource or the other","title":"Spring Boot can&#39;t find database settings using multiple datasources","body":"<p>I am trying to get multiple datasources working with spring boot 3, tried hundred changes and can't find way for it to not give this error</p>\n<pre><code>Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'javax.persistence.jdbc.url', 'hibernate.connection.url', or 'hibernate.dialect')\n</code></pre>\n<p>here are the properties</p>\n<pre><code>logging.level.=TRACE\nserver.error.include-stacktrace=always\nspring.main.banner-mode=off\nspring.output.ansi.enabled=always\nspring.thymeleaf.enabled=true\nspring.thymeleaf.mode=HTML5\nspring.thymeleaf.prefix=classpath:/templates/\nspring.thymeleaf.suffix=.html\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\nserver.port=8080\n\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=none\ndatabaseA.datasource.platform=mysql\ndatabaseA.datasource.username=myusername\ndatabaseA.datasource.password=mypassword\ndatabaseA.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\ndatabaseA.datasource.driverClassName=com.mysql.cj.jdbc.Driver\ndatabaseA.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\ndatabaseA.datasource.hibernate.jdbc.batch_size=490\ndatabaseA.datasource.hibernate.jdbc.fetch_size=490                    \ndatabaseA.datasource.hibernate.hbm2ddl.auto=none\ndatabaseA.datasource.hibernate.show_sql=false\ndatabaseA.datasource.hibernate.ddl-auto=none\ndatabaseA.datasource.jakarta.persistence.query.timeout=9000\ndatabaseB.datasource.platform=mysql\ndatabaseB.datasource.username=myusername\ndatabaseB.datasource.password=mypassword\ndatabaseB.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\ndatabaseB.datasource.driverClassName=com.mysql.cj.jdbc.Driver\ndatabaseB.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\ndatabaseB.datasource.hibernate.jdbc.batch_size=490\ndatabaseB.datasource.hibernate.jdbc.fetch_size=490                    \ndatabaseB.datasource.hibernate.hbm2ddl.auto=none\ndatabaseB.datasource.hibernate.show_sql=false\ndatabaseB.datasource.hibernate.ddl-auto=none\ndatabaseB.datasource.jakarta.persistence.query.timeout=9000\n</code></pre>\n<pre><code>package com.myproject.spring.database;\n\nimport javax.sql.DataSource;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport jakarta.persistence.EntityManagerFactory;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;databaseBEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;databaseBTransactionManager&quot;,\n        basePackages = {&quot;com.myproject.spring.repository.databaseB&quot;})\npublic class DatabaseBDatasourceConfiguration {\n\n       private final static Logger LOG = LoggerFactory.getLogger(DatabaseBDatasourceConfiguration.class);   \n               \n       @Bean(name=&quot;databaseBDataSourceProperties&quot;)     \n       @ConfigurationProperties(&quot;databaseB.datasource&quot;) \n       public DataSourceProperties databaseBDataSourceProperties() {\n           DataSourceProperties props = new DataSourceProperties();\n           LOG.debug(&quot;databaseBDataSourceProperties : 200 : props = &quot;+props);\n           return props;\n       }\n        \n\n        @Bean(name=&quot;databaseBDataSource&quot;) \n        @ConfigurationProperties(&quot;databaseB.datasource&quot;)        \n        public DataSource databaseBDataSource( ) { \n            return DataSourceBuilder.create().build();\n        }   \n        \n        \n        @Bean(name=&quot;databaseBJdbcTemplate&quot;) \n        public JdbcTemplate databaseBJdbcTemplate(\n                @Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource ) {\n            return new JdbcTemplate(dataSource);\n        }       \n        \n        \n        @Bean(name=&quot;databaseBEntityManagerFactory&quot;)\n        public LocalContainerEntityManagerFactoryBean databaseBEntityManagerFactory(\n                EntityManagerFactoryBuilder builder ,\n                @Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource\n                ) {\n            return builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseB&quot;).persistenceUnit(&quot;databaseB&quot;).build();\n        }\n        \n        @Bean(name=&quot;databaseBTransactionManager&quot;)\n        public PlatformTransactionManager databaseBTransactionManager(\n                @Qualifier(&quot;databaseBEntityManagerFactory&quot;) EntityManagerFactory emf) {\n            return new JpaTransactionManager(emf);\n        }   \n        \n        @Bean(name=&quot;databaseBDataSourceTransactionManager&quot;)\n        @Autowired\n        DataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource) { \n            return new DataSourceTransactionManager(dataSource);\n        }\n}\n</code></pre>\n<pre><code>package com.myproject.spring.database;\n\nimport javax.sql.DataSource;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport jakarta.persistence.EntityManagerFactory;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;databaseAEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;databaseATransactionManager&quot;,\n        basePackages = {&quot;com.myproject.spring.repository.databaseA&quot;})\npublic class DatabaseADatasourceConfiguration {\n\n        private final static Logger LOG = LoggerFactory.getLogger(DatabaseADatasourceConfiguration.class);      \n\n        @Bean(name=&quot;databaseADataSourceProperties&quot;)\n        @Primary        \n        @ConfigurationProperties(&quot;databaseA.datasource&quot;)    \n        public DataSourceProperties databaseADataSourceProperties() {\n            DataSourceProperties props = new DataSourceProperties();            \n            LOG.debug(&quot;databaseADataSourceProperties : 200 : props = &quot;+props);\n            return props;\n        }\n\n        @Bean(name=&quot;databaseADataSource&quot;) \n        @Primary\n        @ConfigurationProperties(&quot;databaseA.datasource&quot;)        \n        public DataSource databaseADataSource( ) { \n            return DataSourceBuilder.create().build();      \n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseAJdbcTemplate&quot;) \n        public JdbcTemplate databaseAJdbcTemplate(\n                @Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource ) {\n            return new JdbcTemplate(dataSource);\n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseAEntityManagerFactory&quot;)\n        public LocalContainerEntityManagerFactoryBean databaseAEntityManagerFactory(\n                EntityManagerFactoryBuilder builder ,\n                @Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource\n                ) {\n            return builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).persistenceUnit(&quot;databaseA&quot;).build();\n            //return emfBuilder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).build();            \n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseATransactionManager&quot;)\n        public PlatformTransactionManager databaseATransactionManager(\n                @Qualifier(&quot;databaseAEntityManagerFactory&quot;) EntityManagerFactory emf) {\n            return new JpaTransactionManager(emf);\n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseADataSourceTransactionManager&quot;)\n        @Autowired\n        DataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource) { \n            return new DataSourceTransactionManager(dataSource);\n        }               \n\n}\n\n</code></pre>\n<p>I am expecting no errors when spring starts up, its able to auto configure 2 different datasources. In this case both mysql but future one can be oracle or postgres. There shouldn't be any general properties that don't map to one datasource or the other</p>\n"},{"tags":["java","android","libgdx","blur"],"comments":[{"owner":{"account_id":950085,"reputation":2784,"user_id":1356124,"accept_rate":54,"display_name":"Igor Kostenko"},"score":2,"creation_date":1383909902,"post_id":19085126,"comment_id":29534408,"body_markdown":"How do you make Gaussian blur on image?","body":"How do you make Gaussian blur on image?"}],"answers":[{"tags":[],"owner":{"account_id":357505,"reputation":1096,"user_id":697711,"display_name":"SpacePrez"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1389047344,"creation_date":1389047344,"answer_id":20960512,"question_id":19085126,"body_markdown":"I&#39;m late to the party but this is EXACTLY what you&#39;re looking for:\r\n\r\nhttps://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5\r\n\r\nRender to a field buffer object using a shader to create the blur, then draw it from the frame buffer onto the screen.","title":"Blur the screen in LibGDX","body":"<p>I'm late to the party but this is EXACTLY what you're looking for:</p>\n\n<p><a href=\"https://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5\">https://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5</a></p>\n\n<p>Render to a field buffer object using a shader to create the blur, then draw it from the frame buffer onto the screen.</p>\n"},{"tags":[],"owner":{"account_id":29091572,"reputation":1,"user_id":22285269,"display_name":"pfx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690336717,"creation_date":1690336717,"answer_id":76767540,"question_id":19085126,"body_markdown":"I have created my own implementation of gaussian blur for libgdx. Maybe it will be useful for someone. Just add the following class to your project:\r\n```\r\npackage com.mygdx.game;\r\n\r\nimport com.badlogic.gdx.graphics.Pixmap;\r\nimport com.badlogic.gdx.graphics.Pixmap.Format;\r\nimport com.badlogic.gdx.graphics.Color;\r\nimport java.lang.Math;\r\n\r\nclass Blur {\r\n    private static double matrix [];\r\n    private static int radius;\r\n\r\n    public static void setMatrix(int radius, double sigma) {\r\n        Blur.matrix = new double[radius+1];\r\n        Blur.radius = radius;\r\n        for(int i=0; i&lt;=radius; i++)\r\n            matrix[i] = gauss((double)i, sigma);\r\n        double sum = 0;\r\n        for(int i=-radius; i&lt;=radius; i++)\r\n            sum += matrix[Math.abs(i)];\r\n        for(int i=0; i&lt;=radius; i++)\r\n            matrix[i]/=sum;\r\n    }\r\n\r\n    private static double gauss(double x, double sigma) {\r\n        return 1/(sigma*Math.sqrt(2*Math.PI))*Math.exp(-(x*x)/(2*sigma*sigma));\r\n    }\r\n\r\n    public static Pixmap blur(Pixmap pixmap, boolean vertical) {\r\n        int width = pixmap.getWidth();\r\n        int height = pixmap.getHeight();\r\n        Pixmap result = new Pixmap(width,height,Format.RGBA8888);\r\n\r\n        for(int y=0; y&lt;height; y++)\r\n            for(int x=0; x&lt;width; x++){\r\n                float r=0,g=0,b=0,a=0;\r\n                for(int i=-radius; i&lt;=radius; i++) {\r\n                    int px=x, py=y;\r\n                    if(vertical)\r\n                        py=mirrorTheEdge(py+i,height);\r\n                    else \r\n                        px=mirrorTheEdge(px+i,width);\r\n                    Color color = new Color(pixmap.getPixel(px,py));\r\n                    float weight = (float)matrix[Math.abs(i)];\r\n                    r+=color.r*weight;\r\n                    g+=color.g*weight;\r\n                    b+=color.b*weight;\r\n                    a+=color.a*weight;\r\n                }\r\n                result.setColor(new Color(r,g,b,a));\r\n                result.drawPixel(x,y);\r\n            }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static int mirrorTheEdge(int p, int limit) {\r\n        if(p&lt;0) \r\n            p=p*-1-1;\r\n        if(p&gt;=limit) \r\n            p=limit*2-p+1;\r\n        return p;\r\n    }\r\n}\r\n``` \r\nAnd here is an example of use:\r\n```\r\npackage com.mygdx.game;\r\n\r\nimport com.badlogic.gdx.ApplicationAdapter;\r\nimport com.badlogic.gdx.graphics.Texture;\r\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\nimport com.badlogic.gdx.utils.ScreenUtils;\r\nimport com.badlogic.gdx.graphics.Pixmap;\r\nimport com.badlogic.gdx.files.FileHandle;\r\n\r\npublic class MyGdxGame extends ApplicationAdapter {\r\n\tSpriteBatch batch;\r\n\tTexture img;\r\n\t\r\n\t@Override\r\n\tpublic void create () {\r\n\t\tbatch = new SpriteBatch();\r\n\r\n\t\tPixmap pixmap = new Pixmap(new FileHandle(&quot;badlogic.jpg&quot;)); // Creating pixmap from file\r\n\t\tBlur.setMatrix(15,7.5); // Setting the blur strength\r\n\t\tpixmap = Blur.blur(pixmap,false); // Blurring the pixmap horizontally\r\n\t\tpixmap = Blur.blur(pixmap,true); // Blurring the pixmap vertically\r\n\t\t//pixmap = Blur.blur(Blur.blur(pixmap,false),true); // same in one line\r\n\r\n\t\timg = new Texture(pixmap);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\t\tScreenUtils.clear(1, 0, 0, 1);\r\n\t\tbatch.begin();\r\n\t\tbatch.draw(img, 0, 0);\r\n\t\tbatch.end();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose () {\r\n\t\tbatch.dispose();\r\n\t\timg.dispose();\r\n\t}\r\n}\r\n```\r\nBasically, anything that can be transformed into a pixmap can be blurred. To set the strength of the blur, use Blur.setMatrix(radius,sigma). I don&#39;t understand it very well, but the higher these two values are, the blurrier the image. If you want to optimize this, remember that the lower the radius, the better. That&#39;s all.","title":"Blur the screen in LibGDX","body":"<p>I have created my own implementation of gaussian blur for libgdx. Maybe it will be useful for someone. Just add the following class to your project:</p>\n<pre><code>package com.mygdx.game;\n\nimport com.badlogic.gdx.graphics.Pixmap;\nimport com.badlogic.gdx.graphics.Pixmap.Format;\nimport com.badlogic.gdx.graphics.Color;\nimport java.lang.Math;\n\nclass Blur {\n    private static double matrix [];\n    private static int radius;\n\n    public static void setMatrix(int radius, double sigma) {\n        Blur.matrix = new double[radius+1];\n        Blur.radius = radius;\n        for(int i=0; i&lt;=radius; i++)\n            matrix[i] = gauss((double)i, sigma);\n        double sum = 0;\n        for(int i=-radius; i&lt;=radius; i++)\n            sum += matrix[Math.abs(i)];\n        for(int i=0; i&lt;=radius; i++)\n            matrix[i]/=sum;\n    }\n\n    private static double gauss(double x, double sigma) {\n        return 1/(sigma*Math.sqrt(2*Math.PI))*Math.exp(-(x*x)/(2*sigma*sigma));\n    }\n\n    public static Pixmap blur(Pixmap pixmap, boolean vertical) {\n        int width = pixmap.getWidth();\n        int height = pixmap.getHeight();\n        Pixmap result = new Pixmap(width,height,Format.RGBA8888);\n\n        for(int y=0; y&lt;height; y++)\n            for(int x=0; x&lt;width; x++){\n                float r=0,g=0,b=0,a=0;\n                for(int i=-radius; i&lt;=radius; i++) {\n                    int px=x, py=y;\n                    if(vertical)\n                        py=mirrorTheEdge(py+i,height);\n                    else \n                        px=mirrorTheEdge(px+i,width);\n                    Color color = new Color(pixmap.getPixel(px,py));\n                    float weight = (float)matrix[Math.abs(i)];\n                    r+=color.r*weight;\n                    g+=color.g*weight;\n                    b+=color.b*weight;\n                    a+=color.a*weight;\n                }\n                result.setColor(new Color(r,g,b,a));\n                result.drawPixel(x,y);\n            }\n\n        return result;\n    }\n\n    private static int mirrorTheEdge(int p, int limit) {\n        if(p&lt;0) \n            p=p*-1-1;\n        if(p&gt;=limit) \n            p=limit*2-p+1;\n        return p;\n    }\n}\n</code></pre>\n<p>And here is an example of use:</p>\n<pre><code>package com.mygdx.game;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.badlogic.gdx.graphics.Pixmap;\nimport com.badlogic.gdx.files.FileHandle;\n\npublic class MyGdxGame extends ApplicationAdapter {\n    SpriteBatch batch;\n    Texture img;\n    \n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n\n        Pixmap pixmap = new Pixmap(new FileHandle(&quot;badlogic.jpg&quot;)); // Creating pixmap from file\n        Blur.setMatrix(15,7.5); // Setting the blur strength\n        pixmap = Blur.blur(pixmap,false); // Blurring the pixmap horizontally\n        pixmap = Blur.blur(pixmap,true); // Blurring the pixmap vertically\n        //pixmap = Blur.blur(Blur.blur(pixmap,false),true); // same in one line\n\n        img = new Texture(pixmap);\n    }\n\n    @Override\n    public void render () {\n        ScreenUtils.clear(1, 0, 0, 1);\n        batch.begin();\n        batch.draw(img, 0, 0);\n        batch.end();\n    }\n    \n    @Override\n    public void dispose () {\n        batch.dispose();\n        img.dispose();\n    }\n}\n</code></pre>\n<p>Basically, anything that can be transformed into a pixmap can be blurred. To set the strength of the blur, use Blur.setMatrix(radius,sigma). I don't understand it very well, but the higher these two values are, the blurrier the image. If you want to optimize this, remember that the lower the radius, the better. That's all.</p>\n"}],"owner":{"account_id":2713466,"reputation":2435,"user_id":2341336,"accept_rate":81,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10441,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":20960512,"answer_count":2,"score":14,"last_activity_date":1690336717,"creation_date":1380503641,"question_id":19085126,"body_markdown":"Im trying to create a background effect [like this][2] for my pause menu. My current idea is to take a screenshot on pause, save it, open it, Gaussian blur it, then render it to the screen and render the menu ontop. The only problem is I don&#39;t know how to save the screenshot effectively. \r\n\r\nI&#39;ve tried using `batch.setColor(0,0,0,0.7f);` to render a faded image ontop on the background but it didn&#39;t give me the blur effect i was looking for, rather just a tint as I assumed it would. \r\n\r\nExamples/documentation greatly appreciated.\r\n\r\nEDIT: found this code \r\n\r\n    package com.me.mygdxgame;\r\n    \r\n    import java.awt.Point;\r\n    import java.awt.color.ColorSpace;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.ColorModel;\r\n    import java.awt.image.ComponentColorModel;\r\n    import java.awt.image.DataBuffer;\r\n    import java.awt.image.DataBufferByte;\r\n    import java.awt.image.PixelInterleavedSampleModel;\r\n    import java.awt.image.Raster;\r\n    import java.awt.image.WritableRaster;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import com.badlogic.gdx.Application.ApplicationType;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    \r\n    public class ScreenShot {\r\n    \r\n    \tprivate static final int[] RGBA_OFFSETS = { 0, 1, 2, 3 };\r\n    \tprivate static final int[] RGB_OFFSETS = { 0, 1, 2 };\r\n    \r\n    \tpublic static void saveScreenshot(String baseName) throws IOException {\r\n    \t\tFile createTempFile = File.createTempFile(baseName, &quot;.png&quot;);\r\n    \t\tsaveScreenshot(createTempFile);\r\n    \t}\r\n    \r\n    \tpublic static void saveScreenshot(File file) throws IOException {\r\n    \t\tsaveScreenshot(file, false);\r\n    \t}\r\n    \r\n    \tpublic static void saveScreenshot(File file, boolean hasAlpha) throws IOException {\r\n    \t\tif (Gdx.app.getType() == ApplicationType.Android)\r\n    \t\t\treturn;\r\n    \r\n    \t\tbyte[] screenshotPixels = ScreenUtils.getFrameBufferPixels(true);\r\n    \r\n    \t\tint width = Gdx.graphics.getWidth();\r\n    \t\tint height = Gdx.graphics.getHeight();\r\n    \r\n    \t\tsaveScreenshot(file, screenshotPixels, width, height, hasAlpha);\r\n    \t}\r\n    \r\n    \tpublic static void saveScreenshot(File file, byte[] pixels, int width, int height, boolean hasAlpha) throws IOException {\r\n    \t\tDataBufferByte dataBuffer = new DataBufferByte(pixels, pixels.length);\r\n    \r\n    \t\tPixelInterleavedSampleModel sampleModel = new PixelInterleavedSampleModel(DataBuffer.TYPE_BYTE, width, height, 4, 4 * width, getOffsets(hasAlpha));\r\n    \r\n    \t\tWritableRaster raster = Raster.createWritableRaster(sampleModel, dataBuffer, new Point(0, 0));\r\n    \r\n    \t\tBufferedImage img = new BufferedImage(getColorModel(hasAlpha), raster, false, null);\r\n    \r\n    \t\tImageIO.write(img, &quot;png&quot;, file);\r\n    \t}\r\n    \r\n    \tprivate static ColorModel getColorModel(boolean alpha) {\r\n    \t\tif (alpha)\r\n    \t\t\treturn new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8, 8 }, true, false, ComponentColorModel.TRANSLUCENT, DataBuffer.TYPE_BYTE);\r\n    \t\treturn new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8 }, false, false, ComponentColorModel.OPAQUE, DataBuffer.TYPE_BYTE);\r\n    \t}\r\n    \r\n    \tprivate static int[] getOffsets(boolean alpha) {\r\n    \t\tif (alpha)\r\n    \t\t\treturn RGBA_OFFSETS;\r\n    \t\treturn RGB_OFFSETS;\r\n    \t}\r\n    \r\n    }\r\n\r\nbut it gives me this error when I try `saveScreenshot(&quot;output&quot;);`(runnign desktop version, if that makes a difference. Haven&#39;t tested on an android)\r\n\r\n    Exception in thread &quot;LWJGL Application&quot; com.badlogic.gdx.utils.GdxRuntimeException: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\r\n    \tat com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:111)\r\n    Caused by: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\r\n\r\nerror line:\r\n\t\t`ImageIO.write(img, &quot;png&quot;, file);`\r\n\r\n\r\n  [1]: https://code.google.com/p/libgdx-users/wiki/Screenshots\r\n  [2]: http://prntscr.com/1ubci5","title":"Blur the screen in LibGDX","body":"<p>Im trying to create a background effect <a href=\"http://prntscr.com/1ubci5\" rel=\"noreferrer\">like this</a> for my pause menu. My current idea is to take a screenshot on pause, save it, open it, Gaussian blur it, then render it to the screen and render the menu ontop. The only problem is I don't know how to save the screenshot effectively. </p>\n\n<p>I've tried using <code>batch.setColor(0,0,0,0.7f);</code> to render a faded image ontop on the background but it didn't give me the blur effect i was looking for, rather just a tint as I assumed it would. </p>\n\n<p>Examples/documentation greatly appreciated.</p>\n\n<p>EDIT: found this code </p>\n\n<pre><code>package com.me.mygdxgame;\n\nimport java.awt.Point;\nimport java.awt.color.ColorSpace;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ColorModel;\nimport java.awt.image.ComponentColorModel;\nimport java.awt.image.DataBuffer;\nimport java.awt.image.DataBufferByte;\nimport java.awt.image.PixelInterleavedSampleModel;\nimport java.awt.image.Raster;\nimport java.awt.image.WritableRaster;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport com.badlogic.gdx.Application.ApplicationType;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class ScreenShot {\n\n    private static final int[] RGBA_OFFSETS = { 0, 1, 2, 3 };\n    private static final int[] RGB_OFFSETS = { 0, 1, 2 };\n\n    public static void saveScreenshot(String baseName) throws IOException {\n        File createTempFile = File.createTempFile(baseName, \".png\");\n        saveScreenshot(createTempFile);\n    }\n\n    public static void saveScreenshot(File file) throws IOException {\n        saveScreenshot(file, false);\n    }\n\n    public static void saveScreenshot(File file, boolean hasAlpha) throws IOException {\n        if (Gdx.app.getType() == ApplicationType.Android)\n            return;\n\n        byte[] screenshotPixels = ScreenUtils.getFrameBufferPixels(true);\n\n        int width = Gdx.graphics.getWidth();\n        int height = Gdx.graphics.getHeight();\n\n        saveScreenshot(file, screenshotPixels, width, height, hasAlpha);\n    }\n\n    public static void saveScreenshot(File file, byte[] pixels, int width, int height, boolean hasAlpha) throws IOException {\n        DataBufferByte dataBuffer = new DataBufferByte(pixels, pixels.length);\n\n        PixelInterleavedSampleModel sampleModel = new PixelInterleavedSampleModel(DataBuffer.TYPE_BYTE, width, height, 4, 4 * width, getOffsets(hasAlpha));\n\n        WritableRaster raster = Raster.createWritableRaster(sampleModel, dataBuffer, new Point(0, 0));\n\n        BufferedImage img = new BufferedImage(getColorModel(hasAlpha), raster, false, null);\n\n        ImageIO.write(img, \"png\", file);\n    }\n\n    private static ColorModel getColorModel(boolean alpha) {\n        if (alpha)\n            return new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8, 8 }, true, false, ComponentColorModel.TRANSLUCENT, DataBuffer.TYPE_BYTE);\n        return new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8 }, false, false, ComponentColorModel.OPAQUE, DataBuffer.TYPE_BYTE);\n    }\n\n    private static int[] getOffsets(boolean alpha) {\n        if (alpha)\n            return RGBA_OFFSETS;\n        return RGB_OFFSETS;\n    }\n\n}\n</code></pre>\n\n<p>but it gives me this error when I try <code>saveScreenshot(\"output\");</code>(runnign desktop version, if that makes a difference. Haven't tested on an android)</p>\n\n<pre><code>Exception in thread \"LWJGL Application\" com.badlogic.gdx.utils.GdxRuntimeException: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:111)\nCaused by: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\n</code></pre>\n\n<p>error line:\n        <code>ImageIO.write(img, \"png\", file);</code></p>\n"},{"tags":["java","lambda","java-8","functional-programming","runnable"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":9,"creation_date":1561801680,"post_id":56816550,"comment_id":100186568,"body_markdown":"`Runnable` is a functional interface by itself, isn&#39;t it? There is no need for an equivalent for it in `java.util.function`.","body":"<code>Runnable</code> is a functional interface by itself, isn&#39;t it? There is no need for an equivalent for it in <code>java.util.function</code>."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561801791,"post_id":56816550,"comment_id":100186582,"body_markdown":"@Sweeper this is not the point of the question.Of course it is.","body":"@Sweeper this is not the point of the question.Of course it is."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1561801818,"post_id":56816550,"comment_id":100186587,"body_markdown":"What is the point then? What exactly are you asking?","body":"What is the point then? What exactly are you asking?"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561801939,"post_id":56816550,"comment_id":100186603,"body_markdown":"@Sweeper it is a question of semantics. I can use napkins as baby napkins or as kitchen paper. But even if the material is the same, they come with different names and flavors.","body":"@Sweeper it is a question of semantics. I can use napkins as baby napkins or as kitchen paper. But even if the material is the same, they come with different names and flavors."},{"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"score":2,"creation_date":1561801967,"post_id":56816550,"comment_id":100186612,"body_markdown":"@AlexandarPetrov more of Supplier&lt;Void&gt;","body":"@AlexandarPetrov more of Supplier&lt;Void&gt;"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561802040,"post_id":56816550,"comment_id":100186625,"body_markdown":"@DanielTaub ah thanks!!!! My question was wrong :)","body":"@DanielTaub ah thanks!!!! My question was wrong :)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1561802050,"post_id":56816550,"comment_id":100186626,"body_markdown":"I would argue it is simply `Function&lt;Void, Void&gt;`. @DanielTaub","body":"I would argue it is simply <code>Function&lt;Void, Void&gt;</code>. @DanielTaub"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561802209,"post_id":56816550,"comment_id":100186658,"body_markdown":"I edited the question I was meaning Supplier not Consumer.  So Why it is not supplier or function?","body":"I edited the question I was meaning Supplier not Consumer.  So Why it is not supplier or function?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":5,"creation_date":1561803335,"post_id":56816550,"comment_id":100186852,"body_markdown":"`Runnable` is much older than the functions, and was not retrofitted into the new framework. You are overthinking this.","body":"<code>Runnable</code> is much older than the functions, and was not retrofitted into the new framework. You are overthinking this."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1561807367,"post_id":56816550,"comment_id":100187565,"body_markdown":"@AlexandarPetrov I think `Runnable` is a semantically fine name for the context in which it would be used. It is a functional interface which neither produces something or consume something, so one could say that the method is free of any context, essentially being a block of code to run. I cannot think of any scenario where this name is actually inaccurate.","body":"@AlexandarPetrov I think <code>Runnable</code> is a semantically fine name for the context in which it would be used. It is a functional interface which neither produces something or consume something, so one could say that the method is free of any context, essentially being a block of code to run. I cannot think of any scenario where this name is actually inaccurate."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1561836920,"creation_date":1561805250,"answer_id":56816912,"question_id":56816550,"body_markdown":"`Runnable` is it. There was an intentional choice (see [Brian Goetz here][1]) not to add a functional interface to the `java.util.function` package that is effectively equivalent to `Runnable`. One of the major ideas behind Java&#39;s implementation of lambdas (the idea that all uses of it must be where some functional interface is required, and that the lambda then becomes an implementation of that functional interface) is intended to ensure that Java post-lambda is more or less compatible with APIs designed pre-lambda, without any real need to release an incompatible &#39;v2&#39; edition with a more Java8+ style API for the majority of existing APIs out there.\r\n\r\nIntroducing a variant of `Runnable` solely for it to exist in the `java.util.function` package would run counter to that idea.\r\n\r\nNote that `Runnable` and `Supplier&lt;Void&gt;` and `Function&lt;Void, Void&gt;` might feel very similar but are utterly incompatible in javaland. `Void` isn&#39;t special; it&#39;s just a type, same as any other. For example, if you are making a `Supplier&lt;Void&gt;` lambda, you need to actually return something, and you can only return `null`; there is no non-hacky way to make instances of the `Void` type. Whereas for `void`, you don&#39;t have to (and can&#39;t).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27973294/function-with-no-args-and-no-return-type-void-in-java-8?lq=1#comment44339647_27973294","title":"What is the Runnable representation in java.util.function?","body":"<p><code>Runnable</code> is it. There was an intentional choice (see <a href=\"https://stackoverflow.com/questions/27973294/function-with-no-args-and-no-return-type-void-in-java-8?lq=1#comment44339647_27973294\">Brian Goetz here</a>) not to add a functional interface to the <code>java.util.function</code> package that is effectively equivalent to <code>Runnable</code>. One of the major ideas behind Java's implementation of lambdas (the idea that all uses of it must be where some functional interface is required, and that the lambda then becomes an implementation of that functional interface) is intended to ensure that Java post-lambda is more or less compatible with APIs designed pre-lambda, without any real need to release an incompatible 'v2' edition with a more Java8+ style API for the majority of existing APIs out there.</p>\n\n<p>Introducing a variant of <code>Runnable</code> solely for it to exist in the <code>java.util.function</code> package would run counter to that idea.</p>\n\n<p>Note that <code>Runnable</code> and <code>Supplier&lt;Void&gt;</code> and <code>Function&lt;Void, Void&gt;</code> might feel very similar but are utterly incompatible in javaland. <code>Void</code> isn't special; it's just a type, same as any other. For example, if you are making a <code>Supplier&lt;Void&gt;</code> lambda, you need to actually return something, and you can only return <code>null</code>; there is no non-hacky way to make instances of the <code>Void</code> type. Whereas for <code>void</code>, you don't have to (and can't).</p>\n"}],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2922,"favorite_count":0,"down_vote_count":3,"up_vote_count":13,"accepted_answer_id":56816912,"answer_count":1,"score":10,"last_activity_date":1690336197,"creation_date":1561801545,"question_id":56816550,"body_markdown":"I was wondering recently as Runnable is very often used in a functional context. At the same time according to javadoc its semantical meaning is very close to multithreading while it is not aways used in such context:\r\n\r\n&gt; The Runnable interface should be implemented by any class whose\r\n&gt; instances are intended to be executed by a thread. The class must\r\n&gt; define a method of no arguments called run. This interface is designed\r\n&gt; to provide a common protocol for objects that wish to execute code\r\n&gt; while they are active. For example, Runnable is implemented by class\r\n&gt; Thread. Being active simply means that a thread has been started and\r\n&gt; has not yet been stopped.\r\n\r\n**Is `Runnable` equivalent to `Supplier&lt;Void&gt;` ? Or is `Runnable` equivalent to `Function&lt;Void,Void&gt;` and why is it not Supplier then ?** How does Runnable align with `java.util.function` package&#39;s already present functional interfaces.","title":"What is the Runnable representation in java.util.function?","body":"<p>I was wondering recently as Runnable is very often used in a functional context. At the same time according to javadoc its semantical meaning is very close to multithreading while it is not aways used in such context:</p>\n<blockquote>\n<p>The Runnable interface should be implemented by any class whose\ninstances are intended to be executed by a thread. The class must\ndefine a method of no arguments called run. This interface is designed\nto provide a common protocol for objects that wish to execute code\nwhile they are active. For example, Runnable is implemented by class\nThread. Being active simply means that a thread has been started and\nhas not yet been stopped.</p>\n</blockquote>\n<p><strong>Is <code>Runnable</code> equivalent to <code>Supplier&lt;Void&gt;</code> ? Or is <code>Runnable</code> equivalent to <code>Function&lt;Void,Void&gt;</code> and why is it not Supplier then ?</strong> How does Runnable align with <code>java.util.function</code> package's already present functional interfaces.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1660267559,"post_id":73323156,"comment_id":129498213,"body_markdown":"Is the &#39;auto-build&#39; turned off in your eclipse?","body":"Is the &#39;auto-build&#39; turned off in your eclipse?"},{"owner":{"account_id":18659314,"reputation":173,"user_id":13600920,"display_name":"infochip"},"score":0,"creation_date":1660290436,"post_id":73323156,"comment_id":129502332,"body_markdown":"No, it&#39;s turned on.","body":"No, it&#39;s turned on."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1660617909,"post_id":73323156,"comment_id":129568695,"body_markdown":"**Ctrl+Shift+P** Open the command palette and select `Java:Clean Java Language Server Workspace`. If the problem persists, try reinstalling vscode.","body":"<b>Ctrl+Shift+P</b> Open the command palette and select <code>Java:Clean Java Language Server Workspace</code>. If the problem persists, try reinstalling vscode."},{"owner":{"account_id":18659314,"reputation":173,"user_id":13600920,"display_name":"infochip"},"score":1,"creation_date":1660723709,"post_id":73323156,"comment_id":129597289,"body_markdown":"That only restarts the process of importing Java projects which is performed on each startup of VScode and takes very long for multiple large projects. I am curious why VSCode is so inefficient on a restart, when both Eclipse and IntelliJ are much more efficient in that regard (for Java projects at least).","body":"That only restarts the process of importing Java projects which is performed on each startup of VScode and takes very long for multiple large projects. I am curious why VSCode is so inefficient on a restart, when both Eclipse and IntelliJ are much more efficient in that regard (for Java projects at least)."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1661304556,"post_id":73323156,"comment_id":129738217,"body_markdown":"@infochip. I&#39;ve opened an [issue](https://github.com/redhat-developer/vscode-java/issues/2643) on GitHub, hope it&#39;s useful to you.","body":"@infochip. I&#39;ve opened an <a href=\"https://github.com/redhat-developer/vscode-java/issues/2643\" rel=\"nofollow noreferrer\">issue</a> on GitHub, hope it&#39;s useful to you."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1681280162,"post_id":73323156,"comment_id":134028928,"body_markdown":"I face the same problem. Any update?","body":"I face the same problem. Any update?"}],"answers":[{"tags":[],"owner":{"account_id":788349,"reputation":3495,"user_id":862382,"display_name":"Droid Chris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690335435,"creation_date":1690335435,"answer_id":76767469,"question_id":73323156,"body_markdown":"You probably have this Java Red Hat plugin. Switch to pre-release version. It fixes this issue:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/68frW.png","title":"VSCode reloads Java projects on each startup which takes a very long time","body":"<p>You probably have this Java Red Hat plugin. Switch to pre-release version. It fixes this issue:</p>\n<p><a href=\"https://i.stack.imgur.com/68frW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/68frW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18659314,"reputation":173,"user_id":13600920,"display_name":"infochip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4843,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1690335435,"creation_date":1660231132,"question_id":73323156,"body_markdown":"I am in the process of switching from Eclipse to VSCode for Java Development - so far, I have been able to setup a workspace folder with all my Java projects in it and all works fine.\r\n\r\nHowever, every time I restart VSCode, all projects are rebuilding (showing me &quot;Opening Java Projects: check details&quot;) which takes a very long time (about 5 minutes) - in comparision, when I am re-opening my Eclipse workspace with the same amount of projects, it only takes ~30 seconds for everything to be ready. Is there something I am doing wrong or can&#39;t VSCode &quot;remember&quot; Java projects as good as Eclipse?","title":"VSCode reloads Java projects on each startup which takes a very long time","body":"<p>I am in the process of switching from Eclipse to VSCode for Java Development - so far, I have been able to setup a workspace folder with all my Java projects in it and all works fine.</p>\n<p>However, every time I restart VSCode, all projects are rebuilding (showing me &quot;Opening Java Projects: check details&quot;) which takes a very long time (about 5 minutes) - in comparision, when I am re-opening my Eclipse workspace with the same amount of projects, it only takes ~30 seconds for everything to be ready. Is there something I am doing wrong or can't VSCode &quot;remember&quot; Java projects as good as Eclipse?</p>\n"},{"tags":["java","groovy","nextflow"],"comments":[{"owner":{"account_id":2824173,"reputation":339,"user_id":2427138,"display_name":"mribeirodantas"},"score":1,"creation_date":1690313761,"post_id":76765334,"comment_id":135335400,"body_markdown":"The correct place is indeed in the script block, but it&#39;s awkward that the `dna` variable is not working. Can you provide a minimal reproducible example?","body":"The correct place is indeed in the script block, but it&#39;s awkward that the <code>dna</code> variable is not working. Can you provide a minimal reproducible example?"}],"answers":[{"tags":[],"owner":{"account_id":391289,"reputation":52114,"user_id":751863,"accept_rate":100,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690335147,"creation_date":1690335147,"answer_id":76767451,"question_id":76765334,"body_markdown":"The correct place to define the variable is in the [`script`](https://www.nextflow.io/docs/latest/process.html#script) block. If you only need a local variable (i.e. it is _not_ required in the `output` declaration for example), you can use the `def` keyword like in the example below. Note that with the `-params-file` option, `params.VC` will actually return a `ConfigMap` (a `LinkedHashMap` subclass) object. One way would be to use Groovy&#39;s null-safe operator (?.) to get the label value and the elvis operator (?:) to provide a default if it doesn&#39;t exist:\r\n\r\n```\r\nparams.bams = &#39;/path/to/bams/*.bam{,.bai}&#39;\r\n\r\n\r\nprocess VariantCall {\r\n\r\n    input:\r\n    tuple val(meta), path(bam), path(bai)\r\n    val(dna)\r\n\r\n    output:\r\n    tuple val(meta), path(&#39;out.vcf&#39;)\r\n\r\n    script:\r\n    def g_label = params?.VC?.get(dna)?.general?.label ?: &quot;none&quot;\r\n\r\n    &quot;&quot;&quot;\r\n    the_variant_caller \\\\\r\n        -l &quot;${g_label}&quot; \\\\\r\n        -o out.vcf\r\n    &quot;&quot;&quot;\r\n}\r\n\r\n\r\nworkflow {\r\n    \r\n    bams = Channel.fromFilePairs( params.bams, flat: true )\r\n\r\n    VariantCall( bams, &#39;mtDNA&#39; )\r\n}\r\n```\r\n\r\nRun using:\r\n\r\n```\r\nnextflow run main.nf -params-file params.json\r\n```\r\n","title":"How to create a new variable by merging together input and parameters in nextflow?","body":"<p>The correct place to define the variable is in the <a href=\"https://www.nextflow.io/docs/latest/process.html#script\" rel=\"nofollow noreferrer\"><code>script</code></a> block. If you only need a local variable (i.e. it is <em>not</em> required in the <code>output</code> declaration for example), you can use the <code>def</code> keyword like in the example below. Note that with the <code>-params-file</code> option, <code>params.VC</code> will actually return a <code>ConfigMap</code> (a <code>LinkedHashMap</code> subclass) object. One way would be to use Groovy's null-safe operator (?.) to get the label value and the elvis operator (?:) to provide a default if it doesn't exist:</p>\n<pre><code>params.bams = '/path/to/bams/*.bam{,.bai}'\n\n\nprocess VariantCall {\n\n    input:\n    tuple val(meta), path(bam), path(bai)\n    val(dna)\n\n    output:\n    tuple val(meta), path('out.vcf')\n\n    script:\n    def g_label = params?.VC?.get(dna)?.general?.label ?: &quot;none&quot;\n\n    &quot;&quot;&quot;\n    the_variant_caller \\\\\n        -l &quot;${g_label}&quot; \\\\\n        -o out.vcf\n    &quot;&quot;&quot;\n}\n\n\nworkflow {\n    \n    bams = Channel.fromFilePairs( params.bams, flat: true )\n\n    VariantCall( bams, 'mtDNA' )\n}\n</code></pre>\n<p>Run using:</p>\n<pre><code>nextflow run main.nf -params-file params.json\n</code></pre>\n"}],"owner":{"account_id":25427494,"reputation":39,"user_id":19232471,"display_name":"Ulf90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690335147,"creation_date":1690307336,"question_id":76765334,"body_markdown":"I am having the following issue:\r\nI am trying to create new variable within a process that actually would take items from the input section, from the parameter section and create new variables to be used in the script section:\r\nHere is how the process looks like in a meaningful semplification:\r\n\r\n```\r\nnextflow.enable.dsl=2\r\n\r\nprocess VariantCall {\r\ncontainer &#39;the_container&#39;\r\n\r\n    input:\r\n        val(dna)\r\n        tuple val(meta), path(in_bam), path(in_bam_bai)\r\n\r\n    output:\r\n        tuple val(meta), path(&#39;out.vcf&#39;)\r\n\r\n    publishDir &quot;${params.publish_dir}/VariantCalling/${meta}/${dna}&quot;, mode: &#39;copy&#39;, pattern: &#39;*.vcf&#39;\r\n    \r\n    g_label = &quot;${params.VC}.${dna}.general.label&quot;\r\n\r\n    script:\r\n        &quot;&quot;&quot;\r\n    the_variant_caller \\\r\n    -l ${g_label}\r\n    -o out.vcf\r\n        &quot;&quot;&quot;\r\n\r\n```\r\nThe params.json looks like this:\r\n```\r\n{\r\n&quot;VC&quot;:{\r\n        &quot;nDNA&quot;:{\r\n            &quot;general&quot;: {\r\n                &quot;label&quot;: &quot;&quot;,\r\n                &quot;cov_thresh&quot;: 0\r\n            }\r\n        &quot;mtDNA&quot;:{\r\n            &quot;general&quot;: {\r\n                &quot;label&quot;: &quot;MT&quot;,\r\n                &quot;cov_thresh&quot;: 0\r\n            }\r\n}\r\n```\r\nSo my goal is to have a g_label variable to feed into the script, that is the composition of the backbone of params.json and the input i am giving (dna). \r\nThen, i run the workflow like this:\r\n```\r\nworkflow VariantCall_Module {\r\n    take:\r\n        dna\r\n        in_bam\r\n\r\n\r\n    main:\r\n        VariantCall(\r\n            dna,\r\n            in_bam\r\n\r\n        )\r\n\r\n    emit:\r\n        vcf = VariantCall.out\r\n}\r\n```\r\n\r\nhowever, no matter how i phrase g_label i always get:\r\n```\r\nERROR ~ Error executing process &gt; &#39;TheModule:VariantCalling_nDNA (1)&#39;\r\n\r\nCaused by:\r\n  No such variable: g_label -- Check script &#39;././modules/variant-calling-ndna/../variant-call-utils/processes.nf&#39; at line: 21\r\n``` \r\nI also tried:\r\n-  to have g_label inside the script block\r\n-  to have the g_label under `def g_label = &quot;${params.VC}.${dna}.general.label&quot;`\r\nBut same results, with the difference that when i phrase it inside the script block i get as error:\r\n`No such variable: dna`\r\nSo it looks to me i have a problem with the syntax but also that the dna variable although is in the input (and it&#39;s taken without problem in the publishDir statement), it doesn&#39;t get passed into a new variable.\r\nDo you have any ideas? \r\ncheers!\r\n","title":"How to create a new variable by merging together input and parameters in nextflow?","body":"<p>I am having the following issue:\nI am trying to create new variable within a process that actually would take items from the input section, from the parameter section and create new variables to be used in the script section:\nHere is how the process looks like in a meaningful semplification:</p>\n<pre><code>nextflow.enable.dsl=2\n\nprocess VariantCall {\ncontainer 'the_container'\n\n    input:\n        val(dna)\n        tuple val(meta), path(in_bam), path(in_bam_bai)\n\n    output:\n        tuple val(meta), path('out.vcf')\n\n    publishDir &quot;${params.publish_dir}/VariantCalling/${meta}/${dna}&quot;, mode: 'copy', pattern: '*.vcf'\n    \n    g_label = &quot;${params.VC}.${dna}.general.label&quot;\n\n    script:\n        &quot;&quot;&quot;\n    the_variant_caller \\\n    -l ${g_label}\n    -o out.vcf\n        &quot;&quot;&quot;\n\n</code></pre>\n<p>The params.json looks like this:</p>\n<pre><code>{\n&quot;VC&quot;:{\n        &quot;nDNA&quot;:{\n            &quot;general&quot;: {\n                &quot;label&quot;: &quot;&quot;,\n                &quot;cov_thresh&quot;: 0\n            }\n        &quot;mtDNA&quot;:{\n            &quot;general&quot;: {\n                &quot;label&quot;: &quot;MT&quot;,\n                &quot;cov_thresh&quot;: 0\n            }\n}\n</code></pre>\n<p>So my goal is to have a g_label variable to feed into the script, that is the composition of the backbone of params.json and the input i am giving (dna).\nThen, i run the workflow like this:</p>\n<pre><code>workflow VariantCall_Module {\n    take:\n        dna\n        in_bam\n\n\n    main:\n        VariantCall(\n            dna,\n            in_bam\n\n        )\n\n    emit:\n        vcf = VariantCall.out\n}\n</code></pre>\n<p>however, no matter how i phrase g_label i always get:</p>\n<pre><code>ERROR ~ Error executing process &gt; 'TheModule:VariantCalling_nDNA (1)'\n\nCaused by:\n  No such variable: g_label -- Check script '././modules/variant-calling-ndna/../variant-call-utils/processes.nf' at line: 21\n</code></pre>\n<p>I also tried:</p>\n<ul>\n<li>to have g_label inside the script block</li>\n<li>to have the g_label under <code>def g_label = &quot;${params.VC}.${dna}.general.label&quot;</code>\nBut same results, with the difference that when i phrase it inside the script block i get as error:\n<code>No such variable: dna</code>\nSo it looks to me i have a problem with the syntax but also that the dna variable although is in the input (and it's taken without problem in the publishDir statement), it doesn't get passed into a new variable.\nDo you have any ideas?\ncheers!</li>\n</ul>\n"},{"tags":["java","arrays","algorithm","frameworks"],"comments":[{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":11,"creation_date":1426232378,"post_id":1484347,"comment_id":46295847,"body_markdown":"Array of primitive to array of containers would help: http://stackoverflow.com/questions/3770289/converting-array-of-primitives-to-array-of-containers-in-java followed by `Collections.max(Arrays.asList())`.","body":"Array of primitive to array of containers would help: <a href=\"http://stackoverflow.com/questions/3770289/converting-array-of-primitives-to-array-of-containers-in-java\" title=\"converting array of primitives to array of containers in java\">stackoverflow.com/questions/3770289/&hellip;</a> followed by <code>Collections.max(Arrays.asList())</code>."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":5,"creation_date":1593186568,"post_id":1484347,"comment_id":110701138,"body_markdown":"I just love how dumb the Java is","body":"I just love how dumb the Java is"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1650226586,"post_id":1484347,"comment_id":127061616,"body_markdown":"Arrays.asList won&#39;t work on an array of a primitive type\\.","body":"Arrays.asList won&#39;t work on an array of a primitive type\\."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1254084517,"creation_date":1254082215,"answer_id":1484352,"question_id":1484347,"body_markdown":"Yes, it&#39;s done in the [Collections][1] class. Note that you will need to convert your primitive char array to a Character[] manually.\r\n\r\nA short demo:\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        \r\n        public static Character[] convert(char[] chars) {\r\n            Character[] copy = new Character[chars.length];\r\n            for(int i = 0; i &lt; copy.length; i++) {\r\n                copy[i] = Character.valueOf(chars[i]);\r\n            }\r\n            return copy;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            char[] a = {&#39;3&#39;, &#39;5&#39;, &#39;1&#39;, &#39;4&#39;, &#39;2&#39;};\r\n            Character[] b = convert(a);\r\n            System.out.println(Collections.max(Arrays.asList(b)));\r\n        }\r\n    }\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min(java.util.Collection)","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Yes, it's done in the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min(java.util.Collection)\" rel=\"noreferrer\">Collections</a> class. Note that you will need to convert your primitive char array to a Character[] manually.</p>\n\n<p>A short demo:</p>\n\n<pre><code>import java.util.*;\n\npublic class Main {\n\n    public static Character[] convert(char[] chars) {\n        Character[] copy = new Character[chars.length];\n        for(int i = 0; i &lt; copy.length; i++) {\n            copy[i] = Character.valueOf(chars[i]);\n        }\n        return copy;\n    }\n\n    public static void main(String[] args) {\n        char[] a = {'3', '5', '1', '4', '2'};\n        Character[] b = convert(a);\n        System.out.println(Collections.max(Arrays.asList(b)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20189,"reputation":166037,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1595941183,"creation_date":1254085935,"answer_id":1484494,"question_id":1484347,"body_markdown":"Here&#39;s a utility class providing `min/max` methods for primitive types: [Primitives.java](http://pastebin.com/f57ae8d47)\r\n\r\n    int [] numbers= {10,1,8,7,6,5,2};\r\n\t\tint a=Integer.MAX_VALUE;\r\n\t\tfor(int c:numbers) {\r\n\t\t\ta=c&lt;a?c:a;\r\n\t\t\t}\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;Lowest value is&quot;+a);","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Here's a utility class providing <code>min/max</code> methods for primitive types: <a href=\"http://pastebin.com/f57ae8d47\" rel=\"nofollow noreferrer\">Primitives.java</a></p>\n<pre><code>int [] numbers= {10,1,8,7,6,5,2};\n    int a=Integer.MAX_VALUE;\n    for(int c:numbers) {\n        a=c&lt;a?c:a;\n        }\n        \n    System.out.println(&quot;Lowest value is&quot;+a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"down_vote_count":1,"up_vote_count":201,"is_accepted":true,"score":200,"last_activity_date":1384610315,"creation_date":1254127392,"answer_id":1486010,"question_id":1484347,"body_markdown":"Using Commons Lang (to convert) + Collections (to min/max)\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    \r\n    import org.apache.commons.lang.ArrayUtils;\r\n    \r\n    public class MinMaxValue {\r\n    \r\n        public static void main(String[] args) {\r\n            char[] a = {&#39;3&#39;, &#39;5&#39;, &#39;1&#39;, &#39;4&#39;, &#39;2&#39;};\r\n            \r\n            List b = Arrays.asList(ArrayUtils.toObject(a));\r\n        \r\n            System.out.println(Collections.min(b));\r\n            System.out.println(Collections.max(b));\r\n       }\r\n    }\r\n\r\nNote that `Arrays.asList()` wraps the underlying array, so it should not be too memory intensive and it should not perform a copy on the elements of the array.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Using Commons Lang (to convert) + Collections (to min/max)</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\n\nimport org.apache.commons.lang.ArrayUtils;\n\npublic class MinMaxValue {\n\n    public static void main(String[] args) {\n        char[] a = {'3', '5', '1', '4', '2'};\n\n        List b = Arrays.asList(ArrayUtils.toObject(a));\n\n        System.out.println(Collections.min(b));\n        System.out.println(Collections.max(b));\n   }\n}\n</code></pre>\n\n<p>Note that <code>Arrays.asList()</code> wraps the underlying array, so it should not be too memory intensive and it should not perform a copy on the elements of the array.</p>\n"},{"tags":[],"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1257105016,"creation_date":1257105016,"answer_id":1658144,"question_id":1484347,"body_markdown":"The [Google Guava library][1] has min and max methods in its Chars, Ints, Longs, etc. classes.\r\n\r\nSo you can simply use:\r\n\r\n    Chars.min(myarray)\r\n\r\nNo conversions are required and presumably it&#39;s efficiently implemented.\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"Finding the max/min value in an array of primitives using Java","body":"<p>The <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava library</a> has min and max methods in its Chars, Ints, Longs, etc. classes.</p>\n\n<p>So you can simply use:</p>\n\n<pre><code>Chars.min(myarray)\n</code></pre>\n\n<p>No conversions are required and presumably it's efficiently implemented.</p>\n"},{"tags":[],"owner":{"account_id":3377913,"reputation":31,"user_id":2835693,"display_name":"hightower"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1380646400,"creation_date":1380644944,"answer_id":19121381,"question_id":1484347,"body_markdown":"    import java.util.Random;\r\n    \r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n       int a[] = new int [100];\r\n       Random rnd = new Random ();\r\n\r\n        for (int i = 0; i&lt; a.length; i++) {\r\n            a[i] = rnd.nextInt(99-0)+0;\r\n            System.out.println(a[i]);\r\n        }\r\n\r\n        int max = 0;          \r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            a[i] = max;\r\n            \r\n\r\n            for (int j = i+1; j&lt;a.length; j++) {\r\n                if (a[j] &gt; max) {\r\n                   max = a[j];\r\n                }\r\n\r\n            }\r\n        }\r\n     \r\n        System.out.println(&quot;Max element: &quot; + max);\r\n    }\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code>import java.util.Random;\n\npublic class Main {\n\npublic static void main(String[] args) {\n   int a[] = new int [100];\n   Random rnd = new Random ();\n\n    for (int i = 0; i&lt; a.length; i++) {\n        a[i] = rnd.nextInt(99-0)+0;\n        System.out.println(a[i]);\n    }\n\n    int max = 0;          \n\n    for (int i = 0; i &lt; a.length; i++) {\n        a[i] = max;\n\n\n        for (int j = i+1; j&lt;a.length; j++) {\n            if (a[j] &gt; max) {\n               max = a[j];\n            }\n\n        }\n    }\n\n    System.out.println(\"Max element: \" + max);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3571654,"reputation":27,"user_id":2981816,"display_name":"whoduexpect"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1384234042,"creation_date":1384232894,"answer_id":19921300,"question_id":1484347,"body_markdown":"Pass the array to a method that sorts it with `Arrays.sort()` so it only sorts the array the method is using then sets *min* to `array[0]` and *max* to `array[array.length-1]`.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Pass the array to a method that sorts it with <code>Arrays.sort()</code> so it only sorts the array the method is using then sets <em>min</em> to <code>array[0]</code> and <em>max</em> to <code>array[array.length-1]</code>.</p>\n"},{"tags":[],"owner":{"account_id":4331554,"reputation":349,"user_id":3536936,"display_name":"Lubna_Nsour"},"down_vote_count":11,"up_vote_count":37,"is_accepted":false,"score":26,"last_activity_date":1611316727,"creation_date":1397908437,"answer_id":23169726,"question_id":1484347,"body_markdown":"By sorting the array, you get the first and last values for min / max. \r\n\r\n    import java.util.Arrays;\r\n\r\n    public class apples {\r\n\r\n      public static void main(String[] args) {\r\n    \tint a[] = {2,5,3,7,8};\r\n    \tArrays.sort(a);\r\n\r\n    \tint min =a[0];\r\n    \tSystem.out.println(min);\r\n\r\n    \tint max= a[a.length-1];\r\n    \tSystem.out.println(max);\r\n      }\r\n    \t\r\n    }\r\n\r\nAlthough the sorting operation is more expensive than simply finding min/max values with a simple loop. But when performance is not a concern (e.g. small arrays, or your the cost is irrelevant for your application), it is a quite simple solution.\r\n\r\nNote: the array also gets modified after this.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>By sorting the array, you get the first and last values for min / max.</p>\n<pre><code>import java.util.Arrays;\n\npublic class apples {\n\n  public static void main(String[] args) {\n    int a[] = {2,5,3,7,8};\n    Arrays.sort(a);\n\n    int min =a[0];\n    System.out.println(min);\n\n    int max= a[a.length-1];\n    System.out.println(max);\n  }\n    \n}\n</code></pre>\n<p>Although the sorting operation is more expensive than simply finding min/max values with a simple loop. But when performance is not a concern (e.g. small arrays, or your the cost is irrelevant for your application), it is a quite simple solution.</p>\n<p>Note: the array also gets modified after this.</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":167,"is_accepted":false,"score":167,"last_activity_date":1489064675,"creation_date":1433672794,"answer_id":30692454,"question_id":1484347,"body_markdown":"You can simply use the new Java 8 [`Stream`s](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) but you have to work with `int`.\r\n\r\nThe [`stream`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-) method of the utility class [`Arrays`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html) gives you an [`IntStream`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html) on which you can use the [`min`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#min--) method. You can also do [`max`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#max--), [`sum`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--), [`average`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--),...\r\n\r\nThe [`getAsInt`](http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html#getAsInt--) method is used to get the value from the [`OptionalInt`](http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html)\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args){\r\n            int[] tab = {12, 1, 21, 8};\r\n            int min = Arrays.stream(tab).min().getAsInt();\r\n            int max = Arrays.stream(tab).max().getAsInt();\r\n            System.out.println(&quot;Min = &quot; + min);\r\n            System.out.println(&quot;Max = &quot; + max)\r\n        }\r\n        \r\n    }\r\n\r\n**==UPDATE==**\r\n\r\nIf execution time is important and you want to go through the data only once you can use the [`summaryStatistics()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--) method like this\r\n\r\n    import java.util.Arrays;\r\n    import java.util.IntSummaryStatistics;\r\n    \r\n    public class SOTest {\r\n        public static void main(String[] args){\r\n            int[] tab = {12, 1, 21, 8};\r\n            IntSummaryStatistics stat = Arrays.stream(tab).summaryStatistics();\r\n            int min = stat.getMin();\r\n            int max = stat.getMax();\r\n            System.out.println(&quot;Min = &quot; + min);\r\n            System.out.println(&quot;Max = &quot; + max);\r\n        }\r\n    }\r\n\r\nThis approach can give better performance than classical loop because the [`summaryStatistics`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--) method is a [reduction operation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction) and it allows parallelization.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>You can simply use the new Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code>s</a> but you have to work with <code>int</code>.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\" rel=\"noreferrer\"><code>stream</code></a> method of the utility class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a> gives you an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> on which you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#min--\" rel=\"noreferrer\"><code>min</code></a> method. You can also do <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#max--\" rel=\"noreferrer\"><code>max</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--\" rel=\"noreferrer\"><code>sum</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\" rel=\"noreferrer\"><code>average</code></a>,...</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html#getAsInt--\" rel=\"noreferrer\"><code>getAsInt</code></a> method is used to get the value from the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html\" rel=\"noreferrer\"><code>OptionalInt</code></a></p>\n\n<pre><code>import java.util.Arrays;\n\npublic class Test {\n    public static void main(String[] args){\n        int[] tab = {12, 1, 21, 8};\n        int min = Arrays.stream(tab).min().getAsInt();\n        int max = Arrays.stream(tab).max().getAsInt();\n        System.out.println(\"Min = \" + min);\n        System.out.println(\"Max = \" + max)\n    }\n\n}\n</code></pre>\n\n<p><strong>==UPDATE==</strong></p>\n\n<p>If execution time is important and you want to go through the data only once you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\" rel=\"noreferrer\"><code>summaryStatistics()</code></a> method like this</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.IntSummaryStatistics;\n\npublic class SOTest {\n    public static void main(String[] args){\n        int[] tab = {12, 1, 21, 8};\n        IntSummaryStatistics stat = Arrays.stream(tab).summaryStatistics();\n        int min = stat.getMin();\n        int max = stat.getMax();\n        System.out.println(\"Min = \" + min);\n        System.out.println(\"Max = \" + max);\n    }\n}\n</code></pre>\n\n<p>This approach can give better performance than classical loop because the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\" rel=\"noreferrer\"><code>summaryStatistics</code></a> method is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"noreferrer\">reduction operation</a> and it allows parallelization.</p>\n"},{"tags":[],"owner":{"account_id":5386756,"reputation":851,"user_id":4290390,"display_name":"Kim G."},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1434672367,"creation_date":1434619827,"answer_id":30911587,"question_id":1484347,"body_markdown":"The basic way to get the min/max value of an Array. If you need the unsorted array, you may create a copy or pass it to a method that returns the min or max. If not, sorted array is better since it performs faster in some cases.\r\n\r\n    public class MinMaxValueOfArray {\r\n        public static void main(String[] args) {\r\n            int[] A = {2, 4, 3, 5, 5};\r\n            Arrays.sort(A);\r\n            int min = A[0];\r\n            int max = A[A.length -1];\r\n            System.out.println(&quot;Min Value = &quot; + min);        \r\n            System.out.println(&quot;Max Value = &quot; + max);\r\n        }\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<p>The basic way to get the min/max value of an Array. If you need the unsorted array, you may create a copy or pass it to a method that returns the min or max. If not, sorted array is better since it performs faster in some cases.</p>\n\n<pre><code>public class MinMaxValueOfArray {\n    public static void main(String[] args) {\n        int[] A = {2, 4, 3, 5, 5};\n        Arrays.sort(A);\n        int min = A[0];\n        int max = A[A.length -1];\n        System.out.println(\"Min Value = \" + min);        \n        System.out.println(\"Max Value = \" + max);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4226501,"reputation":13484,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1440602975,"creation_date":1440602975,"answer_id":32230758,"question_id":1484347,"body_markdown":"You could easily do it with an `IntStream` and the `max()` method.\r\n\r\n### Example\r\n\r\n    public static int maxValue(final int[] intArray) {\r\n      return IntStream.range(0, intArray.length).map(i -&gt; intArray[i]).max().getAsInt();\r\n    }\r\n\r\n### Explanation \r\n\r\n1. `range(0, intArray.length)` - To get a stream with as many elements as present in the `intArray`.\r\n\r\n2. `map(i -&gt; intArray[i])` - Map every element of the stream to an actual element of the `intArray`.\r\n\r\n3. `max()` - Get the maximum element of this stream as `OptionalInt`.\r\n\r\n4. `getAsInt()` - Unwrap the `OptionalInt`. (You could also use here: `orElse(0)`, just in case the `OptionalInt` is empty.)","title":"Finding the max/min value in an array of primitives using Java","body":"<p>You could easily do it with an <code>IntStream</code> and the <code>max()</code> method.</p>\n\n<h3>Example</h3>\n\n<pre><code>public static int maxValue(final int[] intArray) {\n  return IntStream.range(0, intArray.length).map(i -&gt; intArray[i]).max().getAsInt();\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<ol>\n<li><p><code>range(0, intArray.length)</code> - To get a stream with as many elements as present in the <code>intArray</code>.</p></li>\n<li><p><code>map(i -&gt; intArray[i])</code> - Map every element of the stream to an actual element of the <code>intArray</code>.</p></li>\n<li><p><code>max()</code> - Get the maximum element of this stream as <code>OptionalInt</code>.</p></li>\n<li><p><code>getAsInt()</code> - Unwrap the <code>OptionalInt</code>. (You could also use here: <code>orElse(0)</code>, just in case the <code>OptionalInt</code> is empty.)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2376705,"reputation":37054,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465640911,"creation_date":1465640911,"answer_id":37762644,"question_id":1484347,"body_markdown":"Example with float:\r\n\r\n    public static float getMaxFloat(float[] data) {\r\n\r\n        float[] copy = Arrays.copyOf(data, data.length);\r\n        Arrays.sort(copy);\r\n        return copy[data.length - 1];\r\n    }\r\n\r\n    public static float getMinFloat(float[] data) {\r\n\r\n        float[] copy = Arrays.copyOf(data, data.length);\r\n        Arrays.sort(copy);\r\n        return copy[0];\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Example with float:</p>\n\n<pre><code>public static float getMaxFloat(float[] data) {\n\n    float[] copy = Arrays.copyOf(data, data.length);\n    Arrays.sort(copy);\n    return copy[data.length - 1];\n}\n\npublic static float getMinFloat(float[] data) {\n\n    float[] copy = Arrays.copyOf(data, data.length);\n    Arrays.sort(copy);\n    return copy[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435850,"reputation":1429,"user_id":822664,"accept_rate":60,"display_name":"Sauer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1499691882,"creation_date":1476394235,"answer_id":40031337,"question_id":1484347,"body_markdown":"I have a little helper class in all of my applications with methods like:\r\n\r\n    public static double arrayMax(double[] arr) {\r\n    \tdouble max = Double.NEGATIVE_INFINITY;\r\n    \t\r\n    \tfor(double cur: arr)\r\n    \t\tmax = Math.max(max, cur);\r\n    \t\r\n    \treturn max;\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<p>I have a little helper class in all of my applications with methods like:</p>\n\n<pre><code>public static double arrayMax(double[] arr) {\n    double max = Double.NEGATIVE_INFINITY;\n\n    for(double cur: arr)\n        max = Math.max(max, cur);\n\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2042397,"reputation":10132,"user_id":1834057,"accept_rate":51,"display_name":"Nicholas Hamilton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520333349,"creation_date":1520333349,"answer_id":49128983,"question_id":1484347,"body_markdown":"        public int getMin(int[] values){\r\n            int ret = values[0];\r\n            for(int i = 1; i &lt; values.length; i++)\r\n                ret = Math.min(ret,values[i]);\r\n            return ret;\r\n        }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code>    public int getMin(int[] values){\n        int ret = values[0];\n        for(int i = 1; i &lt; values.length; i++)\n            ret = Math.min(ret,values[i]);\n        return ret;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6348404,"reputation":372,"user_id":4928212,"accept_rate":100,"display_name":"mnzl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541166578,"creation_date":1541165656,"answer_id":53119572,"question_id":1484347,"body_markdown":"Here is a solution to get the max value in about 99% of runs (change the 0.01 to get a better result):\r\n\r\n    public static double getMax(double[] vals){\r\n        final double[] max = {Double.NEGATIVE_INFINITY};\r\n\r\n        IntStream.of(new Random().ints((int) Math.ceil(Math.log(0.01) / Math.log(1.0 - (1.0/vals.length))),0,vals.length).toArray())\r\n                .forEach(r -&gt; max[0] = (max[0] &lt; vals[r])? vals[r]: max[0]);\r\n\r\n        return max[0];\r\n    }\r\n(Not completely serious)","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Here is a solution to get the max value in about 99% of runs (change the 0.01 to get a better result):</p>\n\n<pre><code>public static double getMax(double[] vals){\n    final double[] max = {Double.NEGATIVE_INFINITY};\n\n    IntStream.of(new Random().ints((int) Math.ceil(Math.log(0.01) / Math.log(1.0 - (1.0/vals.length))),0,vals.length).toArray())\n            .forEach(r -&gt; max[0] = (max[0] &lt; vals[r])? vals[r]: max[0]);\n\n    return max[0];\n}\n</code></pre>\n\n<p>(Not completely serious)</p>\n"},{"tags":[],"owner":{"account_id":14423849,"reputation":598,"user_id":10419204,"display_name":"Simon Z."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554207950,"creation_date":1551161009,"answer_id":54879301,"question_id":1484347,"body_markdown":"A solution with `reduce()`:\r\n\r\n    int[] array = {23, 3, 56, 97, 42};\r\n    // directly print out\r\n    Arrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).ifPresent(System.out::println);\r\n\r\n    // get the result as an int\r\n    int res = Arrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).getAsInt();\r\n    System.out.println(res);\r\n    &gt;&gt;\r\n    97\r\n    97\r\n\r\nIn the code above, `reduce()` returns data in `Optional` format, which you can convert to `int` by `getAsInt()`. \r\n \r\nIf we want to compare the max value with a certain number, we can set a start value in `reduce()`:\r\n\r\n    int[] array = {23, 3, 56, 97, 42};\r\n    // e.g., compare with 100\r\n    int max = Arrays.stream(array).reduce(100, (x, y) -&gt; x &gt; y ? x : y);\r\n    System.out.println(max);\r\n    &gt;&gt;\r\n    100\r\n\r\nIn the code above, when `reduce()` with an identity (start value) as the first parameter, it returns data in the same format with the identity. With this property, we can apply this solution to other arrays:\r\n\r\n    double[] array = {23.1, 3, 56.6, 97, 42};\r\n    double max = Arrays.stream(array).reduce(array[0], (x, y) -&gt; x &gt; y ? x : y);\r\n    System.out.println(max);\r\n    &gt;&gt;\r\n    97.0","title":"Finding the max/min value in an array of primitives using Java","body":"<p>A solution with <code>reduce()</code>:</p>\n\n<pre><code>int[] array = {23, 3, 56, 97, 42};\n// directly print out\nArrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).ifPresent(System.out::println);\n\n// get the result as an int\nint res = Arrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).getAsInt();\nSystem.out.println(res);\n&gt;&gt;\n97\n97\n</code></pre>\n\n<p>In the code above, <code>reduce()</code> returns data in <code>Optional</code> format, which you can convert to <code>int</code> by <code>getAsInt()</code>. </p>\n\n<p>If we want to compare the max value with a certain number, we can set a start value in <code>reduce()</code>:</p>\n\n<pre><code>int[] array = {23, 3, 56, 97, 42};\n// e.g., compare with 100\nint max = Arrays.stream(array).reduce(100, (x, y) -&gt; x &gt; y ? x : y);\nSystem.out.println(max);\n&gt;&gt;\n100\n</code></pre>\n\n<p>In the code above, when <code>reduce()</code> with an identity (start value) as the first parameter, it returns data in the same format with the identity. With this property, we can apply this solution to other arrays:</p>\n\n<pre><code>double[] array = {23.1, 3, 56.6, 97, 42};\ndouble max = Arrays.stream(array).reduce(array[0], (x, y) -&gt; x &gt; y ? x : y);\nSystem.out.println(max);\n&gt;&gt;\n97.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8984705,"reputation":42,"user_id":6698628,"display_name":"Balu Abraham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611094078,"creation_date":1611094078,"answer_id":65800230,"question_id":1484347,"body_markdown":"        int[] arr = {1, 2, 3};\r\n\r\n        List&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\r\n        int max_ = Collections.max(list);\r\n        int i;\r\n        if (max_ &gt; 0) {\r\n            for (i = 1; i &lt; Collections.max(list); i++) {\r\n                if (!list.contains(i)) {\r\n                    System.out.println(i);\r\n                    break;\r\n                }\r\n            }\r\n            if(i==max_){\r\n                System.out.println(i+1);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;1&quot;);\r\n        }\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code>    int[] arr = {1, 2, 3};\n\n    List&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\n    int max_ = Collections.max(list);\n    int i;\n    if (max_ &gt; 0) {\n        for (i = 1; i &lt; Collections.max(list); i++) {\n            if (!list.contains(i)) {\n                System.out.println(i);\n                break;\n            }\n        }\n        if(i==max_){\n            System.out.println(i+1);\n        }\n    } else {\n        System.out.println(&quot;1&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690334070,"creation_date":1690334070,"answer_id":76767410,"question_id":1484347,"body_markdown":"     IntStream.of(a).max().getAsInt()\r\n\r\nExample:\r\n    \r\n    import java.util.stream.IntStream;\r\n    public class Solution {\r\n    \tpublic static void main(String[] args) {\r\n            int[] a = {3, 7, 5, 2};\r\n            int max = IntStream.of(a).max().getAsInt();\r\n    \t\tSystem.out.println(max);\r\n    \t}\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code> IntStream.of(a).max().getAsInt()\n</code></pre>\n<p>Example:</p>\n<pre><code>import java.util.stream.IntStream;\npublic class Solution {\n    public static void main(String[] args) {\n        int[] a = {3, 7, 5, 2};\n        int max = IntStream.of(a).max().getAsInt();\n        System.out.println(max);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820204,"favorite_count":0,"down_vote_count":0,"up_vote_count":245,"accepted_answer_id":1486010,"answer_count":17,"score":245,"last_activity_date":1690334070,"creation_date":1254082076,"question_id":1484347,"body_markdown":"It&#39;s trivial to write a function to determine the min/max value in an array, such as:\r\n\r\n\t/**\r\n\t * \r\n\t * @param chars\r\n\t * @return the max value in the array of chars\r\n\t */\r\n\tprivate static int maxValue(char[] chars) {\r\n\t\tint max = chars[0];\r\n\t\tfor (int ktr = 0; ktr &lt; chars.length; ktr++) {\r\n\t\t\tif (chars[ktr] &gt; max) {\r\n\t\t\t\tmax = chars[ktr];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\r\nbut isn&#39;t this already done somewhere?","title":"Finding the max/min value in an array of primitives using Java","body":"<p>It's trivial to write a function to determine the min/max value in an array, such as:</p>\n\n<pre><code>/**\n * \n * @param chars\n * @return the max value in the array of chars\n */\nprivate static int maxValue(char[] chars) {\n    int max = chars[0];\n    for (int ktr = 0; ktr &lt; chars.length; ktr++) {\n        if (chars[ktr] &gt; max) {\n            max = chars[ktr];\n        }\n    }\n    return max;\n}\n</code></pre>\n\n<p>but isn't this already done somewhere?</p>\n"},{"tags":["java","android","hprof","eclipse-memory-analyzer"],"comments":[{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":1,"creation_date":1365789583,"post_id":15977723,"comment_id":22776462,"body_markdown":"Isn&#39;t that what [ParseHeapDump.sh](http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ) does ?","body":"Isn&#39;t that what <a href=\"http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ\" rel=\"nofollow noreferrer\">ParseHeapDump.sh</a> does ?"},{"owner":{"account_id":410135,"reputation":1759,"user_id":781794,"accept_rate":68,"display_name":"Abhishek"},"score":0,"creation_date":1365794158,"post_id":15977723,"comment_id":22778823,"body_markdown":"Yup, thanks for that. Did not know about it. Have a follow up question, How do you parse the index file that is generated? Want to run some custom analysis on it.","body":"Yup, thanks for that. Did not know about it. Have a follow up question, How do you parse the index file that is generated? Want to run some custom analysis on it."},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1365846409,"post_id":15977723,"comment_id":22791555,"body_markdown":"I&#39;ll move my comment to the answer&#39;s section since that was what you were looking for. If you elaborate on the custom analysis you&#39;re after, may be we can help.","body":"I&#39;ll move my comment to the answer&#39;s section since that was what you were looking for. If you elaborate on the custom analysis you&#39;re after, may be we can help."},{"owner":{"account_id":4258989,"reputation":738,"user_id":3483824,"display_name":"bitsabhi"},"score":1,"creation_date":1537342195,"post_id":15977723,"comment_id":91744754,"body_markdown":"jhat -port 7401 -J-Xmx4G &lt;file&gt;","body":"jhat -port 7401 -J-Xmx4G &lt;file&gt;"}],"answers":[{"tags":[],"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1366126787,"creation_date":1365846435,"answer_id":15986464,"question_id":15977723,"body_markdown":"[ParseHeapDump.sh][1] does what you&#39;re looking for. As for the follow up question I&#39;m not sure what format the index files are stored in.\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ","title":"analyse a HPROF memory dump file from command line programmatically","body":"<p><a href=\"http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ\" rel=\"nofollow\">ParseHeapDump.sh</a> does what you're looking for. As for the follow up question I'm not sure what format the index files are stored in.</p>\n"},{"tags":[],"owner":{"account_id":485331,"reputation":3633,"user_id":901597,"display_name":"Joe Bowbeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690333117,"creation_date":1370303505,"answer_id":16907654,"question_id":15977723,"body_markdown":"See [github.com/joebowbeer/andromat](https://github.com/joebowbeer/andromat), which is adapted from [bitbucket.org/ekabanov/mat](https://bitbucket.org/ekabanov/mat), which is a stripped-down command line version of [Eclipse Memory Analyzer](http://www.eclipse.org/mat/).","title":"analyse a HPROF memory dump file from command line programmatically","body":"<p>See <a href=\"https://github.com/joebowbeer/andromat\" rel=\"nofollow noreferrer\">github.com/joebowbeer/andromat</a>, which is adapted from <a href=\"https://bitbucket.org/ekabanov/mat\" rel=\"nofollow noreferrer\">bitbucket.org/ekabanov/mat</a>, which is a stripped-down command line version of <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analyzer</a>.</p>\n"}],"owner":{"account_id":410135,"reputation":1759,"user_id":781794,"accept_rate":68,"display_name":"Abhishek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16018,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":15986464,"answer_count":2,"score":13,"last_activity_date":1690333117,"creation_date":1365788808,"question_id":15977723,"body_markdown":"I was investigation with analyzing a HPROF file using Eclipse&#39;s Memory Analyser (MAT).\r\nThe dominator tree, reports and the OQL interface look really useful. But all this has to be done manually from the MAT software.\r\n\r\nIs there a commandline interface so I can programmatically parse the HPROF and automatically generate custom reports.\r\n\r\nThis would be useful to integrate this a test infrastructure to do a automatic memory analysis.\r\n\r\nBtw, the heapsize is will be between 10-60MB.","title":"analyse a HPROF memory dump file from command line programmatically","body":"<p>I was investigation with analyzing a HPROF file using Eclipse's Memory Analyser (MAT).\nThe dominator tree, reports and the OQL interface look really useful. But all this has to be done manually from the MAT software.</p>\n\n<p>Is there a commandline interface so I can programmatically parse the HPROF and automatically generate custom reports.</p>\n\n<p>This would be useful to integrate this a test infrastructure to do a automatic memory analysis.</p>\n\n<p>Btw, the heapsize is will be between 10-60MB.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-test","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690332948,"creation_date":1690311937,"answer_id":76765804,"question_id":76764123,"body_markdown":"If `MockMvc#perform()` throws exception , it implies you do not configure spring-mvc to handle this exception.(i.e `ConstraintViolationException` in your case). \r\n\r\nIn reality, the exception will be propagated back to the servlet container to let it handle (e.g decide what HTTP response will be returned etc).But now as you are using `MockMvc` , you can think that it is a mocked version of servlet container which its implementation is just throw the exception for any exception  propagated to it.\r\n\r\nSo the answer is to configure spring-mvc to handle  `ConstraintViolationException` , for example by declaring a `@ControllerAdvice` for it :\r\n\r\n``` java\r\n@ControllerAdvice\r\npublic class ApiExceptionHandler {\r\n\r\n\t@ExceptionHandler(ConstraintViolationException.class)\r\n\t@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n\tpublic void handleConstraintViolationException(final ConstraintViolationException ex) {\r\n\t    log.info(&quot;handle ConstraintViolationException blabla&quot;,ex);\r\n\t}\r\n}\r\n```\r\n\r\nNote : See more how to handle exception in spring-mvc at [this][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#recent-updates","title":"Spring Test with mockMVC throws ServletException","body":"<p>If <code>MockMvc#perform()</code> throws exception , it implies you do not configure spring-mvc to handle this exception.(i.e <code>ConstraintViolationException</code> in your case).</p>\n<p>In reality, the exception will be propagated back to the servlet container to let it handle (e.g decide what HTTP response will be returned etc).But now as you are using <code>MockMvc</code> , you can think that it is a mocked version of servlet container which its implementation is just throw the exception for any exception  propagated to it.</p>\n<p>So the answer is to configure spring-mvc to handle  <code>ConstraintViolationException</code> , for example by declaring a <code>@ControllerAdvice</code> for it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ApiExceptionHandler {\n\n    @ExceptionHandler(ConstraintViolationException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public void handleConstraintViolationException(final ConstraintViolationException ex) {\n        log.info(&quot;handle ConstraintViolationException blabla&quot;,ex);\n    }\n}\n</code></pre>\n<p>Note : See more how to handle exception in spring-mvc at <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#recent-updates\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":15860278,"reputation":319,"user_id":11443551,"display_name":"iiiiiiiiiiiiiiiiiiii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690332948,"creation_date":1690298037,"question_id":76764123,"body_markdown":"I have the following Spring test class:\r\n\r\n\r\n```java\r\n\r\n@AutoConfigureMockMvc\r\n@Testcontainers\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class FormTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n\r\n    @Test\r\n    public void givenInvalidForm_whenSubmitted_returns400() throws Exception {\r\n\r\n        FormUploadDTO dto = .. generate DTO\r\n        MvcResult mvcResult =  mockMvc.perform(post(BaseApi.BASE_API + &quot;/forms&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON.getMediaType())\r\n                        .content(asJsonString(new ArrayList&lt;&gt;(Collections.singleton(dto)){}))\r\n                        .andDo(print())\r\n                        .andReturn();\r\n        assertEquals(400, mvcResult.getResponse().getStatus());\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nhowever, instead of spring-application container returning bad-request (for `@NotNull` annotated fields), it throws the following error:\r\n\r\n```\r\njakarta.servlet.ServletException: Request processing failed: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter ....\r\n\r\n\r\nCaused by: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\r\n```\r\n    \r\n\r\nany idea how this can be fixed?\r\n\r\n","title":"Spring Test with mockMVC throws ServletException","body":"<p>I have the following Spring test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@AutoConfigureMockMvc\n@Testcontainers\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class FormTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    \n\n    @Test\n    public void givenInvalidForm_whenSubmitted_returns400() throws Exception {\n\n        FormUploadDTO dto = .. generate DTO\n        MvcResult mvcResult =  mockMvc.perform(post(BaseApi.BASE_API + &quot;/forms&quot;)\n                        .contentType(MediaType.APPLICATION_JSON.getMediaType())\n                        .content(asJsonString(new ArrayList&lt;&gt;(Collections.singleton(dto)){}))\n                        .andDo(print())\n                        .andReturn();\n        assertEquals(400, mvcResult.getResponse().getStatus());\n\n\n    }\n\n}\n</code></pre>\n<p>however, instead of spring-application container returning bad-request (for <code>@NotNull</code> annotated fields), it throws the following error:</p>\n<pre><code>jakarta.servlet.ServletException: Request processing failed: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\n\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter ....\n\n\nCaused by: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\n</code></pre>\n<p>any idea how this can be fixed?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690352235,"post_id":76767136,"comment_id":135339472,"body_markdown":"Use `@Qualifier` instead of `@Named` (the annotation from the spring package not the regular java package).","body":"Use <code>@Qualifier</code> instead of <code>@Named</code> (the annotation from the spring package not the regular java package)."}],"answers":[{"tags":[],"owner":{"account_id":4992802,"reputation":11963,"user_id":4014448,"display_name":"Nadir Belhaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690328645,"creation_date":1690328645,"answer_id":76767157,"question_id":76767136,"body_markdown":"change `@Named(&quot;consumer-bean&quot;)` to `@Named(&quot;${kafka.consumer.bean.name}&quot;`\r\nwhere ${kafka.consumer.bean.name} is the configuration property that holds the dynamic bean name","title":"Spring - @Named annotation use a value from property","body":"<p>change <code>@Named(&quot;consumer-bean&quot;)</code> to <code>@Named(&quot;${kafka.consumer.bean.name}&quot;</code>\nwhere ${kafka.consumer.bean.name} is the configuration property that holds the dynamic bean name</p>\n"}],"owner":{"account_id":1723702,"reputation":8278,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690332472,"creation_date":1690328248,"question_id":76767136,"body_markdown":"I am injecting bean using @Named(&quot;consumer-bean&quot;).\r\n\r\n    @Inject\r\n        public KafkaReconMessageProcessor(\r\n                                          @Named(&quot;consumer-bean&quot;) final KafkaReceiver&lt;String, String&gt; receiver) \r\n       {\r\n            this.receiver = receiver;\r\n        }\r\n\r\nHere, the bean name is hard coded to consumer-bean.\r\n\r\nI have a use case where bean name is dynamic, so it should be property driven.\r\n\r\nIn my application.yml,\r\n\r\n    consumer-bean: kafka.receiver.topic1 \r\n\r\nI want to use this name in the bean to make it property driven. Is there any way to do that?\r\n\r\nI tried with,\r\n\r\n    @javax.inject.Named(&quot;${consumer-bean}&quot;)} \r\n\r\nBut, it didnt work.\r\n","title":"Spring - @Named annotation use a value from property","body":"<p>I am injecting bean using @Named(&quot;consumer-bean&quot;).</p>\n<pre><code>@Inject\n    public KafkaReconMessageProcessor(\n                                      @Named(&quot;consumer-bean&quot;) final KafkaReceiver&lt;String, String&gt; receiver) \n   {\n        this.receiver = receiver;\n    }\n</code></pre>\n<p>Here, the bean name is hard coded to consumer-bean.</p>\n<p>I have a use case where bean name is dynamic, so it should be property driven.</p>\n<p>In my application.yml,</p>\n<pre><code>consumer-bean: kafka.receiver.topic1 \n</code></pre>\n<p>I want to use this name in the bean to make it property driven. Is there any way to do that?</p>\n<p>I tried with,</p>\n<pre><code>@javax.inject.Named(&quot;${consumer-bean}&quot;)} \n</code></pre>\n<p>But, it didnt work.</p>\n"},{"tags":["java","swing","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690303418,"creation_date":1690303418,"answer_id":76764864,"question_id":76764072,"body_markdown":"&gt; leaves 10% free space on top and bottom.\r\n\r\n&gt; spaces the buttons by a fraction of the screen, I currently use 1/40 as the spacing\r\n\r\nWhich would be 2.5% between each button, or 7.5% for the space between the 4 buttons.\r\n\r\n&gt; Then the buttons fill the rest of the space.\r\n\r\nSo this leaves 72.5% of space for the 4 buttons or 18.125% for each button.\r\n\r\nWhat you have is a custom layout where each component takes a fixed percentage of the space available. The logic should be part of a layout manager, not handled by application logic.\r\n\r\nCheck out the [Relative Layout](https://tips4java.wordpress.com/2008/11/02/relative-layout/) which allows components to grow/shrink based on the relative size of each component and the space available to all components.\r\n\r\nYou would use the `RelativeLayout` with code something like:\r\n\r\n    RelativeLayout rl = new RelativeLayout(RelativeLayout.Y_AXIS);\r\n\tJPanel panel = new JPanel(rl);\r\n    panel.add(Box.createVerticalStrut(1), new Float(10));\r\n\tpanel.add(button1, new Float(18.125));\r\n    panel.add(Box.createVerticalStrut(1), new Float(2.5));\r\n\tpanel.add(button2, new Float(18.125));\r\n    panel.add(Box.createVerticalStrut(1), new Float(2.5));\r\n\tpanel.add(button3, new Float(18.125));\r\n    panel.add(Box.createVerticalStrut(1), new Float(2.5));\r\n\tpanel.add(button4, new Float(18.125));\r\n    panel.add(Box.createVerticalStrut(1), new Float(10));\r\n\r\n","title":"Change Insets when changing screen size with Grid Bag Constraints","body":"<blockquote>\n<p>leaves 10% free space on top and bottom.</p>\n</blockquote>\n<blockquote>\n<p>spaces the buttons by a fraction of the screen, I currently use 1/40 as the spacing</p>\n</blockquote>\n<p>Which would be 2.5% between each button, or 7.5% for the space between the 4 buttons.</p>\n<blockquote>\n<p>Then the buttons fill the rest of the space.</p>\n</blockquote>\n<p>So this leaves 72.5% of space for the 4 buttons or 18.125% for each button.</p>\n<p>What you have is a custom layout where each component takes a fixed percentage of the space available. The logic should be part of a layout manager, not handled by application logic.</p>\n<p>Check out the <a href=\"https://tips4java.wordpress.com/2008/11/02/relative-layout/\" rel=\"nofollow noreferrer\">Relative Layout</a> which allows components to grow/shrink based on the relative size of each component and the space available to all components.</p>\n<p>You would use the <code>RelativeLayout</code> with code something like:</p>\n<pre><code>RelativeLayout rl = new RelativeLayout(RelativeLayout.Y_AXIS);\nJPanel panel = new JPanel(rl);\npanel.add(Box.createVerticalStrut(1), new Float(10));\npanel.add(button1, new Float(18.125));\npanel.add(Box.createVerticalStrut(1), new Float(2.5));\npanel.add(button2, new Float(18.125));\npanel.add(Box.createVerticalStrut(1), new Float(2.5));\npanel.add(button3, new Float(18.125));\npanel.add(Box.createVerticalStrut(1), new Float(2.5));\npanel.add(button4, new Float(18.125));\npanel.add(Box.createVerticalStrut(1), new Float(10));\n</code></pre>\n"}],"owner":{"account_id":15379266,"reputation":125,"user_id":11095121,"display_name":"Semlan Bakelsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76764864,"answer_count":1,"score":0,"last_activity_date":1690332211,"creation_date":1690297752,"question_id":76764072,"body_markdown":"I have a program intended to be a start menu for a game. So far I have 3 JPanels: `homePanel`, `mainPanel` and `optionsPanel`. The &#39;homePanel&#39; is a panel holding both menu and options panel.\r\n\r\n[![Home menu image][1]][1]\r\n\r\nmainPanel has 3 buttons: `Start Game`, `Options`, and `Quit`. optionsPanel has 3 `optionsButton` 1 , 2 and 3 as well as a `backButton`.\r\n\r\n[![Option menu image][2]][2]\r\n\r\nThe first button changes the program window size between 4 different sizes. I use GridBagLayout to place the buttons because it has been the most consistent layout to align itself to the center of the screen.\r\n\r\nI am trying to place the buttons in the center of the screen, vertically, and automatically set the button height so it leaves 10% free space on top and bottom. And spaces the buttons by a fraction of the screen, I currently use 1/40 as the spacing. Then the buttons fill the rest of the space.\r\n\r\nThis works when I set it up, placing the buttons. I use:\r\n```\r\ngbcOptions.insets = new Insets(spacing, 0, spacing, 0);\r\n```\r\nto set the spacing, but when I try to change the screen size the spacing doesn&#39;t change. I am able to correctly calculate the button height and the new spacing value. But the actual spacing between the buttons does not change. They are the same as the first time the buttons were added to the panel.\r\n\r\nHere the program is enlarged and the spacing between the buttons is too small:\r\n[![Large options image][3]][3]\r\n\r\n---\r\n\r\n**Methods:**\r\n\r\nStart of class:\r\n\r\n    public class MainMenuGUI extends JFrame {\r\n\r\n    private JPanel homePanel;\r\n    private JPanel menuPanel;\r\n    private JPanel optionsPanel;\r\n    private JButton[] optionButtons;\r\n    private int[] optionValues;\r\n    private int windowHeight;\r\n    private int windowWidth;\r\n    private int maxContentWidth;\r\n    private int maxContentHeight;\r\n    private int spacing;\r\n    //window size options\r\n    private String[] windowSizeOptions = {&quot;Small (1/4)&quot;, &quot;Medium (1/2)&quot;, &quot;Large (3/4)&quot;, &quot;Fullscreen&quot;};\r\n    private int currentWindowSizeIndex = 0; // Index of the current window size option\r\n    ...\r\n\r\nHere are my methods:\r\n\r\nHere is where I set everything up:\r\n\r\n    public MainMenuGUI() {\r\n        // Set up the main window properties\r\n        setTitle(&quot;Game Main Menu&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        //window size, calculate the maximum content size based on the window size\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n        //set up the window size with the method\r\n        //Calculate values based on window size\r\n        setWindowSize(windowSizeOptions[currentWindowSizeIndex]);\r\n\r\n        //Print out to se the screen size and max content sizes\r\n        System.out.println(&quot;window Width: &quot; + windowWidth + &quot;\\nWindow height: &quot; + windowHeight\r\n                        + &quot;\\nMaxContentWidth: &quot; + maxContentWidth + &quot;\\nMaxContentHeight: &quot; + maxContentHeight);\r\n\r\n        setResizable(false);\r\n        setUndecorated(true);\r\n        setSize(windowWidth, windowHeight);\r\n        setLocationRelativeTo(null); // Center the window on the screen\r\n\r\n\r\n        //homePanel holds any Panel outside the gamePanel\r\n        homePanel = new JPanel();\r\n        homePanel.setLayout(new BorderLayout());\r\n        homePanel.setBackground(new Color(20, 20, 20));\r\n        add(homePanel, BorderLayout.CENTER);\r\n\r\n\r\n        // Create the main menu components\r\n        menuPanel = new JPanel();\r\n        menuPanel.setLayout(new GridBagLayout());\r\n\r\n\r\n        // Buttons\r\n        JButton startButton = createStyledButton(&quot;Start Game&quot;, buttonWidth);\r\n        JButton optionsButton = createStyledButton(&quot;Options&quot;, buttonWidth);\r\n        JButton quitButton = createStyledButton(&quot;Quit&quot;, buttonWidth);\r\n\r\n\r\n        // Add buttons to the panel\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        gbc.insets = new Insets(spacing, 0, spacing, 0);\r\n\r\n        gbc.gridy = 0;\r\n        menuPanel.add(startButton, gbc);\r\n\r\n        gbc.gridy = 1;\r\n        menuPanel.add(optionsButton, gbc);\r\n\r\n        gbc.gridy = 2;\r\n        menuPanel.add(quitButton, gbc);\r\n\r\n\r\n        //Option Panel\r\n\r\n        // Initialize option buttons and values\r\n        optionButtons = new JButton[3];\r\n        optionValues = new int[]{1, 1, 1};\r\n\r\n        // Create the options menu components\r\n        optionsPanel = new JPanel();\r\n        optionsPanel.setLayout(new GridBagLayout());\r\n\r\n\r\n        //Options Buttons\r\n        JButton optionButton1 = createStyledButton(&quot;Screen Size: &quot; + windowSizeOptions[currentWindowSizeIndex], buttonWidth);\r\n        JButton optionButton2 = createStyledButton(&quot;Option 2: &quot; + optionValues[1], buttonWidth);\r\n        JButton optionButton3 = createStyledButton(&quot;Option 3: &quot; + optionValues[2], buttonWidth);\r\n        JButton optionBackButton = createStyledButton(&quot;Back&quot;, buttonWidth);\r\n\r\n\r\n        //adding buttons to panel\r\n        GridBagConstraints gbcOptions = new GridBagConstraints();\r\n        gbcOptions.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n\r\n        gbcOptions.insets = new Insets(spacing, 0, spacing, 0);\r\n\r\n        gbcOptions.gridy = 0;\r\n        optionsPanel.add(optionButton1, gbcOptions);\r\n\r\n        gbcOptions.gridy = 1;\r\n        optionsPanel.add(optionButton2, gbcOptions);\r\n\r\n        gbcOptions.gridy = 2;\r\n        optionsPanel.add(optionButton3, gbcOptions);\r\n\r\n        gbcOptions.gridy = 3;\r\n        optionsPanel.add(optionBackButton, gbcOptions);\r\n\r\n\r\n\r\n        // Set the desired starting index for the window size options\r\n        currentWindowSizeIndex = 1;\r\n\r\n        // Update the text of the optionsButton\r\n        optionButton1.setText(&quot;Screen Size: &quot; + windowSizeOptions[currentWindowSizeIndex]);\r\n\r\n        // Update the main window size based on the selected option\r\n        setWindowSize(windowSizeOptions[currentWindowSizeIndex]);\r\n\r\n\r\n        //adjust button height\r\n        setButtonSize(menuPanel);\r\n        setButtonSize(optionsPanel);\r\n\r\n        //set background\r\n        menuPanel.setBackground(new Color(20,20,20));\r\n        optionsPanel.setBackground(new Color(20,20,20));\r\n\r\n        //Action Listeners\r\n\r\n        /.../\r\n    \r\n        // Show the main menu panel when the program starts\r\n        showMainMenu();\r\n\r\n\r\n    }\r\n\r\nThis method sets the window to size and calculates a few variables:\r\n\r\n    private void setWindowSize(String windowSizeOption) {\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        int newWindowWidth;\r\n        int newWindowHeight;\r\n\r\n        if (windowSizeOption.equals(&quot;Small (1/4)&quot;)) {\r\n            newWindowWidth = (int) (screenSize.width * 0.25);\r\n            newWindowHeight = (int) (screenSize.height * 0.25);\r\n\r\n        } else if (windowSizeOption.equals(&quot;Medium (1/2)&quot;)) {\r\n            newWindowWidth = (int) (screenSize.width * 0.5);\r\n            newWindowHeight = (int) (screenSize.height * 0.5);\r\n        } else if (windowSizeOption.equals(&quot;Large (3/4)&quot;)) {\r\n            newWindowWidth = (int) (screenSize.width * 0.75);\r\n            newWindowHeight = (int) (screenSize.height * 0.75);\r\n        } else { // Fullscreen\r\n            newWindowWidth = screenSize.width;\r\n            newWindowHeight = screenSize.height;\r\n        }\r\n\r\n\r\n        //window size and content size\r\n        windowWidth = newWindowWidth;\r\n        windowHeight = newWindowHeight;\r\n        maxContentWidth = Math.min(newWindowWidth, newWindowHeight * 2);\r\n        maxContentHeight = Math.min(newWindowHeight, newWindowWidth * 2);\r\n\r\n        //Button sizes\r\n        buttonWidth = maxContentWidth / 3;\r\n        spacing = maxContentHeight /40;\r\n\r\n\r\n        // Set the new window size\r\n        setSize(newWindowWidth, newWindowHeight);\r\n\r\n        // Center the window on the screen\r\n        setLocationRelativeTo(null);\r\n    }\r\n\r\nHere is my method that changing the button sizes:\r\n\r\n    private void setButtonSize(JPanel panel) {\r\n        int numButtons = countButtons(panel);\r\n        int availableHeight = (int) (maxContentHeight * 0.8);\r\n        int totalSpacing = (numButtons - 1) * spacing;\r\n        int buttonHeight = (availableHeight - totalSpacing) / numButtons;\r\n\r\n        for (Component component : panel.getComponents()) {\r\n            if (component instanceof JButton) {\r\n                JButton button = (JButton) component;\r\n                button.setPreferredSize(new Dimension(buttonWidth, buttonHeight));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nHere is a method to return the number of buttons in the panel:\r\n\r\n    private int countButtons(JPanel panel) {\r\n        int numButtons = 0;\r\n        for (Component component : panel.getComponents()) {\r\n            if (component instanceof JButton) {\r\n                numButtons++;\r\n            }\r\n        }\r\n        return numButtons;\r\n    }\r\n\r\nHere is the method that stylized the buttons:\r\n\r\n    private JButton createStyledButton(String text, int width) {\r\n        JButton button = new JButton(text);\r\n        button.setBackground(new Color(5,5,5));\r\n        button.setForeground(Color.WHITE);\r\n        button.setPreferredSize(new Dimension(width, 50));\r\n        button.setBorder(BorderFactory.createLineBorder(Color.WHITE, 2));\r\n        button.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        button.setFocusable(false);\r\n        return button;\r\n    }\r\n\r\nHere is the ActionListener for the button that changes screen size (in the same method where the buttons get added):\r\n\r\n    optionButton1.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                // Cycle through the window size options\r\n                currentWindowSizeIndex = (currentWindowSizeIndex + 1) % windowSizeOptions.length;\r\n\r\n                // Update the text of the optionsButton\r\n                optionButton1.setText(&quot;Screen Size: &quot; + windowSizeOptions[currentWindowSizeIndex]);\r\n\r\n                // Update the main window size based on the selected option\r\n                setWindowSize(windowSizeOptions[currentWindowSizeIndex]);\r\n\r\n                //adjust button height\r\n                setButtonSize(menuPanel);\r\n                setButtonSize(optionsPanel);\r\n\r\n                revalidate();\r\n                repaint();\r\n\r\n            }\r\n        });\r\n\r\n\r\nAnd my methods to show the different panels:\r\n\r\n    private void showOptionsMenu() {\r\n        // Hide the main menu panel\r\n        homePanel.remove(menuPanel);\r\n\r\n        // Show the options panel\r\n        homePanel.add(optionsPanel, BorderLayout.CENTER);\r\n\r\n        // Refresh the options panel\r\n        homePanel.revalidate();\r\n        homePanel.repaint();\r\n    }\r\n\r\n\r\n\r\n    private void showMainMenu() {\r\n        // Remove the options menu panel from the main window\r\n        homePanel.remove(optionsPanel);\r\n\r\n        // Add the main menu panel back to the main window\r\n        homePanel.add(menuPanel, BorderLayout.CENTER);\r\n\r\n        // Refresh the main window to display the main menu\r\n        homePanel.revalidate();\r\n        homePanel.repaint();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            MainMenuGUI mainMenu = new MainMenuGUI();\r\n            mainMenu.setVisible(true);\r\n        });\r\n    }\r\n\r\n---\r\n\r\n**What I have tried:**\r\n\r\nI have tried to change the Insets in the `setButtonSize` method:\r\n\r\n    GridBagConstraints gbcOptions = ((GridBagLayout) panel.getLayout()).getConstraints(panel);\r\n    gbcOptions.insets = new Insets(spacing, 0, spacing, 0);\r\n\r\nDoing this once for the panel and also tried doing it for every button in the for loop:\r\n\r\n    for (Component component : panel.getComponents()) {\r\n            if (component instanceof JButton) {\r\n                JButton button = (JButton) component;\r\n                button.setPreferredSize(new Dimension(buttonWidth, buttonHeight));\r\n\r\n                GridBagConstraints gbcOptions = ((GridBagLayout) panel.getLayout()).getConstraints(button);\r\n                gbcOptions.insets = new Insets(spacing, 0, spacing, 0);\r\n            }\r\n        }\r\n\r\n\r\nI tried to change it at the end of the ActionListener for the Screen Size button which is within the same method as the buttons are added.\r\n\r\nAny way I try it doesn&#39;t change from the initial value. If I want a bigger spacing I can set it and the button height is decreased but because I start at 1/2 screen size, when switching  to 1/4 the buttons get much smaller:\r\n\r\n[![Small buttons image][4]][4]\r\n\r\nI always put:\r\n\r\n    revalidate();\r\n    repaint();\r\n\r\nafter, and I also try to put the panel names in front but no difference.\r\n\r\nI have also tried to make the Insets accessible in the class:\r\n\r\n    private Insets inset = new Insets(0, 0, spacing, 0);\r\n\r\nAnd use this to change the spacings:\r\n\r\n    gbcOptions.insets = inset;\r\n\r\nBut I can&#39;t get it to actually change the spacing, the variable `spacing` does change but not the actual space between the buttons.\r\n\r\n---\r\n\r\nSo I&#39;d like to be able to change the spacing somehow, I&#39;d like to use the GridBagLayout as it has been the easiest to get the buttons to align to the center. But if there is an easier / better way to go about this I could use that instead, I&#39;m not completely set on using this layout, I just need it to function as I want it without too much trouble.\r\n\r\nAnd as mentioned above:\r\n\r\n&gt; I am trying to place the buttons in the center of the screen, vertically, and automatically set the button height so it leaves 10% free space on top and bottom. And spaces the buttons by a fraction of the screen, I currently use 1/40 as the spacing. Then the buttons fill the rest of the space.\r\n\r\n  [1]: https://i.stack.imgur.com/TfaVU.png\r\n  [2]: https://i.stack.imgur.com/rZ8Xp.png\r\n  [3]: https://i.stack.imgur.com/ukU1a.png\r\n  [4]: https://i.stack.imgur.com/T8xek.png","title":"Change Insets when changing screen size with Grid Bag Constraints","body":"<p>I have a program intended to be a start menu for a game. So far I have 3 JPanels: <code>homePanel</code>, <code>mainPanel</code> and <code>optionsPanel</code>. The 'homePanel' is a panel holding both menu and options panel.</p>\n<p><a href=\"https://i.stack.imgur.com/TfaVU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TfaVU.png\" alt=\"Home menu image\" /></a></p>\n<p>mainPanel has 3 buttons: <code>Start Game</code>, <code>Options</code>, and <code>Quit</code>. optionsPanel has 3 <code>optionsButton</code> 1 , 2 and 3 as well as a <code>backButton</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/rZ8Xp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rZ8Xp.png\" alt=\"Option menu image\" /></a></p>\n<p>The first button changes the program window size between 4 different sizes. I use GridBagLayout to place the buttons because it has been the most consistent layout to align itself to the center of the screen.</p>\n<p>I am trying to place the buttons in the center of the screen, vertically, and automatically set the button height so it leaves 10% free space on top and bottom. And spaces the buttons by a fraction of the screen, I currently use 1/40 as the spacing. Then the buttons fill the rest of the space.</p>\n<p>This works when I set it up, placing the buttons. I use:</p>\n<pre><code>gbcOptions.insets = new Insets(spacing, 0, spacing, 0);\n</code></pre>\n<p>to set the spacing, but when I try to change the screen size the spacing doesn't change. I am able to correctly calculate the button height and the new spacing value. But the actual spacing between the buttons does not change. They are the same as the first time the buttons were added to the panel.</p>\n<p>Here the program is enlarged and the spacing between the buttons is too small:\n<a href=\"https://i.stack.imgur.com/ukU1a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukU1a.png\" alt=\"Large options image\" /></a></p>\n<hr />\n<p><strong>Methods:</strong></p>\n<p>Start of class:</p>\n<pre><code>public class MainMenuGUI extends JFrame {\n\nprivate JPanel homePanel;\nprivate JPanel menuPanel;\nprivate JPanel optionsPanel;\nprivate JButton[] optionButtons;\nprivate int[] optionValues;\nprivate int windowHeight;\nprivate int windowWidth;\nprivate int maxContentWidth;\nprivate int maxContentHeight;\nprivate int spacing;\n//window size options\nprivate String[] windowSizeOptions = {&quot;Small (1/4)&quot;, &quot;Medium (1/2)&quot;, &quot;Large (3/4)&quot;, &quot;Fullscreen&quot;};\nprivate int currentWindowSizeIndex = 0; // Index of the current window size option\n...\n</code></pre>\n<p>Here are my methods:</p>\n<p>Here is where I set everything up:</p>\n<pre><code>public MainMenuGUI() {\n    // Set up the main window properties\n    setTitle(&quot;Game Main Menu&quot;);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    //window size, calculate the maximum content size based on the window size\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n\n    //set up the window size with the method\n    //Calculate values based on window size\n    setWindowSize(windowSizeOptions[currentWindowSizeIndex]);\n\n    //Print out to se the screen size and max content sizes\n    System.out.println(&quot;window Width: &quot; + windowWidth + &quot;\\nWindow height: &quot; + windowHeight\n                    + &quot;\\nMaxContentWidth: &quot; + maxContentWidth + &quot;\\nMaxContentHeight: &quot; + maxContentHeight);\n\n    setResizable(false);\n    setUndecorated(true);\n    setSize(windowWidth, windowHeight);\n    setLocationRelativeTo(null); // Center the window on the screen\n\n\n    //homePanel holds any Panel outside the gamePanel\n    homePanel = new JPanel();\n    homePanel.setLayout(new BorderLayout());\n    homePanel.setBackground(new Color(20, 20, 20));\n    add(homePanel, BorderLayout.CENTER);\n\n\n    // Create the main menu components\n    menuPanel = new JPanel();\n    menuPanel.setLayout(new GridBagLayout());\n\n\n    // Buttons\n    JButton startButton = createStyledButton(&quot;Start Game&quot;, buttonWidth);\n    JButton optionsButton = createStyledButton(&quot;Options&quot;, buttonWidth);\n    JButton quitButton = createStyledButton(&quot;Quit&quot;, buttonWidth);\n\n\n    // Add buttons to the panel\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.fill = GridBagConstraints.HORIZONTAL;\n    gbc.insets = new Insets(spacing, 0, spacing, 0);\n\n    gbc.gridy = 0;\n    menuPanel.add(startButton, gbc);\n\n    gbc.gridy = 1;\n    menuPanel.add(optionsButton, gbc);\n\n    gbc.gridy = 2;\n    menuPanel.add(quitButton, gbc);\n\n\n    //Option Panel\n\n    // Initialize option buttons and values\n    optionButtons = new JButton[3];\n    optionValues = new int[]{1, 1, 1};\n\n    // Create the options menu components\n    optionsPanel = new JPanel();\n    optionsPanel.setLayout(new GridBagLayout());\n\n\n    //Options Buttons\n    JButton optionButton1 = createStyledButton(&quot;Screen Size: &quot; + windowSizeOptions[currentWindowSizeIndex], buttonWidth);\n    JButton optionButton2 = createStyledButton(&quot;Option 2: &quot; + optionValues[1], buttonWidth);\n    JButton optionButton3 = createStyledButton(&quot;Option 3: &quot; + optionValues[2], buttonWidth);\n    JButton optionBackButton = createStyledButton(&quot;Back&quot;, buttonWidth);\n\n\n    //adding buttons to panel\n    GridBagConstraints gbcOptions = new GridBagConstraints();\n    gbcOptions.fill = GridBagConstraints.HORIZONTAL;\n\n\n    gbcOptions.insets = new Insets(spacing, 0, spacing, 0);\n\n    gbcOptions.gridy = 0;\n    optionsPanel.add(optionButton1, gbcOptions);\n\n    gbcOptions.gridy = 1;\n    optionsPanel.add(optionButton2, gbcOptions);\n\n    gbcOptions.gridy = 2;\n    optionsPanel.add(optionButton3, gbcOptions);\n\n    gbcOptions.gridy = 3;\n    optionsPanel.add(optionBackButton, gbcOptions);\n\n\n\n    // Set the desired starting index for the window size options\n    currentWindowSizeIndex = 1;\n\n    // Update the text of the optionsButton\n    optionButton1.setText(&quot;Screen Size: &quot; + windowSizeOptions[currentWindowSizeIndex]);\n\n    // Update the main window size based on the selected option\n    setWindowSize(windowSizeOptions[currentWindowSizeIndex]);\n\n\n    //adjust button height\n    setButtonSize(menuPanel);\n    setButtonSize(optionsPanel);\n\n    //set background\n    menuPanel.setBackground(new Color(20,20,20));\n    optionsPanel.setBackground(new Color(20,20,20));\n\n    //Action Listeners\n\n    /.../\n\n    // Show the main menu panel when the program starts\n    showMainMenu();\n\n\n}\n</code></pre>\n<p>This method sets the window to size and calculates a few variables:</p>\n<pre><code>private void setWindowSize(String windowSizeOption) {\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    int newWindowWidth;\n    int newWindowHeight;\n\n    if (windowSizeOption.equals(&quot;Small (1/4)&quot;)) {\n        newWindowWidth = (int) (screenSize.width * 0.25);\n        newWindowHeight = (int) (screenSize.height * 0.25);\n\n    } else if (windowSizeOption.equals(&quot;Medium (1/2)&quot;)) {\n        newWindowWidth = (int) (screenSize.width * 0.5);\n        newWindowHeight = (int) (screenSize.height * 0.5);\n    } else if (windowSizeOption.equals(&quot;Large (3/4)&quot;)) {\n        newWindowWidth = (int) (screenSize.width * 0.75);\n        newWindowHeight = (int) (screenSize.height * 0.75);\n    } else { // Fullscreen\n        newWindowWidth = screenSize.width;\n        newWindowHeight = screenSize.height;\n    }\n\n\n    //window size and content size\n    windowWidth = newWindowWidth;\n    windowHeight = newWindowHeight;\n    maxContentWidth = Math.min(newWindowWidth, newWindowHeight * 2);\n    maxContentHeight = Math.min(newWindowHeight, newWindowWidth * 2);\n\n    //Button sizes\n    buttonWidth = maxContentWidth / 3;\n    spacing = maxContentHeight /40;\n\n\n    // Set the new window size\n    setSize(newWindowWidth, newWindowHeight);\n\n    // Center the window on the screen\n    setLocationRelativeTo(null);\n}\n</code></pre>\n<p>Here is my method that changing the button sizes:</p>\n<pre><code>private void setButtonSize(JPanel panel) {\n    int numButtons = countButtons(panel);\n    int availableHeight = (int) (maxContentHeight * 0.8);\n    int totalSpacing = (numButtons - 1) * spacing;\n    int buttonHeight = (availableHeight - totalSpacing) / numButtons;\n\n    for (Component component : panel.getComponents()) {\n        if (component instanceof JButton) {\n            JButton button = (JButton) component;\n            button.setPreferredSize(new Dimension(buttonWidth, buttonHeight));\n        }\n    }\n\n}\n</code></pre>\n<p>Here is a method to return the number of buttons in the panel:</p>\n<pre><code>private int countButtons(JPanel panel) {\n    int numButtons = 0;\n    for (Component component : panel.getComponents()) {\n        if (component instanceof JButton) {\n            numButtons++;\n        }\n    }\n    return numButtons;\n}\n</code></pre>\n<p>Here is the method that stylized the buttons:</p>\n<pre><code>private JButton createStyledButton(String text, int width) {\n    JButton button = new JButton(text);\n    button.setBackground(new Color(5,5,5));\n    button.setForeground(Color.WHITE);\n    button.setPreferredSize(new Dimension(width, 50));\n    button.setBorder(BorderFactory.createLineBorder(Color.WHITE, 2));\n    button.setAlignmentX(Component.CENTER_ALIGNMENT);\n    button.setFocusable(false);\n    return button;\n}\n</code></pre>\n<p>Here is the ActionListener for the button that changes screen size (in the same method where the buttons get added):</p>\n<pre><code>optionButton1.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // Cycle through the window size options\n            currentWindowSizeIndex = (currentWindowSizeIndex + 1) % windowSizeOptions.length;\n\n            // Update the text of the optionsButton\n            optionButton1.setText(&quot;Screen Size: &quot; + windowSizeOptions[currentWindowSizeIndex]);\n\n            // Update the main window size based on the selected option\n            setWindowSize(windowSizeOptions[currentWindowSizeIndex]);\n\n            //adjust button height\n            setButtonSize(menuPanel);\n            setButtonSize(optionsPanel);\n\n            revalidate();\n            repaint();\n\n        }\n    });\n</code></pre>\n<p>And my methods to show the different panels:</p>\n<pre><code>private void showOptionsMenu() {\n    // Hide the main menu panel\n    homePanel.remove(menuPanel);\n\n    // Show the options panel\n    homePanel.add(optionsPanel, BorderLayout.CENTER);\n\n    // Refresh the options panel\n    homePanel.revalidate();\n    homePanel.repaint();\n}\n\n\n\nprivate void showMainMenu() {\n    // Remove the options menu panel from the main window\n    homePanel.remove(optionsPanel);\n\n    // Add the main menu panel back to the main window\n    homePanel.add(menuPanel, BorderLayout.CENTER);\n\n    // Refresh the main window to display the main menu\n    homePanel.revalidate();\n    homePanel.repaint();\n}\n\npublic static void main(String[] args) {\n    SwingUtilities.invokeLater(() -&gt; {\n        MainMenuGUI mainMenu = new MainMenuGUI();\n        mainMenu.setVisible(true);\n    });\n}\n</code></pre>\n<hr />\n<p><strong>What I have tried:</strong></p>\n<p>I have tried to change the Insets in the <code>setButtonSize</code> method:</p>\n<pre><code>GridBagConstraints gbcOptions = ((GridBagLayout) panel.getLayout()).getConstraints(panel);\ngbcOptions.insets = new Insets(spacing, 0, spacing, 0);\n</code></pre>\n<p>Doing this once for the panel and also tried doing it for every button in the for loop:</p>\n<pre><code>for (Component component : panel.getComponents()) {\n        if (component instanceof JButton) {\n            JButton button = (JButton) component;\n            button.setPreferredSize(new Dimension(buttonWidth, buttonHeight));\n\n            GridBagConstraints gbcOptions = ((GridBagLayout) panel.getLayout()).getConstraints(button);\n            gbcOptions.insets = new Insets(spacing, 0, spacing, 0);\n        }\n    }\n</code></pre>\n<p>I tried to change it at the end of the ActionListener for the Screen Size button which is within the same method as the buttons are added.</p>\n<p>Any way I try it doesn't change from the initial value. If I want a bigger spacing I can set it and the button height is decreased but because I start at 1/2 screen size, when switching  to 1/4 the buttons get much smaller:</p>\n<p><a href=\"https://i.stack.imgur.com/T8xek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8xek.png\" alt=\"Small buttons image\" /></a></p>\n<p>I always put:</p>\n<pre><code>revalidate();\nrepaint();\n</code></pre>\n<p>after, and I also try to put the panel names in front but no difference.</p>\n<p>I have also tried to make the Insets accessible in the class:</p>\n<pre><code>private Insets inset = new Insets(0, 0, spacing, 0);\n</code></pre>\n<p>And use this to change the spacings:</p>\n<pre><code>gbcOptions.insets = inset;\n</code></pre>\n<p>But I can't get it to actually change the spacing, the variable <code>spacing</code> does change but not the actual space between the buttons.</p>\n<hr />\n<p>So I'd like to be able to change the spacing somehow, I'd like to use the GridBagLayout as it has been the easiest to get the buttons to align to the center. But if there is an easier / better way to go about this I could use that instead, I'm not completely set on using this layout, I just need it to function as I want it without too much trouble.</p>\n<p>And as mentioned above:</p>\n<blockquote>\n<p>I am trying to place the buttons in the center of the screen, vertically, and automatically set the button height so it leaves 10% free space on top and bottom. And spaces the buttons by a fraction of the screen, I currently use 1/40 as the spacing. Then the buttons fill the rest of the space.</p>\n</blockquote>\n"},{"tags":["java","serverless","sst"],"owner":{"account_id":19985487,"reputation":1,"user_id":14647698,"display_name":"Jida Liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690332118,"creation_date":1690332118,"question_id":76767308,"body_markdown":"I tried to develop SST application using Java11 runtime.\r\nBy refering to guides [Configuring Java runtime](https://docs.sst.dev/constructs/Function#configuring-java-runtime), I create a project using runtime of Java11, my stacks like\r\n```\r\nexport default {\r\n  config(_input) {\r\n    return {\r\n      name: &#39;my-sst-test2&#39;,\r\n      region: &#39;cn-northwest-1&#39;\r\n    };\r\n  },\r\n  stacks(app) {\r\n    app.setDefaultFunctionProps({\r\n      runtime: &quot;java11&quot;,\r\n    });\r\n    app.stack(function Stack({ stack }) {\r\n      const api = new Api(stack, &quot;api-java-test&quot;, {\r\n        routes: {\r\n          &quot;GET /&quot;: &quot;api.Handler::handleRequest&quot;,\r\n        },\r\n      });\r\n      stack.addOutputs({\r\n        ApiEndpoint: api.url,\r\n      });\r\n    });\r\n  },\r\n} satisfies SSTConfig;\r\n```\r\nAnd my handler implement in Java is like\r\n```java\r\npublic class Handler implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt;{\r\n  @Override\r\n  public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent event, Context context)\r\n  {\r\n    APIGatewayProxyResponseEvent response = new APIGatewayProxyResponseEvent();\r\n    response.setStatusCode(200);\r\n    response.setBody(&quot;Hello, World! Received a request with id &quot; + event.getRequestContext().getRequestId());\r\n    return response;\r\n  }\r\n}\r\n```\r\nwhen I try to invoke lambda by requesting &quot;https://xxxxxxxxx.execute-api.cn-northwest-1.amazonaws.com.cn/&quot;, I got InaccessibleObjectException, error logs like\r\n```\r\n|  Invoked api.Handler::handleRequest\r\ncolors.js:6|  +4848ms Exception in thread &quot;main&quot;\r\ncolors.js:6|  +4850ms java.lang.Error: java.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @433c675d\r\ncolors.js:6|  +4850ms \tat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:195)\r\ncolors.js:6|  +4851ms \tat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.main(AWSLambda.java:188)\r\ncolors.js:6|  +4851ms Caused by: java.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @433c675d\r\ncolors.js:6|  +4852ms \tat com.amazonaws.services.lambda.runtime.api.client.util.EnvWriter.&lt;init&gt;(EnvWriter.java:26)\r\ncolors.js:6|  +4852ms \tat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:210)\r\ncolors.js:6|  +4853ms \tat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:193)\r\ncolors.js:6|  +4853ms \t... 1 more\r\ncolors.js:6|  +4854ms Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @433c675d\r\ncolors.js:6|  +4854ms \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\ncolors.js:6|  +4854ms \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\ncolors.js:6|  +4855ms \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\ncolors.js:6|  +4855ms \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\ncolors.js:6|  +4855ms \tat com.amazonaws.services.lambda.runtime.api.client.util.EnvWriter.&lt;init&gt;(EnvWriter.java:21)\r\ncolors.js:6|  +4855ms \t... 3 more\r\n```\r\nafter searching google, I got solutions like described in &quot;[https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m]&quot;\r\nIt request to add vm optins &quot;java --add-opens java.base/java.lang=ALL-UNNAMED&quot; when running java application to allow all reflect operations, but I cannot find where to add vm options when running sst.\r\n\r\nIn &quot;sst/runtime/handlers/java.js/useJavaHandler&quot;, it seems sst accept extra options when running java application, but I cannot find where to configure it.\r\n```\r\nconst proc = spawn(`java`, [\r\n    `-cp`,\r\n    [\r\n        url.fileURLToPath(new URL(&quot;../../support/java-runtime/release/*&quot;, import.meta.url)),\r\n    ].join(os.platform() === &quot;win32&quot; ? &quot;;&quot; : &quot;:&quot;),\r\n    &quot;com.amazonaws.services.lambda.runtime.api.client.AWSLambda&quot;,\r\n    input.handler,\r\n], {\r\n    env: {\r\n        ...process.env,\r\n        ...input.environment,\r\n        IS_LOCAL: &quot;true&quot;,\r\n        AWS_LAMBDA_RUNTIME_API: `localhost:${server.port}/${input.workerID}`,\r\n    },\r\n    cwd: input.out,\r\n});\r\n```\r\n\r\nI cannot find where to add vm options when invoking SST application locally using Java runtime","title":"How to add vm options when using java runtime in SST?","body":"<p>I tried to develop SST application using Java11 runtime.\nBy refering to guides <a href=\"https://docs.sst.dev/constructs/Function#configuring-java-runtime\" rel=\"nofollow noreferrer\">Configuring Java runtime</a>, I create a project using runtime of Java11, my stacks like</p>\n<pre><code>export default {\n  config(_input) {\n    return {\n      name: 'my-sst-test2',\n      region: 'cn-northwest-1'\n    };\n  },\n  stacks(app) {\n    app.setDefaultFunctionProps({\n      runtime: &quot;java11&quot;,\n    });\n    app.stack(function Stack({ stack }) {\n      const api = new Api(stack, &quot;api-java-test&quot;, {\n        routes: {\n          &quot;GET /&quot;: &quot;api.Handler::handleRequest&quot;,\n        },\n      });\n      stack.addOutputs({\n        ApiEndpoint: api.url,\n      });\n    });\n  },\n} satisfies SSTConfig;\n</code></pre>\n<p>And my handler implement in Java is like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Handler implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt;{\n  @Override\n  public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent event, Context context)\n  {\n    APIGatewayProxyResponseEvent response = new APIGatewayProxyResponseEvent();\n    response.setStatusCode(200);\n    response.setBody(&quot;Hello, World! Received a request with id &quot; + event.getRequestContext().getRequestId());\n    return response;\n  }\n}\n</code></pre>\n<p>when I try to invoke lambda by requesting &quot;https://xxxxxxxxx.execute-api.cn-northwest-1.amazonaws.com.cn/&quot;, I got InaccessibleObjectException, error logs like</p>\n<pre><code>|  Invoked api.Handler::handleRequest\ncolors.js:6|  +4848ms Exception in thread &quot;main&quot;\ncolors.js:6|  +4850ms java.lang.Error: java.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @433c675d\ncolors.js:6|  +4850ms   at com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:195)\ncolors.js:6|  +4851ms   at com.amazonaws.services.lambda.runtime.api.client.AWSLambda.main(AWSLambda.java:188)\ncolors.js:6|  +4851ms Caused by: java.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @433c675d\ncolors.js:6|  +4852ms   at com.amazonaws.services.lambda.runtime.api.client.util.EnvWriter.&lt;init&gt;(EnvWriter.java:26)\ncolors.js:6|  +4852ms   at com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:210)\ncolors.js:6|  +4853ms   at com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:193)\ncolors.js:6|  +4853ms   ... 1 more\ncolors.js:6|  +4854ms Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @433c675d\ncolors.js:6|  +4854ms   at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\ncolors.js:6|  +4854ms   at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\ncolors.js:6|  +4855ms   at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\ncolors.js:6|  +4855ms   at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\ncolors.js:6|  +4855ms   at com.amazonaws.services.lambda.runtime.api.client.util.EnvWriter.&lt;init&gt;(EnvWriter.java:21)\ncolors.js:6|  +4855ms   ... 3 more\n</code></pre>\n<p>after searching google, I got solutions like described in &quot;[https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m]&quot;\nIt request to add vm optins &quot;java --add-opens java.base/java.lang=ALL-UNNAMED&quot; when running java application to allow all reflect operations, but I cannot find where to add vm options when running sst.</p>\n<p>In &quot;sst/runtime/handlers/java.js/useJavaHandler&quot;, it seems sst accept extra options when running java application, but I cannot find where to configure it.</p>\n<pre><code>const proc = spawn(`java`, [\n    `-cp`,\n    [\n        url.fileURLToPath(new URL(&quot;../../support/java-runtime/release/*&quot;, import.meta.url)),\n    ].join(os.platform() === &quot;win32&quot; ? &quot;;&quot; : &quot;:&quot;),\n    &quot;com.amazonaws.services.lambda.runtime.api.client.AWSLambda&quot;,\n    input.handler,\n], {\n    env: {\n        ...process.env,\n        ...input.environment,\n        IS_LOCAL: &quot;true&quot;,\n        AWS_LAMBDA_RUNTIME_API: `localhost:${server.port}/${input.workerID}`,\n    },\n    cwd: input.out,\n});\n</code></pre>\n<p>I cannot find where to add vm options when invoking SST application locally using Java runtime</p>\n"},{"tags":["java","maven","weblogic"],"comments":[{"owner":{"account_id":328273,"reputation":14391,"user_id":651140,"display_name":"Andrzej Jozwik"},"score":0,"creation_date":1333435024,"post_id":9984904,"comment_id":12764522,"body_markdown":"Have you tried mvn -Pext weblogic:deploy?","body":"Have you tried mvn -Pext weblogic:deploy?"}],"answers":[{"tags":[],"owner":{"account_id":357146,"reputation":1563,"user_id":697114,"display_name":"Jeff West"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690331300,"creation_date":1333461150,"answer_id":9994726,"question_id":9984904,"body_markdown":"It looks like you are not referring to the Oracle WebLogic Maven Plugin.  In the error you see this: org.codehaus.mojo:weblogic-maven-plugin:maven-plugin:3.9.3.  Perhaps you were trying the codehaus plugin and need to update your pom with the coordinates to the Oracle one that you installed.  For example:\r\n\r\n\r\n    groupId=com.oracle.weblogic\r\n    artifactId=weblogic-maven-plugin\r\n    version=10.3.4\r\n\r\n","title":"Cannot find weblogic maven plugin","body":"<p>It looks like you are not referring to the Oracle WebLogic Maven Plugin.  In the error you see this: org.codehaus.mojo:weblogic-maven-plugin:maven-plugin:3.9.3.  Perhaps you were trying the codehaus plugin and need to update your pom with the coordinates to the Oracle one that you installed.  For example:</p>\n<pre><code>groupId=com.oracle.weblogic\nartifactId=weblogic-maven-plugin\nversion=10.3.4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":400676,"reputation":463,"user_id":766778,"accept_rate":78,"display_name":"Dhawan Gayash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1335289719,"creation_date":1335289719,"answer_id":10303240,"question_id":9984904,"body_markdown":"You need to check your settings.xml file. You need to add the following into your settings.xml \r\n   &lt;pluginGroups&gt;\r\n     &lt;!-- pluginGroup\r\n      | Specifies a further group identifier to use for plugin lookup.\r\n      --&gt;\r\n      &lt;pluginGroup&gt;com.oracle.weblogic&lt;/pluginGroup&gt;\r\n   &lt;/pluginGroups&gt;\r\n\r\nAlso you need to follow a two step process for installing the weblogic maven plugin jar. First use the jarbuilder tool for generating the uber jar. \r\n\r\n     java -jar wljarbuilder.jar -profile weblogic-maven-plugin\r\n\r\nThis command would create a 65MB jar named weblogic-maven-plugin jar. Now you need to provision your jar into the repo. Use the command and remove the pom.xml from the jar.\r\n    \r\n     jar xvf MW_HOME/wlserver_10.3/server/lib/weblogic-maven-plugin.jar META-INF/maven/com.oracle.weblogic/weblogic-maven-plugin/pom.xml\r\n     \r\n     cp MW_HOME/wlserver_10.3/server/lib/META-INF/maven/com.oracle.weblogic/weblogic-maven-plugin/pom.xml MW_HOME/wlserver_10.3/server/lib\r\n\r\nThe next step is most important. You need to be in the MW_HOME/wlserver_10.3/server/lib directory for this. \r\n\r\n     mvn install\r\n\r\nAnd then you need to do a ....\r\n\r\n     mvn install:install-file -Dfile=&quot;MW_HOME/wlserver_10.3/server/lib/weblogic-maven-plugin.jar -DpomFile=&quot;pom.xml&quot; \r\n\r\n\r\n&lt;a href=&quot;http://buttso.blogspot.com/2011/02/using-weblogic-prefix-with-weblogic.html&quot;&gt;weblogic goal prefix with weblogic maven plugins&lt;/a&gt;\r\n\r\n\r\n     \r\n","title":"Cannot find weblogic maven plugin","body":"<p>You need to check your settings.xml file. You need to add the following into your settings.xml \n   \n     \n      com.oracle.weblogic\n   </p>\n\n<p>Also you need to follow a two step process for installing the weblogic maven plugin jar. First use the jarbuilder tool for generating the uber jar. </p>\n\n<pre><code> java -jar wljarbuilder.jar -profile weblogic-maven-plugin\n</code></pre>\n\n<p>This command would create a 65MB jar named weblogic-maven-plugin jar. Now you need to provision your jar into the repo. Use the command and remove the pom.xml from the jar.</p>\n\n<pre><code> jar xvf MW_HOME/wlserver_10.3/server/lib/weblogic-maven-plugin.jar META-INF/maven/com.oracle.weblogic/weblogic-maven-plugin/pom.xml\n\n cp MW_HOME/wlserver_10.3/server/lib/META-INF/maven/com.oracle.weblogic/weblogic-maven-plugin/pom.xml MW_HOME/wlserver_10.3/server/lib\n</code></pre>\n\n<p>The next step is most important. You need to be in the MW_HOME/wlserver_10.3/server/lib directory for this. </p>\n\n<pre><code> mvn install\n</code></pre>\n\n<p>And then you need to do a ....</p>\n\n<pre><code> mvn install:install-file -Dfile=\"MW_HOME/wlserver_10.3/server/lib/weblogic-maven-plugin.jar -DpomFile=\"pom.xml\" \n</code></pre>\n\n<p><a href=\"http://buttso.blogspot.com/2011/02/using-weblogic-prefix-with-weblogic.html\" rel=\"noreferrer\">weblogic goal prefix with weblogic maven plugins</a></p>\n"},{"tags":[],"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447103061,"creation_date":1399563316,"answer_id":23546274,"question_id":9984904,"body_markdown":"this is what i did for weblogic 12c\r\n\r\nThis basically\r\n\r\n - Builds client jars\r\n - Builds oralce maven plugin jar\r\n - Installs them in local repo\r\n - Then uses the sync plugin to push tons of oracle jars in local repo - including ejb, jsf, jpa, weblogic 200+ jars\r\n\r\nSee\r\nhttp://docs.oracle.com/middleware/1212/core/MAVEN/config_maven.htm\r\nhttp://docs.oracle.com/middleware/1212/wls/WLPRG/maven.htm\r\n\r\nif you a developer using zip installation follow these instruction to install weblogic zip\r\n\r\nhttp://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html\r\n\r\nclean /home/oracle/.m2/repository dir\r\n\r\n    cd /home/oracle/wls12120/wlserver/server/lib\r\n   \r\n    cp weblogic.jar weblogic-classes.jar\r\n    java -jar wljarbuilder.jar -profile weblogic-maven-plugin\r\n    mvn install:install-file -Dfile=weblogic-maven-plugin.jar -DpomFile=pom.xml\r\n    mvn install\r\n    cd /home/oracle/wls12120/oracle_common/plugins/maven/com/oracle/maven/oracle-maven-sync/12.1.2\r\n    mvn install:install-file -DpomFile=oracle-maven-sync.12.1.2.pom -Dfile=oracle-maven-sync.12.1.2.jar\r\n    mvn com.oracle.maven:oracle-maven-sync:push  -Doracle-maven-sync.oracleHome=/home/oracle/wls12120  -Doracle-maven-sync.testingOnly=false -X\r\n\r\n\r\nFor windows I wrote this script that you can run from home dir\r\ntested in 12.1.2\r\n\r\n\tcls\r\n\techo about to delete %USERPROFILE%\\.m2\\repository\r\n\tpause\r\n\tdel /Q/F %USERPROFILE%\\.m2\\repository\r\n\r\n\tset WL_HOME=%~dp0\r\n\tset ORACLE_HOME=%~dp0\r\n\tset WLV=12.1.2\r\n\r\n\r\n\tset w\r\n\r\n\tset M2_HOME=%WL_HOME%\\oracle_common\\modules\\org.apache.maven_3.0.4\r\n\r\n\tsetlocal\r\n\tpushd\r\n\tcd %WL_HOME%\\wlserver\\server\\lib\r\n\tcp weblogic.jar weblogic-classes.jar\r\n\tcall java -jar wljarbuilder.jar -profile weblogic-maven-plugin\r\n\tcall mvn install:install-file -Dfile=weblogic-maven-plugin.jar -DpomFile=pom.xml\r\n\techo on\r\n\tcall mvn install\r\n\r\n\tpause\r\n\r\n\techo on\r\n\tcd %WL_HOME%\\oracle_common\\plugins\\maven\\com\\oracle\\maven\\oracle-maven-sync\\%WLV%\r\n\techo on\r\n\tcall mvn install:install-file -DpomFile=oracle-maven-sync.%WLV%.pom -Dfile=oracle-maven-sync.%WLV%.jar\r\n\techo on\r\n\tcall mvn com.oracle.maven:oracle-maven-sync:push  -Doracle-maven-sync.oracleHome=%WL_HOME% -Doracle-maven-sync.testingOnly=false -X\r\n\r\n\tpopd\r\n","title":"Cannot find weblogic maven plugin","body":"<p>this is what i did for weblogic 12c</p>\n\n<p>This basically</p>\n\n<ul>\n<li>Builds client jars</li>\n<li>Builds oralce maven plugin jar</li>\n<li>Installs them in local repo</li>\n<li>Then uses the sync plugin to push tons of oracle jars in local repo - including ejb, jsf, jpa, weblogic 200+ jars</li>\n</ul>\n\n<p>See\n<a href=\"http://docs.oracle.com/middleware/1212/core/MAVEN/config_maven.htm\" rel=\"nofollow\">http://docs.oracle.com/middleware/1212/core/MAVEN/config_maven.htm</a>\n<a href=\"http://docs.oracle.com/middleware/1212/wls/WLPRG/maven.htm\" rel=\"nofollow\">http://docs.oracle.com/middleware/1212/wls/WLPRG/maven.htm</a></p>\n\n<p>if you a developer using zip installation follow these instruction to install weblogic zip</p>\n\n<p><a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html\" rel=\"nofollow\">http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html</a></p>\n\n<p>clean /home/oracle/.m2/repository dir</p>\n\n<pre><code>cd /home/oracle/wls12120/wlserver/server/lib\n\ncp weblogic.jar weblogic-classes.jar\njava -jar wljarbuilder.jar -profile weblogic-maven-plugin\nmvn install:install-file -Dfile=weblogic-maven-plugin.jar -DpomFile=pom.xml\nmvn install\ncd /home/oracle/wls12120/oracle_common/plugins/maven/com/oracle/maven/oracle-maven-sync/12.1.2\nmvn install:install-file -DpomFile=oracle-maven-sync.12.1.2.pom -Dfile=oracle-maven-sync.12.1.2.jar\nmvn com.oracle.maven:oracle-maven-sync:push  -Doracle-maven-sync.oracleHome=/home/oracle/wls12120  -Doracle-maven-sync.testingOnly=false -X\n</code></pre>\n\n<p>For windows I wrote this script that you can run from home dir\ntested in 12.1.2</p>\n\n<pre><code>cls\necho about to delete %USERPROFILE%\\.m2\\repository\npause\ndel /Q/F %USERPROFILE%\\.m2\\repository\n\nset WL_HOME=%~dp0\nset ORACLE_HOME=%~dp0\nset WLV=12.1.2\n\n\nset w\n\nset M2_HOME=%WL_HOME%\\oracle_common\\modules\\org.apache.maven_3.0.4\n\nsetlocal\npushd\ncd %WL_HOME%\\wlserver\\server\\lib\ncp weblogic.jar weblogic-classes.jar\ncall java -jar wljarbuilder.jar -profile weblogic-maven-plugin\ncall mvn install:install-file -Dfile=weblogic-maven-plugin.jar -DpomFile=pom.xml\necho on\ncall mvn install\n\npause\n\necho on\ncd %WL_HOME%\\oracle_common\\plugins\\maven\\com\\oracle\\maven\\oracle-maven-sync\\%WLV%\necho on\ncall mvn install:install-file -DpomFile=oracle-maven-sync.%WLV%.pom -Dfile=oracle-maven-sync.%WLV%.jar\necho on\ncall mvn com.oracle.maven:oracle-maven-sync:push  -Doracle-maven-sync.oracleHome=%WL_HOME% -Doracle-maven-sync.testingOnly=false -X\n\npopd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29089683,"reputation":1,"user_id":22283856,"display_name":"Indra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690305966,"creation_date":1690305966,"answer_id":76765189,"question_id":9984904,"body_markdown":"mvn -X com.oracle.maven:oracle-maven-sync:push -DoracleHome=%ORACLE_HOME% -Doracle-maven-sync.testingOnly=false","title":"Cannot find weblogic maven plugin","body":"<p>mvn -X com.oracle.maven:oracle-maven-sync:push -DoracleHome=%ORACLE_HOME% -Doracle-maven-sync.testingOnly=false</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12516,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10303240,"answer_count":4,"score":2,"last_activity_date":1690331300,"creation_date":1333407006,"question_id":9984904,"body_markdown":"I follow this tutorial to install weblogic plugin:\r\nhttp://docs.oracle.com/cd/E21764_01/web.1111/e13702/maven_deployer.htm\r\nand now I can see this jar in my local repository\r\nbut when I run mvn weblogic:deploy I have still this error:\r\n\r\n    No versions are present in the repository for the artifact with a range [9.0,11.0)\r\n      weblogic:weblogic:jar:null\r\n    \r\n    from the specified remote repositories:\r\n      central (http://repo1.maven.org/maven2),\r\n      codehaus.org (http://snapshots.repository.codehaus.org)\r\n    \r\n    Path to dependency: \r\n    \t1) org.codehaus.mojo:weblogic-maven-plugin:maven-plugin:3.9.3\r\n\r\n\r\nmaven setting:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings&gt;\r\n        &lt;localRepository&gt;/path...&lt;/localRepository&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;ext&lt;/id&gt;\r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;central&lt;/id&gt;\r\n                        &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;java.net&lt;/id&gt;\r\n                        &lt;url&gt;http://download.java.net/maven/2&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;maven2-repository.dev.java.net&lt;/id&gt;\r\n                        &lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;Mirrors.ibiblio.org&lt;/id&gt;\r\n                        &lt;url&gt;http://mirrors.ibiblio.org/pub/mirrors/maven2/&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;mojo-executor-repository&lt;/id&gt;\r\n                        &lt;url&gt;http://mojo-executor.googlecode.com/svn/repo/&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;id&gt;spring-maven-milestone&lt;/id&gt;\r\n                        &lt;name&gt;Springframework Maven Repository&lt;/name&gt;\r\n                        &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n                &lt;pluginRepositories&gt;\r\n                    &lt;pluginRepository&gt;\r\n                        &lt;id&gt;java.net&lt;/id&gt;\r\n                        &lt;name&gt;Java.net Repository for Maven2&lt;/name&gt;\r\n                        &lt;url&gt;http://download.java.net/maven/1/&lt;/url&gt;\r\n                        &lt;layout&gt;legacy&lt;/layout&gt;\r\n                    &lt;/pluginRepository&gt;\r\n                    &lt;pluginRepository&gt;\r\n                        &lt;id&gt;eviwarePluginRepository&lt;/id&gt;\r\n                        &lt;url&gt;http://www.eviware.com/repository/maven2/&lt;/url&gt;\r\n                    &lt;/pluginRepository&gt;\r\n                &lt;/pluginRepositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n&lt;/settings&gt;\r\n\r\n","title":"Cannot find weblogic maven plugin","body":"<p>I follow this tutorial to install weblogic plugin:\n<a href=\"http://docs.oracle.com/cd/E21764_01/web.1111/e13702/maven_deployer.htm\" rel=\"nofollow\">http://docs.oracle.com/cd/E21764_01/web.1111/e13702/maven_deployer.htm</a>\nand now I can see this jar in my local repository\nbut when I run mvn weblogic:deploy I have still this error:</p>\n\n<pre><code>No versions are present in the repository for the artifact with a range [9.0,11.0)\n  weblogic:weblogic:jar:null\n\nfrom the specified remote repositories:\n  central (http://repo1.maven.org/maven2),\n  codehaus.org (http://snapshots.repository.codehaus.org)\n\nPath to dependency: \n    1) org.codehaus.mojo:weblogic-maven-plugin:maven-plugin:3.9.3\n</code></pre>\n\n<p>maven setting:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings&gt;\n    &lt;localRepository&gt;/path...&lt;/localRepository&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;ext&lt;/id&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;java.net&lt;/id&gt;\n                    &lt;url&gt;http://download.java.net/maven/2&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;maven2-repository.dev.java.net&lt;/id&gt;\n                    &lt;url&gt;http://download.java.net/maven/2/&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;Mirrors.ibiblio.org&lt;/id&gt;\n                    &lt;url&gt;http://mirrors.ibiblio.org/pub/mirrors/maven2/&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;mojo-executor-repository&lt;/id&gt;\n                    &lt;url&gt;http://mojo-executor.googlecode.com/svn/repo/&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;spring-maven-milestone&lt;/id&gt;\n                    &lt;name&gt;Springframework Maven Repository&lt;/name&gt;\n                    &lt;url&gt;http://maven.springframework.org/milestone&lt;/url&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;java.net&lt;/id&gt;\n                    &lt;name&gt;Java.net Repository for Maven2&lt;/name&gt;\n                    &lt;url&gt;http://download.java.net/maven/1/&lt;/url&gt;\n                    &lt;layout&gt;legacy&lt;/layout&gt;\n                &lt;/pluginRepository&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;eviwarePluginRepository&lt;/id&gt;\n                    &lt;url&gt;http://www.eviware.com/repository/maven2/&lt;/url&gt;\n                &lt;/pluginRepository&gt;\n            &lt;/pluginRepositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["python","java","deep-learning","djl"],"owner":{"account_id":27896473,"reputation":13,"user_id":21301661,"display_name":"frogfromflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690328870,"creation_date":1689682413,"question_id":76712665,"body_markdown":"I need the use pre-trained model of DialoGpt but with Java. Could you provide me a code sample. It&#39;s not necessary to use only DJL, you can use every Java-written library.\r\n\r\nI&#39;ve tried to copy Python code to Java according to the code sample at the end of the page: https://huggingface.co/microsoft/DialoGPT-large \r\nbut I don&#39;t know what to start with.\r\n\r\nHere&#39;s the code (you can also find it at the end of the link above):\r\n\r\n``` python\r\nfrom transformers import AutoModelForCausalLM, AutoTokenizer\r\nimport torch\r\n\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(&quot;microsoft/DialoGPT-large&quot;)\r\nmodel = AutoModelForCausalLM.from_pretrained(&quot;microsoft/DialoGPT-large&quot;)\r\n\r\n# Let&#39;s chat for 5 lines\r\nfor step in range(5):\r\n    # encode the new user input, add the eos_token and return a tensor in Pytorch\r\n    new_user_input_ids = tokenizer.encode(input(&quot;&gt;&gt; User:&quot;) + tokenizer.eos_token, return_tensors=&#39;pt&#39;)\r\n\r\n    # append the new user input tokens to the chat history\r\n    bot_input_ids = torch.cat([chat_history_ids, new_user_input_ids], dim=-1) if step &gt; 0 else new_user_input_ids\r\n\r\n    # generated a response while limiting the total chat history to 1000 tokens, \r\n    chat_history_ids = model.generate(bot_input_ids, max_length=1000, pad_token_id=tokenizer.eos_token_id)\r\n\r\n    # pretty print last ouput tokens from bot\r\n    print(&quot;DialoGPT: {}&quot;.format(tokenizer.decode(chat_history_ids[:, bot_input_ids.shape[-1]:][0], skip_special_tokens=True)))\r\n```","title":"How to use DialoGpt with DJL","body":"<p>I need the use pre-trained model of DialoGpt but with Java. Could you provide me a code sample. It's not necessary to use only DJL, you can use every Java-written library.</p>\n<p>I've tried to copy Python code to Java according to the code sample at the end of the page: <a href=\"https://huggingface.co/microsoft/DialoGPT-large\" rel=\"nofollow noreferrer\">https://huggingface.co/microsoft/DialoGPT-large</a>\nbut I don't know what to start with.</p>\n<p>Here's the code (you can also find it at the end of the link above):</p>\n<pre class=\"lang-py prettyprint-override\"><code>from transformers import AutoModelForCausalLM, AutoTokenizer\nimport torch\n\n\ntokenizer = AutoTokenizer.from_pretrained(&quot;microsoft/DialoGPT-large&quot;)\nmodel = AutoModelForCausalLM.from_pretrained(&quot;microsoft/DialoGPT-large&quot;)\n\n# Let's chat for 5 lines\nfor step in range(5):\n    # encode the new user input, add the eos_token and return a tensor in Pytorch\n    new_user_input_ids = tokenizer.encode(input(&quot;&gt;&gt; User:&quot;) + tokenizer.eos_token, return_tensors='pt')\n\n    # append the new user input tokens to the chat history\n    bot_input_ids = torch.cat([chat_history_ids, new_user_input_ids], dim=-1) if step &gt; 0 else new_user_input_ids\n\n    # generated a response while limiting the total chat history to 1000 tokens, \n    chat_history_ids = model.generate(bot_input_ids, max_length=1000, pad_token_id=tokenizer.eos_token_id)\n\n    # pretty print last ouput tokens from bot\n    print(&quot;DialoGPT: {}&quot;.format(tokenizer.decode(chat_history_ids[:, bot_input_ids.shape[-1]:][0], skip_special_tokens=True)))\n</code></pre>\n"},{"tags":["java","swing","awt","jtree","treecellrenderer"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690168419,"post_id":76751073,"comment_id":135310635,"body_markdown":"If you&#39;re going to modify that state of the children based on updates to the parent, then you&#39;re going to need to generate appropriate tree events","body":"If you&#39;re going to modify that state of the children based on updates to the parent, then you&#39;re going to need to generate appropriate tree events"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690168661,"post_id":76751073,"comment_id":135310655,"body_markdown":"I would look to make use of a custom `TreeModel`, as this is going to give you more control and information","body":"I would look to make use of a custom <code>TreeModel</code>, as this is going to give you more control and information"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690169606,"post_id":76751073,"comment_id":135310719,"body_markdown":"I would also spend some time looking over the `TreeModel#valueForPathChanged` method, as this would most likely be the place you want to update the child objects and generate the appropriate tree events ... and no, I don&#39;t have example, I&#39;ve just been reading","body":"I would also spend some time looking over the <code>TreeModel#valueForPathChanged</code> method, as this would most likely be the place you want to update the child objects and generate the appropriate tree events ... and no, I don&#39;t have example, I&#39;ve just been reading"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690328820,"creation_date":1690172651,"answer_id":76751395,"question_id":76751073,"body_markdown":"I&#39;m not going to try and fix your code, it&#39;s moving in the wrong direction for what you seem to be trying to achieve, instead, I&#39;ve modified [this example](https://stackoverflow.com/questions/31375773/how-do-you-make-components-of-jpanel-as-a-node-in-jtree-usable/31376208#31376208) to add support for updating the child nodes when the parent node state changes.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.AbstractCellEditor;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTree;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.tree.DefaultMutableTreeNode;\r\n    import javax.swing.tree.DefaultTreeModel;\r\n    import javax.swing.tree.TreeCellEditor;\r\n    import javax.swing.tree.TreeCellRenderer;\r\n    import javax.swing.tree.TreeNode;\r\n    import javax.swing.tree.TreePath;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JTree tree = createTree();\r\n                    tree.setToggleClickCount(0);\r\n                    tree.setCellRenderer(new StateRenderer());\r\n                    tree.setCellEditor(new StateEditor());\r\n                    tree.setEditable(true);\r\n\r\n                    JFrame f = new JFrame();\r\n                    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    f.add(new JScrollPane(tree));\r\n\r\n                    f.pack();\r\n                    f.setLocationRelativeTo(null);\r\n                    f.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        private JTree createTree() {\r\n            int children = 4;\r\n            int grandChildren = 2;\r\n            DefaultMutableTreeNode root = new DefaultMutableTreeNode(new State(&quot;Films&quot;, false));\r\n            DefaultMutableTreeNode node;\r\n\r\n            String[] cat = {&quot;Sci-Fi&quot;, &quot;Fantasy&quot;, &quot;Action&quot;, &quot;Comedy&quot;};\r\n            String[][] films = {\r\n                {&quot;Star Wars&quot;, &quot;Star Trek&quot;},\r\n                {&quot;Lord of the Rings&quot;, &quot;Conan&quot;},\r\n                {&quot;Terminator&quot;, &quot;Transformers&quot;},\r\n                {&quot;Cheaper by the Doze&quot;, &quot;Father of the Bride&quot;}\r\n            };\r\n            for (int j = 0; j &lt; children; j++) {\r\n                node = new DefaultMutableTreeNode(new State(cat[j], false));\r\n                root.add(node);\r\n                for (int k = 0; k &lt; grandChildren; k++) {\r\n                    node.add(new DefaultMutableTreeNode(new State(films[j][k], false)));\r\n                }\r\n            }\r\n            TestModel model = new TestModel(root);\r\n            return new JTree(model);\r\n        }\r\n\r\n        public class State {\r\n\r\n            private String text;\r\n            private boolean selected;\r\n\r\n            public State(String text, boolean selected) {\r\n                this.text = text;\r\n                this.selected = selected;\r\n            }\r\n\r\n            public String getText() {\r\n                return text;\r\n            }\r\n\r\n            public boolean isSelected() {\r\n                return selected;\r\n            }\r\n\r\n            public void setSelected(boolean selected) {\r\n                this.selected = selected;\r\n            }\r\n\r\n        }\r\n\r\n        public class StateEditor extends AbstractCellEditor implements TreeCellEditor {\r\n\r\n            //JPanel panel;\r\n            private JCheckBox checkBox;\r\n\r\n            private State editorValue;\r\n\r\n            public StateEditor() {\r\n                checkBox = new JCheckBox();\r\n                checkBox.setOpaque(false);\r\n                // This seems to be important :/\r\n                checkBox.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        stopCellEditing();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Object getCellEditorValue() {\r\n                editorValue.setSelected(checkBox.isSelected());\r\n                return editorValue;\r\n            }\r\n\r\n            @Override\r\n            public Component getTreeCellEditorComponent(JTree tree, Object value, boolean isSelected, boolean expanded, boolean leaf, int row) {\r\n                if (value instanceof DefaultMutableTreeNode) {\r\n                    DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\r\n                    State state = (State) node.getUserObject();\r\n                    editorValue = state;\r\n                    checkBox.setText(state.getText());\r\n                    checkBox.setSelected(state.isSelected());\r\n                } else {\r\n                    checkBox.setText(&quot;??&quot;);\r\n                    checkBox.setSelected(false);\r\n                }\r\n\r\n                return checkBox;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public class StateRenderer implements TreeCellRenderer {\r\n\r\n            private JCheckBox checkBox;\r\n\r\n            public StateRenderer() {\r\n                checkBox = new JCheckBox();\r\n                checkBox.setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded, boolean leaf, int row, boolean hasFocus) {\r\n                if (value instanceof DefaultMutableTreeNode) {\r\n                    DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\r\n                    State state = (State) node.getUserObject();\r\n                    checkBox.setText(state.getText());\r\n                    checkBox.setSelected(state.isSelected());\r\n                } else {\r\n                    checkBox.setText(&quot;??&quot;);\r\n                    checkBox.setSelected(false);\r\n                }\r\n\r\n                if (selected) {\r\n                    checkBox.setBackground(UIManager.getColor(&quot;Tree.selectionBackground&quot;));\r\n                    checkBox.setForeground(UIManager.getColor(&quot;Tree.selectionForeground&quot;));\r\n                } else {\r\n                    checkBox.setForeground(tree.getForeground());\r\n                    checkBox.setBackground(null);\r\n                }\r\n\r\n                checkBox.setOpaque(selected);\r\n\r\n                return checkBox;\r\n            }\r\n        }\r\n\r\n        public class TestModel extends DefaultTreeModel {\r\n            public TestModel(TreeNode root) {\r\n                super(root);\r\n            }\r\n\r\n            @Override\r\n            public void valueForPathChanged(TreePath path, Object newValue) {\r\n                // This is important, as it fires the nodeChanged event\r\n                super.valueForPathChanged(path, newValue);\r\n                Object lastPathComponent = path.getLastPathComponent();\r\n                if (!(lastPathComponent instanceof DefaultMutableTreeNode)) {\r\n                    return;\r\n                }\r\n                DefaultMutableTreeNode parentNode = (DefaultMutableTreeNode) lastPathComponent;\r\n                if (parentNode.isLeaf()) {\r\n                    return;\r\n                }\r\n\r\n                State state = stateFrom(parentNode);\r\n                StateChangeModel model = new StateChangeModel();\r\n                updateState(parentNode, state, model);\r\n\r\n                fireTreeNodesChanged(this, model.getPaths(), model.getIndicies(), model.getChildren());\r\n            }\r\n\r\n            protected State stateFrom(TreeNode node) {\r\n                if (!(node instanceof DefaultMutableTreeNode)) {\r\n                    return null;\r\n                }\r\n                DefaultMutableTreeNode defaultNode = (DefaultMutableTreeNode) node;\r\n                Object userObject = defaultNode.getUserObject();\r\n                if (!(userObject instanceof State)) {\r\n                    // Here, if you&#39;re clever, you could check the\r\n                    // state of all the nodes of this node&#39;s parent\r\n                    // and if they&#39;re all selected, mark the parent\r\n                    // nodes as selected as well\r\n                    return null;\r\n                }\r\n                return (State) userObject;\r\n            }\r\n\r\n            protected void updateState(DefaultMutableTreeNode parentNode, State state, StateChangeModel model) {\r\n                for (int index = 0; index &lt; parentNode.getChildCount(); index++) {\r\n                    TreeNode childNode = parentNode.getChildAt(index);\r\n                    if (!(childNode instanceof DefaultMutableTreeNode)) {\r\n                        continue;\r\n                    }\r\n                    DefaultMutableTreeNode defaultChildNode = (DefaultMutableTreeNode) childNode;\r\n                    Object childObject = defaultChildNode.getUserObject();\r\n                    if (!(childObject instanceof State)) {\r\n                        return;\r\n                    }\r\n                    State childState = (State) childObject;\r\n                    childState.setSelected(state.isSelected());\r\n\r\n                    model.add(new TreePath(getPathToRoot(childNode)), index, childNode);\r\n                    // Recursive update...\r\n                    updateState(defaultChildNode, state, model);\r\n                }\r\n            }\r\n\r\n            protected class StateChangeModel {\r\n                List&lt;TreePath&gt; paths = new ArrayList&lt;&gt;(8);\r\n                List&lt;Integer&gt; indicies = new ArrayList&lt;&gt;(8);\r\n                List&lt;Object&gt; children = new ArrayList&lt;&gt;(8);            \r\n\r\n                public void add(TreePath path, int index, TreeNode child) {\r\n                    paths.add(path);\r\n                    indicies.add(index);\r\n                    children.add(child);\r\n                }\r\n\r\n                public TreePath[] getPaths() {\r\n                    return paths.toArray(new TreePath[paths.size()]);\r\n                }\r\n\r\n                public int[] getIndicies() {\r\n                    return indicies.stream().mapToInt(i -&gt; i).toArray();\r\n                }\r\n\r\n                public Object[] getChildren() {\r\n                    return children.toArray(new Object[children.size()]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNow, it&#39;s important to note a couple of things...\r\n\r\n1. It&#39;s VERY important that you call `stopCellEditing` on the `TreeCellEditor` when the state changes, otherwise this will NOT work.  I don&#39;t know why, but that&#39;s the way it needs to work.\r\n2. I&#39;ve made use of a custom `DefaultTreeModel` and overridden the `valueForPathChanged` method.  This is VERY important, as it&#39;s how the model gets notified that the state of a node was changed by the editor.  Otherwise you&#39;re going to need to spend a lot of time with `TreeModelListener` and spend a lot of time writing a lot of dirty code.\r\n3. You&#39;re current direction/implementation is fundamentally flawed for what you seem to be trying to do, I suggest spending some time studying the above example and trying to move your code to it.\r\n\r\n&gt; still one issue in the children ones\r\n\r\nSeems to be working find for me:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZWjML.gif\r\n  [2]: https://i.stack.imgur.com/2128O.gif","title":"Issue with Swing JTree Checkbox Behavior","body":"<p>I'm not going to try and fix your code, it's moving in the wrong direction for what you seem to be trying to achieve, instead, I've modified <a href=\"https://stackoverflow.com/questions/31375773/how-do-you-make-components-of-jpanel-as-a-node-in-jtree-usable/31376208#31376208\">this example</a> to add support for updating the child nodes when the parent node state changes.</p>\n<p><a href=\"https://i.stack.imgur.com/ZWjML.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZWjML.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.AbstractCellEditor;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTree;\nimport javax.swing.UIManager;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeModel;\nimport javax.swing.tree.TreeCellEditor;\nimport javax.swing.tree.TreeCellRenderer;\nimport javax.swing.tree.TreeNode;\nimport javax.swing.tree.TreePath;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JTree tree = createTree();\n                tree.setToggleClickCount(0);\n                tree.setCellRenderer(new StateRenderer());\n                tree.setCellEditor(new StateEditor());\n                tree.setEditable(true);\n\n                JFrame f = new JFrame();\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.add(new JScrollPane(tree));\n\n                f.pack();\n                f.setLocationRelativeTo(null);\n                f.setVisible(true);\n            }\n        });\n    }\n\n    private JTree createTree() {\n        int children = 4;\n        int grandChildren = 2;\n        DefaultMutableTreeNode root = new DefaultMutableTreeNode(new State(&quot;Films&quot;, false));\n        DefaultMutableTreeNode node;\n\n        String[] cat = {&quot;Sci-Fi&quot;, &quot;Fantasy&quot;, &quot;Action&quot;, &quot;Comedy&quot;};\n        String[][] films = {\n            {&quot;Star Wars&quot;, &quot;Star Trek&quot;},\n            {&quot;Lord of the Rings&quot;, &quot;Conan&quot;},\n            {&quot;Terminator&quot;, &quot;Transformers&quot;},\n            {&quot;Cheaper by the Doze&quot;, &quot;Father of the Bride&quot;}\n        };\n        for (int j = 0; j &lt; children; j++) {\n            node = new DefaultMutableTreeNode(new State(cat[j], false));\n            root.add(node);\n            for (int k = 0; k &lt; grandChildren; k++) {\n                node.add(new DefaultMutableTreeNode(new State(films[j][k], false)));\n            }\n        }\n        TestModel model = new TestModel(root);\n        return new JTree(model);\n    }\n\n    public class State {\n\n        private String text;\n        private boolean selected;\n\n        public State(String text, boolean selected) {\n            this.text = text;\n            this.selected = selected;\n        }\n\n        public String getText() {\n            return text;\n        }\n\n        public boolean isSelected() {\n            return selected;\n        }\n\n        public void setSelected(boolean selected) {\n            this.selected = selected;\n        }\n\n    }\n\n    public class StateEditor extends AbstractCellEditor implements TreeCellEditor {\n\n        //JPanel panel;\n        private JCheckBox checkBox;\n\n        private State editorValue;\n\n        public StateEditor() {\n            checkBox = new JCheckBox();\n            checkBox.setOpaque(false);\n            // This seems to be important :/\n            checkBox.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    stopCellEditing();\n                }\n            });\n        }\n\n        @Override\n        public Object getCellEditorValue() {\n            editorValue.setSelected(checkBox.isSelected());\n            return editorValue;\n        }\n\n        @Override\n        public Component getTreeCellEditorComponent(JTree tree, Object value, boolean isSelected, boolean expanded, boolean leaf, int row) {\n            if (value instanceof DefaultMutableTreeNode) {\n                DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\n                State state = (State) node.getUserObject();\n                editorValue = state;\n                checkBox.setText(state.getText());\n                checkBox.setSelected(state.isSelected());\n            } else {\n                checkBox.setText(&quot;??&quot;);\n                checkBox.setSelected(false);\n            }\n\n            return checkBox;\n\n        }\n\n    }\n\n    public class StateRenderer implements TreeCellRenderer {\n\n        private JCheckBox checkBox;\n\n        public StateRenderer() {\n            checkBox = new JCheckBox();\n            checkBox.setOpaque(false);\n        }\n\n        @Override\n        public Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded, boolean leaf, int row, boolean hasFocus) {\n            if (value instanceof DefaultMutableTreeNode) {\n                DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\n                State state = (State) node.getUserObject();\n                checkBox.setText(state.getText());\n                checkBox.setSelected(state.isSelected());\n            } else {\n                checkBox.setText(&quot;??&quot;);\n                checkBox.setSelected(false);\n            }\n\n            if (selected) {\n                checkBox.setBackground(UIManager.getColor(&quot;Tree.selectionBackground&quot;));\n                checkBox.setForeground(UIManager.getColor(&quot;Tree.selectionForeground&quot;));\n            } else {\n                checkBox.setForeground(tree.getForeground());\n                checkBox.setBackground(null);\n            }\n\n            checkBox.setOpaque(selected);\n\n            return checkBox;\n        }\n    }\n\n    public class TestModel extends DefaultTreeModel {\n        public TestModel(TreeNode root) {\n            super(root);\n        }\n\n        @Override\n        public void valueForPathChanged(TreePath path, Object newValue) {\n            // This is important, as it fires the nodeChanged event\n            super.valueForPathChanged(path, newValue);\n            Object lastPathComponent = path.getLastPathComponent();\n            if (!(lastPathComponent instanceof DefaultMutableTreeNode)) {\n                return;\n            }\n            DefaultMutableTreeNode parentNode = (DefaultMutableTreeNode) lastPathComponent;\n            if (parentNode.isLeaf()) {\n                return;\n            }\n\n            State state = stateFrom(parentNode);\n            StateChangeModel model = new StateChangeModel();\n            updateState(parentNode, state, model);\n\n            fireTreeNodesChanged(this, model.getPaths(), model.getIndicies(), model.getChildren());\n        }\n\n        protected State stateFrom(TreeNode node) {\n            if (!(node instanceof DefaultMutableTreeNode)) {\n                return null;\n            }\n            DefaultMutableTreeNode defaultNode = (DefaultMutableTreeNode) node;\n            Object userObject = defaultNode.getUserObject();\n            if (!(userObject instanceof State)) {\n                // Here, if you're clever, you could check the\n                // state of all the nodes of this node's parent\n                // and if they're all selected, mark the parent\n                // nodes as selected as well\n                return null;\n            }\n            return (State) userObject;\n        }\n\n        protected void updateState(DefaultMutableTreeNode parentNode, State state, StateChangeModel model) {\n            for (int index = 0; index &lt; parentNode.getChildCount(); index++) {\n                TreeNode childNode = parentNode.getChildAt(index);\n                if (!(childNode instanceof DefaultMutableTreeNode)) {\n                    continue;\n                }\n                DefaultMutableTreeNode defaultChildNode = (DefaultMutableTreeNode) childNode;\n                Object childObject = defaultChildNode.getUserObject();\n                if (!(childObject instanceof State)) {\n                    return;\n                }\n                State childState = (State) childObject;\n                childState.setSelected(state.isSelected());\n\n                model.add(new TreePath(getPathToRoot(childNode)), index, childNode);\n                // Recursive update...\n                updateState(defaultChildNode, state, model);\n            }\n        }\n\n        protected class StateChangeModel {\n            List&lt;TreePath&gt; paths = new ArrayList&lt;&gt;(8);\n            List&lt;Integer&gt; indicies = new ArrayList&lt;&gt;(8);\n            List&lt;Object&gt; children = new ArrayList&lt;&gt;(8);            \n\n            public void add(TreePath path, int index, TreeNode child) {\n                paths.add(path);\n                indicies.add(index);\n                children.add(child);\n            }\n\n            public TreePath[] getPaths() {\n                return paths.toArray(new TreePath[paths.size()]);\n            }\n\n            public int[] getIndicies() {\n                return indicies.stream().mapToInt(i -&gt; i).toArray();\n            }\n\n            public Object[] getChildren() {\n                return children.toArray(new Object[children.size()]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now, it's important to note a couple of things...</p>\n<ol>\n<li>It's VERY important that you call <code>stopCellEditing</code> on the <code>TreeCellEditor</code> when the state changes, otherwise this will NOT work.  I don't know why, but that's the way it needs to work.</li>\n<li>I've made use of a custom <code>DefaultTreeModel</code> and overridden the <code>valueForPathChanged</code> method.  This is VERY important, as it's how the model gets notified that the state of a node was changed by the editor.  Otherwise you're going to need to spend a lot of time with <code>TreeModelListener</code> and spend a lot of time writing a lot of dirty code.</li>\n<li>You're current direction/implementation is fundamentally flawed for what you seem to be trying to do, I suggest spending some time studying the above example and trying to move your code to it.</li>\n</ol>\n<blockquote>\n<p>still one issue in the children ones</p>\n</blockquote>\n<p>Seems to be working find for me:</p>\n<p><a href=\"https://i.stack.imgur.com/2128O.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2128O.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690328820,"creation_date":1690165640,"question_id":76751073,"body_markdown":"Facing this issue with my code while working with checkboxes in a JTree. The root node is  treated as a &quot;Named Vector&quot; in first iteration instead of a &quot;CheckBoxNode&quot;As a result, it doesn&#39;t iterate through its child checkboxes.\r\n\r\nIn the second iteration, the root node becomes a &quot;CheckBoxNode,&quot; causing all child checkboxes to be selected, but they should already be selected and instead should be deselected:\r\n\r\n[![First Image][1]][1]\r\n\r\n[![Second Image][2]][2]\r\n\r\nSecond Iteration and Second Click:\r\n\r\n[![Third Image][3]][3]\r\n\r\n[![Fourth Image][4]][4]\r\n\r\n[![Fifth Image][5]][5]\r\n\r\nResult:\r\n\r\n[![Result Image][6]][6]\r\n\r\n\r\n*JanelaPrincipal.java:*\r\n    \r\n    package br.josueborges.principal;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.util.*;\r\n    import java.util.List;\r\n    import javax.swing.tree.*;\r\n    \r\n    public class JanelaPrincipal {\r\n    \r\n        private JFrame frame;\r\n        private JTree tree;\r\n    \r\n        public JanelaPrincipal() {\r\n            initialize();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; {\r\n                try {\r\n                    JanelaPrincipal window = new JanelaPrincipal();\r\n                    window.frame.setVisible(true);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void initialize() {\r\n        \t\r\n            frame = new JFrame();\r\n            frame.setBounds(100, 100, 400, 400);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().setLayout(new BorderLayout());\r\n    \r\n            DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;Root&quot;);\r\n    \r\n            DefaultMutableTreeNode folder1 = new DefaultMutableTreeNode(&quot;Folder 1&quot;);\r\n            DefaultMutableTreeNode folder2 = new DefaultMutableTreeNode(&quot;Folder 2&quot;);\r\n    \r\n            DefaultMutableTreeNode file1 = new DefaultMutableTreeNode(&quot;File 1&quot;);\r\n            DefaultMutableTreeNode file2 = new DefaultMutableTreeNode(&quot;File 2&quot;);\r\n            DefaultMutableTreeNode file3 = new DefaultMutableTreeNode(&quot;File 3&quot;);\r\n    \r\n            root.add(folder1);\r\n            root.add(folder2);\r\n    \r\n            folder1.add(file1);\r\n            folder2.add(file2);\r\n            folder2.add(file3);\r\n    \r\n            Map&lt;String, List&lt;String&gt;&gt; pacotesEArquivos = new HashMap&lt;&gt;();\r\n            \r\n            List&lt;String&gt; nodes = new ArrayList&lt;&gt;();\r\n            Enumeration&lt;?&gt; enumeration = root.breadthFirstEnumeration();\r\n            while (enumeration.hasMoreElements()) {\r\n                DefaultMutableTreeNode node = (DefaultMutableTreeNode) enumeration.nextElement();\r\n                if (node.isLeaf()) {\r\n                    nodes.add(node.toString());\r\n                }\r\n            }\r\n            pacotesEArquivos.put(&quot;Root&quot;, nodes);\r\n    \r\n            tree = new CheckBoxNodeTreeSample().retornaJTree(pacotesEArquivos);\r\n            JScrollPane scrollPane = new JScrollPane(tree);\r\n            frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n        }\r\n    }\r\n\r\n\r\n*CheckBoxNode.java:*\r\n\r\n\r\n    package br.josueborges.principal;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Font;\r\n    import java.awt.event.ItemEvent;\r\n    import java.awt.event.ItemListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.EventObject;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Vector;\r\n    import java.util.*;\r\n    \r\n    import javax.swing.AbstractCellEditor;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JTree;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.tree.DefaultMutableTreeNode;\r\n    import javax.swing.tree.DefaultTreeCellRenderer;\r\n    import javax.swing.tree.DefaultTreeModel;\r\n    import javax.swing.tree.TreeCellEditor;\r\n    import javax.swing.tree.TreeCellRenderer;\r\n    import javax.swing.tree.TreePath;\r\n    \r\n    public class CheckBoxNodeTreeSample {\r\n    \r\n    \tpublic CheckBoxNodeTreeSample() {\r\n    \r\n    \t}\r\n    \r\n    \tpublic JTree retornaJTree(Map&lt;String, List&lt;String&gt;&gt; pacotesEArquivos) {\r\n    \r\n    \t\tArrayList&lt;Vector&lt;Object&gt;&gt; vetores = new ArrayList&lt;Vector&lt;Object&gt;&gt;();\r\n    \r\n    \t\tfor (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : pacotesEArquivos.entrySet()) {\r\n    \t\t\tString pacote = entry.getKey();\r\n    \t\t\tpacote = pacote.substring(1);\r\n    \r\n    \t\t\tSystem.out.println(&quot;Pacote: &quot; + pacote);\r\n    \t\t\tList&lt;String&gt; nomesArquivos = entry.getValue();\r\n    \r\n    \t\t\tCheckBoxNode checkBoxNode[] = new CheckBoxNode[nomesArquivos.size()];\r\n    \r\n    \t\t\t// String nomeArquivo : nomesArquivos\r\n    \t\t\tfor (int i = 0; i &lt; nomesArquivos.size(); i++) {\r\n    \t\t\t\tcheckBoxNode[i] = new CheckBoxNode(nomesArquivos.get(i), false);\r\n    \t\t\t}\r\n    \r\n    \t\t\tVector&lt;Object&gt; vetorDoJTree = new NamedVector(pacote, checkBoxNode);\r\n    \r\n    \t\t\tvetores.add(vetorDoJTree);\r\n    \t\t}\r\n    \r\n    \t\tCheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\r\n    \r\n    \t\tObject rootNodes[] = new Object[pacotesEArquivos.size()];\r\n    \r\n    \t\tfor (int i = 0; i &lt; vetores.size(); i++) {\r\n    \t\t\trootNodes[i] = vetores.get(i);\r\n    \t\t}\r\n    \r\n    \t\tVector&lt;Object&gt; rootVector = new NamedVector(&quot;Teste&quot;, rootNodes);\r\n    \r\n    \t\tJTree tree = new JTree(rootVector);\r\n    \r\n    \t\ttree.setVisibleRowCount(50);\r\n    \t\ttree.setRootVisible(false);\r\n    \t\ttree.setShowsRootHandles(true);\r\n    \r\n    \t\ttree.setCellRenderer(renderer);\r\n    \t\ttree.setCellEditor(new CheckBoxNodeEditor(tree));\r\n    \t\ttree.setEditable(true);\r\n    \r\n    \t\treturn tree;\r\n    \t}\r\n    }\r\n    \r\n    class CheckBoxNodeRenderer implements TreeCellRenderer {\r\n    \r\n    \tprivate JCheckBox leafRenderer = new JCheckBox();\r\n    \tprivate Color selectionForeground, selectionBackground, textForeground, textBackground;\r\n    \r\n    \tprotected JCheckBox getLeafRenderer() {\r\n    \t\treturn leafRenderer;\r\n    \t}\r\n    \r\n    \tpublic CheckBoxNodeRenderer() {\r\n    \t\tFont fontValue;\r\n    \t\tfontValue = UIManager.getFont(&quot;Tree.font&quot;);\r\n    \t\tif (fontValue != null) {\r\n    \t\t\tleafRenderer.setFont(fontValue);\r\n    \t\t}\r\n    \t\tBoolean booleanValue = (Boolean) UIManager.get(&quot;Tree.drawsFocusBorderAroundIcon&quot;);\r\n    \t\tSystem.out.println(&quot;booleanValue: &quot; + booleanValue);\r\n    \t\tleafRenderer.setFocusPainted((booleanValue != null) &amp;&amp; (booleanValue.booleanValue()));\r\n    \t\tUIManager.getColor(&quot;Tree.selectionBorderColor&quot;);\r\n    \t\tselectionForeground = UIManager.getColor(&quot;Tree.selectionForeground&quot;);\r\n    \t\tselectionBackground = UIManager.getColor(&quot;Tree.selectionBackground&quot;);\r\n    \t\ttextForeground = UIManager.getColor(&quot;Tree.textForeground&quot;);\r\n    \t\ttextBackground = UIManager.getColor(&quot;Tree.textBackground&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded,\r\n    \t\t\tboolean leaf, int row, boolean hasFocus) {\r\n    \r\n    \t\tComponent returnValue;\r\n    \t\t\r\n    \t\tString stringValue = tree.convertValueToText(value, selected, expanded, leaf, row, false);\r\n    \t\tleafRenderer.setText(stringValue);\r\n    \t\tleafRenderer.setSelected(false);\r\n    \t\tleafRenderer.setEnabled(tree.isEnabled());\r\n    \t\tif (selected) {\r\n    \t\t\tleafRenderer.setForeground(selectionForeground);\r\n    \t\t\tleafRenderer.setBackground(selectionBackground);\r\n    \t\t} else {\r\n    \t\t\tleafRenderer.setForeground(textForeground);\r\n    \t\t\tleafRenderer.setBackground(textBackground);\r\n    \t\t}\r\n    \t\tif ((value != null) &amp;&amp; (value instanceof DefaultMutableTreeNode)) {\r\n    \t\t\tObject userObject = ((DefaultMutableTreeNode) value).getUserObject();\r\n    \t\t\tif (userObject instanceof CheckBoxNode) {\r\n    \t\t\t\tCheckBoxNode node = (CheckBoxNode) userObject;\r\n    \t\t\t\tleafRenderer.setText(node.getText());\r\n    \t\t\t\tleafRenderer.setSelected(node.isSelected());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturnValue = leafRenderer;\r\n    \t\t\r\n    \t\treturn returnValue;\r\n    \t}\r\n    }\r\n    \r\n    class CheckBoxNodeEditor extends AbstractCellEditor implements TreeCellEditor {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\r\n    \tprivate JTree tree;\r\n    \r\n    \tpublic CheckBoxNodeEditor(JTree tree) {\r\n    \t\tthis.tree = tree;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object getCellEditorValue() {\r\n    \t\tJCheckBox checkbox = renderer.getLeafRenderer();\r\n    \t\tCheckBoxNode checkBoxNode = new CheckBoxNode(checkbox.getText(), checkbox.isSelected());\r\n    \t\treturn checkBoxNode;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isCellEditable(EventObject event) {\r\n    \t\tboolean returnValue = false;\r\n    \t\tif (event instanceof MouseEvent) {\r\n    \t\t\tMouseEvent mouseEvent = (MouseEvent) event;\r\n    \t\t\tTreePath path = tree.getPathForLocation(mouseEvent.getX(), mouseEvent.getY());\r\n    \t\t\tif (path != null) {\r\n    \t\t\t\tObject node = path.getLastPathComponent();\r\n    \t\t\t\tif ((node != null) &amp;&amp; (node instanceof DefaultMutableTreeNode)) {\r\n    \t\t\t\t\tDefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) node;\r\n    \t\t\t\t\tObject userObject = treeNode.getUserObject();\r\n    \t\t\t\t\treturnValue = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn returnValue;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Component getTreeCellEditorComponent(JTree tree, Object value, boolean selected, boolean expanded,\r\n    \t\t\tboolean leaf, int row) {\r\n    \r\n    \t\tComponent editor = renderer.getTreeCellRendererComponent(tree, value, true, expanded, leaf, row, true);\r\n    \t\t\r\n    \t\tItemListener itemListener = new ItemListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void itemStateChanged(ItemEvent itemEvent) {\r\n    \t\t\t\tif (stopCellEditing()) {\r\n    \t\t\t\t\tfireEditingStopped();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tif (editor instanceof JCheckBox) {\r\n    \t        JCheckBox checkBox = (JCheckBox) editor;\r\n    \t        checkBox.removeItemListener(itemListener);\r\n    \t        checkBox.addItemListener(itemListener);\r\n    \r\n    \t        // Ao clicar no checkbox, atualizar o estado de todos os checkboxes filhos e pais\r\n    \t        DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\r\n    \t        Object userObject = node.getUserObject();\r\n    \t        if (userObject instanceof CheckBoxNode) {\r\n    \t        \t\r\n    \t            CheckBoxNode parentNode = (CheckBoxNode) userObject;\r\n    \t            boolean parentSelected = checkBox.isSelected();\r\n    \r\n    \t            // Percorrer os n&#243;s filhos (arquivos) e definir o mesmo estado do checkbox pai\r\n    \t            for (int i = 0; i &lt; node.getChildCount(); i++) {\r\n    \t                DefaultMutableTreeNode childNode = (DefaultMutableTreeNode) node.getChildAt(i);\r\n    \t                Object childUserObject = childNode.getUserObject();\r\n    \t                if (childUserObject instanceof CheckBoxNode) {\r\n    \t                    CheckBoxNode childCheckBoxNode = (CheckBoxNode) childUserObject;\r\n    \t                    childCheckBoxNode.setSelected(parentSelected);\r\n    \t                }\r\n    \t            }\r\n    \r\n    \t            // Atualizar o estado dos n&#243;s pais\r\n    \t            updateParentNodes(node, parentSelected);\r\n    \r\n    \t            // Notificar a &#225;rvore que houve mudan&#231;a no modelo\r\n    \t            ((DefaultTreeModel) tree.getModel()).nodeStructureChanged(node);\r\n    \t      }\r\n    \t    }\r\n    \t    return editor;\r\n    \t}\r\n    \r\n    // M&#233;todo para atualizar o estado dos n&#243;s pais\r\n    \tprivate void updateParentNodes(DefaultMutableTreeNode node, boolean selected) {\r\n    \t\tDefaultMutableTreeNode parentNode = (DefaultMutableTreeNode) node.getParent();\r\n    \t\tif (parentNode != null) {\r\n    \t\t\tObject parentUserObject = parentNode.getUserObject();\r\n    \t\t\tif (parentUserObject instanceof CheckBoxNode) {\r\n    \t\t\t\tCheckBoxNode parentCheckBoxNode = (CheckBoxNode) parentUserObject;\r\n    \r\n    \t\t\t\t// Verificar se todos os filhos est&#227;o selecionados e atualizar o estado do n&#243;\r\n    \t\t\t\t// pai\r\n    \t\t\t\tboolean allChildrenSelected = true;\r\n    \t\t\t\tfor (int i = 0; i &lt; parentNode.getChildCount(); i++) {\r\n    \t\t\t\t\tDefaultMutableTreeNode childNode = (DefaultMutableTreeNode) parentNode.getChildAt(i);\r\n    \t\t\t\t\tObject childUserObject = childNode.getUserObject();\r\n    \t\t\t\t\tif (childUserObject instanceof CheckBoxNode) {\r\n    \t\t\t\t\t\tCheckBoxNode childCheckBoxNode = (CheckBoxNode) childUserObject;\r\n    \t\t\t\t\t\tif (!childCheckBoxNode.isSelected()) {\r\n    \t\t\t\t\t\t\tallChildrenSelected = false;\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tparentCheckBoxNode.setSelected(allChildrenSelected);\r\n    \r\n    \t\t\t\t// Continuar atualizando os n&#243;s pais recursivamente\r\n    \t\t\t\tupdateParentNodes(parentNode, selected);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class CheckBoxNode {\r\n    \r\n    \tprivate String text;\r\n    \tprivate boolean selected;\r\n    \r\n    \tpublic CheckBoxNode(String text, boolean selected) {\r\n    \t\tthis.text = text;\r\n    \t\tthis.selected = selected;\r\n    \t}\r\n    \r\n    \tpublic boolean isSelected() {\r\n    \t\treturn selected;\r\n    \t}\r\n    \r\n    \tpublic void setSelected(boolean newValue) {\r\n    \t\tselected = newValue;\r\n    \t}\r\n    \r\n    \tpublic String getText() {\r\n    \t\treturn text;\r\n    \t}\r\n    \r\n    \tpublic void setText(String newValue) {\r\n    \t\ttext = newValue;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn getClass().getName() + &quot;[&quot; + text + &quot;/&quot; + selected + &quot;]&quot;;\r\n    \t}\r\n    }\r\n    \r\n    class NamedVector extends Vector&lt;Object&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String name;\r\n    \r\n    \tpublic NamedVector(String name) {\r\n    \t\tsuper(); \r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic NamedVector(String name, Object elements[]) {\r\n    \t\tthis.name = name;\r\n    \t\tfor (int i = 0, n = elements.length; i &lt; n; i++) {\r\n    \t\t\tadd(elements[i]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;[&quot; + name + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lPJBD.jpg\r\n  [2]: https://i.stack.imgur.com/bIJxs.jpg\r\n  [3]: https://i.stack.imgur.com/223Tp.jpg\r\n  [4]: https://i.stack.imgur.com/6RCrY.jpg\r\n  [5]: https://i.stack.imgur.com/eCcKT.jpg\r\n  [6]: https://i.stack.imgur.com/Noqf6.jpg","title":"Issue with Swing JTree Checkbox Behavior","body":"<p>Facing this issue with my code while working with checkboxes in a JTree. The root node is  treated as a &quot;Named Vector&quot; in first iteration instead of a &quot;CheckBoxNode&quot;As a result, it doesn't iterate through its child checkboxes.</p>\n<p>In the second iteration, the root node becomes a &quot;CheckBoxNode,&quot; causing all child checkboxes to be selected, but they should already be selected and instead should be deselected:</p>\n<p><a href=\"https://i.stack.imgur.com/lPJBD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lPJBD.jpg\" alt=\"First Image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bIJxs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bIJxs.jpg\" alt=\"Second Image\" /></a></p>\n<p>Second Iteration and Second Click:</p>\n<p><a href=\"https://i.stack.imgur.com/223Tp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/223Tp.jpg\" alt=\"Third Image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6RCrY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6RCrY.jpg\" alt=\"Fourth Image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eCcKT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eCcKT.jpg\" alt=\"Fifth Image\" /></a></p>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/Noqf6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Noqf6.jpg\" alt=\"Result Image\" /></a></p>\n<p><em>JanelaPrincipal.java:</em></p>\n<pre><code>package br.josueborges.principal;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.*;\nimport java.util.List;\nimport javax.swing.tree.*;\n\npublic class JanelaPrincipal {\n\n    private JFrame frame;\n    private JTree tree;\n\n    public JanelaPrincipal() {\n        initialize();\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                JanelaPrincipal window = new JanelaPrincipal();\n                window.frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    private void initialize() {\n        \n        frame = new JFrame();\n        frame.setBounds(100, 100, 400, 400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(new BorderLayout());\n\n        DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;Root&quot;);\n\n        DefaultMutableTreeNode folder1 = new DefaultMutableTreeNode(&quot;Folder 1&quot;);\n        DefaultMutableTreeNode folder2 = new DefaultMutableTreeNode(&quot;Folder 2&quot;);\n\n        DefaultMutableTreeNode file1 = new DefaultMutableTreeNode(&quot;File 1&quot;);\n        DefaultMutableTreeNode file2 = new DefaultMutableTreeNode(&quot;File 2&quot;);\n        DefaultMutableTreeNode file3 = new DefaultMutableTreeNode(&quot;File 3&quot;);\n\n        root.add(folder1);\n        root.add(folder2);\n\n        folder1.add(file1);\n        folder2.add(file2);\n        folder2.add(file3);\n\n        Map&lt;String, List&lt;String&gt;&gt; pacotesEArquivos = new HashMap&lt;&gt;();\n        \n        List&lt;String&gt; nodes = new ArrayList&lt;&gt;();\n        Enumeration&lt;?&gt; enumeration = root.breadthFirstEnumeration();\n        while (enumeration.hasMoreElements()) {\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) enumeration.nextElement();\n            if (node.isLeaf()) {\n                nodes.add(node.toString());\n            }\n        }\n        pacotesEArquivos.put(&quot;Root&quot;, nodes);\n\n        tree = new CheckBoxNodeTreeSample().retornaJTree(pacotesEArquivos);\n        JScrollPane scrollPane = new JScrollPane(tree);\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\n    }\n}\n</code></pre>\n<p><em>CheckBoxNode.java:</em></p>\n<pre><code>package br.josueborges.principal;\n\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Font;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\nimport java.awt.event.MouseEvent;\nimport java.util.EventObject;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Vector;\nimport java.util.*;\n\nimport javax.swing.AbstractCellEditor;\nimport javax.swing.JCheckBox;\nimport javax.swing.JTree;\nimport javax.swing.UIManager;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeCellRenderer;\nimport javax.swing.tree.DefaultTreeModel;\nimport javax.swing.tree.TreeCellEditor;\nimport javax.swing.tree.TreeCellRenderer;\nimport javax.swing.tree.TreePath;\n\npublic class CheckBoxNodeTreeSample {\n\n    public CheckBoxNodeTreeSample() {\n\n    }\n\n    public JTree retornaJTree(Map&lt;String, List&lt;String&gt;&gt; pacotesEArquivos) {\n\n        ArrayList&lt;Vector&lt;Object&gt;&gt; vetores = new ArrayList&lt;Vector&lt;Object&gt;&gt;();\n\n        for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : pacotesEArquivos.entrySet()) {\n            String pacote = entry.getKey();\n            pacote = pacote.substring(1);\n\n            System.out.println(&quot;Pacote: &quot; + pacote);\n            List&lt;String&gt; nomesArquivos = entry.getValue();\n\n            CheckBoxNode checkBoxNode[] = new CheckBoxNode[nomesArquivos.size()];\n\n            // String nomeArquivo : nomesArquivos\n            for (int i = 0; i &lt; nomesArquivos.size(); i++) {\n                checkBoxNode[i] = new CheckBoxNode(nomesArquivos.get(i), false);\n            }\n\n            Vector&lt;Object&gt; vetorDoJTree = new NamedVector(pacote, checkBoxNode);\n\n            vetores.add(vetorDoJTree);\n        }\n\n        CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\n\n        Object rootNodes[] = new Object[pacotesEArquivos.size()];\n\n        for (int i = 0; i &lt; vetores.size(); i++) {\n            rootNodes[i] = vetores.get(i);\n        }\n\n        Vector&lt;Object&gt; rootVector = new NamedVector(&quot;Teste&quot;, rootNodes);\n\n        JTree tree = new JTree(rootVector);\n\n        tree.setVisibleRowCount(50);\n        tree.setRootVisible(false);\n        tree.setShowsRootHandles(true);\n\n        tree.setCellRenderer(renderer);\n        tree.setCellEditor(new CheckBoxNodeEditor(tree));\n        tree.setEditable(true);\n\n        return tree;\n    }\n}\n\nclass CheckBoxNodeRenderer implements TreeCellRenderer {\n\n    private JCheckBox leafRenderer = new JCheckBox();\n    private Color selectionForeground, selectionBackground, textForeground, textBackground;\n\n    protected JCheckBox getLeafRenderer() {\n        return leafRenderer;\n    }\n\n    public CheckBoxNodeRenderer() {\n        Font fontValue;\n        fontValue = UIManager.getFont(&quot;Tree.font&quot;);\n        if (fontValue != null) {\n            leafRenderer.setFont(fontValue);\n        }\n        Boolean booleanValue = (Boolean) UIManager.get(&quot;Tree.drawsFocusBorderAroundIcon&quot;);\n        System.out.println(&quot;booleanValue: &quot; + booleanValue);\n        leafRenderer.setFocusPainted((booleanValue != null) &amp;&amp; (booleanValue.booleanValue()));\n        UIManager.getColor(&quot;Tree.selectionBorderColor&quot;);\n        selectionForeground = UIManager.getColor(&quot;Tree.selectionForeground&quot;);\n        selectionBackground = UIManager.getColor(&quot;Tree.selectionBackground&quot;);\n        textForeground = UIManager.getColor(&quot;Tree.textForeground&quot;);\n        textBackground = UIManager.getColor(&quot;Tree.textBackground&quot;);\n    }\n\n    @Override\n    public Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded,\n            boolean leaf, int row, boolean hasFocus) {\n\n        Component returnValue;\n        \n        String stringValue = tree.convertValueToText(value, selected, expanded, leaf, row, false);\n        leafRenderer.setText(stringValue);\n        leafRenderer.setSelected(false);\n        leafRenderer.setEnabled(tree.isEnabled());\n        if (selected) {\n            leafRenderer.setForeground(selectionForeground);\n            leafRenderer.setBackground(selectionBackground);\n        } else {\n            leafRenderer.setForeground(textForeground);\n            leafRenderer.setBackground(textBackground);\n        }\n        if ((value != null) &amp;&amp; (value instanceof DefaultMutableTreeNode)) {\n            Object userObject = ((DefaultMutableTreeNode) value).getUserObject();\n            if (userObject instanceof CheckBoxNode) {\n                CheckBoxNode node = (CheckBoxNode) userObject;\n                leafRenderer.setText(node.getText());\n                leafRenderer.setSelected(node.isSelected());\n            }\n        }\n        returnValue = leafRenderer;\n        \n        return returnValue;\n    }\n}\n\nclass CheckBoxNodeEditor extends AbstractCellEditor implements TreeCellEditor {\n\n    private static final long serialVersionUID = 1L;\n    private CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\n    private JTree tree;\n\n    public CheckBoxNodeEditor(JTree tree) {\n        this.tree = tree;\n    }\n\n    @Override\n    public Object getCellEditorValue() {\n        JCheckBox checkbox = renderer.getLeafRenderer();\n        CheckBoxNode checkBoxNode = new CheckBoxNode(checkbox.getText(), checkbox.isSelected());\n        return checkBoxNode;\n    }\n\n    @Override\n    public boolean isCellEditable(EventObject event) {\n        boolean returnValue = false;\n        if (event instanceof MouseEvent) {\n            MouseEvent mouseEvent = (MouseEvent) event;\n            TreePath path = tree.getPathForLocation(mouseEvent.getX(), mouseEvent.getY());\n            if (path != null) {\n                Object node = path.getLastPathComponent();\n                if ((node != null) &amp;&amp; (node instanceof DefaultMutableTreeNode)) {\n                    DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) node;\n                    Object userObject = treeNode.getUserObject();\n                    returnValue = true;\n                }\n            }\n        }\n        return returnValue;\n    }\n\n    @Override\n    public Component getTreeCellEditorComponent(JTree tree, Object value, boolean selected, boolean expanded,\n            boolean leaf, int row) {\n\n        Component editor = renderer.getTreeCellRendererComponent(tree, value, true, expanded, leaf, row, true);\n        \n        ItemListener itemListener = new ItemListener() {\n            @Override\n            public void itemStateChanged(ItemEvent itemEvent) {\n                if (stopCellEditing()) {\n                    fireEditingStopped();\n                }\n            }\n        };\n        if (editor instanceof JCheckBox) {\n            JCheckBox checkBox = (JCheckBox) editor;\n            checkBox.removeItemListener(itemListener);\n            checkBox.addItemListener(itemListener);\n\n            // Ao clicar no checkbox, atualizar o estado de todos os checkboxes filhos e pais\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\n            Object userObject = node.getUserObject();\n            if (userObject instanceof CheckBoxNode) {\n                \n                CheckBoxNode parentNode = (CheckBoxNode) userObject;\n                boolean parentSelected = checkBox.isSelected();\n\n                // Percorrer os nós filhos (arquivos) e definir o mesmo estado do checkbox pai\n                for (int i = 0; i &lt; node.getChildCount(); i++) {\n                    DefaultMutableTreeNode childNode = (DefaultMutableTreeNode) node.getChildAt(i);\n                    Object childUserObject = childNode.getUserObject();\n                    if (childUserObject instanceof CheckBoxNode) {\n                        CheckBoxNode childCheckBoxNode = (CheckBoxNode) childUserObject;\n                        childCheckBoxNode.setSelected(parentSelected);\n                    }\n                }\n\n                // Atualizar o estado dos nós pais\n                updateParentNodes(node, parentSelected);\n\n                // Notificar a árvore que houve mudança no modelo\n                ((DefaultTreeModel) tree.getModel()).nodeStructureChanged(node);\n          }\n        }\n        return editor;\n    }\n\n// Método para atualizar o estado dos nós pais\n    private void updateParentNodes(DefaultMutableTreeNode node, boolean selected) {\n        DefaultMutableTreeNode parentNode = (DefaultMutableTreeNode) node.getParent();\n        if (parentNode != null) {\n            Object parentUserObject = parentNode.getUserObject();\n            if (parentUserObject instanceof CheckBoxNode) {\n                CheckBoxNode parentCheckBoxNode = (CheckBoxNode) parentUserObject;\n\n                // Verificar se todos os filhos estão selecionados e atualizar o estado do nó\n                // pai\n                boolean allChildrenSelected = true;\n                for (int i = 0; i &lt; parentNode.getChildCount(); i++) {\n                    DefaultMutableTreeNode childNode = (DefaultMutableTreeNode) parentNode.getChildAt(i);\n                    Object childUserObject = childNode.getUserObject();\n                    if (childUserObject instanceof CheckBoxNode) {\n                        CheckBoxNode childCheckBoxNode = (CheckBoxNode) childUserObject;\n                        if (!childCheckBoxNode.isSelected()) {\n                            allChildrenSelected = false;\n                            break;\n                        }\n                    }\n                }\n\n                parentCheckBoxNode.setSelected(allChildrenSelected);\n\n                // Continuar atualizando os nós pais recursivamente\n                updateParentNodes(parentNode, selected);\n            }\n        }\n    }\n}\n\nclass CheckBoxNode {\n\n    private String text;\n    private boolean selected;\n\n    public CheckBoxNode(String text, boolean selected) {\n        this.text = text;\n        this.selected = selected;\n    }\n\n    public boolean isSelected() {\n        return selected;\n    }\n\n    public void setSelected(boolean newValue) {\n        selected = newValue;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String newValue) {\n        text = newValue;\n    }\n\n    @Override\n    public String toString() {\n        return getClass().getName() + &quot;[&quot; + text + &quot;/&quot; + selected + &quot;]&quot;;\n    }\n}\n\nclass NamedVector extends Vector&lt;Object&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private String name;\n\n    public NamedVector(String name) {\n        super(); \n        this.name = name;\n    }\n\n    public NamedVector(String name, Object elements[]) {\n        this.name = name;\n        for (int i = 0, n = elements.length; i &lt; n; i++) {\n            add(elements[i]);\n        }\n    }\n\n    @Override\n    public String toString() {\n        return &quot;[&quot; + name + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","admob","admob-rewardedvideoad"],"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690328806,"creation_date":1690092508,"question_id":76746837,"body_markdown":"My Android app is a MMORPG so it connects to my server.  For some reason, this is breaking AdMob SSV.  Ads show fine (test and real), but the server-side validation callback is never received.  This is driving me insane - appreciate any help.\r\n\r\nHere is the warning message I see in the logcat:\r\n\r\n    Precache exception\r\n    \thi: javax.net.ssl.SSLProtocolException: Read error: ssl=0x77c5e4c0b798: Failure in SSL library, usually a protocol error\r\n    \terror:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (external/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1095 0x77c538ad22dc:0x00000000)\r\n    \terror:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (external/boringssl/src/ssl/tls_record.cc:298 0x77c538ad22dc:0x00000000)\r\n    \t\tat hd.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:6)\r\n    \t\tat hq.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:0)\r\n    \t\tat xv.b(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:2)\r\n    \t\tat xv.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:2)\r\n    \t\tat tx.t(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:4)\r\n    \t\tat yr.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:0)\r\n    \t\tat zt.m(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:2)\r\n    \t\tat zt.l(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:31)\r\n    \t\tat zt.j(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:39)\r\n    \t\tat zt.d(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:30)\r\n    \t\tat wc.run(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:43)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n    \t\tat java.lang.Thread.run(Thread.java:1012)\r\n    \tCaused by: javax.net.ssl.SSLProtocolException: Read error: ssl=0x77c5e4c0b798: Failure in SSL library, usually a protocol error\r\n    \terror:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (external/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1095 0x77c538ad22dc:0x00000000)\r\n    \terror:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (external/boringssl/src/ssl/tls_record.cc:298 0x77c538ad22dc:0x00000000)\r\n    \t\tat com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\r\n    \t\tat com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:569)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:876)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:747)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:712)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.processDataFromSocket(ConscryptEngineSocket.java:858)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.readUntilDataAvailable(ConscryptEngineSocket.java:824)\r\n    \t\tat com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.read(ConscryptEngineSocket.java:797)\r\n    \t\tat com.android.okhttp.okio.Okio$2.read(Okio.java:138)\r\n    \t\tat com.android.okhttp.okio.AsyncTimeout$2.read(AsyncTimeout.java:213)\r\n    \t\tat com.android.okhttp.okio.RealBufferedSource.read(RealBufferedSource.java:51)\r\n    \t\tat com.android.okhttp.internal.http.Http1xStream$FixedLengthSource.read(Http1xStream.java:395)\r\n    \t\tat com.android.okhttp.okio.RealBufferedSource$1.read(RealBufferedSource.java:372)\r\n    \t\tat hd.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:3)\r\n    \t\t... 13 more\r\n\r\nHere is my client side SSL connection code:\r\n\r\n    //load your key store as a stream and initialize a KeyStore\r\n    KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \r\n    //if your store is password protected then declare it (it can be null however)\r\n    String tsName = &quot;res/gamedata/truststore-bks&quot;;\r\n    char[] trustPassword = &quot;REDACTED&quot;.toCharArray();\r\n    \r\n    //load the stream to your store\r\n    trustStore.load(MyCommandReceiver.GetActiveActivity().getAssets().open(tsName), trustPassword);\r\n    \r\n    //initialize a trust manager factory with the trusted store\r\n    TrustManagerFactory trustFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    trustFactory.init(trustStore);\r\n    \r\n    //get the trust managers from the factory\r\n    TrustManager[] trustManagers = trustFactory.getTrustManagers();\r\n    \r\n    //initialize an ssl context to use these managers and set as default\r\n    //SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.3&quot;);\r\n    sslContext.init(null, trustManagers, null);\r\n    //SSLContext.setDefault(sslContext); //this was breaking admob ads from loading - and likely other stuff too\r\n    \r\n    //create sslfactory from the ssl context\r\n    SSLSocketFactory factory = sslContext.getSocketFactory();\r\n    \r\n    final int connectTimeout = 6 * 1000; //6 seconds to connect\r\n    if (GameActivity.isPROD) {\r\n    \t//https://stackoverflow.com/questions/5715751/ssl-socket-connect-timeout\r\n    \t//GameActivity.sC = (SSLSocket) SSLSocketFactory.getDefault().createSocket(); //the way code wanted me to do it\r\n    \tGameActivity.sC = (SSLSocket) factory.createSocket();\r\n    \tGameActivity.sC.setSoTimeout(connectTimeout);\r\n    \tGameActivity.sC.connect(new InetSocketAddress(GameActivity.PROD_IP, GameActivity.PROD_PORT), connectTimeout);\r\n    } else {\r\n    \tGameActivity.ShowLongToast(&quot;===DEV SERVER===&quot;);\r\n    \t//https://stackoverflow.com/questions/5715751/ssl-socket-connect-timeout\r\n    \t//GameActivity.sC = (SSLSocket) SSLSocketFactory.getDefault().createSocket(); //the way code wanted me to do it\r\n    \tGameActivity.sC = (SSLSocket) factory.createSocket();\r\n    \tGameActivity.sC.setSoTimeout(connectTimeout);\r\n    \tGameActivity.sC.connect(new InetSocketAddress(GameActivity.DEV_IP, GameActivity.PROD_PORT), connectTimeout);\r\n    }\r\n    \r\n    //GameActivity.sC.setEnabledProtocols(new String[]{&quot;SSLv3&quot;, &quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;});\r\n    //GameActivity.sC.setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;});\r\n    GameActivity.sC.setEnabledProtocols(new String[]{&quot;TLSv1.3&quot;});\r\n    //even tried with line above commented out\r\n    \r\n    GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer: ------SUPPORTED CIPHER SUITES------&quot;);\r\n    GameActivity.LoggerWrite(&quot;i&quot;, TAG, Arrays.toString(factory.getSupportedCipherSuites()));\r\n    GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------SOCKET INFO------&quot;);\r\n    printSocketInfo(GameActivity.sC);\r\n    GameActivity.sC.setSoTimeout(0);\r\n    GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------START HANDSHAKE------&quot;);\r\n    GameActivity.sC.startHandshake();\r\n    \r\n    GameActivity.sC.addHandshakeCompletedListener(new HandshakeCompletedListener() {\r\n    \t@Override\r\n    \tpublic void handshakeCompleted(HandshakeCompletedEvent arg0) {\r\n    \t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------HANDSHAKE-COMPLETED-LISTENER - START------&quot;);\r\n    \t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Cipher suite: &quot; + arg0.getCipherSuite());\r\n    \r\n    \t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Local Principal: &quot; + arg0.getLocalPrincipal());\r\n    \r\n    \t\tCertificate[] peerCertificates = null;\r\n    \t\ttry {\r\n    \t\t\tpeerCertificates = arg0.getPeerCertificates();\r\n    \t\t\tfor (Certificate s : peerCertificates) {\r\n    \t\t\t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Peer Certificate(public key): &quot; + s.getPublicKey());\r\n    \t\t\t}\r\n    \t\t} catch (SSLPeerUnverifiedException e) {\r\n    \t\t\tGameActivity.LoggerWrite(&quot;e&quot;, TAG, &quot;LoginActivity:connectToServer:arg0.getPeerCertificates()&quot; + e);\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Peer Principal: &quot; + arg0.getPeerPrincipal());\r\n    \t\t} catch (SSLPeerUnverifiedException e) {\r\n    \t\t\tGameActivity.LoggerWrite(&quot;e&quot;, TAG, &quot;LoginActivity:connectToServer:arg0.getPeerPrincipal()&quot; + e);\r\n    \t\t}\r\n    \t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Session: &quot; + arg0.getSession());\r\n    \t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Socket: &quot; + arg0.getSocket());\r\n    \t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Source: &quot; + arg0.getSource());\r\n    \t\tGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------HANDSHAKE-COMPLETED-LISTENER - END------&quot;);\r\n    \r\n    //                        connectedToServer = true; //so subsequent clicks to Login don&#39;t make new connections\r\n    \t}\r\n    });\r\n    \r\n    GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------START DataStreams - START------&quot;);\r\n    GameActivity.commandIn = new DataInputStream(GameActivity.sC.getInputStream()); //create input-stream for a command socket\r\n    GameActivity.commandOut = new DataOutputStream(GameActivity.sC.getOutputStream()); //create output-stream for a command socket\r\n    GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------START DataStreams - END------&quot;);\r\n    \r\n    //creating a thread for receiving commands\r\n    MyCommandReceiver.GetActiveActivity().runOnUiThread(new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tGameActivity.commandReceiver = new MyCommandReceiver();\r\n    \t\tGameActivity.commandReceiverThread = new Thread(null, GameActivity.commandReceiver, &quot;commandReceiver-&quot; + &quot;&quot;); //characterName\r\n    \t\tGameActivity.commandReceiverThread.setDaemon(true);\r\n    \t\tGameActivity.commandReceiverThread.start();\r\n    \t}\r\n    });","title":"AdMob - Precache exception - Server Side Validation SSV not working","body":"<p>My Android app is a MMORPG so it connects to my server.  For some reason, this is breaking AdMob SSV.  Ads show fine (test and real), but the server-side validation callback is never received.  This is driving me insane - appreciate any help.</p>\n<p>Here is the warning message I see in the logcat:</p>\n<pre><code>Precache exception\n    hi: javax.net.ssl.SSLProtocolException: Read error: ssl=0x77c5e4c0b798: Failure in SSL library, usually a protocol error\n    error:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (external/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1095 0x77c538ad22dc:0x00000000)\n    error:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (external/boringssl/src/ssl/tls_record.cc:298 0x77c538ad22dc:0x00000000)\n        at hd.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:6)\n        at hq.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:0)\n        at xv.b(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:2)\n        at xv.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:2)\n        at tx.t(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:4)\n        at yr.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:0)\n        at zt.m(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:2)\n        at zt.l(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:31)\n        at zt.j(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:39)\n        at zt.d(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:30)\n        at wc.run(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:43)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n    Caused by: javax.net.ssl.SSLProtocolException: Read error: ssl=0x77c5e4c0b798: Failure in SSL library, usually a protocol error\n    error:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (external/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1095 0x77c538ad22dc:0x00000000)\n    error:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (external/boringssl/src/ssl/tls_record.cc:298 0x77c538ad22dc:0x00000000)\n        at com.android.org.conscrypt.NativeCrypto.ENGINE_SSL_read_direct(Native Method)\n        at com.android.org.conscrypt.NativeSsl.readDirectByteBuffer(NativeSsl.java:569)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextDataDirect(ConscryptEngine.java:1095)\n        at com.android.org.conscrypt.ConscryptEngine.readPlaintextData(ConscryptEngine.java:1079)\n        at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:876)\n        at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:747)\n        at com.android.org.conscrypt.ConscryptEngine.unwrap(ConscryptEngine.java:712)\n        at com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.processDataFromSocket(ConscryptEngineSocket.java:858)\n        at com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.readUntilDataAvailable(ConscryptEngineSocket.java:824)\n        at com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.read(ConscryptEngineSocket.java:797)\n        at com.android.okhttp.okio.Okio$2.read(Okio.java:138)\n        at com.android.okhttp.okio.AsyncTimeout$2.read(AsyncTimeout.java:213)\n        at com.android.okhttp.okio.RealBufferedSource.read(RealBufferedSource.java:51)\n        at com.android.okhttp.internal.http.Http1xStream$FixedLengthSource.read(Http1xStream.java:395)\n        at com.android.okhttp.okio.RealBufferedSource$1.read(RealBufferedSource.java:372)\n        at hd.a(:com.google.android.gms.policy_ads_fdr_dynamite@231710101@231710100057.526733554.526733554:3)\n        ... 13 more\n</code></pre>\n<p>Here is my client side SSL connection code:</p>\n<pre><code>//load your key store as a stream and initialize a KeyStore\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n\n//if your store is password protected then declare it (it can be null however)\nString tsName = &quot;res/gamedata/truststore-bks&quot;;\nchar[] trustPassword = &quot;REDACTED&quot;.toCharArray();\n\n//load the stream to your store\ntrustStore.load(MyCommandReceiver.GetActiveActivity().getAssets().open(tsName), trustPassword);\n\n//initialize a trust manager factory with the trusted store\nTrustManagerFactory trustFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustFactory.init(trustStore);\n\n//get the trust managers from the factory\nTrustManager[] trustManagers = trustFactory.getTrustManagers();\n\n//initialize an ssl context to use these managers and set as default\n//SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\nSSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.3&quot;);\nsslContext.init(null, trustManagers, null);\n//SSLContext.setDefault(sslContext); //this was breaking admob ads from loading - and likely other stuff too\n\n//create sslfactory from the ssl context\nSSLSocketFactory factory = sslContext.getSocketFactory();\n\nfinal int connectTimeout = 6 * 1000; //6 seconds to connect\nif (GameActivity.isPROD) {\n    //https://stackoverflow.com/questions/5715751/ssl-socket-connect-timeout\n    //GameActivity.sC = (SSLSocket) SSLSocketFactory.getDefault().createSocket(); //the way code wanted me to do it\n    GameActivity.sC = (SSLSocket) factory.createSocket();\n    GameActivity.sC.setSoTimeout(connectTimeout);\n    GameActivity.sC.connect(new InetSocketAddress(GameActivity.PROD_IP, GameActivity.PROD_PORT), connectTimeout);\n} else {\n    GameActivity.ShowLongToast(&quot;===DEV SERVER===&quot;);\n    //https://stackoverflow.com/questions/5715751/ssl-socket-connect-timeout\n    //GameActivity.sC = (SSLSocket) SSLSocketFactory.getDefault().createSocket(); //the way code wanted me to do it\n    GameActivity.sC = (SSLSocket) factory.createSocket();\n    GameActivity.sC.setSoTimeout(connectTimeout);\n    GameActivity.sC.connect(new InetSocketAddress(GameActivity.DEV_IP, GameActivity.PROD_PORT), connectTimeout);\n}\n\n//GameActivity.sC.setEnabledProtocols(new String[]{&quot;SSLv3&quot;, &quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;});\n//GameActivity.sC.setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;});\nGameActivity.sC.setEnabledProtocols(new String[]{&quot;TLSv1.3&quot;});\n//even tried with line above commented out\n\nGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer: ------SUPPORTED CIPHER SUITES------&quot;);\nGameActivity.LoggerWrite(&quot;i&quot;, TAG, Arrays.toString(factory.getSupportedCipherSuites()));\nGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------SOCKET INFO------&quot;);\nprintSocketInfo(GameActivity.sC);\nGameActivity.sC.setSoTimeout(0);\nGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------START HANDSHAKE------&quot;);\nGameActivity.sC.startHandshake();\n\nGameActivity.sC.addHandshakeCompletedListener(new HandshakeCompletedListener() {\n    @Override\n    public void handshakeCompleted(HandshakeCompletedEvent arg0) {\n        GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------HANDSHAKE-COMPLETED-LISTENER - START------&quot;);\n        GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Cipher suite: &quot; + arg0.getCipherSuite());\n\n        GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Local Principal: &quot; + arg0.getLocalPrincipal());\n\n        Certificate[] peerCertificates = null;\n        try {\n            peerCertificates = arg0.getPeerCertificates();\n            for (Certificate s : peerCertificates) {\n                GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Peer Certificate(public key): &quot; + s.getPublicKey());\n            }\n        } catch (SSLPeerUnverifiedException e) {\n            GameActivity.LoggerWrite(&quot;e&quot;, TAG, &quot;LoginActivity:connectToServer:arg0.getPeerCertificates()&quot; + e);\n        }\n\n        try {\n            GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Peer Principal: &quot; + arg0.getPeerPrincipal());\n        } catch (SSLPeerUnverifiedException e) {\n            GameActivity.LoggerWrite(&quot;e&quot;, TAG, &quot;LoginActivity:connectToServer:arg0.getPeerPrincipal()&quot; + e);\n        }\n        GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Session: &quot; + arg0.getSession());\n        GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Socket: &quot; + arg0.getSocket());\n        GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:Source: &quot; + arg0.getSource());\n        GameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------HANDSHAKE-COMPLETED-LISTENER - END------&quot;);\n\n//                        connectedToServer = true; //so subsequent clicks to Login don't make new connections\n    }\n});\n\nGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------START DataStreams - START------&quot;);\nGameActivity.commandIn = new DataInputStream(GameActivity.sC.getInputStream()); //create input-stream for a command socket\nGameActivity.commandOut = new DataOutputStream(GameActivity.sC.getOutputStream()); //create output-stream for a command socket\nGameActivity.LoggerWrite(&quot;i&quot;, TAG, &quot;LoginActivity:connectToServer:------START DataStreams - END------&quot;);\n\n//creating a thread for receiving commands\nMyCommandReceiver.GetActiveActivity().runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        GameActivity.commandReceiver = new MyCommandReceiver();\n        GameActivity.commandReceiverThread = new Thread(null, GameActivity.commandReceiver, &quot;commandReceiver-&quot; + &quot;&quot;); //characterName\n        GameActivity.commandReceiverThread.setDaemon(true);\n        GameActivity.commandReceiverThread.start();\n    }\n});\n</code></pre>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1690228066,"post_id":76757600,"comment_id":135321266,"body_markdown":"You have an API endpoint that does literally nothing but check if a request header is present, and throws an error if it isn&#39;t. You are then creating a new HTTP connection to that API endpoint without adding that header to the request. What exactly do you expect to happen?","body":"You have an API endpoint that does literally nothing but check if a request header is present, and throws an error if it isn&#39;t. You are then creating a new HTTP connection to that API endpoint without adding that header to the request. What exactly do you expect to happen?"},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1690228418,"post_id":76757600,"comment_id":135321323,"body_markdown":"This was an example, no a real scenario, I would like to know, how do i validate that my API is not consume for external app, but it can be consumed from my backend.","body":"This was an example, no a real scenario, I would like to know, how do i validate that my API is not consume for external app, but it can be consumed from my backend."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1690228499,"post_id":76757600,"comment_id":135321346,"body_markdown":"Add the request header to the request?","body":"Add the request header to the request?"},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1690228607,"post_id":76757600,"comment_id":135321361,"body_markdown":"I did and i got the same result:","body":"I did and i got the same result:"},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1690228637,"post_id":76757600,"comment_id":135321365,"body_markdown":"connection.setRequestProperty(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;","body":"connection.setRequestProperty(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690235298,"post_id":76757600,"comment_id":135322351,"body_markdown":"Read your code again -- you are not adding the header (not in the version in your question, anyway, which is the only version we can help you with). And what exactly does &quot;it fails&quot; mean?","body":"Read your code again -- you are not adding the header (not in the version in your question, anyway, which is the only version we can help you with). And what exactly does &quot;it fails&quot; mean?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1690276418,"post_id":76757600,"comment_id":135327264,"body_markdown":"You should reconsider your architecture. You should move the business logic out of the endpoints. The endpoints should only be used from outside. Then you can call the other business logic function directly.","body":"You should reconsider your architecture. You should move the business logic out of the endpoints. The endpoints should only be used from outside. Then you can call the other business logic function directly."},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1690286284,"post_id":76757600,"comment_id":135329262,"body_markdown":"The problem is this is for my work, not my personal projects, so I can&#39;t do any change.","body":"The problem is this is for my work, not my personal projects, so I can&#39;t do any change."},{"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"score":0,"creation_date":1690308384,"post_id":76757600,"comment_id":135334419,"body_markdown":"On the other hand, no matter if I send or not the header Sec-Fectch-Site, connection.setRequestProperty(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;), when I consume prueba from prueba2 that header is not sent.","body":"On the other hand, no matter if I send or not the header Sec-Fectch-Site, connection.setRequestProperty(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;), when I consume prueba from prueba2 that header is not sent."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690328420,"creation_date":1690321258,"answer_id":76766686,"question_id":76757600,"body_markdown":"Headers starting with &quot;sec-&quot; are restricted by `HttpUrlConnection`, and won&#39;t be set on the request unless the system property `sun.net.http.allowRestrictedHeaders` is set to `true`.\r\n\r\nThe Javadoc says:\r\n```\r\n/*\r\n     * Restrict setting of request headers through the public api\r\n     * consistent with JavaScript XMLHttpRequest2 with a few\r\n     * exceptions. Disallowed headers are silently ignored for\r\n     * backwards compatibility reasons rather than throwing a\r\n     * SecurityException. For example, some applets set the\r\n     * Host header since old JREs did not implement HTTP 1.1.\r\n     * Additionally, any header starting with Sec- is\r\n     * disallowed.\r\n     *\r\n     * The following headers are allowed for historical reasons:\r\n     *\r\n     * Accept-Charset, Accept-Encoding, Cookie, Cookie2, Date,\r\n     * Referer, TE, User-Agent, headers beginning with Proxy-.\r\n     *\r\n     * The following headers are allowed in a limited form:\r\n     *\r\n     * Connection: close\r\n     *\r\n     * See http://www.w3.org/TR/XMLHttpRequest2.\r\n     */\r\n```","title":"Why is HttpURLConnection ignoring the header I want to send?","body":"<p>Headers starting with &quot;sec-&quot; are restricted by <code>HttpUrlConnection</code>, and won't be set on the request unless the system property <code>sun.net.http.allowRestrictedHeaders</code> is set to <code>true</code>.</p>\n<p>The Javadoc says:</p>\n<pre><code>/*\n     * Restrict setting of request headers through the public api\n     * consistent with JavaScript XMLHttpRequest2 with a few\n     * exceptions. Disallowed headers are silently ignored for\n     * backwards compatibility reasons rather than throwing a\n     * SecurityException. For example, some applets set the\n     * Host header since old JREs did not implement HTTP 1.1.\n     * Additionally, any header starting with Sec- is\n     * disallowed.\n     *\n     * The following headers are allowed for historical reasons:\n     *\n     * Accept-Charset, Accept-Encoding, Cookie, Cookie2, Date,\n     * Referer, TE, User-Agent, headers beginning with Proxy-.\n     *\n     * The following headers are allowed in a limited form:\n     *\n     * Connection: close\n     *\n     * See http://www.w3.org/TR/XMLHttpRequest2.\n     */\n</code></pre>\n"}],"owner":{"account_id":28404101,"reputation":111,"user_id":21728438,"display_name":"Eduardo Roque"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76766686,"answer_count":1,"score":-2,"last_activity_date":1690328420,"creation_date":1690227855,"question_id":76757600,"body_markdown":"I want to consume my own API from my backend, the issue is that when I do the request in backend \r\nthe header Sec-Fetch-Site is not sent.\r\n\r\n```java\r\n    @POST\r\n\t@Path(&quot;/prueba&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response prueba(@Context HttpHeaders headers) {\r\n\t\tString message = &quot;OK&quot;;\r\n\t\tMultivaluedMap&lt;String, String&gt; rh = headers.getRequestHeaders();\r\n\t\tif (rh == null || rh.get(&quot;Sec-Fetch-Site&quot;) == null || !rh.get(&quot;Sec-Fetch-Site&quot;).get(0).equals(&quot;same-origin&quot;))\r\n\t\t\tmessage = &quot;Error&quot;;\t\r\n\t\t\r\n\t\treturn Response.ok(message).build();\r\n\t}\r\n\t\r\n\t@POST\r\n\t@Path(&quot;/prueba2&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response prueba2() {\r\n\t\t  URL url;\r\n\t\t  byte[] buffer = new byte[1024];\r\n\t\ttry {\r\n\t\t\turl = new URL(&quot;http://localhost:8080/login/rest/auth/prueba&quot;);\r\n\t\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\t        connection.setRequestMethod(&quot;POST&quot;);\r\n\t\t        \r\n\t\t    int responseCode = connection.getResponseCode();\r\n\t\t    if (responseCode != HttpURLConnection.HTTP_OK)\r\n\t\t     \t throw new IOException(&quot;Error: &quot; + responseCode);\r\n\t\t        \r\n\t\t\t    try (InputStream inputStream = connection.getInputStream();\r\n\t\t\t             ByteArrayOutputStream output = new ByteArrayOutputStream()) {\r\n\t\t\t           \r\n\t\t\t            int bytesRead;\r\n\t\t\t            while ((bytesRead = inputStream.read(buffer)) != -1)\r\n\t\t\t                output.write(buffer, 0, bytesRead);\r\n\t\t\t    }\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\nI can consume /prueba2 without problem; however it fails if I try to consume /prueba from /prueba2. What am I doing wrong? Regards.","title":"Why is HttpURLConnection ignoring the header I want to send?","body":"<p>I want to consume my own API from my backend, the issue is that when I do the request in backend\nthe header Sec-Fetch-Site is not sent.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @POST\n    @Path(&quot;/prueba&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response prueba(@Context HttpHeaders headers) {\n        String message = &quot;OK&quot;;\n        MultivaluedMap&lt;String, String&gt; rh = headers.getRequestHeaders();\n        if (rh == null || rh.get(&quot;Sec-Fetch-Site&quot;) == null || !rh.get(&quot;Sec-Fetch-Site&quot;).get(0).equals(&quot;same-origin&quot;))\n            message = &quot;Error&quot;;  \n        \n        return Response.ok(message).build();\n    }\n    \n    @POST\n    @Path(&quot;/prueba2&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response prueba2() {\n          URL url;\n          byte[] buffer = new byte[1024];\n        try {\n            url = new URL(&quot;http://localhost:8080/login/rest/auth/prueba&quot;);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setRequestMethod(&quot;POST&quot;);\n                \n            int responseCode = connection.getResponseCode();\n            if (responseCode != HttpURLConnection.HTTP_OK)\n                 throw new IOException(&quot;Error: &quot; + responseCode);\n                \n                try (InputStream inputStream = connection.getInputStream();\n                         ByteArrayOutputStream output = new ByteArrayOutputStream()) {\n                       \n                        int bytesRead;\n                        while ((bytesRead = inputStream.read(buffer)) != -1)\n                            output.write(buffer, 0, bytesRead);\n                }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I can consume /prueba2 without problem; however it fails if I try to consume /prueba from /prueba2. What am I doing wrong? Regards.</p>\n"},{"tags":["java","spring","rest","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":3448603,"reputation":4018,"user_id":4392800,"display_name":"identigral"},"score":0,"creation_date":1562385841,"post_id":56782653,"comment_id":100366411,"body_markdown":"https://www.baeldung.com/spring-security-oauth-jwt is a good quick start","body":"<a href=\"https://www.baeldung.com/spring-security-oauth-jwt\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-oauth-jwt</a> is a good quick start"},{"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"score":0,"creation_date":1690325889,"post_id":56782653,"comment_id":135337161,"body_markdown":"Unfortunately the https://www.baeldung.com/spring-security-oauth-jwt tutorial is to build an Authorization server, not a client to use it.","body":"Unfortunately the <a href=\"https://www.baeldung.com/spring-security-oauth-jwt\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-oauth-jwt</a> tutorial is to build an Authorization server, not a client to use it."}],"answers":[{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690325617,"creation_date":1690325617,"answer_id":76766993,"question_id":56782653,"body_markdown":"As a starting point, you can handle the OAuth2 JWT bearer flow manually with the following code which basically creates a filter to configure the `WebClient` that will connect to the Resource server.\r\n\r\nThe filter creates the signed JWT you will send to the Authorization server to get back the access token that will be used in the final request header as a Bearer token.\r\n\r\nNote that the flow you refer to is defined in the [RFC-7523 (art. 2.1)](https://datatracker.ietf.org/doc/html/rfc7523#section-2.1) specification.\r\n\r\nHere is the filter :\r\n\r\n```java\r\n\r\nprivate ExchangeFilterFunction jwtAuthorizationGrantFilter() {\r\n    return (request, next) -&gt; {\r\n\r\n        // Create a JWT with the required claims\r\n        String jwtToken = JWT.create()\r\n                .withClaim(&quot;iss&quot;, &quot;3eeff86e-xxxxx-beafaa5ee66f&quot;)\r\n                .withClaim(&quot;sub&quot;, &quot;a1e757a3-xxxxx-77c5780b9284&quot;)\r\n                .withClaim(&quot;aud&quot;, &quot;account-d.docusign.com&quot;)\r\n                .withIssuedAt(Instant.now())\r\n                .withExpiresAt(Instant.now().plus(100, ChronoUnit.MINUTES))\r\n                .withClaim(&quot;scope&quot;, &quot;signature impersonation&quot;)\r\n                .sign(algorithm);\r\n\r\n\r\n        // Send the JWT to the authorization server and get an access token\r\n        return webClient.post()\r\n                .uri(&quot;https://account-d.docusign.com/oauth/token&quot;) // Your authorization server token endpoint here\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromFormData(&quot;grant_type&quot;, &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;)\r\n                        .with(&quot;assertion&quot;, jwtToken))\r\n                .retrieve()\r\n                .onStatus(HttpStatus::isError, response -&gt; {\r\n                    logTraceResponse(log, response);\r\n                    return response.createException().flatMap(Mono::error);\r\n                })\r\n                .bodyToMono(OAuth2AccessTokenResponse.class)\r\n                // Add the access token as a header to the original request\r\n                .map(tokenResponse -&gt; tokenResponse.getAccessToken().getTokenValue())\r\n                .flatMap(token -&gt; next.exchange(ClientRequest.from(request)\r\n                            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\r\n                            .build()));\r\n    };\r\n}\r\n```\r\n\r\nThe only dependencies needed are the following, with the auth0 one being used to create the JWT above :\r\n\r\n```\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\nimplementation(&quot;com.auth0:java-jwt:4.4.0&quot;)\r\n```\r\n\r\nThen you apply the filter to the `WebClient` :\r\n\r\n```java\r\nprivate WebClient dsWebClient = WebClient.builder()\r\n        .filter(jwtAuthorizationGrantFilter())\r\n        .build();\r\n\r\npublic Mono&lt;String&gt; makeApiCall() {\r\n    return dsWebClient.get()\r\n            .uri(&quot;https://account-d.docusign.com/oauth/userinfo&quot;)\r\n            .retrieve()\r\n            .bodyToMono(String.class);\r\n}\r\n````\r\n\r\nThen, the only missing part is handling the public and private keys to sign the JWT :\r\n\r\n```java\r\n\r\n    private static final Base64.Decoder DECODER = Base64.getMimeDecoder();\r\n\r\n    private static final RSAPublicKey publicKey = getRSAPublicKey();\r\n    private static final RSAPrivateKey privateKey = getRSAPrivateKey();\r\n\r\n    private static final Algorithm algorithm = Algorithm.RSA256(publicKey, privateKey);\r\n\r\n    private static RSAPrivateKey getRSAPrivateKey() {\r\n        Path privateKeyPath = Paths.get(&quot;src/main/resources/certificates/docusignPrivateKey&quot;);\r\n        try {\r\n            byte[] privateKeyBytes = buildPkcs8KeyFromPkcs1Key(convertCertFilesToBytes(privateKeyPath));\r\n            PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            return (RSAPrivateKey) keyFactory.generatePrivate(spec);\r\n        } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            throw new RuntimeException(&quot;Cannot read private key in &quot; + privateKeyPath);\r\n        }\r\n    }\r\n\r\n    private static RSAPublicKey getRSAPublicKey() {\r\n        Path privateKeyPath = Paths.get(&quot;src/main/resources/certificates/docusignPublicKey&quot;);\r\n        try {\r\n            byte[] publicKeyBytes = convertCertFilesToBytes(privateKeyPath);\r\n            X509EncodedKeySpec spec = new X509EncodedKeySpec(publicKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            return (RSAPublicKey) keyFactory.generatePublic(spec);\r\n        } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            throw new RuntimeException(&quot;Cannot read private key in &quot; + privateKeyPath);\r\n        }\r\n    }\r\n\r\n    private static byte[] buildPkcs8KeyFromPkcs1Key(byte[] innerKey) {\r\n        final byte[] result = new byte[innerKey.length + 26];\r\n        System.arraycopy(DECODER.decode(&quot;MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKY=&quot;), 0, result, 0, 26);\r\n        System.arraycopy(BigInteger.valueOf(result.length - 4).toByteArray(), 0, result, 2, 2);\r\n        System.arraycopy(BigInteger.valueOf(innerKey.length).toByteArray(), 0, result, 24, 2);\r\n        System.arraycopy(innerKey, 0, result, 26, innerKey.length);\r\n        return result;\r\n    }\r\n\r\n    private static byte[] convertCertFilesToBytes(Path certPath) throws IOException {\r\n        String certString = Files.readString(certPath).replaceAll(&quot;-----.+KEY-----&quot;, &quot;&quot;);\r\n        return DECODER.decode(certString);\r\n    }\r\n\r\n    public static void logTraceResponse(Logger log, ClientResponse response) {\r\n        log.trace(&quot;Response status: {}&quot;, response.statusCode());\r\n        log.trace(&quot;Response headers: {}&quot;, response.headers().asHttpHeaders());\r\n        response.bodyToMono(String.class)\r\n                .publishOn(Schedulers.boundedElastic())\r\n                .subscribe(body -&gt; log.trace(&quot;Response body: {}&quot;, body));\r\n    }\r\n\r\n\r\n```\r\n\r\nThis solution will probably request an access token at each request.  \r\n\r\nA more involving solution would use Spring&#39;s `ReactiveClientRegistrationRepository` and `ServerOAuth2AuthorizedClientRepository` to automatically configure the Client  Registration and Authorized Clients but the lack of example/documentation of a Spring Boot CLIENT using this JWT Flow makes creating this enhanced solution a real puzzle.","title":"OAuth 2 client for JWT bearer grant using Spring OAuth","body":"<p>As a starting point, you can handle the OAuth2 JWT bearer flow manually with the following code which basically creates a filter to configure the <code>WebClient</code> that will connect to the Resource server.</p>\n<p>The filter creates the signed JWT you will send to the Authorization server to get back the access token that will be used in the final request header as a Bearer token.</p>\n<p>Note that the flow you refer to is defined in the <a href=\"https://datatracker.ietf.org/doc/html/rfc7523#section-2.1\" rel=\"nofollow noreferrer\">RFC-7523 (art. 2.1)</a> specification.</p>\n<p>Here is the filter :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate ExchangeFilterFunction jwtAuthorizationGrantFilter() {\n    return (request, next) -&gt; {\n\n        // Create a JWT with the required claims\n        String jwtToken = JWT.create()\n                .withClaim(&quot;iss&quot;, &quot;3eeff86e-xxxxx-beafaa5ee66f&quot;)\n                .withClaim(&quot;sub&quot;, &quot;a1e757a3-xxxxx-77c5780b9284&quot;)\n                .withClaim(&quot;aud&quot;, &quot;account-d.docusign.com&quot;)\n                .withIssuedAt(Instant.now())\n                .withExpiresAt(Instant.now().plus(100, ChronoUnit.MINUTES))\n                .withClaim(&quot;scope&quot;, &quot;signature impersonation&quot;)\n                .sign(algorithm);\n\n\n        // Send the JWT to the authorization server and get an access token\n        return webClient.post()\n                .uri(&quot;https://account-d.docusign.com/oauth/token&quot;) // Your authorization server token endpoint here\n                .accept(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromFormData(&quot;grant_type&quot;, &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;)\n                        .with(&quot;assertion&quot;, jwtToken))\n                .retrieve()\n                .onStatus(HttpStatus::isError, response -&gt; {\n                    logTraceResponse(log, response);\n                    return response.createException().flatMap(Mono::error);\n                })\n                .bodyToMono(OAuth2AccessTokenResponse.class)\n                // Add the access token as a header to the original request\n                .map(tokenResponse -&gt; tokenResponse.getAccessToken().getTokenValue())\n                .flatMap(token -&gt; next.exchange(ClientRequest.from(request)\n                            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token)\n                            .build()));\n    };\n}\n</code></pre>\n<p>The only dependencies needed are the following, with the auth0 one being used to create the JWT above :</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\nimplementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\nimplementation(&quot;com.auth0:java-jwt:4.4.0&quot;)\n</code></pre>\n<p>Then you apply the filter to the <code>WebClient</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebClient dsWebClient = WebClient.builder()\n        .filter(jwtAuthorizationGrantFilter())\n        .build();\n\npublic Mono&lt;String&gt; makeApiCall() {\n    return dsWebClient.get()\n            .uri(&quot;https://account-d.docusign.com/oauth/userinfo&quot;)\n            .retrieve()\n            .bodyToMono(String.class);\n}\n</code></pre>\n<p>Then, the only missing part is handling the public and private keys to sign the JWT :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    private static final Base64.Decoder DECODER = Base64.getMimeDecoder();\n\n    private static final RSAPublicKey publicKey = getRSAPublicKey();\n    private static final RSAPrivateKey privateKey = getRSAPrivateKey();\n\n    private static final Algorithm algorithm = Algorithm.RSA256(publicKey, privateKey);\n\n    private static RSAPrivateKey getRSAPrivateKey() {\n        Path privateKeyPath = Paths.get(&quot;src/main/resources/certificates/docusignPrivateKey&quot;);\n        try {\n            byte[] privateKeyBytes = buildPkcs8KeyFromPkcs1Key(convertCertFilesToBytes(privateKeyPath));\n            PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(privateKeyBytes);\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            return (RSAPrivateKey) keyFactory.generatePrivate(spec);\n        } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException e) {\n            throw new RuntimeException(&quot;Cannot read private key in &quot; + privateKeyPath);\n        }\n    }\n\n    private static RSAPublicKey getRSAPublicKey() {\n        Path privateKeyPath = Paths.get(&quot;src/main/resources/certificates/docusignPublicKey&quot;);\n        try {\n            byte[] publicKeyBytes = convertCertFilesToBytes(privateKeyPath);\n            X509EncodedKeySpec spec = new X509EncodedKeySpec(publicKeyBytes);\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            return (RSAPublicKey) keyFactory.generatePublic(spec);\n        } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException e) {\n            throw new RuntimeException(&quot;Cannot read private key in &quot; + privateKeyPath);\n        }\n    }\n\n    private static byte[] buildPkcs8KeyFromPkcs1Key(byte[] innerKey) {\n        final byte[] result = new byte[innerKey.length + 26];\n        System.arraycopy(DECODER.decode(&quot;MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKY=&quot;), 0, result, 0, 26);\n        System.arraycopy(BigInteger.valueOf(result.length - 4).toByteArray(), 0, result, 2, 2);\n        System.arraycopy(BigInteger.valueOf(innerKey.length).toByteArray(), 0, result, 24, 2);\n        System.arraycopy(innerKey, 0, result, 26, innerKey.length);\n        return result;\n    }\n\n    private static byte[] convertCertFilesToBytes(Path certPath) throws IOException {\n        String certString = Files.readString(certPath).replaceAll(&quot;-----.+KEY-----&quot;, &quot;&quot;);\n        return DECODER.decode(certString);\n    }\n\n    public static void logTraceResponse(Logger log, ClientResponse response) {\n        log.trace(&quot;Response status: {}&quot;, response.statusCode());\n        log.trace(&quot;Response headers: {}&quot;, response.headers().asHttpHeaders());\n        response.bodyToMono(String.class)\n                .publishOn(Schedulers.boundedElastic())\n                .subscribe(body -&gt; log.trace(&quot;Response body: {}&quot;, body));\n    }\n\n\n</code></pre>\n<p>This solution will probably request an access token at each request.</p>\n<p>A more involving solution would use Spring's <code>ReactiveClientRegistrationRepository</code> and <code>ServerOAuth2AuthorizedClientRepository</code> to automatically configure the Client  Registration and Authorized Clients but the lack of example/documentation of a Spring Boot CLIENT using this JWT Flow makes creating this enhanced solution a real puzzle.</p>\n"}],"owner":{"account_id":5602297,"reputation":61,"user_id":4438155,"display_name":"Siva Kumar K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1690325617,"creation_date":1561597344,"question_id":56782653,"body_markdown":"In the Spring OAUTH library under org.springframework.security.oauth2.client.token.grant package we have grants for client, code, implicit and password. \r\n\r\nThere are some extension grants like jwt-bearer or SAML which requires assertion to be sent for token generation. \r\n\r\nGrant type: urn:ietf:params:oauth:grant-type:jwt-bearer\r\n\r\nDoes Spring OAUTH 2 support these extension grants. If so which class to use? Do we need to write a custome class to support it ?","title":"OAuth 2 client for JWT bearer grant using Spring OAuth","body":"<p>In the Spring OAUTH library under org.springframework.security.oauth2.client.token.grant package we have grants for client, code, implicit and password. </p>\n\n<p>There are some extension grants like jwt-bearer or SAML which requires assertion to be sent for token generation. </p>\n\n<p>Grant type: urn:ietf:params:oauth:grant-type:jwt-bearer</p>\n\n<p>Does Spring OAUTH 2 support these extension grants. If so which class to use? Do we need to write a custome class to support it ?</p>\n"},{"tags":["java","spring","mocking","mockito","postconstruct"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1537894597,"post_id":52502758,"comment_id":91947103,"body_markdown":"What are you looking to get out of this mock?  Are you using this service somewhere else or are you actually testing the service?","body":"What are you looking to get out of this mock?  Are you using this service somewhere else or are you actually testing the service?"},{"owner":{"account_id":10712164,"reputation":658,"user_id":7884076,"accept_rate":31,"display_name":"Jan Testowy"},"score":0,"creation_date":1537895563,"post_id":52502758,"comment_id":91947579,"body_markdown":"I am just going wondering how mockito treats @postconstruct. I am expecting something like: CONSTRUCTOR, POST CONSTRUCT","body":"I am just going wondering how mockito treats @postconstruct. I am expecting something like: CONSTRUCTOR, POST CONSTRUCT"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1537896390,"post_id":52502758,"comment_id":91947972,"body_markdown":"Why would it do anything with that?  You&#39;re mocking (e.g. faking) the Spring-driven interactions with this object, so the Spring construct of `@PostConstruct` wouldn&#39;t even apply.  So again, what is your goal with this mock?  Do you want to test this service or do you want to use a mock of your service somewhere else?","body":"Why would it do anything with that?  You&#39;re mocking (e.g. faking) the Spring-driven interactions with this object, so the Spring construct of <code>@PostConstruct</code> wouldn&#39;t even apply.  So again, what is your goal with this mock?  Do you want to test this service or do you want to use a mock of your service somewhere else?"}],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1690325308,"creation_date":1537894049,"answer_id":52503151,"question_id":52502758,"body_markdown":"Because PostConstruct is only spring concept. But you can call postConstruct manually.\r\n\r\n    @Before\r\n    public void prepare() {\r\n        MockitoAnnotations.initMocks(this);\r\n        this.service.init(); //your Injected bean\r\n    }\r\n\r\n\r\n","title":"Testing @Postconstruct with Mockito","body":"<p>Because PostConstruct is only spring concept. But you can call postConstruct manually.</p>\n<pre><code>@Before\npublic void prepare() {\n    MockitoAnnotations.initMocks(this);\n    this.service.init(); //your Injected bean\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1852692,"reputation":1963,"user_id":1678893,"display_name":"goedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537898270,"creation_date":1537897292,"answer_id":52503965,"question_id":52502758,"body_markdown":"`@PostConstruct` is an annotation defined by JSR 250 and it will be ignored in your current test cause you are using `@RunWith(MockitoJUnitRunner.class)`, i.e., A JUnit runner that is not aware of this annotation. If you are writing unit tests they should be simple ad just test the business logic of your application, but if you want to write integrations tests that use some third-party code that is able to process this kind of annotation, like Spring, for example. Then you can annotate your test class with following annotations:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {AppConfig.class})","title":"Testing @Postconstruct with Mockito","body":"<p><code>@PostConstruct</code> is an annotation defined by JSR 250 and it will be ignored in your current test cause you are using <code>@RunWith(MockitoJUnitRunner.class)</code>, i.e., A JUnit runner that is not aware of this annotation. If you are writing unit tests they should be simple ad just test the business logic of your application, but if you want to write integrations tests that use some third-party code that is able to process this kind of annotation, like Spring, for example. Then you can annotate your test class with following annotations:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {AppConfig.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6778658,"reputation":1374,"user_id":5219732,"display_name":"Aleksandr Semyannikov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542565800,"creation_date":1537897791,"answer_id":52504081,"question_id":52502758,"body_markdown":"I modified a little your service by adding a method foo:\r\n\r\n    @Service\r\n    public class MyService {\r\n        public MyService() {\r\n            System.out.println(&quot;CONSTRUKTOR&quot;);\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            System.out.println(&quot;POST CONSTRUCT&quot;);\r\n        }\r\n    \r\n        public String foo() {\r\n            return &quot;bar&quot;;\r\n        }\r\n    }\r\n\r\nIf you want to get behaviour, that you described, there are at least two possibilities:\r\n\r\n 1. `@RunWith(SpringJUnit4ClassRunner.class)` + `@Autowired` - that combination will let you to get a usual service in your test\r\n\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @ContextConfiguration(classes = MyService.class)\r\n        public class Mockito1 {\r\n        \r\n            @Autowired\r\n            private MyService service;\r\n        \r\n            @Before\r\n            public void init() {\r\n            }\r\n        \r\n            @Test\r\n            public void name() throws Exception {\r\n                System.out.println(service.foo());\r\n            }\r\n        }\r\n\r\nThis code will print:\r\n\r\n    CONSTRUKTOR\r\n    POST CONSTRUCT\r\n    bar\r\n\r\n 2. `@RunWith(SpringJUnit4ClassRunner.class)` + `@SpyBean` - that combination will let you to get a service in your test and to modify it&#39;s behaviour using Mockito\r\n\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @ContextConfiguration(classes = MyService.class)\r\n        public class Mockito1 {\r\n\r\n            @SpyBean\r\n            private MyService service;\r\n\r\n            @Before\r\n            public void init() {\r\n            }\r\n\r\n            @Test\r\n            public void name() throws Exception {\r\n                System.out.println(service.foo());\r\n                Mockito.when(service.foo()).thenReturn(&quot;FOO&quot;);\r\n                System.out.println(service.foo());\r\n            }\r\n        }\r\n\r\nThis code will print:\r\n\r\n    CONSTRUKTOR\r\n    POST CONSTRUCT\r\n    bar\r\n    FOO","title":"Testing @Postconstruct with Mockito","body":"<p>I modified a little your service by adding a method foo:</p>\n\n<pre><code>@Service\npublic class MyService {\n    public MyService() {\n        System.out.println(\"CONSTRUKTOR\");\n    }\n\n    @PostConstruct\n    public void init() {\n        System.out.println(\"POST CONSTRUCT\");\n    }\n\n    public String foo() {\n        return \"bar\";\n    }\n}\n</code></pre>\n\n<p>If you want to get behaviour, that you described, there are at least two possibilities:</p>\n\n<ol>\n<li><p><code>@RunWith(SpringJUnit4ClassRunner.class)</code> + <code>@Autowired</code> - that combination will let you to get a usual service in your test</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = MyService.class)\npublic class Mockito1 {\n\n    @Autowired\n    private MyService service;\n\n    @Before\n    public void init() {\n    }\n\n    @Test\n    public void name() throws Exception {\n        System.out.println(service.foo());\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>This code will print:</p>\n\n<pre><code>CONSTRUKTOR\nPOST CONSTRUCT\nbar\n</code></pre>\n\n<ol start=\"2\">\n<li><p><code>@RunWith(SpringJUnit4ClassRunner.class)</code> + <code>@SpyBean</code> - that combination will let you to get a service in your test and to modify it's behaviour using Mockito</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = MyService.class)\npublic class Mockito1 {\n\n    @SpyBean\n    private MyService service;\n\n    @Before\n    public void init() {\n    }\n\n    @Test\n    public void name() throws Exception {\n        System.out.println(service.foo());\n        Mockito.when(service.foo()).thenReturn(\"FOO\");\n        System.out.println(service.foo());\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>This code will print:</p>\n\n<pre><code>CONSTRUKTOR\nPOST CONSTRUCT\nbar\nFOO\n</code></pre>\n"}],"owner":{"account_id":10712164,"reputation":658,"user_id":7884076,"accept_rate":31,"display_name":"Jan Testowy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35515,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1690325308,"creation_date":1537892739,"question_id":52502758,"body_markdown":"Why when I injecting mocks via `Mockito` my `@Postconstruckt` method is not calling?\r\n\r\n    @Service\r\n    public class MyService {\r\n        public MyService() {\r\n            System.out.println(&quot;CONSTRUKTOR&quot;);\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            System.out.println(&quot;POST CONSTRUCT&quot;);\r\n        }\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class Mockito1 {\r\n    \r\n        @InjectMocks\r\n        private MyService service;\r\n    \r\n        @Before\r\n        public void init() {\r\n        }\r\n\r\nOutput:\r\nOnly: `CONSTRUKTOR`","title":"Testing @Postconstruct with Mockito","body":"<p>Why when I injecting mocks via <code>Mockito</code> my <code>@Postconstruckt</code> method is not calling?</p>\n\n<pre><code>@Service\npublic class MyService {\n    public MyService() {\n        System.out.println(\"CONSTRUKTOR\");\n    }\n\n    @PostConstruct\n    public void init() {\n        System.out.println(\"POST CONSTRUCT\");\n    }\n\n@RunWith(MockitoJUnitRunner.class)\npublic class Mockito1 {\n\n    @InjectMocks\n    private MyService service;\n\n    @Before\n    public void init() {\n    }\n</code></pre>\n\n<p>Output:\nOnly: <code>CONSTRUKTOR</code></p>\n"},{"tags":["java","tomcat","dspace"],"comments":[{"owner":{"account_id":4046639,"reputation":97,"user_id":3327677,"display_name":"Roel"},"score":0,"creation_date":1460635174,"post_id":36616668,"comment_id":60840635,"body_markdown":"When I try to start the xmlui webapp from the tomcat _Application manager_ it just says:     **FAIL - Application at context path /xmlui could not be started**","body":"When I try to start the xmlui webapp from the tomcat <i>Application manager</i> it just says:     <b>FAIL - Application at context path /xmlui could not be started</b>"},{"owner":{"account_id":4046639,"reputation":97,"user_id":3327677,"display_name":"Roel"},"score":0,"creation_date":1460635297,"post_id":36616668,"comment_id":60840728,"body_markdown":"Same for the jspui **FAIL - Application at context path /jspui could not be started**","body":"Same for the jspui <b>FAIL - Application at context path /jspui could not be started</b>"},{"owner":{"account_id":27490,"reputation":2189,"user_id":72625,"accept_rate":75,"display_name":"schweerelos"},"score":0,"creation_date":1460669315,"post_id":36616668,"comment_id":60863773,"body_markdown":"It would be useful if you could show us the content of the files you&#39;ve added to /etc/tomcat7/localhost. Also, is there anything in the tomcat log file (probably `/var/log/tomcat7/catalina.out` or similar)?","body":"It would be useful if you could show us the content of the files you&#39;ve added to /etc/tomcat7/localhost. Also, is there anything in the tomcat log file (probably <code>&#47;var&#47;log&#47;tomcat7&#47;catalina.out</code> or similar)?"},{"owner":{"account_id":4046639,"reputation":97,"user_id":3327677,"display_name":"Roel"},"score":0,"creation_date":1460709041,"post_id":36616668,"comment_id":60878046,"body_markdown":"As you asked, I added an image of me doing an ls inside localhost and the stack of my tomcat.","body":"As you asked, I added an image of me doing an ls inside localhost and the stack of my tomcat."},{"owner":{"account_id":27490,"reputation":2189,"user_id":72625,"accept_rate":75,"display_name":"schweerelos"},"score":0,"creation_date":1460928868,"post_id":36616668,"comment_id":60954697,"body_markdown":"You need to tell us which of the files has the content you copied. Is that the `xmlui.xml` one, and do the others have the docBase adjusted appropriately? Is your XMLUI actually installed in `/dspace/webapps/xmlui` -- that is, does that directory exist and contain files? Is that directory readable by the user running tomcat?","body":"You need to tell us which of the files has the content you copied. Is that the <code>xmlui.xml</code> one, and do the others have the docBase adjusted appropriately? Is your XMLUI actually installed in <code>&#47;dspace&#47;webapps&#47;xmlui</code> -- that is, does that directory exist and contain files? Is that directory readable by the user running tomcat?"},{"owner":{"account_id":4046639,"reputation":97,"user_id":3327677,"display_name":"Roel"},"score":0,"creation_date":1460962531,"post_id":36616668,"comment_id":60963209,"body_markdown":"I added the information you asked for. I noticed the logs of the tomcat already got deleted. i&#39;m looking for a site to copy my log in to so it stays readable.","body":"I added the information you asked for. I noticed the logs of the tomcat already got deleted. i&#39;m looking for a site to copy my log in to so it stays readable."},{"owner":{"account_id":4046639,"reputation":97,"user_id":3327677,"display_name":"Roel"},"score":0,"creation_date":1460968007,"post_id":36616668,"comment_id":60966261,"body_markdown":"Added /var/log/tomcat7/catalina.out logs with the use of gist","body":"Added /var/log/tomcat7/catalina.out logs with the use of gist"},{"owner":{"account_id":27490,"reputation":2189,"user_id":72625,"accept_rate":75,"display_name":"schweerelos"},"score":0,"creation_date":1461032872,"post_id":36616668,"comment_id":61002652,"body_markdown":"I&#39;m running out of ideas. Is there anything in the DSpace log file? I note your gist says `SEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file` but I don&#39;t know where those container log files would be.","body":"I&#39;m running out of ideas. Is there anything in the DSpace log file? I note your gist says <code>SEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file</code> but I don&#39;t know where those container log files would be."},{"owner":{"account_id":4046639,"reputation":97,"user_id":3327677,"display_name":"Roel"},"score":0,"creation_date":1461049361,"post_id":36616668,"comment_id":61008477,"body_markdown":"I will start over from a clean Tomcat install.","body":"I will start over from a clean Tomcat install."}],"answers":[{"tags":[],"owner":{"account_id":5351663,"reputation":1854,"user_id":4970442,"display_name":"Pablo Bianchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690325015,"creation_date":1690325015,"answer_id":76766950,"question_id":36616668,"body_markdown":"In my case, the issue was I copied all the Solr cores to `/opt/solr/server/solr/configsets` instead of to `/var/solr/data`, as it should on a Debian (11 in my case). From [step 13 on the documentation][1]:\r\n\r\n&lt;pre&gt;\r\n# [solr] is the location where Solr is installed.\r\n&lt;strong&gt;# NOTE: On Debian systems the configsets may be under /var/solr/data/configsets&lt;/strong&gt;\r\ncp -R [dspace]/solr/* [solr]/server/solr/configsets\r\n&lt;/pre&gt;\r\n\r\nSeems that [in other cases][2] is a permissions issue.\r\n\r\n\r\n  [1]: https://wiki.lyrasis.org/display/DSDOC7x/Installing+DSpace#InstallingDSpace-BackendInstallation\r\n  [2]: https://dspacegeek.blogspot.com/2017/10/http-status-404.html","title":"Intalled Dspace on Debian, 404 error stays after copying files to tomcat webapps","body":"<p>In my case, the issue was I copied all the Solr cores to <code>/opt/solr/server/solr/configsets</code> instead of to <code>/var/solr/data</code>, as it should on a Debian (11 in my case). From <a href=\"https://wiki.lyrasis.org/display/DSDOC7x/Installing+DSpace#InstallingDSpace-BackendInstallation\" rel=\"nofollow noreferrer\">step 13 on the documentation</a>:</p>\n<pre>\n# [solr] is the location where Solr is installed.\n<strong># NOTE: On Debian systems the configsets may be under /var/solr/data/configsets</strong>\ncp -R [dspace]/solr/* [solr]/server/solr/configsets\n</pre>\n<p>Seems that <a href=\"https://dspacegeek.blogspot.com/2017/10/http-status-404.html\" rel=\"nofollow noreferrer\">in other cases</a> is a permissions issue.</p>\n"}],"owner":{"account_id":4046639,"reputation":97,"user_id":3327677,"display_name":"Roel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690325015,"creation_date":1460619662,"question_id":36616668,"body_markdown":"This is my first time installing Dspace,\r\nI followed the tutorial from the duraspace site.\r\n\r\nwiki.duraspace.org/display/DSDOC5x/Installing+DSpace\r\n\r\n - Mvn package was a succes.\r\n - Building the package with ant was a succes.\r\n - Initializing the database was successful\r\n\r\nI also added the needed xml files to /etc/tomcat7/localhost/\r\n\r\nI then started my tomcat service but 127.0.0.1:8080/xmlui gives me a 404.\r\nThe original tomcat pages(docs,...) do work.\r\n\r\nI&#39;ve already looked at the \r\n\r\n/var/log/tomcat7/catalina.out for seeing what goes wrong and found no errors. So I&#39;m out of inspiration.\r\n\r\nI have never worked with Dspace or Tomcat before.\r\nIt could be that I looked over something small.\r\n\r\nSome help would be welcome. Thank you very much\r\n\r\nIf it can help these are the files inside my Catalina/localhost\r\n\r\n[Files inside Catalina/localhost][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FVT3v.png\r\n\r\nInside the not standard xml files the code is (as example xmlui.xml):\r\n\r\n    &lt;?xml version=&#39;1.0&#39;?&gt;\r\n    &lt;Context\r\n    docBase=&quot;/dspace/webapps/xmlui&quot;\r\n    reloadable=&quot;true&quot;\r\n    cachingAllowed=&quot;false&quot;/&gt;\r\n\r\nThe files inside the /dspace/webapps/xmlui as ls:\r\n\r\n    aspects             exception2html.xslt  META-INF      static  WEB-INF\r\n    exception2dri.xslt  i18n                 sitemap.xmap  themes\r\n\r\nAbout rights: It should not be a problem. For now I just dit a chmod -R 777 on the /dspace folder.\r\n\r\nA remembrance that all services run except of my rest, xmlui and jspui.\r\n\r\n\r\nthe log of my tomcat starting up in /var/log/tomcat7/catalina.out:\r\n\r\nhttps://gist.github.com/RoelKint/06795ccc0fc8c56367554e4c860c8ded\r\n\r\n","title":"Intalled Dspace on Debian, 404 error stays after copying files to tomcat webapps","body":"<p>This is my first time installing Dspace,\nI followed the tutorial from the duraspace site.</p>\n\n<p>wiki.duraspace.org/display/DSDOC5x/Installing+DSpace</p>\n\n<ul>\n<li>Mvn package was a succes.</li>\n<li>Building the package with ant was a succes.</li>\n<li>Initializing the database was successful</li>\n</ul>\n\n<p>I also added the needed xml files to /etc/tomcat7/localhost/</p>\n\n<p>I then started my tomcat service but 127.0.0.1:8080/xmlui gives me a 404.\nThe original tomcat pages(docs,...) do work.</p>\n\n<p>I've already looked at the </p>\n\n<p>/var/log/tomcat7/catalina.out for seeing what goes wrong and found no errors. So I'm out of inspiration.</p>\n\n<p>I have never worked with Dspace or Tomcat before.\nIt could be that I looked over something small.</p>\n\n<p>Some help would be welcome. Thank you very much</p>\n\n<p>If it can help these are the files inside my Catalina/localhost</p>\n\n<p><a href=\"https://i.stack.imgur.com/FVT3v.png\" rel=\"nofollow\">Files inside Catalina/localhost</a></p>\n\n<p>Inside the not standard xml files the code is (as example xmlui.xml):</p>\n\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;Context\ndocBase=\"/dspace/webapps/xmlui\"\nreloadable=\"true\"\ncachingAllowed=\"false\"/&gt;\n</code></pre>\n\n<p>The files inside the /dspace/webapps/xmlui as ls:</p>\n\n<pre><code>aspects             exception2html.xslt  META-INF      static  WEB-INF\nexception2dri.xslt  i18n                 sitemap.xmap  themes\n</code></pre>\n\n<p>About rights: It should not be a problem. For now I just dit a chmod -R 777 on the /dspace folder.</p>\n\n<p>A remembrance that all services run except of my rest, xmlui and jspui.</p>\n\n<p>the log of my tomcat starting up in /var/log/tomcat7/catalina.out:</p>\n\n<p><a href=\"https://gist.github.com/RoelKint/06795ccc0fc8c56367554e4c860c8ded\" rel=\"nofollow\">https://gist.github.com/RoelKint/06795ccc0fc8c56367554e4c860c8ded</a></p>\n"},{"tags":["java","android","ssl","ssl-certificate"],"owner":{"account_id":15937140,"reputation":57,"user_id":16618701,"display_name":"stani gam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690324744,"creation_date":1690324744,"question_id":76766925,"body_markdown":"I am currently trying to connect to an MQTT broker via SSL/TLS from an Android client. For this, I have a combination of three keys: crt, key, and ca. The ca key is self-signed and not trusted by default.\r\n\r\nThis is the certificate information:\r\n\r\n```\r\nSubject\tiot.fr-par.scw.cloud\r\nCommon names\tiot.fr-par.scw.cloud\r\nAlternative names\tiot.fr-par.scw.cloud\r\nSerial Number\t3a6e35afb2dd3f43908e40d10c3a01f66dfd79f0\r\nValid from\tMon, 29 May 2023 08:24:00 UTC\r\nValid until\tTue, 28 May 2024 08:24:00 UTC (expires in 10 months and 2 days)\r\nIssuer\tiot.fr-par.scw.cloud\r\nSignature algorithm\tSHA512withRSA\r\n```\r\n\r\nI am using the Paho MQTT library in Android. Here is the code that I am using to connect and publish:\r\n\r\n```java\r\npackage com.dakatech.daka_ap;\r\n\r\nimport android.content.Context;\r\nimport org.eclipse.paho.android.service.MqttAndroidClient;\r\nimport org.eclipse.paho.client.mqttv3.*;\r\n\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport java.io.InputStream;\r\nimport java.security.KeyStore;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class MqttClient {\r\n\r\n    private static final String brokerUrl = &quot;ssl://iot.fr-par.scw.cloud:8883&quot;;\r\n    private static final String clientId = &quot;AndroidClient&quot;;\r\n    private static final String topic = &quot;your/topic&quot;;\r\n    private final Context context; // Initialized in constructor\r\n\r\n    public MqttClient(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public void connectAndPublish() {\r\n        try {\r\n\r\n            // Cr&#233;er le SSLContext\r\n            SSLContext sslContext;\r\n            try {\r\n                sslContext = getSslContext(context);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return;\r\n            }\r\n\r\n            MqttAndroidClient client = new MqttAndroidClient(context, brokerUrl, clientId);\r\n            MqttConnectOptions options = new MqttConnectOptions();\r\n            options.setSocketFactory(sslContext.getSocketFactory());\r\n\r\n            client.connect(options, null, new IMqttActionListener() {\r\n                @Override\r\n                public void onSuccess(IMqttToken asyncActionToken) {\r\n                    // Connect&#233;, publier un message\r\n                    MqttMessage message = new MqttMessage(&quot;Hello, world!&quot;.getBytes());\r\n                    message.setQos(1);\r\n                    try {\r\n                        client.publish(topic, message);\r\n                    } catch (MqttException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n                    // La connexion a &#233;chou&#233;\r\n                    exception.printStackTrace();\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            // G&#233;rer l&#39;erreur\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n        private SSLContext getSslContext(Context context) throws Exception {\r\n            // Charger le certificat CA\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            InputStream caInput = context.getResources().openRawResource(R.raw.ca);\r\n            X509Certificate caCertificate;\r\n            try {\r\n                caCertificate = (X509Certificate) cf.generateCertificate(caInput);\r\n            } finally {\r\n                caInput.close();\r\n            }\r\n            String keyStoreType = KeyStore.getDefaultType();\r\n            KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n            keyStore.load(null, null);\r\n            keyStore.setCertificateEntry(&quot;ca&quot;, caCertificate);\r\n\r\n            // Cr&#233;er un TrustManager qui fait confiance au keystore\r\n            String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\r\n            tmf.init(keyStore);\r\n\r\n            // Charger le keystore du client\r\n            KeyStore clientKeyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            try (InputStream keyStoreInput = context.getResources().openRawResource(R.raw.client)) {\r\n                clientKeyStore.load(keyStoreInput, &quot;poplpopl&quot;.toCharArray());\r\n            }\r\n\r\n            // Cr&#233;er un KeyManager &#224; partir du keystore du client\r\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            kmf.init(clientKeyStore, &quot;poplpopl&quot;.toCharArray());\r\n\r\n            // Cr&#233;er un SSLContext qui utilise notre TrustManager et KeyManager\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n\r\n            return sslContext;\r\n        }\r\n}\r\n```\r\n\r\nHowever, I am getting an SSLHandshakeException with the message `java.security.cert.CertPathValidatorException: Trust anchor for certification path not found`. It&#39;s like Java is not reading the CA certificate.\r\n\r\nI defined a network-security-config:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;debug-overrides&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;!-- Trust preinstalled CAs --&gt;\r\n            &lt;certificates src=&quot;system&quot;/&gt;\r\n            &lt;!-- Additionally trust user added CAs --&gt;\r\n            &lt;certificates src=&quot;user&quot;/&gt;\r\n            &lt;!-- Trust certificates in raw resource directories --&gt;\r\n            &lt;certificates src=&quot;@raw/ca&quot;/&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/debug-overrides&gt;\r\n&lt;/network-security-config&gt;\r\n```\r\n\r\nAnd I linked it in the AndroidManifest.xml:\r\n\r\n```xml\r\n&lt;application\r\n...\r\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n...&gt;\r\n```\r\n\r\nThe keys are correctly placed in the src/raw directory.\r\n\r\nDespite all these, the issue persists. Is there something I am missing or doing wrong? Any suggestions would be greatly appreciated.\r\n\r\nps: connection is working with openssl on linux: \r\n```\r\nopenssl s_client -connect iot.fr-par.scw.cloud:8883 -cert crt.pem -key key.pem -CAfile ca.pem\r\nCONNECTED(00000005)\r\ndepth=1 C = FR, L = Paris, O = Scaleway, OU = scaleway.com, CN = iot.fr-par.scw.cloud\r\nverify return:1\r\ndepth=0 C = FR, L = Paris, O = Scaleway, OU = iot-hub, CN = iot.fr-par.scw.cloud\r\nverify return:1\r\n---\r\nCertificate chain\r\n 0 s:C = FR, L = Paris, O = Scaleway, OU = iot-hub, CN = iot.fr-par.scw.cloud\r\n   i:C = FR, L = Paris, O = Scaleway, OU = scaleway.com, CN = iot.fr-par.scw.cloud\r\n   a:PKEY: rsaEncryption, 4096 (bit); sigalg: RSA-SHA512\r\n   v:NotBefore: May 29 08:24:00 2023 GMT; NotAfter: May 28 08:24:00 2024 GMT\r\n---\r\nServer certificate\r\n-----BEGIN CERTIFICATE-----\r\nMIIF9zCCA9+gAwIBAgIUOm41r7LdP0OQjkDRDDoB9m39efAwDQYJKoZIhvcNAQEN\r\nBQAwZjELMAkGA1UEBhMCRlIxDjAMBgNVBAcTBVBhcmlzMREwDwYDVQQKEwhTY2Fs\r\nZXdheTEVMBMGA1UECxMMc2NhbGV3YXkuY29tMR0wGwYDVQQDExRpb3QuZnItcGFy\r\nLnNjdy5jbG91ZDAeFw0yMzA1MjkwODI0MDBaFw0yNDA1MjgwODI0MDBaMGExCzAJ\r\nBgNVBAYTAkZSMQ4wDAYDVQQHEwVQYXJpczERMA8GA1UEChMIU2NhbGV3YXkxEDAO\r\nBgNVBAsTB2lvdC1odWIxHTAbBgNVBAMTFGlvdC5mci1wYXIuc2N3LmNsb3VkMIIC\r\nIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA8jTXyhDM0NttOng6BwuMIgyV\r\n7B/lO4j4lOUiCet3bJmMPzh/stL+jKFmJ9oSI9ShpD9q/DIoAMrWMC1mzcU0CR/6\r\nyJ7UbT8U9Kjnvnp5KY3UXBiCvBU8GSbZHc4gsLc8Q5dGNw4P7AAXcQyBviDpSNy9\r\ndUxkbjjAPD/KQJmiru8r/eRSick1N9WMnSW938lxeOxVpa5bpUUDj/PGL6G1gh/g\r\n04IV1oc3RyhJ0DaAuA/3HokCJnGgXYewkJLrabPbOn6t4qmrQqKzd/xSae1/98bS\r\n+liXuAnoZQkLv2N9uUyJHefEnn3y+YRkat2L+9vUpfXzhLjBIphDRbzAlzSTGRbD\r\nT7TAuQdKLbIpb+WpgGVmRvcOBpxRy7i0op1z+ypXsuSZHtlYB4pAUwSb1D6k0Bqp\r\nMAdTWY2/IlQ6ECfZp3LvrQUhzZd6vv9firMkEhPzWUqck0/8G3UTUg5eikcYhBKS\r\nQUEuWe6qKfzmdtXZSIWRVdyA1TiVNCVG7eqB1DgHRBNFrIPPSfapH7XXj1TGu/XS\r\nLR/cJ8d3STnt+WaQVm+tgRlblT6EYhcDpwrKbqip3DgVJ2rPAVqVGWkihjz5PPMr\r\nIvthxiSOqCTzLelxgna/lKD13b8d/2K/uMycFUmDjRwfeLXAMjzi78KBjewhPC6u\r\nMqCV31n+AnmQWxb6/U8CAwEAAaOBoTCBnjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0l\r\nBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYE\r\nFA3Y5ZxN0W/maIAggwgsxC6J75XfMB8GA1UdIwQYMBaAFAJBBDKX4egU/YknRFDp\r\nARE2glxdMB8GA1UdEQQYMBaCFGlvdC5mci1wYXIuc2N3LmNsb3VkMA0GCSqGSIb3\r\nDQEBDQUAA4ICAQAGuNWUzvA5P7ZtQJJ/vyIxT12F2NL9gdklwJtVdaA4iLGXaHtv\r\nbFZbVllWBTB8eXOAE0h1gvWGUmcQ6Y5W+9SZYFKnXl3iA3tn9sbMUuPW70Ljbp9B\r\njrg4ABUrmyuYXNTSUcKbfXk8xLIvckzkr/2kEPixv//T/wZnIhYKSoIgpBKaw4n7\r\nuE7shtR1A/tOc3WLlmI+8419GuI0zzbBA5kzao9Ch2zBBFjciWicGxSLiDidJWlS\r\nNmJx7ZGRgFYcG/anAJvUYDTboVH2KJ/PZ51Q8sUa+uph5q8N2vgT/8sNNBf9MYfn\r\niq72p9F9ippOxM4dVYAEXIAk3mehtS19yuLAF3t5zjSMuhbrez49H5FcTuJ+Gg8Q\r\n6+p9/upZmB3QqrBh2sIOMYWW9qEbXbw2lKSsRm6/wnH7F3E5iGPzSLkJGgsyGTZ1\r\nk1setqUIjLhJlha6Wt0p/CrgRpBvNWCam0/0ZASamgVy7vV7Ru4vIzOGvE8FR4PI\r\n0b4M5uYdNCFnYYE6HL3i+/dtOi4I1GXH50iSTGztBARhII+FBf+Mh4Gft15+WzG5\r\nRSaCRz1YMos6mEUqKxPzirLQeoLE0jDInTGm05QHMURK1BET2h0UgsrVqbLDMXXt\r\nfAOljTL0CMWtFgQYWC+aWpgjTU8oFmj26AwJA2bK6TJFuWL477ZuJObpdA==\r\n-----END CERTIFICATE-----\r\nsubject=C = FR, L = Paris, O = Scaleway, OU = iot-hub, CN = iot.fr-par.scw.cloud\r\nissuer=C = FR, L = Paris, O = Scaleway, OU = scaleway.com, CN = iot.fr-par.scw.cloud\r\n---\r\nNo client certificate CA names sent\r\nRequested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512:RSA+SHA1:ECDSA+SHA1\r\nShared Requested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512\r\nPeer signing digest: SHA256\r\nPeer signature type: RSA-PSS\r\nServer Temp Key: X25519, 253 bits\r\n---\r\nSSL handshake has read 2394 bytes and written 1827 bytes\r\nVerification: OK\r\n---\r\nNew, TLSv1.3, Cipher is TLS_AES_128_GCM_SHA256\r\nServer public key is 4096 bit\r\nThis TLS version forbids renegotiation.\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nEarly data was not sent\r\nVerify return code: 0 (ok)\r\n---\r\n---\r\nPost-Handshake New Session Ticket arrived:\r\nSSL-Session:\r\n    Protocol  : TLSv1.3\r\n    Cipher    : TLS_AES_128_GCM_SHA256\r\n    Session-ID: 782BFAB969087DF319705E617BA121BF178F81CA4E14CA86B6467FEC26BC258E\r\n    Session-ID-ctx:\r\n    Resumption PSK: 4F87F4BDB1D3088B43806BF98D7C0224852773F07D565BCBAD1109D02569EBCB\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    SRP username: None\r\n    TLS session ticket lifetime hint: 604800 (seconds)\r\n    TLS session ticket:\r\n    0000 - ec 2a d3 9c b4 2b f9 67-5f 18 2b 06 8e 78 21 59   .*...+.g_.+..x!Y\r\n    0010 - 60 56 f3 27 e3 ea 65 a2-0c f4 f3 cc 4e e1 0f c4   `V.&#39;..e.....N...\r\n    0020 - be 58 36 a4 ca 67 25 ab-69 ae aa b0 62 aa 87 aa   .X6..g%.i...b...\r\n    0030 - e8 de 72 f5 e8 00 b8 90-66 cc b3 08 56 9b e6 59   ..r.....f...V..Y\r\n    0040 - 24 2e a5 0a 92 7c e2 32-6d 59 f4 62 42 bb 89 12   $....|.2mY.bB...\r\n    0050 - e8 b9 8b b0 06 8a 31 14-92 06 ee 09 6e 41 3f ba   ......1.....nA?.\r\n    0060 - 83 79 8c f5 f7 4d 16 5a-f8 6e 83 f3 45 ce d4 ee   .y...M.Z.n..E...\r\n    0070 - 51 97 68 04 e0 ea ab 70-e8 a2 df b6 15 dd a1 dc   Q.h....p........\r\n    0080 - 0c 05 40 76 0d 39 1b 4e-d0 45 39 be 82 0a ad ce   ..@v.9.N.E9.....\r\n    0090 - bf 70 62 02 f6 28 e0 cc-ca 2c c1 bb f2 d1 7e 4a   .pb..(...,....~J\r\n    00a0 - 84 31 61 22 e3 3d c3 a7-d6 26 9d d2 c4 49 a9 8e   .1a&quot;.=...&amp;...I..\r\n    00b0 - 26 12 e1 92 70 39 b1 12-90 4a db 58 0b 6a f2 83   &amp;...p9...J.X.j..\r\n    00c0 - 18 5c 1d 23 96 63 6c a4-91 33 85 b5 82 62 37 3d   .\\.#.cl..3...b7=\r\n    00d0 - 3d 4c 54 cb b7 b2 a9 20-d5 f3 ca 67 82 80 cc 5e   =LT.... ...g...^\r\n    00e0 - af 5d 05 62 da c5 d4 02-4f 18 14 ac b8 b7 c3 5d   .].b....O......]\r\n    00f0 - cb cb 2d 06 34 f3 83 fc-ec 09 d2 73 31 b6 7e 95   ..-.4......s1.~.\r\n    0100 - 78 ea 84 76 9c d4 70 6a-6f 22 c4 74 ac e5 39 40   x..v..pjo&quot;.t..9@\r\n    0110 - 99 ee 04 42 ff 6b 36 53-6a 4b 0a 50 38 4f af a2   ...B.k6SjK.P8O..\r\n    0120 - 5a e5 df 1c 5e df 45 e0-b6 49 b3 6d f4 12 c2 13   Z...^.E..I.m....\r\n    0130 - 20 af d4 3d 2b c2 77 f0-42 36 ae 40 44 c4 f8 6a    ..=+.w.B6.@D..j\r\n    0140 - 51 22 03 82 77 a5 11 2a-53 99 72 4f 0e a6 8f 8f   Q&quot;..w..*S.rO....\r\n    0150 - 57 04 cc f2 43 3d b8 dc-5a 2e 58 a3 4b 91 99 e2   W...C=..Z.X.K...\r\n    0160 - 49 d8 19 6d 30 48 5c c7-3d 5c 8b f4 0f 96 bc d0   I..m0H\\.=\\......\r\n    0170 - 45 22 80 60 cd ee d5 31-3e c8 0f 17 54 1a 65 64   E&quot;.`...1&gt;...T.ed\r\n    0180 - 5c aa f2 91 d2 5e b5 0f-a1 12 e4 33 02 69 66 48   \\....^.....3.ifH\r\n    0190 - b4 7f 81 3c 18 78 bc 50-10 2e 29 a3 6b 48 06 cf   ...&lt;.x.P..).kH..\r\n    01a0 - 22 7e 1b 6e b4 73 f6 46-5f 76 0e 57 fb 8a 33 df   &quot;~.n.s.F_v.W..3.\r\n    01b0 - f2 18 b6 e0 3d 5c 55 55-ec 22 a5 8c e3 a9 58 2b   ....=\\UU.&quot;....X+\r\n    01c0 - ed c3 ec db 50 f3 9d 37-d2 c1 3b ae 45 c2 2e d3   ....P..7..;.E...\r\n    01d0 - 7a a6 b8 64 0e 5a 4f 73-c2 6d 07 f0 43 ef 92 4f   z..d.ZOs.m..C..O\r\n    01e0 - 63 4c 25 37 09 71 16 9e-06 b6 66 bf 11 4b 48 ff   cL%7.q....f..KH.\r\n    01f0 - ad 03 5a 1a a6 9e 4e 50-49 97 53 73 a3 ed 19 42   ..Z...NPI.Ss...B\r\n    0200 - 49 eb 71 62 27 dd 06 b6-6f 59 92 20 30 60 8c f7   I.qb&#39;...oY. 0`..\r\n    0210 - 35 ce 9b 14 5a 9f d4 ad-fc 67 06 b4 ab c1 89 78   5...Z....g.....x\r\n    0220 - ff c2 12 9f 62 2b 92 99-14 1e 9d 8e 05 ef 38 3a   ....b+........8:\r\n    0230 - 8e 91 d3 10 0d e8 97 d7-9b a5 f3 19 bc b0 11 e9   ................\r\n    0240 - c1 7b 33 da 79 22 f5 81-33 25 77 8a a3 87 f7 50   .{3.y&quot;..3%w....P\r\n    0250 - 9c 76 49 ca 42 63 5b 53-74 fc 79 22 dd 9e 7a b7   .vI.Bc[St.y&quot;..z.\r\n    0260 - 20 38 ba 4b ab 35 2a da-79 d7 4e d2 51 02 f2 f0    8.K.5*.y.N.Q...\r\n    0270 - 4b 25 00 5a 56 6b 1c 21-6a b6 29 b2 8f 3b 94 30   K%.ZVk.!j.)..;.0\r\n    0280 - df 09 27 c3 79 fb 28 5a-3f 9c df 5f f7 72 a2 35   ..&#39;.y.(Z?.._.r.5\r\n    0290 - 1a 6a c1 54 7d e3 e2 46-9e db 47 f8 8e 28 f3 5b   .j.T}..F..G..(.[\r\n    02a0 - dd a3 09 96 ef 38 64 ad-2d 06 b0 9b 62 a5 02 01   .....8d.-...b...\r\n    02b0 - 53 aa 32 30 fb 1a b6 66-35 48 90 1e d3 20 8a 83   S.20...f5H... ..\r\n    02c0 - 84 f6 04 36 03 59 20 db-d7 7f be 66 42 44 3c a2   ...6.Y ....fBD&lt;.\r\n    02d0 - 52 5b 71 82 86 d1 05 d8-00 b8 c9 af 58 15 4d 68   R[q.........X.Mh\r\n    02e0 - a6 6e 87 a8 08 33 f2 72-41 35 4c 71 db dc 97 3c   .n...3.rA5Lq...&lt;\r\n    02f0 - ff 6e 96 bb 3b 6c fc c2-db 48 93 b2 38 98 40 38   .n..;l...H..8.@8\r\n    0300 - e7 ff 1b 41 1d 3a 32 95-dd 65 37 29 f4 5d ca 17   ...A.:2..e7).]..\r\n    0310 - ea 83 18 ef 1c df c6 5e-33 c7 3f f1 08 87 63 71   .......^3.?...cq\r\n    0320 - 7d 02 db b0 9d 64 59 3f-8f 08 85 13 97 28 82 19   }....dY?.....(..\r\n    0330 - 0c 8f 18 65 d4 93 bf 62-ab b8 27 8a 8b 0e d2 00   ...e...b..&#39;.....\r\n    0340 - 39 f0 ee 34 5d 0b 41 5f-9c 96 c7 11 a3 0a 89 81   9..4].A_........\r\n    0350 - 20 c7 30 f8 b0 ad 35 ca-78 4a d9 cb 15 29 9e 82    .0...5.xJ...)..\r\n    0360 - a4 82 6f 4c c9 19 ab 7d-85 05 4e db 08 23 53 0c   ..oL...}..N..#S.\r\n    0370 - 11 f5 00 48 2b a9 91 d4-66 5a 54 56 1e 2b 15 0a   ...H+...fZTV.+..\r\n    0380 - 17 fe 9f 1e 62 bc b4 d5-c9 68 30 87 a5 61 c6 ee   ....b....h0..a..\r\n    0390 - b8 d7 24 b0 56 17 e9 9c-48 79 3f 6b 7e 8b 37 a4   ..$.V...Hy?k~.7.\r\n    03a0 - 96 48 60 c5 c3 66 d9 12-40 0c fb b2 48 27 54 83   .H`..f..@...H&#39;T.\r\n    03b0 - 9d ec 11 fc d5 a7 d3 be-ec b6 bc c8 b3 28 3e d9   .............(&gt;.\r\n    03c0 - ef 79 77 db bc da 43 6c-f8 22 57 c5 7d 40 ea fd   .yw...Cl.&quot;W.}@..\r\n    03d0 - 35 9b 7b a6 6f a4 33 9a-8f 53 5b fb 21 29 f0 eb   5.{.o.3..S[.!)..\r\n    03e0 - c0 72 44 84 d6 75 1e ef-f7 8e 09 45 0d d4 77 6f   .rD..u.....E..wo\r\n    03f0 - 7c 79 25 19 d4 7d fa 10-a1 2f 08 b0 ec e0 03 85   |y%..}.../......\r\n    0400 - f5 3d c5 7c 3a 68 ba 74-ca 54 70 85 d7 8c 4f c9   .=.|:h.t.Tp...O.\r\n    0410 - 61 f3 69 8e a4 d2 fa f5-dc 05 ba 19 09 fd 4b 19   a.i...........K.\r\n    0420 - af a7 93 9c 3b e5 37 38-65 b3 11 19 1b b3 e3 85   ....;.78e.......\r\n    0430 - 01 cc 26 4c e3 7a 30 95-34 d2 98 f3 c0 36 97 54   ..&amp;L.z0.4....6.T\r\n    0440 - 41 f8 1d 24 a1 d2 bc 8a-95 7c f3 07 95 72 06 df   A..$.....|...r..\r\n    0450 - 65 15 08 24 9e 28 fb 00-0b 4f f5 0b 24 41 c2 49   e..$.(...O..$A.I\r\n    0460 - b9 b5 c3 13 ee 28 a8 41-05 7c 0f 5d 57 15 be 91   .....(.A.|.]W...\r\n    0470 - fc c3 42 87 fb a7 ac 79-fc 5f 5a 0c 98 1d 28 db   ..B....y._Z...(.\r\n    0480 - f5 7b 1a 5c 80 f4 09 f3-61 85 89 c7 48 a8 14 c3   .{.\\....a...H...\r\n    0490 - 88 d6 ea 84 c4 fa aa 0f-b1 bd 02 da b9 f7 2b 7a   ..............+z\r\n    04a0 - c5 a2 cf e5 64 b2 c7 e2-7f 1a e2 dc 46 e1 41 e5   ....d.......F.A.\r\n    04b0 - 54 9b 80 76 c9 3c d1 a7-56 ed 81 56 ba 29 c4 44   T..v.&lt;..V..V.).D\r\n    04c0 - a4 0e e8 c4 58 48 34 2d-4c 18 3d 9b d8 44 58 67   ....XH4-L.=..DXg\r\n    04d0 - 0d 66 1a 43 d8 ed                                 .f.C..\r\n\r\n    Start Time: 1690324588\r\n    Timeout   : 7200 (sec)\r\n    Verify return code: 0 (ok)\r\n    Extended master secret: no\r\n    Max Early Data: 0\r\n---\r\nread R BLOCK\r\n``` \r\n","title":"Android MQTT Client SSL Handshake Exception: Trust anchor for certification path not found","body":"<p>I am currently trying to connect to an MQTT broker via SSL/TLS from an Android client. For this, I have a combination of three keys: crt, key, and ca. The ca key is self-signed and not trusted by default.</p>\n<p>This is the certificate information:</p>\n<pre><code>Subject iot.fr-par.scw.cloud\nCommon names    iot.fr-par.scw.cloud\nAlternative names   iot.fr-par.scw.cloud\nSerial Number   3a6e35afb2dd3f43908e40d10c3a01f66dfd79f0\nValid from  Mon, 29 May 2023 08:24:00 UTC\nValid until Tue, 28 May 2024 08:24:00 UTC (expires in 10 months and 2 days)\nIssuer  iot.fr-par.scw.cloud\nSignature algorithm SHA512withRSA\n</code></pre>\n<p>I am using the Paho MQTT library in Android. Here is the code that I am using to connect and publish:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dakatech.daka_ap;\n\nimport android.content.Context;\nimport org.eclipse.paho.android.service.MqttAndroidClient;\nimport org.eclipse.paho.client.mqttv3.*;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.io.InputStream;\nimport java.security.KeyStore;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\n\npublic class MqttClient {\n\n    private static final String brokerUrl = &quot;ssl://iot.fr-par.scw.cloud:8883&quot;;\n    private static final String clientId = &quot;AndroidClient&quot;;\n    private static final String topic = &quot;your/topic&quot;;\n    private final Context context; // Initialized in constructor\n\n    public MqttClient(Context context) {\n        this.context = context;\n    }\n\n    public void connectAndPublish() {\n        try {\n\n            // Créer le SSLContext\n            SSLContext sslContext;\n            try {\n                sslContext = getSslContext(context);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return;\n            }\n\n            MqttAndroidClient client = new MqttAndroidClient(context, brokerUrl, clientId);\n            MqttConnectOptions options = new MqttConnectOptions();\n            options.setSocketFactory(sslContext.getSocketFactory());\n\n            client.connect(options, null, new IMqttActionListener() {\n                @Override\n                public void onSuccess(IMqttToken asyncActionToken) {\n                    // Connecté, publier un message\n                    MqttMessage message = new MqttMessage(&quot;Hello, world!&quot;.getBytes());\n                    message.setQos(1);\n                    try {\n                        client.publish(topic, message);\n                    } catch (MqttException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                    // La connexion a échoué\n                    exception.printStackTrace();\n                }\n            });\n        } catch (Exception e) {\n            // Gérer l'erreur\n            e.printStackTrace();\n        }\n    }\n\n        private SSLContext getSslContext(Context context) throws Exception {\n            // Charger le certificat CA\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n            InputStream caInput = context.getResources().openRawResource(R.raw.ca);\n            X509Certificate caCertificate;\n            try {\n                caCertificate = (X509Certificate) cf.generateCertificate(caInput);\n            } finally {\n                caInput.close();\n            }\n            String keyStoreType = KeyStore.getDefaultType();\n            KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n            keyStore.load(null, null);\n            keyStore.setCertificateEntry(&quot;ca&quot;, caCertificate);\n\n            // Créer un TrustManager qui fait confiance au keystore\n            String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\n            tmf.init(keyStore);\n\n            // Charger le keystore du client\n            KeyStore clientKeyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            try (InputStream keyStoreInput = context.getResources().openRawResource(R.raw.client)) {\n                clientKeyStore.load(keyStoreInput, &quot;poplpopl&quot;.toCharArray());\n            }\n\n            // Créer un KeyManager à partir du keystore du client\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            kmf.init(clientKeyStore, &quot;poplpopl&quot;.toCharArray());\n\n            // Créer un SSLContext qui utilise notre TrustManager et KeyManager\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n\n            return sslContext;\n        }\n}\n</code></pre>\n<p>However, I am getting an SSLHandshakeException with the message <code>java.security.cert.CertPathValidatorException: Trust anchor for certification path not found</code>. It's like Java is not reading the CA certificate.</p>\n<p>I defined a network-security-config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;debug-overrides&gt;\n        &lt;trust-anchors&gt;\n            &lt;!-- Trust preinstalled CAs --&gt;\n            &lt;certificates src=&quot;system&quot;/&gt;\n            &lt;!-- Additionally trust user added CAs --&gt;\n            &lt;certificates src=&quot;user&quot;/&gt;\n            &lt;!-- Trust certificates in raw resource directories --&gt;\n            &lt;certificates src=&quot;@raw/ca&quot;/&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/debug-overrides&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n<p>And I linked it in the AndroidManifest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;application\n...\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n...&gt;\n</code></pre>\n<p>The keys are correctly placed in the src/raw directory.</p>\n<p>Despite all these, the issue persists. Is there something I am missing or doing wrong? Any suggestions would be greatly appreciated.</p>\n<p>ps: connection is working with openssl on linux:</p>\n<pre><code>openssl s_client -connect iot.fr-par.scw.cloud:8883 -cert crt.pem -key key.pem -CAfile ca.pem\nCONNECTED(00000005)\ndepth=1 C = FR, L = Paris, O = Scaleway, OU = scaleway.com, CN = iot.fr-par.scw.cloud\nverify return:1\ndepth=0 C = FR, L = Paris, O = Scaleway, OU = iot-hub, CN = iot.fr-par.scw.cloud\nverify return:1\n---\nCertificate chain\n 0 s:C = FR, L = Paris, O = Scaleway, OU = iot-hub, CN = iot.fr-par.scw.cloud\n   i:C = FR, L = Paris, O = Scaleway, OU = scaleway.com, CN = iot.fr-par.scw.cloud\n   a:PKEY: rsaEncryption, 4096 (bit); sigalg: RSA-SHA512\n   v:NotBefore: May 29 08:24:00 2023 GMT; NotAfter: May 28 08:24:00 2024 GMT\n---\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIF9zCCA9+gAwIBAgIUOm41r7LdP0OQjkDRDDoB9m39efAwDQYJKoZIhvcNAQEN\nBQAwZjELMAkGA1UEBhMCRlIxDjAMBgNVBAcTBVBhcmlzMREwDwYDVQQKEwhTY2Fs\nZXdheTEVMBMGA1UECxMMc2NhbGV3YXkuY29tMR0wGwYDVQQDExRpb3QuZnItcGFy\nLnNjdy5jbG91ZDAeFw0yMzA1MjkwODI0MDBaFw0yNDA1MjgwODI0MDBaMGExCzAJ\nBgNVBAYTAkZSMQ4wDAYDVQQHEwVQYXJpczERMA8GA1UEChMIU2NhbGV3YXkxEDAO\nBgNVBAsTB2lvdC1odWIxHTAbBgNVBAMTFGlvdC5mci1wYXIuc2N3LmNsb3VkMIIC\nIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA8jTXyhDM0NttOng6BwuMIgyV\n7B/lO4j4lOUiCet3bJmMPzh/stL+jKFmJ9oSI9ShpD9q/DIoAMrWMC1mzcU0CR/6\nyJ7UbT8U9Kjnvnp5KY3UXBiCvBU8GSbZHc4gsLc8Q5dGNw4P7AAXcQyBviDpSNy9\ndUxkbjjAPD/KQJmiru8r/eRSick1N9WMnSW938lxeOxVpa5bpUUDj/PGL6G1gh/g\n04IV1oc3RyhJ0DaAuA/3HokCJnGgXYewkJLrabPbOn6t4qmrQqKzd/xSae1/98bS\n+liXuAnoZQkLv2N9uUyJHefEnn3y+YRkat2L+9vUpfXzhLjBIphDRbzAlzSTGRbD\nT7TAuQdKLbIpb+WpgGVmRvcOBpxRy7i0op1z+ypXsuSZHtlYB4pAUwSb1D6k0Bqp\nMAdTWY2/IlQ6ECfZp3LvrQUhzZd6vv9firMkEhPzWUqck0/8G3UTUg5eikcYhBKS\nQUEuWe6qKfzmdtXZSIWRVdyA1TiVNCVG7eqB1DgHRBNFrIPPSfapH7XXj1TGu/XS\nLR/cJ8d3STnt+WaQVm+tgRlblT6EYhcDpwrKbqip3DgVJ2rPAVqVGWkihjz5PPMr\nIvthxiSOqCTzLelxgna/lKD13b8d/2K/uMycFUmDjRwfeLXAMjzi78KBjewhPC6u\nMqCV31n+AnmQWxb6/U8CAwEAAaOBoTCBnjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0l\nBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYE\nFA3Y5ZxN0W/maIAggwgsxC6J75XfMB8GA1UdIwQYMBaAFAJBBDKX4egU/YknRFDp\nARE2glxdMB8GA1UdEQQYMBaCFGlvdC5mci1wYXIuc2N3LmNsb3VkMA0GCSqGSIb3\nDQEBDQUAA4ICAQAGuNWUzvA5P7ZtQJJ/vyIxT12F2NL9gdklwJtVdaA4iLGXaHtv\nbFZbVllWBTB8eXOAE0h1gvWGUmcQ6Y5W+9SZYFKnXl3iA3tn9sbMUuPW70Ljbp9B\njrg4ABUrmyuYXNTSUcKbfXk8xLIvckzkr/2kEPixv//T/wZnIhYKSoIgpBKaw4n7\nuE7shtR1A/tOc3WLlmI+8419GuI0zzbBA5kzao9Ch2zBBFjciWicGxSLiDidJWlS\nNmJx7ZGRgFYcG/anAJvUYDTboVH2KJ/PZ51Q8sUa+uph5q8N2vgT/8sNNBf9MYfn\niq72p9F9ippOxM4dVYAEXIAk3mehtS19yuLAF3t5zjSMuhbrez49H5FcTuJ+Gg8Q\n6+p9/upZmB3QqrBh2sIOMYWW9qEbXbw2lKSsRm6/wnH7F3E5iGPzSLkJGgsyGTZ1\nk1setqUIjLhJlha6Wt0p/CrgRpBvNWCam0/0ZASamgVy7vV7Ru4vIzOGvE8FR4PI\n0b4M5uYdNCFnYYE6HL3i+/dtOi4I1GXH50iSTGztBARhII+FBf+Mh4Gft15+WzG5\nRSaCRz1YMos6mEUqKxPzirLQeoLE0jDInTGm05QHMURK1BET2h0UgsrVqbLDMXXt\nfAOljTL0CMWtFgQYWC+aWpgjTU8oFmj26AwJA2bK6TJFuWL477ZuJObpdA==\n-----END CERTIFICATE-----\nsubject=C = FR, L = Paris, O = Scaleway, OU = iot-hub, CN = iot.fr-par.scw.cloud\nissuer=C = FR, L = Paris, O = Scaleway, OU = scaleway.com, CN = iot.fr-par.scw.cloud\n---\nNo client certificate CA names sent\nRequested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512:RSA+SHA1:ECDSA+SHA1\nShared Requested Signature Algorithms: RSA-PSS+SHA256:ECDSA+SHA256:Ed25519:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA384:ECDSA+SHA512\nPeer signing digest: SHA256\nPeer signature type: RSA-PSS\nServer Temp Key: X25519, 253 bits\n---\nSSL handshake has read 2394 bytes and written 1827 bytes\nVerification: OK\n---\nNew, TLSv1.3, Cipher is TLS_AES_128_GCM_SHA256\nServer public key is 4096 bit\nThis TLS version forbids renegotiation.\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nEarly data was not sent\nVerify return code: 0 (ok)\n---\n---\nPost-Handshake New Session Ticket arrived:\nSSL-Session:\n    Protocol  : TLSv1.3\n    Cipher    : TLS_AES_128_GCM_SHA256\n    Session-ID: 782BFAB969087DF319705E617BA121BF178F81CA4E14CA86B6467FEC26BC258E\n    Session-ID-ctx:\n    Resumption PSK: 4F87F4BDB1D3088B43806BF98D7C0224852773F07D565BCBAD1109D02569EBCB\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    TLS session ticket lifetime hint: 604800 (seconds)\n    TLS session ticket:\n    0000 - ec 2a d3 9c b4 2b f9 67-5f 18 2b 06 8e 78 21 59   .*...+.g_.+..x!Y\n    0010 - 60 56 f3 27 e3 ea 65 a2-0c f4 f3 cc 4e e1 0f c4   `V.'..e.....N...\n    0020 - be 58 36 a4 ca 67 25 ab-69 ae aa b0 62 aa 87 aa   .X6..g%.i...b...\n    0030 - e8 de 72 f5 e8 00 b8 90-66 cc b3 08 56 9b e6 59   ..r.....f...V..Y\n    0040 - 24 2e a5 0a 92 7c e2 32-6d 59 f4 62 42 bb 89 12   $....|.2mY.bB...\n    0050 - e8 b9 8b b0 06 8a 31 14-92 06 ee 09 6e 41 3f ba   ......1.....nA?.\n    0060 - 83 79 8c f5 f7 4d 16 5a-f8 6e 83 f3 45 ce d4 ee   .y...M.Z.n..E...\n    0070 - 51 97 68 04 e0 ea ab 70-e8 a2 df b6 15 dd a1 dc   Q.h....p........\n    0080 - 0c 05 40 76 0d 39 1b 4e-d0 45 39 be 82 0a ad ce   ..@v.9.N.E9.....\n    0090 - bf 70 62 02 f6 28 e0 cc-ca 2c c1 bb f2 d1 7e 4a   .pb..(...,....~J\n    00a0 - 84 31 61 22 e3 3d c3 a7-d6 26 9d d2 c4 49 a9 8e   .1a&quot;.=...&amp;...I..\n    00b0 - 26 12 e1 92 70 39 b1 12-90 4a db 58 0b 6a f2 83   &amp;...p9...J.X.j..\n    00c0 - 18 5c 1d 23 96 63 6c a4-91 33 85 b5 82 62 37 3d   .\\.#.cl..3...b7=\n    00d0 - 3d 4c 54 cb b7 b2 a9 20-d5 f3 ca 67 82 80 cc 5e   =LT.... ...g...^\n    00e0 - af 5d 05 62 da c5 d4 02-4f 18 14 ac b8 b7 c3 5d   .].b....O......]\n    00f0 - cb cb 2d 06 34 f3 83 fc-ec 09 d2 73 31 b6 7e 95   ..-.4......s1.~.\n    0100 - 78 ea 84 76 9c d4 70 6a-6f 22 c4 74 ac e5 39 40   x..v..pjo&quot;.t..9@\n    0110 - 99 ee 04 42 ff 6b 36 53-6a 4b 0a 50 38 4f af a2   ...B.k6SjK.P8O..\n    0120 - 5a e5 df 1c 5e df 45 e0-b6 49 b3 6d f4 12 c2 13   Z...^.E..I.m....\n    0130 - 20 af d4 3d 2b c2 77 f0-42 36 ae 40 44 c4 f8 6a    ..=+.w.B6.@D..j\n    0140 - 51 22 03 82 77 a5 11 2a-53 99 72 4f 0e a6 8f 8f   Q&quot;..w..*S.rO....\n    0150 - 57 04 cc f2 43 3d b8 dc-5a 2e 58 a3 4b 91 99 e2   W...C=..Z.X.K...\n    0160 - 49 d8 19 6d 30 48 5c c7-3d 5c 8b f4 0f 96 bc d0   I..m0H\\.=\\......\n    0170 - 45 22 80 60 cd ee d5 31-3e c8 0f 17 54 1a 65 64   E&quot;.`...1&gt;...T.ed\n    0180 - 5c aa f2 91 d2 5e b5 0f-a1 12 e4 33 02 69 66 48   \\....^.....3.ifH\n    0190 - b4 7f 81 3c 18 78 bc 50-10 2e 29 a3 6b 48 06 cf   ...&lt;.x.P..).kH..\n    01a0 - 22 7e 1b 6e b4 73 f6 46-5f 76 0e 57 fb 8a 33 df   &quot;~.n.s.F_v.W..3.\n    01b0 - f2 18 b6 e0 3d 5c 55 55-ec 22 a5 8c e3 a9 58 2b   ....=\\UU.&quot;....X+\n    01c0 - ed c3 ec db 50 f3 9d 37-d2 c1 3b ae 45 c2 2e d3   ....P..7..;.E...\n    01d0 - 7a a6 b8 64 0e 5a 4f 73-c2 6d 07 f0 43 ef 92 4f   z..d.ZOs.m..C..O\n    01e0 - 63 4c 25 37 09 71 16 9e-06 b6 66 bf 11 4b 48 ff   cL%7.q....f..KH.\n    01f0 - ad 03 5a 1a a6 9e 4e 50-49 97 53 73 a3 ed 19 42   ..Z...NPI.Ss...B\n    0200 - 49 eb 71 62 27 dd 06 b6-6f 59 92 20 30 60 8c f7   I.qb'...oY. 0`..\n    0210 - 35 ce 9b 14 5a 9f d4 ad-fc 67 06 b4 ab c1 89 78   5...Z....g.....x\n    0220 - ff c2 12 9f 62 2b 92 99-14 1e 9d 8e 05 ef 38 3a   ....b+........8:\n    0230 - 8e 91 d3 10 0d e8 97 d7-9b a5 f3 19 bc b0 11 e9   ................\n    0240 - c1 7b 33 da 79 22 f5 81-33 25 77 8a a3 87 f7 50   .{3.y&quot;..3%w....P\n    0250 - 9c 76 49 ca 42 63 5b 53-74 fc 79 22 dd 9e 7a b7   .vI.Bc[St.y&quot;..z.\n    0260 - 20 38 ba 4b ab 35 2a da-79 d7 4e d2 51 02 f2 f0    8.K.5*.y.N.Q...\n    0270 - 4b 25 00 5a 56 6b 1c 21-6a b6 29 b2 8f 3b 94 30   K%.ZVk.!j.)..;.0\n    0280 - df 09 27 c3 79 fb 28 5a-3f 9c df 5f f7 72 a2 35   ..'.y.(Z?.._.r.5\n    0290 - 1a 6a c1 54 7d e3 e2 46-9e db 47 f8 8e 28 f3 5b   .j.T}..F..G..(.[\n    02a0 - dd a3 09 96 ef 38 64 ad-2d 06 b0 9b 62 a5 02 01   .....8d.-...b...\n    02b0 - 53 aa 32 30 fb 1a b6 66-35 48 90 1e d3 20 8a 83   S.20...f5H... ..\n    02c0 - 84 f6 04 36 03 59 20 db-d7 7f be 66 42 44 3c a2   ...6.Y ....fBD&lt;.\n    02d0 - 52 5b 71 82 86 d1 05 d8-00 b8 c9 af 58 15 4d 68   R[q.........X.Mh\n    02e0 - a6 6e 87 a8 08 33 f2 72-41 35 4c 71 db dc 97 3c   .n...3.rA5Lq...&lt;\n    02f0 - ff 6e 96 bb 3b 6c fc c2-db 48 93 b2 38 98 40 38   .n..;l...H..8.@8\n    0300 - e7 ff 1b 41 1d 3a 32 95-dd 65 37 29 f4 5d ca 17   ...A.:2..e7).]..\n    0310 - ea 83 18 ef 1c df c6 5e-33 c7 3f f1 08 87 63 71   .......^3.?...cq\n    0320 - 7d 02 db b0 9d 64 59 3f-8f 08 85 13 97 28 82 19   }....dY?.....(..\n    0330 - 0c 8f 18 65 d4 93 bf 62-ab b8 27 8a 8b 0e d2 00   ...e...b..'.....\n    0340 - 39 f0 ee 34 5d 0b 41 5f-9c 96 c7 11 a3 0a 89 81   9..4].A_........\n    0350 - 20 c7 30 f8 b0 ad 35 ca-78 4a d9 cb 15 29 9e 82    .0...5.xJ...)..\n    0360 - a4 82 6f 4c c9 19 ab 7d-85 05 4e db 08 23 53 0c   ..oL...}..N..#S.\n    0370 - 11 f5 00 48 2b a9 91 d4-66 5a 54 56 1e 2b 15 0a   ...H+...fZTV.+..\n    0380 - 17 fe 9f 1e 62 bc b4 d5-c9 68 30 87 a5 61 c6 ee   ....b....h0..a..\n    0390 - b8 d7 24 b0 56 17 e9 9c-48 79 3f 6b 7e 8b 37 a4   ..$.V...Hy?k~.7.\n    03a0 - 96 48 60 c5 c3 66 d9 12-40 0c fb b2 48 27 54 83   .H`..f..@...H'T.\n    03b0 - 9d ec 11 fc d5 a7 d3 be-ec b6 bc c8 b3 28 3e d9   .............(&gt;.\n    03c0 - ef 79 77 db bc da 43 6c-f8 22 57 c5 7d 40 ea fd   .yw...Cl.&quot;W.}@..\n    03d0 - 35 9b 7b a6 6f a4 33 9a-8f 53 5b fb 21 29 f0 eb   5.{.o.3..S[.!)..\n    03e0 - c0 72 44 84 d6 75 1e ef-f7 8e 09 45 0d d4 77 6f   .rD..u.....E..wo\n    03f0 - 7c 79 25 19 d4 7d fa 10-a1 2f 08 b0 ec e0 03 85   |y%..}.../......\n    0400 - f5 3d c5 7c 3a 68 ba 74-ca 54 70 85 d7 8c 4f c9   .=.|:h.t.Tp...O.\n    0410 - 61 f3 69 8e a4 d2 fa f5-dc 05 ba 19 09 fd 4b 19   a.i...........K.\n    0420 - af a7 93 9c 3b e5 37 38-65 b3 11 19 1b b3 e3 85   ....;.78e.......\n    0430 - 01 cc 26 4c e3 7a 30 95-34 d2 98 f3 c0 36 97 54   ..&amp;L.z0.4....6.T\n    0440 - 41 f8 1d 24 a1 d2 bc 8a-95 7c f3 07 95 72 06 df   A..$.....|...r..\n    0450 - 65 15 08 24 9e 28 fb 00-0b 4f f5 0b 24 41 c2 49   e..$.(...O..$A.I\n    0460 - b9 b5 c3 13 ee 28 a8 41-05 7c 0f 5d 57 15 be 91   .....(.A.|.]W...\n    0470 - fc c3 42 87 fb a7 ac 79-fc 5f 5a 0c 98 1d 28 db   ..B....y._Z...(.\n    0480 - f5 7b 1a 5c 80 f4 09 f3-61 85 89 c7 48 a8 14 c3   .{.\\....a...H...\n    0490 - 88 d6 ea 84 c4 fa aa 0f-b1 bd 02 da b9 f7 2b 7a   ..............+z\n    04a0 - c5 a2 cf e5 64 b2 c7 e2-7f 1a e2 dc 46 e1 41 e5   ....d.......F.A.\n    04b0 - 54 9b 80 76 c9 3c d1 a7-56 ed 81 56 ba 29 c4 44   T..v.&lt;..V..V.).D\n    04c0 - a4 0e e8 c4 58 48 34 2d-4c 18 3d 9b d8 44 58 67   ....XH4-L.=..DXg\n    04d0 - 0d 66 1a 43 d8 ed                                 .f.C..\n\n    Start Time: 1690324588\n    Timeout   : 7200 (sec)\n    Verify return code: 0 (ok)\n    Extended master secret: no\n    Max Early Data: 0\n---\nread R BLOCK\n</code></pre>\n"},{"tags":["java","stripe-payments"],"comments":[{"owner":{"account_id":15637668,"reputation":43,"user_id":11282052,"display_name":"Ignacio Estevo"},"score":0,"creation_date":1672528048,"post_id":74971926,"comment_id":132303522,"body_markdown":"I have also tried using the token as shown in the Docs: https://stripe.com/docs/api/external_account_bank_accounts/create?lang=java","body":"I have also tried using the token as shown in the Docs: <a href=\"https://stripe.com/docs/api/external_account_bank_accounts/create?lang=java\" rel=\"nofollow noreferrer\">stripe.com/docs/api/external_account_bank_accounts/&hellip;</a>"},{"owner":{"account_id":15637668,"reputation":43,"user_id":11282052,"display_name":"Ignacio Estevo"},"score":0,"creation_date":1672528096,"post_id":74971926,"comment_id":132303529,"body_markdown":"And creating a new BankAccount object and setting manually the parameters, but accountNumber is not available as it shouldn&#39;t be for security","body":"And creating a new BankAccount object and setting manually the parameters, but accountNumber is not available as it shouldn&#39;t be for security"}],"answers":[{"tags":[],"owner":{"account_id":24416201,"reputation":746,"user_id":18343043,"display_name":"Tarzan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672653805,"creation_date":1672653805,"answer_id":74981041,"question_id":74971926,"body_markdown":"So this is a bit trickier and I think it should have been better documented for what it&#39;s worth. You first need to start by creating a bank account token using the token API as shown [here](https://stripe.com/docs/api/tokens/create_bank_account?lang=java). This will generate a token `btok_xxx` that you will need then to use to create an external bank account for your Custom Account as shown [here](https://stripe.com/docs/api/external_account_bank_accounts/create?lang=java)","title":"Add an BankAccount through Stripe API in Java","body":"<p>So this is a bit trickier and I think it should have been better documented for what it's worth. You first need to start by creating a bank account token using the token API as shown <a href=\"https://stripe.com/docs/api/tokens/create_bank_account?lang=java\" rel=\"nofollow noreferrer\">here</a>. This will generate a token <code>btok_xxx</code> that you will need then to use to create an external bank account for your Custom Account as shown <a href=\"https://stripe.com/docs/api/external_account_bank_accounts/create?lang=java\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13361220,"reputation":1,"user_id":9643175,"display_name":"Christophe Lassus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690323447,"creation_date":1690323089,"answer_id":76766818,"question_id":74971926,"body_markdown":"Correct code is:\r\n\r\n    bankParams.put(&quot;external_account[object]&quot;,&quot;bank_account&quot;);\r\n    bankParams.put(&quot;external_account[country]&quot;,&quot;US&quot;);\r\n    bankParams.put(&quot;external_account[currency]&quot;,&quot;USD&quot;);\r\n    bankParams.put(&quot;external_account[routing_number]&quot;, &quot;110000000&quot;);\r\n    bankParams.put(&quot;external_account[account_number]&quot;, &quot;000123456789&quot;);\r\n\r\nAs Stripe doc says:\r\n\r\n&gt; &quot;external_account is either a token, like the ones returned by Stripe.js, or a dictionary containing a user’s bank account details&quot;\r\n\r\nIn http syntax, &quot;Dictionary&quot; params are passed through with square brackets...","title":"Add an BankAccount through Stripe API in Java","body":"<p>Correct code is:</p>\n<pre><code>bankParams.put(&quot;external_account[object]&quot;,&quot;bank_account&quot;);\nbankParams.put(&quot;external_account[country]&quot;,&quot;US&quot;);\nbankParams.put(&quot;external_account[currency]&quot;,&quot;USD&quot;);\nbankParams.put(&quot;external_account[routing_number]&quot;, &quot;110000000&quot;);\nbankParams.put(&quot;external_account[account_number]&quot;, &quot;000123456789&quot;);\n</code></pre>\n<p>As Stripe doc says:</p>\n<blockquote>\n<p>&quot;external_account is either a token, like the ones returned by Stripe.js, or a dictionary containing a user’s bank account details&quot;</p>\n</blockquote>\n<p>In http syntax, &quot;Dictionary&quot; params are passed through with square brackets...</p>\n"}],"owner":{"account_id":15637668,"reputation":43,"user_id":11282052,"display_name":"Ignacio Estevo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74981041,"answer_count":2,"score":0,"last_activity_date":1690323447,"creation_date":1672518143,"question_id":74971926,"body_markdown":"I am looking to add a bankAccount to a Connect Account in Stripe through the API. I&#39;m using the test numbers given and I followed the instructions. The account has already set an AccountLink and it is of Custom type (Express has also been tried)\r\n\r\n    Stripe.apiKey = stripePrivate;\r\n\r\n        Account account = Account.retrieve(accountId);\r\n        Map&lt;String, Object&gt; bankParams = new HashMap&lt;&gt;();\r\n        bankParams.put(&quot;object&quot;, &quot;bank_account&quot;);\r\n        bankParams.put(&quot;country&quot;, &quot;US&quot;);\r\n        bankParams.put(&quot;currency&quot;, &quot;usd&quot;);\r\n        bankParams.put(&quot;routing_number&quot;, &quot;110000000&quot;);\r\n        bankParams.put(&quot;account_number&quot;, &quot;000123456789&quot;);\r\n\r\n        BankAccount bankAccount = (BankAccount) account.getExternalAccounts().create(bankParams);\r\n\r\nIt appears that it is not recognizing the parameters as I get the following error:\r\n\r\n    &quot;Received unknown parameters: account_number, object, routing_number, currency,country; code: parameter_unknown; request-id: req_ANeBN5XHeh2ki0&quot;\r\nThe Stripe version is 22.4","title":"Add an BankAccount through Stripe API in Java","body":"<p>I am looking to add a bankAccount to a Connect Account in Stripe through the API. I'm using the test numbers given and I followed the instructions. The account has already set an AccountLink and it is of Custom type (Express has also been tried)</p>\n<pre><code>Stripe.apiKey = stripePrivate;\n\n    Account account = Account.retrieve(accountId);\n    Map&lt;String, Object&gt; bankParams = new HashMap&lt;&gt;();\n    bankParams.put(&quot;object&quot;, &quot;bank_account&quot;);\n    bankParams.put(&quot;country&quot;, &quot;US&quot;);\n    bankParams.put(&quot;currency&quot;, &quot;usd&quot;);\n    bankParams.put(&quot;routing_number&quot;, &quot;110000000&quot;);\n    bankParams.put(&quot;account_number&quot;, &quot;000123456789&quot;);\n\n    BankAccount bankAccount = (BankAccount) account.getExternalAccounts().create(bankParams);\n</code></pre>\n<p>It appears that it is not recognizing the parameters as I get the following error:</p>\n<pre><code>&quot;Received unknown parameters: account_number, object, routing_number, currency,country; code: parameter_unknown; request-id: req_ANeBN5XHeh2ki0&quot;\n</code></pre>\n<p>The Stripe version is 22.4</p>\n"},{"tags":["java","operators","boolean","bitwise-operators"],"comments":[{"owner":{"account_id":4192612,"reputation":2296,"user_id":3434874,"accept_rate":100,"display_name":"Blake Yarbrough"},"score":3,"creation_date":1446654191,"post_id":5564410,"comment_id":54835012,"body_markdown":"Possible duplicate of [Why do we usually use \\`||\\` not \\`|\\`, what is the difference?](http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference\">Why do we usually use `||` not `|`, what is the difference?</a>"},{"owner":{"account_id":2042397,"reputation":10132,"user_id":1834057,"accept_rate":51,"display_name":"Nicholas Hamilton"},"score":0,"creation_date":1517722713,"post_id":5564410,"comment_id":84206702,"body_markdown":"Double performs shortcut if possible.","body":"Double performs shortcut if possible."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1600701249,"post_id":5564410,"comment_id":113163244,"body_markdown":"Couldn&#39;t find info on this in the official sun/oracle documentation :(","body":"Couldn&#39;t find info on this in the official sun/oracle documentation :("},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1600701305,"post_id":5564410,"comment_id":113163277,"body_markdown":"&quot;short-circuiting&quot; is the key term here.","body":"&quot;short-circuiting&quot; is the key term here."}],"answers":[{"tags":[],"owner":{"account_id":185877,"reputation":5330,"user_id":422869,"accept_rate":80,"display_name":"Torres"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1302083409,"creation_date":1302083358,"answer_id":5564429,"question_id":5564410,"body_markdown":"    boolean a, b;\r\n    \r\n    Operation     Meaning                       Note\r\n    ---------     -------                       ----\r\n       a &amp;&amp; b     logical AND                    short-circuiting\r\n       a || b     logical OR                     short-circuiting\r\n       a &amp;  b     boolean logical AND            not short-circuiting\r\n       a |  b     boolean logical OR             not short-circuiting\r\n       a ^  b     boolean logical exclusive OR\r\n      !a          logical NOT\r\n    \r\n    short-circuiting        (x != 0) &amp;&amp; (1/x &gt; 1)   SAFE\r\n    not short-circuiting    (x != 0) &amp;  (1/x &gt; 1)   NOT SAFE","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<pre><code>boolean a, b;\n\nOperation     Meaning                       Note\n---------     -------                       ----\n   a &amp;&amp; b     logical AND                    short-circuiting\n   a || b     logical OR                     short-circuiting\n   a &amp;  b     boolean logical AND            not short-circuiting\n   a |  b     boolean logical OR             not short-circuiting\n   a ^  b     boolean logical exclusive OR\n  !a          logical NOT\n\nshort-circuiting        (x != 0) &amp;&amp; (1/x &gt; 1)   SAFE\nnot short-circuiting    (x != 0) &amp;  (1/x &gt; 1)   NOT SAFE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1302083558,"creation_date":1302083558,"answer_id":5564476,"question_id":5564410,"body_markdown":"It depends on the type of the arguments...\r\n\r\nFor integer arguments, the single ampersand (&quot;&amp;&quot;)is the &quot;bit-wise AND&quot; operator. The double ampersand (&quot;&amp;&amp;&quot;) is not defined for anything but two boolean arguments.\r\n\r\nFor boolean arguments, the single ampersand constitutes the (unconditional) &quot;logical AND&quot; operator while the double ampersand (&quot;&amp;&amp;&quot;) is the &quot;conditional logical AND&quot; operator. That is to say that the single ampersand always evaluates both arguments whereas the double ampersand will only evaluate the second argument if the first argument is true.\r\n\r\nFor all other argument types and combinations, a compile-time error should occur.\r\n","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>It depends on the type of the arguments...</p>\n\n<p>For integer arguments, the single ampersand (\"&amp;\")is the \"bit-wise AND\" operator. The double ampersand (\"&amp;&amp;\") is not defined for anything but two boolean arguments.</p>\n\n<p>For boolean arguments, the single ampersand constitutes the (unconditional) \"logical AND\" operator while the double ampersand (\"&amp;&amp;\") is the \"conditional logical AND\" operator. That is to say that the single ampersand always evaluates both arguments whereas the double ampersand will only evaluate the second argument if the first argument is true.</p>\n\n<p>For all other argument types and combinations, a compile-time error should occur.</p>\n"},{"tags":[],"owner":{"account_id":277279,"reputation":62850,"user_id":571189,"display_name":"Prince John Wesley"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1302100682,"creation_date":1302083564,"answer_id":5564478,"question_id":5564410,"body_markdown":"&amp;&amp; is a short circuit operator whereas &amp; is a AND operator.\r\n\r\nTry this.\r\n\r\n\t\tString s = null;\r\n\t\tboolean b = false &amp; s.isEmpty(); // NullPointerException\r\n\t\tboolean sb = false &amp;&amp; s.isEmpty(); // sb is false","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>&amp;&amp; is a short circuit operator whereas &amp; is a AND operator.</p>\n\n<p>Try this.</p>\n\n<pre><code>    String s = null;\n    boolean b = false &amp; s.isEmpty(); // NullPointerException\n    boolean sb = false &amp;&amp; s.isEmpty(); // sb is false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211497,"reputation":11114,"user_id":463693,"display_name":"ITroubs"},"down_vote_count":1,"up_vote_count":363,"is_accepted":true,"score":362,"last_activity_date":1302344076,"creation_date":1302083599,"answer_id":5564484,"question_id":5564410,"body_markdown":"&amp; &lt;-- verifies both operands  \r\n&amp;&amp; &lt;-- stops evaluating if the first operand evaluates to false since the result will be false\r\n\r\n\r\n`(x != 0) &amp; (1/x &gt; 1)` &lt;-- this means evaluate `(x != 0)` then evaluate `(1/x &gt; 1)` then do the &amp;. the problem is that for x=0 this will throw an exception.\r\n\r\n`(x != 0) &amp;&amp; (1/x &gt; 1)` &lt;-- this means evaluate `(x != 0)` and only if this is true then evaluate `(1/x &gt; 1)` so if you have x=0 then this is perfectly safe and won&#39;t throw any exception if (x != 0) evaluates to false the whole thing directly evaluates to false without evaluating the `(1/x &gt; 1)`.\r\n\r\nEDIT:\r\n\r\n\r\n`exprA | exprB` &lt;-- this means evaluate `exprA` then evaluate `exprB` then do the `|`.\r\n\r\n`exprA || exprB` &lt;-- this means evaluate `exprA` and only if this is `false` then evaluate `exprB` and do the `||`.","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>&amp; &lt;-- verifies both operands<br>\n&amp;&amp; &lt;-- stops evaluating if the first operand evaluates to false since the result will be false</p>\n\n<p><code>(x != 0) &amp; (1/x &gt; 1)</code> &lt;-- this means evaluate <code>(x != 0)</code> then evaluate <code>(1/x &gt; 1)</code> then do the &amp;. the problem is that for x=0 this will throw an exception.</p>\n\n<p><code>(x != 0) &amp;&amp; (1/x &gt; 1)</code> &lt;-- this means evaluate <code>(x != 0)</code> and only if this is true then evaluate <code>(1/x &gt; 1)</code> so if you have x=0 then this is perfectly safe and won't throw any exception if (x != 0) evaluates to false the whole thing directly evaluates to false without evaluating the <code>(1/x &gt; 1)</code>.</p>\n\n<p>EDIT:</p>\n\n<p><code>exprA | exprB</code> &lt;-- this means evaluate <code>exprA</code> then evaluate <code>exprB</code> then do the <code>|</code>.</p>\n\n<p><code>exprA || exprB</code> &lt;-- this means evaluate <code>exprA</code> and only if this is <code>false</code> then evaluate <code>exprB</code> and do the <code>||</code>.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1382450191,"creation_date":1302083631,"answer_id":5564488,"question_id":5564410,"body_markdown":"it&#39;s as specified in the [JLS (15.22.2)][1]:\n\n&gt; When both operands of a &amp;, ^, or | operator are of type boolean or Boolean, then the type of the bitwise operator expression is boolean. In all cases, the operands are subject to unboxing conversion (&#167;5.1.8) as necessary.\n&gt;\n&gt; For &amp;, the result value is true if both operand values are true; otherwise, the result is false.\n&gt;\n&gt; For ^, the result value is true if the operand values are different; otherwise, the result is false.\n&gt;\n&gt; For |, the result value is false if both operand values are false; otherwise, the result is true.\n\nThe &quot;trick&quot; is that `&amp;` is an *Integer Bitwise Operator* as well as an *Boolean Logical Operator*. So why not, seeing this as an example for *operator overloading* is reasonable.\n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.22.2","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>it's as specified in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.22.2\" rel=\"noreferrer\">JLS (15.22.2)</a>:</p>\n<blockquote>\n<p>When both operands of a &amp;, ^, or | operator are of type boolean or Boolean, then the type of the bitwise operator expression is boolean. In all cases, the operands are subject to unboxing conversion (§5.1.8) as necessary.</p>\n<p>For &amp;, the result value is true if both operand values are true; otherwise, the result is false.</p>\n<p>For ^, the result value is true if the operand values are different; otherwise, the result is false.</p>\n<p>For |, the result value is false if both operand values are false; otherwise, the result is true.</p>\n</blockquote>\n<p>The &quot;trick&quot; is that <code>&amp;</code> is an <em>Integer Bitwise Operator</em> as well as an <em>Boolean Logical Operator</em>. So why not, seeing this as an example for <em>operator overloading</em> is reasonable.</p>\n"},{"tags":[],"owner":{"account_id":235324,"reputation":4269,"user_id":502059,"accept_rate":79,"display_name":"suat"},"down_vote_count":3,"up_vote_count":69,"is_accepted":false,"score":66,"last_activity_date":1314331078,"creation_date":1314331078,"answer_id":7199886,"question_id":5564410,"body_markdown":"Besides not being a lazy evaluator by evaluating both operands, I think the main characteristics of bitwise operators compare each bytes of operands like in the following example:\r\n\r\n    int a = 4;\r\n    int b = 7;\r\n    System.out.println(a &amp; b); // prints 4\r\n    //meaning in an 32 bit system\r\n    // 00000000 00000000 00000000 00000100\r\n    // 00000000 00000000 00000000 00000111\r\n    // ===================================\r\n    // 00000000 00000000 00000000 00000100\r\n\r\n","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>Besides not being a lazy evaluator by evaluating both operands, I think the main characteristics of bitwise operators compare each bytes of operands like in the following example:</p>\n\n<pre><code>int a = 4;\nint b = 7;\nSystem.out.println(a &amp; b); // prints 4\n//meaning in an 32 bit system\n// 00000000 00000000 00000000 00000100\n// 00000000 00000000 00000000 00000111\n// ===================================\n// 00000000 00000000 00000000 00000100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2776554,"reputation":39,"user_id":2390032,"display_name":"Ryan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1474976560,"creation_date":1368708905,"answer_id":16588055,"question_id":5564410,"body_markdown":"With booleans, there is no output difference between the two. You can swap &amp;&amp; and &amp; or || and | and it will never change the result of your expression.\r\n\r\nThe difference lies behind the scene where the information is being processed. When you right an expression &quot;(a != 0) &amp; ( b != 0)&quot;  for a= 0 and b = 1, The following happens:\r\n\r\n    left side: a != 0 --&gt; false\r\n    right side: b 1= 0 --&gt; true\r\n    left side and right side are both true? --&gt; false\r\n    expression returns false\r\n\r\nWhen you write an expression `(a != 0) &amp;&amp; ( b != 0)` when a= 0 and b = 1, the following happens:\r\n\r\n    a != 0 --&gt;false\r\n    expression returns false\r\n\r\nLess steps, less processing, better coding, especially when doing many boolean expression or complicated arguments.","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>With booleans, there is no output difference between the two. You can swap &amp;&amp; and &amp; or || and | and it will never change the result of your expression.</p>\n\n<p>The difference lies behind the scene where the information is being processed. When you right an expression \"(a != 0) &amp; ( b != 0)\"  for a= 0 and b = 1, The following happens:</p>\n\n<pre><code>left side: a != 0 --&gt; false\nright side: b 1= 0 --&gt; true\nleft side and right side are both true? --&gt; false\nexpression returns false\n</code></pre>\n\n<p>When you write an expression <code>(a != 0) &amp;&amp; ( b != 0)</code> when a= 0 and b = 1, the following happens:</p>\n\n<pre><code>a != 0 --&gt;false\nexpression returns false\n</code></pre>\n\n<p>Less steps, less processing, better coding, especially when doing many boolean expression or complicated arguments.</p>\n"},{"tags":[],"owner":{"account_id":6871153,"reputation":1591,"user_id":5281441,"display_name":"satish"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447752193,"creation_date":1447752193,"answer_id":33753201,"question_id":5564410,"body_markdown":" ‘&amp;&amp;’ : - is a Logical AND operator produce a boolean value of true or false based on the logical relationship of its arguments.\r\n\r\nFor example: - Condition1 &amp;&amp; Condition2\r\n\r\nIf Condition1 is false, then (Condition1 &amp;&amp; Condition2) will always be false, that is the reason why this logical operator is also known as Short Circuit Operator because it does not evaluate another condition. If Condition1 is false , then there is no need to evaluate Condtiton2.\r\n\r\nIf Condition1 is true, then Condition2 is evaluated, if it is true then overall result will be true else it will be false.\r\n\r\n ‘&amp;’ : - is a Bitwise AND Operator. It produces a one (1) in the output if both the input bits are one. Otherwise it produces zero (0).\r\n\r\nFor example:-\r\n\r\nint a=12; // binary representation of 12 is 1100\r\n\r\nint b=6; // binary representation of 6 is 0110\r\n\r\nint c=(a &amp; b); // binary representation of (12 &amp; 6) is 0100\r\n\r\nThe value of c is 4.\r\n\r\nfor reference , refer this http://techno-terminal.blogspot.in/2015/11/difference-between-operator-and-operator.html\r\n","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>‘&amp;&amp;’ : - is a Logical AND operator produce a boolean value of true or false based on the logical relationship of its arguments.</p>\n\n<p>For example: - Condition1 &amp;&amp; Condition2</p>\n\n<p>If Condition1 is false, then (Condition1 &amp;&amp; Condition2) will always be false, that is the reason why this logical operator is also known as Short Circuit Operator because it does not evaluate another condition. If Condition1 is false , then there is no need to evaluate Condtiton2.</p>\n\n<p>If Condition1 is true, then Condition2 is evaluated, if it is true then overall result will be true else it will be false.</p>\n\n<p>‘&amp;’ : - is a Bitwise AND Operator. It produces a one (1) in the output if both the input bits are one. Otherwise it produces zero (0).</p>\n\n<p>For example:-</p>\n\n<p>int a=12; // binary representation of 12 is 1100</p>\n\n<p>int b=6; // binary representation of 6 is 0110</p>\n\n<p>int c=(a &amp; b); // binary representation of (12 &amp; 6) is 0100</p>\n\n<p>The value of c is 4.</p>\n\n<p>for reference , refer this <a href=\"http://techno-terminal.blogspot.in/2015/11/difference-between-operator-and-operator.html\" rel=\"noreferrer\">http://techno-terminal.blogspot.in/2015/11/difference-between-operator-and-operator.html</a></p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461930595,"creation_date":1461930595,"answer_id":36937636,"question_id":5564410,"body_markdown":"`&amp;&amp;` and `||` are called short circuit operators. When they are used, for `||` - if the first operand evaluates to `true`, then the rest of the operands are not evaluated. For `&amp;&amp;` - if the first operand evaluates to `false`, the rest of them don&#39;t get evaluated at all.\r\n\r\n\r\nso `if (a || (++x &gt; 0))` in this example the variable x won&#39;t get incremented if a was `true`.","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p><code>&amp;&amp;</code> and <code>||</code> are called short circuit operators. When they are used, for <code>||</code> - if the first operand evaluates to <code>true</code>, then the rest of the operands are not evaluated. For <code>&amp;&amp;</code> - if the first operand evaluates to <code>false</code>, the rest of them don't get evaluated at all.</p>\n\n<p>so <code>if (a || (++x &gt; 0))</code> in this example the variable x won't get incremented if a was <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":4066076,"reputation":2498,"user_id":3340968,"accept_rate":43,"display_name":"Yasir Shabbir Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478770975,"creation_date":1478770975,"answer_id":40524317,"question_id":5564410,"body_markdown":"&amp; is a bitwise operator plus used for checking both conditions because sometimes we need to evaluate both condition.\r\nBut &amp;&amp; logical operator go to 2nd condition when first condition give true.\r\n\r\n","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>&amp; is a bitwise operator plus used for checking both conditions because sometimes we need to evaluate both condition.\nBut &amp;&amp; logical operator go to 2nd condition when first condition give true.</p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488578959,"creation_date":1486988152,"answer_id":42203827,"question_id":5564410,"body_markdown":"all answers are `great`, and it seems that `no` more answer `is needed`\r\nbut I just wonted to point out something about `&amp;&amp;` operator called `dependent condition`\r\n\r\nIn expressions using operator &amp;&amp;, a condition—we’ll call this the `dependent condition`—may require another condition to be true for the evaluation of the dependent condition to be meaningful. \r\n\r\nIn this case, the dependent condition should be placed after the &amp;&amp; operator to prevent errors.\r\n\r\n Consider the expression `(i != 0) &amp;&amp; (10 / i == 2)`. The dependent condition `(10 / i == 2)` must `appear after` the `&amp;&amp;` operator to prevent the possibility of division by zero.\r\n\r\nanother example  `(myObject != null) &amp;&amp; (myObject.getValue() == somevaluse)` \r\n\r\nand another thing: `&amp;&amp;` and `||` are called [short-circuit evaluation][1] because the second argument is executed or evaluated `only if` the `first` argument does `not suffice` to `determine` the `value` of the `expression`\r\n\r\nReferences: [Java™ How To Program (Early Objects), Tenth Edition][2] \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Short-circuit_evaluation\r\n  [2]: https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch05lev2sec20.html","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>all answers are <code>great</code>, and it seems that <code>no</code> more answer <code>is needed</code>\nbut I just wonted to point out something about <code>&amp;&amp;</code> operator called <code>dependent condition</code></p>\n\n<p>In expressions using operator &amp;&amp;, a condition—we’ll call this the <code>dependent condition</code>—may require another condition to be true for the evaluation of the dependent condition to be meaningful. </p>\n\n<p>In this case, the dependent condition should be placed after the &amp;&amp; operator to prevent errors.</p>\n\n<p>Consider the expression <code>(i != 0) &amp;&amp; (10 / i == 2)</code>. The dependent condition <code>(10 / i == 2)</code> must <code>appear after</code> the <code>&amp;&amp;</code> operator to prevent the possibility of division by zero.</p>\n\n<p>another example  <code>(myObject != null) &amp;&amp; (myObject.getValue() == somevaluse)</code> </p>\n\n<p>and another thing: <code>&amp;&amp;</code> and <code>||</code> are called <a href=\"https://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow noreferrer\">short-circuit evaluation</a> because the second argument is executed or evaluated <code>only if</code> the <code>first</code> argument does <code>not suffice</code> to <code>determine</code> the <code>value</code> of the <code>expression</code></p>\n\n<p>References: <a href=\"https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch05lev2sec20.html\" rel=\"nofollow noreferrer\">Java™ How To Program (Early Objects), Tenth Edition</a> </p>\n"},{"tags":[],"owner":{"account_id":8719608,"reputation":25664,"user_id":6523163,"accept_rate":72,"display_name":"aircraft"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1690323217,"creation_date":1491892204,"answer_id":43338306,"question_id":5564410,"body_markdown":"I think my answer can be more understandable:\r\n\r\nThere are two differences between  `&amp;` and ` &amp;&amp;`.\r\n\r\n**If they use as logical AND**\r\n\r\n`&amp;` and `&amp;&amp;` can be logical `AND`, when the `&amp;` or `&amp;&amp;` left and right expression result all is true, the whole operation result can be true.\r\n\r\nwhen `&amp;` and `&amp;&amp;` as logical `AND`, there is a difference:\r\n\r\nwhen use `&amp;&amp;` as logical `AND`, if the left expression result is false, the right expression will not execute.\r\n\r\nTake the example :\r\n\r\n    String str = null;\r\n    \r\n    if(str!=null &amp;&amp; !str.equals(&quot;&quot;)){  // the right expression will not execute\r\n    \t\t\r\n    }\r\n\r\nIf using `&amp;`:\r\n\r\n    String str = null;\r\n    \r\n    if(str!=null &amp; !str.equals(&quot;&quot;)){  // the right expression will execute, and throw the NullPointerException \r\n    \t\t\r\n    }\r\n\r\nAn other more example:\r\n\r\n    int x = 0;\r\n    int y = 2;\r\n    if(x==0 &amp; ++y&gt;2){\r\n        System.out.print(“y=”+y);  // print is: y=3\r\n    }\r\n\r\n---\r\n\r\n    int x = 0;\r\n    int y = 2;\r\n    if(x==0 &amp;&amp; ++y&gt;2){\r\n        System.out.print(“y=”+y);  // print is: y=2\r\n    }\r\n\r\n\r\n**&amp; can be used as bit operator**\r\n\r\n`&amp;` can be used as Bitwise `AND` operator,  `&amp;&amp;` can not.\r\n\r\n&gt; The bitwise AND &quot; &amp;&quot; operator produces 1 if and only if both of the bits in \r\nits operands are 1. However, if both of the bits are 0 or both of the bits are different then this operator produces 0. To be more precise bitwise AND &quot; &amp;&quot; operator&#160;returns 1 if both of the two bits is 1 and it returns 0 if any of the bits is 0.&#160;\r\n\r\nFrom the wiki page:\r\n\r\nhttp://www.roseindia.net/java/master-java/java-bitwise-and.shtml","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>I think my answer can be more understandable:</p>\n<p>There are two differences between  <code>&amp;</code> and <code> &amp;&amp;</code>.</p>\n<p><strong>If they use as logical AND</strong></p>\n<p><code>&amp;</code> and <code>&amp;&amp;</code> can be logical <code>AND</code>, when the <code>&amp;</code> or <code>&amp;&amp;</code> left and right expression result all is true, the whole operation result can be true.</p>\n<p>when <code>&amp;</code> and <code>&amp;&amp;</code> as logical <code>AND</code>, there is a difference:</p>\n<p>when use <code>&amp;&amp;</code> as logical <code>AND</code>, if the left expression result is false, the right expression will not execute.</p>\n<p>Take the example :</p>\n<pre><code>String str = null;\n\nif(str!=null &amp;&amp; !str.equals(&quot;&quot;)){  // the right expression will not execute\n        \n}\n</code></pre>\n<p>If using <code>&amp;</code>:</p>\n<pre><code>String str = null;\n\nif(str!=null &amp; !str.equals(&quot;&quot;)){  // the right expression will execute, and throw the NullPointerException \n        \n}\n</code></pre>\n<p>An other more example:</p>\n<pre><code>int x = 0;\nint y = 2;\nif(x==0 &amp; ++y&gt;2){\n    System.out.print(“y=”+y);  // print is: y=3\n}\n</code></pre>\n<hr />\n<pre><code>int x = 0;\nint y = 2;\nif(x==0 &amp;&amp; ++y&gt;2){\n    System.out.print(“y=”+y);  // print is: y=2\n}\n</code></pre>\n<p><strong>&amp; can be used as bit operator</strong></p>\n<p><code>&amp;</code> can be used as Bitwise <code>AND</code> operator,  <code>&amp;&amp;</code> can not.</p>\n<blockquote>\n<p>The bitwise AND &quot; &amp;&quot; operator produces 1 if and only if both of the bits in\nits operands are 1. However, if both of the bits are 0 or both of the bits are different then this operator produces 0. To be more precise bitwise AND &quot; &amp;&quot; operator returns 1 if both of the two bits is 1 and it returns 0 if any of the bits is 0. </p>\n</blockquote>\n<p>From the wiki page:</p>\n<p><a href=\"http://www.roseindia.net/java/master-java/java-bitwise-and.shtml\" rel=\"nofollow noreferrer\">http://www.roseindia.net/java/master-java/java-bitwise-and.shtml</a></p>\n"},{"tags":[],"owner":{"account_id":128634,"reputation":902,"user_id":326639,"accept_rate":100,"display_name":"mgr326639"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517232813,"creation_date":1506427582,"answer_id":46426081,"question_id":5564410,"body_markdown":"Besides &amp;&amp; and || being short circuiting, also consider operator precedence when mixing the two forms.\r\nI think it will not be immediately apparent to everybody that result1 and result2 contain different values.\r\n\r\n    boolean a = true;\r\n    boolean b = false;\r\n    boolean c = false;\r\n    \r\n    boolean result1 = a || b &amp;&amp; c; //is true;  evaluated as a || (b &amp;&amp; c)\r\n    boolean result2 = a  | b &amp;&amp; c; //is false; evaluated as (a | b) &amp;&amp; c\r\n\r\n","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>Besides &amp;&amp; and || being short circuiting, also consider operator precedence when mixing the two forms.\nI think it will not be immediately apparent to everybody that result1 and result2 contain different values.</p>\n\n<pre><code>boolean a = true;\nboolean b = false;\nboolean c = false;\n\nboolean result1 = a || b &amp;&amp; c; //is true;  evaluated as a || (b &amp;&amp; c)\nboolean result2 = a  | b &amp;&amp; c; //is false; evaluated as (a | b) &amp;&amp; c\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4806468,"reputation":3469,"user_id":3881354,"accept_rate":75,"display_name":"Elyas Hadizadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617181803,"creation_date":1617181803,"answer_id":66884750,"question_id":5564410,"body_markdown":"In respect of the AND and OR operators, Java has got two types of evaluation namely `Short-Circuit evaluation` and `full evaluation`. \r\n\r\n**`&amp;&amp; ||` Short-Circuit Evaluation**\r\n\r\n*Short-Circuit evaluation* enables you to **not evaluate** the right-hand side of AND and OR expressions, when the overall result can be predicted from the left-side value.\r\n\r\n    int numberOne = 1;\r\n    int numberTwo = 2;\r\n    boolean result = false;\r\n\r\n    // left-side is false so the the overall result CAN be predicted without evaluating the right side.\r\n    // numberOne will be 1, numberTwo will be 2, result will be false\r\n    result = (numberOne &gt; numberTwo) &amp;&amp; (++numberOne == numberTwo);\r\n    \r\n    System.out.println(numberOne); // prints 1\r\n    System.out.println(numberTwo); // prints 2\r\n    System.out.println(result);    // prints false\r\n\r\n\r\n    // left-side is true so the the overall result CAN NOT be predicted without evaluating the right side.\r\n    // numberOne will be 2, numberTwo will be 2, result will be true\r\n    result = (numberTwo &gt; numberOne) &amp;&amp; (++numberOne == numberTwo);\r\n\r\n    System.out.println(numberOne); // prints 2\r\n    System.out.println(numberTwo); // prints 2\r\n    System.out.println(result);    // prints true\r\n\r\n**`&amp; | ^` Full Evaluation**\r\n\r\nAlthough in some cases it is possible to predict the result, It is necessary to evaluate the right-hand side.\r\n\r\n    int numberOne = 1;\r\n    int numberTwo = 2;\r\n    boolean result = false;\r\n\r\n    // left-side is false so the the overall result will be false BUT the right side MUST be evaluated too.\r\n    // numberOne will be 2, numberTwo will be 2, result will be false\r\n    result = (numberOne &gt; numberTwo) &amp; (++numberOne == numberTwo);\r\n\r\n    System.out.println(numberOne); // prints 2\r\n    System.out.println(numberTwo); // prints 2\r\n    System.out.println(result);    // prints false\r\n\r\n\r\n\r\nNotice:\r\n\r\n 1. Notice that for XOR (`^`) there is no short-circuit, because both sides are always required to determine the overall result.\r\n 2. Notice that other possible names for Short-Circuit evaluation are `minimal evaluation` and `McCarthy evaluation`.\r\n 3. It is not recommenced to mix boolean logic and actions in the same expression\r\n 4. `&amp;` can also act as a Bitwise AND operator which is very academic and can be used in cryptography. When both bits are 1, the result is 1, or either of the bits is not 1, the result is 0. (Check the following code)\r\n\r\n\r\nAND Bitwise example:\r\n\r\n    byte a = 5;              // 00000101\r\n    byte b = 3;              // 00000011\r\n    byte c = (byte) (a &amp; b); // 00000001 (c is 1)\r\n\r\n\r\n\r\n","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>In respect of the AND and OR operators, Java has got two types of evaluation namely <code>Short-Circuit evaluation</code> and <code>full evaluation</code>.</p>\n<p><strong><code>&amp;&amp; ||</code> Short-Circuit Evaluation</strong></p>\n<p><em>Short-Circuit evaluation</em> enables you to <strong>not evaluate</strong> the right-hand side of AND and OR expressions, when the overall result can be predicted from the left-side value.</p>\n<pre><code>int numberOne = 1;\nint numberTwo = 2;\nboolean result = false;\n\n// left-side is false so the the overall result CAN be predicted without evaluating the right side.\n// numberOne will be 1, numberTwo will be 2, result will be false\nresult = (numberOne &gt; numberTwo) &amp;&amp; (++numberOne == numberTwo);\n\nSystem.out.println(numberOne); // prints 1\nSystem.out.println(numberTwo); // prints 2\nSystem.out.println(result);    // prints false\n\n\n// left-side is true so the the overall result CAN NOT be predicted without evaluating the right side.\n// numberOne will be 2, numberTwo will be 2, result will be true\nresult = (numberTwo &gt; numberOne) &amp;&amp; (++numberOne == numberTwo);\n\nSystem.out.println(numberOne); // prints 2\nSystem.out.println(numberTwo); // prints 2\nSystem.out.println(result);    // prints true\n</code></pre>\n<p><strong><code>&amp; | ^</code> Full Evaluation</strong></p>\n<p>Although in some cases it is possible to predict the result, It is necessary to evaluate the right-hand side.</p>\n<pre><code>int numberOne = 1;\nint numberTwo = 2;\nboolean result = false;\n\n// left-side is false so the the overall result will be false BUT the right side MUST be evaluated too.\n// numberOne will be 2, numberTwo will be 2, result will be false\nresult = (numberOne &gt; numberTwo) &amp; (++numberOne == numberTwo);\n\nSystem.out.println(numberOne); // prints 2\nSystem.out.println(numberTwo); // prints 2\nSystem.out.println(result);    // prints false\n</code></pre>\n<p>Notice:</p>\n<ol>\n<li>Notice that for XOR (<code>^</code>) there is no short-circuit, because both sides are always required to determine the overall result.</li>\n<li>Notice that other possible names for Short-Circuit evaluation are <code>minimal evaluation</code> and <code>McCarthy evaluation</code>.</li>\n<li>It is not recommenced to mix boolean logic and actions in the same expression</li>\n<li><code>&amp;</code> can also act as a Bitwise AND operator which is very academic and can be used in cryptography. When both bits are 1, the result is 1, or either of the bits is not 1, the result is 0. (Check the following code)</li>\n</ol>\n<p>AND Bitwise example:</p>\n<pre><code>byte a = 5;              // 00000101\nbyte b = 3;              // 00000011\nbyte c = (byte) (a &amp; b); // 00000001 (c is 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5273768,"reputation":4934,"user_id":4211264,"accept_rate":73,"display_name":"Bhargav Thanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620279417,"creation_date":1620279417,"answer_id":67412420,"question_id":5564410,"body_markdown":"Almost every point of comparison is very well covered in all the answers. I just want to add one example. To demonstrate how the output changes based on which operator we use. Consider the below example\r\n\r\n    int a = 10;\r\n\tif(++a==10 &amp; ++a==12) {\r\n\t    ++a;\r\n\t}\r\n\tSystem.out.println(a); //12\r\n    \r\nIn the above code, We are using bitwise &amp; operator. So It will evaluate both the arguments(left and right) irrespective of the individual result.\r\n\r\nso `a` will increment 2 times within `if condition`. But as the condition will not become true, It will not enter inside the if-loop and 3rd increment will not happen. So the final value of a would become 12 in this case.\r\n\r\nNow suppose, in the same above example If we use short-circuit &amp;&amp; operator. then after evaluating `++a==10` to false, It will not go to check the second argument. And Hence the final value of a would-be 11.\r\n\r\n    int a = 10;\r\n\tif(++a==10 &amp;&amp; ++a==12) {\r\n\t    ++a;\r\n\t}\r\n\tSystem.out.println(a); //11\r\n\r\nBased on this, We can say that performance of bitwise &amp; operator is relatively low compare to the short-circuit &amp;&amp; operator. As bitwise operator will go to evaluate both the arguments irrespective of the result of the first argument. While &amp;&amp; operator will stop evaluating the second argument if the first argument&#39;s result is false.\r\n\r\nOne more difference between these two is, Bitwise &amp; operator is applicable for boolean as well as integral types. While short-circuit &amp;&amp; operator is applicable only for the boolean type.\r\n\r\nWe can write \r\n\r\n    System.out.println(4 &amp; 5); // 4\r\n\r\nBut if We try to write like ,\r\n\r\n    System.out.println(4 &amp;&amp; 5);\r\n\r\nThen it will give an error saying, \r\n\r\n&gt; bad operand types for binary operator &#39;&amp;&amp;&#39;\r\n\r\n ","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>Almost every point of comparison is very well covered in all the answers. I just want to add one example. To demonstrate how the output changes based on which operator we use. Consider the below example</p>\n<pre><code>int a = 10;\nif(++a==10 &amp; ++a==12) {\n    ++a;\n}\nSystem.out.println(a); //12\n</code></pre>\n<p>In the above code, We are using bitwise &amp; operator. So It will evaluate both the arguments(left and right) irrespective of the individual result.</p>\n<p>so <code>a</code> will increment 2 times within <code>if condition</code>. But as the condition will not become true, It will not enter inside the if-loop and 3rd increment will not happen. So the final value of a would become 12 in this case.</p>\n<p>Now suppose, in the same above example If we use short-circuit &amp;&amp; operator. then after evaluating <code>++a==10</code> to false, It will not go to check the second argument. And Hence the final value of a would-be 11.</p>\n<pre><code>int a = 10;\nif(++a==10 &amp;&amp; ++a==12) {\n    ++a;\n}\nSystem.out.println(a); //11\n</code></pre>\n<p>Based on this, We can say that performance of bitwise &amp; operator is relatively low compare to the short-circuit &amp;&amp; operator. As bitwise operator will go to evaluate both the arguments irrespective of the result of the first argument. While &amp;&amp; operator will stop evaluating the second argument if the first argument's result is false.</p>\n<p>One more difference between these two is, Bitwise &amp; operator is applicable for boolean as well as integral types. While short-circuit &amp;&amp; operator is applicable only for the boolean type.</p>\n<p>We can write</p>\n<pre><code>System.out.println(4 &amp; 5); // 4\n</code></pre>\n<p>But if We try to write like ,</p>\n<pre><code>System.out.println(4 &amp;&amp; 5);\n</code></pre>\n<p>Then it will give an error saying,</p>\n<blockquote>\n<p>bad operand types for binary operator '&amp;&amp;'</p>\n</blockquote>\n"}],"owner":{"display_name":"Lavneesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240989,"favorite_count":0,"down_vote_count":1,"up_vote_count":220,"accepted_answer_id":5564484,"answer_count":15,"score":219,"last_activity_date":1690323217,"creation_date":1302083215,"question_id":5564410,"body_markdown":"I always thought that `&amp;&amp;` operator in Java is used for verifying whether both its boolean operands are `true`, and the `&amp;` operator is used to do Bit-wise operations on two integer types.\r\n\r\nRecently I came to know that `&amp;` operator can also be used verify whether both its boolean operands are `true`, the only difference being that it checks the RHS operand even if the LHS operand is false.\r\n\r\nIs the `&amp;` operator in Java internally overloaded? Or is there some other concept behind this? ","title":"What is the difference between &amp; and &amp;&amp; in Java?","body":"<p>I always thought that <code>&amp;&amp;</code> operator in Java is used for verifying whether both its boolean operands are <code>true</code>, and the <code>&amp;</code> operator is used to do Bit-wise operations on two integer types.</p>\n\n<p>Recently I came to know that <code>&amp;</code> operator can also be used verify whether both its boolean operands are <code>true</code>, the only difference being that it checks the RHS operand even if the LHS operand is false.</p>\n\n<p>Is the <code>&amp;</code> operator in Java internally overloaded? Or is there some other concept behind this? </p>\n"},{"tags":["java","python-3.x","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":16516727,"reputation":29,"user_id":11933952,"display_name":"Waller511"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566448835,"creation_date":1565918757,"answer_id":57517936,"question_id":50602355,"body_markdown":"I had the same problem, so I made a selenium script to automatically download the exe file from chromedrivers site and get all my scripts to reference the current location of the chromedriver.exe file in my python directory. I run this script parallel to google updates in the scheduler, so that when chrome gets updated so does the driver. \r\n\r\nFeel free to use it / retool it.\r\n\r\n-- getFileProperties.py --\r\n```python\r\n# as per https://stackoverflow.com/questions/580924/python-windows-file-version-attribute\r\n\r\nimport win32api\r\n\r\n#==============================================================================\r\ndef getFileProperties(fname):\r\n#==============================================================================\r\n    &quot;&quot;&quot;\r\n    Read all properties of the given file return them as a dictionary.\r\n    &quot;&quot;&quot;\r\n    propNames = (&#39;Comments&#39;, &#39;InternalName&#39;, &#39;ProductName&#39;,\r\n        &#39;CompanyName&#39;, &#39;LegalCopyright&#39;, &#39;ProductVersion&#39;,\r\n        &#39;FileDescription&#39;, &#39;LegalTrademarks&#39;, &#39;PrivateBuild&#39;,\r\n        &#39;FileVersion&#39;, &#39;OriginalFilename&#39;, &#39;SpecialBuild&#39;)\r\n\r\n    props = {&#39;FixedFileInfo&#39;: None, &#39;StringFileInfo&#39;: None, &#39;FileVersion&#39;: None}\r\n\r\n    try:\r\n        # backslash as parm returns dictionary of numeric info corresponding to VS_FIXEDFILEINFO struc\r\n        fixedInfo = win32api.GetFileVersionInfo(fname, &#39;\\\\&#39;)\r\n        props[&#39;FixedFileInfo&#39;] = fixedInfo\r\n        props[&#39;FileVersion&#39;] = &quot;%d.%d.%d.%d&quot; % (fixedInfo[&#39;FileVersionMS&#39;] / 65536,\r\n                fixedInfo[&#39;FileVersionMS&#39;] % 65536, fixedInfo[&#39;FileVersionLS&#39;] / 65536,\r\n                fixedInfo[&#39;FileVersionLS&#39;] % 65536)\r\n\r\n        # \\VarFileInfo\\Translation returns list of available (language, codepage)\r\n        # pairs that can be used to retreive string info. We are using only the first pair.\r\n        lang, codepage = win32api.GetFileVersionInfo(fname, &#39;\\\\VarFileInfo\\\\Translation&#39;)[0]\r\n\r\n        # any other must be of the form \\StringfileInfo\\%04X%04X\\parm_name, middle\r\n        # two are language/codepage pair returned from above\r\n\r\n        strInfo = {}\r\n        for propName in propNames:\r\n            strInfoPath = u&#39;\\\\StringFileInfo\\\\%04X%04X\\\\%s&#39; % (lang, codepage, propName)\r\n            ## print str_info\r\n            strInfo[propName] = win32api.GetFileVersionInfo(fname, strInfoPath)\r\n\r\n        props[&#39;StringFileInfo&#39;] = strInfo\r\n    except:\r\n        pass\r\n\r\n    return props\r\n``` \r\n-- ChromeVersion.py --\r\n```python\r\nfrom getFileProperties import *\r\n\r\nchrome_browser = #&#39;C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&#39; -- ENTER YOUR Chrome.exe filepath\r\n\r\n\r\ncb_dictionary = getFileProperties(chrome_browser) # returns whole string of version (ie. 76.0.111)\r\n\r\nchrome_browser_version = cb_dictionary[&#39;FileVersion&#39;][:2] # substring version to capabable version (ie. 77 / 76)\r\n\r\n\r\nnextVersion = str(int(chrome_browser_version) +1) # grabs the next version of the chrome browser\r\n\r\nlastVersion = str(int(chrome_browser_version) -1) # grabs the last version of the chrome browser\r\n\r\n``` \r\n-- ChromeDriverAutomation.py --\r\n\r\n```python\r\nfrom ChromeVersion import chrome_browser_version, nextVersion, lastVersion\r\n\r\n\r\ndriverName = &quot;\\\\chromedriver.exe&quot;\r\n\r\n# defining base file directory of chrome drivers\r\ndriver_loc = #&quot;C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python37-32\\\\ChromeDriver\\\\&quot; -- ENTER the file path of your exe\r\n# -- I created a separate folder to house the versions of chromedriver, previous versions will be deleted after downloading the newest version.\r\n# ie. version 75 will be deleted after 77 has been downloaded.\r\n\r\n# defining the file path of your exe file automatically updating based on your browsers current version of chrome.\r\ncurrentPath = driver_loc + chrome_browser_version + driverName \r\n# check file directories to see if chrome drivers exist in nextVersion\r\n\r\n\r\nimport os.path\r\n\r\n# check if new version of drive exists --&gt; only continue if it doesn&#39;t\r\nNewpath = driver_loc + nextVersion\r\n\r\n# check if we have already downloaded the newest version of the browser, ie if we have version 76, and have already downloaded a version of 77, we don&#39;t need to run any more of the script.\r\nnewfileloc = Newpath + driverName\r\nexists = os.path.exists(newfileloc)\r\n\r\n\r\nif (exists == False):\r\n\r\n\t#open chrome driver and attempt to download new chrome driver exe file.\r\n\r\n\tfrom selenium import webdriver\r\n\tfrom selenium.webdriver.common.keys import Keys\r\n\tfrom selenium.webdriver.chrome.options import Options\r\n\timport time\r\n\tchrome_options = Options()\r\n\texecutable_path = currentPath\r\n\tdriver = webdriver.Chrome(executable_path=executable_path, options=chrome_options)\r\n\r\n\t# opening up url of chromedriver to get new version of chromedriver.\r\n\tchromeDriverURL = &#39;https://chromedriver.storage.googleapis.com/index.html?path=&#39; + nextVersion \r\n\r\n\tdriver.get(chromeDriverURL)\r\n\r\n\ttime.sleep(5)\r\n\t# find records of table rows\r\n\ttable = driver.find_elements_by_css_selector(&#39;tr&#39;)\r\n\r\n\t\r\n\t# check the length of the table\r\n\tTable_len = len(table)\r\n\r\n\t# ensure that table length is greater than 4, else fail. -- table length of 4 is default when there are no availble updates\r\n\tif (Table_len &gt; 4 ):\r\n\r\n\t\t# define string value of link\r\n\t\trowText = table[(len(table)-2)].text[:6]\r\n\t\ttime.sleep(1)\r\n\t\t# select the value of the row\r\n\t\tdriver.find_element_by_xpath(&#39;//*[contains(text(),&#39; + &#39;&quot;&#39; + str(rowText) + &#39;&quot;&#39;+&#39;)]&#39;).click()\r\n\t\ttime.sleep(1)\r\n\t\t#select chromedriver zip for windows \r\n\t\tdriver.find_element_by_xpath(&#39;//*[contains(text(),&#39; + &#39;&quot;&#39; + &quot;win32&quot; + &#39;&quot;&#39;+&#39;)]&#39;).click()\r\n\r\n\t\ttime.sleep(3)\r\n\t\tdriver.quit()\r\n\t\t\r\n\t\tfrom zipfile import ZipFile\r\n\t\timport shutil\r\n\r\n\r\n\t\tfileName = #r&quot;C:\\Users\\Administrator\\Downloads\\chromedriver_win32.zip&quot; --&gt; enter your download path here.\r\n\r\n\r\n\t\t\r\n\r\n\t\t# Create a ZipFile Object and load sample.zip in it\r\n\t\twith ZipFile(fileName, &#39;r&#39;) as zipObj:\r\n\t\t   # Extract all the contents of zip file in different directory\r\n\t\t   zipObj.extractall(Newpath)\r\n\t\t  \r\n\t\t\r\n\t\t# delete downloaded file\r\n\t\tos.remove(fileName)\r\n\r\n\r\n\r\n\t\t# defining old chrome driver location\r\n\t\toldPath = driver_loc + lastVersion\r\n\t\toldpathexists = os.path.exists(oldPath)\r\n\t\t\r\n\t\t# this deletes the old folder with the older version of chromedriver in it (version 75, once 77 has been downloaded)\r\n\t\tif(oldpathexists == True):\r\n\t\t\tshutil.rmtree(oldPath, ignore_errors=True)\r\n\r\n\r\n\t\t\r\nexit()\r\n\r\n``` \r\nhttps://github.com/MattWaller/ChromeDriverAutoUpdate","title":"Is there a way to automatically update chromedriver in my Test Automation Suite directory?","body":"<p>I had the same problem, so I made a selenium script to automatically download the exe file from chromedrivers site and get all my scripts to reference the current location of the chromedriver.exe file in my python directory. I run this script parallel to google updates in the scheduler, so that when chrome gets updated so does the driver. </p>\n\n<p>Feel free to use it / retool it.</p>\n\n<p>-- getFileProperties.py --</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># as per https://stackoverflow.com/questions/580924/python-windows-file-version-attribute\n\nimport win32api\n\n#==============================================================================\ndef getFileProperties(fname):\n#==============================================================================\n    \"\"\"\n    Read all properties of the given file return them as a dictionary.\n    \"\"\"\n    propNames = ('Comments', 'InternalName', 'ProductName',\n        'CompanyName', 'LegalCopyright', 'ProductVersion',\n        'FileDescription', 'LegalTrademarks', 'PrivateBuild',\n        'FileVersion', 'OriginalFilename', 'SpecialBuild')\n\n    props = {'FixedFileInfo': None, 'StringFileInfo': None, 'FileVersion': None}\n\n    try:\n        # backslash as parm returns dictionary of numeric info corresponding to VS_FIXEDFILEINFO struc\n        fixedInfo = win32api.GetFileVersionInfo(fname, '\\\\')\n        props['FixedFileInfo'] = fixedInfo\n        props['FileVersion'] = \"%d.%d.%d.%d\" % (fixedInfo['FileVersionMS'] / 65536,\n                fixedInfo['FileVersionMS'] % 65536, fixedInfo['FileVersionLS'] / 65536,\n                fixedInfo['FileVersionLS'] % 65536)\n\n        # \\VarFileInfo\\Translation returns list of available (language, codepage)\n        # pairs that can be used to retreive string info. We are using only the first pair.\n        lang, codepage = win32api.GetFileVersionInfo(fname, '\\\\VarFileInfo\\\\Translation')[0]\n\n        # any other must be of the form \\StringfileInfo\\%04X%04X\\parm_name, middle\n        # two are language/codepage pair returned from above\n\n        strInfo = {}\n        for propName in propNames:\n            strInfoPath = u'\\\\StringFileInfo\\\\%04X%04X\\\\%s' % (lang, codepage, propName)\n            ## print str_info\n            strInfo[propName] = win32api.GetFileVersionInfo(fname, strInfoPath)\n\n        props['StringFileInfo'] = strInfo\n    except:\n        pass\n\n    return props\n</code></pre>\n\n<p>-- ChromeVersion.py --</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from getFileProperties import *\n\nchrome_browser = #'C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe' -- ENTER YOUR Chrome.exe filepath\n\n\ncb_dictionary = getFileProperties(chrome_browser) # returns whole string of version (ie. 76.0.111)\n\nchrome_browser_version = cb_dictionary['FileVersion'][:2] # substring version to capabable version (ie. 77 / 76)\n\n\nnextVersion = str(int(chrome_browser_version) +1) # grabs the next version of the chrome browser\n\nlastVersion = str(int(chrome_browser_version) -1) # grabs the last version of the chrome browser\n\n</code></pre>\n\n<p>-- ChromeDriverAutomation.py --</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from ChromeVersion import chrome_browser_version, nextVersion, lastVersion\n\n\ndriverName = \"\\\\chromedriver.exe\"\n\n# defining base file directory of chrome drivers\ndriver_loc = #\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python37-32\\\\ChromeDriver\\\\\" -- ENTER the file path of your exe\n# -- I created a separate folder to house the versions of chromedriver, previous versions will be deleted after downloading the newest version.\n# ie. version 75 will be deleted after 77 has been downloaded.\n\n# defining the file path of your exe file automatically updating based on your browsers current version of chrome.\ncurrentPath = driver_loc + chrome_browser_version + driverName \n# check file directories to see if chrome drivers exist in nextVersion\n\n\nimport os.path\n\n# check if new version of drive exists --&gt; only continue if it doesn't\nNewpath = driver_loc + nextVersion\n\n# check if we have already downloaded the newest version of the browser, ie if we have version 76, and have already downloaded a version of 77, we don't need to run any more of the script.\nnewfileloc = Newpath + driverName\nexists = os.path.exists(newfileloc)\n\n\nif (exists == False):\n\n    #open chrome driver and attempt to download new chrome driver exe file.\n\n    from selenium import webdriver\n    from selenium.webdriver.common.keys import Keys\n    from selenium.webdriver.chrome.options import Options\n    import time\n    chrome_options = Options()\n    executable_path = currentPath\n    driver = webdriver.Chrome(executable_path=executable_path, options=chrome_options)\n\n    # opening up url of chromedriver to get new version of chromedriver.\n    chromeDriverURL = 'https://chromedriver.storage.googleapis.com/index.html?path=' + nextVersion \n\n    driver.get(chromeDriverURL)\n\n    time.sleep(5)\n    # find records of table rows\n    table = driver.find_elements_by_css_selector('tr')\n\n\n    # check the length of the table\n    Table_len = len(table)\n\n    # ensure that table length is greater than 4, else fail. -- table length of 4 is default when there are no availble updates\n    if (Table_len &gt; 4 ):\n\n        # define string value of link\n        rowText = table[(len(table)-2)].text[:6]\n        time.sleep(1)\n        # select the value of the row\n        driver.find_element_by_xpath('//*[contains(text(),' + '\"' + str(rowText) + '\"'+')]').click()\n        time.sleep(1)\n        #select chromedriver zip for windows \n        driver.find_element_by_xpath('//*[contains(text(),' + '\"' + \"win32\" + '\"'+')]').click()\n\n        time.sleep(3)\n        driver.quit()\n\n        from zipfile import ZipFile\n        import shutil\n\n\n        fileName = #r\"C:\\Users\\Administrator\\Downloads\\chromedriver_win32.zip\" --&gt; enter your download path here.\n\n\n\n\n        # Create a ZipFile Object and load sample.zip in it\n        with ZipFile(fileName, 'r') as zipObj:\n           # Extract all the contents of zip file in different directory\n           zipObj.extractall(Newpath)\n\n\n        # delete downloaded file\n        os.remove(fileName)\n\n\n\n        # defining old chrome driver location\n        oldPath = driver_loc + lastVersion\n        oldpathexists = os.path.exists(oldPath)\n\n        # this deletes the old folder with the older version of chromedriver in it (version 75, once 77 has been downloaded)\n        if(oldpathexists == True):\n            shutil.rmtree(oldPath, ignore_errors=True)\n\n\n\nexit()\n\n</code></pre>\n\n<p><a href=\"https://github.com/MattWaller/ChromeDriverAutoUpdate\" rel=\"nofollow noreferrer\">https://github.com/MattWaller/ChromeDriverAutoUpdate</a></p>\n"}],"owner":{"account_id":4165830,"reputation":170,"user_id":3441429,"accept_rate":29,"display_name":"Python_Novice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4821,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690322313,"creation_date":1527676102,"question_id":50602355,"body_markdown":"I have an Automation framework using Selenium and Python. For running Chrome browser I have placed chrome driver in one of the folders in my automation framework. Now the problem is chrome driver gets udpated after certain period of time and my script starts failing because of that and I need to place the updated chrome driver in the directory every time when it gets updated by Google. \r\n\r\nIs there any automated way I can implement to resolve this issue?","title":"Is there a way to automatically update chromedriver in my Test Automation Suite directory?","body":"<p>I have an Automation framework using Selenium and Python. For running Chrome browser I have placed chrome driver in one of the folders in my automation framework. Now the problem is chrome driver gets udpated after certain period of time and my script starts failing because of that and I need to place the updated chrome driver in the directory every time when it gets updated by Google. </p>\n\n<p>Is there any automated way I can implement to resolve this issue?</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690329002,"post_id":76766733,"comment_id":135337446,"body_markdown":"[This](https://github.com/AdvancedXRay/XRay-Fabric) is a pre-existing fabric X-Ray mod and it might provide some insight into how to do what you are trying","body":"<a href=\"https://github.com/AdvancedXRay/XRay-Fabric\" rel=\"nofollow noreferrer\">This</a> is a pre-existing fabric X-Ray mod and it might provide some insight into how to do what you are trying"}],"owner":{"account_id":20028073,"reputation":1,"user_id":21352370,"display_name":"Turtle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690322237,"creation_date":1690321930,"question_id":76766733,"body_markdown":"How to draw an outline for a block using its coordinates? if its even possible using this code\r\nIn minecraft java fabric 1.20.1\r\n\r\n```java\r\npackage net.kaupenjoe.tutorialmod;\r\n\r\nimport net.fabricmc.api.ClientModInitializer;\r\nimport net.fabricmc.api.EnvType;\r\nimport net.fabricmc.api.Environment;\r\nimport net.fabricmc.fabric.api.client.event.lifecycle.v1.ClientTickEvents;\r\nimport net.fabricmc.fabric.api.client.keybinding.v1.KeyBindingHelper;\r\nimport net.minecraft.block.Block;\r\nimport net.minecraft.block.Blocks;\r\nimport net.minecraft.client.MinecraftClient;\r\nimport net.minecraft.client.network.ClientPlayerEntity;\r\nimport net.minecraft.client.option.KeyBinding;\r\nimport net.minecraft.text.Text;\r\nimport net.minecraft.util.math.BlockPos;\r\nimport net.minecraft.util.math.ChunkPos;\r\n\r\nimport org.lwjgl.glfw.GLFW;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Environment(EnvType.CLIENT)\r\npublic class TutorialModClient implements ClientModInitializer {\r\n\r\n    private static KeyBinding keyBinding;\r\n    private static List&lt;Block&gt; blocksToCheck = new ArrayList&lt;&gt;();\r\n\r\n    static {\r\n        blocksToCheck.add(Blocks.DIAMOND_ORE);\r\n        blocksToCheck.add(Blocks.DEEPSLATE_DIAMOND_ORE);\r\n    }\r\n\r\n    @Override\r\n    public void onInitializeClient() {\r\n        keyBinding = KeyBindingHelper.registerKeyBinding(new KeyBinding(\r\n                &quot;xray i guess&quot;,\r\n                GLFW.GLFW_KEY_P,\r\n                &quot;key.categories.misc&quot;\r\n        ));\r\n\r\n        ClientTickEvents.START_CLIENT_TICK.register(client -&gt; {\r\n            if (keyBinding.isPressed()) {\r\n                listCertainBlocks();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void listCertainBlocks() {\r\n        MinecraftClient minecraft = MinecraftClient.getInstance();\r\n        ClientPlayerEntity player = minecraft.player;\r\n        int playerChunkX = player.getBlockPos().getX() &gt;&gt; 4;\r\n        int playerChunkZ = player.getBlockPos().getZ() &gt;&gt; 4;\r\n\r\n        int chunkRadius = 2;\r\n        int bottomY = 0;\r\n        int topY = minecraft.world.getHeight();\r\n\r\n        System.out.println(&quot;Certain Blocks within &quot; + chunkRadius + &quot; chunks around the player, from bedrock to the top:&quot;);\r\n\r\n        for (int chunkX = playerChunkX - chunkRadius; chunkX &lt;= playerChunkX + chunkRadius; chunkX++) {\r\n            for (int chunkZ = playerChunkZ - chunkRadius; chunkZ &lt;= playerChunkZ + chunkRadius; chunkZ++) {\r\n                ChunkPos chunkPos = new ChunkPos(chunkX, chunkZ);\r\n\r\n                for (int y = bottomY; y &lt; topY; y++) {\r\n                    for (int x = 0; x &lt; 16; x++) {\r\n                        for (int z = 0; z &lt; 16; z++) {\r\n                            BlockPos pos = new BlockPos(chunkPos.getStartX() + x, y, chunkPos.getStartZ() + z);\r\n                            Block block = minecraft.world.getBlockState(pos).getBlock();\r\n\r\n                            if (blocksToCheck.contains(block)) {\r\n                                player.sendMessage(Text.of(&quot; - &quot; + block.getTranslationKey() + &quot; at (&quot; + pos.getX() + &quot;, &quot; + pos.getY() + &quot;, &quot; + pos.getZ() + &quot;)&quot;));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nI have this code to find blocks in a certain radius, in this code example diamond ore and deepslate diamond ore\r\n\r\nright now all it does is sends the blocks position to the chat\r\n\r\n\r\nI tried all sort of methods, using chatGBT but nothing worked\r\nAlso tried googling but couldnt find anything that worked","title":"How to draw an outline around a block using Fabric api mod","body":"<p>How to draw an outline for a block using its coordinates? if its even possible using this code\nIn minecraft java fabric 1.20.1</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.kaupenjoe.tutorialmod;\n\nimport net.fabricmc.api.ClientModInitializer;\nimport net.fabricmc.api.EnvType;\nimport net.fabricmc.api.Environment;\nimport net.fabricmc.fabric.api.client.event.lifecycle.v1.ClientTickEvents;\nimport net.fabricmc.fabric.api.client.keybinding.v1.KeyBindingHelper;\nimport net.minecraft.block.Block;\nimport net.minecraft.block.Blocks;\nimport net.minecraft.client.MinecraftClient;\nimport net.minecraft.client.network.ClientPlayerEntity;\nimport net.minecraft.client.option.KeyBinding;\nimport net.minecraft.text.Text;\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.util.math.ChunkPos;\n\nimport org.lwjgl.glfw.GLFW;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Environment(EnvType.CLIENT)\npublic class TutorialModClient implements ClientModInitializer {\n\n    private static KeyBinding keyBinding;\n    private static List&lt;Block&gt; blocksToCheck = new ArrayList&lt;&gt;();\n\n    static {\n        blocksToCheck.add(Blocks.DIAMOND_ORE);\n        blocksToCheck.add(Blocks.DEEPSLATE_DIAMOND_ORE);\n    }\n\n    @Override\n    public void onInitializeClient() {\n        keyBinding = KeyBindingHelper.registerKeyBinding(new KeyBinding(\n                &quot;xray i guess&quot;,\n                GLFW.GLFW_KEY_P,\n                &quot;key.categories.misc&quot;\n        ));\n\n        ClientTickEvents.START_CLIENT_TICK.register(client -&gt; {\n            if (keyBinding.isPressed()) {\n                listCertainBlocks();\n            }\n        });\n    }\n\n    private void listCertainBlocks() {\n        MinecraftClient minecraft = MinecraftClient.getInstance();\n        ClientPlayerEntity player = minecraft.player;\n        int playerChunkX = player.getBlockPos().getX() &gt;&gt; 4;\n        int playerChunkZ = player.getBlockPos().getZ() &gt;&gt; 4;\n\n        int chunkRadius = 2;\n        int bottomY = 0;\n        int topY = minecraft.world.getHeight();\n\n        System.out.println(&quot;Certain Blocks within &quot; + chunkRadius + &quot; chunks around the player, from bedrock to the top:&quot;);\n\n        for (int chunkX = playerChunkX - chunkRadius; chunkX &lt;= playerChunkX + chunkRadius; chunkX++) {\n            for (int chunkZ = playerChunkZ - chunkRadius; chunkZ &lt;= playerChunkZ + chunkRadius; chunkZ++) {\n                ChunkPos chunkPos = new ChunkPos(chunkX, chunkZ);\n\n                for (int y = bottomY; y &lt; topY; y++) {\n                    for (int x = 0; x &lt; 16; x++) {\n                        for (int z = 0; z &lt; 16; z++) {\n                            BlockPos pos = new BlockPos(chunkPos.getStartX() + x, y, chunkPos.getStartZ() + z);\n                            Block block = minecraft.world.getBlockState(pos).getBlock();\n\n                            if (blocksToCheck.contains(block)) {\n                                player.sendMessage(Text.of(&quot; - &quot; + block.getTranslationKey() + &quot; at (&quot; + pos.getX() + &quot;, &quot; + pos.getY() + &quot;, &quot; + pos.getZ() + &quot;)&quot;));\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have this code to find blocks in a certain radius, in this code example diamond ore and deepslate diamond ore</p>\n<p>right now all it does is sends the blocks position to the chat</p>\n<p>I tried all sort of methods, using chatGBT but nothing worked\nAlso tried googling but couldnt find anything that worked</p>\n"},{"tags":["java","json","spring","jackson","deserialization"],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690322132,"creation_date":1690320210,"question_id":76766593,"body_markdown":"I have a custom Money class and a deserializer for it:\r\n\r\n    public class MoneyDeserializerNullable extends JsonDeserializer&lt;Money&gt; {\r\n        public Money deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            return Money.from(p.getValueAsString());\r\n        }\r\n    \r\n        public Money getNullValue(DeserializationContext ctxt) {\r\n            return Money.NULL;\r\n        }\r\n    }\r\n\r\nI have an input body DTO like that:\r\n\r\n    @JsonInclude\r\n    public class TaxesDTO {\r\n    \r\n        @JsonDeserialize(using = MoneyDeserializerNullable.class)\r\n        private Money value1;\r\n\r\n        @JsonDeserialize(using = MoneyDeserializerNullable.class)\r\n        private Money value2;\r\n\r\n        //getters and setters    \r\n    }\r\n\r\nMy REST endpoint is something like that:\r\n\r\n     @PostMapping(&quot;/taxes&quot;)\r\n     public void postTaxes(@RequestBody @Valid taxesDTO body) {\r\n        // do something with the body\r\n     }\r\n\r\nIf the client post something like this:\r\n\r\n    {\r\n       &quot;value1&quot;: null\r\n    }\r\n\r\nThe body will have value1 = *Money.NULL* but value2 will be *null*. I have no custom ObjectMapper.\r\n\r\nIn this scenario, how can I make *value2* to be converted?\r\n\r\nPS.: I know I can change the getter methods to achieve that but I would like to delegate it to jackson. ","title":"How to consider not informed JSON fields using Jackson JsonDeserializer::getNullValue?","body":"<p>I have a custom Money class and a deserializer for it:</p>\n<pre><code>public class MoneyDeserializerNullable extends JsonDeserializer&lt;Money&gt; {\n    public Money deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        return Money.from(p.getValueAsString());\n    }\n\n    public Money getNullValue(DeserializationContext ctxt) {\n        return Money.NULL;\n    }\n}\n</code></pre>\n<p>I have an input body DTO like that:</p>\n<pre><code>@JsonInclude\npublic class TaxesDTO {\n\n    @JsonDeserialize(using = MoneyDeserializerNullable.class)\n    private Money value1;\n\n    @JsonDeserialize(using = MoneyDeserializerNullable.class)\n    private Money value2;\n\n    //getters and setters    \n}\n</code></pre>\n<p>My REST endpoint is something like that:</p>\n<pre><code> @PostMapping(&quot;/taxes&quot;)\n public void postTaxes(@RequestBody @Valid taxesDTO body) {\n    // do something with the body\n }\n</code></pre>\n<p>If the client post something like this:</p>\n<pre><code>{\n   &quot;value1&quot;: null\n}\n</code></pre>\n<p>The body will have value1 = <em>Money.NULL</em> but value2 will be <em>null</em>. I have no custom ObjectMapper.</p>\n<p>In this scenario, how can I make <em>value2</em> to be converted?</p>\n<p>PS.: I know I can change the getter methods to achieve that but I would like to delegate it to jackson.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1690321895,"post_id":76766685,"comment_id":135336716,"body_markdown":"Wouldn&#39;t it be easier if your `Map` were the right way around?","body":"Wouldn&#39;t it be easier if your <code>Map</code> were the right way around?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690322362,"post_id":76766685,"comment_id":135336786,"body_markdown":"If you get it the right way around, it&#39;s as simple as `list.stream().map(altName -&gt; myMap.getOrDefault(altName, altName)).forEach(System.out::println);`","body":"If you get it the right way around, it&#39;s as simple as <code>list.stream().map(altName -&gt; myMap.getOrDefault(altName, altName)).forEach(System.out::println);</code>"}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690322011,"creation_date":1690322011,"answer_id":76766738,"question_id":76766685,"body_markdown":"Just put the result of `getRealName` in a variable before doing the logic:\r\n\r\n```java\r\nList&lt;String&gt; result = list.stream()\r\n    .map(altName -&gt; {\r\n        var realName = getRealName(altName);\r\n        return realName != null ? realName : altName;\r\n    })\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nIf `getRealName` instead returned an `Optional&lt;String&gt;`, then you could use the `.orElse` method on it:\r\n\r\n```java\r\nList&lt;String&gt; result = list.stream()\r\n    .map(altName -&gt; getRealName(altName).orElse(altName)))\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nBy the way, it looks like you should turn your `Map` around (swap keys and values), because you are only querying it by the value. Maps are much more efficient and ergonomic if you query them by the key. Your `getRealName`-method would just be `map.get(altname)`.","title":"Java stream based on condition create list","body":"<p>Just put the result of <code>getRealName</code> in a variable before doing the logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; result = list.stream()\n    .map(altName -&gt; {\n        var realName = getRealName(altName);\n        return realName != null ? realName : altName;\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<p>If <code>getRealName</code> instead returned an <code>Optional&lt;String&gt;</code>, then you could use the <code>.orElse</code> method on it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; result = list.stream()\n    .map(altName -&gt; getRealName(altName).orElse(altName)))\n    .collect(Collectors.toList());\n</code></pre>\n<p>By the way, it looks like you should turn your <code>Map</code> around (swap keys and values), because you are only querying it by the value. Maps are much more efficient and ergonomic if you query them by the key. Your <code>getRealName</code>-method would just be <code>map.get(altname)</code>.</p>\n"}],"owner":{"account_id":7788252,"reputation":37,"user_id":5892233,"display_name":"AAPJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76766738,"answer_count":1,"score":0,"last_activity_date":1690322011,"creation_date":1690321250,"question_id":76766685,"body_markdown":"Below code returns [Test11, Test33, Test44]. But I want is [Test11, Test2, Test33, Test44]. i.e When realName exists use it, else use the altName.\r\n\r\nThe line which i commented out is giving correct result. But getRealName method is being called twice.\r\nIs there any way to use the stream() to get the desired output that i want without calling the method twice? Please help.\r\n\r\n```\r\npublic class Main {\r\n    private static HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n    public static void main(String[] args) {\r\n        myMap.put(&quot;Test11&quot;, &quot;Test1&quot;);\r\n        myMap.put(&quot;Test33&quot;, &quot;Test3&quot;);\r\n        myMap.put(&quot;Test44&quot;, &quot;Test4&quot;);\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        list.add(&quot;Test1&quot;);\r\n        list.add(&quot;Test2&quot;);\r\n        list.add(&quot;Test3&quot;);\r\n        list.add(&quot;Test4&quot;);\r\n\r\n\r\n        List&lt;String&gt; result = list.stream().map(altName -&gt; getRealName(altName)).\r\n                filter(realName -&gt;  Objects.nonNull(realName)).collect(Collectors.toList());\r\n\r\n       /* List&lt;String&gt; result = list.stream()\r\n                .map(altName -&gt; getRealName(altName)!=null?getRealName(altName):altName)\r\n                .collect(Collectors.toList());*/\r\n\r\n        System.out.println(result);\r\n\r\n    }\r\n\r\n    private static String getRealName(String item) {\r\n        for (Map.Entry&lt;String, String&gt; entry : myMap.entrySet()) {\r\n            if (entry.getValue().equals(item)) {\r\n                return entry.getKey();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```","title":"Java stream based on condition create list","body":"<p>Below code returns [Test11, Test33, Test44]. But I want is [Test11, Test2, Test33, Test44]. i.e When realName exists use it, else use the altName.</p>\n<p>The line which i commented out is giving correct result. But getRealName method is being called twice.\nIs there any way to use the stream() to get the desired output that i want without calling the method twice? Please help.</p>\n<pre><code>public class Main {\n    private static HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\n    public static void main(String[] args) {\n        myMap.put(&quot;Test11&quot;, &quot;Test1&quot;);\n        myMap.put(&quot;Test33&quot;, &quot;Test3&quot;);\n        myMap.put(&quot;Test44&quot;, &quot;Test4&quot;);\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(&quot;Test1&quot;);\n        list.add(&quot;Test2&quot;);\n        list.add(&quot;Test3&quot;);\n        list.add(&quot;Test4&quot;);\n\n\n        List&lt;String&gt; result = list.stream().map(altName -&gt; getRealName(altName)).\n                filter(realName -&gt;  Objects.nonNull(realName)).collect(Collectors.toList());\n\n       /* List&lt;String&gt; result = list.stream()\n                .map(altName -&gt; getRealName(altName)!=null?getRealName(altName):altName)\n                .collect(Collectors.toList());*/\n\n        System.out.println(result);\n\n    }\n\n    private static String getRealName(String item) {\n        for (Map.Entry&lt;String, String&gt; entry : myMap.entrySet()) {\n            if (entry.getValue().equals(item)) {\n                return entry.getKey();\n            }\n        }\n        return null;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","kubernetes","hazelcast"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690289327,"post_id":76762462,"comment_id":135330028,"body_markdown":"Welcome to SO, please check the provided answers and accept them if they address the solution otherwise feel free to leave comment.","body":"Welcome to SO, please check the provided answers and accept them if they address the solution otherwise feel free to leave comment."},{"owner":{"account_id":29087554,"reputation":11,"user_id":22282162,"display_name":"Prateek Goel"},"score":0,"creation_date":1690297000,"post_id":76762462,"comment_id":135331963,"body_markdown":"@Lunatic Edited the above question for the updated logs with Default Kubernetes Config. Also , can u tell me u need to view the deployment config or service config ? –","body":"@Lunatic Edited the above question for the updated logs with Default Kubernetes Config. Also , can u tell me u need to view the deployment config or service config ? –"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690289163,"creation_date":1690289163,"answer_id":76762848,"question_id":76762462,"body_markdown":"Let imagine you don&#39;t have network connectivity problem, so as warning suggests, Hazelcast [client][1] failed to connect to the Kubernetes master API server which can cause from  misconfiguration of Hazelcast client or the Kubernetes cluster.\r\nHere are some work arounds,\r\n\r\n - Try restarting the Hazelcast client and the Kubernetes API server pod `kubectl delete pod &#39;the-pod-name&#39; -n &#39;the-namespace&#39;` which cause a brief interruption in service while the new pod is being created and started. However if you have multiple replicas of the API server pod running, you can use a rolling update strategy to update the pods.(This is mostly happens in my experience)\r\n - Make sure that `ServiceName` and `Namespace` properties are set correctly within Hazelcast client configuration .\r\n - Check the Kubernetes configuration file or possible network connectivity issues.\r\n\r\n\r\n  [1]: https://github.com/hazelcast/hazelcast-kubernetes/blob/master/src/main/java/com/hazelcast/kubernetes/RetryUtils.java","title":"Hazelcast Cluster Not able to Connect to Kubernetes Master","body":"<p>Let imagine you don't have network connectivity problem, so as warning suggests, Hazelcast <a href=\"https://github.com/hazelcast/hazelcast-kubernetes/blob/master/src/main/java/com/hazelcast/kubernetes/RetryUtils.java\" rel=\"nofollow noreferrer\">client</a> failed to connect to the Kubernetes master API server which can cause from  misconfiguration of Hazelcast client or the Kubernetes cluster.\nHere are some work arounds,</p>\n<ul>\n<li>Try restarting the Hazelcast client and the Kubernetes API server pod <code>kubectl delete pod 'the-pod-name' -n 'the-namespace'</code> which cause a brief interruption in service while the new pod is being created and started. However if you have multiple replicas of the API server pod running, you can use a rolling update strategy to update the pods.(This is mostly happens in my experience)</li>\n<li>Make sure that <code>ServiceName</code> and <code>Namespace</code> properties are set correctly within Hazelcast client configuration .</li>\n<li>Check the Kubernetes configuration file or possible network connectivity issues.</li>\n</ul>\n"}],"owner":{"account_id":29087554,"reputation":11,"user_id":22282162,"display_name":"Prateek Goel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690321208,"creation_date":1690286171,"question_id":76762462,"body_markdown":"I have redeployed one of my already working application after AKS upgrade .\r\nNow my pods are not able to communicate amongst each other saying that could not connect to Kubernetes Master . I have tried externalising port 5701 in my service and deployment .\r\nWhat could be the possible cause for this ?\r\n\r\n```2023-07-25 11:40:15.654 | forecast-management-service | main | ERROR | c.w.p.m.i.a.registry.MetricRegistryImpl  |  | MTR-0029: Double registration of metric group named &quot;Default&quot;.\r\n2023-07-25 11:40:15.703 | forecast-management-service | main | ERROR | w.p.i.c.IAMCCMControlsConfigBaseListener |  | Unable to find SCM configuration for IAMEnvControlsConfig, default value for properties will be used and no property will be read from CCM\r\n2023-07-25 11:40:23.593 | forecast-management-service | main | INFO  | com.hazelcast.instance.AddressPicker     |  | [LOCAL] [dev] [3.11.2] Prefer IPv4 stack is true, prefer IPv6 addresses is false\r\n2023-07-25 11:40:23.601 | forecast-management-service | main | INFO  | com.hazelcast.instance.AddressPicker     |  | [LOCAL] [dev] [3.11.2] Picked [10.112.5.51]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true\r\n2023-07-25 11:40:23.642 | forecast-management-service | main | INFO  | com.hazelcast.system                     |  | [10.112.5.51]:5701 [dev] [3.11.2] Hazelcast 3.11.2 (20190216 - e302506) starting at [10.112.5.51]:5701\r\n2023-07-25 11:40:23.643 | forecast-management-service | main | INFO  | com.hazelcast.system                     |  | [10.112.5.51]:5701 [dev] [3.11.2] Copyright (c) 2008-2019, Hazelcast, Inc. All Rights Reserved.\r\n2023-07-25 11:40:23.643 | forecast-management-service | main | INFO  | com.hazelcast.instance.Node              |  | [10.112.5.51]:5701 [dev] [3.11.2] A non-empty group password is configured for the Hazelcast member. Starting with Hazelcast version 3.8.2, members with the same group name, but with different group passwords (that do not use authentication) form a cluster. The group password configuration will be removed completely in a future release.\r\n2023-07-25 11:40:24.218 | forecast-management-service | main | INFO  | c.h.s.i.o.impl.BackpressureRegulator     |  | [10.112.5.51]:5701 [dev] [3.11.2] Backpressure is disabled\r\n2023-07-25 11:40:25.203 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.51]:5701 [dev] [3.11.2] Kubernetes Discovery properties: { service-dns: null, service-dns-timeout: 5, service-name: forecast-mgmt, service-port: 5701, service-label: null, service-label-value: true, namespace: qa-forecast-mgmt, resolve-not-ready-addresses: false, kubernetes-master: https://kubernetes.default.svc}\r\n2023-07-25 11:40:25.210 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.51]:5701 [dev] [3.11.2] Kubernetes Discovery activated resolver: KubernetesApiEndpointResolver\r\n2023-07-25 11:40:25.341 | forecast-management-service | main | INFO  | com.hazelcast.instance.Node              |  | [10.112.5.51]:5701 [dev] [3.11.2] Activating Discovery SPI Joiner\r\n2023-07-25 11:40:25.693 | forecast-management-service | main | INFO  | c.h.s.i.o.impl.OperationExecutorImpl     |  | [10.112.5.51]:5701 [dev] [3.11.2] Starting 7 partition threads and 4 generic threads (1 dedicated for priority tasks)\r\n2023-07-25 11:40:25.703 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.Diagnostics     |  | [10.112.5.51]:5701 [dev] [3.11.2] Diagnostics started\r\n2023-07-25 11:40:25.704 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.BuildInfoPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active\r\n2023-07-25 11:40:25.704 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SystemPropertiesPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active\r\n2023-07-25 11:40:25.705 | forecast-management-service | main | INFO  | c.h.i.diagnostics.ConfigPropertiesPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active\r\n2023-07-25 11:40:25.709 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.MetricsPlugin   |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\r\n2023-07-25 11:40:25.711 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SlowOperationPlugin    |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\r\n2023-07-25 11:40:25.712 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\r\n2023-07-25 11:40:25.713 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.SystemLogPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active: logPartitions:false\r\n2023-07-25 11:40:25.718 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:10000\r\n2023-07-25 11:40:25.718 | forecast-management-service | main | INFO  | c.h.i.d.OperationHeartbeatPlugin         |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active: period-millis:10000 max-deviation:33%\r\n2023-07-25 11:40:25.722 | forecast-management-service | main | INFO  | com.hazelcast.core.LifecycleService      |  | [10.112.5.51]:5701 [dev] [3.11.2] [10.112.5.51]:5701 is STARTING\r\n2023-07-25 11:40:25.756 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [1] retrying in 1 seconds...\r\n2023-07-25 11:40:27.262 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [2] retrying in 2 seconds...\r\n2023-07-25 11:40:29.519 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [3] retrying in 3 seconds...\r\n2023-07-25 11:40:32.899 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [4] retrying in 5 seconds...\r\n2023-07-25 11:40:32.995 | forecast-management-service | hz.jobEngine-hazelcast-kubernetes.IO.thread-in-0 | INFO  | com.hazelcast.nio.tcp.TcpIpConnection    |  | [10.112.5.51]:5701 [dev] [3.11.2] Connection[id=1, /10.112.5.51:5701-&gt;/10.112.4.237:44935, endpoint=null, alive=false, type=NONE] closed. Reason: Connection closed by the other side\r\n2023-07-25 11:40:37.967 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [5] retrying in 7 seconds...\r\n2023-07-25 11:40:43.236 | forecast-management-service | hz.jobEngine-hazelcast-kubernetes.IO.thread-in-1 | INFO  | com.hazelcast.nio.tcp.TcpIpConnection    |  | [10.112.5.51]:5701 [dev] [3.11.2] Connection[id=2, /10.112.5.51:5701-&gt;/10.112.4.208:32261, endpoint=null, alive=false, type=NONE] closed. Reason: Connection closed by the other side\r\n```\r\n\r\n**EDIT 1:**\r\n\r\nAfter removing the port Externalising tag , The Logs for default Kubernetes Behaviour is added below. It says some WARNING related to Zone Aware . \r\nRecently we had changed the Git Repo of the Project but ```ServiceName``` and ```Namespace``` are correctly mapped .\r\n\r\n```2023-07-25 13:20:43.215 | forecast-management-service | main | INFO  | c.h.s.i.o.impl.BackpressureRegulator     |  | [10.112.5.131]:5701 [dev] [3.11.2] Backpressure is disabled\r\n2023-07-25 13:20:44.153 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.131]:5701 [dev] [3.11.2] Kubernetes Discovery properties: { service-dns: null, service-dns-timeout: 5, service-name: forecast-mgmt, service-port: 5701, service-label: null, service-label-value: true, namespace: qa-forecast-mgmt, resolve-not-ready-addresses: false, kubernetes-master: https://kubernetes.default.svc}\r\n2023-07-25 13:20:44.160 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.131]:5701 [dev] [3.11.2] Kubernetes Discovery activated resolver: KubernetesApiEndpointResolver\r\n2023-07-25 13:20:44.281 | forecast-management-service | main | INFO  | com.hazelcast.instance.Node              |  | [10.112.5.131]:5701 [dev] [3.11.2] Activating Discovery SPI Joiner\r\n2023-07-25 13:20:44.618 | forecast-management-service | main | INFO  | c.h.s.i.o.impl.OperationExecutorImpl     |  | [10.112.5.131]:5701 [dev] [3.11.2] Starting 7 partition threads and 4 generic threads (1 dedicated for priority tasks)\r\n2023-07-25 13:20:44.629 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.Diagnostics     |  | [10.112.5.131]:5701 [dev] [3.11.2] Diagnostics started\r\n2023-07-25 13:20:44.630 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.BuildInfoPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active\r\n2023-07-25 13:20:44.631 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SystemPropertiesPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active\r\n2023-07-25 13:20:44.631 | forecast-management-service | main | INFO  | c.h.i.diagnostics.ConfigPropertiesPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active\r\n2023-07-25 13:20:44.634 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.MetricsPlugin   |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\r\n2023-07-25 13:20:44.636 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SlowOperationPlugin    |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\r\n2023-07-25 13:20:44.636 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\r\n2023-07-25 13:20:44.638 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.SystemLogPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active: logPartitions:false\r\n2023-07-25 13:20:44.643 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:10000\r\n2023-07-25 13:20:44.643 | forecast-management-service | main | INFO  | c.h.i.d.OperationHeartbeatPlugin         |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active: period-millis:10000 max-deviation:33%\r\n2023-07-25 13:20:44.646 | forecast-management-service | main | INFO  | com.hazelcast.core.LifecycleService      |  | [10.112.5.131]:5701 [dev] [3.11.2] [10.112.5.131]:5701 is STARTING\r\n2023-07-25 13:20:44.679 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [1] retrying in 1 seconds...\r\n2023-07-25 13:20:46.184 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [2] retrying in 2 seconds...\r\n2023-07-25 13:20:48.443 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [3] retrying in 3 seconds...\r\n2023-07-25 13:20:51.823 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [4] retrying in 5 seconds...\r\n2023-07-25 13:20:56.893 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [5] retrying in 7 seconds...\r\n2023-07-25 13:21:04.492 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [6] retrying in 11 seconds...\r\n2023-07-25 13:21:15.890 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [7] retrying in 17 seconds...\r\n2023-07-25 13:21:32.978 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [8] retrying in 25 seconds...\r\n2023-07-25 13:21:58.610 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [9] retrying in 38 seconds...\r\n2023-07-25 13:22:37.056 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [10] retrying in 57 seconds...\r\n2023-07-25 13:23:34.725 | forecast-management-service | main | WARN  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.131]:5701 [dev] [3.11.2] Cannot fetch the current zone, ZONE_AWARE feature is disabled\r\n2023-07-25 13:23:34.733 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn&#39;t connect to the Kubernetes master, [1] retrying in 1 seconds...```","title":"Hazelcast Cluster Not able to Connect to Kubernetes Master","body":"<p>I have redeployed one of my already working application after AKS upgrade .\nNow my pods are not able to communicate amongst each other saying that could not connect to Kubernetes Master . I have tried externalising port 5701 in my service and deployment .\nWhat could be the possible cause for this ?</p>\n<pre><code>2023-07-25 11:40:15.703 | forecast-management-service | main | ERROR | w.p.i.c.IAMCCMControlsConfigBaseListener |  | Unable to find SCM configuration for IAMEnvControlsConfig, default value for properties will be used and no property will be read from CCM\n2023-07-25 11:40:23.593 | forecast-management-service | main | INFO  | com.hazelcast.instance.AddressPicker     |  | [LOCAL] [dev] [3.11.2] Prefer IPv4 stack is true, prefer IPv6 addresses is false\n2023-07-25 11:40:23.601 | forecast-management-service | main | INFO  | com.hazelcast.instance.AddressPicker     |  | [LOCAL] [dev] [3.11.2] Picked [10.112.5.51]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true\n2023-07-25 11:40:23.642 | forecast-management-service | main | INFO  | com.hazelcast.system                     |  | [10.112.5.51]:5701 [dev] [3.11.2] Hazelcast 3.11.2 (20190216 - e302506) starting at [10.112.5.51]:5701\n2023-07-25 11:40:23.643 | forecast-management-service | main | INFO  | com.hazelcast.system                     |  | [10.112.5.51]:5701 [dev] [3.11.2] Copyright (c) 2008-2019, Hazelcast, Inc. All Rights Reserved.\n2023-07-25 11:40:23.643 | forecast-management-service | main | INFO  | com.hazelcast.instance.Node              |  | [10.112.5.51]:5701 [dev] [3.11.2] A non-empty group password is configured for the Hazelcast member. Starting with Hazelcast version 3.8.2, members with the same group name, but with different group passwords (that do not use authentication) form a cluster. The group password configuration will be removed completely in a future release.\n2023-07-25 11:40:24.218 | forecast-management-service | main | INFO  | c.h.s.i.o.impl.BackpressureRegulator     |  | [10.112.5.51]:5701 [dev] [3.11.2] Backpressure is disabled\n2023-07-25 11:40:25.203 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.51]:5701 [dev] [3.11.2] Kubernetes Discovery properties: { service-dns: null, service-dns-timeout: 5, service-name: forecast-mgmt, service-port: 5701, service-label: null, service-label-value: true, namespace: qa-forecast-mgmt, resolve-not-ready-addresses: false, kubernetes-master: https://kubernetes.default.svc}\n2023-07-25 11:40:25.210 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.51]:5701 [dev] [3.11.2] Kubernetes Discovery activated resolver: KubernetesApiEndpointResolver\n2023-07-25 11:40:25.341 | forecast-management-service | main | INFO  | com.hazelcast.instance.Node              |  | [10.112.5.51]:5701 [dev] [3.11.2] Activating Discovery SPI Joiner\n2023-07-25 11:40:25.693 | forecast-management-service | main | INFO  | c.h.s.i.o.impl.OperationExecutorImpl     |  | [10.112.5.51]:5701 [dev] [3.11.2] Starting 7 partition threads and 4 generic threads (1 dedicated for priority tasks)\n2023-07-25 11:40:25.703 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.Diagnostics     |  | [10.112.5.51]:5701 [dev] [3.11.2] Diagnostics started\n2023-07-25 11:40:25.704 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.BuildInfoPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active\n2023-07-25 11:40:25.704 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SystemPropertiesPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active\n2023-07-25 11:40:25.705 | forecast-management-service | main | INFO  | c.h.i.diagnostics.ConfigPropertiesPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active\n2023-07-25 11:40:25.709 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.MetricsPlugin   |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\n2023-07-25 11:40:25.711 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SlowOperationPlugin    |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\n2023-07-25 11:40:25.712 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\n2023-07-25 11:40:25.713 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.SystemLogPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active: logPartitions:false\n2023-07-25 11:40:25.718 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active, period-millis:10000\n2023-07-25 11:40:25.718 | forecast-management-service | main | INFO  | c.h.i.d.OperationHeartbeatPlugin         |  | [10.112.5.51]:5701 [dev] [3.11.2] Plugin:active: period-millis:10000 max-deviation:33%\n2023-07-25 11:40:25.722 | forecast-management-service | main | INFO  | com.hazelcast.core.LifecycleService      |  | [10.112.5.51]:5701 [dev] [3.11.2] [10.112.5.51]:5701 is STARTING\n2023-07-25 11:40:25.756 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [1] retrying in 1 seconds...\n2023-07-25 11:40:27.262 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [2] retrying in 2 seconds...\n2023-07-25 11:40:29.519 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [3] retrying in 3 seconds...\n2023-07-25 11:40:32.899 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [4] retrying in 5 seconds...\n2023-07-25 11:40:32.995 | forecast-management-service | hz.jobEngine-hazelcast-kubernetes.IO.thread-in-0 | INFO  | com.hazelcast.nio.tcp.TcpIpConnection    |  | [10.112.5.51]:5701 [dev] [3.11.2] Connection[id=1, /10.112.5.51:5701-&gt;/10.112.4.237:44935, endpoint=null, alive=false, type=NONE] closed. Reason: Connection closed by the other side\n2023-07-25 11:40:37.967 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [5] retrying in 7 seconds...\n2023-07-25 11:40:43.236 | forecast-management-service | hz.jobEngine-hazelcast-kubernetes.IO.thread-in-1 | INFO  | com.hazelcast.nio.tcp.TcpIpConnection    |  | [10.112.5.51]:5701 [dev] [3.11.2] Connection[id=2, /10.112.5.51:5701-&gt;/10.112.4.208:32261, endpoint=null, alive=false, type=NONE] closed. Reason: Connection closed by the other side\n</code></pre>\n<p><strong>EDIT 1:</strong></p>\n<p>After removing the port Externalising tag , The Logs for default Kubernetes Behaviour is added below. It says some WARNING related to Zone Aware .\nRecently we had changed the Git Repo of the Project but <code>ServiceName</code> and <code>Namespace</code> are correctly mapped .</p>\n<pre><code>2023-07-25 13:20:44.153 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.131]:5701 [dev] [3.11.2] Kubernetes Discovery properties: { service-dns: null, service-dns-timeout: 5, service-name: forecast-mgmt, service-port: 5701, service-label: null, service-label-value: true, namespace: qa-forecast-mgmt, resolve-not-ready-addresses: false, kubernetes-master: https://kubernetes.default.svc}\n2023-07-25 13:20:44.160 | forecast-management-service | main | INFO  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.131]:5701 [dev] [3.11.2] Kubernetes Discovery activated resolver: KubernetesApiEndpointResolver\n2023-07-25 13:20:44.281 | forecast-management-service | main | INFO  | com.hazelcast.instance.Node              |  | [10.112.5.131]:5701 [dev] [3.11.2] Activating Discovery SPI Joiner\n2023-07-25 13:20:44.618 | forecast-management-service | main | INFO  | c.h.s.i.o.impl.OperationExecutorImpl     |  | [10.112.5.131]:5701 [dev] [3.11.2] Starting 7 partition threads and 4 generic threads (1 dedicated for priority tasks)\n2023-07-25 13:20:44.629 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.Diagnostics     |  | [10.112.5.131]:5701 [dev] [3.11.2] Diagnostics started\n2023-07-25 13:20:44.630 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.BuildInfoPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active\n2023-07-25 13:20:44.631 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SystemPropertiesPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active\n2023-07-25 13:20:44.631 | forecast-management-service | main | INFO  | c.h.i.diagnostics.ConfigPropertiesPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active\n2023-07-25 13:20:44.634 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.MetricsPlugin   |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\n2023-07-25 13:20:44.636 | forecast-management-service | main | INFO  | c.h.i.diagnostics.SlowOperationPlugin    |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\n2023-07-25 13:20:44.636 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:60000\n2023-07-25 13:20:44.638 | forecast-management-service | main | INFO  | c.h.internal.diagnostics.SystemLogPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active: logPartitions:false\n2023-07-25 13:20:44.643 | forecast-management-service | main | INFO  | .h.i.d.MemberHazelcastInstanceInfoPlugin |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active, period-millis:10000\n2023-07-25 13:20:44.643 | forecast-management-service | main | INFO  | c.h.i.d.OperationHeartbeatPlugin         |  | [10.112.5.131]:5701 [dev] [3.11.2] Plugin:active: period-millis:10000 max-deviation:33%\n2023-07-25 13:20:44.646 | forecast-management-service | main | INFO  | com.hazelcast.core.LifecycleService      |  | [10.112.5.131]:5701 [dev] [3.11.2] [10.112.5.131]:5701 is STARTING\n2023-07-25 13:20:44.679 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [1] retrying in 1 seconds...\n2023-07-25 13:20:46.184 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [2] retrying in 2 seconds...\n2023-07-25 13:20:48.443 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [3] retrying in 3 seconds...\n2023-07-25 13:20:51.823 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [4] retrying in 5 seconds...\n2023-07-25 13:20:56.893 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [5] retrying in 7 seconds...\n2023-07-25 13:21:04.492 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [6] retrying in 11 seconds...\n2023-07-25 13:21:15.890 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [7] retrying in 17 seconds...\n2023-07-25 13:21:32.978 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [8] retrying in 25 seconds...\n2023-07-25 13:21:58.610 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [9] retrying in 38 seconds...\n2023-07-25 13:22:37.056 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [10] retrying in 57 seconds...\n2023-07-25 13:23:34.725 | forecast-management-service | main | WARN  | c.h.s.d.integration.DiscoveryService     |  | [10.112.5.131]:5701 [dev] [3.11.2] Cannot fetch the current zone, ZONE_AWARE feature is disabled\n2023-07-25 13:23:34.733 | forecast-management-service | main | WARN  | com.hazelcast.kubernetes.RetryUtils      |  | Couldn't connect to the Kubernetes master, [1] retrying in 1 seconds...```\n</code></pre>\n"},{"tags":["java","unit-testing","gis"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690338740,"post_id":76766600,"comment_id":135338183,"body_markdown":"Just use two fixed points, [45 S, 90 W] to [45 N, 90 E], Google says _15,882 km_.  _https://www.google.com/search?q=distance+from+45+S+90+W+to+45+N+90+E_","body":"Just use two fixed points, [45 S, 90 W] to [45 N, 90 E], Google says <i>15,882 km</i>.  <i><a href=\"https://www.google.com/search?q=distance+from+45+S+90+W+to+45+N+90+E\" rel=\"nofollow noreferrer\">google.com/search?q=distance+from+45+S+90+W+to+45+N+90+E</a></i>"},{"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"score":0,"creation_date":1697736100,"post_id":76766600,"comment_id":136320455,"body_markdown":"@Relias, doesn&#39;t that beg the question of how Google knows their calculation is correct?","body":"@Relias, doesn&#39;t that beg the question of how Google knows their calculation is correct?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697736544,"post_id":76766600,"comment_id":136320551,"body_markdown":"They&#39;re a part of a conglomerate, so through the use of _satellites_ and _[lidar](https://en.wikipedia.org/wiki/Lidar)_.  There is a newer type of _lidar_ also; the name escapes me.  And, their GPS is super accurate.  I trust it, the precision is about 50 meters, at the most.","body":"They&#39;re a part of a conglomerate, so through the use of <i>satellites</i> and <i><a href=\"https://en.wikipedia.org/wiki/Lidar\" rel=\"nofollow noreferrer\">lidar</a></i>.  There is a newer type of <i>lidar</i> also; the name escapes me.  And, their GPS is super accurate.  I trust it, the precision is about 50 meters, at the most."},{"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"score":0,"creation_date":1697738488,"post_id":76766600,"comment_id":136320886,"body_markdown":"@Relias, very insightful!  I appreciate that.  I did, ultimately, use this technique as a means to approximate accuracy.","body":"@Relias, very insightful!  I appreciate that.  I did, ultimately, use this technique as a means to approximate accuracy."}],"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690320255,"creation_date":1690320255,"question_id":76766600,"body_markdown":"I am writing unit tests that test if my geodesic calculations are correct.\r\n\r\nIs there any absolute values I can input to test if my bearing and range calculations are correct.  In other words, is there a set of two coordinates that we *know* the distance between and the bearing from Point A to Point B?  \r\n\r\nI have not been able to find some kind of industry-standard values in my research.","title":"Are there any absolute values I can use for unit testing geodesic calculations?","body":"<p>I am writing unit tests that test if my geodesic calculations are correct.</p>\n<p>Is there any absolute values I can input to test if my bearing and range calculations are correct.  In other words, is there a set of two coordinates that we <em>know</em> the distance between and the bearing from Point A to Point B?</p>\n<p>I have not been able to find some kind of industry-standard values in my research.</p>\n"},{"tags":["java","selenium-webdriver","cucumber"],"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690320113,"creation_date":1690320113,"question_id":76766590,"body_markdown":"I have problem i need to have disabled images for first step in option like this.. it is in before tag:\r\n\r\n        options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;);\r\n\r\nIs it possible to enable it after first step is executed?\r\nI have cucumber java test framework.\r\nSomething like adding to step def.\r\n\r\n        options.addArguments(&quot;--blink-settings=imagesEnabled=true&quot;);\r\n\r\nThanks for every advice.\r\n","title":"Is it possible in selenium enable images after certain step? If in before class is disabled","body":"<p>I have problem i need to have disabled images for first step in option like this.. it is in before tag:</p>\n<pre><code>    options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;);\n</code></pre>\n<p>Is it possible to enable it after first step is executed?\nI have cucumber java test framework.\nSomething like adding to step def.</p>\n<pre><code>    options.addArguments(&quot;--blink-settings=imagesEnabled=true&quot;);\n</code></pre>\n<p>Thanks for every advice.</p>\n"},{"tags":["java","maven","maven-site-plugin"],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690319526,"creation_date":1690319526,"answer_id":76766539,"question_id":76765750,"body_markdown":"Mentioned documentation is out of date - should be updated (thanks for point).\r\n\r\n\r\nReporting was removed from `maven-plugin-plugin` in version 3.9.0 - [MPLUGIN-467][1]  \r\nnow is dedicated reporting plugin - `maven-plugin-report-plugin`.\r\n\r\nSo please use:\r\n\r\n```\r\n&lt;reporting&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-plugin-report-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/reporting&gt;\r\n```\r\n\r\n\r\n\r\nReferences:\r\n - https://maven.apache.org/plugin-tools/maven-plugin-report-plugin/examples/generate-report.html\r\n\r\n  [1]: https://issues.apache.org/jira/browse/MPLUGIN-467","title":"plugin-info.html file not being generated when running Maven site","body":"<p>Mentioned documentation is out of date - should be updated (thanks for point).</p>\n<p>Reporting was removed from <code>maven-plugin-plugin</code> in version 3.9.0 - <a href=\"https://issues.apache.org/jira/browse/MPLUGIN-467\" rel=\"nofollow noreferrer\">MPLUGIN-467</a><br />\nnow is dedicated reporting plugin - <code>maven-plugin-report-plugin</code>.</p>\n<p>So please use:</p>\n<pre><code>&lt;reporting&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-report-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.9.0&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/reporting&gt;\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugin-tools/maven-plugin-report-plugin/examples/generate-report.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugin-tools/maven-plugin-report-plugin/examples/generate-report.html</a></li>\n</ul>\n"}],"owner":{"account_id":29082932,"reputation":35,"user_id":22278526,"display_name":"Mike Solomon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76766539,"answer_count":1,"score":2,"last_activity_date":1690319526,"creation_date":1690311338,"question_id":76765750,"body_markdown":"I have a custom Maven plugin that has a few goals/Mojos in it that I&#39;d like to generate documentation for. According to the [Maven guide to plugin documentation](https://maven.apache.org/guides/development/guide-plugin-documentation.html#navigation-links), I am supposed to use the Maven plugin plugin in combination with the Maven site plugin to generate a `plugin-info.html` file that contains information about my goals.\r\n\r\nUnfortunately, I can&#39;t seem to generate this file. I _can_ generate a site, it just doesn&#39;t contain information about my goals/Mojos.\r\n\r\n[As the guide suggested](https://maven.apache.org/guides/development/guide-plugin-documentation.html#plugin-configuration-parameters), I updated my `pom.xml` file to include the Maven plugin plugin in the reporting section:\r\n\r\n```xml\r\n&lt;reporting&gt;\r\n    &lt;plugins&gt;\r\n        ...\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/reporting&gt;\r\n```\r\n\r\nI also have this plugin along with the site plugin in my `&lt;build&gt;/&lt;plugins&gt;` section:\r\n\r\n```xml\r\n&lt;build&gt;\r\n    ...\r\n    &lt;plugins&gt;\r\n        ...\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                   &lt;id&gt;generate-helpmojo&lt;/id&gt;\r\n                   &lt;goals&gt;\r\n                       &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n                   &lt;/goals&gt;\r\n               &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt; \r\n    &lt;plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nWhen I run `mvn clean site` or `mvn site:site`, a `target/site` directory is generated with various files in it:\r\n[![target/site directory](https://i.stack.imgur.com/HqENM.png)](https://i.stack.imgur.com/HqENM.png)\r\n \r\nI expected to see a `plugin-info.html` file in there that includes information on my goals such as their names and descriptions. Unfortunately, I don&#39;t see that file anywhere.\r\n\r\nI&#39;m pretty sure I&#39;ve set up my goals/Mojos correctly. Here&#39;s an example of one of them:\r\n\r\n```java\r\n/**\r\n * Run the configured recipes and apply the changes locally.\r\n * &lt;p&gt;\r\n * This variant of rewrite:run will fork the maven life cycle and can be run as a &quot;stand-alone&quot; goal. It will\r\n * execute the maven build up to the process-test-classes phase.\r\n */\r\n@Mojo(name = &quot;run&quot;, requiresDependencyResolution = ResolutionScope.TEST, threadSafe = true,\r\n        defaultPhase = LifecyclePhase.PROCESS_TEST_CLASSES)\r\n@Execute(phase = LifecyclePhase.PROCESS_TEST_CLASSES)\r\npublic class RewriteRunMojo extends AbstractRewriteRunMojo {\r\n}\r\n```\r\n\r\nWhen I run `mvn process-classes`, I correctly get a `target/classes/META-INF/maven/.../plugin-help.xml` file that includes the information about my goals:\r\n\r\n```xml\r\n...\r\n&lt;mojo&gt;\r\n  &lt;goal&gt;run&lt;/goal&gt;\r\n  &lt;description&gt;Run the configured recipes and apply the changes locally. \r\nThis variant of rewrite:run will fork the maven life cycle and can be run as a stand-alone goal. It will execute the maven build up to the process-test-classes phase.\r\n  &lt;/description&gt;\r\n  ...\r\n&lt;/mojo&gt;\r\n```\r\n\r\nYet, that information doesn&#39;t seem to get used by the Maven site plugin.\r\n\r\nIs there some command or configuration I&#39;m missing to generate documentation for my goals? Is there any other information I can provide that&#39;s relevant to this question?\r\n\r\nThanks for your time!","title":"plugin-info.html file not being generated when running Maven site","body":"<p>I have a custom Maven plugin that has a few goals/Mojos in it that I'd like to generate documentation for. According to the <a href=\"https://maven.apache.org/guides/development/guide-plugin-documentation.html#navigation-links\" rel=\"nofollow noreferrer\">Maven guide to plugin documentation</a>, I am supposed to use the Maven plugin plugin in combination with the Maven site plugin to generate a <code>plugin-info.html</code> file that contains information about my goals.</p>\n<p>Unfortunately, I can't seem to generate this file. I <em>can</em> generate a site, it just doesn't contain information about my goals/Mojos.</p>\n<p><a href=\"https://maven.apache.org/guides/development/guide-plugin-documentation.html#plugin-configuration-parameters\" rel=\"nofollow noreferrer\">As the guide suggested</a>, I updated my <code>pom.xml</code> file to include the Maven plugin plugin in the reporting section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;reporting&gt;\n    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p>I also have this plugin along with the site plugin in my <code>&lt;build&gt;/&lt;plugins&gt;</code> section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    ...\n    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.12.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                   &lt;id&gt;generate-helpmojo&lt;/id&gt;\n                   &lt;goals&gt;\n                       &lt;goal&gt;helpmojo&lt;/goal&gt;\n                   &lt;/goals&gt;\n               &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt; \n    &lt;plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>When I run <code>mvn clean site</code> or <code>mvn site:site</code>, a <code>target/site</code> directory is generated with various files in it:\n<a href=\"https://i.stack.imgur.com/HqENM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HqENM.png\" alt=\"target/site directory\" /></a></p>\n<p>I expected to see a <code>plugin-info.html</code> file in there that includes information on my goals such as their names and descriptions. Unfortunately, I don't see that file anywhere.</p>\n<p>I'm pretty sure I've set up my goals/Mojos correctly. Here's an example of one of them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Run the configured recipes and apply the changes locally.\n * &lt;p&gt;\n * This variant of rewrite:run will fork the maven life cycle and can be run as a &quot;stand-alone&quot; goal. It will\n * execute the maven build up to the process-test-classes phase.\n */\n@Mojo(name = &quot;run&quot;, requiresDependencyResolution = ResolutionScope.TEST, threadSafe = true,\n        defaultPhase = LifecyclePhase.PROCESS_TEST_CLASSES)\n@Execute(phase = LifecyclePhase.PROCESS_TEST_CLASSES)\npublic class RewriteRunMojo extends AbstractRewriteRunMojo {\n}\n</code></pre>\n<p>When I run <code>mvn process-classes</code>, I correctly get a <code>target/classes/META-INF/maven/.../plugin-help.xml</code> file that includes the information about my goals:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;mojo&gt;\n  &lt;goal&gt;run&lt;/goal&gt;\n  &lt;description&gt;Run the configured recipes and apply the changes locally. \nThis variant of rewrite:run will fork the maven life cycle and can be run as a stand-alone goal. It will execute the maven build up to the process-test-classes phase.\n  &lt;/description&gt;\n  ...\n&lt;/mojo&gt;\n</code></pre>\n<p>Yet, that information doesn't seem to get used by the Maven site plugin.</p>\n<p>Is there some command or configuration I'm missing to generate documentation for my goals? Is there any other information I can provide that's relevant to this question?</p>\n<p>Thanks for your time!</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11122988,"reputation":473,"user_id":8165349,"display_name":"Paul Pazderski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690318914,"creation_date":1690318914,"answer_id":76766497,"question_id":76764044,"body_markdown":"You need to differentiate between the Maven parts and the Java parts. \r\n\r\n`groupId` and `artifactId` are Maven specific parts.\r\n\r\nThe `import` is Java and your `Util` class has no [package][1].\r\nA class package represents the directory tree a source file is placed in. For Maven by convention places the main source in `src/main/java`. That is your source root. And that is where your `Util.java` is placed. It is not in a subdirectory therefore it has no package.\r\n\r\nIf you had your `Util` class for example in `src/main/java/my/proj/lib/Util.java` it would be in the Java package `my.proj.lib` and you could import it with `import my.proj.lib.Util;`\r\n\r\nRegards naming conflicts: I&#39;m not entirely sure what you mean by that but it is common (but not required by any mean) to start package names with the reversed domain name of the project. E.g. if the project homepage would be https://my-awsome-project.com all packages could start with `com.my-awsome-project.*`.\r\n\r\nSame conventions exist for Maven where the `groupId` is usually the reversed domain name of the owning project. Since domain names are kinda unique this prevents most naming conflicts.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_package?useskin=vector","title":"importing from maven sibling modules","body":"<p>You need to differentiate between the Maven parts and the Java parts.</p>\n<p><code>groupId</code> and <code>artifactId</code> are Maven specific parts.</p>\n<p>The <code>import</code> is Java and your <code>Util</code> class has no <a href=\"https://en.wikipedia.org/wiki/Java_package?useskin=vector\" rel=\"nofollow noreferrer\">package</a>.\nA class package represents the directory tree a source file is placed in. For Maven by convention places the main source in <code>src/main/java</code>. That is your source root. And that is where your <code>Util.java</code> is placed. It is not in a subdirectory therefore it has no package.</p>\n<p>If you had your <code>Util</code> class for example in <code>src/main/java/my/proj/lib/Util.java</code> it would be in the Java package <code>my.proj.lib</code> and you could import it with <code>import my.proj.lib.Util;</code></p>\n<p>Regards naming conflicts: I'm not entirely sure what you mean by that but it is common (but not required by any mean) to start package names with the reversed domain name of the project. E.g. if the project homepage would be <a href=\"https://my-awsome-project.com\" rel=\"nofollow noreferrer\">https://my-awsome-project.com</a> all packages could start with <code>com.my-awsome-project.*</code>.</p>\n<p>Same conventions exist for Maven where the <code>groupId</code> is usually the reversed domain name of the owning project. Since domain names are kinda unique this prevents most naming conflicts.</p>\n"}],"owner":{"account_id":14117115,"reputation":400,"user_id":10198627,"display_name":"a.ilchinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76766497,"answer_count":1,"score":0,"last_activity_date":1690318914,"creation_date":1690297500,"question_id":76764044,"body_markdown":"The project structure is as follows:\r\n\r\n    /proj-root\r\n       /proj-lib\r\n       /proj-cli\r\n`proj-root` defines the `proj-lib` and `proj-cli` projects as its (maven) modules. It has `pom` packaging while the other two have `jar` packaging. I added a dependency on `proj-lib` in `proj-cli/pom.xml`\r\n\r\nUsing the IntelliJ IDE I can import my project without any issues. Building and running works fine both inside the IDE as well as when running the `mvn` command from a terminal.\r\n\r\nHowever, I am missing `import` statements in `proj-cli`.\r\n\r\nImagine a class `Util` in `proj-lib/src/main/java/Util.java`. Without ever importing it (explicitly) I can use this class inside `proj-cli/src/main/java/Main.java`. Trying to manually import the class with `import groupId.artifactId.Util;` fails because this path cannot be resolved.\r\n\r\nWhile many imports can be tedious, I actually like seeing all the stuff coming from elsewhere, including sibling modules. So my question is - is this implicit import intended? How could I explicitly import it? And while I didn&#39;t got to this point yet, what if I have to fully qualify artifact and group ID of such an import to avoid naming conflicts?","title":"importing from maven sibling modules","body":"<p>The project structure is as follows:</p>\n<pre><code>/proj-root\n   /proj-lib\n   /proj-cli\n</code></pre>\n<p><code>proj-root</code> defines the <code>proj-lib</code> and <code>proj-cli</code> projects as its (maven) modules. It has <code>pom</code> packaging while the other two have <code>jar</code> packaging. I added a dependency on <code>proj-lib</code> in <code>proj-cli/pom.xml</code></p>\n<p>Using the IntelliJ IDE I can import my project without any issues. Building and running works fine both inside the IDE as well as when running the <code>mvn</code> command from a terminal.</p>\n<p>However, I am missing <code>import</code> statements in <code>proj-cli</code>.</p>\n<p>Imagine a class <code>Util</code> in <code>proj-lib/src/main/java/Util.java</code>. Without ever importing it (explicitly) I can use this class inside <code>proj-cli/src/main/java/Main.java</code>. Trying to manually import the class with <code>import groupId.artifactId.Util;</code> fails because this path cannot be resolved.</p>\n<p>While many imports can be tedious, I actually like seeing all the stuff coming from elsewhere, including sibling modules. So my question is - is this implicit import intended? How could I explicitly import it? And while I didn't got to this point yet, what if I have to fully qualify artifact and group ID of such an import to avoid naming conflicts?</p>\n"},{"tags":["java","newline"],"comments":[{"owner":{"account_id":2057319,"reputation":4151,"user_id":1834700,"accept_rate":83,"display_name":"Rong Nguyen"},"score":1,"creation_date":1373603202,"post_id":17607334,"comment_id":25628170,"body_markdown":"This is the 444555 Java&#39;s question, you&#39;re welcome :-)","body":"This is the 444555 Java&#39;s question, you&#39;re welcome :-)"}],"answers":[{"tags":[],"owner":{"account_id":1280854,"reputation":1419,"user_id":1234970,"accept_rate":100,"display_name":"Chase"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1373603365,"creation_date":1373602763,"answer_id":17607372,"question_id":17607334,"body_markdown":"You will want to read all the data from the stream.\r\n\r\n    InputStream stream = geoLocRetriever.openStream();\r\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    if (stream != null) try {\r\n        final BufferedInputStream input = new BufferedInputStream(stream);\r\n        final byte[] reader = new byte[16384];\r\n        int r = 0;\r\n        while ((r = input.read(reader, 0, 16384)) != -1)\r\n            buffer.write(reader, 0, r);\r\n        buffer.flush();\r\n    } catch(IOException e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        if(stream != null) try {\r\n            stream.close();\r\n        } catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\nConvert that to a string.\r\n\r\n    locHolder = new String(buffer.toByteArray());\r\n    \r\nYou can then split the lines using `String.split`.\r\n\r\n    String[] lines = locHolder.split(&quot;\\n&quot;);\r\n\r\nUsing that you can then read the lines individually.","title":"How to fetch data from API given in Newline","body":"<p>You will want to read all the data from the stream.</p>\n\n<pre><code>InputStream stream = geoLocRetriever.openStream();\nByteArrayOutputStream buffer = new ByteArrayOutputStream();\nif (stream != null) try {\n    final BufferedInputStream input = new BufferedInputStream(stream);\n    final byte[] reader = new byte[16384];\n    int r = 0;\n    while ((r = input.read(reader, 0, 16384)) != -1)\n        buffer.write(reader, 0, r);\n    buffer.flush();\n} catch(IOException e) {\n    e.printStackTrace();\n} finally {\n    if(stream != null) try {\n        stream.close();\n    } catch(IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Convert that to a string.</p>\n\n<pre><code>locHolder = new String(buffer.toByteArray());\n</code></pre>\n\n<p>You can then split the lines using <code>String.split</code>.</p>\n\n<pre><code>String[] lines = locHolder.split(\"\\n\");\n</code></pre>\n\n<p>Using that you can then read the lines individually.</p>\n"}],"owner":{"account_id":1603736,"reputation":1240,"user_id":1484248,"accept_rate":71,"display_name":"exit_1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17607372,"answer_count":1,"score":1,"last_activity_date":1690318686,"creation_date":1373602329,"question_id":17607334,"body_markdown":"Part of my program&#39;s purpose is to retrieve data that is given in newline format from this api:http://ip-api.com/docs/api:newline_separated. The data are is concerned with the geo location of an IP address and is presented in Newline format; I only want to pull certain lines. I am not very familiar with URL/file i/o in Java and when I researched it I was a bit overwhelmed. I am able to access the data I want but I am struggling with understanding how to pull it into my program. \r\n\r\nThis is my method that will be used to access the data, pull certain lines, then convert it into variables to be used in the rest of the class:\r\n\r\n    public void getGeoLoc()\r\n    {\r\n\tString locHolder;\r\n\ttry {\r\n\t\tgeoLocRetriever = new URL(&quot;http://ip-api.com/line/&quot; + MainDisplay.getAttackerIpHolder());\r\n\t} catch (MalformedURLException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\t//BufferedReader in = new BufferedReader(new InputStreamReader(geoLocRetriever.openStream()));\r\n    }\r\n\r\nAny input or suggested tutorial would be greatly appreciated.","title":"How to fetch data from API given in Newline","body":"<p>Part of my program's purpose is to retrieve data that is given in newline format from this api:<a href=\"http://ip-api.com/docs/api:newline_separated\" rel=\"nofollow noreferrer\">http://ip-api.com/docs/api:newline_separated</a>. The data are is concerned with the geo location of an IP address and is presented in Newline format; I only want to pull certain lines. I am not very familiar with URL/file i/o in Java and when I researched it I was a bit overwhelmed. I am able to access the data I want but I am struggling with understanding how to pull it into my program.</p>\n<p>This is my method that will be used to access the data, pull certain lines, then convert it into variables to be used in the rest of the class:</p>\n<pre><code>public void getGeoLoc()\n{\nString locHolder;\ntry {\n    geoLocRetriever = new URL(&quot;http://ip-api.com/line/&quot; + MainDisplay.getAttackerIpHolder());\n} catch (MalformedURLException e) {\n    e.printStackTrace();\n}\n//BufferedReader in = new BufferedReader(new InputStreamReader(geoLocRetriever.openStream()));\n}\n</code></pre>\n<p>Any input or suggested tutorial would be greatly appreciated.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":933416,"reputation":25,"user_id":962823,"display_name":"user962823"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431191151,"creation_date":1431191151,"answer_id":30142754,"question_id":30142624,"body_markdown":"It sounds like what you want to do is &quot;snoop&quot; on another app. That is, you want to retrieve data from it that it doesn&#39;t publicly expose in it&#39;s API.\r\n\r\nI believe this is generally impossible without breaking the encapsulation of the app - this means you would have to use more than its publicly documented (and reliable) interface, and delve into its implementation specifics which are liable to change without warning, thus breaking your own app.\r\n\r\nThere are apps that are able to take screenshots of other apps, this would be one example of how you could indirectly break the encapsulation, as you could attempt to parse the data that way. I give this example purely to prove that it is possible, however this would be considered terrible practice and should be avoided for many reasons.\r\n\r\nFor all serious use cases, I would say that if it is not provided in the API, you cannot obtain the data.","title":"Android get data from Application without API","body":"<p>It sounds like what you want to do is \"snoop\" on another app. That is, you want to retrieve data from it that it doesn't publicly expose in it's API.</p>\n\n<p>I believe this is generally impossible without breaking the encapsulation of the app - this means you would have to use more than its publicly documented (and reliable) interface, and delve into its implementation specifics which are liable to change without warning, thus breaking your own app.</p>\n\n<p>There are apps that are able to take screenshots of other apps, this would be one example of how you could indirectly break the encapsulation, as you could attempt to parse the data that way. I give this example purely to prove that it is possible, however this would be considered terrible practice and should be avoided for many reasons.</p>\n\n<p>For all serious use cases, I would say that if it is not provided in the API, you cannot obtain the data.</p>\n"}],"owner":{"account_id":3328492,"reputation":729,"user_id":2797912,"accept_rate":33,"display_name":"Chirag Nagpal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":940,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1690318635,"creation_date":1431190414,"question_id":30142624,"body_markdown":"I am working on an Android app where I need to integrate data from another app.\r\n\r\nJust For Example: Think a situation I have ***Google play store*** in my mobile. Now when a person searches &quot;education&quot; in ***play store*** It shows all the result in list which consists that keyword. Now I want to get all the data result fetched by ***play store***  in my app.\r\n\r\nNote:- I am not sure there is any code to get data from another app, but still I saw an app called [App for all taxi cabs][1] It shows all the result from various application even there is no API for ***ola cabs***, ***Taxi for sure*** and many others but they are somehow manage to get all these data for their app.\r\n\r\nPlease help I crucially want to know if there is possibility to do so or not. \r\n\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.cabsguru","title":"Android get data from Application without API","body":"<p>I am working on an Android app where I need to integrate data from another app.</p>\n<p>Just For Example: Think a situation I have <em><strong>Google play store</strong></em> in my mobile. Now when a person searches &quot;education&quot; in <em><strong>play store</strong></em> It shows all the result in list which consists that keyword. Now I want to get all the data result fetched by <em><strong>play store</strong></em>  in my app.</p>\n<p>Note:- I am not sure there is any code to get data from another app, but still I saw an app called <a href=\"https://play.google.com/store/apps/details?id=com.cabsguru\" rel=\"nofollow noreferrer\">App for all taxi cabs</a> It shows all the result from various application even there is no API for <em><strong>ola cabs</strong></em>, <em><strong>Taxi for sure</strong></em> and many others but they are somehow manage to get all these data for their app.</p>\n<p>Please help I crucially want to know if there is possibility to do so or not.</p>\n"},{"tags":["javascript","java","json","post","fetch-api"],"comments":[{"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"score":0,"creation_date":1515868444,"post_id":48242992,"comment_id":83468489,"body_markdown":"I&#39;m not familiar with Jersey but try using annotation `@Produces(MediaType.APPLICATION_JSON)` for the method `createUser(...)`.","body":"I&#39;m not familiar with Jersey but try using annotation <code>@Produces(MediaType.APPLICATION_JSON)</code> for the method <code>createUser(...)</code>."},{"owner":{"account_id":10378186,"reputation":71,"user_id":7653779,"accept_rate":0,"display_name":"Arthur Klipfel"},"score":0,"creation_date":1515869762,"post_id":48242992,"comment_id":83468913,"body_markdown":"I forgot to tell that my whole jersey resources file is configured to produce json","body":"I forgot to tell that my whole jersey resources file is configured to produce json"}],"answers":[{"tags":[],"owner":{"account_id":12119380,"reputation":207,"user_id":8851614,"display_name":"dawid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515873033,"creation_date":1515873033,"answer_id":48243710,"question_id":48242992,"body_markdown":"415 is Unsupported Media Type (https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/415)\r\n\r\ntry changing\r\n\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n\r\nto\r\n\r\n    @Consumes(MediaType.APPLICATION_JSON_VALUE)\r\n\r\n\r\n","title":"415 error when sending POST request to REST API","body":"<p>415 is Unsupported Media Type (<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/415\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/415</a>)</p>\n\n<p>try changing</p>\n\n<pre><code>@Consumes(MediaType.APPLICATION_JSON)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Consumes(MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"}],"owner":{"account_id":10378186,"reputation":71,"user_id":7653779,"accept_rate":0,"display_name":"Arthur Klipfel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690318584,"creation_date":1515868005,"question_id":48242992,"body_markdown":"I&#39;m developing a REST API in JavaEE and a client using this API in ReactJS.\r\n\r\nThe API works perfectly when I&#39;m using postman, but as soon as I use fetch method in JS to POST JSON information through my client, I&#39;m getting a 415 error:\r\n\r\n&gt; Unsupported Mediatype in my browser&#39;s console.\r\n\r\nFor the API, I&#39;m using Jersey to process requests and Hibernate as ORM. I have genson dependency and as I said, everything works perfectly fine with Postman.\r\nI also checked the result of `JSON.stringify()` before sending it and it looks fine to me.\r\n\r\nPlus, in my server&#39;s console, I&#39;m getting this error every time I try to POST anything :\r\n\r\n&gt;    GRAVE: A message body reader for Java class model.User, and Java type class model.User, and MIME media type application/octet-stream was not found.\r\n\r\nI checked and double-checked everything, I&#39;m sending the right headers, the browser identifies the request as &#39;application/json&#39; content type but it&#39;s like my API still doesn&#39;t accept it, or receives it as application/octet-stream mediatype.\r\n\r\nHere is the method where fetch is done: \r\n\r\n    \r\n    signIn(){\r\n\t\tconsole.log(JSON.stringify(this.state));\r\n\t\tfetch(&#39;http://localhost:8080/P52/users&#39;, {\r\n\t\t\t\t\tmethod: &#39;POST&#39;,\r\n\t\t\t\t\tbody: JSON.stringify(this.state),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t&#39;Content-Type&#39;: &#39;application/json&#39;,\r\n\t\t\t\t\t\t&#39;Accept&#39;: &#39;application/json&#39;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res =&gt; {\r\n\t\t\t\t\treturn res.json();\r\n\t\t\t\t}).catch(err=&gt;err)\r\n\t}\r\n\r\nThe method that receives data in the API : \r\n\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public User createUser(User u){\r\n        return UserController.createUser(u);\r\n    }\r\n\r\nThe controller just create a new instance of User class to run this code in the User model class : \r\n\r\n    public User(User u){\r\n        this.id = u.getId();\r\n        this.pseudo = u.getPseudo();\r\n        this.firstname = u.getFirstname();\r\n        this.lastname = u.getLastname();\r\n        Session session = (Session)HibernateUtil.getSessionFactory().openSession();\r\n        session.beginTransaction();\r\n        session.save(this);\r\n        session.getTransaction().commit();\r\n        session.close();\r\n    }\r\n\r\nIf anyone has the answer to my problem or has already faced it, please let me know so I can finally move forward with this project. \r\n\r\n\r\n\r\n","title":"415 error when sending POST request to REST API","body":"<p>I'm developing a REST API in JavaEE and a client using this API in ReactJS.</p>\n<p>The API works perfectly when I'm using postman, but as soon as I use fetch method in JS to POST JSON information through my client, I'm getting a 415 error:</p>\n<blockquote>\n<p>Unsupported Mediatype in my browser's console.</p>\n</blockquote>\n<p>For the API, I'm using Jersey to process requests and Hibernate as ORM. I have genson dependency and as I said, everything works perfectly fine with Postman.\nI also checked the result of <code>JSON.stringify()</code> before sending it and it looks fine to me.</p>\n<p>Plus, in my server's console, I'm getting this error every time I try to POST anything :</p>\n<blockquote>\n<p>GRAVE: A message body reader for Java class model.User, and Java type class model.User, and MIME media type application/octet-stream was not found.</p>\n</blockquote>\n<p>I checked and double-checked everything, I'm sending the right headers, the browser identifies the request as 'application/json' content type but it's like my API still doesn't accept it, or receives it as application/octet-stream mediatype.</p>\n<p>Here is the method where fetch is done:</p>\n<pre><code>signIn(){\n    console.log(JSON.stringify(this.state));\n    fetch('http://localhost:8080/P52/users', {\n                method: 'POST',\n                body: JSON.stringify(this.state),\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                }\n            }).then(res =&gt; {\n                return res.json();\n            }).catch(err=&gt;err)\n}\n</code></pre>\n<p>The method that receives data in the API :</p>\n<pre><code>@POST\n@Consumes(MediaType.APPLICATION_JSON)\npublic User createUser(User u){\n    return UserController.createUser(u);\n}\n</code></pre>\n<p>The controller just create a new instance of User class to run this code in the User model class :</p>\n<pre><code>public User(User u){\n    this.id = u.getId();\n    this.pseudo = u.getPseudo();\n    this.firstname = u.getFirstname();\n    this.lastname = u.getLastname();\n    Session session = (Session)HibernateUtil.getSessionFactory().openSession();\n    session.beginTransaction();\n    session.save(this);\n    session.getTransaction().commit();\n    session.close();\n}\n</code></pre>\n<p>If anyone has the answer to my problem or has already faced it, please let me know so I can finally move forward with this project.</p>\n"},{"tags":["javascript","java","reactjs","fetch-api"],"comments":[{"owner":{"account_id":16221866,"reputation":15,"user_id":11713229,"display_name":"Sujata Mishra"},"score":0,"creation_date":1599895777,"post_id":63857942,"comment_id":112922136,"body_markdown":"@JaromandaX I have changed the API&#39; last 3 digit before posting","body":"@JaromandaX I have changed the API&#39; last 3 digit before posting"},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1599896412,"post_id":63857942,"comment_id":112922257,"body_markdown":"Ok, so now check the backend logs at 35.154.16.000 to see what is causing the server to send error 500","body":"Ok, so now check the backend logs at 35.154.16.000 to see what is causing the server to send error 500"},{"owner":{"account_id":16221866,"reputation":15,"user_id":11713229,"display_name":"Sujata Mishra"},"score":0,"creation_date":1599896489,"post_id":63857942,"comment_id":112922273,"body_markdown":"@JaromandaX Sorry I have corrected it now.","body":"@JaromandaX Sorry I have corrected it now."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1599896772,"post_id":63857942,"comment_id":112922338,"body_markdown":"Well, check the server logs for the cause of the error 500","body":"Well, check the server logs for the cause of the error 500"},{"owner":{"account_id":16221866,"reputation":15,"user_id":11713229,"display_name":"Sujata Mishra"},"score":0,"creation_date":1599897316,"post_id":63857942,"comment_id":112922442,"body_markdown":"Actually I am just handling the front-end part. I have added the log screenshot.","body":"Actually I am just handling the front-end part. I have added the log screenshot."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1599901908,"post_id":63857942,"comment_id":112923355,"body_markdown":"Well, it&#39;s a backend error - so, contact them","body":"Well, it&#39;s a backend error - so, contact them"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690324657,"post_id":63857942,"comment_id":135337023,"body_markdown":"From your hardly readable screenshot, it looks like you are sending an invalid HTTP request. Try not using that `cors-anywhere.herokuapp.com` site.","body":"From your hardly readable screenshot, it looks like you are sending an invalid HTTP request. Try not using that <code>cors-anywhere.herokuapp.com</code> site."}],"owner":{"account_id":16221866,"reputation":15,"user_id":11713229,"display_name":"Sujata Mishra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690318470,"creation_date":1599895342,"question_id":63857942,"body_markdown":"I am fetching an API signup/validateOtp for validating the OTP. In body I am passing the mobile number and OTP but I am getting the Internal Server Error.\r\n\r\nFollowing is the code for fetching the API-\r\n\r\n    onSubmitOtp = () =&gt; {\r\n        console.log(this.state.mobile);\r\n        console.log(JSON.stringify(this.state.otp));\r\n        fetch(&#39;https://cors-anywhere.herokuapp.com/http://35.154.16.105:8080/signup/validateOtp&#39;,{\r\n            method:&#39;post&#39;,\r\n            headers:{&#39;Content-Type&#39;:&#39;application/json&#39;},\r\n            body: JSON.stringify({\r\n                mobile: this.state.mobile,\r\n                otp:this.state.otp\r\n            })\r\n        })\r\n        .then(response =&gt; response.json())\r\n        .then(data =&gt;{\r\n            if(data.content === &#39;OK&#39;){\r\n                // this.props.loadNewUser(this.state.otp);\r\n                console.log(this.state.mobile);\r\n                this.props.onRouteChange(&#39;createprofile&#39;,&#39;nonav&#39;);\r\n            }\r\n            else\r\n             console.log(data.error);\r\n        })\r\n        this.props.onRouteChange(&#39;otp&#39;,&#39;nonav&#39;);\r\n    }\r\n\r\n![API][1]\r\n\r\nError-\r\nOtp.js:19 POST https://cors-anywhere.herokuapp.com/http://35.154.16:105:8080/signup/validateOtp 500 (Internal Server Error)\r\n\r\n\r\n![Log][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iU9qJ.png\r\n  [2]: https://i.stack.imgur.com/cFF5D.jpg","title":"Internal Server Error 500 while calling the API","body":"<p>I am fetching an API signup/validateOtp for validating the OTP. In body I am passing the mobile number and OTP but I am getting the Internal Server Error.</p>\n<p>Following is the code for fetching the API-</p>\n<pre><code>onSubmitOtp = () =&gt; {\n    console.log(this.state.mobile);\n    console.log(JSON.stringify(this.state.otp));\n    fetch('https://cors-anywhere.herokuapp.com/http://35.154.16.105:8080/signup/validateOtp',{\n        method:'post',\n        headers:{'Content-Type':'application/json'},\n        body: JSON.stringify({\n            mobile: this.state.mobile,\n            otp:this.state.otp\n        })\n    })\n    .then(response =&gt; response.json())\n    .then(data =&gt;{\n        if(data.content === 'OK'){\n            // this.props.loadNewUser(this.state.otp);\n            console.log(this.state.mobile);\n            this.props.onRouteChange('createprofile','nonav');\n        }\n        else\n         console.log(data.error);\n    })\n    this.props.onRouteChange('otp','nonav');\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/iU9qJ.png\" alt=\"API\" /></p>\n<p>Error-\nOtp.js:19 POST <a href=\"https://cors-anywhere.herokuapp.com/http://35.154.16:105:8080/signup/validateOtp\" rel=\"nofollow noreferrer\">https://cors-anywhere.herokuapp.com/http://35.154.16:105:8080/signup/validateOtp</a> 500 (Internal Server Error)</p>\n<p><img src=\"https://i.stack.imgur.com/cFF5D.jpg\" alt=\"Log\" /></p>\n"},{"tags":["java","https","httpurlconnection"],"comments":[{"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"score":0,"creation_date":1663655639,"post_id":73782274,"comment_id":130284600,"body_markdown":"Looks like you are trying to pull a string from Http GET and aiming to convert into POJO?","body":"Looks like you are trying to pull a string from Http GET and aiming to convert into POJO?"},{"owner":{"account_id":23945581,"reputation":77,"user_id":17937975,"display_name":"KaizOffical"},"score":0,"creation_date":1663660982,"post_id":73782274,"comment_id":130286281,"body_markdown":"@saadeez im trying to fetch the data (json) from the url base (i get with string then parse to json)","body":"@saadeez im trying to fetch the data (json) from the url base (i get with string then parse to json)"},{"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"score":0,"creation_date":1663745549,"post_id":73782274,"comment_id":130308954,"body_markdown":"why dont you use Apache Commons Library for this? if you are un-aware then i can share its sample","body":"why dont you use Apache Commons Library for this? if you are un-aware then i can share its sample"}],"owner":{"account_id":23945581,"reputation":77,"user_id":17937975,"display_name":"KaizOffical"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690318326,"creation_date":1663654181,"question_id":73782274,"body_markdown":"I&#39;m making a Java program and I want to fetch updates (JSON data) from URL of my website.\r\nI used `HttpURLConnection` and `Pass SSL Certificate`.\r\nI got this error while running:\r\n```none\r\njavax.net.ssl.SSLException: Received fatal alert: internal_error\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n\tat sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2011)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1113)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1363)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1391)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1375)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\r\n```\r\n(`HTTPS` URL) &lt;br&gt;\r\nI also try `HTTP` URL but the response code is `308` &lt;br&gt;\r\n\r\nPass SSL Certificate code:\r\n\r\n    public static void setupIgnoreSSLCertificate() throws NoSuchAlgorithmException, KeyManagementException {\r\n        final TrustManager[] trustManager = new TrustManager[]{new X509TrustManager() {\r\n            @Override\r\n            public void checkClientTrusted(X509Certificate[] x509Certificates, String s) {\r\n            }\r\n\r\n            @Override\r\n            public void checkServerTrusted(X509Certificate[] x509Certificates, String s) {\r\n            }\r\n\r\n            @Override\r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                return null;\r\n            }\r\n        }};\r\n\r\n        final SSLContext disease = SSLContext.getInstance(&quot;SSL&quot;);\r\n        disease.init(null, trustManager, new SecureRandom());\r\n\r\n        HttpsURLConnection.setDefaultSSLSocketFactory(disease.getSocketFactory());\r\n\r\n        final HostnameVerifier aids = (s, sslSession) -&gt; true;\r\n        HttpsURLConnection.setDefaultHostnameVerifier(aids);\r\n    }\r\n\r\nFetch code:\r\n\r\n        StringBuilder text = new StringBuilder();\r\n        try {\r\n            setupIgnoreSSLCertificate();\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        try {\r\n\t        URL url = new URL(base + method);\r\n\t        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t        connection.setRequestMethod(&quot;GET&quot;);\r\n\t        connection.connect();\r\n\t        int code = connection.getResponseCode();\r\n\t        if(code != 200) {\r\n\t            System.out.println(&quot;Error code: &quot; + code);\r\n\t        } else {\r\n\t            Scanner scanner = new Scanner(url.openStream());\r\n\t            while(scanner.hasNext()) {\r\n\t                text.append(scanner.nextLine());\r\n\t            }\r\n\t            scanner.close();\r\n\t        }\r\n    \t} catch(Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n","title":"Cannot fetch data (JSON) from URL - Java","body":"<p>I'm making a Java program and I want to fetch updates (JSON data) from URL of my website.\nI used <code>HttpURLConnection</code> and <code>Pass SSL Certificate</code>.\nI got this error while running:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.net.ssl.SSLException: Received fatal alert: internal_error\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2011)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1113)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1363)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1391)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1375)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\n</code></pre>\n<p>(<code>HTTPS</code> URL) <br>\nI also try <code>HTTP</code> URL but the response code is <code>308</code> <br></p>\n<p>Pass SSL Certificate code:</p>\n<pre><code>public static void setupIgnoreSSLCertificate() throws NoSuchAlgorithmException, KeyManagementException {\n    final TrustManager[] trustManager = new TrustManager[]{new X509TrustManager() {\n        @Override\n        public void checkClientTrusted(X509Certificate[] x509Certificates, String s) {\n        }\n\n        @Override\n        public void checkServerTrusted(X509Certificate[] x509Certificates, String s) {\n        }\n\n        @Override\n        public X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n    }};\n\n    final SSLContext disease = SSLContext.getInstance(&quot;SSL&quot;);\n    disease.init(null, trustManager, new SecureRandom());\n\n    HttpsURLConnection.setDefaultSSLSocketFactory(disease.getSocketFactory());\n\n    final HostnameVerifier aids = (s, sslSession) -&gt; true;\n    HttpsURLConnection.setDefaultHostnameVerifier(aids);\n}\n</code></pre>\n<p>Fetch code:</p>\n<pre><code>    StringBuilder text = new StringBuilder();\n    try {\n        setupIgnoreSSLCertificate();\n    } catch (NoSuchAlgorithmException | KeyManagementException e) {\n        throw new RuntimeException(e);\n    }\n    try {\n        URL url = new URL(base + method);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        connection.connect();\n        int code = connection.getResponseCode();\n        if(code != 200) {\n            System.out.println(&quot;Error code: &quot; + code);\n        } else {\n            Scanner scanner = new Scanner(url.openStream());\n            while(scanner.hasNext()) {\n                text.append(scanner.nextLine());\n            }\n            scanner.close();\n        }\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform","migration","google-cloud-pubsub"],"comments":[{"owner":{"account_id":7507064,"reputation":107,"user_id":5703263,"accept_rate":0,"display_name":"arjun"},"score":0,"creation_date":1699940968,"post_id":76420903,"comment_id":136590665,"body_markdown":"Can you please share me the full class of PubSubInboundChannelAdapter","body":"Can you please share me the full class of PubSubInboundChannelAdapter"}],"answers":[{"tags":[],"owner":{"account_id":13722712,"reputation":26,"user_id":9902246,"display_name":"tschi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690186522,"creation_date":1690186522,"answer_id":76752557,"question_id":76420903,"body_markdown":"try to add spring.cloud.gcp.pubsub.project-id properties and update to last spring-cloud-gcp-dependencies 4.5.1\r\nI have solve my migration from springboot 2.7 to 3.1 with pubsub and I didn&#39;t created PubSubTemplate, it &#39;s created by spring","title":"GCP Spring boot migration 3.x : Required a bean of type &#39;com.google.cloud.spring.pubsub.core.PubSubTemplate&#39; that could not be found","body":"<p>try to add spring.cloud.gcp.pubsub.project-id properties and update to last spring-cloud-gcp-dependencies 4.5.1\nI have solve my migration from springboot 2.7 to 3.1 with pubsub and I didn't created PubSubTemplate, it 's created by spring</p>\n"},{"tags":[],"owner":{"account_id":3750072,"reputation":33,"user_id":3128600,"accept_rate":0,"display_name":"spartans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690318296,"creation_date":1690318296,"answer_id":76766434,"question_id":76420903,"body_markdown":"No need to add this config spring.cloud.gcp.pubsub.project-id, \r\n\r\n&lt;version&gt;4.5.1&lt;/version&gt; alone could fix the issue.","title":"GCP Spring boot migration 3.x : Required a bean of type &#39;com.google.cloud.spring.pubsub.core.PubSubTemplate&#39; that could not be found","body":"<p>No need to add this config spring.cloud.gcp.pubsub.project-id,</p>\n<p>4.5.1 alone could fix the issue.</p>\n"}],"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76752557,"answer_count":2,"score":0,"last_activity_date":1690318296,"creation_date":1686123287,"question_id":76420903,"body_markdown":"I&#39;ve a java 17 application with many modules. I&#39;ve changed the spring boot version from 2.7.6 to 3.0.6 and I&#39;ve got the following issues appearing on the module handling PubSubs from GCP\r\n\r\n&gt; Parameter 1 of method myMessageChannelAdapter in com.controller.file.MyController required a bean of type &#39;com.google.cloud.spring.pubsub.core.PubSubTemplate&#39; that could not be found.\r\n\r\nI&#39;ve migrated the gcs dependencies as follow : \r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n       ....\r\n    &lt;!-- gcs --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-pubsub&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHere is how I&#39;m creating my PubSubInboundChannelAdapter :\r\n\r\n    @Bean\r\n    public PubSubInboundChannelAdapter myMessageChannelAdapter(\r\n            @Qualifier(&quot;myChannel&quot;) MessageChannel inputChannel,\r\n            PubSubTemplate pubSubTemplate) {\r\n       return getInboundAdapter(inputChannel, pubSubTemplate, subscriptionName);\r\n    }\r\n    \r\n\r\n    @Bean\r\n    public MessageChannel myChannel() {\r\n        return new DirectChannel();\r\n    }\r\n\r\nShould I add another dependency to have a PubSubTemplate automatically autowired or should I create it ?\r\nIf I have to create it, I can&#39;t find a proper way to do it","title":"GCP Spring boot migration 3.x : Required a bean of type &#39;com.google.cloud.spring.pubsub.core.PubSubTemplate&#39; that could not be found","body":"<p>I've a java 17 application with many modules. I've changed the spring boot version from 2.7.6 to 3.0.6 and I've got the following issues appearing on the module handling PubSubs from GCP</p>\n<blockquote>\n<p>Parameter 1 of method myMessageChannelAdapter in com.controller.file.MyController required a bean of type 'com.google.cloud.spring.pubsub.core.PubSubTemplate' that could not be found.</p>\n</blockquote>\n<p>I've migrated the gcs dependencies as follow :</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;4.4.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n   ....\n&lt;!-- gcs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-pubsub&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Here is how I'm creating my PubSubInboundChannelAdapter :</p>\n<pre><code>@Bean\npublic PubSubInboundChannelAdapter myMessageChannelAdapter(\n        @Qualifier(&quot;myChannel&quot;) MessageChannel inputChannel,\n        PubSubTemplate pubSubTemplate) {\n   return getInboundAdapter(inputChannel, pubSubTemplate, subscriptionName);\n}\n\n\n@Bean\npublic MessageChannel myChannel() {\n    return new DirectChannel();\n}\n</code></pre>\n<p>Should I add another dependency to have a PubSubTemplate automatically autowired or should I create it ?\nIf I have to create it, I can't find a proper way to do it</p>\n"},{"tags":["python","java","sockets","stock"],"comments":[{"owner":{"account_id":448441,"reputation":3683,"user_id":6783775,"display_name":"rveerd"},"score":1,"creation_date":1690383773,"post_id":76766431,"comment_id":135346487,"body_markdown":"You should reduce your code to a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). This will help others help you.","body":"You should reduce your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. This will help others help you."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690412881,"post_id":76766431,"comment_id":135351947,"body_markdown":"In particular, are the requests to remote services really needed to trigger the problem, or can it be reproduced with just the Python and Java programs communicating using hardcoded data?","body":"In particular, are the requests to remote services really needed to trigger the problem, or can it be reproduced with just the Python and Java programs communicating using hardcoded data?"}],"owner":{"account_id":29090695,"reputation":11,"user_id":22284639,"display_name":"IneptDwarf33872"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690318263,"creation_date":1690318263,"question_id":76766431,"body_markdown":"I&#39;m building a program to compile and compress yfinance data for a group of stocks and put the data in a .txt file. This requires me to run a python program that sends the data to a java program over  a socket. When I run the python server and then the java client though, the program only sends some of the data, and suddenly stops after a chunk of the data is sent causing the program to hang.\r\n\r\nHere is the python server\r\n```\r\nimport socket\r\nimport yfinance as yf\r\nimport pandas as pd\r\nimport datetime as dt\r\n\r\n\r\npd.options.display.max_rows = 2000000\r\n\r\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\r\n    s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\r\n    s.bind((&quot;127.0.0.1&quot;, 65432))\r\n    s.listen()\r\n    conn, addr = s.accept()\r\n    with conn:\r\n        print(f&quot;Connected by {addr}&quot;)\r\n        while True:\r\n            data = conn.recv(1024)\r\n            if not data:\r\n                print(&#39;nodata&#39;)\r\n                break\r\n            stringdata = data.decode(&#39;utf-8&#39;)\r\n            print(stringdata)\r\n            if stringdata == &quot;end&quot;:\r\n                break\r\n            start1 = stringdata[0:10]\r\n            start = dt.datetime(int(start1[0:4]), int(start1[5:7]), int(start1[8:10]))\r\n            end1 = stringdata[10:20]\r\n            end = dt.datetime(int(end1[0:4]), int(end1[5:7]), int(end1[8:10]))\r\n            tticker = yf.Ticker(stringdata[20:])\r\n            print(tticker.history(start=start, end=end, interval=&quot;5m&quot;)\r\n            stringdata2 = str(data2)\r\n            print(stringdata2)\r\n            conn.sendall(bytes(stringdata2, &#39;utf-8&#39;))\r\n        s.close()\r\n```\r\nAnd here is the Java client\r\n\r\n```\r\nimport java.net.*;\r\nimport java.text.NumberFormat;\r\nimport java.text.ParseException;\r\nimport java.time.LocalDate;\r\n//import org.javatuples.*;\r\nimport java.time.LocalDateTime;\r\nimport java.time.LocalTime;\r\nimport java.time.format.DateTimeFormatter;  \r\nimport java.util.ArrayList;\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\npublic class main{\r\n\r\n\tpublic static ArrayList&lt;String&gt; Tickers = new ArrayList&lt;String&gt;();\r\n\tpublic static File stockTracker = new File(&quot;StockTracking.txt&quot;);\r\n\tpublic static void main(String[] args) throws IOException, ParseException, InterruptedException{\r\n\t\t\r\n//\t\tArrayList&lt;String&gt; NYSETickers = new ArrayList&lt;String&gt;();\r\n//\t\tArrayList&lt;String&gt; NASDAQTickers = new ArrayList&lt;String&gt;();\r\n\t\tint x = 65;\r\n\t\tchar y;\r\n\t\tString z;\r\n\t\tString x1;\r\n\t\twhile(x &lt;= 90) {\r\n\t\t\ty = (char)x;\r\n\t\t\tz = String.valueOf(y);\r\n\t\t\tx1 = &quot;https://eoddata.com/stocklist/NYSE/&quot; + z + &quot;.htm&quot;;\r\n\t\t\tURL tickers = new URL(x1);\r\n\t\t\tURLConnection tCon = tickers.openConnection();\r\n\t\t\tInputStreamReader tStream = new InputStreamReader(tCon.getInputStream());\r\n\t\t\tBufferedReader tBuff = new BufferedReader(tStream);\r\n\r\n\t\t\tString oline = tBuff.readLine();\r\n\t\t\twhile(oline != null) {\r\n\t\t\t\tif(oline.contains(&quot;NYSE,&quot;)){\r\n\t\t\t\t\tString gx = oline.substring(oline.indexOf(&quot;/NYSE/&quot;) + 6, oline.indexOf(&quot;.htm&quot;));\r\n\t\t\t\t\tif(!(gx.equals(&quot;BRK.A&quot;)) &amp;&amp; !(gx.equals(&quot;EVN&quot;))) {\r\n\t\t\t\t\t//System.out.println(gx);\r\n\t\t\t\t\t//System.out.println(Integer.parseInt(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)));\r\n\t\t\t\t\tSystem.out.println(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18));\r\n\t\t\t\t\tSystem.out.println(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, oline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;)));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\tif(!(Integer.parseInt(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)) &lt; 5 &amp;&amp; oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18).equals(&quot;.&quot;)) &amp;&amp; NumberFormat.getNumberInstance(java.util.Locale.US).parse(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, oline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;))).intValue() &gt; 1000000) {\r\n\t\t\t\t\t\tTickers.add(gx);\r\n\t\t\t\t\t\tSystem.out.println(gx);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}catch(ParseException e) {\r\n\t\t\t\t\t\tTickers.add(gx);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\toline = tBuff.readLine();\r\n\t\t\t}\r\n\t\t\ty = (char)x;\r\n\t\t\tz = String.valueOf(y);\r\n\t\t\tx1 = &quot;https://eoddata.com/stocklist/NASDAQ/&quot; + z + &quot;.htm&quot;;\r\n\t\t\tURL ntickers = new URL(x1);\r\n\t\t\tURLConnection nCon = ntickers.openConnection();\r\n\t\t\tInputStreamReader nStream = new InputStreamReader(nCon.getInputStream());\r\n\t\t\tBufferedReader nBuff = new BufferedReader(nStream);\r\n\r\n\t\t\tString nline = nBuff.readLine();\r\n\t\t\twhile(nline != null) {\r\n\t\t\t\tif(nline.contains(&quot;NASDAQ,&quot;)){\r\n\t\t\t\t\tString gx = nline.substring(nline.indexOf(&quot;/NASDAQ/&quot;) + 8, nline.indexOf(&quot;.htm&quot;));\r\n\t\t\t\t\t//if(!(gx.equals(&quot;BRK.A&quot;)) &amp;&amp; !(gx.equals(&quot;EVN&quot;))) {\r\n\t\t\t\t\t//System.out.println(gx);\r\n\t\t\t\t\t//System.out.println(Integer.parseInt(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)));\r\n\t\t\t\t\t//System.out.println(nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18));\r\n\t\t\t\t\t//System.out.println(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, oline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;)));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\tif(!(Integer.parseInt(nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)) &lt; 5 &amp;&amp; nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18).equals(&quot;.&quot;)) &amp;&amp; NumberFormat.getNumberInstance(java.util.Locale.US).parse(nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, nline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;))).intValue() &gt; 1000000) {\r\n\t\t\t\t\t\tTickers.add(gx);\r\n\t\t\t\t\t\tSystem.out.println(gx);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}catch(ParseException e) {\r\n\t\t\t\t\t\tTickers.add(gx);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t//}\r\n\t\t\t\tnline = nBuff.readLine();\r\n\t\t\t}\r\n\t\t\tx++;\r\n\t\t}\r\n\t\tfor(String tick:Tickers) {\r\n\t\t\tSystem.out.println(tick);\r\n\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\tScanner console = new Scanner(System.in);\r\n\t\t\t\r\n\t\t    Socket transmission = new Socket(&quot;localhost&quot;, 65432);\r\n\t\t    System.out.println(&quot;Socket Created&quot;);\r\n\t\t    \r\n\t\t    Reader reader = new InputStreamReader(transmission.getInputStream());\r\n\t\t    BufferedReader in = new BufferedReader(reader);\r\n\t\t    \r\n\t\t    //InputStream in3 = transmission.getInputStream();\r\n\t\t    \r\n\t\t    Writer writer = new OutputStreamWriter(transmission.getOutputStream());\r\n\t\t    BufferedWriter out = new BufferedWriter(writer);\r\n\t\t    \r\n\t\t    FileWriter dWriter = new FileWriter(&quot;StockTracking.txt&quot;);\r\n\t\t    initData(in, out);\r\n\t\t    out.write(&quot;end&quot;);\r\n\t\t    transmission.close();\r\n\t\t    System.out.println(&quot;Socket Closed&quot;);\r\npublic static boolean initData(BufferedReader in, BufferedWriter out) throws IOException, InterruptedException {\r\n\t\tLocalDate edate = LocalDate.now().minusDays(1);\r\n\t\tLocalDate sdate = LocalDate.now().minusDays(40);\r\n\t\tString ssdate = sdate.format(DateTimeFormatter.ISO_LOCAL_DATE);\r\n\t\tString sedate = edate.format(DateTimeFormatter.ISO_LOCAL_DATE);\r\n\t\t\r\n\t\tPrintWriter pw =  new PrintWriter(new FileWriter(stockTracker));\r\n\t\tfor(String ticker:Tickers) {\r\n\t\tSystem.out.println(ticker);\r\n\t\t out.write(ssdate + sedate + ticker);\r\n\t\t out.flush();\r\n\t\t Thread.sleep(10);\r\n\t\t //System.out.println(&quot;Kill&quot; + in.readLine());\r\n\t\t //System.out.println(&quot;Kill&quot; + in.readLine());\r\n\t\t pw.println(ticker);\r\n\t\t String x;\r\n\t\t while(true) {\r\n\t\t\t //System.out.println(i);\r\n\t\t\t x = in.readLine();\r\n\t\t\t System.out.println(x);\r\n\t\t\t if(x.length() &gt; 25 &amp;&amp; x.substring(0, 1).equals(&quot;2&quot;)) {\r\n\t\t\t\t pw.println(x.substring(5, 7) + x.substring(8, 10) + x.substring(11, 13) + x.substring(14, 16) + x.substring(27, x.indexOf(&quot;.&quot;) + 2));\r\n\t\t\t\t if(x.substring(5, 7).equals(&quot;07&quot;)) {\r\n\t\t\t\t if(x.substring(8, 10).equals(&quot;21&quot;)) {\r\n\t\t\t\t\t if(x.substring(11, 13).equals(&quot;15&quot;)) {\r\n\t\t\t\t\t\t if(x.substring(14, 16).equals(&quot;55&quot;)) {\r\n\t\t\t\t\t\t\t break;\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\t\r\n\t\t\t\t }\r\n\t\t\t\t }\r\n\t\t\t }\r\n\t\t }\r\n\t\t //System.out.println(&quot;Kill&quot; + in.readLine());\r\n\t\t pw.flush();\r\n\t\t}\r\n\t\tpw.close();\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"Is there some data limit preventing all of this data from being sent? Any help would be appreciated! :)","body":"<p>I'm building a program to compile and compress yfinance data for a group of stocks and put the data in a .txt file. This requires me to run a python program that sends the data to a java program over  a socket. When I run the python server and then the java client though, the program only sends some of the data, and suddenly stops after a chunk of the data is sent causing the program to hang.</p>\n<p>Here is the python server</p>\n<pre><code>import socket\nimport yfinance as yf\nimport pandas as pd\nimport datetime as dt\n\n\npd.options.display.max_rows = 2000000\n\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    s.bind((&quot;127.0.0.1&quot;, 65432))\n    s.listen()\n    conn, addr = s.accept()\n    with conn:\n        print(f&quot;Connected by {addr}&quot;)\n        while True:\n            data = conn.recv(1024)\n            if not data:\n                print('nodata')\n                break\n            stringdata = data.decode('utf-8')\n            print(stringdata)\n            if stringdata == &quot;end&quot;:\n                break\n            start1 = stringdata[0:10]\n            start = dt.datetime(int(start1[0:4]), int(start1[5:7]), int(start1[8:10]))\n            end1 = stringdata[10:20]\n            end = dt.datetime(int(end1[0:4]), int(end1[5:7]), int(end1[8:10]))\n            tticker = yf.Ticker(stringdata[20:])\n            print(tticker.history(start=start, end=end, interval=&quot;5m&quot;)\n            stringdata2 = str(data2)\n            print(stringdata2)\n            conn.sendall(bytes(stringdata2, 'utf-8'))\n        s.close()\n</code></pre>\n<p>And here is the Java client</p>\n<pre><code>import java.net.*;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.time.LocalDate;\n//import org.javatuples.*;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;  \nimport java.util.ArrayList;\nimport java.io.*;\nimport java.util.Scanner;\npublic class main{\n\n    public static ArrayList&lt;String&gt; Tickers = new ArrayList&lt;String&gt;();\n    public static File stockTracker = new File(&quot;StockTracking.txt&quot;);\n    public static void main(String[] args) throws IOException, ParseException, InterruptedException{\n        \n//      ArrayList&lt;String&gt; NYSETickers = new ArrayList&lt;String&gt;();\n//      ArrayList&lt;String&gt; NASDAQTickers = new ArrayList&lt;String&gt;();\n        int x = 65;\n        char y;\n        String z;\n        String x1;\n        while(x &lt;= 90) {\n            y = (char)x;\n            z = String.valueOf(y);\n            x1 = &quot;https://eoddata.com/stocklist/NYSE/&quot; + z + &quot;.htm&quot;;\n            URL tickers = new URL(x1);\n            URLConnection tCon = tickers.openConnection();\n            InputStreamReader tStream = new InputStreamReader(tCon.getInputStream());\n            BufferedReader tBuff = new BufferedReader(tStream);\n\n            String oline = tBuff.readLine();\n            while(oline != null) {\n                if(oline.contains(&quot;NYSE,&quot;)){\n                    String gx = oline.substring(oline.indexOf(&quot;/NYSE/&quot;) + 6, oline.indexOf(&quot;.htm&quot;));\n                    if(!(gx.equals(&quot;BRK.A&quot;)) &amp;&amp; !(gx.equals(&quot;EVN&quot;))) {\n                    //System.out.println(gx);\n                    //System.out.println(Integer.parseInt(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)));\n                    System.out.println(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18));\n                    System.out.println(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, oline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;)));\n                    try {\n                    if(!(Integer.parseInt(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)) &lt; 5 &amp;&amp; oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18).equals(&quot;.&quot;)) &amp;&amp; NumberFormat.getNumberInstance(java.util.Locale.US).parse(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, oline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;))).intValue() &gt; 1000000) {\n                        Tickers.add(gx);\n                        System.out.println(gx);\n                    }\n                    }catch(ParseException e) {\n                        Tickers.add(gx);\n                    }\n                    }\n                }\n                oline = tBuff.readLine();\n            }\n            y = (char)x;\n            z = String.valueOf(y);\n            x1 = &quot;https://eoddata.com/stocklist/NASDAQ/&quot; + z + &quot;.htm&quot;;\n            URL ntickers = new URL(x1);\n            URLConnection nCon = ntickers.openConnection();\n            InputStreamReader nStream = new InputStreamReader(nCon.getInputStream());\n            BufferedReader nBuff = new BufferedReader(nStream);\n\n            String nline = nBuff.readLine();\n            while(nline != null) {\n                if(nline.contains(&quot;NASDAQ,&quot;)){\n                    String gx = nline.substring(nline.indexOf(&quot;/NASDAQ/&quot;) + 8, nline.indexOf(&quot;.htm&quot;));\n                    //if(!(gx.equals(&quot;BRK.A&quot;)) &amp;&amp; !(gx.equals(&quot;EVN&quot;))) {\n                    //System.out.println(gx);\n                    //System.out.println(Integer.parseInt(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)));\n                    //System.out.println(nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18));\n                    //System.out.println(oline.substring(oline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, oline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;)));\n                    try {\n                    if(!(Integer.parseInt(nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 16, nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17)) &lt; 5 &amp;&amp; nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 17, nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 18).equals(&quot;.&quot;)) &amp;&amp; NumberFormat.getNumberInstance(java.util.Locale.US).parse(nline.substring(nline.indexOf(&quot;&lt;td align=right&gt;&quot;) + 94, nline.indexOf(&quot;&lt;/td&gt;&lt;td align=\\&quot;right\\&quot;&gt;&quot;))).intValue() &gt; 1000000) {\n                        Tickers.add(gx);\n                        System.out.println(gx);\n                    }\n                    }catch(ParseException e) {\n                        Tickers.add(gx);\n                    }\n                    }\n                //}\n                nline = nBuff.readLine();\n            }\n            x++;\n        }\n        for(String tick:Tickers) {\n            System.out.println(tick);\n        }\n        \n            \n        \n        \n        \n            Scanner console = new Scanner(System.in);\n            \n            Socket transmission = new Socket(&quot;localhost&quot;, 65432);\n            System.out.println(&quot;Socket Created&quot;);\n            \n            Reader reader = new InputStreamReader(transmission.getInputStream());\n            BufferedReader in = new BufferedReader(reader);\n            \n            //InputStream in3 = transmission.getInputStream();\n            \n            Writer writer = new OutputStreamWriter(transmission.getOutputStream());\n            BufferedWriter out = new BufferedWriter(writer);\n            \n            FileWriter dWriter = new FileWriter(&quot;StockTracking.txt&quot;);\n            initData(in, out);\n            out.write(&quot;end&quot;);\n            transmission.close();\n            System.out.println(&quot;Socket Closed&quot;);\npublic static boolean initData(BufferedReader in, BufferedWriter out) throws IOException, InterruptedException {\n        LocalDate edate = LocalDate.now().minusDays(1);\n        LocalDate sdate = LocalDate.now().minusDays(40);\n        String ssdate = sdate.format(DateTimeFormatter.ISO_LOCAL_DATE);\n        String sedate = edate.format(DateTimeFormatter.ISO_LOCAL_DATE);\n        \n        PrintWriter pw =  new PrintWriter(new FileWriter(stockTracker));\n        for(String ticker:Tickers) {\n        System.out.println(ticker);\n         out.write(ssdate + sedate + ticker);\n         out.flush();\n         Thread.sleep(10);\n         //System.out.println(&quot;Kill&quot; + in.readLine());\n         //System.out.println(&quot;Kill&quot; + in.readLine());\n         pw.println(ticker);\n         String x;\n         while(true) {\n             //System.out.println(i);\n             x = in.readLine();\n             System.out.println(x);\n             if(x.length() &gt; 25 &amp;&amp; x.substring(0, 1).equals(&quot;2&quot;)) {\n                 pw.println(x.substring(5, 7) + x.substring(8, 10) + x.substring(11, 13) + x.substring(14, 16) + x.substring(27, x.indexOf(&quot;.&quot;) + 2));\n                 if(x.substring(5, 7).equals(&quot;07&quot;)) {\n                 if(x.substring(8, 10).equals(&quot;21&quot;)) {\n                     if(x.substring(11, 13).equals(&quot;15&quot;)) {\n                         if(x.substring(14, 16).equals(&quot;55&quot;)) {\n                             break;\n                         }\n                     }  \n                 }\n                 }\n             }\n         }\n         //System.out.println(&quot;Kill&quot; + in.readLine());\n         pw.flush();\n        }\n        pw.close();\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690318160,"creation_date":1690318160,"answer_id":76766421,"question_id":76766264,"body_markdown":"using different url only it is possible. means the @postmapping, value should be unique for each method.\r\n\r\n@postmapping(value=&quot;/api/price&quot;)  cannot be used with another post mapping. In your case, you mapped both post methods with same url.  change one value to differnt url apart from &quot;url/price&quot;, it will work","title":"MockMvc gets Ambiguous handler methods","body":"<p>using different url only it is possible. means the @postmapping, value should be unique for each method.</p>\n<p>@postmapping(value=&quot;/api/price&quot;)  cannot be used with another post mapping. In your case, you mapped both post methods with same url.  change one value to differnt url apart from &quot;url/price&quot;, it will work</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690318160,"creation_date":1690316439,"question_id":76766264,"body_markdown":"I have these controllers:\r\n\r\n```Java\r\n@PostMapping(\r\n  value = Endpoints.GET_PRICE,\r\n    produces = MediaType.APPLICATION_JSON_VALUE,\r\n    headers = {&quot;Accept=*/*&quot;})\r\npublic ResponseEntity&lt;PricesResponse&gt; getPrice(\r\n  @RequestBody @Validated({PriceRequestValidationCheck.class}) PriceRequest priceRequest) {\r\n  PricesResponse defaultPriceResponse =\r\n    priceService.generateAllPricesForWeb(priceRequest, Optional.empty());\r\n  return ResponseEntity.ok(defaultPriceResponse);\r\n}\r\n\r\n@PostMapping(\r\n  value = Endpoints.GET_PRICE,\r\n    produces = MediaType.APPLICATION_JSON_VALUE,\r\n    headers = {&quot;Accept=application/vnd.price.v2+json&quot;})\r\npublic ResponseEntity&lt;PricesResponse&gt; getPriceV2(\r\n  @RequestBody @Validated({PriceRequestValidationCheckV2.class}) PriceRequest priceRequest, HttpServletRequest request) {\r\n  PricesResponse defaultPriceResponse =\r\n    priceService.generateAllPricesForWeb(\r\n      priceRequest,\r\n        Optional.of(\r\n          request\r\n            .getHeader(&quot;Accept&quot;)\r\n            .replace(&quot;application/vnd.price.v&quot;, &quot;&quot;)\r\n            .replace(&quot;+json&quot;, &quot;&quot;)));\r\nreturn ResponseEntity.ok(defaultPriceResponse);\r\n}\r\n```\r\n\r\nWhen I execute a test which runs:\r\n\r\n```Java\r\nprivate MvcResult callPriceEndPoint(MediaType acceptHeader) throws Exception {\r\n  return mockMvc\r\n    .perform(\r\n      MockMvcRequestBuilders.post(GET_PRICE_PATH)\r\n        .content(getJsonString(getPriceRequest()))\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .accept(acceptHeader))\r\n          .andExpect(status().is5xxServerError())\r\n          .andReturn();\r\n}\r\n```\r\n\r\nIt gices this error:\r\n\r\n&gt;org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: Ambiguous handler methods mapped for &#39;/api/price&#39;: {public...\r\n\r\n`Endpoints.GET_PRICE` is `/api/price`.\r\n\r\nI understand that `callPriceEndPoint` doesn&#39;t know which controller to use but how do I resolve this?","title":"MockMvc gets Ambiguous handler methods","body":"<p>I have these controllers:</p>\n<pre><code>@PostMapping(\n  value = Endpoints.GET_PRICE,\n    produces = MediaType.APPLICATION_JSON_VALUE,\n    headers = {&quot;Accept=*/*&quot;})\npublic ResponseEntity&lt;PricesResponse&gt; getPrice(\n  @RequestBody @Validated({PriceRequestValidationCheck.class}) PriceRequest priceRequest) {\n  PricesResponse defaultPriceResponse =\n    priceService.generateAllPricesForWeb(priceRequest, Optional.empty());\n  return ResponseEntity.ok(defaultPriceResponse);\n}\n\n@PostMapping(\n  value = Endpoints.GET_PRICE,\n    produces = MediaType.APPLICATION_JSON_VALUE,\n    headers = {&quot;Accept=application/vnd.price.v2+json&quot;})\npublic ResponseEntity&lt;PricesResponse&gt; getPriceV2(\n  @RequestBody @Validated({PriceRequestValidationCheckV2.class}) PriceRequest priceRequest, HttpServletRequest request) {\n  PricesResponse defaultPriceResponse =\n    priceService.generateAllPricesForWeb(\n      priceRequest,\n        Optional.of(\n          request\n            .getHeader(&quot;Accept&quot;)\n            .replace(&quot;application/vnd.price.v&quot;, &quot;&quot;)\n            .replace(&quot;+json&quot;, &quot;&quot;)));\nreturn ResponseEntity.ok(defaultPriceResponse);\n}\n</code></pre>\n<p>When I execute a test which runs:</p>\n<pre><code>private MvcResult callPriceEndPoint(MediaType acceptHeader) throws Exception {\n  return mockMvc\n    .perform(\n      MockMvcRequestBuilders.post(GET_PRICE_PATH)\n        .content(getJsonString(getPriceRequest()))\n        .contentType(MediaType.APPLICATION_JSON)\n        .accept(acceptHeader))\n          .andExpect(status().is5xxServerError())\n          .andReturn();\n}\n</code></pre>\n<p>It gices this error:</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: Ambiguous handler methods mapped for '/api/price': {public...</p>\n</blockquote>\n<p><code>Endpoints.GET_PRICE</code> is <code>/api/price</code>.</p>\n<p>I understand that <code>callPriceEndPoint</code> doesn't know which controller to use but how do I resolve this?</p>\n"},{"tags":["java","spring","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":15638847,"reputation":105,"user_id":11282873,"display_name":"Julian Dave"},"score":0,"creation_date":1649966029,"post_id":62280290,"comment_id":127013819,"body_markdown":"I am also irritated by vscode&#39;s monochromatic logging output. \nHave you found a solution already?","body":"I am also irritated by vscode&#39;s monochromatic logging output.  Have you found a solution already?"}],"answers":[{"tags":[],"owner":{"account_id":17005042,"reputation":161,"user_id":12301426,"display_name":"Novocaine"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1618579151,"creation_date":1618579151,"answer_id":67126012,"question_id":62280290,"body_markdown":"add `spring.output.ansi.enabled=always` into your project `application.properties`\r\n[enable vscode spring boot logs colors][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/euJ4f.png","title":"Provide Color Theme to the `Java Process Console` in the Terminal of VSCode while running a Spring Project","body":"<p>add <code>spring.output.ansi.enabled=always</code> into your project <code>application.properties</code>\n<a href=\"https://i.stack.imgur.com/euJ4f.png\" rel=\"noreferrer\">enable vscode spring boot logs colors</a></p>\n"},{"tags":[],"owner":{"account_id":13107349,"reputation":11,"user_id":9855009,"display_name":"Grover Rendich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690318049,"creation_date":1690318049,"answer_id":76766410,"question_id":62280290,"body_markdown":"this works for me \r\n\r\n&gt; spring.output.ansi.enabled=always","title":"Provide Color Theme to the `Java Process Console` in the Terminal of VSCode while running a Spring Project","body":"<p>this works for me</p>\n<blockquote>\n<p>spring.output.ansi.enabled=always</p>\n</blockquote>\n"}],"owner":{"account_id":10073864,"reputation":2288,"user_id":7446645,"display_name":"RICHARD ABRAHAM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2048,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1690318049,"creation_date":1591697941,"question_id":62280290,"body_markdown":"Is there a way to add colours/themes to the output generated in the `Java Process Console` which is a result of running a Spring Application from the VSCode `Spring-Boot-Dashboard`.\r\n\r\nI am looking for a targetted solution for the `Java Process Console` that is outputted on the integrated `Terminal`. I am using `Git Bash` as my integrated terminal.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SDRbJ.png","title":"Provide Color Theme to the `Java Process Console` in the Terminal of VSCode while running a Spring Project","body":"<p>Is there a way to add colours/themes to the output generated in the <code>Java Process Console</code> which is a result of running a Spring Application from the VSCode <code>Spring-Boot-Dashboard</code>.</p>\n\n<p>I am looking for a targetted solution for the <code>Java Process Console</code> that is outputted on the integrated <code>Terminal</code>. I am using <code>Git Bash</code> as my integrated terminal.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SDRbJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SDRbJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","paypal","ide"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683177864,"post_id":76169001,"comment_id":134327061,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":8321718,"reputation":1,"user_id":6253160,"display_name":"Asim Afzal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690318004,"creation_date":1690318004,"answer_id":76766406,"question_id":76169001,"body_markdown":"you have nothing to do here it will automatically pick your application id. you just have to add your application id in paypal developer sandbox account in login with paypal advanced settings.","title":"Paypal checkout integration in android app","body":"<p>you have nothing to do here it will automatically pick your application id. you just have to add your application id in paypal developer sandbox account in login with paypal advanced settings.</p>\n"}],"owner":{"account_id":28499627,"reputation":1,"user_id":21811012,"display_name":"Softwer Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690318004,"creation_date":1683164006,"question_id":76169001,"body_markdown":"I&#39;m trying to integrate paypal checkout in my android app. In this, I don&#39;t know how to put my application ID in the part:\r\n\r\nBuildConfig.APPLICATION_ID + &quot;://paypalpay&quot;,\r\n\r\nCould someone help me?\r\n\r\nPayPalCheckout.setConfig(new CheckoutConfig(\r\n                this,\r\n                YOUR_CLIENT_ID,\r\n                Environment.SANDBOX,\r\n                BuildConfig.APPLICATION_ID + &quot;://paypalpay&quot;,\r\n                CurrencyCode.USD,\r\n                UserAction.PAY_NOW\r\n        ));","title":"Paypal checkout integration in android app","body":"<p>I'm trying to integrate paypal checkout in my android app. In this, I don't know how to put my application ID in the part:</p>\n<p>BuildConfig.APPLICATION_ID + &quot;://paypalpay&quot;,</p>\n<p>Could someone help me?</p>\n<p>PayPalCheckout.setConfig(new CheckoutConfig(\nthis,\nYOUR_CLIENT_ID,\nEnvironment.SANDBOX,\nBuildConfig.APPLICATION_ID + &quot;://paypalpay&quot;,\nCurrencyCode.USD,\nUserAction.PAY_NOW\n));</p>\n"},{"tags":["java","domain-driven-design","policy","specifications"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1357496054,"post_id":14185139,"comment_id":19660954,"body_markdown":"I would say that specifications are targeted on describing features of instances and policies are about describing actions. But I&#39;m really not sure about, although I also read the book.","body":"I would say that specifications are targeted on describing features of instances and policies are about describing actions. But I&#39;m really not sure about, although I also read the book."}],"answers":[{"tags":[],"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1690317909,"creation_date":1357500420,"answer_id":14185853,"question_id":14185139,"body_markdown":"The main idea behind SPECIFICATION is that it&#39;s a predicate, which often implies using logical operators with it\r\n\r\n&gt; SPECIFICATION is an adaptation of an established formalism (Eric Evans DDD, p. 274)\r\n\r\nfor example we can say that the box is red, i.e. satisfies some RedSpecification. We can declare some GreenSpecification, and even a composite RedOrGreenSpecification.\r\nIf we have some advanced framework that supports logical operations for specifications it can be something like \r\n\r\n    BoxSpecification redBoxSpec = BoxSpecification.forColor(BoxColor.RED);\r\n    BoxSpecification greenBoxSpec = BoxSpecification.forColor(BoxColor.GREEN);\r\n    BoxSpecification redOrGreenBoxSpec = redBoxSpec.or(greenBoxSpec);\r\n\r\nthen we can use the specification for example to query all red/green boxes from some repository:\r\n    \r\n    Collection&lt;Box&gt; boxes = boxRepository.findAll(redOrGreenBoxSpec);\r\n\r\nAs for POLICY - it&#39;s a variant of STRATEGY pattern, but its main purpose is encapsulating the business rules is some declarative form.\r\n\r\nTechnically - it&#39;s not always a direct implementation of STRATEGY - in first stages it can be just a separate class(as it&#39;s shown in the first chapter of the [*blue book*][1]), but it can be easily extended later \r\n\r\n&gt; *Policy* is another name for the design  pattern known as STRATEGY It is usually motivated by the need to substitute different rules, which is not needed here, as far we know. But the concept we are trying to capture does fit the *meaning* of a policy, which is an equally important motivation in domain-driven-design \r\n\r\n    \r\nFor example we pack presents in yellow boxes in January, and in red boxes in February\r\n\r\n\r\n    public class Box{\r\n      public BoxColor getColor(){}\r\n      public void recolor(BoxColor color){} \r\n    }\r\n    \r\n    public class BoxFactory{\r\n        public Box createDefaultBox(SomeDate date){\r\n             NewBoxPolicy boxPolicy = PolicyRegistry.getNewBoxPolicyForDate(date);\r\n             Box box = new Box();\r\n             boxPolicy.prepareBox(box);\r\n             return box;\r\n       }\r\n    }\r\n    public interface NewBoxPolicy{\r\n       void prepareBox(Box box);\r\n    }\r\n    public class FebruaryNewBoxPolicy implements NewBoxPolicy{\r\n        public void prepareBox(Box box) { box.recolor(BoxColor.RED}; }\r\n    }\r\n    public class JanuaryNewBoxPolicy implements NewBoxPolicy{\r\n        public void prepareBox(Box box) { box.recolor(BoxColor.YELLOW}; }\r\n    }\r\n    public class PolicyRegistry{\r\n       public static NewBoxPolicy getNewBoxPolicyForDate(SomeDate date){\r\n          switch (date.month()){\r\n             case SomeMonth.JANUARY: return JANUARY_NEW_BOX_POLICY;\r\n             case SomeMonth.FEBRUARY: return FEBRUARY_NEW_BOX_POLICY;\r\n             default: throw new AssertionError();\r\n          }\r\n    }\r\n\r\nIt&#39;s important to understand that POLICY can encapsulate actions, while SPECIFICATION only describes the properties of an object(these properties can both satisfy or DO NOT satisfy the business requirements). Some validation POLICY can use SPECIFICATIONs to check that the requirements are satisfied, of course.\r\n\r\nSo you can have many different SPECIFICATION instances in your project, and they can describe both the valid and invalid objects from the business point of view. Actually, specifications can make no sense at all: for example if you have a product searching site, user can specify a request to search for a product named &quot;XBOX&quot;, but with the vendor name &quot;Sony&quot;, if the knowledge that only the specific vendors can produce the specific products is not captured in your model.      \r\n\r\nThe important aspect of POLICY is that its intent is to encapsulate the *actual* business rules(so the code is not scattered the different parts of the project), so when the rules change you can easily find the corresponding class. So you can have many SPECIFICATIONs in your project, but a manageable number of POLICIES, and those POLICIES should be easy to find and to change. \r\n\r\nP.S. please note that this post is just an example and not a license to do over-engineering, of course you should use the simplest design possible, it&#39;s a matter of common sense.  \r\n\r\n\r\n  [1]: https://www.goodreads.com/book/show/179133.Domain_Driven_Design","title":"Difference between specification and a policy?","body":"<p>The main idea behind SPECIFICATION is that it's a predicate, which often implies using logical operators with it</p>\n<blockquote>\n<p>SPECIFICATION is an adaptation of an established formalism (Eric Evans DDD, p. 274)</p>\n</blockquote>\n<p>for example we can say that the box is red, i.e. satisfies some RedSpecification. We can declare some GreenSpecification, and even a composite RedOrGreenSpecification.\nIf we have some advanced framework that supports logical operations for specifications it can be something like</p>\n<pre><code>BoxSpecification redBoxSpec = BoxSpecification.forColor(BoxColor.RED);\nBoxSpecification greenBoxSpec = BoxSpecification.forColor(BoxColor.GREEN);\nBoxSpecification redOrGreenBoxSpec = redBoxSpec.or(greenBoxSpec);\n</code></pre>\n<p>then we can use the specification for example to query all red/green boxes from some repository:</p>\n<pre><code>Collection&lt;Box&gt; boxes = boxRepository.findAll(redOrGreenBoxSpec);\n</code></pre>\n<p>As for POLICY - it's a variant of STRATEGY pattern, but its main purpose is encapsulating the business rules is some declarative form.</p>\n<p>Technically - it's not always a direct implementation of STRATEGY - in first stages it can be just a separate class(as it's shown in the first chapter of the <a href=\"https://www.goodreads.com/book/show/179133.Domain_Driven_Design\" rel=\"nofollow noreferrer\"><em>blue book</em></a>), but it can be easily extended later</p>\n<blockquote>\n<p><em>Policy</em> is another name for the design  pattern known as STRATEGY It is usually motivated by the need to substitute different rules, which is not needed here, as far we know. But the concept we are trying to capture does fit the <em>meaning</em> of a policy, which is an equally important motivation in domain-driven-design</p>\n</blockquote>\n<p>For example we pack presents in yellow boxes in January, and in red boxes in February</p>\n<pre><code>public class Box{\n  public BoxColor getColor(){}\n  public void recolor(BoxColor color){} \n}\n\npublic class BoxFactory{\n    public Box createDefaultBox(SomeDate date){\n         NewBoxPolicy boxPolicy = PolicyRegistry.getNewBoxPolicyForDate(date);\n         Box box = new Box();\n         boxPolicy.prepareBox(box);\n         return box;\n   }\n}\npublic interface NewBoxPolicy{\n   void prepareBox(Box box);\n}\npublic class FebruaryNewBoxPolicy implements NewBoxPolicy{\n    public void prepareBox(Box box) { box.recolor(BoxColor.RED}; }\n}\npublic class JanuaryNewBoxPolicy implements NewBoxPolicy{\n    public void prepareBox(Box box) { box.recolor(BoxColor.YELLOW}; }\n}\npublic class PolicyRegistry{\n   public static NewBoxPolicy getNewBoxPolicyForDate(SomeDate date){\n      switch (date.month()){\n         case SomeMonth.JANUARY: return JANUARY_NEW_BOX_POLICY;\n         case SomeMonth.FEBRUARY: return FEBRUARY_NEW_BOX_POLICY;\n         default: throw new AssertionError();\n      }\n}\n</code></pre>\n<p>It's important to understand that POLICY can encapsulate actions, while SPECIFICATION only describes the properties of an object(these properties can both satisfy or DO NOT satisfy the business requirements). Some validation POLICY can use SPECIFICATIONs to check that the requirements are satisfied, of course.</p>\n<p>So you can have many different SPECIFICATION instances in your project, and they can describe both the valid and invalid objects from the business point of view. Actually, specifications can make no sense at all: for example if you have a product searching site, user can specify a request to search for a product named &quot;XBOX&quot;, but with the vendor name &quot;Sony&quot;, if the knowledge that only the specific vendors can produce the specific products is not captured in your model.</p>\n<p>The important aspect of POLICY is that its intent is to encapsulate the <em>actual</em> business rules(so the code is not scattered the different parts of the project), so when the rules change you can easily find the corresponding class. So you can have many SPECIFICATIONs in your project, but a manageable number of POLICIES, and those POLICIES should be easy to find and to change.</p>\n<p>P.S. please note that this post is just an example and not a license to do over-engineering, of course you should use the simplest design possible, it's a matter of common sense.</p>\n"}],"owner":{"account_id":132538,"reputation":19447,"user_id":333288,"accept_rate":97,"display_name":"MUG4N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11315,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":14185853,"answer_count":1,"score":42,"last_activity_date":1690317909,"creation_date":1357495808,"question_id":14185139,"body_markdown":"I am reading the brilliant book &quot;Domain Driven Design&quot; written by Eric Evans. In his book Eric describes two different concepts: the specification pattern and policies. \r\n\r\nHere is an example for a specification:\r\n\r\n    public interface ProjectSpecification {\r\n      public boolean isSatisfiedBy(Project p);\r\n    }\r\n\r\n    public class ProjectIsOverdueSpecification implements ProjectSpecification {\r\n      public boolean isSatisfiedBy(Project p) { … }\r\n    }\r\n\r\n    //client:\r\n    if {\r\n      (projectIsOverdueSpecification.isSatisfiedBy(theCurrentProject) { … }\r\n    }\r\n\r\nHere is an example for a policy:\r\n\r\n    public class CargoBooking {\r\n\r\n      private OverBookingPolicy overBookingPolicy = new OverBookingPolicy();\r\n     \r\n      public int makeBooking(Cargo cargo, Voyage voyage) {\r\n        if (!overbookingPolicy.isAllowed(cargo, voyage)) \r\n          return –1;\r\n        int confirmation = orderConfirmationSequence.next();\r\n        voyage.addCargo(cargo, confirmation);\r\n        return confirmation;\r\n      }\r\n    }\r\n     \r\n    public OverBookingPolicy {\r\n      public boolean isAllowed(Cargo cargo, Voyage voyage) {\r\n        return (cargo.size() + voyage.bookedCargoSize()) &lt;= (voyage.capacity() * 1.1);\r\n      }\r\n    }\r\n\r\nI know that a policy is actually a strategy but in the two examples above there is absolutely no difference. So my question at this point is: What is the difference between those two patterns? Both patterns make business rules explicit so why do we distinguish between those two patterns? For me both are kind of predicates.\r\n\r\n","title":"Difference between specification and a policy?","body":"<p>I am reading the brilliant book \"Domain Driven Design\" written by Eric Evans. In his book Eric describes two different concepts: the specification pattern and policies. </p>\n\n<p>Here is an example for a specification:</p>\n\n<pre><code>public interface ProjectSpecification {\n  public boolean isSatisfiedBy(Project p);\n}\n\npublic class ProjectIsOverdueSpecification implements ProjectSpecification {\n  public boolean isSatisfiedBy(Project p) { … }\n}\n\n//client:\nif {\n  (projectIsOverdueSpecification.isSatisfiedBy(theCurrentProject) { … }\n}\n</code></pre>\n\n<p>Here is an example for a policy:</p>\n\n<pre><code>public class CargoBooking {\n\n  private OverBookingPolicy overBookingPolicy = new OverBookingPolicy();\n\n  public int makeBooking(Cargo cargo, Voyage voyage) {\n    if (!overbookingPolicy.isAllowed(cargo, voyage)) \n      return –1;\n    int confirmation = orderConfirmationSequence.next();\n    voyage.addCargo(cargo, confirmation);\n    return confirmation;\n  }\n}\n\npublic OverBookingPolicy {\n  public boolean isAllowed(Cargo cargo, Voyage voyage) {\n    return (cargo.size() + voyage.bookedCargoSize()) &lt;= (voyage.capacity() * 1.1);\n  }\n}\n</code></pre>\n\n<p>I know that a policy is actually a strategy but in the two examples above there is absolutely no difference. So my question at this point is: What is the difference between those two patterns? Both patterns make business rules explicit so why do we distinguish between those two patterns? For me both are kind of predicates.</p>\n"},{"tags":["java","date-format","java-time"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1690225032,"post_id":76757281,"comment_id":135320730,"body_markdown":"What have you tried ?","body":"What have you tried ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1690228266,"post_id":76757281,"comment_id":135321298,"body_markdown":"the patterns are listed in the [javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns) (with examples and explanation about how many symbols are needed)","body":"the patterns are listed in the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\">javadoc</a> (with examples and explanation about how many symbols are needed)"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1690232059,"post_id":76757281,"comment_id":135321934,"body_markdown":"[Never use `SimpleDateFormat` or `DateTimeFormatter` without a `Locale`](https://stackoverflow.com/a/65544056/10819573).","body":"<a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code> without a <code>Locale</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690292818,"creation_date":1690225020,"answer_id":76757319,"question_id":76757281,"body_markdown":"_Updated with code_\r\n\r\nYou have to combine a couple of things: \r\n\r\n1. Parse the date into an `OffsetDateTime` (which has the timezone part)\r\n1. Convert that into an `Instant` which like an &quot;absolute&quot; time. \r\n1. Get your local offset, so you see what that would be in your local time\r\n1. Convert the instant into `LocalDateTime` using that offset. \r\n\r\nCode\r\n\r\n```java\r\nimport java.time.*;\r\nimport java.time.format.*;\r\n\r\n\r\n/* 1 */ var odt = OffsetDateTime.parse(&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;,\r\n                               DateTimeFormatter.RFC_1123_DATE_TIME);\r\n/* 2 */ var instant = odt.toInstant();\r\n/* 3 */ var localOffset = OffsetDateTime.now().getOffset();\r\n/* 4 */ var result = LocalDateTime.ofInstant(instant, localOffset);\r\n\r\n\r\n/*\r\nResult\r\nodt ==&gt; 2023-07-14T11:53:06-04:00\r\ninstant ==&gt; 2023-07-14T15:53:06Z\r\nlocalOffset ==&gt; -05:00\r\nresult ==&gt; 2023-07-14T10:53:06\r\n*/\r\n```","title":"How to parse a date string containing a numerical zone offset","body":"<p><em>Updated with code</em></p>\n<p>You have to combine a couple of things:</p>\n<ol>\n<li>Parse the date into an <code>OffsetDateTime</code> (which has the timezone part)</li>\n<li>Convert that into an <code>Instant</code> which like an &quot;absolute&quot; time.</li>\n<li>Get your local offset, so you see what that would be in your local time</li>\n<li>Convert the instant into <code>LocalDateTime</code> using that offset.</li>\n</ol>\n<p>Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.*;\nimport java.time.format.*;\n\n\n/* 1 */ var odt = OffsetDateTime.parse(&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;,\n                               DateTimeFormatter.RFC_1123_DATE_TIME);\n/* 2 */ var instant = odt.toInstant();\n/* 3 */ var localOffset = OffsetDateTime.now().getOffset();\n/* 4 */ var result = LocalDateTime.ofInstant(instant, localOffset);\n\n\n/*\nResult\nodt ==&gt; 2023-07-14T11:53:06-04:00\ninstant ==&gt; 2023-07-14T15:53:06Z\nlocalOffset ==&gt; -05:00\nresult ==&gt; 2023-07-14T10:53:06\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690316952,"creation_date":1690226677,"answer_id":76757486,"question_id":76757281,"body_markdown":"The issue is the zone offset. You are using a lowercase &#39;z&#39; which is for a named time zone e.g. &quot;PST&quot; or &quot;EST&quot;. Try with a capital &#39;Z&#39; as shown below for a numerical zone offset:\r\n\r\n        String date = &quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;;\r\n        String pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;; //Note the capital &#39;Z&#39;\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(date, formatter);\r\n        System.out.println(zonedDateTime);\r\n\r\n","title":"How to parse a date string containing a numerical zone offset","body":"<p>The issue is the zone offset. You are using a lowercase 'z' which is for a named time zone e.g. &quot;PST&quot; or &quot;EST&quot;. Try with a capital 'Z' as shown below for a numerical zone offset:</p>\n<pre><code>    String date = &quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;;\n    String pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;; //Note the capital 'Z'\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\n    ZonedDateTime zonedDateTime = ZonedDateTime.parse(date, formatter);\n    System.out.println(zonedDateTime);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690271352,"creation_date":1690238589,"answer_id":76758429,"question_id":76757281,"body_markdown":"The [Answer by bhspencer][1] identifies part of the problem, needing a tweak to your formatting pattern. However, you may also need to specify a `Locale` with your `DateTimeFormatter`. \r\n\r\nBut FYI, there is a simpler approach. No need to specify a formatting pattern at all.\r\n\r\n# tl;dr\r\n\r\n    OffsetDateTime.parse( \r\n        &quot;Fri, 14 Jul 2023 11:53:06 -0400&quot; , \r\n        DateTimeFormatter.RFC_1123_DATE_TIME \r\n    )\r\n\r\n# RFC 1123 / RFC 822\r\n\r\nYour input string `&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;` complies with the outdated standard format defined in [RFC 1123][2] &amp; RFC 822. \r\n\r\n*java.time* comes with a formatter predefined for that format. See class [`DateTimeFormatter.RFC_1123_DATE_TIME`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME).\r\n\r\n```java\r\nString input = &quot;Fri, 14 Jul 2023 11:53:06 -0400&quot; ;\r\nOffsetDateTime odt = OffsetDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME );\r\n```\r\n\r\nSee this code [run at Ideone.com][3].\r\n\r\n&gt;odt.toString() = 2023-07-14T11:53:06-04:00\r\n\r\n\r\n----------\r\n\r\nTip: Educate the publisher of your data about using the modern [ISO 8601][4] standard formats rather than these troublesome outmoded formats.\r\n\r\nAnd educate them on using a fully-formed offset, including the optional COLON. I have seen multiple protocols and libraries that do not tolerate the omitted COLON. And easier to read by humans if included.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76757486/642706\r\n  [2]: https://www.rfc-editor.org/rfc/rfc1123\r\n  [3]: https://ideone.com/ZTIFF0\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to parse a date string containing a numerical zone offset","body":"<p>The <a href=\"https://stackoverflow.com/a/76757486/642706\">Answer by bhspencer</a> identifies part of the problem, needing a tweak to your formatting pattern. However, you may also need to specify a <code>Locale</code> with your <code>DateTimeFormatter</code>.</p>\n<p>But FYI, there is a simpler approach. No need to specify a formatting pattern at all.</p>\n<h1>tl;dr</h1>\n<pre><code>OffsetDateTime.parse( \n    &quot;Fri, 14 Jul 2023 11:53:06 -0400&quot; , \n    DateTimeFormatter.RFC_1123_DATE_TIME \n)\n</code></pre>\n<h1>RFC 1123 / RFC 822</h1>\n<p>Your input string <code>&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;</code> complies with the outdated standard format defined in <a href=\"https://www.rfc-editor.org/rfc/rfc1123\" rel=\"nofollow noreferrer\">RFC 1123</a> &amp; RFC 822.</p>\n<p><em>java.time</em> comes with a formatter predefined for that format. See class <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.RFC_1123_DATE_TIME</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Fri, 14 Jul 2023 11:53:06 -0400&quot; ;\nOffsetDateTime odt = OffsetDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME );\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/ZTIFF0\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>odt.toString() = 2023-07-14T11:53:06-04:00</p>\n</blockquote>\n<hr />\n<p>Tip: Educate the publisher of your data about using the modern <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats rather than these troublesome outmoded formats.</p>\n<p>And educate them on using a fully-formed offset, including the optional COLON. I have seen multiple protocols and libraries that do not tolerate the omitted COLON. And easier to read by humans if included.</p>\n"},{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690296500,"creation_date":1690296500,"answer_id":76763888,"question_id":76757281,"body_markdown":"With below code I am able to get result without error in date format. Not sure if this is what you needed. Or comment here and will explore options.\r\n\r\n**Code**\r\n\r\n    DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;E, d LLL u HH:mm:ss Z&quot;);\r\n    LocalDateTime date = LocalDateTime.parse(&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;, fmt);\r\n    System.out.println(date);\r\n**Result**\r\n\r\n    2023-07-14T11:53:06","title":"How to parse a date string containing a numerical zone offset","body":"<p>With below code I am able to get result without error in date format. Not sure if this is what you needed. Or comment here and will explore options.</p>\n<p><strong>Code</strong></p>\n<pre><code>DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;E, d LLL u HH:mm:ss Z&quot;);\nLocalDateTime date = LocalDateTime.parse(&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;, fmt);\nSystem.out.println(date);\n</code></pre>\n<p><strong>Result</strong></p>\n<pre><code>2023-07-14T11:53:06\n</code></pre>\n"}],"owner":{"account_id":2279792,"reputation":3681,"user_id":2005176,"accept_rate":4,"display_name":"akaliza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":4,"score":1,"last_activity_date":1690316952,"creation_date":1690224669,"question_id":76757281,"body_markdown":"I have this date in string `&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;`\r\n\r\n and I am unable to convert it in LocalDateTime \r\nI have tried this pattern &quot;EEE, dd MMM yyyy HH:mm:ss z&quot; and I have date format exception\r\n\r\n\r\nany idea ?\r\n\r\nThanks","title":"How to parse a date string containing a numerical zone offset","body":"<p>I have this date in string <code>&quot;Fri, 14 Jul 2023 11:53:06 -0400&quot;</code></p>\n<p>and I am unable to convert it in LocalDateTime\nI have tried this pattern &quot;EEE, dd MMM yyyy HH:mm:ss z&quot; and I have date format exception</p>\n<p>any idea ?</p>\n<p>Thanks</p>\n"},{"tags":["java","multithreading","while-loop","wait"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1445082765,"post_id":33186280,"comment_id":54178482,"body_markdown":"Everything can be answered by reading the javadoc of wait() and notify() (and notifyAll(), which should be preferred).","body":"Everything can be answered by reading the javadoc of wait() and notify() (and notifyAll(), which should be preferred)."},{"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"score":1,"creation_date":1445087583,"post_id":33186280,"comment_id":54179852,"body_markdown":"I wouldn&#39;t say that `notifyAll` &quot;should be preferred&quot;.  There are cases where it&#39;s appropriate, and cases where it isn&#39;t.","body":"I wouldn&#39;t say that <code>notifyAll</code> &quot;should be preferred&quot;.  There are cases where it&#39;s appropriate, and cases where it isn&#39;t."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1445095888,"post_id":33186280,"comment_id":54182438,"body_markdown":"http://stackoverflow.com/q/32774399/2158288","body":"<a href=\"http://stackoverflow.com/q/32774399/2158288\">stackoverflow.com/q/32774399/2158288</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1445186374,"post_id":33186280,"comment_id":54205587,"body_markdown":"@Wyzard, One case where notifyAll() should be preferred is if you&#39;re handing out bite-sized bits of advice to newbies who don&#39;t fully understand what they&#39;re doing.  If you use notifyAll() when you could have used notify(), the only consequence is that the program does not perform as well as it might have done.  If you use notify() where you should have used notifyAll(), then the consequence could be much worse than that.","body":"@Wyzard, One case where notifyAll() should be preferred is if you&#39;re handing out bite-sized bits of advice to newbies who don&#39;t fully understand what they&#39;re doing.  If you use notifyAll() when you could have used notify(), the only consequence is that the program does not perform as well as it might have done.  If you use notify() where you should have used notifyAll(), then the consequence could be much worse than that."}],"answers":[{"tags":[],"owner":{"account_id":3869700,"reputation":337,"user_id":3205937,"accept_rate":50,"display_name":"GMB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445085092,"creation_date":1445085092,"answer_id":33186648,"question_id":33186280,"body_markdown":"An `if` statement checks if an expression is true or false by **running once**, and then runs the code inside the statement only if it is true.\r\n\r\nwhere as \r\n\r\nA `while` condition **continues to execute** the code in the while statement untill the expression is true. Moreover while loops are more suitable to be used when you don&#39;t know how many times you may have to loop through the condition.\r\n\r\n`obj.wait()` - causes the current thread to wait until another thread invokes the `notify()` method or the `nofityAll()` method for the respective object in this case. In case  a timeout was passes as a parameter then the tread would wait till the certain amount of time has elapsed.\r\n\r\n`obj.notify()` would wake up a single thread that was waiting on the respective objects monitor. The awakened thread will proceed only after the current thread relinquishes the lock on the object.","title":"Why we must use &quot;while&quot; for checking race condition not &quot;if&quot;","body":"<p>An <code>if</code> statement checks if an expression is true or false by <strong>running once</strong>, and then runs the code inside the statement only if it is true.</p>\n\n<p>where as </p>\n\n<p>A <code>while</code> condition <strong>continues to execute</strong> the code in the while statement untill the expression is true. Moreover while loops are more suitable to be used when you don't know how many times you may have to loop through the condition.</p>\n\n<p><code>obj.wait()</code> - causes the current thread to wait until another thread invokes the <code>notify()</code> method or the <code>nofityAll()</code> method for the respective object in this case. In case  a timeout was passes as a parameter then the tread would wait till the certain amount of time has elapsed.</p>\n\n<p><code>obj.notify()</code> would wake up a single thread that was waiting on the respective objects monitor. The awakened thread will proceed only after the current thread relinquishes the lock on the object.</p>\n"},{"tags":[],"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445087358,"creation_date":1445087358,"answer_id":33187004,"question_id":33186280,"body_markdown":"The need for the loop is explained in the Javadoc for the `wait` methods:\r\n\r\n&gt; A thread can also wake up without being notified, interrupted, or timing out, a so-called *spurious wakeup.* While this will rarely occur in practice, applications must guard against it by testing for the condition that should have caused the thread to be awakened, and continuing to wait if the condition is not satisfied.\r\n\r\nTo guard against this, after the `wait()` call returns, you have to check the condition again, and if it&#39;s false, go back and call `wait()` again instead of proceeding.  The `while` loop accomplishes that.\r\n\r\n---\r\n\r\nWhen you call `wait()`, the object&#39;s lock is automatically released while waiting, and then acquired again before the method returns.  This means that when another thread calls `notify()` on the object, the waiting thread can&#39;t immediately resume running, because the notifying thread still holds the object&#39;s lock and the waiting thread has to wait for it to be released.  It also means that if there are several waiting threads and you call `notifyAll()`, the waiting threads can&#39;t all resume at once:  one of the threads will get the lock and return from `wait()`, and when it releases the lock, then another of the threads can acquire it and return from `wait()`, and so on.\r\n\r\nIn some cases when multiple waiting threads are involved, a waiting thread may wake up, find that the condition is true, and do some stuff that ends up changing the condition back to false — all while holding the lock.  Then, when it releases the lock (e.g. by calling `wait()` again), the next thread wakes up and finds that the condition is false.  In this case, it isn&#39;t a spurious wakeup; the condition really did become true, but then became false again before the thread got a chance to check it.\r\n\r\nFor example:  a producer thread adds several items to a queue and calls `notifyAll()` to wake up the consumer threads.  Each consumer thread takes one item from the queue, then releases the lock while processing the item.  But if there are more consumer threads than there were items added to the queue, some of the threads will wake up only to find that the queue is empty, so they just have to go back to waiting again.\r\n\r\nChecking the condition in a `while` loop takes care of this situation in addition to handling spurious wakeups.","title":"Why we must use &quot;while&quot; for checking race condition not &quot;if&quot;","body":"<p>The need for the loop is explained in the Javadoc for the <code>wait</code> methods:</p>\n\n<blockquote>\n  <p>A thread can also wake up without being notified, interrupted, or timing out, a so-called <em>spurious wakeup.</em> While this will rarely occur in practice, applications must guard against it by testing for the condition that should have caused the thread to be awakened, and continuing to wait if the condition is not satisfied.</p>\n</blockquote>\n\n<p>To guard against this, after the <code>wait()</code> call returns, you have to check the condition again, and if it's false, go back and call <code>wait()</code> again instead of proceeding.  The <code>while</code> loop accomplishes that.</p>\n\n<hr>\n\n<p>When you call <code>wait()</code>, the object's lock is automatically released while waiting, and then acquired again before the method returns.  This means that when another thread calls <code>notify()</code> on the object, the waiting thread can't immediately resume running, because the notifying thread still holds the object's lock and the waiting thread has to wait for it to be released.  It also means that if there are several waiting threads and you call <code>notifyAll()</code>, the waiting threads can't all resume at once:  one of the threads will get the lock and return from <code>wait()</code>, and when it releases the lock, then another of the threads can acquire it and return from <code>wait()</code>, and so on.</p>\n\n<p>In some cases when multiple waiting threads are involved, a waiting thread may wake up, find that the condition is true, and do some stuff that ends up changing the condition back to false — all while holding the lock.  Then, when it releases the lock (e.g. by calling <code>wait()</code> again), the next thread wakes up and finds that the condition is false.  In this case, it isn't a spurious wakeup; the condition really did become true, but then became false again before the thread got a chance to check it.</p>\n\n<p>For example:  a producer thread adds several items to a queue and calls <code>notifyAll()</code> to wake up the consumer threads.  Each consumer thread takes one item from the queue, then releases the lock while processing the item.  But if there are more consumer threads than there were items added to the queue, some of the threads will wake up only to find that the queue is empty, so they just have to go back to waiting again.</p>\n\n<p>Checking the condition in a <code>while</code> loop takes care of this situation in addition to handling spurious wakeups.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1690316761,"creation_date":1483725019,"answer_id":41511395,"question_id":33186280,"body_markdown":"Using an if check instead of checking repeatedly in a loop is a mistake. There are a couple reasons to use the loop.\r\n\r\nOne is the &quot;spurious wakeup&quot;, which means the wait method can return without the thread having been notified: it&#39;s not valid to infer, based on the thread exiting the wait method, that it must have gotten notified. This may not happen a lot but it is a possibility that has to be handled.\r\n\r\nBut the main reason is this one: When your thread waits it releases the lock. When it receives a notification it doesn&#39;t have the lock and has to acquire it again before it can exit the wait method. *Just because the thread got notified doesn&#39;t mean it&#39;s next in line to get the lock.* If the thread decides what to do based on something that happened when the thread didn&#39;t have ownership of the lock, multiple threads may have had the opportunity to act on the same shared object between the time the notify happened and the time that the thread got the lock, and the state of the shared object may not be what your thread thinks it is. Using a while loop allows the thread to check the condition it&#39;s waiting on again, with the lock held, confirming that the condition is still valid before it proceeds.\r\n\r\n\r\n","title":"Why we must use &quot;while&quot; for checking race condition not &quot;if&quot;","body":"<p>Using an if check instead of checking repeatedly in a loop is a mistake. There are a couple reasons to use the loop.</p>\n<p>One is the &quot;spurious wakeup&quot;, which means the wait method can return without the thread having been notified: it's not valid to infer, based on the thread exiting the wait method, that it must have gotten notified. This may not happen a lot but it is a possibility that has to be handled.</p>\n<p>But the main reason is this one: When your thread waits it releases the lock. When it receives a notification it doesn't have the lock and has to acquire it again before it can exit the wait method. <em>Just because the thread got notified doesn't mean it's next in line to get the lock.</em> If the thread decides what to do based on something that happened when the thread didn't have ownership of the lock, multiple threads may have had the opportunity to act on the same shared object between the time the notify happened and the time that the thread got the lock, and the state of the shared object may not be what your thread thinks it is. Using a while loop allows the thread to check the condition it's waiting on again, with the lock held, confirming that the condition is still valid before it proceeds.</p>\n"}],"owner":{"account_id":2637198,"reputation":317,"user_id":2281578,"accept_rate":29,"display_name":"scugxl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3717,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1690316761,"creation_date":1445082680,"question_id":33186280,"body_markdown":"I read the following code in &quot;Thinking in java&quot;.\r\n\r\n    synchronized(obj)\r\n\t\t{\r\n\t\t\twhile (condition_not_matched)\r\n\t\t\t{\r\n\t\t\t\tobj.wait();\r\n\t\t\t}\r\n\t\t\t//continue\r\n\t\t\tdosomething();\r\n\t\t\t\r\n\t\t}\r\n\r\nWhat I think:&lt;br&gt;\r\nUse &quot;if&quot; is OK, because the &quot;wait&quot; means it must get the obj&#39;s lock monitor, and only one thread can executed here.\r\n\r\n(1)Why here use &quot;while (condition)&quot; not &quot;if&quot; ?&lt;br&gt;\r\n(2)What happend when executed &quot;obj.wait()&quot;? Does the currrent thread  release the lock of &quot;obj&quot;?&lt;br&gt; \r\n(3)And when another thread executed &quot;obj.notify()&quot;, what happend of the previous thread (Did it refetch the lock of obj or not ?if yes, it must condition_not_matched , so &quot;if&quot; is enough.)&lt;br&gt;\r\nAm I wrong?","title":"Why we must use &quot;while&quot; for checking race condition not &quot;if&quot;","body":"<p>I read the following code in \"Thinking in java\".</p>\n\n<pre><code>synchronized(obj)\n    {\n        while (condition_not_matched)\n        {\n            obj.wait();\n        }\n        //continue\n        dosomething();\n\n    }\n</code></pre>\n\n<p>What I think:<br>\nUse \"if\" is OK, because the \"wait\" means it must get the obj's lock monitor, and only one thread can executed here.</p>\n\n<p>(1)Why here use \"while (condition)\" not \"if\" ?<br>\n(2)What happend when executed \"obj.wait()\"? Does the currrent thread  release the lock of \"obj\"?<br> \n(3)And when another thread executed \"obj.notify()\", what happend of the previous thread (Did it refetch the lock of obj or not ?if yes, it must condition_not_matched , so \"if\" is enough.)<br>\nAm I wrong?</p>\n"},{"tags":["java","android","android-source","mobile-development"],"comments":[{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1427394010,"post_id":29285714,"comment_id":46769437,"body_markdown":"Are you talking about: https://source.android.com/source/building-kernels.html#downloading-a-prebuilt-gcc?","body":"Are you talking about: <a href=\"https://source.android.com/source/building-kernels.html#downloading-a-prebuilt-gcc\" rel=\"nofollow noreferrer\">source.android.com/source/&hellip;</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1933155,"reputation":15551,"user_id":1830736,"accept_rate":98,"display_name":"George Hilliard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427394517,"creation_date":1427394167,"answer_id":29286056,"question_id":29285714,"body_markdown":"The AOSP toolchain is, essentially, the collection of tools used to build Android.\r\n\r\nThe [documentation](https://source.android.com/source/initializing.html) [describes](https://source.android.com/source/downloading.html) how to set up a suitable toolchain.  It normally happens automatically when you try to build anything for your target.  This build normally happens by invoking the `lunch` command.","title":"What is the AOSP Toolchain?","body":"<p>The AOSP toolchain is, essentially, the collection of tools used to build Android.</p>\n\n<p>The <a href=\"https://source.android.com/source/initializing.html\" rel=\"nofollow\">documentation</a> <a href=\"https://source.android.com/source/downloading.html\" rel=\"nofollow\">describes</a> how to set up a suitable toolchain.  It normally happens automatically when you try to build anything for your target.  This build normally happens by invoking the <code>lunch</code> command.</p>\n"},{"tags":[],"owner":{"account_id":85940,"reputation":2812,"user_id":239318,"accept_rate":94,"display_name":"diatrevolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427394243,"creation_date":1427394243,"answer_id":29286080,"question_id":29285714,"body_markdown":"The toolchain (even in the broader sense, not just AOSP) is the set of tools necessary to build software and firmware for a specific platform.  In the sense of AOSP, this includes all the scripts and binaries necessary to interpret and build Android make files, scripts necessary for selecting architectures, for inspecting source code, for running tests on a build, etc.  \r\n\r\nBasically the toolchain is everything you need to develop for a platform.","title":"What is the AOSP Toolchain?","body":"<p>The toolchain (even in the broader sense, not just AOSP) is the set of tools necessary to build software and firmware for a specific platform.  In the sense of AOSP, this includes all the scripts and binaries necessary to interpret and build Android make files, scripts necessary for selecting architectures, for inspecting source code, for running tests on a build, etc.  </p>\n\n<p>Basically the toolchain is everything you need to develop for a platform.</p>\n"},{"tags":[],"owner":{"account_id":14562608,"reputation":198,"user_id":10518289,"display_name":"janithcooray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690316449,"creation_date":1690316449,"answer_id":76766266,"question_id":29285714,"body_markdown":"For readers who saw `get the proper toolchain packages from AOSP or CodeSourcery or ETC` and wanted to know where to get it - \r\n\r\nIt&#39;s not clearly mentioned In the Android source website itself what these tools are specifically. you have to download the entire repo and you will find it inside.","title":"What is the AOSP Toolchain?","body":"<p>For readers who saw <code>get the proper toolchain packages from AOSP or CodeSourcery or ETC</code> and wanted to know where to get it -</p>\n<p>It's not clearly mentioned In the Android source website itself what these tools are specifically. you have to download the entire repo and you will find it inside.</p>\n"}],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690316449,"creation_date":1427393012,"question_id":29285714,"body_markdown":"I&#39;m looking to build some kernel source code, and I keep seeing &quot;AOSP Toolchain&quot;. I know that AOSP is the Android Open Source Project, but I&#39;m wondering what exactly is the &quot;toolchain&quot;? ","title":"What is the AOSP Toolchain?","body":"<p>I'm looking to build some kernel source code, and I keep seeing \"AOSP Toolchain\". I know that AOSP is the Android Open Source Project, but I'm wondering what exactly is the \"toolchain\"? </p>\n"},{"tags":["java","gradle","discord4j"],"answers":[{"tags":[],"owner":{"account_id":15013161,"reputation":71,"user_id":10836980,"display_name":"Azn9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690273910,"creation_date":1690273910,"answer_id":76760832,"question_id":76760268,"body_markdown":"By clicking the &quot;stop&quot; button, you&#39;re forcibly closing the application without letting it terminate properly.\r\nIf the bot still appears online, it is because due to this force close, it never sends a &quot;disconnect&quot; message to Discord.\r\nThe threads you see are from gradle, which runs as a daemon by default, meaning it is always active to launch the applications faster the next time you use it.\r\n\r\nIf you want to shut down your bot correctly, you should add some logic in your code by listening for input in the console by example and calling `client.logout().block();`.","title":"Threads not being terminated after closing application","body":"<p>By clicking the &quot;stop&quot; button, you're forcibly closing the application without letting it terminate properly.\nIf the bot still appears online, it is because due to this force close, it never sends a &quot;disconnect&quot; message to Discord.\nThe threads you see are from gradle, which runs as a daemon by default, meaning it is always active to launch the applications faster the next time you use it.</p>\n<p>If you want to shut down your bot correctly, you should add some logic in your code by listening for input in the console by example and calling <code>client.logout().block();</code>.</p>\n"},{"tags":[],"owner":{"account_id":29054467,"reputation":36,"user_id":22256528,"display_name":"Muhammad Tariq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690275448,"creation_date":1690275448,"answer_id":76761056,"question_id":76760268,"body_markdown":"It seems like the issue might be related to how you are handling the termination of your Discord bot application. When you run the bot using the code you provided, it blocks the main thread with `gateway.onDisconnect().block();`, preventing the application from properly terminating when you try to exit it.\r\n\r\nTo gracefully shut down the Discord bot when you want to exit the application, you can use a `CountDownLatch`. Here&#39;s how you can modify your code to achieve this:\r\n\r\n    ```java\r\n    import reactor.core.publisher.Mono;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class SampleBot {\r\n        private static final String BOT_TOKEN = &quot;your_bot_token_here&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            DiscordClient client = DiscordClientBuilder.create(BOT_TOKEN).build();\r\n            GatewayDiscordClient gateway = client.login().block();\r\n    \r\n            // Initialize the latch with 1 permit\r\n            CountDownLatch latch = new CountDownLatch(1);\r\n    \r\n            // Add a shutdown hook to gracefully disconnect the bot when the application is terminated\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n                System.out.println(&quot;Shutting down bot...&quot;);\r\n                gateway.logout().block();\r\n                latch.countDown();\r\n            }));\r\n    \r\n            // Wait until the latch reaches 0 (i.e., the bot is disconnected)\r\n            latch.await();\r\n        }\r\n    }\r\n    ```\r\n\r\nWith this modification, when you run the bot, it will start and block the main thread with `latch.await()`. However, when you exit the application (for example, by clicking the Exit button in the console), the shutdown hook will be triggered, logging out the bot and releasing the latch, allowing the main thread to continue and the application to terminate gracefully.\r\n\r\nBy using this approach, you should no longer see active threads in your task manager after exiting the application, as the bot will be disconnected properly before the application terminates.","title":"Threads not being terminated after closing application","body":"<p>It seems like the issue might be related to how you are handling the termination of your Discord bot application. When you run the bot using the code you provided, it blocks the main thread with <code>gateway.onDisconnect().block();</code>, preventing the application from properly terminating when you try to exit it.</p>\n<p>To gracefully shut down the Discord bot when you want to exit the application, you can use a <code>CountDownLatch</code>. Here's how you can modify your code to achieve this:</p>\n<pre><code>```java\nimport reactor.core.publisher.Mono;\nimport java.util.concurrent.CountDownLatch;\n\npublic class SampleBot {\n    private static final String BOT_TOKEN = &quot;your_bot_token_here&quot;;\n\n    public static void main(String[] args) throws Exception {\n        DiscordClient client = DiscordClientBuilder.create(BOT_TOKEN).build();\n        GatewayDiscordClient gateway = client.login().block();\n\n        // Initialize the latch with 1 permit\n        CountDownLatch latch = new CountDownLatch(1);\n\n        // Add a shutdown hook to gracefully disconnect the bot when the application is terminated\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            System.out.println(&quot;Shutting down bot...&quot;);\n            gateway.logout().block();\n            latch.countDown();\n        }));\n\n        // Wait until the latch reaches 0 (i.e., the bot is disconnected)\n        latch.await();\n    }\n}\n```\n</code></pre>\n<p>With this modification, when you run the bot, it will start and block the main thread with <code>latch.await()</code>. However, when you exit the application (for example, by clicking the Exit button in the console), the shutdown hook will be triggered, logging out the bot and releasing the latch, allowing the main thread to continue and the application to terminate gracefully.</p>\n<p>By using this approach, you should no longer see active threads in your task manager after exiting the application, as the bot will be disconnected properly before the application terminates.</p>\n"}],"owner":{"account_id":29085639,"reputation":1,"user_id":22280584,"display_name":"Larrix Replik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690315985,"creation_date":1690269414,"question_id":76760268,"body_markdown":"I&#39;m trying to create a discord bot using the Discord4J api, but when I try to run the app from IntelliJ or CMD, when I exit the app, the bot is still active and in my task manager I can see the active threads created by this app, the only way is to manually end the tasks from task manager.\r\n\r\nI followed the steps provided by the official Discord4J wiki [Music-Bot-Tutorial](https://github.com/Discord4J/Discord4J/wiki/Music-Bot-Tutorial), It mentions `If you wish to disconnect your bot, click on the Exit button in the console.`, but this is not happening with my program.\r\n\r\nThis is the code I am using:\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n  DiscordClient client = DiscordClientBuilder.create(BOT_TOKEN).build();\r\n  GatewayDiscordClient gateway = client.login().block();\r\n\r\n  gateway.onDisconnect().block();\r\n}\r\n```\r\n\r\nGradle only gives this details when I try to stop the application\r\n`\r\nExecution failed for task &#39;:SampleBot.main()&#39;.\r\nBuild cancelled while executing task &#39;:SampleBot.main()&#39;\r\n`","title":"Threads not being terminated after closing application","body":"<p>I'm trying to create a discord bot using the Discord4J api, but when I try to run the app from IntelliJ or CMD, when I exit the app, the bot is still active and in my task manager I can see the active threads created by this app, the only way is to manually end the tasks from task manager.</p>\n<p>I followed the steps provided by the official Discord4J wiki <a href=\"https://github.com/Discord4J/Discord4J/wiki/Music-Bot-Tutorial\" rel=\"nofollow noreferrer\">Music-Bot-Tutorial</a>, It mentions <code>If you wish to disconnect your bot, click on the Exit button in the console.</code>, but this is not happening with my program.</p>\n<p>This is the code I am using:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n  DiscordClient client = DiscordClientBuilder.create(BOT_TOKEN).build();\n  GatewayDiscordClient gateway = client.login().block();\n\n  gateway.onDisconnect().block();\n}\n</code></pre>\n<p>Gradle only gives this details when I try to stop the application\n<code>Execution failed for task ':SampleBot.main()'. Build cancelled while executing task ':SampleBot.main()'</code></p>\n"},{"tags":["java","parsing","web-scraping","jsoup","pastebin"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690163609,"creation_date":1690163609,"answer_id":76751006,"question_id":76750142,"body_markdown":"## Class line is invalid\r\n\r\nSpace in a `class` attribute separates class names. Hence, expecting `.getElementsByClass(&quot;foo bar&quot;)` to work is incorrect - you&#39;re asking a lot from JSoup here. What you really want is `.getElementsByClass(&quot;foo&quot;)` and then get the intersection (the &#39;overlap&#39;) between that and `.getElementsByClass(&quot;bar&quot;)`.\r\n\r\nSecondly, HTML classes must start with a letter. In other words, `-raw` is an invalid class name. Given that it is invalid, in the browser/HTML space the general trend is not to hard-crash (but, had it been XHTML, most parser tools would completely refuse this HTML as being invalid), but what _does_ happen is more or less undefined - you shouldn&#39;t write invalid HTML. It is possible that JSoup completely ignores &#39;-raw&#39;.\r\n\r\nThus, we have 2 plausible things that make JSoup not parse this, and __neither is JSoup&#39;s fault - it is the fault of this invalid HTML__:\r\n\r\n* It doesn&#39;t let you ask for multiple classes in a single &quot;by class&quot; call. Fix by getting the intersection between all those classes you are actually interested in.\r\n\r\n* It doesn&#39;t let you ask for `-raw`. Simply don&#39;t ask for that one.\r\n\r\n## Different HTML is returned\r\n\r\nJSoup parses the HTML. __It does not run any javascript__. Turn javascript off in your browser and retry the request. I bet you get the same &#39;weird completely neutered HTML&#39;.\r\n\r\nThere are various ways to integrate dynamism (e.g. the values of things in db tables, think &#39;list of movies on youtube&#39;, &#39;streetnames in google maps&#39;, &#39;most recent posts&#39; on a forum site, and so on - anything that isn&#39;t &#39;hardcoded&#39; by the programmers and designers). The usual way __in the past__ was templating. In which case, the HTML you get from the browser is very similar to the DOM that the browser ends up showing to your eyeballs.\r\n\r\nHowever, more and more of the web is now done using a static-HTML+API-calls model: The HTML/CSS/JS served by the server is completely static (&#39;hardcoded&#39; - every pageload it is the same every time, and therefore, it contains absolutely nothing dynamic. No comments, nothing that could change based on user interaction at all). That HTML/CSS/JS then runs a bunch of web requests within javascript to get the dynamic parts and creates the HTML elements dynamically, injecting them on the fly into the DOM (which is the &#39;HTML&#39; the way the browser knows how to render it, i.e. parsed, turned into a syntax tree, and crucially _the javascript gets to edit it, which is reflected live in what the page looks like_.\r\n\r\nAll those pages (And it is _most of the web_ at this point) cannot be parsed with JSoup. You need something to fully emulate an entire browser (because that javascript can tell the system to scroll the page, and then render a canvas, and then check the canvas and react to that, and then ask for your screen size, and a million other things that are difficult to emulate for a non-browser). Then you can ask the browser for the DOM and go from there.\r\n\r\nThis _is_ possible - &#39;browser automation&#39; exists, e.g. in the form of selenium, but these tools were generally originally designed to let you _test_ your own websites, they weren&#39;t designed to let you scrape existing sites. Selenium specifically, and the general principle of browser based web scraping, is __incredibly slow and complicated__. You&#39;re running an entire browser, which means you need a graphics stack and GBs of memory to spend a second or 3 to process it all.\r\n\r\nGenerally, the obvious way to get at all that dynamic data is __to use the same APIs that the static HTML/CSS/JS is using__ - because APIs don&#39;t change when a designer decides they don&#39;t like the colour of part of the page: They are _designed_ to be easy to use from code. Sites also tend to charge for API usage, though. Generally, the significant hassle of attempting to write the extremely complicated code, and maintain the extremely complicated stack of IAAS you need, and the extremely complicated team of lawyers you need to sort out the business of using automated browsers to parse the web add up to costing far, far more than API access costs. Which is why the vast majority of programmers use those APIs, which means that few good programmers are working on making those browser automation tools run faster.\r\n\r\nThat all combines into: Use the API.\r\n","title":"Jsoup can&#39;t find existing element by class name","body":"<h2>Class line is invalid</h2>\n<p>Space in a <code>class</code> attribute separates class names. Hence, expecting <code>.getElementsByClass(&quot;foo bar&quot;)</code> to work is incorrect - you're asking a lot from JSoup here. What you really want is <code>.getElementsByClass(&quot;foo&quot;)</code> and then get the intersection (the 'overlap') between that and <code>.getElementsByClass(&quot;bar&quot;)</code>.</p>\n<p>Secondly, HTML classes must start with a letter. In other words, <code>-raw</code> is an invalid class name. Given that it is invalid, in the browser/HTML space the general trend is not to hard-crash (but, had it been XHTML, most parser tools would completely refuse this HTML as being invalid), but what <em>does</em> happen is more or less undefined - you shouldn't write invalid HTML. It is possible that JSoup completely ignores '-raw'.</p>\n<p>Thus, we have 2 plausible things that make JSoup not parse this, and <strong>neither is JSoup's fault - it is the fault of this invalid HTML</strong>:</p>\n<ul>\n<li><p>It doesn't let you ask for multiple classes in a single &quot;by class&quot; call. Fix by getting the intersection between all those classes you are actually interested in.</p>\n</li>\n<li><p>It doesn't let you ask for <code>-raw</code>. Simply don't ask for that one.</p>\n</li>\n</ul>\n<h2>Different HTML is returned</h2>\n<p>JSoup parses the HTML. <strong>It does not run any javascript</strong>. Turn javascript off in your browser and retry the request. I bet you get the same 'weird completely neutered HTML'.</p>\n<p>There are various ways to integrate dynamism (e.g. the values of things in db tables, think 'list of movies on youtube', 'streetnames in google maps', 'most recent posts' on a forum site, and so on - anything that isn't 'hardcoded' by the programmers and designers). The usual way <strong>in the past</strong> was templating. In which case, the HTML you get from the browser is very similar to the DOM that the browser ends up showing to your eyeballs.</p>\n<p>However, more and more of the web is now done using a static-HTML+API-calls model: The HTML/CSS/JS served by the server is completely static ('hardcoded' - every pageload it is the same every time, and therefore, it contains absolutely nothing dynamic. No comments, nothing that could change based on user interaction at all). That HTML/CSS/JS then runs a bunch of web requests within javascript to get the dynamic parts and creates the HTML elements dynamically, injecting them on the fly into the DOM (which is the 'HTML' the way the browser knows how to render it, i.e. parsed, turned into a syntax tree, and crucially <em>the javascript gets to edit it, which is reflected live in what the page looks like</em>.</p>\n<p>All those pages (And it is <em>most of the web</em> at this point) cannot be parsed with JSoup. You need something to fully emulate an entire browser (because that javascript can tell the system to scroll the page, and then render a canvas, and then check the canvas and react to that, and then ask for your screen size, and a million other things that are difficult to emulate for a non-browser). Then you can ask the browser for the DOM and go from there.</p>\n<p>This <em>is</em> possible - 'browser automation' exists, e.g. in the form of selenium, but these tools were generally originally designed to let you <em>test</em> your own websites, they weren't designed to let you scrape existing sites. Selenium specifically, and the general principle of browser based web scraping, is <strong>incredibly slow and complicated</strong>. You're running an entire browser, which means you need a graphics stack and GBs of memory to spend a second or 3 to process it all.</p>\n<p>Generally, the obvious way to get at all that dynamic data is <strong>to use the same APIs that the static HTML/CSS/JS is using</strong> - because APIs don't change when a designer decides they don't like the colour of part of the page: They are <em>designed</em> to be easy to use from code. Sites also tend to charge for API usage, though. Generally, the significant hassle of attempting to write the extremely complicated code, and maintain the extremely complicated stack of IAAS you need, and the extremely complicated team of lawyers you need to sort out the business of using automated browsers to parse the web add up to costing far, far more than API access costs. Which is why the vast majority of programmers use those APIs, which means that few good programmers are working on making those browser automation tools run faster.</p>\n<p>That all combines into: Use the API.</p>\n"}],"owner":{"account_id":29076113,"reputation":1,"user_id":22273230,"display_name":"KostromDan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690315963,"creation_date":1690143161,"question_id":76750142,"body_markdown":"I&#39;m trying to parse `pastebin` page with all params(likes, views_count, etc). And all fine except raw text.\r\nI know that there is a `\\&lt;paste_id\\&gt;/raw`, but I don&#39;t want to use it since I will have to make 2 requests. And I can&#39;t immediately access `\\&lt;paste_id\\&gt;/raw` because I need all the additional parameters.\r\nNeeded data stores in\r\n\r\n```html\r\n&lt;textarea class=&quot;textarea -raw js-paste-raw&quot;&gt;Text I need to parse&lt;/textarea&gt;\r\n```\r\nI checked that in the response from the `pastebin` server without processing/with `javascript` processing, this element looks exactly the same.\r\n`Jsoup` simply ignores this element as if it doesn&#39;t exist.\r\n\r\n```java\r\nElements raw_test_1 = doc.getElementsByClass(&quot;textarea&quot;);\r\nlog(raw_test_1.size());\r\n\r\nElements raw_test_2 = doc.select(&quot;textarea&quot;);\r\nlog(raw_test_2.size());\r\n\r\nElements raw_test_3 = doc.getElementsByClass(&quot;textarea -raw js-paste-raw&quot;);\r\nlog(raw_test_3.size());\r\n```\r\n\r\nResult:\r\n\r\n`0`\r\n\r\n`0`\r\n\r\n`0`\r\n\r\nIt looks like the `pastebin` developers did something nasty with this element to ruin the lives of those who try to parse their site.\r\nEdge shows that this element has errors.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhich confirms that this element of the site is intentionally corrupted.\r\n\r\nupdate:\r\n\r\nI found out the cause of the problem. The response from the `PasteBin` servers is completely different for browsers and `JSoup`. There are more than 900 lines of code for browsers. And 300 for `Jsoup`. `Pastebin` somehow detects that we are parsing the page and issues a neutered response. The raw paste we need is contained in the neutered part of the answer. I tried `.userAgent(&quot;Chrome/4.0.249.0 Safari/532.5&quot;)` but it&#39;s not enough, how to make `pastebin` servers perceive our request as a real request?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wwOnG.png","title":"Jsoup can&#39;t find existing element by class name","body":"<p>I'm trying to parse <code>pastebin</code> page with all params(likes, views_count, etc). And all fine except raw text.\nI know that there is a <code>\\&lt;paste_id\\&gt;/raw</code>, but I don't want to use it since I will have to make 2 requests. And I can't immediately access <code>\\&lt;paste_id\\&gt;/raw</code> because I need all the additional parameters.\nNeeded data stores in</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;textarea class=&quot;textarea -raw js-paste-raw&quot;&gt;Text I need to parse&lt;/textarea&gt;\n</code></pre>\n<p>I checked that in the response from the <code>pastebin</code> server without processing/with <code>javascript</code> processing, this element looks exactly the same.\n<code>Jsoup</code> simply ignores this element as if it doesn't exist.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Elements raw_test_1 = doc.getElementsByClass(&quot;textarea&quot;);\nlog(raw_test_1.size());\n\nElements raw_test_2 = doc.select(&quot;textarea&quot;);\nlog(raw_test_2.size());\n\nElements raw_test_3 = doc.getElementsByClass(&quot;textarea -raw js-paste-raw&quot;);\nlog(raw_test_3.size());\n</code></pre>\n<p>Result:</p>\n<p><code>0</code></p>\n<p><code>0</code></p>\n<p><code>0</code></p>\n<p>It looks like the <code>pastebin</code> developers did something nasty with this element to ruin the lives of those who try to parse their site.\nEdge shows that this element has errors.</p>\n<p><a href=\"https://i.stack.imgur.com/wwOnG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwOnG.png\" alt=\"enter image description here\" /></a></p>\n<p>Which confirms that this element of the site is intentionally corrupted.</p>\n<p>update:</p>\n<p>I found out the cause of the problem. The response from the <code>PasteBin</code> servers is completely different for browsers and <code>JSoup</code>. There are more than 900 lines of code for browsers. And 300 for <code>Jsoup</code>. <code>Pastebin</code> somehow detects that we are parsing the page and issues a neutered response. The raw paste we need is contained in the neutered part of the answer. I tried <code>.userAgent(&quot;Chrome/4.0.249.0 Safari/532.5&quot;)</code> but it's not enough, how to make <code>pastebin</code> servers perceive our request as a real request?</p>\n"},{"tags":["java","quartz-scheduler","spring-camel"],"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1690318777,"post_id":76766142,"comment_id":135336277,"body_markdown":"I am not sure I understand the question but how would you like to have scheduler running if you no longer add the route to the camel context?","body":"I am not sure I understand the question but how would you like to have scheduler running if you no longer add the route to the camel context?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690323201,"post_id":76766142,"comment_id":135336886,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29089927,"reputation":1,"user_id":22284051,"display_name":"ntn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690315102,"creation_date":1690315102,"question_id":76766142,"body_markdown":"There is a Springboot application that receives the parameters (what, where) of the route (Apache Camel) and the schedule for its execution (Quartz).\r\nFor example, log a message every second, or send a message to the ActiceMQ queue once.\r\nA database is used to save and restore the schedule in case of an application restart.\r\n\r\nHow to correctly save and restore Apache Camel route parameters on application restart by linking it to its corresponding schedule?\r\n\r\n```\r\npublic class CustomRouter extends RouteBuilder {\r\n\r\n    private final int repeatInterval;\r\n    private final String message;\r\n    private final String destination;\r\n    private final String triggerName;\r\n\r\n    public CustomRouter(\r\n            int repeatInterval, \r\n            String message, \r\n            String destination, \r\n            String triggerName) {\r\n        this.repeatInterval = repeatInterval;\r\n        this.message = message;\r\n        this.destination = destination;\r\n        this.triggerName = triggerName;\r\n    }\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;customQuartz://&quot; \r\n                + triggerName + &quot;?trigger.repeatInterval=&quot; + repeatInterval)\r\n                .setBody(simple(this.message))\r\n                .to(destination);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class CamelStarter implements InitializingBean, DisposableBean {\r\n    \r\n    private final QuartzComponent customQuartz;\r\n    private DefaultCamelContext camelCustomContext;\r\n\r\n    public CamelStarter(QuartzComponent customQuartz) {\r\n        this.customQuartz = customQuartz;\r\n    }\r\n    \r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        camelCustomContext = new DefaultCamelContext();\r\n        camelCustomContext.addComponent(&quot;customQuartz&quot;, customQuartz);\r\n        camelCustomContext.setName(&quot;camelCustomContext&quot;);\r\n        \r\n        camelCustomContext.addRoutes(new CustomRouter(\r\n                1000, \r\n                &quot;CustomRouter1&quot;, \r\n                &quot;log:customLog1&quot;, \r\n                &quot;customRouterTrigger1&quot;));\r\n        \r\n        camelCustomContext.start();\r\n    }\r\n\r\n    @Override\r\n    public void destroy() throws Exception {\r\n        camelCustomContext.stop();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class CamelCustomConfiguration {\r\n\r\n    @Bean\r\n    public SchedulerFactoryBean customSchedulerFactory(\r\n            DataSource dataSource, QuartzProperties quartzProperties) {\r\n        Properties properties = new Properties();\r\n        properties.putAll(quartzProperties.getProperties());\r\n\r\n        SchedulerFactoryBean factory = new SchedulerFactoryBean();\r\n        factory.setOverwriteExistingJobs(true);\r\n        factory.setWaitForJobsToCompleteOnShutdown(true);\r\n        factory.setDataSource(dataSource);\r\n        factory.setQuartzProperties(properties);\r\n        factory.setJobFactory(new SpringBeanJobFactory());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public Scheduler customScheduler(\r\n            DataSource dataSource, QuartzProperties quartzProperties) {\r\n        return customSchedulerFactory(dataSource, quartzProperties).getScheduler();\r\n    }\r\n\r\n    @Bean\r\n    public QuartzComponent customquartz(\r\n            DataSource dataSource,\r\n            QuartzProperties quartzProperties) {\r\n        QuartzComponent component = new QuartzComponent();\r\n        component.setScheduler(customScheduler(dataSource, quartzProperties));\r\n        return component;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/schedule_module\r\nspring.datasource.username=postgres\r\nspring.datasource.password=1111\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.quartz.job-store-type=jdbc\r\nspring.quartz.properties.org.quartz.scheduler.instanceId=CustomClusteredScheduler\r\nspring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=qrtz_\r\nspring.quartz.properties.org.quartz.jobStore.isClustered=true\r\n```\r\n\r\nAt the 1st launch of the application, the message is displayed in the Log and entries about the route schedule appear in the database:\r\n\r\n```\r\n2023-07-25 22:53:04.929  INFO 9928 --- [           main] r.s.n.p.s.ScheduleAppApplication         : Starting ScheduleAppApplication using Java 17.0.6 on DESKTOP-6SHGJTA with PID 9928 (C:\\work\\dev\\testsapps\\springboot-camel-quartz\\schedule-app\\target\\classes started by baa in C:\\work\\dev\\testsapps\\springboot-camel-quartz\\schedule-app)\r\n2023-07-25 22:53:04.932  INFO 9928 --- [           main] r.s.n.p.s.ScheduleAppApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-07-25 22:53:05.775  INFO 9928 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-07-25 22:53:05.902  INFO 9928 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-07-25 22:53:05.965  INFO 9928 --- [           main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor\r\n2023-07-25 22:53:05.978  INFO 9928 --- [           main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n2023-07-25 22:53:05.978  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\r\n2023-07-25 22:53:05.982  INFO 9928 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : Using db table-based data access locking (synchronization).\r\n2023-07-25 22:53:05.984  INFO 9928 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : JobStoreCMT initialized.\r\n2023-07-25 22:53:05.985  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;customSchedulerFactory&#39; with instanceId &#39;CustomClusteredScheduler&#39;\r\n  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n  Using job-store &#39;org.springframework.scheduling.quartz.LocalDataSourceJobStore&#39; - which supports persistence. and is clustered.\r\n\r\n2023-07-25 22:53:05.986  INFO 9928 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;customSchedulerFactory&#39; initialized from an externally provided properties instance.\r\n2023-07-25 22:53:05.986  INFO 9928 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2\r\n2023-07-25 22:53:05.986  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@4d8286c4\r\n2023-07-25 22:53:06.441  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) is starting\r\n2023-07-25 22:53:06.501  INFO 9928 --- [           main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-07-25T22:53:06.464+0300\r\n2023-07-25 22:53:06.510  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)\r\n2023-07-25 22:53:06.510  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (customQuartz://customRouterTrigger1)\r\n2023-07-25 22:53:06.510  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) started in 173ms (build:3ms init:102ms start:68ms)\r\n2023-07-25 22:53:06.511  INFO 9928 --- [           main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@889a8a8\r\n2023-07-25 22:53:06.522  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler customSchedulerFactory_$_CustomClusteredScheduler started.\r\n2023-07-25 22:53:06.586  INFO 9928 --- [actory_Worker-1] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\r\n2023-07-25 22:53:06.787  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) is starting\r\n2023-07-25 22:53:06.788  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:0)\r\n2023-07-25 22:53:06.788  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) started in 61ms (build:42ms init:19ms start:0ms)\r\n2023-07-25 22:53:06.793  INFO 9928 --- [           main] r.s.n.p.s.ScheduleAppApplication         : Started ScheduleAppApplication in 2.205 seconds (JVM running for 2.508)\r\n2023-07-25 22:53:07.472  INFO 9928 --- [actory_Worker-2] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\r\n2023-07-25 22:53:08.470  INFO 9928 --- [actory_Worker-3] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\r\n2023-07-25 22:53:09.469  INFO 9928 --- [actory_Worker-4] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\r\n2023-07-25 22:53:10.473  INFO 9928 --- [actory_Worker-5] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\r\n2023-07-25 22:53:11.470  INFO 9928 --- [actory_Worker-6] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\r\n```\r\n\r\nBut if stop the application, remove the line with the addition of the route:\r\n\r\n```\r\n@Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        camelCustomContext = new DefaultCamelContext();\r\n        camelCustomContext.addComponent(&quot;customQuartz&quot;, customQuartz);\r\n        camelCustomContext.setName(&quot;camelCustomContext&quot;);\r\n        \r\n        camelCustomContext.start();\r\n    }\r\n```\r\n\r\nand start the application again, then a message is not displayed in the Log:\r\n\r\n```\r\n2023-07-25 22:57:11.225  INFO 16864 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;customSchedulerFactory&#39; initialized from an externally provided properties instance.\r\n2023-07-25 22:57:11.225  INFO 16864 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2\r\n2023-07-25 22:57:11.225  INFO 16864 --- [           main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6778aea6\r\n2023-07-25 22:57:11.603  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) is starting\r\n2023-07-25 22:57:11.607  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:0)\r\n2023-07-25 22:57:11.607  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) started in 29ms (build:3ms init:23ms start:3ms)\r\n2023-07-25 22:57:11.610  INFO 16864 --- [           main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@23a918c7\r\n2023-07-25 22:57:11.636  INFO 16864 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : ClusterManager: detected 1 failed or restarted instances.\r\n2023-07-25 22:57:11.636  INFO 16864 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : ClusterManager: Scanning for instance &quot;CustomClusteredScheduler&quot;&#39;s failed in-progress jobs.\r\n2023-07-25 22:57:11.645  INFO 16864 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : ClusterManager: ......Freed 1 acquired trigger(s).\r\n2023-07-25 22:57:11.650  INFO 16864 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler customSchedulerFactory_$_CustomClusteredScheduler started.\r\n2023-07-25 22:57:11.708  WARN 16864 --- [actory_Worker-1] o.a.camel.component.quartz.CamelJob      : Cannot find existing QuartzEndpoint with uri: customQuartz://customRouterTrigger1?trigger.repeatInterval=1000. Creating new endpoint instance.\r\n2023-07-25 22:57:11.717  WARN 16864 --- [actory_Worker-2] o.a.camel.component.quartz.CamelJob      : Cannot find existing QuartzEndpoint with uri: customQuartz://customRouterTrigger1?trigger.repeatInterval=1000. Creating new endpoint instance.\r\n2023-07-25 22:57:11.732  WARN 16864 --- [actory_Worker-3] o.a.camel.component.quartz.CamelJob      : Cannot find existing QuartzEndpoint with uri: customQuartz://customRouterTrigger1?trigger.repeatInterval=1000. Creating new endpoint instance.\r\n2023-07-25 22:57:11.744  INFO 16864 --- [actory_Worker-1] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is null\r\n2023-07-25 22:57:11.744  INFO 16864 --- [actory_Worker-2] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is null\r\n2023-07-25 22:57:11.744  INFO 16864 --- [actory_Worker-3] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is null\r\n2023-07-25 22:57:11.907  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) is starting\r\n2023-07-25 22:57:11.908  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:0)\r\n2023-07-25 22:57:11.908  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) started in 69ms (build:51ms init:18ms start:0ms)\r\n2023-07-25 22:57:11.914  INFO 16864 --- [           main] r.s.n.p.s.ScheduleAppApplication         : Started ScheduleAppApplication in 2.054 seconds (JVM running for 2.394)\r\n```\r\n\r\n\r\n","title":"How to save and bind Camel dynamic route and Quartz scheduler in DB and restore it after application restart?","body":"<p>There is a Springboot application that receives the parameters (what, where) of the route (Apache Camel) and the schedule for its execution (Quartz).\nFor example, log a message every second, or send a message to the ActiceMQ queue once.\nA database is used to save and restore the schedule in case of an application restart.</p>\n<p>How to correctly save and restore Apache Camel route parameters on application restart by linking it to its corresponding schedule?</p>\n<pre><code>public class CustomRouter extends RouteBuilder {\n\n    private final int repeatInterval;\n    private final String message;\n    private final String destination;\n    private final String triggerName;\n\n    public CustomRouter(\n            int repeatInterval, \n            String message, \n            String destination, \n            String triggerName) {\n        this.repeatInterval = repeatInterval;\n        this.message = message;\n        this.destination = destination;\n        this.triggerName = triggerName;\n    }\n\n    @Override\n    public void configure() throws Exception {\n        from(&quot;customQuartz://&quot; \n                + triggerName + &quot;?trigger.repeatInterval=&quot; + repeatInterval)\n                .setBody(simple(this.message))\n                .to(destination);\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class CamelStarter implements InitializingBean, DisposableBean {\n    \n    private final QuartzComponent customQuartz;\n    private DefaultCamelContext camelCustomContext;\n\n    public CamelStarter(QuartzComponent customQuartz) {\n        this.customQuartz = customQuartz;\n    }\n    \n    @Override\n    public void afterPropertiesSet() throws Exception {\n        camelCustomContext = new DefaultCamelContext();\n        camelCustomContext.addComponent(&quot;customQuartz&quot;, customQuartz);\n        camelCustomContext.setName(&quot;camelCustomContext&quot;);\n        \n        camelCustomContext.addRoutes(new CustomRouter(\n                1000, \n                &quot;CustomRouter1&quot;, \n                &quot;log:customLog1&quot;, \n                &quot;customRouterTrigger1&quot;));\n        \n        camelCustomContext.start();\n    }\n\n    @Override\n    public void destroy() throws Exception {\n        camelCustomContext.stop();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class CamelCustomConfiguration {\n\n    @Bean\n    public SchedulerFactoryBean customSchedulerFactory(\n            DataSource dataSource, QuartzProperties quartzProperties) {\n        Properties properties = new Properties();\n        properties.putAll(quartzProperties.getProperties());\n\n        SchedulerFactoryBean factory = new SchedulerFactoryBean();\n        factory.setOverwriteExistingJobs(true);\n        factory.setWaitForJobsToCompleteOnShutdown(true);\n        factory.setDataSource(dataSource);\n        factory.setQuartzProperties(properties);\n        factory.setJobFactory(new SpringBeanJobFactory());\n        return factory;\n    }\n\n    @Bean\n    public Scheduler customScheduler(\n            DataSource dataSource, QuartzProperties quartzProperties) {\n        return customSchedulerFactory(dataSource, quartzProperties).getScheduler();\n    }\n\n    @Bean\n    public QuartzComponent customquartz(\n            DataSource dataSource,\n            QuartzProperties quartzProperties) {\n        QuartzComponent component = new QuartzComponent();\n        component.setScheduler(customScheduler(dataSource, quartzProperties));\n        return component;\n    }\n}\n</code></pre>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/schedule_module\nspring.datasource.username=postgres\nspring.datasource.password=1111\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\n\nspring.quartz.job-store-type=jdbc\nspring.quartz.properties.org.quartz.scheduler.instanceId=CustomClusteredScheduler\nspring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=qrtz_\nspring.quartz.properties.org.quartz.jobStore.isClustered=true\n</code></pre>\n<p>At the 1st launch of the application, the message is displayed in the Log and entries about the route schedule appear in the database:</p>\n<pre><code>2023-07-25 22:53:04.929  INFO 9928 --- [           main] r.s.n.p.s.ScheduleAppApplication         : Starting ScheduleAppApplication using Java 17.0.6 on DESKTOP-6SHGJTA with PID 9928 (C:\\work\\dev\\testsapps\\springboot-camel-quartz\\schedule-app\\target\\classes started by baa in C:\\work\\dev\\testsapps\\springboot-camel-quartz\\schedule-app)\n2023-07-25 22:53:04.932  INFO 9928 --- [           main] r.s.n.p.s.ScheduleAppApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-07-25 22:53:05.775  INFO 9928 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-07-25 22:53:05.902  INFO 9928 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-07-25 22:53:05.965  INFO 9928 --- [           main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor\n2023-07-25 22:53:05.978  INFO 9928 --- [           main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\n2023-07-25 22:53:05.978  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\n2023-07-25 22:53:05.982  INFO 9928 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : Using db table-based data access locking (synchronization).\n2023-07-25 22:53:05.984  INFO 9928 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : JobStoreCMT initialized.\n2023-07-25 22:53:05.985  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'customSchedulerFactory' with instanceId 'CustomClusteredScheduler'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.springframework.scheduling.quartz.LocalDataSourceJobStore' - which supports persistence. and is clustered.\n\n2023-07-25 22:53:05.986  INFO 9928 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'customSchedulerFactory' initialized from an externally provided properties instance.\n2023-07-25 22:53:05.986  INFO 9928 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2\n2023-07-25 22:53:05.986  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@4d8286c4\n2023-07-25 22:53:06.441  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) is starting\n2023-07-25 22:53:06.501  INFO 9928 --- [           main] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is 2023-07-25T22:53:06.464+0300\n2023-07-25 22:53:06.510  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:1)\n2023-07-25 22:53:06.510  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route1 (customQuartz://customRouterTrigger1)\n2023-07-25 22:53:06.510  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) started in 173ms (build:3ms init:102ms start:68ms)\n2023-07-25 22:53:06.511  INFO 9928 --- [           main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@889a8a8\n2023-07-25 22:53:06.522  INFO 9928 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler customSchedulerFactory_$_CustomClusteredScheduler started.\n2023-07-25 22:53:06.586  INFO 9928 --- [actory_Worker-1] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\n2023-07-25 22:53:06.787  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) is starting\n2023-07-25 22:53:06.788  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:0)\n2023-07-25 22:53:06.788  INFO 9928 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) started in 61ms (build:42ms init:19ms start:0ms)\n2023-07-25 22:53:06.793  INFO 9928 --- [           main] r.s.n.p.s.ScheduleAppApplication         : Started ScheduleAppApplication in 2.205 seconds (JVM running for 2.508)\n2023-07-25 22:53:07.472  INFO 9928 --- [actory_Worker-2] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\n2023-07-25 22:53:08.470  INFO 9928 --- [actory_Worker-3] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\n2023-07-25 22:53:09.469  INFO 9928 --- [actory_Worker-4] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\n2023-07-25 22:53:10.473  INFO 9928 --- [actory_Worker-5] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\n2023-07-25 22:53:11.470  INFO 9928 --- [actory_Worker-6] customLog1                               : Exchange[ExchangePattern: InOnly, BodyType: String, Body: CustomRouter1]\n</code></pre>\n<p>But if stop the application, remove the line with the addition of the route:</p>\n<pre><code>@Override\n    public void afterPropertiesSet() throws Exception {\n        camelCustomContext = new DefaultCamelContext();\n        camelCustomContext.addComponent(&quot;customQuartz&quot;, customQuartz);\n        camelCustomContext.setName(&quot;camelCustomContext&quot;);\n        \n        camelCustomContext.start();\n    }\n</code></pre>\n<p>and start the application again, then a message is not displayed in the Log:</p>\n<pre><code>2023-07-25 22:57:11.225  INFO 16864 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'customSchedulerFactory' initialized from an externally provided properties instance.\n2023-07-25 22:57:11.225  INFO 16864 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.2\n2023-07-25 22:57:11.225  INFO 16864 --- [           main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6778aea6\n2023-07-25 22:57:11.603  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) is starting\n2023-07-25 22:57:11.607  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:0)\n2023-07-25 22:57:11.607  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camelCustomContext) started in 29ms (build:3ms init:23ms start:3ms)\n2023-07-25 22:57:11.610  INFO 16864 --- [           main] o.a.c.component.quartz.QuartzComponent   : Starting Quartz scheduler: org.quartz.impl.StdScheduler@23a918c7\n2023-07-25 22:57:11.636  INFO 16864 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : ClusterManager: detected 1 failed or restarted instances.\n2023-07-25 22:57:11.636  INFO 16864 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : ClusterManager: Scanning for instance &quot;CustomClusteredScheduler&quot;'s failed in-progress jobs.\n2023-07-25 22:57:11.645  INFO 16864 --- [           main] o.s.s.quartz.LocalDataSourceJobStore     : ClusterManager: ......Freed 1 acquired trigger(s).\n2023-07-25 22:57:11.650  INFO 16864 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler customSchedulerFactory_$_CustomClusteredScheduler started.\n2023-07-25 22:57:11.708  WARN 16864 --- [actory_Worker-1] o.a.camel.component.quartz.CamelJob      : Cannot find existing QuartzEndpoint with uri: customQuartz://customRouterTrigger1?trigger.repeatInterval=1000. Creating new endpoint instance.\n2023-07-25 22:57:11.717  WARN 16864 --- [actory_Worker-2] o.a.camel.component.quartz.CamelJob      : Cannot find existing QuartzEndpoint with uri: customQuartz://customRouterTrigger1?trigger.repeatInterval=1000. Creating new endpoint instance.\n2023-07-25 22:57:11.732  WARN 16864 --- [actory_Worker-3] o.a.camel.component.quartz.CamelJob      : Cannot find existing QuartzEndpoint with uri: customQuartz://customRouterTrigger1?trigger.repeatInterval=1000. Creating new endpoint instance.\n2023-07-25 22:57:11.744  INFO 16864 --- [actory_Worker-1] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is null\n2023-07-25 22:57:11.744  INFO 16864 --- [actory_Worker-2] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is null\n2023-07-25 22:57:11.744  INFO 16864 --- [actory_Worker-3] o.a.c.component.quartz.QuartzEndpoint    : Job Camel_camelCustomContext.customRouterTrigger1 (cron=null, triggerType=SimpleTriggerImpl, jobClass=CamelJob) is scheduled. Next fire date is null\n2023-07-25 22:57:11.907  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) is starting\n2023-07-25 22:57:11.908  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:0)\n2023-07-25 22:57:11.908  INFO 16864 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.21.0 (camel-1) started in 69ms (build:51ms init:18ms start:0ms)\n2023-07-25 22:57:11.914  INFO 16864 --- [           main] r.s.n.p.s.ScheduleAppApplication         : Started ScheduleAppApplication in 2.054 seconds (JVM running for 2.394)\n</code></pre>\n"},{"tags":["java","static","calendar","thread-safety"],"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":0,"creation_date":1307300249,"post_id":6245053,"comment_id":7281079,"body_markdown":"Is your static calendar just a fixed date?","body":"Is your static calendar just a fixed date?"},{"owner":{"account_id":218146,"reputation":6489,"user_id":474326,"accept_rate":84,"display_name":"cody"},"score":0,"creation_date":1307300255,"post_id":6245053,"comment_id":7281081,"body_markdown":"maybe it would help to make it &quot;volatile&quot; ?","body":"maybe it would help to make it &quot;volatile&quot; ?"},{"owner":{"account_id":218146,"reputation":6489,"user_id":474326,"accept_rate":84,"display_name":"cody"},"score":0,"creation_date":1307300357,"post_id":6245053,"comment_id":7281097,"body_markdown":"no, I just don&#39;t want to create so many instances - for every call to my methods, as that possibly could take time.","body":"no, I just don&#39;t want to create so many instances - for every call to my methods, as that possibly could take time."},{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":0,"creation_date":1307300446,"post_id":6245053,"comment_id":7281107,"body_markdown":"You mean you are worried about the performance hit of many calls to the constructor?","body":"You mean you are worried about the performance hit of many calls to the constructor?"},{"owner":{"account_id":218146,"reputation":6489,"user_id":474326,"accept_rate":84,"display_name":"cody"},"score":0,"creation_date":1307300825,"post_id":6245053,"comment_id":7281159,"body_markdown":"Yes, not at least as the code is for mobile devices..","body":"Yes, not at least as the code is for mobile devices.."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":2,"creation_date":1370540140,"post_id":6245053,"comment_id":24507638,"body_markdown":"I am beginning to conclude that Calendar should not be regarded as simply &quot;not thread safe.&quot;  It should be labeled &quot;thread hostile&quot;.","body":"I am beginning to conclude that Calendar should not be regarded as simply &quot;not thread safe.&quot;  It should be labeled &quot;thread hostile&quot;."}],"answers":[{"tags":[],"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1513606224,"creation_date":1307300060,"answer_id":6245077,"question_id":6245053,"body_markdown":"Create a `Calendar` as a local variable in the method. If you need the same calendar across methods, you may be using statics where a (singleton or quasi-singleton) object would be more appropriate.","title":"How to make a static Calendar thread safe","body":"<p>Create a <code>Calendar</code> as a local variable in the method. If you need the same calendar across methods, you may be using statics where a (singleton or quasi-singleton) object would be more appropriate.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1417612408,"creation_date":1307300142,"answer_id":6245086,"question_id":6245053,"body_markdown":"You can&#39;t make something thread-safe if it isn&#39;t. In the case of `Calendar`, even *reading* data from it isn&#39;t thread-safe, as it can update internal data structures.\r\n\r\nIf at all possible, I&#39;d suggest using [Joda Time][1] instead:\r\n\r\n- Most of the types are immutable\r\n- The immutable types are thread-safe\r\n- It&#39;s a generally much better API anyway\r\n\r\nIf you absolutely *have* to use a `Calendar`, you could create a locking object and put all the access through a lock. For example:\r\n\r\n    private static final Calendar calendar = Calendar.getInstance();\r\n    private static final Object calendarLock = new Object();\r\n\r\n    public static int getYear()\r\n    {\r\n        synchronized(calendarLock)\r\n        {\r\n            return calendar.get(Calendar.YEAR);\r\n        }\r\n    }\r\n\r\n    // Ditto for other methods\r\n\r\nIt&#39;s pretty nasty though. You could have just *one* synchronized method which created a clone of the original calendar each time it was needed, of course... it&#39;s possible that by calling `computeFields` or `computeTime` you could make *subsequent* read-operations thread-safe, of course, but personally I&#39;d be loathe to try it.\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"How to make a static Calendar thread safe","body":"<p>You can't make something thread-safe if it isn't. In the case of <code>Calendar</code>, even <em>reading</em> data from it isn't thread-safe, as it can update internal data structures.</p>\n\n<p>If at all possible, I'd suggest using <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time</a> instead:</p>\n\n<ul>\n<li>Most of the types are immutable</li>\n<li>The immutable types are thread-safe</li>\n<li>It's a generally much better API anyway</li>\n</ul>\n\n<p>If you absolutely <em>have</em> to use a <code>Calendar</code>, you could create a locking object and put all the access through a lock. For example:</p>\n\n<pre><code>private static final Calendar calendar = Calendar.getInstance();\nprivate static final Object calendarLock = new Object();\n\npublic static int getYear()\n{\n    synchronized(calendarLock)\n    {\n        return calendar.get(Calendar.YEAR);\n    }\n}\n\n// Ditto for other methods\n</code></pre>\n\n<p>It's pretty nasty though. You could have just <em>one</em> synchronized method which created a clone of the original calendar each time it was needed, of course... it's possible that by calling <code>computeFields</code> or <code>computeTime</code> you could make <em>subsequent</em> read-operations thread-safe, of course, but personally I'd be loathe to try it.</p>\n"},{"tags":[],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307300167,"creation_date":1307300167,"answer_id":6245091,"question_id":6245053,"body_markdown":"You cannot. Yes, you could synchronize on it, but it still has mutable state fields. You&#39;ll have to create your own Calendar object.\r\n\r\nIf possible, use something lightweight, like a long measuring the times in milliseconds, and only convert to a Calendar when you NEED to.","title":"How to make a static Calendar thread safe","body":"<p>You cannot. Yes, you could synchronize on it, but it still has mutable state fields. You'll have to create your own Calendar object.</p>\n\n<p>If possible, use something lightweight, like a long measuring the times in milliseconds, and only convert to a Calendar when you NEED to.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1513606178,"creation_date":1307300341,"answer_id":6245117,"question_id":6245053,"body_markdown":"Calendar is thread safe provided you don&#39;t change it.  The usage in your example is fine.\r\n\r\nIt is worth noting that Calendar is not an efficient class and you should only use it for complex operations (like finding the next month/year) IMHO: If you do use it for complex operations, use local variables only.\r\n\r\nIf all you want it a snapshot of the time a faster way is to use currentTimeMillis which does even create an object. You can make the field volatile if you want to make it thread safe.\r\n\r\n    private static long now = System.currentTimeMillis();\r\n\r\nThe usage is a bit suspect.  Why would you get the current time and store it globally like this.  It reminds me of the old joke. \r\n\r\n&gt; \\- Do you have the time?  \r\n&gt; \\- Yes, I have it written down somewhere.","title":"How to make a static Calendar thread safe","body":"<p>Calendar is thread safe provided you don't change it.  The usage in your example is fine.</p>\n\n<p>It is worth noting that Calendar is not an efficient class and you should only use it for complex operations (like finding the next month/year) IMHO: If you do use it for complex operations, use local variables only.</p>\n\n<p>If all you want it a snapshot of the time a faster way is to use currentTimeMillis which does even create an object. You can make the field volatile if you want to make it thread safe.</p>\n\n<pre><code>private static long now = System.currentTimeMillis();\n</code></pre>\n\n<p>The usage is a bit suspect.  Why would you get the current time and store it globally like this.  It reminds me of the old joke. </p>\n\n<blockquote>\n  <p>- Do you have the time?<br>\n  - Yes, I have it written down somewhere.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690314229,"creation_date":1689962378,"answer_id":76740232,"question_id":6245053,"body_markdown":"Instead of trying to make the `Calendar` API thread-safe, use the thread-safe `java.time` API introduced in Java 8 instead. This API also provides a more fluent and intuitive interface for date and time manipulation.\r\n\r\nHere&#39;s an example compatible with the legacy `Date` API of getting the start of next day with the `java.time` API:\r\n\r\n```java\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\npublic static Date getStartOfNextDay() {\r\n    final ZonedDateTime startOfNextDay = ZonedDateTime.now()\r\n            .plusDays(1)\r\n            .withHour(0).withMinute(0).withSecond(0).withNano(0);\r\n    return Date.from(startOfNextDay.toInstant());\r\n}\r\n```\r\n\r\nAnd here&#39;s how it looks with the `Calendar` API:\r\n```java\r\nimport java.util.Calendar;\r\n\r\npublic static Date getStartOfNextDay() {\r\n    final Calendar calendar = Calendar.getInstance();\r\n    calendar.add(Calendar.DAY_OF_MONTH, 1);\r\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n    calendar.set(Calendar.MINUTE, 0);\r\n    calendar.set(Calendar.SECOND, 0);\r\n    calendar.set(Calendar.MILLISECOND, 0);\r\n    return calendar.getTime();\r\n}\r\n```","title":"How to make a static Calendar thread safe","body":"<p>Instead of trying to make the <code>Calendar</code> API thread-safe, use the thread-safe <code>java.time</code> API introduced in Java 8 instead. This API also provides a more fluent and intuitive interface for date and time manipulation.</p>\n<p>Here's an example compatible with the legacy <code>Date</code> API of getting the start of next day with the <code>java.time</code> API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\n\npublic static Date getStartOfNextDay() {\n    final ZonedDateTime startOfNextDay = ZonedDateTime.now()\n            .plusDays(1)\n            .withHour(0).withMinute(0).withSecond(0).withNano(0);\n    return Date.from(startOfNextDay.toInstant());\n}\n</code></pre>\n<p>And here's how it looks with the <code>Calendar</code> API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Calendar;\n\npublic static Date getStartOfNextDay() {\n    final Calendar calendar = Calendar.getInstance();\n    calendar.add(Calendar.DAY_OF_MONTH, 1);\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n    return calendar.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690054359,"creation_date":1689974286,"answer_id":76741301,"question_id":6245053,"body_markdown":"# tl;dr\r\n\r\n`Calendar` replaced by [`ZonedDateTime`][1]. [Immutable][2], so [thread-safe][3].\r\n\r\n    private static ZonedDateTime someMoment = ZonedDateTime.now();  // Capture the current moment as seen in the JVM’s current default time zone.\r\n\r\nIf the value is meant to be fixed, unchanging during the execution of your app, mark it `final`. \r\n\r\n    private static final ZonedDateTime someMoment = ZonedDateTime.now();  \r\n\r\nIf at runtime you might assign a different object, then for thread-safety use an [`AtomicReference`][4].\r\n\r\n    private static final AtomicReference&lt; ZonedDateTime &gt; someMomentRef = new AtomicReference&lt;&gt;( ZonedDateTime.now() ) ;\r\n\r\nLater updating with a fresh moment. \r\n\r\n    someMomentRef.set( ZonedDateTime.now() );\r\n\r\nIf you need to interoperate with old code not yet updated to *java.time*, convert.\r\n\r\n    ZonedDateTime someMoment = someMomentRef.get() ;\r\n    Calendar c = GregorianCalendar.from( someMoment ) ;  // `GregorianCalendar` is a concrete subclass of `Calendar`.\r\n\r\n\r\n# `java.time.ZonedDateTime`\r\n\r\nThe terribly flawed `java.util.Calendar` class has been supplanted by the modern *java.time* classes defined in JSR 310. Specifically replaced by `java.time.ZonedDateTime`. \r\n\r\nA `ZonedDateTime` object represents a date with time-of-day as seen in a particular time zone. \r\n\r\nUnderstand that a time zone is a named history of the changes to the offset used by the people of a particular region as decided by their politicians. An offset is merely a number of hours-minutes-seconds ahead or behind the temporal meridian of UTC.\r\n\r\nTo get the current moment, specify your desired/expected time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\nIf you want the JVM’s current default time zone, use `ZoneId.systemDefault()`.\r\n\r\nYou can store a `ZonedDateTime` object in a `static` reference. But be aware that such an object stores a frozen moment, is immutable, and does not adjust to later moments. If you want a later moment, call `now` method ago to generate a new fresh `ZonedDateTime` object.\r\n\r\n    private static final ZonedDateTime appLaunched = ZonedDateTime.now( ZoneId.of( &quot;Asia/Tokyo&quot; ) );\r\n\r\n# `java.time.Instant`\r\n\r\nIf you merely want to track a moment, a specific point on the timeline, without business rules explicitly aimed at time zones, use a moment as seen in UTC. For that, use `java.time.Instant` class.\r\n\r\n    private static final Instant instant = Instant.now() ;  // Always in UTC, an offset of zero.\r\n\r\n# Generating localized text\r\n\r\nYou can later apply a time zone for presentation to the user.\r\n\r\n    ZonedDateTime zdt = instant.atZone( ZoneId.systemDefault() ) ;\r\n    String output = \r\n        zdt\r\n        .atZone( ZoneId.systemDefault() )  // Returns a `ZonedDateTime` object.\r\n        .format( \r\n            DateTimeFormatter\r\n            .ofLocalizedDateTime( FormatStyle.FULL )  // Returns a `DateTimeFormatter` object.\r\n            .withLocale( Locale.getDefault() )\r\n        ) ;  // Returns a `String` object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [2]: https://en.wikipedia.org/wiki/Immutable_object\r\n  [3]: https://en.wikipedia.org/wiki/Thread_safety\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html","title":"How to make a static Calendar thread safe","body":"<h1>tl;dr</h1>\n<p><code>Calendar</code> replaced by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>. <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">Immutable</a>, so <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safe</a>.</p>\n<pre><code>private static ZonedDateTime someMoment = ZonedDateTime.now();  // Capture the current moment as seen in the JVM’s current default time zone.\n</code></pre>\n<p>If the value is meant to be fixed, unchanging during the execution of your app, mark it <code>final</code>.</p>\n<pre><code>private static final ZonedDateTime someMoment = ZonedDateTime.now();  \n</code></pre>\n<p>If at runtime you might assign a different object, then for thread-safety use an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a>.</p>\n<pre><code>private static final AtomicReference&lt; ZonedDateTime &gt; someMomentRef = new AtomicReference&lt;&gt;( ZonedDateTime.now() ) ;\n</code></pre>\n<p>Later updating with a fresh moment.</p>\n<pre><code>someMomentRef.set( ZonedDateTime.now() );\n</code></pre>\n<p>If you need to interoperate with old code not yet updated to <em>java.time</em>, convert.</p>\n<pre><code>ZonedDateTime someMoment = someMomentRef.get() ;\nCalendar c = GregorianCalendar.from( someMoment ) ;  // `GregorianCalendar` is a concrete subclass of `Calendar`.\n</code></pre>\n<h1><code>java.time.ZonedDateTime</code></h1>\n<p>The terribly flawed <code>java.util.Calendar</code> class has been supplanted by the modern <em>java.time</em> classes defined in JSR 310. Specifically replaced by <code>java.time.ZonedDateTime</code>.</p>\n<p>A <code>ZonedDateTime</code> object represents a date with time-of-day as seen in a particular time zone.</p>\n<p>Understand that a time zone is a named history of the changes to the offset used by the people of a particular region as decided by their politicians. An offset is merely a number of hours-minutes-seconds ahead or behind the temporal meridian of UTC.</p>\n<p>To get the current moment, specify your desired/expected time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>If you want the JVM’s current default time zone, use <code>ZoneId.systemDefault()</code>.</p>\n<p>You can store a <code>ZonedDateTime</code> object in a <code>static</code> reference. But be aware that such an object stores a frozen moment, is immutable, and does not adjust to later moments. If you want a later moment, call <code>now</code> method ago to generate a new fresh <code>ZonedDateTime</code> object.</p>\n<pre><code>private static final ZonedDateTime appLaunched = ZonedDateTime.now( ZoneId.of( &quot;Asia/Tokyo&quot; ) );\n</code></pre>\n<h1><code>java.time.Instant</code></h1>\n<p>If you merely want to track a moment, a specific point on the timeline, without business rules explicitly aimed at time zones, use a moment as seen in UTC. For that, use <code>java.time.Instant</code> class.</p>\n<pre><code>private static final Instant instant = Instant.now() ;  // Always in UTC, an offset of zero.\n</code></pre>\n<h1>Generating localized text</h1>\n<p>You can later apply a time zone for presentation to the user.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( ZoneId.systemDefault() ) ;\nString output = \n    zdt\n    .atZone( ZoneId.systemDefault() )  // Returns a `ZonedDateTime` object.\n    .format( \n        DateTimeFormatter\n        .ofLocalizedDateTime( FormatStyle.FULL )  // Returns a `DateTimeFormatter` object.\n        .withLocale( Locale.getDefault() )\n    ) ;  // Returns a `String` object.\n</code></pre>\n"}],"owner":{"account_id":218146,"reputation":6489,"user_id":474326,"accept_rate":84,"display_name":"cody"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12698,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":6245086,"answer_count":6,"score":10,"last_activity_date":1690314229,"creation_date":1307299882,"question_id":6245053,"body_markdown":"I&#39;d like to use a Calendar for some static methods and use a static field:\r\n\r\n    private static Calendar calendar = Calendar.getInstance();\r\n\r\nNow I read java.util.Calendar isn&#39;t thread safe. How can I make this thread safe (it should be **static**)?","title":"How to make a static Calendar thread safe","body":"<p>I'd like to use a Calendar for some static methods and use a static field:</p>\n\n<pre><code>private static Calendar calendar = Calendar.getInstance();\n</code></pre>\n\n<p>Now I read java.util.Calendar isn't thread safe. How can I make this thread safe (it should be <strong>static</strong>)?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9706,"page":286,"page_size":100}
