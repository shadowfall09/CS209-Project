{"items":[{"tags":["java","spring","hibernate","docker","testcontainers"],"comments":[{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1540545548,"post_id":52968195,"comment_id":92914711,"body_markdown":"If your standalone MySQL is running, please stop that or kill it. Though the exposed port can be different, the host port would still be same 3306 if i&#39;m not wrong. If that worked, let me know as I would post it as answer later.","body":"If your standalone MySQL is running, please stop that or kill it. Though the exposed port can be different, the host port would still be same 3306 if i&#39;m not wrong. If that worked, let me know as I would post it as answer later."},{"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":"Алексей"},"score":0,"creation_date":1540549834,"post_id":52968195,"comment_id":92917141,"body_markdown":"@KarthikR it wouldn&#39;t have sense, because after tests my app connect to standalone MySQL","body":"@KarthikR it wouldn&#39;t have sense, because after tests my app connect to standalone MySQL"}],"answers":[{"comments":[{"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":"Алексей"},"score":0,"creation_date":1540388137,"post_id":52969361,"comment_id":92847044,"body_markdown":"Still same exceptions. And another question. How to set time limit on creating container? \nIt&#39;s take 254.273 s for trying. But now it&#39;s not creating two or three container. Only one, which shutdown almost immedeatly","body":"Still same exceptions. And another question. How to set time limit on creating container?  It&#39;s take 254.273 s for trying. But now it&#39;s not creating two or three container. Only one, which shutdown almost immedeatly"},{"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"score":0,"creation_date":1540389311,"post_id":52969361,"comment_id":92847901,"body_markdown":"So set the startup timeout you may use [withStartupTimeoutSeconds](https://github.com/testcontainers/testcontainers-java/blob/c91513d9ebfb3051c2ddaf9b0581e7dbb10e236a/modules/jdbc/src/main/java/org/testcontainers/containers/JdbcDatabaseContainer.java#L98)","body":"So set the startup timeout you may use <a href=\"https://github.com/testcontainers/testcontainers-java/blob/c91513d9ebfb3051c2ddaf9b0581e7dbb10e236a/modules/jdbc/src/main/java/org/testcontainers/containers/JdbcDatabaseContainer.java#L98\" rel=\"nofollow noreferrer\">withStartupTimeoutSeconds</a>"},{"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"score":0,"creation_date":1540389407,"post_id":52969361,"comment_id":92847964,"body_markdown":"Could you share logs of the execution? Or even turn debug logs on for `org.testcontainers` and share them","body":"Could you share logs of the execution? Or even turn debug logs on for <code>org.testcontainers</code> and share them"},{"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":"Алексей"},"score":0,"creation_date":1540398265,"post_id":52969361,"comment_id":92854013,"body_markdown":"actually exceptions from above - that&#39;s all I have from maven debug mode","body":"actually exceptions from above - that&#39;s all I have from maven debug mode"},{"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"score":0,"creation_date":1540491878,"post_id":52969361,"comment_id":92896578,"body_markdown":"could you give a complete output of a failed test?","body":"could you give a complete output of a failed test?"},{"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":"Алексей"},"score":0,"creation_date":1540542533,"post_id":52969361,"comment_id":92912998,"body_markdown":"@llya added output","body":"@llya added output"},{"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"score":0,"creation_date":1540545181,"post_id":52969361,"comment_id":92914476,"body_markdown":"I updated the answer with howto add logging, please do that and upload the new output.","body":"I updated the answer with howto add logging, please do that and upload the new output."},{"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":"Алексей"},"score":0,"creation_date":1540549485,"post_id":52969361,"comment_id":92916944,"body_markdown":"@llya I added logback result in answers (question body limit). It trying to create container three times than i have TimeoutException. It seems, that at first docker create container, trying to reach it, and only than initialize database","body":"@llya I added logback result in answers (question body limit). It trying to create container three times than i have TimeoutException. It seems, that at first docker create container, trying to reach it, and only than initialize database"},{"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"score":0,"creation_date":1540550843,"post_id":52969361,"comment_id":92917651,"body_markdown":"It looks like the problem is [related to usage of root](https://github.com/docker-library/mysql/issues/129), try to use another user.","body":"It looks like the problem is <a href=\"https://github.com/docker-library/mysql/issues/129\" rel=\"nofollow noreferrer\">related to usage of root</a>, try to use another user."},{"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":"Алексей"},"score":0,"creation_date":1540553161,"post_id":52969361,"comment_id":92918900,"body_markdown":"No, still the same","body":"No, still the same"}],"tags":[],"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540545129,"creation_date":1540385089,"answer_id":52969361,"question_id":52968195,"body_markdown":"It seems you have two problems here.\r\n\r\n1. Docker is exposing mysql server on a random port, but you need a fixed port. To fix that you may set the fixed port using `addFixedExposedPort` of [GenericContainer][1]\r\n\r\n        public class TestMySQL extends MySQLContainer {\r\n    \r\n            public TestMySQL(String dockerImageName) {\r\n                super(dockerImageName);\r\n                addFixedExposedPort(6161, MYSQL_PORT);\r\n            }\r\n    \r\n            @Override\r\n            public String getDriverClassName() {\r\n                return &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n            }\r\n        }\r\n\r\n2. You probably don&#39;t have database `test`, user `test` with password `test` as it&#39;s default credentials in [MySQLContainer][2], that cause the `ContainerLaunchException` you are getting. Use `withDatabaseName`, `withUsername` and `withPassword` to configure DB and user properly.\r\n\r\n\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @ContextConfiguration(classes = {\r\n            HibernateConfiguration.class,\r\n            SecurityConfiguration.class,\r\n            SecurityInitializer.class,\r\n            ViewConfiguration.class,\r\n            ViewInitializer.class})\r\n        @WebAppConfiguration\r\n        public class ControllerServiceJTest {\r\n        \r\n            @ClassRule\r\n            public static TestMySQL  container\r\n                = new TestMySQL(&quot;h2testbase&quot;)\r\n                  .withDatabaseName(&quot;myTestDb&quot;)\r\n                  .withUsername(&quot;root&quot;)\r\n                  .withPassword(&quot;admin&quot;);\r\n        \r\n            @Autowired\r\n            ControllerService controllerService;\r\n        \r\n            @Test\r\n            public void stationPagination() {\r\n                Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\r\n                Assert.assertTrue(((List&lt;Station&gt;)pag.get(&quot;stations&quot;)).size() == 8);\r\n            }\r\n        \r\n            @Test\r\n            public void trainPagination() {\r\n                Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\r\n                Assert.assertTrue(((List&lt;Train&gt;)pag.get(&quot;trains&quot;)).size() == 20);\r\n            }\r\n        \r\n            @Test\r\n            public void switchHelper() {\r\n                Assert.assertTrue(controllerService.stationSwitchHelper(&quot;BLUE&quot;).equals(URLs.REDIRECT_DASHSTATION + &quot;/2&quot;));\r\n            }\r\n        }\r\n\r\n**UPDATE**:\r\n\r\nTo turn on logging, add following dependency to `pom.xml`\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\nand create `src/test/resources/logback.xml` with following content\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;org.testcontainers&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/configuration\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java/blob/007c3b9df12145f5175a7dd17c476a01e6f1f5b8/core/src/main/java/org/testcontainers/containers/GenericContainer.java#L783\r\n  [2]: https://github.com/testcontainers/testcontainers-java/blob/29570469df18f999645e7d29290fb4ac5dda2672/modules/mysql/src/main/java/org/testcontainers/containers/MySQLContainer.java#L19","title":"Using custom DB docker-image with Testcontainers","body":"<p>It seems you have two problems here.</p>\n\n<ol>\n<li><p>Docker is exposing mysql server on a random port, but you need a fixed port. To fix that you may set the fixed port using <code>addFixedExposedPort</code> of <a href=\"https://github.com/testcontainers/testcontainers-java/blob/007c3b9df12145f5175a7dd17c476a01e6f1f5b8/core/src/main/java/org/testcontainers/containers/GenericContainer.java#L783\" rel=\"nofollow noreferrer\">GenericContainer</a></p>\n\n<pre><code>public class TestMySQL extends MySQLContainer {\n\n    public TestMySQL(String dockerImageName) {\n        super(dockerImageName);\n        addFixedExposedPort(6161, MYSQL_PORT);\n    }\n\n    @Override\n    public String getDriverClassName() {\n        return \"com.mysql.cj.jdbc.Driver\";\n    }\n}\n</code></pre></li>\n<li><p>You probably don't have database <code>test</code>, user <code>test</code> with password <code>test</code> as it's default credentials in <a href=\"https://github.com/testcontainers/testcontainers-java/blob/29570469df18f999645e7d29290fb4ac5dda2672/modules/mysql/src/main/java/org/testcontainers/containers/MySQLContainer.java#L19\" rel=\"nofollow noreferrer\">MySQLContainer</a>, that cause the <code>ContainerLaunchException</code> you are getting. Use <code>withDatabaseName</code>, <code>withUsername</code> and <code>withPassword</code> to configure DB and user properly.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {\n    HibernateConfiguration.class,\n    SecurityConfiguration.class,\n    SecurityInitializer.class,\n    ViewConfiguration.class,\n    ViewInitializer.class})\n@WebAppConfiguration\npublic class ControllerServiceJTest {\n\n    @ClassRule\n    public static TestMySQL  container\n        = new TestMySQL(\"h2testbase\")\n          .withDatabaseName(\"myTestDb\")\n          .withUsername(\"root\")\n          .withPassword(\"admin\");\n\n    @Autowired\n    ControllerService controllerService;\n\n    @Test\n    public void stationPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\n        Assert.assertTrue(((List&lt;Station&gt;)pag.get(\"stations\")).size() == 8);\n    }\n\n    @Test\n    public void trainPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\n        Assert.assertTrue(((List&lt;Train&gt;)pag.get(\"trains\")).size() == 20);\n    }\n\n    @Test\n    public void switchHelper() {\n        Assert.assertTrue(controllerService.stationSwitchHelper(\"BLUE\").equals(URLs.REDIRECT_DASHSTATION + \"/2\"));\n    }\n}\n</code></pre></li>\n</ol>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>To turn on logging, add following dependency to <code>pom.xml</code></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and create <code>src/test/resources/logback.xml</code> with following content</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=\"info\"&gt;\n        &lt;appender-ref ref=\"STDOUT\"/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=\"org.testcontainers\" level=\"DEBUG\"/&gt;\n&lt;/configuration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26737838,"reputation":1,"user_id":20339111,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666785374,"creation_date":1666785374,"answer_id":74207349,"question_id":52968195,"body_markdown":"I had the same problem. It seems that when extending a custom class from MySQLContainer the container starts multiple times. In my case three mysql container were started. When I use directly MySQLContainer class everything worked as expected. Only one mysql container is started.\r\n","title":"Using custom DB docker-image with Testcontainers","body":"<p>I had the same problem. It seems that when extending a custom class from MySQLContainer the container starts multiple times. In my case three mysql container were started. When I use directly MySQLContainer class everything worked as expected. Only one mysql container is started.</p>\n"}],"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":"Алексей"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666785374,"creation_date":1540381575,"question_id":52968195,"body_markdown":"I&#39;m novice in Testcontainers, so i have a question.\r\nI have application on Spring/Hibernate. I have docker-image (h2testbase) with mysql-base (myTestDb) with data. I run that image in docker with -p 6161:3306. In test/resources directory I have file application.properties. It contains next\r\n\r\n```properties\r\njdbc.driverClassName=com.mysql.cj.jdbc.Driver\r\njdbc.url=jdbc:mysql://localhost:6161/myTestDb?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Europe/Moscow&amp;&amp;useSSL=false\r\njdbc.username=root\r\njdbc.cred=admin\r\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nhibernate.show_sql=true\r\nhibernate.format_sql=true\r\n```\r\n\r\nI use mvn test - it&#39;s working. Now I want to run these test with Testcontainers. I added in pom.xml dependencies\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n    &lt;version&gt;1.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n    &lt;version&gt;1.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI extented class MySQLContainer\r\n\r\n    public class TestMySQL extends MySQLContainer {\r\n    \r\n        public TestMySQL() {\r\n            super();\r\n        }\r\n    \r\n        public TestMySQL(String dockerImageName) {\r\n            super(dockerImageName);\r\n        }\r\n    \r\n        @Override\r\n        public String getDriverClassName() {\r\n            return &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n        }\r\n    }\r\n\r\ncuz MySQLContainer using com.mysql.jdbc.Driver and it&#39;s deprecated.\r\nMy test (for example)\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {\r\n            HibernateConfiguration.class,\r\n            SecurityConfiguration.class,\r\n            SecurityInitializer.class,\r\n            ViewConfiguration.class,\r\n            ViewInitializer.class})\r\n    @WebAppConfiguration\r\n    public class ControllerServiceJTest {\r\n    \r\n        @ClassRule\r\n        public static TestMySQL  container\r\n                = new TestMySQL(&quot;h2testbase&quot;);\r\n    \r\n        @Autowired\r\n        ControllerService controllerService;\r\n    \r\n        @Test\r\n        public void stationPagination() {\r\n            Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\r\n            Assert.assertTrue(((List&lt;Station&gt;)pag.get(&quot;stations&quot;)).size() == 8);\r\n        }\r\n    \r\n        @Test\r\n        public void trainPagination() {\r\n            Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\r\n            Assert.assertTrue(((List&lt;Train&gt;)pag.get(&quot;trains&quot;)).size() == 20);\r\n        }\r\n    \r\n        @Test\r\n        public void switchHelper() {\r\n            Assert.assertTrue(controllerService.stationSwitchHelper(&quot;BLUE&quot;).equals(URLs.REDIRECT_DASHSTATION + &quot;/2&quot;));\r\n        }\r\n    }\r\n\r\nAnd there I&#39;m hitting the wall. If I use mvn test, I see (through docker ps) that container is started. It started two or three times (and mapping go on random ports such 328xx), but then maven tells\r\n\r\n    org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    Caused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n    Caused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n    Caused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\n    Caused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\n    Caused by: java.util.concurrent.TimeoutException\r\n\r\nWhat should I do now? How to tell to my testcontainer needed port (6161)? How to use parameters which in application.properties? I can&#39;t find code examples where used custom images with DB with data.\r\nThank you in advance\r\n\r\n**Update**\r\nAdd full result for failed test.\r\n```lang-none\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running ru.javasch.metro.junit.ControllerServiceJTest\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.\r\nSLF4J: Defaulting to no-operation MDCAdapter implementation.\r\nSLF4J: See http://www.slf4j.org/codes.html#no_static_mdc_binder for further details.\r\n\t\t?? Checking the system...\r\n\t\t? Docker version should be at least 1.6.0\r\n\t\t? Docker environment should have more than 2GB free disk space\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 97.189 s &lt;&lt;&lt; FAILURE! - in ru.javasch.metro.junit.ControllerServiceJTest\r\n[ERROR] ru.javasch.metro.junit.ControllerServiceJTest  Time elapsed: 97.187 s  &lt;&lt;&lt; ERROR!\r\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\nCaused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\nCaused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\nCaused by: java.util.concurrent.TimeoutException\r\n```\r\n\r\nThere some info. I tried tests with MySqlContainer from [here][1] (with my TestMySql). When I use clean mysql:5.5 image - all good. But when I try add some modifications in container (for example addFixedExposedPort) it&#39;s not start cuz port is already allocated. In case when I adding data from script - it&#39;s &quot;Could not create container&quot;. If I&#39;m trying give it my image (h2testbase), again &quot;Could not create container&quot;. \r\n\r\n\r\n  [1]: https://kazuhira-r.hatenablog.com/entry/20170311/1489239579","title":"Using custom DB docker-image with Testcontainers","body":"<p>I'm novice in Testcontainers, so i have a question.\nI have application on Spring/Hibernate. I have docker-image (h2testbase) with mysql-base (myTestDb) with data. I run that image in docker with -p 6161:3306. In test/resources directory I have file application.properties. It contains next</p>\n<pre><code>jdbc.driverClassName=com.mysql.cj.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:6161/myTestDb?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Europe/Moscow&amp;&amp;useSSL=false\njdbc.username=root\njdbc.cred=admin\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\nhibernate.show_sql=true\nhibernate.format_sql=true\n</code></pre>\n<p>I use mvn test - it's working. Now I want to run these test with Testcontainers. I added in pom.xml dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n    &lt;version&gt;1.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n    &lt;version&gt;1.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I extented class MySQLContainer</p>\n<pre><code>public class TestMySQL extends MySQLContainer {\n\n    public TestMySQL() {\n        super();\n    }\n\n    public TestMySQL(String dockerImageName) {\n        super(dockerImageName);\n    }\n\n    @Override\n    public String getDriverClassName() {\n        return &quot;com.mysql.cj.jdbc.Driver&quot;;\n    }\n}\n</code></pre>\n<p>cuz MySQLContainer using com.mysql.jdbc.Driver and it's deprecated.\nMy test (for example)</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {\n        HibernateConfiguration.class,\n        SecurityConfiguration.class,\n        SecurityInitializer.class,\n        ViewConfiguration.class,\n        ViewInitializer.class})\n@WebAppConfiguration\npublic class ControllerServiceJTest {\n\n    @ClassRule\n    public static TestMySQL  container\n            = new TestMySQL(&quot;h2testbase&quot;);\n\n    @Autowired\n    ControllerService controllerService;\n\n    @Test\n    public void stationPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\n        Assert.assertTrue(((List&lt;Station&gt;)pag.get(&quot;stations&quot;)).size() == 8);\n    }\n\n    @Test\n    public void trainPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\n        Assert.assertTrue(((List&lt;Train&gt;)pag.get(&quot;trains&quot;)).size() == 20);\n    }\n\n    @Test\n    public void switchHelper() {\n        Assert.assertTrue(controllerService.stationSwitchHelper(&quot;BLUE&quot;).equals(URLs.REDIRECT_DASHSTATION + &quot;/2&quot;));\n    }\n}\n</code></pre>\n<p>And there I'm hitting the wall. If I use mvn test, I see (through docker ps) that container is started. It started two or three times (and mapping go on random ports such 328xx), but then maven tells</p>\n<pre><code>org.testcontainers.containers.ContainerLaunchException: Container startup failed\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\nCaused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: java.util.concurrent.TimeoutException\n</code></pre>\n<p>What should I do now? How to tell to my testcontainer needed port (6161)? How to use parameters which in application.properties? I can't find code examples where used custom images with DB with data.\nThank you in advance</p>\n<p><strong>Update</strong>\nAdd full result for failed test.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running ru.javasch.metro.junit.ControllerServiceJTest\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.\nSLF4J: Defaulting to no-operation MDCAdapter implementation.\nSLF4J: See http://www.slf4j.org/codes.html#no_static_mdc_binder for further details.\n        ?? Checking the system...\n        ? Docker version should be at least 1.6.0\n        ? Docker environment should have more than 2GB free disk space\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 97.189 s &lt;&lt;&lt; FAILURE! - in ru.javasch.metro.junit.ControllerServiceJTest\n[ERROR] ru.javasch.metro.junit.ControllerServiceJTest  Time elapsed: 97.187 s  &lt;&lt;&lt; ERROR!\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\nCaused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: java.util.concurrent.TimeoutException\n</code></pre>\n<p>There some info. I tried tests with MySqlContainer from <a href=\"https://kazuhira-r.hatenablog.com/entry/20170311/1489239579\" rel=\"nofollow noreferrer\">here</a> (with my TestMySql). When I use clean mysql:5.5 image - all good. But when I try add some modifications in container (for example addFixedExposedPort) it's not start cuz port is already allocated. In case when I adding data from script - it's &quot;Could not create container&quot;. If I'm trying give it my image (h2testbase), again &quot;Could not create container&quot;.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1525402,"reputation":81,"user_id":1423982,"display_name":"KittenLS"},"score":0,"creation_date":1666637541,"post_id":74184796,"comment_id":130979929,"body_markdown":"Please show code example wich doesn&#39;t work","body":"Please show code example wich doesn&#39;t work"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666637750,"post_id":74184796,"comment_id":130979979,"body_markdown":"Added the code direct into the question","body":"Added the code direct into the question"},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":1,"creation_date":1666638069,"post_id":74184796,"comment_id":130980092,"body_markdown":"Add more of your code. Are you calling `setSelection` after setting the adapter?","body":"Add more of your code. Are you calling <code>setSelection</code> after setting the adapter?"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666638394,"post_id":74184796,"comment_id":130980219,"body_markdown":"Updated the shared code","body":"Updated the shared code"},{"owner":{"account_id":1525402,"reputation":81,"user_id":1423982,"display_name":"KittenLS"},"score":0,"creation_date":1666638420,"post_id":74184796,"comment_id":130980226,"body_markdown":"You should set position from you adapter","body":"You should set position from you adapter"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666638464,"post_id":74184796,"comment_id":130980240,"body_markdown":"What do u mean, dont understand it &#128517;?","body":"What do u mean, dont understand it 😅?"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666639146,"post_id":74184796,"comment_id":130980462,"body_markdown":"@KittenLS How to do that?","body":"@KittenLS How to do that?"},{"owner":{"account_id":1525402,"reputation":81,"user_id":1423982,"display_name":"KittenLS"},"score":0,"creation_date":1666720096,"post_id":74184796,"comment_id":131001861,"body_markdown":"currenciesSpinner adapter is already filled with which values, it seems a problem in adapter, do you have default selected value","body":"currenciesSpinner adapter is already filled with which values, it seems a problem in adapter, do you have default selected value"}],"answers":[{"tags":[],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666785203,"creation_date":1666785203,"answer_id":74207312,"question_id":74184796,"body_markdown":"You call updateCurrencySpinner when countrySpinner changes, but you don&#39;t use the value of countrySpinner, instead you use the value of serviceSpinner.\r\n\r\nSo even if you call the method when countrySpinner changes, it does not actually change anything because the value of serviceSpinner is still the same.","title":"Kotlin problem: My spinner does not update","body":"<p>You call updateCurrencySpinner when countrySpinner changes, but you don't use the value of countrySpinner, instead you use the value of serviceSpinner.</p>\n<p>So even if you call the method when countrySpinner changes, it does not actually change anything because the value of serviceSpinner is still the same.</p>\n"}],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74207312,"answer_count":1,"score":-2,"last_activity_date":1666785203,"creation_date":1666632873,"question_id":74184796,"body_markdown":"[function][1]\r\n\r\n        private fun updateCurrencySpinner() {\r\n        // Update selected item form the currency spinner based on the country spinner\r\n        val currency = when (serviceSpinner.selectedItemPosition) {\r\n            0 -&gt; 0\r\n            1 -&gt; 0\r\n            2 -&gt; 1\r\n            3 -&gt; 2\r\n            else -&gt; 0\r\n        }\r\n        currenciesSpinner.setSelection(currency)\r\n    }\r\n[when i call the function][2]\r\n\r\n            countrySpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\r\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\r\n                updateCurrencySpinner()\r\n            }\r\n\r\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {}\r\n        }\r\n\r\ncan someone tell me why my spinner does not update (I call this function every time I change the selected item)?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dGeyM.png\r\n  [2]: https://i.stack.imgur.com/BW40A.png","title":"Kotlin problem: My spinner does not update","body":"<p><a href=\"https://i.stack.imgur.com/dGeyM.png\" rel=\"nofollow noreferrer\">function</a></p>\n<pre><code>    private fun updateCurrencySpinner() {\n    // Update selected item form the currency spinner based on the country spinner\n    val currency = when (serviceSpinner.selectedItemPosition) {\n        0 -&gt; 0\n        1 -&gt; 0\n        2 -&gt; 1\n        3 -&gt; 2\n        else -&gt; 0\n    }\n    currenciesSpinner.setSelection(currency)\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BW40A.png\" rel=\"nofollow noreferrer\">when i call the function</a></p>\n<pre><code>        countrySpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            updateCurrencySpinner()\n        }\n\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {}\n    }\n</code></pre>\n<p>can someone tell me why my spinner does not update (I call this function every time I change the selected item)?</p>\n"},{"tags":["java","azure","docker","kubernetes","datadog"],"comments":[{"owner":{"account_id":16625137,"reputation":3499,"user_id":12014434,"display_name":"Piotr Malec"},"score":0,"creation_date":1592493055,"post_id":62436021,"comment_id":110451257,"body_markdown":"So Datadog dashboard is working but the service traces are not showing?","body":"So Datadog dashboard is working but the service traces are not showing?"},{"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"score":0,"creation_date":1592542794,"post_id":62436021,"comment_id":110468297,"body_markdown":"Exactly @PiotrMalec","body":"Exactly @PiotrMalec"},{"owner":{"account_id":16625137,"reputation":3499,"user_id":12014434,"display_name":"Piotr Malec"},"score":1,"creation_date":1593531827,"post_id":62436021,"comment_id":110811727,"body_markdown":"This might be caused by changes introduced in `1.16`. Take a look at this blog [post](https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/). I suggest trying to configure Datadog from scratrch.","body":"This might be caused by changes introduced in <code>1.16</code>. Take a look at this blog <a href=\"https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\" rel=\"nofollow noreferrer\">post</a>. I suggest trying to configure Datadog from scratrch."},{"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"score":0,"creation_date":1593617998,"post_id":62436021,"comment_id":110845802,"body_markdown":"This was not due to the Kubernetes version but with the Datadog version and its ways of fetching Kubelet. @PiotrMalec","body":"This was not due to the Kubernetes version but with the Datadog version and its ways of fetching Kubelet. @PiotrMalec"}],"answers":[{"comments":[{"owner":{"account_id":7302339,"reputation":8002,"user_id":5564578,"display_name":"suren"},"score":0,"creation_date":1593618547,"post_id":62680072,"comment_id":110846122,"body_markdown":"Always there is a TLS issue with anything, people decide to just disable it :)","body":"Always there is a TLS issue with anything, people decide to just disable it :)"},{"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"score":0,"creation_date":1593618664,"post_id":62680072,"comment_id":110846188,"body_markdown":"Is there any other solution you can suggest? As I was stuck in this and also a bit new to Datadog. @suren","body":"Is there any other solution you can suggest? As I was stuck in this and also a bit new to Datadog. @suren"},{"owner":{"account_id":2382650,"reputation":355,"user_id":2084355,"accept_rate":25,"display_name":"Alfchee"},"score":0,"creation_date":1601498058,"post_id":62680072,"comment_id":113430668,"body_markdown":"thanks a lot! I was having a similar problem, and I applied this change and it was solved. Then I also added it in `datadog.env` for the Helm `values.yaml`, to install in any other cluster.","body":"thanks a lot! I was having a similar problem, and I applied this change and it was solved. Then I also added it in <code>datadog.env</code> for the Helm <code>values.yaml</code>, to install in any other cluster."}],"tags":[],"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1593616846,"creation_date":1593616846,"answer_id":62680072,"question_id":62436021,"body_markdown":"This was a issue with deployed DataDog daemonset for me:\r\n\r\nWhat I did to resolve:\r\n\r\n1. Check daemonset if it exists or not:\r\n\r\n       kubectl get ds -n datadog\r\n\r\n2. Edit the datadog daemonset:\r\n\r\n       kubectl edit ds datadog -n datadog\r\n\r\n3. In the opened yaml, add\r\n\r\n       - name: DD_KUBELET_TLS_VERIFY\r\n         value: &quot;false&quot;\r\n    Add this in **env:** tag for all places. For me there were 4 places which are having DD tags in the yaml.\r\n\r\n4. Save and close it. The daemonset will restart. And the application will start getting traced.","title":"Unable to detect the kubelet URL automatically : datadog_checks.base.errors.CheckException","body":"<p>This was a issue with deployed DataDog daemonset for me:</p>\n<p>What I did to resolve:</p>\n<ol>\n<li><p>Check daemonset if it exists or not:</p>\n<pre><code>kubectl get ds -n datadog\n</code></pre>\n</li>\n<li><p>Edit the datadog daemonset:</p>\n<pre><code>kubectl edit ds datadog -n datadog\n</code></pre>\n</li>\n<li><p>In the opened yaml, add</p>\n<pre><code>- name: DD_KUBELET_TLS_VERIFY\n  value: &quot;false&quot;\n</code></pre>\n<p>Add this in <strong>env:</strong> tag for all places. For me there were 4 places which are having DD tags in the yaml.</p>\n</li>\n<li><p>Save and close it. The daemonset will restart. And the application will start getting traced.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485209,"reputation":2676,"user_id":2179157,"display_name":"Sajjad Shirazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618474086,"creation_date":1618474086,"answer_id":67104589,"question_id":62436021,"body_markdown":"If you are using the Helm chart, you can overwrite on the values:\r\n \r\n```yaml\r\n## https://github.com/DataDog/helm-charts/blob/master/charts/datadog/values.yaml\r\n\r\ndatadog:  \r\n  # kubelet configuration\r\n  kubelet:\r\n    # datadog.kubelet.tlsVerify -- Toggle kubelet TLS verification\r\n    # @default -- true\r\n    tlsVerify:  false\r\n```","title":"Unable to detect the kubelet URL automatically : datadog_checks.base.errors.CheckException","body":"<p>If you are using the Helm chart, you can overwrite on the values:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>## https://github.com/DataDog/helm-charts/blob/master/charts/datadog/values.yaml\n\ndatadog:  \n  # kubelet configuration\n  kubelet:\n    # datadog.kubelet.tlsVerify -- Toggle kubelet TLS verification\n    # @default -- true\n    tlsVerify:  false\n</code></pre>\n"}],"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3921,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62680072,"answer_count":2,"score":4,"last_activity_date":1666785191,"creation_date":1592418810,"question_id":62436021,"body_markdown":"I set up datadog trace client in my kubernetes cluster to monitor my deployed application. It was working fine with the kubernetes version 1.15x but as soon as I upgraded the version to 1.16x, the service itself is not showing in the Datadog Dashboard.\r\n\r\nCurrently using:\r\n\r\n1. Kubernetes 1.16.9 \r\n\r\n2. Datadog 0.52.0\r\n\r\nWhen checked for agent status. It is giving following exception :\r\n\r\n    Instance ID: kubelet:xxxxxxxxxxxxx [ERROR]\r\n          Configuration Source: file:/etc/datadog-agent/conf.d/kubelet.d/conf.yaml.default\r\n          Total Runs: 12,453\r\n          Metric Samples: Last Run: 0, Total: 0\r\n          Events: Last Run: 0, Total: 0\r\n          Service Checks: Last Run: 0, Total: 0\r\n          Average Execution Time : 5ms\r\n          Last Execution Date : 2020-06-19 15:18:19.000000 UTC\r\n          Last Successful Execution Date : Never\r\n          Error: Unable to detect the kubelet URL automatically.\r\n          Traceback (most recent call last):\r\n            File &quot;/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/base/checks/base.py&quot;, line 822, in run\r\n              self.check(instance)\r\n            File &quot;/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/kubelet/kubelet.py&quot;, line 297, in check\r\n              raise CheckException(&quot;Unable to detect the kubelet URL automatically.&quot;)\r\n          datadog_checks.base.errors.CheckException: Unable to detect the kubelet URL automatically.\r\n\r\n This looks like a version issue to me. If it is which Datadog version I need to use for monitoring?","title":"Unable to detect the kubelet URL automatically : datadog_checks.base.errors.CheckException","body":"<p>I set up datadog trace client in my kubernetes cluster to monitor my deployed application. It was working fine with the kubernetes version 1.15x but as soon as I upgraded the version to 1.16x, the service itself is not showing in the Datadog Dashboard.</p>\n\n<p>Currently using:</p>\n\n<ol>\n<li><p>Kubernetes 1.16.9 </p></li>\n<li><p>Datadog 0.52.0</p></li>\n</ol>\n\n<p>When checked for agent status. It is giving following exception :</p>\n\n<pre><code>Instance ID: kubelet:xxxxxxxxxxxxx [ERROR]\n      Configuration Source: file:/etc/datadog-agent/conf.d/kubelet.d/conf.yaml.default\n      Total Runs: 12,453\n      Metric Samples: Last Run: 0, Total: 0\n      Events: Last Run: 0, Total: 0\n      Service Checks: Last Run: 0, Total: 0\n      Average Execution Time : 5ms\n      Last Execution Date : 2020-06-19 15:18:19.000000 UTC\n      Last Successful Execution Date : Never\n      Error: Unable to detect the kubelet URL automatically.\n      Traceback (most recent call last):\n        File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/base/checks/base.py\", line 822, in run\n          self.check(instance)\n        File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/kubelet/kubelet.py\", line 297, in check\n          raise CheckException(\"Unable to detect the kubelet URL automatically.\")\n      datadog_checks.base.errors.CheckException: Unable to detect the kubelet URL automatically.\n</code></pre>\n\n<p>This looks like a version issue to me. If it is which Datadog version I need to use for monitoring?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1666785023,"post_id":74206445,"comment_id":131016909,"body_markdown":"Have you tried using the `FileWriter` or `PrintWriter`? You define them but do not use them..","body":"Have you tried using the <code>FileWriter</code> or <code>PrintWriter</code>? You define them but do not use them.."},{"owner":{"account_id":26721859,"reputation":1,"user_id":20325550,"display_name":"fer"},"score":0,"creation_date":1666793486,"post_id":74206445,"comment_id":131020242,"body_markdown":"Yes,  I have tried to use them, without success","body":"Yes,  I have tried to use them, without success"},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1666796142,"post_id":74206445,"comment_id":131021379,"body_markdown":"What did not work the way you expected?","body":"What did not work the way you expected?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666801083,"post_id":74206445,"comment_id":131023337,"body_markdown":"[You&#39;re hiding errors](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">You&#39;re hiding errors</a>"}],"owner":{"account_id":26721859,"reputation":1,"user_id":20325550,"display_name":"fer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666784819,"creation_date":1666780924,"question_id":74206445,"body_markdown":"The program does what I want with system.out.println , but I don&#39;t get the result that comes out with the previous statement being able to print to a csv file. With FileWriter I can&#39;t print the file.\r\n\r\n```\r\n  public static void main(String[] args) throws FileNotFoundException, IOException {\r\n      \r\n      // archivo inicial &quot;prueba1.csv&quot; - linea-  7852500397148583,705034500050,45871,M501,20301231,,sonter,,,\r\n         \r\n     // archivo resultado 111.CSV --     7852 5003 9714 8583;705034500050;31/12/2030\r\n   String SEPARATOR=&quot;,&quot;;\r\n   String QUOTE=&quot;\\&quot;&quot;;\r\n\r\n   BufferedReader br = null;\r\n   FileWriter flwriter = null;\r\n   try {    \r\n        \r\n         br =new BufferedReader(new FileReader(&quot;G:\\\\java orig\\\\csv1\\\\prueba1.csv&quot;));\r\n         String line = br.readLine();\r\n        FileWriter fichero = new FileWriter(&quot;G:/java orig/csv1/&quot; + &quot;111.CSV&quot; ); // nombre fichero \r\n   PrintWriter pw = new PrintWriter(fichero); // variable de impresion\r\n \r\n  \r\n         while (null!=line) {\r\npw.println( &quot;hola&quot;);\r\n               \r\n            String [] fields = line.split(SEPARATOR);\r\n            String t1= fields[0];\r\n            String pin_mod = t1.substring(0,4)+&quot; &quot;+t1.substring(4,8)+&quot; &quot;+t1.substring(8,12)+&quot; &quot;+t1.substring(12,16) ;        \r\n            String t2= fields[1];\r\n            String t4= fields[4];\r\n            String  a  = t4.substring(0,4);\r\n            String  m  = t4.substring(4,6);\r\n            String  d  = t4.substring(6,8);\r\n            System.out.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\r\n//            System.out.println(&quot;t2  &quot; +  t2);\r\n//            System.out.println(  d + &quot;/&quot;+ m +&quot;/&quot;+ a);  \r\n pw.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\r\n            line = br.readLine();\r\n           \r\n         \r\n                            }\r\n             pw.close();\r\n         } catch (Exception e) { \r\n         \r\n          } finally {\r\n            if (null!=br) {\r\n            br.close();\r\n             \r\n                    }\r\n}  }\r\n```\r\n","title":"problems in read modify and write csv file in java","body":"<p>The program does what I want with system.out.println , but I don't get the result that comes out with the previous statement being able to print to a csv file. With FileWriter I can't print the file.</p>\n<pre><code>  public static void main(String[] args) throws FileNotFoundException, IOException {\n      \n      // archivo inicial &quot;prueba1.csv&quot; - linea-  7852500397148583,705034500050,45871,M501,20301231,,sonter,,,\n         \n     // archivo resultado 111.CSV --     7852 5003 9714 8583;705034500050;31/12/2030\n   String SEPARATOR=&quot;,&quot;;\n   String QUOTE=&quot;\\&quot;&quot;;\n\n   BufferedReader br = null;\n   FileWriter flwriter = null;\n   try {    \n        \n         br =new BufferedReader(new FileReader(&quot;G:\\\\java orig\\\\csv1\\\\prueba1.csv&quot;));\n         String line = br.readLine();\n        FileWriter fichero = new FileWriter(&quot;G:/java orig/csv1/&quot; + &quot;111.CSV&quot; ); // nombre fichero \n   PrintWriter pw = new PrintWriter(fichero); // variable de impresion\n \n  \n         while (null!=line) {\npw.println( &quot;hola&quot;);\n               \n            String [] fields = line.split(SEPARATOR);\n            String t1= fields[0];\n            String pin_mod = t1.substring(0,4)+&quot; &quot;+t1.substring(4,8)+&quot; &quot;+t1.substring(8,12)+&quot; &quot;+t1.substring(12,16) ;        \n            String t2= fields[1];\n            String t4= fields[4];\n            String  a  = t4.substring(0,4);\n            String  m  = t4.substring(4,6);\n            String  d  = t4.substring(6,8);\n            System.out.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\n//            System.out.println(&quot;t2  &quot; +  t2);\n//            System.out.println(  d + &quot;/&quot;+ m +&quot;/&quot;+ a);  \n pw.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\n            line = br.readLine();\n           \n         \n                            }\n             pw.close();\n         } catch (Exception e) { \n         \n          } finally {\n            if (null!=br) {\n            br.close();\n             \n                    }\n}  }\n</code></pre>\n"},{"tags":["java","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":10485773,"reputation":1268,"user_id":7729375,"display_name":"Benjamin Charais"},"score":0,"creation_date":1622746432,"post_id":67654365,"comment_id":119887423,"body_markdown":"Your Extension might not be configured by the time it is being used, which may mean it is being used in the apply method. You need to be sure that any extension values are used within tasks, not as a result of apply. Documentation is not overtly clear about this. You can use an init block in your class to help with default values","body":"Your Extension might not be configured by the time it is being used, which may mean it is being used in the apply method. You need to be sure that any extension values are used within tasks, not as a result of apply. Documentation is not overtly clear about this. You can use an init block in your class to help with default values"},{"owner":{"account_id":10907019,"reputation":91,"user_id":8017457,"display_name":"Harrison Cole"},"score":0,"creation_date":1641949162,"post_id":67654365,"comment_id":124940557,"body_markdown":"@BenjaminCharais, are you able to elaborate upon your point above? I&#39;m encountering the same issue with a plugin and extension I have developed!","body":"@BenjaminCharais, are you able to elaborate upon your point above? I&#39;m encountering the same issue with a plugin and extension I have developed!"}],"answers":[{"comments":[{"owner":{"account_id":19778087,"reputation":83,"user_id":14483632,"display_name":"brzi_gonzales"},"score":0,"creation_date":1701166996,"post_id":69443041,"comment_id":136738924,"body_markdown":"I had a similar issue, not because of the `is` prefix, but because of the variable name which might be reserved I assume. For example I had property named `name`. Changing it to `myName` solved the issue. My recommendation is to check if changing the name of the property fixes the issue.","body":"I had a similar issue, not because of the <code>is</code> prefix, but because of the variable name which might be reserved I assume. For example I had property named <code>name</code>. Changing it to <code>myName</code> solved the issue. My recommendation is to check if changing the name of the property fixes the issue."}],"tags":[],"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633387144,"creation_date":1633386806,"answer_id":69443041,"question_id":67654365,"body_markdown":"I&#39;m using gradle 7.X and Kotlin.\r\n\r\nThe &quot;Cannot have abstract method myPropertyName&quot; error is reported when the method name is prefixed by `&quot;is&quot;`:\r\n\r\n    abstract val isRegistered: Property&lt;Boolean&gt;\r\n\r\nThat was annoying to track down.  The type doesn&#39;t seem to matter.\r\n\r\nThe solution was to remove `&quot;is&quot;` from the name.","title":"Gradle Cannot have abstract method","body":"<p>I'm using gradle 7.X and Kotlin.</p>\n<p>The &quot;Cannot have abstract method myPropertyName&quot; error is reported when the method name is prefixed by <code>&quot;is&quot;</code>:</p>\n<pre><code>abstract val isRegistered: Property&lt;Boolean&gt;\n</code></pre>\n<p>That was annoying to track down.  The type doesn't seem to matter.</p>\n<p>The solution was to remove <code>&quot;is&quot;</code> from the name.</p>\n"},{"tags":[],"owner":{"account_id":25282871,"reputation":11,"user_id":19110442,"display_name":"Jesper Skov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652449683,"creation_date":1652449683,"answer_id":72230639,"question_id":67654365,"body_markdown":"The problem here seems to be the name of the abstract method.\r\n\r\nAll configurable methods must be bean-methods - this holds for both Extensions and Tasks.\r\n\r\nSo you should have used (assuming a java class):\r\n\r\n     abstract Property&lt;String&gt; getJars()\r\n\r\ninstead of \r\n\r\n     abstract Property&lt;String&gt; jars()\r\n\r\n\r\n","title":"Gradle Cannot have abstract method","body":"<p>The problem here seems to be the name of the abstract method.</p>\n<p>All configurable methods must be bean-methods - this holds for both Extensions and Tasks.</p>\n<p>So you should have used (assuming a java class):</p>\n<pre><code> abstract Property&lt;String&gt; getJars()\n</code></pre>\n<p>instead of</p>\n<pre><code> abstract Property&lt;String&gt; jars()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268428,"reputation":50179,"user_id":557179,"accept_rate":100,"display_name":"Nikola Despotoski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666784600,"creation_date":1666784600,"answer_id":74207190,"question_id":67654365,"body_markdown":"In addition to @Richard Sitze answer, in my case it was a custom setter function that was used in tests only (annotated with `@TestOnly`) was preventing generating the class. \r\n\r\nI had declared serializable object as `@Input`\r\n\r\n```kotlin\r\n@get:Input \r\nabstract val myPropertry : Property&lt;MyObject&gt;\r\n\r\n@Test\r\nfun setMyProperty(obj : MyObject){\r\n   //...\r\n}\r\n```\r\n\r\nSomehow the name of the function interfered with generating the property setter along generation of the setter. \r\n","title":"Gradle Cannot have abstract method","body":"<p>In addition to @Richard Sitze answer, in my case it was a custom setter function that was used in tests only (annotated with <code>@TestOnly</code>) was preventing generating the class.</p>\n<p>I had declared serializable object as <code>@Input</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@get:Input \nabstract val myPropertry : Property&lt;MyObject&gt;\n\n@Test\nfun setMyProperty(obj : MyObject){\n   //...\n}\n</code></pre>\n<p>Somehow the name of the function interfered with generating the property setter along generation of the setter.</p>\n"}],"owner":{"account_id":4986564,"reputation":141,"user_id":4072252,"display_name":"artk2002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2749,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666784600,"creation_date":1621719303,"question_id":67654365,"body_markdown":"I&#39;m developing a custom binary Gradle plugin, following the pattern shown [here][1].\r\n\r\nMy extension, VersionInfoExtension is abstract with abstract methods, just like the BinaryRepositoryExtension in the documentation. My task is also abstract, with abstract methods for the parameters, like the LatestArtifactVersion in the documentation. When I test, I get the following error:\r\n\r\n    An exception occurred applying plugin request [id: &#39;com.example.version-info&#39;]\r\n    &gt; Failed to apply plugin &#39;com.example.version-info&#39;.\r\n       &gt; Could not create an instance of type com.example.gradle.version.VersionInfoExtension.\r\n          &gt; Could not generate a decorated class for type VersionInfoExtension.\r\n             &gt; Cannot have abstract method VersionInfoExtension.jars().\r\n\r\nWhat am I missing? Are there any good examples of making this work?\r\n\r\n  [1]: https://docs.gradle.org/6.8.1/userguide/implementing_gradle_plugins.html#capturing_user_input_to_configure_plugin_runtime_behavior","title":"Gradle Cannot have abstract method","body":"<p>I'm developing a custom binary Gradle plugin, following the pattern shown <a href=\"https://docs.gradle.org/6.8.1/userguide/implementing_gradle_plugins.html#capturing_user_input_to_configure_plugin_runtime_behavior\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>My extension, VersionInfoExtension is abstract with abstract methods, just like the BinaryRepositoryExtension in the documentation. My task is also abstract, with abstract methods for the parameters, like the LatestArtifactVersion in the documentation. When I test, I get the following error:</p>\n<pre><code>An exception occurred applying plugin request [id: 'com.example.version-info']\n&gt; Failed to apply plugin 'com.example.version-info'.\n   &gt; Could not create an instance of type com.example.gradle.version.VersionInfoExtension.\n      &gt; Could not generate a decorated class for type VersionInfoExtension.\n         &gt; Cannot have abstract method VersionInfoExtension.jars().\n</code></pre>\n<p>What am I missing? Are there any good examples of making this work?</p>\n"},{"tags":["java","android","kotlin","android-view","android-glide"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666784470,"creation_date":1666784470,"answer_id":74207162,"question_id":74207097,"body_markdown":"You should be using `ImageView` and not `ItemView` there.\r\n\r\nFor the `ClassCastException` check that the layout has id `ivProfile` for the `ImageView` only and not e.g. in a higher-level `ConstraintLayout`.","title":"Can&#39;t find ItemView","body":"<p>You should be using <code>ImageView</code> and not <code>ItemView</code> there.</p>\n<p>For the <code>ClassCastException</code> check that the layout has id <code>ivProfile</code> for the <code>ImageView</code> only and not e.g. in a higher-level <code>ConstraintLayout</code>.</p>\n"}],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74207162,"answer_count":1,"score":-1,"last_activity_date":1666784470,"creation_date":1666784141,"question_id":74207097,"body_markdown":"[1][1]\r\n\r\n\r\n[2][2]\r\n\r\n        inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n        var tvName: TextView = itemView.findViewById(R.id.tvName)\r\n        var tvAge: TextView = itemView.findViewById(R.id.tvAge)\r\n        var ivProfile: ItemView = itemView.findViewById(R.id.ivProfile)\r\n\r\n        fun bind(contact: Contact) {\r\n            tvName.text = contact.name\r\n            tvAge.text = &quot;Age: ${contact.age}&quot;\r\n\r\n            Glide.with(context).load(contact.imageUrl).into (ivProfile)\r\n        }\r\n      }\r\n    }\r\n\r\nIs there in kotlin only `MenuView.ItemView`? Because Glide expects ItemView\r\n\r\nError Log:\r\n\r\n    Type mismatch: inferred type is MenuView.ItemView but ImageView was expected.\r\n\r\n  [1]: https://i.stack.imgur.com/7c9rG.png\r\n  [2]: https://i.stack.imgur.com/MsF7Z.png\r\n\r\nAnd if I paste instead of `MenuView.ItemView` `ImageView` then it says:\r\n\r\n    java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.ImageView\r\n                                                                                                    \tat com.jakob.kotlinrecyclerview.ContactAdapter$ViewHolder.&lt;init&gt;(ContactAdapter.kt:35)\r\n                                                                                                    \tat com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:17)\r\n                                                                                                    \tat com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:13)\r\n\r\n","title":"Can&#39;t find ItemView","body":"<p><a href=\"https://i.stack.imgur.com/7c9rG.png\" rel=\"nofollow noreferrer\">1</a></p>\n<p><a href=\"https://i.stack.imgur.com/MsF7Z.png\" rel=\"nofollow noreferrer\">2</a></p>\n<pre><code>    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    var tvName: TextView = itemView.findViewById(R.id.tvName)\n    var tvAge: TextView = itemView.findViewById(R.id.tvAge)\n    var ivProfile: ItemView = itemView.findViewById(R.id.ivProfile)\n\n    fun bind(contact: Contact) {\n        tvName.text = contact.name\n        tvAge.text = &quot;Age: ${contact.age}&quot;\n\n        Glide.with(context).load(contact.imageUrl).into (ivProfile)\n    }\n  }\n}\n</code></pre>\n<p>Is there in kotlin only <code>MenuView.ItemView</code>? Because Glide expects ItemView</p>\n<p>Error Log:</p>\n<pre><code>Type mismatch: inferred type is MenuView.ItemView but ImageView was expected.\n</code></pre>\n<p>And if I paste instead of <code>MenuView.ItemView</code> <code>ImageView</code> then it says:</p>\n<pre><code>java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.ImageView\n                                                                                                    at com.jakob.kotlinrecyclerview.ContactAdapter$ViewHolder.&lt;init&gt;(ContactAdapter.kt:35)\n                                                                                                    at com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:17)\n                                                                                                    at com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:13)\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666112386,"post_id":74112939,"comment_id":130856565,"body_markdown":"This can be error prone, but perhaps try it like this in Java `(?:^/\\*(?=(?:(?!\\*/|/\\*)[\\s\\S])*\\R\\h*\\*/)|\\G(?!^))(?&lt;=^/\\*(?:(?!\\*/|/\\*)[\\s\\S]){0,10000})(\\R)(?:(?!\\*/).*|\\*/)` https://regex101.com/r/0QWJGH/1 and https://ideone.com/Xl3cu8","body":"This can be error prone, but perhaps try it like this in Java <code>(?:^&#47;\\*(?=(?:(?!\\*&#47;|&#47;\\*)[\\s\\S])*\\R\\h*\\*&#47;)|\\G(?!^))(?&lt;=^&#47;\\*(?&zwnj;&#8203;:(?!\\*&#47;|&#47;\\*)[\\s\\S]){&zwnj;&#8203;0,10000})(\\R)(?:(?!\\&zwnj;&#8203;*&#47;).*|\\*&#47;)</code> <a href=\"https://regex101.com/r/0QWJGH/1\" rel=\"nofollow noreferrer\">regex101.com/r/0QWJGH/1</a> and <a href=\"https://ideone.com/Xl3cu8\" rel=\"nofollow noreferrer\">ideone.com/Xl3cu8</a>"}],"answers":[{"tags":[],"owner":{"account_id":5904519,"reputation":1229,"user_id":4646803,"accept_rate":71,"display_name":"protasm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666784367,"creation_date":1666784367,"answer_id":74207144,"question_id":74112939,"body_markdown":"In the end, I made a custom method:\r\n\r\n      //compressBlockComments(String)\r\n      private String compressBlockComments(String source) {\r\n        Matcher m = Pattern.compile(&quot;/\\\\*[\\\\s\\\\S]*?\\\\*/&quot;).matcher(source);\r\n        StringBuffer sb = new StringBuffer(source);\r\n        int offset = 0; //keep track of how many chars have been removed\r\n    \r\n        while (m.find()) { //Loop through pattern matches\r\n          String blockComment = m.group();\r\n          IntStream onlyNewlines = blockComment.chars().filter(c -&gt; c == &#39;\\n&#39;);\r\n          int countOfNewlines = (int)onlyNewlines.count();\r\n          String compressed = &quot;\\n&quot;.repeat(countOfNewlines); //empty string if count == 0\r\n    \r\n          //Replace the block comment with a compressed string, offsetting\r\n          //to account for the number of chars already removed.\r\n          sb = sb.replace(m.start() - offset, m.end() - offset, compressed);\r\n    \r\n          //Increment offset with the number of chars removed in this iteration.\r\n          offset += blockComment.length() - countOfNewlines;\r\n        } //while\r\n    \r\n        return sb.toString();\r\n      }\r\n\r\nThis has proved effective in my testing on source files with block quotes of various lengths and content.","title":"Collapse multiline block quote, preserving lines?","body":"<p>In the end, I made a custom method:</p>\n<pre><code>  //compressBlockComments(String)\n  private String compressBlockComments(String source) {\n    Matcher m = Pattern.compile(&quot;/\\\\*[\\\\s\\\\S]*?\\\\*/&quot;).matcher(source);\n    StringBuffer sb = new StringBuffer(source);\n    int offset = 0; //keep track of how many chars have been removed\n\n    while (m.find()) { //Loop through pattern matches\n      String blockComment = m.group();\n      IntStream onlyNewlines = blockComment.chars().filter(c -&gt; c == '\\n');\n      int countOfNewlines = (int)onlyNewlines.count();\n      String compressed = &quot;\\n&quot;.repeat(countOfNewlines); //empty string if count == 0\n\n      //Replace the block comment with a compressed string, offsetting\n      //to account for the number of chars already removed.\n      sb = sb.replace(m.start() - offset, m.end() - offset, compressed);\n\n      //Increment offset with the number of chars removed in this iteration.\n      offset += blockComment.length() - countOfNewlines;\n    } //while\n\n    return sb.toString();\n  }\n</code></pre>\n<p>This has proved effective in my testing on source files with block quotes of various lengths and content.</p>\n"}],"owner":{"account_id":5904519,"reputation":1229,"user_id":4646803,"accept_rate":71,"display_name":"protasm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74207144,"answer_count":1,"score":0,"last_activity_date":1666784367,"creation_date":1666104274,"question_id":74112939,"body_markdown":"I am writing a preprocessor in Java for a language that supports traditional C-style block quotes, of the form:\r\n\r\n    /* Block quote on a single line. */\r\n\r\nor:\r\n\r\n    /*\r\n      Block quote on multiple lines.\r\n    */\r\n\r\nThe first task of the preprocessor is to “collapse” these block quotes to zero-length strings **but preserve any line breaks** within the quote.  This is necessary so that down the line, any compilation errors can refer the programmer back to the line number in the original (pre-preprocessed!) source code.\r\n\r\nRight now, my preprocessor can find and collapse block quotes with Java pattern matching:\r\n\r\n    String open = “/\\\\*”;  // the initial slash-star\r\n    String body = “(.*?)”; // any char, zero or more, reluctantly\r\n    String close = “\\\\*/“; // the ending star-slash\r\n    \r\n    Pattern p = Pattern.compile(open + body + close, Pattern.DOTALL);\r\n    Matcher m = p.matcher(sourceCode);\r\n    \r\n    sourceCode = m.replaceAll(“”);\r\n\r\nBut, this approach does not preserve line numbering — any multiline block quotes get collapsed to a single line.  Thus:\r\n\r\n    1: /*\r\n    2: Multiline block quote.\r\n    3: */\r\n    4: \r\n    5: println(“I was coded on line 5.”);\r\n\r\nwill preprocess to:\r\n\r\n    1:\r\n    2:\r\n    3: println(“I was coded on line 5.”);\r\n\r\nbut it should end up as:\r\n\r\n    1:\r\n    2:\r\n    3:\r\n    4:\r\n    5: println(“I was coded on line 5.”);\r\n\r\nIs there a way I can collapse block quotes while preserving line numbering?","title":"Collapse multiline block quote, preserving lines?","body":"<p>I am writing a preprocessor in Java for a language that supports traditional C-style block quotes, of the form:</p>\n<pre><code>/* Block quote on a single line. */\n</code></pre>\n<p>or:</p>\n<pre><code>/*\n  Block quote on multiple lines.\n*/\n</code></pre>\n<p>The first task of the preprocessor is to “collapse” these block quotes to zero-length strings <strong>but preserve any line breaks</strong> within the quote.  This is necessary so that down the line, any compilation errors can refer the programmer back to the line number in the original (pre-preprocessed!) source code.</p>\n<p>Right now, my preprocessor can find and collapse block quotes with Java pattern matching:</p>\n<pre><code>String open = “/\\\\*”;  // the initial slash-star\nString body = “(.*?)”; // any char, zero or more, reluctantly\nString close = “\\\\*/“; // the ending star-slash\n\nPattern p = Pattern.compile(open + body + close, Pattern.DOTALL);\nMatcher m = p.matcher(sourceCode);\n\nsourceCode = m.replaceAll(“”);\n</code></pre>\n<p>But, this approach does not preserve line numbering — any multiline block quotes get collapsed to a single line.  Thus:</p>\n<pre><code>1: /*\n2: Multiline block quote.\n3: */\n4: \n5: println(“I was coded on line 5.”);\n</code></pre>\n<p>will preprocess to:</p>\n<pre><code>1:\n2:\n3: println(“I was coded on line 5.”);\n</code></pre>\n<p>but it should end up as:</p>\n<pre><code>1:\n2:\n3:\n4:\n5: println(“I was coded on line 5.”);\n</code></pre>\n<p>Is there a way I can collapse block quotes while preserving line numbering?</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1636602512,"post_id":69922929,"comment_id":123603323,"body_markdown":"Try putting autowired annotation on the repository in the service, like you did for the service in the controller.","body":"Try putting autowired annotation on the repository in the service, like you did for the service in the controller."},{"owner":{"account_id":6539993,"reputation":360,"user_id":5674568,"display_name":"Komdosh"},"score":1,"creation_date":1636602642,"post_id":69922929,"comment_id":123603351,"body_markdown":"Why you try to implement repo and autowire it same time?","body":"Why you try to implement repo and autowire it same time?"},{"owner":{"account_id":18600848,"reputation":5,"user_id":13555713,"display_name":"Jesus Mg"},"score":0,"creation_date":1636602933,"post_id":69922929,"comment_id":123603390,"body_markdown":"@NathanHughes Yeah! That was the problem. Solved it! Thx.","body":"@NathanHughes Yeah! That was the problem. Solved it! Thx."}],"answers":[{"tags":[],"owner":{"account_id":15490816,"reputation":102,"user_id":13673276,"display_name":"Lakshan Chathuranga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658325836,"creation_date":1636603121,"answer_id":69923027,"question_id":69922929,"body_markdown":"Try to add `@Autowired` annotation in `EquipoServicio`.\r\n\r\n    @Autowired\r\n    private EquipoRepo equiporepo;","title":"NullPointerException on JPA on SpringBoot","body":"<p>Try to add <code>@Autowired</code> annotation in <code>EquipoServicio</code>.</p>\n<pre><code>@Autowired\nprivate EquipoRepo equiporepo;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23302291,"reputation":11,"user_id":17382752,"display_name":"manojkdm18"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636603695,"creation_date":1636603272,"answer_id":69923043,"question_id":69922929,"body_markdown":"the reason is you are calling method of null object. use @Autowired annotation to get an object .\r\n\r\n    @Autowired\r\n    private EquipoRepo equiporepo;\r\n","title":"NullPointerException on JPA on SpringBoot","body":"<p>the reason is you are calling method of null object. use @Autowired annotation to get an object .</p>\n<pre><code>@Autowired\nprivate EquipoRepo equiporepo;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22835195,"reputation":109,"user_id":16983047,"display_name":"huseyinkadioglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636654615,"creation_date":1636654615,"answer_id":69933049,"question_id":69922929,"body_markdown":"Let&#39;s say application context is a pool. There are specific ways to put something in a pool and pull something from the pool.\r\n\r\nWhen you add `@Service`, `@Repository`, `@Bean` to your class/method, you are putting something in the pool.\r\n\r\n    public interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{}\r\n\r\nThere is no problem here without @Repository, because JpaRepository has it and JugadorRepo extends JpaRepository. \r\n\r\nBut if you want the use one of the elements in a pool, you need to get it first. You can use Injections(Constructor, Setter), `@Autowired` etc. \r\n\r\n    @Autowired\r\n    private EquipoRepo equiporepo;\r\n\r\nThis solves your problem. \r\n\r\n","title":"NullPointerException on JPA on SpringBoot","body":"<p>Let's say application context is a pool. There are specific ways to put something in a pool and pull something from the pool.</p>\n<p>When you add <code>@Service</code>, <code>@Repository</code>, <code>@Bean</code> to your class/method, you are putting something in the pool.</p>\n<pre><code>public interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{}\n</code></pre>\n<p>There is no problem here without @Repository, because JpaRepository has it and JugadorRepo extends JpaRepository.</p>\n<p>But if you want the use one of the elements in a pool, you need to get it first. You can use Injections(Constructor, Setter), <code>@Autowired</code> etc.</p>\n<pre><code>@Autowired\nprivate EquipoRepo equiporepo;\n</code></pre>\n<p>This solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666784319,"creation_date":1666784319,"answer_id":74207133,"question_id":69922929,"body_markdown":"you forgot to add the annotation: &quot; @Autowired &quot; here, or inject it by constructor:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dREYv.png","title":"NullPointerException on JPA on SpringBoot","body":"<p>you forgot to add the annotation: &quot; @Autowired &quot; here, or inject it by constructor:\n<a href=\"https://i.stack.imgur.com/dREYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dREYv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18600848,"reputation":5,"user_id":13555713,"display_name":"Jesus Mg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69923027,"answer_count":4,"score":0,"last_activity_date":1666784319,"creation_date":1636602167,"question_id":69922929,"body_markdown":"I&#39;m new on SpringBoot and I&#39;m making a small CRUD. When I try to make a GET request that show me a list of soccer teams from my BD called &quot;soccer&quot; I&#39;ve have the following error message:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.balamcode.repo.EquipoRepo.findAll()&quot; because &quot;this.equiporepo&quot; is null\r\n\tat com.balamcode.servicio.EquipoServicio.findAll(EquipoServicio.java:22) ~[classes/:na]\r\n\tat com.balamcode.rest.EquipoREST.getAllEquipos(EquipoREST.java:23) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\nMy model &quot;Equipo&quot; is:\r\n\r\n    package com.balamcode.modelos;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table (name = &quot;equipo&quot;)\r\n    public class Equipo {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate int id;\r\n    \tprivate String nombre;\r\n    \t\r\n    \tpublic Equipo() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic Equipo(String nombre) {\r\n    \t\tsuper();\r\n    \t\tthis.nombre = nombre;\r\n    \t}\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getNombre() {\r\n    \t\treturn nombre;\r\n    \t}\r\n    \tpublic void setNombre(String nombre) {\r\n    \t\tthis.nombre = nombre;\r\n    \t}\r\n    \t\r\n    \t}\r\n\r\nMy Repositorie &quot;EquipoRepo&quot; is\r\n\r\n    package com.balamcode.repo;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.balamcode.modelos.Jugador;\r\n    \r\n    public interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{\r\n    \r\n    }\r\n\r\nMy service &quot;EquipoServicio&quot; is:\r\n\r\n    package com.balamcode.servicio;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.data.domain.Example;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.domain.Sort;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.balamcode.modelos.Equipo;\r\n    import com.balamcode.repo.EquipoRepo;\r\n    \r\n    @Service\r\n    public class EquipoServicio implements EquipoRepo{\r\n    \r\n    \tprivate EquipoRepo equiporepo;\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Equipo&gt; findAll() {\r\n    \t\treturn equiporepo.findAll();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Equipo&gt; findAll(Sort sort) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Equipo&gt; findAllById(Iterable&lt;Integer&gt; ids) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void flush() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; S saveAndFlush(S entity) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; saveAllAndFlush(Iterable&lt;S&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllInBatch(Iterable&lt;Equipo&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllByIdInBatch(Iterable&lt;Integer&gt; ids) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllInBatch() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Equipo getOne(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Equipo getById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Page&lt;Equipo&gt; findAll(Pageable pageable) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; S save(S entity) {\r\n    \t\t\r\n    \t\treturn equiporepo.save(entity);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Optional&lt;Equipo&gt; findById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean existsById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long count() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void delete(Equipo entity) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllById(Iterable&lt;? extends Integer&gt; ids) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAll(Iterable&lt;? extends Equipo&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAll() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; long count(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; boolean exists(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nAnd my REST class called &quot;EquipoREST&quot; is:\r\n\r\n    package com.balamcode.rest;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.balamcode.modelos.Equipo;\r\n    import com.balamcode.servicio.EquipoServicio;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/equipo/&quot;)\r\n    public class EquipoREST {\r\n    \r\n    \t@Autowired\r\n    \tprivate EquipoServicio equipoServicio;\r\n    \t\r\n    \t@GetMapping\r\n    \tpublic ResponseEntity&lt;List&lt;Equipo&gt;&gt; getAllEquipos(){\r\n    \t\treturn ResponseEntity.ok(equipoServicio.findAll());\r\n    \t}\r\n    }\r\n\r\n","title":"NullPointerException on JPA on SpringBoot","body":"<p>I'm new on SpringBoot and I'm making a small CRUD. When I try to make a GET request that show me a list of soccer teams from my BD called &quot;soccer&quot; I've have the following error message:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.balamcode.repo.EquipoRepo.findAll()&quot; because &quot;this.equiporepo&quot; is null\nat com.balamcode.servicio.EquipoServicio.findAll(EquipoServicio.java:22) ~[classes/:na]\nat com.balamcode.rest.EquipoREST.getAllEquipos(EquipoREST.java:23) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n<p>My model &quot;Equipo&quot; is:</p>\n<pre><code>package com.balamcode.modelos;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table (name = &quot;equipo&quot;)\npublic class Equipo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String nombre;\n    \n    public Equipo() {\n        \n    }\n    \n    public Equipo(String nombre) {\n        super();\n        this.nombre = nombre;\n    }\n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getNombre() {\n        return nombre;\n    }\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n    \n    }\n</code></pre>\n<p>My Repositorie &quot;EquipoRepo&quot; is</p>\n<pre><code>package com.balamcode.repo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.balamcode.modelos.Jugador;\n\npublic interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{\n\n}\n</code></pre>\n<p>My service &quot;EquipoServicio&quot; is:</p>\n<pre><code>package com.balamcode.servicio;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.data.domain.Example;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.stereotype.Service;\n\nimport com.balamcode.modelos.Equipo;\nimport com.balamcode.repo.EquipoRepo;\n\n@Service\npublic class EquipoServicio implements EquipoRepo{\n\n    private EquipoRepo equiporepo;\n\n    @Override\n    public List&lt;Equipo&gt; findAll() {\n        return equiporepo.findAll();\n    }\n\n    @Override\n    public List&lt;Equipo&gt; findAll(Sort sort) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public List&lt;Equipo&gt; findAllById(Iterable&lt;Integer&gt; ids) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void flush() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; S saveAndFlush(S entity) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; saveAllAndFlush(Iterable&lt;S&gt; entities) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void deleteAllInBatch(Iterable&lt;Equipo&gt; entities) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAllByIdInBatch(Iterable&lt;Integer&gt; ids) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAllInBatch() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public Equipo getOne(Integer id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Equipo getById(Integer id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Page&lt;Equipo&gt; findAll(Pageable pageable) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; S save(S entity) {\n        \n        return equiporepo.save(entity);\n    }\n\n    @Override\n    public Optional&lt;Equipo&gt; findById(Integer id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public boolean existsById(Integer id) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public long count() {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public void deleteById(Integer id) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void delete(Equipo entity) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAllById(Iterable&lt;? extends Integer&gt; ids) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAll(Iterable&lt;? extends Equipo&gt; entities) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAll() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; long count(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; boolean exists(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n}\n</code></pre>\n<p>And my REST class called &quot;EquipoREST&quot; is:</p>\n<pre><code>package com.balamcode.rest;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.balamcode.modelos.Equipo;\nimport com.balamcode.servicio.EquipoServicio;\n\n@RestController\n@RequestMapping(&quot;/equipo/&quot;)\npublic class EquipoREST {\n\n    @Autowired\n    private EquipoServicio equipoServicio;\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;Equipo&gt;&gt; getAllEquipos(){\n        return ResponseEntity.ok(equipoServicio.findAll());\n    }\n}\n</code></pre>\n"},{"tags":["java","heap-memory","patch","suse"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667090811,"post_id":74207110,"comment_id":131088631,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74207110/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26737711,"reputation":1,"user_id":20339002,"display_name":"Guest"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666784192,"creation_date":1666784192,"answer_id":74207110,"question_id":71422580,"body_markdown":"As I know, SUSE has 1.3 GB as the decision limit. That is, as you have 1 GB &lt; 1.3 GB for your container, it considers it small, and thus uses MinRAMPercentage to determine heap size. I could not find the corresponding patch yet, though.","title":"Heap size allocation in SUSE using MinRAMPercentage instead of MaxRAMPercentage values although heap size &gt; 250 MB","body":"<p>As I know, SUSE has 1.3 GB as the decision limit. That is, as you have 1 GB &lt; 1.3 GB for your container, it considers it small, and thus uses MinRAMPercentage to determine heap size. I could not find the corresponding patch yet, though.</p>\n"}],"owner":{"account_id":23019951,"reputation":11,"user_id":17141136,"display_name":"Thomas Enblom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666784192,"creation_date":1646908086,"question_id":71422580,"body_markdown":"I have a problem when defining usage of heap size using MinRAMPercentage and MaxRAMPercentage.\r\n\r\nThe MaxRAMPercentage value is used when heap size is &gt; 250 MB while the MinRAMPercentage is used when heap size &lt; 250 MB.\r\n\r\nI have run the following 2 commands:\r\n------------------------------------\r\n\r\n\r\n**First command** is with openjdk11\r\n\r\ndocker run -m 1GB openjdk:11 java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version\r\n\r\nIt allocates around **820MB** for the java heap size limit, thereby using the MaxRAMPercentage which is correct!\r\n \r\n**Second command** is with SUSE provided openjdk\r\n\r\ndocker run -m 1GB armdocker.rnd.ericsson.se/proj-adp-cicd-drop/bob-java11mvnbuilder:latest java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version\r\n\r\nIt allocates **512MB** which it allocates using the MinRAMPercentage..\r\n\r\n-------\r\n\r\nSo it seems that the **First command** java uses MaxRAMPercentage, while the **second command** java uses MinRAMPercentage.\r\nWith SUSE it picks MinRAMPercentage 50%*1GB = 500 MB\r\n \r\nApparently there is a patch in SUSE provided jdk that switches to MinRAMPercentage although MaxRAMPercentage should be used for this heap size value (1 GB).\r\n\r\nMy questions:\r\n* What is the reasoning behind this patch in SUSE?\r\n* Is there a place where I can find more information\r\n* Is there a way to avoid this patch?\r\n\r\nThanks.\r\nThomas\r\n\r\n","title":"Heap size allocation in SUSE using MinRAMPercentage instead of MaxRAMPercentage values although heap size &gt; 250 MB","body":"<p>I have a problem when defining usage of heap size using MinRAMPercentage and MaxRAMPercentage.</p>\n<p>The MaxRAMPercentage value is used when heap size is &gt; 250 MB while the MinRAMPercentage is used when heap size &lt; 250 MB.</p>\n<h2>I have run the following 2 commands:</h2>\n<p><strong>First command</strong> is with openjdk11</p>\n<p>docker run -m 1GB openjdk:11 java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version</p>\n<p>It allocates around <strong>820MB</strong> for the java heap size limit, thereby using the MaxRAMPercentage which is correct!</p>\n<p><strong>Second command</strong> is with SUSE provided openjdk</p>\n<p>docker run -m 1GB armdocker.rnd.ericsson.se/proj-adp-cicd-drop/bob-java11mvnbuilder:latest java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version</p>\n<p>It allocates <strong>512MB</strong> which it allocates using the MinRAMPercentage..</p>\n<hr />\n<p>So it seems that the <strong>First command</strong> java uses MaxRAMPercentage, while the <strong>second command</strong> java uses MinRAMPercentage.\nWith SUSE it picks MinRAMPercentage 50%*1GB = 500 MB</p>\n<p>Apparently there is a patch in SUSE provided jdk that switches to MinRAMPercentage although MaxRAMPercentage should be used for this heap size value (1 GB).</p>\n<p>My questions:</p>\n<ul>\n<li>What is the reasoning behind this patch in SUSE?</li>\n<li>Is there a place where I can find more information</li>\n<li>Is there a way to avoid this patch?</li>\n</ul>\n<p>Thanks.\nThomas</p>\n"},{"tags":["java","homebrew"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1596837538,"post_id":63309614,"comment_id":111949502,"body_markdown":"Ask 10 people, get 11 answers (eventhough there seem to be only three possible answers available...)","body":"Ask 10 people, get 11 answers (eventhough there seem to be only three possible answers available...)"},{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":1,"creation_date":1596838954,"post_id":63309614,"comment_id":111949882,"body_markdown":"I would recommend using `sdk` instead `brew` for installing java versions. On top it gives you flexibility for easy switch between the versions.","body":"I would recommend using <code>sdk</code> instead <code>brew</code> for installing java versions. On top it gives you flexibility for easy switch between the versions."}],"answers":[{"comments":[{"owner":{"account_id":10597128,"reputation":2022,"user_id":11056254,"display_name":"ggguser"},"score":0,"creation_date":1697639050,"post_id":63309656,"comment_id":136305510,"body_markdown":"`brew tap homebrew/cask-versions`","body":"<code>brew tap homebrew&#47;cask-versions</code>"},{"owner":{"account_id":10597128,"reputation":2022,"user_id":11056254,"display_name":"ggguser"},"score":0,"creation_date":1697639104,"post_id":63309656,"comment_id":136305530,"body_markdown":"`brew install --cask temurin11`","body":"<code>brew install --cask temurin11</code>"},{"owner":{"account_id":10597128,"reputation":2022,"user_id":11056254,"display_name":"ggguser"},"score":0,"creation_date":1697639119,"post_id":63309656,"comment_id":136305535,"body_markdown":"https://stackoverflow.com/a/70771552/11056254","body":"<a href=\"https://stackoverflow.com/a/70771552/11056254\">stackoverflow.com/a/70771552/11056254</a>"}],"tags":[],"owner":{"account_id":7655202,"reputation":1958,"user_id":5802381,"accept_rate":62,"display_name":"Andrew Vershinin"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1596837707,"creation_date":1596837707,"answer_id":63309656,"question_id":63309614,"body_markdown":"You can use [AdoptOpenJDK][1] for `brew`\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/homebrew-openjdk","title":"How to install openjdk with brew?","body":"<p>You can use <a href=\"https://github.com/AdoptOpenJDK/homebrew-openjdk\" rel=\"noreferrer\">AdoptOpenJDK</a> for <code>brew</code></p>\n"},{"comments":[{"owner":{"account_id":82358,"reputation":14014,"user_id":231624,"accept_rate":54,"display_name":"Alex Craft"},"score":5,"creation_date":1596838438,"post_id":63309664,"comment_id":111949743,"body_markdown":"Thanks. Strangely it didn&#39;t setup the environment variable, I had to setup it manually as `JAVA_HOME=/usr/local/Cellar/openjdk/14.0.1`","body":"Thanks. Strangely it didn&#39;t setup the environment variable, I had to setup it manually as <code>JAVA_HOME=&#47;usr&#47;local&#47;Cellar&#47;openjdk&#47;14.0.1</code>"},{"owner":{"account_id":11415003,"reputation":91,"user_id":8368023,"display_name":"Chih-Chen Kao"},"score":12,"creation_date":1606075323,"post_id":63309664,"comment_id":114843317,"body_markdown":"try the following command: `sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk`","body":"try the following command: <code>sudo ln -sfn &#47;usr&#47;local&#47;opt&#47;openjdk&#47;libexec&#47;openjdk.jdk &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;openjdk.jdk</code>"},{"owner":{"account_id":4879938,"reputation":558,"user_id":3934037,"accept_rate":62,"display_name":"jungyh0218"},"score":6,"creation_date":1634621586,"post_id":63309664,"comment_id":123066742,"body_markdown":"It didn&#39;t set up the environment variable, so I ran these instructions;\n\necho &#39;export PATH=&quot;/usr/local/opt/openjdk@11/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\n &amp;&amp; source ~/.zshrc\n\nand it worked well.","body":"It didn&#39;t set up the environment variable, so I ran these instructions;  echo &#39;export PATH=&quot;/usr/local/opt/openjdk@11/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc  &amp;&amp; source ~/.zshrc  and it worked well."},{"owner":{"account_id":3202336,"reputation":511,"user_id":2704169,"display_name":"Pjotr"},"score":0,"creation_date":1663161081,"post_id":63309664,"comment_id":130173614,"body_markdown":"**brew install opendjk** installs the latest stable version. Additional exposure to the system might be required for it to become the default version of the system, but the process shows all of the information after it finishes.","body":"<b>brew install opendjk</b> installs the latest stable version. Additional exposure to the system might be required for it to become the default version of the system, but the process shows all of the information after it finishes."}],"tags":[],"owner":{"account_id":4298152,"reputation":850,"user_id":3512601,"accept_rate":0,"display_name":"saysiva"},"comment_count":4,"down_vote_count":1,"up_vote_count":60,"is_accepted":true,"score":59,"last_activity_date":1645700385,"creation_date":1596837781,"answer_id":63309664,"question_id":63309614,"body_markdown":"Run `brew install openjdk@11`\r\n\r\nIn case you are managing java versions with [jenv][1], also run:\r\n\r\n```sh\r\nsudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\njenv add /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home/\r\n```\r\n\r\n\r\n  [1]: https://www.jenv.be/","title":"How to install openjdk with brew?","body":"<p>Run <code>brew install openjdk@11</code></p>\n<p>In case you are managing java versions with <a href=\"https://www.jenv.be/\" rel=\"noreferrer\">jenv</a>, also run:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\njenv add /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home/\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1713027,"reputation":487,"user_id":1570669,"accept_rate":50,"display_name":"Andrej Repisk&#253;"},"score":1,"creation_date":1621406790,"post_id":63310708,"comment_id":119482753,"body_markdown":"`brew cask install adoptopenjdk11` didn&#39;t work. Simply `brew install adoptopenjdk11` works.","body":"<code>brew cask install adoptopenjdk11</code> didn&#39;t work. Simply <code>brew install adoptopenjdk11</code> works."},{"owner":{"account_id":3525554,"reputation":256,"user_id":2946772,"display_name":"Sourafa"},"score":1,"creation_date":1625268149,"post_id":63310708,"comment_id":120591250,"body_markdown":"this worked for me, however a slight update with respect to cask usage, \n\n`brew install adoptopenjdk8 --cask` instead of `brew cask install adoptopenjdk8`\n\nreference [homebrew-issue-902](https://github.com/Homebrew/discussions/discussions/902)","body":"this worked for me, however a slight update with respect to cask usage,   <code>brew install adoptopenjdk8 --cask</code> instead of <code>brew cask install adoptopenjdk8</code>  reference <a href=\"https://github.com/Homebrew/discussions/discussions/902\" rel=\"nofollow noreferrer\">homebrew-issue-902</a>"},{"owner":{"account_id":10587751,"reputation":359,"user_id":12658818,"display_name":"Volodymyr Bobyr"},"score":0,"creation_date":1639018829,"post_id":63310708,"comment_id":124243530,"body_markdown":"I get a warning saying `adoptopenjdk` has been discontinued.","body":"I get a warning saying <code>adoptopenjdk</code> has been discontinued."},{"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"score":5,"creation_date":1639459986,"post_id":63310708,"comment_id":124347679,"body_markdown":"The successor to adoptopenjdk is now `brew install --cask temurin` - see https://formulae.brew.sh/cask/adoptopenjdk and https://github.com/AdoptOpenJDK/homebrew-openjdk","body":"The successor to adoptopenjdk is now <code>brew install --cask temurin</code> - see <a href=\"https://formulae.brew.sh/cask/adoptopenjdk\" rel=\"nofollow noreferrer\">formulae.brew.sh/cask/adoptopenjdk</a> and <a href=\"https://github.com/AdoptOpenJDK/homebrew-openjdk\" rel=\"nofollow noreferrer\">github.com/AdoptOpenJDK/homebrew-openjdk</a>"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1668205578,"post_id":63310708,"comment_id":131357366,"body_markdown":"What&#39;s `adoptopenjdk`?","body":"What&#39;s <code>adoptopenjdk</code>?"}],"tags":[],"owner":{"account_id":3238523,"reputation":509,"user_id":2732094,"accept_rate":50,"display_name":"SkillsIndexOutOfBounds"},"comment_count":5,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1666784084,"creation_date":1596846991,"answer_id":63310708,"question_id":63309614,"body_markdown":"To install latest:\r\n\r\n    brew install --cask adoptopenjdk\r\n\r\nTo install a specific version\r\n\r\n    brew tap AdoptOpenJDK/openjdk\r\n    brew install --cask adoptopenjdk8\r\n    brew install --cask adoptopenjdk9","title":"How to install openjdk with brew?","body":"<p>To install latest:</p>\n<pre><code>brew install --cask adoptopenjdk\n</code></pre>\n<p>To install a specific version</p>\n<pre><code>brew tap AdoptOpenJDK/openjdk\nbrew install --cask adoptopenjdk8\nbrew install --cask adoptopenjdk9\n</code></pre>\n"}],"owner":{"account_id":82358,"reputation":14014,"user_id":231624,"accept_rate":54,"display_name":"Alex Craft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84656,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"closed_date":1596870984,"accepted_answer_id":63309664,"answer_count":3,"score":33,"last_activity_date":1666784084,"creation_date":1596837434,"question_id":63309614,"body_markdown":"Seems like there&#39;s 3 packages &quot;openjdk&quot;, &quot;cask java&quot; and &quot;adoptopenjdk&quot;. \r\n\r\nWhich one should be used?","title":"How to install openjdk with brew?","body":"<p>Seems like there's 3 packages &quot;openjdk&quot;, &quot;cask java&quot; and &quot;adoptopenjdk&quot;.</p>\n<p>Which one should be used?</p>\n"},{"tags":["java","floating-point","numbers"],"comments":[{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":3,"creation_date":1666782790,"post_id":74206776,"comment_id":131016221,"body_markdown":"The value in a floating point variable is the value that&#39;s stores in the variable, fetching it will not make the value better or worse. So &quot;it gives an approx of a number in the variable&quot; is not true. What is true is that doing operations on floating point values (addition, multiplication, division, etc) *can* (but not always, depends on the values) lead to small rounding errors. The more operations you make of the values the larger the error becomes. So after doing a few operations of the variables, then a direct equality comparison might not lead to expected results.","body":"The value in a floating point variable is the value that&#39;s stores in the variable, fetching it will not make the value better or worse. So &quot;it gives an approx of a number in the variable&quot; is not true. What is true is that doing operations on floating point values (addition, multiplication, division, etc) <i>can</i> (but not always, depends on the values) lead to small rounding errors. The more operations you make of the values the larger the error becomes. So after doing a few operations of the variables, then a direct equality comparison might not lead to expected results."},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1666782920,"post_id":74206776,"comment_id":131016262,"body_markdown":"The solution is usually to compare using an *epsilon*. similar to your `abs` method: `if (Math.abs(a - b) &lt; 0.00001)`","body":"The solution is usually to compare using an <i>epsilon</i>. similar to your <code>abs</code> method: <code>if (Math.abs(a - b) &lt; 0.00001)</code>"},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1666782952,"post_id":74206776,"comment_id":131016276,"body_markdown":"Also see [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Also see <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"},{"owner":{"account_id":26737404,"reputation":3,"user_id":20338751,"display_name":"owns good"},"score":0,"creation_date":1666783663,"post_id":74206776,"comment_id":131016482,"body_markdown":"Oh! Yeah that is much more clever. Like setting to &lt;0.0001\n\nVery well done. That means even if there are minor errors along the way this still is not that big of a diff most of the time. I see, so instead of settiing ==0 set to &lt;0.0001. Why didn&#39;t I think of that. Thank you !","body":"Oh! Yeah that is much more clever. Like setting to &lt;0.0001  Very well done. That means even if there are minor errors along the way this still is not that big of a diff most of the time. I see, so instead of settiing ==0 set to &lt;0.0001. Why didn&#39;t I think of that. Thank you !"},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1667334389,"post_id":74206776,"comment_id":131142235,"body_markdown":"Both methods are weak.","body":"Both methods are weak."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666786047,"post_id":74206886,"comment_id":131017292,"body_markdown":"Welcome to SO, @AliHamed; a fine answer. A few highlights just to make things clear for the asker: _Instead it suggested checking the absolute value of the difference and see if it equals 0_ - I doubt it did that; you check the absvalue of the difference and see if it is a very small number, as this answer shows. Not 0. _Because it gives an approx of a number in the variable_ Some numbers. &#39;5&#39; can be stored perfectly. 0.1 cannot. Every operation rounds to the nearest representable. Do a lot of operations, as this answer does - and the rounding gets you.","body":"Welcome to SO, @AliHamed; a fine answer. A few highlights just to make things clear for the asker: <i>Instead it suggested checking the absolute value of the difference and see if it equals 0</i> - I doubt it did that; you check the absvalue of the difference and see if it is a very small number, as this answer shows. Not 0. <i>Because it gives an approx of a number in the variable</i> Some numbers. &#39;5&#39; can be stored perfectly. 0.1 cannot. Every operation rounds to the nearest representable. Do a lot of operations, as this answer does - and the rounding gets you."},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1667334273,"post_id":74206886,"comment_id":131142199,"body_markdown":"`Math.abs(d1 - d2) &lt; epsilon` takes the usefulness of floating out of `double`.  When `d1` and `d2` are consecutive `double`, and large like 1e20, `Math.abs(d1 - d2) &lt; epsilon` is always false.  When `d1` and `d2` are not anywhere near consecutive `double`, and tiny like 1e-20, `Math.abs(d1 - d2) &lt; epsilon` is always true.  `epsilon` should scale with the magnitudes of the values involved.","body":"<code>Math.abs(d1 - d2) &lt; epsilon</code> takes the usefulness of floating out of <code>double</code>.  When <code>d1</code> and <code>d2</code> are consecutive <code>double</code>, and large like 1e20, <code>Math.abs(d1 - d2) &lt; epsilon</code> is always false.  When <code>d1</code> and <code>d2</code> are not anywhere near consecutive <code>double</code>, and tiny like 1e-20, <code>Math.abs(d1 - d2) &lt; epsilon</code> is always true.  <code>epsilon</code> should scale with the magnitudes of the values involved."}],"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666783150,"creation_date":1666783150,"answer_id":74206886,"question_id":74206776,"body_markdown":"Inaccuracy with comparisons using the == operator is caused by the way double values are stored in a computer&#39;s memory. We need to remember that there is an infinite number of values that must fit in limited memory space, usually 64 bits. As a result, we can&#39;t have an exact representation of most double values in our computers. They must be rounded to be saved.\r\n\r\nBecause of the rounding inaccuracy, interesting errors might occur:\r\n\r\n    double d1 = 0;\r\n    for (int i = 1; i &lt;= 8; i++) {\r\n    d1 += 0.1;\r\n    }\r\n\r\n    double d2 = 0.1 * 8;\r\n\r\n    System.out.println(d1);\r\n    System.out.println(d2);\r\n\r\nBoth variables, d1 and d2, should equal 0.8. However, when we run the code above, we&#39;ll see the following results:\r\n\r\n    0.7999999999999999\r\n    0.8\r\n\r\nIn that case, comparing both values with the == operator would produce a wrong result. For this reason, we must use a more complex comparison algorithm.\r\n\r\nIf we want to have the best precision and control over the rounding mechanism, we can use java.math.BigDecimal class.\r\n\r\nThe recommended algorithm to compare double values in plain Java is a threshold comparison method. In this case, we need to check whether the difference between both numbers is within the specified tolerance, commonly called epsilon:\r\n\r\n    double epsilon = 0.000001d;\r\n\r\n    assertThat(Math.abs(d1 - d2) &lt; epsilon).isTrue();\r\n\r\nThe smaller the epsilon&#39;s value, the greater the comparison accuracy. However, if we specify the tolerance value too small, we&#39;ll get the same false result as in the simple == comparison","title":"Float-type useless?","body":"<p>Inaccuracy with comparisons using the == operator is caused by the way double values are stored in a computer's memory. We need to remember that there is an infinite number of values that must fit in limited memory space, usually 64 bits. As a result, we can't have an exact representation of most double values in our computers. They must be rounded to be saved.</p>\n<p>Because of the rounding inaccuracy, interesting errors might occur:</p>\n<pre><code>double d1 = 0;\nfor (int i = 1; i &lt;= 8; i++) {\nd1 += 0.1;\n}\n\ndouble d2 = 0.1 * 8;\n\nSystem.out.println(d1);\nSystem.out.println(d2);\n</code></pre>\n<p>Both variables, d1 and d2, should equal 0.8. However, when we run the code above, we'll see the following results:</p>\n<pre><code>0.7999999999999999\n0.8\n</code></pre>\n<p>In that case, comparing both values with the == operator would produce a wrong result. For this reason, we must use a more complex comparison algorithm.</p>\n<p>If we want to have the best precision and control over the rounding mechanism, we can use java.math.BigDecimal class.</p>\n<p>The recommended algorithm to compare double values in plain Java is a threshold comparison method. In this case, we need to check whether the difference between both numbers is within the specified tolerance, commonly called epsilon:</p>\n<pre><code>double epsilon = 0.000001d;\n\nassertThat(Math.abs(d1 - d2) &lt; epsilon).isTrue();\n</code></pre>\n<p>The smaller the epsilon's value, the greater the comparison accuracy. However, if we specify the tolerance value too small, we'll get the same false result as in the simple == comparison</p>\n"},{"tags":[],"owner":{"account_id":19696385,"reputation":11,"user_id":14420200,"display_name":"Кирилл Герасименко"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666783364,"creation_date":1666783364,"answer_id":74206921,"question_id":74206776,"body_markdown":"The thing is, That statement you read in your java book just prevents you from some errors in future, that can be hardly debugged. Computers store decimals/floats as binary, thus not everything we can express as rational in decimal numbers can be expressed as rational in binary, so there&#39;s always something like 0.7 = 0.699999999998511. You may not see difference in those comparisons you use, but in real project where you may use much more variables, add and subtract from them, this difference may appear in very surprising place.\r\n\r\nThere is some classic question about floating numbers. You may see it in any language as well\r\nhttps://stackoverflow.com/questions/3150716/why-does-this-code-print-a-result-of-7","title":"Float-type useless?","body":"<p>The thing is, That statement you read in your java book just prevents you from some errors in future, that can be hardly debugged. Computers store decimals/floats as binary, thus not everything we can express as rational in decimal numbers can be expressed as rational in binary, so there's always something like 0.7 = 0.699999999998511. You may not see difference in those comparisons you use, but in real project where you may use much more variables, add and subtract from them, this difference may appear in very surprising place.</p>\n<p>There is some classic question about floating numbers. You may see it in any language as well\n<a href=\"https://stackoverflow.com/questions/3150716/why-does-this-code-print-a-result-of-7\">Why does this code print a result of &#39;7&#39;?</a></p>\n"}],"owner":{"account_id":26737404,"reputation":3,"user_id":20338751,"display_name":"owns good"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74206886,"answer_count":2,"score":-2,"last_activity_date":1666783364,"creation_date":1666782562,"question_id":74206776,"body_markdown":"in my java book it told me to not directly compare 2 different float(type) numbers when storing them in variables. Because it gives an approx of a number in the variable. Instead it suggested checking the absolute value of the difference and see if it equals 0. If it does they are the same.  How is this helpful? What if I store 5 in variable a and 5 in variable b, how can they not be the same? And how does it help if I compare absolute value?? \r\n\r\n\r\n```\r\ndouble a=5,b=5;\r\n\r\nif (Math.abs(a-b)==0)\r\n//run code\r\n\r\nif (a==b)\r\n//run code \r\n```\r\n\r\nI don&#39;t see at all why the above method would be more accurate? Since if &#39;a&#39; is not equal to &#39;b&#39; it wont matter if I use Math.abs. \r\n\r\nI appreciate replies and thank you for your time. \r\n\r\n\r\n\r\nI tried both methods.","title":"Float-type useless?","body":"<p>in my java book it told me to not directly compare 2 different float(type) numbers when storing them in variables. Because it gives an approx of a number in the variable. Instead it suggested checking the absolute value of the difference and see if it equals 0. If it does they are the same.  How is this helpful? What if I store 5 in variable a and 5 in variable b, how can they not be the same? And how does it help if I compare absolute value??</p>\n<pre><code>double a=5,b=5;\n\nif (Math.abs(a-b)==0)\n//run code\n\nif (a==b)\n//run code \n</code></pre>\n<p>I don't see at all why the above method would be more accurate? Since if 'a' is not equal to 'b' it wont matter if I use Math.abs.</p>\n<p>I appreciate replies and thank you for your time.</p>\n<p>I tried both methods.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7340028,"reputation":11,"user_id":5589963,"display_name":"Mangesh Darekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666773983,"creation_date":1666767449,"answer_id":74203759,"question_id":74203634,"body_markdown":"    for(WADataModel model : claimDataList){\r\n      if(model.PLAN_NUMBER==null){\r\n        model.SUBGROUP_POLICY_NUMBER = &lt;&gt;\r\n      }\r\n    }","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<pre><code>for(WADataModel model : claimDataList){\n  if(model.PLAN_NUMBER==null){\n    model.SUBGROUP_POLICY_NUMBER = &lt;&gt;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666783333,"creation_date":1666768757,"answer_id":74204007,"question_id":74203634,"body_markdown":"If I have understood, you want to check that the value &#39;***PLAN_NUMBER***&#39; is not null, and then fill the variable &#39;***SUBGRUOUP_POLICY_NUMBER***&#39;.\r\n\r\nYou can do this with `lambdas` (since j8), which is optimal.\r\n\r\n    claimDataList.stream()\r\n    .filter(x -&gt; x.getPLAN_NUMBER() != null)\r\n    .forEach(y -&gt; y.setSUBGROUP_POLICY_NUMBER(y.getPLAN_NUMBER()));\r\n\r\n","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<p>If I have understood, you want to check that the value '<em><strong>PLAN_NUMBER</strong></em>' is not null, and then fill the variable '<em><strong>SUBGRUOUP_POLICY_NUMBER</strong></em>'.</p>\n<p>You can do this with <code>lambdas</code> (since j8), which is optimal.</p>\n<pre><code>claimDataList.stream()\n.filter(x -&gt; x.getPLAN_NUMBER() != null)\n.forEach(y -&gt; y.setSUBGROUP_POLICY_NUMBER(y.getPLAN_NUMBER()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666769317,"creation_date":1666769317,"answer_id":74204114,"question_id":74203634,"body_markdown":"Write a method to update **one** model.\r\nThen you can iterate over the list of models, filter them and call this method for the resuming models.\r\nI would prefer a stream:\r\n```\r\nclaimDataList.stream()\r\n    .filter(model -&gt; model.PLAN_NUMBER == null)\r\n    .forEach(this::planNumberNull);\r\n\r\nprivate void planNumberNull(WADataModel model) {\r\n    model.SUBGROUP_POLICY_NUMBER = ...\r\n}\r\n```","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<p>Write a method to update <strong>one</strong> model.\nThen you can iterate over the list of models, filter them and call this method for the resuming models.\nI would prefer a stream:</p>\n<pre><code>claimDataList.stream()\n    .filter(model -&gt; model.PLAN_NUMBER == null)\n    .forEach(this::planNumberNull);\n\nprivate void planNumberNull(WADataModel model) {\n    model.SUBGROUP_POLICY_NUMBER = ...\n}\n</code></pre>\n"}],"owner":{"account_id":11293194,"reputation":15,"user_id":15153070,"display_name":"lakshya saxena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74204114,"answer_count":3,"score":-1,"last_activity_date":1666783333,"creation_date":1666766602,"question_id":74203634,"body_markdown":"I have a array list of a Model class which has multiple String type variables.\r\nThis Array list values is populated from JDBC template result set.\r\n\r\nNow I want to iterate this Array List and update some of these model element based upon some conditions.\r\n\r\nMy Model Class:\r\n\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n\r\n    @Getter\r\n    @Setter\r\n\r\n    public class WADataModel {\r\n\r\n    public String STATUS;\t\r\n    public String AUTO_DATE;\r\n    public String RECORD_TYPE;\r\n    public String VENDOR_NAME;\r\n    public String CREATED_DATE;\r\n    public String ACTION_CODE;\r\n    public String CITY;\r\n    public String GROUP_NUMBER;\r\n    public String GROUP_POLICY_NUMBER;\r\n    public String SUBGROUP_NUMBER;\r\n    public String SUBGROUP_POLICY_NUMBER;\r\n    public String SYSTEM;\r\n    public String PLAN_NUMBER;\r\n    }\r\n\r\nMy DAO Class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.jdbc.core.BeanPropertyRowMapper;\r\n    import org.springframework.jdbc.core.RowMapper;\r\n    import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class PlanCrosswalks {\r\n\t\r\n    @Autowired\r\n    @Qualifier(&quot;nemisNamedJdbcTemplate&quot;)\r\n    private NamedParameterJdbcTemplate nemisJdbcTemplate;\t\r\n\r\n    @Autowired\r\n    private FetchDatafFromProp fetchDatafFromProp;\r\n\r\n    @Value(&quot;${query.state}&quot;)\r\n    private String queryState;\r\n\r\n\tpublic List&lt;WADataModel&gt; doWACrosswalk(List&lt;WADataModel&gt; claimDataList) throws ApplicationExceptions{\r\n\t\t\r\n\t\tRowMapper&lt;WACrosswalkModel&gt; rowMapper = new BeanPropertyRowMapper&lt;&gt;(WACrosswalkModel.class);\r\n\t\tList&lt;WACrosswalkModel&gt; statusResult = new ArrayList&lt;&gt;();\r\n\t\tMap&lt;String,String&gt; crosswalkQueryMap = new HashMap&lt;&gt;();\r\n\t\tMap&lt;String,String&gt; paramMap = new HashMap&lt;&gt;();\r\n\t\tcrosswalkQueryMap = fetchDatafFromProp.getDataForGeneration();\r\n\t\t\r\n\t\tstatusResult = nemisJdbcTemplate.query(crosswalkQueryMap.get(queryState+ Constants.UNDERSCORE + Constants.FETCH_SUB_GROUP_POLICY),paramMap,rowMapper);\r\n\t\t\r\n\t\tfor(WADataModel model : claimDataList)\r\n\t\t\t//Here I want to update ClaimDataList elements like SUBGROUP_POLICY_NUMBER,GROUP_POLICY_NUMBER based upon some conditions by iterating whole List.\r\n\r\n\t\treturn claimDataList; \r\n\t}\r\n\r\n}\r\n\r\n\r\nI want to iterate &quot;claimDataList&quot; and check whether plan_number is null and update subGroupPolicyNumber accordingly based upon the value of plan_number.\r\n\r\nI can iterate List of model but don&#39;t know how to update the values in List of model.\r\nPlease help me to update the values in &quot;claimDataList&quot;","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<p>I have a array list of a Model class which has multiple String type variables.\nThis Array list values is populated from JDBC template result set.</p>\n<p>Now I want to iterate this Array List and update some of these model element based upon some conditions.</p>\n<p>My Model Class:</p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n\npublic class WADataModel {\n\npublic String STATUS;   \npublic String AUTO_DATE;\npublic String RECORD_TYPE;\npublic String VENDOR_NAME;\npublic String CREATED_DATE;\npublic String ACTION_CODE;\npublic String CITY;\npublic String GROUP_NUMBER;\npublic String GROUP_POLICY_NUMBER;\npublic String SUBGROUP_NUMBER;\npublic String SUBGROUP_POLICY_NUMBER;\npublic String SYSTEM;\npublic String PLAN_NUMBER;\n}\n</code></pre>\n<p>My DAO Class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\nimport org.springframework.jdbc.core.RowMapper;\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class PlanCrosswalks {\n\n@Autowired\n@Qualifier(&quot;nemisNamedJdbcTemplate&quot;)\nprivate NamedParameterJdbcTemplate nemisJdbcTemplate;   \n\n@Autowired\nprivate FetchDatafFromProp fetchDatafFromProp;\n\n@Value(&quot;${query.state}&quot;)\nprivate String queryState;\n\npublic List&lt;WADataModel&gt; doWACrosswalk(List&lt;WADataModel&gt; claimDataList) throws ApplicationExceptions{\n    \n    RowMapper&lt;WACrosswalkModel&gt; rowMapper = new BeanPropertyRowMapper&lt;&gt;(WACrosswalkModel.class);\n    List&lt;WACrosswalkModel&gt; statusResult = new ArrayList&lt;&gt;();\n    Map&lt;String,String&gt; crosswalkQueryMap = new HashMap&lt;&gt;();\n    Map&lt;String,String&gt; paramMap = new HashMap&lt;&gt;();\n    crosswalkQueryMap = fetchDatafFromProp.getDataForGeneration();\n    \n    statusResult = nemisJdbcTemplate.query(crosswalkQueryMap.get(queryState+ Constants.UNDERSCORE + Constants.FETCH_SUB_GROUP_POLICY),paramMap,rowMapper);\n    \n    for(WADataModel model : claimDataList)\n        //Here I want to update ClaimDataList elements like SUBGROUP_POLICY_NUMBER,GROUP_POLICY_NUMBER based upon some conditions by iterating whole List.\n\n    return claimDataList; \n}\n</code></pre>\n<p>}</p>\n<p>I want to iterate &quot;claimDataList&quot; and check whether plan_number is null and update subGroupPolicyNumber accordingly based upon the value of plan_number.</p>\n<p>I can iterate List of model but don't know how to update the values in List of model.\nPlease help me to update the values in &quot;claimDataList&quot;</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3978962,"reputation":440,"user_id":3281415,"accept_rate":50,"display_name":"SerCrAsH"},"score":1,"creation_date":1617365327,"post_id":66919053,"comment_id":118289263,"body_markdown":"you could even try to use this simplified version `Optional&lt;User&gt; findByUsername(String username);` and also remove all `@Getter @Setter` and replace it with a class annotation `@Data`. Apart from that, just a stupid question .. did you initiate your database with records in user&#39;s table?","body":"you could even try to use this simplified version <code>Optional&lt;User&gt; findByUsername(String username);</code> and also remove all <code>@Getter @Setter</code> and replace it with a class annotation <code>@Data</code>. Apart from that, just a stupid question .. did you initiate your database with records in user&#39;s table?"}],"answers":[{"tags":[],"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617365763,"creation_date":1617365763,"answer_id":66919199,"question_id":66919053,"body_markdown":"It is possible that you don&#39;t seed the database with the user you are trying to login. You can use an Application Runner class to seed it on every start if the user doesn&#39;t exist in the database. Also, you can apply the `@Data` annotation from Lombok on class level to generate getters and setters for all the fields.\r\n\r\n```java\r\npackage com.javahowtos.dataseeddemo.dataseed;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.javahowtos.dataseeddemo.model.User;\r\nimport com.javahowtos.dataseeddemo.repository.UserRepository;\r\n\r\n@Component\r\npublic class UserDataLoader implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tloadUserData();\r\n\t}\r\n\r\n\tprivate void loadUserData() {\r\n\t\tif (userRepository.count() == 0) {\r\n\t\t\tUser user1 = new User(&quot;John&quot;, &quot;Doe&quot;);\r\n\t\t\tUser user2 = new User(&quot;John&quot;, &quot;Cook&quot;);\r\n\t\t\tuserRepository.save(user1);\r\n\t\t\tuserRepository.save(user2);\r\n\t\t}\r\n\t\tSystem.out.println(userRepository.count());\r\n\t}\r\n}\r\n```\r\n\r\nSource: https://javahowtos.com/guides/107-spring/376-how-to-seed-the-database-in-spring-boot-project.html","title":"How to get User from database for login with Spring Boot and Spring Data Jpa","body":"<p>It is possible that you don't seed the database with the user you are trying to login. You can use an Application Runner class to seed it on every start if the user doesn't exist in the database. Also, you can apply the <code>@Data</code> annotation from Lombok on class level to generate getters and setters for all the fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.javahowtos.dataseeddemo.dataseed;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\nimport com.javahowtos.dataseeddemo.model.User;\nimport com.javahowtos.dataseeddemo.repository.UserRepository;\n\n@Component\npublic class UserDataLoader implements CommandLineRunner {\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Override\n    public void run(String... args) throws Exception {\n        loadUserData();\n    }\n\n    private void loadUserData() {\n        if (userRepository.count() == 0) {\n            User user1 = new User(&quot;John&quot;, &quot;Doe&quot;);\n            User user2 = new User(&quot;John&quot;, &quot;Cook&quot;);\n            userRepository.save(user1);\n            userRepository.save(user2);\n        }\n        System.out.println(userRepository.count());\n    }\n}\n</code></pre>\n<p>Source: <a href=\"https://javahowtos.com/guides/107-spring/376-how-to-seed-the-database-in-spring-boot-project.html\" rel=\"nofollow noreferrer\">https://javahowtos.com/guides/107-spring/376-how-to-seed-the-database-in-spring-boot-project.html</a></p>\n"},{"tags":[],"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617366409,"creation_date":1617366409,"answer_id":66919321,"question_id":66919053,"body_markdown":" - You have to be sure that you have a user with the appropriate username in the database (case sensitive), if you do not have a user you can insert some test users (with the migration tool, with custom component, or manually)\r\n - You probably need to add a unique index for username\r\n - If you extend JpaRepository and add method findByUsername spring will generate implementation and you do not need @Query, if you have multiple items you can use findFirstByUsername\r\n","title":"How to get User from database for login with Spring Boot and Spring Data Jpa","body":"<ul>\n<li>You have to be sure that you have a user with the appropriate username in the database (case sensitive), if you do not have a user you can insert some test users (with the migration tool, with custom component, or manually)</li>\n<li>You probably need to add a unique index for username</li>\n<li>If you extend JpaRepository and add method findByUsername spring will generate implementation and you do not need @Query, if you have multiple items you can use findFirstByUsername</li>\n</ul>\n"}],"owner":{"account_id":15505980,"reputation":39,"user_id":11186140,"display_name":"coi175"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66919199,"answer_count":2,"score":1,"last_activity_date":1666782955,"creation_date":1617365068,"question_id":66919053,"body_markdown":"I want to make login form with data from my own database. I made Entity User class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Auth_data&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue\r\n        @Getter @Setter\r\n        private Long id;\r\n        @Column(name= &quot;username&quot;)\r\n        @Getter @Setter\r\n        private String username;\r\n        @Column(name=&quot;password&quot;)\r\n        @Getter @Setter\r\n        private String password;\r\n    \r\n        @Enumerated(EnumType.ORDINAL)\r\n        @Column(name=&quot;role&quot;)\r\n        @Getter @Setter\r\n        private Role role;\r\n        @Column(name = &quot;client_ID&quot;)\r\n        @Getter @Setter\r\n        private Long clientID;\r\n        @Column(name = &quot;instructor_ID&quot;)\r\n        @Getter @Setter\r\n        private Long instructorID;\r\n    \r\n        public User() {}\r\n    \r\n        public User(String username, String password, Role role, Long clientID, Long instructorID) {\r\n            this.username = username;\r\n            this.password = password;\r\n            this.role = role;\r\n            this.clientID = clientID;\r\n            this.instructorID = instructorID;\r\n        }\r\n    \r\n    }\r\n\r\nAlso I made UserDetailsServiceIml class which implements UserDetailsService:\r\n\r\n    @Service\r\n    public class UserDetailsServiceIml implements UserDetailsService {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            final User user = userRepository.findByUsername(username);\r\n            if(user == null) {\r\n                throw new UsernameNotFoundException(username);\r\n            }\r\n    \r\n            Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt; &gt;();\r\n            grantedAuthorities.add(new SimpleGrantedAuthority(user.getRole().name()));\r\n            return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(),\r\n                    grantedAuthorities);\r\n        }\r\n    }\r\n\r\nMy User repository class:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        User findByUsername(String username);\r\n    }\r\nI also tried make Query like this:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        @Query(&quot;Select u from User u WHERE u.username=:username&quot;)\r\n        User findByUsername(@Param(&quot;username&quot;) String username);\r\n    }\r\n\r\nBut when I enter login and password into login form I get error, because User is Null after searching in database. How can I fix it? \r\n\r\nUPD: SOLVED!\r\nI don&#39;t know why and how. I found that hibernate created new table &quot;auth_data&quot;, but not used my table &quot;Auth_data&quot;. So, I renamed &quot;Auth_data&quot; to &quot;auth_data&quot; and now it&#39;s work! I also changed @Getter @Setter on @Data,changed in User repository on &quot;&lt;Optional&gt; User findByUsername(String username);&quot; and changed type of field role from enum to String. ","title":"How to get User from database for login with Spring Boot and Spring Data Jpa","body":"<p>I want to make login form with data from my own database. I made Entity User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;Auth_data&quot;)\npublic class User {\n    @Id\n    @GeneratedValue\n    @Getter @Setter\n    private Long id;\n    @Column(name= &quot;username&quot;)\n    @Getter @Setter\n    private String username;\n    @Column(name=&quot;password&quot;)\n    @Getter @Setter\n    private String password;\n\n    @Enumerated(EnumType.ORDINAL)\n    @Column(name=&quot;role&quot;)\n    @Getter @Setter\n    private Role role;\n    @Column(name = &quot;client_ID&quot;)\n    @Getter @Setter\n    private Long clientID;\n    @Column(name = &quot;instructor_ID&quot;)\n    @Getter @Setter\n    private Long instructorID;\n\n    public User() {}\n\n    public User(String username, String password, Role role, Long clientID, Long instructorID) {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n        this.clientID = clientID;\n        this.instructorID = instructorID;\n    }\n\n}\n</code></pre>\n<p>Also I made UserDetailsServiceIml class which implements UserDetailsService:</p>\n<pre><code>@Service\npublic class UserDetailsServiceIml implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        final User user = userRepository.findByUsername(username);\n        if(user == null) {\n            throw new UsernameNotFoundException(username);\n        }\n\n        Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt; &gt;();\n        grantedAuthorities.add(new SimpleGrantedAuthority(user.getRole().name()));\n        return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(),\n                grantedAuthorities);\n    }\n}\n</code></pre>\n<p>My User repository class:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findByUsername(String username);\n}\n</code></pre>\n<p>I also tried make Query like this:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    @Query(&quot;Select u from User u WHERE u.username=:username&quot;)\n    User findByUsername(@Param(&quot;username&quot;) String username);\n}\n</code></pre>\n<p>But when I enter login and password into login form I get error, because User is Null after searching in database. How can I fix it?</p>\n<p>UPD: SOLVED!\nI don't know why and how. I found that hibernate created new table &quot;auth_data&quot;, but not used my table &quot;Auth_data&quot;. So, I renamed &quot;Auth_data&quot; to &quot;auth_data&quot; and now it's work! I also changed @Getter @Setter on @Data,changed in User repository on &quot; User findByUsername(String username);&quot; and changed type of field role from enum to String.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1478006790,"post_id":40360984,"comment_id":67975137,"body_markdown":"Please show us your code.","body":"Please show us your code."}],"answers":[{"tags":[],"owner":{"account_id":3824555,"reputation":49,"user_id":3171679,"display_name":"HopeBing"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1503070884,"creation_date":1503070884,"answer_id":45760407,"question_id":40360984,"body_markdown":"Maybe there is some conflicts in configuration. You&#39;re basically mixing two different file upload API&#39;s. The second one will get only an empty stream.If you use commons-fileupload streaming api, you may need to add spring.http.multipart.enabled=false in you application.properties if you use Spring boot.If you want to upload file by using MultipartFile, you need to enable multipart.","title":"Apache commons fileupload FileItemIterator hasNext() always returns false","body":"<p>Maybe there is some conflicts in configuration. You're basically mixing two different file upload API's. The second one will get only an empty stream.If you use commons-fileupload streaming api, you may need to add spring.http.multipart.enabled=false in you application.properties if you use Spring boot.If you want to upload file by using MultipartFile, you need to enable multipart.</p>\n"},{"tags":[],"owner":{"account_id":6430905,"reputation":400,"user_id":4984125,"display_name":"New Bee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666782923,"creation_date":1666782923,"answer_id":74206849,"question_id":40360984,"body_markdown":"It is required to set following in application properties file\r\n\r\n    spring.servlet.multipart.enabled=false","title":"Apache commons fileupload FileItemIterator hasNext() always returns false","body":"<p>It is required to set following in application properties file</p>\n<pre><code>spring.servlet.multipart.enabled=false\n</code></pre>\n"}],"owner":{"account_id":7767007,"reputation":1,"user_id":5877899,"display_name":"Manvendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666782923,"creation_date":1478006603,"question_id":40360984,"body_markdown":"In my *web.xml*, there are no filters.\r\nIn my HTML, name attribute in input field is already mentioned.\r\nI&#39;m not using any *getParameter()* or *getAttribute()* APIs before parsing the HTTPRequest.\r\n    \r\nAfter all this, I&#39;m still unable to get any elements.\r\nPlease explain why?\r\n   \r\nMy MVC controller:\r\n\r\n    @RequestMapping(value = {&quot;/upload&quot;}, method = RequestMethod.POST)\r\n    public void uploadFileHandler(HttpServletRequest request) throws Exception\r\n    {\r\n\t\t// Check that we have a file upload request\r\n\t\tboolean isMultipart = true;//ServletFileUpload.isMultipartContent(request);\r\n\t\tif(true == isMultipart)\r\n\t\t{\r\n\t\t\tFileItemFactory factory = new DiskFileItemFactory();\r\n\t\t\tServletFileUpload upload = new ServletFileUpload(factory);\r\n\t\t\tFileItemIterator iter = upload.getItemIterator(request);\r\n\t\t\twhile (true == iter.hasNext()) \r\n\t\t\t{\r\n\t\t\t\tFileItemStream item = iter.next();\r\n\t\t\t\tString name = item.getFieldName();\r\n\t\t\t\tInputStream stream = ((ServletRequest) item).getInputStream();\r\n\t\t\t\tif (true == item.isFormField()) \r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Form field &quot; + name + &quot; with value &quot; + Streams.asString(stream) + &quot; detected.&quot;);\r\n\t\t\t\t} \r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\tString fileName = item.getName();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\nMy html file:\r\n\r\n    var fileSelector = document.createElement(&#39;form&#39;);\r\n    fileSelector.setAttribute(&#39;id&#39;, &#39;uploadForm&#39;);\r\n    fileSelector.setAttribute(&#39;method&#39;, &#39;POST&#39;);\r\n    fileSelector.setAttribute(&#39;enctype&#39;, &#39;multipart/form-data&#39;);\r\n    \r\n    var inputType = document.createElement(&#39;input&#39;);\r\n    inputType.setAttribute(&#39;type&#39;, &#39;file&#39;);\r\n    inputType.setAttribute(&#39;name&#39;, &#39;uploadedFile&#39;);\r\n    inputType.setAttribute(&#39;id&#39;,&#39;importFile&#39;);\r\n    fileSelector.appendChild(inputType);\r\n\r\nAjax call:\r\n\r\n    $.ajax({\r\n    \t\t   url:  &#39;upload&#39;,\r\n    \t       data: formData,\r\n    \t       contentType: false,\r\n    \t       processData: false,\r\n    \t       cache: false,\r\n    \t       type: &#39;POST&#39;,\r\n    \t       success: function(data)\r\n    \t       {\r\n    \t       \t\talert(&quot;upload success&quot;);\t       \t\t\r\n    \t       },\r\n    \t       error: function(jqXHR, textStatus, errorThrown)\r\n    \t        {\r\n    \t        \talert(&quot;upload fail&quot;);\r\n    \t        }\r\n    \t    });","title":"Apache commons fileupload FileItemIterator hasNext() always returns false","body":"<p>In my <em>web.xml</em>, there are no filters.\nIn my HTML, name attribute in input field is already mentioned.\nI'm not using any <em>getParameter()</em> or <em>getAttribute()</em> APIs before parsing the HTTPRequest.</p>\n\n<p>After all this, I'm still unable to get any elements.\nPlease explain why?</p>\n\n<p>My MVC controller:</p>\n\n<pre><code>@RequestMapping(value = {\"/upload\"}, method = RequestMethod.POST)\npublic void uploadFileHandler(HttpServletRequest request) throws Exception\n{\n    // Check that we have a file upload request\n    boolean isMultipart = true;//ServletFileUpload.isMultipartContent(request);\n    if(true == isMultipart)\n    {\n        FileItemFactory factory = new DiskFileItemFactory();\n        ServletFileUpload upload = new ServletFileUpload(factory);\n        FileItemIterator iter = upload.getItemIterator(request);\n        while (true == iter.hasNext()) \n        {\n            FileItemStream item = iter.next();\n            String name = item.getFieldName();\n            InputStream stream = ((ServletRequest) item).getInputStream();\n            if (true == item.isFormField()) \n            {\n                System.out.println(\"Form field \" + name + \" with value \" + Streams.asString(stream) + \" detected.\");\n            } \n            else \n            {\n                String fileName = item.getName();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My html file:</p>\n\n<pre><code>var fileSelector = document.createElement('form');\nfileSelector.setAttribute('id', 'uploadForm');\nfileSelector.setAttribute('method', 'POST');\nfileSelector.setAttribute('enctype', 'multipart/form-data');\n\nvar inputType = document.createElement('input');\ninputType.setAttribute('type', 'file');\ninputType.setAttribute('name', 'uploadedFile');\ninputType.setAttribute('id','importFile');\nfileSelector.appendChild(inputType);\n</code></pre>\n\n<p>Ajax call:</p>\n\n<pre><code>$.ajax({\n           url:  'upload',\n           data: formData,\n           contentType: false,\n           processData: false,\n           cache: false,\n           type: 'POST',\n           success: function(data)\n           {\n                alert(\"upload success\");                \n           },\n           error: function(jqXHR, textStatus, errorThrown)\n            {\n                alert(\"upload fail\");\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring","postgresql","liquibase"],"comments":[{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537964432,"post_id":52517529,"comment_id":91974704,"body_markdown":"@a_horse_with_no_name I want to create my tables(changesets in liquibase will do it) in my custom schema. But when liquibase start to work, my custom schema is not created yet.","body":"@a_horse_with_no_name I want to create my tables(changesets in liquibase will do it) in my custom schema. But when liquibase start to work, my custom schema is not created yet."},{"owner":{"account_id":1792177,"reputation":3486,"user_id":1632305,"accept_rate":62,"display_name":"Rashedul.Rubel"},"score":0,"creation_date":1537964474,"post_id":52517529,"comment_id":91974726,"body_markdown":"Confused with your two statements &quot;liquibase should create all tables&quot; and &quot;How can I create my schema in DB before liquibase start to work?&quot;. two statements are contradictory to each other","body":"Confused with your two statements &quot;liquibase should create all tables&quot; and &quot;How can I create my schema in DB before liquibase start to work?&quot;. two statements are contradictory to each other"},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537964646,"post_id":52517529,"comment_id":91974826,"body_markdown":"@Rashedul.Rubel liquibase should create tables. Tables in my custom schema, but liquibase can&#39;t create schema. I want to create it before liquibase start to work.","body":"@Rashedul.Rubel liquibase should create tables. Tables in my custom schema, but liquibase can&#39;t create schema. I want to create it before liquibase start to work."},{"owner":{"account_id":1792177,"reputation":3486,"user_id":1632305,"accept_rate":62,"display_name":"Rashedul.Rubel"},"score":0,"creation_date":1537965084,"post_id":52517529,"comment_id":91975110,"body_markdown":"ohh, I misread it. Thanks","body":"ohh, I misread it. Thanks"},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537965455,"post_id":52517529,"comment_id":91975344,"body_markdown":"@a_horse_with_no_name I can&#39;t. When liquibase start, it&#39;s create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in `liquibase.default-schema = my_schema`, but it&#39;s not exist when liquibase start to work and it an error: `exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;my_schema&quot; does not exist`","body":"@a_horse_with_no_name I can&#39;t. When liquibase start, it&#39;s create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in <code>liquibase.default-schema = my_schema</code>, but it&#39;s not exist when liquibase start to work and it an error: <code>exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;my_schema&quot; does not exist</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1537965494,"post_id":52517529,"comment_id":91975373,"body_markdown":"Please edit your question and include that information; don&#39;t use comments to communicate information pertinent to your question.","body":"Please edit your question and include that information; don&#39;t use comments to communicate information pertinent to your question."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1537965505,"post_id":52517529,"comment_id":91975383,"body_markdown":"So you **do** want the liquibase tables to be created in that schema. Your answer to the first time I asked that question was that you want to create _your_ tables in that schema. You should make creating that schema part of your initial database setup - you are not creating the database in your Liquibase script either, so whatever you use to create the database, that part should also create the needed schema.","body":"So you <b>do</b> want the liquibase tables to be created in that schema. Your answer to the first time I asked that question was that you want to create <i>your</i> tables in that schema. You should make creating that schema part of your initial database setup - you are not creating the database in your Liquibase script either, so whatever you use to create the database, that part should also create the needed schema."},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537965651,"post_id":52517529,"comment_id":91975476,"body_markdown":"@a_horse_with_no_name I want ALL tables in my_schema. Sorry for misunderstanding.","body":"@a_horse_with_no_name I want ALL tables in my_schema. Sorry for misunderstanding."},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537965946,"post_id":52517529,"comment_id":91975657,"body_markdown":"@a_horse_with_no_name I see, but DB is already created. My point is make all changes with DB when my app is deployed . Without manual intervention in the DB.","body":"@a_horse_with_no_name I see, but DB is already created. My point is make all changes with DB when my app is deployed . Without manual intervention in the DB."}],"answers":[{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":3,"creation_date":1611742685,"post_id":52539236,"comment_id":116546348,"body_markdown":"This is good stuff. Unfortunately the Spring Boot 2.x documentation says\n &quot;If you are using a Higher-level Database Migration Tool, like Flyway or Liquibase, you should use them alone to create and initialize the schema. Using the basic `schema.sql` and `data.sql` scripts alongside Flyway or Liquibase is not recommended and support will be removed in a future release.&quot; [ref](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-initialize-a-database-using-spring-jdbc). So yes, it works .... for now.","body":"This is good stuff. Unfortunately the Spring Boot 2.x documentation says  &quot;If you are using a Higher-level Database Migration Tool, like Flyway or Liquibase, you should use them alone to create and initialize the schema. Using the basic <code>schema.sql</code> and <code>data.sql</code> scripts alongside Flyway or Liquibase is not recommended and support will be removed in a future release.&quot; <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-initialize-a-database-using-spring-jdbc\" rel=\"nofollow noreferrer\">ref</a>. So yes, it works .... for now."},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":3,"creation_date":1612173995,"post_id":52539236,"comment_id":116674516,"body_markdown":"@peterh yes you are right, from the very beginning it was a workaround due to liquibase requires the schema before the initialization. I hope they(lb maintainers) will move the right way and add something to create initial schema before writing databasechangelog","body":"@peterh yes you are right, from the very beginning it was a workaround due to liquibase requires the schema before the initialization. I hope they(lb maintainers) will move the right way and add something to create initial schema before writing databasechangelog"}],"tags":[],"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1627373099,"creation_date":1538058072,"answer_id":52539236,"question_id":52517529,"body_markdown":"I found a solution with my application.properties. \r\n\r\n`org.springframework.jdbc.datasource.init.ScriptUtils` worked before liquibase.\r\n\r\nLogs:\r\n\r\n    14:11:14,760 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \r\n    (ServerService Thread Pool -- 300) Executing SQL script from URL \r\n    [vfs:/content/app.war/WEB-INF/classes/schema.sql]\r\n\r\n    14:11:14,761 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \r\n    (ServerService Thread Pool -- 300) Executed SQL script from URL \r\n    [vfs:/content/app.war/WEB-INF/classes/schema.sql] in 1 ms.\r\n\r\n    14:11:14,912 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \r\n    2:11 PM: liquibase: Successfully acquired change log lock\r\n\r\n    14:11:15,292 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \r\n    2:11 PM: liquibase: Reading from my_schema.databasechangelog\r\n\r\n    14:11:15,320 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \r\n    2:11 PM: liquibase: Successfully released change log lock\r\n\r\nI just put `schema.sql` with `CREATE SCHEMA IF NOT EXISTS my_schema;` into resources dir and all working properly.\r\n\r\nThanks all for help.\r\n\r\n**Update**: It&#39;s work for Spring boot 1.X. If you are use Spring Boot 2, you should enable schema.sql in properties file, with `spring.datasource.initialization-mode=always`. \r\nMore info in https://stackoverflow.com/questions/38040572/spring-boot-loading-initial-data\r\n\r\n**Update 2**: In Spring Boot 2.5.2 (maybe in earlier versions too) this solution is not working now, as @peterh has wrote in comment. Sad but true. The last version I was try this solution and it&#39;s work was Spring Boot 2.0.9 In docs [Spring Boot][1] says that it was redesigned from Spring Boot 2.5.x\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#hibernate-and-datasql\r\n\r\n\r\n**Update 3**: Some information why they kill this feature -&gt; https://github.com/spring-projects/spring-boot/issues/22741","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>I found a solution with my application.properties.</p>\n<p><code>org.springframework.jdbc.datasource.init.ScriptUtils</code> worked before liquibase.</p>\n<p>Logs:</p>\n<pre><code>14:11:14,760 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \n(ServerService Thread Pool -- 300) Executing SQL script from URL \n[vfs:/content/app.war/WEB-INF/classes/schema.sql]\n\n14:11:14,761 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \n(ServerService Thread Pool -- 300) Executed SQL script from URL \n[vfs:/content/app.war/WEB-INF/classes/schema.sql] in 1 ms.\n\n14:11:14,912 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \n2:11 PM: liquibase: Successfully acquired change log lock\n\n14:11:15,292 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \n2:11 PM: liquibase: Reading from my_schema.databasechangelog\n\n14:11:15,320 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \n2:11 PM: liquibase: Successfully released change log lock\n</code></pre>\n<p>I just put <code>schema.sql</code> with <code>CREATE SCHEMA IF NOT EXISTS my_schema;</code> into resources dir and all working properly.</p>\n<p>Thanks all for help.</p>\n<p><strong>Update</strong>: It's work for Spring boot 1.X. If you are use Spring Boot 2, you should enable schema.sql in properties file, with <code>spring.datasource.initialization-mode=always</code>.\nMore info in <a href=\"https://stackoverflow.com/questions/38040572/spring-boot-loading-initial-data\">Spring Boot - Loading Initial Data</a></p>\n<p><strong>Update 2</strong>: In Spring Boot 2.5.2 (maybe in earlier versions too) this solution is not working now, as @peterh has wrote in comment. Sad but true. The last version I was try this solution and it's work was Spring Boot 2.0.9 In docs <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#hibernate-and-datasql\" rel=\"nofollow noreferrer\">Spring Boot</a> says that it was redesigned from Spring Boot 2.5.x</p>\n<p><strong>Update 3</strong>: Some information why they kill this feature -&gt; <a href=\"https://github.com/spring-projects/spring-boot/issues/22741\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/22741</a></p>\n"},{"comments":[{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1620068262,"post_id":67246756,"comment_id":119087032,"body_markdown":"Hi, I can&#39;t test it right now, but look nice!","body":"Hi, I can&#39;t test it right now, but look nice!"},{"owner":{"account_id":1341598,"reputation":4649,"user_id":1283166,"accept_rate":52,"display_name":"Davio"},"score":0,"creation_date":1643977041,"post_id":67246756,"comment_id":125488225,"body_markdown":"Beware: using this library may mess with your transaction manager, causing entities to no longer be saved in the database when your application is running...","body":"Beware: using this library may mess with your transaction manager, causing entities to no longer be saved in the database when your application is running..."},{"owner":{"account_id":2638842,"reputation":271,"user_id":2282938,"display_name":"lbruun"},"score":4,"creation_date":1643991244,"post_id":67246756,"comment_id":125494108,"body_markdown":"@Davio. Sounds odd to me. The library is only active during startup. It doesn&#39;t mess with or change any other Spring beans or anything like that.","body":"@Davio. Sounds odd to me. The library is only active during startup. It doesn&#39;t mess with or change any other Spring beans or anything like that."},{"owner":{"account_id":7212730,"reputation":55,"user_id":5506225,"display_name":"Dea"},"score":0,"creation_date":1682440350,"post_id":67246756,"comment_id":134214786,"body_markdown":"I confirm. I have a problem with this lib which disrupts spring initialization.","body":"I confirm. I have a problem with this lib which disrupts spring initialization."}],"tags":[],"owner":{"account_id":2638842,"reputation":271,"user_id":2282938,"display_name":"lbruun"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1619331656,"creation_date":1619293037,"answer_id":67246756,"question_id":52517529,"body_markdown":"You can use [Spring Boot Pre-Liquibase module][1] for this. It is exactly what it is meant for. It executes some SQL prior to executing Liquibase itself. Pre-Liquibase sets itself up in the Spring Boot AutoConfigure chain so that it is guaranteed to always execute *before* Liquibase.\r\n\r\n### Step 1\r\nAdd the following Starter to your project:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.lbruun.springboot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;preliquibase-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;  ---latest-version---  &lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### Step 2\r\nAdd a SQL file to `src/main/resources/preliquibase` with a name of `postgresql.sql` and content like this:\r\n\r\n```sql\r\nCREATE SCHEMA IF NOT EXISTS ${spring.liquibase.default-schema};\r\n```\r\nThe `${}` syntax denotes a placeholder variable. Pre-Liquibase will resolve it from the properties in your Spring Environment.\r\n\r\n### Step 3\r\n\r\nSet application properties like this:\r\n\r\n```properties\r\nspring.liquibase.default-schema=${my.db.schemaname}\r\nspring.jpa.properties.hibernate.default_schema=${my.db.schemaname}\r\n```\r\n\r\nNow - in this example - the only thing left to decide is where the `my.db.schemaname` value comes from. That is your choice. The [example project][2] advocates that it should come from an OS environment variable, in particular if your are deploying to a cloud.\r\n\r\n### Final words\r\nWARNING: Pre-Liquibase is possibly way too flexible in that it allows to execute _any_ SQL code. Don&#39;t be tempted to put stuff in Pre-Liquibase files which rightfully belong in an Liquibase ChangeSet. Honestly, the only usage I can think of for Pre-Liquibase is to set up a database &quot;home&quot; (meaning a schema or a catalog) where Liquibase db objects can live so that instances of the same application can be separated by schema or catalog while residing on the same database server.\r\n\r\n\r\n(Disclosure:  I&#39;m the author of Pre-Liquibase module)\r\n\r\n\r\n  [1]: https://github.com/lbruun/Pre-Liquibase\r\n  [2]: https://github.com/lbruun/Pre-Liquibase/tree/master/example","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>You can use <a href=\"https://github.com/lbruun/Pre-Liquibase\" rel=\"noreferrer\">Spring Boot Pre-Liquibase module</a> for this. It is exactly what it is meant for. It executes some SQL prior to executing Liquibase itself. Pre-Liquibase sets itself up in the Spring Boot AutoConfigure chain so that it is guaranteed to always execute <em>before</em> Liquibase.</p>\n<h3>Step 1</h3>\n<p>Add the following Starter to your project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.lbruun.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;preliquibase-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;  ---latest-version---  &lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Step 2</h3>\n<p>Add a SQL file to <code>src/main/resources/preliquibase</code> with a name of <code>postgresql.sql</code> and content like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SCHEMA IF NOT EXISTS ${spring.liquibase.default-schema};\n</code></pre>\n<p>The <code>${}</code> syntax denotes a placeholder variable. Pre-Liquibase will resolve it from the properties in your Spring Environment.</p>\n<h3>Step 3</h3>\n<p>Set application properties like this:</p>\n<pre><code>spring.liquibase.default-schema=${my.db.schemaname}\nspring.jpa.properties.hibernate.default_schema=${my.db.schemaname}\n</code></pre>\n<p>Now - in this example - the only thing left to decide is where the <code>my.db.schemaname</code> value comes from. That is your choice. The <a href=\"https://github.com/lbruun/Pre-Liquibase/tree/master/example\" rel=\"noreferrer\">example project</a> advocates that it should come from an OS environment variable, in particular if your are deploying to a cloud.</p>\n<h3>Final words</h3>\n<p>WARNING: Pre-Liquibase is possibly way too flexible in that it allows to execute <em>any</em> SQL code. Don't be tempted to put stuff in Pre-Liquibase files which rightfully belong in an Liquibase ChangeSet. Honestly, the only usage I can think of for Pre-Liquibase is to set up a database &quot;home&quot; (meaning a schema or a catalog) where Liquibase db objects can live so that instances of the same application can be separated by schema or catalog while residing on the same database server.</p>\n<p>(Disclosure:  I'm the author of Pre-Liquibase module)</p>\n"},{"comments":[{"owner":{"account_id":5393995,"reputation":51,"user_id":4295716,"display_name":"Diego Pati&#241;o"},"score":1,"creation_date":1658932323,"post_id":72872126,"comment_id":129175568,"body_markdown":"This is perfect, no external libraries for something so specific and no &#39;schema.sql&#39;, something that didn&#39;t satisfy me.","body":"This is perfect, no external libraries for something so specific and no &#39;schema.sql&#39;, something that didn&#39;t satisfy me."}],"tags":[],"owner":{"account_id":12445560,"reputation":231,"user_id":9061851,"display_name":"Pavel D."},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1657035952,"creation_date":1657035538,"answer_id":72872126,"question_id":52517529,"body_markdown":"To solve this, we need to run a SQL statement that creates the schema during Spring Boot initialization at the point when `DataSource` bean had been already initialized so DB connections can be easily obtained but before Liquibase runs.\r\n\r\nBy default, Spring Boot runs Liquibase by creating an `InitializingBean` named `SpringLiquibase`. This happens in `LiquibaseAutoConfiguration`.\r\n\r\nKnowing this, we can use `AbstractDependsOnBeanFactoryPostProcessor` to configure `SpringLiquibase` to depend on our custom schema creating bean (`SchemaInitBean` in the example below) which depends on `DataSource`. This arranges the correct execution order.\r\n\r\nMy `application.properties`:\r\n\r\n    db.schema=my_schema\r\n    spring.jpa.hibernate.ddl-auto=validate\r\n    spring.jpa.open-in-view=false\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n    spring.jpa.properties.hibernate.default_schema=${db.schema}\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.liquibase.enabled=true\r\n    spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\r\n    spring.liquibase.defaultSchema=${db.schema}\r\n\r\nAdd the `@Configuration` class below to the project, for example put it in a package processed by component scan.\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@ConditionalOnClass({ SpringLiquibase.class, DatabaseChange.class })\r\n@ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\r\n@AutoConfigureAfter({ DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class })\r\n@Import({SchemaInit.SpringLiquibaseDependsOnPostProcessor.class})\r\npublic class SchemaInit {\r\n\r\n    @Component\r\n    @ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\r\n    public static class SchemaInitBean implements InitializingBean {\r\n\r\n        private final DataSource dataSource;\r\n        private final String schemaName;\r\n\r\n        @Autowired\r\n        public SchemaInitBean(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String schemaName) {\r\n            this.dataSource = dataSource;\r\n            this.schemaName = schemaName;\r\n        }\r\n\r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            try (Connection conn = dataSource.getConnection();\r\n                 Statement statement = conn.createStatement()) {\r\n                log.info(&quot;Going to create DB schema &#39;{}&#39; if not exists.&quot;, schemaName);\r\n                statement.execute(&quot;create schema if not exists &quot; + schemaName);\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(&quot;Failed to create schema &#39;&quot; + schemaName + &quot;&#39;&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @ConditionalOnBean(SchemaInitBean.class)\r\n    static class SpringLiquibaseDependsOnPostProcessor extends AbstractDependsOnBeanFactoryPostProcessor {\r\n\r\n        SpringLiquibaseDependsOnPostProcessor() {\r\n            // Configure the 3rd party SpringLiquibase bean to depend on our SchemaInitBean\r\n            super(SpringLiquibase.class, SchemaInitBean.class);\r\n        }\r\n    }\r\n}\r\n```\r\nThis solution does not require external libraries like Spring Boot Pre-Liquibase and not affected by limitations on `data.sql` / `schema.sql` support. My main motivation for finding this solution was a requirement I had that schema name must be a configurable property.\r\nPutting everything in one class and using plain JDBC is for brevity.","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>To solve this, we need to run a SQL statement that creates the schema during Spring Boot initialization at the point when <code>DataSource</code> bean had been already initialized so DB connections can be easily obtained but before Liquibase runs.</p>\n<p>By default, Spring Boot runs Liquibase by creating an <code>InitializingBean</code> named <code>SpringLiquibase</code>. This happens in <code>LiquibaseAutoConfiguration</code>.</p>\n<p>Knowing this, we can use <code>AbstractDependsOnBeanFactoryPostProcessor</code> to configure <code>SpringLiquibase</code> to depend on our custom schema creating bean (<code>SchemaInitBean</code> in the example below) which depends on <code>DataSource</code>. This arranges the correct execution order.</p>\n<p>My <code>application.properties</code>:</p>\n<pre><code>db.schema=my_schema\nspring.jpa.hibernate.ddl-auto=validate\nspring.jpa.open-in-view=false\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.properties.hibernate.default_schema=${db.schema}\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.liquibase.enabled=true\nspring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\nspring.liquibase.defaultSchema=${db.schema}\n</code></pre>\n<p>Add the <code>@Configuration</code> class below to the project, for example put it in a package processed by component scan.</p>\n<pre><code>@Slf4j\n@Configuration\n@ConditionalOnClass({ SpringLiquibase.class, DatabaseChange.class })\n@ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\n@AutoConfigureAfter({ DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class })\n@Import({SchemaInit.SpringLiquibaseDependsOnPostProcessor.class})\npublic class SchemaInit {\n\n    @Component\n    @ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\n    public static class SchemaInitBean implements InitializingBean {\n\n        private final DataSource dataSource;\n        private final String schemaName;\n\n        @Autowired\n        public SchemaInitBean(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String schemaName) {\n            this.dataSource = dataSource;\n            this.schemaName = schemaName;\n        }\n\n        @Override\n        public void afterPropertiesSet() {\n            try (Connection conn = dataSource.getConnection();\n                 Statement statement = conn.createStatement()) {\n                log.info(&quot;Going to create DB schema '{}' if not exists.&quot;, schemaName);\n                statement.execute(&quot;create schema if not exists &quot; + schemaName);\n            } catch (SQLException e) {\n                throw new RuntimeException(&quot;Failed to create schema '&quot; + schemaName + &quot;'&quot;, e);\n            }\n        }\n    }\n\n\n    @ConditionalOnBean(SchemaInitBean.class)\n    static class SpringLiquibaseDependsOnPostProcessor extends AbstractDependsOnBeanFactoryPostProcessor {\n\n        SpringLiquibaseDependsOnPostProcessor() {\n            // Configure the 3rd party SpringLiquibase bean to depend on our SchemaInitBean\n            super(SpringLiquibase.class, SchemaInitBean.class);\n        }\n    }\n}\n</code></pre>\n<p>This solution does not require external libraries like Spring Boot Pre-Liquibase and not affected by limitations on <code>data.sql</code> / <code>schema.sql</code> support. My main motivation for finding this solution was a requirement I had that schema name must be a configurable property.\nPutting everything in one class and using plain JDBC is for brevity.</p>\n"},{"tags":[],"owner":{"account_id":21089810,"reputation":61,"user_id":15501992,"display_name":"RulleR"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666782573,"creation_date":1666782573,"answer_id":74206778,"question_id":52517529,"body_markdown":"Simple solution based on [Pavel D.][1] answer.\r\nIt also can be used without liquibase\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class SchemaConfig implements BeanPostProcessor {\r\n    \r\n        @Value(&quot;${db.schema}&quot;)\r\n        private String schemaName;\r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            if (!StringUtils.isEmpty(schemaName) &amp;&amp; bean instanceof DataSource) {\r\n                DataSource dataSource = (DataSource) bean;\r\n                try (Connection conn = dataSource.getConnection();\r\n                     Statement statement = conn.createStatement()) {\r\n                    log.info(&quot;Going to create DB schema &#39;{}&#39; if not exists.&quot;, schemaName);\r\n                    statement.execute(&quot;create schema if not exists &quot; + schemaName);\r\n                } catch (SQLException e) {\r\n                    throw new RuntimeException(&quot;Failed to create schema &#39;&quot; + schemaName + &quot;&#39;&quot;, e);\r\n                }\r\n            }\r\n            return bean;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/9061851/pavel-d","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>Simple solution based on <a href=\"https://stackoverflow.com/users/9061851/pavel-d\">Pavel D.</a> answer.\nIt also can be used without liquibase</p>\n<pre><code>@Slf4j\n@Component\npublic class SchemaConfig implements BeanPostProcessor {\n\n    @Value(&quot;${db.schema}&quot;)\n    private String schemaName;\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        if (!StringUtils.isEmpty(schemaName) &amp;&amp; bean instanceof DataSource) {\n            DataSource dataSource = (DataSource) bean;\n            try (Connection conn = dataSource.getConnection();\n                 Statement statement = conn.createStatement()) {\n                log.info(&quot;Going to create DB schema '{}' if not exists.&quot;, schemaName);\n                statement.execute(&quot;create schema if not exists &quot; + schemaName);\n            } catch (SQLException e) {\n                throw new RuntimeException(&quot;Failed to create schema '&quot; + schemaName + &quot;'&quot;, e);\n            }\n        }\n        return bean;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20998,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":52539236,"answer_count":4,"score":22,"last_activity_date":1666782573,"creation_date":1537964024,"question_id":52517529,"body_markdown":"I have standalone application. It’s on java, spring-boot, postgres and it has liquibase. \r\n\r\nI need to deploy my app and liquibase should create all tables, etc. But it should do it into custom schema not in public. All service tables of liquibase (databasechangelog and databasechangeloglock) should be in custom schema too. How can I create my schema in DB before liquibase start to work? I must do it inside my app when it’s deploying, in config or some like. Without any manual intervention into the DB.\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.jndi-name=java:/PostgresDS\r\n    spring.jpa.properties.hibernate.default_schema=my_schema\r\n    spring.jpa.show-sql = false\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    spring.datasource.continue-on-error=true\r\n    spring.datasource.sql-script-encoding=UTF-8\r\n\r\n    liquibase.change-log = classpath:liquibase/changelog-master.yaml\r\n    liquibase.default-schema = my_schema\r\n\r\nUPD:\r\n\r\nWhen liquibase start, it&#39;s create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in `liquibase.default-schema = my_schema`, but it&#39;s not exist when liquibase start to work and it an error: exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;my_schema&quot; does not exist\r\n\r\nI want liquibase work in custom schema, not in public:\r\n\r\n    liquibase.default-schema = my_schema\r\n\r\nbut before liquibase can do it, the schema must be created. Liquibase can&#39;t do this because it not started yet and for start it needs schema.\r\nVicious circle.","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>I have standalone application. It’s on java, spring-boot, postgres and it has liquibase. </p>\n\n<p>I need to deploy my app and liquibase should create all tables, etc. But it should do it into custom schema not in public. All service tables of liquibase (databasechangelog and databasechangeloglock) should be in custom schema too. How can I create my schema in DB before liquibase start to work? I must do it inside my app when it’s deploying, in config or some like. Without any manual intervention into the DB.</p>\n\n<p>application.properties:</p>\n\n<pre><code>spring.datasource.jndi-name=java:/PostgresDS\nspring.jpa.properties.hibernate.default_schema=my_schema\nspring.jpa.show-sql = false\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.continue-on-error=true\nspring.datasource.sql-script-encoding=UTF-8\n\nliquibase.change-log = classpath:liquibase/changelog-master.yaml\nliquibase.default-schema = my_schema\n</code></pre>\n\n<p>UPD:</p>\n\n<p>When liquibase start, it's create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in <code>liquibase.default-schema = my_schema</code>, but it's not exist when liquibase start to work and it an error: exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema \"my_schema\" does not exist</p>\n\n<p>I want liquibase work in custom schema, not in public:</p>\n\n<pre><code>liquibase.default-schema = my_schema\n</code></pre>\n\n<p>but before liquibase can do it, the schema must be created. Liquibase can't do this because it not started yet and for start it needs schema.\nVicious circle.</p>\n"},{"tags":["java","rest","sockets","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"score":0,"creation_date":1592399012,"post_id":62428130,"comment_id":110410917,"body_markdown":"By the word &quot;propagate&quot; I mean one system using the Restful API and the other is using only socket to communicate!","body":"By the word &quot;propagate&quot; I mean one system using the Restful API and the other is using only socket to communicate!"},{"owner":{"account_id":3821282,"reputation":1460,"user_id":3169330,"accept_rate":69,"display_name":"ameet chaubal"},"score":0,"creation_date":1592404506,"post_id":62428130,"comment_id":110414176,"body_markdown":"yes, that&#39;s what I thought; my comments apply then.","body":"yes, that&#39;s what I thought; my comments apply then."},{"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"score":0,"creation_date":1592992120,"post_id":62428130,"comment_id":110621068,"body_markdown":"I have found a solution with custom servlets.","body":"I have found a solution with custom servlets."}],"tags":[],"owner":{"account_id":3821282,"reputation":1460,"user_id":3169330,"accept_rate":69,"display_name":"ameet chaubal"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592394025,"creation_date":1592394025,"answer_id":62428130,"question_id":62427663,"body_markdown":"Not sure exactly what you mean by `propagate to the Socket`. \r\nSo I will assume that you wish to make a connection to a remote *TCP* server from your java application, on receiving a REST connection on an endpoint.\r\nHow you make the connection will depend on your specific use case,\r\n\r\n+ synchronous vs asynchronous\r\n+ volume of information to be transmitted between TCP server and client\r\n+ any specific protocol for message communication\r\n+ Do you get to design your own protocol, say using `protobuf` for example.\r\n\r\nA few options you may consider,\r\n\r\n + Plain native java `SocketChannel`: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html\r\n + Asynchronous: AsynchronousSocketChannel https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html \r\n + kryonet library: https://github.com/EsotericSoftware/kryonet \r\n + Apache MINA: https://mina.apache.org/mina-project sample TCP Client code: https://mina.apache.org/mina-project/userguide/ch2-basics/ch2.3-sample-tcp-client.html\r\n + `gRPC` if you are going to design your own client-server communication  - https://grpc.io/ ","title":"Combine TCP Sockets and Restful endpoints","body":"<p>Not sure exactly what you mean by <code>propagate to the Socket</code>. \nSo I will assume that you wish to make a connection to a remote <em>TCP</em> server from your java application, on receiving a REST connection on an endpoint.\nHow you make the connection will depend on your specific use case,</p>\n\n<ul>\n<li>synchronous vs asynchronous</li>\n<li>volume of information to be transmitted between TCP server and client</li>\n<li>any specific protocol for message communication</li>\n<li>Do you get to design your own protocol, say using <code>protobuf</code> for example.</li>\n</ul>\n\n<p>A few options you may consider,</p>\n\n<ul>\n<li>Plain native java <code>SocketChannel</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html</a></li>\n<li>Asynchronous: AsynchronousSocketChannel <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html</a> </li>\n<li>kryonet library: <a href=\"https://github.com/EsotericSoftware/kryonet\" rel=\"nofollow noreferrer\">https://github.com/EsotericSoftware/kryonet</a> </li>\n<li>Apache MINA: <a href=\"https://mina.apache.org/mina-project\" rel=\"nofollow noreferrer\">https://mina.apache.org/mina-project</a> sample TCP Client code: <a href=\"https://mina.apache.org/mina-project/userguide/ch2-basics/ch2.3-sample-tcp-client.html\" rel=\"nofollow noreferrer\">https://mina.apache.org/mina-project/userguide/ch2-basics/ch2.3-sample-tcp-client.html</a></li>\n<li><code>gRPC</code> if you are going to design your own client-server communication  - <a href=\"https://grpc.io/\" rel=\"nofollow noreferrer\">https://grpc.io/</a> </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593417051,"creation_date":1593417051,"answer_id":62633529,"question_id":62427663,"body_markdown":"I have created a custom servlet to process my data.","title":"Combine TCP Sockets and Restful endpoints","body":"<p>I have created a custom servlet to process my data.</p>\n"}],"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62633529,"answer_count":2,"score":1,"last_activity_date":1666782487,"creation_date":1592392466,"question_id":62427663,"body_markdown":"I would like to point out to me where to look about(Java), how to combine Restful Api and TCP Sockets. Request are coming from the Restful api and will be propagate to the Socket! It is possible to do that with Spring Integration? Or another framework?\r\nEDIT:\r\nI already have the program which is communicating with the Socket Server.\r\nThe communication must be synchronous.","title":"Combine TCP Sockets and Restful endpoints","body":"<p>I would like to point out to me where to look about(Java), how to combine Restful Api and TCP Sockets. Request are coming from the Restful api and will be propagate to the Socket! It is possible to do that with Spring Integration? Or another framework?\nEDIT:\nI already have the program which is communicating with the Socket Server.\nThe communication must be synchronous.</p>\n"},{"tags":["java","spring","log4net"],"comments":[{"owner":{"account_id":2392308,"reputation":22275,"user_id":2091925,"display_name":"Will Keeling"},"score":0,"creation_date":1391683580,"post_id":21586555,"comment_id":32633959,"body_markdown":"Since you don&#39;t want to send an email for every log statement - just one email at the end, is there any reason why you&#39;re using Log4J to accomplish this? Would you not be better to use Spring&#39;s `JavaMailSender`?","body":"Since you don&#39;t want to send an email for every log statement - just one email at the end, is there any reason why you&#39;re using Log4J to accomplish this? Would you not be better to use Spring&#39;s <code>JavaMailSender</code>?"},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391712593,"post_id":21586555,"comment_id":32652913,"body_markdown":"Hi Will Keeling, I don&#39;t want to send email for every log because I am  verifying different URLs and folder permissions, and the batch job has to send email every 40 min. so definitely sending separate email for every log does not look good in my opinion. could you please give me some insight into JavaMailSender","body":"Hi Will Keeling, I don&#39;t want to send email for every log because I am  verifying different URLs and folder permissions, and the batch job has to send email every 40 min. so definitely sending separate email for every log does not look good in my opinion. could you please give me some insight into JavaMailSender"}],"answers":[{"comments":[{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391629325,"post_id":21586727,"comment_id":32610818,"body_markdown":"without XML format,it can be done ? like in log4j.properties file? I have currently log4j properties in .properties file. But my question is i want to send email only once. does this configuration send email once or sends email for every LOG_MAIL.log?","body":"without XML format,it can be done ? like in log4j.properties file? I have currently log4j properties in .properties file. But my question is i want to send email only once. does this configuration send email once or sends email for every LOG_MAIL.log?"},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":0,"creation_date":1391629640,"post_id":21586727,"comment_id":32611003,"body_markdown":"@mahesh Yes you can. You already defined the root logger. Add another one like `log4j.sendMail = mailSender`. This should do the trick.","body":"@mahesh Yes you can. You already defined the root logger. Add another one like <code>log4j.sendMail = mailSender</code>. This should do the trick."},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391630618,"post_id":21586727,"comment_id":32611616,"body_markdown":"sorry I did not get that adding another one ? you mean another rootLooger or appender?","body":"sorry I did not get that adding another one ? you mean another rootLooger or appender?"},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":0,"creation_date":1391631364,"post_id":21586727,"comment_id":32612052,"body_markdown":"@mahesh you can have multiple loggers and appender. Use `log4j.logger.sendMail = mailSender` to define the logger sendMail and assign the smtp appender to it. (sry, long time I used the old property format)","body":"@mahesh you can have multiple loggers and appender. Use <code>log4j.logger.sendMail = mailSender</code> to define the logger sendMail and assign the smtp appender to it. (sry, long time I used the old property format)"},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391632383,"post_id":21586727,"comment_id":32612648,"body_markdown":"thanks, I already have the mailSender in the post : #log4j.appender.sendMail=org.apache.log4j.net.SMTPAppender, you suggest to add one more?","body":"thanks, I already have the mailSender in the post : #log4j.appender.sendMail=org.apache.log4j.net.SMTPAppender, you suggest to add one more?"},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391716179,"post_id":21586727,"comment_id":32655111,"body_markdown":"My main request is that how to send email only once not every time log the message","body":"My main request is that how to send email only once not every time log the message"},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":0,"creation_date":1391716752,"post_id":21586727,"comment_id":32655485,"body_markdown":"@mahesh Oh I see. Well, since you have now another logger that is attached to you mailSender Appender, you can aggregation the mail and send it in one log event.","body":"@mahesh Oh I see. Well, since you have now another logger that is attached to you mailSender Appender, you can aggregation the mail and send it in one log event."},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391718521,"post_id":21586727,"comment_id":32656560,"body_markdown":"thanks  Hannes, is there any predefined library to aggregate the log events or just follow java standard methods like Stringbuffer or whatever and then use one mailserndlog.log() once? if that is the case , I can better use javamail with spring integration rather log4j","body":"thanks  Hannes, is there any predefined library to aggregate the log events or just follow java standard methods like Stringbuffer or whatever and then use one mailserndlog.log() once? if that is the case , I can better use javamail with spring integration rather log4j"},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":0,"creation_date":1391813749,"post_id":21586727,"comment_id":32702585,"body_markdown":"@mahesh I would write to a separate log file and send it via attachment.","body":"@mahesh I would write to a separate log file and send it via attachment."},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391817413,"post_id":21586727,"comment_id":32703686,"body_markdown":"thanks Hannes, but my client wants it be in email body as well.","body":"thanks Hannes, but my client wants it be in email body as well."}],"tags":[],"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465404800,"creation_date":1391628708,"answer_id":21586727,"question_id":21586555,"body_markdown":"Define your log4j configuration in XML and add a logger element to use as logger name.\r\n\r\nsee [log4j XML format][1] and [Log4j config][2]\r\n\r\n    &lt;appender name=&quot;SmtpAppender&quot; type=&quot;log4net.Appender.SmtpAppender&quot;&gt;\r\n       &lt;to value=&quot;to@domain.com&quot; /&gt;\r\n       &lt;from value=&quot;from@domain.com&quot; /&gt;\r\n       &lt;subject value=&quot;test logging message&quot; /&gt;\r\n       &lt;smtpHost value=&quot;SMTPServer.domain.com&quot; /&gt;\r\n       &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt;\r\n           &lt;conversionPattern value=&quot;%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline&quot; /&gt;\r\n       &lt;/layout&gt;\r\n    &lt;/appender&gt;   \r\n    &lt;logger name=&quot;sendMail&quot; additivity=&quot;false&quot;&gt;\r\n       &lt;level value=&quot;info&quot; /&gt;\r\n       &lt;appender-ref ref=&quot;mailAppender&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n\r\nIn your code:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static Logger LOG_MAIL = Logger.getLogger(&quot;sendMail&quot;);\r\n\r\n   \r\n\r\n\r\n  [1]: http://wiki.apache.org/logging-log4j/Log4jXmlFormat\r\n  [2]: http://logging.apache.org/log4net/release/config-examples.html\r\n","title":"how to send email with log4j SMTP appender","body":"<p>Define your log4j configuration in XML and add a logger element to use as logger name.</p>\n\n<p>see <a href=\"http://wiki.apache.org/logging-log4j/Log4jXmlFormat\" rel=\"nofollow\">log4j XML format</a> and <a href=\"http://logging.apache.org/log4net/release/config-examples.html\" rel=\"nofollow\">Log4j config</a></p>\n\n<pre><code>&lt;appender name=\"SmtpAppender\" type=\"log4net.Appender.SmtpAppender\"&gt;\n   &lt;to value=\"to@domain.com\" /&gt;\n   &lt;from value=\"from@domain.com\" /&gt;\n   &lt;subject value=\"test logging message\" /&gt;\n   &lt;smtpHost value=\"SMTPServer.domain.com\" /&gt;\n   &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n       &lt;conversionPattern value=\"%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline\" /&gt;\n   &lt;/layout&gt;\n&lt;/appender&gt;   \n&lt;logger name=\"sendMail\" additivity=\"false\"&gt;\n   &lt;level value=\"info\" /&gt;\n   &lt;appender-ref ref=\"mailAppender\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>In your code:\n</p>\n\n<pre><code>private static Logger LOG_MAIL = Logger.getLogger(\"sendMail\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392308,"reputation":22275,"user_id":2091925,"display_name":"Will Keeling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391767914,"creation_date":1391767914,"answer_id":21624862,"question_id":21586555,"body_markdown":"Since you want to send one email at the end of the batch run, you may be better to aggregate all of the messages into some sort of large string, and then use Spring&#39;s `JavaMailSender` to send a single email.\r\n\r\nYou can find [various articles][1] on sending email using `JavaMailSender` but essentially you&#39;d need to first configure an instance of it in your Spring config:\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n        &lt;property name=&quot;host&quot; value=&quot;mail_host&quot;/&gt;\r\n        &lt;property name=&quot;port&quot; value=&quot;25&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;mail_username&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;mail_password&quot;/&gt;\r\n        &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThen in your client (batch job or whatever it happens to be), you can specify an autowired field for the `JavaMailSender`:\r\n\r\n    @Autowired\r\n    private JavaMailSender mailSender;\r\n\r\nAnd then it would just be a case of creating and sending the message:\r\n\r\n    SimpleMailMessage message = new SimpleMailMessage();\r\n    message.setTo(to);\r\n    message.setSubject(subject);\r\n    message.setText(body); // Your aggregated messages\r\n    mailSender.send(message);\r\n\r\nThat&#39;s the basics - but you&#39;ll find plenty of other articles and documentation discussing it in more detail around the web.\r\n\r\n\r\n  [1]: http://springtips.blogspot.co.uk/2008/06/send-e-mail-using-spring-and-javamail.html","title":"how to send email with log4j SMTP appender","body":"<p>Since you want to send one email at the end of the batch run, you may be better to aggregate all of the messages into some sort of large string, and then use Spring's <code>JavaMailSender</code> to send a single email.</p>\n\n<p>You can find <a href=\"http://springtips.blogspot.co.uk/2008/06/send-e-mail-using-spring-and-javamail.html\" rel=\"nofollow\">various articles</a> on sending email using <code>JavaMailSender</code> but essentially you'd need to first configure an instance of it in your Spring config:</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n    &lt;property name=\"host\" value=\"mail_host\"/&gt;\n    &lt;property name=\"port\" value=\"25\"/&gt;\n    &lt;property name=\"username\" value=\"mail_username\"/&gt;\n    &lt;property name=\"password\" value=\"mail_password\"/&gt;\n    &lt;property name=\"javaMailProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Then in your client (batch job or whatever it happens to be), you can specify an autowired field for the <code>JavaMailSender</code>:</p>\n\n<pre><code>@Autowired\nprivate JavaMailSender mailSender;\n</code></pre>\n\n<p>And then it would just be a case of creating and sending the message:</p>\n\n<pre><code>SimpleMailMessage message = new SimpleMailMessage();\nmessage.setTo(to);\nmessage.setSubject(subject);\nmessage.setText(body); // Your aggregated messages\nmailSender.send(message);\n</code></pre>\n\n<p>That's the basics - but you'll find plenty of other articles and documentation discussing it in more detail around the web.</p>\n"}],"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666782375,"creation_date":1391628164,"question_id":21586555,"body_markdown":"I want send email to email group only once after I finish the java task.\r\n\r\nin log4j properties, I am able to send email,but is triggering email for every log statement.\r\n\r\nBut my requirement is that to send email after all tasks are completed, meaning start java program, do some processing which will have multiple log statements, then send email.\r\n\r\nBelow is my log4j smtp properties list.\r\n\r\n    #log4j.rootLogger=DEBUG, sendMail  \r\n    #log4j.appender.stdout=org.apache.log4j.ConsoleAppender  \r\n    #log4j.appender.stdout.layout=org.apache.log4j.PatternLayout  \r\n    #log4j.appender.stdout.layout.ConversionPattern=[%5p] %d{mm:ss} (%F:%M:%L)%n%m%n%n  \r\n    #log4j.appender.sendMail=org.apache.log4j.net.SMTPAppender  \r\n    ##log4j.appender.sendMail.Threshold=WARN  \r\n    #log4j.appender.sendMail.To=xx@domain.com   \r\n    #log4j.appender.sendMail.From=xx@domain.com  \r\n    #log4j.appender.sendMail.SMTPHost=10.13.16.57\r\n    #log4j.appender.sendMail.Subject=Log4J Message  \r\n    #log4j.appender.sendMail.layout=org.apache.log4j.PatternLayout  \r\n    #log4j.appender.sendMail.layout.ConversionPattern=%p %t %c - %m%n  \r\n    #log4j.appender.sendMail.BufferSize=1  \r\n    #log4j.appender.sendMail.SMTPDebug=true ","title":"how to send email with log4j SMTP appender","body":"<p>I want send email to email group only once after I finish the java task.</p>\n\n<p>in log4j properties, I am able to send email,but is triggering email for every log statement.</p>\n\n<p>But my requirement is that to send email after all tasks are completed, meaning start java program, do some processing which will have multiple log statements, then send email.</p>\n\n<p>Below is my log4j smtp properties list.</p>\n\n<pre><code>#log4j.rootLogger=DEBUG, sendMail  \n#log4j.appender.stdout=org.apache.log4j.ConsoleAppender  \n#log4j.appender.stdout.layout=org.apache.log4j.PatternLayout  \n#log4j.appender.stdout.layout.ConversionPattern=[%5p] %d{mm:ss} (%F:%M:%L)%n%m%n%n  \n#log4j.appender.sendMail=org.apache.log4j.net.SMTPAppender  \n##log4j.appender.sendMail.Threshold=WARN  \n#log4j.appender.sendMail.To=xx@domain.com   \n#log4j.appender.sendMail.From=xx@domain.com  \n#log4j.appender.sendMail.SMTPHost=10.13.16.57\n#log4j.appender.sendMail.Subject=Log4J Message  \n#log4j.appender.sendMail.layout=org.apache.log4j.PatternLayout  \n#log4j.appender.sendMail.layout.ConversionPattern=%p %t %c - %m%n  \n#log4j.appender.sendMail.BufferSize=1  \n#log4j.appender.sendMail.SMTPDebug=true \n</code></pre>\n"},{"tags":["java","android","google-mlkit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666799122,"post_id":74206668,"comment_id":131022606,"body_markdown":"Please show the used intent and the launch().","body":"Please show the used intent and the launch()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666799330,"post_id":74206668,"comment_id":131022694,"body_markdown":"`InputImage.fromFilePath(this, result);` That does not look correct.","body":"<code>InputImage.fromFilePath(this, result);</code> That does not look correct."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666803254,"post_id":74206668,"comment_id":131024114,"body_markdown":"@blackapps thanks for replying. Look at this [link](https://developers.google.com/ml-kit/vision/barcode-scanning/android#using-a-file-uri) as they clearly mentioned the way to convert Uri into InputImage. &quot;result&quot; is the content style Uri e.g. content://com.android.providers.media.documents/document/image%3A328944","body":"@blackapps thanks for replying. Look at this <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/android#using-a-file-uri\" rel=\"nofollow noreferrer\">link</a> as they clearly mentioned the way to convert Uri into InputImage. &quot;result&quot; is the content style Uri e.g. content://com.android.providers.media.documents/document/ima&zwnj;&#8203;ge%3A328944"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666803391,"post_id":74206668,"comment_id":131024166,"body_markdown":"@blackapps here&#39;s the launch(): - `binding.selectFromGallery.setOnClickListener(view -&gt; mChoosePhoto.launch(&quot;image/*&quot;));`","body":"@blackapps here&#39;s the launch(): - <code>binding.selectFromGallery.setOnClickListener(view -&gt; mChoosePhoto.launch(&quot;image&#47;*&quot;));</code>"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666803683,"post_id":74206668,"comment_id":131024264,"body_markdown":"`ActivityResultLauncher&lt;String&gt; mChoosePhoto;`","body":"<code>ActivityResultLauncher&lt;String&gt; mChoosePhoto;</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666812607,"post_id":74206668,"comment_id":131027164,"body_markdown":"You should put that and all code in your post of course.","body":"You should put that and all code in your post of course."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666813139,"post_id":74206668,"comment_id":131027326,"body_markdown":"`I&#39;m unable to scan any QR code if I choose a picture from gallery.` Too vague. What happens exactly? Or what exactly does not happen. Does an InputImage display the picture normally? At which statement things go wrong?","body":"<code>I&#39;m unable to scan any QR code if I choose a picture from gallery.</code> Too vague. What happens exactly? Or what exactly does not happen. Does an InputImage display the picture normally? At which statement things go wrong?"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666841520,"post_id":74206668,"comment_id":131032539,"body_markdown":"@blackapps yea I should have added that code. Okay lemme explain assuming two scenarios. Suppose I&#39;m using android 9 or above, I clicked the button to choose QR from Gallery. It&#39;ll return me the  `result` Uri and then in **try** block it&#39;ll convert Uri into InputImage and then [here](https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30) it returns me the `List&lt;Barcode&gt; barcodes` of size one ofcousre. But for android 8.1 or below, I get `result` Uri, in **try** block it convert it into InputImage `image` but then...","body":"@blackapps yea I should have added that code. Okay lemme explain assuming two scenarios. Suppose I&#39;m using android 9 or above, I clicked the button to choose QR from Gallery. It&#39;ll return me the  <code>result</code> Uri and then in <b>try</b> block it&#39;ll convert Uri into InputImage and then <a href=\"https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30\" rel=\"nofollow noreferrer\">here</a> it returns me the <code>List&lt;Barcode&gt; barcodes</code> of size one ofcousre. But for android 8.1 or below, I get <code>result</code> Uri, in <b>try</b> block it convert it into InputImage <code>image</code> but then..."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666841741,"post_id":74206668,"comment_id":131032565,"body_markdown":"... [here](https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30) it returns me empty List&lt;Barcode&gt; barcodes and I&#39;ve no idea why this returns empty List of barcodes even when the image contains a QR Code. The same is working completely fine in Android 9 and above.","body":"... <a href=\"https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30\" rel=\"nofollow noreferrer\">here</a> it returns me empty List&lt;Barcode&gt; barcodes and I&#39;ve no idea why this returns empty List of barcodes even when the image contains a QR Code. The same is working completely fine in Android 9 and above."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666851636,"post_id":74206668,"comment_id":131034155,"body_markdown":"Instead of &#39;here&#39; you could just have said &#39;in onResponse()&#39;.","body":"Instead of &#39;here&#39; you could just have said &#39;in onResponse()&#39;."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666851740,"post_id":74206668,"comment_id":131034179,"body_markdown":"What is the resolution of the picture that goes wrong? Is it the same picture that you use in other devices?","body":"What is the resolution of the picture that goes wrong? Is it the same picture that you use in other devices?"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666879763,"post_id":74206668,"comment_id":131043793,"body_markdown":"@blackapps thank you so much. Actually, I was using different pictures on those two devices. Then I tried the same picture which I was using in Android 9 in Android 8 and it worked. The one I was using in android 8 doesn&#39;t work in Android 9 and 12 too. The problem I found is that it scans [this](https://ibb.co/cX7bzsr) type of picture but not [this](https://ibb.co/mNR97X3) . The QR code size in both pictures is 512*512. I mean it scans if QR code doesn&#39;t fill the whole picture. Can you please give me some hint that what I should do?","body":"@blackapps thank you so much. Actually, I was using different pictures on those two devices. Then I tried the same picture which I was using in Android 9 in Android 8 and it worked. The one I was using in android 8 doesn&#39;t work in Android 9 and 12 too. The problem I found is that it scans <a href=\"https://ibb.co/cX7bzsr\" rel=\"nofollow noreferrer\">this</a> type of picture but not <a href=\"https://ibb.co/mNR97X3\" rel=\"nofollow noreferrer\">this</a> . The QR code size in both pictures is 512*512. I mean it scans if QR code doesn&#39;t fill the whole picture. Can you please give me some hint that what I should do?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666882631,"post_id":74206668,"comment_id":131044917,"body_markdown":"Inform Google. File a bug report.","body":"Inform Google. File a bug report."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666882765,"post_id":74206668,"comment_id":131044974,"body_markdown":"You could place the bitmap with qr code on a white bitmap that is slightly larger so it resembles the good one with the extra white borders.","body":"You could place the bitmap with qr code on a white bitmap that is slightly larger so it resembles the good one with the extra white borders."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666930894,"post_id":74206668,"comment_id":131056021,"body_markdown":"Hi @blackapps, I filed the bug report. But how can I place a QR code bitmap over a white image? You mean something like [bitmapOverlayToCenter()](https://stackoverflow.com/questions/10616777/how-to-merge-to-two-bitmap-one-over-another) method?","body":"Hi @blackapps, I filed the bug report. But how can I place a QR code bitmap over a white image? You mean something like <a href=\"https://stackoverflow.com/questions/10616777/how-to-merge-to-two-bitmap-one-over-another\">bitmapOverlayToCenter()</a> method?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666937381,"post_id":74206668,"comment_id":131057003,"body_markdown":"I have no idea what that code does. But you only have to copy your bitmap over a slightly bigger white or black bitmap.","body":"I have no idea what that code does. But you only have to copy your bitmap over a slightly bigger white or black bitmap."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666937523,"post_id":74206668,"comment_id":131057030,"body_markdown":"Yes that code you can use.","body":"Yes that code you can use."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666978025,"post_id":74206668,"comment_id":131070113,"body_markdown":"Hi @blackapps, google recognized this issue and they said they&#39;ll fix it soon. Thank you so much for your help:)","body":"Hi @blackapps, google recognized this issue and they said they&#39;ll fix it soon. Thank you so much for your help:)"}],"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666782003,"creation_date":1666782003,"question_id":74206668,"body_markdown":"I&#39;m new to Android development and currently working on an app which lets the user scan the QR code using either camera or choosing a picture from Gallery using Barcode scanning kit. The app works completely fine for Android 9 (Api level 28) and above. The app works fine for all versions while scanning using camera. But for android 8 and below, I&#39;m unable to scan any QR code if I choose a picture from gallery. I searched everywhere but didn&#39;t find any solution.\r\n\r\n\r\n\r\n```\r\nHere&#39;s the code I tried: -\r\n\r\n```\r\n\r\n```\r\nmChoosePhoto = registerForActivityResult(new ActivityResultContracts.GetContent(), result -&gt; {\r\n    InputImage image;\r\n    BarcodeScannerOptions options =\r\n            new BarcodeScannerOptions.Builder()\r\n                    .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\r\n                    .build();\r\n    BarcodeScanner scanner = BarcodeScanning.getClient(options);\r\n    Log.v(&quot;myUri&quot;, String.valueOf(result));\r\n    try {\r\n        image = InputImage.fromFilePath(this, result);\r\n        scanner.process(image)\r\n            .addOnSuccessListener(MainActivity.this::processResult)\r\n            .addOnFailureListener(e -&gt; {\r\n                // Task failed with an exception\r\n                Toast.makeText(MainActivity.this, &quot;Failed to scan.&quot;, Toast.LENGTH_SHORT).show();\r\n                e.printStackTrace();\r\n            });\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n});\r\n```\r\n\r\n```\r\nAnd then in processResult() Method\r\n\r\n```\r\n\r\n```\r\nprivate void processResult(List&lt;Barcode&gt; barcodes){\r\n        for (Barcode barcode: barcodes) {\r\n\r\n            Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n            vibrator.vibrate(100);\r\n\r\n//            Rect bounds = barcode.getBoundingBox();\r\n//            Point[] corners = barcode.getCornerPoints();\r\n//\r\n//            String rawValue = barcode.getRawValue();\r\n\r\n            int valueType = barcode.getValueType();\r\n            switch (valueType) {\r\n                case Barcode.TYPE_WIFI:\r\n                    String ssid = barcode.getWifi().getSsid();\r\n                    String password = barcode.getWifi().getPassword();\r\n                    int type = barcode.getWifi().getEncryptionType();\r\n                    break;\r\n                case Barcode.TYPE_URL:\r\n                    String title = barcode.getUrl().getTitle();\r\n                    String url = barcode.getUrl().getUrl();\r\n                    Toast.makeText(this, title + &quot; &quot; + url, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case Barcode.TYPE_TEXT:\r\n                    String text = barcode.getDisplayValue();\r\n                    Toast.makeText(this, text, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n```\r\n","title":"Google Barcode Scanning ML kit not working for android 8.1 and below","body":"<p>I'm new to Android development and currently working on an app which lets the user scan the QR code using either camera or choosing a picture from Gallery using Barcode scanning kit. The app works completely fine for Android 9 (Api level 28) and above. The app works fine for all versions while scanning using camera. But for android 8 and below, I'm unable to scan any QR code if I choose a picture from gallery. I searched everywhere but didn't find any solution.</p>\n<pre><code>Here's the code I tried: -\n\n</code></pre>\n<pre><code>mChoosePhoto = registerForActivityResult(new ActivityResultContracts.GetContent(), result -&gt; {\n    InputImage image;\n    BarcodeScannerOptions options =\n            new BarcodeScannerOptions.Builder()\n                    .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\n                    .build();\n    BarcodeScanner scanner = BarcodeScanning.getClient(options);\n    Log.v(&quot;myUri&quot;, String.valueOf(result));\n    try {\n        image = InputImage.fromFilePath(this, result);\n        scanner.process(image)\n            .addOnSuccessListener(MainActivity.this::processResult)\n            .addOnFailureListener(e -&gt; {\n                // Task failed with an exception\n                Toast.makeText(MainActivity.this, &quot;Failed to scan.&quot;, Toast.LENGTH_SHORT).show();\n                e.printStackTrace();\n            });\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n});\n</code></pre>\n<pre><code>And then in processResult() Method\n\n</code></pre>\n<pre><code>private void processResult(List&lt;Barcode&gt; barcodes){\n        for (Barcode barcode: barcodes) {\n\n            Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n            vibrator.vibrate(100);\n\n//            Rect bounds = barcode.getBoundingBox();\n//            Point[] corners = barcode.getCornerPoints();\n//\n//            String rawValue = barcode.getRawValue();\n\n            int valueType = barcode.getValueType();\n            switch (valueType) {\n                case Barcode.TYPE_WIFI:\n                    String ssid = barcode.getWifi().getSsid();\n                    String password = barcode.getWifi().getPassword();\n                    int type = barcode.getWifi().getEncryptionType();\n                    break;\n                case Barcode.TYPE_URL:\n                    String title = barcode.getUrl().getTitle();\n                    String url = barcode.getUrl().getUrl();\n                    Toast.makeText(this, title + &quot; &quot; + url, Toast.LENGTH_SHORT).show();\n                    break;\n                case Barcode.TYPE_TEXT:\n                    String text = barcode.getDisplayValue();\n                    Toast.makeText(this, text, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","mysql","apache-kafka","solr","vert.x"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1666786541,"post_id":74206575,"comment_id":131017476,"body_markdown":"DIH has been removed from Solr core in 9.0 - so you&#39;re going to either have to depend on the community project or create an alternative way to index your content. Since you already have Kafka in your stack, could you detect when an object is updated through the queue, fetch it from MySQL and then index it to Solr? That would probably be the most scalable and best solution. If you want to do it with DIH, you&#39;re going to have to have a field that indicates that a row has been updated since it was last indexed (i.e. an updated_at field or a &quot;has_been_indexed&quot; that you set to FALSE when updating)","body":"DIH has been removed from Solr core in 9.0 - so you&#39;re going to either have to depend on the community project or create an alternative way to index your content. Since you already have Kafka in your stack, could you detect when an object is updated through the queue, fetch it from MySQL and then index it to Solr? That would probably be the most scalable and best solution. If you want to do it with DIH, you&#39;re going to have to have a field that indicates that a row has been updated since it was last indexed (i.e. an updated_at field or a &quot;has_been_indexed&quot; that you set to FALSE when updating)"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1666898101,"post_id":74206575,"comment_id":131050164,"body_markdown":"You might be interested in the conversation here: https://twitter.com/tsegismont/status/1585558218171899906","body":"You might be interested in the conversation here: <a href=\"https://twitter.com/tsegismont/status/1585558218171899906\" rel=\"nofollow noreferrer\">twitter.com/tsegismont/status/1585558218171899906</a>"}],"owner":{"account_id":19026733,"reputation":1,"user_id":13889630,"display_name":"Ashif Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666781530,"creation_date":1666781530,"question_id":74206575,"body_markdown":"I have java vertx web application which uses mysql as database also take apache kafka in use. To increase the speed of search query i was thinking to add apache solr in my application and store few tables in it.\r\n\r\nBut i m not able to find a way to keep those few table stored in mysql data in sync with apache solr.\r\n\r\ni try to read DIH documentation but didnt found any solution","title":"How can we synchronize MySql Database with Apache solr?","body":"<p>I have java vertx web application which uses mysql as database also take apache kafka in use. To increase the speed of search query i was thinking to add apache solr in my application and store few tables in it.</p>\n<p>But i m not able to find a way to keep those few table stored in mysql data in sync with apache solr.</p>\n<p>i try to read DIH documentation but didnt found any solution</p>\n"},{"tags":["java","eclipse","maven","javafx-8"],"comments":[{"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"score":0,"creation_date":1484762970,"post_id":41713989,"comment_id":70647466,"body_markdown":"It seems that you are only using apache-repositories, not maven-central. Your should upgrade to plugin-version 8.7.0 too, as it contains latest bugfixes and workarounds. Disclaimer: I&#39;m the maintainer of the project.","body":"It seems that you are only using apache-repositories, not maven-central. Your should upgrade to plugin-version 8.7.0 too, as it contains latest bugfixes and workarounds. Disclaimer: I&#39;m the maintainer of the project."},{"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"score":0,"creation_date":1484790157,"post_id":41713989,"comment_id":70659067,"body_markdown":"@FibreFoX thanks, I was actually expecting for your reply as I see your name all over the web on jfx maven plugin threads. Can you explain what `only using apache-repositories, not maven-central` mean please? I&#39;m relatively new with maven setup. I do know that my project is already converted to a maven project (Eclipse convert to maven). Do I need to do further steps to use maven-central?","body":"@FibreFoX thanks, I was actually expecting for your reply as I see your name all over the web on jfx maven plugin threads. Can you explain what <code>only using apache-repositories, not maven-central</code> mean please? I&#39;m relatively new with maven setup. I do know that my project is already converted to a maven project (Eclipse convert to maven). Do I need to do further steps to use maven-central?"},{"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"score":0,"creation_date":1484816717,"post_id":41713989,"comment_id":70668642,"body_markdown":"if you have further questions, don&#39;t hesitate  to drop me that question via email :) always happy to help here. And to make it clear: KUDOS here are required to got to jaydeep, I was wrong, he was right :) (I think it was too few sleep for me xD)","body":"if you have further questions, don&#39;t hesitate  to drop me that question via email :) always happy to help here. And to make it clear: KUDOS here are required to got to jaydeep, I was wrong, he was right :) (I think it was too few sleep for me xD)"}],"answers":[{"comments":[{"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"score":0,"creation_date":1484733669,"post_id":41715134,"comment_id":70627522,"body_markdown":"Hi, im having trouble following these steps from your first link: `3. Click on View Certificate.You can see hierarchy and select top most certificate in hierarchy\n4. Confirm that certificate have ROOT word in its name.\n5. Now just bellow that hierarchy part you can see a rectangle image of the certificate. Just drag that image and drop it to your desktop.` I can see the cert hierarchy but I&#39;m unable to tell which one is the root. (I can&#39;t see the word root anywhere.) Also, current chrome version seem to restrict dragging of certs. Pls advise. Thanks!","body":"Hi, im having trouble following these steps from your first link: <code>3. Click on View Certificate.You can see hierarchy and select top most certificate in hierarchy 4. Confirm that certificate have ROOT word in its name. 5. Now just bellow that hierarchy part you can see a rectangle image of the certificate. Just drag that image and drop it to your desktop.</code> I can see the cert hierarchy but I&#39;m unable to tell which one is the root. (I can&#39;t see the word root anywhere.) Also, current chrome version seem to restrict dragging of certs. Pls advise. Thanks!"},{"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"score":0,"creation_date":1484734316,"post_id":41715134,"comment_id":70627946,"body_markdown":"Also, How exactly do I use the keystore tool? I tried to follow the following from the first link again: `1. use keytool.exe inside your jre bin folder.\n2. fire following command to place your certificate inside cacerts file` but keytool.exe just closes after double-clicking it. thanks.","body":"Also, How exactly do I use the keystore tool? I tried to follow the following from the first link again: <code>1. use keytool.exe inside your jre bin folder. 2. fire following command to place your certificate inside cacerts file</code> but keytool.exe just closes after double-clicking it. thanks."},{"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"score":0,"creation_date":1484743854,"post_id":41715134,"comment_id":70634351,"body_markdown":"@Kenos updated answer with rich details. if possible keep single jdk to be used by all the apps on system.","body":"@Kenos updated answer with rich details. if possible keep single jdk to be used by all the apps on system."},{"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"score":0,"creation_date":1484763134,"post_id":41715134,"comment_id":70647570,"body_markdown":"How does this resolving the problem, that the plugin is not get downloaded from maven-central, but from apache directly. Adding some certificate won&#39;t bring the dependency/plugin into that repository.","body":"How does this resolving the problem, that the plugin is not get downloaded from maven-central, but from apache directly. Adding some certificate won&#39;t bring the dependency/plugin into that repository."},{"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"score":1,"creation_date":1484763689,"post_id":41715134,"comment_id":70647882,"body_markdown":"@FibreFoX just copy paste each and every link which is appearing after Downloading word in log. all links resources are available but next line is  failed because of PKIX ssl certificate issue. when dependencies are getting download and not found it gives 404 error but when it is found but there is issue with PKIX path building errror it is always certificate issue.","body":"@FibreFoX just copy paste each and every link which is appearing after Downloading word in log. all links resources are available but next line is  failed because of PKIX ssl certificate issue. when dependencies are getting download and not found it gives 404 error but when it is found but there is issue with PKIX path building errror it is always certificate issue."},{"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"score":1,"creation_date":1484769196,"post_id":41715134,"comment_id":70650930,"body_markdown":"@jaydeep indeed ... maybe you should have copy-pasted them as part of your answer, because that is really not as clear, even to others ... wondering why this even happens ...","body":"@jaydeep indeed ... maybe you should have copy-pasted them as part of your answer, because that is really not as clear, even to others ... wondering why this even happens ..."},{"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"score":1,"creation_date":1484789933,"post_id":41715134,"comment_id":70658987,"body_markdown":"@jaydeep, thanks for the details. I follow everything so far but it&#39;s asking for a password after selecting cacerts. Is this normal? I&#39;ve updated the question with the screenshot.","body":"@jaydeep, thanks for the details. I follow everything so far but it&#39;s asking for a password after selecting cacerts. Is this normal? I&#39;ve updated the question with the screenshot."},{"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"score":0,"creation_date":1484816822,"post_id":41715134,"comment_id":70668697,"body_markdown":"@FibreFoX Thanks for updating answer!","body":"@FibreFoX Thanks for updating answer!"},{"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"score":1,"creation_date":1484817392,"post_id":41715134,"comment_id":70669062,"body_markdown":"@jaydeep I&#39;m not THAT type of ignorant developer ;) and you was right !","body":"@jaydeep I&#39;m not THAT type of ignorant developer ;) and you was right !"},{"owner":{"account_id":2161834,"reputation":2714,"user_id":1915831,"accept_rate":56,"display_name":"Rubin Yoo"},"score":1,"creation_date":1603232743,"post_id":41715134,"comment_id":113971212,"body_markdown":"I had this issue on my Android Studio and this worked for me. I had to also make sure that Android Studio was using the same java. Thanks!!!!","body":"I had this issue on my Android Studio and this worked for me. I had to also make sure that Android Studio was using the same java. Thanks!!!!"}],"tags":[],"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"comment_count":10,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1484816649,"creation_date":1484730255,"answer_id":41715134,"question_id":41713989,"body_markdown":"You need to install your network ssl certificate to your jre cacerts.\r\n\r\n**Step 1 : Get certificate.**\r\n\r\n 1. Open https://repo.maven.apache.org URL using chrome browser.\r\n 2. Click on view certificate  \r\n 3. select Top most certificate on chain and drag and drop to desktop.\r\n[![enter image description here][3]][3]\r\n\r\n**Step 2 : install certificate to cacerts**\r\n\r\n 1. open command prompt or terminal and type command \r\n\r\n&gt; mvn -version\r\n\r\n 2. Grab path to jre which would be shown to your after typing above command.\r\n 3. Download [this][2] tool.\r\n 4. select open option in that tool and navigate to that path which you grabbed at point 2. Now you are at jre folder. Open lib folder. Open security folder.(YOURMAVENJDKPATH/jre/lib/security/cacerts)\r\n 5. Select cacerts file located in that security folder.Now you can see all the certificates in that tool. **Tool would ask for password enter &quot;changeit&quot;(without double quote string changeit is the password)**\r\n 6. find out import certificate icon and click on it.\r\n 7. Select the certificate which you downloaded in step 1.\r\n 8. Save your changes and close the tool.\r\n\r\nNow your problem is resolved.\r\n\r\n  [1]: http://stackoverflow.com/a/40757655/1802348\r\n  [2]: http://keystore-explorer.org/downloads.html\r\n  [3]: https://i.stack.imgur.com/iDLTT.png","title":"JavaFX Maven Plug-in: No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups","body":"<p>You need to install your network ssl certificate to your jre cacerts.</p>\n\n<p><strong>Step 1 : Get certificate.</strong></p>\n\n<ol>\n<li>Open <a href=\"https://repo.maven.apache.org\" rel=\"noreferrer\">https://repo.maven.apache.org</a> URL using chrome browser.</li>\n<li>Click on view certificate  </li>\n<li>select Top most certificate on chain and drag and drop to desktop.\n<a href=\"https://i.stack.imgur.com/iDLTT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iDLTT.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p><strong>Step 2 : install certificate to cacerts</strong></p>\n\n<ol>\n<li>open command prompt or terminal and type command </li>\n</ol>\n\n<blockquote>\n  <p>mvn -version</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>Grab path to jre which would be shown to your after typing above command.</li>\n<li>Download <a href=\"http://keystore-explorer.org/downloads.html\" rel=\"noreferrer\">this</a> tool.</li>\n<li>select open option in that tool and navigate to that path which you grabbed at point 2. Now you are at jre folder. Open lib folder. Open security folder.(YOURMAVENJDKPATH/jre/lib/security/cacerts)</li>\n<li>Select cacerts file located in that security folder.Now you can see all the certificates in that tool. <strong>Tool would ask for password enter \"changeit\"(without double quote string changeit is the password)</strong></li>\n<li>find out import certificate icon and click on it.</li>\n<li>Select the certificate which you downloaded in step 1.</li>\n<li>Save your changes and close the tool.</li>\n</ol>\n\n<p>Now your problem is resolved.</p>\n"},{"tags":[],"owner":{"account_id":98819,"reputation":10263,"user_id":267265,"accept_rate":91,"display_name":"German"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666781513,"creation_date":1666781513,"answer_id":74206568,"question_id":41713989,"body_markdown":"There&#39;s a shorter way to install your network ssl certificate to your jre cacerts:\r\n\r\n    mvn -version\r\n\r\nand copy the path to Java.\r\n\r\n    openssl s_client -connect mysite.org:443 | openssl x509 -out my_ssl.cert\r\n\r\nto download the certificate to your local home directory.\r\n\r\n    sudo keytool -import -alias mvn_certificate -file my_ssl.cert -keystore PATH_FROM_STEP_ONE/lib/security/cacerts\r\n\r\nand enter your account password and then &#39;changeit&#39; if requested.","title":"JavaFX Maven Plug-in: No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups","body":"<p>There's a shorter way to install your network ssl certificate to your jre cacerts:</p>\n<pre><code>mvn -version\n</code></pre>\n<p>and copy the path to Java.</p>\n<pre><code>openssl s_client -connect mysite.org:443 | openssl x509 -out my_ssl.cert\n</code></pre>\n<p>to download the certificate to your local home directory.</p>\n<pre><code>sudo keytool -import -alias mvn_certificate -file my_ssl.cert -keystore PATH_FROM_STEP_ONE/lib/security/cacerts\n</code></pre>\n<p>and enter your account password and then 'changeit' if requested.</p>\n"}],"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8012,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41715134,"answer_count":2,"score":2,"last_activity_date":1666781513,"creation_date":1484726209,"question_id":41713989,"body_markdown":"I&#39;m trying to create an executable jar for my JavaFX application within an Eclipse Maven Project.\r\n\r\nI&#39;m following this thread:\r\nhttps://stackoverflow.com/questions/34388367/javafx-application-with-maven-in-eclipse\r\n\r\nAnd this turotial:\r\nhttps://www.youtube.com/watch?v=wbjW8rYlook\r\n\r\nI&#39;m getting a&lt;br&gt; `No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups`&lt;br&gt; error when trying to run the goal: `jfx:jar`\r\n\r\nFull build error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/javafx-maven-plugin/8.1.2/javafx-maven-plugin-8.1.2.pom\r\n    [WARNING] Failed to retrieve plugin descriptor for com.zenjava:javafx-maven-plugin:8.1.2: Plugin com.zenjava:javafx-maven-plugin:8.1.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for com.zenjava:javafx-maven-plugin:jar:8.1.2\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-release-plugin/2.3.2/maven-release-plugin-2.3.2.pom\r\n    [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-release-plugin:2.3.2: Plugin org.apache.maven.plugins:maven-release-plugin:2.3.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-release-plugin:jar:2.3.2\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/maven-metadata.xml\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-metadata.xml\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/mojo/maven-metadata.xml\r\n    [WARNING] Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Failure to transfer com.zenjava/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Failure to transfer org.apache.maven.plugins/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Failure to transfer org.codehaus.mojo/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.831 s\r\n    [INFO] Finished at: 2017-01-18T15:36:52+08:00\r\n    [INFO] Final Memory: 9M/22M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups [com.zenjava, org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\alexismatunog\\Documents\\My Docs\\03_OE\\Java\\workspace\\Maven\\m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\r\n\r\nI&#39;ve already tried the following in attempt to solve this problem:&lt;br&gt;\r\n1. Enter `mvn clean install` (BUILD SUCCESS)&lt;br&gt;\r\n2. Added `&lt;pluginGroup&gt;com.zenjava&lt;/pluginGroup&gt;` on settings.xml&lt;br&gt;\r\n\r\nAlso, I&#39;ve already added the `&lt;plugin&gt;` node in my pom.xml\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;com.zenjava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.1.2&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;mainClass&gt;com.sample.MainApp&lt;/mainClass&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\nHow can I solve this problem?\r\n\r\n===========================================================&lt;br&gt;\r\n&lt;b&gt;UPDATE 1:&lt;/b&gt;&lt;br&gt;\r\nAfter following Jaydeep&#39;s answer, I&#39;m getting a password prompt after trying to open the cacerts file and unable to proceed further.&lt;br&gt;\r\n[![IMG1][1]][1] \r\n\r\n===========================================================&lt;br&gt;\r\n&lt;b&gt;UPDATE 2:&lt;/b&gt;&lt;br&gt;\r\nDefault password for cacerts is &quot;changeit&quot;.\r\n&lt;b&gt;Build is successful&lt;/b&gt; after importing the root cert. \r\nAlso, I&#39;ve updated my pom file with jfx plugin version 8.7.0 as advised by FibreFoX.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CA7Dg.png","title":"JavaFX Maven Plug-in: No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups","body":"<p>I'm trying to create an executable jar for my JavaFX application within an Eclipse Maven Project.</p>\n\n<p>I'm following this thread:\n<a href=\"https://stackoverflow.com/questions/34388367/javafx-application-with-maven-in-eclipse\">JavaFx Application with Maven in Eclipse</a></p>\n\n<p>And this turotial:\n<a href=\"https://www.youtube.com/watch?v=wbjW8rYlook\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=wbjW8rYlook</a></p>\n\n<p>I'm getting a<br> <code>No plugin found for prefix 'jfx' in the current project and in the plugin groups</code><br> error when trying to run the goal: <code>jfx:jar</code></p>\n\n<p>Full build error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/javafx-maven-plugin/8.1.2/javafx-maven-plugin-8.1.2.pom\n[WARNING] Failed to retrieve plugin descriptor for com.zenjava:javafx-maven-plugin:8.1.2: Plugin com.zenjava:javafx-maven-plugin:8.1.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for com.zenjava:javafx-maven-plugin:jar:8.1.2\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-release-plugin/2.3.2/maven-release-plugin-2.3.2.pom\n[WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-release-plugin:2.3.2: Plugin org.apache.maven.plugins:maven-release-plugin:2.3.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-release-plugin:jar:2.3.2\n[INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/maven-metadata.xml\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-metadata.xml\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/mojo/maven-metadata.xml\n[WARNING] Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Failure to transfer com.zenjava/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Failure to transfer org.apache.maven.plugins/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Failure to transfer org.codehaus.mojo/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.831 s\n[INFO] Finished at: 2017-01-18T15:36:52+08:00\n[INFO] Final Memory: 9M/22M\n[INFO] ------------------------------------------------------------------------\n[ERROR] No plugin found for prefix 'jfx' in the current project and in the plugin groups [com.zenjava, org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\alexismatunog\\Documents\\My Docs\\03_OE\\Java\\workspace\\Maven\\m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\n</code></pre>\n\n<p>I've already tried the following in attempt to solve this problem:<br>\n1. Enter <code>mvn clean install</code> (BUILD SUCCESS)<br>\n2. Added <code>&lt;pluginGroup&gt;com.zenjava&lt;/pluginGroup&gt;</code> on settings.xml<br></p>\n\n<p>Also, I've already added the <code>&lt;plugin&gt;</code> node in my pom.xml</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;8.1.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;com.sample.MainApp&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>How can I solve this problem?</p>\n\n<p>===========================================================<br>\n<b>UPDATE 1:</b><br>\nAfter following Jaydeep's answer, I'm getting a password prompt after trying to open the cacerts file and unable to proceed further.<br>\n<a href=\"https://i.stack.imgur.com/CA7Dg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CA7Dg.png\" alt=\"IMG1\"></a> </p>\n\n<p>===========================================================<br>\n<b>UPDATE 2:</b><br>\nDefault password for cacerts is \"changeit\".\n<b>Build is successful</b> after importing the root cert. \nAlso, I've updated my pom file with jfx plugin version 8.7.0 as advised by FibreFoX.</p>\n"},{"tags":["java","docker","maven","command-line-interface","jib"],"owner":{"account_id":13705864,"reputation":83,"user_id":9889501,"display_name":"malte.h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666780867,"creation_date":1666780867,"question_id":74206430,"body_markdown":"I have multiple Java Applications that depend on the directory `config/` at the root of each repository.\r\nWhen building images of these apps with jib-maven-plugin, Jib does not copy this directory by default.\r\n\r\nSpecifying `extraDirectories` works when configuring via `pom.xml` as `&lt;from&gt;` and `&lt;into&gt;` can be set:\r\n\r\n```xml\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;extraDirectories&gt;\r\n            &lt;paths&gt;\r\n              &lt;path&gt;\r\n                &lt;from&gt;./config&lt;/from&gt;\r\n                &lt;into&gt;/config&lt;/into&gt;\r\n              &lt;/path&gt;\r\n            &lt;/paths&gt;\r\n          &lt;/extraDirectories&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nThough I&#39;d rather configure Jib via CLI parameters.\r\n\r\n`-Djib.extraDirectories.paths=./config` works for copying all the contents of `config/` to the root of the container. Though I need the files to be copied to `/config/*`.\r\n\r\nThis brings me to the question whether it is possible to provide a list of objects to `-Djib.extraDirectories.paths`?\r\nAs in `-Djib.extraDirectories.paths={from=./config,into=/config},{from=/another/dir,into=/dir/in/image}` (whatever the right syntax would be?).","title":"How to provide a list of objects as CLI parameter to Jib?","body":"<p>I have multiple Java Applications that depend on the directory <code>config/</code> at the root of each repository.\nWhen building images of these apps with jib-maven-plugin, Jib does not copy this directory by default.</p>\n<p>Specifying <code>extraDirectories</code> works when configuring via <code>pom.xml</code> as <code>&lt;from&gt;</code> and <code>&lt;into&gt;</code> can be set:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;extraDirectories&gt;\n            &lt;paths&gt;\n              &lt;path&gt;\n                &lt;from&gt;./config&lt;/from&gt;\n                &lt;into&gt;/config&lt;/into&gt;\n              &lt;/path&gt;\n            &lt;/paths&gt;\n          &lt;/extraDirectories&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Though I'd rather configure Jib via CLI parameters.</p>\n<p><code>-Djib.extraDirectories.paths=./config</code> works for copying all the contents of <code>config/</code> to the root of the container. Though I need the files to be copied to <code>/config/*</code>.</p>\n<p>This brings me to the question whether it is possible to provide a list of objects to <code>-Djib.extraDirectories.paths</code>?\nAs in <code>-Djib.extraDirectories.paths={from=./config,into=/config},{from=/another/dir,into=/dir/in/image}</code> (whatever the right syntax would be?).</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1693,"reputation":17168,"user_id":2283,"accept_rate":79,"display_name":"Weeble"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666780804,"creation_date":1666780804,"answer_id":74206414,"question_id":74206258,"body_markdown":"There are at most four components. They are &quot;feature&quot;, &quot;interim&quot;, &quot;update&quot; and &quot;patch&quot;. From [Oracle&#39;s docs][1]:\r\n&gt; Java SE platform has adopted time-based release model with the JDK being released every six months.\r\n&gt; \r\n&gt; As of JDK 10 and later, the format of the version string, which reflects the Java SE platform&#39;s time-based release model, is $FEATURE.$INTERIM.$UPDATE.$PATCH.\r\n&gt; \r\n&gt; * $FEATURE is the version number that is incremented for every feature release. The feature release contains new features and changes to the existing features as specified by the Java SE platform specification. The version number is incremented every six months. For example, the version number for the March 2018 release is 10, the version number for the September 2018 release is 11, and so on.\r\n&gt; \r\n&gt; * $INTERIM is the version number that is incremented for every interim release, which contains bug fixes and enhancements. An interim release does not contain incompatible changes, feature removals, nor any changes to the standard APIs. The version number for the interim release is always zero (0) as the six-month release model does not include interim releases. However, this version number is reserved for future interim releases, if any.\r\n&gt;\r\n&gt; * $UPDATE is the version number that is incremented for an update release, which includes fixes for security issues, regressions, and bugs in new features. The version number is incremented one month after the $FEATURE release and every three months thereafter. For example, the full version string for the October update release is 17.0.1, the full version string for the January update release is 17.0.2, and so on.\r\n&gt; \r\n&gt; * $PATCH is the version number that is incremented for an emergency patch release to fix a critical issue.\r\n&gt;\r\n&gt; The version string doesn&#39;t have trailing zero elements. For example, if the value of $FEATURE is 17, the value of $INTERIM is 0, the value of $UPDATE is 1, and the value of $PATCH is 0, then the full version string is 17.0.1.\r\n\r\nPrior to version 10, the version-string components were called [&quot;major&quot;, &quot;minor&quot;, &quot;security&quot; and &quot;patch&quot;][2] and had slightly different meaning:\r\n\r\n&gt; The version-string scheme helps to easily distinguish major, minor, security, and patch update releases.\r\n&gt;\r\n&gt; The format of the version-string is $MAJOR.$MINOR.$SECURITY.$PATCH.\r\n&gt;\r\n&gt; * $MAJOR is the version number that is incremented for a major release, for example JDK 9, which contains significant new features as specified by the Java SE platform specification. A major release contains new features and changes to existing features, which are planned and notified well in advance.\r\n&gt;\r\n&gt; * $MINOR is the version number that is incremented for each minor update, such as bug fixes, revisions to standard APIs, or implementation of features outside the scope of the relevant platform specifications. These specifications might be new JDK-specific APIs, additional service providers, new garbage collectors, and ports to new hardware architectures. For example, if an update is released for JDK 9, then the version-string (containing major and minor release numbers) is 9.1.\r\n&gt;\r\n&gt; * $SECURITY is the version number that is incremented for a security-update release, which contains critical fixes, including those necessary to improve security. For example, for a JDK 9 security-update release, the version format can be 9.1.2, where 2 is the value of security update.\r\n&gt; \r\n&gt; * $PATCH is the version number that is incremented for a release containing security and high-priority customer fixes, which have been tested together. For example, if JDK 9 has Minor version 1, Security release 1, and Patch update 1, then the version-string format will be 9.1.1.1.\r\n&gt;\r\n&gt; The $PATCH version number is reset to zero when $SECURITY, $MINOR, or $MAJOR version numbers are incremented.\r\n&gt; \r\n&gt; When the $MAJOR version number is incremented, the subsequent version numbers of $MINOR and $SECURITY elements are set to zero. However, when the $MINOR version number is incremented, the subsequent $SECURITY version number need not be set to zero. Regardless of the $MINOR version number, the higher security release value indicates a more secure release.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/install/version-string-format.html\r\n[2]: https://docs.oracle.com/javase/9/install/version-string-format.htm#JSJIG-GUID-DCA60310-6565-4BB6-8D24-6FF07C1C4B4E","title":"How are Oracle JDK versions numbered?","body":"<p>There are at most four components. They are &quot;feature&quot;, &quot;interim&quot;, &quot;update&quot; and &quot;patch&quot;. From <a href=\"https://docs.oracle.com/en/java/javase/17/install/version-string-format.html\" rel=\"noreferrer\">Oracle's docs</a>:</p>\n<blockquote>\n<p>Java SE platform has adopted time-based release model with the JDK being released every six months.</p>\n<p>As of JDK 10 and later, the format of the version string, which reflects the Java SE platform's time-based release model, is $FEATURE.$INTERIM.$UPDATE.$PATCH.</p>\n<ul>\n<li><p>$FEATURE is the version number that is incremented for every feature release. The feature release contains new features and changes to the existing features as specified by the Java SE platform specification. The version number is incremented every six months. For example, the version number for the March 2018 release is 10, the version number for the September 2018 release is 11, and so on.</p>\n</li>\n<li><p>$INTERIM is the version number that is incremented for every interim release, which contains bug fixes and enhancements. An interim release does not contain incompatible changes, feature removals, nor any changes to the standard APIs. The version number for the interim release is always zero (0) as the six-month release model does not include interim releases. However, this version number is reserved for future interim releases, if any.</p>\n</li>\n<li><p>$UPDATE is the version number that is incremented for an update release, which includes fixes for security issues, regressions, and bugs in new features. The version number is incremented one month after the $FEATURE release and every three months thereafter. For example, the full version string for the October update release is 17.0.1, the full version string for the January update release is 17.0.2, and so on.</p>\n</li>\n<li><p>$PATCH is the version number that is incremented for an emergency patch release to fix a critical issue.</p>\n</li>\n</ul>\n<p>The version string doesn't have trailing zero elements. For example, if the value of $FEATURE is 17, the value of $INTERIM is 0, the value of $UPDATE is 1, and the value of $PATCH is 0, then the full version string is 17.0.1.</p>\n</blockquote>\n<p>Prior to version 10, the version-string components were called <a href=\"https://docs.oracle.com/javase/9/install/version-string-format.htm#JSJIG-GUID-DCA60310-6565-4BB6-8D24-6FF07C1C4B4E\" rel=\"noreferrer\">&quot;major&quot;, &quot;minor&quot;, &quot;security&quot; and &quot;patch&quot;</a> and had slightly different meaning:</p>\n<blockquote>\n<p>The version-string scheme helps to easily distinguish major, minor, security, and patch update releases.</p>\n<p>The format of the version-string is $MAJOR.$MINOR.$SECURITY.$PATCH.</p>\n<ul>\n<li><p>$MAJOR is the version number that is incremented for a major release, for example JDK 9, which contains significant new features as specified by the Java SE platform specification. A major release contains new features and changes to existing features, which are planned and notified well in advance.</p>\n</li>\n<li><p>$MINOR is the version number that is incremented for each minor update, such as bug fixes, revisions to standard APIs, or implementation of features outside the scope of the relevant platform specifications. These specifications might be new JDK-specific APIs, additional service providers, new garbage collectors, and ports to new hardware architectures. For example, if an update is released for JDK 9, then the version-string (containing major and minor release numbers) is 9.1.</p>\n</li>\n<li><p>$SECURITY is the version number that is incremented for a security-update release, which contains critical fixes, including those necessary to improve security. For example, for a JDK 9 security-update release, the version format can be 9.1.2, where 2 is the value of security update.</p>\n</li>\n<li><p>$PATCH is the version number that is incremented for a release containing security and high-priority customer fixes, which have been tested together. For example, if JDK 9 has Minor version 1, Security release 1, and Patch update 1, then the version-string format will be 9.1.1.1.</p>\n</li>\n</ul>\n<p>The $PATCH version number is reset to zero when $SECURITY, $MINOR, or $MAJOR version numbers are incremented.</p>\n<p>When the $MAJOR version number is incremented, the subsequent version numbers of $MINOR and $SECURITY elements are set to zero. However, when the $MINOR version number is incremented, the subsequent $SECURITY version number need not be set to zero. Regardless of the $MINOR version number, the higher security release value indicates a more secure release.</p>\n</blockquote>\n"}],"owner":{"account_id":1693,"reputation":17168,"user_id":2283,"accept_rate":79,"display_name":"Weeble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666780804,"creation_date":1666780148,"question_id":74206258,"body_markdown":"Modern Oracle JDKs appear to have version numbers with a varying number of dotted segments. For example, [this page][1] lists these version numbers:\r\n\r\n* JDK 17.0.5\r\n* JDK 17.0.4.1\r\n* JDK 17.0.4\r\n* JDK 17.0.3.1\r\n* JDK 17.0.3\r\n* JDK 17.0.2\r\n* JDK 17.0.1\r\n* JDK 17\r\n\r\nIt&#39;s not semantic versioning, because there can be more than three numeric components. Is four the maximum number of (dot-separated) numeric components, or can there be more? What do each of these numbers mean, and when would they increment? E.g. what does it say about the move from 17.0.2 to 17.0.3 compared to the move from 17.0.3 to 17.0.3.1? How should each number be referred to (e.g. &quot;major&quot;, &quot;minor&quot; or &quot;patch&quot;)? And is there an authoritative source explaining this numbering system?\r\n\r\n[1]: https://www.oracle.com/java/technologies/javase/17u-relnotes.html","title":"How are Oracle JDK versions numbered?","body":"<p>Modern Oracle JDKs appear to have version numbers with a varying number of dotted segments. For example, <a href=\"https://www.oracle.com/java/technologies/javase/17u-relnotes.html\" rel=\"nofollow noreferrer\">this page</a> lists these version numbers:</p>\n<ul>\n<li>JDK 17.0.5</li>\n<li>JDK 17.0.4.1</li>\n<li>JDK 17.0.4</li>\n<li>JDK 17.0.3.1</li>\n<li>JDK 17.0.3</li>\n<li>JDK 17.0.2</li>\n<li>JDK 17.0.1</li>\n<li>JDK 17</li>\n</ul>\n<p>It's not semantic versioning, because there can be more than three numeric components. Is four the maximum number of (dot-separated) numeric components, or can there be more? What do each of these numbers mean, and when would they increment? E.g. what does it say about the move from 17.0.2 to 17.0.3 compared to the move from 17.0.3 to 17.0.3.1? How should each number be referred to (e.g. &quot;major&quot;, &quot;minor&quot; or &quot;patch&quot;)? And is there an authoritative source explaining this numbering system?</p>\n"},{"tags":["java","prometheus","monitoring","metrics","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1629825144,"creation_date":1629825144,"answer_id":68911482,"question_id":68838179,"body_markdown":"Using `DistributionSummary` means:\r\n- writing and maintaining less code\r\n- using Micrometer&#39;s naming conventions\r\n- decay values over time (see: `distributionStatisticExpiry` and `distributionStatisticBufferLength`)\r\n- you can have [histograms and percentiles](https://micrometer.io/docs/concepts#_histograms_and_percentiles)\r\n- you can define SLOs","title":"Micrometer Counter vs DistributionSummary","body":"<p>Using <code>DistributionSummary</code> means:</p>\n<ul>\n<li>writing and maintaining less code</li>\n<li>using Micrometer's naming conventions</li>\n<li>decay values over time (see: <code>distributionStatisticExpiry</code> and <code>distributionStatisticBufferLength</code>)</li>\n<li>you can have <a href=\"https://micrometer.io/docs/concepts#_histograms_and_percentiles\" rel=\"nofollow noreferrer\">histograms and percentiles</a></li>\n<li>you can define SLOs</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1632377519,"post_id":68923794,"comment_id":122476137,"body_markdown":"But if you use `counter with tag = &lt;request size&gt; means a new metric will be created for every request size` you will potentially create a lot of meters due to high cardinality and probably have OOM.","body":"But if you use <code>counter with tag = &lt;request size&gt; means a new metric will be created for every request size</code> you will potentially create a lot of meters due to high cardinality and probably have OOM."}],"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780730,"creation_date":1629897909,"answer_id":68923794,"question_id":68838179,"body_markdown":"In addition to @Jonatan Ivanov&#39;s answer.\r\n\r\nUsing counter with `tag = &lt;request size&gt;` means a ***new*** metric will be created for every request size. Which means you might end up with a huge amount of counters.\r\n\r\nIf you think that the distinguishing tag is something with fewer possible values and not too many counter metrics will be created, you can still use counter and make all of the aggregations the summary provides. (except quantiles).\r\n\r\nI would use a counter if I am interested in for example the number of requests with size 450, this is not possible with the summary.\r\n\r\n**TLDR**:\r\n\r\n*Use summary if you are interested only in the total count and average size*\r\n\r\n*Use a counter if the size variance isn&#39;t too big and you are interested in the exact count for a given size.*","title":"Micrometer Counter vs DistributionSummary","body":"<p>In addition to @Jonatan Ivanov's answer.</p>\n<p>Using counter with <code>tag = &lt;request size&gt;</code> means a <em><strong>new</strong></em> metric will be created for every request size. Which means you might end up with a huge amount of counters.</p>\n<p>If you think that the distinguishing tag is something with fewer possible values and not too many counter metrics will be created, you can still use counter and make all of the aggregations the summary provides. (except quantiles).</p>\n<p>I would use a counter if I am interested in for example the number of requests with size 450, this is not possible with the summary.</p>\n<p><strong>TLDR</strong>:</p>\n<p><em>Use summary if you are interested only in the total count and average size</em></p>\n<p><em>Use a counter if the size variance isn't too big and you are interested in the exact count for a given size.</em></p>\n"}],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4395,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666780730,"creation_date":1629314227,"question_id":68838179,"body_markdown":"Using summary for request size I would track\r\n - total requests\r\n - total total request size\r\n - biggest request size\r\n\r\nI can do it like this\r\n\r\n    meterRegistry.summary(&quot;request.size&quot;, &lt;tag for url&gt;).record(&lt;size&gt;);\r\n\r\nHowever I can achieve the same using counters and a gauge for the biggest size\r\n\r\n    meterRegistry.counter(&quot;request.size.total&quot;, &lt;tag for url&gt;).increment(&lt;size&gt;);\r\n    meterRegistry.counter(&quot;request.size.count&quot;, &lt;tag for url&gt;).increment();\r\n    meterRegistry.gauge(&quot;request.size.max&quot;, &lt;tag for url&gt;).set(&lt;new value if needed&gt;);\r\n    // and the gauge value will be stored in atomic variable\r\n\r\nQuestion is, is there any benefit of summary over the longer solution except for being shorter?\r\n","title":"Micrometer Counter vs DistributionSummary","body":"<p>Using summary for request size I would track</p>\n<ul>\n<li>total requests</li>\n<li>total total request size</li>\n<li>biggest request size</li>\n</ul>\n<p>I can do it like this</p>\n<pre><code>meterRegistry.summary(&quot;request.size&quot;, &lt;tag for url&gt;).record(&lt;size&gt;);\n</code></pre>\n<p>However I can achieve the same using counters and a gauge for the biggest size</p>\n<pre><code>meterRegistry.counter(&quot;request.size.total&quot;, &lt;tag for url&gt;).increment(&lt;size&gt;);\nmeterRegistry.counter(&quot;request.size.count&quot;, &lt;tag for url&gt;).increment();\nmeterRegistry.gauge(&quot;request.size.max&quot;, &lt;tag for url&gt;).set(&lt;new value if needed&gt;);\n// and the gauge value will be stored in atomic variable\n</code></pre>\n<p>Question is, is there any benefit of summary over the longer solution except for being shorter?</p>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1650491124,"post_id":71945866,"comment_id":127132711,"body_markdown":"project Loom is exactly about adding virtual threads, but it is still under active development, that is, not ready. And from an [Oracle Blog](https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads) about project Loom: &quot;*Things simply are not yet at the point where meaningful comparisons can be made, and the current performance is not thought to be really indicative of the final version.*&quot;","body":"project Loom is exactly about adding virtual threads, but it is still under active development, that is, not ready. And from an <a href=\"https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads\" rel=\"nofollow noreferrer\">Oracle Blog</a> about project Loom: &quot;<i>Things simply are not yet at the point where meaningful comparisons can be made, and the current performance is not thought to be really indicative of the final version.</i>&quot;"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650501336,"post_id":71947335,"comment_id":127134692,"body_markdown":"&quot;... in most cases a Java programmer uses the `Executors` utility class&quot;: you have some evidence for this? I use both and I would not like to say which I do most. Maybe that&#39;s what *should* happen, but at present it is a mere assertion.","body":"&quot;... in most cases a Java programmer uses the <code>Executors</code> utility class&quot;: you have some evidence for this? I use both and I would not like to say which I do most. Maybe that&#39;s what <i>should</i> happen, but at present it is a mere assertion."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650555249,"post_id":71947335,"comment_id":127150970,"body_markdown":"Like MarquisDeEJP, I also have doubts as to the veracity of that statement. But it is certainly a noble goal to use `Executors` to their fullest power. Very nicely written as usual.","body":"Like MarquisDeEJP, I also have doubts as to the veracity of that statement. But it is certainly a noble goal to use <code>Executors</code> to their fullest power. Very nicely written as usual."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1664473424,"post_id":71947335,"comment_id":130486057,"body_markdown":"Hi, what ExecutorService has to do with virtual threads ? its just an abstraction of associated thread pool, rather be virtual or not. In my opinion the question is about why they are not platform thread or what is differences.","body":"Hi, what ExecutorService has to do with virtual threads ? its just an abstraction of associated thread pool, rather be virtual or not. In my opinion the question is about why they are not platform thread or what is differences."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664476719,"post_id":71947335,"comment_id":130486987,"body_markdown":"@Lunatic I believe you need to reread my Answer. I already addressed your points.","body":"@Lunatic I believe you need to reread my Answer. I already addressed your points."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1650562961,"creation_date":1650498427,"answer_id":71947335,"question_id":71945866,"body_markdown":"Be aware that Project Loom is under active experimental development. Things may change.\r\n\r\n\r\n----------\r\n\r\n\r\n# No default \r\n\r\nYou asked:\r\n\r\n&gt; Why not just make them the default?\r\n\r\nIn modern Java, we generally do not address threads directly. Instead, we use the Executors framework added years ago in Java 5.\r\n\r\nIn particular, in most cases a Java programmer uses the [`Executors`][1] utility class to produce an [`ExecutorService`][2]. That executor service is backed by various kinds of thread factories or thread pools. \r\n\r\nFor example, if you want to serialize one task after another, we would use an [executor service backed by a single thread][3].\r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor() ;\r\n\r\nIf you browse through `Executors` class Javadoc, you will see a variety of options. &#128073; None of them is &quot;default&quot;. The programmer chooses one to suit the needs of her particular situation. \r\n\r\nWith [Project Loom][4], we will have at least one more such option to choose from. In the preview build of Java, call the new [`Executors.newVirtualThreadPerTaskExecutor()`][5] to get an executor service backed by [virtual threads][6]. Go nuts, and throw a million tasks at it.\r\n\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n\r\nYou asked:\r\n\r\n&gt;why are they separate things?\r\n\r\nOne of the highest priorities for the Java team is backward-compatibility: Existing apps should be able to run without surprise. \r\n\r\nVirtual threads have a *very* different behavior and performance profile than platform threads. So I do not expect to see the Java team retrofitting virtual threads onto existing features of Java generally. They may choose to do so, but only if absolutely certain no detrimental effects will surface in the behavior of existing apps.\r\n\r\n# When to choose or avoid virtual threads\r\n\r\nYou asked:\r\n\r\n&gt;Is there any reason to not use them?\r\n\r\nYes, certainly. Two reasons:\r\n\r\n - CPU-bound tasks\r\n - Tasks used to indirectly throttle other resources\r\n\r\n## CPU-bound tasks\r\n\r\nThe entire point of virtual threads is to keep the &quot;real&quot; thread, the platform host-OS thread, busy. When a virtual thread blocks, such as waiting for storage I/O or waiting network I/O, the virtual thread is &quot;dismounted&quot; from the host thread while another virtual thread is &quot;mounted&quot; on the host thread to get some execution done. \r\n\r\nSo, if your task’s code does not block, do not bother with virtual threads. But this kind of code is rare. Most tasks in most apps are often waiting for users, storage, networks, attached devices, etc. An example of a rare task that might not block is something that is [CPU-bound][7] like video-encoding/decoding, scientific data analysis, or some kind of intense number-crunching. Such tasks should be assigned to platform threads directly rather than virtual threads.\r\n\r\n## Throttling \r\n\r\nAnother reason to avoid virtual threads is with existing code that depends on the limits or bottlenecks of platform threads to throttle their app’s usage of other resources. For example, if a database server is limited to 10 simultaneous connections, then some app have been written to use an executor service backed by only 8 or 9 threads. Such existing code should not be blindly switched to virtual threads.\r\n\r\nOf course such code is less than optimal. Such a code base would be better, clearer, more obvious to comprehend if explicit limiting/throttling mechanisms were utilized. \r\n\r\nUsing explicit throttling mechanisms will be needed if a programmer wants to benefit having thousands, even millions, of simultaneous virtual threads while avoiding exhausting/overloading other limited resources. \r\n\r\nJava has long offered such throttling mechanisms. They just were not always used, given the simplicity/ease of relying on the limits/bottlenecks of a limited number of platform threads. \r\n\r\n\r\n----------\r\n\r\nI am no expert on this. So rely on those who *are* experts. For details and insights, be sure to read the articles and watch the presentations and interviews by Ron Pressler, Alan Bateman, or other members of the Project Loom team.\r\n\r\n\r\n\r\n  [1]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html\r\n  [2]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [3]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadExecutor()\r\n  [4]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [5]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\r\n  [6]: https://openjdk.java.net/jeps/425\r\n  [7]: https://en.wikipedia.org/wiki/CPU-bound","title":"Project loom: Why are virtual threads not the default?","body":"<p>Be aware that Project Loom is under active experimental development. Things may change.</p>\n<hr />\n<h1>No default</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Why not just make them the default?</p>\n</blockquote>\n<p>In modern Java, we generally do not address threads directly. Instead, we use the Executors framework added years ago in Java 5.</p>\n<p>In particular, in most cases a Java programmer uses the <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> utility class to produce an <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. That executor service is backed by various kinds of thread factories or thread pools.</p>\n<p>For example, if you want to serialize one task after another, we would use an <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadExecutor()\" rel=\"nofollow noreferrer\">executor service backed by a single thread</a>.</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor() ;\n</code></pre>\n<p>If you browse through <code>Executors</code> class Javadoc, you will see a variety of options. 👉 None of them is &quot;default&quot;. The programmer chooses one to suit the needs of her particular situation.</p>\n<p>With <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a>, we will have at least one more such option to choose from. In the preview build of Java, call the new <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\" rel=\"nofollow noreferrer\"><code>Executors.newVirtualThreadPerTaskExecutor()</code></a> to get an executor service backed by <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a>. Go nuts, and throw a million tasks at it.</p>\n<pre><code>ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n</code></pre>\n<p>You asked:</p>\n<blockquote>\n<p>why are they separate things?</p>\n</blockquote>\n<p>One of the highest priorities for the Java team is backward-compatibility: Existing apps should be able to run without surprise.</p>\n<p>Virtual threads have a <em>very</em> different behavior and performance profile than platform threads. So I do not expect to see the Java team retrofitting virtual threads onto existing features of Java generally. They may choose to do so, but only if absolutely certain no detrimental effects will surface in the behavior of existing apps.</p>\n<h1>When to choose or avoid virtual threads</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Is there any reason to not use them?</p>\n</blockquote>\n<p>Yes, certainly. Two reasons:</p>\n<ul>\n<li>CPU-bound tasks</li>\n<li>Tasks used to indirectly throttle other resources</li>\n</ul>\n<h2>CPU-bound tasks</h2>\n<p>The entire point of virtual threads is to keep the &quot;real&quot; thread, the platform host-OS thread, busy. When a virtual thread blocks, such as waiting for storage I/O or waiting network I/O, the virtual thread is &quot;dismounted&quot; from the host thread while another virtual thread is &quot;mounted&quot; on the host thread to get some execution done.</p>\n<p>So, if your task’s code does not block, do not bother with virtual threads. But this kind of code is rare. Most tasks in most apps are often waiting for users, storage, networks, attached devices, etc. An example of a rare task that might not block is something that is <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a> like video-encoding/decoding, scientific data analysis, or some kind of intense number-crunching. Such tasks should be assigned to platform threads directly rather than virtual threads.</p>\n<h2>Throttling</h2>\n<p>Another reason to avoid virtual threads is with existing code that depends on the limits or bottlenecks of platform threads to throttle their app’s usage of other resources. For example, if a database server is limited to 10 simultaneous connections, then some app have been written to use an executor service backed by only 8 or 9 threads. Such existing code should not be blindly switched to virtual threads.</p>\n<p>Of course such code is less than optimal. Such a code base would be better, clearer, more obvious to comprehend if explicit limiting/throttling mechanisms were utilized.</p>\n<p>Using explicit throttling mechanisms will be needed if a programmer wants to benefit having thousands, even millions, of simultaneous virtual threads while avoiding exhausting/overloading other limited resources.</p>\n<p>Java has long offered such throttling mechanisms. They just were not always used, given the simplicity/ease of relying on the limits/bottlenecks of a limited number of platform threads.</p>\n<hr />\n<p>I am no expert on this. So rely on those who <em>are</em> experts. For details and insights, be sure to read the articles and watch the presentations and interviews by Ron Pressler, Alan Bateman, or other members of the Project Loom team.</p>\n"},{"tags":[],"owner":{"account_id":390471,"reputation":1703,"user_id":750563,"accept_rate":75,"display_name":"pron"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650723936,"creation_date":1650723936,"answer_id":71980539,"question_id":71945866,"body_markdown":"There are really two questions here: 1. Why are virtual threads not the default? and 2. Is there ever a reason not to use them.\r\n\r\nRegarding the default, Java really has not concept of a &quot;default&quot; thread. Once virtual threads arrive, when you create a thread, you *must* specify whether you want a platform thread or a virtual thread. The question then becomes why have we decided not to automatically replace today&#39;s threads with virtual threads (i.e. make `new Thread()` create a virtual thread). The answer to that is quite simple: it would not be helpful at all and *might* well be quite harmful. It would not be helpful because the advantages of virtual threads come from the ability to create a great many of them. If your application creates N threads today, nothing would be gained by turning those N threads into virtual threads. The scaling advantage of virtual threads would only kick in when your application creates, say, 1000N threads, which means it would need to be changed, anyway (e.g. by replacing `Executors.newFixedThreadPool` with `Executors.newVirtualThreadPerTaskExector`). It might be harmful because while virtual threads&#39; semantics are *almost* the same as platform threads, they are not perfectly backward compatible (see [JEP 425](https://openjdk.java.net/jeps/425) for details).\r\n\r\nAs to the question about when *not* to use virtual threads, there are some obvious cases. E.g. when your threads heavily interact with native code, which knows nothing about virtual threads, or when you depend on some detail that has changed for virtual threads, like the ability to subclass `Thread`. Other cases are not so clear. For example, CPU-bound operations do not benefit from having more threads than CPU cores, so they do not benefit from the multitude of virtual threads, but that doesn&#39;t mean that they would be *harmed*. We&#39;re still not ready to say that *users* should pick virtual threads by default, but we might well get there, as we learn more about how people use them.","title":"Project loom: Why are virtual threads not the default?","body":"<p>There are really two questions here: 1. Why are virtual threads not the default? and 2. Is there ever a reason not to use them.</p>\n<p>Regarding the default, Java really has not concept of a &quot;default&quot; thread. Once virtual threads arrive, when you create a thread, you <em>must</em> specify whether you want a platform thread or a virtual thread. The question then becomes why have we decided not to automatically replace today's threads with virtual threads (i.e. make <code>new Thread()</code> create a virtual thread). The answer to that is quite simple: it would not be helpful at all and <em>might</em> well be quite harmful. It would not be helpful because the advantages of virtual threads come from the ability to create a great many of them. If your application creates N threads today, nothing would be gained by turning those N threads into virtual threads. The scaling advantage of virtual threads would only kick in when your application creates, say, 1000N threads, which means it would need to be changed, anyway (e.g. by replacing <code>Executors.newFixedThreadPool</code> with <code>Executors.newVirtualThreadPerTaskExector</code>). It might be harmful because while virtual threads' semantics are <em>almost</em> the same as platform threads, they are not perfectly backward compatible (see <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">JEP 425</a> for details).</p>\n<p>As to the question about when <em>not</em> to use virtual threads, there are some obvious cases. E.g. when your threads heavily interact with native code, which knows nothing about virtual threads, or when you depend on some detail that has changed for virtual threads, like the ability to subclass <code>Thread</code>. Other cases are not so clear. For example, CPU-bound operations do not benefit from having more threads than CPU cores, so they do not benefit from the multitude of virtual threads, but that doesn't mean that they would be <em>harmed</em>. We're still not ready to say that <em>users</em> should pick virtual threads by default, but we might well get there, as we learn more about how people use them.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780650,"creation_date":1651687824,"answer_id":72117621,"question_id":71945866,"body_markdown":"If you make them default a good portion of the existing java code won&#39;t just be able to switch to java 19, because that code is optimized for OS threads.\r\nJava **has** to be backward compatible.\r\n\r\nThere are cases where Virtual Threads don&#39;t make much sense for example\r\n\r\n- Applications that do heavy computations\r\n- If you make requests to a DB that has max connection pool, the bottleneck is not the threads\r\n- Using thread locals is not a good idea with Virtual Threads\r\n\r\nFurthermore probably most of the existing code that deals with threads pools them which again goes against the main idea","title":"Project loom: Why are virtual threads not the default?","body":"<p>If you make them default a good portion of the existing java code won't just be able to switch to java 19, because that code is optimized for OS threads.\nJava <strong>has</strong> to be backward compatible.</p>\n<p>There are cases where Virtual Threads don't make much sense for example</p>\n<ul>\n<li>Applications that do heavy computations</li>\n<li>If you make requests to a DB that has max connection pool, the bottleneck is not the threads</li>\n<li>Using thread locals is not a good idea with Virtual Threads</li>\n</ul>\n<p>Furthermore probably most of the existing code that deals with threads pools them which again goes against the main idea</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664473138,"creation_date":1664473138,"answer_id":73899643,"question_id":71945866,"body_markdown":"Lets begin with\r\n\r\n&gt; Why not just make them the default?\r\n\r\n**Virtual threads are wrapped upon **platform threads**, so you may consider them an **illusion** that JVM provides, the whole idea is to make lifecycle of threads to [CPU bound][1] operations.**\r\n\r\n - Platform Threads versus Virtual threads. Platform threads take OS\r\n   threads hostage in IO based tasks and operations limited to number of\r\n   applicable threads with in thread pool and OS threads, by default\r\n   they are non Daemon threads\r\n\r\n - Virtual threads are implemented with JVM, in CPU bound operations the\r\n   associated to platform threads and retuning them to thread pool,\r\n   after IO bound operation finished a new thread will be called from\r\n   thread pool, so no hostage in this case.\r\n\r\n\r\n**Fourth level architecture to have better understanding.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCPU\r\n - Multicore CPU multicores with in cpu executing operations.\r\n\r\nOS\r\n - OS threads the OS scheduler allocating cpu time to engaged OS\r\n   threads.\r\n\r\nJVM\r\n\r\n - platform threads are wrapped totally upon OS threads with both task\r\n   operations\r\n - virtual threads are associated to platform threads in each CPU bound\r\n   operation, each virtual thread can be associated with multiple\r\n   platform threads as different times.\r\n\r\n\r\n**Virtual threads with Executer service**\r\n - More effective to use executer service cause it associated to thread pool an limited to applicable threads with it, however in compare of virtual threads, with Executer service and virtual contained we do not ned to handle or manage the associated thread pool.\r\n\r\n        try(ExecutorService service = Executors.newVirtualThreadPerTaskExecutor()) {\r\n            service.submit(ExecutorServiceVirtualThread::taskOne);\r\n            service.submit(ExecutorServiceVirtualThread::taskTwo);\r\n        }\r\n\r\n - Executer service implements Auto Closable interface in JDK 19, thus when used with in &#39;try with resource&#39;, once it reach to end of &#39;try&#39; block the &#39;close&#39; api being called, alternatively main thread will wait till all submitted task with their dedicated virtual threads finish their lifecycle and associated thread pool being shutdown.\r\n\r\n        ThreadFactory factory = Thread.ofVirtual().name(&quot;user thread-&quot;, 0).factory();\r\n        try(ExecutorService service = Executors.newThreadPerTaskExecutor(factory)) {\r\n            service.submit(ExecutorServiceThreadFactory::taskOne);\r\n            service.submit(ExecutorServiceThreadFactory::taskTwo);\r\n        }\r\n\r\n - Executer service can be created with virtual thread factory as well, just putting thread factory with it constructor argument.\r\n\r\n - Can benefits features of Executer service like Future and Completable Future.\r\n\r\n**Virtual threads advantages** \r\n\r\n - exhibits exact the same behavior as platform threads.\r\n - disposable and can be scaled to millions.\r\n - much more lightweight than platform threads.\r\n - fast creation time, as fast as creating string object.\r\n - the JVM does delimited continuation on IO operations, no IO for\r\n   virtual threads.\r\n - yet can have the sequential code as previous but way more effective.\r\n - the JVM gives an illusion of virtual threads, underneath whole story\r\n   goes on platform threads.\r\n - Just with usage of virtual thread CPU core become much more concurrent, the combination of virtual threads and multi core CPU with ComputableFutures to parallelized code is very powerful\r\n\r\n**Virtual threads usage cautions**\r\n\r\n - Don not use monitor i.e the synchronized block, however this will fix in new release of JDK&#39;s, an alternative to do so is to use &#39;ReentrantLock&#39; with try-final statement.\r\n\r\n - Blocking with native frames on stack, JNI&#39;s. its very rare\r\n - Control memory per stack (reduce thread locales and no deep recursion)\r\n - Monitoring tools not updated yet like debuggers, JConsole, VisualVM etc\r\n\r\n\r\nFind more on [JEP-425][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/CPU-bound\r\n  [2]: https://i.stack.imgur.com/dNy24.png\r\n  [3]: https://openjdk.org/jeps/425","title":"Project loom: Why are virtual threads not the default?","body":"<p>Lets begin with</p>\n<blockquote>\n<p>Why not just make them the default?</p>\n</blockquote>\n<p><strong>Virtual threads are wrapped upon <strong>platform threads</strong>, so you may consider them an <strong>illusion</strong> that JVM provides, the whole idea is to make lifecycle of threads to <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU bound</a> operations.</strong></p>\n<ul>\n<li><p>Platform Threads versus Virtual threads. Platform threads take OS\nthreads hostage in IO based tasks and operations limited to number of\napplicable threads with in thread pool and OS threads, by default\nthey are non Daemon threads</p>\n</li>\n<li><p>Virtual threads are implemented with JVM, in CPU bound operations the\nassociated to platform threads and retuning them to thread pool,\nafter IO bound operation finished a new thread will be called from\nthread pool, so no hostage in this case.</p>\n</li>\n</ul>\n<p><strong>Fourth level architecture to have better understanding.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dNy24.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNy24.png\" alt=\"enter image description here\" /></a></p>\n<p>CPU</p>\n<ul>\n<li>Multicore CPU multicores with in cpu executing operations.</li>\n</ul>\n<p>OS</p>\n<ul>\n<li>OS threads the OS scheduler allocating cpu time to engaged OS\nthreads.</li>\n</ul>\n<p>JVM</p>\n<ul>\n<li>platform threads are wrapped totally upon OS threads with both task\noperations</li>\n<li>virtual threads are associated to platform threads in each CPU bound\noperation, each virtual thread can be associated with multiple\nplatform threads as different times.</li>\n</ul>\n<p><strong>Virtual threads with Executer service</strong></p>\n<ul>\n<li><p>More effective to use executer service cause it associated to thread pool an limited to applicable threads with it, however in compare of virtual threads, with Executer service and virtual contained we do not ned to handle or manage the associated thread pool.</p>\n<pre><code> try(ExecutorService service = Executors.newVirtualThreadPerTaskExecutor()) {\n     service.submit(ExecutorServiceVirtualThread::taskOne);\n     service.submit(ExecutorServiceVirtualThread::taskTwo);\n }\n</code></pre>\n</li>\n<li><p>Executer service implements Auto Closable interface in JDK 19, thus when used with in 'try with resource', once it reach to end of 'try' block the 'close' api being called, alternatively main thread will wait till all submitted task with their dedicated virtual threads finish their lifecycle and associated thread pool being shutdown.</p>\n<pre><code> ThreadFactory factory = Thread.ofVirtual().name(&quot;user thread-&quot;, 0).factory();\n try(ExecutorService service = Executors.newThreadPerTaskExecutor(factory)) {\n     service.submit(ExecutorServiceThreadFactory::taskOne);\n     service.submit(ExecutorServiceThreadFactory::taskTwo);\n }\n</code></pre>\n</li>\n<li><p>Executer service can be created with virtual thread factory as well, just putting thread factory with it constructor argument.</p>\n</li>\n<li><p>Can benefits features of Executer service like Future and Completable Future.</p>\n</li>\n</ul>\n<p><strong>Virtual threads advantages</strong></p>\n<ul>\n<li>exhibits exact the same behavior as platform threads.</li>\n<li>disposable and can be scaled to millions.</li>\n<li>much more lightweight than platform threads.</li>\n<li>fast creation time, as fast as creating string object.</li>\n<li>the JVM does delimited continuation on IO operations, no IO for\nvirtual threads.</li>\n<li>yet can have the sequential code as previous but way more effective.</li>\n<li>the JVM gives an illusion of virtual threads, underneath whole story\ngoes on platform threads.</li>\n<li>Just with usage of virtual thread CPU core become much more concurrent, the combination of virtual threads and multi core CPU with ComputableFutures to parallelized code is very powerful</li>\n</ul>\n<p><strong>Virtual threads usage cautions</strong></p>\n<ul>\n<li><p>Don not use monitor i.e the synchronized block, however this will fix in new release of JDK's, an alternative to do so is to use 'ReentrantLock' with try-final statement.</p>\n</li>\n<li><p>Blocking with native frames on stack, JNI's. its very rare</p>\n</li>\n<li><p>Control memory per stack (reduce thread locales and no deep recursion)</p>\n</li>\n<li><p>Monitoring tools not updated yet like debuggers, JConsole, VisualVM etc</p>\n</li>\n</ul>\n<p>Find more on <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">JEP-425</a></p>\n"}],"owner":{"account_id":25026051,"reputation":31,"user_id":18884254,"display_name":"kqi25755"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1352,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1666780650,"creation_date":1650486769,"question_id":71945866,"body_markdown":"According to the project loom documentation virtual threads behave like normal threads while having almost zero cost and the ability to turn blocking calls into non-blocking ones. \r\n\r\nIf this is true, then why are they separate things? Why not just make them the default? Is there any reason to *not* use them?","title":"Project loom: Why are virtual threads not the default?","body":"<p>According to the project loom documentation virtual threads behave like normal threads while having almost zero cost and the ability to turn blocking calls into non-blocking ones.</p>\n<p>If this is true, then why are they separate things? Why not just make them the default? Is there any reason to <em>not</em> use them?</p>\n"},{"tags":["java","list","generics","collections"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1375469700,"post_id":18021218,"comment_id":26362377,"body_markdown":"If performance is your concern, trove should help.","body":"If performance is your concern, trove should help."},{"owner":{"account_id":468731,"reputation":383,"user_id":874891,"accept_rate":80,"display_name":"Taylor"},"score":0,"creation_date":1407884951,"post_id":18021218,"comment_id":39386351,"body_markdown":"It&#39;s possible to create a list using a basic array, but you do have to know the size of the array to start with, and you&#39;ll lose a lot of other functionality that comes with the Collections object. But you could do something like: int[] array = new int[10];","body":"It&#39;s possible to create a list using a basic array, but you do have to know the size of the array to start with, and you&#39;ll lose a lot of other functionality that comes with the Collections object. But you could do something like: int[] array = new int[10];"},{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":0,"creation_date":1611311707,"post_id":18021218,"comment_id":116416051,"body_markdown":"long needs 8Bytes, Long needs 8Bytes plus 16Bytes for Object header (in 64bit system). It&#39;s a shame, there is no primitive list. Large data sets should always be hold as primitives...","body":"long needs 8Bytes, Long needs 8Bytes plus 16Bytes for Object header (in 64bit system). It&#39;s a shame, there is no primitive list. Large data sets should always be hold as primitives..."}],"answers":[{"comments":[{"owner":{"account_id":2927439,"reputation":992,"user_id":2508468,"accept_rate":50,"display_name":"vdolez"},"score":1,"creation_date":1469258537,"post_id":18021276,"comment_id":64471328,"body_markdown":"So the JTable method setSelectedIndices is a non-sense : https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#setSelectedIndices-int%3AA-","body":"So the JTable method setSelectedIndices is a non-sense : <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#setSelectedIndices-int%3AA-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/swing/&hellip;</a>"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1674145212,"post_id":18021276,"comment_id":132656800,"body_markdown":"`List&lt;Integer&gt;` might lead to devastating memory fragmentation. Java maintains constant pool for some integers in 0..128 range but generally Java allocates a new object for each 32-bit integer (wasting at least 16-4=12 bytes of RAM) + worsening GC performance.","body":"<code>List&lt;Integer&gt;</code> might lead to devastating memory fragmentation. Java maintains constant pool for some integers in 0..128 range but generally Java allocates a new object for each 32-bit integer (wasting at least 16-4=12 bytes of RAM) + worsening GC performance."}],"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":2,"down_vote_count":1,"up_vote_count":177,"is_accepted":true,"score":176,"last_activity_date":1534522354,"creation_date":1375458898,"answer_id":18021276,"question_id":18021218,"body_markdown":"In Java the type of any variable is either a primitive type or a reference type. Generic type arguments must be reference types. Since primitives do not extend `Object` they cannot be used as generic type arguments for a parametrized type.\r\n\r\nInstead use the `Integer` class which is a wrapper for `int`:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\nIf your using Java 7 you can simplify this declaration using the diamond operator:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\nWith autoboxing in Java the primitive type `int` will become an `Integer` when necessary.  \r\n\r\n&gt; Autoboxing is the automatic conversion that the Java compiler makes\r\n&gt; between the primitive types and their corresponding object wrapper\r\n&gt; classes.\r\n\r\nSo the following is valid:\r\n\r\n\tint myInt = 1;\r\n\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\tlist.add(myInt);\r\n\t\r\n\tSystem.out.println(list.get(0)); //prints 1","title":"Create a List of primitive int?","body":"<p>In Java the type of any variable is either a primitive type or a reference type. Generic type arguments must be reference types. Since primitives do not extend <code>Object</code> they cannot be used as generic type arguments for a parametrized type.</p>\n\n<p>Instead use the <code>Integer</code> class which is a wrapper for <code>int</code>:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n</code></pre>\n\n<p>If your using Java 7 you can simplify this declaration using the diamond operator:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>With autoboxing in Java the primitive type <code>int</code> will become an <code>Integer</code> when necessary.  </p>\n\n<blockquote>\n  <p>Autoboxing is the automatic conversion that the Java compiler makes\n  between the primitive types and their corresponding object wrapper\n  classes.</p>\n</blockquote>\n\n<p>So the following is valid:</p>\n\n<pre><code>int myInt = 1;\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nlist.add(myInt);\n\nSystem.out.println(list.get(0)); //prints 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1375458901,"creation_date":1375458901,"answer_id":18021277,"question_id":18021218,"body_markdown":"This is not possible. The java specification forbids the use of primitives in generics. However, you can create `ArrayList&lt;Integer&gt;` and call `add(i)` if `i` is an int thanks to boxing.","title":"Create a List of primitive int?","body":"<p>This is not possible. The java specification forbids the use of primitives in generics. However, you can create <code>ArrayList&lt;Integer&gt;</code> and call <code>add(i)</code> if <code>i</code> is an int thanks to boxing.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493896732,"creation_date":1375458918,"answer_id":18021282,"question_id":18021218,"body_markdown":"Collections use generics which support either [reference types][1] or wilcards. You can however use an `Integer` wrapper\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html","title":"Create a List of primitive int?","body":"<p>Collections use generics which support either <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3\" rel=\"nofollow noreferrer\">reference types</a> or wilcards. You can however use an <code>Integer</code> wrapper</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1375459278,"post_id":18021289,"comment_id":26357084,"body_markdown":"Good discussion of the raw type.","body":"Good discussion of the raw type."},{"owner":{"account_id":468731,"reputation":383,"user_id":874891,"accept_rate":80,"display_name":"Taylor"},"score":0,"creation_date":1407884718,"post_id":18021289,"comment_id":39386283,"body_markdown":"Actually, to be clear, you can create a list with primitive types by just using a basic array. int[] array = new int[10];","body":"Actually, to be clear, you can create a list with primitive types by just using a basic array. int[] array = new int[10];"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1407900885,"post_id":18021289,"comment_id":39389833,"body_markdown":"@Taylor But that will not be dynamically increasing list. That&#39;s an array. And I assume OP would already be knowing about that.","body":"@Taylor But that will not be dynamically increasing list. That&#39;s an array. And I assume OP would already be knowing about that."}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1375460074,"creation_date":1375458937,"answer_id":18021289,"question_id":18021218,"body_markdown":"&gt; Is there a way to create a list of primitive int or any primitives in java\r\n\r\nNo you can&#39;t. You can only create List of reference types, like `Integer`, `String`, or your custom type.\r\n\r\n&gt; It seems I can do `List myList = new ArrayList();` and add &quot;int&quot; into this list.\r\n\r\nWhen you add `int` to this list, it is automatically boxed to `Integer` wrapper type. But it is a bad idea to use *raw* type lists, or for any generic type for that matter, in newer code.\r\n\r\n&gt; I can add anything into this list. \r\n\r\nOf course, that is the dis-advantage of using raw type. You can have *Cat*, *Dog*, *Tiger*, *Dinosaur*, all in one container.\r\n\r\n&gt; Is my only option, creating an array of int and converting it into a list\r\n\r\nIn that case also, you will get a `List&lt;Integer&gt;` only. There is no way you can create `List&lt;int&gt;` or any primitives.\r\n\r\nYou shouldn&#39;t be bothered anyways. Even in `List&lt;Integer&gt;` you can add an `int` primitive types. It will be automatically boxed, as in below example:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    list.add(5);\r\n\r\n","title":"Create a List of primitive int?","body":"<blockquote>\n  <p>Is there a way to create a list of primitive int or any primitives in java</p>\n</blockquote>\n\n<p>No you can't. You can only create List of reference types, like <code>Integer</code>, <code>String</code>, or your custom type.</p>\n\n<blockquote>\n  <p>It seems I can do <code>List myList = new ArrayList();</code> and add \"int\" into this list.</p>\n</blockquote>\n\n<p>When you add <code>int</code> to this list, it is automatically boxed to <code>Integer</code> wrapper type. But it is a bad idea to use <em>raw</em> type lists, or for any generic type for that matter, in newer code.</p>\n\n<blockquote>\n  <p>I can add anything into this list. </p>\n</blockquote>\n\n<p>Of course, that is the dis-advantage of using raw type. You can have <em>Cat</em>, <em>Dog</em>, <em>Tiger</em>, <em>Dinosaur</em>, all in one container.</p>\n\n<blockquote>\n  <p>Is my only option, creating an array of int and converting it into a list</p>\n</blockquote>\n\n<p>In that case also, you will get a <code>List&lt;Integer&gt;</code> only. There is no way you can create <code>List&lt;int&gt;</code> or any primitives.</p>\n\n<p>You shouldn't be bothered anyways. Even in <code>List&lt;Integer&gt;</code> you can add an <code>int</code> primitive types. It will be automatically boxed, as in below example:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nlist.add(5);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31909,"reputation":10132,"user_id":87987,"accept_rate":64,"display_name":"nimcap"},"score":2,"creation_date":1418743812,"post_id":18021680,"comment_id":43446278,"body_markdown":"I couldn&#39;t find a primitive collection implementation in Guava. Can you provide a link please?","body":"I couldn&#39;t find a primitive collection implementation in Guava. Can you provide a link please?"}],"tags":[],"owner":{"account_id":1053877,"reputation":1522,"user_id":1057032,"accept_rate":91,"display_name":"Mike B"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1375469029,"creation_date":1375460162,"answer_id":18021680,"question_id":18021218,"body_markdown":"No there isn&#39;t any collection that can contain primitive types when Java Collection Framework is being used.\r\n\r\nHowever, there are other java collections which support primitive types, such as: [Trove][1], [Colt][2], [Fastutil][3], [Guava][4]\r\n\r\nAn example of how an arraylist with ints would be when Trove Library used is the following:\r\n\r\n     TIntArrayList list= new TIntArrayList();\r\n\r\nThe performance of this list, when compared with the ArrayList of Integers from Java Collections is much better as the autoboxing/unboxing to the corresponding Integer Wrapper Class is not needed.\r\n\r\n  [1]: http://trove.starlight-systems.com/\r\n  [2]: http://acs.lbl.gov/software/colt/\r\n  [3]: http://fastutil.di.unimi.it/\r\n  [4]: https://code.google.com/p/guava-libraries/","title":"Create a List of primitive int?","body":"<p>No there isn't any collection that can contain primitive types when Java Collection Framework is being used.</p>\n\n<p>However, there are other java collections which support primitive types, such as: <a href=\"http://trove.starlight-systems.com/\">Trove</a>, <a href=\"http://acs.lbl.gov/software/colt/\">Colt</a>, <a href=\"http://fastutil.di.unimi.it/\">Fastutil</a>, <a href=\"https://code.google.com/p/guava-libraries/\">Guava</a></p>\n\n<p>An example of how an arraylist with ints would be when Trove Library used is the following:</p>\n\n<pre><code> TIntArrayList list= new TIntArrayList();\n</code></pre>\n\n<p>The performance of this list, when compared with the ArrayList of Integers from Java Collections is much better as the autoboxing/unboxing to the corresponding Integer Wrapper Class is not needed.</p>\n"},{"tags":[],"owner":{"account_id":3746354,"reputation":1442,"user_id":3114945,"accept_rate":60,"display_name":"stolen_leaves"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472046021,"creation_date":1400765754,"answer_id":23808490,"question_id":18021218,"body_markdown":"Try using the ArrayIntList from the apache framework. It works exactly like an arraylist, except it can hold primitive int. \r\n\r\nMore details here -\r\n\r\nhttps://commons.apache.org/dormant/commons-primitives/apidocs/org/apache/commons/collections/primitives/ArrayIntList.html","title":"Create a List of primitive int?","body":"<p>Try using the ArrayIntList from the apache framework. It works exactly like an arraylist, except it can hold primitive int. </p>\n\n<p>More details here -</p>\n\n<p><a href=\"https://commons.apache.org/dormant/commons-primitives/apidocs/org/apache/commons/collections/primitives/ArrayIntList.html\" rel=\"nofollow\">https://commons.apache.org/dormant/commons-primitives/apidocs/org/apache/commons/collections/primitives/ArrayIntList.html</a></p>\n"},{"tags":[],"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449595253,"creation_date":1446132355,"answer_id":33418303,"question_id":18021218,"body_markdown":"&gt;Is there a way to convert an Integer[] array to an int[] array?\r\n\r\nThis gross omission from the Java core libraries seems to come up on pretty much every project I ever work on. And as convenient as the Trove library might be, I am unable to parse the precise requirements to meet LPGL for an Android app that statically links an LGPL library (preamble says ok, body does not seem to say the same). And it&#39;s just plain inconvenient to go rip-and-stripping Apache sources to get these classes. There has to be a better way.\r\n\r\n","title":"Create a List of primitive int?","body":"<blockquote>\n  <p>Is there a way to convert an Integer[] array to an int[] array?</p>\n</blockquote>\n\n<p>This gross omission from the Java core libraries seems to come up on pretty much every project I ever work on. And as convenient as the Trove library might be, I am unable to parse the precise requirements to meet LPGL for an Android app that statically links an LGPL library (preamble says ok, body does not seem to say the same). And it's just plain inconvenient to go rip-and-stripping Apache sources to get these classes. There has to be a better way.</p>\n"},{"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1449593891,"post_id":34161558,"comment_id":56069964,"body_markdown":"That&#39;s a strong statement. Certainly `SparseIntArray` is frequently a better option, but there are tradeoffs to be aware of. &quot;The implementation is not intended to be appropriate for data structures that may contain large numbers of items. It is generally slower than a traditional HashMap...&quot;","body":"That&#39;s a strong statement. Certainly <code>SparseIntArray</code> is frequently a better option, but there are tradeoffs to be aware of. &quot;The implementation is not intended to be appropriate for data structures that may contain large numbers of items. It is generally slower than a traditional HashMap...&quot;"},{"owner":{"account_id":2840670,"reputation":2751,"user_id":2440358,"accept_rate":60,"display_name":"Stefan Medack"},"score":0,"creation_date":1449611434,"post_id":34161558,"comment_id":56080735,"body_markdown":"Yes, that&#39;s true. They cover this tradeoff pretty good in the video I linked. But the OP asked for that particular possibility and I just wanted to add that it is actually possible with Android and also recommended for most use cases.\nThanks for adding that information!","body":"Yes, that&#39;s true. They cover this tradeoff pretty good in the video I linked. But the OP asked for that particular possibility and I just wanted to add that it is actually possible with Android and also recommended for most use cases. Thanks for adding that information!"}],"tags":[],"owner":{"account_id":2840670,"reputation":2751,"user_id":2440358,"accept_rate":60,"display_name":"Stefan Medack"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449593599,"creation_date":1449593599,"answer_id":34161558,"question_id":18021218,"body_markdown":"When you use Java for Android development, it is recommended to use `SparseIntArray` to prevent autoboxing between `int` and `Integer`.\r\n\r\nYou can finde more information to `SparseIntArray` in [the Android Developers documentation][1] and a good explanation for autoboxing on Android [enter link description here][2]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/SparseIntArray.html\r\n  [2]: https://www.youtube.com/watch?v=I16lz26WyzQ&amp;index=20&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE","title":"Create a List of primitive int?","body":"<p>When you use Java for Android development, it is recommended to use <code>SparseIntArray</code> to prevent autoboxing between <code>int</code> and <code>Integer</code>.</p>\n\n<p>You can finde more information to <code>SparseIntArray</code> in <a href=\"http://developer.android.com/reference/android/util/SparseIntArray.html\" rel=\"nofollow\">the Android Developers documentation</a> and a good explanation for autoboxing on Android <a href=\"https://www.youtube.com/watch?v=I16lz26WyzQ&amp;index=20&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE\" rel=\"nofollow\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":6722754,"reputation":1152,"user_id":5182052,"display_name":"Nikhil Nanivadekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1459041757,"creation_date":1459041757,"answer_id":36242857,"question_id":18021218,"body_markdown":"You can use primitive collections available in [Eclipse Collections][1]. Eclipse Collections has `List`, `Set`, `Bag` and `Map` for all primitives. The elements in the primitive collections are maintained as primitives and no boxing takes place.\r\n\r\nYou can initialize a [IntList][2] like this:\r\n\r\n    MutableIntList ints = IntLists.mutable.empty();\r\n\r\nYou can convert from a `List&lt;Integer&gt;` to `IntList` like this:\r\n\r\n    List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n    MutableIntList ints = ListAdapter.adapt(integers).collectInt(each -&gt; each);\r\n\r\nNote: I am a contributor to Eclipse Collections.\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n  [2]: http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/list/primitive/IntList.html","title":"Create a List of primitive int?","body":"<p>You can use primitive collections available in <a href=\"http://www.eclipse.org/collections/\" rel=\"noreferrer\">Eclipse Collections</a>. Eclipse Collections has <code>List</code>, <code>Set</code>, <code>Bag</code> and <code>Map</code> for all primitives. The elements in the primitive collections are maintained as primitives and no boxing takes place.</p>\n\n<p>You can initialize a <a href=\"http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/list/primitive/IntList.html\" rel=\"noreferrer\">IntList</a> like this:</p>\n\n<pre><code>MutableIntList ints = IntLists.mutable.empty();\n</code></pre>\n\n<p>You can convert from a <code>List&lt;Integer&gt;</code> to <code>IntList</code> like this:</p>\n\n<pre><code>List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\nMutableIntList ints = ListAdapter.adapt(integers).collectInt(each -&gt; each);\n</code></pre>\n\n<p>Note: I am a contributor to Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666780596,"creation_date":1654609861,"answer_id":72532418,"question_id":18021218,"body_markdown":"[JEP 402][1] from project Valhalla, promises to allow this. They will remove the need for wrapper classes altogether, which means no more boxing and unboxing.\r\n\r\n..so watch out for that\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/402","title":"Create a List of primitive int?","body":"<p><a href=\"https://openjdk.java.net/jeps/402\" rel=\"nofollow noreferrer\">JEP 402</a> from project Valhalla, promises to allow this. They will remove the need for wrapper classes altogether, which means no more boxing and unboxing.</p>\n<p>..so watch out for that</p>\n"},{"tags":[],"owner":{"account_id":16164833,"reputation":39,"user_id":11670058,"display_name":"Shinu Mathew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662823059,"creation_date":1662823059,"answer_id":73672955,"question_id":18021218,"body_markdown":"If you have an array of primitive ints, you can convert it into a list using java streams.\r\n\r\n`List&lt;Integer&gt; lst = Arrays.stream(arr).boxed().collect(Collectors.toList());`\r\n\r\nwhen reading the values from list you can use `intValue()` to get it as primitive int\r\n\r\n`lst.get(0).intValue();`","title":"Create a List of primitive int?","body":"<p>If you have an array of primitive ints, you can convert it into a list using java streams.</p>\n<p><code>List&lt;Integer&gt; lst = Arrays.stream(arr).boxed().collect(Collectors.toList());</code></p>\n<p>when reading the values from list you can use <code>intValue()</code> to get it as primitive int</p>\n<p><code>lst.get(0).intValue();</code></p>\n"}],"owner":{"account_id":1362225,"reputation":5088,"user_id":1299376,"accept_rate":69,"display_name":"Susie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339894,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"accepted_answer_id":18021276,"answer_count":11,"score":130,"last_activity_date":1666780596,"creation_date":1375458732,"question_id":18021218,"body_markdown":"Is there a way to create a list of primitive int or any primitives in java like following? \r\n\r\n    List&lt;int&gt; myList = new ArrayList&lt;int&gt;();\r\n\r\nIt seems I can do `List myList = new ArrayList();`\r\n\r\nand add &quot;int&quot; into this list. But then this would mean I can add anything into this list. \r\n\r\nIs my only option, creating an array of int and converting it into a list or creating a list of Integer objects? \r\n","title":"Create a List of primitive int?","body":"<p>Is there a way to create a list of primitive int or any primitives in java like following? </p>\n\n<pre><code>List&lt;int&gt; myList = new ArrayList&lt;int&gt;();\n</code></pre>\n\n<p>It seems I can do <code>List myList = new ArrayList();</code></p>\n\n<p>and add \"int\" into this list. But then this would mean I can add anything into this list. </p>\n\n<p>Is my only option, creating an array of int and converting it into a list or creating a list of Integer objects? </p>\n"},{"tags":["java","swing","while-loop","joptionpane"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1654610685,"post_id":72532567,"comment_id":128128225,"body_markdown":"Tried with `do-while`?","body":"Tried with <code>do-while</code>?"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654610797,"post_id":72532567,"comment_id":128128267,"body_markdown":"do-while? @SayanBhattacharya","body":"do-while? @SayanBhattacharya"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1654610922,"post_id":72532567,"comment_id":128128323,"body_markdown":"instead of using `while` loop use `do-while` loop. refer [here](https://www.geeksforgeeks.org/java-do-while-loop-with-examples/)","body":"instead of using <code>while</code> loop use <code>do-while</code> loop. refer <a href=\"https://www.geeksforgeeks.org/java-do-while-loop-with-examples/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654610995,"post_id":72532567,"comment_id":128128360,"body_markdown":"@SayanBhattacharya Ok, i will try","body":"@SayanBhattacharya Ok, i will try"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1654611125,"post_id":72532567,"comment_id":128128408,"body_markdown":"Don&#39;t use a loop. Instead add a PropertyListener to the option pane that will allow you to validate the data entered before closing the option panel Read the section from the Swing tutorial on [Stop Automatic Dialog Closing](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup)","body":"Don&#39;t use a loop. Instead add a PropertyListener to the option pane that will allow you to validate the data entered before closing the option panel Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup\" rel=\"nofollow noreferrer\">Stop Automatic Dialog Closing</a>"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654611394,"post_id":72532567,"comment_id":128128520,"body_markdown":"@camickr I have to use a loop, its for a project.","body":"@camickr I have to use a loop, its for a project."},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654611626,"post_id":72532567,"comment_id":128128615,"body_markdown":"@SayanBhattacharya I have updated the question using your suggestion but it still repeats the input dialog","body":"@SayanBhattacharya I have updated the question using your suggestion but it still repeats the input dialog"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654611797,"post_id":72532567,"comment_id":128128687,"body_markdown":"Walk through your code. 1st it enters the &quot;do&quot; block. It calls &quot;checkTaskDescription()&quot;, and does nothing with the return value. Then it goes to the conditional of your &quot;while&quot; and ... calls &quot;checkTaskDescription()&quot;. You need to do something with the return value of your first &quot;checkTaskDescription&quot;;","body":"Walk through your code. 1st it enters the &quot;do&quot; block. It calls &quot;checkTaskDescription()&quot;, and does nothing with the return value. Then it goes to the conditional of your &quot;while&quot; and ... calls &quot;checkTaskDescription()&quot;. You need to do something with the return value of your first &quot;checkTaskDescription&quot;;"}],"answers":[{"comments":[{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654611671,"post_id":72532687,"comment_id":128128628,"body_markdown":"Is this replacing the checkTaskDescription or adding a new one?","body":"Is this replacing the checkTaskDescription or adding a new one?"},{"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"score":0,"creation_date":1654611728,"post_id":72532687,"comment_id":128128651,"body_markdown":"Yes replaces the whole thing. You need to obtain the task at the end right?","body":"Yes replaces the whole thing. You need to obtain the task at the end right?"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654611858,"post_id":72532687,"comment_id":128128708,"body_markdown":"Okay well, the checkTaskDescription is required to be a boolean.","body":"Okay well, the checkTaskDescription is required to be a boolean."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654611874,"post_id":72532687,"comment_id":128128714,"body_markdown":"taskDescription is a field they don&#39;t need to return it.","body":"taskDescription is a field they don&#39;t need to return it."}],"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780577,"creation_date":1654610930,"answer_id":72532687,"question_id":72532567,"body_markdown":"It will be much easier if you do something like this\r\n\r\n    public String getTaskDescription() {\r\n        String taskDescription = &quot;&quot;;\r\n        do {\r\n            taskDescription = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n        }\r\n        while (taskDescription.length() &gt; 50);\r\n\r\n        return taskDescription;\r\n    }\r\n\r\nWhen you design your methods, try to make them as self-contained as possible. Now you return a flag and rely on a caller method to call it again in case the input isn&#39;t valid.","title":"Can&#39;t figure out a proper way to do a loop that loops until input is valid","body":"<p>It will be much easier if you do something like this</p>\n<pre><code>public String getTaskDescription() {\n    String taskDescription = &quot;&quot;;\n    do {\n        taskDescription = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n    }\n    while (taskDescription.length() &gt; 50);\n\n    return taskDescription;\n}\n</code></pre>\n<p>When you design your methods, try to make them as self-contained as possible. Now you return a flag and rely on a caller method to call it again in case the input isn't valid.</p>\n"},{"comments":[{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654612134,"post_id":72532937,"comment_id":128128811,"body_markdown":"So you need to give it a boolean to start with?","body":"So you need to give it a boolean to start with?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1654612206,"post_id":72532937,"comment_id":128128841,"body_markdown":"@Enzie that isn&#39;t really the point. The point is you need to use the return value of your method call. You could just have `while( ! checkTaskDescription() ){}`.","body":"@Enzie that isn&#39;t really the point. The point is you need to use the return value of your method call. You could just have <code>while( ! checkTaskDescription() ){}</code>."},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654612374,"post_id":72532937,"comment_id":128128939,"body_markdown":"So I had to use the value that was returned by the checkTaskDescription boolean then It would have been able to actually run","body":"So I had to use the value that was returned by the checkTaskDescription boolean then It would have been able to actually run"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654612501,"post_id":72532937,"comment_id":128128987,"body_markdown":"regarding your recent edit @matt, Yes that is exactly what is happening","body":"regarding your recent edit @matt, Yes that is exactly what is happening"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654612793,"post_id":72532937,"comment_id":128129129,"body_markdown":"@Enzie I&#39;ve added an updated version of your method. I hope you&#39;re getting a bit of a feel for stepping through the program in your mind and predicting what should happen.","body":"@Enzie I&#39;ve added an updated version of your method. I hope you&#39;re getting a bit of a feel for stepping through the program in your mind and predicting what should happen."},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654613030,"post_id":72532937,"comment_id":128129229,"body_markdown":"yea, I&#39;m getting there, its really hard trying to do so much in your head at once XD, thanks alot","body":"yea, I&#39;m getting there, its really hard trying to do so much in your head at once XD, thanks alot"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654613240,"post_id":72532937,"comment_id":128129317,"body_markdown":"Yes it takes a bit of getting used to. When it works, go back and see if you can step through line by line and follow the program flow. Debuggers can help too.","body":"Yes it takes a bit of getting used to. When it works, go back and see if you can step through line by line and follow the program flow. Debuggers can help too."}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654612742,"creation_date":1654611945,"answer_id":72532937,"question_id":72532567,"body_markdown":"You need to use the results of your method call.\r\n\r\n```java\r\n\r\nboolean ready = false;\r\n\r\ndo{\r\n\r\n    ready = checkTaskDescription();\r\n\r\n} while ( ! ready );\r\n```\r\n\r\nThat will enter the do block, assign ready to the return value of checkTaskDescription(), then check if it is false. If it is false, it will continue to loop, until it is true.\r\n\r\nYour checkTaskDescription is also broken. If you fail the first time, it will show the dialog again, then **always return false**. \r\n\r\n```\r\npublic boolean checkTaskDescription() {\r\n        taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n        if (taskDesc.length() &gt; 50) {\r\n            JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;);\r\n            return false;\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\r\n        return true;\r\n    }\r\n```\r\n\r\nI updated the method so it would &quot;work&quot; when there is a failed input, it will show an error message, then loop and show the dialog again. This is why you should validate the data from the dialog, and not open the dialog in the loop.","title":"Can&#39;t figure out a proper way to do a loop that loops until input is valid","body":"<p>You need to use the results of your method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nboolean ready = false;\n\ndo{\n\n    ready = checkTaskDescription();\n\n} while ( ! ready );\n</code></pre>\n<p>That will enter the do block, assign ready to the return value of checkTaskDescription(), then check if it is false. If it is false, it will continue to loop, until it is true.</p>\n<p>Your checkTaskDescription is also broken. If you fail the first time, it will show the dialog again, then <strong>always return false</strong>.</p>\n<pre><code>public boolean checkTaskDescription() {\n        taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n        if (taskDesc.length() &gt; 50) {\n            JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;);\n            return false;\n        }\n        JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\n        return true;\n    }\n</code></pre>\n<p>I updated the method so it would &quot;work&quot; when there is a failed input, it will show an error message, then loop and show the dialog again. This is why you should validate the data from the dialog, and not open the dialog in the loop.</p>\n"}],"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72532937,"answer_count":2,"score":0,"last_activity_date":1666780577,"creation_date":1654610457,"question_id":72532567,"body_markdown":"I&#39;m still learning java programming so forgive my lack of knowledge.\r\nIt probably is the most simplest thing ever, but I just can&#39;t for the life of me figure out a better way to have the *checkTaskDescription* method loop until the user input description is below the character limit. So far this is the only way I&#39;ve been able to do it but it clearly repeats the input dialog twice.\r\n\r\nThis is the part that executes it\r\n\r\n     do{\r\n         checkTaskDescription();\r\n        }\r\n           while (checkTaskDescription() == false);\r\n\r\n\r\nThis is the checkTaskDescription method that is being executed:\r\n\r\n\r\n    public boolean checkTaskDescription() {\r\n            taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n            if (taskDesc.length() &gt; 50) {\r\n                JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;, &quot;ERROR&quot;,3);\r\n                taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n                return false;\r\n            }\r\n            JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\r\n            return true;\r\n        }\r\n\r\n","title":"Can&#39;t figure out a proper way to do a loop that loops until input is valid","body":"<p>I'm still learning java programming so forgive my lack of knowledge.\nIt probably is the most simplest thing ever, but I just can't for the life of me figure out a better way to have the <em>checkTaskDescription</em> method loop until the user input description is below the character limit. So far this is the only way I've been able to do it but it clearly repeats the input dialog twice.</p>\n<p>This is the part that executes it</p>\n<pre><code> do{\n     checkTaskDescription();\n    }\n       while (checkTaskDescription() == false);\n</code></pre>\n<p>This is the checkTaskDescription method that is being executed:</p>\n<pre><code>public boolean checkTaskDescription() {\n        taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n        if (taskDesc.length() &gt; 50) {\n            JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;, &quot;ERROR&quot;,3);\n            taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n            return false;\n        }\n        JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","rest","tomcat","netbeans","glassfish"],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780550,"creation_date":1654613893,"answer_id":72533468,"question_id":72533077,"body_markdown":"You have missing dependencies on your classpath\r\n\r\nSee the stack trace \r\n\r\n    javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n\r\n[This answer might be helpful][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo","title":"Error 500 while trying to load a xml file in java","body":"<p>You have missing dependencies on your classpath</p>\n<p>See the stack trace</p>\n<pre><code>javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">This answer might be helpful</a></p>\n"}],"owner":{"account_id":25497807,"reputation":1,"user_id":19291608,"display_name":"WMusquim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666780550,"creation_date":1654612440,"question_id":72533077,"body_markdown":"I have this uni project going on, and I&#39;m stuck on this error and can&#39;t find the solution.\r\nFirst there&#39;s the JSP file that loads a list \r\n\r\n    &lt;%@page import=&quot;Controllers.RestClient&quot;%&gt;\r\n    &lt;%@page import=&quot;java.util.List&quot;%&gt;\r\n    &lt;%@page import=&quot;Model.Stationss&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.xml.bind.JAXBException&quot;%&gt;\r\n    \r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n            &lt;title&gt;JSP Page&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n                &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\r\n                &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\r\n                    &lt;%\r\n                        List&lt;Stationss&gt; listS = RestClient.getStations();\r\n                        for (int i = 0; i &lt; listS.size(); i++) {\r\n                            out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\r\n                        }\r\n                    %&gt;\r\n                &lt;/select&gt;&lt;br&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nThere&#39;s also the ReST client access\r\n\r\n    package Controllers;\r\n    \r\n    import java.util.List;\r\n    import Model.Stationss;\r\n    import java.util.ArrayList;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    import javax.ws.rs.client.Invocation;\r\n    import javax.ws.rs.client.WebTarget;\r\n    import javax.ws.rs.core.GenericType;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.xml.bind.JAXBException;\r\n    \r\n    public class RestClient {\r\n    \r\n        public static List&lt;Stationss&gt; getStations() {\r\n            System.out.print(&quot;test&quot;);\r\n            String link = &quot;http://localhost:8080&quot;;\r\n            String path = &quot;/Service/webresources/pkg.service.stations&quot;;\r\n            Client client = ClientBuilder.newBuilder().build();\r\n            WebTarget target = client.target(link).path(path);\r\n            Invocation.Builder invocation = target.request(MediaType.APPLICATION_XML);\r\n            System.out.print(link);\r\n            System.out.print(path);\r\n            Response response = invocation.get(Response.class);\r\n            System.out.print(response);\r\n            List&lt;Stationss&gt; list = response.readEntity(new GenericType&lt;List&lt;Stationss&gt;&gt;() {\r\n            });\r\n            System.out.print(list);\r\n            return list;\r\n    \r\n        }\r\n    };\r\n\r\nand after I have the model\r\n\r\n    /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n     */\r\n    package Model;\r\n    \r\n    import javax.persistence.Transient;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    @XmlRootElement\r\n    public class Stationss {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private int zone;\r\n        Gate gates = new Gate(zone);\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getZone() {\r\n            return zone;\r\n        }\r\n    \r\n        public void setZone(int zone) {\r\n            this.zone = zone;\r\n        }\r\n    \r\n        public Gate getGates() {\r\n            return gates;\r\n        }\r\n    \r\n        public void setGates(Gate gates) {\r\n            this.gates = gates;\r\n        }\r\n    \r\n        public Stationss() {\r\n        }\r\n    \r\n        public Stationss(int id, String name, int zone) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.zone = zone;\r\n        }\r\n    \r\n        @Transient\r\n        public CheckTicket enter(String xml) {\r\n            return gates.enter(xml);\r\n        }\r\n    \r\n        @Transient\r\n        public boolean exit(String xml) {\r\n            return gates.exit(xml);\r\n        }\r\n    }\r\n\r\nand at last, the huge error screen\r\n\r\n    HTTP Status 500 – Internal Server Error\r\n    Type Exception Report\r\n    \r\n    Message An exception occurred processing [/newjsp.jsp] at line [23]\r\n    \r\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n    \r\n    Exception\r\n    \r\n    org.apache.jasper.JasperException: An exception occurred processing [/newjsp.jsp] at line [23]\r\n    \r\n    20:             &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\r\n    21:             &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\r\n    22:                 &lt;%\r\n    23:                     List&lt;Stationss&gt; listS = RestClient.getStations();\r\n    24:                     for (int i = 0; i &lt; listS.size(); i++) {\r\n    25:                         out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\r\n    26:                     }\r\n    \r\n    \r\n    Stacktrace:\r\n    \torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    javax.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:359)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\r\n    \torg.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\r\n    \torg.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:316)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:298)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:229)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\r\n    \tControllers.RestClient.getStations(RestClient.java:36)\r\n    \torg.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n     - with linked exception:\r\n    [java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\r\n    \tjavax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\r\n    \tjavax.xml.bind.ContextFinder.find(ContextFinder.java:412)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\r\n    \torg.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\r\n    \torg.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:316)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:298)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:229)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\r\n    \tControllers.RestClient.getStations(RestClient.java:36)\r\n    \torg.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1444)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\r\n    \tjavax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n    \tjavax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n    \tjavax.xml.bind.ContextFinder.newInstance(ContextFinder.java:267)\r\n    \tjavax.xml.bind.ContextFinder.find(ContextFinder.java:412)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\r\n    \torg.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\r\n    \torg.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:316)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:298)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:229)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\r\n    \tControllers.RestClient.getStations(RestClient.java:36)\r\n    \torg.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Note The full stack trace of the root cause is available in the server logs.\r\n    \r\n    Apache Tomcat/10.0.16\r\n\r\nIt&#39;s my first time learning java and I&#39;m completely at loss on what I&#39;m doing wrong.\r\nI know the link the xml list is working fine.","title":"Error 500 while trying to load a xml file in java","body":"<p>I have this uni project going on, and I'm stuck on this error and can't find the solution.\nFirst there's the JSP file that loads a list</p>\n<pre><code>&lt;%@page import=&quot;Controllers.RestClient&quot;%&gt;\n&lt;%@page import=&quot;java.util.List&quot;%&gt;\n&lt;%@page import=&quot;Model.Stationss&quot;%&gt;\n&lt;%@page import=&quot;javax.xml.bind.JAXBException&quot;%&gt;\n\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n            &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\n            &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\n                &lt;%\n                    List&lt;Stationss&gt; listS = RestClient.getStations();\n                    for (int i = 0; i &lt; listS.size(); i++) {\n                        out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\n                    }\n                %&gt;\n            &lt;/select&gt;&lt;br&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>There's also the ReST client access</p>\n<pre><code>package Controllers;\n\nimport java.util.List;\nimport Model.Stationss;\nimport java.util.ArrayList;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.Invocation;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.GenericType;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.xml.bind.JAXBException;\n\npublic class RestClient {\n\n    public static List&lt;Stationss&gt; getStations() {\n        System.out.print(&quot;test&quot;);\n        String link = &quot;http://localhost:8080&quot;;\n        String path = &quot;/Service/webresources/pkg.service.stations&quot;;\n        Client client = ClientBuilder.newBuilder().build();\n        WebTarget target = client.target(link).path(path);\n        Invocation.Builder invocation = target.request(MediaType.APPLICATION_XML);\n        System.out.print(link);\n        System.out.print(path);\n        Response response = invocation.get(Response.class);\n        System.out.print(response);\n        List&lt;Stationss&gt; list = response.readEntity(new GenericType&lt;List&lt;Stationss&gt;&gt;() {\n        });\n        System.out.print(list);\n        return list;\n\n    }\n};\n</code></pre>\n<p>and after I have the model</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage Model;\n\nimport javax.persistence.Transient;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\npublic class Stationss {\n\n    private int id;\n    private String name;\n    private int zone;\n    Gate gates = new Gate(zone);\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getZone() {\n        return zone;\n    }\n\n    public void setZone(int zone) {\n        this.zone = zone;\n    }\n\n    public Gate getGates() {\n        return gates;\n    }\n\n    public void setGates(Gate gates) {\n        this.gates = gates;\n    }\n\n    public Stationss() {\n    }\n\n    public Stationss(int id, String name, int zone) {\n        this.id = id;\n        this.name = name;\n        this.zone = zone;\n    }\n\n    @Transient\n    public CheckTicket enter(String xml) {\n        return gates.enter(xml);\n    }\n\n    @Transient\n    public boolean exit(String xml) {\n        return gates.exit(xml);\n    }\n}\n</code></pre>\n<p>and at last, the huge error screen</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage An exception occurred processing [/newjsp.jsp] at line [23]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\norg.apache.jasper.JasperException: An exception occurred processing [/newjsp.jsp] at line [23]\n\n20:             &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\n21:             &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\n22:                 &lt;%\n23:                     List&lt;Stationss&gt; listS = RestClient.getStations();\n24:                     for (int i = 0; i &lt; listS.size(); i++) {\n25:                         out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\n26:                     }\n\n\nStacktrace:\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njavax.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\n    org.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:359)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\n    org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\n    org.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\n    org.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:316)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:298)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:229)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\n    org.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\n    org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\n    Controllers.RestClient.getStations(RestClient.java:36)\n    org.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njavax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\n    javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\n    javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\n    org.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\n    org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\n    org.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\n    org.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:316)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:298)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:229)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\n    org.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\n    org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\n    Controllers.RestClient.getStations(RestClient.java:36)\n    org.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njava.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1444)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\n    javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\n    javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\n    javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:267)\n    javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\n    org.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\n    org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\n    org.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\n    org.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:316)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:298)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:229)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\n    org.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\n    org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\n    Controllers.RestClient.getStations(RestClient.java:36)\n    org.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nNote The full stack trace of the root cause is available in the server logs.\n\nApache Tomcat/10.0.16\n</code></pre>\n<p>It's my first time learning java and I'm completely at loss on what I'm doing wrong.\nI know the link the xml list is working fine.</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-mapper"],"comments":[{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":1,"creation_date":1653942255,"post_id":72439235,"comment_id":127969478,"body_markdown":"Can you stop using the mapper and drop down to the document-oriented API?","body":"Can you stop using the mapper and drop down to the document-oriented API?"}],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780479,"creation_date":1654615493,"answer_id":72533838,"question_id":72439235,"body_markdown":"You have to\r\n\r\n - Create a new attribute with the new type, both in dynamo and in SectionRecord\r\n - Your code should be able to read and work with both\r\n - deploy it on production and wait for the old data to disappear (or create a custom migration logic)\r\n - Delete the old field, the logic can now rely only on the new field\r\n\r\nWelcome to dynamo where you don&#39;t have DB migrations :(\r\n\r\n","title":"How to ensure backwards compatibility when changing data type of attribute DynamoDB","body":"<p>You have to</p>\n<ul>\n<li>Create a new attribute with the new type, both in dynamo and in SectionRecord</li>\n<li>Your code should be able to read and work with both</li>\n<li>deploy it on production and wait for the old data to disappear (or create a custom migration logic)</li>\n<li>Delete the old field, the logic can now rely only on the new field</li>\n</ul>\n<p>Welcome to dynamo where you don't have DB migrations :(</p>\n"}],"owner":{"account_id":4047966,"reputation":183,"user_id":3328631,"accept_rate":40,"display_name":"naesmanak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666780479,"creation_date":1653939270,"question_id":72439235,"body_markdown":"I am attempting to change the data type of an attribute in one of my DDB tables, but because this data is read from and written to, altering the data type of the attribute causes subsequent read failures when reading old records, which look like this:\r\n```\r\ncould not unconvert attribute\r\nDynamoDBMappingException: expected M in value {N: 1000,}\r\n```\r\n\r\nMy question is about how I can change the data type of an attribute in my table, and architect the change such that I can still read the Double value that exists in previous records. Here is the class in question:\r\n\r\n    @DynamoDBTable(tableName = &quot;Sections&quot;)\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = false)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class SectionRecord {\r\n        @DynamoDBHashKey\r\n        private String id;\r\n        private Map&lt;String, Double&gt; sectionTarget; //previous definition: private Double sectionTarget;\r\n        \r\n        public void setSectionTarget(Double sectionTarget, String key) {\r\n           if (this.sectionTarget == null) {\r\n              this.sectionTarget = new HashMap&lt;Double, String&gt;();\r\n           }\r\n           this.sectionTarget.put(key, sectionTarget);\r\n        }\r\n        \r\n        public void getSectionTarget(String key) {\r\n           return this.sectionTarget.get(key);\r\n        }\r\n    \r\n    }\r\n\r\nAnd eventually, I try to read a record like this:\r\n```\r\nmapper.load(SectionRecord.class, id);\r\n```\r\n\r\nWhich is presumably where the issue comes from - I&#39;m trying to read a Double (which exists in the ddb currently) as a map (the changes I&#39;ve made to the attribute). \r\n\r\nI&#39;d love to hear some guidance on how best to architect such a change such that these backwards compatibility issues could be mitigated. \r\n","title":"How to ensure backwards compatibility when changing data type of attribute DynamoDB","body":"<p>I am attempting to change the data type of an attribute in one of my DDB tables, but because this data is read from and written to, altering the data type of the attribute causes subsequent read failures when reading old records, which look like this:</p>\n<pre><code>could not unconvert attribute\nDynamoDBMappingException: expected M in value {N: 1000,}\n</code></pre>\n<p>My question is about how I can change the data type of an attribute in my table, and architect the change such that I can still read the Double value that exists in previous records. Here is the class in question:</p>\n<pre><code>@DynamoDBTable(tableName = &quot;Sections&quot;)\n@Data\n@EqualsAndHashCode(callSuper = false)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class SectionRecord {\n    @DynamoDBHashKey\n    private String id;\n    private Map&lt;String, Double&gt; sectionTarget; //previous definition: private Double sectionTarget;\n    \n    public void setSectionTarget(Double sectionTarget, String key) {\n       if (this.sectionTarget == null) {\n          this.sectionTarget = new HashMap&lt;Double, String&gt;();\n       }\n       this.sectionTarget.put(key, sectionTarget);\n    }\n    \n    public void getSectionTarget(String key) {\n       return this.sectionTarget.get(key);\n    }\n\n}\n</code></pre>\n<p>And eventually, I try to read a record like this:</p>\n<pre><code>mapper.load(SectionRecord.class, id);\n</code></pre>\n<p>Which is presumably where the issue comes from - I'm trying to read a Double (which exists in the ddb currently) as a map (the changes I've made to the attribute).</p>\n<p>I'd love to hear some guidance on how best to architect such a change such that these backwards compatibility issues could be mitigated.</p>\n"},{"tags":["java","oop","java-8","garbage-collection","reference-type"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1612691747,"post_id":66086544,"comment_id":116841021,"body_markdown":"99% of the time you use good old normal strong references and don&#39;t bother with the rest. They are really just used in some specialized use cases (such as memory-sensitive caches, which are also really hard to get right). Usually they are hidden inside dedicated libraries that use them.","body":"99% of the time you use good old normal strong references and don&#39;t bother with the rest. They are really just used in some specialized use cases (such as memory-sensitive caches, which are also really hard to get right). Usually they are hidden inside dedicated libraries that use them."},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1612692016,"post_id":66086544,"comment_id":116841078,"body_markdown":"Yeah. I understand. But what&#39;s the point of having 4 different reference types, when we end up using strong type references most of the time ?","body":"Yeah. I understand. But what&#39;s the point of having 4 different reference types, when we end up using strong type references most of the time ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1612692807,"post_id":66086544,"comment_id":116841257,"body_markdown":"Because, for the other 1%, we need other reference semantics.","body":"Because, for the other 1%, we need other reference semantics."},{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1612693102,"post_id":66086544,"comment_id":116841327,"body_markdown":"The reference jungle makes sense in an environment where resources are limited. For example Android Applications.","body":"The reference jungle makes sense in an environment where resources are limited. For example Android Applications."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1612723666,"post_id":66086544,"comment_id":116850079,"body_markdown":"Thats like asking why chefs have special knives, well you and me dont need those, but they absolutely do. Also notice that your understanding of those is incorrect, you might want to document yourself more","body":"Thats like asking why chefs have special knives, well you and me dont need those, but they absolutely do. Also notice that your understanding of those is incorrect, you might want to document yourself more"},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1612724079,"post_id":66086544,"comment_id":116850191,"body_markdown":"Thanks @Eugene. This contrast was kind of eye opener to me. Also, It would be really helpful if you could point out where I am going wrong, while trying to understanding the concept. This is new to me and I am unable to figure out.","body":"Thanks @Eugene. This contrast was kind of eye opener to me. Also, It would be really helpful if you could point out where I am going wrong, while trying to understanding the concept. This is new to me and I am unable to figure out."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612693441,"creation_date":1612692940,"answer_id":66086718,"question_id":66086544,"body_markdown":"The factual answer is pretty simple: because strong references alone aren&#39;t sufficient. You definitely need some concept of weak references in real world production code.\r\n\r\nOne could then argue that the other types are simply over engineering. The designers of the language assumed these to be helpful, but besides very obscure situations, they aren&#39;t. But note: the corresponding semantics can&#39;t be done with normal java code. So this is one of these cases &quot;let&#39;s add it to the language in case we ever need it&quot;.\r\n\r\nBut that 2nd paragraph could easily be seen as opinion, not fact.","title":"Why Java has 4 different types of references?","body":"<p>The factual answer is pretty simple: because strong references alone aren't sufficient. You definitely need some concept of weak references in real world production code.</p>\n<p>One could then argue that the other types are simply over engineering. The designers of the language assumed these to be helpful, but besides very obscure situations, they aren't. But note: the corresponding semantics can't be done with normal java code. So this is one of these cases &quot;let's add it to the language in case we ever need it&quot;.</p>\n<p>But that 2nd paragraph could easily be seen as opinion, not fact.</p>\n"},{"comments":[{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1612761878,"post_id":66095205,"comment_id":116857807,"body_markdown":"Thanks a ton Eugene. This is really helpful !","body":"Thanks a ton Eugene. This is really helpful !"}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1612751945,"creation_date":1612751379,"answer_id":66095205,"question_id":66086544,"body_markdown":"It&#39;s a complicated answer to provide, especially the &quot;real world&quot; portion. These special references are a (very) sharp tool to use, it should only be touched rarely and with a very good understanding. Your first misconception is that only `Phantom References` use a `queue` (called `ReferenceQueue`).  In fact, they _all_ use a `queue`. `PhantomReference` was a bit of a &quot;weirdo&quot; among these all, mainly because the specification around it has changed from `java-8` to `java-9`. You can read [this answer to get some details][1] (the reasons for keeping the instance alive in `java-8` is unknown to this time).\r\n\r\nThen the common misconception you get is that &quot;next run&quot;, for more details you can [take a look here][2]. The notion here of the &quot;second&quot;, or &quot;next&quot; is a bit tricky; but the point is that this is non-deterministic. \r\n\r\nProviding &quot;real world&quot; examples, comes a bit tricky too. That happens because you rarely use these references _directly_, they usually come pre-packaged in utilities. For one example, you can [take a look of how WeakHashMap][3] works (that directly uses the `WeakReference` and `ReferenceQueue` under the hood), or event [this answer][4]. `guava` with its `CacheBuilder` used to offer some functionality dealing with `SoftReferences`(but not anymore),  [caffeine still does though][5]. \r\n\r\n`PhantomReferences` are used internally for `Cleaner API` (since `java-9`). [here][6] is an example that shows its general usage. Without `PhantomReferences`, this would not really be possible (at least not that &quot;easy&quot;).\r\n\r\n---\r\n\r\nTo that extent, we use `WeakHashMap` in production (so do we use `Cleaner API`, but much less). If you really want to learn about them, you need to understand how a `garbage collector` works (like, _really_ works), then read their official documentation and try (and ask) multiple things. \r\n\r\n  [1]: https://stackoverflow.com/questions/56684150/why-since-java-9-phantomreference-java-doc-states-that-it-is-dedicated-to-the-po\r\n  [2]: https://stackoverflow.com/questions/53791900/how-finalizable-objects-takes-at-least-2-garbage-collection-cycles-before-it-can/60628663#60628663\r\n  [3]: https://stackoverflow.com/questions/52789834/is-weakhashmap-ever-growing-or-does-it-clear-out-the-garbage-keys/57876763#57876763\r\n  [4]: https://stackoverflow.com/a/52663606/1059372\r\n  [5]: https://github.com/ben-manes/caffeine/wiki/Eviction#reference-based\r\n  [6]: https://stackoverflow.com/questions/65766061/cleaning-up-weak-reference-caches-with-finalizers/65799297#65799297","title":"Why Java has 4 different types of references?","body":"<p>It's a complicated answer to provide, especially the &quot;real world&quot; portion. These special references are a (very) sharp tool to use, it should only be touched rarely and with a very good understanding. Your first misconception is that only <code>Phantom References</code> use a <code>queue</code> (called <code>ReferenceQueue</code>).  In fact, they <em>all</em> use a <code>queue</code>. <code>PhantomReference</code> was a bit of a &quot;weirdo&quot; among these all, mainly because the specification around it has changed from <code>java-8</code> to <code>java-9</code>. You can read <a href=\"https://stackoverflow.com/questions/56684150/why-since-java-9-phantomreference-java-doc-states-that-it-is-dedicated-to-the-po\">this answer to get some details</a> (the reasons for keeping the instance alive in <code>java-8</code> is unknown to this time).</p>\n<p>Then the common misconception you get is that &quot;next run&quot;, for more details you can <a href=\"https://stackoverflow.com/questions/53791900/how-finalizable-objects-takes-at-least-2-garbage-collection-cycles-before-it-can/60628663#60628663\">take a look here</a>. The notion here of the &quot;second&quot;, or &quot;next&quot; is a bit tricky; but the point is that this is non-deterministic.</p>\n<p>Providing &quot;real world&quot; examples, comes a bit tricky too. That happens because you rarely use these references <em>directly</em>, they usually come pre-packaged in utilities. For one example, you can <a href=\"https://stackoverflow.com/questions/52789834/is-weakhashmap-ever-growing-or-does-it-clear-out-the-garbage-keys/57876763#57876763\">take a look of how WeakHashMap</a> works (that directly uses the <code>WeakReference</code> and <code>ReferenceQueue</code> under the hood), or event <a href=\"https://stackoverflow.com/a/52663606/1059372\">this answer</a>. <code>guava</code> with its <code>CacheBuilder</code> used to offer some functionality dealing with <code>SoftReferences</code>(but not anymore),  <a href=\"https://github.com/ben-manes/caffeine/wiki/Eviction#reference-based\" rel=\"nofollow noreferrer\">caffeine still does though</a>.</p>\n<p><code>PhantomReferences</code> are used internally for <code>Cleaner API</code> (since <code>java-9</code>). <a href=\"https://stackoverflow.com/questions/65766061/cleaning-up-weak-reference-caches-with-finalizers/65799297#65799297\">here</a> is an example that shows its general usage. Without <code>PhantomReferences</code>, this would not really be possible (at least not that &quot;easy&quot;).</p>\n<hr />\n<p>To that extent, we use <code>WeakHashMap</code> in production (so do we use <code>Cleaner API</code>, but much less). If you really want to learn about them, you need to understand how a <code>garbage collector</code> works (like, <em>really</em> works), then read their official documentation and try (and ask) multiple things.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780440,"creation_date":1656315582,"answer_id":72768520,"question_id":66086544,"body_markdown":"There isn&#39;t much to add to the existing answers, other than a brief summary\r\n\r\n - **Weak references** are used (mostly internally) as a temporary cache that gets wiped on the next GC\r\n - **Soft references** are very similar to the weak ones, with the only difference being that the GC will collect them only when the memory is low. Soft references will never cause OOE\r\n - **Phantom references** are the &quot;new&quot; finalization mechanism and with them, you can execute some logic when the object is collected. Very similar to the (now deprecated) finalize method. PhantomReference.get always gives you null and you can&#39;t find the object with them\r\n\r\nI tried to gather more information in this [article][1], there are also some real-life example of code\r\n\r\n\r\n  [1]: https://medium.com/@b.stoilov/different-types-of-references-in-java-and-how-to-use-them-d074009fe596","title":"Why Java has 4 different types of references?","body":"<p>There isn't much to add to the existing answers, other than a brief summary</p>\n<ul>\n<li><strong>Weak references</strong> are used (mostly internally) as a temporary cache that gets wiped on the next GC</li>\n<li><strong>Soft references</strong> are very similar to the weak ones, with the only difference being that the GC will collect them only when the memory is low. Soft references will never cause OOE</li>\n<li><strong>Phantom references</strong> are the &quot;new&quot; finalization mechanism and with them, you can execute some logic when the object is collected. Very similar to the (now deprecated) finalize method. PhantomReference.get always gives you null and you can't find the object with them</li>\n</ul>\n<p>I tried to gather more information in this <a href=\"https://medium.com/@b.stoilov/different-types-of-references-in-java-and-how-to-use-them-d074009fe596\" rel=\"nofollow noreferrer\">article</a>, there are also some real-life example of code</p>\n"}],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":66095205,"answer_count":3,"score":5,"last_activity_date":1666780440,"creation_date":1612691575,"question_id":66086544,"body_markdown":"Until today, I wasn&#39;t aware of the fact that Java has four main types of references.\r\n\r\n1. *Strong Reference* : Default reference type that `Java` uses.\r\n2. *Weak Reference* : If an object has a weak reference then `GC` reclaims this object’s memory in next run even though there is enough memory. \r\n3. *Soft Reference* : If an object has a soft reference, then `GC` reclaims this object’s memory only when it needs some memory badly. \r\n4. *Phantom Reference* : If an object has a phantom reference, then it&#39;s eligible for garbage collection. But, before GC, JVM puts the objects which are supposed to be garbage collected in a queue called `reference queue`. \r\n\r\nI understood the basic concept and I wrote a small program to understand how each of the reference types work. \r\n\r\n    import java.lang.ref.PhantomReference;\r\n    import java.lang.ref.ReferenceQueue;\r\n    import java.lang.ref.SoftReference;\r\n    import java.lang.ref.WeakReference;\r\n    \r\n    class User \r\n    { \r\n    \tpublic User info() \r\n    \t{ \r\n    \t\tSystem.out.println(&quot;Info method invoked from User class&quot;);\r\n    \t\treturn null;\r\n    \t}   \r\n    } \r\n    \r\n    public class ReferencesExample \r\n    { \r\n    \tpublic static void main(String[] args) \r\n    \t{ \r\n    \t\t//Strong Reference\r\n    \t\tUser userRefObj = new User(); \r\n    \t\tSystem.out.println(&quot;1 :&quot; + userRefObj.info());\r\n    \r\n    \t\t// Weak Reference\r\n    \t\tWeakReference&lt;User&gt; weakref = new WeakReference&lt;User&gt;(userRefObj.info());  \r\n    \t\tSystem.out.println(&quot;2 : &quot; + weakref);\r\n    \r\n    \t\t// Soft Reference    \r\n    \t\tSoftReference&lt;User&gt; softref = new SoftReference&lt;User&gt;(userRefObj.info());  \r\n    \t\tSystem.out.println(&quot;3 : &quot; + softref);\r\n    \r\n    \t\t// Phantom Reference \r\n            ReferenceQueue&lt;User&gt; refQueueObj = new ReferenceQueue&lt;User&gt;(); \r\n            PhantomReference&lt;User&gt; phantomRef = new PhantomReference&lt;User&gt;(userRefObj.info(),refQueueObj); \r\n            System.out.println(&quot;4 : &quot; + phantomRef);     \r\n           \r\n    \t} \r\n    }\r\n\r\nOutput :\r\n\r\n    1 :null\r\n    Info method invoked from User class\r\n    Info method invoked from User class\r\n    2 : java.lang.ref.WeakReference@15db9742\r\n    Info method invoked from User class\r\n    3 : java.lang.ref.SoftReference@6d06d69c\r\n    Info method invoked from User class\r\n    4 : java.lang.ref.PhantomReference@7852e922\r\n\r\n**Doubt** : How do we decide which reference type to use and where exactly to use in a real world scenario ?\r\n \r\n\r\n","title":"Why Java has 4 different types of references?","body":"<p>Until today, I wasn't aware of the fact that Java has four main types of references.</p>\n<ol>\n<li><em>Strong Reference</em> : Default reference type that <code>Java</code> uses.</li>\n<li><em>Weak Reference</em> : If an object has a weak reference then <code>GC</code> reclaims this object’s memory in next run even though there is enough memory.</li>\n<li><em>Soft Reference</em> : If an object has a soft reference, then <code>GC</code> reclaims this object’s memory only when it needs some memory badly.</li>\n<li><em>Phantom Reference</em> : If an object has a phantom reference, then it's eligible for garbage collection. But, before GC, JVM puts the objects which are supposed to be garbage collected in a queue called <code>reference queue</code>.</li>\n</ol>\n<p>I understood the basic concept and I wrote a small program to understand how each of the reference types work.</p>\n<pre><code>import java.lang.ref.PhantomReference;\nimport java.lang.ref.ReferenceQueue;\nimport java.lang.ref.SoftReference;\nimport java.lang.ref.WeakReference;\n\nclass User \n{ \n    public User info() \n    { \n        System.out.println(&quot;Info method invoked from User class&quot;);\n        return null;\n    }   \n} \n\npublic class ReferencesExample \n{ \n    public static void main(String[] args) \n    { \n        //Strong Reference\n        User userRefObj = new User(); \n        System.out.println(&quot;1 :&quot; + userRefObj.info());\n\n        // Weak Reference\n        WeakReference&lt;User&gt; weakref = new WeakReference&lt;User&gt;(userRefObj.info());  \n        System.out.println(&quot;2 : &quot; + weakref);\n\n        // Soft Reference    \n        SoftReference&lt;User&gt; softref = new SoftReference&lt;User&gt;(userRefObj.info());  \n        System.out.println(&quot;3 : &quot; + softref);\n\n        // Phantom Reference \n        ReferenceQueue&lt;User&gt; refQueueObj = new ReferenceQueue&lt;User&gt;(); \n        PhantomReference&lt;User&gt; phantomRef = new PhantomReference&lt;User&gt;(userRefObj.info(),refQueueObj); \n        System.out.println(&quot;4 : &quot; + phantomRef);     \n       \n    } \n}\n</code></pre>\n<p>Output :</p>\n<pre><code>1 :null\nInfo method invoked from User class\nInfo method invoked from User class\n2 : java.lang.ref.WeakReference@15db9742\nInfo method invoked from User class\n3 : java.lang.ref.SoftReference@6d06d69c\nInfo method invoked from User class\n4 : java.lang.ref.PhantomReference@7852e922\n</code></pre>\n<p><strong>Doubt</strong> : How do we decide which reference type to use and where exactly to use in a real world scenario ?</p>\n"},{"tags":["java","string","oop","stringbuilder"],"answers":[{"comments":[{"owner":{"display_name":"user177800"},"score":2,"creation_date":1275623310,"post_id":2971323,"comment_id":3031357,"body_markdown":"this is a really bad example. Initializing the StringBuilder with &quot; Dear &quot; means the first .append() will cause a reallocation and copy. Completely negating any efficiency that you are trying to gain over &quot;normal&quot; concatenation. A better example would to be to create it with a initial size that will hold the entire contents of the final String.","body":"this is a really bad example. Initializing the StringBuilder with &quot; Dear &quot; means the first .append() will cause a reallocation and copy. Completely negating any efficiency that you are trying to gain over &quot;normal&quot; concatenation. A better example would to be to create it with a initial size that will hold the entire contents of the final String."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1275625107,"post_id":2971323,"comment_id":3031469,"body_markdown":"It is NOT generally a good practice to use a `StringBuilder` to do String concatenation on the right-hand side of the assignment.  Any good implementation will use a StringBuilder behind the scenes as you say.  Furthermore, your example of `&quot;a&quot; + &quot;b&quot;` would be compiled into a single literal `&quot;ab&quot;` but if you used `StringBuilder` it would result in two needless calls to `append()`.","body":"It is NOT generally a good practice to use a <code>StringBuilder</code> to do String concatenation on the right-hand side of the assignment.  Any good implementation will use a StringBuilder behind the scenes as you say.  Furthermore, your example of <code>&quot;a&quot; + &quot;b&quot;</code> would be compiled into a single literal <code>&quot;ab&quot;</code> but if you used <code>StringBuilder</code> it would result in two needless calls to <code>append()</code>."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1275669618,"post_id":2971323,"comment_id":3036389,"body_markdown":"@Mark I didn&#39;t mean to use `&quot;a&quot;+&quot;b&quot;` but to say what was a *String concatenation* about I change it to be explicit. What you don&#39;t say is, why is not a good practice to do it. That&#39;s exactly what ( a modern ) compiler does. @fuzzy, I agree, specially when you know what the size of the final string would be ( aprox ) .","body":"@Mark I didn&#39;t mean to use <code>&quot;a&quot;+&quot;b&quot;</code> but to say what was a <i>String concatenation</i> about I change it to be explicit. What you don&#39;t say is, why is not a good practice to do it. That&#39;s exactly what ( a modern ) compiler does. @fuzzy, I agree, specially when you know what the size of the final string would be ( aprox ) ."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1275670691,"post_id":2971323,"comment_id":3036579,"body_markdown":"I don&#39;t think it&#39;s particularly *bad* practice, but I certainly wouldn&#39;t want any recommendation to do that in general.  It&#39;s clunky and hard to read, and overly verbose.  Plus, it encourages mistakes like yours where you are breaking up two literals that could otherwise be compiled as one.  Only if profiling told me it made a difference would I do it your way.","body":"I don&#39;t think it&#39;s particularly <i>bad</i> practice, but I certainly wouldn&#39;t want any recommendation to do that in general.  It&#39;s clunky and hard to read, and overly verbose.  Plus, it encourages mistakes like yours where you are breaking up two literals that could otherwise be compiled as one.  Only if profiling told me it made a difference would I do it your way."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1275670980,"post_id":2971323,"comment_id":3036625,"body_markdown":"@Mark Got it. I was thinking more in the *&quot;big chunk of code like a template&quot;* and not really in every regular string literal. But yes, I agree, since they do the same thing nowadays, it doesn&#39;t make sense ( 10 yrs ago was a reason to reject a change in a code revision ) :)","body":"@Mark Got it. I was thinking more in the <i>&quot;big chunk of code like a template&quot;</i> and not really in every regular string literal. But yes, I agree, since they do the same thing nowadays, it doesn&#39;t make sense ( 10 yrs ago was a reason to reject a change in a code revision ) :)"}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":5,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1275670054,"creation_date":1275622255,"answer_id":2971323,"question_id":2971315,"body_markdown":"Do you mean, for concatenation?\r\n\r\n\r\nReal world example:  *You want to create a new string out of many others*. \r\n\r\nFor instance to send a message:\r\n\r\nString\r\n\r\n    String s = &quot;Dear &quot; + user.name + &quot;&lt;br&gt;&quot; + \r\n    &quot; I saw your profile and got interested in you.&lt;br&gt;&quot; +\r\n    &quot; I&#39;m  &quot; + user.age + &quot;yrs. old too&quot;\r\n    \r\nStringBuilder\r\n\r\n    String s = new StringBuilder().append.(&quot;Dear &quot;).append( user.name ).append( &quot;&lt;br&gt;&quot; ) \r\n              .append(&quot; I saw your profile and got interested in you.&lt;br&gt;&quot;) \r\n              .append(&quot; I&#39;m  &quot; ).append( user.age ).append( &quot;yrs. old too&quot;)\r\n              .toString()\r\n\r\n Or \r\n    \r\n\r\n    String s = new StringBuilder(100).appe..... etc. ...\r\n    // The difference is a size of 100 will be allocated upfront as  fuzzy lollipop points out.\r\n    \r\nStringBuffer ( the syntax is exactly as with StringBuilder, the effects differ )  \r\n\r\n\r\nAbout\r\n\r\n`StringBuffer` vs. `StringBuilder` \r\n\r\n\r\nThe former is synchonized and later is not. \r\n\r\nSo, if you invoke it several times in a single thread ( which is 90% of the cases ),  `StringBuilder` will run **much** faster because it won&#39;t stop to see if it owns the thread lock. \r\n\r\nSo, it is recommendable to use `StringBuilder` ( unless of course you have more than one thread accessing to it at the same time, which is rare  ) \r\n\r\n\r\n\r\n`String` concatenation ( *using the + operator* )  may be optimized by the compiler to use `StringBuilder` underneath, so, it not longer something to worry about, in the elder days of Java, this was something that everyone says should be avoided at all cost, because every concatenation created a new String object. Modern compilers don&#39;t do this anymore, but still it is a good practice to use `StringBuilder` instead just in case you use an &quot;old&quot; compiler.\r\n\r\n**edit**\r\n\r\nJust for who is curious, this is what the compiler does for this class:\r\n\r\n\r\n    class StringConcatenation {\r\n        int x;\r\n        String literal = &quot;Value is&quot; + x;\r\n        String builder = new StringBuilder().append(&quot;Value is&quot;).append(x).toString();\r\n    }\r\n\r\njavap -c StringConcatenation\r\n\r\n    Compiled from &quot;StringConcatenation.java&quot;\r\n    class StringConcatenation extends java.lang.Object{\r\n    int x;\r\n\r\n    java.lang.String literal;\r\n\r\n    java.lang.String builder;\r\n\r\n    StringConcatenation();\r\n      Code:\r\n       0:\taload_0\r\n       1:\tinvokespecial\t#1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:\taload_0\r\n       5:\tnew\t#2; //class java/lang/StringBuilder\r\n       8:\tdup\r\n       9:\tinvokespecial\t#3; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       12:\tldc\t#4; //String Value is\r\n       14:\tinvokevirtual\t#5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       17:\taload_0\r\n       18:\tgetfield\t#6; //Field x:I\r\n       21:\tinvokevirtual\t#7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n       24:\tinvokevirtual\t#8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n       27:\tputfield\t#9; //Field literal:Ljava/lang/String;\r\n       30:\taload_0\r\n       31:\tnew\t#2; //class java/lang/StringBuilder\r\n       34:\tdup\r\n       35:\tinvokespecial\t#3; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       38:\tldc\t#4; //String Value is\r\n       40:\tinvokevirtual\t#5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       43:\taload_0\r\n       44:\tgetfield\t#6; //Field x:I\r\n       47:\tinvokevirtual\t#7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n       50:\tinvokevirtual\t#8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n       53:\tputfield\t#10; //Field builder:Ljava/lang/String;\r\n       56:\treturn\r\n\r\n    }\r\n\r\nLines numbered 5 - 27 are for the String named &quot;literal&quot;\r\n\r\nLines numbered 31-53 are for the String named &quot;builder&quot;\r\n\r\nTher&#39;s no difference, exactly the **same** code is executed for both strings.\r\n","title":"String, StringBuffer, and StringBuilder","body":"<p>Do you mean, for concatenation?</p>\n\n<p>Real world example:  <em>You want to create a new string out of many others</em>. </p>\n\n<p>For instance to send a message:</p>\n\n<p>String</p>\n\n<pre><code>String s = \"Dear \" + user.name + \"&lt;br&gt;\" + \n\" I saw your profile and got interested in you.&lt;br&gt;\" +\n\" I'm  \" + user.age + \"yrs. old too\"\n</code></pre>\n\n<p>StringBuilder</p>\n\n<pre><code>String s = new StringBuilder().append.(\"Dear \").append( user.name ).append( \"&lt;br&gt;\" ) \n          .append(\" I saw your profile and got interested in you.&lt;br&gt;\") \n          .append(\" I'm  \" ).append( user.age ).append( \"yrs. old too\")\n          .toString()\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>String s = new StringBuilder(100).appe..... etc. ...\n// The difference is a size of 100 will be allocated upfront as  fuzzy lollipop points out.\n</code></pre>\n\n<p>StringBuffer ( the syntax is exactly as with StringBuilder, the effects differ )  </p>\n\n<p>About</p>\n\n<p><code>StringBuffer</code> vs. <code>StringBuilder</code> </p>\n\n<p>The former is synchonized and later is not. </p>\n\n<p>So, if you invoke it several times in a single thread ( which is 90% of the cases ),  <code>StringBuilder</code> will run <strong>much</strong> faster because it won't stop to see if it owns the thread lock. </p>\n\n<p>So, it is recommendable to use <code>StringBuilder</code> ( unless of course you have more than one thread accessing to it at the same time, which is rare  ) </p>\n\n<p><code>String</code> concatenation ( <em>using the + operator</em> )  may be optimized by the compiler to use <code>StringBuilder</code> underneath, so, it not longer something to worry about, in the elder days of Java, this was something that everyone says should be avoided at all cost, because every concatenation created a new String object. Modern compilers don't do this anymore, but still it is a good practice to use <code>StringBuilder</code> instead just in case you use an \"old\" compiler.</p>\n\n<p><strong>edit</strong></p>\n\n<p>Just for who is curious, this is what the compiler does for this class:</p>\n\n<pre><code>class StringConcatenation {\n    int x;\n    String literal = \"Value is\" + x;\n    String builder = new StringBuilder().append(\"Value is\").append(x).toString();\n}\n</code></pre>\n\n<p>javap -c StringConcatenation</p>\n\n<pre><code>Compiled from \"StringConcatenation.java\"\nclass StringConcatenation extends java.lang.Object{\nint x;\n\njava.lang.String literal;\n\njava.lang.String builder;\n\nStringConcatenation();\n  Code:\n   0:   aload_0\n   1:   invokespecial   #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   aload_0\n   5:   new #2; //class java/lang/StringBuilder\n   8:   dup\n   9:   invokespecial   #3; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   12:  ldc #4; //String Value is\n   14:  invokevirtual   #5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   17:  aload_0\n   18:  getfield    #6; //Field x:I\n   21:  invokevirtual   #7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n   24:  invokevirtual   #8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   27:  putfield    #9; //Field literal:Ljava/lang/String;\n   30:  aload_0\n   31:  new #2; //class java/lang/StringBuilder\n   34:  dup\n   35:  invokespecial   #3; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   38:  ldc #4; //String Value is\n   40:  invokevirtual   #5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   43:  aload_0\n   44:  getfield    #6; //Field x:I\n   47:  invokevirtual   #7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n   50:  invokevirtual   #8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   53:  putfield    #10; //Field builder:Ljava/lang/String;\n   56:  return\n\n}\n</code></pre>\n\n<p>Lines numbered 5 - 27 are for the String named \"literal\"</p>\n\n<p>Lines numbered 31-53 are for the String named \"builder\"</p>\n\n<p>Ther's no difference, exactly the <strong>same</strong> code is executed for both strings.</p>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275622362,"creation_date":1275622362,"answer_id":2971331,"question_id":2971315,"body_markdown":"Also, `StringBuffer` is thread-safe, which `StringBuilder` is not.\r\n\r\nSo in a real-time situation when different threads are accessing it, `StringBuilder` could have an undeterministic result.","title":"String, StringBuffer, and StringBuilder","body":"<p>Also, <code>StringBuffer</code> is thread-safe, which <code>StringBuilder</code> is not.</p>\n\n<p>So in a real-time situation when different threads are accessing it, <code>StringBuilder</code> could have an undeterministic result.</p>\n"},{"comments":[{"owner":{"display_name":"user177800"},"score":2,"creation_date":1275625299,"post_id":2971332,"comment_id":3031484,"body_markdown":"concise, but incomplete, it misses the fundamental reason to use StringBuilder/Buffer and that is to reduce or eliminate the re-allocation and array copy of the regular String concatenation behavior.","body":"concise, but incomplete, it misses the fundamental reason to use StringBuilder/Buffer and that is to reduce or eliminate the re-allocation and array copy of the regular String concatenation behavior."},{"owner":{"account_id":17457,"reputation":987,"user_id":39084,"accept_rate":86,"display_name":"fooMonster"},"score":1,"creation_date":1312381481,"post_id":2971332,"comment_id":8254701,"body_markdown":"&quot;You use String when you are dealing with immutable strings&quot; - doesn&#39;t make sense.  Instances of String ARE immutable, so maybe the comment should read &quot;Use String when the memory usage due to immutability doesn&#39;t matter&quot;.  The accepted answer covers it&#39;s bases pretty well.","body":"&quot;You use String when you are dealing with immutable strings&quot; - doesn&#39;t make sense.  Instances of String ARE immutable, so maybe the comment should read &quot;Use String when the memory usage due to immutability doesn&#39;t matter&quot;.  The accepted answer covers it&#39;s bases pretty well."}],"tags":[],"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"comment_count":2,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1312381986,"creation_date":1275622384,"answer_id":2971332,"question_id":2971315,"body_markdown":"  * You use [`String`][1] when an immutable structure is appropriate; obtaining a new character sequence from a `String` may carry an unacceptable performance penalty, either in CPU time or memory (obtaining substrings is CPU efficient because the data is not copied, but this means a potentially much larger amount of data may remain allocated).\r\n  * You use [`StringBuilder`][2] when you need to create a mutable character sequence, usually to concatenate several character sequences together.\r\n  * You use [`StringBuffer`][3] in the same circumstances you would use `StringBuilder`, but when changes to the underlying string must be synchronized (because several threads are reading/modifyind the string buffer).\r\n\r\nSee an example [here][4].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/StringBuffer.html\r\n  [4]: http://java.sun.com/docs/books/tutorial/java/data/buffers.html","title":"String, StringBuffer, and StringBuilder","body":"<ul>\n<li>You use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String</code></a> when an immutable structure is appropriate; obtaining a new character sequence from a <code>String</code> may carry an unacceptable performance penalty, either in CPU time or memory (obtaining substrings is CPU efficient because the data is not copied, but this means a potentially much larger amount of data may remain allocated).</li>\n<li>You use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>StringBuilder</code></a> when you need to create a mutable character sequence, usually to concatenate several character sequences together.</li>\n<li>You use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\"><code>StringBuffer</code></a> in the same circumstances you would use <code>StringBuilder</code>, but when changes to the underlying string must be synchronized (because several threads are reading/modifyind the string buffer).</li>\n</ul>\n\n<p>See an example <a href=\"http://java.sun.com/docs/books/tutorial/java/data/buffers.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":136676,"reputation":848,"user_id":340335,"accept_rate":94,"display_name":"Pieter van Niekerk"},"score":18,"creation_date":1275640080,"post_id":2971343,"comment_id":3032514,"body_markdown":"Also, using String for logic operations is rather slow, and is not advised at all, since the JVM converts the String to a StringBuffer in the bytecode. A lot of overhead is wasted converting from String to StringBuffer and then back to String again.","body":"Also, using String for logic operations is rather slow, and is not advised at all, since the JVM converts the String to a StringBuffer in the bytecode. A lot of overhead is wasted converting from String to StringBuffer and then back to String again."},{"owner":{"account_id":315063,"reputation":675,"user_id":630623,"accept_rate":52,"display_name":"Harsh Vardhan"},"score":2,"creation_date":1399619238,"post_id":2971343,"comment_id":36148235,"body_markdown":"So in `Strings` when we alter the value another object is created. Does the old object reference is nullified so that it may be garbage collected by the `GC` or is it even garbage collected?","body":"So in <code>Strings</code> when we alter the value another object is created. Does the old object reference is nullified so that it may be garbage collected by the <code>GC</code> or is it even garbage collected?"},{"owner":{"account_id":4180297,"reputation":41806,"user_id":3425536,"accept_rate":72,"display_name":"Emil Laine"},"score":0,"creation_date":1443523118,"post_id":2971343,"comment_id":53517937,"body_markdown":"@PietervanNiekerk What do you mean with logic operations?","body":"@PietervanNiekerk What do you mean with logic operations?"},{"owner":{"account_id":4686177,"reputation":431,"user_id":3793528,"accept_rate":36,"display_name":"JavaDragon"},"score":0,"creation_date":1466150254,"post_id":2971343,"comment_id":63207620,"body_markdown":"logic operations i mean are basic String ones, Now one thing I would like to ask, as stated by @Peter should we start using StringBuffer instead on String in all cases or there are some specific cases?","body":"logic operations i mean are basic String ones, Now one thing I would like to ask, as stated by @Peter should we start using StringBuffer instead on String in all cases or there are some specific cases?"},{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":0,"creation_date":1476984818,"post_id":2971343,"comment_id":67590644,"body_markdown":"@bakkal Can I use all the methods of `String` with `StringBuilder`?","body":"@bakkal Can I use all the methods of <code>String</code> with <code>StringBuilder</code>?"}],"tags":[],"owner":{"account_id":85644,"reputation":54700,"user_id":238639,"display_name":"bakkal"},"comment_count":5,"down_vote_count":0,"up_vote_count":397,"is_accepted":true,"score":397,"last_activity_date":1363728384,"creation_date":1275622513,"answer_id":2971343,"question_id":2971315,"body_markdown":"**Mutability Difference:**\r\n\r\n`String` is **immutable**, if you try to alter their values, another object gets created, whereas `StringBuffer` and `StringBuilder` are **mutable** so they can change their values.\r\n\r\n**Thread-Safety Difference:**\r\n\r\nThe difference between `StringBuffer` and `StringBuilder` is that `StringBuffer` is thread-safe. So when the application needs to be run only in a single thread then it is better to use `StringBuilder`. `StringBuilder` is more efficient than `StringBuffer`.\r\n\r\n**Situations:**\r\n\r\n - If your string is not going to change use a String class because a `String` object is immutable.\r\n - If your string can change (example: lots of logic and operations in the construction of the string) and will only be accessed from a single thread, using a `StringBuilder` is good enough.\r\n - If your string can change, and will be accessed from multiple threads, use a `StringBuffer` because `StringBuffer` is synchronous so you have thread-safety.\r\n","title":"String, StringBuffer, and StringBuilder","body":"<p><strong>Mutability Difference:</strong></p>\n\n<p><code>String</code> is <strong>immutable</strong>, if you try to alter their values, another object gets created, whereas <code>StringBuffer</code> and <code>StringBuilder</code> are <strong>mutable</strong> so they can change their values.</p>\n\n<p><strong>Thread-Safety Difference:</strong></p>\n\n<p>The difference between <code>StringBuffer</code> and <code>StringBuilder</code> is that <code>StringBuffer</code> is thread-safe. So when the application needs to be run only in a single thread then it is better to use <code>StringBuilder</code>. <code>StringBuilder</code> is more efficient than <code>StringBuffer</code>.</p>\n\n<p><strong>Situations:</strong></p>\n\n<ul>\n<li>If your string is not going to change use a String class because a <code>String</code> object is immutable.</li>\n<li>If your string can change (example: lots of logic and operations in the construction of the string) and will only be accessed from a single thread, using a <code>StringBuilder</code> is good enough.</li>\n<li>If your string can change, and will be accessed from multiple threads, use a <code>StringBuffer</code> because <code>StringBuffer</code> is synchronous so you have thread-safety.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":66461,"reputation":61196,"user_id":194940,"accept_rate":73,"display_name":"Matt Greer"},"score":1,"creation_date":1275623923,"post_id":2971355,"comment_id":3031394,"body_markdown":"Does `String x = &quot;A&quot; + &quot;B&quot;;` really compile to be a StringBuilder? Why wouldn&#39;t it just compile to `String x = &quot;AB&quot;;`, it should only use a StringBuilder if the components aren&#39;t known at compile time.","body":"Does <code>String x = &quot;A&quot; + &quot;B&quot;;</code> really compile to be a StringBuilder? Why wouldn&#39;t it just compile to <code>String x = &quot;AB&quot;;</code>, it should only use a StringBuilder if the components aren&#39;t known at compile time."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1275624395,"post_id":2971355,"comment_id":3031426,"body_markdown":"it might optimize the String constants out, I can&#39;t recall from the last time decompiled the byte code, but I do know that if there are any variables in there it will use a StringBuilder implementation for sure. You can download the JDK source code and find out yourself. &quot;A&quot; + &quot;B&quot; is a contrived example for sure.","body":"it might optimize the String constants out, I can&#39;t recall from the last time decompiled the byte code, but I do know that if there are any variables in there it will use a StringBuilder implementation for sure. You can download the JDK source code and find out yourself. &quot;A&quot; + &quot;B&quot; is a contrived example for sure."},{"owner":{"account_id":77907,"reputation":2483,"user_id":222090,"accept_rate":92,"display_name":"jamiebarrow"},"score":0,"creation_date":1286534265,"post_id":2971355,"comment_id":4142067,"body_markdown":"I was wondering about String.format(). I haven&#39;t ever really seen it being used in projects. Usually it&#39;s the StringBuilder. Well, usually it&#39;s actually &quot;A&quot; + &quot;B&quot; + &quot;C&quot; because people are lazy ;) I tended to always use a StringBuilder, even if it was only two strings being concatenated, because in future, perhaps more strings would be appended. I never used String.format() mainly because I never remembered what JDK it was introduced - I see it&#39;s JDK1.5, I&#39;d use it in favour of the other options.","body":"I was wondering about String.format(). I haven&#39;t ever really seen it being used in projects. Usually it&#39;s the StringBuilder. Well, usually it&#39;s actually &quot;A&quot; + &quot;B&quot; + &quot;C&quot; because people are lazy ;) I tended to always use a StringBuilder, even if it was only two strings being concatenated, because in future, perhaps more strings would be appended. I never used String.format() mainly because I never remembered what JDK it was introduced - I see it&#39;s JDK1.5, I&#39;d use it in favour of the other options."}],"tags":[],"owner":{"display_name":"user177800"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1474130945,"creation_date":1275622677,"answer_id":2971355,"question_id":2971315,"body_markdown":"**The Basics:**\r\n\r\n`String` is an immutable class, it can&#39;t be changed.\r\n[`StringBuilder`][1] is a mutable class that can be appended to, characters replaced or removed and ultimately converted to a `String`\r\n`StringBuffer` is the original synchronized version of `StringBuilder`\r\n\r\nYou should prefer `StringBuilder` in all cases where you have only a single thread accessing your object.\r\n\r\n**The Details:**\r\n\r\nAlso note that `StringBuilder/Buffers` aren&#39;t magic, they just use an Array as a backing object and that Array has to be re-allocated when ever it gets full. Be sure and create your `StringBuilder/Buffer` objects large enough originally where they don&#39;t have to be constantly re-sized every time `.append()` gets called.\r\n\r\nThe re-sizing can get very degenerate. It basically re-sizes the backing Array to 2 times its current size every time it needs to be expanded. This can result in large amounts of RAM getting allocated and not used when `StringBuilder/Buffer` classes start to grow large.\r\n\r\nIn Java `String x = &quot;A&quot; + &quot;B&quot;;` uses a `StringBuilder` behind the scenes. So for simple cases there is no benefit of declaring your own. But if you are building `String` objects that are large, say less than 4k, then declaring `StringBuilder sb = StringBuilder(4096);` is much more efficient than concatenation or using the [default constructor][2] which is only 16 characters. If your `String` is going to be less than 10k then initialize it with the constructor to 10k to be safe. But if it is initialize to 10k then you write 1 character more than 10k, it will get re-allocated and copied to a 20k array. So initializing high is better than to low.\r\n\r\nIn the auto re-size case, at the 17th character the backing Array gets re-allocated and copied to 32 characters, at the 33th character this happens again and you get to re-allocated and copy the Array into 64 characters. You can see how this degenerates to __lots__ of re-allocations and copies which is what you really are trying to avoid using `StringBuilder/Buffer` in the first place.\r\n\r\nThis is from the JDK 6 Source code for AbstractStringBuilder\r\n\r\n       void expandCapacity(int minimumCapacity) {\r\n    \tint newCapacity = (value.length + 1) * 2;\r\n            if (newCapacity &lt; 0) {\r\n                newCapacity = Integer.MAX_VALUE;\r\n            } else if (minimumCapacity &gt; newCapacity) {\r\n    \t    newCapacity = minimumCapacity;\r\n    \t}\r\n            value = Arrays.copyOf(value, newCapacity);\r\n        }\r\n\r\nA best practice is to initialize the `StringBuilder/Buffer` a little bit larger than you think you are going to need if you don&#39;t know right off hand how big the `String` will be but you can guess. One allocation of slightly more memory than you need is going to be better than lots of re-allocations and copies.\r\n\r\nAlso beware of initializing a `StringBuilder/Buffer` with a `String` as that will only allocated the size of the String + 16 characters, which in most cases will just start the degenerate re-allocation and copy cycle that you are trying to avoid. The following is straight from the Java 6 source code.\r\n\r\n    public StringBuilder(String str) {\r\n    \tsuper(str.length() + 16);\r\n    \tappend(str);\r\n        }\r\n\r\nIf you by chance do end up with an instance of `StringBuilder/Buffer` that you didn&#39;t create and can&#39;t control the constructor that is called, there is a way to avoid the degenerate re-allocate and copy behavior. Call [`.ensureCapacity()`][3] with the size you want to ensure your resulting `String` will fit into.\r\n\r\n**The Alternatives:**\r\n\r\nJust as a note, if you are doing really __heavy__ `String` building and manipulation, there is a much more performance oriented alternative called [Ropes][4].\r\n\r\nAnother alternative, is to create a `StringList` implemenation by sub-classing `ArrayList&lt;String&gt;`, and adding counters to track the number of characters on every `.append()` and other mutation operations of the list, then override `.toString()` to create a `StringBuilder` of the exact size you need and loop through the list and build the output, you can even make that `StringBuilder` an instance variable and &#39;cache&#39; the results of `.toString()` and only have to re-generate it when something changes.\r\n\r\nAlso don&#39;t  forget about `String.format()` when building fixed formatted output, which can be optimized by the compiler as they make it better.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#StringBuilder--\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#ensureCapacity-int-\r\n  [4]: http://ahmadsoft.org/ropes/","title":"String, StringBuffer, and StringBuilder","body":"<p><strong>The Basics:</strong></p>\n\n<p><code>String</code> is an immutable class, it can't be changed.\n<a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>StringBuilder</code></a> is a mutable class that can be appended to, characters replaced or removed and ultimately converted to a <code>String</code>\n<code>StringBuffer</code> is the original synchronized version of <code>StringBuilder</code></p>\n\n<p>You should prefer <code>StringBuilder</code> in all cases where you have only a single thread accessing your object.</p>\n\n<p><strong>The Details:</strong></p>\n\n<p>Also note that <code>StringBuilder/Buffers</code> aren't magic, they just use an Array as a backing object and that Array has to be re-allocated when ever it gets full. Be sure and create your <code>StringBuilder/Buffer</code> objects large enough originally where they don't have to be constantly re-sized every time <code>.append()</code> gets called.</p>\n\n<p>The re-sizing can get very degenerate. It basically re-sizes the backing Array to 2 times its current size every time it needs to be expanded. This can result in large amounts of RAM getting allocated and not used when <code>StringBuilder/Buffer</code> classes start to grow large.</p>\n\n<p>In Java <code>String x = \"A\" + \"B\";</code> uses a <code>StringBuilder</code> behind the scenes. So for simple cases there is no benefit of declaring your own. But if you are building <code>String</code> objects that are large, say less than 4k, then declaring <code>StringBuilder sb = StringBuilder(4096);</code> is much more efficient than concatenation or using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#StringBuilder--\" rel=\"noreferrer\">default constructor</a> which is only 16 characters. If your <code>String</code> is going to be less than 10k then initialize it with the constructor to 10k to be safe. But if it is initialize to 10k then you write 1 character more than 10k, it will get re-allocated and copied to a 20k array. So initializing high is better than to low.</p>\n\n<p>In the auto re-size case, at the 17th character the backing Array gets re-allocated and copied to 32 characters, at the 33th character this happens again and you get to re-allocated and copy the Array into 64 characters. You can see how this degenerates to <strong>lots</strong> of re-allocations and copies which is what you really are trying to avoid using <code>StringBuilder/Buffer</code> in the first place.</p>\n\n<p>This is from the JDK 6 Source code for AbstractStringBuilder</p>\n\n<pre><code>   void expandCapacity(int minimumCapacity) {\n    int newCapacity = (value.length + 1) * 2;\n        if (newCapacity &lt; 0) {\n            newCapacity = Integer.MAX_VALUE;\n        } else if (minimumCapacity &gt; newCapacity) {\n        newCapacity = minimumCapacity;\n    }\n        value = Arrays.copyOf(value, newCapacity);\n    }\n</code></pre>\n\n<p>A best practice is to initialize the <code>StringBuilder/Buffer</code> a little bit larger than you think you are going to need if you don't know right off hand how big the <code>String</code> will be but you can guess. One allocation of slightly more memory than you need is going to be better than lots of re-allocations and copies.</p>\n\n<p>Also beware of initializing a <code>StringBuilder/Buffer</code> with a <code>String</code> as that will only allocated the size of the String + 16 characters, which in most cases will just start the degenerate re-allocation and copy cycle that you are trying to avoid. The following is straight from the Java 6 source code.</p>\n\n<pre><code>public StringBuilder(String str) {\n    super(str.length() + 16);\n    append(str);\n    }\n</code></pre>\n\n<p>If you by chance do end up with an instance of <code>StringBuilder/Buffer</code> that you didn't create and can't control the constructor that is called, there is a way to avoid the degenerate re-allocate and copy behavior. Call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#ensureCapacity-int-\" rel=\"noreferrer\"><code>.ensureCapacity()</code></a> with the size you want to ensure your resulting <code>String</code> will fit into.</p>\n\n<p><strong>The Alternatives:</strong></p>\n\n<p>Just as a note, if you are doing really <strong>heavy</strong> <code>String</code> building and manipulation, there is a much more performance oriented alternative called <a href=\"http://ahmadsoft.org/ropes/\" rel=\"noreferrer\">Ropes</a>.</p>\n\n<p>Another alternative, is to create a <code>StringList</code> implemenation by sub-classing <code>ArrayList&lt;String&gt;</code>, and adding counters to track the number of characters on every <code>.append()</code> and other mutation operations of the list, then override <code>.toString()</code> to create a <code>StringBuilder</code> of the exact size you need and loop through the list and build the output, you can even make that <code>StringBuilder</code> an instance variable and 'cache' the results of <code>.toString()</code> and only have to re-generate it when something changes.</p>\n\n<p>Also don't  forget about <code>String.format()</code> when building fixed formatted output, which can be optimized by the compiler as they make it better.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275639097,"creation_date":1275639097,"answer_id":2972441,"question_id":2971315,"body_markdown":"Note that if you are using Java 5 or newer, you should use `StringBuilder` instead of `StringBuffer`. From the API documentation:\r\n\r\n&gt; As of release JDK 5, this class has been supplemented with an equivalent class designed for use by a single thread, `StringBuilder`. The `StringBuilder` class should generally be used in preference to this one, as it supports all of the same operations but it is faster, as it performs no synchronization.\r\n\r\nIn practice, you will almost never use this from multiple threads at the same time, so the synchronization that `StringBuffer` does is almost always unnecessary overhead.","title":"String, StringBuffer, and StringBuilder","body":"<p>Note that if you are using Java 5 or newer, you should use <code>StringBuilder</code> instead of <code>StringBuffer</code>. From the API documentation:</p>\n\n<blockquote>\n  <p>As of release JDK 5, this class has been supplemented with an equivalent class designed for use by a single thread, <code>StringBuilder</code>. The <code>StringBuilder</code> class should generally be used in preference to this one, as it supports all of the same operations but it is faster, as it performs no synchronization.</p>\n</blockquote>\n\n<p>In practice, you will almost never use this from multiple threads at the same time, so the synchronization that <code>StringBuffer</code> does is almost always unnecessary overhead.</p>\n"},{"tags":[],"owner":{"account_id":91845,"reputation":258335,"user_id":252000,"accept_rate":95,"display_name":"fredoverflow"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1275817597,"creation_date":1275817597,"answer_id":2983748,"question_id":2971315,"body_markdown":"Personally, I don&#39;t think there is any real world use for `StringBuffer`. When would I ever want to communicate between multiple threads by manipulating a character sequence? That doesn&#39;t sound useful at all, but maybe I have yet to see the light :)","title":"String, StringBuffer, and StringBuilder","body":"<p>Personally, I don't think there is any real world use for <code>StringBuffer</code>. When would I ever want to communicate between multiple threads by manipulating a character sequence? That doesn't sound useful at all, but maybe I have yet to see the light :)</p>\n"},{"tags":[],"owner":{"account_id":2522151,"reputation":153,"user_id":2192303,"display_name":"rajat ghai"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405111526,"creation_date":1405111526,"answer_id":24706276,"question_id":2971315,"body_markdown":"In java, **String** is immutable. Being immutable we mean that once a String is created, we can not change its value. \r\n**StringBuffer** is mutable. Once a StringBuffer object is created, we just append the content to the value of object instead of creating a new object.\r\n**StringBuilder** is similar to StringBuffer but it is not thread-safe. Methods of StingBuilder are not synchronized but in comparison to other Strings, the Stringbuilder runs fastest. \r\nYou can learn difference between [String, StringBuilder and StringBuffer][1] by implementing them.\r\n\r\n\r\n  [1]: https://kb4dev.com/tutorial/java/string,-stringbuffer-and-stringbuilder","title":"String, StringBuffer, and StringBuilder","body":"<p>In java, <strong>String</strong> is immutable. Being immutable we mean that once a String is created, we can not change its value. \n<strong>StringBuffer</strong> is mutable. Once a StringBuffer object is created, we just append the content to the value of object instead of creating a new object.\n<strong>StringBuilder</strong> is similar to StringBuffer but it is not thread-safe. Methods of StingBuilder are not synchronized but in comparison to other Strings, the Stringbuilder runs fastest. \nYou can learn difference between <a href=\"https://kb4dev.com/tutorial/java/string,-stringbuffer-and-stringbuilder\" rel=\"nofollow\">String, StringBuilder and StringBuffer</a> by implementing them.</p>\n"},{"tags":[],"owner":{"account_id":4961451,"reputation":1211,"user_id":3992420,"accept_rate":50,"display_name":"Hitesh Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409885114,"creation_date":1409885114,"answer_id":25677937,"question_id":2971315,"body_markdown":"Difference between String and the other two classes is that String is immutable and the other two are mutable classes.\r\n\r\n**But why we have two classes for same purpose?**\r\n\r\nReason is that `StringBuffer` is Thread safe and `StringBuilder` is not.\r\n`StringBuilder` is a new class on `StringBuffer Api` and it was introduced in `JDK5` and is always recommended if you are working in a Single threaded environment as it is much `Faster`\r\n\r\nFor complete Details you can read &lt;http://www.codingeek.com/java/stringbuilder-and-stringbuffer-a-way-to-create-mutable-strings-in-java/&gt;","title":"String, StringBuffer, and StringBuilder","body":"<p>Difference between String and the other two classes is that String is immutable and the other two are mutable classes.</p>\n\n<p><strong>But why we have two classes for same purpose?</strong></p>\n\n<p>Reason is that <code>StringBuffer</code> is Thread safe and <code>StringBuilder</code> is not.\n<code>StringBuilder</code> is a new class on <code>StringBuffer Api</code> and it was introduced in <code>JDK5</code> and is always recommended if you are working in a Single threaded environment as it is much <code>Faster</code></p>\n\n<p>For complete Details you can read <a href=\"http://www.codingeek.com/java/stringbuilder-and-stringbuffer-a-way-to-create-mutable-strings-in-java/\" rel=\"nofollow\">http://www.codingeek.com/java/stringbuilder-and-stringbuffer-a-way-to-create-mutable-strings-in-java/</a></p>\n"},{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1540897217,"post_id":46428351,"comment_id":93023967,"body_markdown":"Why String performance is fast and StringBuffer performance very slow?","body":"Why String performance is fast and StringBuffer performance very slow?"},{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":1,"creation_date":1556951396,"post_id":46428351,"comment_id":98609766,"body_markdown":"@gaurav you can read its source code, all methods in StringBuffer is `synchronised` and that&#39;s the *why*.","body":"@gaurav you can read its source code, all methods in StringBuffer is <code>synchronised</code> and that&#39;s the <i>why</i>."},{"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"score":0,"creation_date":1600151824,"post_id":46428351,"comment_id":112989406,"body_markdown":"Storage Area of String depends on How we are creating the String, let&#39;s say- Approach-1: String str1= &quot;ABC&quot; - The value will be stored in SCP.(it is inside Heap Memory) Approach-2: String str1= new String(&quot;ABC&quot;)- The Object will be created in Heap memory.","body":"Storage Area of String depends on How we are creating the String, let&#39;s say- Approach-1: String str1= &quot;ABC&quot; - The value will be stored in SCP.(it is inside Heap Memory) Approach-2: String str1= new String(&quot;ABC&quot;)- The Object will be created in Heap memory."}],"tags":[],"owner":{"account_id":4969434,"reputation":467,"user_id":3997743,"display_name":"Abhijit Maity"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1506433841,"creation_date":1506433841,"answer_id":46428351,"question_id":2971315,"body_markdown":"&lt;pre&gt;\r\n----------------------------------------------------------------------------------\r\n                  String                    StringBuffer         StringBuilder\r\n----------------------------------------------------------------------------------                 \r\nStorage Area | Constant String Pool         Heap                   Heap \r\nModifiable   |  No (immutable)              Yes( mutable )         Yes( mutable )\r\nThread Safe  |      Yes                     Yes                     No\r\n Performance |     Fast                 Very slow                  Fast\r\n----------------------------------------------------------------------------------\r\n&lt;/pre&gt;","title":"String, StringBuffer, and StringBuilder","body":"<pre>\n----------------------------------------------------------------------------------\n                  String                    StringBuffer         StringBuilder\n----------------------------------------------------------------------------------                 \nStorage Area | Constant String Pool         Heap                   Heap \nModifiable   |  No (immutable)              Yes( mutable )         Yes( mutable )\nThread Safe  |      Yes                     Yes                     No\n Performance |     Fast                 Very slow                  Fast\n----------------------------------------------------------------------------------\n</pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1511503176,"creation_date":1511435293,"answer_id":47454051,"question_id":2971315,"body_markdown":"[![String Family][1]][1]\r\n\r\n**String**\r\n \r\nThe [`String class`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html) represents character strings. All string literals in Java program, such as `&quot;abc&quot;` are implemented as instances of this class.\r\n\t\r\nString objects are **immutable** once they are created we can&#39;t change. (*Strings are constants*)\r\n\r\n * If a String is created using constructor or method then those strings will be stored in ***Heap Memory*** as well as [***`SringConstantPool`***](https://stackoverflow.com/a/37785577/5081877). But before saving in pool it invokes **`intern()`** method to check object availability with same content in pool using equals method. _If String-copy is available in the Pool then returns the reference. Otherwise, String object is added to the pool and returns the reference._\r\n\r\n \t * _The Java language provides special support for the string concatenation operator (` + `), and for conversion of other objects to strings. String concatenation is implemented through the StringBuilder(or StringBuffer) class and its append method._\r\n\r\n\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n\t\tString heapSCP = new String(&quot;Yash&quot;);\r\n\t\theapSCP.concat(&quot;.&quot;);\r\n\t\theapSCP = heapSCP + &quot;M&quot;;\r\n\t\theapSCP = heapSCP + 777;\r\n\t\t\r\n\t\t// For Example: String Source Code \r\n\t\tpublic String concat(String str) {\r\n\t\t\tint otherLen = str.length();\r\n\t\t\tif (otherLen == 0) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tint len = value.length;\r\n\t\t\tchar buf[] = Arrays.copyOf(value, len + otherLen);\r\n\t\t\tstr.getChars(buf, len);\r\n\t\t\treturn new String(buf, true);\r\n\t\t}\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n * String literals are stored in `StringConstantPool`.\r\n\r\n    &lt;!-- language-all: lang-java --&gt;\r\n    \r\n        String onlyPool = &quot;Yash&quot;;\r\n            \r\n    &lt;!-- language-all: lang-java --&gt;\r\n\r\n----\r\n\r\n**[StringBuilder][2] and [StringBuffer][3]** are mutable sequence of characters. That means one can change the value of these object&#39;s. StringBuffer has the same methods as the StringBuilder, but each method in StringBuffer is synchronized so it is thread safe.\r\n\r\n* StringBuffer and StringBuilder data can only be created using new operator. So, they get stored in Heap memory.\r\n\r\n* ***Instances of StringBuilder are not safe for use by multiple threads. If such synchronization is required then it is recommended that StringBuffer be used.***\r\n\r\n    &lt;!-- language-all: lang-java --&gt;\r\n\r\n\t\tStringBuffer threadSafe = new StringBuffer(&quot;Yash&quot;);\r\n\t\tthreadSafe.append(&quot;.M&quot;);\r\n\t\tthreadSafe.toString();\r\n\t\t\r\n\t\tStringBuilder nonSync = new StringBuilder(&quot;Yash&quot;);\r\n\t\tnonSync.append(&quot;.M&quot;);\r\n\t\tnonSync.toString();\r\n\r\n    &lt;!-- language-all: lang-java --&gt;\r\n\r\n\r\n* StringBuffer and StringBuilder are having a Special methods like.,\r\n`replace(int start, int end, String str)` and `reverse()`.\r\n\r\n   &gt; **NOTE**: StringBuffer and SringBuilder are mutable as they provides the implementation of `Appendable Interface`.\r\n\r\n-----\r\n\r\nWhen to use which one.\r\n\r\n * If a you are not going to change the value every time then its better to Use `String Class`. As part of Generics if you want to Sort [`Comparable&lt;T&gt;`](https://stackoverflow.com/a/31244596/5081877) or compare a values then go for `String Class`.\r\n\r\n    &lt;!-- language: lang-java --&gt;\r\n    \r\n\t\t//ClassCastException: java.lang.StringBuffer cannot be cast to java.lang.Comparable\r\n\t\tSet&lt;StringBuffer&gt; set = new TreeSet&lt;StringBuffer&gt;();\r\n\t\tset.add( threadSafe );\r\n\t\tSystem.out.println(&quot;Set : &quot;+ set);\r\n            \r\n    &lt;!-- language: lang-java --&gt;\r\n\r\n * If you are going to modify the value every time the go for StringBuilder which is faster than StringBuffer. If multiple threads are modifying the value the go for StringBuffer.\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1S4Mz.png\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html","title":"String, StringBuffer, and StringBuilder","body":"<p><a href=\"https://i.stack.imgur.com/1S4Mz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1S4Mz.png\" alt=\"String Family\"></a></p>\n\n<p><strong>String</strong></p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String class</code></a> represents character strings. All string literals in Java program, such as <code>\"abc\"</code> are implemented as instances of this class.</p>\n\n<p>String objects are <strong>immutable</strong> once they are created we can't change. (<em>Strings are constants</em>)</p>\n\n<ul>\n<li><p>If a String is created using constructor or method then those strings will be stored in <strong><em>Heap Memory</em></strong> as well as <a href=\"https://stackoverflow.com/a/37785577/5081877\"><strong><em><code>SringConstantPool</code></em></strong></a>. But before saving in pool it invokes <strong><code>intern()</code></strong> method to check object availability with same content in pool using equals method. <em>If String-copy is available in the Pool then returns the reference. Otherwise, String object is added to the pool and returns the reference.</em></p>\n\n<ul>\n<li><em>The Java language provides special support for the string concatenation operator (<code>+</code>), and for conversion of other objects to strings. String concatenation is implemented through the StringBuilder(or StringBuffer) class and its append method.</em></li>\n</ul>\n\n<p></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String heapSCP = new String(\"Yash\");\nheapSCP.concat(\".\");\nheapSCP = heapSCP + \"M\";\nheapSCP = heapSCP + 777;\n\n// For Example: String Source Code \npublic String concat(String str) {\n    int otherLen = str.length();\n    if (otherLen == 0) {\n        return this;\n    }\n    int len = value.length;\n    char buf[] = Arrays.copyOf(value, len + otherLen);\n    str.getChars(buf, len);\n    return new String(buf, true);\n}\n</code></pre>\n\n</li>\n<li><p>String literals are stored in <code>StringConstantPool</code>.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String onlyPool = \"Yash\";\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<p><strong><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\">StringBuilder</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\">StringBuffer</a></strong> are mutable sequence of characters. That means one can change the value of these object's. StringBuffer has the same methods as the StringBuilder, but each method in StringBuffer is synchronized so it is thread safe.</p>\n\n<ul>\n<li><p>StringBuffer and StringBuilder data can only be created using new operator. So, they get stored in Heap memory.</p></li>\n<li><p><strong><em>Instances of StringBuilder are not safe for use by multiple threads. If such synchronization is required then it is recommended that StringBuffer be used.</em></strong></p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>StringBuffer threadSafe = new StringBuffer(\"Yash\");\nthreadSafe.append(\".M\");\nthreadSafe.toString();\n\nStringBuilder nonSync = new StringBuilder(\"Yash\");\nnonSync.append(\".M\");\nnonSync.toString();\n</code></pre>\n\n</li>\n<li><p>StringBuffer and StringBuilder are having a Special methods like.,\n<code>replace(int start, int end, String str)</code> and <code>reverse()</code>.</p>\n\n<blockquote>\n  <p><strong>NOTE</strong>: StringBuffer and SringBuilder are mutable as they provides the implementation of <code>Appendable Interface</code>.</p>\n</blockquote></li>\n</ul>\n\n<hr>\n\n<p>When to use which one.</p>\n\n<ul>\n<li><p>If a you are not going to change the value every time then its better to Use <code>String Class</code>. As part of Generics if you want to Sort <a href=\"https://stackoverflow.com/a/31244596/5081877\"><code>Comparable&lt;T&gt;</code></a> or compare a values then go for <code>String Class</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//ClassCastException: java.lang.StringBuffer cannot be cast to java.lang.Comparable\nSet&lt;StringBuffer&gt; set = new TreeSet&lt;StringBuffer&gt;();\nset.add( threadSafe );\nSystem.out.println(\"Set : \"+ set);\n</code></pre>\n\n</li>\n<li><p>If you are going to modify the value every time the go for StringBuilder which is faster than StringBuffer. If multiple threads are modifying the value the go for StringBuffer.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780414,"creation_date":1657899659,"answer_id":72996490,"question_id":2971315,"body_markdown":"Here is a small code snippet illustrating how you can break StringBuilder in an async environment\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        StringBuilder builder = new StringBuilder();\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(50);\r\n        for (int i = 0; i &lt; 1000 * 1000; i++) {\r\n            executorService.submit(new AppendRunnable(builder));\r\n        }\r\n\r\n        executorService.shutdown();\r\n        executorService.awaitTermination(1, TimeUnit.MINUTES);\r\n\r\n        Stream.of(builder.toString().split(System.lineSeparator()))\r\n            .filter(line -&gt; !line.equals(&quot;I just appended this!&quot;))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\n    record AppendRunnable(StringBuilder stringBuilder) implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            stringBuilder.append(&quot;I just appended this!\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\nEssentially we append strings to the builder and we expect that all of them are equal to &quot;I just appended this!&quot;. But they are not, some of them are prefixed with null chars because the internal char buffer of the builder is not synchronized and it gets wrongly resized. Using StringBuffer in this situation solves the problem. More detailed info [here][1]\r\n\r\n\r\n  [1]: https://medium.com/@b.stoilov/when-to-use-stringbuffer-in-java-d0a1f57e2477","title":"String, StringBuffer, and StringBuilder","body":"<p>Here is a small code snippet illustrating how you can break StringBuilder in an async environment</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    StringBuilder builder = new StringBuilder();\n\n    ExecutorService executorService = Executors.newFixedThreadPool(50);\n    for (int i = 0; i &lt; 1000 * 1000; i++) {\n        executorService.submit(new AppendRunnable(builder));\n    }\n\n    executorService.shutdown();\n    executorService.awaitTermination(1, TimeUnit.MINUTES);\n\n    Stream.of(builder.toString().split(System.lineSeparator()))\n        .filter(line -&gt; !line.equals(&quot;I just appended this!&quot;))\n        .forEach(System.out::println);\n}\n\nrecord AppendRunnable(StringBuilder stringBuilder) implements Runnable {\n\n    @Override\n    public void run() {\n        stringBuilder.append(&quot;I just appended this!\\n&quot;);\n    }\n}\n</code></pre>\n<p>Essentially we append strings to the builder and we expect that all of them are equal to &quot;I just appended this!&quot;. But they are not, some of them are prefixed with null chars because the internal char buffer of the builder is not synchronized and it gets wrongly resized. Using StringBuffer in this situation solves the problem. More detailed info <a href=\"https://medium.com/@b.stoilov/when-to-use-stringbuffer-in-java-d0a1f57e2477\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":112682,"reputation":25734,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184377,"favorite_count":0,"down_vote_count":1,"up_vote_count":225,"accepted_answer_id":2971343,"answer_count":12,"score":224,"last_activity_date":1666780414,"creation_date":1275622135,"question_id":2971315,"body_markdown":"Please tell me a real time situation to compare `String`, `StringBuffer`, and `StringBuilder`?","title":"String, StringBuffer, and StringBuilder","body":"<p>Please tell me a real time situation to compare <code>String</code>, <code>StringBuffer</code>, and <code>StringBuilder</code>?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666793694,"post_id":74206310,"comment_id":131020326,"body_markdown":"Sounds like an interesting use-case. What isn&#39;t working about the code you shared though?","body":"Sounds like an interesting use-case. What isn&#39;t working about the code you shared though?"},{"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"score":0,"creation_date":1666810182,"post_id":74206310,"comment_id":131026397,"body_markdown":"Hi Frank, Let&#39;s say I put a full link on the set of string example: &quot;www.stackoverflow.com&quot;, What happen is if a user only types www. on the EditText, no restrictions will be made. I would like my validation to work as even if a user only types www. or anything thats related to a URL, a restriction will be implemented preventing the user to post that discussion.","body":"Hi Frank, Let&#39;s say I put a full link on the set of string example: &quot;www.stackoverflow.com&quot;, What happen is if a user only types www. on the EditText, no restrictions will be made. I would like my validation to work as even if a user only types www. or anything thats related to a URL, a restriction will be implemented preventing the user to post that discussion."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666865357,"post_id":74206310,"comment_id":131038617,"body_markdown":"In that case, have you tried to add `www.` to the `items` array?","body":"In that case, have you tried to add <code>www.</code> to the <code>items</code> array?"},{"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"score":0,"creation_date":1666931740,"post_id":74206310,"comment_id":131056143,"body_markdown":"Thank you Alex, I might as well do that then.","body":"Thank you Alex, I might as well do that then."}],"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666780361,"creation_date":1666780361,"question_id":74206310,"body_markdown":"Hi I&#39;m developing a forum app for my university, now, I want to restrict users to not put links/URL and profound words when posting a discussion on the app.\r\n\r\nI have a simple validation on my EditText that says something like &quot;Please refrain yourself from posting profound words / URL&quot; if the text contains one of the strings in the set.\r\n\r\n\r\nHowever, if I only put www or idjot on the EditText, no prompt will appear and it will then store the data to Firebase Database.\r\n\r\nWhat I wanted is to validate all the possible text one by one and if the text was on the set of strings the alert dialog will appear and stop the user from posting a discussion.\r\n\r\n\r\n\r\nI have a set of strings that contains a lot of profound words that can be a possible inputs by the users.\r\n\r\nhere are the string:\r\n\r\n\r\n```\r\nString[] items = { idiot, www.youtube.com, etc...};\r\n```\r\n\r\n\r\n\r\n\r\nhere&#39;s my code for the validation:\r\n\r\n```\r\ndiscussion= discussion_description.getText().toString();\r\n\r\n\r\nif (Arrays.asList(items).contains(discussion)){\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(AddingDiscussionActivity.this);\r\n    builder.setMessage(&quot;Please refrain yourself from posting profound words / URL&quot;)\r\n            .setPositiveButton(&quot;OKAY&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                }\r\n            })\r\n    AlertDialog alert = builder.create();\r\n    alert.show();\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Restricting users to not put URL and profound words in EditText","body":"<p>Hi I'm developing a forum app for my university, now, I want to restrict users to not put links/URL and profound words when posting a discussion on the app.</p>\n<p>I have a simple validation on my EditText that says something like &quot;Please refrain yourself from posting profound words / URL&quot; if the text contains one of the strings in the set.</p>\n<p>However, if I only put www or idjot on the EditText, no prompt will appear and it will then store the data to Firebase Database.</p>\n<p>What I wanted is to validate all the possible text one by one and if the text was on the set of strings the alert dialog will appear and stop the user from posting a discussion.</p>\n<p>I have a set of strings that contains a lot of profound words that can be a possible inputs by the users.</p>\n<p>here are the string:</p>\n<pre><code>String[] items = { idiot, www.youtube.com, etc...};\n</code></pre>\n<p>here's my code for the validation:</p>\n<pre><code>discussion= discussion_description.getText().toString();\n\n\nif (Arrays.asList(items).contains(discussion)){\n    AlertDialog.Builder builder = new AlertDialog.Builder(AddingDiscussionActivity.this);\n    builder.setMessage(&quot;Please refrain yourself from posting profound words / URL&quot;)\n            .setPositiveButton(&quot;OKAY&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                }\n            })\n    AlertDialog alert = builder.create();\n    alert.show();\n}\n</code></pre>\n"},{"tags":["java","java-threads","project-loom"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1663953267,"post_id":73830966,"comment_id":130368788,"body_markdown":"Depends on the problem.   You need to understand concurrency and parallelism: https://www.geeksforgeeks.org/difference-between-concurrency-and-parallelism/#:~:text=Difference%20between%20Concurrency%20and%20Parallelism%3A%2D&amp;text=Concurrency%20is%20the%20task%20of,of%20running%20multiple%20computations%20simultaneously.","body":"Depends on the problem.   You need to understand concurrency and parallelism: <a href=\"https://www.geeksforgeeks.org/difference-between-concurrency-and-parallelism/#:~:text=Difference%20between%20Concurrency%20and%20Parallelism%3A%2D&amp;text=Concurrency%20is%20the%20task%20of,of%20running%20multiple%20computations%20simultaneously\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1663971968,"post_id":73830966,"comment_id":130373126,"body_markdown":"I suppose this hinges on what you consider significant. I would interpret this as saying that the benefits are most clear with high number of threads (where per-thread memory usage becomes a bigger concern), not that there are no benefits with fewer threads.","body":"I suppose this hinges on what you consider significant. I would interpret this as saying that the benefits are most clear with high number of threads (where per-thread memory usage becomes a bigger concern), not that there are no benefits with fewer threads."}],"answers":[{"comments":[{"owner":{"account_id":7797973,"reputation":6780,"user_id":5898421,"display_name":"Andrew Parks"},"score":0,"creation_date":1665151332,"post_id":73972183,"comment_id":130639220,"body_markdown":"I guess the answer comes down to: 50MB isn&#39;t very much memory to be concerned about if you only have 50 threads and use 1MB per thread for each thread stack. And after that, I guess the context switching overhead is really not great enough to notice for only 50 threads.","body":"I guess the answer comes down to: 50MB isn&#39;t very much memory to be concerned about if you only have 50 threads and use 1MB per thread for each thread stack. And after that, I guess the context switching overhead is really not great enough to notice for only 50 threads."}],"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665051465,"creation_date":1665051465,"answer_id":73972183,"question_id":73830966,"body_markdown":"In short: in case of 50 concurrent tasks you won&#39;t gain much by using virtual threads. They won&#39;t make things worse either - you&#39;ll just hardly notice any difference. But when the number of native threads is high, things start to change.\r\n\r\nHow high? A typical application can sustain only a several thousand threads running simultaneously (an empirical observation). Beyond that you&#39;ll most likely run out of RAM (thread stacks will take tens of gigabytes of memory), plus constant context switching will slow down your application.\r\n\r\nVirtual threads are switched in user space and their stacks are tiny (hundreds of bytes). Thus, your application will likely survive millions of them.\r\n\r\nSo, unless you have a need to big number of clients simultaneously (by big I mean hundreds and thousands), you won&#39;t benefit much from using virtual threads. Those are for monstrous I/O bound workloads. But I suggest try and measure, of course.","title":"Minimum concurrency to benefit from JDK19 virtual threads","body":"<p>In short: in case of 50 concurrent tasks you won't gain much by using virtual threads. They won't make things worse either - you'll just hardly notice any difference. But when the number of native threads is high, things start to change.</p>\n<p>How high? A typical application can sustain only a several thousand threads running simultaneously (an empirical observation). Beyond that you'll most likely run out of RAM (thread stacks will take tens of gigabytes of memory), plus constant context switching will slow down your application.</p>\n<p>Virtual threads are switched in user space and their stacks are tiny (hundreds of bytes). Thus, your application will likely survive millions of them.</p>\n<p>So, unless you have a need to big number of clients simultaneously (by big I mean hundreds and thousands), you won't benefit much from using virtual threads. Those are for monstrous I/O bound workloads. But I suggest try and measure, of course.</p>\n"},{"comments":[{"owner":{"account_id":7797973,"reputation":6780,"user_id":5898421,"display_name":"Andrew Parks"},"score":0,"creation_date":1666816620,"post_id":74205606,"comment_id":131028298,"body_markdown":"Thanks. I guess I should write my own tests to discover exactly how much of an overhead really is involved with context switches. Right now, all I have is a vague notion that there is some kind of overhead.","body":"Thanks. I guess I should write my own tests to discover exactly how much of an overhead really is involved with context switches. Right now, all I have is a vague notion that there is some kind of overhead."}],"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666780324,"creation_date":1666777092,"answer_id":74205606,"question_id":73830966,"body_markdown":"The default number of threads in one of the most popular servers (tomcat) is 200. Any number of threads above the core count will result in context switches, this includes threads that are not owned by your process.\r\n\r\nThere is overhead even for idle (sleeping) threads. The scheduler has to ping them from time to time to see if any of them needs to be awakened. This means that it is always a good idea to keep the thread count low and as close to the number of cores as possible.\r\n\r\nNo harm in using VT as mentioned by the other answers you should experiment and see how they behave in your app but don&#39;t expect any change for that tiny load\r\n\r\n","title":"Minimum concurrency to benefit from JDK19 virtual threads","body":"<p>The default number of threads in one of the most popular servers (tomcat) is 200. Any number of threads above the core count will result in context switches, this includes threads that are not owned by your process.</p>\n<p>There is overhead even for idle (sleeping) threads. The scheduler has to ping them from time to time to see if any of them needs to be awakened. This means that it is always a good idea to keep the thread count low and as close to the number of cores as possible.</p>\n<p>No harm in using VT as mentioned by the other answers you should experiment and see how they behave in your app but don't expect any change for that tiny load</p>\n"}],"owner":{"account_id":7797973,"reputation":6780,"user_id":5898421,"display_name":"Andrew Parks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73972183,"answer_count":2,"score":2,"last_activity_date":1666780324,"creation_date":1663952926,"question_id":73830966,"body_markdown":"According to [JEP 425][1], \r\n\r\n&gt; virtual threads can significantly improve application throughput when the number of concurrent tasks is high (more than a few thousand), and the workload is not CPU-bound\r\n\r\nWhy are virtual threads not helpful when the thread count is much lower than a few thousand? If I have 50 concurrent I/O-bound tasks, will I not significantly reduce CPU load by using virtual threads to eliminate heavyweight OS thread context switching?\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/425","title":"Minimum concurrency to benefit from JDK19 virtual threads","body":"<p>According to <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">JEP 425</a>,</p>\n<blockquote>\n<p>virtual threads can significantly improve application throughput when the number of concurrent tasks is high (more than a few thousand), and the workload is not CPU-bound</p>\n</blockquote>\n<p>Why are virtual threads not helpful when the thread count is much lower than a few thousand? If I have 50 concurrent I/O-bound tasks, will I not significantly reduce CPU load by using virtual threads to eliminate heavyweight OS thread context switching?</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent"],"answers":[{"comments":[{"owner":{"account_id":11610707,"reputation":277,"user_id":8505013,"accept_rate":89,"display_name":"Bas Opers"},"score":1,"creation_date":1503557975,"post_id":45842357,"comment_id":78667540,"body_markdown":"Very interesting, thank you. The term &#39;work stealing pool&#39; was indeed very useful, which made me end up to the fork join pool starting from JSE7. See https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html. This looks exactly what I needed. I&#39;ll first test it out.","body":"Very interesting, thank you. The term &#39;work stealing pool&#39; was indeed very useful, which made me end up to the fork join pool starting from JSE7. See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>. This looks exactly what I needed. I&#39;ll first test it out."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":1,"creation_date":1503558454,"post_id":45842357,"comment_id":78667835,"body_markdown":"@BasOpers You&#39;re very welcome and I&#39;m pleased to meet a fellow traveller. I tried asking this question and people who didn&#39;t understand the problem just kept saying I was over complicating a thread pool. I&#39;m already learning something that Java has this built in. In many ways library provision in C++ is in its infancy in concurrency. I&#39;d love to hear about your outcomes.","body":"@BasOpers You&#39;re very welcome and I&#39;m pleased to meet a fellow traveller. I tried asking this question and people who didn&#39;t understand the problem just kept saying I was over complicating a thread pool. I&#39;m already learning something that Java has this built in. In many ways library provision in C++ is in its infancy in concurrency. I&#39;d love to hear about your outcomes."},{"owner":{"account_id":11610707,"reputation":277,"user_id":8505013,"accept_rate":89,"display_name":"Bas Opers"},"score":1,"creation_date":1503652233,"post_id":45842357,"comment_id":78714382,"body_markdown":"I got it working with the ForkJoinPool from JSE. It&#39;s pretty straight forward. In the parent, for every child, I am forking the execution of the child to a new task. At the end of this loop, I am joining all these child executions before I return. I will now start analysis of performance. Thanks again for your insights, these were VERY helpful!","body":"I got it working with the ForkJoinPool from JSE. It&#39;s pretty straight forward. In the parent, for every child, I am forking the execution of the child to a new task. At the end of this loop, I am joining all these child executions before I return. I will now start analysis of performance. Thanks again for your insights, these were VERY helpful!"}],"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666779778,"creation_date":1503497994,"answer_id":45842357,"question_id":45839933,"body_markdown":"It is technically a deadlock.\r\nWe first think of deadlock as when two or more processes are awaiting on locks but in this case the threads are waiting on each other.\r\nInterestingly its a way of producing the strange beast of a self deadlock. If you have a pool of one thread it will submit tasks and wait on them but never execute because it&#39;s waiting on itself to finish to execute them! \r\n\r\nThe standard answer is called a &#39;Work Stealing Thread Pool&#39;.\r\nI came across exactly the same issue and without that piece of vocabulary took ages to find any information on what I quickly worked out was a common problem in any recursive algorithm that is executed in fully concurrent recursion.\r\n\r\nOK, this is a sketch of how it works.\r\nCreate a fairly standard thread-pool with one trick.\r\nWhen a thread reaches a point where it cannot proceed without the results of a queued item, check if that item has been started by another thread and if it hasn&#39;t then execute it in the current thread (rather than waiting), otherwise wait on the thread executing that item to finish it.\r\n\r\nIt&#39;s very simple but may require you to build your own thread-pool class because off-the-shelf solutions often don&#39;t support it.\r\n\r\nDo beware of course that a typical non-trivial recursive algorithm will breakdown into many more sub-tasks than you have parallel processing units.\r\nSo it may make sense to enqueue subtasks to some level and then just execute the remainder in a single thread.\r\n\r\nThat is unless enqueuing and dis-enqueuing items is cheap you can spend time putting items in a queue to take them back. Those operations may be serialised amongst the threads and reduce parallelism. It&#39;s hard to use lock-free queues because they don&#39;t usually permit extraction from the middle of the queue (as required here). You should limit how deep you go parallel.\r\n\r\nOn the plus side, notice that executing a task in the currently executing thread involves less task swapping overhead than parking the current thread and (at the OS level) swapping in another worker.\r\n\r\nHere is a Java resource that provides a `WorkStealingThreadPool`.\r\nPlease note I have made no effort to evaluate the implementation and offer no recommendation. I&#39;ve been working in C++ in this case or would happily share my `template`.\r\n\r\nhttps://www.jrebel.com/blog/using-java-executors\r\n\r\nAlso refer to what Wikipedia has to say: https://en.wikipedia.org/wiki/Work_stealing\r\n","title":"ExecutorService: how to prevent thread starvation when synchronization barriers are done in the threads","body":"<p>It is technically a deadlock.\nWe first think of deadlock as when two or more processes are awaiting on locks but in this case the threads are waiting on each other.\nInterestingly its a way of producing the strange beast of a self deadlock. If you have a pool of one thread it will submit tasks and wait on them but never execute because it's waiting on itself to finish to execute them!</p>\n<p>The standard answer is called a 'Work Stealing Thread Pool'.\nI came across exactly the same issue and without that piece of vocabulary took ages to find any information on what I quickly worked out was a common problem in any recursive algorithm that is executed in fully concurrent recursion.</p>\n<p>OK, this is a sketch of how it works.\nCreate a fairly standard thread-pool with one trick.\nWhen a thread reaches a point where it cannot proceed without the results of a queued item, check if that item has been started by another thread and if it hasn't then execute it in the current thread (rather than waiting), otherwise wait on the thread executing that item to finish it.</p>\n<p>It's very simple but may require you to build your own thread-pool class because off-the-shelf solutions often don't support it.</p>\n<p>Do beware of course that a typical non-trivial recursive algorithm will breakdown into many more sub-tasks than you have parallel processing units.\nSo it may make sense to enqueue subtasks to some level and then just execute the remainder in a single thread.</p>\n<p>That is unless enqueuing and dis-enqueuing items is cheap you can spend time putting items in a queue to take them back. Those operations may be serialised amongst the threads and reduce parallelism. It's hard to use lock-free queues because they don't usually permit extraction from the middle of the queue (as required here). You should limit how deep you go parallel.</p>\n<p>On the plus side, notice that executing a task in the currently executing thread involves less task swapping overhead than parking the current thread and (at the OS level) swapping in another worker.</p>\n<p>Here is a Java resource that provides a <code>WorkStealingThreadPool</code>.\nPlease note I have made no effort to evaluate the implementation and offer no recommendation. I've been working in C++ in this case or would happily share my <code>template</code>.</p>\n<p><a href=\"https://www.jrebel.com/blog/using-java-executors\" rel=\"nofollow noreferrer\">https://www.jrebel.com/blog/using-java-executors</a></p>\n<p>Also refer to what Wikipedia has to say: <a href=\"https://en.wikipedia.org/wiki/Work_stealing\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Work_stealing</a></p>\n"},{"tags":[],"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503501261,"creation_date":1503501261,"answer_id":45843545,"question_id":45839933,"body_markdown":"What you really want could be achieved using \r\n\r\n    int cores = Runtime.getRuntime().availableProcessors();\r\n    ExecutorService executorService = Executors.newFixedThreadPool(cores);\r\n\r\nRemember also that [javadoc][1] of getActiveCount() says that it is an approximate number.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#getActiveCount%28%29","title":"ExecutorService: how to prevent thread starvation when synchronization barriers are done in the threads","body":"<p>What you really want could be achieved using </p>\n\n<pre><code>int cores = Runtime.getRuntime().availableProcessors();\nExecutorService executorService = Executors.newFixedThreadPool(cores);\n</code></pre>\n\n<p>Remember also that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#getActiveCount%28%29\" rel=\"nofollow noreferrer\">javadoc</a> of getActiveCount() says that it is an approximate number.</p>\n"},{"comments":[{"owner":{"account_id":1109311,"reputation":5891,"user_id":1100081,"accept_rate":44,"display_name":"Anton"},"score":0,"creation_date":1503506432,"post_id":45844963,"comment_id":78648414,"body_markdown":"Actually you don&#39;t really need polling thread, you can put tasks directly to executor","body":"Actually you don&#39;t really need polling thread, you can put tasks directly to executor"},{"owner":{"account_id":11610707,"reputation":277,"user_id":8505013,"accept_rate":89,"display_name":"Bas Opers"},"score":0,"creation_date":1503564623,"post_id":45844963,"comment_id":78671864,"body_markdown":"I like the idea for custom BFS/DFS, but my question was more on the &#39;concurrent&#39; side than the &#39;tree parsing&#39; side. The tree-like structure was mainly for illustrating the problem. I upvoted anyway, because it is a clever idea.","body":"I like the idea for custom BFS/DFS, but my question was more on the &#39;concurrent&#39; side than the &#39;tree parsing&#39; side. The tree-like structure was mainly for illustrating the problem. I upvoted anyway, because it is a clever idea."},{"owner":{"account_id":1109311,"reputation":5891,"user_id":1100081,"accept_rate":44,"display_name":"Anton"},"score":0,"creation_date":1503572404,"post_id":45844963,"comment_id":78677467,"body_markdown":"@BasOpers Well propsed design will allow to traverse tree concurrently. There is no special pill for handling similar &#39;concurrent&#39; task, it&#39;s all about finding proper algoritm. Mentioned work-stealing approach won&#39;t help you, until you know how to parrallel your algoritm.","body":"@BasOpers Well propsed design will allow to traverse tree concurrently. There is no special pill for handling similar &#39;concurrent&#39; task, it&#39;s all about finding proper algoritm. Mentioned work-stealing approach won&#39;t help you, until you know how to parrallel your algoritm."},{"owner":{"account_id":11610707,"reputation":277,"user_id":8505013,"accept_rate":89,"display_name":"Bas Opers"},"score":0,"creation_date":1503574555,"post_id":45844963,"comment_id":78678968,"body_markdown":"Actually, I do know how to parallel my flow. Every child node can be processed in parallel.","body":"Actually, I do know how to parallel my flow. Every child node can be processed in parallel."}],"tags":[],"owner":{"account_id":1109311,"reputation":5891,"user_id":1100081,"accept_rate":44,"display_name":"Anton"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503506834,"creation_date":1503505618,"answer_id":45844963,"question_id":45839933,"body_markdown":"I would not use error-prone multiple CountDownLatch-es. As I understand you want to traverse tree from leafs nodes to parent nodes in parallel. \r\n\r\nI would traverse tree using simple BFS/DFS (you don&#39;t need recursive algorithm there), once leaf is found without children nodes, put this node it into blocking the queue. \r\n\r\nThe queue can be polled by second thread, this thread will schedule new task to the executor service with fixed number of threads.\r\n\r\nOnce executor-thread finishes processing current node taken from the queue, executor-thread checks whether current node has parent nodes. If there is a parent node, put it in a queue again. Also you should check whether parent has been already processed. \r\n\r\nSomething like this:\r\n\r\n\r\n\t\tBlockingQueue blockingQueue = new BlockingQueue();\r\n\t\tExecutorService service = \r\n\t\t\r\n\t\tnew Thread(new Runnable(){\r\n\t\t\twhile (true) {\r\n\t\t\t\tTask task = blockingQueue.poll();\r\n\t\t\t\tservice.execute(new Runnable(){\r\n\t\t\t\t\tif (task.isProcessed())  {\r\n                       return ; \r\n                    }\r\n\t\t\t\t\t... do you job\r\n\t\t\t\t\ttask.setProcessed(true);\r\n\t\t\t\t\tNode node = task.getNode();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tboolean allChildrenProcessed = true;\r\n\t\t\t\t\tfor (Node childeNode: node.getChildren()) {\r\n\t\t\t\t\t\tallChildrenProcessed &amp;= childeNode.isProcessed();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (node.hasParent() &amp;&amp; allChildrenProcessed) {\r\n\t\t\t\t\t\tblockingQueue.put(node.getParent())\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).start();\r\n\t\t\r\n\t\tStack stack = new StackImpl();\r\n\t\t\r\n\t\tstack.put(root);\r\n\t\twhile (node = stack.pop() != null) {\r\n\t\t\tfor (Node child: node.getChildren()) {\r\n\t\t\t\tstack.push(child);\r\n\t\t\t}\r\n\t\t\tif (node.getChildren().isEmpty()) {\r\n\t\t\t\t// add leaf node for processing\r\n\t\t\t\tblockinQueue.add(node);\r\n\t\t\t}\r\n\t\t}\r\n","title":"ExecutorService: how to prevent thread starvation when synchronization barriers are done in the threads","body":"<p>I would not use error-prone multiple CountDownLatch-es. As I understand you want to traverse tree from leafs nodes to parent nodes in parallel. </p>\n\n<p>I would traverse tree using simple BFS/DFS (you don't need recursive algorithm there), once leaf is found without children nodes, put this node it into blocking the queue. </p>\n\n<p>The queue can be polled by second thread, this thread will schedule new task to the executor service with fixed number of threads.</p>\n\n<p>Once executor-thread finishes processing current node taken from the queue, executor-thread checks whether current node has parent nodes. If there is a parent node, put it in a queue again. Also you should check whether parent has been already processed. </p>\n\n<p>Something like this:</p>\n\n<pre><code>    BlockingQueue blockingQueue = new BlockingQueue();\n    ExecutorService service = \n\n    new Thread(new Runnable(){\n        while (true) {\n            Task task = blockingQueue.poll();\n            service.execute(new Runnable(){\n                if (task.isProcessed())  {\n                   return ; \n                }\n                ... do you job\n                task.setProcessed(true);\n                Node node = task.getNode();\n\n\n                boolean allChildrenProcessed = true;\n                for (Node childeNode: node.getChildren()) {\n                    allChildrenProcessed &amp;= childeNode.isProcessed();\n                }\n\n                if (node.hasParent() &amp;&amp; allChildrenProcessed) {\n                    blockingQueue.put(node.getParent())\n                }\n\n            });\n        }\n    }).start();\n\n    Stack stack = new StackImpl();\n\n    stack.put(root);\n    while (node = stack.pop() != null) {\n        for (Node child: node.getChildren()) {\n            stack.push(child);\n        }\n        if (node.getChildren().isEmpty()) {\n            // add leaf node for processing\n            blockinQueue.add(node);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11610707,"reputation":277,"user_id":8505013,"accept_rate":89,"display_name":"Bas Opers"},"score":0,"creation_date":1503565803,"post_id":45847982,"comment_id":78672684,"body_markdown":"Thank you. The scatter-gather: what is the difference between the fork join pool from https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html?","body":"Thank you. The scatter-gather: what is the difference between the fork join pool from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>?"},{"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"score":0,"creation_date":1503582961,"post_id":45847982,"comment_id":78685418,"body_markdown":"@Bas Opers All the difference in the world. join() doesn&#39;t work for one. You could try using the CountedCompleter class if you could figure out how to use it. I wrote a series of articles on the framework starting here: http://www.coopsoft.com/ar/CalamityArticle.html","body":"@Bas Opers All the difference in the world. join() doesn&#39;t work for one. You could try using the CountedCompleter class if you could figure out how to use it. I wrote a series of articles on the framework starting here: <a href=\"http://www.coopsoft.com/ar/CalamityArticle.html\" rel=\"nofollow noreferrer\">coopsoft.com/ar/CalamityArticle.html</a>"}],"tags":[],"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503516781,"creation_date":1503516781,"answer_id":45847982,"question_id":45839933,"body_markdown":"It seem like you want an alternative to recursion. That alternative is scatter-gather. Submit a request that forks all Tasks. When NODE.2 executes, it simple returns since the child nodes have not completed. When the last Task completes (2.1, 2.b), completion processing begins to process NODE.2. \r\n\r\nI maintain a Data Parallel open-source product that can do exactly that. Rather than fetching the entire product, simply download the documentation (http://coopsoft.com/JavaDoc.html ) and look at file: Manual/DynamicJoin.html. If that solves your problem, then you fetch the product.\r\n","title":"ExecutorService: how to prevent thread starvation when synchronization barriers are done in the threads","body":"<p>It seem like you want an alternative to recursion. That alternative is scatter-gather. Submit a request that forks all Tasks. When NODE.2 executes, it simple returns since the child nodes have not completed. When the last Task completes (2.1, 2.b), completion processing begins to process NODE.2. </p>\n\n<p>I maintain a Data Parallel open-source product that can do exactly that. Rather than fetching the entire product, simply download the documentation (<a href=\"http://coopsoft.com/JavaDoc.html\" rel=\"nofollow noreferrer\">http://coopsoft.com/JavaDoc.html</a> ) and look at file: Manual/DynamicJoin.html. If that solves your problem, then you fetch the product.</p>\n"},{"tags":[],"owner":{"account_id":462914,"reputation":613,"user_id":865499,"accept_rate":0,"display_name":"maricn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659517944,"creation_date":1659517944,"answer_id":73219133,"question_id":45839933,"body_markdown":"`newFixedThreadPool()` uses `LinkedBlockingQueue` when the pool is full. \r\n\r\nThat queue is **unbounded** by default, which means any tasks received after filling up the capacity of the thread pool will be queued for execution for when pool has more available slots.\r\n\r\nAnd `CountDownLatch#await()` will not do busy-wait, it should put the awaiting thread out of the CPU.\r\n\r\nSo, your problem is basically that you&#39;ll exhaust all available threads, and are not reusing them, so no new threads can be created.\r\n\r\nAll you need here to solve the issue is to slightly modify the default behavior of the `newFixedThreadPool()`. You can create a thread pool with a queue of limited size, and adapt the behavior of that thread pool in case the queue gets full to reuse the running queue for executing the new task.\r\n\r\n```\r\nExecutorService executorService = new ThreadPoolExecutor(4,\r\n                     4,\r\n                     0L,\r\n                     TimeUnit.MILLISECONDS,\r\n                     new ArrayBlockingQueue&lt;&gt;(4),\r\n                     new ThreadPoolExecutor.CallerRunsPolicy());\r\n```\r\n\r\nSee [CallerRunsPolicy](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.CallerRunsPolicy.html), [ArrayBlockingQueue](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ArrayBlockingQueue.html).","title":"ExecutorService: how to prevent thread starvation when synchronization barriers are done in the threads","body":"<p><code>newFixedThreadPool()</code> uses <code>LinkedBlockingQueue</code> when the pool is full.</p>\n<p>That queue is <strong>unbounded</strong> by default, which means any tasks received after filling up the capacity of the thread pool will be queued for execution for when pool has more available slots.</p>\n<p>And <code>CountDownLatch#await()</code> will not do busy-wait, it should put the awaiting thread out of the CPU.</p>\n<p>So, your problem is basically that you'll exhaust all available threads, and are not reusing them, so no new threads can be created.</p>\n<p>All you need here to solve the issue is to slightly modify the default behavior of the <code>newFixedThreadPool()</code>. You can create a thread pool with a queue of limited size, and adapt the behavior of that thread pool in case the queue gets full to reuse the running queue for executing the new task.</p>\n<pre><code>ExecutorService executorService = new ThreadPoolExecutor(4,\n                     4,\n                     0L,\n                     TimeUnit.MILLISECONDS,\n                     new ArrayBlockingQueue&lt;&gt;(4),\n                     new ThreadPoolExecutor.CallerRunsPolicy());\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.CallerRunsPolicy.html\" rel=\"nofollow noreferrer\">CallerRunsPolicy</a>, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ArrayBlockingQueue.html\" rel=\"nofollow noreferrer\">ArrayBlockingQueue</a>.</p>\n"}],"owner":{"account_id":11610707,"reputation":277,"user_id":8505013,"accept_rate":89,"display_name":"Bas Opers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2653,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":45842357,"answer_count":5,"score":11,"last_activity_date":1666779778,"creation_date":1503491785,"question_id":45839933,"body_markdown":"I have a situation for which I am having troubles to find a clean solution. I&#39;ll try to explain as detailed as possible.\r\n\r\nI have a tree-like structure:\r\n\r\n    NODE A\r\n        NODE A.1\r\n        NODE A.2\r\n            NODE A.2.a\r\n            NODE A.2.b\r\n        NODE A.3\r\n            NODE A.3.a\r\n            NODE A.3.b\r\n            NODE A.3.c\r\n    NODE B\r\n        NODE B.1\r\n        NODE B.2\r\n\r\nI need to process the root node:\r\n\r\n     public void process(final Node node) { ... }\r\n\r\nThe process of a node involves two things:\r\n\r\n    - some database queries\r\n    - the process of all children of these nodes\r\n\r\nIn other words, once `NODE.2.a` and `NODE.2.b` are processed, `NODE.2` can be processed. I am processing the nodes in a recursive fashion, nothing spectacular.\r\n\r\nSo far, so good. Now I want to declare a global executor service, with a fixed number of threads. I want to process the child nodes of a node in parallel. So, `NODE.2.a` and `NODE.2.b` can be processed each in their own threads. The code would look something like this:\r\n\r\n    // global executor service, shared between all process(Node) calls\r\n    final ExecutorService service = Executors.newFixedThreadPool(4);\r\n\r\n    public void process(final Node node) {\r\n        // database queries\r\n        ...\r\n\r\n        // wait for children to be processed\r\n        final CountDownLatch latch = new CountDownLatch(node.children().size());\r\n\r\n        for (final Node child : node.children()) {\r\n            service.execute(() -&gt; {\r\n                 process(child);\r\n                 latch.countDown();\r\n            });\r\n        }\r\n        latch.await();\r\n    }\r\n\r\nThe problem here is: when a certain depth is reached, all threads are halted in the `latch.await()`. We have reached a situation of thread starvation.\r\n\r\nThis can be easily solved by making the executor service unbounded, but I don&#39;t like that option. I want to control the number of `active` threads. In my case, the number of `active` threads will be equal to the number of cores. Having more `active` threads will introduce swaps from one thread to another, and I would like to avoid that.\r\n\r\nHow can this be solved?","title":"ExecutorService: how to prevent thread starvation when synchronization barriers are done in the threads","body":"<p>I have a situation for which I am having troubles to find a clean solution. I'll try to explain as detailed as possible.</p>\n\n<p>I have a tree-like structure:</p>\n\n<pre><code>NODE A\n    NODE A.1\n    NODE A.2\n        NODE A.2.a\n        NODE A.2.b\n    NODE A.3\n        NODE A.3.a\n        NODE A.3.b\n        NODE A.3.c\nNODE B\n    NODE B.1\n    NODE B.2\n</code></pre>\n\n<p>I need to process the root node:</p>\n\n<pre><code> public void process(final Node node) { ... }\n</code></pre>\n\n<p>The process of a node involves two things:</p>\n\n<pre><code>- some database queries\n- the process of all children of these nodes\n</code></pre>\n\n<p>In other words, once <code>NODE.2.a</code> and <code>NODE.2.b</code> are processed, <code>NODE.2</code> can be processed. I am processing the nodes in a recursive fashion, nothing spectacular.</p>\n\n<p>So far, so good. Now I want to declare a global executor service, with a fixed number of threads. I want to process the child nodes of a node in parallel. So, <code>NODE.2.a</code> and <code>NODE.2.b</code> can be processed each in their own threads. The code would look something like this:</p>\n\n<pre><code>// global executor service, shared between all process(Node) calls\nfinal ExecutorService service = Executors.newFixedThreadPool(4);\n\npublic void process(final Node node) {\n    // database queries\n    ...\n\n    // wait for children to be processed\n    final CountDownLatch latch = new CountDownLatch(node.children().size());\n\n    for (final Node child : node.children()) {\n        service.execute(() -&gt; {\n             process(child);\n             latch.countDown();\n        });\n    }\n    latch.await();\n}\n</code></pre>\n\n<p>The problem here is: when a certain depth is reached, all threads are halted in the <code>latch.await()</code>. We have reached a situation of thread starvation.</p>\n\n<p>This can be easily solved by making the executor service unbounded, but I don't like that option. I want to control the number of <code>active</code> threads. In my case, the number of <code>active</code> threads will be equal to the number of cores. Having more <code>active</code> threads will introduce swaps from one thread to another, and I would like to avoid that.</p>\n\n<p>How can this be solved?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"score":1,"creation_date":1666778131,"post_id":74205602,"comment_id":131014720,"body_markdown":"Have you looked into @AttributeOverrides ?","body":"Have you looked into @AttributeOverrides ?"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1666778544,"post_id":74205602,"comment_id":131014856,"body_markdown":"@xerx593 See my posted answer, that&#39;s how I&#39;ve dealt with it in the past but I don&#39;t like that solution as it generates more boilerplate and an antipattern in the override of &#39;setProductId`.","body":"@xerx593 See my posted answer, that&#39;s how I&#39;ve dealt with it in the past but I don&#39;t like that solution as it generates more boilerplate and an antipattern in the override of &#39;setProductId`."}],"answers":[{"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666778112,"creation_date":1666778112,"answer_id":74205813,"question_id":74205602,"body_markdown":"A workaround I&#39;ve found is to set `producerId` inside `producer` setter but it&#39;s not an ideal solution.\r\n\r\n```java\r\n@Entity\r\npublic class Book extends StockItem {\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;producer_id&quot;,  insertable = false, updatable = false)\r\n    private Producer producer;\r\n\r\n    public void setProducer(Producer producer) {\r\n        setProducerId(producer.getId());\r\n        this.producer = producer;\r\n    }\r\n\r\n    /**\r\n        Setting producerId here directly may cause inconsistency between producer and inherited producerId, therefore method is overridden to be unusable.\r\n    */\r\n    @Override\r\n    public void setProducerId(Integer producerId) {\r\n        throw new UnsupportedOperationException(&quot;Inherited field producer cannot be set from Book&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Integer getProducerId() {\r\n        return producer != null ? producer.getId() : null;\r\n    }\r\n\r\n}\r\n```","title":"How to override, from extending class, inherited @MappedSuperclass @Column updatable and insertable attributes","body":"<p>A workaround I've found is to set <code>producerId</code> inside <code>producer</code> setter but it's not an ideal solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Book extends StockItem {\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;producer_id&quot;,  insertable = false, updatable = false)\n    private Producer producer;\n\n    public void setProducer(Producer producer) {\n        setProducerId(producer.getId());\n        this.producer = producer;\n    }\n\n    /**\n        Setting producerId here directly may cause inconsistency between producer and inherited producerId, therefore method is overridden to be unusable.\n    */\n    @Override\n    public void setProducerId(Integer producerId) {\n        throw new UnsupportedOperationException(&quot;Inherited field producer cannot be set from Book&quot;);\n    }\n\n    @Override\n    public Integer getProducerId() {\n        return producer != null ? producer.getId() : null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666779587,"creation_date":1666779587,"answer_id":74206118,"question_id":74205602,"body_markdown":"As per suggestion by Asoub I did the following using `@AttributeOverride` and it works great as it allows modification of all column attributes:\r\n```java\r\n@Entity\r\n@Table(name = &quot;stock_item&quot;)\r\n@AttributeOverride(\r\n        name = &quot;producerId&quot;,\r\n        column = @Column(name = &quot;producer_id&quot;, insertable = false, updatable = false)\r\n)\r\npublic class Book extends StockItem {\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;producer_id&quot;)\r\n    private Producer producer;\r\n\r\n}\r\n``` ","title":"How to override, from extending class, inherited @MappedSuperclass @Column updatable and insertable attributes","body":"<p>As per suggestion by Asoub I did the following using <code>@AttributeOverride</code> and it works great as it allows modification of all column attributes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;stock_item&quot;)\n@AttributeOverride(\n        name = &quot;producerId&quot;,\n        column = @Column(name = &quot;producer_id&quot;, insertable = false, updatable = false)\n)\npublic class Book extends StockItem {\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;producer_id&quot;)\n    private Producer producer;\n\n}\n</code></pre>\n"}],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74206118,"answer_count":2,"score":1,"last_activity_date":1666779587,"creation_date":1666777070,"question_id":74205602,"body_markdown":"Given the following setup how do I make the inherited `producerId` field be `updatable = false, insertable = false` from within `Book`.\r\n\r\n```java\r\n@MappedSuperclass\r\npublic class StockItem {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;producer_id&quot;)\r\n    private Integer producerId;\r\n\r\n}\r\n\r\n@Entity\r\npublic class Producer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private Integer name;\r\n\r\n}\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;stock_item&quot;)\r\npublic class Book extends StockItem {\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;producer_id&quot;)\r\n    private Producer producer;\r\n\r\n    // make inherited producerId field updatable = false, insertable = false here\r\n\r\n}\r\n\r\n```\r\n\r\nI specifically do NOT want to do the following as I need that property to stay updatable and insertable for other inheritors:\r\n```java\r\n@MappedSuperclass\r\npublic class StockItem {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;producer_id&quot;, updatable = false, insertable = false)\r\n    private Integer producerId;\r\n\r\n}\r\n```\r\n\r\nUPDATE: another constraint is that all classes extending the @MappedSuperclass represent the same table","title":"How to override, from extending class, inherited @MappedSuperclass @Column updatable and insertable attributes","body":"<p>Given the following setup how do I make the inherited <code>producerId</code> field be <code>updatable = false, insertable = false</code> from within <code>Book</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic class StockItem {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;producer_id&quot;)\n    private Integer producerId;\n\n}\n\n@Entity\npublic class Producer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;)\n    private Integer name;\n\n}\n\n\n@Entity\n@Table(name = &quot;stock_item&quot;)\npublic class Book extends StockItem {\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;producer_id&quot;)\n    private Producer producer;\n\n    // make inherited producerId field updatable = false, insertable = false here\n\n}\n\n</code></pre>\n<p>I specifically do NOT want to do the following as I need that property to stay updatable and insertable for other inheritors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic class StockItem {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;producer_id&quot;, updatable = false, insertable = false)\n    private Integer producerId;\n\n}\n</code></pre>\n<p>UPDATE: another constraint is that all classes extending the @MappedSuperclass represent the same table</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2322519,"reputation":5640,"user_id":2037846,"accept_rate":43,"display_name":"MichelReap"},"score":0,"creation_date":1537782626,"post_id":50610917,"comment_id":91894547,"body_markdown":"did you sort this out? I am facing the same issue","body":"did you sort this out? I am facing the same issue"},{"owner":{"account_id":4771283,"reputation":2612,"user_id":3855967,"accept_rate":52,"display_name":"Ognjen Galić"},"score":1,"creation_date":1537871625,"post_id":50610917,"comment_id":91932567,"body_markdown":"I infact did. When manually creating a View inside a child, i called the constructor of the child with the attributeSet from the parent giving them the same ID effectively.","body":"I infact did. When manually creating a View inside a child, i called the constructor of the child with the attributeSet from the parent giving them the same ID effectively."},{"owner":{"account_id":5834974,"reputation":318,"user_id":4598342,"display_name":"Pwn"},"score":0,"creation_date":1567260758,"post_id":50610917,"comment_id":101916587,"body_markdown":"@Gala you find any solution?","body":"@Gala you find any solution?"},{"owner":{"account_id":4771283,"reputation":2612,"user_id":3855967,"accept_rate":52,"display_name":"Ognjen Galić"},"score":0,"creation_date":1567414908,"post_id":50610917,"comment_id":101944814,"body_markdown":"@bhardwaj see if you pass around a AttributeSet to a child accidentally","body":"@bhardwaj see if you pass around a AttributeSet to a child accidentally"}],"answers":[{"tags":[],"owner":{"account_id":26106700,"reputation":1,"user_id":19801297,"display_name":"Jose Medina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666779402,"creation_date":1666779379,"answer_id":74206059,"question_id":50610917,"body_markdown":"I had the same issue with the HorizontalScrollView\r\n\r\n    android.view.AbsSavedState$1 cannot be cast to android.widget.HorizontalScrollView$SavedState\r\n\r\nAnd I solved it by adding unique ids to the views in the custom ViewGroup\r\n\r\n    horizontalScrollView.id = View.generateViewId()","title":"Android java.lang.ClassCastException: android.view.AbsSavedState$1 cannot be cast to android.widget.CompoundButton$SavedState","body":"<p>I had the same issue with the HorizontalScrollView</p>\n<pre><code>android.view.AbsSavedState$1 cannot be cast to android.widget.HorizontalScrollView$SavedState\n</code></pre>\n<p>And I solved it by adding unique ids to the views in the custom ViewGroup</p>\n<pre><code>horizontalScrollView.id = View.generateViewId()\n</code></pre>\n"}],"owner":{"account_id":4771283,"reputation":2612,"user_id":3855967,"accept_rate":52,"display_name":"Ognjen Galić"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666779402,"creation_date":1527703328,"question_id":50610917,"body_markdown":"This  symptoms are the same as here: https://stackoverflow.com/questions/28961176/java-lang-classcastexception-android-view-abssavedstate1-cannot-be-cast-to-and\r\n\r\nBut it&#39;s not the right solution.\r\nThere are no files with the same name as resource ids:\r\n\r\nCurrent working dir below is `app/src/main/res`:\r\n\r\n\r\n    git ls-files . | cut -d &quot;/&quot; -f 2  | sed &#39;s/\\.xml//g&#39; &gt; /tmp/a\r\n    cat values/ids.xml | cut -d &quot;\\&quot;&quot; -f 2 &gt; /tmp/b\r\n    cat /tmp/a | while read line; do grep -w $line /tmp/b; done\r\n\r\nThis yields no results.\r\n\r\nAlso, there are no duplicate ids within `values/ids.xml`\r\n\r\n    cat values/ids.xml | cut -d &quot;\\&quot;&quot; -f 2 | sort | wc -l\r\n    96\r\n    cat values/ids.xml | cut -d &quot;\\&quot;&quot; -f 2 | sort | uniq | wc -l\r\n    96\r\n\r\nThe exception occurs when I restart the app via an Alarm.\r\n\r\n        ...\r\n        alm.set(AlarmManager.RTC, System.currentTimeMillis() + 1000,\r\n                PendingIntent.getActivity(this, 0, new Intent(\r\n                        this, LauncherActivity.class), 0));\r\n        Process.killProcess(Process.myPid());\r\n        ...\r\n\r\nAnd then it crashes before LauncherActivityies `onCreate`:\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{ba.euroexpress.izvidjac/ba.euroexpress.traffictool.android.activites.MainActivity}: java.lang.ClassCastException: android.view.AbsSavedState$1 cannot be cast to android.widget.CompoundButton$SavedState\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2779)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2857)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1590)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6499)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: java.lang.ClassCastException: android.view.AbsSavedState$1 cannot be cast to android.widget.CompoundButton$SavedState\r\n        at android.widget.CompoundButton.onRestoreInstanceState(CompoundButton.java:563)\r\n        at android.view.View.dispatchRestoreInstanceState(View.java:17726)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\r\n        at android.view.View.restoreHierarchyState(View.java:17704)\r\n        at android.support.v4.app.Fragment.restoreViewState(Fragment.java:415)\r\n        at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1454)\r\n        at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1759)\r\n        at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1827)\r\n        at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3244)\r\n        at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3200)\r\n        at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:195)\r\n        at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:597)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\r\n        at android.app.Activity.performStart(Activity.java:7019)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2742)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2857)&#160;\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1590)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6499)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n\r\nWhat is causing this behavior?\r\nIt happens on low memory situations and when restarting it the app in this fashion.\r\n\r\nAlso note I don&#39;t use the `CompoundButton` class anywhere.\r\n\r\n    git grep CompoundButton\r\n    // no results","title":"Android java.lang.ClassCastException: android.view.AbsSavedState$1 cannot be cast to android.widget.CompoundButton$SavedState","body":"<p>This  symptoms are the same as here: <a href=\"https://stackoverflow.com/questions/28961176/java-lang-classcastexception-android-view-abssavedstate1-cannot-be-cast-to-and\">java.lang.ClassCastException: android.view.AbsSavedState$1 cannot be cast to android.support.v7.widget.Toolbar$SavedState</a></p>\n\n<p>But it's not the right solution.\nThere are no files with the same name as resource ids:</p>\n\n<p>Current working dir below is <code>app/src/main/res</code>:</p>\n\n<pre><code>git ls-files . | cut -d \"/\" -f 2  | sed 's/\\.xml//g' &gt; /tmp/a\ncat values/ids.xml | cut -d \"\\\"\" -f 2 &gt; /tmp/b\ncat /tmp/a | while read line; do grep -w $line /tmp/b; done\n</code></pre>\n\n<p>This yields no results.</p>\n\n<p>Also, there are no duplicate ids within <code>values/ids.xml</code></p>\n\n<pre><code>cat values/ids.xml | cut -d \"\\\"\" -f 2 | sort | wc -l\n96\ncat values/ids.xml | cut -d \"\\\"\" -f 2 | sort | uniq | wc -l\n96\n</code></pre>\n\n<p>The exception occurs when I restart the app via an Alarm.</p>\n\n<pre><code>    ...\n    alm.set(AlarmManager.RTC, System.currentTimeMillis() + 1000,\n            PendingIntent.getActivity(this, 0, new Intent(\n                    this, LauncherActivity.class), 0));\n    Process.killProcess(Process.myPid());\n    ...\n</code></pre>\n\n<p>And then it crashes before LauncherActivityies <code>onCreate</code>:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{ba.euroexpress.izvidjac/ba.euroexpress.traffictool.android.activites.MainActivity}: java.lang.ClassCastException: android.view.AbsSavedState$1 cannot be cast to android.widget.CompoundButton$SavedState\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2779)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2857)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1590)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6499)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n Caused by: java.lang.ClassCastException: android.view.AbsSavedState$1 cannot be cast to android.widget.CompoundButton$SavedState\n    at android.widget.CompoundButton.onRestoreInstanceState(CompoundButton.java:563)\n    at android.view.View.dispatchRestoreInstanceState(View.java:17726)\n    at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\n    at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\n    at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\n    at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\n    at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3751)\n    at android.view.View.restoreHierarchyState(View.java:17704)\n    at android.support.v4.app.Fragment.restoreViewState(Fragment.java:415)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1454)\n    at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1759)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1827)\n    at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3244)\n    at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3200)\n    at android.support.v4.app.FragmentController.dispatchActivityCreated(FragmentController.java:195)\n    at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:597)\n    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\n    at android.app.Activity.performStart(Activity.java:7019)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2742)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2857) \n    at android.app.ActivityThread.-wrap11(Unknown Source:0) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1590) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:164) \n    at android.app.ActivityThread.main(ActivityThread.java:6499) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n\n<p>What is causing this behavior?\nIt happens on low memory situations and when restarting it the app in this fashion.</p>\n\n<p>Also note I don't use the <code>CompoundButton</code> class anywhere.</p>\n\n<pre><code>git grep CompoundButton\n// no results\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":8428091,"reputation":1,"user_id":6324712,"display_name":"IC3Coffee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666779268,"creation_date":1666779268,"answer_id":74206035,"question_id":72856518,"body_markdown":"Try to add:\r\n--add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\r\nto the Java-VM-Parameters.\r\n\r\nMore infos:\r\nhttps://docs.oracle.com/en/java/javase/18/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66","title":"Get InaccessibleObjectException","body":"<p>Try to add:\n--add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\nto the Java-VM-Parameters.</p>\n<p>More infos:\n<a href=\"https://docs.oracle.com/en/java/javase/18/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66</a></p>\n"}],"owner":{"account_id":25453332,"reputation":19,"user_id":19254358,"display_name":"Suraj Karosia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666779268,"creation_date":1656936575,"question_id":72856518,"body_markdown":"I am trying to write a test to get a object. But it shows the error -&gt;&quot;java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not &quot;opens jdk.internal.loader&quot; to unnamed module @7fc229ab&quot;. How can I fix it?\r\n\r\n     @Test\r\n    public void testGetObject5() throws Exception {\r\n        NominBeanFactory nominBeanFactory = new NominBeanFactory();\r\n        nominBeanFactory.setApplicationContext(mock(ApplicationContext.class));\r\n        nominBeanFactory.setMapping(new ArrayList&lt;&gt;());\r\n        NominMapperValidator actualObject = nominBeanFactory.getObject();\r\n        assertTrue(actualObject.getCache().isEmpty());\r\n        assertNull(actualObject.getValidator());\r\n        NominMapper nominMapper = actualObject.getNominMapper();\r\n        assertTrue(nominMapper instanceof Nomin);\r\n        assertTrue(((Nomin) nominMapper).defaultIntrospector() instanceof org.nomin.util.ReflectionIntrospector);\r\n        assertTrue(((Nomin) nominMapper).isAutomappingEnabled());\r\n        assertTrue(((Nomin) nominMapper).getMappings().isEmpty());\r\n    }","title":"Get InaccessibleObjectException","body":"<p>I am trying to write a test to get a object. But it shows the error -&gt;&quot;java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not &quot;opens jdk.internal.loader&quot; to unnamed module @7fc229ab&quot;. How can I fix it?</p>\n<pre><code> @Test\npublic void testGetObject5() throws Exception {\n    NominBeanFactory nominBeanFactory = new NominBeanFactory();\n    nominBeanFactory.setApplicationContext(mock(ApplicationContext.class));\n    nominBeanFactory.setMapping(new ArrayList&lt;&gt;());\n    NominMapperValidator actualObject = nominBeanFactory.getObject();\n    assertTrue(actualObject.getCache().isEmpty());\n    assertNull(actualObject.getValidator());\n    NominMapper nominMapper = actualObject.getNominMapper();\n    assertTrue(nominMapper instanceof Nomin);\n    assertTrue(((Nomin) nominMapper).defaultIntrospector() instanceof org.nomin.util.ReflectionIntrospector);\n    assertTrue(((Nomin) nominMapper).isAutomappingEnabled());\n    assertTrue(((Nomin) nominMapper).getMappings().isEmpty());\n}\n</code></pre>\n"},{"tags":["java","spring","cxf","javabeans"],"answers":[{"comments":[{"owner":{"account_id":19383917,"reputation":11,"user_id":14174534,"display_name":"jstocks"},"score":0,"creation_date":1666800298,"post_id":74205891,"comment_id":131023045,"body_markdown":"I updated the serviceName in my ProductCatalog.java file, and it throws the same exception.  Do I also need to update the serviceName in the WSDL file definitions?","body":"I updated the serviceName in my ProductCatalog.java file, and it throws the same exception.  Do I also need to update the serviceName in the WSDL file definitions?"},{"owner":{"account_id":9651603,"reputation":394,"user_id":7162592,"display_name":"kelmi92"},"score":0,"creation_date":1666853679,"post_id":74205891,"comment_id":131034593,"body_markdown":"The WSDL serviceName must be the same as the namespace defined in the &quot;targetNamespace&quot; in the wsdl:definitions tag. Take a look to this post: https://stackoverflow.com/questions/4680264/how-to-solve-serviceconstructionexception-could-not-find-definition-for-service","body":"The WSDL serviceName must be the same as the namespace defined in the &quot;targetNamespace&quot; in the wsdl:definitions tag. Take a look to this post: <a href=\"https://stackoverflow.com/questions/4680264/how-to-solve-serviceconstructionexception-could-not-find-definition-for-service\" title=\"how to solve serviceconstructionexception could not find definition for service\">stackoverflow.com/questions/4680264/&hellip;</a>"}],"tags":[],"owner":{"account_id":9651603,"reputation":394,"user_id":7162592,"display_name":"kelmi92"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666778504,"creation_date":1666778504,"answer_id":74205891,"question_id":74202802,"body_markdown":"Your annotation\r\n\r\n    @WebService(targetNamespace = &quot;http://ProductCatalog.net/&quot;, portName = &quot;ProductCatalogPort&quot;, serviceName = &quot;ProductCatalogService&quot;)\r\n\r\nshould be\r\n\r\n    @WebService(targetNamespace = &quot;http://ProductCatalog.net/&quot;, portName = &quot;ProductCatalogPort&quot;, serviceName = &quot;ProductCatalog&quot;)\r\n\r\n\r\nNotice that serviceName = &quot;ProductCatalogService&quot; is changed to serviceName = &quot;ProductCatalog&quot;\r\n\r\n\r\n","title":"Error launching a Tomcat web service with CXF due to exception &quot;error creating a bean&quot;","body":"<p>Your annotation</p>\n<pre><code>@WebService(targetNamespace = &quot;http://ProductCatalog.net/&quot;, portName = &quot;ProductCatalogPort&quot;, serviceName = &quot;ProductCatalogService&quot;)\n</code></pre>\n<p>should be</p>\n<pre><code>@WebService(targetNamespace = &quot;http://ProductCatalog.net/&quot;, portName = &quot;ProductCatalogPort&quot;, serviceName = &quot;ProductCatalog&quot;)\n</code></pre>\n<p>Notice that serviceName = &quot;ProductCatalogService&quot; is changed to serviceName = &quot;ProductCatalog&quot;</p>\n"}],"owner":{"account_id":19383917,"reputation":11,"user_id":14174534,"display_name":"jstocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666778504,"creation_date":1666759500,"question_id":74202802,"body_markdown":"I&#39;m trying to launch a web server, and am getting this error code:\r\n\r\n\r\n&gt; WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productcatalog&#39;: Invocation of init method failed; nested exception is javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Could not find definition for service {http://ProductCatalog.net/}ProductCatalog.\r\n\r\nHere is my ProductCatalog.java file:\r\n```\r\npackage net.ProductCatalog;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\nimport java.util.Iterator;\r\n\r\nimport javax.jws.WebMethod;\r\nimport javax.jws.WebParam;\r\nimport javax.jws.WebService;\r\nimport javax.jws.soap.*;\r\n\r\n\r\n\r\n@WebService(targetNamespace = &quot;http://ProductCatalog.net/&quot;, portName = &quot;ProductCatalogPort&quot;, serviceName = &quot;ProductCatalogService&quot;)\r\n@SOAPBinding(style = SOAPBinding.Style.DOCUMENT)\r\npublic class ProductCatalog {\t\t\r\n\t\r\n\r\n\t\tpublic static ArrayList&lt;Product&gt; CreateCatalog() {\r\n\t\t\r\n\tArrayList&lt;Product&gt; listOfProducts = new ArrayList&lt;Product&gt;();\r\n\r\n\tProduct apples = new Product(&quot;Apples&quot;, &quot;001&quot;, new Float(&quot;5.99&quot;), 50);\r\n\tProduct bananas = new Product(&quot;Bananas&quot;, &quot;002&quot;, new Float(&quot;3.49&quot;), 25);\r\n\tProduct pears = new Product(&quot;Pears&quot;, &quot;003&quot;, new Float(&quot;4.25&quot;), 15);\r\n\t\r\n\t// add objects to ArrayList\r\n\tlistOfProducts.add(apples);\r\n\tlistOfProducts.add(bananas);\r\n\tlistOfProducts.add(pears);\r\n\t\r\n\treturn listOfProducts;\r\n\t}\r\n\t\r\n\r\n\t@WebMethod(operationName = &quot;AddProduct&quot;, action = &quot;urn:AddProduct&quot;)\r\n\tpublic String AddProduct( @WebParam(name = &quot;arg0&quot;) String name, @WebParam(name = &quot;arg1&quot;) String code, @WebParam(name = &quot;arg2&quot;) float price, @WebParam(name = &quot;arg3&quot;) int quantity) {\r\n\t\t// retrieve existing product list\r\n\t\tArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\r\n\t\t\r\n\t\t// create the new product listing\r\n\t\tProduct addition = new Product(name, code, price, quantity);\r\n\t\t\r\n\t\t// check to see if product listing already exists - skipped for now\r\n\t\t\r\n\t\t// add new product listing to the existing product list\r\n\t\tcatalog.add(addition);\r\n\t\treturn &quot;Successfully added Product&quot;;\r\n\t}\r\n\t\r\n\r\n\r\n\t@WebMethod(operationName = &quot;DeleteProduct&quot;, action = &quot;urn:DeleteProduct&quot;)\r\n\tpublic boolean DeleteProduct( @WebParam(name = &quot;arg0&quot;) String name ) {\r\n\t\t// retrieve existing product list\r\n\t\tArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\r\n\t\t\r\n\t\t// search for named product\r\n\t\t// remove Product from ArrayList if same as named product\r\n\t\tIterator&lt;Product&gt; it = catalog.iterator();\r\n\t\twhile (it.hasNext())\r\n\t\t{\r\n\t\t\tProduct x = it.next();\r\n\t\t\tif (x.getName().equals(name))\t{\t\t\t\r\n\t\t\t\tit.remove();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t\r\n\r\n\t@WebMethod(operationName = &quot;SearchProduct&quot;, action = &quot;urn:SearchProduct&quot;)\r\n\tpublic Product SearchProduct( @WebParam(name = &quot;arg0&quot;) String name ) {\r\n\t\t// retrieve existing product list\r\n\t\tArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\r\n\t\t\r\n\t\t// search for product name in list \r\n\t\tIterator&lt;Product&gt; it = catalog.iterator();\r\n\t\twhile (it.hasNext())\r\n\t\t{\r\n\t\t\tProduct x = it.next();\r\n\t\t\tif (x.getName().equals(name))\t{\t\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}\t\r\n\t\r\n\r\n\t@WebMethod(operationName = &quot;GetPrice&quot;, action = &quot;urn:GetPrice&quot;)\r\n\tpublic float GetPrice( @WebParam(name = &quot;arg0&quot;) String name ) {\r\n\t\t\r\n\t\tArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\r\n\t\t\r\n\t\t// search for product name in list \r\n\t\tIterator&lt;Product&gt; it = catalog.iterator();\r\n\t\twhile (it.hasNext())\r\n\t\t{\r\n\t\t\tProduct x = it.next();\r\n\t\t\tif (x.getName().equals(name))\t{\t\r\n\t\t\t\treturn x.getPrice();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (float) 0.0;\r\n\t} \r\n}\r\n```\r\nHere is my Product.java file:\r\n\r\n        package net.ProductCatalog;\r\n    \r\n    class Product {\r\n    \tprivate String name;\r\n    \tprivate String code;\r\n    \tprivate float price;\r\n    \tprivate int quantity;\r\n    \t\r\n    \tpublic Product(String name,\r\n    \t\t\t\tString code,\r\n    \t\t\t\tfloat price,\r\n    \t\t\t\tint quantity) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.code = code;\r\n    \t\tthis.price = price;\r\n    \t\tthis.quantity = quantity;\r\n    \t}\r\n    \t\r\n    \t// getters\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic String getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    \tpublic float getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \tpublic int getQuantity() {\r\n    \t\treturn quantity;\r\n    \t}\r\n    \t\r\n    \t// setters\r\n    \t\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic void setCode(String code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    \tpublic void setPrice(float price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \tpublic void setQuantity(int quantity) {\r\n    \t\tthis.quantity = quantity;\r\n    \t}\r\n    }\r\n\r\n```\r\nAnd here is my WSDL file:\r\n\r\n```\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;wsdl:definitions name=&quot;ProductCatalogService&quot; targetNamespace=&quot;http://ProductCatalog.net/&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://ProductCatalog.net/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&gt;\r\n      &lt;wsdl:types&gt;\r\n        &lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n      &lt;import namespace=&quot;http://ProductCatalog.net/&quot; schemaLocation=&quot;productcatalog_schema1.xsd&quot;/&gt;\r\n    &lt;/schema&gt;\r\n      &lt;/wsdl:types&gt;\r\n      &lt;wsdl:message name=&quot;DeleteProductResponse&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:DeleteProductResponse&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:message name=&quot;DeleteProduct&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:DeleteProduct&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:message name=&quot;SearchProductResponse&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:SearchProductResponse&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:message name=&quot;AddProductResponse&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:AddProductResponse&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:message name=&quot;GetPrice&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:GetPrice&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:message name=&quot;GetPriceResponse&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:GetPriceResponse&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:message name=&quot;AddProduct&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:AddProduct&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:message name=&quot;SearchProduct&quot;&gt;\r\n        &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:SearchProduct&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n      &lt;/wsdl:message&gt;\r\n      &lt;wsdl:portType name=&quot;ProductCatalog&quot;&gt;\r\n        &lt;wsdl:operation name=&quot;DeleteProduct&quot;&gt;\r\n          &lt;wsdl:input name=&quot;DeleteProduct&quot; message=&quot;tns:DeleteProduct&quot;&gt;\r\n        &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;DeleteProductResponse&quot; message=&quot;tns:DeleteProductResponse&quot;&gt;\r\n        &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n        &lt;wsdl:operation name=&quot;GetPrice&quot;&gt;\r\n          &lt;wsdl:input name=&quot;GetPrice&quot; message=&quot;tns:GetPrice&quot;&gt;\r\n        &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;GetPriceResponse&quot; message=&quot;tns:GetPriceResponse&quot;&gt;\r\n        &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n        &lt;wsdl:operation name=&quot;AddProduct&quot;&gt;\r\n          &lt;wsdl:input name=&quot;AddProduct&quot; message=&quot;tns:AddProduct&quot;&gt;\r\n        &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;AddProductResponse&quot; message=&quot;tns:AddProductResponse&quot;&gt;\r\n        &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n        &lt;wsdl:operation name=&quot;SearchProduct&quot;&gt;\r\n          &lt;wsdl:input name=&quot;SearchProduct&quot; message=&quot;tns:SearchProduct&quot;&gt;\r\n        &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;SearchProductResponse&quot; message=&quot;tns:SearchProductResponse&quot;&gt;\r\n        &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n      &lt;/wsdl:portType&gt;\r\n      &lt;wsdl:binding name=&quot;ProductCatalogServiceSoapBinding&quot; type=&quot;tns:ProductCatalog&quot;&gt;\r\n        &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n        &lt;wsdl:operation name=&quot;DeleteProduct&quot;&gt;\r\n          &lt;soap:operation soapAction=&quot;urn:DeleteProduct&quot; style=&quot;document&quot;/&gt;\r\n          &lt;wsdl:input name=&quot;DeleteProduct&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;DeleteProductResponse&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n        &lt;wsdl:operation name=&quot;GetPrice&quot;&gt;\r\n          &lt;soap:operation soapAction=&quot;urn:GetPrice&quot; style=&quot;document&quot;/&gt;\r\n          &lt;wsdl:input name=&quot;GetPrice&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;GetPriceResponse&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n        &lt;wsdl:operation name=&quot;AddProduct&quot;&gt;\r\n          &lt;soap:operation soapAction=&quot;urn:AddProduct&quot; style=&quot;document&quot;/&gt;\r\n          &lt;wsdl:input name=&quot;AddProduct&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;AddProductResponse&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n        &lt;wsdl:operation name=&quot;SearchProduct&quot;&gt;\r\n          &lt;soap:operation soapAction=&quot;urn:SearchProduct&quot; style=&quot;document&quot;/&gt;\r\n          &lt;wsdl:input name=&quot;SearchProduct&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:input&gt;\r\n          &lt;wsdl:output name=&quot;SearchProductResponse&quot;&gt;\r\n            &lt;soap:body use=&quot;literal&quot;/&gt;\r\n          &lt;/wsdl:output&gt;\r\n        &lt;/wsdl:operation&gt;\r\n      &lt;/wsdl:binding&gt;\r\n      &lt;wsdl:service name=&quot;ProductCatalogService&quot;&gt;\r\n        &lt;wsdl:port name=&quot;ProductCatalogPort&quot; binding=&quot;tns:ProductCatalogServiceSoapBinding&quot;&gt;\r\n          &lt;soap:address location=&quot;http://localhost:8080/ProductCatalog/services&quot;/&gt;\r\n        &lt;/wsdl:port&gt;\r\n      &lt;/wsdl:service&gt;\r\n    &lt;/wsdl:definitions&gt;\r\n\r\n    enter code here","title":"Error launching a Tomcat web service with CXF due to exception &quot;error creating a bean&quot;","body":"<p>I'm trying to launch a web server, and am getting this error code:</p>\n<blockquote>\n<p>WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productcatalog': Invocation of init method failed; nested exception is javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Could not find definition for service {http://ProductCatalog.net/}ProductCatalog.</p>\n</blockquote>\n<p>Here is my ProductCatalog.java file:</p>\n<pre><code>package net.ProductCatalog;\n\nimport java.util.ArrayList;\n\n\nimport java.util.Iterator;\n\nimport javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebService;\nimport javax.jws.soap.*;\n\n\n\n@WebService(targetNamespace = &quot;http://ProductCatalog.net/&quot;, portName = &quot;ProductCatalogPort&quot;, serviceName = &quot;ProductCatalogService&quot;)\n@SOAPBinding(style = SOAPBinding.Style.DOCUMENT)\npublic class ProductCatalog {       \n    \n\n        public static ArrayList&lt;Product&gt; CreateCatalog() {\n        \n    ArrayList&lt;Product&gt; listOfProducts = new ArrayList&lt;Product&gt;();\n\n    Product apples = new Product(&quot;Apples&quot;, &quot;001&quot;, new Float(&quot;5.99&quot;), 50);\n    Product bananas = new Product(&quot;Bananas&quot;, &quot;002&quot;, new Float(&quot;3.49&quot;), 25);\n    Product pears = new Product(&quot;Pears&quot;, &quot;003&quot;, new Float(&quot;4.25&quot;), 15);\n    \n    // add objects to ArrayList\n    listOfProducts.add(apples);\n    listOfProducts.add(bananas);\n    listOfProducts.add(pears);\n    \n    return listOfProducts;\n    }\n    \n\n    @WebMethod(operationName = &quot;AddProduct&quot;, action = &quot;urn:AddProduct&quot;)\n    public String AddProduct( @WebParam(name = &quot;arg0&quot;) String name, @WebParam(name = &quot;arg1&quot;) String code, @WebParam(name = &quot;arg2&quot;) float price, @WebParam(name = &quot;arg3&quot;) int quantity) {\n        // retrieve existing product list\n        ArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\n        \n        // create the new product listing\n        Product addition = new Product(name, code, price, quantity);\n        \n        // check to see if product listing already exists - skipped for now\n        \n        // add new product listing to the existing product list\n        catalog.add(addition);\n        return &quot;Successfully added Product&quot;;\n    }\n    \n\n\n    @WebMethod(operationName = &quot;DeleteProduct&quot;, action = &quot;urn:DeleteProduct&quot;)\n    public boolean DeleteProduct( @WebParam(name = &quot;arg0&quot;) String name ) {\n        // retrieve existing product list\n        ArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\n        \n        // search for named product\n        // remove Product from ArrayList if same as named product\n        Iterator&lt;Product&gt; it = catalog.iterator();\n        while (it.hasNext())\n        {\n            Product x = it.next();\n            if (x.getName().equals(name))   {           \n                it.remove();\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    \n\n    @WebMethod(operationName = &quot;SearchProduct&quot;, action = &quot;urn:SearchProduct&quot;)\n    public Product SearchProduct( @WebParam(name = &quot;arg0&quot;) String name ) {\n        // retrieve existing product list\n        ArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\n        \n        // search for product name in list \n        Iterator&lt;Product&gt; it = catalog.iterator();\n        while (it.hasNext())\n        {\n            Product x = it.next();\n            if (x.getName().equals(name))   {   \n                return x;\n            }\n        }\n        \n        return null;\n    }   \n    \n\n    @WebMethod(operationName = &quot;GetPrice&quot;, action = &quot;urn:GetPrice&quot;)\n    public float GetPrice( @WebParam(name = &quot;arg0&quot;) String name ) {\n        \n        ArrayList&lt;Product&gt; catalog = ProductCatalog.CreateCatalog();\n        \n        // search for product name in list \n        Iterator&lt;Product&gt; it = catalog.iterator();\n        while (it.hasNext())\n        {\n            Product x = it.next();\n            if (x.getName().equals(name))   {   \n                return x.getPrice();\n            }\n        }\n        \n        return (float) 0.0;\n    } \n}\n</code></pre>\n<p>Here is my Product.java file:</p>\n<pre><code>    package net.ProductCatalog;\n\nclass Product {\n    private String name;\n    private String code;\n    private float price;\n    private int quantity;\n    \n    public Product(String name,\n                String code,\n                float price,\n                int quantity) {\n        this.name = name;\n        this.code = code;\n        this.price = price;\n        this.quantity = quantity;\n    }\n    \n    // getters\n    \n    public String getName() {\n        return name;\n    }\n    public String getCode() {\n        return code;\n    }\n    public float getPrice() {\n        return price;\n    }\n    public int getQuantity() {\n        return quantity;\n    }\n    \n    // setters\n    \n    public void setName(String name) {\n        this.name = name;\n    }\n    public void setCode(String code) {\n        this.code = code;\n    }\n    public void setPrice(float price) {\n        this.price = price;\n    }\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n}\n</code></pre>\n<pre><code>And here is my WSDL file:\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wsdl:definitions name=&quot;ProductCatalogService&quot; targetNamespace=&quot;http://ProductCatalog.net/&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:tns=&quot;http://ProductCatalog.net/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&gt;\n  &lt;wsdl:types&gt;\n    &lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n  &lt;import namespace=&quot;http://ProductCatalog.net/&quot; schemaLocation=&quot;productcatalog_schema1.xsd&quot;/&gt;\n&lt;/schema&gt;\n  &lt;/wsdl:types&gt;\n  &lt;wsdl:message name=&quot;DeleteProductResponse&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:DeleteProductResponse&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=&quot;DeleteProduct&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:DeleteProduct&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=&quot;SearchProductResponse&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:SearchProductResponse&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=&quot;AddProductResponse&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:AddProductResponse&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=&quot;GetPrice&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:GetPrice&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=&quot;GetPriceResponse&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:GetPriceResponse&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=&quot;AddProduct&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:AddProduct&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=&quot;SearchProduct&quot;&gt;\n    &lt;wsdl:part name=&quot;parameters&quot; element=&quot;tns:SearchProduct&quot;&gt;\n    &lt;/wsdl:part&gt;\n  &lt;/wsdl:message&gt;\n  &lt;wsdl:portType name=&quot;ProductCatalog&quot;&gt;\n    &lt;wsdl:operation name=&quot;DeleteProduct&quot;&gt;\n      &lt;wsdl:input name=&quot;DeleteProduct&quot; message=&quot;tns:DeleteProduct&quot;&gt;\n    &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;DeleteProductResponse&quot; message=&quot;tns:DeleteProductResponse&quot;&gt;\n    &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=&quot;GetPrice&quot;&gt;\n      &lt;wsdl:input name=&quot;GetPrice&quot; message=&quot;tns:GetPrice&quot;&gt;\n    &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;GetPriceResponse&quot; message=&quot;tns:GetPriceResponse&quot;&gt;\n    &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=&quot;AddProduct&quot;&gt;\n      &lt;wsdl:input name=&quot;AddProduct&quot; message=&quot;tns:AddProduct&quot;&gt;\n    &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;AddProductResponse&quot; message=&quot;tns:AddProductResponse&quot;&gt;\n    &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=&quot;SearchProduct&quot;&gt;\n      &lt;wsdl:input name=&quot;SearchProduct&quot; message=&quot;tns:SearchProduct&quot;&gt;\n    &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;SearchProductResponse&quot; message=&quot;tns:SearchProductResponse&quot;&gt;\n    &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n  &lt;/wsdl:portType&gt;\n  &lt;wsdl:binding name=&quot;ProductCatalogServiceSoapBinding&quot; type=&quot;tns:ProductCatalog&quot;&gt;\n    &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n    &lt;wsdl:operation name=&quot;DeleteProduct&quot;&gt;\n      &lt;soap:operation soapAction=&quot;urn:DeleteProduct&quot; style=&quot;document&quot;/&gt;\n      &lt;wsdl:input name=&quot;DeleteProduct&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;DeleteProductResponse&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=&quot;GetPrice&quot;&gt;\n      &lt;soap:operation soapAction=&quot;urn:GetPrice&quot; style=&quot;document&quot;/&gt;\n      &lt;wsdl:input name=&quot;GetPrice&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;GetPriceResponse&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=&quot;AddProduct&quot;&gt;\n      &lt;soap:operation soapAction=&quot;urn:AddProduct&quot; style=&quot;document&quot;/&gt;\n      &lt;wsdl:input name=&quot;AddProduct&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;AddProductResponse&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n    &lt;wsdl:operation name=&quot;SearchProduct&quot;&gt;\n      &lt;soap:operation soapAction=&quot;urn:SearchProduct&quot; style=&quot;document&quot;/&gt;\n      &lt;wsdl:input name=&quot;SearchProduct&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=&quot;SearchProductResponse&quot;&gt;\n        &lt;soap:body use=&quot;literal&quot;/&gt;\n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n  &lt;/wsdl:binding&gt;\n  &lt;wsdl:service name=&quot;ProductCatalogService&quot;&gt;\n    &lt;wsdl:port name=&quot;ProductCatalogPort&quot; binding=&quot;tns:ProductCatalogServiceSoapBinding&quot;&gt;\n      &lt;soap:address location=&quot;http://localhost:8080/ProductCatalog/services&quot;/&gt;\n    &lt;/wsdl:port&gt;\n  &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n\nenter code here\n</code></pre>\n"},{"tags":["java","datetime","date"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1430689595,"post_id":136419,"comment_id":48156911,"body_markdown":"No, `java.util.Date` is *not* deprecated, not as of Java 8. Some of its methods are deprecated but not the entire class. But you should avoid both `java.util.Date` and `java.util.Calendar` as they are notoriously troublesome, confusing, and flawed. Instead use either [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) (in Java 8) or [Joda-Time](http://www.joda.org/joda-time/).","body":"No, <code>java.util.Date</code> is <i>not</i> deprecated, not as of Java 8. Some of its methods are deprecated but not the entire class. But you should avoid both <code>java.util.Date</code> and <code>java.util.Calendar</code> as they are notoriously troublesome, confusing, and flawed. Instead use either <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> (in Java 8) or <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>."}],"answers":[{"comments":[{"owner":{"account_id":258,"reputation":14545,"user_id":318,"accept_rate":100,"display_name":"karlgrz"},"score":2,"creation_date":1222380224,"post_id":136434,"comment_id":35196,"body_markdown":"Upon seeing your answer, Calendar would be a fine object to use. I was looking for a one-liner and I didn&#39;t think Calendar would have that for me. Proven wrong I am! Thanks!","body":"Upon seeing your answer, Calendar would be a fine object to use. I was looking for a one-liner and I didn&#39;t think Calendar would have that for me. Proven wrong I am! Thanks!"},{"owner":{"account_id":224973,"reputation":800,"user_id":485180,"display_name":"Knatpolsar"},"score":1,"creation_date":1354702748,"post_id":136434,"comment_id":18847384,"body_markdown":"What about concurrency, what if other thread/piece of library code changes current time? Wouldn&#39;t it be reasonable to modify it to something like: Calendar c = Calendar.getInstance(); synchronized (c) {c.setTimeInMillis(System.currentTimeMillis()); return c.get(Calendar.YEAR);}","body":"What about concurrency, what if other thread/piece of library code changes current time? Wouldn&#39;t it be reasonable to modify it to something like: Calendar c = Calendar.getInstance(); synchronized (c) {c.setTimeInMillis(System.currentTimeMillis()); return c.get(Calendar.YEAR);}"},{"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"score":1,"creation_date":1357459568,"post_id":136434,"comment_id":19652215,"body_markdown":"This returns a different value in different versions of Android.  I am comparing Android v4.1.2 with v4.2.1 .","body":"This returns a different value in different versions of Android.  I am comparing Android v4.1.2 with v4.2.1 ."},{"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"score":0,"creation_date":1357744138,"post_id":136434,"comment_id":19754701,"body_markdown":"I removed my SIM card from the phone with 4.1.2.  So the network was not able to update the Date and Time on the phone.  Consequently the phone was stuck in 2012.  Looks like this is not a bug in 4.1.2 .","body":"I removed my SIM card from the phone with 4.1.2.  So the network was not able to update the Date and Time on the phone.  Consequently the phone was stuck in 2012.  Looks like this is not a bug in 4.1.2 ."},{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":6,"creation_date":1399985198,"post_id":136434,"comment_id":36285999,"body_markdown":"@ycnix There&#39;s no concurrency issue with the code, so there is no need to make it more compilcated. `Calendar.getInstance().get(Calendar.YEAR)`  is atomic in regards to the clock being changed externally, and doing `synchronized(c)` on a newly instance of a local variable would anyhow be very pointless here.","body":"@ycnix There&#39;s no concurrency issue with the code, so there is no need to make it more compilcated. <code>Calendar.getInstance().get(Calendar.YEAR)</code>  is atomic in regards to the clock being changed externally, and doing <code>synchronized(c)</code> on a newly instance of a local variable would anyhow be very pointless here."},{"owner":{"account_id":1898614,"reputation":7855,"user_id":1714997,"accept_rate":80,"display_name":"Dominykas Mostauskis"},"score":8,"creation_date":1431345072,"post_id":136434,"comment_id":48440106,"body_markdown":"`import java.util.Calendar`","body":"<code>import java.util.Calendar</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1508769423,"post_id":136434,"comment_id":80731193,"body_markdown":"FYI, the troublesome old date-time classes used here are now legacy, supplanted by the vastly improved java.time classes.","body":"FYI, the troublesome old date-time classes used here are now legacy, supplanted by the vastly improved java.time classes."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":1,"creation_date":1521646071,"post_id":136434,"comment_id":85822265,"body_markdown":"It may be interesting to add the new way of doing it (detailed in the answer below) in Java 8.","body":"It may be interesting to add the new way of doing it (detailed in the answer below) in Java 8."},{"owner":{"account_id":3081969,"reputation":10354,"user_id":2609980,"accept_rate":94,"display_name":"user2609980"},"score":1,"creation_date":1673629690,"post_id":136434,"comment_id":132549748,"body_markdown":"`import java.time` for `Year`","body":"<code>import java.time</code> for <code>Year</code>"}],"tags":[],"owner":{"account_id":10397,"reputation":30272,"user_id":19629,"accept_rate":85,"display_name":"cagcowboy"},"comment_count":9,"down_vote_count":3,"up_vote_count":792,"is_accepted":true,"score":789,"last_activity_date":1666778442,"creation_date":1222379801,"answer_id":136434,"question_id":136419,"body_markdown":"\r\nFor Java 8 onwards:\r\n\r\n    int year = Year.now().getValue();\r\n\r\nFor older version of Java:\r\n\r\n    int year = Calendar.getInstance().get(Calendar.YEAR);\r\n\r\n","title":"Get integer value of the current year in Java","body":"<p>For Java 8 onwards:</p>\n<pre><code>int year = Year.now().getValue();\n</code></pre>\n<p>For older version of Java:</p>\n<pre><code>int year = Calendar.getInstance().get(Calendar.YEAR);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"score":0,"creation_date":1222380039,"post_id":136445,"comment_id":35187,"body_markdown":"Calendar.YEAR is not the current year.","body":"Calendar.YEAR is not the current year."},{"owner":{"account_id":10397,"reputation":30272,"user_id":19629,"accept_rate":85,"display_name":"cagcowboy"},"score":0,"creation_date":1222380097,"post_id":136445,"comment_id":35189,"body_markdown":"Calendar.YEAR is defined thus...\n\n    public final static int YEAR = 1;","body":"Calendar.YEAR is defined thus...      public final static int YEAR = 1;"},{"owner":{"account_id":4549,"reputation":25490,"user_id":6897,"accept_rate":92,"display_name":"Bob King"},"score":2,"creation_date":1222380505,"post_id":136445,"comment_id":35210,"body_markdown":"The get() API on Calendar gets the datum that is at the field specified by the constant. The year is located in the 1&#39;s field in the Calendar object! Calendar.getInstance() is getting the current date.\n\nhttp://java.sun.com/j2se/1.4.2/docs/api/java/util/Calendar.html#get(int)","body":"The get() API on Calendar gets the datum that is at the field specified by the constant. The year is located in the 1&#39;s field in the Calendar object! Calendar.getInstance() is getting the current date.  <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Calendar.html#get(int)\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"score":0,"creation_date":1357466998,"post_id":136445,"comment_id":19653454,"body_markdown":"This returns a different value in different versions of Android. I am comparing Android v4.1.2 with v4.2.1 .","body":"This returns a different value in different versions of Android. I am comparing Android v4.1.2 with v4.2.1 ."},{"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"score":0,"creation_date":1357770096,"post_id":136445,"comment_id":19770270,"body_markdown":"I removed my SIM card from the phone with 4.1.2. So the network was not able to update the Date and Time on the phone. Consequently the phone was stuck in 2012. Looks like this is not a bug in 4.1.2 .","body":"I removed my SIM card from the phone with 4.1.2. So the network was not able to update the Date and Time on the phone. Consequently the phone was stuck in 2012. Looks like this is not a bug in 4.1.2 ."}],"tags":[],"owner":{"account_id":1105,"reputation":7068,"user_id":1467,"accept_rate":100,"display_name":"conmulligan"},"comment_count":5,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1222379927,"creation_date":1222379927,"answer_id":136445,"question_id":136419,"body_markdown":"The easiest way is to get the year from Calendar.\r\n\r\n    // year is stored as a static member\r\n    int year = Calendar.getInstance().get(Calendar.YEAR);\r\n\r\n","title":"Get integer value of the current year in Java","body":"<p>The easiest way is to get the year from Calendar.</p>\n\n<pre><code>// year is stored as a static member\nint year = Calendar.getInstance().get(Calendar.YEAR);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"score":0,"creation_date":1357466969,"post_id":136455,"comment_id":19653446,"body_markdown":"This returns a different value in different versions of Android. I am comparing Android v4.1.2 with v4.2.1 .","body":"This returns a different value in different versions of Android. I am comparing Android v4.1.2 with v4.2.1 ."},{"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"score":1,"creation_date":1357577679,"post_id":136455,"comment_id":19688149,"body_markdown":"@toobsco42 - try googling for &#39;android calendar.year bug&#39;","body":"@toobsco42 - try googling for &#39;android calendar.year bug&#39;"},{"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"score":0,"creation_date":1357579250,"post_id":136455,"comment_id":19688929,"body_markdown":"Hey @toolkit, I have been doing some research with no luck.  I was hoping for a more specific answer.","body":"Hey @toolkit, I have been doing some research with no luck.  I was hoping for a more specific answer."},{"owner":{"account_id":235684,"reputation":6837,"user_id":502671,"accept_rate":71,"display_name":"Etienne Lawlor"},"score":0,"creation_date":1357770134,"post_id":136455,"comment_id":19770286,"body_markdown":"I removed my SIM card from the phone with 4.1.2. So the network was not able to update the Date and Time on the phone. Consequently the phone was stuck in 2012. Looks like this is not a bug in 4.1.2 .","body":"I removed my SIM card from the phone with 4.1.2. So the network was not able to update the Date and Time on the phone. Consequently the phone was stuck in 2012. Looks like this is not a bug in 4.1.2 ."}],"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":4,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1222380004,"creation_date":1222380004,"answer_id":136455,"question_id":136419,"body_markdown":"This simplest (using Calendar, sorry) is:\r\n\r\n     int year = Calendar.getInstance().get(Calendar.YEAR);\r\n\r\nThere is also the new [Date and Time API JSR](https://jsr-310.dev.java.net/), as well as [Joda Time](http://joda-time.sourceforge.net/)","title":"Get integer value of the current year in Java","body":"<p>This simplest (using Calendar, sorry) is:</p>\n\n<pre><code> int year = Calendar.getInstance().get(Calendar.YEAR);\n</code></pre>\n\n<p>There is also the new <a href=\"https://jsr-310.dev.java.net/\" rel=\"noreferrer\">Date and Time API JSR</a>, as well as <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda Time</a></p>\n"},{"tags":[],"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1222381008,"creation_date":1222381008,"answer_id":136543,"question_id":136419,"body_markdown":"If your application is making heavy use of Date and Calendar objects, you really should use Joda Time, because `java.util.Date` is mutable. `java.util.Calendar` has performance problems when its fields get updated, and is clunky for datetime arithmetic. ","title":"Get integer value of the current year in Java","body":"<p>If your application is making heavy use of Date and Calendar objects, you really should use Joda Time, because <code>java.util.Date</code> is mutable. <code>java.util.Calendar</code> has performance problems when its fields get updated, and is clunky for datetime arithmetic. </p>\n"},{"tags":[],"owner":{"account_id":11050,"reputation":5484,"user_id":21152,"accept_rate":62,"display_name":"maxp"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1222403080,"creation_date":1222403080,"answer_id":137770,"question_id":136419,"body_markdown":"I use special functions in my library to work with days/month/year ints -\r\n\r\n    int[] int_dmy( long timestamp ) // remember month is [0..11] !!!\r\n    {\r\n      Calendar cal = new GregorianCalendar(); cal.setTimeInMillis( timestamp );\r\n      return new int[] { \r\n        cal.get( Calendar.DATE ), cal.get( Calendar.MONTH ), cal.get( Calendar.YEAR )\r\n      };\r\n    };\r\n    \r\n    \r\n    int[] int_dmy( Date d ) { \r\n     ...\r\n    }\r\n\r\n\r\n","title":"Get integer value of the current year in Java","body":"<p>I use special functions in my library to work with days/month/year ints -</p>\n\n<pre><code>int[] int_dmy( long timestamp ) // remember month is [0..11] !!!\n{\n  Calendar cal = new GregorianCalendar(); cal.setTimeInMillis( timestamp );\n  return new int[] { \n    cal.get( Calendar.DATE ), cal.get( Calendar.MONTH ), cal.get( Calendar.YEAR )\n  };\n};\n\n\nint[] int_dmy( Date d ) { \n ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":505513,"reputation":3684,"user_id":959045,"display_name":"Stefan Paul Noack"},"score":11,"creation_date":1410139663,"post_id":138019,"comment_id":40201158,"body_markdown":"are you working for apple, perhaps? http://www.macworld.com/article/2023580/ios-do-not-disturb-feature-oversleeps-on-new-year-s-day.html","body":"are you working for apple, perhaps? <a href=\"http://www.macworld.com/article/2023580/ios-do-not-disturb-feature-oversleeps-on-new-year-s-day.html\" rel=\"nofollow noreferrer\">macworld.com/article/2023580/&hellip;</a>"},{"owner":{"account_id":272713,"reputation":1620,"user_id":563945,"accept_rate":87,"display_name":"LStrike"},"score":0,"creation_date":1452852510,"post_id":138019,"comment_id":57359491,"body_markdown":"wow, this is very heavy, I would suggest to keep it simple like cagcowboy has shown it.","body":"wow, this is very heavy, I would suggest to keep it simple like cagcowboy has shown it."},{"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"score":1,"creation_date":1539886671,"post_id":138019,"comment_id":92673801,"body_markdown":"This may not be the best in all circumstances, but it doesn&#39;t deserve downvotes.","body":"This may not be the best in all circumstances, but it doesn&#39;t deserve downvotes."}],"tags":[],"owner":{"account_id":5903,"reputation":5376,"user_id":9731,"accept_rate":0,"display_name":"Ewan Makepeace"},"comment_count":3,"down_vote_count":9,"up_vote_count":9,"is_accepted":false,"score":0,"last_activity_date":1222409870,"creation_date":1222409870,"answer_id":138019,"question_id":136419,"body_markdown":"You can do the whole thing using Integer math without needing to instantiate a calendar:\r\n\r\n    return (System.currentTimeMillis()/1000/3600/24/365.25 +1970);\r\n\r\nMay be off for an hour or two at new year but I don&#39;t get the impression that is an issue?\r\n\r\n","title":"Get integer value of the current year in Java","body":"<p>You can do the whole thing using Integer math without needing to instantiate a calendar:</p>\n\n<pre><code>return (System.currentTimeMillis()/1000/3600/24/365.25 +1970);\n</code></pre>\n\n<p>May be off for an hour or two at new year but I don't get the impression that is an issue?</p>\n"},{"comments":[{"owner":{"account_id":2254890,"reputation":2008,"user_id":1986282,"accept_rate":60,"display_name":"Cyph3rCod3r"},"score":0,"creation_date":1527966526,"post_id":6761567,"comment_id":88330636,"body_markdown":"result is 1970!","body":"result is 1970!"}],"tags":[],"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1311163358,"creation_date":1311163358,"answer_id":6761567,"question_id":136419,"body_markdown":"If you want the year of any date object, I used the following method:\r\n\r\n    public static int getYearFromDate(Date date) {\r\n        int result = -1;\r\n        if (date != null) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            result = cal.get(Calendar.YEAR);\r\n        }\r\n        return result;\r\n    }\r\n","title":"Get integer value of the current year in Java","body":"<p>If you want the year of any date object, I used the following method:</p>\n\n<pre><code>public static int getYearFromDate(Date date) {\n    int result = -1;\n    if (date != null) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        result = cal.get(Calendar.YEAR);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5132802,"reputation":349,"user_id":4112413,"display_name":"maral04"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1455020763,"creation_date":1416839656,"answer_id":27107237,"question_id":136419,"body_markdown":"As some people answered above:\r\n\r\nIf you want to use the variable later, better use:\r\n\r\n   \r\n\r\n    int year;\r\n        \r\n    year = Calendar.getInstance().get(Calendar.YEAR);\r\n\r\nIf you need the year for just a condition you better use:\r\n\r\n    Calendar.getInstance().get(Calendar.YEAR)\r\n\r\nFor example using it in a do while that checks introduced year is not less than the current year-200 or more than the current year (Could be birth year):\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Scanner;\r\n    \r\n    public static void main (String[] args){\r\n        \r\n        Scanner scannernumber = new Scanner(System.in);\r\n        int year;\r\n\r\n        /*Checks that the year is not higher than the current year, and not less than the current year - 200 years.*/\r\n        \r\n        do{\r\n            System.out.print(&quot;Year (Between &quot;+((Calendar.getInstance().get(Calendar.YEAR))-200)+&quot; and &quot;+Calendar.getInstance().get(Calendar.YEAR)+&quot;) : &quot;);\r\n            year = scannernumber.nextInt();\r\n        }while(year &lt; ((Calendar.getInstance().get(Calendar.YEAR))-200) || year &gt; Calendar.getInstance().get(Calendar.YEAR));\r\n    }","title":"Get integer value of the current year in Java","body":"<p>As some people answered above:</p>\n\n<p>If you want to use the variable later, better use:</p>\n\n<pre><code>int year;\n\nyear = Calendar.getInstance().get(Calendar.YEAR);\n</code></pre>\n\n<p>If you need the year for just a condition you better use:</p>\n\n<pre><code>Calendar.getInstance().get(Calendar.YEAR)\n</code></pre>\n\n<p>For example using it in a do while that checks introduced year is not less than the current year-200 or more than the current year (Could be birth year):</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Scanner;\n\npublic static void main (String[] args){\n\n    Scanner scannernumber = new Scanner(System.in);\n    int year;\n\n    /*Checks that the year is not higher than the current year, and not less than the current year - 200 years.*/\n\n    do{\n        System.out.print(\"Year (Between \"+((Calendar.getInstance().get(Calendar.YEAR))-200)+\" and \"+Calendar.getInstance().get(Calendar.YEAR)+\") : \");\n        year = scannernumber.nextInt();\n    }while(year &lt; ((Calendar.getInstance().get(Calendar.YEAR))-200) || year &gt; Calendar.getInstance().get(Calendar.YEAR));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1508811419,"post_id":28891864,"comment_id":80749267,"body_markdown":"@AndrewT.,get [the ThreeTen Backport](http://www.threeten.org/threetenbp/) and it will work in Java 6 and 7 too.","body":"@AndrewT.,get <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">the ThreeTen Backport</a> and it will work in Java 6 and 7 too."}],"tags":[],"owner":{"account_id":175361,"reputation":3070,"user_id":405326,"accept_rate":93,"display_name":"Raffi Khatchadourian"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1425619630,"creation_date":1425612257,"answer_id":28891864,"question_id":136419,"body_markdown":"You can also use Java 8&#39;s [`LocalDate`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html):\r\n\r\n    import java.time.LocalDate;\r\n    //...\r\n    int year = LocalDate.now().getYear();","title":"Get integer value of the current year in Java","body":"<p>You can also use Java 8's <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>:</p>\n\n<pre><code>import java.time.LocalDate;\n//...\nint year = LocalDate.now().getYear();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1969329,"reputation":1414,"user_id":1768736,"accept_rate":74,"display_name":"FBB"},"score":2,"creation_date":1518011125,"post_id":30019752,"comment_id":84328169,"body_markdown":"All zone IDs for the lazy ones (as me): https://www.mkyong.com/java8/java-display-all-zoneid-and-its-utc-offset/","body":"All zone IDs for the lazy ones (as me): <a href=\"https://www.mkyong.com/java8/java-display-all-zoneid-and-its-utc-offset/\" rel=\"nofollow noreferrer\">mkyong.com/java8/java-display-all-zoneid-and-its-utc-offset</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1530491391,"post_id":30019752,"comment_id":89240787,"body_markdown":"@FBB I suggest the [Wikipedia page for the official IANA list](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) of time zone names. **Beware: These zones change surprisingly often.** If you really want up-to-date info, download a fresh copy of [the `tzdata` data file](https://www.iana.org/time-zones) yourself. You can peruse the file. And you can replace an outdated tzdata in your Java implementation. Oracle provides an [updater tool](http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html) for their JVM.","body":"@FBB I suggest the <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Wikipedia page for the official IANA list</a> of time zone names. <b>Beware: These zones change surprisingly often.</b> If you really want up-to-date info, download a fresh copy of <a href=\"https://www.iana.org/time-zones\" rel=\"nofollow noreferrer\">the <code>tzdata</code> data file</a> yourself. You can peruse the file. And you can replace an outdated tzdata in your Java implementation. Oracle provides an <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"nofollow noreferrer\">updater tool</a> for their JVM."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1592667967,"creation_date":1430689344,"answer_id":30019752,"question_id":136419,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime.now(  ZoneId.of( &quot;Africa/Casablanca&quot; )  )\r\n                 .getYear()\r\n\r\n# Time Zone \r\n\r\n[The answer][1] by [Raffi Khatchadourian][2] wisely shows how to use the new [java.time package][3] in Java 8. But that answer fails to address the critical issue of time zone in determining a date.\r\n\r\n&gt;int year = LocalDate.now().getYear();\r\n\r\nThat code depends on the JVM&#39;s current default time zone. The default zone is used in determining what today’s date is. Remember, for example, that in the moment after midnight in Paris the date in Montr&#233;al is still &#39;yesterday&#39;. \r\n\r\nSo your results may vary by what machine it runs on, a user/admin changing the host OS time zone, or any Java code *at any moment* changing the JVM&#39;s current default. Better to specify the time zone.\r\n\r\nBy the way, always use [proper time zone names][4] as [defined by the IANA](https://www.iana.org/time-zones). Never use the 3-4 letter codes that are neither standardized nor unique.\r\n\r\n# java.time\r\n\r\nExample in java.time of Java 8.\r\n\r\n    int year = ZonedDateTime.now(  ZoneId.of( &quot;Africa/Casablanca&quot; )  ).getYear() ;\r\n\r\n# Joda-Time\r\n\r\nSome idea as above, but using the [Joda-Time][5] 2.7 library.\r\n\r\n    int year = DateTime.now( DateTimeZone.forID( &quot;Africa/Casablanca&quot; ) ).getYear() ;\r\n\r\n# Incrementing/Decrementing Year\r\n\r\nIf your goal is to jump a year at a time, no need to extract the year number. Both Joda-Time and java.time have methods for adding/subtracting a year at a time. And those methods are smart, handling Daylight Saving Time and other anomalies.\r\n\r\nExample in *java.time*.\r\n\r\n\r\n    ZonedDateTime zdt = \r\n        ZonedDateTime\r\n        .now(  ZoneId.of( &quot;Africa/Casablanca&quot; )  )\r\n        .minusYears( 1 ) \r\n    ;\r\n\r\nExample in Joda-Time 2.7.\r\n\r\n    DateTime oneYearAgo = DateTime.now( DateTimeZone.forID( &quot;Africa/Casablanca&quot; ) ).minusYears( 1 ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28891864/642706\r\n  [2]: https://stackoverflow.com/users/405326/raffi-khatchadourian\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [4]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [5]: http://www.joda.org/joda-time/","title":"Get integer value of the current year in Java","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime.now(  ZoneId.of( &quot;Africa/Casablanca&quot; )  )\n             .getYear()\n</code></pre>\n<h1>Time Zone</h1>\n<p><a href=\"https://stackoverflow.com/a/28891864/642706\">The answer</a> by <a href=\"https://stackoverflow.com/users/405326/raffi-khatchadourian\">Raffi Khatchadourian</a> wisely shows how to use the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> in Java 8. But that answer fails to address the critical issue of time zone in determining a date.</p>\n<blockquote>\n<p>int year = LocalDate.now().getYear();</p>\n</blockquote>\n<p>That code depends on the JVM's current default time zone. The default zone is used in determining what today’s date is. Remember, for example, that in the moment after midnight in Paris the date in Montréal is still 'yesterday'.</p>\n<p>So your results may vary by what machine it runs on, a user/admin changing the host OS time zone, or any Java code <em>at any moment</em> changing the JVM's current default. Better to specify the time zone.</p>\n<p>By the way, always use <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">proper time zone names</a> as <a href=\"https://www.iana.org/time-zones\" rel=\"noreferrer\">defined by the IANA</a>. Never use the 3-4 letter codes that are neither standardized nor unique.</p>\n<h1>java.time</h1>\n<p>Example in java.time of Java 8.</p>\n<pre><code>int year = ZonedDateTime.now(  ZoneId.of( &quot;Africa/Casablanca&quot; )  ).getYear() ;\n</code></pre>\n<h1>Joda-Time</h1>\n<p>Some idea as above, but using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 2.7 library.</p>\n<pre><code>int year = DateTime.now( DateTimeZone.forID( &quot;Africa/Casablanca&quot; ) ).getYear() ;\n</code></pre>\n<h1>Incrementing/Decrementing Year</h1>\n<p>If your goal is to jump a year at a time, no need to extract the year number. Both Joda-Time and java.time have methods for adding/subtracting a year at a time. And those methods are smart, handling Daylight Saving Time and other anomalies.</p>\n<p>Example in <em>java.time</em>.</p>\n<pre><code>ZonedDateTime zdt = \n    ZonedDateTime\n    .now(  ZoneId.of( &quot;Africa/Casablanca&quot; )  )\n    .minusYears( 1 ) \n;\n</code></pre>\n<p>Example in Joda-Time 2.7.</p>\n<pre><code>DateTime oneYearAgo = DateTime.now( DateTimeZone.forID( &quot;Africa/Casablanca&quot; ) ).minusYears( 1 ) ;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":10,"creation_date":1495561900,"post_id":33700141,"comment_id":75301660,"body_markdown":"I suggest always passing the optional `ZoneId` argument to `now` rather than rely implicitly on the JVM’s current default zone (that can change at any moment during runtime!).","body":"I suggest always passing the optional <code>ZoneId</code> argument to <code>now</code> rather than rely implicitly on the JVM’s current default zone (that can change at any moment during runtime!)."},{"owner":{"account_id":134026,"reputation":2889,"user_id":335867,"accept_rate":100,"display_name":"bcmoney"},"score":5,"creation_date":1590046481,"post_id":33700141,"comment_id":109533392,"body_markdown":"Which looks likes this BTW:\n`int year = Year.now(ZoneId.of(&quot;America/New_York&quot;)).getValue();`\nhttps://docs.oracle.com/javase/8/docs/api/java/time/Year.html#now--","body":"Which looks likes this BTW: <code>int year = Year.now(ZoneId.of(&quot;America&#47;New_York&quot;)).getValue();</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#now--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/Year.html#now--</a>"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":2,"down_vote_count":0,"up_vote_count":188,"is_accepted":false,"score":188,"last_activity_date":1452501683,"creation_date":1447441872,"answer_id":33700141,"question_id":136419,"body_markdown":"Using Java 8&#39;s time API (assuming you are happy to get the year in your system&#39;s default time zone), you could use [the `Year::now` method][1]:\r\n\r\n    int year = Year.now().getValue();\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#now--","title":"Get integer value of the current year in Java","body":"<p>Using Java 8's time API (assuming you are happy to get the year in your system's default time zone), you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Year.html#now--\" rel=\"noreferrer\">the <code>Year::now</code> method</a>:</p>\n\n<pre><code>int year = Year.now().getValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1495562204,"post_id":44138205,"comment_id":75301837,"body_markdown":"You incorrectly duplicate [another Answer](https://stackoverflow.com/a/33700141/642706) posted long ago. And you produce a month which is irrelevant to the Question. And you ignore the crucial issue of time zone. And your formatting is messy. I&#39;m glad to see you participating in Stack Overflow. But this Answer is not good enough. Edit to correct its weaknesses and add more value beyond that already provided by the other Answers. Or delete your Answer before it collects down-votes. P.S. Super avatar icon!","body":"You incorrectly duplicate <a href=\"https://stackoverflow.com/a/33700141/642706\">another Answer</a> posted long ago. And you produce a month which is irrelevant to the Question. And you ignore the crucial issue of time zone. And your formatting is messy. I&#39;m glad to see you participating in Stack Overflow. But this Answer is not good enough. Edit to correct its weaknesses and add more value beyond that already provided by the other Answers. Or delete your Answer before it collects down-votes. P.S. Super avatar icon!"},{"owner":{"account_id":8900304,"reputation":722,"user_id":6643968,"display_name":"Zhurov Konstantin"},"score":0,"creation_date":1495609626,"post_id":44138205,"comment_id":75319445,"body_markdown":"Thanks a lot man. I&#39;ve edited. link is a little bit different that my way","body":"Thanks a lot man. I&#39;ve edited. link is a little bit different that my way"}],"tags":[],"owner":{"account_id":8900304,"reputation":722,"user_id":6643968,"display_name":"Zhurov Konstantin"},"comment_count":2,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1503484552,"creation_date":1495551096,"answer_id":44138205,"question_id":136419,"body_markdown":"You can also use 2 methods from `java.time.YearMonth`( Since Java 8 ):\r\n\r\n    import java.time.YearMonth;\r\n    ...\r\n    int year = YearMonth.now().getYear();\r\n    int month = YearMonth.now().getMonthValue();\r\n\r\n","title":"Get integer value of the current year in Java","body":"<p>You can also use 2 methods from <code>java.time.YearMonth</code>( Since Java 8 ):</p>\n\n<pre><code>import java.time.YearMonth;\n...\nint year = YearMonth.now().getYear();\nint month = YearMonth.now().getMonthValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565171366,"creation_date":1565171366,"answer_id":57391538,"question_id":136419,"body_markdown":"Use the following code for java 8 :\r\n\r\n    LocalDate localDate = LocalDate.now();\r\n    int year = localDate.getYear();\r\n    int month = localDate.getMonthValue();\r\n    int date = localDate.getDayOfMonth();","title":"Get integer value of the current year in Java","body":"<p>Use the following code for java 8 :</p>\n\n<pre><code>LocalDate localDate = LocalDate.now();\nint year = localDate.getYear();\nint month = localDate.getMonthValue();\nint date = localDate.getDayOfMonth();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1591894615,"post_id":58837485,"comment_id":110235652,"body_markdown":"You are ignoring the crucial issue of time zone. See simpler solution in [other Answer](https://stackoverflow.com/a/33700141/642706).","body":"You are ignoring the crucial issue of time zone. See simpler solution in <a href=\"https://stackoverflow.com/a/33700141/642706\">other Answer</a>."}],"tags":[],"owner":{"account_id":7202279,"reputation":3472,"user_id":5499118,"accept_rate":8,"display_name":"Alex Martian"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1573649207,"creation_date":1573649207,"answer_id":58837485,"question_id":136419,"body_markdown":"In Java version 8+ can (advised to) use [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) library. [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) sets standard way to write dates: `YYYY-MM-DD` and `java.time.Instant` uses it, so (for `UTC`):\r\n\r\n    import java.time.Instant;\r\n    int myYear = Integer.parseInt(Instant.now().toString().substring(0,4));\r\n\r\nP.S. just in case (and shorted for getting `String`, not `int`), using `Calendar` looks better and can be made zone-aware.","title":"Get integer value of the current year in Java","body":"<p>In Java version 8+ can (advised to) use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> library. <a href=\"https://www.iso.org/iso-8601-date-and-time-format.html\" rel=\"nofollow noreferrer\">ISO 8601</a> sets standard way to write dates: <code>YYYY-MM-DD</code> and <code>java.time.Instant</code> uses it, so (for <code>UTC</code>):</p>\n\n<pre><code>import java.time.Instant;\nint myYear = Integer.parseInt(Instant.now().toString().substring(0,4));\n</code></pre>\n\n<p>P.S. just in case (and shorted for getting <code>String</code>, not <code>int</code>), using <code>Calendar</code> looks better and can be made zone-aware.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1591894429,"post_id":62329383,"comment_id":110235558,"body_markdown":"That method is deprecated. And that terrible class was supplanted years ago by the *java.time* classes defined in JSR 310. See modern solution in the [Answer by assylias](https://stackoverflow.com/a/33700141/642706).","body":"That method is deprecated. And that terrible class was supplanted years ago by the <i>java.time</i> classes defined in JSR 310. See modern solution in the <a href=\"https://stackoverflow.com/a/33700141/642706\">Answer by assylias</a>."},{"owner":{"account_id":11431209,"reputation":1015,"user_id":8379852,"display_name":"Mayur Satav"},"score":0,"creation_date":1592647450,"post_id":62329383,"comment_id":110503394,"body_markdown":"yeah but i was actively seeking for solution and tried many available solution and for me this one worked so i posted :)","body":"yeah but i was actively seeking for solution and tried many available solution and for me this one worked so i posted :)"}],"tags":[],"owner":{"account_id":11431209,"reputation":1015,"user_id":8379852,"display_name":"Mayur Satav"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591894006,"creation_date":1591894006,"answer_id":62329383,"question_id":136419,"body_markdown":"In my case none of the above is worked. So After trying lot of solutions i found below one and it worked for me\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Date;\r\n\r\npublic class Practice\r\n{   \r\n    public static void main(String[] args)\r\n    {\r\n        Date d=new Date();  \r\n        int year=d.getYear();\r\n        int currentYear=year+1900;    \r\n\r\n        System.out.println(currentYear);\r\n\r\n    }\r\n\r\n}","title":"Get integer value of the current year in Java","body":"<p>In my case none of the above is worked. So After trying lot of solutions i found below one and it worked for me</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.Date;\n\npublic class Practice\n{   \n    public static void main(String[] args)\n    {\n        Date d=new Date();  \n        int year=d.getYear();\n        int currentYear=year+1900;    \n\n        System.out.println(currentYear);\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662566782,"post_id":73637810,"comment_id":130037466,"body_markdown":"Not bad. It’s already in a couple of the other answers, which is the only reason why I am not upvoting.","body":"Not bad. It’s already in a couple of the other answers, which is the only reason why I am not upvoting."}],"tags":[],"owner":{"account_id":20289731,"reputation":11,"user_id":14881639,"display_name":"Maximiliano Salibe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662563323,"creation_date":1662563323,"answer_id":73637810,"question_id":136419,"body_markdown":"I may add that a simple way to get the current year as an integer is importing \r\njava.time.LocalDate and, then:\r\n\r\n    import java.time.LocalDate;\r\n    int yourVariable = LocalDate.now().getYear()\r\nHope this helps!","title":"Get integer value of the current year in Java","body":"<p>I may add that a simple way to get the current year as an integer is importing\njava.time.LocalDate and, then:</p>\n<pre><code>import java.time.LocalDate;\nint yourVariable = LocalDate.now().getYear()\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":258,"reputation":14545,"user_id":318,"accept_rate":100,"display_name":"karlgrz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624826,"favorite_count":0,"down_vote_count":1,"up_vote_count":380,"accepted_answer_id":136434,"answer_count":16,"score":379,"last_activity_date":1666778442,"creation_date":1222379632,"question_id":136419,"body_markdown":"I need to determine the current year in Java as an integer. I could just use `java.util.Date()`, but it is deprecated.","title":"Get integer value of the current year in Java","body":"<p>I need to determine the current year in Java as an integer. I could just use <code>java.util.Date()</code>, but it is deprecated.</p>\n"},{"tags":["java","scala","base64"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666772333,"post_id":74204228,"comment_id":131012858,"body_markdown":"Looks like a similar problem: https://stackoverflow.com/questions/28584080/base64-java-lang-illegalargumentexception-illegal-character","body":"Looks like a similar problem: <a href=\"https://stackoverflow.com/questions/28584080/base64-java-lang-illegalargumentexception-illegal-character\" title=\"base64 java lang illegalargumentexception illegal character\">stackoverflow.com/questions/28584080/&hellip;</a>"},{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1666772505,"post_id":74204228,"comment_id":131012916,"body_markdown":"5c is the ASCII code of  \\. I see you tried to remove \\r and \\n but there seems to be a \\ left in the string.","body":"5c is the ASCII code of  \\. I see you tried to remove \\r and \\n but there seems to be a \\ left in the string."},{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":0,"creation_date":1666775209,"post_id":74204228,"comment_id":131013780,"body_markdown":"Don&#39;t do that `replaceAll` on `Base64`. There is just wrong and will mess up the `Base64` encoded string. Also, keep in mind strings in java are utf-16.","body":"Don&#39;t do that <code>replaceAll</code> on <code>Base64</code>. There is just wrong and will mess up the <code>Base64</code> encoded string. Also, keep in mind strings in java are utf-16."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666778327,"post_id":74204228,"comment_id":131014787,"body_markdown":"Your base64 has been done wrong. You need to do it right. Fiddling about with a corrupt base64 string is not going to help you","body":"Your base64 has been done wrong. You need to do it right. Fiddling about with a corrupt base64 string is not going to help you"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666779017,"post_id":74204228,"comment_id":131015022,"body_markdown":"If, for some reason, you can&#39;t get it again uncorrupted, try  `replaceAll(&quot;\\\\\\\\n&quot;, &quot;&quot;);`","body":"If, for some reason, you can&#39;t get it again uncorrupted, try  <code>replaceAll(&quot;\\\\\\\\n&quot;, &quot;&quot;);</code>"}],"answers":[{"comments":[{"owner":{"account_id":11139181,"reputation":4296,"user_id":8176451,"display_name":"Shivam Sahil"},"score":0,"creation_date":1666781840,"post_id":74205825,"comment_id":131015926,"body_markdown":"Thank you so much @stefanobaghino. You have no idea how much helpful this was to me. When I tried out your code, it gave me a new error:  `Algid parse error, not a sequence` and then I checked https://stackoverflow.com/questions/6559272/algid-parse-error-not-a-sequence and finally its working now. Thanks a ton! just made my difficult day.","body":"Thank you so much @stefanobaghino. You have no idea how much helpful this was to me. When I tried out your code, it gave me a new error:  <code>Algid parse error, not a sequence</code> and then I checked <a href=\"https://stackoverflow.com/questions/6559272/algid-parse-error-not-a-sequence\" title=\"algid parse error not a sequence\">stackoverflow.com/questions/6559272/&hellip;</a> and finally its working now. Thanks a ton! just made my difficult day."},{"owner":{"account_id":11139181,"reputation":4296,"user_id":8176451,"display_name":"Shivam Sahil"},"score":0,"creation_date":1666781927,"post_id":74205825,"comment_id":131015944,"body_markdown":"Btw, is it possible to perform perm steps programatically instead of using cli? I had to generate those variables manually through terminal commands: `openssl pkcs8 -topk8 -inform PEM -in private.pem -out private_key.pem -nocrypt`?","body":"Btw, is it possible to perform perm steps programatically instead of using cli? I had to generate those variables manually through terminal commands: <code>openssl pkcs8 -topk8 -inform PEM -in private.pem -out private_key.pem -nocrypt</code>?"},{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":1,"creation_date":1666786957,"post_id":74205825,"comment_id":131017650,"body_markdown":"Java has APIs for that as well, you can start from https://docs.oracle.com/javase/tutorial/security/apisign/step2.html","body":"Java has APIs for that as well, you can start from <a href=\"https://docs.oracle.com/javase/tutorial/security/apisign/step2.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/security/apisign/step2.html</a>"}],"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666778172,"creation_date":1666778172,"answer_id":74205825,"question_id":74204228,"body_markdown":"Perhaps you should double check the encoding of your Base64 data. Base64 data can come encoded in different formats as defined in [RFC 4648][1] and [RFC 2045][2]. Java has different implementations for three different types of encoding as documented in the [`java.util.Base64` JavaDoc][3], Basic, MIME and URL-safe. From a couple of experiments it looks like yours is in the MIME format, so the following _should_ work:\r\n\r\n```\r\ndef convertToBase64(privateKeyB64: String) = {\r\n  val bytesArray = java.util.Base64.getMimeDecoder.decode(privateKeyB64)\r\n  val spec = new java.security.spec.PKCS8EncodedKeySpec(bytesArray)\r\n  java.security.KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(spec)\r\n}\r\n```\r\n\r\nI tried to run it locally but now the problem shifts towards generating the private key, so there may be some mismatch between the key you are generating and the expected format. Perhaps it&#39;s not a valid PKCS#8?\r\n\r\n\r\n  [1]: https://www.ietf.org/rfc/rfc4648.txt\r\n  [2]: https://www.ietf.org/rfc/rfc2045.txt\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Base64.html","title":"Scala - Illegal base64 character 5c","body":"<p>Perhaps you should double check the encoding of your Base64 data. Base64 data can come encoded in different formats as defined in <a href=\"https://www.ietf.org/rfc/rfc4648.txt\" rel=\"nofollow noreferrer\">RFC 4648</a> and <a href=\"https://www.ietf.org/rfc/rfc2045.txt\" rel=\"nofollow noreferrer\">RFC 2045</a>. Java has different implementations for three different types of encoding as documented in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Base64.html\" rel=\"nofollow noreferrer\"><code>java.util.Base64</code> JavaDoc</a>, Basic, MIME and URL-safe. From a couple of experiments it looks like yours is in the MIME format, so the following <em>should</em> work:</p>\n<pre><code>def convertToBase64(privateKeyB64: String) = {\n  val bytesArray = java.util.Base64.getMimeDecoder.decode(privateKeyB64)\n  val spec = new java.security.spec.PKCS8EncodedKeySpec(bytesArray)\n  java.security.KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(spec)\n}\n</code></pre>\n<p>I tried to run it locally but now the problem shifts towards generating the private key, so there may be some mismatch between the key you are generating and the expected format. Perhaps it's not a valid PKCS#8?</p>\n"}],"owner":{"account_id":11139181,"reputation":4296,"user_id":8176451,"display_name":"Shivam Sahil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74205825,"answer_count":1,"score":2,"last_activity_date":1666778172,"creation_date":1666769963,"question_id":74204228,"body_markdown":"I have a base64 string like this:\r\n```\r\nMIIEpAIBAAKCAQEAtp/Uo28kOjROL50aajnpK25CJoVoic2bqqu6OS2baWWD9fT2\\nESqq8mbFxYN3O7JXbs+74YpTdg1jSUALOz9zj/H2eCF71QYvoHmdoi0iiQuy3gS1\\n6YczVvBvinSwfEnO6Wi/Xx6AC8urdreUR0c+5cNNSqI9oyrwA4m/XrFwR6ptT9oy\\nyahrVJdjA2Wdf+O4/0lW+jrMw+s\\nQptfu4QslKhDnRUFu4ALqm3nypD/ojGjFCEl5poiBMMztqIpE7f9t+IBY/zJbOBP\\nI+sHVgwH/pJbi0CqIiDNIEiXsLDERTldzvA4DQIDAQABAoIBAFu+IVlVLRLcUebT\\neoCgxQUfZ7XoUSLhGnF7wZqV0bv51ngJ7k+jaqtJe9MEfzKLHic5zn24OsNUaGtU\\n9A94ibpnaFTjJU1XxTdNwSXGnNHSAbJNFYHSfLURJkec5Uga4Aobp//F17eVQnbq\\nNGA2Z1+PZFW4+VPt7xMn8O5GH0ywdFhj4PI+z+UT0j1ezebjzDM2FoKwjfvA0wHg\\nbZuyFjb0EBNsaW9y1quh2sSaHAFATYoTLG3ArM/Ue4Fr/Qom0/5N3uusifMdWEcA\\nw7/yiI9D7Q4XsqoZ9gqAhXOcWgJmjvsx66zqUbArw/HmqIy5/vQfoZV78ux2iyZP\\nO9n68AECgYEA6GP5Ns8Zfgm9Y7J5OxjgGwwQYZziKGysnYIe2N6y9jbjXdjsTtTH\\nJKeeM+eHL3Mq2yrYj9m3bACE/uNQ/4o+V+hvVQusN+bMpY5YGHm4KiGL0ieNYs3B\\nA6LLGni7itMY5SC9g7Rm5tlAvUmv38NTKcS47Wz1YKrnhId4x5eWPAECgYEAyS2J\\nB8/6+C3jowJWJoguLKWWeEF5sPe9IWTqWxoUuJRLaSoKTWl0VKPB60DZZEpbPh2n\\nuQlfaRnbt/YZBIeBqnrZzqiO5iTDDtw8zOa0B+DLv9OX9I4dzbQ+PtH/CRH6cDst\\nhrMUUqW5K56za+gH8iiyvBAxjJG11QctUdIh0GZdgdhkW2YFYO\\nClWYyCaqhfWOeJOjtQNgBGleXRF/4EJRNJP8wTuXVK+Vnrynq6dk2tyb77TyLRTZ\\nF5ZsrQKBgQCaNIpP1tGYpYTfFny5xQ8aY5e6Bd3/aC5Ays8wYb8oAPYwH9AeqWY2\\nsistzq9ARRbvwXzl45HzRKYoWVd1D0D5yOwxFOW++VD3luXH1UpEB1bvxHrpIwbD\\ngg9jhO9K1yri6JGA5ENx5InrvKsqodP/llszVJysBlUeAcwMo2gjNA==\r\n```\r\n\r\nPlease note that above string is private key so some characters have been purposely removed.\r\n\r\nAnd I am trying to convert it in bytes:\r\n\r\n```\r\ndef convertToBase64(privateKeyB64: String) = {\r\n    val bytesArray = java.util.Base64.getDecoder.decode(privateKeyB64.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot;&quot;))\r\n    import java.security.KeyFactory\r\n    import java.security.spec.PKCS8EncodedKeySpec\r\n    val spec = new PKCS8EncodedKeySpec(bytesArray)\r\n    // create key form spec\r\n    val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n    keyFactory.generatePrivate(spec)\r\n\r\n  }\r\n```\r\n\r\nThe above code fails at the step: `val bytesArray = java.util.Base64.getDecoder.decode(privateKeyB64.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot;&quot;))`\r\nwith the error: \r\n\r\n`Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal base64 character 5c\r\n`\r\n\r\nI am not sure what is it complaining about exactly? What does `5c` mean in base64?","title":"Scala - Illegal base64 character 5c","body":"<p>I have a base64 string like this:</p>\n<pre><code>MIIEpAIBAAKCAQEAtp/Uo28kOjROL50aajnpK25CJoVoic2bqqu6OS2baWWD9fT2\\nESqq8mbFxYN3O7JXbs+74YpTdg1jSUALOz9zj/H2eCF71QYvoHmdoi0iiQuy3gS1\\n6YczVvBvinSwfEnO6Wi/Xx6AC8urdreUR0c+5cNNSqI9oyrwA4m/XrFwR6ptT9oy\\nyahrVJdjA2Wdf+O4/0lW+jrMw+s\\nQptfu4QslKhDnRUFu4ALqm3nypD/ojGjFCEl5poiBMMztqIpE7f9t+IBY/zJbOBP\\nI+sHVgwH/pJbi0CqIiDNIEiXsLDERTldzvA4DQIDAQABAoIBAFu+IVlVLRLcUebT\\neoCgxQUfZ7XoUSLhGnF7wZqV0bv51ngJ7k+jaqtJe9MEfzKLHic5zn24OsNUaGtU\\n9A94ibpnaFTjJU1XxTdNwSXGnNHSAbJNFYHSfLURJkec5Uga4Aobp//F17eVQnbq\\nNGA2Z1+PZFW4+VPt7xMn8O5GH0ywdFhj4PI+z+UT0j1ezebjzDM2FoKwjfvA0wHg\\nbZuyFjb0EBNsaW9y1quh2sSaHAFATYoTLG3ArM/Ue4Fr/Qom0/5N3uusifMdWEcA\\nw7/yiI9D7Q4XsqoZ9gqAhXOcWgJmjvsx66zqUbArw/HmqIy5/vQfoZV78ux2iyZP\\nO9n68AECgYEA6GP5Ns8Zfgm9Y7J5OxjgGwwQYZziKGysnYIe2N6y9jbjXdjsTtTH\\nJKeeM+eHL3Mq2yrYj9m3bACE/uNQ/4o+V+hvVQusN+bMpY5YGHm4KiGL0ieNYs3B\\nA6LLGni7itMY5SC9g7Rm5tlAvUmv38NTKcS47Wz1YKrnhId4x5eWPAECgYEAyS2J\\nB8/6+C3jowJWJoguLKWWeEF5sPe9IWTqWxoUuJRLaSoKTWl0VKPB60DZZEpbPh2n\\nuQlfaRnbt/YZBIeBqnrZzqiO5iTDDtw8zOa0B+DLv9OX9I4dzbQ+PtH/CRH6cDst\\nhrMUUqW5K56za+gH8iiyvBAxjJG11QctUdIh0GZdgdhkW2YFYO\\nClWYyCaqhfWOeJOjtQNgBGleXRF/4EJRNJP8wTuXVK+Vnrynq6dk2tyb77TyLRTZ\\nF5ZsrQKBgQCaNIpP1tGYpYTfFny5xQ8aY5e6Bd3/aC5Ays8wYb8oAPYwH9AeqWY2\\nsistzq9ARRbvwXzl45HzRKYoWVd1D0D5yOwxFOW++VD3luXH1UpEB1bvxHrpIwbD\\ngg9jhO9K1yri6JGA5ENx5InrvKsqodP/llszVJysBlUeAcwMo2gjNA==\n</code></pre>\n<p>Please note that above string is private key so some characters have been purposely removed.</p>\n<p>And I am trying to convert it in bytes:</p>\n<pre><code>def convertToBase64(privateKeyB64: String) = {\n    val bytesArray = java.util.Base64.getDecoder.decode(privateKeyB64.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot;&quot;))\n    import java.security.KeyFactory\n    import java.security.spec.PKCS8EncodedKeySpec\n    val spec = new PKCS8EncodedKeySpec(bytesArray)\n    // create key form spec\n    val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n    keyFactory.generatePrivate(spec)\n\n  }\n</code></pre>\n<p>The above code fails at the step: <code>val bytesArray = java.util.Base64.getDecoder.decode(privateKeyB64.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot;&quot;))</code>\nwith the error:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal base64 character 5c </code></p>\n<p>I am not sure what is it complaining about exactly? What does <code>5c</code> mean in base64?</p>\n"},{"tags":["java","mysql","spring-boot","postman"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1666778255,"post_id":74203922,"comment_id":131014757,"body_markdown":"I have to say, i dont see a good reason for having 2 tables in this case, unless a user could legitimately have more than one set of data that you place in the ID table","body":"I have to say, i dont see a good reason for having 2 tables in this case, unless a user could legitimately have more than one set of data that you place in the ID table"},{"owner":{"account_id":26734972,"reputation":11,"user_id":20336682,"display_name":"user20336682"},"score":0,"creation_date":1666785470,"post_id":74203922,"comment_id":131017097,"body_markdown":"If 2 tables are not required how should I proceed? Add in two more columns for username and email? That should be ok but I&#39;m still not sure how to access that nested json object(ID). I&#39;ve tried using modelmapper but it still returns a null value.","body":"If 2 tables are not required how should I proceed? Add in two more columns for username and email? That should be ok but I&#39;m still not sure how to access that nested json object(ID). I&#39;ve tried using modelmapper but it still returns a null value."},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1666793370,"post_id":74203922,"comment_id":131020197,"body_markdown":"If you were to create those 2 new columns, you would not need the object(ID)","body":"If you were to create those 2 new columns, you would not need the object(ID)"},{"owner":{"account_id":26734972,"reputation":11,"user_id":20336682,"display_name":"user20336682"},"score":0,"creation_date":1666865376,"post_id":74203922,"comment_id":131038624,"body_markdown":"Added the two columns to my entity class and database. Still cannot access the fields username and email.","body":"Added the two columns to my entity class and database. Still cannot access the fields username and email."},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1666867072,"post_id":74203922,"comment_id":131039206,"body_markdown":"Sorry to hear that, but I suggest you ask another question. This time show us the code you are using to &quot;access&quot; these columns along with a schema and some example data","body":"Sorry to hear that, but I suggest you ask another question. This time show us the code you are using to &quot;access&quot; these columns along with a schema and some example data"}],"owner":{"account_id":26734972,"reputation":11,"user_id":20336682,"display_name":"user20336682"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666778121,"creation_date":1666768376,"question_id":74203922,"body_markdown":"I am new to springboot and have just started learning.\r\n\r\nMy json file looks like this\r\n```\r\n{\r\n &quot;users&quot;:[\r\n{\r\n  &quot;index&quot;:&quot;1&quot;,\r\n  &quot;name&quot;:&quot;john doe&quot;,\r\n  &quot;number&quot;: &quot;942856532&quot;,\r\n  &quot;ID&quot;:[ \r\n  {\r\n    &quot;username&quot;:&quot;john_doe212&quot;,\r\n    &quot;email&quot;:&quot;john_doe134@gmail.com&quot;\r\n  }\r\n  ],\r\n},\r\n{\r\n  &quot;index&quot;:&quot;2&quot;,\r\n  &quot;name&quot;:&quot;jane doe&quot;,\r\n  &quot;number&quot;: &quot;941856532&quot;,\r\n  &quot;ID&quot;:[ \r\n  {\r\n    &quot;username&quot;:&quot;jane_doe212&quot;,\r\n    &quot;email&quot;:&quot;jane_doe134@gmail.com&quot;\r\n  }\r\n  ],\r\n }\r\n\r\n]\r\n}    \r\n```\r\n\r\nI am trying to send a post request through postman to mysql where I have created two tables `Users` and `ID`. \r\n\r\nPrimary key of `Users` is `index` and ID is `id`. \r\n\r\nEach table has the same columns as in the json. \r\n\r\n&quot;ID&quot; table additionally has a column `user_id` which is the foreign key that links to the primary key of `Users` table. \r\n\r\nWhat would be the best way to create the connection in spring that allows me to post this query that sends the values to both tables.\r\n\r\n(I can make changes to the database if that is what&#39;s required) Also any advice on spring best practices would be helpful!\r\n\r\n\r\nI&#39;ve tried creating two entity classes and linking them through a @OnetoOne annotation which works only for the main json object &quot;users&quot; and all of its fields but not for the nested json object &quot;ID&quot;(always returns a null value).","title":"How to insert nested json in MySql using Spring-Boot?","body":"<p>I am new to springboot and have just started learning.</p>\n<p>My json file looks like this</p>\n<pre><code>{\n &quot;users&quot;:[\n{\n  &quot;index&quot;:&quot;1&quot;,\n  &quot;name&quot;:&quot;john doe&quot;,\n  &quot;number&quot;: &quot;942856532&quot;,\n  &quot;ID&quot;:[ \n  {\n    &quot;username&quot;:&quot;john_doe212&quot;,\n    &quot;email&quot;:&quot;john_doe134@gmail.com&quot;\n  }\n  ],\n},\n{\n  &quot;index&quot;:&quot;2&quot;,\n  &quot;name&quot;:&quot;jane doe&quot;,\n  &quot;number&quot;: &quot;941856532&quot;,\n  &quot;ID&quot;:[ \n  {\n    &quot;username&quot;:&quot;jane_doe212&quot;,\n    &quot;email&quot;:&quot;jane_doe134@gmail.com&quot;\n  }\n  ],\n }\n\n]\n}    \n</code></pre>\n<p>I am trying to send a post request through postman to mysql where I have created two tables <code>Users</code> and <code>ID</code>.</p>\n<p>Primary key of <code>Users</code> is <code>index</code> and ID is <code>id</code>.</p>\n<p>Each table has the same columns as in the json.</p>\n<p>&quot;ID&quot; table additionally has a column <code>user_id</code> which is the foreign key that links to the primary key of <code>Users</code> table.</p>\n<p>What would be the best way to create the connection in spring that allows me to post this query that sends the values to both tables.</p>\n<p>(I can make changes to the database if that is what's required) Also any advice on spring best practices would be helpful!</p>\n<p>I've tried creating two entity classes and linking them through a @OnetoOne annotation which works only for the main json object &quot;users&quot; and all of its fields but not for the nested json object &quot;ID&quot;(always returns a null value).</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1666777187,"post_id":74205599,"comment_id":131014432,"body_markdown":"For which cases is your regex failing and why do you think that is the case? Also: does &quot;No lowercase letters&quot; mean that any character aside from lowercase letters are allowed? What is allowed?","body":"For which cases is your regex failing and why do you think that is the case? Also: does &quot;No lowercase letters&quot; mean that any character aside from lowercase letters are allowed? What is allowed?"},{"owner":{"account_id":19839903,"reputation":23,"user_id":14532702,"display_name":"vivek singh"},"score":0,"creation_date":1666777949,"post_id":74205599,"comment_id":131014669,"body_markdown":"Every character including special characters are allowed. For ex- &#39;AD12&amp;  @#()/@&amp;6&#39; is allowed (no leading and trailing whitespace)","body":"Every character including special characters are allowed. For ex- &#39;AD12&amp;  @#()/@&amp;6&#39; is allowed (no leading and trailing whitespace)"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1666780336,"post_id":74205599,"comment_id":131015437,"body_markdown":"Good answers already, for [unicode](https://www.regular-expressions.info/unicode.html) support consider e.g. [`^(?!\\s)\\P{Ll}{0,17}[^\\p{Ll}\\s]$`](https://regex101.com/r/0tZPSI/1)","body":"Good answers already, for <a href=\"https://www.regular-expressions.info/unicode.html\" rel=\"nofollow noreferrer\">unicode</a> support consider e.g. <a href=\"https://regex101.com/r/0tZPSI/1\" rel=\"nofollow noreferrer\"><code>^(?!\\s)\\P{Ll}{0,17}[^\\p{Ll}\\s]$</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666777180,"creation_date":1666777180,"answer_id":74205624,"question_id":74205599,"body_markdown":"You can use\r\n```none\r\n\\A(?!\\s)[^a-z]{0,18}\\z(?&lt;!\\s)\r\n```\r\nIn Java, you can define it as\r\n```java\r\nbool valid = text.matches(&quot;\\\\A(?!\\\\s)[^a-z]{0,18}\\\\z(?&lt;!\\\\s)&quot;);\r\n```\r\nSee the [regex demo][1] (adapted for testing against a single multiline text).\r\n\r\n*Details*:\r\n\r\n - `\\A` - start of string\r\n - `(?!\\s)` - no whitespace allowed right after\r\n - `[^a-z]{0,18}`  - zero to eighteen occurrences of any chars other than lowercase ASCII letters (replace `[^a-z]` with `\\P{Ll}` to match any chars other than Unicode lowercase letters)\r\n - `\\z(?&lt;!\\s)` - end of string that has no whitespace immediately before it.\r\n\r\n  [1]: https://regex101.com/r/u6kcpu/1","title":"Regex for limiting characters","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\A(?!\\s)[^a-z]{0,18}\\z(?&lt;!\\s)\n</code></pre>\n<p>In Java, you can define it as</p>\n<pre class=\"lang-java prettyprint-override\"><code>bool valid = text.matches(&quot;\\\\A(?!\\\\s)[^a-z]{0,18}\\\\z(?&lt;!\\\\s)&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/u6kcpu/1\" rel=\"nofollow noreferrer\">regex demo</a> (adapted for testing against a single multiline text).</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>\\A</code> - start of string</li>\n<li><code>(?!\\s)</code> - no whitespace allowed right after</li>\n<li><code>[^a-z]{0,18}</code>  - zero to eighteen occurrences of any chars other than lowercase ASCII letters (replace <code>[^a-z]</code> with <code>\\P{Ll}</code> to match any chars other than Unicode lowercase letters)</li>\n<li><code>\\z(?&lt;!\\s)</code> - end of string that has no whitespace immediately before it.</li>\n</ul>\n"},{"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666782352,"post_id":74205710,"comment_id":131016074,"body_markdown":"It does not match empty string.","body":"It does not match empty string."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666782477,"post_id":74205710,"comment_id":131016115,"body_markdown":"@英語は苦手 Why should it match an empty string? The pattern of the OP also starts with `[^\\s]` which matches a non whitespace char.","body":"@英語は苦手 Why should it match an empty string? The pattern of the OP also starts with <code>[^\\s]</code> which matches a non whitespace char."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666782659,"post_id":74205710,"comment_id":131016177,"body_markdown":"Don&#39;t ask me.  An empty string conforms to three criteria.","body":"Don&#39;t ask me.  An empty string conforms to three criteria."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666783004,"post_id":74205710,"comment_id":131016296,"body_markdown":"@英語は苦手 Well, then you can make the whole pattern optional `^(?:[^\\sa-z](?:[^a-z\\r\\n]{0,16}[^\\sa-z])?)?$` https://regex101.com/r/Rg9zzl/1","body":"@英語は苦手 Well, then you can make the whole pattern optional <code>^(?:[^\\sa-z](?:[^a-z\\r\\n]{0,16}[^\\sa-z])?)?$</code> <a href=\"https://regex101.com/r/Rg9zzl/1\" rel=\"nofollow noreferrer\">regex101.com/r/Rg9zzl/1</a>"}],"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666778031,"creation_date":1666777544,"answer_id":74205710,"question_id":74205599,"body_markdown":"You could start the match with a non whitespace char other than a-z\r\n\r\nThen optionally match 0-16 chars other than a lowercase char followed by again a non whitespace char other than a-z.\r\n\r\n    ^[^\\sa-z](?:[^a-z\\r\\n]{0,16}[^\\sa-z])?$\r\n\r\nIn Java\r\n\r\n    String regex = &quot;^[^\\\\sa-z](?:[^a-z\\\\r\\\\n]{0,16}[^\\\\sa-z])?$&quot;;\r\n\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `[^\\sa-z]` Match a non whitespace char other than a-z\r\n- `(?:` Non capture grup\r\n  - `[^a-z\\r\\n]{0,16}` Match 0-16 chars other than a-z or a newline\r\n  - `[^\\sa-z]` Match a non whitespace char other than a-z\r\n- `)?` Close the non capture group and make it optional to also match a single character\r\n- `$` End of string\r\n\r\nSee a [regex demo](https://regex101.com/r/0kGYQM/1) and a [Java demo](https://ideone.com/P5ASeD)","title":"Regex for limiting characters","body":"<p>You could start the match with a non whitespace char other than a-z</p>\n<p>Then optionally match 0-16 chars other than a lowercase char followed by again a non whitespace char other than a-z.</p>\n<pre><code>^[^\\sa-z](?:[^a-z\\r\\n]{0,16}[^\\sa-z])?$\n</code></pre>\n<p>In Java</p>\n<pre><code>String regex = &quot;^[^\\\\sa-z](?:[^a-z\\\\r\\\\n]{0,16}[^\\\\sa-z])?$&quot;;\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>[^\\sa-z]</code> Match a non whitespace char other than a-z</li>\n<li><code>(?:</code> Non capture grup\n<ul>\n<li><code>[^a-z\\r\\n]{0,16}</code> Match 0-16 chars other than a-z or a newline</li>\n<li><code>[^\\sa-z]</code> Match a non whitespace char other than a-z</li>\n</ul>\n</li>\n<li><code>)?</code> Close the non capture group and make it optional to also match a single character</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/0kGYQM/1\" rel=\"nofollow noreferrer\">regex demo</a> and a <a href=\"https://ideone.com/P5ASeD\" rel=\"nofollow noreferrer\">Java demo</a></p>\n"}],"owner":{"account_id":19839903,"reputation":23,"user_id":14532702,"display_name":"vivek singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":7,"up_vote_count":3,"answer_count":2,"score":-4,"last_activity_date":1666778031,"creation_date":1666777052,"question_id":74205599,"body_markdown":"I need a regex in which -\r\n1. No lowercase letters \r\n2. No leading or trailing whitespace \r\n3. Length should be less than or equal to 18\r\n\r\nI tried\r\n```\r\n^[^\\s][A-Z0-9\\W]{0,18}\r\n```","title":"Regex for limiting characters","body":"<p>I need a regex in which -</p>\n<ol>\n<li>No lowercase letters</li>\n<li>No leading or trailing whitespace</li>\n<li>Length should be less than or equal to 18</li>\n</ol>\n<p>I tried</p>\n<pre><code>^[^\\s][A-Z0-9\\W]{0,18}\n</code></pre>\n"},{"tags":["java","sql","string","formatting","prepared-statement"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1666725504,"post_id":74199119,"comment_id":131003390,"body_markdown":"Using plain JDBC can lead to long lines. Nowdays you typically extract all the SQL code from Java by using an ORM instead.","body":"Using plain JDBC can lead to long lines. Nowdays you typically extract all the SQL code from Java by using an ORM instead."},{"owner":{"account_id":2378568,"reputation":2040,"user_id":4489263,"display_name":"Stefan Wuebbe"},"score":0,"creation_date":1666744945,"post_id":74199119,"comment_id":131007539,"body_markdown":"Using `java`, I&#39;d probably take a look at `hibernate` https://hibernate.org/","body":"Using <code>java</code>, I&#39;d probably take a look at <code>hibernate</code> <a href=\"https://hibernate.org/\" rel=\"nofollow noreferrer\">hibernate.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666777983,"creation_date":1666777983,"answer_id":74205788,"question_id":74199119,"body_markdown":"I&#39;m not sure this helps too much in your case, but you might also consider using text blocks available since JDK15. A text block makes it neater to specify a long string which can be broken up into many lines. \r\n\r\nYou can combine with `s.formatted(args...)` which is equivalent of `String.format(s, args...)` as follows:\r\n\r\n    String sql = &quot;&quot;&quot;\r\n      INSERT INTO %s(%s, %s, %s) \r\n      SELECT product_code, product_description, net_cost FROM %s\r\n      &quot;&quot;&quot;\r\n      .formatted(Tables.OUTPUT, OutputTableFields.THEIR_SKU, OutputTableFields.THEIR_DESCRIPTION, OutputTableFields.NET_COST, Tables.IMPORT);\r\n\r\n    =&gt; sql is:\r\n    &quot;INSERT INTO blah(blah, blah, blah)\r\n    SELECT product_code, product_description, net_cost FROM blah\r\n    &quot;\r\n\r\nNote that the above introduces line break, if not wanting these you can escape by adding a trailing `\\` like this:\r\n\r\n    String sql = &quot;&quot;&quot;\r\n      INSERT INTO %s(%s, %s, %s) \\\r\n      SELECT product_code, product_description, net_cost FROM %s\\\r\n      &quot;&quot;&quot;\r\n      .formatted(Tables.OUTPUT, OutputTableFields.THEIR_SKU, OutputTableFields.THEIR_DESCRIPTION, OutputTableFields.NET_COST, Tables.IMPORT);\r\n\r\n    =&gt; sql is:\r\n    &quot;INSERT INTO blah(blah, blah, blah) SELECT product_code, product_description, net_cost FROM blah&quot;\r\n\r\nYou could also use static imports to shorten the `formatted(...)` part or use resource bundle files for the text.","title":"Placing multiple variables in a String ready for SQL Prepared Statement - Cleanest way","body":"<p>I'm not sure this helps too much in your case, but you might also consider using text blocks available since JDK15. A text block makes it neater to specify a long string which can be broken up into many lines.</p>\n<p>You can combine with <code>s.formatted(args...)</code> which is equivalent of <code>String.format(s, args...)</code> as follows:</p>\n<pre><code>String sql = &quot;&quot;&quot;\n  INSERT INTO %s(%s, %s, %s) \n  SELECT product_code, product_description, net_cost FROM %s\n  &quot;&quot;&quot;\n  .formatted(Tables.OUTPUT, OutputTableFields.THEIR_SKU, OutputTableFields.THEIR_DESCRIPTION, OutputTableFields.NET_COST, Tables.IMPORT);\n\n=&gt; sql is:\n&quot;INSERT INTO blah(blah, blah, blah)\nSELECT product_code, product_description, net_cost FROM blah\n&quot;\n</code></pre>\n<p>Note that the above introduces line break, if not wanting these you can escape by adding a trailing <code>\\</code> like this:</p>\n<pre><code>String sql = &quot;&quot;&quot;\n  INSERT INTO %s(%s, %s, %s) \\\n  SELECT product_code, product_description, net_cost FROM %s\\\n  &quot;&quot;&quot;\n  .formatted(Tables.OUTPUT, OutputTableFields.THEIR_SKU, OutputTableFields.THEIR_DESCRIPTION, OutputTableFields.NET_COST, Tables.IMPORT);\n\n=&gt; sql is:\n&quot;INSERT INTO blah(blah, blah, blah) SELECT product_code, product_description, net_cost FROM blah&quot;\n</code></pre>\n<p>You could also use static imports to shorten the <code>formatted(...)</code> part or use resource bundle files for the text.</p>\n"}],"owner":{"account_id":20452924,"reputation":3,"user_id":15007281,"display_name":"Kelvin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666793657,"accepted_answer_id":74205788,"answer_count":1,"score":0,"last_activity_date":1666777983,"creation_date":1666725309,"question_id":74199119,"body_markdown":"I have to build an SQL string for a prepared statement, it needs multiple variables inserting.  What is the cleanest way to do this?\r\n\r\nRaw SQL for MYSQL database, variables in bold\r\n\r\n&gt; INSERT INTO **output**(**their_sku**, **their_description**,\r\n&gt; **net_cost**) SELECT product_code, product_description, net_cost FROM **import**\r\n\r\n\r\nThe names come from Enums that could possibly need modifying, hence no hard coding table names or columns.\r\n\r\n\r\n\r\nAll my attempts look messy, and coming from Python I am missing the fStrings.  Attempts below.\r\n\r\n\r\n```\r\nString sql = String.format(&quot;INSERT INTO %s(%s, %s, %s) SELECT product_code, product_description, net_cost FROM %s&quot;, Tables.OUTPUT, OutputTableFields.THEIR_SKU, OutputTableFields.THEIR_DESCRIPTION, OutputTableFields.NET_COST, Tables.IMPORT);\r\n```\r\nQuite unreadable\r\n\r\n```\r\nString sql = &quot;INSERT INTO &quot; + Tables.OUTPUT + &quot;(&quot; + OutputTableFields.THEIR_SKU + &quot;, &quot; + OutputTableFields.THEIR_DESCRIPTION + &quot;, &quot; + OutputTableFields.NET_COST + &quot;) SELECT product_code, product_description, net_cost FROM &quot; + Tables.IMPORT&quot;\r\n```\r\nAt least the SQL and Enums are in order but it looks awful\r\n\r\nIs there a best practice way of setting this out?\r\n\r\nThankyou.\r\n\r\n","title":"Placing multiple variables in a String ready for SQL Prepared Statement - Cleanest way","body":"<p>I have to build an SQL string for a prepared statement, it needs multiple variables inserting.  What is the cleanest way to do this?</p>\n<p>Raw SQL for MYSQL database, variables in bold</p>\n<blockquote>\n<p>INSERT INTO <strong>output</strong>(<strong>their_sku</strong>, <strong>their_description</strong>,\n<strong>net_cost</strong>) SELECT product_code, product_description, net_cost FROM <strong>import</strong></p>\n</blockquote>\n<p>The names come from Enums that could possibly need modifying, hence no hard coding table names or columns.</p>\n<p>All my attempts look messy, and coming from Python I am missing the fStrings.  Attempts below.</p>\n<pre><code>String sql = String.format(&quot;INSERT INTO %s(%s, %s, %s) SELECT product_code, product_description, net_cost FROM %s&quot;, Tables.OUTPUT, OutputTableFields.THEIR_SKU, OutputTableFields.THEIR_DESCRIPTION, OutputTableFields.NET_COST, Tables.IMPORT);\n</code></pre>\n<p>Quite unreadable</p>\n<pre><code>String sql = &quot;INSERT INTO &quot; + Tables.OUTPUT + &quot;(&quot; + OutputTableFields.THEIR_SKU + &quot;, &quot; + OutputTableFields.THEIR_DESCRIPTION + &quot;, &quot; + OutputTableFields.NET_COST + &quot;) SELECT product_code, product_description, net_cost FROM &quot; + Tables.IMPORT&quot;\n</code></pre>\n<p>At least the SQL and Enums are in order but it looks awful</p>\n<p>Is there a best practice way of setting this out?</p>\n<p>Thankyou.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":203265,"reputation":6722,"user_id":450827,"accept_rate":82,"display_name":"athspk"},"score":5,"creation_date":1294016429,"post_id":4581407,"comment_id":5030606,"body_markdown":"Why do you want to do that? I mean its not safe. Have a look at the example.","body":"Why do you want to do that? I mean its not safe. Have a look at the example."},{"owner":{"account_id":27678,"reputation":70338,"user_id":73297,"accept_rate":90,"display_name":"Ben Zotto"},"score":6,"creation_date":1294016484,"post_id":4581407,"comment_id":5030617,"body_markdown":"You&#39;re putting non-strings into the list. What is your expectation of what happens if you force them to be strings?","body":"You&#39;re putting non-strings into the list. What is your expectation of what happens if you force them to be strings?"},{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":5,"creation_date":1294016755,"post_id":4581407,"comment_id":5030638,"body_markdown":"I assume you meant: ArrayList&lt;String&gt; list2 = (ArrayList&lt;String&gt;)list;","body":"I assume you meant: ArrayList&lt;String&gt; list2 = (ArrayList&lt;String&gt;)list;"}],"answers":[{"comments":[{"owner":{"display_name":"user166390"},"score":6,"creation_date":1294017159,"post_id":4581429,"comment_id":5030669,"body_markdown":"I like how null values are preserved this this implementation.","body":"I like how null values are preserved this this implementation."},{"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"score":4,"creation_date":1354098252,"post_id":4581429,"comment_id":18647980,"body_markdown":"If you use `String.valueOf(object)`, you won&#39;t have to do the `object != null ? object.toString() : null` thing","body":"If you use <code>String.valueOf(object)</code>, you won&#39;t have to do the <code>object != null ? object.toString() : null</code> thing"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1354102622,"post_id":4581429,"comment_id":18650071,"body_markdown":"@Tomas: it would add a string with value `&quot;null&quot;` instead of the literal `null`. It depends further on the business requitements whether that&#39;s desireable or not. For me, it wouldn&#39;t have been acceptable at all as it introduces a potentially major bug.","body":"@Tomas: it would add a string with value <code>&quot;null&quot;</code> instead of the literal <code>null</code>. It depends further on the business requitements whether that&#39;s desireable or not. For me, it wouldn&#39;t have been acceptable at all as it introduces a potentially major bug."},{"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"score":0,"creation_date":1354103262,"post_id":4581429,"comment_id":18650337,"body_markdown":"@BalusC Oh, right... I&#39;m curious, what would be the major bug? If you wanted a List of Strings, wouldn&#39;t it be better to have `&quot;null&quot;` instead of `null`?","body":"@BalusC Oh, right... I&#39;m curious, what would be the major bug? If you wanted a List of Strings, wouldn&#39;t it be better to have <code>&quot;null&quot;</code> instead of <code>null</code>?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1354103373,"post_id":4581429,"comment_id":18650385,"body_markdown":"@Tomas: `&quot;null&quot;` is not `null` at all. The `null` has a special meaning in Java. It makes no sense to be forced to do `if (item.equals(&quot;null&quot;))` when checking for that afterwards.","body":"@Tomas: <code>&quot;null&quot;</code> is not <code>null</code> at all. The <code>null</code> has a special meaning in Java. It makes no sense to be forced to do <code>if (item.equals(&quot;null&quot;))</code> when checking for that afterwards."},{"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"score":0,"creation_date":1354103500,"post_id":4581429,"comment_id":18650446,"body_markdown":"@BalusC I know the difference :) But if I had `&quot;null&quot;`, I wouldn&#39;t  have to further check the list for `null`.","body":"@BalusC I know the difference :) But if I had <code>&quot;null&quot;</code>, I wouldn&#39;t  have to further check the list for <code>null</code>."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1354103609,"post_id":4581429,"comment_id":18650507,"body_markdown":"@Tomas: you&#39;re only defeating the strong typing nature of Java this way. But as said, it depends on the business requirements whether that&#39;s desireable. For me, that&#39;s simply unacceptable. Do whatever you want and the time will teach :)","body":"@Tomas: you&#39;re only defeating the strong typing nature of Java this way. But as said, it depends on the business requirements whether that&#39;s desireable. For me, that&#39;s simply unacceptable. Do whatever you want and the time will teach :)"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":7,"down_vote_count":0,"up_vote_count":177,"is_accepted":true,"score":177,"last_activity_date":1666777956,"creation_date":1294016514,"answer_id":4581429,"question_id":4581407,"body_markdown":"Since this is *actually* not a list of strings, the easiest way is to loop over it and convert each item into a new list of strings yourself:\r\n```java\r\nList&lt;String&gt; strings = list.stream()\r\n   .map(object -&gt; Objects.toString(object, null))\r\n   .toList();\r\n```\r\nOr when you&#39;re not on Java 16 yet:\r\n```java\r\nList&lt;String&gt; strings = list.stream()\r\n   .map(object -&gt; Objects.toString(object, null))\r\n   .collect(Collectors.toList());\r\n```\r\nOr when you&#39;re not on Java 8 yet:\r\n```java\r\nList&lt;String&gt; strings = new ArrayList&lt;&gt;(list.size());\r\nfor (Object object : list) {\r\n    strings.add(Objects.toString(object, null));\r\n}\r\n```\r\nOr when you&#39;re not on Java 7 yet:\r\n```java\r\nList&lt;String&gt; strings = new ArrayList&lt;String&gt;(list.size());\r\nfor (Object object : list) {\r\n    strings.add(object != null ? object.toString() : null);\r\n}\r\n```\r\nNote that you should be declaring against the interface ([`java.util.List`][1] in this case), not the implementation.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\r\n\r\n\r\n\r\n","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>Since this is <em>actually</em> not a list of strings, the easiest way is to loop over it and convert each item into a new list of strings yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = list.stream()\n   .map(object -&gt; Objects.toString(object, null))\n   .toList();\n</code></pre>\n<p>Or when you're not on Java 16 yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = list.stream()\n   .map(object -&gt; Objects.toString(object, null))\n   .collect(Collectors.toList());\n</code></pre>\n<p>Or when you're not on Java 8 yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;(list.size());\nfor (Object object : list) {\n    strings.add(Objects.toString(object, null));\n}\n</code></pre>\n<p>Or when you're not on Java 7 yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;(list.size());\nfor (Object object : list) {\n    strings.add(object != null ? object.toString() : null);\n}\n</code></pre>\n<p>Note that you should be declaring against the interface (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"noreferrer\"><code>java.util.List</code></a> in this case), not the implementation.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1294017423,"post_id":4581435,"comment_id":5030688,"body_markdown":"Unless they have [`Object#toString()`](http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#toString%28%29) method overridden. However, the whole type conversion from X to String for other purposes than human presentation does indeed not make much sense.","body":"Unless they have <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#toString%28%29\" rel=\"nofollow noreferrer\"><code>Object#toString()</code></a> method overridden. However, the whole type conversion from X to String for other purposes than human presentation does indeed not make much sense."}],"tags":[],"owner":{"account_id":203265,"reputation":6722,"user_id":450827,"accept_rate":82,"display_name":"athspk"},"comment_count":1,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1294228128,"creation_date":1294016625,"answer_id":4581435,"question_id":4581407,"body_markdown":"It&#39;s not safe to do that!  \r\nImagine if you had:  \r\n  \r\n  \r\n\r\n    ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n    list.add(new Employee(&quot;Jonh&quot;));\r\n    list.add(new Car(&quot;BMW&quot;,&quot;M3&quot;));\r\n    list.add(new Chocolate(&quot;Twix&quot;));\r\n\r\n  \r\n  \r\nIt wouldn&#39;t make sense to convert the list of those Objects to any type. ","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>It's not safe to do that!<br>\nImagine if you had:  </p>\n\n<pre><code>ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\nlist.add(new Employee(\"Jonh\"));\nlist.add(new Car(\"BMW\",\"M3\"));\nlist.add(new Chocolate(\"Twix\"));\n</code></pre>\n\n<p>It wouldn't make sense to convert the list of those Objects to any type. </p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1294017235,"creation_date":1294017235,"answer_id":4581463,"question_id":4581407,"body_markdown":"Your code `ArrayList&lt;String&gt; list2 = (String)list; ` does not compile because `list2` is not of type `String`. But that is not the only problem.","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>Your code <code>ArrayList&lt;String&gt; list2 = (String)list;</code> does not compile because <code>list2</code> is not of type <code>String</code>. But that is not the only problem.</p>\n"},{"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1294033026,"creation_date":1294033026,"answer_id":4582268,"question_id":4581407,"body_markdown":"Using [guava][1]:\r\n\r\n\tList&lt;String&gt; stringList=Lists.transform(list,new Function&lt;Object,String&gt;(){\r\n\t\t@Override\r\n\t\tpublic String apply(Object arg0) {\r\n\t\t\tif(arg0!=null)\r\n\t\t\t\treturn arg0.toString();\r\n\t\t\telse\r\n\t\t\t\treturn &quot;null&quot;;\r\n\t\t}\r\n\t});\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>Using <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">guava</a>:</p>\n\n<pre><code>List&lt;String&gt; stringList=Lists.transform(list,new Function&lt;Object,String&gt;(){\n    @Override\n    public String apply(Object arg0) {\n        if(arg0!=null)\n            return arg0.toString();\n        else\n            return \"null\";\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1374067048,"creation_date":1374067048,"answer_id":17700853,"question_id":4581407,"body_markdown":"Here is another alternative using [Guava][1] \r\n  \r\n    List&lt;Object&gt; lst ...    \r\n    List&lt;String&gt; ls = Lists.transform(lst, Functions.toStringFunction());\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>Here is another alternative using <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> </p>\n\n<pre><code>List&lt;Object&gt; lst ...    \nList&lt;String&gt; ls = Lists.transform(lst, Functions.toStringFunction());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468668,"reputation":737,"user_id":874802,"display_name":"Per Lindberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1400658525,"creation_date":1400658525,"answer_id":23777137,"question_id":4581407,"body_markdown":"If you want to do it the dirty way, try this.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public ArrayList&lt;String&gt; convert(ArrayList&lt;Object&gt; a) {\r\n       return (ArrayList) a;\r\n    }\r\n\r\nAdvantage: here you save time by not iterating over all objects.\r\n\r\nDisadvantage: may produce a hole in your foot.\r\n","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>If you want to do it the dirty way, try this.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic ArrayList&lt;String&gt; convert(ArrayList&lt;Object&gt; a) {\n   return (ArrayList) a;\n}\n</code></pre>\n\n<p>Advantage: here you save time by not iterating over all objects.</p>\n\n<p>Disadvantage: may produce a hole in your foot.</p>\n"},{"tags":[],"owner":{"account_id":2029560,"reputation":9470,"user_id":1813669,"accept_rate":67,"display_name":"scadge"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1457613982,"creation_date":1439798603,"answer_id":32045400,"question_id":4581407,"body_markdown":"Using Java 8 you can do:\r\n\r\n    List&lt;Object&gt; list = ...;\r\n    List&lt;String&gt; strList = list.stream()\r\n                               .map( Object::toString )\r\n                               .collect( Collectors.toList() );","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>Using Java 8 you can do:</p>\n\n<pre><code>List&lt;Object&gt; list = ...;\nList&lt;String&gt; strList = list.stream()\n                           .map( Object::toString )\n                           .collect( Collectors.toList() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6152327,"reputation":1439,"user_id":4796407,"accept_rate":43,"display_name":"Ankush soni"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1444136956,"creation_date":1444136956,"answer_id":32970874,"question_id":4581407,"body_markdown":"Using Java 8 lambda:\r\n\r\n    ArrayList&lt;Object&gt; obj = new ArrayList&lt;&gt;();\r\n    obj.add(1);\r\n    obj.add(&quot;Java&quot;);\r\n    obj.add(3.14);\r\n    \r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    obj.forEach((xx) -&gt; list.add(String.valueOf(xx)));\r\n  ","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>Using Java 8 lambda:</p>\n\n<pre><code>ArrayList&lt;Object&gt; obj = new ArrayList&lt;&gt;();\nobj.add(1);\nobj.add(\"Java\");\nobj.add(3.14);\n\nArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\nobj.forEach((xx) -&gt; list.add(String.valueOf(xx)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":252555,"reputation":11,"user_id":530678,"display_name":"Just Me"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448995364,"creation_date":1448995364,"answer_id":34027726,"question_id":4581407,"body_markdown":"With Java Generics Takes a list of X and returns a list of T that extends or implements X, Sweet!\r\n\r\n    \t// the cast is is actually checked via the method API\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends X, X&gt; ArrayList&lt;T&gt; convertToClazz(ArrayList&lt;X&gt; from, Class&lt;X&gt; inClazz, Class&lt;T&gt; outClazz) {\r\n    \tArrayList&lt;T&gt; to = new ArrayList&lt;T&gt;();\r\n    \tfor (X data : from) {\r\n    \t\tto.add((T) data);\r\n    \t}\r\n    \treturn to;\r\n    }\r\n\r\n","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>With Java Generics Takes a list of X and returns a list of T that extends or implements X, Sweet!</p>\n\n<pre><code>    // the cast is is actually checked via the method API\n@SuppressWarnings(\"unchecked\")\npublic static &lt;T extends X, X&gt; ArrayList&lt;T&gt; convertToClazz(ArrayList&lt;X&gt; from, Class&lt;X&gt; inClazz, Class&lt;T&gt; outClazz) {\n    ArrayList&lt;T&gt; to = new ArrayList&lt;T&gt;();\n    for (X data : from) {\n        to.add((T) data);\n    }\n    return to;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6342362,"reputation":628,"user_id":4923905,"accept_rate":0,"display_name":"hellrocker"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1467690114,"creation_date":1467690114,"answer_id":38194881,"question_id":4581407,"body_markdown":"You can use wildcard to do this as following \r\n\r\n    ArrayList&lt;String&gt; strList = (ArrayList&lt;String&gt;)(ArrayList&lt;?&gt;)(list);","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>You can use wildcard to do this as following </p>\n\n<pre><code>ArrayList&lt;String&gt; strList = (ArrayList&lt;String&gt;)(ArrayList&lt;?&gt;)(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7726333,"reputation":1273,"user_id":5850848,"display_name":"S Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564494187,"creation_date":1564494187,"answer_id":57273196,"question_id":4581407,"body_markdown":"A simple solution:\r\n\r\n    List&lt;Object&gt; lst  =listOfTypeObject;   \r\n\tArrayList&lt;String&gt; aryLst = new ArrayList&lt;String&gt;();\r\n\t\tfor (int i = 0; i &lt; lst.size(); i++) {\r\n\t\t\taryLst.add(lst.get(i).toString());\r\n\t\t}\r\n\r\nNote: this works when the list contains all the elements of datatype String.","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<p>A simple solution:</p>\n\n<pre><code>List&lt;Object&gt; lst  =listOfTypeObject;   \nArrayList&lt;String&gt; aryLst = new ArrayList&lt;String&gt;();\n    for (int i = 0; i &lt; lst.size(); i++) {\n        aryLst.add(lst.get(i).toString());\n    }\n</code></pre>\n\n<p>Note: this works when the list contains all the elements of datatype String.</p>\n"}],"owner":{"account_id":270648,"reputation":1253,"user_id":560725,"display_name":"rtf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248090,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":4581429,"answer_count":11,"score":113,"last_activity_date":1666777956,"creation_date":1294016312,"question_id":4581407,"body_markdown":"    ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n    list.add(1);\r\n    list.add(&quot;Java&quot;);\r\n    list.add(3.14);\r\n    System.out.println(list.toString());\r\n\r\nI tried:  \r\n\r\n    ArrayList&lt;String&gt; list2 = (String)list; \r\n\r\n \r\nBut it gave me a compile error.\r\n","title":"How can I convert ArrayList&lt;Object&gt; to ArrayList&lt;String&gt;?","body":"<pre><code>ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\nlist.add(1);\nlist.add(\"Java\");\nlist.add(3.14);\nSystem.out.println(list.toString());\n</code></pre>\n\n<p>I tried:  </p>\n\n<pre><code>ArrayList&lt;String&gt; list2 = (String)list; \n</code></pre>\n\n<p>But it gave me a compile error.</p>\n"},{"tags":["java","spring","spring-boot","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":3333854,"reputation":137,"user_id":2802052,"accept_rate":50,"display_name":"Gagan"},"score":0,"creation_date":1666847393,"post_id":74205661,"comment_id":131033352,"body_markdown":"Thanks for the reply, I have already tried that and this doesn&#39;t work when I get the 500. I get the &#39;WebClientRequestException&#39; instead of the &#39;WebClientResponseException&#39;, hence it doesn&#39;t retry because it returns false.","body":"Thanks for the reply, I have already tried that and this doesn&#39;t work when I get the 500. I get the &#39;WebClientRequestException&#39; instead of the &#39;WebClientResponseException&#39;, hence it doesn&#39;t retry because it returns false."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666847762,"post_id":74205661,"comment_id":131033410,"body_markdown":"Ok, did you try by replacing WebClientResponseException with WebClientRequestException in above code?","body":"Ok, did you try by replacing WebClientResponseException with WebClientRequestException in above code?"},{"owner":{"account_id":3333854,"reputation":137,"user_id":2802052,"accept_rate":50,"display_name":"Gagan"},"score":0,"creation_date":1666848884,"post_id":74205661,"comment_id":131033581,"body_markdown":"Yes, Unfortunately WebClientRequestException doesn&#39;t have any method or way to get the status code.","body":"Yes, Unfortunately WebClientRequestException doesn&#39;t have any method or way to get the status code."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666866579,"post_id":74205661,"comment_id":131039044,"body_markdown":"If you know that code is giving WebClientRequestException and you want to retry then you can write logic like this.                                                        \n                                                 .retryWhen(Retry\n\t\t\t\t\t\t.backoff(3, Duration.ofSeconds(2))\n\t\t\t\t\t\t.filter(throwable -&gt; throwable instanceof WebClientRequestException)\n\t\t\t\t);","body":"If you know that code is giving WebClientRequestException and you want to retry then you can write logic like this.                                                                                                          .retryWhen(Retry \t\t\t\t\t\t.backoff(3, Duration.ofSeconds(2)) \t\t\t\t\t\t.filter(throwable -&gt; throwable instanceof WebClientRequestException) \t\t\t\t);"}],"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666777915,"creation_date":1666777361,"answer_id":74205661,"question_id":74203784,"body_markdown":"Please try this, it should work.\r\n\r\n```java\r\n   \r\nfinal WebClient webClient = WebClient.builder().build();\r\nfinal Mono&lt;String&gt; body = webClient\r\n\t\t\t\t.get()\r\n\t\t\t\t.uri(&quot;URL&quot;)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(String.class)\r\n\t\t\t\t.retryWhen(Retry\r\n\t\t\t\t\t\t.backoff(3, Duration.ofSeconds(2))\r\n\t\t\t\t\t\t.filter(this::is5xxServerError)\r\n\t\t\t\t);\r\n\t\tSystem.out.println(body.block());\r\n\r\n\r\nprivate boolean is5xxServerError(Throwable throwable) {\r\n\t\treturn throwable instanceof WebClientResponseException &amp;&amp;\r\n\t\t\t\t((WebClientResponseException) throwable).getStatusCode().is5xxServerError();\r\n\t}\r\n```","title":"Retry only when 5xx error is encountered Spring boot WebClient","body":"<p>Please try this, it should work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   \nfinal WebClient webClient = WebClient.builder().build();\nfinal Mono&lt;String&gt; body = webClient\n                .get()\n                .uri(&quot;URL&quot;)\n                .retrieve()\n                .bodyToMono(String.class)\n                .retryWhen(Retry\n                        .backoff(3, Duration.ofSeconds(2))\n                        .filter(this::is5xxServerError)\n                );\n        System.out.println(body.block());\n\n\nprivate boolean is5xxServerError(Throwable throwable) {\n        return throwable instanceof WebClientResponseException &amp;&amp;\n                ((WebClientResponseException) throwable).getStatusCode().is5xxServerError();\n    }\n</code></pre>\n"}],"owner":{"account_id":3333854,"reputation":137,"user_id":2802052,"accept_rate":50,"display_name":"Gagan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666777915,"creation_date":1666767595,"question_id":74203784,"body_markdown":"I have followed few suggestions around to make a retry attempt only when I get 5xx error and straight away throw exception otherwise. But the code example I got doesn&#39;t seems to be working. It&#39;s not retrying for any of the exceptions (be it 4xx or 5xx).\r\n\r\nHere is my code\r\n\r\n    public Mono&lt;String&gt; call(String input) {\r\n\r\n        log.info(&quot;Sending echo call for: {}&quot;, input);\r\n\r\n        return webClient.get()\r\n                .uri(format(&quot;/echo/%s&quot;, input))\r\n                .accept(MediaType.APPLICATION_JSON).acceptCharset(StandardCharsets.UTF_8)\r\n                .retrieve()\r\n                .onStatus(HttpStatus::is5xxServerError,\r\n                        response -&gt; Mono.error(new ServiceException(&quot;Server error&quot;, response.rawStatusCode())))\r\n                .bodyToMono(String.class)\r\n                .timeout(ofMillis(60_000L))\r\n                .retryWhen(\r\n                        backoff(3L, ofSeconds(4L))\r\n                                .jitter(0d)\r\n                                .filter(ServiceException.class::isInstance)\r\n                                .doAfterRetry(retrySignal -&gt; log.info(&quot;Retry call: &quot; + retrySignal))\r\n                                .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; retrySignal.failure())\r\n                )\r\n                .doOnError(throwable -&gt; log.error(&quot;Call failure: {}&quot;, throwable.getMessage()))\r\n                .doOnSuccess(response -&gt; log.info(&quot;Success: {}&quot;, response));\r\n    }\r\n\r\nAnyone can help me figure out what&#39;s wrong with the code or can suggest an alternative approach. Thanks a lot!","title":"Retry only when 5xx error is encountered Spring boot WebClient","body":"<p>I have followed few suggestions around to make a retry attempt only when I get 5xx error and straight away throw exception otherwise. But the code example I got doesn't seems to be working. It's not retrying for any of the exceptions (be it 4xx or 5xx).</p>\n<p>Here is my code</p>\n<pre><code>public Mono&lt;String&gt; call(String input) {\n\n    log.info(&quot;Sending echo call for: {}&quot;, input);\n\n    return webClient.get()\n            .uri(format(&quot;/echo/%s&quot;, input))\n            .accept(MediaType.APPLICATION_JSON).acceptCharset(StandardCharsets.UTF_8)\n            .retrieve()\n            .onStatus(HttpStatus::is5xxServerError,\n                    response -&gt; Mono.error(new ServiceException(&quot;Server error&quot;, response.rawStatusCode())))\n            .bodyToMono(String.class)\n            .timeout(ofMillis(60_000L))\n            .retryWhen(\n                    backoff(3L, ofSeconds(4L))\n                            .jitter(0d)\n                            .filter(ServiceException.class::isInstance)\n                            .doAfterRetry(retrySignal -&gt; log.info(&quot;Retry call: &quot; + retrySignal))\n                            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; retrySignal.failure())\n            )\n            .doOnError(throwable -&gt; log.error(&quot;Call failure: {}&quot;, throwable.getMessage()))\n            .doOnSuccess(response -&gt; log.info(&quot;Success: {}&quot;, response));\n}\n</code></pre>\n<p>Anyone can help me figure out what's wrong with the code or can suggest an alternative approach. Thanks a lot!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1665928787,"post_id":74087708,"comment_id":130809111,"body_markdown":"Please share what you have tried to do.","body":"Please share what you have tried to do."},{"owner":{"account_id":18064369,"reputation":48575,"user_id":13130697,"display_name":"Dharmaraj"},"score":0,"creation_date":1665929234,"post_id":74087708,"comment_id":130809220,"body_markdown":"&quot;Documents&quot; term is generally used in document based NoSQL databases such as Firestore. Also do checkout [Best practices: Arrays in Firebase](https://firebase.blog/posts/2014/04/best-practices-arrays-in-firebase) If you delete any key, that won&#39;t be an array anymore as mentioned in the post. Firestore might be a better choice for such queries. Also checkout [Firebase query if child of child contains a value](https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value)","body":"&quot;Documents&quot; term is generally used in document based NoSQL databases such as Firestore. Also do checkout <a href=\"https://firebase.blog/posts/2014/04/best-practices-arrays-in-firebase\" rel=\"nofollow noreferrer\">Best practices: Arrays in Firebase</a> If you delete any key, that won&#39;t be an array anymore as mentioned in the post. Firestore might be a better choice for such queries. Also checkout <a href=\"https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value\">Firebase query if child of child contains a value</a>"}],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666771596,"post_id":74198394,"comment_id":131012595,"body_markdown":"Hey there. Can I help you with other information?","body":"Hey there. Can I help you with other information?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666721140,"creation_date":1666721140,"answer_id":74198394,"question_id":74087708,"body_markdown":"Using your actual structure it&#39;s not possible. However, if you are allowed to change the structure a little bit, then you should consider storing those certificates into a Map like this:\r\n\r\n```\r\n{\r\n  Employees: {\r\n    randomId {\r\n      name: john smith,\r\n      certifications: \r\n        Swift: true, //&#128072;\r\n        Android: true //&#128072;\r\n    },\r\n    randomId {\r\n      name: richard williams,\r\n      certifications: \r\n        Java: true, //&#128072;\r\n        Android: true //&#128072;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nTo get for example all Employees with an Android certificate, then please use the following lines of code:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference employeesRef = db.child(&quot;Employees&quot;);\r\n    employeesRef.orderByChild(&quot;certifications/Android&quot;).equalTo(true).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (DataSnapshot ds : task.getResult().getChildren()) {\r\n                    String name = ds.child(&quot;name&quot;).getValue(String.class);\r\n                    Log.d(TAG, name);\r\n                }\r\n            } else {\r\n                Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nThe result in the logcat will be:\r\n\r\n    john smith\r\n    richard williams\r\n\r\nIf you consider at some point in time trying to use [Cloud Firestore][1], then using [whereArrayContains][2] will help you achieve this in a simpler way.\r\n\r\n&gt; my thinking is that I do not want to query the entire database for all employees each time I&#39;m checking for a certification\r\n\r\nYes, that is correct. It doesn&#39;t make sense to download an entire node of employees and search for them on the client. That&#39;s considered an anti-pattern and a waste of resources and bandwidth.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/queries#array_membership","title":"How to get all results that has a specific value in an array?","body":"<p>Using your actual structure it's not possible. However, if you are allowed to change the structure a little bit, then you should consider storing those certificates into a Map like this:</p>\n<pre><code>{\n  Employees: {\n    randomId {\n      name: john smith,\n      certifications: \n        Swift: true, //👈\n        Android: true //👈\n    },\n    randomId {\n      name: richard williams,\n      certifications: \n        Java: true, //👈\n        Android: true //👈\n    }\n  }\n}\n</code></pre>\n<p>To get for example all Employees with an Android certificate, then please use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference employeesRef = db.child(&quot;Employees&quot;);\nemployeesRef.orderByChild(&quot;certifications/Android&quot;).equalTo(true).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                String name = ds.child(&quot;name&quot;).getValue(String.class);\n                Log.d(TAG, name);\n            }\n        } else {\n            Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>john smith\nrichard williams\n</code></pre>\n<p>If you consider at some point in time trying to use <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, then using <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#array_membership\" rel=\"nofollow noreferrer\">whereArrayContains</a> will help you achieve this in a simpler way.</p>\n<blockquote>\n<p>my thinking is that I do not want to query the entire database for all employees each time I'm checking for a certification</p>\n</blockquote>\n<p>Yes, that is correct. It doesn't make sense to download an entire node of employees and search for them on the client. That's considered an anti-pattern and a waste of resources and bandwidth.</p>\n"}],"owner":{"account_id":26629674,"reputation":3,"user_id":20247050,"display_name":"myDev38123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666777888,"creation_date":1665928545,"question_id":74087708,"body_markdown":"I want to get all employees that have a Java certification, but I have been struggling to create a query that works:\r\n\r\nThis is my schema:\r\n\r\n```\r\n{\r\n  Employees: {\r\n    randomId {\r\n      name: john smith,\r\n      certifications: \r\n        0: Swift,\r\n        1: Android\r\n    },\r\n    randomId {\r\n      name: richard williams,\r\n      certifications: \r\n        0: java,\r\n        1: Android\r\n    }\r\n  }\r\n}\r\n```\r\nI did the following but I doubt that it is the most efficient way to solve this problem, (my thinking is that I do not want to query the entire database for all employees each time I&#39;m checking for a certification)\r\n```\r\nDatabaseReference reference = database.getReference(&quot;Employees&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                \r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    Employee e = snapshot.getValue(Employee.class);\r\n                    for (String cert : e.getCertifications()) {\r\n                        if (cert.equals(&quot;java&quot;))\r\n                            return true;\r\n                    }\r\n                }\r\n            }\r\n        \r\n            @Override\r\n            public void onCancelled(DatabaseError error) {\r\n                // Failed to read value\r\n                Log.w(&quot;W&quot;, &quot;Error&quot;, error.toException());\r\n            }\r\n        });\r\n```","title":"How to get all results that has a specific value in an array?","body":"<p>I want to get all employees that have a Java certification, but I have been struggling to create a query that works:</p>\n<p>This is my schema:</p>\n<pre><code>{\n  Employees: {\n    randomId {\n      name: john smith,\n      certifications: \n        0: Swift,\n        1: Android\n    },\n    randomId {\n      name: richard williams,\n      certifications: \n        0: java,\n        1: Android\n    }\n  }\n}\n</code></pre>\n<p>I did the following but I doubt that it is the most efficient way to solve this problem, (my thinking is that I do not want to query the entire database for all employees each time I'm checking for a certification)</p>\n<pre><code>DatabaseReference reference = database.getReference(&quot;Employees&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                \n                for (DataSnapshot snapshot : dataSnapshot.getChildren()){\n                    Employee e = snapshot.getValue(Employee.class);\n                    for (String cert : e.getCertifications()) {\n                        if (cert.equals(&quot;java&quot;))\n                            return true;\n                    }\n                }\n            }\n        \n            @Override\n            public void onCancelled(DatabaseError error) {\n                // Failed to read value\n                Log.w(&quot;W&quot;, &quot;Error&quot;, error.toException());\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666777663,"creation_date":1666777663,"answer_id":74205726,"question_id":74128669,"body_markdown":"I just replace the old by : \r\n\r\n    public class WebConsoleStarter extends ContextLoaderListener {\r\n        \r\n        private static final Logger LOG = LoggerFactory.getLogger(WebConsoleStarter.class);\r\n    \r\n        public void contextInitialized(ServletContextEvent event) {\r\n            ...\r\n            super.contextInitialized(event);\r\n          initializeWebClient(event.getServletContext() ,  ContextLoader.getCurrentWebApplicationContext());\r\n          ...\r\n        }\r\n    \r\n        private void initializeWebClient(ServletContext servletContext, WebApplicationContext context) {\r\n            ConnectionFactory connectionFactory = (ConnectionFactory)context.getBean(&quot;connectionFactory&quot;);\r\n            servletContext.setAttribute(WebClient.CONNECTION_FACTORY_ATTRIBUTE, connectionFactory);\r\n            WebClient.initContext(servletContext);\r\n        }\r\n    \r\n    \r\n    }","title":"Replace getContextLoader deprecated Spring 3 to 4","body":"<p>I just replace the old by :</p>\n<pre><code>public class WebConsoleStarter extends ContextLoaderListener {\n    \n    private static final Logger LOG = LoggerFactory.getLogger(WebConsoleStarter.class);\n\n    public void contextInitialized(ServletContextEvent event) {\n        ...\n        super.contextInitialized(event);\n      initializeWebClient(event.getServletContext() ,  ContextLoader.getCurrentWebApplicationContext());\n      ...\n    }\n\n    private void initializeWebClient(ServletContext servletContext, WebApplicationContext context) {\n        ConnectionFactory connectionFactory = (ConnectionFactory)context.getBean(&quot;connectionFactory&quot;);\n        servletContext.setAttribute(WebClient.CONNECTION_FACTORY_ATTRIBUTE, connectionFactory);\n        WebClient.initContext(servletContext);\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74205726,"answer_count":1,"score":0,"last_activity_date":1666777663,"creation_date":1666196246,"question_id":74128669,"body_markdown":"I had this code which works with Spring 3 : \r\n\r\n    public class WebConsoleStarter extends ContextLoaderListener {\r\n        \r\n        private static final Logger LOG = LoggerFactory.getLogger(WebConsoleStarter.class);\r\n    \r\n        public void contextInitialized(ServletContextEvent event) {\r\n        \t...\r\n        \tsuper.contextInitialized(event);\r\n          initializeWebClient(event.getServletContext() ,  getContextClassLoader().getCurrentWebApplicationContext());\r\n          ...\r\n        }\r\n    \r\n        private void initializeWebClient(ServletContext servletContext, WebApplicationContext context) {\r\n            ConnectionFactory connectionFactory = (ConnectionFactory)context.getBean(&quot;connectionFactory&quot;);\r\n            servletContext.setAttribute(WebClient.CONNECTION_FACTORY_ATTRIBUTE, connectionFactory);\r\n            WebClient.initContext(servletContext);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nBut this code can&#39;t work with Spring4 because the getContextLoader does not exist anymore.\r\nI see there is a &quot;getContextClassLoader&quot; method, but seems to be different.\r\n\r\nI see in spring documentation this phrase : \r\n\r\n&quot;org.springframework.web.context.ContextLoaderListener.getContextLoader()\r\nin favor of simply subclassing ContextLoaderListener itself (which extends ContextLoader, as of Spring 3.0)&quot;\r\n\r\nBut don&#39;t understand what I have to do really here in my code :/","title":"Replace getContextLoader deprecated Spring 3 to 4","body":"<p>I had this code which works with Spring 3 :</p>\n<pre><code>public class WebConsoleStarter extends ContextLoaderListener {\n    \n    private static final Logger LOG = LoggerFactory.getLogger(WebConsoleStarter.class);\n\n    public void contextInitialized(ServletContextEvent event) {\n        ...\n        super.contextInitialized(event);\n      initializeWebClient(event.getServletContext() ,  getContextClassLoader().getCurrentWebApplicationContext());\n      ...\n    }\n\n    private void initializeWebClient(ServletContext servletContext, WebApplicationContext context) {\n        ConnectionFactory connectionFactory = (ConnectionFactory)context.getBean(&quot;connectionFactory&quot;);\n        servletContext.setAttribute(WebClient.CONNECTION_FACTORY_ATTRIBUTE, connectionFactory);\n        WebClient.initContext(servletContext);\n    }\n\n\n}\n</code></pre>\n<p>But this code can't work with Spring4 because the getContextLoader does not exist anymore.\nI see there is a &quot;getContextClassLoader&quot; method, but seems to be different.</p>\n<p>I see in spring documentation this phrase :</p>\n<p>&quot;org.springframework.web.context.ContextLoaderListener.getContextLoader()\nin favor of simply subclassing ContextLoaderListener itself (which extends ContextLoader, as of Spring 3.0)&quot;</p>\n<p>But don't understand what I have to do really here in my code :/</p>\n"},{"tags":["java","node.js","asynchronous","synchronization","vert.x"],"answers":[{"comments":[{"owner":{"account_id":25484493,"reputation":17,"user_id":19280246,"display_name":"V&#245; Khắc Bảo"},"score":0,"creation_date":1665737455,"post_id":74066434,"comment_id":130772792,"body_markdown":"Thanks so much for your answer. However the 2 apps I talked about are independent of each other, we write both apps to see which works better. Vertx - mongoDB and Node.Js with MongoDB. They are independent and do not communicate with each other. Our focus of development is Vert.x. So your solution is to use &quot;send&quot; method of &quot;eventBus&quot; it still work without synchronization when working with database right?","body":"Thanks so much for your answer. However the 2 apps I talked about are independent of each other, we write both apps to see which works better. Vertx - mongoDB and Node.Js with MongoDB. They are independent and do not communicate with each other. Our focus of development is Vert.x. So your solution is to use &quot;send&quot; method of &quot;eventBus&quot; it still work without synchronization when working with database right?"}],"tags":[],"owner":{"account_id":2100524,"reputation":1074,"user_id":1868281,"accept_rate":92,"display_name":"Selim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665736140,"creation_date":1665736140,"answer_id":74066434,"question_id":74066255,"body_markdown":"With Vert.x you could make use of the event bus. The [`send` method](https://vertx.io/docs/apidocs/io/vertx/core/eventbus/EventBus.html#send-java.lang.String-java.lang.Object-) will deliver a message to **at most one handler** registered on an address. That way you shouldn&#39;t need synchronization. When you mix in a node app, then you could make use of a similar system using a [message queue](https://en.wikipedia.org/wiki/Message_queue) where only one consumer would work on a booking.\r\n\r\nThere&#39;s also a vert.x event bus bridge for node that you could take a look at [here](https://github.com/vert-x3/vertx-eventbus-bridge-clients).","title":"Solving synchronization problems in asynchronous programs","body":"<p>With Vert.x you could make use of the event bus. The <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/eventbus/EventBus.html#send-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>send</code> method</a> will deliver a message to <strong>at most one handler</strong> registered on an address. That way you shouldn't need synchronization. When you mix in a node app, then you could make use of a similar system using a <a href=\"https://en.wikipedia.org/wiki/Message_queue\" rel=\"nofollow noreferrer\">message queue</a> where only one consumer would work on a booking.</p>\n<p>There's also a vert.x event bus bridge for node that you could take a look at <a href=\"https://github.com/vert-x3/vertx-eventbus-bridge-clients\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10907801,"reputation":113,"user_id":8018059,"display_name":"FranzF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666777524,"creation_date":1666777524,"answer_id":74205707,"question_id":74066255,"body_markdown":"You can just use optimistic locking on Mongo side. More details: https://en.wikipedia.org/wiki/Optimistic_concurrency_control","title":"Solving synchronization problems in asynchronous programs","body":"<p>You can just use optimistic locking on Mongo side. More details: <a href=\"https://en.wikipedia.org/wiki/Optimistic_concurrency_control\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Optimistic_concurrency_control</a></p>\n"}],"owner":{"account_id":25484493,"reputation":17,"user_id":19280246,"display_name":"V&#245; Khắc Bảo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666777524,"creation_date":1665735147,"question_id":74066255,"body_markdown":"I am developing 2 projects using asynchronous technology Vert.x and Node.js and MongoDB. Both projects have the feature of booking airline tickets, there will certainly be cases where many people book the same ticket at the same time. sometimes, there will be data inconsistency problem. So I think the solution is to use synchronisation, but what I&#39;m worried about is that using sync in an async application will cause\r\nperformance issue where threads are blocked until processed, affecting user experience.\r\nSo is there any way to achieve this? Is it good to use synchronization in this case? I would be very grateful and appreciated if someone share me a solution to this problem. Forgive me as this is my first time working with asynchronous applications. Thank you very much","title":"Solving synchronization problems in asynchronous programs","body":"<p>I am developing 2 projects using asynchronous technology Vert.x and Node.js and MongoDB. Both projects have the feature of booking airline tickets, there will certainly be cases where many people book the same ticket at the same time. sometimes, there will be data inconsistency problem. So I think the solution is to use synchronisation, but what I'm worried about is that using sync in an async application will cause\nperformance issue where threads are blocked until processed, affecting user experience.\nSo is there any way to achieve this? Is it good to use synchronization in this case? I would be very grateful and appreciated if someone share me a solution to this problem. Forgive me as this is my first time working with asynchronous applications. Thank you very much</p>\n"},{"tags":["java","android-room"],"answers":[{"comments":[{"owner":{"account_id":25809450,"reputation":1,"user_id":19550732,"display_name":"xAaron"},"score":0,"creation_date":1666268117,"post_id":74139272,"comment_id":130899036,"body_markdown":"Hi thanks for the response, when adding the userID to my updateUser method this is fine however above within my onClick where the field values are assigned this generates an error as I assume it is expecting the userID to be assigned in that onClick just as the values 1 - 10 are?","body":"Hi thanks for the response, when adding the userID to my updateUser method this is fine however above within my onClick where the field values are assigned this generates an error as I assume it is expecting the userID to be assigned in that onClick just as the values 1 - 10 are?"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666268338,"post_id":74139272,"comment_id":130899131,"body_markdown":"Well, yes. I think you might have not posted full code but you have `getUser(int userID)` there so I assumed you have a way how to get the `userID`?","body":"Well, yes. I think you might have not posted full code but you have <code>getUser(int userID)</code> there so I assumed you have a way how to get the <code>userID</code>?"},{"owner":{"account_id":25809450,"reputation":1,"user_id":19550732,"display_name":"xAaron"},"score":0,"creation_date":1666268915,"post_id":74139272,"comment_id":130899361,"body_markdown":"See above the updated updateUser with your suggested change, I thought my getUser method would return the userID automatically from the database as its autogenerated.  I called this within my updateUser at the bottom but does this need assigned in the onclick instead to avoid getting the error ?","body":"See above the updated updateUser with your suggested change, I thought my getUser method would return the userID automatically from the database as its autogenerated.  I called this within my updateUser at the bottom but does this need assigned in the onclick instead to avoid getting the error ?"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666269225,"post_id":74139272,"comment_id":130899495,"body_markdown":"Where do you get the `userID` of the user you are trying to modify?","body":"Where do you get the <code>userID</code> of the user you are trying to modify?"},{"owner":{"account_id":25809450,"reputation":1,"user_id":19550732,"display_name":"xAaron"},"score":0,"creation_date":1666270358,"post_id":74139272,"comment_id":130899942,"body_markdown":"I thought the getUser method would return it from the database using the getUser query in the UserDao","body":"I thought the getUser method would return it from the database using the getUser query in the UserDao"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666270534,"post_id":74139272,"comment_id":130900002,"body_markdown":"@xAaron Yes, `getUser(int userID)` would return the User but it needs `userID` to do so. Do you get the `userID` somewhere? (I updated the answer based on what I think is wrong)","body":"@xAaron Yes, <code>getUser(int userID)</code> would return the User but it needs <code>userID</code> to do so. Do you get the <code>userID</code> somewhere? (I updated the answer based on what I think is wrong)"},{"owner":{"account_id":25809450,"reputation":1,"user_id":19550732,"display_name":"xAaron"},"score":0,"creation_date":1666272092,"post_id":74139272,"comment_id":130900625,"body_markdown":"Okay I made your changes and there are no errors but the values are still not updated upon pressing the save button in the UserDetails activity, is this because I have not referenced them in the adapter?","body":"Okay I made your changes and there are no errors but the values are still not updated upon pressing the save button in the UserDetails activity, is this because I have not referenced them in the adapter?"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666272213,"post_id":74139272,"comment_id":130900673,"body_markdown":"You mean in the `MainActivity`? Well you are not updating them there. If you kill the app and open it again, it should be updated?","body":"You mean in the <code>MainActivity</code>? Well you are not updating them there. If you kill the app and open it again, it should be updated?"}],"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666270238,"creation_date":1666266033,"answer_id":74139272,"question_id":74138830,"body_markdown":"When **creating** the `User`, `Room` auto-generates the primary key for you - `uid`.\r\n\r\nWhen trying to **update** the `User`, it is you, who need to provide the `uid`.\r\n\r\n    public void updateUser(int usertID, String value1...value10) {\r\n\r\n        AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\r\n        User user =  new User();\r\n        user.uid = userUID // &lt;------------\r\n        user.Value1 = value1;\r\n        ...\r\n        user.Value10 = value10;\r\n\r\n        db.userDao().updateUser(user);\r\n\r\n        finish();\r\n    }\r\n\r\nI think you are missing passing the user ID to the detail activity as well.\r\n\r\nUserListAdapter \r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Context context = v.getContext();\r\n                Intent intent = new Intent(context , UserDetails.class);\r\n                intent.putExtra(&quot;userId&quot;, user.uid)\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\nUserDetails activity\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.user_details);\r\n\r\n        final EditText txtField1Value = findViewById(R.id.txtField1Value);\r\n        ...\r\n        final EditText txtField10Value = findViewById(R.id.txtField10Value);\r\n\r\n        Intent detailIntent = getIntent();\r\n        if (detailIntent != null) {\r\n            int userId = detailIntent.getIntExtra(&quot;userId&quot;, -1);\r\n            if (userId != -1) {\r\n                Button saveButton = findViewById(R.id.saveButton2);\r\n                saveButton.setOnClickListener(new View.OnClickListener() {\r\n            \r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        updateUser(\r\n                            userId\r\n                            txtField1Value.getText().toString(), \r\n                            ...\r\n                            txtField10Value.getText().toString());\r\n                }\r\n                });\r\n            }\r\n        }\r\n    }","title":"How to create a unique id and override methods for updating an already created User object within the room database on android studio","body":"<p>When <strong>creating</strong> the <code>User</code>, <code>Room</code> auto-generates the primary key for you - <code>uid</code>.</p>\n<p>When trying to <strong>update</strong> the <code>User</code>, it is you, who need to provide the <code>uid</code>.</p>\n<pre><code>public void updateUser(int usertID, String value1...value10) {\n\n    AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\n    User user =  new User();\n    user.uid = userUID // &lt;------------\n    user.Value1 = value1;\n    ...\n    user.Value10 = value10;\n\n    db.userDao().updateUser(user);\n\n    finish();\n}\n</code></pre>\n<p>I think you are missing passing the user ID to the detail activity as well.</p>\n<p>UserListAdapter</p>\n<pre><code>    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Context context = v.getContext();\n            Intent intent = new Intent(context , UserDetails.class);\n            intent.putExtra(&quot;userId&quot;, user.uid)\n            context.startActivity(intent);\n        }\n    });\n</code></pre>\n<p>UserDetails activity</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.user_details);\n\n    final EditText txtField1Value = findViewById(R.id.txtField1Value);\n    ...\n    final EditText txtField10Value = findViewById(R.id.txtField10Value);\n\n    Intent detailIntent = getIntent();\n    if (detailIntent != null) {\n        int userId = detailIntent.getIntExtra(&quot;userId&quot;, -1);\n        if (userId != -1) {\n            Button saveButton = findViewById(R.id.saveButton2);\n            saveButton.setOnClickListener(new View.OnClickListener() {\n        \n                @Override\n                public void onClick(View v) {\n                    updateUser(\n                        userId\n                        txtField1Value.getText().toString(), \n                        ...\n                        txtField10Value.getText().toString());\n            }\n            });\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25809450,"reputation":1,"user_id":19550732,"display_name":"xAaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666777511,"creation_date":1666263945,"question_id":74138830,"body_markdown":"**Update**\r\nI found the issue within my program, the values are actually being saved as seen within the database inspector\r\n\r\nThe activity for adding the values never displays the current values which is what I thought they should, from this activity I can only enter new values and save\r\n\r\n\r\nI have a user object which is already created in a separate activity via recyclerview, I want to then click into each recycler view created and update the users data within that but my update user method is not updating or storing any data at all when I enter the new data in the fields.\r\n\r\nI know this is due to my app not being able to identify which user I&#39;m actually trying to update but I&#39;m unsure how to assign the id to my user object and then search for the clicked on user&#39;s id within my updateUser method in the UserDetails activity?\r\n\r\nSee below my user object created within User entity\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    public int uid = 0;\r\n\r\n    @ColumnInfo(name = &quot;Username&quot;)\r\n    public String UserName;\r\n\r\n    @ColumnInfo(name = &quot;Field1&quot;)\r\n    public String Value1;\r\n\r\n    @ColumnInfo(name = &quot;Field2&quot;)\r\n    public String Value2;\r\n\r\n    @ColumnInfo(name = &quot;Field3&quot;)\r\n    public String Value3;\r\n\r\n    @ColumnInfo(name = &quot;Field4&quot;)\r\n    public String Value4;\r\n\r\n    @ColumnInfo(name = &quot;Field5&quot;)\r\n    public String Value5;\r\n\r\n    @ColumnInfo(name = &quot;Field6&quot;)\r\n    public String Value6;\r\n\r\n    @ColumnInfo(name = &quot;Field7&quot;)\r\n    public String Value7;\r\n\r\n    @ColumnInfo(name = &quot;Field8&quot;)\r\n    public String Value8;\r\n\r\n    @ColumnInfo(name = &quot;Field9&quot;)\r\n    public String Value9;\r\n\r\n    @ColumnInfo(name = &quot;Field10&quot;)\r\n    public String Value10;\r\n\r\n    public User() { this(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;); }\r\n\r\n    public User(String UserName, String value1, String value2, String value3, String value4, String value5, String value6, String value7, String value8, String value9, String value10 ) {\r\n        setUserName(UserName);\r\n        setValue1(Value1);\r\n        setValue1(Value2);\r\n        setValue1(Value3);\r\n        setValue1(Value4);\r\n        setValue1(Value5);\r\n        setValue1(Value6);\r\n        setValue1(Value7);\r\n        setValue1(Value8);\r\n        setValue1(Value9);\r\n        setValue1(Value10);\r\n    }\r\n\r\n\r\n\r\n\r\n    public int getId() {\r\n\r\n        return uid;\r\n    }\r\n\r\n    public void setId(int id) {\r\n\r\n        this.uid = id;\r\n    }\r\n\r\n    public String getUserName() {\r\n\r\n        return UserName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n\r\n        UserName = userName;\r\n    }\r\n\r\n\r\n    // Field 1 value\r\n    public String getValue1() {\r\n\r\n        return Value1;\r\n    }\r\n\r\n    public void setValue1(String value1) {\r\n\r\n        Value1 = value1;\r\n    }\r\n\r\n    // Field 2 value\r\n    public String getValue2() {\r\n\r\n        return Value2;\r\n    }\r\n\r\n    public void setValue2(String value2) {\r\n\r\n        Value2 = value2;\r\n    }\r\n\r\n    // Field 3 value\r\n    public String getValue3() {\r\n\r\n        return Value3;\r\n    }\r\n\r\n    public void setValue3(String value3) {\r\n\r\n        Value3 = value3;\r\n    }\r\n\r\n    // Field 4 value\r\n    public String getValue4() {\r\n\r\n        return Value4;\r\n    }\r\n\r\n    public void setValue4(String value4) {\r\n\r\n        Value4 = value4;\r\n    }\r\n\r\n    // Field 5 value\r\n    public String getValue5() {\r\n\r\n        return Value5;\r\n    }\r\n\r\n    public void setValue5(String value5) {\r\n\r\n        Value5 = value5;\r\n    }\r\n\r\n    // Field 6 value\r\n    public String getValue6() {\r\n\r\n        return Value6;\r\n    }\r\n\r\n    public void setValue6(String value6) {\r\n\r\n        Value6 = value6;\r\n    }\r\n\r\n    // Field 7 value\r\n    public String getValue7() {\r\n\r\n        return Value7;\r\n    }\r\n\r\n    public void setValue7(String value7) {\r\n\r\n        Value7 = value7;\r\n    }\r\n\r\n    // Field 8 value\r\n    public String getValue8() {\r\n\r\n        return Value8;\r\n    }\r\n\r\n    public void setValue8(String value8) {\r\n\r\n        Value8 = value8;\r\n    }\r\n\r\n    // Field 9 value\r\n    public String getValue9() {\r\n\r\n        return Value9;\r\n    }\r\n\r\n    public void setValue9(String value9) {\r\n\r\n        Value9 = value9;\r\n    }\r\n\r\n    // Field 10 value\r\n    public String getValue10() {\r\n\r\n        return Value10;\r\n    }\r\n\r\n    public void setValue10(String value10) {\r\n\r\n        Value10 = value10;\r\n    }\r\n\r\n}\r\n```\r\n\r\nSee below my UserDao with my methods for inserting and updating a user\r\n\r\n```\r\n@Dao\r\npublic interface UserDao {\r\n\r\n    @Query(&quot;SELECT * FROM User&quot;)\r\n    List&lt;User&gt; getAllUsers();\r\n\r\n    @Query(&quot;SELECT * FROM User WHERE uid =:userID&quot;)\r\n    User getUser(int userID);\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insertUser(User users);\r\n\r\n    @Query(&quot;UPDATE User SET Field1 =:Value1, Field2 =:Value2, Field3 =:Value3, Field4 =:Value4, Field5 =:Value5, Field6 =:Value6, &quot; +\r\n            &quot;Field7 =:Value7, Field8 =:Value8, Field6 =:Value9, Field6 =:Value9, Field10 =:Value10 WHERE uid = uid &quot;)\r\n    void updateUser(String Value1, String Value2, String Value3, String Value4, String Value5, String Value6, String Value7,\r\n                    String Value8, String Value9, String Value10);\r\n\r\n    @Update\r\n    void updateUser(User...users);\r\n\r\n    @Delete\r\n    void delete(User user);\r\n}\r\n\r\n```\r\nSee below my addnewuseractivity where a user is initially created \r\n\r\n```\r\npublic class AddNewUserActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_new_user);\r\n\r\n        final EditText firstNameInput =  findViewById(R.id.firstNameInput);\r\n       /* final EditText txtField1Value = findViewById(R.id.txtField1Value);\r\n        final EditText txtField2Value = findViewById(R.id.txtField2Value);\r\n        final EditText txtField3Value = findViewById(R.id.txtField3Value);\r\n        final EditText txtField4Value = findViewById(R.id.txtField4Value);\r\n        final EditText txtField5Value = findViewById(R.id.txtField5Value);\r\n        final EditText txtField6Value = findViewById(R.id.txtField6Value);\r\n        final EditText txtField7Value = findViewById(R.id.txtField7Value);\r\n        final EditText txtField8Value = findViewById(R.id.txtField8Value);\r\n        final EditText txtField9Value = findViewById(R.id.txtField9Value);\r\n        final EditText txtField10Value = findViewById(R.id.txtField10Value);\r\n*/\r\n\r\n        Button saveButton =  findViewById(R.id.saveButton);\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                saveNewUser(firstNameInput.getText().toString()); /*, txtField1Value.getText().toString(), txtField2Value.getText().toString(),\r\n                        txtField3Value.getText().toString(), txtField4Value.getText().toString(), txtField5Value.getText().toString(),\r\n                        txtField6Value.getText().toString(), txtField7Value.getText().toString(), txtField8Value.getText().toString(),\r\n                        txtField9Value.getText().toString(), txtField10Value.getText().toString());*/\r\n            }\r\n        });\r\n    }\r\n\r\n    public void saveNewUser(String firstName) {\r\n        AppDatabase db  = AppDatabase.getDbInstance(this.getApplicationContext());\r\n\r\n        User user = new User();\r\n        user.UserName = firstName;\r\n        /*user.Value1 = value1;\r\n        user.Value2 = value2;\r\n        user.Value3 = value3;\r\n        user.Value4 = value4;\r\n        user.Value5 = value5;\r\n        user.Value6 = value6;\r\n        user.Value7 = value7;\r\n        user.Value8 = value8;\r\n        user.Value9 = value9;\r\n        user.Value10 = value10;*/\r\n\r\n        db.userDao().insertUser(user);\r\n\r\n        finish();\r\n\r\n    }\r\n}\r\n```\r\n\r\nSee below my userdetails activity where the created user&#39;s data is supposed to be updated on press\r\n\r\n```\r\npublic class UserDetails extends AppCompatActivity {\r\n\r\n   @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.user_details);\r\n\r\n        final EditText txtField1Value = findViewById(R.id.txtField1Value);\r\n        final EditText txtField2Value = findViewById(R.id.txtField2Value);\r\n        final EditText txtField3Value = findViewById(R.id.txtField3Value);\r\n        final EditText txtField4Value = findViewById(R.id.txtField4Value);\r\n        final EditText txtField5Value = findViewById(R.id.txtField5Value);\r\n        final EditText txtField6Value = findViewById(R.id.txtField6Value);\r\n        final EditText txtField7Value = findViewById(R.id.txtField7Value);\r\n        final EditText txtField8Value = findViewById(R.id.txtField8Value);\r\n        final EditText txtField9Value = findViewById(R.id.txtField9Value);\r\n        final EditText txtField10Value = findViewById(R.id.txtField10Value);\r\n\r\n\r\n        Intent detailIntent = getIntent();\r\n        if (detailIntent != null) {\r\n            final int userId = detailIntent.getIntExtra(&quot;userId&quot;, -1);\r\n            if (userId != -1) {\r\n                Button saveButton = findViewById(R.id.saveButton2);\r\n                saveButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        updateUser(userId, txtField1Value.getText().toString(), txtField2Value.getText().toString(),\r\n                                txtField3Value.getText().toString(), txtField4Value.getText().toString(), txtField5Value.getText().toString(),\r\n                                txtField6Value.getText().toString(), txtField7Value.getText().toString(), txtField8Value.getText().toString(),\r\n                                txtField9Value.getText().toString(), txtField10Value.getText().toString());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n   /* public User getUser(int userID)\r\n    {\r\n        return AppDatabase.getDbInstance(this.getApplicationContext()).userDao().getUser(userID);\r\n    }*/\r\n\r\n    public void updateUser( int userId, String value1, String value2, String value3, String value4, String value5, String value6, String value7,\r\n    String value8, String value9, String value10) {\r\n\r\n        AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\r\n\r\n\r\n       User user = db.userDao().getUser(userId);\r\n\r\n        user.Value1 = value1;\r\n        user.Value2 = value2;\r\n        user.Value3 = value3;\r\n        user.Value4 = value4;\r\n        user.Value5 = value5;\r\n        user.Value6 = value6;\r\n        user.Value7 = value7;\r\n        user.Value8 = value8;\r\n        user.Value9 = value9;\r\n        user.Value10 = value10;\r\n\r\n        db.userDao().updateUser(user);\r\n\r\n        finish();\r\n    }\r\n}\r\n\r\n\r\n```\r\nSee below my UserListAdapter and MainActivity for reference \r\n\r\n```\r\npublic class UserListAdapter extends RecyclerView.Adapter&lt;UserListAdapter.MyViewHolder&gt; {\r\n\r\n\r\n    private Context context;\r\n    private List&lt;User&gt; userList;\r\n    private ItemClickListener clickListener;\r\n\r\n    public UserListAdapter(Context context) {\r\n        this.context = context;\r\n\r\n    }\r\n\r\n    public void setUserList(List&lt;User&gt; userList) {\r\n        this.userList = userList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public UserListAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n       View view = LayoutInflater.from(context).inflate(R.layout.recycler_row, parent, false);\r\n\r\n       return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UserListAdapter.MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\r\n        final User user = userList.get(position);\r\n        holder.tvFirstName.setText(this.userList.get(position).UserName);\r\n       /* holder.tvValue1.setText(this.userList.get(position).Value1);\r\n        holder.tvValue2.setText(this.userList.get(position).Value2);\r\n        holder.tvValue3.setText(this.userList.get(position).Value3);\r\n        holder.tvValue4.setText(this.userList.get(position).Value4);\r\n        holder.tvValue5.setText(this.userList.get(position).Value5);\r\n        holder.tvValue6.setText(this.userList.get(position).Value6);\r\n        holder.tvValue7.setText(this.userList.get(position).Value7);\r\n        holder.tvValue8.setText(this.userList.get(position).Value8);\r\n        holder.tvValue9.setText(this.userList.get(position).Value9);\r\n        holder.tvValue10.setText(this.userList.get(position).Value10);*/\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Context context = v.getContext();\r\n                Intent intent = new Intent(context , UserDetails.class);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        holder.deleteBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AppDatabase.getDbInstance(context).userDao().delete(user);\r\n                userList.remove(user);\r\n                notifyItemRemoved(position);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return  this.userList.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder{\r\n        TextView tvFirstName;\r\n       /* TextView tvValue1;\r\n        TextView tvValue2;\r\n        TextView tvValue3;\r\n        TextView tvValue4;\r\n        TextView tvValue5;\r\n        TextView tvValue6;\r\n        TextView tvValue7;\r\n        TextView tvValue8;\r\n        TextView tvValue9;\r\n        TextView tvValue10;*/\r\n\r\n        Button deleteBtn;\r\n\r\n\r\n        public MyViewHolder(View view) {\r\n            super(view);\r\n             tvFirstName = view.findViewById(R.id.tvFirstName);\r\n           /*  tvValue1 = view.findViewById(R.id.tvField1Value);\r\n             tvValue2 = view.findViewById(R.id.tvField2Value);\r\n             tvValue3 = view.findViewById(R.id.tvField3Value);\r\n             tvValue4 = view.findViewById(R.id.tvField4Value);\r\n             tvValue5 = view.findViewById(R.id.tvField5Value);\r\n             tvValue6 = view.findViewById(R.id.tvField6Value);\r\n             tvValue7 = view.findViewById(R.id.tvField7Value);\r\n             tvValue8 = view.findViewById(R.id.tvField8Value);\r\n             tvValue9 = view.findViewById(R.id.tvField9Value);\r\n             tvValue10 = view.findViewById(R.id.tvField10Value);*/\r\n\r\n             deleteBtn = view.findViewById(R.id.deleteBtn);\r\n\r\n        }\r\n    }\r\n\r\n    public void setClickListener(ItemClickListener itemClickListener) {\r\n        this.clickListener = itemClickListener;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        public TextView userName;\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            userName = (TextView) itemView.findViewById(R.id.tvFirstName);\r\n\r\n            itemView.setTag(itemView);\r\n            itemView.setOnClickListener(this);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (clickListener != null) clickListener.onClick(view, getAdapterPosition());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity implements ItemClickListener{\r\n    private UserListAdapter userListAdapter;\r\n\r\n    private List&lt;User&gt; users;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button addNewUserButton = findViewById(R.id.addNewUserButton);\r\n        addNewUserButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivityForResult(new Intent(MainActivity.this, AddNewUserActivity.class), 100);\r\n            }\r\n        });\r\n\r\n        initRecyclerView();\r\n        loadUserList();\r\n\r\n    }\r\n\r\n    private void initRecyclerView() {\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(this, DividerItemDecoration.VERTICAL);\r\n        recyclerView.addItemDecoration(dividerItemDecoration);\r\n        userListAdapter = new UserListAdapter(this);\r\n        recyclerView.setAdapter(userListAdapter);\r\n\r\n    }\r\n\r\n    private void loadUserList() {\r\n        AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\r\n        List&lt;User&gt; userList =db.userDao().getAllUsers();\r\n        userListAdapter.setUserList(userList);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if(requestCode == 100) {\r\n            loadUserList();\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view, int position) {\r\n        final User user = users.get(position);\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to create a unique id and override methods for updating an already created User object within the room database on android studio","body":"<p><strong>Update</strong>\nI found the issue within my program, the values are actually being saved as seen within the database inspector</p>\n<p>The activity for adding the values never displays the current values which is what I thought they should, from this activity I can only enter new values and save</p>\n<p>I have a user object which is already created in a separate activity via recyclerview, I want to then click into each recycler view created and update the users data within that but my update user method is not updating or storing any data at all when I enter the new data in the fields.</p>\n<p>I know this is due to my app not being able to identify which user I'm actually trying to update but I'm unsure how to assign the id to my user object and then search for the clicked on user's id within my updateUser method in the UserDetails activity?</p>\n<p>See below my user object created within User entity</p>\n<pre><code>@Entity\npublic class User {\n\n    @PrimaryKey(autoGenerate = true)\n    public int uid = 0;\n\n    @ColumnInfo(name = &quot;Username&quot;)\n    public String UserName;\n\n    @ColumnInfo(name = &quot;Field1&quot;)\n    public String Value1;\n\n    @ColumnInfo(name = &quot;Field2&quot;)\n    public String Value2;\n\n    @ColumnInfo(name = &quot;Field3&quot;)\n    public String Value3;\n\n    @ColumnInfo(name = &quot;Field4&quot;)\n    public String Value4;\n\n    @ColumnInfo(name = &quot;Field5&quot;)\n    public String Value5;\n\n    @ColumnInfo(name = &quot;Field6&quot;)\n    public String Value6;\n\n    @ColumnInfo(name = &quot;Field7&quot;)\n    public String Value7;\n\n    @ColumnInfo(name = &quot;Field8&quot;)\n    public String Value8;\n\n    @ColumnInfo(name = &quot;Field9&quot;)\n    public String Value9;\n\n    @ColumnInfo(name = &quot;Field10&quot;)\n    public String Value10;\n\n    public User() { this(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;); }\n\n    public User(String UserName, String value1, String value2, String value3, String value4, String value5, String value6, String value7, String value8, String value9, String value10 ) {\n        setUserName(UserName);\n        setValue1(Value1);\n        setValue1(Value2);\n        setValue1(Value3);\n        setValue1(Value4);\n        setValue1(Value5);\n        setValue1(Value6);\n        setValue1(Value7);\n        setValue1(Value8);\n        setValue1(Value9);\n        setValue1(Value10);\n    }\n\n\n\n\n    public int getId() {\n\n        return uid;\n    }\n\n    public void setId(int id) {\n\n        this.uid = id;\n    }\n\n    public String getUserName() {\n\n        return UserName;\n    }\n\n    public void setUserName(String userName) {\n\n        UserName = userName;\n    }\n\n\n    // Field 1 value\n    public String getValue1() {\n\n        return Value1;\n    }\n\n    public void setValue1(String value1) {\n\n        Value1 = value1;\n    }\n\n    // Field 2 value\n    public String getValue2() {\n\n        return Value2;\n    }\n\n    public void setValue2(String value2) {\n\n        Value2 = value2;\n    }\n\n    // Field 3 value\n    public String getValue3() {\n\n        return Value3;\n    }\n\n    public void setValue3(String value3) {\n\n        Value3 = value3;\n    }\n\n    // Field 4 value\n    public String getValue4() {\n\n        return Value4;\n    }\n\n    public void setValue4(String value4) {\n\n        Value4 = value4;\n    }\n\n    // Field 5 value\n    public String getValue5() {\n\n        return Value5;\n    }\n\n    public void setValue5(String value5) {\n\n        Value5 = value5;\n    }\n\n    // Field 6 value\n    public String getValue6() {\n\n        return Value6;\n    }\n\n    public void setValue6(String value6) {\n\n        Value6 = value6;\n    }\n\n    // Field 7 value\n    public String getValue7() {\n\n        return Value7;\n    }\n\n    public void setValue7(String value7) {\n\n        Value7 = value7;\n    }\n\n    // Field 8 value\n    public String getValue8() {\n\n        return Value8;\n    }\n\n    public void setValue8(String value8) {\n\n        Value8 = value8;\n    }\n\n    // Field 9 value\n    public String getValue9() {\n\n        return Value9;\n    }\n\n    public void setValue9(String value9) {\n\n        Value9 = value9;\n    }\n\n    // Field 10 value\n    public String getValue10() {\n\n        return Value10;\n    }\n\n    public void setValue10(String value10) {\n\n        Value10 = value10;\n    }\n\n}\n</code></pre>\n<p>See below my UserDao with my methods for inserting and updating a user</p>\n<pre><code>@Dao\npublic interface UserDao {\n\n    @Query(&quot;SELECT * FROM User&quot;)\n    List&lt;User&gt; getAllUsers();\n\n    @Query(&quot;SELECT * FROM User WHERE uid =:userID&quot;)\n    User getUser(int userID);\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void insertUser(User users);\n\n    @Query(&quot;UPDATE User SET Field1 =:Value1, Field2 =:Value2, Field3 =:Value3, Field4 =:Value4, Field5 =:Value5, Field6 =:Value6, &quot; +\n            &quot;Field7 =:Value7, Field8 =:Value8, Field6 =:Value9, Field6 =:Value9, Field10 =:Value10 WHERE uid = uid &quot;)\n    void updateUser(String Value1, String Value2, String Value3, String Value4, String Value5, String Value6, String Value7,\n                    String Value8, String Value9, String Value10);\n\n    @Update\n    void updateUser(User...users);\n\n    @Delete\n    void delete(User user);\n}\n\n</code></pre>\n<p>See below my addnewuseractivity where a user is initially created</p>\n<pre><code>public class AddNewUserActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_new_user);\n\n        final EditText firstNameInput =  findViewById(R.id.firstNameInput);\n       /* final EditText txtField1Value = findViewById(R.id.txtField1Value);\n        final EditText txtField2Value = findViewById(R.id.txtField2Value);\n        final EditText txtField3Value = findViewById(R.id.txtField3Value);\n        final EditText txtField4Value = findViewById(R.id.txtField4Value);\n        final EditText txtField5Value = findViewById(R.id.txtField5Value);\n        final EditText txtField6Value = findViewById(R.id.txtField6Value);\n        final EditText txtField7Value = findViewById(R.id.txtField7Value);\n        final EditText txtField8Value = findViewById(R.id.txtField8Value);\n        final EditText txtField9Value = findViewById(R.id.txtField9Value);\n        final EditText txtField10Value = findViewById(R.id.txtField10Value);\n*/\n\n        Button saveButton =  findViewById(R.id.saveButton);\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                saveNewUser(firstNameInput.getText().toString()); /*, txtField1Value.getText().toString(), txtField2Value.getText().toString(),\n                        txtField3Value.getText().toString(), txtField4Value.getText().toString(), txtField5Value.getText().toString(),\n                        txtField6Value.getText().toString(), txtField7Value.getText().toString(), txtField8Value.getText().toString(),\n                        txtField9Value.getText().toString(), txtField10Value.getText().toString());*/\n            }\n        });\n    }\n\n    public void saveNewUser(String firstName) {\n        AppDatabase db  = AppDatabase.getDbInstance(this.getApplicationContext());\n\n        User user = new User();\n        user.UserName = firstName;\n        /*user.Value1 = value1;\n        user.Value2 = value2;\n        user.Value3 = value3;\n        user.Value4 = value4;\n        user.Value5 = value5;\n        user.Value6 = value6;\n        user.Value7 = value7;\n        user.Value8 = value8;\n        user.Value9 = value9;\n        user.Value10 = value10;*/\n\n        db.userDao().insertUser(user);\n\n        finish();\n\n    }\n}\n</code></pre>\n<p>See below my userdetails activity where the created user's data is supposed to be updated on press</p>\n<pre><code>public class UserDetails extends AppCompatActivity {\n\n   @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.user_details);\n\n        final EditText txtField1Value = findViewById(R.id.txtField1Value);\n        final EditText txtField2Value = findViewById(R.id.txtField2Value);\n        final EditText txtField3Value = findViewById(R.id.txtField3Value);\n        final EditText txtField4Value = findViewById(R.id.txtField4Value);\n        final EditText txtField5Value = findViewById(R.id.txtField5Value);\n        final EditText txtField6Value = findViewById(R.id.txtField6Value);\n        final EditText txtField7Value = findViewById(R.id.txtField7Value);\n        final EditText txtField8Value = findViewById(R.id.txtField8Value);\n        final EditText txtField9Value = findViewById(R.id.txtField9Value);\n        final EditText txtField10Value = findViewById(R.id.txtField10Value);\n\n\n        Intent detailIntent = getIntent();\n        if (detailIntent != null) {\n            final int userId = detailIntent.getIntExtra(&quot;userId&quot;, -1);\n            if (userId != -1) {\n                Button saveButton = findViewById(R.id.saveButton2);\n                saveButton.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        updateUser(userId, txtField1Value.getText().toString(), txtField2Value.getText().toString(),\n                                txtField3Value.getText().toString(), txtField4Value.getText().toString(), txtField5Value.getText().toString(),\n                                txtField6Value.getText().toString(), txtField7Value.getText().toString(), txtField8Value.getText().toString(),\n                                txtField9Value.getText().toString(), txtField10Value.getText().toString());\n                    }\n                });\n            }\n        }\n    }\n\n   /* public User getUser(int userID)\n    {\n        return AppDatabase.getDbInstance(this.getApplicationContext()).userDao().getUser(userID);\n    }*/\n\n    public void updateUser( int userId, String value1, String value2, String value3, String value4, String value5, String value6, String value7,\n    String value8, String value9, String value10) {\n\n        AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\n\n\n       User user = db.userDao().getUser(userId);\n\n        user.Value1 = value1;\n        user.Value2 = value2;\n        user.Value3 = value3;\n        user.Value4 = value4;\n        user.Value5 = value5;\n        user.Value6 = value6;\n        user.Value7 = value7;\n        user.Value8 = value8;\n        user.Value9 = value9;\n        user.Value10 = value10;\n\n        db.userDao().updateUser(user);\n\n        finish();\n    }\n}\n\n\n</code></pre>\n<p>See below my UserListAdapter and MainActivity for reference</p>\n<pre><code>public class UserListAdapter extends RecyclerView.Adapter&lt;UserListAdapter.MyViewHolder&gt; {\n\n\n    private Context context;\n    private List&lt;User&gt; userList;\n    private ItemClickListener clickListener;\n\n    public UserListAdapter(Context context) {\n        this.context = context;\n\n    }\n\n    public void setUserList(List&lt;User&gt; userList) {\n        this.userList = userList;\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public UserListAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       View view = LayoutInflater.from(context).inflate(R.layout.recycler_row, parent, false);\n\n       return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull UserListAdapter.MyViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\n        final User user = userList.get(position);\n        holder.tvFirstName.setText(this.userList.get(position).UserName);\n       /* holder.tvValue1.setText(this.userList.get(position).Value1);\n        holder.tvValue2.setText(this.userList.get(position).Value2);\n        holder.tvValue3.setText(this.userList.get(position).Value3);\n        holder.tvValue4.setText(this.userList.get(position).Value4);\n        holder.tvValue5.setText(this.userList.get(position).Value5);\n        holder.tvValue6.setText(this.userList.get(position).Value6);\n        holder.tvValue7.setText(this.userList.get(position).Value7);\n        holder.tvValue8.setText(this.userList.get(position).Value8);\n        holder.tvValue9.setText(this.userList.get(position).Value9);\n        holder.tvValue10.setText(this.userList.get(position).Value10);*/\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Context context = v.getContext();\n                Intent intent = new Intent(context , UserDetails.class);\n                context.startActivity(intent);\n            }\n        });\n\n        holder.deleteBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                AppDatabase.getDbInstance(context).userDao().delete(user);\n                userList.remove(user);\n                notifyItemRemoved(position);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return  this.userList.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder{\n        TextView tvFirstName;\n       /* TextView tvValue1;\n        TextView tvValue2;\n        TextView tvValue3;\n        TextView tvValue4;\n        TextView tvValue5;\n        TextView tvValue6;\n        TextView tvValue7;\n        TextView tvValue8;\n        TextView tvValue9;\n        TextView tvValue10;*/\n\n        Button deleteBtn;\n\n\n        public MyViewHolder(View view) {\n            super(view);\n             tvFirstName = view.findViewById(R.id.tvFirstName);\n           /*  tvValue1 = view.findViewById(R.id.tvField1Value);\n             tvValue2 = view.findViewById(R.id.tvField2Value);\n             tvValue3 = view.findViewById(R.id.tvField3Value);\n             tvValue4 = view.findViewById(R.id.tvField4Value);\n             tvValue5 = view.findViewById(R.id.tvField5Value);\n             tvValue6 = view.findViewById(R.id.tvField6Value);\n             tvValue7 = view.findViewById(R.id.tvField7Value);\n             tvValue8 = view.findViewById(R.id.tvField8Value);\n             tvValue9 = view.findViewById(R.id.tvField9Value);\n             tvValue10 = view.findViewById(R.id.tvField10Value);*/\n\n             deleteBtn = view.findViewById(R.id.deleteBtn);\n\n        }\n    }\n\n    public void setClickListener(ItemClickListener itemClickListener) {\n        this.clickListener = itemClickListener;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        public TextView userName;\n        public ViewHolder(View itemView) {\n            super(itemView);\n            userName = (TextView) itemView.findViewById(R.id.tvFirstName);\n\n            itemView.setTag(itemView);\n            itemView.setOnClickListener(this);\n\n        }\n\n        @Override\n        public void onClick(View view) {\n            if (clickListener != null) clickListener.onClick(view, getAdapterPosition());\n        }\n    }\n\n}\n\n</code></pre>\n<pre><code>public class MainActivity extends AppCompatActivity implements ItemClickListener{\n    private UserListAdapter userListAdapter;\n\n    private List&lt;User&gt; users;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button addNewUserButton = findViewById(R.id.addNewUserButton);\n        addNewUserButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivityForResult(new Intent(MainActivity.this, AddNewUserActivity.class), 100);\n            }\n        });\n\n        initRecyclerView();\n        loadUserList();\n\n    }\n\n    private void initRecyclerView() {\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(this, DividerItemDecoration.VERTICAL);\n        recyclerView.addItemDecoration(dividerItemDecoration);\n        userListAdapter = new UserListAdapter(this);\n        recyclerView.setAdapter(userListAdapter);\n\n    }\n\n    private void loadUserList() {\n        AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\n        List&lt;User&gt; userList =db.userDao().getAllUsers();\n        userListAdapter.setUserList(userList);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if(requestCode == 100) {\n            loadUserList();\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n    @Override\n    public void onClick(View view, int position) {\n        final User user = users.get(position);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat","https","keystore","jks"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1666790469,"post_id":74205118,"comment_id":131018982,"body_markdown":"How did you copy ? Check with hash if the files are equal.","body":"How did you copy ? Check with hash if the files are equal."}],"answers":[{"tags":[],"owner":{"account_id":9651603,"reputation":394,"user_id":7162592,"display_name":"kelmi92"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666777174,"creation_date":1666777174,"answer_id":74205622,"question_id":74205118,"body_markdown":"Of course is possible. Check that the .jks Keystore is OK. You can use KeyStore Explorer to inspect the jks.","title":"It is possible to move a keystore jks from locale machine to a remote server?","body":"<p>Of course is possible. Check that the .jks Keystore is OK. You can use KeyStore Explorer to inspect the jks.</p>\n"}],"owner":{"account_id":20909938,"reputation":1,"user_id":15361051,"display_name":"AmotL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666777174,"creation_date":1666774927,"question_id":74205118,"body_markdown":"On my local machine, I created a keystore (jks file) to using ssl with Tomcat.\r\nI got the certificate signed and I imported it into keystore.\r\n\r\nNow, I want used this keystore on the remote server. I copied the jks file on the remote server, and added the confs in the server.xml file in the Tomcat to read the file.\r\n\r\n\r\nWhen I launch the tomcat, I got the following exception : \r\n```\r\nInvalid keystore format\r\n```\r\n\r\n(both machine use windows, java 8, and tomcat 9)\r\n\r\n\r\n\r\nMy question is : it is theoretically possible to copy a keystore from a machine to another ?\r\nOr this exception is caused by something else?\r\n\r\nThanks for your help","title":"It is possible to move a keystore jks from locale machine to a remote server?","body":"<p>On my local machine, I created a keystore (jks file) to using ssl with Tomcat.\nI got the certificate signed and I imported it into keystore.</p>\n<p>Now, I want used this keystore on the remote server. I copied the jks file on the remote server, and added the confs in the server.xml file in the Tomcat to read the file.</p>\n<p>When I launch the tomcat, I got the following exception :</p>\n<pre><code>Invalid keystore format\n</code></pre>\n<p>(both machine use windows, java 8, and tomcat 9)</p>\n<p>My question is : it is theoretically possible to copy a keystore from a machine to another ?\nOr this exception is caused by something else?</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666178279,"post_id":74124027,"comment_id":130872755,"body_markdown":"The first step is to implement `onCancelled` so that you don&#39;t ignore errors. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. --- Then check if either `onDataChange` or `onCancelled` is called by running in a debugger. If neither is called, you might not have configured your database URL correctly, and you can pass it into the API call with: `DatabaseReference referenceParty = FirebaseDatabase.getInstance(&quot;database URL here&quot;).getReference();` For mre on this, see https://stackoverflow.com/q/68806876","body":"The first step is to implement <code>onCancelled</code> so that you don&#39;t ignore errors. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. --- Then check if either <code>onDataChange</code> or <code>onCancelled</code> is called by running in a debugger. If neither is called, you might not have configured your database URL correctly, and you can pass it into the API call with: <code>DatabaseReference referenceParty = FirebaseDatabase.getInstance(&quot;database URL here&quot;).getReference();</code> For mre on this, see <a href=\"https://stackoverflow.com/q/68806876\">stackoverflow.com/q/68806876</a>"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666178560,"post_id":74124027,"comment_id":130872857,"body_markdown":"Make sure your Firebase database path is correct and you are writing data to the correct path.","body":"Make sure your Firebase database path is correct and you are writing data to the correct path."},{"owner":{"account_id":2529572,"reputation":21,"user_id":2198136,"display_name":"tsrahul81"},"score":0,"creation_date":1666180381,"post_id":74124027,"comment_id":130873554,"body_markdown":"I will try this but still no result.Neither onDataChenge or  onCancelled not called\n\n FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://easypay-default-rtdb.firebaseio.com&quot;);\n        DatabaseReference referenceArea = database.getReference(&quot;Area&quot;);","body":"I will try this but still no result.Neither onDataChenge or  onCancelled not called   FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;<a href=\"https://easypay-default-rtdb.firebaseio.com&quot;\" rel=\"nofollow noreferrer\">easypay-default-rtdb.firebasei&zwnj;&#8203;o.com&quot;</a>);         DatabaseReference referenceArea = database.getReference(&quot;Area&quot;);"},{"owner":{"account_id":2529572,"reputation":21,"user_id":2198136,"display_name":"tsrahul81"},"score":0,"creation_date":1666180485,"post_id":74124027,"comment_id":130873588,"body_markdown":"@LawrenceGimenez that i checked . It&#39;s correct","body":"@LawrenceGimenez that i checked . It&#39;s correct"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666180595,"post_id":74124027,"comment_id":130873635,"body_markdown":"On your question, you are writing to Party?","body":"On your question, you are writing to Party?"},{"owner":{"account_id":2529572,"reputation":21,"user_id":2198136,"display_name":"tsrahul81"},"score":0,"creation_date":1666181035,"post_id":74124027,"comment_id":130873835,"body_markdown":"@LawrenceGimenez Area &amp; Party exist.Both not working","body":"@LawrenceGimenez Area &amp; Party exist.Both not working"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666181198,"post_id":74124027,"comment_id":130873882,"body_markdown":"Can you make sure your google-services.json is correct? And review your database rules on Firebase admin.","body":"Can you make sure your google-services.json is correct? And review your database rules on Firebase admin."},{"owner":{"account_id":2529572,"reputation":21,"user_id":2198136,"display_name":"tsrahul81"},"score":0,"creation_date":1666245733,"post_id":74124027,"comment_id":130891035,"body_markdown":"@LawrenceGimenez &quot;google-services.json&quot; i already checked it&#39;s correct. my database rule is   {\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}","body":"@LawrenceGimenez &quot;google-services.json&quot; i already checked it&#39;s correct. my database rule is   {   &quot;rules&quot;: {     &quot;.read&quot;: true,     &quot;.write&quot;: true   } }"},{"owner":{"account_id":2529572,"reputation":21,"user_id":2198136,"display_name":"tsrahul81"},"score":0,"creation_date":1666431323,"post_id":74124027,"comment_id":130938651,"body_markdown":"@LawrenceGimenez  It&#39;s not code side error.It&#39;s emulator&#39;s based bug.I turn off emulator wifi.Then it&#39;s work correctly.","body":"@LawrenceGimenez  It&#39;s not code side error.It&#39;s emulator&#39;s based bug.I turn off emulator wifi.Then it&#39;s work correctly."},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666431393,"post_id":74124027,"comment_id":130938665,"body_markdown":"@tsrahul81 thanks for the update! Yes always test on a device. I don&#39;t trust Android emulators.","body":"@tsrahul81 thanks for the update! Yes always test on a device. I don&#39;t trust Android emulators."}],"answers":[{"tags":[],"owner":{"account_id":2529572,"reputation":21,"user_id":2198136,"display_name":"tsrahul81"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666776677,"creation_date":1666431231,"answer_id":74162431,"question_id":74124027,"body_markdown":"It was not a problem with my code. It turned out to be an emulator bug. I turned off the emulator&#39;s wifi, then it works correctly.","title":"addValueEventListener event is not firing up in Android Studio using Firebase","body":"<p>It was not a problem with my code. It turned out to be an emulator bug. I turned off the emulator's wifi, then it works correctly.</p>\n"}],"owner":{"account_id":2529572,"reputation":21,"user_id":2198136,"display_name":"tsrahul81"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666777060,"creation_date":1666176409,"question_id":74124027,"body_markdown":"I need read data from my Firebase database.I will try my best but the addValueListener not fire.\r\n\r\n ```\r\n DatabaseReference referenceParty = database.getReference();\r\n referenceParty.child(&quot;Party&quot;).addValueEventListener(new ValueEventListener() {\r\n     @Override\r\n     public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n         for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n             PartyInf info = snapshot.getValue(PartyInf.class);\r\n             String acCode = info.getAC_Code();\r\n             String acName = info.getAC_Name();\r\n             String arCode = info.getArea_Code();\r\n             PartyExist = dbMain.hasObjectParty(Integer.parseInt(acCode));\r\n             if (PartyExist == false &amp;&amp; !acName.trim().equals(&quot;&quot;)) {\r\n                dbMain.addParty(Integer.parseInt(acCode), acName, Integer.parseInt(arCode));\r\n             }\r\n         }\r\n     }\r\n     @Override\r\n     public void onCancelled(@NonNull DatabaseError databaseError) {\r\n     }\r\n  });\r\n ```","title":"addValueEventListener event is not firing up in Android Studio using Firebase","body":"<p>I need read data from my Firebase database.I will try my best but the addValueListener not fire.</p>\n<pre><code>DatabaseReference referenceParty = database.getReference();\nreferenceParty.child(&quot;Party&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n            PartyInf info = snapshot.getValue(PartyInf.class);\n            String acCode = info.getAC_Code();\n            String acName = info.getAC_Name();\n            String arCode = info.getArea_Code();\n            PartyExist = dbMain.hasObjectParty(Integer.parseInt(acCode));\n            if (PartyExist == false &amp;&amp; !acName.trim().equals(&quot;&quot;)) {\n               dbMain.addParty(Integer.parseInt(acCode), acName, Integer.parseInt(arCode));\n            }\n        }\n    }\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n    }\n });\n</code></pre>\n"},{"tags":["java","maven","gson","drools"],"answers":[{"comments":[{"owner":{"account_id":15780224,"reputation":61,"user_id":11386831,"display_name":"Guy NANA"},"score":0,"creation_date":1666736914,"post_id":74195372,"comment_id":131006313,"body_markdown":"Thanks @Roddy. I moved `ProjectInfosDAO` in src/main/java but I still get the error about `import com.google.gson.Gson; import com.google.gson.reflect.TypeToken;` which cannot be resolved, resulting to symbol: class Gson and class TypeToken not found.","body":"Thanks @Roddy. I moved <code>ProjectInfosDAO</code> in src/main/java but I still get the error about <code>import com.google.gson.Gson; import com.google.gson.reflect.TypeToken;</code> which cannot be resolved, resulting to symbol: class Gson and class TypeToken not found."}],"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666706718,"creation_date":1666706718,"answer_id":74195372,"question_id":74195104,"body_markdown":"You can&#39;t put java classes in `src/main/resources`. Java classes go in `src/main/java`.\r\n","title":"Classes and Dependencies imports issues in Maven project","body":"<p>You can't put java classes in <code>src/main/resources</code>. Java classes go in <code>src/main/java</code>.</p>\n"},{"comments":[{"owner":{"account_id":15780224,"reputation":61,"user_id":11386831,"display_name":"Guy NANA"},"score":0,"creation_date":1666786526,"post_id":74205573,"comment_id":131017469,"body_markdown":"Thanks you for your answer. I realized the mistake and correct it and it&#39;s okay now.","body":"Thanks you for your answer. I realized the mistake and correct it and it&#39;s okay now."}],"tags":[],"owner":{"account_id":1197384,"reputation":6314,"user_id":1168802,"display_name":"Esteban Aliverti"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666776930,"creation_date":1666776930,"answer_id":74205573,"question_id":74195104,"body_markdown":"Other than the problem mentioned by Roddy, the problem you have is with Maven. In Maven, `&lt;dependencyManagement&gt;` is not used to define the dependencies of your project, but to define the versions and scope of them. This is normally useful in a multi-module project.\r\nSo, even if you have a `&lt;dependencyManagement&gt;` in your `pom.xml`, you still need to define the dependencies:\r\n\r\n```\r\n...\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;drools-bom&lt;/artifactId&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;version&gt;${drools-version}&lt;/version&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!--  Gson: Java to JSON conversion --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n...\r\n```\r\n\r\nOr, if you are not in a multi-module project, you can probably get rid of the whole `&lt;dependencyManagement&gt;` section:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Classes and Dependencies imports issues in Maven project","body":"<p>Other than the problem mentioned by Roddy, the problem you have is with Maven. In Maven, <code>&lt;dependencyManagement&gt;</code> is not used to define the dependencies of your project, but to define the versions and scope of them. This is normally useful in a multi-module project.\nSo, even if you have a <code>&lt;dependencyManagement&gt;</code> in your <code>pom.xml</code>, you still need to define the dependencies:</p>\n<pre><code>...\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-bom&lt;/artifactId&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;version&gt;${drools-version}&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;!--  Gson: Java to JSON conversion --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.10&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n...\n</code></pre>\n<p>Or, if you are not in a multi-module project, you can probably get rid of the whole <code>&lt;dependencyManagement&gt;</code> section:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":15780224,"reputation":61,"user_id":11386831,"display_name":"Guy NANA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74205573,"answer_count":2,"score":-1,"last_activity_date":1666776930,"creation_date":1666705596,"question_id":74195104,"body_markdown":"I&#39;m facing some errors in my Maven project. My project structure is shown in the following image.\r\n![&quot;project structure&quot;][1]\r\n\r\nI define the class ProjectInfosDAO in the package ```main.resources.utils``` and the others are in ```main.java.io.r2devops.jobSelector```. \r\n`ProjectInfos` class is called in `JobSelector` class.\r\nWhen I compile the project the following error is displayed: \r\n```\r\ncannot find symbol\r\n  symbol: variable ProjectDAO\r\n  location: class io.r2devops.jobSelector.JobSelector\r\n```\r\n\r\nAlso the similar error occurs for the dependency Gson despite I mentionned it in `pom.xml` and imported it in `ProjectInfosDAO`.\r\n```\r\ncannot find symbol\r\n  symbol: variable Gson\r\n  location: class main.resources.utils.ProjectInfosDAO\r\n```\r\n\r\nIn `JobSelector` class:\r\n```\r\n import main.resources.ProjectInfosDAO;\r\n \r\n public class JobSelector{\r\n    public static final void main(String[] args){\r\n       ...\r\n       HashMap&lt;String, TechnoInfos&gt; technoInfos = ProjectInfosDAO.getTechnologiesInfos(&quot;technologies_infos.json&quot;); \r\n       ...\r\n    }\r\n } \r\n```\r\n\r\nIn the `pom.xml`:\r\n```\r\n...\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;drools-bom&lt;/artifactId&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;version&gt;${drools-version}&lt;/version&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!--  Gson: Java to JSON conversion --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n...\r\n```\r\n\r\nThanks in advance for your kindly help.\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H9J8C.png","title":"Classes and Dependencies imports issues in Maven project","body":"<p>I'm facing some errors in my Maven project. My project structure is shown in the following image.\n<img src=\"https://i.stack.imgur.com/H9J8C.png\" alt=\"&quot;project structure&quot;\" /></p>\n<p>I define the class ProjectInfosDAO in the package <code>main.resources.utils</code> and the others are in <code>main.java.io.r2devops.jobSelector</code>.\n<code>ProjectInfos</code> class is called in <code>JobSelector</code> class.\nWhen I compile the project the following error is displayed:</p>\n<pre><code>cannot find symbol\n  symbol: variable ProjectDAO\n  location: class io.r2devops.jobSelector.JobSelector\n</code></pre>\n<p>Also the similar error occurs for the dependency Gson despite I mentionned it in <code>pom.xml</code> and imported it in <code>ProjectInfosDAO</code>.</p>\n<pre><code>cannot find symbol\n  symbol: variable Gson\n  location: class main.resources.utils.ProjectInfosDAO\n</code></pre>\n<p>In <code>JobSelector</code> class:</p>\n<pre><code> import main.resources.ProjectInfosDAO;\n \n public class JobSelector{\n    public static final void main(String[] args){\n       ...\n       HashMap&lt;String, TechnoInfos&gt; technoInfos = ProjectInfosDAO.getTechnologiesInfos(&quot;technologies_infos.json&quot;); \n       ...\n    }\n } \n</code></pre>\n<p>In the <code>pom.xml</code>:</p>\n<pre><code>...\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-bom&lt;/artifactId&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;version&gt;${drools-version}&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;!--  Gson: Java to JSON conversion --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.10&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n...\n</code></pre>\n<p>Thanks in advance for your kindly help.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666709487,"post_id":74192269,"comment_id":130998212,"body_markdown":"It’s not recognizable what you want to measure. You have four `CompletableFuture` instances in your code. Do you want to measure, how much overhead you get from creating four completion stages around a single `sleep` call? Besides that, when the function passed to `handle` depends on the result of the action passed to `whenComplete`, you have to chain the `handle` call to the stage returned by `whenComplete`, though you shouldn’t pass results through side effects anyway (precisely to prevent such bugs).","body":"It’s not recognizable what you want to measure. You have four <code>CompletableFuture</code> instances in your code. Do you want to measure, how much overhead you get from creating four completion stages around a single <code>sleep</code> call? Besides that, when the function passed to <code>handle</code> depends on the result of the action passed to <code>whenComplete</code>, you have to chain the <code>handle</code> call to the stage returned by <code>whenComplete</code>, though you shouldn’t pass results through side effects anyway (precisely to prevent such bugs)."},{"owner":{"account_id":9972847,"reputation":23,"user_id":7378390,"display_name":"user7378390"},"score":0,"creation_date":1666749277,"post_id":74192269,"comment_id":131008212,"body_markdown":"sleep call is just like a RPC call which cost 1s. I want return the testOrderFunc &#39;s cost  to the users. testOrderFunc function may has other logic to do such as retry, so I create the ret future here to return.","body":"sleep call is just like a RPC call which cost 1s. I want return the testOrderFunc &#39;s cost  to the users. testOrderFunc function may has other logic to do such as retry, so I create the ret future here to return."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666769886,"post_id":74192269,"comment_id":131012069,"body_markdown":"As said, you can fix the issue the simple way, by returning the future returned by `whenComplete` to the caller. But the structure as shown in the question, is questionable and likely have more errors. E.g. this code can’t detect failures, so which criteria is used to decide to make a retry?","body":"As said, you can fix the issue the simple way, by returning the future returned by <code>whenComplete</code> to the caller. But the structure as shown in the question, is questionable and likely have more errors. E.g. this code can’t detect failures, so which criteria is used to decide to make a retry?"},{"owner":{"account_id":9972847,"reputation":23,"user_id":7378390,"display_name":"user7378390"},"score":0,"creation_date":1666774455,"post_id":74192269,"comment_id":131013531,"body_markdown":"yeah, i have returned whenComplete  to the caller now. may be this is the answer.","body":"yeah, i have returned whenComplete  to the caller now. may be this is the answer."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666776840,"creation_date":1666776840,"answer_id":74205555,"question_id":74192269,"body_markdown":"Since your access to `cost` has a dependency to the action that writes the value you should also chain it to the associated stage. E.g.\r\n\r\n```java\r\nprivate CompletableFuture&lt;Integer&gt; testOrderFunc(ExecInfo execInfo) {\r\n    long start = System.currentTimeMillis();\r\n\r\n    CompletableFuture&lt;Integer&gt; ret = new CompletableFuture&lt;&gt;();\r\n\r\n    CompletableFuture&lt;Integer&gt; finalStage = ret.whenComplete((data, error) -&gt; {\r\n        long end = System.currentTimeMillis();\r\n        long spend = end-start;\r\n        execInfo.cost = spend;\r\n        System.out.println(&quot;whenComplete 1.cost:&quot; + execInfo.cost);\r\n    }) ;\r\n\r\n    invoke2(ret);\r\n    // other stuff\r\n    return finalStage;\r\n}\r\n```\r\n\r\nBut it’s preferable not to use side effects, precisely to prevent such dependency related bugs. An alternative would be\r\n\r\n```java\r\n@Test\r\npublic void testOrder2() {\r\n    CompletableFuture&lt;Long&gt; executionTime = new CompletableFuture&lt;&gt;();\r\n    CompletableFuture&lt;Integer&gt; dataFuture = testOrderFunc(executionTime);\r\n    CompletableFuture&lt;Void&gt; printTime = executionTime\r\n        .thenAccept(nanos -&gt; System.out.printf(&quot;test took %.1f ms%n&quot;, nanos * 1e-6));\r\n    CompletableFuture.allOf(dataFuture, printTime).join();\r\n}\r\n\r\nprivate CompletableFuture&lt;Integer&gt; testOrderFunc(CompletableFuture&lt;Long&gt; timeTarget) {\r\n    long start = System.nanoTime();\r\n    CompletableFuture&lt;Integer&gt; ret = new CompletableFuture&lt;&gt;();\r\n    ret.whenComplete((data, error) -&gt; timeTarget.complete(System.nanoTime() - start));\r\n\r\n    invoke2(ret);\r\n    // other stuff\r\n    return ret;\r\n}\r\n\r\nprivate void invoke2(CompletableFuture&lt;Integer&gt; ret) {\r\n    CompletableFuture.runAsync(() -&gt; {\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\r\n        System.out.println(&quot;1s complete&quot;);\r\n        ret.complete(1);\r\n    });\r\n}\r\n```\r\n\r\nThis forces the caller to chain the consumer of the measured time to the right future. Further, callers not interested in the execution time can chain dependent evaluations to the data future, without creating a dependency to the time measurement.\r\n\r\nIt also allows the caller to do something like that instead:\r\n\r\n```java\r\n@Test\r\npublic void testOrder2() {\r\n    CompletableFuture&lt;Long&gt; executionTime = new CompletableFuture&lt;&gt;();\r\n    CompletableFuture&lt;Integer&gt; dataFuture = testOrderFunc(executionTime);\r\n    dataFuture.exceptionally(t -&gt; null).thenCombine(executionTime,\r\n        (result, nanos) -&gt; System.out.printf(&quot;test completed with %s after %.1f ms%n&quot;,\r\n            result == null? &quot;an error&quot;: result, nanos * 1e-6)) .join();\r\n    dataFuture.join(); // relay exceptions to caller, if any\r\n}\r\n```\r\n\r\n---\r\n\r\nNote that in general, to measure *elapsed time*, you should use the difference between two values returned by [`System.nanoTime()`], which will be immune against leap seconds, NTP updates or such alike.\r\n\r\n[`System.nanoTime()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#nanoTime()\r\n","title":"how to add the spendTime of the operation when use CompletableFuture whenComplete","body":"<p>Since your access to <code>cost</code> has a dependency to the action that writes the value you should also chain it to the associated stage. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private CompletableFuture&lt;Integer&gt; testOrderFunc(ExecInfo execInfo) {\n    long start = System.currentTimeMillis();\n\n    CompletableFuture&lt;Integer&gt; ret = new CompletableFuture&lt;&gt;();\n\n    CompletableFuture&lt;Integer&gt; finalStage = ret.whenComplete((data, error) -&gt; {\n        long end = System.currentTimeMillis();\n        long spend = end-start;\n        execInfo.cost = spend;\n        System.out.println(&quot;whenComplete 1.cost:&quot; + execInfo.cost);\n    }) ;\n\n    invoke2(ret);\n    // other stuff\n    return finalStage;\n}\n</code></pre>\n<p>But it’s preferable not to use side effects, precisely to prevent such dependency related bugs. An alternative would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testOrder2() {\n    CompletableFuture&lt;Long&gt; executionTime = new CompletableFuture&lt;&gt;();\n    CompletableFuture&lt;Integer&gt; dataFuture = testOrderFunc(executionTime);\n    CompletableFuture&lt;Void&gt; printTime = executionTime\n        .thenAccept(nanos -&gt; System.out.printf(&quot;test took %.1f ms%n&quot;, nanos * 1e-6));\n    CompletableFuture.allOf(dataFuture, printTime).join();\n}\n\nprivate CompletableFuture&lt;Integer&gt; testOrderFunc(CompletableFuture&lt;Long&gt; timeTarget) {\n    long start = System.nanoTime();\n    CompletableFuture&lt;Integer&gt; ret = new CompletableFuture&lt;&gt;();\n    ret.whenComplete((data, error) -&gt; timeTarget.complete(System.nanoTime() - start));\n\n    invoke2(ret);\n    // other stuff\n    return ret;\n}\n\nprivate void invoke2(CompletableFuture&lt;Integer&gt; ret) {\n    CompletableFuture.runAsync(() -&gt; {\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\n        System.out.println(&quot;1s complete&quot;);\n        ret.complete(1);\n    });\n}\n</code></pre>\n<p>This forces the caller to chain the consumer of the measured time to the right future. Further, callers not interested in the execution time can chain dependent evaluations to the data future, without creating a dependency to the time measurement.</p>\n<p>It also allows the caller to do something like that instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testOrder2() {\n    CompletableFuture&lt;Long&gt; executionTime = new CompletableFuture&lt;&gt;();\n    CompletableFuture&lt;Integer&gt; dataFuture = testOrderFunc(executionTime);\n    dataFuture.exceptionally(t -&gt; null).thenCombine(executionTime,\n        (result, nanos) -&gt; System.out.printf(&quot;test completed with %s after %.1f ms%n&quot;,\n            result == null? &quot;an error&quot;: result, nanos * 1e-6)) .join();\n    dataFuture.join(); // relay exceptions to caller, if any\n}\n</code></pre>\n<hr />\n<p>Note that in general, to measure <em>elapsed time</em>, you should use the difference between two values returned by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\"><code>System.nanoTime()</code></a>, which will be immune against leap seconds, NTP updates or such alike.</p>\n"}],"owner":{"account_id":9972847,"reputation":23,"user_id":7378390,"display_name":"user7378390"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74205555,"answer_count":1,"score":0,"last_activity_date":1666776840,"creation_date":1666691979,"question_id":74192269,"body_markdown":"The demo code is like this:\r\n\r\n    @Test\r\n    public void testOrder2() throws InterruptedException {\r\n        ExecInfo execInfo = new ExecInfo();\r\n        CompletableFuture&lt;Integer&gt; dataFutrue = testOrderFunc(execInfo);\r\n        dataFutrue.handle((dataRet,err) -&gt; {\r\n            System.out.println(&quot;test&quot; + execInfo.cost);\r\n            return null;\r\n        });\r\n        Thread.sleep(2000);\r\n    }\r\n\r\n    class ExecInfo {\r\n        long cost=0;\r\n    }\r\n\r\n    private CompletableFuture&lt;Integer&gt; testOrderFunc(ExecInfo execInfo) {\r\n        long start = System.currentTimeMillis();\r\n\r\n        CompletableFuture&lt;Integer&gt; ret = new CompletableFuture&lt;&gt;();\r\n\r\n        ret.whenComplete((data, error) -&gt; {\r\n            long end = System.currentTimeMillis();\r\n            long spend = end-start;\r\n            execInfo.cost = spend;\r\n            System.out.println(&quot;whenComplete 1.cost:&quot; + execInfo.cost);\r\n        }) ;\r\n\r\n        invoke2(ret);\r\n        //may be has other operation about ret. if ret is not completed.\r\n        return ret;\r\n    }\r\n\r\n    private void invoke2(CompletableFuture&lt;Integer&gt; ret) {\r\n        CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;1s complete&quot;);\r\n            ret.complete(1);\r\n        });\r\n    }\r\n\r\n\r\nThe result is :\r\n\r\n\r\n* 1s complete\r\n* test0\r\n* whenComplete 1.cost:1050\r\n\r\n\r\n\r\nIt seems that whenCompete is like stack FILO.\r\n\r\nHow to get testOrderFunc cost time? \r\nThanks your answer.","title":"how to add the spendTime of the operation when use CompletableFuture whenComplete","body":"<p>The demo code is like this:</p>\n<pre><code>@Test\npublic void testOrder2() throws InterruptedException {\n    ExecInfo execInfo = new ExecInfo();\n    CompletableFuture&lt;Integer&gt; dataFutrue = testOrderFunc(execInfo);\n    dataFutrue.handle((dataRet,err) -&gt; {\n        System.out.println(&quot;test&quot; + execInfo.cost);\n        return null;\n    });\n    Thread.sleep(2000);\n}\n\nclass ExecInfo {\n    long cost=0;\n}\n\nprivate CompletableFuture&lt;Integer&gt; testOrderFunc(ExecInfo execInfo) {\n    long start = System.currentTimeMillis();\n\n    CompletableFuture&lt;Integer&gt; ret = new CompletableFuture&lt;&gt;();\n\n    ret.whenComplete((data, error) -&gt; {\n        long end = System.currentTimeMillis();\n        long spend = end-start;\n        execInfo.cost = spend;\n        System.out.println(&quot;whenComplete 1.cost:&quot; + execInfo.cost);\n    }) ;\n\n    invoke2(ret);\n    //may be has other operation about ret. if ret is not completed.\n    return ret;\n}\n\nprivate void invoke2(CompletableFuture&lt;Integer&gt; ret) {\n    CompletableFuture.runAsync(() -&gt; {\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;1s complete&quot;);\n        ret.complete(1);\n    });\n}\n</code></pre>\n<p>The result is :</p>\n<ul>\n<li>1s complete</li>\n<li>test0</li>\n<li>whenComplete 1.cost:1050</li>\n</ul>\n<p>It seems that whenCompete is like stack FILO.</p>\n<p>How to get testOrderFunc cost time?\nThanks your answer.</p>\n"},{"tags":["java","spring","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1666776352,"post_id":74197286,"comment_id":131014134,"body_markdown":"This is unfortunately not working.","body":"This is unfortunately not working."},{"owner":{"account_id":17344676,"reputation":89,"user_id":12564580,"display_name":"7.oz"},"score":0,"creation_date":1666789487,"post_id":74197286,"comment_id":131018600,"body_markdown":"can you show me your mappings? `GET http://localhost:9200/record`","body":"can you show me your mappings? <code>GET http:&#47;&#47;localhost:9200&#47;record</code>"},{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1666789740,"post_id":74197286,"comment_id":131018707,"body_markdown":"This is just an example, so I do not have access to mappings","body":"This is just an example, so I do not have access to mappings"},{"owner":{"account_id":17344676,"reputation":89,"user_id":12564580,"display_name":"7.oz"},"score":0,"creation_date":1666857847,"post_id":74197286,"comment_id":131035905,"body_markdown":"but thats how nested queries work. Check the docs you canhttps://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-nested-query.html#nested-query-ex-query  -- you can also try IDs Query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-ids-query.html","body":"but thats how nested queries work. Check the docs you canhttps://www.elastic.co/guide/en/elasticsearch/reference/c&zwnj;&#8203;urrent/query-dsl-nes&zwnj;&#8203;ted-query.html#neste&zwnj;&#8203;d-query-ex-query  -- you can also try IDs Query: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-ids-query.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"}],"tags":[],"owner":{"account_id":17344676,"reputation":89,"user_id":12564580,"display_name":"7.oz"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666715083,"creation_date":1666715083,"answer_id":74197286,"question_id":74197088,"body_markdown":"I&#39;m usually use Kotlin, so I don&#39;t know how java does it, but I think your `toString()` is wrong there\r\n\r\n```java\r\nTermsQueryBuilder recordExists = nestedId.termsQuery(&quot;nestedRecords.nestedId&quot;,Lists.newArrayList(nestedIds).toString());\r\n```\r\n\r\ncan be\r\n\r\n```java\r\nTermsQueryBuilder recordExists = QueryBuilders.termsQuery(&quot;nestedRecords.nestedId&quot;, Lists.newArrayList(nestedIds));\r\n```\r\n\r\nand\r\n\r\n```java\r\nNestedQueryBuilder nestedRecords = QueryBuilders.nestedQuery(&quot;NESTED_RECORD&quot;, recordExists, ScoreMode.Total);\r\n```\r\n\r\n```java\r\nNestedQueryBuilder nestedRecords = QueryBuilders.nestedQuery(&quot;nestedRecords&quot;, recordExists, ScoreMode.Total);\r\n```","title":"How to filter entries in nested List by ID in nested List in elasticsearch with java?","body":"<p>I'm usually use Kotlin, so I don't know how java does it, but I think your <code>toString()</code> is wrong there</p>\n<pre class=\"lang-java prettyprint-override\"><code>TermsQueryBuilder recordExists = nestedId.termsQuery(&quot;nestedRecords.nestedId&quot;,Lists.newArrayList(nestedIds).toString());\n</code></pre>\n<p>can be</p>\n<pre class=\"lang-java prettyprint-override\"><code>TermsQueryBuilder recordExists = QueryBuilders.termsQuery(&quot;nestedRecords.nestedId&quot;, Lists.newArrayList(nestedIds));\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>NestedQueryBuilder nestedRecords = QueryBuilders.nestedQuery(&quot;NESTED_RECORD&quot;, recordExists, ScoreMode.Total);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>NestedQueryBuilder nestedRecords = QueryBuilders.nestedQuery(&quot;nestedRecords&quot;, recordExists, ScoreMode.Total);\n</code></pre>\n"}],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666776321,"creation_date":1666714108,"question_id":74197088,"body_markdown":"Basically I do have a Set of a Records which has a Set of NestedRecords included:\r\n\r\n    Set&lt;Record&gt; records;\r\n\r\nThese are the classes:\r\n\r\n    public class Record {\r\n      String id;\r\n      Set&lt;NestedRecord&gt; nestedRecords;\r\n    }\r\n\r\n    public class NestedRecord {\r\n      String nestedId;\r\n      int count;\r\n    }\r\n\r\n    \r\n\r\nWhat I want to achieve is filter the out the entries in the nestedRecords list by a Set of nested ids.\r\nSo I only want the nestedRecords in the List in Records which include the id&#39;s in my set nested Id&#39;s\r\n\r\nLet&#39;s say this is my Set:\r\n\r\n    Set&lt;String&gt; nestedIds = new HashSet&lt;String&gt;() {{\r\n    add(&quot;a&quot;);\r\n    add(&quot;b&quot;);\r\n    }};\r\n\r\nSo this is how I do it, but it always filters out everything.\r\n\r\n    TermsQueryBuilder recordExists = QueryBuilders.termsQuery(&quot;NESTED_RECORDS.NESTED_ID&quot;,Lists.newArrayList(nestedIds).toString());\r\n\r\n    NestedQueryBuilder nestedRecords = QueryBuilders.nestedQuery(&quot;NESTED_RECORDS&quot;, recordExists, ScoreMode.Total);\r\n\r\n    BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\r\n    boolQuery.must(nestedRecords);\r\n    query.filter(boolQuery);\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n","title":"How to filter entries in nested List by ID in nested List in elasticsearch with java?","body":"<p>Basically I do have a Set of a Records which has a Set of NestedRecords included:</p>\n<pre><code>Set&lt;Record&gt; records;\n</code></pre>\n<p>These are the classes:</p>\n<pre><code>public class Record {\n  String id;\n  Set&lt;NestedRecord&gt; nestedRecords;\n}\n\npublic class NestedRecord {\n  String nestedId;\n  int count;\n}\n</code></pre>\n<p>What I want to achieve is filter the out the entries in the nestedRecords list by a Set of nested ids.\nSo I only want the nestedRecords in the List in Records which include the id's in my set nested Id's</p>\n<p>Let's say this is my Set:</p>\n<pre><code>Set&lt;String&gt; nestedIds = new HashSet&lt;String&gt;() {{\nadd(&quot;a&quot;);\nadd(&quot;b&quot;);\n}};\n</code></pre>\n<p>So this is how I do it, but it always filters out everything.</p>\n<pre><code>TermsQueryBuilder recordExists = QueryBuilders.termsQuery(&quot;NESTED_RECORDS.NESTED_ID&quot;,Lists.newArrayList(nestedIds).toString());\n\nNestedQueryBuilder nestedRecords = QueryBuilders.nestedQuery(&quot;NESTED_RECORDS&quot;, recordExists, ScoreMode.Total);\n\nBoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\nboolQuery.must(nestedRecords);\nquery.filter(boolQuery);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1666766425,"post_id":74203553,"comment_id":131011050,"body_markdown":"[Automatically generated](https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa#springdatadao)","body":"<a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa#springdatadao\" rel=\"nofollow noreferrer\">Automatically generated</a>"},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1666766672,"post_id":74203553,"comment_id":131011125,"body_markdown":"It uses combination of reflection and entity to generate the logic on the fly.","body":"It uses combination of reflection and entity to generate the logic on the fly."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666772889,"post_id":74203553,"comment_id":131013037,"body_markdown":"I think you should read this once, you will get the answer - https://stackoverflow.com/a/38511337/7871511","body":"I think you should read this once, you will get the answer - <a href=\"https://stackoverflow.com/a/38511337/7871511\">stackoverflow.com/a/38511337/7871511</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1666774831,"post_id":74203553,"comment_id":131013657,"body_markdown":"&quot;Is there also such an interface for the associated RestService?&quot; [Spring-data-rest](https://spring.io/projects/spring-data-rest) is the &quot;topping&quot; which levels (not only Jpa) spring-data-repositories to &quot;rest-services&quot;!","body":"&quot;Is there also such an interface for the associated RestService?&quot; <a href=\"https://spring.io/projects/spring-data-rest\" rel=\"nofollow noreferrer\">Spring-data-rest</a> is the &quot;topping&quot; which levels (not only Jpa) spring-data-repositories to &quot;rest-services&quot;!"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666776042,"creation_date":1666773285,"answer_id":74204792,"question_id":74203553,"body_markdown":" \r\n\r\n&gt; the methods are not coded out. But also only with List&lt;T&gt; findAll();\r\n&gt; specified, where is the actual code?\r\n\r\n`JpaRepository` is just an interface meaning it provides just the declarations and signatures of what should be available from that interface.\r\n\r\n`JpaRepository` is a way from spring to take advantage of `JPA layer` and provide some additional commonly used functionalities very useful to the programmer. \r\n\r\nHaving said that it is important to understand that `JPA layer` follows `JPA specification`, and is just that, a specification not an implementation. Multiple providers come and provide their implementation as far as they comply with this specification. Those providers (ex `hibernate`, `eclipseLink`, `DataNucleus`) provide the functionality of `JPA layer`. Those providers, provide the code to communicate with database and do the actual work of `jpa layer`.\r\n\r\nWhat `JpaRepository` does, is that it takes advantage of this `JPA layer` and provides some extra functionality by invoking what is necessary on the `jpa layer` and expose some common functionalities. So `JpaRepository` will not communicate directly with database using native queries but instead use the `jpa layer` offered from example from `hibernte` and provide some `jpa query` to hibernate to retrieve what it wants.  \r\n\r\nInside Spring you can find some implementation classes of `JpaRepository` like `SimpleJpaRepository.class` but again they don&#39;t provide end to end functionality but instead just communicate through `jpa layer` indirectly with a provider like hibernate to provide some commonly used functionality to the programmer.\r\n\r\n\r\n\r\n  [1]: https://encyclopedia.pub/entry/29356","title":"Spring Boot JPA Rest Interface","body":"<blockquote>\n<p>the methods are not coded out. But also only with List findAll();\nspecified, where is the actual code?</p>\n</blockquote>\n<p><code>JpaRepository</code> is just an interface meaning it provides just the declarations and signatures of what should be available from that interface.</p>\n<p><code>JpaRepository</code> is a way from spring to take advantage of <code>JPA layer</code> and provide some additional commonly used functionalities very useful to the programmer.</p>\n<p>Having said that it is important to understand that <code>JPA layer</code> follows <code>JPA specification</code>, and is just that, a specification not an implementation. Multiple providers come and provide their implementation as far as they comply with this specification. Those providers (ex <code>hibernate</code>, <code>eclipseLink</code>, <code>DataNucleus</code>) provide the functionality of <code>JPA layer</code>. Those providers, provide the code to communicate with database and do the actual work of <code>jpa layer</code>.</p>\n<p>What <code>JpaRepository</code> does, is that it takes advantage of this <code>JPA layer</code> and provides some extra functionality by invoking what is necessary on the <code>jpa layer</code> and expose some common functionalities. So <code>JpaRepository</code> will not communicate directly with database using native queries but instead use the <code>jpa layer</code> offered from example from <code>hibernte</code> and provide some <code>jpa query</code> to hibernate to retrieve what it wants.</p>\n<p>Inside Spring you can find some implementation classes of <code>JpaRepository</code> like <code>SimpleJpaRepository.class</code> but again they don't provide end to end functionality but instead just communicate through <code>jpa layer</code> indirectly with a provider like hibernate to provide some commonly used functionality to the programmer.</p>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74204792,"answer_count":1,"score":1,"last_activity_date":1666776042,"creation_date":1666766093,"question_id":74203553,"body_markdown":"in Spring Boot and JPA there is the interface JpaRepository, which already provides the most important methods like `findAll`, `saveAll`. Is there also such an interface for the associated RestService?\r\n\r\nIf not, how could one proceed to define such an interface. I have looked into JpaRepository once, there the methods are not coded out. But also only with `List&lt;T&gt; findAll();` specified, where is the actual code?\r\n\r\nThanks a lot","title":"Spring Boot JPA Rest Interface","body":"<p>in Spring Boot and JPA there is the interface JpaRepository, which already provides the most important methods like <code>findAll</code>, <code>saveAll</code>. Is there also such an interface for the associated RestService?</p>\n<p>If not, how could one proceed to define such an interface. I have looked into JpaRepository once, there the methods are not coded out. But also only with <code>List&lt;T&gt; findAll();</code> specified, where is the actual code?</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","maven","gradle","compatibility"],"comments":[{"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"score":0,"creation_date":1372098036,"post_id":17281927,"comment_id":25055560,"body_markdown":"Did you look at http://www.gradle.org/docs/current/userguide/maven_plugin.html#N1511A , I haven&#39;t used it, but it looks like what you&#39;re describing.","body":"Did you look at <a href=\"http://www.gradle.org/docs/current/userguide/maven_plugin.html#N1511A\" rel=\"nofollow noreferrer\">gradle.org/docs/current/userguide/maven_plugin.html#N1511A</a> , I haven&#39;t used it, but it looks like what you&#39;re describing."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1372098155,"post_id":17281927,"comment_id":25055630,"body_markdown":"@KirilRaychev this looks interesting, but integrating it into the existing execution flow is where I am at a loss :/","body":"@KirilRaychev this looks interesting, but integrating it into the existing execution flow is where I am at a loss :/"},{"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"score":0,"creation_date":1372098398,"post_id":17281927,"comment_id":25055774,"body_markdown":"If you want to build the pom manually, just run the `writeNewPom` task. If you want to generate a pom on each build, add `build.dependsOn writeNewPom` to your `build.grade`","body":"If you want to build the pom manually, just run the <code>writeNewPom</code> task. If you want to generate a pom on each build, add <code>build.dependsOn writeNewPom</code> to your <code>build.grade</code>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1372099297,"post_id":17281927,"comment_id":25056267,"body_markdown":"Uh, I already have the maven plugin loaded... And `gradle writeNewPom` fails saying it cannot find the task!","body":"Uh, I already have the maven plugin loaded... And <code>gradle writeNewPom</code> fails saying it cannot find the task!"},{"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"score":0,"creation_date":1372101649,"post_id":17281927,"comment_id":25057521,"body_markdown":"Work&#39;s fine for me - look at this example `build.gradle` - https://gist.github.com/jmruc/5852692","body":"Work&#39;s fine for me - look at this example <code>build.gradle</code> - <a href=\"https://gist.github.com/jmruc/5852692\" rel=\"nofollow noreferrer\">gist.github.com/jmruc/5852692</a>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1372102119,"post_id":17281927,"comment_id":25057771,"body_markdown":"Does not work for me! Honestly I am really lost here :/","body":"Does not work for me! Honestly I am really lost here :/"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1372102629,"post_id":17281927,"comment_id":25058021,"body_markdown":"@KirilRaychev OK, this was a mistake on my part; can you please post your comments as an answer, with the original link and all? I&#39;ll upvote it (previous failures were my fault entirely); now, your sample file generates the pom.xml in `build/`, not at the root... This change and I&#39;ll gladly accept it!","body":"@KirilRaychev OK, this was a mistake on my part; can you please post your comments as an answer, with the original link and all? I&#39;ll upvote it (previous failures were my fault entirely); now, your sample file generates the pom.xml in <code>build&#47;</code>, not at the root... This change and I&#39;ll gladly accept it!"},{"owner":{"account_id":10422024,"reputation":579,"user_id":7684427,"accept_rate":60,"display_name":"Shrikant"},"score":0,"creation_date":1505715352,"post_id":17281927,"comment_id":79507719,"body_markdown":"works fine but does not contain any dependencies. How to create pom with dependencies","body":"works fine but does not contain any dependencies. How to create pom with dependencies"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1505719917,"post_id":17281927,"comment_id":79510188,"body_markdown":"@deadpool007 maven manages them automatically; the dependency engines in maven and gradle are pretty similar in that regard. What case did you encounter where dependencies were missing?","body":"@deadpool007 maven manages them automatically; the dependency engines in maven and gradle are pretty similar in that regard. What case did you encounter where dependencies were missing?"}],"answers":[{"comments":[{"owner":{"account_id":2306184,"reputation":3348,"user_id":2025432,"accept_rate":58,"display_name":"IliaEremin"},"score":15,"creation_date":1405698189,"post_id":17283856,"comment_id":38547293,"body_markdown":"I got pom file with no dependency :(","body":"I got pom file with no dependency :("},{"owner":{"account_id":1666363,"reputation":3409,"user_id":1533670,"accept_rate":94,"display_name":"Yohanim"},"score":14,"creation_date":1411617569,"post_id":17283856,"comment_id":40773017,"body_markdown":"How i can get dependency on pom.xml?","body":"How i can get dependency on pom.xml?"},{"owner":{"account_id":2393489,"reputation":2284,"user_id":2092842,"accept_rate":57,"display_name":"Christian Goetze"},"score":0,"creation_date":1469808889,"post_id":17283856,"comment_id":64707437,"body_markdown":"How can I add a properties section?","body":"How can I add a properties section?"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1499827387,"post_id":17283856,"comment_id":77068964,"body_markdown":"There is one issue with doing it this way: It will overwrite pom.xml even if the contents are already correct. This makes all later build stages run even when they don&#39;t need to, since it changes the file timestamp. (I don&#39;t know of a better option either)","body":"There is one issue with doing it this way: It will overwrite pom.xml even if the contents are already correct. This makes all later build stages run even when they don&#39;t need to, since it changes the file timestamp. (I don&#39;t know of a better option either)"},{"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"score":0,"creation_date":1545806144,"post_id":17283856,"comment_id":94697749,"body_markdown":"NB: produced an empty POM for a multi-project build.","body":"NB: produced an empty POM for a multi-project build."},{"owner":{"account_id":5388960,"reputation":1074,"user_id":4292075,"display_name":"Till Kuhn"},"score":3,"creation_date":1567432059,"post_id":17283856,"comment_id":101952396,"body_markdown":"`&lt;&lt;` has been deprecated and finally removed in Gradle Version 5.x, so above snippet with raise an exception with recent versions of Gradle. You need to use `Task.doLast()` instead, see also  \n [could-not-find-method-leftshift-for-arguments...](https://stackoverflow.com/questions/55793095/could-not-find-method-leftshift-for-arguments-after-updating-studio-3-4)","body":"<code>&lt;&lt;</code> has been deprecated and finally removed in Gradle Version 5.x, so above snippet with raise an exception with recent versions of Gradle. You need to use <code>Task.doLast()</code> instead, see also    <a href=\"https://stackoverflow.com/questions/55793095/could-not-find-method-leftshift-for-arguments-after-updating-studio-3-4\">could-not-find-method-leftshift-for-arguments...</a>"}],"tags":[],"owner":{"account_id":1041502,"reputation":5764,"user_id":1047448,"accept_rate":75,"display_name":"jmruc"},"comment_count":6,"down_vote_count":1,"up_vote_count":74,"is_accepted":true,"score":73,"last_activity_date":1585483214,"creation_date":1372103375,"answer_id":17283856,"question_id":17281927,"body_markdown":"You can use the [gradle maven plugin][1]. This adds the  `pom` convention method to your project, which you can use in a task to generate a `pom.xml` file, like\r\n\r\n    task writeNewPom {\r\n        doLast {\r\n            pom {\r\n                project {\r\n                    groupId &#39;org.example&#39;\r\n                    artifactId &#39;test&#39;\r\n                    version &#39;1.0.0&#39;\r\n                    inceptionYear &#39;2008&#39;\r\n                    licenses {\r\n                        license {\r\n                            name &#39;The Apache Software License, Version 2.0&#39;\r\n                            url &#39;http://www.apache.org/licenses/LICENSE-2.0.txt&#39;\r\n                            distribution &#39;repo&#39;\r\n                        }\r\n                    }\r\n                }\r\n            }.writeTo(&quot;pom.xml&quot;)\r\n        }\r\n    }\r\n\r\nThen you call `gradle createPom` to generate the pom.xml in the project root. Of all the things in the pom definition, you should really provide `groupId`, `artifactId` and `version`, other thins like `licenses` are not that important.\r\n\r\nYou can also look at [this example][2] for a project definition with some dependencies, and try running it to see what it produces.\r\n\r\nSome of the new keywords were added and some techniques were deprecated. [Please check][3]\r\n\r\n\r\n  [1]: http://www.gradle.org/docs/current/userguide/maven_plugin.html\r\n  [2]: https://gist.github.com/jmruc/5852692\r\n  [3]: https://docs.gradle.org/current/userguide/maven_plugin.html","title":"How to make gradle generate a valid pom.xml file at the root of a project for maven users?","body":"<p>You can use the <a href=\"http://www.gradle.org/docs/current/userguide/maven_plugin.html\" rel=\"noreferrer\">gradle maven plugin</a>. This adds the  <code>pom</code> convention method to your project, which you can use in a task to generate a <code>pom.xml</code> file, like</p>\n\n<pre><code>task writeNewPom {\n    doLast {\n        pom {\n            project {\n                groupId 'org.example'\n                artifactId 'test'\n                version '1.0.0'\n                inceptionYear '2008'\n                licenses {\n                    license {\n                        name 'The Apache Software License, Version 2.0'\n                        url 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n                        distribution 'repo'\n                    }\n                }\n            }\n        }.writeTo(\"pom.xml\")\n    }\n}\n</code></pre>\n\n<p>Then you call <code>gradle createPom</code> to generate the pom.xml in the project root. Of all the things in the pom definition, you should really provide <code>groupId</code>, <code>artifactId</code> and <code>version</code>, other thins like <code>licenses</code> are not that important.</p>\n\n<p>You can also look at <a href=\"https://gist.github.com/jmruc/5852692\" rel=\"noreferrer\">this example</a> for a project definition with some dependencies, and try running it to see what it produces.</p>\n\n<p>Some of the new keywords were added and some techniques were deprecated. <a href=\"https://docs.gradle.org/current/userguide/maven_plugin.html\" rel=\"noreferrer\">Please check</a></p>\n"},{"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":1,"creation_date":1426711121,"post_id":23967232,"comment_id":46490247,"body_markdown":"Is it possible to add some lines to build.gradle to generate maven plugin entries in the pom file?","body":"Is it possible to add some lines to build.gradle to generate maven plugin entries in the pom file?"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1499827442,"post_id":23967232,"comment_id":77068979,"body_markdown":"The code here will eagerly create the pom.xml file even if you don&#39;t need it. (Should probably have it inside a doLast block)","body":"The code here will eagerly create the pom.xml file even if you don&#39;t need it. (Should probably have it inside a doLast block)"},{"owner":{"account_id":4050443,"reputation":1005,"user_id":4266826,"display_name":"Drew Nutter"},"score":0,"creation_date":1572473083,"post_id":23967232,"comment_id":103575437,"body_markdown":"@Trejkaz Isn&#39;t this only if we call the createPom task? In that case, doesn&#39;t that mean we need it? When would doLast make a difference?","body":"@Trejkaz Isn&#39;t this only if we call the createPom task? In that case, doesn&#39;t that mean we need it? When would doLast make a difference?"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1572572147,"post_id":23967232,"comment_id":103610861,"body_markdown":"@Drew the current code is writing the file at configuration-time because the call to writeTo is directly inside the task configuration block. Merely configuring the task should be causing the file to get written. (And in this case the configuration is being done eagerly, because tasks.register isn&#39;t being used either. If changed to tasks.register, it will likely only configure the task if it&#39;s about to actually get run, although even that depends on what else is in the build script.)","body":"@Drew the current code is writing the file at configuration-time because the call to writeTo is directly inside the task configuration block. Merely configuring the task should be causing the file to get written. (And in this case the configuration is being done eagerly, because tasks.register isn&#39;t being used either. If changed to tasks.register, it will likely only configure the task if it&#39;s about to actually get run, although even that depends on what else is in the build script.)"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":7,"creation_date":1579084863,"post_id":23967232,"comment_id":105645919,"body_markdown":"No dependencies written in the pom.xml","body":"No dependencies written in the pom.xml"}],"tags":[],"owner":{"account_id":4533970,"reputation":458,"user_id":3683684,"display_name":"sanjeev"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1433236627,"creation_date":1401518619,"answer_id":23967232,"question_id":17281927,"body_markdown":"Here is my build.gradle\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;maven&#39;\r\n    \r\n    repositories { \r\n    mavenLocal() \r\n    mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n    \tcompile &#39;org.springframework:spring-core:4.0.5.RELEASE&#39;\r\n    \tcompile &#39;org.springframework:spring-webmvc:4.0.5.RELEASE&#39;\r\n    \r\n    \tcompile &#39;org.slf4j:slf4j-api:1.7.5&#39;\r\n    \truntime &#39;org.slf4j:slf4j-log4j12:1.7.5&#39;\r\n    \r\n    \ttestCompile &#39;org.springframework:spring-test:4.0.5.RELEASE&#39;\r\n    \t\r\n    \ttestCompile &#39;junit:junit:4.11&#39;\r\n    \ttestCompile &quot;org.mockito:mockito-core:1.9.5&quot;\r\n    \ttestCompile &quot;org.hamcrest:hamcrest-library:1.3&quot;\r\n    \t\r\n    \ttestCompile &#39;javax.servlet:javax.servlet-api:3.0.1&#39;\r\n    }\r\n    test {\r\n      testLogging {\r\n        // Show that tests are run in the command-line output\r\n        events &#39;started&#39;, &#39;passed&#39;\r\n      }\r\n    }\r\n    task wrapper(type: Wrapper) { gradleVersion = &#39;1.12&#39; }\r\n    task createPom  {\r\n        pom {\r\n            project {\r\n                groupId &#39;sg.test.spring.web.guide&#39;\r\n                artifactId &#39;sg-web-initial&#39;\r\n                version &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n                inceptionYear &#39;2008&#39;\r\n                licenses {\r\n                    license {\r\n                        name &#39;The Apache Software License, Version 2.0&#39;\r\n                        url &#39;http://www.apache.org/licenses/LICENSE-2.0.txt&#39;\r\n                        distribution &#39;repo&#39;\r\n                    }\r\n                }\r\n            }\r\n        }.writeTo(&quot;pom.xml&quot;)\r\n    }\r\n\r\nYou can name the task `createPom` to `anyTaskName` as you like.\r\nThen just run `gradle clean` or `grale build` or simply `gradle createPom`.\r\n\r\nThis will generate it as pom.xml in the root of the project. Although you can replace `writeTo(&quot;pom.xml&quot;)` with `writeTo(&quot;&lt;anyDir&gt;/newpom.xml&quot;)`.\r\n\r\nThe resulting pom.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    \txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;sg.test.spring.web.guide&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sg-web-initial&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;inceptionYear&gt;2008&lt;/inceptionYear&gt;\r\n    \t&lt;licenses&gt;\r\n    \t\t&lt;license&gt;\r\n    \t\t\t&lt;name&gt;The Apache Software License, Version 2.0&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;\r\n    \t\t\t&lt;distribution&gt;repo&lt;/distribution&gt;\r\n    \t\t&lt;/license&gt;\r\n    \t&lt;/licenses&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.5.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.5.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.5.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"How to make gradle generate a valid pom.xml file at the root of a project for maven users?","body":"<p>Here is my build.gradle</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'maven'\n\nrepositories { \nmavenLocal() \nmavenCentral()\n}\n\ndependencies {\n\n    compile 'org.springframework:spring-core:4.0.5.RELEASE'\n    compile 'org.springframework:spring-webmvc:4.0.5.RELEASE'\n\n    compile 'org.slf4j:slf4j-api:1.7.5'\n    runtime 'org.slf4j:slf4j-log4j12:1.7.5'\n\n    testCompile 'org.springframework:spring-test:4.0.5.RELEASE'\n\n    testCompile 'junit:junit:4.11'\n    testCompile \"org.mockito:mockito-core:1.9.5\"\n    testCompile \"org.hamcrest:hamcrest-library:1.3\"\n\n    testCompile 'javax.servlet:javax.servlet-api:3.0.1'\n}\ntest {\n  testLogging {\n    // Show that tests are run in the command-line output\n    events 'started', 'passed'\n  }\n}\ntask wrapper(type: Wrapper) { gradleVersion = '1.12' }\ntask createPom  {\n    pom {\n        project {\n            groupId 'sg.test.spring.web.guide'\n            artifactId 'sg-web-initial'\n            version '1.0.0-SNAPSHOT'\n\n            inceptionYear '2008'\n            licenses {\n                license {\n                    name 'The Apache Software License, Version 2.0'\n                    url 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n                    distribution 'repo'\n                }\n            }\n        }\n    }.writeTo(\"pom.xml\")\n}\n</code></pre>\n\n<p>You can name the task <code>createPom</code> to <code>anyTaskName</code> as you like.\nThen just run <code>gradle clean</code> or <code>grale build</code> or simply <code>gradle createPom</code>.</p>\n\n<p>This will generate it as pom.xml in the root of the project. Although you can replace <code>writeTo(\"pom.xml\")</code> with <code>writeTo(\"&lt;anyDir&gt;/newpom.xml\")</code>.</p>\n\n<p>The resulting pom.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n    xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;sg.test.spring.web.guide&lt;/groupId&gt;\n    &lt;artifactId&gt;sg-web-initial&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;inceptionYear&gt;2008&lt;/inceptionYear&gt;\n    &lt;licenses&gt;\n        &lt;license&gt;\n            &lt;name&gt;The Apache Software License, Version 2.0&lt;/name&gt;\n            &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;\n            &lt;distribution&gt;repo&lt;/distribution&gt;\n        &lt;/license&gt;\n    &lt;/licenses&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.5.RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;4.0.5.RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;1.9.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;4.0.5.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666775688,"creation_date":1666775688,"answer_id":74205283,"question_id":17281927,"body_markdown":"Fast forward a few years and a few major Gradle releases, in Gradle 7.5.1 this is how one would approach this with the [built-in publishing plugin](https://docs.gradle.org/7.5.1/userguide/publishing_maven.html) ([latest docs](https://docs.gradle.org/current/userguide/publishing_maven.html)). This has the benefit over hand-writing the pom like above that it automatically gets a lot of the properties, dependencies from the normal Gradle setup:\r\n\r\n```\r\nplugins {\r\n    id(&quot;maven-publish&quot;)\r\n}\r\npublishing {\r\n\tpublications {\r\n\t\tmaven(MavenPublication) {\r\n\t\t\tfrom(components.java)\r\n\t\t}\r\n\t}\r\n}\r\ntasks.named(&quot;generatePomFileForMavenPublication&quot;).configure {\r\n\tdef publication = publishing.publications.maven\r\n\tdestination = rootProject.file(&quot;${publication.artifactId}-${publication.version}.pom&quot;)\r\n}\r\n```\r\n\r\nalternatively without mutating the built-in task we can copy it wherever needed:\r\n```\r\ntasks.register(&quot;copyPomToRoot&quot;) {\r\n\tdef publication = publishing.publications.maven\r\n\tdef generatePom = tasks.named(&quot;generatePomFileFor${publication.name.capitalize()}Publication&quot;)\r\n\tdependsOn(generatePom)\r\n\tdef output = rootProject.file(&quot;${publication.artifactId}-${publication.version}.pom&quot;)\r\n\toutputs.file(output)\r\n\tdoLast { output.bytes = generatePom.get().destination.bytes }\r\n}\r\n```\r\n---\r\nAs a side-note: if you need a pom.xml, you probably don&#39;t just want it in your repo root, but want to publish to a proper maven repository: https://stackoverflow.com/a/70758552/253468.","title":"How to make gradle generate a valid pom.xml file at the root of a project for maven users?","body":"<p>Fast forward a few years and a few major Gradle releases, in Gradle 7.5.1 this is how one would approach this with the <a href=\"https://docs.gradle.org/7.5.1/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">built-in publishing plugin</a> (<a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">latest docs</a>). This has the benefit over hand-writing the pom like above that it automatically gets a lot of the properties, dependencies from the normal Gradle setup:</p>\n<pre><code>plugins {\n    id(&quot;maven-publish&quot;)\n}\npublishing {\n    publications {\n        maven(MavenPublication) {\n            from(components.java)\n        }\n    }\n}\ntasks.named(&quot;generatePomFileForMavenPublication&quot;).configure {\n    def publication = publishing.publications.maven\n    destination = rootProject.file(&quot;${publication.artifactId}-${publication.version}.pom&quot;)\n}\n</code></pre>\n<p>alternatively without mutating the built-in task we can copy it wherever needed:</p>\n<pre><code>tasks.register(&quot;copyPomToRoot&quot;) {\n    def publication = publishing.publications.maven\n    def generatePom = tasks.named(&quot;generatePomFileFor${publication.name.capitalize()}Publication&quot;)\n    dependsOn(generatePom)\n    def output = rootProject.file(&quot;${publication.artifactId}-${publication.version}.pom&quot;)\n    outputs.file(output)\n    doLast { output.bytes = generatePom.get().destination.bytes }\n}\n</code></pre>\n<hr />\n<p>As a side-note: if you need a pom.xml, you probably don't just want it in your repo root, but want to publish to a proper maven repository: <a href=\"https://stackoverflow.com/a/70758552/253468\">https://stackoverflow.com/a/70758552/253468</a>.</p>\n"}],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71032,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":17283856,"answer_count":3,"score":52,"last_activity_date":1666775688,"creation_date":1372096762,"question_id":17281927,"body_markdown":"While only for two days now, I am definitely sold on using gradle for all of my Java projects, and drop pom.xml from the root of all my projects.\r\n\r\nHowever, I would like to remain maven-compatible, in the sense that I would like for a gradle task to be able to generate a suitable pom.xml at the root of the project should the user want it.\r\n\r\nAt this moment, the only reference to a pom.xml I have is in this section of the build.gradle file (this is, with very few modifications, what is found [here](http://jedicoder.blogspot.fr/2011/11/automated-gradle-project-deployment-to.html)):\r\n\r\n\r\n    uploadArchives {\r\n        repositories {\r\n            mavenDeployer {\r\n                beforeDeployment {\r\n                    MavenDeployment deployment -&gt; signing.signPom(deployment);\r\n                }\r\n    \r\n                repository(url: sonatypeRepoURI) {\r\n                    authentication(userName: sonatypeUsername,\r\n                        password: sonatypePassword);\r\n                }\r\n    \r\n                pom.project {\r\n                    name &quot;${name}&quot;;\r\n                    packaging &quot;bundle&quot;;\r\n                    description &quot;${description}&quot;;\r\n                    url &quot;${projectURL}&quot;;\r\n    \r\n                    scm {\r\n                        url &quot;${gitroscm}&quot;;\r\n                        connection &quot;${gitroscm}&quot;;\r\n                        developerConnection &quot;${gitrwscm}&quot;;\r\n                    }\r\n    \r\n                    licenses {\r\n                        license {\r\n                            name &quot;Lesser General Public License, version 3 or greater&quot;;\r\n                            url &quot;http://www.gnu.org/licenses/lgpl.html&quot;;\r\n                            distribution &quot;repo&quot;;\r\n                        }\r\n                    }\r\n    \r\n                    developers {\r\n                        developer {\r\n                            id &quot;whocares&quot;;\r\n                            name &quot;whocares&quot;;\r\n                            email &quot;whocares&quot;;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow would I extract the `pom.project` out of this very deeply nested construct into a task which could generate a pom.xml (by default, the generated pom.xml is in `build/poms/pom-default.xml` and looks quite good)?\r\n\r\nMore importantly, is it possible to extract that `pom.project` out of `uploadArchives` while still being able to refer to it?\r\n\r\nFull link to the build.gradle file: [here][1].\r\n\r\n\r\n  [1]: https://github.com/fge/json-schema-core/raw/master/build.gradle","title":"How to make gradle generate a valid pom.xml file at the root of a project for maven users?","body":"<p>While only for two days now, I am definitely sold on using gradle for all of my Java projects, and drop pom.xml from the root of all my projects.</p>\n\n<p>However, I would like to remain maven-compatible, in the sense that I would like for a gradle task to be able to generate a suitable pom.xml at the root of the project should the user want it.</p>\n\n<p>At this moment, the only reference to a pom.xml I have is in this section of the build.gradle file (this is, with very few modifications, what is found <a href=\"http://jedicoder.blogspot.fr/2011/11/automated-gradle-project-deployment-to.html\">here</a>):</p>\n\n<pre><code>uploadArchives {\n    repositories {\n        mavenDeployer {\n            beforeDeployment {\n                MavenDeployment deployment -&gt; signing.signPom(deployment);\n            }\n\n            repository(url: sonatypeRepoURI) {\n                authentication(userName: sonatypeUsername,\n                    password: sonatypePassword);\n            }\n\n            pom.project {\n                name \"${name}\";\n                packaging \"bundle\";\n                description \"${description}\";\n                url \"${projectURL}\";\n\n                scm {\n                    url \"${gitroscm}\";\n                    connection \"${gitroscm}\";\n                    developerConnection \"${gitrwscm}\";\n                }\n\n                licenses {\n                    license {\n                        name \"Lesser General Public License, version 3 or greater\";\n                        url \"http://www.gnu.org/licenses/lgpl.html\";\n                        distribution \"repo\";\n                    }\n                }\n\n                developers {\n                    developer {\n                        id \"whocares\";\n                        name \"whocares\";\n                        email \"whocares\";\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How would I extract the <code>pom.project</code> out of this very deeply nested construct into a task which could generate a pom.xml (by default, the generated pom.xml is in <code>build/poms/pom-default.xml</code> and looks quite good)?</p>\n\n<p>More importantly, is it possible to extract that <code>pom.project</code> out of <code>uploadArchives</code> while still being able to refer to it?</p>\n\n<p>Full link to the build.gradle file: <a href=\"https://github.com/fge/json-schema-core/raw/master/build.gradle\">here</a>.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666775348,"creation_date":1666775348,"answer_id":74205222,"question_id":74119415,"body_markdown":"&gt; I tried using multiple snapshot listeners loading at once in a single activity. It works fine but I&#39;m worried if I am not following the best practices that it will cost me a lot.\r\n\r\nThat&#39;s nothing wrong with using multiple snapshot listeners, as long as you [keep the number of snapshot listeners per client under 100][1]. What you should take into consideration, is the number of documents that are returned by your queries. Why? Because everything in Firestore is about the number you read operations you perform. If you have a lot of documents, then most likely you should use a limitation by calling [Query#limit(long limit)][2], or by implementing [pagination][3].\r\n\r\nIf you understand Kotlin, the following resources will definitely help:\r\n\r\n* [How to paginate Firestore using Paging 3 on Android?][4]\r\n* [How to implement pagination in Firestore using Jetpack Compose?][5]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/best-practices#realtime_updates\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#limit(long)\r\n  [3]: https://firebase.google.com/docs/firestore/query-data/query-cursors#java\r\n  [4]: https://medium.com/firebase-tips-tricks/how-to-paginate-firestore-using-paging-3-on-android-c485acb0a2df\r\n  [5]: https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-firestore-using-jetpack-compose-76b4c0b5acd5","title":"Summary Dashboard from different collections","body":"<blockquote>\n<p>I tried using multiple snapshot listeners loading at once in a single activity. It works fine but I'm worried if I am not following the best practices that it will cost me a lot.</p>\n</blockquote>\n<p>That's nothing wrong with using multiple snapshot listeners, as long as you <a href=\"https://firebase.google.com/docs/firestore/best-practices#realtime_updates\" rel=\"nofollow noreferrer\">keep the number of snapshot listeners per client under 100</a>. What you should take into consideration, is the number of documents that are returned by your queries. Why? Because everything in Firestore is about the number you read operations you perform. If you have a lot of documents, then most likely you should use a limitation by calling <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#limit(long)\" rel=\"nofollow noreferrer\">Query#limit(long limit)</a>, or by implementing <a href=\"https://firebase.google.com/docs/firestore/query-data/query-cursors#java\" rel=\"nofollow noreferrer\">pagination</a>.</p>\n<p>If you understand Kotlin, the following resources will definitely help:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-paginate-firestore-using-paging-3-on-android-c485acb0a2df\" rel=\"nofollow noreferrer\">How to paginate Firestore using Paging 3 on Android?</a></li>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-firestore-using-jetpack-compose-76b4c0b5acd5\" rel=\"nofollow noreferrer\">How to implement pagination in Firestore using Jetpack Compose?</a></li>\n</ul>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74205222,"answer_count":1,"score":0,"last_activity_date":1666775376,"creation_date":1666148651,"question_id":74119415,"body_markdown":"These are the collections of my Android app:\r\n\r\n 1. Faculty\r\n 2. AnnualDue\r\n 3. MedicalAid\r\n 4. DeathAid\r\n 5. MemberFee\r\n 6. Announcement\r\n\r\nIn a single activity/fragment, I want to display:\r\n\r\n 1. Total Faculty Members\r\n 2. Total Annual Dues\r\n 3. Total Medical Aid\r\n 4. Total Death Aid\r\n 5. Total Member Fees\r\n 6. Total Announcement\r\n\r\nI tried using multiple snapshot listeners loading at once in a single activity. It works fine but I&#39;m worried if I am not following the best practices that it will cost me a lot. If you have another/better way to display the same result that I want, please give me an idea because I&#39;m stuck in this part. ","title":"Summary Dashboard from different collections","body":"<p>These are the collections of my Android app:</p>\n<ol>\n<li>Faculty</li>\n<li>AnnualDue</li>\n<li>MedicalAid</li>\n<li>DeathAid</li>\n<li>MemberFee</li>\n<li>Announcement</li>\n</ol>\n<p>In a single activity/fragment, I want to display:</p>\n<ol>\n<li>Total Faculty Members</li>\n<li>Total Annual Dues</li>\n<li>Total Medical Aid</li>\n<li>Total Death Aid</li>\n<li>Total Member Fees</li>\n<li>Total Announcement</li>\n</ol>\n<p>I tried using multiple snapshot listeners loading at once in a single activity. It works fine but I'm worried if I am not following the best practices that it will cost me a lot. If you have another/better way to display the same result that I want, please give me an idea because I'm stuck in this part.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":7096662,"reputation":2188,"user_id":5889530,"accept_rate":86,"display_name":"The Roy"},"score":1,"creation_date":1460738642,"post_id":36652416,"comment_id":60898403,"body_markdown":"http://www.mojohaus.org/license-maven-plugin/examples/example-license-list.html - lists the licenses available. Based on the sample output shown what additional information are you looking for?","body":"<a href=\"http://www.mojohaus.org/license-maven-plugin/examples/example-license-list.html\" rel=\"nofollow noreferrer\">mojohaus.org/license-maven-plugin/examples/&hellip;</a> - lists the licenses available. Based on the sample output shown what additional information are you looking for?"},{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1460738894,"post_id":36652416,"comment_id":60898550,"body_markdown":"@DROY [The description here](http://www.mojohaus.org/license-maven-plugin/index.html) is a little ambiguous.  What does it mean for a license to be &quot;available&quot;?  EG: Will it list Apache 2.0 even if I&#39;m not using it?","body":"@DROY <a href=\"http://www.mojohaus.org/license-maven-plugin/index.html\" rel=\"nofollow noreferrer\">The description here</a> is a little ambiguous.  What does it mean for a license to be &quot;available&quot;?  EG: Will it list Apache 2.0 even if I&#39;m not using it?"},{"owner":{"account_id":7096662,"reputation":2188,"user_id":5889530,"accept_rate":86,"display_name":"The Roy"},"score":0,"creation_date":1460739317,"post_id":36652416,"comment_id":60898797,"body_markdown":"Can you check this link and see if this is the sort of report you are looking for? http://maven.apache.org/plugins/maven-dependency-plugin/dependencies.html","body":"Can you check this link and see if this is the sort of report you are looking for? <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/dependencies.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a>"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1460739948,"post_id":36652416,"comment_id":60899167,"body_markdown":"It&#39;s a bit unclear. How is the `license-maven-plugin` not doing what you want? It does list the licences of all the project dependencies.","body":"It&#39;s a bit unclear. How is the <code>license-maven-plugin</code> not doing what you want? It does list the licences of all the project dependencies."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1460744996,"post_id":36652416,"comment_id":60901971,"body_markdown":"@Tunaki, as I read it the OP wants to see a license history - point in time history.","body":"@Tunaki, as I read it the OP wants to see a license history - point in time history."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":7,"creation_date":1460749539,"post_id":36652416,"comment_id":60904464,"body_markdown":"You can use your repository manager for that. For example you wan&#39;t to have a list of licenses of a project at version 1.0.0 you can download the project pom file and let analyse that via licenses-maven-plugin (via goal download-licenses) and store the resulting file and do the same for next version 1.0.1 or 1.1.0 etc. and that you can make a diff. Out of the box there does not exist such solution but it might be interesting to create such a thing...","body":"You can use your repository manager for that. For example you wan&#39;t to have a list of licenses of a project at version 1.0.0 you can download the project pom file and let analyse that via licenses-maven-plugin (via goal download-licenses) and store the resulting file and do the same for next version 1.0.1 or 1.1.0 etc. and that you can make a diff. Out of the box there does not exist such solution but it might be interesting to create such a thing..."}],"answers":[{"tags":[],"owner":{"account_id":11443181,"reputation":18452,"user_id":8431111,"display_name":"J_H"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514515019,"creation_date":1514515019,"answer_id":48016731,"question_id":36652416,"body_markdown":"Diff&#39;ing, such as khmarbaise suggests, is the most sensible approach. Checkout (or download) the given project at different versions, and run a license report for each version, storing output in filenames based on version, then diff them. This is very much a human-in-the-loop method. Alternatively, write a program that reads a list of &quot;acceptable&quot; licenses, and reports on (hopefully small number of) exceptional, non-compliant licenses. If you write a useful report, be sure to mention it here, in case others may find it useful as well.","title":"How do I list all licenses used in a maven project?","body":"<p>Diff'ing, such as khmarbaise suggests, is the most sensible approach. Checkout (or download) the given project at different versions, and run a license report for each version, storing output in filenames based on version, then diff them. This is very much a human-in-the-loop method. Alternatively, write a program that reads a list of \"acceptable\" licenses, and reports on (hopefully small number of) exceptional, non-compliant licenses. If you write a useful report, be sure to mention it here, in case others may find it useful as well.</p>\n"},{"tags":[],"owner":{"account_id":4944900,"reputation":364,"user_id":3980600,"display_name":"Karl Dahlgren"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1589574871,"creation_date":1589574871,"answer_id":61827900,"question_id":36652416,"body_markdown":"I&#39;ve developed a website, https://www.licensediscovery.io, that will help Java developers to find licenses for the artifacts that they and their software are depending on.\r\n\r\nLicensediscovery.io enables users to search for Java artifacts by using any of the following syntaxes: Maven, Gradle, SBT, Ivy, Leiningen, Grape, Buildr or plain. Licensediscovery.io will collect, parse and present all identifiable Java artifacts and present them and their licenses in either a table, bar chart, donut chart or a network graph.\r\n\r\nYou can easily export all Maven dependencies from your project into a plain-format dependency list and use it to search for licenses in LicenseDiscovery.io (An example is available under the &#39;Documentation&#39;-section on the website). LicenseDiscovery.io will try to find all the artifacts and their corresponding licenses. The result can then be exported into a CSV file. You can download the result on fixed interval and then compare them over time. ","title":"How do I list all licenses used in a maven project?","body":"<p>I've developed a website, <a href=\"https://www.licensediscovery.io\" rel=\"nofollow noreferrer\">https://www.licensediscovery.io</a>, that will help Java developers to find licenses for the artifacts that they and their software are depending on.</p>\n\n<p>Licensediscovery.io enables users to search for Java artifacts by using any of the following syntaxes: Maven, Gradle, SBT, Ivy, Leiningen, Grape, Buildr or plain. Licensediscovery.io will collect, parse and present all identifiable Java artifacts and present them and their licenses in either a table, bar chart, donut chart or a network graph.</p>\n\n<p>You can easily export all Maven dependencies from your project into a plain-format dependency list and use it to search for licenses in LicenseDiscovery.io (An example is available under the 'Documentation'-section on the website). LicenseDiscovery.io will try to find all the artifacts and their corresponding licenses. The result can then be exported into a CSV file. You can download the result on fixed interval and then compare them over time. </p>\n"},{"tags":[],"owner":{"account_id":14938,"reputation":1011,"user_id":31090,"accept_rate":83,"display_name":"Ed Gomoliako"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666775323,"creation_date":1666775323,"answer_id":74205215,"question_id":36652416,"body_markdown":"I used [License Maven Plugin][1] and its `license:third-party-report` goal to get a pretty nice report.\r\n\r\n\r\n  [1]: https://www.mojohaus.org/license-maven-plugin/","title":"How do I list all licenses used in a maven project?","body":"<p>I used <a href=\"https://www.mojohaus.org/license-maven-plugin/\" rel=\"noreferrer\">License Maven Plugin</a> and its <code>license:third-party-report</code> goal to get a pretty nice report.</p>\n"}],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7490,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":3,"score":12,"last_activity_date":1666775323,"creation_date":1460737827,"question_id":36652416,"body_markdown":"I have a multimodule project that has a lot of dependencies.  I want to check which licenses it had at a certain point, and see how many licenses were added since then.  Is there an easy way to do this?\r\n\r\nI found these plugins:\r\n\r\n1. https://maven.apache.org/plugins/maven-project-info-reports-plugin/license-mojo.html\r\n2. http://www.mojohaus.org/license-maven-plugin/examples/example-download-licenses.html\r\n\r\nBut neither of these give me *exactly* what I want.  I have to do a lot of post processing after this.  Is there a more direct way to see the list of licenses used in a maven project?","title":"How do I list all licenses used in a maven project?","body":"<p>I have a multimodule project that has a lot of dependencies.  I want to check which licenses it had at a certain point, and see how many licenses were added since then.  Is there an easy way to do this?</p>\n\n<p>I found these plugins:</p>\n\n<ol>\n<li><a href=\"https://maven.apache.org/plugins/maven-project-info-reports-plugin/license-mojo.html\">https://maven.apache.org/plugins/maven-project-info-reports-plugin/license-mojo.html</a></li>\n<li><a href=\"http://www.mojohaus.org/license-maven-plugin/examples/example-download-licenses.html\">http://www.mojohaus.org/license-maven-plugin/examples/example-download-licenses.html</a></li>\n</ol>\n\n<p>But neither of these give me <em>exactly</em> what I want.  I have to do a lot of post processing after this.  Is there a more direct way to see the list of licenses used in a maven project?</p>\n"},{"tags":["java","api","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1666691933,"post_id":74191361,"comment_id":130991901,"body_markdown":"Could you please add the response and your expected request body you want to make?","body":"Could you please add the response and your expected request body you want to make?"},{"owner":{"account_id":23345943,"reputation":11,"user_id":17420237,"display_name":"Developer"},"score":0,"creation_date":1666694480,"post_id":74191361,"comment_id":130992767,"body_markdown":"@lucas-nguyen-17 Response I am getting : [\n    {\n        &quot;id&quot;: 29169,\n        &quot;name&quot;: &quot;Template 1&quot;,\n        &quot;type&quot;: &quot;agent_sms_missed_call&quot;\n    },\n    {\n        &quot;id&quot;: 29170,\n        &quot;name&quot;: &quot;Template 2&quot;,\n        &quot;type&quot;: &quot;caller_sms_missed_call&quot;} ]                                                                                       Request body I want : {\n     &quot;sms_template&quot;: [\n          29169\n     ],\n     &quot;name&quot;: &quot;Hello &quot;,\n     &quot;destination&quot;: &quot;hangup||1&quot;,\n     &quot;description&quot;: &quot;number for department&quot;\n}","body":"@lucas-nguyen-17 Response I am getting : [     {         &quot;id&quot;: 29169,         &quot;name&quot;: &quot;Template 1&quot;,         &quot;type&quot;: &quot;agent_sms_missed_call&quot;     },     {         &quot;id&quot;: 29170,         &quot;name&quot;: &quot;Template 2&quot;,         &quot;type&quot;: &quot;caller_sms_missed_call&quot;} ]                                                                                       Request body I want : {      &quot;sms_template&quot;: [           29169      ],      &quot;name&quot;: &quot;Hello &quot;,      &quot;destination&quot;: &quot;hangup||1&quot;,      &quot;description&quot;: &quot;number for department&quot; }"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1666751207,"post_id":74191361,"comment_id":131008525,"body_markdown":"please update thoes info to your question.","body":"please update thoes info to your question."},{"owner":{"account_id":23345943,"reputation":11,"user_id":17420237,"display_name":"Developer"},"score":0,"creation_date":1666760929,"post_id":74191361,"comment_id":131009917,"body_markdown":"@lucas-nguyen-17 please check","body":"@lucas-nguyen-17 please check"}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666775299,"creation_date":1666775299,"answer_id":74205206,"question_id":74191361,"body_markdown":"This below approach is not recommended, but it doesn&#39;t require any 3rd lib, so I think it works for you.\r\n\r\n```\r\nMap&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\nbody.put(&quot;sms_template&quot;, List.of(agentMissedCallId, callerMissedCallSmsId));\r\nbody.put(&quot;name&quot;, &quot;Hello &quot;);\r\nbody.put(&quot;destination&quot;, &quot;hangup||1&quot;);\r\nbody.put(&quot;description&quot;, &quot;number for department&quot;);\r\n\r\ngiven().log().body().contentType(ContentType.JSON)\r\n        .body(body)\r\n        .post(&quot;https://postman-echo.com/post&quot;);\r\n```","title":"Fetching values and sending in an array","body":"<p>This below approach is not recommended, but it doesn't require any 3rd lib, so I think it works for you.</p>\n<pre><code>Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\nbody.put(&quot;sms_template&quot;, List.of(agentMissedCallId, callerMissedCallSmsId));\nbody.put(&quot;name&quot;, &quot;Hello &quot;);\nbody.put(&quot;destination&quot;, &quot;hangup||1&quot;);\nbody.put(&quot;description&quot;, &quot;number for department&quot;);\n\ngiven().log().body().contentType(ContentType.JSON)\n        .body(body)\n        .post(&quot;https://postman-echo.com/post&quot;);\n</code></pre>\n"}],"owner":{"account_id":23345943,"reputation":11,"user_id":17420237,"display_name":"Developer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666775299,"creation_date":1666687479,"question_id":74191361,"body_markdown":"I have fetched some integer values from getAPI:\r\n \r\n\r\n    List&lt;String&gt; jsonResponse = response.jsonPath().getList(&quot;$&quot;);\r\n\t\tfor (int i = 0; i &lt; jsonResponse.size(); i++) {\r\n\t\t\tif (getJsonPath(response, &quot;type[&quot; + i + &quot;]&quot;).equals(&quot;agent_sms_missed_call&quot;)) {\r\n\t\t\t\tagentMissedCallId = getJsonPath(response, &quot;id[&quot; + i + &quot;]&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; jsonResponse.size(); i++) {\r\n\t\t\tif (getJsonPath(response, &quot;type[&quot; + i + &quot;]&quot;).equals(&quot;caller_sms_missed_call&quot;)) {\r\n\t\t\t\tcallerMissedCallSmsId = getJsonPath(response, &quot;id[&quot; + i + &quot;]&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\nNow I want to send the value of agentMissedCallId and callerMissedCallSmsId  in PUT API : How can i acheive that .\r\n\r\n    {\r\n     &quot;sms_template&quot;: [\r\n          idFetched(agentMissedCallId), idFetched(callerMissedCallSmsId)\r\n         ]\r\n     }\r\n\r\nResponse I am getting from a GET API :\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 29169,\r\n    &quot;name&quot;: &quot;Template 1&quot;,\r\n    &quot;type&quot;: &quot;agent_sms_missed_call&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 29170,\r\n    &quot;name&quot;: &quot;Template 2&quot;,\r\n    &quot;type&quot;: &quot;caller_sms_missed_call&quot;\r\n  }\r\n]\r\n```\r\n\r\n\r\nRequest body I want : \r\n```\r\n{\r\n  &quot;sms_template&quot;: [\r\n    29169\r\n  ],\r\n  &quot;name&quot;: &quot;Hello &quot;,\r\n  &quot;destination&quot;: &quot;hangup||1&quot;,\r\n  &quot;description&quot;: &quot;number for department&quot;\r\n}\r\n```","title":"Fetching values and sending in an array","body":"<p>I have fetched some integer values from getAPI:</p>\n<pre><code>List&lt;String&gt; jsonResponse = response.jsonPath().getList(&quot;$&quot;);\n    for (int i = 0; i &lt; jsonResponse.size(); i++) {\n        if (getJsonPath(response, &quot;type[&quot; + i + &quot;]&quot;).equals(&quot;agent_sms_missed_call&quot;)) {\n            agentMissedCallId = getJsonPath(response, &quot;id[&quot; + i + &quot;]&quot;);\n            break;\n        }\n    }\n    for (int i = 0; i &lt; jsonResponse.size(); i++) {\n        if (getJsonPath(response, &quot;type[&quot; + i + &quot;]&quot;).equals(&quot;caller_sms_missed_call&quot;)) {\n            callerMissedCallSmsId = getJsonPath(response, &quot;id[&quot; + i + &quot;]&quot;);\n            break;\n        }\n    }\n</code></pre>\n<p>Now I want to send the value of agentMissedCallId and callerMissedCallSmsId  in PUT API : How can i acheive that .</p>\n<pre><code>{\n &quot;sms_template&quot;: [\n      idFetched(agentMissedCallId), idFetched(callerMissedCallSmsId)\n     ]\n }\n</code></pre>\n<p>Response I am getting from a GET API :</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 29169,\n    &quot;name&quot;: &quot;Template 1&quot;,\n    &quot;type&quot;: &quot;agent_sms_missed_call&quot;\n  },\n  {\n    &quot;id&quot;: 29170,\n    &quot;name&quot;: &quot;Template 2&quot;,\n    &quot;type&quot;: &quot;caller_sms_missed_call&quot;\n  }\n]\n</code></pre>\n<p>Request body I want :</p>\n<pre><code>{\n  &quot;sms_template&quot;: [\n    29169\n  ],\n  &quot;name&quot;: &quot;Hello &quot;,\n  &quot;destination&quot;: &quot;hangup||1&quot;,\n  &quot;description&quot;: &quot;number for department&quot;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","unit-testing","optimistic-locking"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1663726800,"post_id":73792825,"comment_id":130305487,"body_markdown":"your test method is backed up by single transaction","body":"your test method is backed up by single transaction"},{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1663739390,"post_id":73792825,"comment_id":130307346,"body_markdown":"@AndreyB.Panfilov could you please give some more clues or links that how can I achieve multi transaction test?","body":"@AndreyB.Panfilov could you please give some more clues or links that how can I achieve multi transaction test?"},{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":1,"creation_date":1663750877,"post_id":73792825,"comment_id":130310758,"body_markdown":"You can use transaction template if you are using spring.","body":"You can use transaction template if you are using spring."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1663755207,"post_id":73792825,"comment_id":130312352,"body_markdown":"@Sobhan the basic idea is following: your actual goal it is verify hypothesis that if two competing *business transactions* try to modify the same same entity then one of those transactions must fail. That actually means that you need to spawn two threads and somehow synchronise their steps/state in your test scenario.","body":"@Sobhan the basic idea is following: your actual goal it is verify hypothesis that if two competing <i>business transactions</i> try to modify the same same entity then one of those transactions must fail. That actually means that you need to spawn two threads and somehow synchronise their steps/state in your test scenario."}],"answers":[{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663745266,"creation_date":1663745266,"answer_id":73796892,"question_id":73792825,"body_markdown":"Single session\r\n\r\n&gt; First Level Cache: Hibernate first level cache is associated with the Session object. Hibernate first level cache is enabled by default and there is no way to disable it. However hibernate provides methods through which we can delete selected objects from the cache or clear the cache completely. Any object cached in a session will not be visible to other sessions and when the session is closed, all the cached objects will also be lost.\r\n\r\nSo when you tring find db object by `accountRepository.findAccountByUser_Username` hibernate get it from cache, that&#39;s way.","title":"writing @Test for Hibernate Optimistic locking using @version is not working as expected","body":"<p>Single session</p>\n<blockquote>\n<p>First Level Cache: Hibernate first level cache is associated with the Session object. Hibernate first level cache is enabled by default and there is no way to disable it. However hibernate provides methods through which we can delete selected objects from the cache or clear the cache completely. Any object cached in a session will not be visible to other sessions and when the session is closed, all the cached objects will also be lost.</p>\n</blockquote>\n<p>So when you tring find db object by <code>accountRepository.findAccountByUser_Username</code> hibernate get it from cache, that's way.</p>\n"},{"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1663749502,"post_id":73797655,"comment_id":130310289,"body_markdown":"I&#39;d rephrase several sentences: &quot;_Since Hibernate implements JPA it uses caching and also it has persistence context_&quot; - Hibernate used &quot;caching&quot; and persistence context long before JPA came to life. &quot;_flushed to DB only when transaction is committed_&quot; - this will depend on flush mode. Default (AUTO) mode: flush before commit _and_ before any SELECT. &quot;_when you update the object it will update the same object in PC_&quot; - it&#39;s the same object. &quot;_But that is not usual practice to do that._&quot; - in tests it is. The usual practice: flush and clear PC before operation-under-test.","body":"I&#39;d rephrase several sentences: &quot;<i>Since Hibernate implements JPA it uses caching and also it has persistence context</i>&quot; - Hibernate used &quot;caching&quot; and persistence context long before JPA came to life. &quot;<i>flushed to DB only when transaction is committed</i>&quot; - this will depend on flush mode. Default (AUTO) mode: flush before commit <i>and</i> before any SELECT. &quot;<i>when you update the object it will update the same object in PC</i>&quot; - it&#39;s the same object. &quot;<i>But that is not usual practice to do that.</i>&quot; - in tests it is. The usual practice: flush and clear PC before operation-under-test."},{"owner":{"account_id":6160013,"reputation":111,"user_id":4801932,"display_name":"Marko"},"score":1,"creation_date":1663777786,"post_id":73797655,"comment_id":130321013,"body_markdown":"I was talking about default behaviour but of course you can change it via flush mode that is true. Also in spring usual practice is to put Transactional annotation in the class which in test will cause transaction will be rolled back at the end and data will be not stored to DB. This is for me usual practice. Flushing changes manually make sense only in special case like @Sobhan has described. So in this case it is perfectly ok to use it","body":"I was talking about default behaviour but of course you can change it via flush mode that is true. Also in spring usual practice is to put Transactional annotation in the class which in test will cause transaction will be rolled back at the end and data will be not stored to DB. This is for me usual practice. Flushing changes manually make sense only in special case like @Sobhan has described. So in this case it is perfectly ok to use it"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1663782285,"post_id":73797655,"comment_id":130322541,"body_markdown":"&quot;_I was talking about default behaviour but of course you can change it via flush mode that is true._&quot; - yeah, but flushing before SELECT _is_ the default behaviour.","body":"&quot;<i>I was talking about default behaviour but of course you can change it via flush mode that is true.</i>&quot; - yeah, but flushing before SELECT <i>is</i> the default behaviour."},{"owner":{"account_id":6160013,"reputation":111,"user_id":4801932,"display_name":"Marko"},"score":0,"creation_date":1663895738,"post_id":73797655,"comment_id":130352563,"body_markdown":"Yes, you are right","body":"Yes, you are right"}],"tags":[],"owner":{"account_id":6160013,"reputation":111,"user_id":4801932,"display_name":"Marko"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663749108,"creation_date":1663749108,"answer_id":73797655,"question_id":73792825,"body_markdown":"This is because of natural behaviour in JPA. Since Hibernate implements JPA it uses caching and also it has persistence context. So when you load the object (entity) from DB using hibernate the logic is following. When the object is not in persistent context (PC) it is loaded from DB and put to Pc and returned as the result of the call. So when you load it again from other place or in the same method it will returned the same object from PC. Also when you update the object it will update the same object in PC. But the changes made on object will be flushed to DB only when transaction is committed. In your case you are getting the same object from DB twice. So first time object is put to PC from DB and returned and the second time the same object from PC is returned and no call to DB is made. It doesn&#39;t matter you have accountInDeviceOne and accountInDeviceTwo because both of them are just reference to the same object in persistent context (PC0. Therefore it doesn&#39;t matter on which reference you will made the changes you are changing the same object. Also version is incremented when transaction is committed and changes are flushed to DB. And the transaction is committed after method who created transaction is done. If you want the version to be incremented immediately you can force changes from PC to be flushed to DB by calling flush method in Entity Manager or in case you are using Spring Data JPA also repositories has the same possibility. But that is not usual practice to do that.","title":"writing @Test for Hibernate Optimistic locking using @version is not working as expected","body":"<p>This is because of natural behaviour in JPA. Since Hibernate implements JPA it uses caching and also it has persistence context. So when you load the object (entity) from DB using hibernate the logic is following. When the object is not in persistent context (PC) it is loaded from DB and put to Pc and returned as the result of the call. So when you load it again from other place or in the same method it will returned the same object from PC. Also when you update the object it will update the same object in PC. But the changes made on object will be flushed to DB only when transaction is committed. In your case you are getting the same object from DB twice. So first time object is put to PC from DB and returned and the second time the same object from PC is returned and no call to DB is made. It doesn't matter you have accountInDeviceOne and accountInDeviceTwo because both of them are just reference to the same object in persistent context (PC0. Therefore it doesn't matter on which reference you will made the changes you are changing the same object. Also version is incremented when transaction is committed and changes are flushed to DB. And the transaction is committed after method who created transaction is done. If you want the version to be incremented immediately you can force changes from PC to be flushed to DB by calling flush method in Entity Manager or in case you are using Spring Data JPA also repositories has the same possibility. But that is not usual practice to do that.</p>\n"},{"comments":[{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1666711685,"post_id":74195457,"comment_id":130999062,"body_markdown":"thank you, it&#39;s the correct way of testing concurrent issues","body":"thank you, it&#39;s the correct way of testing concurrent issues"}],"tags":[],"owner":{"account_id":9768291,"reputation":246,"user_id":7241047,"display_name":"Meysam Amini"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666775088,"creation_date":1666707080,"answer_id":74195457,"question_id":73792825,"body_markdown":"You can simply update a row in two concurrent threads like this:\r\n\r\n    @SpringBootTest\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class SaveAccountOptimisticallyTest {\r\n\r\n    @Autowired\r\n    private AccountRepository repository;\r\n    private Long savedAccountId;\r\n\r\n    @BeforeEach\r\n    public void insertUsers(){\r\n        Account account = Account.builder()\r\n                .balance(BigDecimal.ZERO)\r\n                .build();\r\n        savedAccountId = repository.save(account).getId();\r\n\r\n    }\r\n\r\n    @Test\r\n    public void test_saving_account_optimistically() throws InterruptedException {\r\n        Thread t1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Account account = repository.findById(savedAccountId).orElse(null);\r\n                try {\r\n                    Thread.sleep(6000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                account.setBalance(BigDecimal.ONE);\r\n                try {\r\n                    repository.save(account);\r\n                }catch (Exception e){\r\n                    Assertions.assertEquals(e.getCause(),&quot;StaleObjectStateException&quot;);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        Thread t2 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Account account = repository.findById(savedAccountId).orElse(null);\r\n                account.setBalance(BigDecimal.TEN);\r\n                repository.save(account);\r\n            }\r\n        });\r\n        t1.start();\r\n        t2.start();\r\n        t1.join();\r\n        t2.join();\r\n    }\r\n}\r\n\r\nNote that the first runnable will try to update the fetched object 6 seconds after retrieving it from db, and until then, the object&#39;s version field will be updated by other thread(t2) and this will cause an OptimisticLock (StaleObjectStateException of Hibernate) exception at t1. ","title":"writing @Test for Hibernate Optimistic locking using @version is not working as expected","body":"<p>You can simply update a row in two concurrent threads like this:</p>\n<pre><code>@SpringBootTest\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class SaveAccountOptimisticallyTest {\n\n@Autowired\nprivate AccountRepository repository;\nprivate Long savedAccountId;\n\n@BeforeEach\npublic void insertUsers(){\n    Account account = Account.builder()\n            .balance(BigDecimal.ZERO)\n            .build();\n    savedAccountId = repository.save(account).getId();\n\n}\n\n@Test\npublic void test_saving_account_optimistically() throws InterruptedException {\n    Thread t1 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            Account account = repository.findById(savedAccountId).orElse(null);\n            try {\n                Thread.sleep(6000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            account.setBalance(BigDecimal.ONE);\n            try {\n                repository.save(account);\n            }catch (Exception e){\n                Assertions.assertEquals(e.getCause(),&quot;StaleObjectStateException&quot;);\n            }\n\n        }\n    });\n\n    Thread t2 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            Account account = repository.findById(savedAccountId).orElse(null);\n            account.setBalance(BigDecimal.TEN);\n            repository.save(account);\n        }\n    });\n    t1.start();\n    t2.start();\n    t1.join();\n    t2.join();\n}\n</code></pre>\n<p>}</p>\n<p>Note that the first runnable will try to update the fetched object 6 seconds after retrieving it from db, and until then, the object's version field will be updated by other thread(t2) and this will cause an OptimisticLock (StaleObjectStateException of Hibernate) exception at t1.</p>\n"}],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74195457,"answer_count":3,"score":1,"last_activity_date":1666775088,"creation_date":1663709244,"question_id":73792825,"body_markdown":"I have simple `User` and `Account` entities, they look like:\r\n\r\n    @Entity\r\n    @Table(name=&quot;USERS&quot;)\r\n    public class User {\r\n    \r\n    \r\n        @NotNull\r\n        @Column(name = &quot;USERNAME&quot;,length = 50, unique = true)\r\n        private String username;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;PASSWORD&quot;)\r\n        private String password;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;ROLE&quot;,length = 20)\r\n        @Enumerated(EnumType.STRING)\r\n        private Role role;\r\n    }\r\nAnd:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ACCOUNT&quot;)\r\n    public class Account {\r\n    \r\n    \r\n        @NotNull\r\n        @Column(name = &quot;BALANCE&quot;)\r\n        private BigDecimal balance;\r\n    \r\n        @JoinColumn(name = &quot;USER_ID&quot;)\r\n        @OneToOne(targetEntity = User.class, fetch = FetchType.LAZY)\r\n        private User user;\r\n    \r\n        @Version\r\n        private int version;\r\n    \r\n    }\r\n    \r\nSo I tried to write a `@Test` to become sure about it, and it is like:\r\n\r\n \r\n\r\n        @Test\r\n        public void test_optimistic_locking_concept() {\r\n            User user = new User(&quot;test&quot;, &quot;123456&quot;, Role.ROLE_USER);\r\n            user = userRepository.save(user);\r\n    \r\n            Account account = new Account();\r\n            account.setBalance(new BigDecimal(&quot;5000&quot;));\r\n            account.setUser(user);\r\n            accountRepository.save(account);\r\n    \r\n            // fetching account record for different devices\r\n            Account accountInDeviceOne = new Account();\r\n            accountInDeviceOne = accountRepository.findAccountByUser_Username(user.getUsername()).get();\r\n    \r\n            Account accountInDeviceTwo = new Account();\r\n            accountInDeviceTwo = accountRepository.findAccountByUser_Username(user.getUsername()).get();\r\n    \r\n            // each device tries to change the account balance by debit/credit\r\n            accountInDeviceOne.setBalance(accountInDeviceOne.getBalance().subtract(new BigDecimal(&quot;1500&quot;)));\r\n            accountInDeviceTwo.setBalance(accountInDeviceTwo.getBalance().add(new BigDecimal(&quot;2500&quot;)));\r\n    \r\n            // The versions of the updated accounts are both 0.\r\n            Assertions.assertEquals(0, accountInDeviceOne.getVersion());\r\n            Assertions.assertEquals(0, accountInDeviceTwo.getVersion());\r\n    \r\n            // first device request update\r\n            accountInDeviceOne = accountRepository.save(accountInDeviceOne);\r\n    \r\n            // !Exception!\r\n            accountInDeviceTwo = accountRepository.save(accountInDeviceTwo);\r\n        }\r\n\r\nBut it doesn&#39;t throw Exception, as I expected!!\r\n\r\nAlso it does not increment the `version` field when I do `accountRepository.save(accountInDeviceOne)`.\r\n\r\nAnd in debugger console, as it is shown below, I don&#39;t know the reason why they are all pointing to the same resource!!!\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWould someone please help me to understand what is going wrong here and how can I write test for this optimistic Locking Concept?\r\n\r\nAny help would be appreciated!!\r\n\r\n  [1]: https://i.stack.imgur.com/x8UZx.png","title":"writing @Test for Hibernate Optimistic locking using @version is not working as expected","body":"<p>I have simple <code>User</code> and <code>Account</code> entities, they look like:</p>\n<pre><code>@Entity\n@Table(name=&quot;USERS&quot;)\npublic class User {\n\n\n    @NotNull\n    @Column(name = &quot;USERNAME&quot;,length = 50, unique = true)\n    private String username;\n\n    @NotNull\n    @Column(name = &quot;PASSWORD&quot;)\n    private String password;\n\n    @NotNull\n    @Column(name = &quot;ROLE&quot;,length = 20)\n    @Enumerated(EnumType.STRING)\n    private Role role;\n}\n</code></pre>\n<p>And:</p>\n<pre><code>@Entity\n@Table(name = &quot;ACCOUNT&quot;)\npublic class Account {\n\n\n    @NotNull\n    @Column(name = &quot;BALANCE&quot;)\n    private BigDecimal balance;\n\n    @JoinColumn(name = &quot;USER_ID&quot;)\n    @OneToOne(targetEntity = User.class, fetch = FetchType.LAZY)\n    private User user;\n\n    @Version\n    private int version;\n\n}\n</code></pre>\n<p>So I tried to write a <code>@Test</code> to become sure about it, and it is like:</p>\n<pre><code>    @Test\n    public void test_optimistic_locking_concept() {\n        User user = new User(&quot;test&quot;, &quot;123456&quot;, Role.ROLE_USER);\n        user = userRepository.save(user);\n\n        Account account = new Account();\n        account.setBalance(new BigDecimal(&quot;5000&quot;));\n        account.setUser(user);\n        accountRepository.save(account);\n\n        // fetching account record for different devices\n        Account accountInDeviceOne = new Account();\n        accountInDeviceOne = accountRepository.findAccountByUser_Username(user.getUsername()).get();\n\n        Account accountInDeviceTwo = new Account();\n        accountInDeviceTwo = accountRepository.findAccountByUser_Username(user.getUsername()).get();\n\n        // each device tries to change the account balance by debit/credit\n        accountInDeviceOne.setBalance(accountInDeviceOne.getBalance().subtract(new BigDecimal(&quot;1500&quot;)));\n        accountInDeviceTwo.setBalance(accountInDeviceTwo.getBalance().add(new BigDecimal(&quot;2500&quot;)));\n\n        // The versions of the updated accounts are both 0.\n        Assertions.assertEquals(0, accountInDeviceOne.getVersion());\n        Assertions.assertEquals(0, accountInDeviceTwo.getVersion());\n\n        // first device request update\n        accountInDeviceOne = accountRepository.save(accountInDeviceOne);\n\n        // !Exception!\n        accountInDeviceTwo = accountRepository.save(accountInDeviceTwo);\n    }\n</code></pre>\n<p>But it doesn't throw Exception, as I expected!!</p>\n<p>Also it does not increment the <code>version</code> field when I do <code>accountRepository.save(accountInDeviceOne)</code>.</p>\n<p>And in debugger console, as it is shown below, I don't know the reason why they are all pointing to the same resource!!!</p>\n<p><a href=\"https://i.stack.imgur.com/x8UZx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8UZx.png\" alt=\"enter image description here\" /></a></p>\n<p>Would someone please help me to understand what is going wrong here and how can I write test for this optimistic Locking Concept?</p>\n<p>Any help would be appreciated!!</p>\n"},{"tags":["java","maven","kubernetes"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666722660,"post_id":74198370,"comment_id":131002588,"body_markdown":"There it says `&lt;scope&gt;system&lt;/scope&gt;` which means it&#39;s going to be provided by the system. Add the dependency on the classpath when running the app or add it to the jar you are building","body":"There it says <code>&lt;scope&gt;system&lt;&#47;scope&gt;</code> which means it&#39;s going to be provided by the system. Add the dependency on the classpath when running the app or add it to the jar you are building"},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1666764496,"post_id":74198370,"comment_id":131010595,"body_markdown":"@LeonardoEmmanueldeAzevedo could you please give some example","body":"@LeonardoEmmanueldeAzevedo could you please give some example"},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1689244627,"post_id":74198370,"comment_id":135187293,"body_markdown":"Found myself the answer here - https://stackoverflow.com/a/71794311/1089841","body":"Found myself the answer here - <a href=\"https://stackoverflow.com/a/71794311/1089841\">stackoverflow.com/a/71794311/1089841</a>"}],"answers":[{"comments":[{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1666777714,"post_id":74205162,"comment_id":131014583,"body_markdown":"Plugin &#39;org.apache.maven.plugins:maven-assembly-plugin:&#39; not found","body":"Plugin &#39;org.apache.maven.plugins:maven-assembly-plugin:&#39; not found"},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1666778529,"post_id":74205162,"comment_id":131014852,"body_markdown":"After Adding &lt;version&gt; no errors","body":"After Adding &lt;version&gt; no errors"},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1666779234,"post_id":74205162,"comment_id":131015100,"body_markdown":"Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: com/abc/JumpLine] with root cause\njava.lang.NoClassDefFoundError: com/abc/JumpLine\n\nAfter updating like above mentioned still it&#39;s not workig","body":"Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: com/abc/JumpLine] with root cause java.lang.NoClassDefFoundError: com/abc/JumpLine  After updating like above mentioned still it&#39;s not workig"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666783498,"post_id":74205162,"comment_id":131016437,"body_markdown":"Make sure you are executing the `jar-with-dependencies` and not the one with no dependencies on it.","body":"Make sure you are executing the <code>jar-with-dependencies</code> and not the one with no dependencies on it."}],"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666775072,"creation_date":1666775072,"answer_id":74205162,"question_id":74198370,"body_markdown":"This happens because of `&lt;scope&gt;system&lt;/scope&gt;`. It&#39;s telling Maven that the library is gonna be loaded in the system.\r\nTo fix this issue, one thing you can do is generate a jar with all dependencies included using Maven plugin\r\n```XML\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;mainClass&gt;your.main.class.here&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThat plugin will generate a bigger jar than usual containing all the dependencies in it. \r\n\r\nNow it&#39;s just simple as running the jar with `java -jar file.jar`","title":"How to build the externally added jar in maven to make it work in Kubernetes","body":"<p>This happens because of <code>&lt;scope&gt;system&lt;/scope&gt;</code>. It's telling Maven that the library is gonna be loaded in the system.\nTo fix this issue, one thing you can do is generate a jar with all dependencies included using Maven plugin</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;your.main.class.here&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n            &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>That plugin will generate a bigger jar than usual containing all the dependencies in it.</p>\n<p>Now it's just simple as running the jar with <code>java -jar file.jar</code></p>\n"}],"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666775072,"creation_date":1666721028,"question_id":74198370,"body_markdown":"I have added the jar in the path : root-project-&gt;lib-&gt;jumper.jar\r\n\r\nPOM.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.abc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jump&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${basedir}/lib/jumper.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;\r\nthis works locally but when deployed to Kubernetes it&#39;s not working\r\n","title":"How to build the externally added jar in maven to make it work in Kubernetes","body":"<p>I have added the jar in the path : root-project-&gt;lib-&gt;jumper.jar</p>\n<p>POM.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.abc&lt;/groupId&gt;\n  &lt;artifactId&gt;jump&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;${basedir}/lib/jumper.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>this works locally but when deployed to Kubernetes it's not working</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666703449,"post_id":74193990,"comment_id":130995856,"body_markdown":"Why would you want to mix Gradle and Maven? Both are build tools that can mostly do the same thing. You can use Gradle to upload to Maven Central if that&#39;s why you wanted to use Maven.","body":"Why would you want to mix Gradle and Maven? Both are build tools that can mostly do the same thing. You can use Gradle to upload to Maven Central if that&#39;s why you wanted to use Maven."}],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666700857,"creation_date":1666700857,"answer_id":74194067,"question_id":74193990,"body_markdown":"Yep, Use maven create a parent project. Update the pom.xml set \r\n\r\n```\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n```\r\n\r\nSelect the project and then create a new model extends the parent project.","title":"Configure spring boot multi module project","body":"<p>Yep, Use maven create a parent project. Update the pom.xml set</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n<p>Select the project and then create a new model extends the parent project.</p>\n"}],"owner":{"account_id":8148357,"reputation":25,"user_id":6136300,"display_name":"Petar Petrov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666775106,"answer_count":1,"score":1,"last_activity_date":1666774977,"creation_date":1666700466,"question_id":74193990,"body_markdown":"Is it possible to have a root project configured with gradle, and module configured with maven? ","title":"Configure spring boot multi module project","body":"<p>Is it possible to have a root project configured with gradle, and module configured with maven?</p>\n"},{"tags":["java","c++","string","java-native-interface","thread-safety"],"answers":[{"comments":[{"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"score":0,"creation_date":1447752933,"post_id":33753045,"comment_id":55274448,"body_markdown":"Currently I am not using `jstring` etc. in my code to keep it independent of Java (since it&#39;s also used for iPhone). Though I can add it by segregation. Is there any other way, besides this?","body":"Currently I am not using <code>jstring</code> etc. in my code to keep it independent of Java (since it&#39;s also used for iPhone). Though I can add it by segregation. Is there any other way, besides this?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1447753441,"post_id":33753045,"comment_id":55274779,"body_markdown":"I work with c++ code under android, we have a layer of code that glues java code with c++ engine - and this is using jni. other way - for getting data from c++? - you could also pass Java array to c++ code, and make c++ code fill it with string contents.","body":"I work with c++ code under android, we have a layer of code that glues java code with c++ engine - and this is using jni. other way - for getting data from c++? - you could also pass Java array to c++ code, and make c++ code fill it with string contents."},{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1447810353,"post_id":33753045,"comment_id":55308135,"body_markdown":"@iammilind `NewStringUTF` assumes that `data()` returns a pointer to a 0x00-terminated _modified UTF-8_ string. If it&#39;s not, maybe you can determine that all possible strings in your data are compatible.","body":"@iammilind <code>NewStringUTF</code> assumes that <code>data()</code> returns a pointer to a 0x00-terminated <i>modified UTF-8</i> string. If it&#39;s not, maybe you can determine that all possible strings in your data are compatible."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666774680,"creation_date":1447751656,"answer_id":33753045,"question_id":33752706,"body_markdown":"&gt; I want to pass the underlying c-string to the Java correctly\r\n\r\nHow are you passing c++ string to java? You can&#39;t pass bare C++ pointer to Java, you should use JNI functions for that, ie.:\r\n\r\n    jstring jstr = (*env)-&gt;NewStringUTF(env, data());\r\n\r\nand then pass `jstr` to Java, or pass in the form of a Java array. This function duplicates string so there is no problem with thread safety.\r\n\r\nIf you want to share memory region between Java and C++ then you might try with following JNI functions: `NewDirectByteBuffer`, `GetDirectBufferAddress`, `GetDirectBufferCapacity`.","title":"How to pass a C++ string to Java JNI in a well defined thread-safe way?","body":"<blockquote>\n<p>I want to pass the underlying c-string to the Java correctly</p>\n</blockquote>\n<p>How are you passing c++ string to java? You can't pass bare C++ pointer to Java, you should use JNI functions for that, ie.:</p>\n<pre><code>jstring jstr = (*env)-&gt;NewStringUTF(env, data());\n</code></pre>\n<p>and then pass <code>jstr</code> to Java, or pass in the form of a Java array. This function duplicates string so there is no problem with thread safety.</p>\n<p>If you want to share memory region between Java and C++ then you might try with following JNI functions: <code>NewDirectByteBuffer</code>, <code>GetDirectBufferAddress</code>, <code>GetDirectBufferCapacity</code>.</p>\n"}],"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33753045,"answer_count":1,"score":5,"last_activity_date":1666774680,"creation_date":1447750536,"question_id":33752706,"body_markdown":"There is a C++ function, which is called from Java code via JNI.  \r\nI want to pass the underlying c-string to the Java correctly, so I have done below arrangements:\r\n\r\n    // main.cpp\r\n    string global;\r\n    \r\n    const char* data ()  // Called externally by JNI\r\n    {\r\n      return (global = func_returning_string()).data();  // `.data()` = `.c_str()`\r\n    }\r\n\r\nBut in this case, the function `data()` is no longer thread-safe.  \r\nWhat is the best way to achieve the thread-safety while passing the string without causing any undefined behavior?\r\n\r\n","title":"How to pass a C++ string to Java JNI in a well defined thread-safe way?","body":"<p>There is a C++ function, which is called from Java code via JNI.<br>\nI want to pass the underlying c-string to the Java correctly, so I have done below arrangements:</p>\n\n<pre><code>// main.cpp\nstring global;\n\nconst char* data ()  // Called externally by JNI\n{\n  return (global = func_returning_string()).data();  // `.data()` = `.c_str()`\n}\n</code></pre>\n\n<p>But in this case, the function <code>data()</code> is no longer thread-safe.<br>\nWhat is the best way to achieve the thread-safety while passing the string without causing any undefined behavior?</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1639484270,"post_id":70348728,"comment_id":124355139,"body_markdown":"Why do you think the table is not created?","body":"Why do you think the table is not created?"},{"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"score":0,"creation_date":1639484440,"post_id":70348728,"comment_id":124355201,"body_markdown":"@Jens i can&#39;t see the table and can&#39;t make queries.","body":"@Jens i can&#39;t see the table and can&#39;t make queries."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1639484984,"post_id":70348728,"comment_id":124355409,"body_markdown":"The tables will be deleted after the application stops as i know","body":"The tables will be deleted after the application stops as i know"},{"owner":{"account_id":13439791,"reputation":156,"user_id":9697270,"display_name":"Eugene Maksymets"},"score":0,"creation_date":1639486112,"post_id":70348728,"comment_id":124355808,"body_markdown":"provide a repo with a code example, I would see how your spring context was created. But first, try to connect to your in-memory database via some SQL client and check manually the SQL schema.","body":"provide a repo with a code example, I would see how your spring context was created. But first, try to connect to your in-memory database via some SQL client and check manually the SQL schema."},{"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"score":0,"creation_date":1639487129,"post_id":70348728,"comment_id":124356185,"body_markdown":"@Eugene Maksymets I started to code with spring initializer. The database is in-memory.","body":"@Eugene Maksymets I started to code with spring initializer. The database is in-memory."},{"owner":{"account_id":28204,"reputation":1062,"user_id":75113,"display_name":"Ted M. Young"},"score":0,"creation_date":1640035701,"post_id":70348728,"comment_id":124495777,"body_markdown":"You&#39;ll need to provide more information: the `pom.xml`, your complete `application.properties` (or `application.yml`) files and the full logging output when you run the application. Don&#39;t paste images, paste as text.","body":"You&#39;ll need to provide more information: the <code>pom.xml</code>, your complete <code>application.properties</code> (or <code>application.yml</code>) files and the full logging output when you run the application. Don&#39;t paste images, paste as text."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666398363,"post_id":74129660,"comment_id":130935240,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74129660/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16432762,"reputation":1,"user_id":11871166,"display_name":"Timz Owen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666774553,"creation_date":1666200919,"answer_id":74129660,"question_id":70348728,"body_markdown":"I had the same problem. \r\nSoln: make sure your entity / Model class class is within you com.package package. otherwise it will run the classes and never map the entities.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yLX7J.png\r\n\r\nfor my case I had to make sure it under the com  package and not java package  ","title":"Cannot create table with JPA Entity","body":"<p>I had the same problem.\nSoln: make sure your entity / Model class class is within you com.package package. otherwise it will run the classes and never map the entities.<a href=\"https://i.stack.imgur.com/yLX7J.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>for my case I had to make sure it under the com  package and not java package</p>\n"}],"owner":{"account_id":8455866,"reputation":197,"user_id":6343186,"display_name":"TranceAddict"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666774553,"creation_date":1639484127,"question_id":70348728,"body_markdown":"I&#39;m new to JPA. I am following this guide: https://www.baeldung.com/spring-boot-hibernate\r\n\r\nI am using H2 database and Intellij Idea. According to the guide @Entity annotation would create book table.\r\n\r\nEntity class:\r\n\r\n[![My entity class][1]][1]\r\n\r\nDatabase connection:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nLogs:\r\n\r\n[![Logs][2]][2]\r\n\r\n[![Logs][3]][3]\r\n\r\napplication.properties:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m9KGw.jpg\r\n  [2]: https://i.stack.imgur.com/5o4AY.png\r\n  [3]: https://i.stack.imgur.com/8YQY9.jpg\r\n  [4]: https://i.stack.imgur.com/lBdBP.png","title":"Cannot create table with JPA Entity","body":"<p>I'm new to JPA. I am following this guide: <a href=\"https://www.baeldung.com/spring-boot-hibernate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-hibernate</a></p>\n<p>I am using H2 database and Intellij Idea. According to the guide @Entity annotation would create book table.</p>\n<p>Entity class:</p>\n<p><a href=\"https://i.stack.imgur.com/m9KGw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9KGw.jpg\" alt=\"My entity class\" /></a></p>\n<p>Database connection:</p>\n<p><a href=\"https://i.stack.imgur.com/lBdBP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lBdBP.png\" alt=\"enter image description here\" /></a></p>\n<p>Logs:</p>\n<p><a href=\"https://i.stack.imgur.com/5o4AY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5o4AY.png\" alt=\"Logs\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8YQY9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8YQY9.jpg\" alt=\"Logs\" /></a></p>\n<p>application.properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":["java","intellij-idea","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1666774516,"post_id":74204942,"comment_id":131013553,"body_markdown":"Please remove `runtime` scope as it should require in compile time,","body":"Please remove <code>runtime</code> scope as it should require in compile time,"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666774446,"creation_date":1666774446,"answer_id":74205028,"question_id":74204942,"body_markdown":"This scope:\r\n\r\n```xml\r\n&lt;scope&gt;runtime&lt;/scope&gt;\r\n```\r\n\r\nis [documented](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope) as:\r\n\r\n&gt; This scope indicates that the dependency is not required for compilation, but is for execution. Maven includes a dependency with this scope in the runtime and test classpaths, but not the compile classpath.\r\n\r\nSo it&#39;s not surprising the compiler can&#39;t find it. Remove the scope and that should fix the `FirebaseApp` and `FirebaseOptions` failures. For `GoogleCredential`, you need to import `com.google.api.client.googleapis.auth.oauth2.GoogleCredential`.\r\n","title":"Cannot resolve symbol &#39;FirebaseApp&#39;, &#39;FirebaseOptions&#39;, and &#39;GoogleCredentials&#39;","body":"<p>This scope:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;scope&gt;runtime&lt;/scope&gt;\n</code></pre>\n<p>is <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope\" rel=\"nofollow noreferrer\">documented</a> as:</p>\n<blockquote>\n<p>This scope indicates that the dependency is not required for compilation, but is for execution. Maven includes a dependency with this scope in the runtime and test classpaths, but not the compile classpath.</p>\n</blockquote>\n<p>So it's not surprising the compiler can't find it. Remove the scope and that should fix the <code>FirebaseApp</code> and <code>FirebaseOptions</code> failures. For <code>GoogleCredential</code>, you need to import <code>com.google.api.client.googleapis.auth.oauth2.GoogleCredential</code>.</p>\n"}],"owner":{"account_id":15762051,"reputation":41,"user_id":11373500,"display_name":"Tipe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74205028,"answer_count":1,"score":0,"last_activity_date":1666774446,"creation_date":1666774022,"question_id":74204942,"body_markdown":"I am trying to connect my springboot application to firebase and I have these above errors. I creates  class and pasted code snipped from firebase, added dependency to prom file.\r\n\r\n**here is dependency injection from prom file**\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.2.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**Here is my Service class file**\r\n\r\n        package com.car.spares.personaldetails.services;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    import com.google.firebase.FirebaseApp;\r\n    import com.google.firebase.FirebaseOptions;\r\n    \r\n    public class FirebaseInitialize {\r\n        public void initialize() throws FileNotFoundException {\r\n            FileInputStream serviceAccount = new FileInputStream(&quot;path/to/serviceAccountKey.json&quot;);\r\n    \r\n            try{\r\n               FirebaseOptions options = new FirebaseOptions.Builder()\r\n                       .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                       .build();\r\n    \r\n               FirebaseApp.initializeApp(options);\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"Cannot resolve symbol &#39;FirebaseApp&#39;, &#39;FirebaseOptions&#39;, and &#39;GoogleCredentials&#39;","body":"<p>I am trying to connect my springboot application to firebase and I have these above errors. I creates  class and pasted code snipped from firebase, added dependency to prom file.</p>\n<p><strong>here is dependency injection from prom file</strong></p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;8.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Here is my Service class file</strong></p>\n<pre><code>    package com.car.spares.personaldetails.services;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\n\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.FirebaseOptions;\n\npublic class FirebaseInitialize {\n    public void initialize() throws FileNotFoundException {\n        FileInputStream serviceAccount = new FileInputStream(&quot;path/to/serviceAccountKey.json&quot;);\n\n        try{\n           FirebaseOptions options = new FirebaseOptions.Builder()\n                   .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                   .build();\n\n           FirebaseApp.initializeApp(options);\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","resilience4j"],"comments":[{"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"score":0,"creation_date":1666774881,"post_id":74203878,"comment_id":131013677,"body_markdown":"You might also DM [Robert Winkler](https://stackoverflow.com/users/5077433/robert-winkler)","body":"You might also DM <a href=\"https://stackoverflow.com/users/5077433/robert-winkler\">Robert Winkler</a>"}],"answers":[{"comments":[{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1666780556,"post_id":74204979,"comment_id":131015489,"body_markdown":"Thanks, I didn&#39;t know about `andThen()` - must try it for rate limiting","body":"Thanks, I didn&#39;t know about <code>andThen()</code> - must try it for rate limiting"},{"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"score":0,"creation_date":1666796501,"post_id":74204979,"comment_id":131021524,"body_markdown":"@datz keep us in touch, that might be helpful for others","body":"@datz keep us in touch, that might be helpful for others"},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1666851403,"post_id":74204979,"comment_id":131034102,"body_markdown":"We decided to protect the system by using a Web Application Firewall (WAF).\nNevertheless, I think that limiting the rate by users in this way is not possible.","body":"We decided to protect the system by using a Web Application Firewall (WAF). Nevertheless, I think that limiting the rate by users in this way is not possible."},{"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"score":1,"creation_date":1666944307,"post_id":74204979,"comment_id":131058779,"body_markdown":"I don&#39;t understand why, resilience4j does match your use case.\nHere&#39;s an [answer](https://stackoverflow.com/a/69395768/11825162) limiting per apikey (which is the same as limiting per user considering user is logged in and has a unique id)","body":"I don&#39;t understand why, resilience4j does match your use case. Here&#39;s an <a href=\"https://stackoverflow.com/a/69395768/11825162\">answer</a> limiting per apikey (which is the same as limiting per user considering user is logged in and has a unique id)"},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1666945721,"post_id":74204979,"comment_id":131059229,"body_markdown":"just because I didn&#39;t know about the LimiterManager!","body":"just because I didn&#39;t know about the LimiterManager!"}],"tags":[],"owner":{"account_id":16372083,"reputation":2070,"user_id":11825162,"display_name":"IQbrod"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666774225,"creation_date":1666774225,"answer_id":74204979,"question_id":74203878,"body_markdown":"You might use `.andThen(secondDecorator)` like [a fixed issue][1] does mention\r\n```java\r\nprotected &lt;T&gt; Function&lt;Publisher&lt;T&gt;, Publisher&lt;T&gt;&gt; decorateWithCircuitBreakerForSpecificEndpoint() {\r\n    final CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\r\n        .failureRateThreshold(100)\r\n        .recordFailure(throwable -&gt; throwable instanceof RuntimeException)\r\n        .ringBufferSizeInClosedState(10)\r\n        .ringBufferSizeInHalfOpenState(10)\r\n        .waitDurationInOpenState(Duration.ofSeconds(5_000))\r\n        .build();\r\n    final CircuitBreaker circuitBreaker = this.circuitBreakerRegistry.circuitBreaker(&quot;test1&quot;, circuitBreakerConfig);\r\n    return CircuitBreakerOperator.&lt;T&gt;of(circuitBreaker).andThen(decorateWithCircuitBreakerForSpecificHost());\r\n}\r\n\r\nprotected &lt;T&gt; Function&lt;Publisher&lt;T&gt;, Publisher&lt;T&gt;&gt; decorateWithCircuitBreakerForSpecificHost() {\r\n    final CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\r\n        .failureRateThreshold(10)\r\n        .recordFailure(throwable -&gt; throwable instanceof RuntimeException)\r\n        .ringBufferSizeInClosedState(5)\r\n        .ringBufferSizeInHalfOpenState(5)\r\n        .waitDurationInOpenState(Duration.ofSeconds(5_000))\r\n        .build();\r\n    final CircuitBreaker circuitBreaker = this.circuitBreakerRegistry.circuitBreaker(&quot;test2&quot;, circuitBreakerConfig);\r\n    return CircuitBreakerOperator.&lt;T&gt;of(circuitBreaker);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/resilience4j/resilience4j/issues/357","title":"Can I implement an own decorator for resilience4j to optimize rate limiting?","body":"<p>You might use <code>.andThen(secondDecorator)</code> like <a href=\"https://github.com/resilience4j/resilience4j/issues/357\" rel=\"nofollow noreferrer\">a fixed issue</a> does mention</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected &lt;T&gt; Function&lt;Publisher&lt;T&gt;, Publisher&lt;T&gt;&gt; decorateWithCircuitBreakerForSpecificEndpoint() {\n    final CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\n        .failureRateThreshold(100)\n        .recordFailure(throwable -&gt; throwable instanceof RuntimeException)\n        .ringBufferSizeInClosedState(10)\n        .ringBufferSizeInHalfOpenState(10)\n        .waitDurationInOpenState(Duration.ofSeconds(5_000))\n        .build();\n    final CircuitBreaker circuitBreaker = this.circuitBreakerRegistry.circuitBreaker(&quot;test1&quot;, circuitBreakerConfig);\n    return CircuitBreakerOperator.&lt;T&gt;of(circuitBreaker).andThen(decorateWithCircuitBreakerForSpecificHost());\n}\n\nprotected &lt;T&gt; Function&lt;Publisher&lt;T&gt;, Publisher&lt;T&gt;&gt; decorateWithCircuitBreakerForSpecificHost() {\n    final CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\n        .failureRateThreshold(10)\n        .recordFailure(throwable -&gt; throwable instanceof RuntimeException)\n        .ringBufferSizeInClosedState(5)\n        .ringBufferSizeInHalfOpenState(5)\n        .waitDurationInOpenState(Duration.ofSeconds(5_000))\n        .build();\n    final CircuitBreaker circuitBreaker = this.circuitBreakerRegistry.circuitBreaker(&quot;test2&quot;, circuitBreakerConfig);\n    return CircuitBreakerOperator.&lt;T&gt;of(circuitBreaker);\n}\n</code></pre>\n"}],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666774225,"creation_date":1666768146,"question_id":74203878,"body_markdown":"I want to optimize the *resilience4j* rate limiter to allow\r\n * a rate limiting **per user**\r\n * a **staggered rate limiting** (like 1 call/second but only 30 calls/minute but only 1000 calls/hour).\r\n\r\nThis should protect a resource from DOS attacks but not limit the &quot;normal&quot; user.\r\n\r\nIs it possible to reach this with the default resilience4j decorators or can I write my own decorator?\r\n\r\n(Or is my approach completely wrong to counteract a DOS attack in this way?)","title":"Can I implement an own decorator for resilience4j to optimize rate limiting?","body":"<p>I want to optimize the <em>resilience4j</em> rate limiter to allow</p>\n<ul>\n<li>a rate limiting <strong>per user</strong></li>\n<li>a <strong>staggered rate limiting</strong> (like 1 call/second but only 30 calls/minute but only 1000 calls/hour).</li>\n</ul>\n<p>This should protect a resource from DOS attacks but not limit the &quot;normal&quot; user.</p>\n<p>Is it possible to reach this with the default resilience4j decorators or can I write my own decorator?</p>\n<p>(Or is my approach completely wrong to counteract a DOS attack in this way?)</p>\n"},{"tags":["java","recursion","search","tree","binary"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1666726960,"post_id":74199215,"comment_id":131003798,"body_markdown":"[Guidance on Homework Questions](https://meta.stackoverflow.com/a/334823/238704). Note this guideline: *Make a good faith attempt to solve the problem yourself first.*","body":"<a href=\"https://meta.stackoverflow.com/a/334823/238704\">Guidance on Homework Questions</a>. Note this guideline: <i>Make a good faith attempt to solve the problem yourself first.</i>"}],"answers":[{"tags":[],"owner":{"account_id":6023489,"reputation":103,"user_id":4729925,"display_name":"Syed Ammar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666774133,"creation_date":1666773687,"answer_id":74204883,"question_id":74199215,"body_markdown":"Here is my take on the solution to this problem.\r\n\r\nWe can write a method that will take three parameters as shown below. This method will look up the character passed in the BST in a recursive manner and appends 0 or 1 based on the path it traverses. We cannot use String to pass the path because in Java string is immutable and it will create a new string every time you append a new string. So instead of that you need to use a `StringBuilder` or `StringBuffer` \r\n\r\n```\r\npublic Node&lt;Character&gt; lookUpRecursivelyChar(Node&lt;Character&gt; node, Character key, StringBuilder path){\r\n\r\n        if(node == null || node.value == key){\r\n            return node;\r\n        }\r\n\r\n        if(key &gt; node.value){\r\n            return lookUpRecursivelyChar(node.right, key, path.append(1));\r\n        } else {\r\n            return lookUpRecursivelyChar(node.left, key, path.append(0));\r\n        }\r\n    }\r\n```\r\nData set up and main method.\r\n\r\n```\r\npublic static void main(String[] args){\r\nNode&lt;Character&gt; charRoot = new Node&lt;&gt;(&#39;F&#39;);\r\n        BinarySearchTree bstChar = new BinarySearchTree();\r\n        bst.insertChar(charRoot,&#39;B&#39;);\r\n        bst.insertChar(charRoot,&#39;G&#39;);\r\n        bst.insertChar(charRoot,&#39;A&#39;);\r\n        bst.insertChar(charRoot,&#39;D&#39;);\r\n        bst.insertChar(charRoot,&#39;I&#39;);\r\n        bst.insertChar(charRoot,&#39;C&#39;);\r\n        bst.insertChar(charRoot,&#39;E&#39;);\r\n        bst.insertChar(charRoot,&#39;H&#39;);\r\n\r\n        StringBuilder pathChar = new StringBuilder();\r\n        Node&lt;Character&gt; resultForRecursionChar = bstChar.lookUpRecursivelyChar(charRoot,&#39;C&#39;,pathChar);\r\n        System.out.println(&quot;Found using recursion:&quot; + resultForRecursionChar.value+ &quot; With path &quot;+pathChar.toString());\r\n}\r\n```\r\n\r\nOutput :\r\n\r\n```\r\nFound using recursion: C With path 010\r\n\r\n```\r\nLet me know if this is what you are looking for\r\n\r\nNote: *I have skipped other utility methods that I have written to create BST. To keep the solution concise*.","title":"(JAVA) Recursive String method to Traverse a Binary Tree and add a character for each iteration?","body":"<p>Here is my take on the solution to this problem.</p>\n<p>We can write a method that will take three parameters as shown below. This method will look up the character passed in the BST in a recursive manner and appends 0 or 1 based on the path it traverses. We cannot use String to pass the path because in Java string is immutable and it will create a new string every time you append a new string. So instead of that you need to use a <code>StringBuilder</code> or <code>StringBuffer</code></p>\n<pre><code>public Node&lt;Character&gt; lookUpRecursivelyChar(Node&lt;Character&gt; node, Character key, StringBuilder path){\n\n        if(node == null || node.value == key){\n            return node;\n        }\n\n        if(key &gt; node.value){\n            return lookUpRecursivelyChar(node.right, key, path.append(1));\n        } else {\n            return lookUpRecursivelyChar(node.left, key, path.append(0));\n        }\n    }\n</code></pre>\n<p>Data set up and main method.</p>\n<pre><code>public static void main(String[] args){\nNode&lt;Character&gt; charRoot = new Node&lt;&gt;('F');\n        BinarySearchTree bstChar = new BinarySearchTree();\n        bst.insertChar(charRoot,'B');\n        bst.insertChar(charRoot,'G');\n        bst.insertChar(charRoot,'A');\n        bst.insertChar(charRoot,'D');\n        bst.insertChar(charRoot,'I');\n        bst.insertChar(charRoot,'C');\n        bst.insertChar(charRoot,'E');\n        bst.insertChar(charRoot,'H');\n\n        StringBuilder pathChar = new StringBuilder();\n        Node&lt;Character&gt; resultForRecursionChar = bstChar.lookUpRecursivelyChar(charRoot,'C',pathChar);\n        System.out.println(&quot;Found using recursion:&quot; + resultForRecursionChar.value+ &quot; With path &quot;+pathChar.toString());\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>Found using recursion: C With path 010\n\n</code></pre>\n<p>Let me know if this is what you are looking for</p>\n<p>Note: <em>I have skipped other utility methods that I have written to create BST. To keep the solution concise</em>.</p>\n"}],"owner":{"account_id":26731109,"reputation":1,"user_id":20333426,"display_name":"thedudebro2001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666774133,"creation_date":1666725989,"question_id":74199215,"body_markdown":"I&#39;m trying to design a method that searches for a character Node and returns its &quot;address&quot; when it is found. If the Node has to go to its left pointer on its way, I add a &quot;0&quot; to the string; If the Node has to turn to its right pointer, I add a &quot;1&quot; to the String. Take the following Tree for example for a visual representation:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Baht3.png)](https://i.stack.imgur.com/Baht3.png)\r\n\r\nIf I want to use the method to search for Node B, for example, the String returned would be &quot;0&quot; because it required just 1 left iteration to get B. If I wanted to use the method to search for Node H, the String returned would be &quot;110&quot;, because I had to first go through 2 right pointers (the two 1&#39;s), and then one left pointer (the final 0) to arrive at that Node.\r\n\r\nThe edge case String result of me searching for a Node doesn&#39;t exist isn&#39;t important, since I do not ever plan to use the method to search for the Nodes&#39; characters not present. The edge case of me searching for the root Node isn&#39;t important because I will never implement this method to do that either. How can I recursively traverse the Binary Tree and build a String that eventually represents the path it took?\r\n```java\r\nprivate String address(Node root, String building, char target){\r\n \r\n   //building represents the String in progress that will eventually be returned when the correct Node is found.\r\n\r\n   //target represents the target Node&#39;s character that we would look for in the Tree\r\n\r\n   //root has left and right pointers to access children.\r\n\r\n   //Node.getChar() can be used to access the Node&#39;s char and compare it to see if it matches target\r\n \r\n}\r\n```\r\n","title":"(JAVA) Recursive String method to Traverse a Binary Tree and add a character for each iteration?","body":"<p>I'm trying to design a method that searches for a character Node and returns its &quot;address&quot; when it is found. If the Node has to go to its left pointer on its way, I add a &quot;0&quot; to the string; If the Node has to turn to its right pointer, I add a &quot;1&quot; to the String. Take the following Tree for example for a visual representation:</p>\n<p><a href=\"https://i.stack.imgur.com/Baht3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Baht3.png\" alt=\"enter image description here\" /></a></p>\n<p>If I want to use the method to search for Node B, for example, the String returned would be &quot;0&quot; because it required just 1 left iteration to get B. If I wanted to use the method to search for Node H, the String returned would be &quot;110&quot;, because I had to first go through 2 right pointers (the two 1's), and then one left pointer (the final 0) to arrive at that Node.</p>\n<p>The edge case String result of me searching for a Node doesn't exist isn't important, since I do not ever plan to use the method to search for the Nodes' characters not present. The edge case of me searching for the root Node isn't important because I will never implement this method to do that either. How can I recursively traverse the Binary Tree and build a String that eventually represents the path it took?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String address(Node root, String building, char target){\n \n   //building represents the String in progress that will eventually be returned when the correct Node is found.\n\n   //target represents the target Node's character that we would look for in the Tree\n\n   //root has left and right pointers to access children.\n\n   //Node.getChar() can be used to access the Node's char and compare it to see if it matches target\n \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":3782951,"reputation":3308,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"score":0,"creation_date":1476682347,"post_id":40079053,"comment_id":67430922,"body_markdown":"correct way is , `@Autowired` RestTemplate class and use that Instead of create new object every time..","body":"correct way is , <code>@Autowired</code> RestTemplate class and use that Instead of create new object every time.."},{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":0,"creation_date":1476682673,"post_id":40079053,"comment_id":67431058,"body_markdown":"i thinks you don&#39;t understand my problem","body":"i thinks you don&#39;t understand my problem"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1476683707,"post_id":40079053,"comment_id":67431452,"body_markdown":"Then post the stacktrace...","body":"Then post the stacktrace..."},{"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"score":0,"creation_date":1476692070,"post_id":40079053,"comment_id":67435602,"body_markdown":"Pls show the exception and complete stack trace","body":"Pls show the exception and complete stack trace"},{"owner":{"account_id":1617353,"reputation":534,"user_id":1494680,"accept_rate":100,"display_name":"Omer"},"score":0,"creation_date":1605589033,"post_id":40079053,"comment_id":114689638,"body_markdown":"I ran into the same problem, I used objectMapper to convert from model to string","body":"I ran into the same problem, I used objectMapper to convert from model to string"}],"answers":[{"comments":[{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":0,"creation_date":1476694400,"post_id":40079639,"comment_id":67436919,"body_markdown":"this worked , but what&#39;s the difference between PostForObject and exchange that in PostForObject we don&#39;t need to cast requestEntity into HttpEntity but in exchange we have to do it .","body":"this worked , but what&#39;s the difference between PostForObject and exchange that in PostForObject we don&#39;t need to cast requestEntity into HttpEntity but in exchange we have to do it ."},{"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"score":0,"creation_date":1476711171,"post_id":40079639,"comment_id":67447984,"body_markdown":"What exact error you get for postForObject method call? If you pass ArrayList &quot;personList&quot; as I posted in my answer above this should work. List&lt;Person&gt; rateResponse = restTemplate.postForObject(url, personList, List.class);","body":"What exact error you get for postForObject method call? If you pass ArrayList &quot;personList&quot; as I posted in my answer above this should work. List&lt;Person&gt; rateResponse = restTemplate.postForObject(url, personList, List.class);"},{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":1,"creation_date":1476717108,"post_id":40079639,"comment_id":67452442,"body_markdown":"there is not an error but when i user postForObject the rateResponse will not a List&lt;Person&gt; and it will be a LinkedHashMap.","body":"there is not an error but when i user postForObject the rateResponse will not a List&lt;Person&gt; and it will be a LinkedHashMap."},{"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"score":0,"creation_date":1476718017,"post_id":40079639,"comment_id":67453041,"body_markdown":"Your service is returning List&lt;Person&gt; then how response will be LinkedHashMap. I didn&#39;t understand it. Could you please elaborate.","body":"Your service is returning List&lt;Person&gt; then how response will be LinkedHashMap. I didn&#39;t understand it. Could you please elaborate."},{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":0,"creation_date":1476718260,"post_id":40079639,"comment_id":67453228,"body_markdown":"when i inspect the response of service understand this and it&#39;s not be List&lt;Person&gt; without casting .","body":"when i inspect the response of service understand this and it&#39;s not be List&lt;Person&gt; without casting ."}],"tags":[],"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"comment_count":5,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1476685131,"creation_date":1476685131,"answer_id":40079639,"question_id":40079053,"body_markdown":"Check if your code is like below. This should work.\r\n\r\n    //header\r\n\tHttpHeaders headers = new HttpHeaders();\r\n\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n    //person list\r\n\tList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\r\n\tPerson person = new Person();\r\n\tperson.setName(&quot;UserOne&quot;);\t\r\n    personList.add(person);\r\n    //httpEnitity\t\t\r\n\tHttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;Object&gt;(personList,headers);\r\n\tResponseEntity&lt;List&lt;Person&gt;&gt; rateResponse = restTemplate.exchange(url, HttpMethod.POST, requestEntity,new ParameterizedTypeReference&lt;List&lt;Person&gt;&gt;() {});\r\n","title":"Spring RestTemplate Send List an get List","body":"<p>Check if your code is like below. This should work.</p>\n\n<pre><code>//header\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\n//person list\nList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\nPerson person = new Person();\nperson.setName(\"UserOne\");  \npersonList.add(person);\n//httpEnitity       \nHttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;Object&gt;(personList,headers);\nResponseEntity&lt;List&lt;Person&gt;&gt; rateResponse = restTemplate.exchange(url, HttpMethod.POST, requestEntity,new ParameterizedTypeReference&lt;List&lt;Person&gt;&gt;() {});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1703540,"reputation":84,"user_id":1563083,"display_name":"Yensee"},"score":0,"creation_date":1618325898,"post_id":53826878,"comment_id":118564866,"body_markdown":"Id you are returing list of objects (List&lt;object&gt;) then you can just return response.getBody(); without having to cast with Arrays.asList","body":"Id you are returing list of objects (List&lt;object&gt;) then you can just return response.getBody(); without having to cast with Arrays.asList"}],"tags":[],"owner":{"account_id":11098003,"reputation":73,"user_id":8147477,"accept_rate":33,"display_name":"Sourav Ghadai"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545110914,"creation_date":1545110914,"answer_id":53826878,"question_id":40079053,"body_markdown":"It may be helpful for you.\r\n\r\n      List&lt;Integer&gt; officialIds = null;\r\n\t  //add values to officialIds \r\n      RestTemplate restTemplate = new RestTemplate();\r\n\t\t\r\n\t  HttpHeaders headers = new HttpHeaders();\r\n\r\n\t  HttpEntity&lt;List&lt;Integer&gt;&gt; request = new HttpEntity&lt;List&lt;Integer&gt;&gt;(officialIds, \r\n        headers);\r\n\r\n\t  ResponseEntity&lt;YourResponseClass[]&gt; responses = \r\n      restTemplate.postForEntity(&quot;your URL&quot;, request , YourResponseClass[].class );\r\n\t\t\r\n      List&lt;YourResponseClass&gt; list = Arrays.asList(responses.getBody());","title":"Spring RestTemplate Send List an get List","body":"<p>It may be helpful for you.</p>\n\n<pre><code>  List&lt;Integer&gt; officialIds = null;\n  //add values to officialIds \n  RestTemplate restTemplate = new RestTemplate();\n\n  HttpHeaders headers = new HttpHeaders();\n\n  HttpEntity&lt;List&lt;Integer&gt;&gt; request = new HttpEntity&lt;List&lt;Integer&gt;&gt;(officialIds, \n    headers);\n\n  ResponseEntity&lt;YourResponseClass[]&gt; responses = \n  restTemplate.postForEntity(\"your URL\", request , YourResponseClass[].class );\n\n  List&lt;YourResponseClass&gt; list = Arrays.asList(responses.getBody());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1703540,"reputation":84,"user_id":1563083,"display_name":"Yensee"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618400493,"creation_date":1618371637,"answer_id":67085217,"question_id":40079053,"body_markdown":"I had similar challenge, and here are my 2 cents.\r\n\r\nMy Controller Class with POST Mapping\r\n\r\n    @PostMapping(&quot;/fetch/projects&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;Project&gt;&gt; getAllProjects(@RequestBody List&lt;UserProject&gt; userProject) {\r\n\t\t\r\n\t\t// Convert List of projectIds to List of Long using Lambda Functions\r\n\t\tList&lt;Long&gt; projectIds = userProject.stream().map(UserProject::getProjectId).collect(Collectors.toList());\r\n\t\t\r\n\t\tList&lt;Project&gt; projectList = projectService.getAllProjectsByProjectIds(projectIds);\r\n\t\t\r\n\t\tlog.info(&quot;&lt;&lt; Fetching Projects based on Project Ids !&quot;);\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;List&lt;Project&gt;&gt;(projectList, HttpStatus.OK);\r\n\t}\r\n\r\nMy Static URL for the above controller\r\n\r\n\r\n    final String projectBaseUri = &quot;http://localhost:6013/api/v1/project/fetch/projects&quot;;\r\n\r\n\r\nMy Caller Service \r\n\r\n\tprotected List&lt;Project&gt; getProjectsByIds(List&lt;UserProject&gt; userProject) {\r\n\r\n\t\tString url = projectBaseUri;\r\n\t\tlog.info(&quot;Project URL : &quot; + url);\r\n\t\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\r\n\t\tHttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;Object&gt;(userProject,headers);\r\n\r\n\t\tResponseEntity&lt;List&lt;Project&gt;&gt; response = restTemplate.exchange(url, HttpMethod.POST, requestEntity,new ParameterizedTypeReference&lt;List&lt;Project&gt;&gt;() {});\r\n\r\n\t\treturn response.getBody();\r\n\t}\r\n","title":"Spring RestTemplate Send List an get List","body":"<p>I had similar challenge, and here are my 2 cents.</p>\n<p>My Controller Class with POST Mapping</p>\n<pre><code>@PostMapping(&quot;/fetch/projects&quot;)\npublic ResponseEntity&lt;List&lt;Project&gt;&gt; getAllProjects(@RequestBody List&lt;UserProject&gt; userProject) {\n    \n    // Convert List of projectIds to List of Long using Lambda Functions\n    List&lt;Long&gt; projectIds = userProject.stream().map(UserProject::getProjectId).collect(Collectors.toList());\n    \n    List&lt;Project&gt; projectList = projectService.getAllProjectsByProjectIds(projectIds);\n    \n    log.info(&quot;&lt;&lt; Fetching Projects based on Project Ids !&quot;);\n    \n    return new ResponseEntity&lt;List&lt;Project&gt;&gt;(projectList, HttpStatus.OK);\n}\n</code></pre>\n<p>My Static URL for the above controller</p>\n<pre><code>final String projectBaseUri = &quot;http://localhost:6013/api/v1/project/fetch/projects&quot;;\n</code></pre>\n<p>My Caller Service</p>\n<pre><code>protected List&lt;Project&gt; getProjectsByIds(List&lt;UserProject&gt; userProject) {\n\n    String url = projectBaseUri;\n    log.info(&quot;Project URL : &quot; + url);\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    \n    HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;Object&gt;(userProject,headers);\n\n    ResponseEntity&lt;List&lt;Project&gt;&gt; response = restTemplate.exchange(url, HttpMethod.POST, requestEntity,new ParameterizedTypeReference&lt;List&lt;Project&gt;&gt;() {});\n\n    return response.getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39863,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1666774052,"creation_date":1476682123,"question_id":40079053,"body_markdown":"I want to make a service with Spring&#39;s `RestTemplate`, in my service side the code is like this : \r\n\r\n    @PostMapping(path=&quot;/savePersonList&quot;)\r\n    @ResponseBody\r\n    public List&lt;Person&gt; generatePersonList(@RequestBody List&lt;Person&gt; person){\r\n    \treturn iPersonRestService.generatePersonList(person);\r\n    }\r\n\r\nIn client side if I call the  service with this code: \r\n\r\n    List&lt;Person&gt; p = (List&lt;Person&gt;) restTemplate.postForObject(url, PersonList, List.class);\r\n\r\nI can&#39;t use the `p` object as `List&lt;Person&gt;`, it will become a `LinkedHashList`. \r\nAfter some research I find a solution that said I have to call the service with exchange method: \r\n\t\t\r\n\r\n    ResponseEntity&lt;List&lt;Person&gt;&gt; rateResponse = restTemplate.exchange(url, HttpMethod.POST, personListResult, new ParameterizedTypeReference&lt;List&lt;Person&gt;&gt;() {});\r\n\r\nand with this solution the server can&#39;t take the object and raise an exception , what&#39;s the correct way?\r\n\r\n","title":"Spring RestTemplate Send List an get List","body":"<p>I want to make a service with Spring's <code>RestTemplate</code>, in my service side the code is like this : </p>\n\n<pre><code>@PostMapping(path=\"/savePersonList\")\n@ResponseBody\npublic List&lt;Person&gt; generatePersonList(@RequestBody List&lt;Person&gt; person){\n    return iPersonRestService.generatePersonList(person);\n}\n</code></pre>\n\n<p>In client side if I call the  service with this code: </p>\n\n<pre><code>List&lt;Person&gt; p = (List&lt;Person&gt;) restTemplate.postForObject(url, PersonList, List.class);\n</code></pre>\n\n<p>I can't use the <code>p</code> object as <code>List&lt;Person&gt;</code>, it will become a <code>LinkedHashList</code>. \nAfter some research I find a solution that said I have to call the service with exchange method: </p>\n\n<pre><code>ResponseEntity&lt;List&lt;Person&gt;&gt; rateResponse = restTemplate.exchange(url, HttpMethod.POST, personListResult, new ParameterizedTypeReference&lt;List&lt;Person&gt;&gt;() {});\n</code></pre>\n\n<p>and with this solution the server can't take the object and raise an exception , what's the correct way?</p>\n"},{"tags":["java","mysql","jsp"],"answers":[{"comments":[{"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"score":0,"creation_date":1666775019,"post_id":74204941,"comment_id":131013720,"body_markdown":"Amazing it worked!!!! Thank you soo much for your feedback. I am new in web development so this is my thought process for now. I will note down to use servlet/preparedStatement.","body":"Amazing it worked!!!! Thank you soo much for your feedback. I am new in web development so this is my thought process for now. I will note down to use servlet/preparedStatement."}],"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666774021,"creation_date":1666774021,"answer_id":74204941,"question_id":74204697,"body_markdown":"You need to wrap the value in single quotes\r\n\r\n    WHERE SOURCE= &#39;&lt;%=source%&gt;&#39;;\r\n\r\nbut having sql in a jsp is ugly.  Better to have a proper servlet/preparedStatement etc.","title":"How to use form values from a JSP file into &lt;sql:query&gt; tag in another JSP file?","body":"<p>You need to wrap the value in single quotes</p>\n<pre><code>WHERE SOURCE= '&lt;%=source%&gt;';\n</code></pre>\n<p>but having sql in a jsp is ugly.  Better to have a proper servlet/preparedStatement etc.</p>\n"}],"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74204941,"answer_count":1,"score":0,"last_activity_date":1666774021,"creation_date":1666772747,"question_id":74204697,"body_markdown":"I get the below error:\r\nI am able to see the user input but the sql is not taking in the value?\r\n\r\n**The error is as below:**\r\n\r\n\r\norg.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: \r\n\t\tSELECT SOURCE AS source FROM flyaway.flightdetails\r\n\t\tWHERE source= Delhi;\r\n: Unknown column &#39;Delhi&#39; in &#39;where clause&#39;\r\n\r\n\r\n**my index.jsp code are as below:**\r\n\r\n```\r\n\r\n&lt;form action=&quot;ValidationFilter&quot; method=&quot;get&quot;&gt;\r\n\tEnter the source: &lt;input type=&quot;text&quot; name=&quot;source&quot;&gt;&lt;br&gt;\r\n\tEnter the destination: &lt;input type=&quot;text&quot; name=&quot;destination&quot;&gt;&lt;br&gt;\r\n\tEnter departure date: &lt;input type=&quot;date&quot; name=&quot;departure&quot;&gt;&lt;br&gt;\r\n\t&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n&lt;/form&gt;\r\n\r\n```\r\n\r\n\r\n**my flightList.jsp are as follows:**\r\n\r\n\r\n```\r\n&lt;sql:setDataSource\r\n        var=&quot;myDB&quot;\r\n        driver=&quot;com.mysql.cj.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://localhost:3306/flyaway?useSSL=false&quot;\r\n        user=&quot;root&quot; password=&quot;1Leanest!&quot;\r\n/&gt;\r\n\r\n&lt;%\r\n\t String source = request.getParameter(&quot;source&quot;);\r\n\t String destination = request.getParameter(&quot;destination&quot;);\r\n%&gt;\r\n\r\n\r\n&lt;sql:query var=&quot;listItems&quot; dataSource=&quot;${myDB}&quot;&gt;\r\n\t\tSELECT * FROM flyaway.flightdetails\r\n\t\tWHERE SOURCE= &lt;%=source %&gt;;\r\n&lt;/sql:query&gt;\r\n```\r\n\r\nI wanted to filter from the database in SOURCE column based on the user input from the form, but i get error.","title":"How to use form values from a JSP file into &lt;sql:query&gt; tag in another JSP file?","body":"<p>I get the below error:\nI am able to see the user input but the sql is not taking in the value?</p>\n<p><strong>The error is as below:</strong></p>\n<p>org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException:\nSELECT SOURCE AS source FROM flyaway.flightdetails\nWHERE source= Delhi;\n: Unknown column 'Delhi' in 'where clause'</p>\n<p><strong>my index.jsp code are as below:</strong></p>\n<pre><code>\n&lt;form action=&quot;ValidationFilter&quot; method=&quot;get&quot;&gt;\n    Enter the source: &lt;input type=&quot;text&quot; name=&quot;source&quot;&gt;&lt;br&gt;\n    Enter the destination: &lt;input type=&quot;text&quot; name=&quot;destination&quot;&gt;&lt;br&gt;\n    Enter departure date: &lt;input type=&quot;date&quot; name=&quot;departure&quot;&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n&lt;/form&gt;\n\n</code></pre>\n<p><strong>my flightList.jsp are as follows:</strong></p>\n<pre><code>&lt;sql:setDataSource\n        var=&quot;myDB&quot;\n        driver=&quot;com.mysql.cj.jdbc.Driver&quot;\n        url=&quot;jdbc:mysql://localhost:3306/flyaway?useSSL=false&quot;\n        user=&quot;root&quot; password=&quot;1Leanest!&quot;\n/&gt;\n\n&lt;%\n     String source = request.getParameter(&quot;source&quot;);\n     String destination = request.getParameter(&quot;destination&quot;);\n%&gt;\n\n\n&lt;sql:query var=&quot;listItems&quot; dataSource=&quot;${myDB}&quot;&gt;\n        SELECT * FROM flyaway.flightdetails\n        WHERE SOURCE= &lt;%=source %&gt;;\n&lt;/sql:query&gt;\n</code></pre>\n<p>I wanted to filter from the database in SOURCE column based on the user input from the form, but i get error.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":99384,"reputation":3126,"user_id":268483,"accept_rate":44,"display_name":"Arek"},"score":2,"creation_date":1506507965,"post_id":46445468,"comment_id":79846591,"body_markdown":"Take a look at Flyway or Liquibase.","body":"Take a look at Flyway or Liquibase."},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1506508157,"post_id":46445468,"comment_id":79846715,"body_markdown":"&quot;but only if i manually create Schema/database&quot;. That&#39;s how I like to do it.","body":"&quot;but only if i manually create Schema/database&quot;. That&#39;s how I like to do it."},{"owner":{"account_id":11622372,"reputation":113,"user_id":8513278,"display_name":"Rosso"},"score":0,"creation_date":1506893063,"post_id":46445468,"comment_id":79988215,"body_markdown":"thanks,, but i solved it ;)  I had to run a query: &quot;set &lt;database_name&gt;&quot; statement.executeupdate(query) in each method i was running after i created the schema.","body":"thanks,, but i solved it ;)  I had to run a query: &quot;set &lt;database_name&gt;&quot; statement.executeupdate(query) in each method i was running after i created the schema."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1666773879,"post_id":74204779,"comment_id":131013354,"body_markdown":"You should not execute `set &lt;database_name&gt;` on a MySQL connection, but instead use `setCatalog(..)`. Using `set &lt;database_name&gt;` can bring the JDBC connection in an inconsistent state. See also the MySQL Connector/J documentation, specifically the [Connection URL syntax - `database`](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html#idm45129599265488)","body":"You should not execute <code>set &lt;database_name&gt;</code> on a MySQL connection, but instead use <code>setCatalog(..)</code>. Using <code>set &lt;database_name&gt;</code> can bring the JDBC connection in an inconsistent state. See also the MySQL Connector/J documentation, specifically the <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html#idm45129599265488\" rel=\"nofollow noreferrer\">Connection URL syntax - <code>database</code></a>"}],"tags":[],"owner":{"account_id":11622372,"reputation":113,"user_id":8513278,"display_name":"Rosso"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666773200,"creation_date":1666773200,"answer_id":74204779,"question_id":46445468,"body_markdown":"Solved by executing a query: &quot;set &lt;database_name&gt;&quot; statement.executeupdate(query) in each method i was running after i created the schema.","title":"JDBC in Java MysqlDataSource","body":"<p>Solved by executing a query: &quot;set &lt;database_name&gt;&quot; statement.executeupdate(query) in each method i was running after i created the schema.</p>\n"}],"owner":{"account_id":11622372,"reputation":113,"user_id":8513278,"display_name":"Rosso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74204779,"answer_count":1,"score":1,"last_activity_date":1666773578,"creation_date":1506507862,"question_id":46445468,"body_markdown":"I&#39;m working on JDBC and using MySqlDataSource to connect. How do I create a schema before adding the schema name in DataSource.setDataBaseName()? Connection is OK and I can execute updates and so on, but only if I manually create schema/database in MysqlWorkbench\r\n\r\n    import com.mysql.jdbc.jdbc2.optional.MysqlDataSource;\r\n\r\n    import javax.sql.DataSource;\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n\r\n    public class DBHandler {\r\n\r\n    private String user = &quot;root&quot;;\r\n    private String serverName = &quot;localhost&quot;;\r\n    private String dbName = &quot;TimeEdit&quot;;\r\n    private Connection connection;\r\n    private MysqlDataSource datasource = new MysqlDataSource();\r\n\r\n    public DBHandler(String passw) throws SQLException {\r\n        datasource.setPassword(passw);\r\n        datasource.setUser(user);\r\n        datasource.setServerName(serverName);\r\n        datasource.setDatabaseName(dbName);\r\n        //datasource.setURL(&quot;jdbc:mysql://&lt;localhost&gt;:&lt;3306&gt;/&quot;);\r\n        \r\n    }\r\n    \r\n    public Connection getConnection() throws SQLException {\r\n        return datasource.getConnection();\r\n    }","title":"JDBC in Java MysqlDataSource","body":"<p>I'm working on JDBC and using MySqlDataSource to connect. How do I create a schema before adding the schema name in DataSource.setDataBaseName()? Connection is OK and I can execute updates and so on, but only if I manually create schema/database in MysqlWorkbench</p>\n<pre><code>import com.mysql.jdbc.jdbc2.optional.MysqlDataSource;\n\nimport javax.sql.DataSource;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\npublic class DBHandler {\n\nprivate String user = &quot;root&quot;;\nprivate String serverName = &quot;localhost&quot;;\nprivate String dbName = &quot;TimeEdit&quot;;\nprivate Connection connection;\nprivate MysqlDataSource datasource = new MysqlDataSource();\n\npublic DBHandler(String passw) throws SQLException {\n    datasource.setPassword(passw);\n    datasource.setUser(user);\n    datasource.setServerName(serverName);\n    datasource.setDatabaseName(dbName);\n    //datasource.setURL(&quot;jdbc:mysql://&lt;localhost&gt;:&lt;3306&gt;/&quot;);\n    \n}\n\npublic Connection getConnection() throws SQLException {\n    return datasource.getConnection();\n}\n</code></pre>\n"},{"tags":["java","cassandra","spring-data-cassandra"],"answers":[{"comments":[{"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"score":0,"creation_date":1666728849,"post_id":74198813,"comment_id":131004359,"body_markdown":"it does sound similar but I can&#39;t promise it&#39;s the same cause internally. I&#39;m on cassandra 3.7.x so this wouldn&#39;t be fixed","body":"it does sound similar but I can&#39;t promise it&#39;s the same cause internally. I&#39;m on cassandra 3.7.x so this wouldn&#39;t be fixed"},{"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"score":0,"creation_date":1666767537,"post_id":74198813,"comment_id":131011356,"body_markdown":"I was wrong, it&#39;s 3.11.10","body":"I was wrong, it&#39;s 3.11.10"}],"tags":[],"owner":{"account_id":6928051,"reputation":201,"user_id":5318486,"display_name":"absurdfarce"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666723587,"creation_date":1666723587,"answer_id":74198813,"question_id":74196340,"body_markdown":"thanks for the question!\r\n\r\nYour symptoms sound similar to the behaviours described in [CASSANDRA-10786][1].  If you&#39;re dealing with a version before Cassandra 4.0 this could very well be what&#39;s going on.\r\n\r\nDoes the description in that issue match up with what you&#39;re seeing?\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/CASSANDRA-10786","title":"Cassandra Prepared Statements broken after schema migration","body":"<p>thanks for the question!</p>\n<p>Your symptoms sound similar to the behaviours described in <a href=\"https://issues.apache.org/jira/browse/CASSANDRA-10786\" rel=\"nofollow noreferrer\">CASSANDRA-10786</a>.  If you're dealing with a version before Cassandra 4.0 this could very well be what's going on.</p>\n<p>Does the description in that issue match up with what you're seeing?</p>\n"},{"comments":[{"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"score":0,"creation_date":1666767562,"post_id":74203236,"comment_id":131011366,"body_markdown":"Thank you. I was wrong on the version of cassandra, it&#39;s version 3.11.10","body":"Thank you. I was wrong on the version of cassandra, it&#39;s version 3.11.10"}],"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666763647,"creation_date":1666763647,"answer_id":74203236,"question_id":74196340,"body_markdown":"To add to @absurdfarce&#39;s answer, Cassandra 3.7 is a very old release. In fact, it was released all the way back to early 2016.\r\n\r\nThere were several important fixes to prepared statements since then. Although  a quick browse of those fixes don&#39;t seem to be directly related to the issue you reported, they are significant nonetheless.\r\n\r\nAdditionally there were several fixes to schema migration/propagation in the last 6 years. Again, they don&#39;t directly relate to your problem and I&#39;m ordinarily loathe to push for an upgrade but I think 6 years&#39; worth of fixes between C* 3.7 to 3.11.latest merits it. Cheers!","title":"Cassandra Prepared Statements broken after schema migration","body":"<p>To add to @absurdfarce's answer, Cassandra 3.7 is a very old release. In fact, it was released all the way back to early 2016.</p>\n<p>There were several important fixes to prepared statements since then. Although  a quick browse of those fixes don't seem to be directly related to the issue you reported, they are significant nonetheless.</p>\n<p>Additionally there were several fixes to schema migration/propagation in the last 6 years. Again, they don't directly relate to your problem and I'm ordinarily loathe to push for an upgrade but I think 6 years' worth of fixes between C* 3.7 to 3.11.latest merits it. Cheers!</p>\n"}],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666773523,"creation_date":1666710830,"question_id":74196340,"body_markdown":"I&#39;m preparing statements in the constructor of my repository class, like this\r\n\r\n```java\r\nPreparedStatement getStatement = cqlSession.prepare(selectFrom(&quot;the_table&quot;)\r\n.all()\r\n.whereColumn(&quot;the_key&quot;).isEqualTo(bindMarker())\r\n.build());\r\n```\r\n\r\nI later bind it to a BoundStatement and read the results like this\r\n```java\r\nString someColumn = row.isNull(&quot;some_column&quot;) ? null : row.getString(&quot;some_column&quot;)\r\n```\r\n\r\nDuring runtime I run an alter on the table, adding a column. Something I expected would work since I query for columns only by name. However, it seems that the driver internally has mapped the column names to column indexes which are now all broken.\r\n\r\nIs this expected? It severely limits what can be done in run time.\r\n\r\nAm I missing something that would have forced a re-prepare of a statement on schema change?\r\n\r\nCan I intercept it and re-prepare manually?\r\n\r\n\r\n\r\nI&#39;m running spring boot 2.5.9 and the driver version 4.11.3\r\nThe cassandra cluster runs version 3.11.10\r\n","title":"Cassandra Prepared Statements broken after schema migration","body":"<p>I'm preparing statements in the constructor of my repository class, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement getStatement = cqlSession.prepare(selectFrom(&quot;the_table&quot;)\n.all()\n.whereColumn(&quot;the_key&quot;).isEqualTo(bindMarker())\n.build());\n</code></pre>\n<p>I later bind it to a BoundStatement and read the results like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String someColumn = row.isNull(&quot;some_column&quot;) ? null : row.getString(&quot;some_column&quot;)\n</code></pre>\n<p>During runtime I run an alter on the table, adding a column. Something I expected would work since I query for columns only by name. However, it seems that the driver internally has mapped the column names to column indexes which are now all broken.</p>\n<p>Is this expected? It severely limits what can be done in run time.</p>\n<p>Am I missing something that would have forced a re-prepare of a statement on schema change?</p>\n<p>Can I intercept it and re-prepare manually?</p>\n<p>I'm running spring boot 2.5.9 and the driver version 4.11.3\nThe cassandra cluster runs version 3.11.10</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9649253,"reputation":2644,"user_id":7160898,"display_name":"Jimale Abdi"},"score":0,"creation_date":1594193536,"post_id":62789561,"comment_id":111036968,"body_markdown":"Check [this](https://stackoverflow.com/questions/40176244/how-to-disable-bottomnavigationview-shift-mode)","body":"Check <a href=\"https://stackoverflow.com/questions/40176244/how-to-disable-bottomnavigationview-shift-mode\">this</a>"},{"owner":{"account_id":7226792,"reputation":318,"user_id":5515075,"display_name":"Mohammad Hossein Kalantarian"},"score":0,"creation_date":1594193728,"post_id":62789561,"comment_id":111037052,"body_markdown":"@JimaleAbdi This disables shifting mode not reclicking, I want to disable reclick so if I&#39;m in the home fragment and click on home tab nothing happens","body":"@JimaleAbdi This disables shifting mode not reclicking, I want to disable reclick so if I&#39;m in the home fragment and click on home tab nothing happens"},{"owner":{"account_id":9933905,"reputation":1102,"user_id":7352857,"display_name":"Brahma Datta"},"score":0,"creation_date":1594196886,"post_id":62789561,"comment_id":111038635,"body_markdown":"I have disabled the reloading BottomNavigationView on clicking it again but not with Navigation UI. we have to load the fragments in the start and we need to hide other fragments on click of a particular tab. It&#39;s working fine for me.","body":"I have disabled the reloading BottomNavigationView on clicking it again but not with Navigation UI. we have to load the fragments in the start and we need to hide other fragments on click of a particular tab. It&#39;s working fine for me."},{"owner":{"account_id":7226792,"reputation":318,"user_id":5515075,"display_name":"Mohammad Hossein Kalantarian"},"score":0,"creation_date":1594202280,"post_id":62789561,"comment_id":111041398,"body_markdown":"@BrahmaDatta Can you please provide an example?","body":"@BrahmaDatta Can you please provide an example?"},{"owner":{"account_id":9933905,"reputation":1102,"user_id":7352857,"display_name":"Brahma Datta"},"score":0,"creation_date":1594203132,"post_id":62789561,"comment_id":111041817,"body_markdown":"sure @MohammadHoseinKalantarian.","body":"sure @MohammadHoseinKalantarian."}],"answers":[{"comments":[{"owner":{"account_id":20181954,"reputation":362,"user_id":14802275,"display_name":"Sainita"},"score":1,"creation_date":1637668041,"post_id":62792801,"comment_id":123882596,"body_markdown":"awesome answer, tnx ...","body":"awesome answer, tnx ..."}],"tags":[],"owner":{"account_id":9933905,"reputation":1102,"user_id":7352857,"display_name":"Brahma Datta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594204352,"creation_date":1594204352,"answer_id":62792801,"question_id":62789561,"body_markdown":"Try this and let me know Mohammad Hosein,\r\n\r\n    final Fragment fragment1 = new Fragment1();\r\n    final Fragment fragment2 = new Fragment2();\r\n    final Fragment fragment3 = new Fragment3();\r\n    final FragmentManager fm = getSupportFragmentManager();\r\n    Fragment active = fragment1; //make the first screen as your active fragment.\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    fm.beginTransaction().add(R.id.main_container, fragment3, &quot;3&quot;).hide(fragment3).commit();\r\n            fm.beginTransaction().add(R.id.main_container, fragment2, &quot;2&quot;).hide(fragment2).commit();\r\n            fm.beginTransaction().add(R.id.main_container, fragment1, &quot;1&quot;).commit();\r\n\r\n    }\r\n\r\n    private BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\r\n            = new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.f1_menu_item:\r\n                    fm.beginTransaction().hide(active).show(fragment1).commit();\r\n                    active = fragment1;\r\n                    return true;\r\n\r\n                case R.id.f2_menu_item:\r\n                    fm.beginTransaction().hide(active).show(fragment2).commit();\r\n                    active = fragment2;\r\n                    return true;\r\n\r\n                case R.id.f3_menu_item:\r\n                   fm.beginTransaction().hide(active).show(fragment3).commit();\r\n                  active = fragment3;\r\n\r\n                    return true;\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n\r\nAnd in activity_main.xml,\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/coordinatorlayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#FBF9F9&quot;\r\n    tools:context=&quot;.view.HomeScreenActivity&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        android:padding=&quot;1dp&quot;\r\n        android:id=&quot;@+id/main_container&quot;&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nlet me know if you stuck anywhere Hosein. And accept the answer if this works.\r\n","title":"Disable reselecting in BottomNavigationView","body":"<p>Try this and let me know Mohammad Hosein,</p>\n<pre><code>final Fragment fragment1 = new Fragment1();\nfinal Fragment fragment2 = new Fragment2();\nfinal Fragment fragment3 = new Fragment3();\nfinal FragmentManager fm = getSupportFragmentManager();\nFragment active = fragment1; //make the first screen as your active fragment.\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\nfm.beginTransaction().add(R.id.main_container, fragment3, &quot;3&quot;).hide(fragment3).commit();\n        fm.beginTransaction().add(R.id.main_container, fragment2, &quot;2&quot;).hide(fragment2).commit();\n        fm.beginTransaction().add(R.id.main_container, fragment1, &quot;1&quot;).commit();\n\n}\n\nprivate BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\n        = new BottomNavigationView.OnNavigationItemSelectedListener() {\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.f1_menu_item:\n                fm.beginTransaction().hide(active).show(fragment1).commit();\n                active = fragment1;\n                return true;\n\n            case R.id.f2_menu_item:\n                fm.beginTransaction().hide(active).show(fragment2).commit();\n                active = fragment2;\n                return true;\n\n            case R.id.f3_menu_item:\n               fm.beginTransaction().hide(active).show(fragment3).commit();\n              active = fragment3;\n\n                return true;\n        }\n        return false;\n    }\n};\n</code></pre>\n<p>And in activity_main.xml,</p>\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/coordinatorlayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;#FBF9F9&quot;\ntools:context=&quot;.view.HomeScreenActivity&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    android:padding=&quot;1dp&quot;\n    android:id=&quot;@+id/main_container&quot;&gt;\n\n&lt;/FrameLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>let me know if you stuck anywhere Hosein. And accept the answer if this works.</p>\n"},{"comments":[{"owner":{"account_id":7226792,"reputation":318,"user_id":5515075,"display_name":"Mohammad Hossein Kalantarian"},"score":0,"creation_date":1594548144,"post_id":62859652,"comment_id":111159068,"body_markdown":"Remember you have to do it after &quot;setupWithNavController&quot;","body":"Remember you have to do it after &quot;setupWithNavController&quot;"}],"tags":[],"owner":{"account_id":7226792,"reputation":318,"user_id":5515075,"display_name":"Mohammad Hossein Kalantarian"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1594548086,"creation_date":1594548086,"answer_id":62859652,"question_id":62789561,"body_markdown":"It was surprisingly simple!\r\n\r\n        NavigationUI.setupWithNavController(bottomNavigationView, hostNavController);\r\n        bottomNavigationView.setOnNavigationItemReselectedListener(new BottomNavigationView.OnNavigationItemReselectedListener() {\r\n            @Override\r\n            public void onNavigationItemReselected(@NonNull MenuItem item) {\r\n                // Nothing here to disable reselect\r\n            }\r\n        });\r\n","title":"Disable reselecting in BottomNavigationView","body":"<p>It was surprisingly simple!</p>\n<pre><code>    NavigationUI.setupWithNavController(bottomNavigationView, hostNavController);\n    bottomNavigationView.setOnNavigationItemReselectedListener(new BottomNavigationView.OnNavigationItemReselectedListener() {\n        @Override\n        public void onNavigationItemReselected(@NonNull MenuItem item) {\n            // Nothing here to disable reselect\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13969476,"reputation":818,"user_id":10088459,"display_name":"mpountou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619857665,"creation_date":1619857665,"answer_id":67344271,"question_id":62789561,"body_markdown":"In kotlin code looks like this:\r\n\r\n   \r\n\r\n     val navView: BottomNavigationView = findViewById(R.id.nav_view)\r\n   \r\n     navView.setOnNavigationItemReselectedListener { \r\n        // do nothing here when reselected\r\n        }","title":"Disable reselecting in BottomNavigationView","body":"<p>In kotlin code looks like this:</p>\n<pre><code> val navView: BottomNavigationView = findViewById(R.id.nav_view)\n\n navView.setOnNavigationItemReselectedListener { \n    // do nothing here when reselected\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19576538"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666773273,"creation_date":1666773273,"answer_id":74204788,"question_id":62789561,"body_markdown":"For anyone looking for an up-to-date implementation in **Kotlin**:\r\n\r\n```kotlin\r\nNavigationUI.setupWithNavController(binding.bottomNavigationBar, navController)\r\nbinding.bottomNavigationBar.setOnItemReselectedListener {}\r\n```","title":"Disable reselecting in BottomNavigationView","body":"<p>For anyone looking for an up-to-date implementation in <strong>Kotlin</strong>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>NavigationUI.setupWithNavController(binding.bottomNavigationBar, navController)\nbinding.bottomNavigationBar.setOnItemReselectedListener {}\n</code></pre>\n"}],"owner":{"account_id":7226792,"reputation":318,"user_id":5515075,"display_name":"Mohammad Hossein Kalantarian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1455,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62859652,"answer_count":4,"score":2,"last_activity_date":1666773273,"creation_date":1594193003,"question_id":62789561,"body_markdown":"How can I disable reloading fragment when clicking again on the current tab in `BottomNavigationView`? \r\n\r\nIn other words how to disable re-selection in `BottomNavigationView`?\r\n\r\nPS: I&#39;m using `NavigationUI` to setup `BottomNavigationView`","title":"Disable reselecting in BottomNavigationView","body":"<p>How can I disable reloading fragment when clicking again on the current tab in <code>BottomNavigationView</code>?</p>\n<p>In other words how to disable re-selection in <code>BottomNavigationView</code>?</p>\n<p>PS: I'm using <code>NavigationUI</code> to setup <code>BottomNavigationView</code></p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":2803864,"reputation":990,"user_id":2411506,"display_name":"DanielCuadra"},"score":0,"creation_date":1550331791,"post_id":54724508,"comment_id":96233545,"body_markdown":"Stream peek is a debugging method and is open to side effects. Can you better completely build the List, then loop over to execute, then loop over to quit? (in other words, don&#39;t try to make the stream to build and execute withing the same chain) That might help","body":"Stream peek is a debugging method and is open to side effects. Can you better completely build the List, then loop over to execute, then loop over to quit? (in other words, don&#39;t try to make the stream to build and execute withing the same chain) That might help"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1550332103,"post_id":54724508,"comment_id":96233633,"body_markdown":"You&#39;re using a cached thread pool which will create threads on demand. When `COUNT &gt; 100_001` you are creating 100,001+ threads.","body":"You&#39;re using a cached thread pool which will create threads on demand. When <code>COUNT &gt; 100_001</code> you are creating 100,001+ threads."},{"owner":{"account_id":11207923,"reputation":577,"user_id":8222921,"display_name":"Artyom Karnov"},"score":0,"creation_date":1550332291,"post_id":54724508,"comment_id":96233704,"body_markdown":"But why is programm continuing working? why it is not exited with error?","body":"But why is programm continuing working? why it is not exited with error?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1550332463,"post_id":54724508,"comment_id":96233775,"body_markdown":"I tried something similar on my computer and it took a very long time to actually `execute` the tasks. In fact, I never finished scheduling all the tasks because creating that many threads was hogging my CPU and freezing my computer—so I killed the process. Are you sure your program is even reaching the `QuittableTask::quit` call in a timely manner?","body":"I tried something similar on my computer and it took a very long time to actually <code>execute</code> the tasks. In fact, I never finished scheduling all the tasks because creating that many threads was hogging my CPU and freezing my computer—so I killed the process. Are you sure your program is even reaching the <code>QuittableTask::quit</code> call in a timely manner?"},{"owner":{"account_id":11207923,"reputation":577,"user_id":8222921,"display_name":"Artyom Karnov"},"score":0,"creation_date":1550332577,"post_id":54724508,"comment_id":96233813,"body_markdown":"Yes, i analized logs. with huge COUNT quite never calls","body":"Yes, i analized logs. with huge COUNT quite never calls"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1550332676,"post_id":54724508,"comment_id":96233844,"body_markdown":"Then you&#39;re either encountering an exception/error, as [Amit&#39;s answer](https://stackoverflow.com/a/54724839/6395627) demonstrates, or your program is simply taking a long time to schedule each task and you only think it&#39;s hanging.","body":"Then you&#39;re either encountering an exception/error, as <a href=\"https://stackoverflow.com/a/54724839/6395627\">Amit&#39;s answer</a> demonstrates, or your program is simply taking a long time to schedule each task and you only think it&#39;s hanging."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1550332788,"post_id":54724508,"comment_id":96233878,"body_markdown":"The other option is your main thread is starving.","body":"The other option is your main thread is starving."}],"answers":[{"comments":[{"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"score":0,"creation_date":1550332842,"post_id":54724839,"comment_id":96233896,"body_markdown":"@ArtyomKarnov I have edited my answer and added the code to trace the error. Please take a look at the updated answer. Thanks!","body":"@ArtyomKarnov I have edited my answer and added the code to trace the error. Please take a look at the updated answer. Thanks!"}],"tags":[],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550333056,"creation_date":1550332097,"answer_id":54724839,"question_id":54724508,"body_markdown":"If you look closely on logs (adding some logs on your code) you can see that when the program is generating `OutOfMemoryError`. And the error looks like below:\r\n\r\n    java.lang.OutOfMemoryError: unable to create new native thread\r\n    \tat java.lang.Thread.start0(Native Method)\r\n    \tat java.lang.Thread.start(Thread.java:717)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1378)\r\n    \tat java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:372)\r\n    \tat java.util.stream.IntPipeline$4$1.accept(IntPipeline.java:250)\r\n    \tat java.util.stream.Streams$RangeIntSpliterator.forEachRemaining(Streams.java:110)\r\n    \tat java.util.Spliterator$OfInt.forEachRemaining(Spliterator.java:693)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n    \tat com.java8.demo.Main.main(Main.java:58)\r\n\r\nThat means you are getting OutOfMemory when you try to call `quit` on all the task but as the error occurs it never gets executed, as a result of your boolean flag never set to false. And other thread keeps running.\r\n\r\nYou can notice that out of memory occurs as VM unable to create the native thread.Now you are using `Executors.newCachedThreadPool();`. So your thread pools max size can be `Integer.MAX_VALUE` but before reaching that value your VM unable to create new thread. I have changed the executor to FixTheradPool like `ExecutorService es = Executors.newFixedThreadPool(8);`. It works fine with your higher `COUNT` value as it will create only 8 thread. \r\n\r\nI have put a `try-catch` block to trace the exception like below. Also, I forcefully exit the VM by calling System#exit to trace the logs on my console. \r\n\r\n\ttry {\r\n\t\tExecutorService es = Executors.newCachedThreadPool();\r\n\t\tList&lt;QuittableTask&gt; tasks = IntStream.range(1, COUNT).mapToObj(QuittableTask::new).peek(es::execute)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\tThread.currentThread().sleep(1000);\r\n\t\ttasks.forEach(QuittableTask::quit);\r\n\t\tes.shutdown();\r\n\t} catch (Throwable e) {\r\n\t\tSystem.out.println(&quot;Error&quot; + e.getMessage());\r\n\t\te.printStackTrace();\r\n\t\tSystem.exit(0);\r\n\t}","title":"Why runnable task can&#39;t be interrupted with AtomicBoolean flag?","body":"<p>If you look closely on logs (adding some logs on your code) you can see that when the program is generating <code>OutOfMemoryError</code>. And the error looks like below:</p>\n\n<pre><code>java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:717)\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1378)\n    at java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:372)\n    at java.util.stream.IntPipeline$4$1.accept(IntPipeline.java:250)\n    at java.util.stream.Streams$RangeIntSpliterator.forEachRemaining(Streams.java:110)\n    at java.util.Spliterator$OfInt.forEachRemaining(Spliterator.java:693)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at com.java8.demo.Main.main(Main.java:58)\n</code></pre>\n\n<p>That means you are getting OutOfMemory when you try to call <code>quit</code> on all the task but as the error occurs it never gets executed, as a result of your boolean flag never set to false. And other thread keeps running.</p>\n\n<p>You can notice that out of memory occurs as VM unable to create the native thread.Now you are using <code>Executors.newCachedThreadPool();</code>. So your thread pools max size can be <code>Integer.MAX_VALUE</code> but before reaching that value your VM unable to create new thread. I have changed the executor to FixTheradPool like <code>ExecutorService es = Executors.newFixedThreadPool(8);</code>. It works fine with your higher <code>COUNT</code> value as it will create only 8 thread. </p>\n\n<p>I have put a <code>try-catch</code> block to trace the exception like below. Also, I forcefully exit the VM by calling System#exit to trace the logs on my console. </p>\n\n<pre><code>try {\n    ExecutorService es = Executors.newCachedThreadPool();\n    List&lt;QuittableTask&gt; tasks = IntStream.range(1, COUNT).mapToObj(QuittableTask::new).peek(es::execute)\n            .collect(Collectors.toList());\n    Thread.currentThread().sleep(1000);\n    tasks.forEach(QuittableTask::quit);\n    es.shutdown();\n} catch (Throwable e) {\n    System.out.println(\"Error\" + e.getMessage());\n    e.printStackTrace();\n    System.exit(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1657095,"reputation":3768,"user_id":1526347,"accept_rate":75,"display_name":"jingx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550332918,"creation_date":1550332918,"answer_id":54724956,"question_id":54724508,"body_markdown":"To add on to @AmitBera&#39;s answer - `Executors.newCachedThreadPool()` creates a practically unbounded thread pool (see the explanation by the &quot;Queueing&quot; section in [the API doc][1]). So every new `QuittingTask` instance is handed off to a new thread and goes into execution immediately.\r\n\r\nAt some point the number of `QuittingTask` instances and new thread instances, especially the new thread instances, grow out of memory. That &quot;some point&quot; is sensitive to the JVM&#39;s memory configuration. You happen to get 10001 in yours. When I run this I run out at 4073.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Why runnable task can&#39;t be interrupted with AtomicBoolean flag?","body":"<p>To add on to @AmitBera's answer - <code>Executors.newCachedThreadPool()</code> creates a practically unbounded thread pool (see the explanation by the \"Queueing\" section in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">the API doc</a>). So every new <code>QuittingTask</code> instance is handed off to a new thread and goes into execution immediately.</p>\n\n<p>At some point the number of <code>QuittingTask</code> instances and new thread instances, especially the new thread instances, grow out of memory. That \"some point\" is sensitive to the JVM's memory configuration. You happen to get 10001 in yours. When I run this I run out at 4073.</p>\n"}],"owner":{"account_id":11207923,"reputation":577,"user_id":8222921,"display_name":"Artyom Karnov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54724839,"answer_count":2,"score":1,"last_activity_date":1666773192,"creation_date":1550330087,"question_id":54724508,"body_markdown":"I have next task\r\n\r\n    public class QuittableTask implements Runnable {\r\n      final int id;\r\n\r\n      public QuittableTask(int id) {\r\n        this.id = id;\r\n      }\r\n\r\n      private AtomicBoolean running = new AtomicBoolean(true);\r\n\r\n      public void quit() {\r\n      System.out.println(&quot;Quite &quot; + Thread.currentThread().getName());\r\n         running.set(false);\r\n      }\r\n\r\n      @Override\r\n       public void run() {\r\n        while (running.get()) {        \r\n            System.out.println(Thread.currentThread().getName());\r\n            new Nap(0.1);\r\n        }\r\n        System.out.print(id + &quot; &quot;);  \r\n       }\r\n \r\n\r\n\r\nI run a lot of tasks using\r\n\r\n    public class QuittingTasks {\r\n      public static final int COUNT = 1500;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService es = Executors.newCachedThreadPool();\r\n        List&lt;QuittableTask&gt; tasks =\r\n                IntStream.range(1, COUNT)\r\n                        .mapToObj(QuittableTask::new)\r\n                        .peek(es::execute)\r\n                        .collect(Collectors.toList());\r\n        Thread.currentThread().sleep(1000);\r\n        tasks.forEach(QuittableTask::quit);\r\n        es.shutdown();\r\n    }\r\n  \r\n    \r\n\r\n\r\nWhen i use **COUNT &lt; 10000** everything is ok. All threads are being terminated. Programm finishes in 2 seconds.\r\n\r\nBut when i use **COUNT &gt; 100001** method **quite** can&#39;t be reached and my programm goes to infinite loop. I don&#39;t understand such behaviour. Could somebody explain it to me?\r\n\r\n\r\n","title":"Why runnable task can&#39;t be interrupted with AtomicBoolean flag?","body":"<p>I have next task</p>\n\n<pre><code>public class QuittableTask implements Runnable {\n  final int id;\n\n  public QuittableTask(int id) {\n    this.id = id;\n  }\n\n  private AtomicBoolean running = new AtomicBoolean(true);\n\n  public void quit() {\n  System.out.println(\"Quite \" + Thread.currentThread().getName());\n     running.set(false);\n  }\n\n  @Override\n   public void run() {\n    while (running.get()) {        \n        System.out.println(Thread.currentThread().getName());\n        new Nap(0.1);\n    }\n    System.out.print(id + \" \");  \n   }\n</code></pre>\n\n<p>I run a lot of tasks using</p>\n\n<pre><code>public class QuittingTasks {\n  public static final int COUNT = 1500;\n\npublic static void main(String[] args) throws InterruptedException {\n    ExecutorService es = Executors.newCachedThreadPool();\n    List&lt;QuittableTask&gt; tasks =\n            IntStream.range(1, COUNT)\n                    .mapToObj(QuittableTask::new)\n                    .peek(es::execute)\n                    .collect(Collectors.toList());\n    Thread.currentThread().sleep(1000);\n    tasks.forEach(QuittableTask::quit);\n    es.shutdown();\n}\n</code></pre>\n\n<p>When i use <strong>COUNT &lt; 10000</strong> everything is ok. All threads are being terminated. Programm finishes in 2 seconds.</p>\n\n<p>But when i use <strong>COUNT > 100001</strong> method <strong>quite</strong> can't be reached and my programm goes to infinite loop. I don't understand such behaviour. Could somebody explain it to me?</p>\n"},{"tags":["java","mysql","jdbc","sql-update"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1666774963,"post_id":74204438,"comment_id":131013704,"body_markdown":"*I am looking for an efficient way, wherein only modified cells are updated.* There is no difference between some and all columns update - anycase this causes one data block rewriting in on-disk table body file.","body":"<i>I am looking for an efficient way, wherein only modified cells are updated.</i> There is no difference between some and all columns update - anycase this causes one data block rewriting in on-disk table body file."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1666775088,"post_id":74204438,"comment_id":131013743,"body_markdown":"If you want to update only changed columns nevertheless then create 15 separate queries texts and prepare/execute only those which matches the columnset to be updated with according if/case.","body":"If you want to update only changed columns nevertheless then create 15 separate queries texts and prepare/execute only those which matches the columnset to be updated with according if/case."},{"owner":{"account_id":14027078,"reputation":99,"user_id":10131853,"display_name":"Abhijith.M"},"score":0,"creation_date":1666836893,"post_id":74204438,"comment_id":131031910,"body_markdown":"@Akina - I just came across an example which states UPDATE detailsTable SET uniqueID=?,firstName =?,lastName=?,score=? WHERE uniqueID=1 AND not ( firstName  &lt;=&gt; lastName_new_value AND score &lt;=&gt; score_new_value )\n\nDoes this statement replace only modified cells?","body":"@Akina - I just came across an example which states UPDATE detailsTable SET uniqueID=?,firstName =?,lastName=?,score=? WHERE uniqueID=1 AND not ( firstName  &lt;=&gt; lastName_new_value AND score &lt;=&gt; score_new_value )  Does this statement replace only modified cells?"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1666844488,"post_id":74204438,"comment_id":131032918,"body_markdown":"You do not understand low-level of the UPDATE. The row to be updated is stored in memory. The column value updation in memory cache is very-very fast. Then, if at least one byte changes, the whole block (which contains this altered row and in general some adjacent rows) is written to disk which is slow while comparing with in-memory values change. So there is no difference does one or more columns is changed. Exclusion - TEXT/BLOB and long VARCHAR columns which are stored in separate place out of the row and, hence, whose change produces 2 separate writes (into table body and strings storage).","body":"You do not understand low-level of the UPDATE. The row to be updated is stored in memory. The column value updation in memory cache is very-very fast. Then, if at least one byte changes, the whole block (which contains this altered row and in general some adjacent rows) is written to disk which is slow while comparing with in-memory values change. So there is no difference does one or more columns is changed. Exclusion - TEXT/BLOB and long VARCHAR columns which are stored in separate place out of the row and, hence, whose change produces 2 separate writes (into table body and strings storage)."}],"owner":{"account_id":14027078,"reputation":99,"user_id":10131853,"display_name":"Abhijith.M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666773011,"creation_date":1666771117,"question_id":74204438,"body_markdown":"I have a table with say 4 columns of the following types. \r\n\r\n    uniqueID - VARCHAR(50) not NULL\r\n    firstName - VARCHAR(50) not NULL\r\n    lastName - VARCHAR(50) not NULL\r\n    score - INT not NULL\r\n\r\nNow, I created a table called detailsTable using the below query:- \r\n\r\n    CREATE TABLE detailsTable (uniqueID VARCHAR(50) not NULL, firstName VARCHAR(50) not NULL, lastName VARCHAR(50) not NULL, score - INT not NULL,  PRIMARY KEY (uniqueID))\r\n\r\nTo insert data into the table, I used the prepared statement as shown below:- \r\n\r\n    StringBuilder insertQuery =  INSERT IGNORE INTO detailsTable(uniqueID ,firstName, lastName, score) VALUES (?,?,?,?)\r\n    \r\n    PreparedStatement pstmnt= connection\r\n    \t\t\t\t\t.prepareStatement(insertQuery.toString(), Statement.RETURN_GENERATED_KEYS);\r\n    \r\n    pstmnt.setString(1,1);\r\n    pstmnt.setString(2,&quot;Max&quot;);\r\n    pstmnt.setString(3,&quot;Robin&quot;);\r\n    pstmnt.setString(4,&quot;85&quot;);\r\n    \r\n    pstmnt.execute();\r\n\r\nNote that I used the JDBC connection to prepareStatement. \r\n\r\nSuppose, the last name and score are to be modified. My requirement is to use the prepared statement itself to update the table. Also, only columns whose values are modified are to be updated. In the example, last name and score alone.\r\n\r\nI created an update Query as below:- \r\n\r\n     StringBuilder updateQuery = UPDATE detailsTable SET uniqueID=?,firstName =?,lastName=?,score=? WHERE uniqueID=1\r\n    \r\n    PreparedStatement pstmnt= connection\r\n        \t\t\t\t\t.prepareStatement(updateQuery.toString(), Statement.RETURN_GENERATED_KEYS);\r\n        \r\n        pstmnt.setString(1,1);\r\n        pstmnt.setString(2,&quot;Max&quot;);\r\n        pstmnt.setString(3,&quot;Kevin&quot;);\r\n        pstmnt.setString(4,&quot;77&quot;);\r\n\r\nNow, If I create a prepared statement using the above query and call executeUpdate(), It will update each column. But, I am looking for an efficient way, wherein only modified cells are updated. \r\n\r\nKindly note that the example is just intended to explain the scenario. My actual table has a large number of columns. So, I need to write a prepared statement that sets every details but only updates modified values. The input data that I receive contains complete information which makes it difficult to identify specific columns that need to be updated. Also, updates can happen to any of the columns and may not always be the same.\r\n\r\nFor this, how should I modify the update query? Is there an option that SQL PreparedStatement provides as inbuilt? Is there a better way to achieve the objective ? \r\n\r\n\r\n\r\n(Please forgive me for being naive; I am new to SQL and that might be the reason for my difficulty in wrapping around the concepts and way of working)","title":"How to update only modified columns of a row in a table in SQL using Prepared Statement","body":"<p>I have a table with say 4 columns of the following types.</p>\n<pre><code>uniqueID - VARCHAR(50) not NULL\nfirstName - VARCHAR(50) not NULL\nlastName - VARCHAR(50) not NULL\nscore - INT not NULL\n</code></pre>\n<p>Now, I created a table called detailsTable using the below query:-</p>\n<pre><code>CREATE TABLE detailsTable (uniqueID VARCHAR(50) not NULL, firstName VARCHAR(50) not NULL, lastName VARCHAR(50) not NULL, score - INT not NULL,  PRIMARY KEY (uniqueID))\n</code></pre>\n<p>To insert data into the table, I used the prepared statement as shown below:-</p>\n<pre><code>StringBuilder insertQuery =  INSERT IGNORE INTO detailsTable(uniqueID ,firstName, lastName, score) VALUES (?,?,?,?)\n\nPreparedStatement pstmnt= connection\n                    .prepareStatement(insertQuery.toString(), Statement.RETURN_GENERATED_KEYS);\n\npstmnt.setString(1,1);\npstmnt.setString(2,&quot;Max&quot;);\npstmnt.setString(3,&quot;Robin&quot;);\npstmnt.setString(4,&quot;85&quot;);\n\npstmnt.execute();\n</code></pre>\n<p>Note that I used the JDBC connection to prepareStatement.</p>\n<p>Suppose, the last name and score are to be modified. My requirement is to use the prepared statement itself to update the table. Also, only columns whose values are modified are to be updated. In the example, last name and score alone.</p>\n<p>I created an update Query as below:-</p>\n<pre><code> StringBuilder updateQuery = UPDATE detailsTable SET uniqueID=?,firstName =?,lastName=?,score=? WHERE uniqueID=1\n\nPreparedStatement pstmnt= connection\n                        .prepareStatement(updateQuery.toString(), Statement.RETURN_GENERATED_KEYS);\n    \n    pstmnt.setString(1,1);\n    pstmnt.setString(2,&quot;Max&quot;);\n    pstmnt.setString(3,&quot;Kevin&quot;);\n    pstmnt.setString(4,&quot;77&quot;);\n</code></pre>\n<p>Now, If I create a prepared statement using the above query and call executeUpdate(), It will update each column. But, I am looking for an efficient way, wherein only modified cells are updated.</p>\n<p>Kindly note that the example is just intended to explain the scenario. My actual table has a large number of columns. So, I need to write a prepared statement that sets every details but only updates modified values. The input data that I receive contains complete information which makes it difficult to identify specific columns that need to be updated. Also, updates can happen to any of the columns and may not always be the same.</p>\n<p>For this, how should I modify the update query? Is there an option that SQL PreparedStatement provides as inbuilt? Is there a better way to achieve the objective ?</p>\n<p>(Please forgive me for being naive; I am new to SQL and that might be the reason for my difficulty in wrapping around the concepts and way of working)</p>\n"},{"tags":["java","intellij-idea","lambda","java-8"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1395975971,"post_id":22703412,"comment_id":34594199,"body_markdown":"It&#39;s an IDE issue. You have to change your compiler compliance.","body":"It&#39;s an IDE issue. You have to change your compiler compliance."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":6,"creation_date":1395975972,"post_id":22703412,"comment_id":34594200,"body_markdown":"In IDEA, select File -&gt; Project structure; you&#39;ll have the option to change the language level","body":"In IDEA, select File -&gt; Project structure; you&#39;ll have the option to change the language level"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":1,"creation_date":1395977014,"post_id":22703412,"comment_id":34594500,"body_markdown":"@Czipperz: On SO don&#39;t annotate the title with &quot;Solved&quot;, mark the best answers as &quot;Accepted&quot; by clicking the tick. That rewards the answerer and shows the question has an answer which resolves the problem. If no answer gives the right resolution, you are free to post a self-answer and then mark it accepted (after a waiting period).","body":"@Czipperz: On SO don&#39;t annotate the title with &quot;Solved&quot;, mark the best answers as &quot;Accepted&quot; by clicking the tick. That rewards the answerer and shows the question has an answer which resolves the problem. If no answer gives the right resolution, you are free to post a self-answer and then mark it accepted (after a waiting period)."},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1395993441,"post_id":22703412,"comment_id":34600431,"body_markdown":"possible duplicate of [How do I use Java 8 features in Eclipse Luna?](http://stackoverflow.com/questions/22668739/how-do-i-use-java-8-features-in-eclipse-luna)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22668739/how-do-i-use-java-8-features-in-eclipse-luna\">How do I use Java 8 features in Eclipse Luna?</a>"},{"owner":{"account_id":1870149,"reputation":3268,"user_id":1692584,"accept_rate":67,"display_name":"Czipperz"},"score":0,"creation_date":1396039001,"post_id":22703412,"comment_id":34628936,"body_markdown":"@LawrenceDol I annotated it like that because they didn&#39;t post it as an answer, but as a comment.","body":"@LawrenceDol I annotated it like that because they didn&#39;t post it as an answer, but as a comment."},{"owner":{"account_id":1870149,"reputation":3268,"user_id":1692584,"accept_rate":67,"display_name":"Czipperz"},"score":0,"creation_date":1396039042,"post_id":22703412,"comment_id":34628959,"body_markdown":"Well this is for IntelliJ as well, but thanks for the support for Eclipse @SvetlinZarev","body":"Well this is for IntelliJ as well, but thanks for the support for Eclipse @SvetlinZarev"},{"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"score":0,"creation_date":1446799773,"post_id":22703412,"comment_id":54903672,"body_markdown":"do you use some kind of build tools? (maven, etc.) - the preferred setup might be different","body":"do you use some kind of build tools? (maven, etc.) - the preferred setup might be different"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1553384492,"post_id":22703412,"comment_id":97365743,"body_markdown":"*&quot;Eclipse offered no support whatsoever for lambda expressions&quot;*- This is patently incorrect, and was incorrect when the question was asked; see my answer and others that tell you how to get it.","body":"<i>&quot;Eclipse offered no support whatsoever for lambda expressions&quot;</i>- This is patently incorrect, and was incorrect when the question was asked; see my answer and others that tell you how to get it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1395976880,"creation_date":1395976880,"answer_id":22703573,"question_id":22703412,"body_markdown":"Actually, Eclipse support for Java 8 is available: see [here][1] and [here][2].\r\n\r\n  - For Kepler, it is available as a &quot;feature patch&quot; against SR2 (i.e. Eclipse 4.3.2)\r\n  - For Luna (Eclipse 4.4) it will be in the standard release.  ([release schedule][3])\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/JDT_Core/Java8#Installation_instructions\r\n  [2]: http://waynebeaton.wordpress.com/2014/03/18/official-eclipse-support-for-java-8/\r\n  [3]: http://wiki.eclipse.org/Luna/Simultaneous_Release_Plan#Schedule","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Actually, Eclipse support for Java 8 is available: see <a href=\"https://wiki.eclipse.org/JDT_Core/Java8#Installation_instructions\" rel=\"nofollow\">here</a> and <a href=\"http://waynebeaton.wordpress.com/2014/03/18/official-eclipse-support-for-java-8/\" rel=\"nofollow\">here</a>.</p>\n\n<ul>\n<li>For Kepler, it is available as a \"feature patch\" against SR2 (i.e. Eclipse 4.3.2)</li>\n<li>For Luna (Eclipse 4.4) it will be in the standard release.  (<a href=\"http://wiki.eclipse.org/Luna/Simultaneous_Release_Plan#Schedule\" rel=\"nofollow\">release schedule</a>)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":71,"creation_date":1431620338,"post_id":22704620,"comment_id":48585660,"body_markdown":"**Note from proposed edit**: You can also configure language level for every module, `File Menu → Project Structure → Modules`,  but by default it will the same as Project language level.","body":"<b>Note from proposed edit</b>: You can also configure language level for every module, <code>File Menu → Project Structure → Modules</code>,  but by default it will the same as Project language level."},{"owner":{"account_id":134693,"reputation":11106,"user_id":2624806,"accept_rate":32,"display_name":"CoDe"},"score":6,"creation_date":1441176594,"post_id":22704620,"comment_id":52566421,"body_markdown":"I&#39;m facing same issue for Android Studio and neither found same settings in IDE you mention above. Any suggestion !","body":"I&#39;m facing same issue for Android Studio and neither found same settings in IDE you mention above. Any suggestion !"},{"owner":{"account_id":1030841,"reputation":550,"user_id":1039164,"accept_rate":25,"display_name":"BaDo"},"score":19,"creation_date":1443148212,"post_id":22704620,"comment_id":53386555,"body_markdown":"@Shubh: In Gradle, add these lines, your code will work: \n`android {\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}`","body":"@Shubh: In Gradle, add these lines, your code will work:  <code>android {   compileOptions {     sourceCompatibility JavaVersion.VERSION_1_8     targetCompatibility JavaVersion.VERSION_1_8   } }</code>"},{"owner":{"account_id":375225,"reputation":970,"user_id":725917,"display_name":"averasko"},"score":7,"creation_date":1446560989,"post_id":22704620,"comment_id":54786650,"body_markdown":"After **upgrading** to **IntelliJ 15**, I had to change the *Project Language Level* up to 9 and then back to 8 for that to take effect.","body":"After <b>upgrading</b> to <b>IntelliJ 15</b>, I had to change the <i>Project Language Level</i> up to 9 and then back to 8 for that to take effect."},{"owner":{"account_id":2054,"reputation":3374,"user_id":2829,"accept_rate":73,"display_name":"mjlee"},"score":2,"creation_date":1452443570,"post_id":22704620,"comment_id":57161733,"body_markdown":"In maven, you have to explicitly set to 1.8 language level.  http://stackoverflow.com/questions/16723533/how-do-you-specify-the-java-compiler-version-in-a-pom-xml-file","body":"In maven, you have to explicitly set to 1.8 language level.  <a href=\"http://stackoverflow.com/questions/16723533/how-do-you-specify-the-java-compiler-version-in-a-pom-xml-file\" title=\"how do you specify the java compiler version in a pom xml file\">stackoverflow.com/questions/16723533/&hellip;</a>"},{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":3,"creation_date":1463143697,"post_id":22704620,"comment_id":61952013,"body_markdown":"does not exist on AS1.5.1 on Mac","body":"does not exist on AS1.5.1 on Mac"},{"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"score":0,"creation_date":1466549509,"post_id":22704620,"comment_id":63359873,"body_markdown":"I was facing the same issue but it was already on 8.0. The comment from @user1516873 helped me solve the issue","body":"I was facing the same issue but it was already on 8.0. The comment from @user1516873 helped me solve the issue"},{"owner":{"account_id":6195005,"reputation":665,"user_id":4826571,"accept_rate":100,"display_name":"Ivan"},"score":18,"creation_date":1526675108,"post_id":22704620,"comment_id":87853066,"body_markdown":"This answer is outdated. On Android 3.1.2 go to ```File``` -&gt; ```Project Structure``` -&gt; ```Module you want to support lambdas``` and set **Source Compatibility** and **Target Compatibility** to **1.8**","body":"This answer is outdated. On Android 3.1.2 go to <code>File</code> -&gt; <code>Project Structure</code> -&gt; <code>Module you want to support lambdas</code> and set <b>Source Compatibility</b> and <b>Target Compatibility</b> to <b>1.8</b>"},{"owner":{"account_id":9313918,"reputation":707,"user_id":6914806,"display_name":"Roshna Omer"},"score":0,"creation_date":1536218420,"post_id":22704620,"comment_id":91346150,"body_markdown":"@Ivan yes thank you for the updated version, I&#39;ve been searching for so long, [this is](https://developer.android.com/studio/intro/studio-config#jdk) the same thing but not UI","body":"@Ivan yes thank you for the updated version, I&#39;ve been searching for so long, <a href=\"https://developer.android.com/studio/intro/studio-config#jdk\" rel=\"nofollow noreferrer\">this is</a> the same thing but not UI"},{"owner":{"account_id":8841094,"reputation":121,"user_id":6603519,"display_name":"GeoffL"},"score":1,"creation_date":1552990461,"post_id":22704620,"comment_id":97209862,"body_markdown":"In Android Studio, it&#39;s File--Project Structure, select App under Module, Properties Tab, then set Source Compability to 1.8.  Oh already mentioned above by Ivan","body":"In Android Studio, it&#39;s File--Project Structure, select App under Module, Properties Tab, then set Source Compability to 1.8.  Oh already mentioned above by Ivan"},{"owner":{"account_id":200115,"reputation":894,"user_id":445796,"accept_rate":67,"display_name":"Mike"},"score":0,"creation_date":1596639961,"post_id":22704620,"comment_id":111877294,"body_markdown":"On Android Studio 3.6.3, my screen showed 1.8 supported but I was getting the compiler error. I read @averasko comment and switched my setting to 1.7, applied, then switched back to 1.8 and applied, and the compile error went away. Thanks!","body":"On Android Studio 3.6.3, my screen showed 1.8 supported but I was getting the compiler error. I read @averasko comment and switched my setting to 1.7, applied, then switched back to 1.8 and applied, and the compile error went away. Thanks!"}],"tags":[],"owner":{"account_id":400603,"reputation":4229,"user_id":766669,"display_name":"Abhilash Divakaran"},"comment_count":11,"down_vote_count":2,"up_vote_count":402,"is_accepted":true,"score":400,"last_activity_date":1559082280,"creation_date":1395983123,"answer_id":22704620,"question_id":22703412,"body_markdown":"In IntelliJ IDEA:\r\n\r\nIn `File Menu` → `Project Structure` → `Project`, change `Project Language Level` to `8.0 - Lambdas, type annotations etc.`\r\n\r\nFor Android 3.0+ Go `File` → `Project Structure` → `Module` → `app` and In Properties Tab set `Source Compatibility` and `Target Compatibility` to `1.8 (Java 8)`\r\n\r\nScreenshot:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PRjlJ.png","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>In IntelliJ IDEA:</p>\n\n<p>In <code>File Menu</code> → <code>Project Structure</code> → <code>Project</code>, change <code>Project Language Level</code> to <code>8.0 - Lambdas, type annotations etc.</code></p>\n\n<p>For Android 3.0+ Go <code>File</code> → <code>Project Structure</code> → <code>Module</code> → <code>app</code> and In Properties Tab set <code>Source Compatibility</code> and <code>Target Compatibility</code> to <code>1.8 (Java 8)</code></p>\n\n<p>Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PRjlJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PRjlJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1395993288,"creation_date":1395993288,"answer_id":22707128,"question_id":22703412,"body_markdown":"As Stephen C pointed out, Eclipse Kepler (4.3) has Java 8 support when the patch is installed (installation instructions [here][1])\r\n\r\nOnce installed, you’ll need to tell your projects to use java 8. First add the JDK to eclipse:\r\n\r\n - Go to Window -&gt; Preferences\r\n - Go to Java -&gt; Installed JREs\r\n - Add Standard VM, and point to the location of the JRE\r\n - Then go to Compiler\r\n - Set Compiler compliance level to 1.8\r\n\r\nThen tell the project to use JDK 1.8:\r\n\r\n - Go to Project -&gt; preferences\r\n - Go to Java Compiler\r\n - Enable project specific settings\r\n - Set Compiler compliance level to 1.8\r\n\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/JDT/Eclipse_Java_8_Support_For_Kepler","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>As Stephen C pointed out, Eclipse Kepler (4.3) has Java 8 support when the patch is installed (installation instructions <a href=\"https://wiki.eclipse.org/JDT/Eclipse_Java_8_Support_For_Kepler\" rel=\"nofollow\">here</a>)</p>\n\n<p>Once installed, you’ll need to tell your projects to use java 8. First add the JDK to eclipse:</p>\n\n<ul>\n<li>Go to Window -> Preferences</li>\n<li>Go to Java -> Installed JREs</li>\n<li>Add Standard VM, and point to the location of the JRE</li>\n<li>Then go to Compiler</li>\n<li>Set Compiler compliance level to 1.8</li>\n</ul>\n\n<p>Then tell the project to use JDK 1.8:</p>\n\n<ul>\n<li>Go to Project -> preferences</li>\n<li>Go to Java Compiler</li>\n<li>Enable project specific settings</li>\n<li>Set Compiler compliance level to 1.8</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":5,"creation_date":1429218649,"post_id":29323668,"comment_id":47509085,"body_markdown":"@Czipperz: This answer has pictures. I prefer it, because I had actually already looked at the spot the accepted answer mentioned but failed to notice the dropdown. This answer has pictures highlighting the exact spot where the option is.","body":"@Czipperz: This answer has pictures. I prefer it, because I had actually already looked at the spot the accepted answer mentioned but failed to notice the dropdown. This answer has pictures highlighting the exact spot where the option is."},{"owner":{"account_id":4438251,"reputation":2123,"user_id":3613492,"accept_rate":89,"display_name":"Kevin Zhao"},"score":2,"creation_date":1492799095,"post_id":29323668,"comment_id":74151509,"body_markdown":"the part about pom.xml file is really helpful, thanks!","body":"the part about pom.xml file is really helpful, thanks!"},{"owner":{"account_id":1131366,"reputation":652,"user_id":1117362,"accept_rate":21,"display_name":"nihasmata"},"score":3,"creation_date":1504871819,"post_id":29323668,"comment_id":79193910,"body_markdown":"After changing language level also for module fixed my problem","body":"After changing language level also for module fixed my problem"},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1595113200,"post_id":29323668,"comment_id":111363316,"body_markdown":"This did the trick for me, i.e. the language level.","body":"This did the trick for me, i.e. the language level."}],"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"comment_count":4,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1486158980,"creation_date":1427583939,"answer_id":29323668,"question_id":22703412,"body_markdown":"For intellij 13, \r\nSimply change the **Project language level** itself to `8.0` with following navigation. \r\n\r\n    File\r\n    |\r\n    |\r\n     ---------Project Structure -&gt; Project tab\r\n              |\r\n              |________Project language level\r\n\r\n![java8][1]\r\n\r\n\r\nModule lang level\r\n------------------\r\n\r\nI also had to update `Modules lang level` when there was no maven plugin for `java compiler`.\r\n\r\n    File\r\n    |\r\n    |\r\n     ---------Project Structure -&gt; Modules tab\r\n              |\r\n              |________ language level\r\n\r\n[![Modules lang level][2]][2]\r\n\r\nBut this `Module lang level` would automatically be fixed if there&#39;s already a `maven plugin` for it, \r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n**After changes everything looks good**\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Cg5hw.png\r\n  [2]: https://i.stack.imgur.com/paa1L.png\r\n  [3]: http://i.stack.imgur.com/vFiGS.png\r\n","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>For intellij 13, \nSimply change the <strong>Project language level</strong> itself to <code>8.0</code> with following navigation. </p>\n\n<pre><code>File\n|\n|\n ---------Project Structure -&gt; Project tab\n          |\n          |________Project language level\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Cg5hw.png\" alt=\"java8\"></p>\n\n<h2>Module lang level</h2>\n\n<p>I also had to update <code>Modules lang level</code> when there was no maven plugin for <code>java compiler</code>.</p>\n\n<pre><code>File\n|\n|\n ---------Project Structure -&gt; Modules tab\n          |\n          |________ language level\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/paa1L.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/paa1L.png\" alt=\"Modules lang level\"></a></p>\n\n<p>But this <code>Module lang level</code> would automatically be fixed if there's already a <code>maven plugin</code> for it, </p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p><strong>After changes everything looks good</strong></p>\n"},{"comments":[{"owner":{"account_id":5743329,"reputation":1627,"user_id":4535300,"accept_rate":86,"display_name":"Anton Krug"},"score":3,"creation_date":1456843341,"post_id":30522340,"comment_id":59126381,"body_markdown":"your answer should be higher or together with other answers","body":"your answer should be higher or together with other answers"},{"owner":{"account_id":1955077,"reputation":382,"user_id":1758245,"accept_rate":86,"display_name":"Ge Liu"},"score":2,"creation_date":1462546612,"post_id":30522340,"comment_id":61695638,"body_markdown":"+1. The priority of modules is higher than the project&#39;s. So I prefer setting the language level of modules part.","body":"+1. The priority of modules is higher than the project&#39;s. So I prefer setting the language level of modules part."},{"owner":{"account_id":357505,"reputation":1096,"user_id":697711,"display_name":"SpacePrez"},"score":0,"creation_date":1505857006,"post_id":30522340,"comment_id":79582109,"body_markdown":"This doesn&#39;t include the module which IntelliJ also requires. Not crazy about this side of IntelliJ, too many places to check the same thing.","body":"This doesn&#39;t include the module which IntelliJ also requires. Not crazy about this side of IntelliJ, too many places to check the same thing."},{"owner":{"account_id":903020,"reputation":2058,"user_id":6441370,"accept_rate":67,"display_name":"Sidd Thota"},"score":0,"creation_date":1508884067,"post_id":30522340,"comment_id":80789503,"body_markdown":"Awesome. Thank you so much. This saved my day. I was struggling with the error not sure what needs to be done to enable the lambda expressions.","body":"Awesome. Thank you so much. This saved my day. I was struggling with the error not sure what needs to be done to enable the lambda expressions."},{"owner":{"account_id":903020,"reputation":2058,"user_id":6441370,"accept_rate":67,"display_name":"Sidd Thota"},"score":0,"creation_date":1508890394,"post_id":30522340,"comment_id":80791114,"body_markdown":"I was running a spring boot ap, and not sure what went wrong after I started using lambda expressions, I changed the project settings, but after following this modules setting, It worked fine.","body":"I was running a spring boot ap, and not sure what went wrong after I started using lambda expressions, I changed the project settings, but after following this modules setting, It worked fine."},{"owner":{"account_id":2204096,"reputation":749,"user_id":1947725,"display_name":"Fahad"},"score":0,"creation_date":1512710219,"post_id":30522340,"comment_id":82376148,"body_markdown":"Thanks alot for screen shot, I was wondering as I have Language Level 8 already selected in File Menu → Project Structure → Project, change Project Language Level and it was not working. Your screen shot save my day!","body":"Thanks alot for screen shot, I was wondering as I have Language Level 8 already selected in File Menu → Project Structure → Project, change Project Language Level and it was not working. Your screen shot save my day!"}],"tags":[],"owner":{"account_id":3174637,"reputation":1209,"user_id":2682809,"display_name":"dmitry.bogatko"},"comment_count":6,"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1484066982,"creation_date":1432879978,"answer_id":30522340,"question_id":22703412,"body_markdown":"You should change source code Language Level also on the Source tab (Modules part). \r\n\r\n[![Change Language Level][2]][2]\r\n\r\n\r\n  [1]: http://take.ms/KHXYQ\r\n  [2]: https://i.stack.imgur.com/sE2kA.png","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>You should change source code Language Level also on the Source tab (Modules part). </p>\n\n<p><a href=\"https://i.stack.imgur.com/sE2kA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sE2kA.png\" alt=\"Change Language Level\"></a></p>\n"},{"tags":[],"owner":{"account_id":356363,"reputation":3065,"user_id":695829,"display_name":"Daniel de Zwaan"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1452125734,"creation_date":1452125734,"answer_id":34645282,"question_id":22703412,"body_markdown":"To compile with Java 8 (lambdas etc) in IntelliJ IDEA 15;\r\n\r\n - `CTRL + ALT + SHIFT + S` or File / Project Structure\r\n\r\n - Open Project tab\r\n\r\n - Set Project SDK to compatible java version (1.8)\r\n\r\n - Set Project language level to 8 \r\n\r\n - Open Modules tab\r\n\r\n - Set Language level to 8, click OK \r\n\r\n - `CTRL + ALT + S` or File / Settings\r\n\r\n - Build, Execution, Deployment / Compiler / Java Compiler\r\n\r\n - Change Target bytecode version to 1.8, click OK\r\n\r\n\r\n\r\n","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>To compile with Java 8 (lambdas etc) in IntelliJ IDEA 15;</p>\n\n<ul>\n<li><p><code>CTRL + ALT + SHIFT + S</code> or File / Project Structure</p></li>\n<li><p>Open Project tab</p></li>\n<li><p>Set Project SDK to compatible java version (1.8)</p></li>\n<li><p>Set Project language level to 8 </p></li>\n<li><p>Open Modules tab</p></li>\n<li><p>Set Language level to 8, click OK </p></li>\n<li><p><code>CTRL + ALT + S</code> or File / Settings</p></li>\n<li><p>Build, Execution, Deployment / Compiler / Java Compiler</p></li>\n<li><p>Change Target bytecode version to 1.8, click OK</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7594094,"reputation":9,"user_id":5760784,"display_name":"user5760784"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452228692,"creation_date":1452225293,"answer_id":34669230,"question_id":22703412,"body_markdown":"In intellij 14, following settings worked for me.\r\n[Intellij14 Settings][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bucbD.png","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>In intellij 14, following settings worked for me.\n<a href=\"https://i.stack.imgur.com/bucbD.png\" rel=\"nofollow\">Intellij14 Settings</a></p>\n"},{"tags":[],"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1471291562,"creation_date":1471291562,"answer_id":38962258,"question_id":22703412,"body_markdown":"Even after applying above defined project specific settings on IntelliJ as well as Eclipse, it was still failing for me !\r\n\r\n**what worked for me was addition of maven plugin with source and target with 1.8 setting in POM XML:**\r\n\r\n\t&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;com.abc.sparkcore.JavaWordCount&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n    &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;   \r\n         &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt; \r\n\r\n","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Even after applying above defined project specific settings on IntelliJ as well as Eclipse, it was still failing for me !</p>\n\n<p><strong>what worked for me was addition of maven plugin with source and target with 1.8 setting in POM XML:</strong></p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;com.abc.sparkcore.JavaWordCount&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy&lt;/id&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n&lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;   \n     &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476785,"reputation":1621,"user_id":1386990,"accept_rate":57,"display_name":"Toseef Zafar"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1474196670,"creation_date":1474196670,"answer_id":39556954,"question_id":22703412,"body_markdown":"Ctrl + Alt + Shift + S and then from project select the language level 1.8, read more about Lambda Expressions [here][1]\r\n\r\n\r\n  [1]: http://www.schoolay.com/Java-8/Java-8-Lambda-Expressions.html","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Ctrl + Alt + Shift + S and then from project select the language level 1.8, read more about Lambda Expressions <a href=\"http://www.schoolay.com/Java-8/Java-8-Lambda-Expressions.html\" rel=\"nofollow\">here</a></p>\n"},{"comments":[{"owner":{"account_id":1870149,"reputation":3268,"user_id":1692584,"accept_rate":67,"display_name":"Czipperz"},"score":2,"creation_date":1478390294,"post_id":40444509,"comment_id":68135594,"body_markdown":"This was almost three years ago.","body":"This was almost three years ago."},{"owner":{"account_id":9589116,"reputation":103,"user_id":7120694,"display_name":"kuzevni"},"score":0,"creation_date":1478392463,"post_id":40444509,"comment_id":68136110,"body_markdown":"This is for people using google to check for already solved problems. People who work in the industry knows this.","body":"This is for people using google to check for already solved problems. People who work in the industry knows this."}],"tags":[],"owner":{"account_id":9589116,"reputation":103,"user_id":7120694,"display_name":"kuzevni"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1478390652,"creation_date":1478389643,"answer_id":40444509,"question_id":22703412,"body_markdown":"Possible Cause #1 (same as the first 3 answers for this question): Project Structure Settings\r\n\r\n 1. File &gt; Project Structure &gt; Under Project Settings, go to Project &gt; set **Project SDK** to 1.8 (with version 65 or above, latest is 112) and set **Project Language Level** to 8.\r\n\r\n 2. File &gt; Project Structure &gt; Under Platform Settings, go to Project &gt; ensure that your **JDK home path** is set to 1.8 (with version 65 or above, latest is 112).\r\n\r\nIf the above does not work, check the **target bytecode version** of your compiler and move on to Possible Cause #2.\r\n\r\nPossible Cause #2: Compiler\r\n\r\n 1. File &gt; Settings &gt; Build, Execution, Deployment &gt; Under Compiler, go to Java Compiler &gt; set your **Project Bytecode Version** to 1.8, as well as all the **Target Bytecode Version** for your modules. Click **Apply** and hit *OK*. Restart your IntelliJ IDE. Lambda expression was accepted in my IDE at this point.\r\n\r\nBest wishes :)","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Possible Cause #1 (same as the first 3 answers for this question): Project Structure Settings</p>\n\n<ol>\n<li><p>File > Project Structure > Under Project Settings, go to Project > set <strong>Project SDK</strong> to 1.8 (with version 65 or above, latest is 112) and set <strong>Project Language Level</strong> to 8.</p></li>\n<li><p>File > Project Structure > Under Platform Settings, go to Project > ensure that your <strong>JDK home path</strong> is set to 1.8 (with version 65 or above, latest is 112).</p></li>\n</ol>\n\n<p>If the above does not work, check the <strong>target bytecode version</strong> of your compiler and move on to Possible Cause #2.</p>\n\n<p>Possible Cause #2: Compiler</p>\n\n<ol>\n<li>File > Settings > Build, Execution, Deployment > Under Compiler, go to Java Compiler > set your <strong>Project Bytecode Version</strong> to 1.8, as well as all the <strong>Target Bytecode Version</strong> for your modules. Click <strong>Apply</strong> and hit <em>OK</em>. Restart your IntelliJ IDE. Lambda expression was accepted in my IDE at this point.</li>\n</ol>\n\n<p>Best wishes :)</p>\n"},{"comments":[{"owner":{"account_id":424440,"reputation":10491,"user_id":804440,"accept_rate":76,"display_name":"nilsi"},"score":3,"creation_date":1492669097,"post_id":41396451,"comment_id":74077064,"body_markdown":"Google announced that they deprecating Jack a few weeks ago. Java 8 language features support is now natively provided by the Android Gradle plugin, starting with Android Studio 2.4 Preview 4. Look [here](https://issuetracker.google.com/issues/37126573#comment2)","body":"Google announced that they deprecating Jack a few weeks ago. Java 8 language features support is now natively provided by the Android Gradle plugin, starting with Android Studio 2.4 Preview 4. Look <a href=\"https://issuetracker.google.com/issues/37126573#comment2\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":8492128,"reputation":4980,"user_id":6387618,"accept_rate":62,"display_name":"Morozov"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1483101694,"creation_date":1483101694,"answer_id":41396451,"question_id":22703412,"body_markdown":"Just add `compileOptions` in build.gradle yours app:\r\n\r\n    android {\r\n  \r\n\r\n    ...\r\n\r\n      defaultConfig {\r\n        ...\r\n        jackOptions {\r\n          enabled true\r\n        }\r\n      }\r\n      compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n      }\r\n    }\r\n\r\n","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Just add <code>compileOptions</code> in build.gradle yours app:</p>\n\n<pre><code>android {\n\n\n...\n\n  defaultConfig {\n    ...\n    jackOptions {\n      enabled true\n    }\n  }\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7761014,"reputation":821,"user_id":5873911,"accept_rate":82,"display_name":"Patrick Schaefer"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1503415235,"creation_date":1503415235,"answer_id":45821550,"question_id":22703412,"body_markdown":"Using:\r\nIntelliJ IDEA 2017.1.4 Build #IU-171.4694.23\r\n\r\nChanging the language level via the Project Settings / Project tab didn&#39;t do anything.  Instead hitting &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; and selecting &quot;Set language level to 8 - Lambdas, type annotations etc.&quot; and it resolved automatically.","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Using:\nIntelliJ IDEA 2017.1.4 Build #IU-171.4694.23</p>\n\n<p>Changing the language level via the Project Settings / Project tab didn't do anything.  Instead hitting <kbd>Alt</kbd> + <kbd>Enter</kbd> and selecting \"Set language level to 8 - Lambdas, type annotations etc.\" and it resolved automatically.</p>\n"},{"tags":[],"owner":{"account_id":5834741,"reputation":8404,"user_id":4598169,"accept_rate":80,"display_name":"Tarun Deep Attri"},"comment_count":0,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1510136422,"creation_date":1509959569,"answer_id":47133327,"question_id":22703412,"body_markdown":"In Android studio canary build(3.+), you can do the following:\r\n\r\n**File -&gt; Project Structure -&gt; Look in Modules Section, there are names of modules of your class. Click on the module in which you want to upgrade java to 1.8 version. -&gt; Change &quot;Source Compatibility&quot; and &quot;Target Compatibility&quot; to 1.8 from 1.7 or lower. Do not change anything else. -&gt; Click Apply**\r\n\r\n\r\nnow gradle will re-sync and your error will be removed.","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>In Android studio canary build(3.+), you can do the following:</p>\n\n<p><strong>File -> Project Structure -> Look in Modules Section, there are names of modules of your class. Click on the module in which you want to upgrade java to 1.8 version. -> Change \"Source Compatibility\" and \"Target Compatibility\" to 1.8 from 1.7 or lower. Do not change anything else. -> Click Apply</strong></p>\n\n<p>now gradle will re-sync and your error will be removed.</p>\n"},{"tags":[],"owner":{"account_id":3096713,"reputation":150,"user_id":2621745,"display_name":"Pruthvidhar Rao Nadunooru"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511137447,"creation_date":1511137447,"answer_id":47383525,"question_id":22703412,"body_markdown":"For me none of the solutions provided worked.\r\n\r\nThis should be your last resort:\r\n-&gt; Open .iml file of your project change the LANGUAGE_LEVEL to JDK_1_8 or whatever version you wish.\r\n-&gt; If this didn&#39;t help, you should grep &quot;JDK&quot; in your project root directory and find the file which contains version setting and set it to your preferred version.","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>For me none of the solutions provided worked.</p>\n\n<p>This should be your last resort:\n-> Open .iml file of your project change the LANGUAGE_LEVEL to JDK_1_8 or whatever version you wish.\n-> If this didn't help, you should grep \"JDK\" in your project root directory and find the file which contains version setting and set it to your preferred version.</p>\n"},{"comments":[{"owner":{"account_id":9603400,"reputation":9068,"user_id":7130121,"accept_rate":63,"display_name":"Abhishek Singh"},"score":0,"creation_date":1515734170,"post_id":47844361,"comment_id":83421540,"body_markdown":"easy and better than others","body":"easy and better than others"}],"tags":[],"owner":{"account_id":7088606,"reputation":165,"user_id":5424603,"accept_rate":67,"display_name":"Vivek"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1513417480,"creation_date":1513417480,"answer_id":47844361,"question_id":22703412,"body_markdown":"For latest users using Android studio 3.0.1 or above. Simply click Alt + Enter and upgrade your language level to 8.0 - Lambdas, type annotations etc.\r\n","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>For latest users using Android studio 3.0.1 or above. Simply click Alt + Enter and upgrade your language level to 8.0 - Lambdas, type annotations etc.</p>\n"},{"tags":[],"owner":{"account_id":2146055,"reputation":2489,"user_id":1903668,"accept_rate":65,"display_name":"Alen Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1555649433,"creation_date":1519804548,"answer_id":49024527,"question_id":22703412,"body_markdown":"This solution works in Android Studio 3.0 or later.\r\n\r\n 1. File &gt; Project Structure &gt; Modules &gt; app &gt; Properties tab\r\n\r\n[![enter image description here][1]][1]\r\n\r\nChange both of `Source Compatibility` and `Target Compatibility` to `1.8`\r\n\r\n 2. Edit config file\r\n\r\nYou can also configure it directly in the corresponding build.gradle file\r\n\r\n    android {\r\n      ...\r\n      // Configure only for each module that uses Java 8\r\n      // language features (either in its source code or\r\n      // through dependencies).\r\n      compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VTKN7.png","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>This solution works in Android Studio 3.0 or later.</p>\n\n<ol>\n<li>File > Project Structure > Modules > app > Properties tab</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/VTKN7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VTKN7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Change both of <code>Source Compatibility</code> and <code>Target Compatibility</code> to <code>1.8</code></p>\n\n<ol start=\"2\">\n<li>Edit config file</li>\n</ol>\n\n<p>You can also configure it directly in the corresponding build.gradle file</p>\n\n<pre><code>android {\n  ...\n  // Configure only for each module that uses Java 8\n  // language features (either in its source code or\n  // through dependencies).\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1525720545,"creation_date":1525720545,"answer_id":50220994,"question_id":22703412,"body_markdown":"To have support of Ecplise for lambda expressions :\r\n\r\n 1. Make sure you are using JDK 1.8 (Window &gt; Preferences &gt; Installed JREs  and Compiler );\r\n 2. Use the annotation @FunctionalInterface if you define any new functional interfaces so that eclipse will suggest you refactorings related to Lambdas ( [Functional Interfaces][1]. )\r\n\r\n\r\n  [1]: https://tutoref.com/java-8-lambda-expressions-tutorial/#functional-interfaces","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>To have support of Ecplise for lambda expressions :</p>\n\n<ol>\n<li>Make sure you are using JDK 1.8 (Window > Preferences > Installed JREs  and Compiler );</li>\n<li>Use the annotation @FunctionalInterface if you define any new functional interfaces so that eclipse will suggest you refactorings related to Lambdas ( <a href=\"https://tutoref.com/java-8-lambda-expressions-tutorial/#functional-interfaces\" rel=\"nofollow noreferrer\">Functional Interfaces</a>. )</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9954944,"reputation":550,"user_id":7366236,"accept_rate":25,"display_name":"Kejsi Struga"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526582178,"creation_date":1526582178,"answer_id":50398361,"question_id":22703412,"body_markdown":"If you are getting *Not supported at Language 5*, check this: (\r\nFor me it was in the *Modules* section)\r\n\r\n[![Lanaguge Level 5 not supported][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OMkUs.png","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>If you are getting <em>Not supported at Language 5</em>, check this: (\nFor me it was in the <em>Modules</em> section)</p>\n\n<p><a href=\"https://i.stack.imgur.com/OMkUs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OMkUs.png\" alt=\"Lanaguge Level 5 not supported\"></a></p>\n"},{"tags":[],"owner":{"account_id":5351097,"reputation":1,"user_id":9838639,"display_name":"Abhishek Tiwari"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1536219246,"creation_date":1527140700,"answer_id":50501812,"question_id":22703412,"body_markdown":"First check the version of JDK you are using, it should higher than 1.8.\r\n\r\nIf it is then proceed to do below steps.\r\n\r\nChange Language level of Project and modules in **Intellij**.\r\n\r\n**Project**\r\n\r\n&gt;1.File-&gt;Project Structure-&gt;Project-&gt;Project language level\r\n   Change it to 8 for lamba expressions to work\r\n\r\n&gt;2.File-&gt;Project Structure-&gt;Module-&gt;Project language level\r\n   Change it to 8 for lamba expressions to work\r\n\r\n","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>First check the version of JDK you are using, it should higher than 1.8.</p>\n\n<p>If it is then proceed to do below steps.</p>\n\n<p>Change Language level of Project and modules in <strong>Intellij</strong>.</p>\n\n<p><strong>Project</strong></p>\n\n<blockquote>\n  <p>1.File->Project Structure->Project->Project language level\n     Change it to 8 for lamba expressions to work</p>\n  \n  <p>2.File->Project Structure->Module->Project language level\n     Change it to 8 for lamba expressions to work</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3179693,"reputation":119,"user_id":2686731,"display_name":"Nitesh Kumar Thakur"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1541179042,"creation_date":1541179042,"answer_id":53123143,"question_id":22703412,"body_markdown":"Check below settings:\r\n\r\n1. File-&gt;Project Structure-&gt;Project Tab. \r\n\r\n        *Project SDK should be set to 8 or above.*\r\n\r\n2. File-&gt;Project Structure-&gt;Modules.\r\n\r\n        *Check that your or all modules has Language level set to 8 or above.*\r\n\r\n3. File-&gt;Settings(or Other Settings-&gt;Preference for new projects in newer Idea version)\r\n\r\n        *Search for Java compiler and check if Project byte code version \r\n        and per module byte code version is set 8 or above.*\r\n\r\nYou problem may fall into any one of the category defined above. ","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Check below settings:</p>\n\n<ol>\n<li><p>File->Project Structure->Project Tab. </p>\n\n<pre><code>*Project SDK should be set to 8 or above.*\n</code></pre></li>\n<li><p>File->Project Structure->Modules.</p>\n\n<pre><code>*Check that your or all modules has Language level set to 8 or above.*\n</code></pre></li>\n<li><p>File->Settings(or Other Settings->Preference for new projects in newer Idea version)</p>\n\n<pre><code>*Search for Java compiler and check if Project byte code version \nand per module byte code version is set 8 or above.*\n</code></pre></li>\n</ol>\n\n<p>You problem may fall into any one of the category defined above. </p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1548862656,"creation_date":1548862656,"answer_id":54444215,"question_id":22703412,"body_markdown":"7.0 does not support lambda expressions. Just add this to your app gradle to change your language level to 8.0:\r\n\r\n    compileOptions {\r\n        targetCompatibility 1.8\r\n        sourceCompatibility 1.8\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CD2Ap.png","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>7.0 does not support lambda expressions. Just add this to your app gradle to change your language level to 8.0:</p>\n\n<pre><code>compileOptions {\n    targetCompatibility 1.8\n    sourceCompatibility 1.8\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CD2Ap.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CD2Ap.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8198785,"reputation":333,"user_id":6170729,"display_name":"Abhijit"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550165898,"creation_date":1550165898,"answer_id":54696155,"question_id":22703412,"body_markdown":"this answers not working for new updated intelliJ... for new intelliJ..\r\n\r\nGo to --&gt; file --&gt; Project Structure --&gt; Global Libraries ==&gt; set to JDK 1.8 or higher version. \r\n\r\nalso File -- &gt; project Structure ---&gt; projects ===&gt; set &quot;project language manual&quot; to 8 \r\n\r\nalso File -- &gt; project Structure ---&gt; project sdk ==&gt; 1.8\r\n\r\nThis should enable lambda expression for your project.","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>this answers not working for new updated intelliJ... for new intelliJ..</p>\n\n<p>Go to --> file --> Project Structure --> Global Libraries ==> set to JDK 1.8 or higher version. </p>\n\n<p>also File -- > project Structure ---> projects ===> set \"project language manual\" to 8 </p>\n\n<p>also File -- > project Structure ---> project sdk ==> 1.8</p>\n\n<p>This should enable lambda expression for your project.</p>\n"},{"tags":[],"owner":{"account_id":752085,"reputation":3693,"user_id":753575,"accept_rate":56,"display_name":"isabsent"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554184776,"creation_date":1554184776,"answer_id":55467866,"question_id":22703412,"body_markdown":"The same project (`Android Studio 3.3.2`, `gradle-4.10.1-all.zip`, `compileSdkVersion 28`, `buildToolsVersion &#39;28.0.3&#39;`)\r\nworks fine on the **new fast Windows machine** and underline `Java 8` stuff by red color on the **old Ubuntu 18.04 laptop** (however project is compiling without errors on Ubuntu).\r\n\r\nThe only two things I have changed to force it to stop underlining by red were excluding of `incremental true` and `dexOptions`\r\n\r\n    compileOptions {\r\n    //    incremental true\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    //dexOptions {\r\n    //    javaMaxHeapSize &quot;4g&quot;\r\n    //}\r\nin the `app`- level `build.gradle`.","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>The same project (<code>Android Studio 3.3.2</code>, <code>gradle-4.10.1-all.zip</code>, <code>compileSdkVersion 28</code>, <code>buildToolsVersion '28.0.3'</code>)\nworks fine on the <strong>new fast Windows machine</strong> and underline <code>Java 8</code> stuff by red color on the <strong>old Ubuntu 18.04 laptop</strong> (however project is compiling without errors on Ubuntu).</p>\n\n<p>The only two things I have changed to force it to stop underlining by red were excluding of <code>incremental true</code> and <code>dexOptions</code></p>\n\n<pre><code>compileOptions {\n//    incremental true\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\n//dexOptions {\n//    javaMaxHeapSize \"4g\"\n//}\n</code></pre>\n\n<p>in the <code>app</code>- level <code>build.gradle</code>.</p>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612358733,"creation_date":1612358733,"answer_id":66028487,"question_id":22703412,"body_markdown":"Adding below lines in app level build.gradle in Android project solved issue.\r\n\r\n\r\n     compileOptions {\r\n            sourceCompatibility = JavaVersion.VERSION_1_8\r\n            targetCompatibility = JavaVersion.VERSION_1_8\r\n        }","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>Adding below lines in app level build.gradle in Android project solved issue.</p>\n<pre><code> compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666772004,"creation_date":1666772004,"answer_id":74204571,"question_id":22703412,"body_markdown":"File &gt; Project Structure &gt; Modules &gt; Source tab&gt; `Change Language level` to 8\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e0mvS.png","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>File &gt; Project Structure &gt; Modules &gt; Source tab&gt; <code>Change Language level</code> to 8\n<a href=\"https://i.stack.imgur.com/e0mvS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0mvS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1870149,"reputation":3268,"user_id":1692584,"accept_rate":67,"display_name":"Czipperz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208118,"favorite_count":0,"down_vote_count":1,"up_vote_count":231,"accepted_answer_id":22704620,"answer_count":25,"score":230,"last_activity_date":1666772004,"creation_date":1395975877,"question_id":22703412,"body_markdown":"I was testing out some new features of Java 8 and copied the example into my IDE (Eclipse originally, then IntelliJ) as shown [here][1]\r\n\r\n\r\nEclipse offered no support whatsoever for lambda expressions, and IntelliJ kept reporting an error \r\n\r\n&gt; Lambda expressions not supported at this language level\r\n\r\nI would like to know if this is a problem with my install, the code, or support.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/examples/RosterTest.java","title":"Java &quot;lambda expressions not supported at this language level&quot;","body":"<p>I was testing out some new features of Java 8 and copied the example into my IDE (Eclipse originally, then IntelliJ) as shown <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/examples/RosterTest.java\" rel=\"noreferrer\">here</a></p>\n\n<p>Eclipse offered no support whatsoever for lambda expressions, and IntelliJ kept reporting an error </p>\n\n<blockquote>\n  <p>Lambda expressions not supported at this language level</p>\n</blockquote>\n\n<p>I would like to know if this is a problem with my install, the code, or support.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"score":1,"creation_date":1666772443,"post_id":74204566,"comment_id":131012893,"body_markdown":"Any specific reason why you prefer the notepad and not an IDE like VS code. Which does the job for you. The IDE listens for the on save files, recompiles and run functionalities which makes it happen.","body":"Any specific reason why you prefer the notepad and not an IDE like VS code. Which does the job for you. The IDE listens for the on save files, recompiles and run functionalities which makes it happen."},{"owner":{"account_id":11087231,"reputation":1019,"user_id":8140473,"display_name":"Rohim Chou"},"score":0,"creation_date":1666772604,"post_id":74204566,"comment_id":131012945,"body_markdown":"When learning new topics, prefer not using IDE first hoping to get more understanding on how things works. Have tried on clean VS Code too, still no luck.","body":"When learning new topics, prefer not using IDE first hoping to get more understanding on how things works. Have tried on clean VS Code too, still no luck."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666772763,"post_id":74204566,"comment_id":131013000,"body_markdown":"Yes...&quot;reloading&quot; works normally for/from &quot;target/...&quot; folder (not src)...you (or another build process;) have to modify something there..","body":"Yes...&quot;reloading&quot; works normally for/from &quot;target/...&quot; folder (not src)...you (or another build process;) have to modify something there.."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666772978,"post_id":74204566,"comment_id":131013071,"body_markdown":"(e.g. `mvn package -DskipTests` from another shell;)","body":"(e.g. <code>mvn package -DskipTests</code> from another shell;)"},{"owner":{"account_id":11087231,"reputation":1019,"user_id":8140473,"display_name":"Rohim Chou"},"score":1,"creation_date":1666773026,"post_id":74204566,"comment_id":131013081,"body_markdown":"@xerx593 wow, thanks for the direction, rebuild by `mvn package` did work!","body":"@xerx593 wow, thanks for the direction, rebuild by <code>mvn package</code> did work!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666773033,"post_id":74204566,"comment_id":131013085,"body_markdown":"IDE&#39;s do it normally &quot;on the fly&quot;... while typing/saving","body":"IDE&#39;s do it normally &quot;on the fly&quot;... while typing/saving"}],"owner":{"account_id":11087231,"reputation":1019,"user_id":8140473,"display_name":"Rohim Chou"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666771965,"creation_date":1666771965,"question_id":74204566,"body_markdown":"I&#39;m learning java spring boot, and wonder can hot reload still work if using `mvn spring-boot:run` to start the application. If does, how to make it works? \r\n\r\nHave tried to update and save the .java file, however application not restarted automatically.\r\n\r\ninitialized and run the application through:\r\n```\r\nspring init --build=maven -java-version=1.8 --dependencies=web ^\r\n  --group-id=com.foo --artifact-id=myspringboot --packaging=jar myspringboot\r\n\r\ncd myspringboot \r\n\r\nmvn spring-boot:run\r\n```\r\n\r\nOS: windows 10, IDE: notepad, JDK: 1.8\r\n\r\nspring-boot-maven-plugin already included in pom.xml according to [Using Boot Devtools](https://docs.spring.io/spring-boot/docs/1.3.8.RELEASE/reference/html/using-boot-devtools.html)","title":"spring boot project not hot reloaded when code has been updated, using mvn spring-boot:run","body":"<p>I'm learning java spring boot, and wonder can hot reload still work if using <code>mvn spring-boot:run</code> to start the application. If does, how to make it works?</p>\n<p>Have tried to update and save the .java file, however application not restarted automatically.</p>\n<p>initialized and run the application through:</p>\n<pre><code>spring init --build=maven -java-version=1.8 --dependencies=web ^\n  --group-id=com.foo --artifact-id=myspringboot --packaging=jar myspringboot\n\ncd myspringboot \n\nmvn spring-boot:run\n</code></pre>\n<p>OS: windows 10, IDE: notepad, JDK: 1.8</p>\n<p>spring-boot-maven-plugin already included in pom.xml according to <a href=\"https://docs.spring.io/spring-boot/docs/1.3.8.RELEASE/reference/html/using-boot-devtools.html\" rel=\"nofollow noreferrer\">Using Boot Devtools</a></p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":3832981,"reputation":3332,"user_id":3178068,"display_name":"TiiJ7"},"score":3,"creation_date":1666768034,"post_id":74203602,"comment_id":131011487,"body_markdown":"`DateFormat` is an old class and may well predate `StringBuilder` (added in jdk1.5). The newer `DateTimeFormatter` (which you should use) does use a `StringBuilder`.","body":"<code>DateFormat</code> is an old class and may well predate <code>StringBuilder</code> (added in jdk1.5). The newer <code>DateTimeFormatter</code> (which you should use) does use a <code>StringBuilder</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666930511,"post_id":74203602,"comment_id":131055970,"body_markdown":"Not what you asked, I strongly recommend you don’t use `SimpleDateFormat`. That class is notoriously troublesome and long outdated. Instead as @TiiJ7 said use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"Not what you asked, I strongly recommend you don’t use <code>SimpleDateFormat</code>. That class is notoriously troublesome and long outdated. Instead as @TiiJ7 said use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666770126,"post_id":74203868,"comment_id":131012138,"body_markdown":"Wow, specified by [java.text.Format](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Format.html). That looks like a very old interface.","body":"Wow, specified by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Format.html\" rel=\"nofollow noreferrer\">java.text.Format</a>. That looks like a very old interface."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1666771709,"creation_date":1666768075,"answer_id":74203868,"question_id":74203602,"body_markdown":"It&#39;s because at the time when `DateFormat` was written (Java 1.1) there was no class `StringBuilder` (which only exists since Java 1.5).\r\n\r\nIf the `StringBuffer` was an implementation detail this would be no problem.\r\n\r\nBut `DateFormat` has two methods that accept and return a `StringBuffer`:\r\n\r\n- [`format(Object obj, StringBuffer toAppendTo, FieldPosition fieldPosition)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#format(java.lang.Object,java.lang.StringBuffer,java.text.FieldPosition))\r\n- [`format(Date date, StringBuffer toAppendTo, FieldPosition fieldPosition)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#format(java.util.Date,java.lang.StringBuffer,java.text.FieldPosition))\r\n\r\nRewriting these methods to accept and return a `StringBuilder` would break existing code.\r\n\r\n----\r\nPlease note that (as Johannes Kuhn has pointed out) the first of these two methods is specified by the abstract base class `java.text.Format` (also from Java 1.1), so changing this would have even greater implications.","title":"Why Jdk DateFormat use StringBuffer instead of StringBuilder?","body":"<p>It's because at the time when <code>DateFormat</code> was written (Java 1.1) there was no class <code>StringBuilder</code> (which only exists since Java 1.5).</p>\n<p>If the <code>StringBuffer</code> was an implementation detail this would be no problem.</p>\n<p>But <code>DateFormat</code> has two methods that accept and return a <code>StringBuffer</code>:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#format(java.lang.Object,java.lang.StringBuffer,java.text.FieldPosition)\" rel=\"nofollow noreferrer\"><code>format(Object obj, StringBuffer toAppendTo, FieldPosition fieldPosition)</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DateFormat.html#format(java.util.Date,java.lang.StringBuffer,java.text.FieldPosition)\" rel=\"nofollow noreferrer\"><code>format(Date date, StringBuffer toAppendTo, FieldPosition fieldPosition)</code></a></li>\n</ul>\n<p>Rewriting these methods to accept and return a <code>StringBuilder</code> would break existing code.</p>\n<hr />\n<p>Please note that (as Johannes Kuhn has pointed out) the first of these two methods is specified by the abstract base class <code>java.text.Format</code> (also from Java 1.1), so changing this would have even greater implications.</p>\n"}],"owner":{"display_name":"user9959339"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74203868,"answer_count":1,"score":2,"last_activity_date":1666771709,"creation_date":1666766389,"question_id":74203602,"body_markdown":"I checked Jdk19 source code and I noticed that DateFormat always uses StringBuffer when formatting a Date into String. Shouldn&#39;t that be StringBuilder because it&#39;s faster?","title":"Why Jdk DateFormat use StringBuffer instead of StringBuilder?","body":"<p>I checked Jdk19 source code and I noticed that DateFormat always uses StringBuffer when formatting a Date into String. Shouldn't that be StringBuilder because it's faster?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":16099845,"reputation":386,"user_id":11620930,"display_name":"ibrhm117"},"score":0,"creation_date":1666783025,"post_id":74204532,"comment_id":131016305,"body_markdown":"Is your action bar on the activity or on the FirstFragment itself ?","body":"Is your action bar on the activity or on the FirstFragment itself ?"},{"owner":{"account_id":26556496,"reputation":3,"user_id":20185022,"display_name":"Programmer1824"},"score":0,"creation_date":1666855417,"post_id":74204532,"comment_id":131035082,"body_markdown":"Its in the activity.","body":"Its in the activity."}],"owner":{"account_id":26556496,"reputation":3,"user_id":20185022,"display_name":"Programmer1824"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666771686,"creation_date":1666771686,"question_id":74204532,"body_markdown":"I&#39;m currently devoloping an app, in which there is a FirstFragment, where the user can complete Tasks, and a Settings Fragment called action_settings. Ive created an Appbar (3 dots in the top left) and added an if statement to check if the &quot;settings&quot; Option was selected. Now i have trouble navigating from the one Fragment to the other.\r\nThere is also another fragment, called second_fragment. I navigate to it everytime the user finished a set of tasks, to show him the results. here is how i usually do that:\r\n```\r\n\r\nprivate void finish(boolean failed, int questionsCorrect, int questionsWrong, int score){\r\n                started = false;\r\n                FirstFragmentDirections.ActionFirstFragmentToSecondFragment action = FirstFragmentDirections.actionFirstFragmentToSecondFragment(failed,questionsCorrect,questionsWrong,score);\r\n                NavHostFragment.findNavController(FirstFragment.this).navigate(action);\r\n\r\n}\r\n```\r\n\r\nand here is the xml code for it in nav_graph.xml\r\n```\r\n&lt;fragment\r\n        android:id=&quot;@+id/FirstFragment&quot;\r\n        android:name=&quot;com.example.testapp1.FirstFragment&quot;\r\n        android:label=&quot;@string/first_fragment_label&quot;\r\n        tools:layout=&quot;@layout/fragment_first&quot;&gt;\r\n\r\n        &lt;action\r\n            android:id=&quot;@+id/action_FirstFragment_to_SecondFragment&quot;\r\n            app:destination=&quot;@id/SecondFragment&quot; /&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_FirstFragment_to_action_settings&quot;\r\n            app:destination=&quot;@id/action_settings&quot; /&gt;\r\n    &lt;/fragment&gt; \r\n```\r\n\r\nand \r\n```\r\n&lt;fragment\r\n        android:id=&quot;@+id/SecondFragment&quot;\r\n        android:name=&quot;com.example.testapp1.SecondFragment&quot;\r\n        android:label=&quot;@string/second_fragment_label&quot;\r\n        tools:layout=&quot;@layout/fragment_second&quot;&gt;\r\n\r\n        &lt;action\r\n            android:id=&quot;@+id/action_SecondFragment_to_FirstFragment&quot;\r\n            app:destination=&quot;@id/FirstFragment&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;failed&quot;\r\n            app:argType=&quot;boolean&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;questionsCorrect&quot;\r\n            app:argType=&quot;integer&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;questionsWrong&quot;\r\n            app:argType=&quot;integer&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;score&quot;\r\n            app:argType=&quot;integer&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n```\r\n\r\ni transfer a few variables. Also my nav_graph looks like \r\n[this][1].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lt1J8.png\r\n\r\n\r\n\r\n\r\nThere are actions going firstfragment to second and settings, and actions from second and settings to first fragment. \r\n\r\n\r\nNow here is my problem. I wanna navigate from First Fragment to Settings, when a Option in the Action bar is selected. it looks like this:\r\n```\r\n@Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_settings) {\r\n\r\n            System.out.println(&quot;Test&quot;);\r\n\r\n\r\n            return true;\r\n        }\r\n```\r\n\r\nIve tested it, whenever i click the option it prints &quot;test&quot; to the console.\r\n\r\nBut when trying to insert similar code to what i did when i navigated from first fragment to second fragment, it throws an error: \r\n```\r\nif (id == R.id.action_settings) {\r\n\r\n            FirstFragmentDirections.ActionFirstFragmentToActionSettings action = FirstFragmentDirections.actionFirstFragmentToActionSettings(1);\r\n            NavHostFragment.findNavController(FirstFragment.this).navigate(action);\r\n\r\n\r\n\r\n\r\n            return true;\r\n        }\r\n```\r\n(this is in MainActivity.java)\r\nError: \r\n&#39;com.example.testapp1.FirstFragment&#39; is not an enclosing class\r\n\r\n\r\nand i dont know how to fix it. Is there any other way i can navigate to another fragment?\r\n\r\nThanks in advance\r\n","title":"Problem Navigating from Fragment to another Fragment (android)","body":"<p>I'm currently devoloping an app, in which there is a FirstFragment, where the user can complete Tasks, and a Settings Fragment called action_settings. Ive created an Appbar (3 dots in the top left) and added an if statement to check if the &quot;settings&quot; Option was selected. Now i have trouble navigating from the one Fragment to the other.\nThere is also another fragment, called second_fragment. I navigate to it everytime the user finished a set of tasks, to show him the results. here is how i usually do that:</p>\n<pre><code>\nprivate void finish(boolean failed, int questionsCorrect, int questionsWrong, int score){\n                started = false;\n                FirstFragmentDirections.ActionFirstFragmentToSecondFragment action = FirstFragmentDirections.actionFirstFragmentToSecondFragment(failed,questionsCorrect,questionsWrong,score);\n                NavHostFragment.findNavController(FirstFragment.this).navigate(action);\n\n}\n</code></pre>\n<p>and here is the xml code for it in nav_graph.xml</p>\n<pre><code>&lt;fragment\n        android:id=&quot;@+id/FirstFragment&quot;\n        android:name=&quot;com.example.testapp1.FirstFragment&quot;\n        android:label=&quot;@string/first_fragment_label&quot;\n        tools:layout=&quot;@layout/fragment_first&quot;&gt;\n\n        &lt;action\n            android:id=&quot;@+id/action_FirstFragment_to_SecondFragment&quot;\n            app:destination=&quot;@id/SecondFragment&quot; /&gt;\n        &lt;action\n            android:id=&quot;@+id/action_FirstFragment_to_action_settings&quot;\n            app:destination=&quot;@id/action_settings&quot; /&gt;\n    &lt;/fragment&gt; \n</code></pre>\n<p>and</p>\n<pre><code>&lt;fragment\n        android:id=&quot;@+id/SecondFragment&quot;\n        android:name=&quot;com.example.testapp1.SecondFragment&quot;\n        android:label=&quot;@string/second_fragment_label&quot;\n        tools:layout=&quot;@layout/fragment_second&quot;&gt;\n\n        &lt;action\n            android:id=&quot;@+id/action_SecondFragment_to_FirstFragment&quot;\n            app:destination=&quot;@id/FirstFragment&quot; /&gt;\n        &lt;argument\n            android:name=&quot;failed&quot;\n            app:argType=&quot;boolean&quot; /&gt;\n        &lt;argument\n            android:name=&quot;questionsCorrect&quot;\n            app:argType=&quot;integer&quot; /&gt;\n        &lt;argument\n            android:name=&quot;questionsWrong&quot;\n            app:argType=&quot;integer&quot; /&gt;\n        &lt;argument\n            android:name=&quot;score&quot;\n            app:argType=&quot;integer&quot; /&gt;\n    &lt;/fragment&gt;\n</code></pre>\n<p>i transfer a few variables. Also my nav_graph looks like\n<a href=\"https://i.stack.imgur.com/Lt1J8.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>There are actions going firstfragment to second and settings, and actions from second and settings to first fragment.</p>\n<p>Now here is my problem. I wanna navigate from First Fragment to Settings, when a Option in the Action bar is selected. it looks like this:</p>\n<pre><code>@Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n\n            System.out.println(&quot;Test&quot;);\n\n\n            return true;\n        }\n</code></pre>\n<p>Ive tested it, whenever i click the option it prints &quot;test&quot; to the console.</p>\n<p>But when trying to insert similar code to what i did when i navigated from first fragment to second fragment, it throws an error:</p>\n<pre><code>if (id == R.id.action_settings) {\n\n            FirstFragmentDirections.ActionFirstFragmentToActionSettings action = FirstFragmentDirections.actionFirstFragmentToActionSettings(1);\n            NavHostFragment.findNavController(FirstFragment.this).navigate(action);\n\n\n\n\n            return true;\n        }\n</code></pre>\n<p>(this is in MainActivity.java)\nError:\n'com.example.testapp1.FirstFragment' is not an enclosing class</p>\n<p>and i dont know how to fix it. Is there any other way i can navigate to another fragment?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","eclipse","maven"],"answers":[{"comments":[{"owner":{"account_id":16575329,"reputation":15,"user_id":11977255,"display_name":"Ashwin VP"},"score":0,"creation_date":1596707296,"post_id":63280727,"comment_id":111899753,"body_markdown":"actually i want to select the pom.xml file, so i choose the file path not selecting the folder..","body":"actually i want to select the pom.xml file, so i choose the file path not selecting the folder.."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1596707826,"post_id":63280727,"comment_id":111900008,"body_markdown":"You need to select the folder, not the `pom.xml`.","body":"You need to select the folder, not the <code>pom.xml</code>."}],"tags":[],"owner":{"account_id":19234067,"reputation":76,"user_id":14055397,"display_name":"Gearoid"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596706336,"creation_date":1596706336,"answer_id":63280727,"question_id":63280587,"body_markdown":"Your&#39;re selecting a folder so individual files will not be shown","title":"pom.xml file is missing when import maven project in eclipse","body":"<p>Your're selecting a folder so individual files will not be shown</p>\n"}],"owner":{"account_id":16575329,"reputation":15,"user_id":11977255,"display_name":"Ashwin VP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666771521,"creation_date":1596705821,"question_id":63280587,"body_markdown":"pom.xml file is not shown when import maven project\r\n\r\nprocess is like \r\n\r\n1.Open Eclipse\r\n\r\n2.Click **File &gt; Import**\r\n\r\n3.Type **Maven** \r\n\r\n4.**Select Existing Maven Projects**\r\n\r\n5.Click **Next**\r\n\r\n6.Click **Browse** and select the folder that is the root of the Maven project (probably contains the **pom.xml** file)\r\n\r\n**but pom.xml is not shown is not shown** \r\n\r\nthe screenshots are below\r\n\r\n**pom.xml is not shown**\r\n[![enter image description here][1]][1]\r\n\r\n\r\nbut actually the file exist the same path \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7BzCS.png\r\n  [2]: https://i.stack.imgur.com/1YJd7.png","title":"pom.xml file is missing when import maven project in eclipse","body":"<p>pom.xml file is not shown when import maven project</p>\n<p>process is like</p>\n<p>1.Open Eclipse</p>\n<p>2.Click <strong>File &gt; Import</strong></p>\n<p>3.Type <strong>Maven</strong></p>\n<p>4.<strong>Select Existing Maven Projects</strong></p>\n<p>5.Click <strong>Next</strong></p>\n<p>6.Click <strong>Browse</strong> and select the folder that is the root of the Maven project (probably contains the <strong>pom.xml</strong> file)</p>\n<p><strong>but pom.xml is not shown is not shown</strong></p>\n<p>the screenshots are below</p>\n<p><strong>pom.xml is not shown</strong>\n<a href=\"https://i.stack.imgur.com/7BzCS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7BzCS.png\" alt=\"enter image description here\" /></a></p>\n<p>but actually the file exist the same path\n<a href=\"https://i.stack.imgur.com/1YJd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1YJd7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","android-studio","android-edittext","darkmode"],"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666770998,"creation_date":1666770998,"question_id":74204411,"body_markdown":"I am developing a mobile app and there is a default day and night theme. The day theme is working perfectly fine, however on the night/dark theme, the edit text input color is difficult to see. The color of the text changes between day and night themes, but the dark theme seems off, I&#39;ve tried changing it in the values/themes.xml file but it does not work. Any help would be appreciated.\r\n\r\nThese are the comparison between day/light and night/dark mode. \r\nday/light mode:\r\n  [1]: https://i.stack.imgur.com/usaqH.png\r\n\r\nnight/dark mode:\r\n  [2]: https://i.stack.imgur.com/DkGLh.png","title":"Android studio EditText input color difficult to see on Dark Mode","body":"<p>I am developing a mobile app and there is a default day and night theme. The day theme is working perfectly fine, however on the night/dark theme, the edit text input color is difficult to see. The color of the text changes between day and night themes, but the dark theme seems off, I've tried changing it in the values/themes.xml file but it does not work. Any help would be appreciated.</p>\n<p>These are the comparison between day/light and night/dark mode.\nday/light mode:\n[1]: <a href=\"https://i.stack.imgur.com/usaqH.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/usaqH.png</a></p>\n<p>night/dark mode:\n[2]: <a href=\"https://i.stack.imgur.com/DkGLh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DkGLh.png</a></p>\n"},{"tags":["java","lombok"],"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666770561,"creation_date":1666770561,"question_id":74204336,"body_markdown":"How can I custom constructor use lombok in java.\r\n\r\n**Code:**\r\n\r\n    public class Bean {\r\n    \r\n        private List&lt;Integer&gt; list;\r\n    \r\n        public Bean(List&lt;Integer&gt; list) {\r\n            this.list = Collections.unmodifiableList(list);\r\n        }\r\n    \r\n        public Bean(Integer... array) {\r\n            this(Arrays.asList(array));\r\n        }\r\n    \r\n        public void setList(Integer... array) {\r\n            this.list = Arrays.asList(array);\r\n        }\r\n    }\r\n\r\nThe first constructor can use `@Builder` and `@Singular` to achieve a similar effect.\r\nBut how should the second constructor or method `setList` (like this with other logic) be implemented?","title":"custom constructor use lombok in java","body":"<p>How can I custom constructor use lombok in java.</p>\n<p><strong>Code:</strong></p>\n<pre><code>public class Bean {\n\n    private List&lt;Integer&gt; list;\n\n    public Bean(List&lt;Integer&gt; list) {\n        this.list = Collections.unmodifiableList(list);\n    }\n\n    public Bean(Integer... array) {\n        this(Arrays.asList(array));\n    }\n\n    public void setList(Integer... array) {\n        this.list = Arrays.asList(array);\n    }\n}\n</code></pre>\n<p>The first constructor can use <code>@Builder</code> and <code>@Singular</code> to achieve a similar effect.\nBut how should the second constructor or method <code>setList</code> (like this with other logic) be implemented?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1450707368,"post_id":31718789,"comment_id":56536507,"body_markdown":"Possible duplicate of [How to avoid that pressing the ALT key takes away the focus from my GUI](http://stackoverflow.com/questions/868553/how-to-avoid-that-pressing-the-alt-key-takes-away-the-focus-from-my-gui)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/868553/how-to-avoid-that-pressing-the-alt-key-takes-away-the-focus-from-my-gui\">How to avoid that pressing the ALT key takes away the focus from my GUI</a>"}],"owner":{"account_id":6696526,"reputation":21,"user_id":5164391,"display_name":"CSB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666770484,"creation_date":1438245003,"question_id":31718789,"body_markdown":"I tried to programm spaceinvaders with the tutorial:\r\n[spaceinvaders][1]\r\n\r\nEverything is okay so far, but I could&#39;nt find out how to set the focus again\r\non the player after I did a shot. So the player will not move anymore.\r\nI tried allready a couple of hours and so I know the keyevents are working - until i shoot.\r\n(`System.out.println` - for testing the events are ok)\r\n\r\nI can move the player very fast befor I shot, but afterwards no chance.\r\nI can do shots again, but the VK_LEFT` nor the VK_RIGHT will react anymore.\r\n\r\nI work with Eclipse Luna and Java build 1.8.0_40, and use the original code,\r\nmade me some little PNGs.\r\nI just specified \r\n`Iterator&lt;Alien&gt; it = aliens.iterator();` and\r\nchanged: //  `ImageIcon ii = new ImageIcon(this.getClass().getResource(shot));`\r\nto:  \t\r\n\r\n    ImageIcon ii = new ImageIcon(shot);\r\n\r\nbecause otherwise I get a NullPointer Exception.\r\n\r\nThis I tried in the board.class: Workes a litte better, but the player still want move all the time I want.\r\nWhat bothers me most is, it works some times and without I can find a reason, the player stop and\r\nwant move anymore.\r\n\r\n\r\n \r\n\r\n     private class TAdapter extends KeyAdapter {\r\n    \r\n        \t@Override\r\n            public void keyReleased(KeyEvent e) {\r\n        \t  \r\n        \t\t\t //Original just this code \r\n        \t\t   //player.keyReleased(e);\r\n        \t\t\r\n        \t\t//works better, but still not as expected\r\n        \t\tif(ingame)\r\n        \t\t{\r\n        \t\t\tif (e.getKeyCode() == KeyEvent.VK_LEFT || e.getKeyCode() == KeyEvent.VK_RIGHT )\r\n        \t\t\t{\r\n        \t\t\t\tplayer.keyReleased(e);\r\n        \t\t\t\t\r\n        \t\t\t}\r\n        \t\t\t if(e.getKeyCode()== KeyEvent.VK_ALT) \r\n            \t     {\r\n        \t\t\t\t player.x += player.dx;\r\n        \t\t\t          if (player.x &lt;= 2) \r\n        \t\t\t        \tplayer.x = 2;\r\n        \t\t\t        if (player.x &gt;= BOARD_WIDTH -2*player.width) \r\n        \t\t\t        \tplayer.x= BOARD_WIDTH - 2*player.width;\r\n        \t\t\t\t \r\n            \t     }\r\n        \t\t}\r\n        \t       \r\n            }\r\n \r\n\r\n\r\n\r\nI hope you can help me.\r\nNice regards\r\nC.\r\n\r\n\r\n  [1]: https://zetcode.com/javagames/spaceinvaders/\r\n","title":"Zetcode.com Java: Spaceinvaders Player don&#39;t move anymore after I shot a bullet","body":"<p>I tried to programm spaceinvaders with the tutorial:\n<a href=\"https://zetcode.com/javagames/spaceinvaders/\" rel=\"nofollow noreferrer\">spaceinvaders</a></p>\n<p>Everything is okay so far, but I could'nt find out how to set the focus again\non the player after I did a shot. So the player will not move anymore.\nI tried allready a couple of hours and so I know the keyevents are working - until i shoot.\n(<code>System.out.println</code> - for testing the events are ok)</p>\n<p>I can move the player very fast befor I shot, but afterwards no chance.\nI can do shots again, but the VK_LEFT` nor the VK_RIGHT will react anymore.</p>\n<p>I work with Eclipse Luna and Java build 1.8.0_40, and use the original code,\nmade me some little PNGs.\nI just specified\n<code>Iterator&lt;Alien&gt; it = aliens.iterator();</code> and\nchanged: //  <code>ImageIcon ii = new ImageIcon(this.getClass().getResource(shot));</code>\nto:</p>\n<pre><code>ImageIcon ii = new ImageIcon(shot);\n</code></pre>\n<p>because otherwise I get a NullPointer Exception.</p>\n<p>This I tried in the board.class: Workes a litte better, but the player still want move all the time I want.\nWhat bothers me most is, it works some times and without I can find a reason, the player stop and\nwant move anymore.</p>\n<pre><code> private class TAdapter extends KeyAdapter {\n\n        @Override\n        public void keyReleased(KeyEvent e) {\n          \n                 //Original just this code \n               //player.keyReleased(e);\n            \n            //works better, but still not as expected\n            if(ingame)\n            {\n                if (e.getKeyCode() == KeyEvent.VK_LEFT || e.getKeyCode() == KeyEvent.VK_RIGHT )\n                {\n                    player.keyReleased(e);\n                    \n                }\n                 if(e.getKeyCode()== KeyEvent.VK_ALT) \n                 {\n                     player.x += player.dx;\n                          if (player.x &lt;= 2) \n                            player.x = 2;\n                        if (player.x &gt;= BOARD_WIDTH -2*player.width) \n                            player.x= BOARD_WIDTH - 2*player.width;\n                     \n                 }\n            }\n               \n        }\n</code></pre>\n<p>I hope you can help me.\nNice regards\nC.</p>\n"},{"tags":["java","testing","playwright","playwright-java"],"answers":[{"comments":[{"owner":{"account_id":18201171,"reputation":1870,"user_id":13245310,"display_name":"Bert Blommers"},"score":0,"creation_date":1667042284,"post_id":74204266,"comment_id":131079892,"body_markdown":"The question was speicifcally about how to configure Playwright, not what the generated code should look like. This does not seem to answer the question.","body":"The question was speicifcally about how to configure Playwright, not what the generated code should look like. This does not seem to answer the question."}],"tags":[],"owner":{"account_id":26597352,"reputation":77,"user_id":20219484,"display_name":"alfah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666770204,"creation_date":1666770204,"answer_id":74204266,"question_id":74125792,"body_markdown":"Sorry if I am wrong. But you should get something like this from an inspector which compiles fine\r\n\r\n```\r\n        \r\npackage org.example;\r\nimport com.microsoft.playwright.*;\r\nimport com.microsoft.playwright.options.*;\r\nimport static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\r\nimport java.util.*;\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        try (Playwright playwright = Playwright.create()) {\r\n            Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions()\r\n                    .setHeadless(false));\r\n            BrowserContext context = browser.newContext();\r\n            // Open new page\r\n            Page page = context.newPage();\r\n            // Go to https://www.wikipedia.org/\r\n            page.navigate(&quot;https://www.wikipedia.org/&quot;);\r\n            // Click input[name=&quot;search&quot;]\r\n            page.locator(&quot;input[name=\\&quot;search\\&quot;]&quot;).click();\r\n            // Fill input[name=&quot;search&quot;]\r\n            page.locator(&quot;input[name=\\&quot;search\\&quot;]&quot;).fill(&quot;stackoverflow&quot;);\r\n            // Click button:has-text(&quot;Search&quot;)\r\n            page.locator(&quot;button:has-text(\\&quot;Search\\&quot;)&quot;).click();\r\n            assertThat(page).hasURL(&quot;https://en.wikipedia.org/wiki/Stack_Overflow&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Why does Playwright&#39;s generated Java code have invalid syntax?","body":"<p>Sorry if I am wrong. But you should get something like this from an inspector which compiles fine</p>\n<pre><code>        \npackage org.example;\nimport com.microsoft.playwright.*;\nimport com.microsoft.playwright.options.*;\nimport static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\nimport java.util.*;\npublic class Example {\n    public static void main(String[] args) {\n        try (Playwright playwright = Playwright.create()) {\n            Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions()\n                    .setHeadless(false));\n            BrowserContext context = browser.newContext();\n            // Open new page\n            Page page = context.newPage();\n            // Go to https://www.wikipedia.org/\n            page.navigate(&quot;https://www.wikipedia.org/&quot;);\n            // Click input[name=&quot;search&quot;]\n            page.locator(&quot;input[name=\\&quot;search\\&quot;]&quot;).click();\n            // Fill input[name=&quot;search&quot;]\n            page.locator(&quot;input[name=\\&quot;search\\&quot;]&quot;).fill(&quot;stackoverflow&quot;);\n            // Click button:has-text(&quot;Search&quot;)\n            page.locator(&quot;button:has-text(\\&quot;Search\\&quot;)&quot;).click();\n            assertThat(page).hasURL(&quot;https://en.wikipedia.org/wiki/Stack_Overflow&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6721640,"reputation":120,"user_id":16963686,"display_name":"CampingCow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666770204,"creation_date":1666184496,"question_id":74125792,"body_markdown":"When I use the Playwright&#39;s codegen feature it traces my clickpath into a Java file. But the created file has the wrong syntax, so I can&#39;t compile it. \r\n\r\nI start the codegen with:  \r\n\r\n```\r\nmvn exec:java -e -Dexec.mainClass=com.microsoft.playwright.CLI -Dexec.args=&quot;codegen wikipedia.org&quot;\r\n```\r\n\r\nAnd the inspector provides this code:\r\n\r\n``` \r\npublic class Example {\r\n  public static void main(String[] args) {\r\n    try (Playwright playwright = Playwright.create()) {\r\n      Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions()\r\n        .setHeadless(false));\r\n\r\n      BrowserContext context = browser.newContext();\r\n      page.navigate(&quot;https://en.wikipedia.org/wiki/Main_Page&quot;);\r\n      page.getByPlaceholder(&quot;Search Wikipedia&quot;).click();\r\n      page.getByPlaceholder(&quot;Search Wikipedia&quot;).fill(&quot;stackoverflow&quot;);\r\n      page.getByRole(&quot;button&quot;, new Page.GetByRoleOptions().setName(&quot;Go&quot;)).click();\r\n      assertThat(page).hasURL(&quot;https://en.wikipedia.org/wiki/Stack_Overflow&quot;);\r\n    }\r\n  }\r\n}\r\n``` \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QIOFN.png\r\n\r\nBut there is already the first error. The method `getByRole` requires an AriaRole as its first parameter, not a String. So it&#39;s easy to fix, but I think it&#39;s not the idea of the product to generate code and let the developer fix it.\r\n\r\nIn some YouTube tutorials the inspector generates only fill and click functions with powerful selectors inside. \r\n\r\nIs there a way to change the generated output to a specifc &quot;code-style&quot;? Or is there another reason why other people get nice working code and I don&#39;t?\r\n\r\nMy dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.playwright&lt;/groupId&gt;\r\n        &lt;artifactId&gt;playwright&lt;/artifactId&gt;\r\n        &lt;version&gt;1.27.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Why does Playwright&#39;s generated Java code have invalid syntax?","body":"<p>When I use the Playwright's codegen feature it traces my clickpath into a Java file. But the created file has the wrong syntax, so I can't compile it.</p>\n<p>I start the codegen with:</p>\n<pre><code>mvn exec:java -e -Dexec.mainClass=com.microsoft.playwright.CLI -Dexec.args=&quot;codegen wikipedia.org&quot;\n</code></pre>\n<p>And the inspector provides this code:</p>\n<pre><code>public class Example {\n  public static void main(String[] args) {\n    try (Playwright playwright = Playwright.create()) {\n      Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions()\n        .setHeadless(false));\n\n      BrowserContext context = browser.newContext();\n      page.navigate(&quot;https://en.wikipedia.org/wiki/Main_Page&quot;);\n      page.getByPlaceholder(&quot;Search Wikipedia&quot;).click();\n      page.getByPlaceholder(&quot;Search Wikipedia&quot;).fill(&quot;stackoverflow&quot;);\n      page.getByRole(&quot;button&quot;, new Page.GetByRoleOptions().setName(&quot;Go&quot;)).click();\n      assertThat(page).hasURL(&quot;https://en.wikipedia.org/wiki/Stack_Overflow&quot;);\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QIOFN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QIOFN.png\" alt=\"enter image description here\" /></a></p>\n<p>But there is already the first error. The method <code>getByRole</code> requires an AriaRole as its first parameter, not a String. So it's easy to fix, but I think it's not the idea of the product to generate code and let the developer fix it.</p>\n<p>In some YouTube tutorials the inspector generates only fill and click functions with powerful selectors inside.</p>\n<p>Is there a way to change the generated output to a specifc &quot;code-style&quot;? Or is there another reason why other people get nice working code and I don't?</p>\n<p>My dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.playwright&lt;/groupId&gt;\n    &lt;artifactId&gt;playwright&lt;/artifactId&gt;\n    &lt;version&gt;1.27.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","maven","ssl","https","httpclient"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666770431,"post_id":74204234,"comment_id":131012233,"body_markdown":"Does this answer your question? [Is there a java setting for disabling certificate validation?](https://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4663147/is-there-a-java-setting-for-disabling-certificate-validation\">Is there a java setting for disabling certificate validation?</a>"},{"owner":{"account_id":19890586,"reputation":11,"user_id":14572741,"display_name":"Elg&#252;n Ş&#252;k&#252;rov"},"score":1,"creation_date":1666770681,"post_id":74204234,"comment_id":131012303,"body_markdown":"Not actually, error, java version and HttpClient differ.","body":"Not actually, error, java version and HttpClient differ."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1666772755,"post_id":74204234,"comment_id":131012997,"body_markdown":"If the server has an TLS certificate that works in your web browser then most likely this is caused by the outdated Java version or to be precise the outdated `cacerts`  file of the used JRE. One possible solution would be to update this file from a recent Java 8 version or specify a custom truststore that contains the root and intermediate CA files you require for that project  https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore","body":"If the server has an TLS certificate that works in your web browser then most likely this is caused by the outdated Java version or to be precise the outdated <code>cacerts</code>  file of the used JRE. One possible solution would be to update this file from a recent Java 8 version or specify a custom truststore that contains the root and intermediate CA files you require for that project  <a href=\"https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore\" title=\"ssl and cert keystore\">stackoverflow.com/questions/5871279/ssl-and-cert-keystore</a>"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666776811,"post_id":74204234,"comment_id":131014292,"body_markdown":"Shouldn&#39;t be the update to Java 8 be [quiet easy](https://www.oracle.com/java/technologies/javase/8-compatibility-guide.html)?","body":"Shouldn&#39;t be the update to Java 8 be <a href=\"https://www.oracle.com/java/technologies/javase/8-compatibility-guide.html\" rel=\"nofollow noreferrer\">quiet easy</a>?"}],"owner":{"account_id":19890586,"reputation":11,"user_id":14572741,"display_name":"Elg&#252;n Ş&#252;k&#252;rov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666770065,"creation_date":1666769983,"question_id":74204234,"body_markdown":"I am using old tech stack for maven webapp because of architecture: Java - 1.6, httpClient - 4.2.3. (DefaultHttpClient)\r\nI am trying redirect from speed-link to another site within signed form. Process includes two part: firstly I am sending **https** post request for getting JWT token, Secondly I am sending **https** get request with the specific token.\r\nBut when I click the redirect link which gets token, I am getting **javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated** error. \r\n\r\n\r\n```\r\nDefaultHttpClient httpClient = new DefaultHttpClient();\r\ntry {\r\n  HttpPost postRequest = new HttpPost(endpointAddress);\r\n  StringEntity input = new StringEntity(jo.toString(), &quot;UTF-8&quot;);\r\n  input.setContentType(&quot;application/json&quot;);\r\n  postRequest.setEntity(input);\r\n\r\n  HttpResponse response = httpClient.execute(postRequest);\r\n  HttpEntity httpEntity = response.getEntity();\r\n  String responseString = EntityUtils.toString(httpEntity);\r\n  JSONObject resultObj = new JSONObject(responseString);\r\n  String tokenId = resultObj.getString(&quot;token&quot;);\r\n}catch(Exception e) {\r\n  e.printStackTrace();\r\n}finally {\r\n  httpClient.getConnectionManager().shutdown();\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI found a solution from similar asked questions, but it did not worked in my case.\r\n\r\n\r\n```\r\nprivate DefaultHttpClient getDefaultHttpClient(DefaultHttpClient httpClient) throws NoSuchAlgorithmException, KeyManagementException {\r\n\t\t\r\n\t\tSSLContext sslContext = null;\r\n\t\tsslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n\r\n\t\t// set up a TrustManager that trusts everything\r\n\t\tsslContext.init(null, new TrustManager[] { new X509TrustManager() {\r\n\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\t\t\tSystem.out.println(&quot;getAcceptedIssuers =============&quot;);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n\t\t\t\tSystem.out.println(&quot;checkClientTrusted =============&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n\t\t\t\tSystem.out.println(&quot;checkServerTrusted =============&quot;);\r\n\t\t\t}\r\n\t\t} }, new SecureRandom());\r\n\r\n\t\tfinal SSLSocketFactory theSslSocketFactory = new SSLSocketFactory(sslContext);\r\n\r\n\t\tfinal Scheme theHttpsScheme = new Scheme(&quot;https&quot;, theSslSocketFactory, 443);\r\n\t\thttpClient.getConnectionManager().getSchemeRegistry().register(theHttpsScheme);\r\n\t\t\r\n\t\treturn httpClient;\r\n\t}\r\n```\r\n","title":"Is there any option for disable SSL certificate while HTTPS post request or any solution in Java 1.6?","body":"<p>I am using old tech stack for maven webapp because of architecture: Java - 1.6, httpClient - 4.2.3. (DefaultHttpClient)\nI am trying redirect from speed-link to another site within signed form. Process includes two part: firstly I am sending <strong>https</strong> post request for getting JWT token, Secondly I am sending <strong>https</strong> get request with the specific token.\nBut when I click the redirect link which gets token, I am getting <strong>javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated</strong> error.</p>\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\ntry {\n  HttpPost postRequest = new HttpPost(endpointAddress);\n  StringEntity input = new StringEntity(jo.toString(), &quot;UTF-8&quot;);\n  input.setContentType(&quot;application/json&quot;);\n  postRequest.setEntity(input);\n\n  HttpResponse response = httpClient.execute(postRequest);\n  HttpEntity httpEntity = response.getEntity();\n  String responseString = EntityUtils.toString(httpEntity);\n  JSONObject resultObj = new JSONObject(responseString);\n  String tokenId = resultObj.getString(&quot;token&quot;);\n}catch(Exception e) {\n  e.printStackTrace();\n}finally {\n  httpClient.getConnectionManager().shutdown();\n}\n</code></pre>\n<p>I found a solution from similar asked questions, but it did not worked in my case.</p>\n<pre><code>private DefaultHttpClient getDefaultHttpClient(DefaultHttpClient httpClient) throws NoSuchAlgorithmException, KeyManagementException {\n        \n        SSLContext sslContext = null;\n        sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n\n        // set up a TrustManager that trusts everything\n        sslContext.init(null, new TrustManager[] { new X509TrustManager() {\n            public X509Certificate[] getAcceptedIssuers() {\n                System.out.println(&quot;getAcceptedIssuers =============&quot;);\n                return null;\n            }\n\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                System.out.println(&quot;checkClientTrusted =============&quot;);\n            }\n\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                System.out.println(&quot;checkServerTrusted =============&quot;);\n            }\n        } }, new SecureRandom());\n\n        final SSLSocketFactory theSslSocketFactory = new SSLSocketFactory(sslContext);\n\n        final Scheme theHttpsScheme = new Scheme(&quot;https&quot;, theSslSocketFactory, 443);\n        httpClient.getConnectionManager().getSchemeRegistry().register(theHttpsScheme);\n        \n        return httpClient;\n    }\n</code></pre>\n"},{"tags":["java","velocity","velocity-template-language"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1567666342,"creation_date":1567664012,"answer_id":57799380,"question_id":57798972,"body_markdown":"Velocity allows you to use [Singleton model][1]\n\n&gt;     Velocity.setProperty(Velocity.RUNTIME_LOG_NAME, &quot;mylog&quot;);\n&gt;     Velocity.init();\n&gt;     Template t = Velocity.getTemplate(&quot;foo.vm&quot;);\n&gt;Developers have two options for using the Velocity engine, the singleton model and the separate instance model. The same core Velocity code is used for both approaches, which are provided to make Velocity easier to integrate into your Java application.\n\nBasically, instead of [VelocityEngine][2], you can use Velocity class:\n\n&gt;This class provides a separate new-able instance of the Velocity template engine. The alternative model for use is using the Velocity class which employs the singleton model.\n\n[1]:https://velocity.apache.org/engine/2.0/developer-guide.html#to-singleton-or-not-to-singleton\n\n[2]:https://velocity.apache.org/engine/2.0/apidocs/org/apache/velocity/app/VelocityEngine.html","title":"Create a reusable parse method which uses velocity","body":"<p>Velocity allows you to use <a href=\"https://velocity.apache.org/engine/2.0/developer-guide.html#to-singleton-or-not-to-singleton\" rel=\"nofollow noreferrer\">Singleton model</a></p>\n<blockquote>\n<pre><code>Velocity.setProperty(Velocity.RUNTIME_LOG_NAME, &quot;mylog&quot;);\nVelocity.init();\nTemplate t = Velocity.getTemplate(&quot;foo.vm&quot;);\n</code></pre>\n<p>Developers have two options for using the Velocity engine, the singleton model and the separate instance model. The same core Velocity code is used for both approaches, which are provided to make Velocity easier to integrate into your Java application.</p>\n</blockquote>\n<p>Basically, instead of <a href=\"https://velocity.apache.org/engine/2.0/apidocs/org/apache/velocity/app/VelocityEngine.html\" rel=\"nofollow noreferrer\">VelocityEngine</a>, you can use Velocity class:</p>\n<blockquote>\n<p>This class provides a separate new-able instance of the Velocity template engine. The alternative model for use is using the Velocity class which employs the singleton model.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567682570,"creation_date":1567682570,"answer_id":57804408,"question_id":57798972,"body_markdown":"`RuntimeInstance` is an internal class you don&#39;t have to deal with.\r\n\r\n`VelocityEngine`, as well as the singleton class `Velocity` (which relies on `VelocityEngine`), are re-entrant (as well as their associated template resource loaders). It means that they can safely be used in a multi-threaded environment.\r\n","title":"Create a reusable parse method which uses velocity","body":"<p><code>RuntimeInstance</code> is an internal class you don't have to deal with.</p>\n\n<p><code>VelocityEngine</code>, as well as the singleton class <code>Velocity</code> (which relies on <code>VelocityEngine</code>), are re-entrant (as well as their associated template resource loaders). It means that they can safely be used in a multi-threaded environment.</p>\n"},{"tags":[],"owner":{"account_id":456091,"reputation":1024,"user_id":854680,"display_name":"MikeOnline"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666769508,"creation_date":1666769001,"answer_id":74204056,"question_id":57798972,"body_markdown":"Each time you instantiate a `VelocityEngine`, you&#39;ll need to call `init()` once on it.  Reusing a previous `VelocityEngine` instance avoids the need for additional `init()` calls.\r\n\r\nBut the key benefit in reusing a `VelocityEngine` instance is to make use of automatic template parsing and caching via its resource loaders.  In the code in your question, you&#39;re manually instantiating `Template` objects and loading them with data from strings.  A cleaner way is to configure your `VelocityEngine` to support a &quot;string resource loader&quot;, then store each string containing a template body within a `StringResourceRepository` associated with your `VelocityEngine` instance.  This is all demonstrated for Velocity 2.1 at [this StackOverflow answer][1].\r\n\r\nA few notes in addition:\r\n\r\n 1. Velocity will take care of parsing your templates automatically with\r\n    the approach shown in the link, above.  No need to manually parse or call `initDocument()` on a `Template`.\r\n\r\n 2. With this approach Velocity will take care of caching your templates (in parsed form)\r\n    automatically if you&#39;ve configured your string resource loader (in\r\n    your `VelocityEngine` instance) with caching enabled.\r\n\r\n 3. The above two points will allow your code to be simpler and faster.  You can further simplify the code: instead of calling `yourVelocityEngineInstance.getTemplate()` and then `merge()`, you can call `yourVelocityEngineInstance.mergeTemplate()`.\r\n\r\n 4. When adding a template to a `StringResourceRepository` via a call to `yourRepo.putStringResource()`, you specify a template name as well as the body of the template.  If there is no obvious name to use you can write an MD5 hashing function to quickly generate an MD5 hash string of the template body and use that as a unique name (got this tip from another Velocity user).  If the template body ever changes that would generate a distinct name.  There is a corresponding `removeStringResource()` method to delete templates from the string resource repository.\r\n\r\n 5. Once a template is placed in the string resource repository Velocity can locate it &quot;magically&quot; by name.  You can call `yourVelocityEngineInstance.resourceExists(&quot;YourTemplateName&quot;)` to see if a given template exists in the repository or not.\r\n\r\nI do not know the performance cost of instantiating and initializing a\r\n    `VelocityEngine`, a `RuntimeInstance` or a `VelocityContext`.  Until the Velocity documentation provides clearer guidance on optimizing performance, you&#39;ll have to do your own performance testing to find out.\r\n\r\n  [1]: https://stackoverflow.com/questions/1432468/how-to-use-string-as-velocity-template/59412507#59412507","title":"Create a reusable parse method which uses velocity","body":"<p>Each time you instantiate a <code>VelocityEngine</code>, you'll need to call <code>init()</code> once on it.  Reusing a previous <code>VelocityEngine</code> instance avoids the need for additional <code>init()</code> calls.</p>\n<p>But the key benefit in reusing a <code>VelocityEngine</code> instance is to make use of automatic template parsing and caching via its resource loaders.  In the code in your question, you're manually instantiating <code>Template</code> objects and loading them with data from strings.  A cleaner way is to configure your <code>VelocityEngine</code> to support a &quot;string resource loader&quot;, then store each string containing a template body within a <code>StringResourceRepository</code> associated with your <code>VelocityEngine</code> instance.  This is all demonstrated for Velocity 2.1 at <a href=\"https://stackoverflow.com/questions/1432468/how-to-use-string-as-velocity-template/59412507#59412507\">this StackOverflow answer</a>.</p>\n<p>A few notes in addition:</p>\n<ol>\n<li><p>Velocity will take care of parsing your templates automatically with\nthe approach shown in the link, above.  No need to manually parse or call <code>initDocument()</code> on a <code>Template</code>.</p>\n</li>\n<li><p>With this approach Velocity will take care of caching your templates (in parsed form)\nautomatically if you've configured your string resource loader (in\nyour <code>VelocityEngine</code> instance) with caching enabled.</p>\n</li>\n<li><p>The above two points will allow your code to be simpler and faster.  You can further simplify the code: instead of calling <code>yourVelocityEngineInstance.getTemplate()</code> and then <code>merge()</code>, you can call <code>yourVelocityEngineInstance.mergeTemplate()</code>.</p>\n</li>\n<li><p>When adding a template to a <code>StringResourceRepository</code> via a call to <code>yourRepo.putStringResource()</code>, you specify a template name as well as the body of the template.  If there is no obvious name to use you can write an MD5 hashing function to quickly generate an MD5 hash string of the template body and use that as a unique name (got this tip from another Velocity user).  If the template body ever changes that would generate a distinct name.  There is a corresponding <code>removeStringResource()</code> method to delete templates from the string resource repository.</p>\n</li>\n<li><p>Once a template is placed in the string resource repository Velocity can locate it &quot;magically&quot; by name.  You can call <code>yourVelocityEngineInstance.resourceExists(&quot;YourTemplateName&quot;)</code> to see if a given template exists in the repository or not.</p>\n</li>\n</ol>\n<p>I do not know the performance cost of instantiating and initializing a\n<code>VelocityEngine</code>, a <code>RuntimeInstance</code> or a <code>VelocityContext</code>.  Until the Velocity documentation provides clearer guidance on optimizing performance, you'll have to do your own performance testing to find out.</p>\n"}],"owner":{"account_id":3271425,"reputation":2173,"user_id":2754724,"accept_rate":68,"display_name":"Crusaderpyro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57799380,"answer_count":3,"score":1,"last_activity_date":1666769508,"creation_date":1567661562,"question_id":57798972,"body_markdown":"We are using velocity to parse our templates. \r\n\r\n[Velocity developer guide][1] suggests to create a new VelocityContext for every parsing\r\n\r\nBut what about the `VelocityEngine` and the `RuntimeInstances`?\r\n\r\n **Can we reuse them or is it better to create new instances every call ? Will the new instances of VelocityEngine cause memory leaks ?**\r\n\r\n\r\n      public String parse(String templateStr, Map&lt;String, String&gt; params) {\r\n            StringWriter writer = new StringWriter();\r\n            try {\r\n                VelocityEngine velocityEngine = new VelocityEngine();\r\n                velocityEngine.init();\r\n                RuntimeServices rs = RuntimeSingleton.getRuntimeServices();\r\n                StringReader sr = new StringReader(templateStr);\r\n                SimpleNode sn = rs.parse(sr, &quot;template&quot;);\r\n    \r\n                Template t = new Template();\r\n                t.setRuntimeServices(rs);\r\n                t.setData(sn);\r\n                t.initDocument();\r\n    \r\n                VelocityContext context = new VelocityContext();\r\n              \r\n                if (params != null &amp;&amp; !params.isEmpty()) {\r\n                    for (Entry&lt;String, String&gt; entry : params.entrySet()) {\r\n                        context.put(entry.getKey(), entry.getValue());\r\n                    }\r\n                }\r\n                t.merge(context, writer);\r\n            } catch (Exception e) {\r\n                LOGGER.error(&quot;Exception in velocity parsing&quot;, e);\r\n    \r\n            }\r\n            return writer.toString();\r\n    \r\n        }\r\n\r\n\r\n  [1]: https://velocity.apache.org/engine/1.7/developer-guide.html#other-context-issues","title":"Create a reusable parse method which uses velocity","body":"<p>We are using velocity to parse our templates. </p>\n\n<p><a href=\"https://velocity.apache.org/engine/1.7/developer-guide.html#other-context-issues\" rel=\"nofollow noreferrer\">Velocity developer guide</a> suggests to create a new VelocityContext for every parsing</p>\n\n<p>But what about the <code>VelocityEngine</code> and the <code>RuntimeInstances</code>?</p>\n\n<p><strong>Can we reuse them or is it better to create new instances every call ? Will the new instances of VelocityEngine cause memory leaks ?</strong></p>\n\n<pre><code>  public String parse(String templateStr, Map&lt;String, String&gt; params) {\n        StringWriter writer = new StringWriter();\n        try {\n            VelocityEngine velocityEngine = new VelocityEngine();\n            velocityEngine.init();\n            RuntimeServices rs = RuntimeSingleton.getRuntimeServices();\n            StringReader sr = new StringReader(templateStr);\n            SimpleNode sn = rs.parse(sr, \"template\");\n\n            Template t = new Template();\n            t.setRuntimeServices(rs);\n            t.setData(sn);\n            t.initDocument();\n\n            VelocityContext context = new VelocityContext();\n\n            if (params != null &amp;&amp; !params.isEmpty()) {\n                for (Entry&lt;String, String&gt; entry : params.entrySet()) {\n                    context.put(entry.getKey(), entry.getValue());\n                }\n            }\n            t.merge(context, writer);\n        } catch (Exception e) {\n            LOGGER.error(\"Exception in velocity parsing\", e);\n\n        }\n        return writer.toString();\n\n    }\n</code></pre>\n"},{"tags":["java","mongodb","scala"],"owner":{"account_id":25881724,"reputation":13,"user_id":19610643,"display_name":"Dqvid Dqvid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666769234,"creation_date":1666739802,"question_id":74201090,"body_markdown":"I have a problem using a statement to update root fields and an array at the same time. Statement in Mongo:\r\n\r\n```\r\ndb.getCollection(&#39;prueba&#39;).update(\r\n{&quot;cdAccount&quot;: &quot;ES3100810348150001326934&quot;},\r\n[{&quot;$set&quot;: {&quot;camp1&quot;: {&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;$camp1&quot;]}, &quot;cdAcctCurrency&quot;: &quot;LIB&quot;}, &quot;$setOnInsert&quot;: {&quot;arCtBDFrame&quot;: [{&quot;cdEntitFrame&quot;: &quot;01&quot;, &quot;cdProductFrame&quot;: &quot;BD&quot;}]}}]);\r\n\r\nA pipeline stage specification object must contain exactly one field. \r\n\r\n```\r\n\r\nIt seems that this is due to the $cond operator and because i am updating an array, if I remove the array (arCtBDFrame), I don&#39;t see the error. The Scala code that does the same:\r\n\r\n```\r\n  def appendIfNotNull(key: String,value :Object) = {\r\n      var eq2Array = new util.ArrayList[Object]()\r\n      eq2Array.add(&quot;$&quot;+key)\r\n      val eq2Op = new Document(&quot;$not&quot;, eq2Array)\r\n      var condList = new util.ArrayList[Object]()\r\n      condList.add(eq2Op)\r\n      condList.add(value.asInstanceOf[AnyRef])\r\n      //condList.add(&quot;$&quot;+key)\r\n      condList.add(&quot;value2&quot;)\r\n      val availDoc =\r\n        new Document(&quot;$cond&quot;,\r\n          new Document(&quot;$cond&quot;, condList)).toBsonDocument(classOf[BsonDocument],getCodecRegistry).get(&quot;$cond&quot;)\r\n      println(&quot;availDoc : &quot; + availDoc)\r\n      documentGrab.append(key,availDoc)\r\n    }\r\n \r\n\r\n       val finalVar = appendIfNotNull(&quot;camp1&quot;,&quot;values&quot;)\r\n        println(&quot;finalVar : &quot; + finalVar)\r\n\r\navailDoc : {&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;value2&quot;]}\r\nfinalVar : Document{{camp1={&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;value2&quot;]}}}\r\n\r\nval arrayBDFrame =\r\n  new Document()\r\n    .append(&quot;cdEntitFrame&quot;, &quot;01&quot;)\r\n    .append(&quot;cdProductFrame&quot;, &quot;BD&quot;)\r\n\r\n//val updateDocument = new Document(&quot;$set&quot; , finalVar )\r\nval updateDocument =\r\n  new Document()\r\n    .append(&quot;$set&quot;, finalVar)\r\n    .append(&quot;$setOnInsert&quot;, new Document()\r\n  .append(&quot;arCtBDFrame&quot;, java.util.Arrays.asList(arrayBDFrame)))\r\n\r\nprintln(&quot;updateDocument (Lista)  : &quot; + Collections.singletonList(updateDocument))\r\n\r\nupdateDocument (Lista)  : [Document{{$set=Document{{camp1={&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;$camp1&quot;]}, cdAcctCurrency=LIB}}, $setOnInsert=Document{{arCtBDFrame=[Document{{cdEntitFrame=01, cdProductFrame=BD}}]}}}}]\r\nupdateDocument (Lista json)  : [{&quot;$set&quot;: {&quot;camp1&quot;: {&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;$camp1&quot;]}, &quot;cdAcctCurrency&quot;: &quot;LIB&quot;}, &quot;$setOnInsert&quot;: {&quot;arCtBDFrame&quot;: [{&quot;cdEntitFrame&quot;: &quot;01&quot;, &quot;cdProductFrame&quot;: &quot;BD&quot;}]}}]\r\n\r\ncollectionA.updateMany(Filters.eq(&quot;cdAccount&quot;, &quot;ES3100810348150001326934&quot;),Collections.singletonList(updateDocument))\r\n```\r\n\r\nit shows the same error:\r\n\r\nException in thread &quot;main&quot; com.mongodb.MongoCommandException: Command failed with error 40323 (Location40323): &#39;A pipeline stage specification object must contain exactly one field.&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;A pipeline stage specification object must contain exactly one field.&quot;, &quot;code&quot;: 40323, &quot;codeName&quot;: &quot;Location40323&quot;}\r\n\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175)\r\n\r\n\r\nBut if I remove or comment out the $setOnInsert part, it works fine\r\n\r\n\r\n\r\n        //val updateDocument = new Document(&quot;$set&quot; , finalVar )\r\n        val updateDocument =\r\n          new Document()\r\n            .append(MONGO_SET_OPERATOR, finalVar)\r\n      //      .append(MONGO_SET_ON_INSERT_OPERATOR, new Document()\r\n        //   .append(&quot;arCtBDFrame&quot;, java.util.Arrays.asList(arrayBDFrame)))\r\n    \r\n    \r\n        println(&quot;updateDocument : &quot; + updateDocument)\r\n    \r\n        println(&quot;updateDocument(json) : &quot; + updateDocument.toJson)\r\n\r\n\r\nCan you please help me?","title":"scala MongoDB update with $cond and $not with $set and $setOnInsert together","body":"<p>I have a problem using a statement to update root fields and an array at the same time. Statement in Mongo:</p>\n<pre><code>db.getCollection('prueba').update(\n{&quot;cdAccount&quot;: &quot;ES3100810348150001326934&quot;},\n[{&quot;$set&quot;: {&quot;camp1&quot;: {&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;$camp1&quot;]}, &quot;cdAcctCurrency&quot;: &quot;LIB&quot;}, &quot;$setOnInsert&quot;: {&quot;arCtBDFrame&quot;: [{&quot;cdEntitFrame&quot;: &quot;01&quot;, &quot;cdProductFrame&quot;: &quot;BD&quot;}]}}]);\n\nA pipeline stage specification object must contain exactly one field. \n\n</code></pre>\n<p>It seems that this is due to the $cond operator and because i am updating an array, if I remove the array (arCtBDFrame), I don't see the error. The Scala code that does the same:</p>\n<pre><code>  def appendIfNotNull(key: String,value :Object) = {\n      var eq2Array = new util.ArrayList[Object]()\n      eq2Array.add(&quot;$&quot;+key)\n      val eq2Op = new Document(&quot;$not&quot;, eq2Array)\n      var condList = new util.ArrayList[Object]()\n      condList.add(eq2Op)\n      condList.add(value.asInstanceOf[AnyRef])\n      //condList.add(&quot;$&quot;+key)\n      condList.add(&quot;value2&quot;)\n      val availDoc =\n        new Document(&quot;$cond&quot;,\n          new Document(&quot;$cond&quot;, condList)).toBsonDocument(classOf[BsonDocument],getCodecRegistry).get(&quot;$cond&quot;)\n      println(&quot;availDoc : &quot; + availDoc)\n      documentGrab.append(key,availDoc)\n    }\n \n\n       val finalVar = appendIfNotNull(&quot;camp1&quot;,&quot;values&quot;)\n        println(&quot;finalVar : &quot; + finalVar)\n\navailDoc : {&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;value2&quot;]}\nfinalVar : Document{{camp1={&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;value2&quot;]}}}\n\nval arrayBDFrame =\n  new Document()\n    .append(&quot;cdEntitFrame&quot;, &quot;01&quot;)\n    .append(&quot;cdProductFrame&quot;, &quot;BD&quot;)\n\n//val updateDocument = new Document(&quot;$set&quot; , finalVar )\nval updateDocument =\n  new Document()\n    .append(&quot;$set&quot;, finalVar)\n    .append(&quot;$setOnInsert&quot;, new Document()\n  .append(&quot;arCtBDFrame&quot;, java.util.Arrays.asList(arrayBDFrame)))\n\nprintln(&quot;updateDocument (Lista)  : &quot; + Collections.singletonList(updateDocument))\n\nupdateDocument (Lista)  : [Document{{$set=Document{{camp1={&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;$camp1&quot;]}, cdAcctCurrency=LIB}}, $setOnInsert=Document{{arCtBDFrame=[Document{{cdEntitFrame=01, cdProductFrame=BD}}]}}}}]\nupdateDocument (Lista json)  : [{&quot;$set&quot;: {&quot;camp1&quot;: {&quot;$cond&quot;: [{&quot;$not&quot;: [&quot;$camp1&quot;]}, &quot;values&quot;, &quot;$camp1&quot;]}, &quot;cdAcctCurrency&quot;: &quot;LIB&quot;}, &quot;$setOnInsert&quot;: {&quot;arCtBDFrame&quot;: [{&quot;cdEntitFrame&quot;: &quot;01&quot;, &quot;cdProductFrame&quot;: &quot;BD&quot;}]}}]\n\ncollectionA.updateMany(Filters.eq(&quot;cdAccount&quot;, &quot;ES3100810348150001326934&quot;),Collections.singletonList(updateDocument))\n</code></pre>\n<p>it shows the same error:</p>\n<p>Exception in thread &quot;main&quot; com.mongodb.MongoCommandException: Command failed with error 40323 (Location40323): 'A pipeline stage specification object must contain exactly one field.' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;A pipeline stage specification object must contain exactly one field.&quot;, &quot;code&quot;: 40323, &quot;codeName&quot;: &quot;Location40323&quot;}\nat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:175)</p>\n<p>But if I remove or comment out the $setOnInsert part, it works fine</p>\n<pre><code>    //val updateDocument = new Document(&quot;$set&quot; , finalVar )\n    val updateDocument =\n      new Document()\n        .append(MONGO_SET_OPERATOR, finalVar)\n  //      .append(MONGO_SET_ON_INSERT_OPERATOR, new Document()\n    //   .append(&quot;arCtBDFrame&quot;, java.util.Arrays.asList(arrayBDFrame)))\n\n\n    println(&quot;updateDocument : &quot; + updateDocument)\n\n    println(&quot;updateDocument(json) : &quot; + updateDocument.toJson)\n</code></pre>\n<p>Can you please help me?</p>\n"},{"tags":["java","google-cloud-platform","virtual-machine","google-cloud-compute-engine"],"answers":[{"tags":[],"owner":{"account_id":26120363,"reputation":21,"user_id":19812761,"display_name":"Leonidas Von Sparta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666768991,"creation_date":1666768991,"answer_id":74204054,"question_id":74185778,"body_markdown":"I have encountered the answer. In the Google Cloud Compute Engine Docs it is explained for [Windows Instances][1]. It took me a while to recognize it because I&#39;ve focused only Linux Instances&#39; related questions.\r\n\r\nThe solution:\r\n\r\n    instanceResource = Instance.newBuilder()\r\n                    .setName(instanceName)\r\n                    .setMachineType(machineType)\r\n                    .addDisks(disk)\r\n                    // Add external internet to instance\r\n                    .addNetworkInterfaces(NetworkInterface.newBuilder()\r\n                            .addAccessConfigs(AccessConfig.newBuilder()\r\n                                    .setType(&quot;ONE_TO_ONE_NAT&quot;)\r\n                                    .setName(&quot;External NAT&quot;)\r\n                                    .build())\r\n                            .setName(&quot;global/networks/default&quot;)\r\n                            .build())\r\n                    .setMetadata(buildMetadata())\r\n                    .build();\r\n\r\n\r\n  [1]: https://cloud.google.com/compute/docs/samples/compute-create-windows-instance-external-ip?hl=en","title":"How to programmatically set external ip for Google Cloud virtual machine in Java?","body":"<p>I have encountered the answer. In the Google Cloud Compute Engine Docs it is explained for <a href=\"https://cloud.google.com/compute/docs/samples/compute-create-windows-instance-external-ip?hl=en\" rel=\"nofollow noreferrer\">Windows Instances</a>. It took me a while to recognize it because I've focused only Linux Instances' related questions.</p>\n<p>The solution:</p>\n<pre><code>instanceResource = Instance.newBuilder()\n                .setName(instanceName)\n                .setMachineType(machineType)\n                .addDisks(disk)\n                // Add external internet to instance\n                .addNetworkInterfaces(NetworkInterface.newBuilder()\n                        .addAccessConfigs(AccessConfig.newBuilder()\n                                .setType(&quot;ONE_TO_ONE_NAT&quot;)\n                                .setName(&quot;External NAT&quot;)\n                                .build())\n                        .setName(&quot;global/networks/default&quot;)\n                        .build())\n                .setMetadata(buildMetadata())\n                .build();\n</code></pre>\n"}],"owner":{"account_id":26120363,"reputation":21,"user_id":19812761,"display_name":"Leonidas Von Sparta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74204054,"answer_count":1,"score":0,"last_activity_date":1666768991,"creation_date":1666638859,"question_id":74185778,"body_markdown":"I am trying to programmatically start Google Cloud virtual machine instances. It occurred to me that in order to have internet access, have to set an external IP address.\r\n\r\n \r\n\r\n            // Access Config\r\n            AccessConfig accessConfig = AccessConfig.newBuilder()\r\n                        .setNatIP(&quot;foo&quot;)\r\n                        .setType(&quot;ONE_TO_ONE_NAT&quot;)\r\n                        .setName(&quot;External NAT&quot;)\r\n                        .setExternalIpv6(&quot;bar&quot;)\r\n                        .build();\r\n            \r\n            // Use the network interface provided in the networkName argument.\r\n            NetworkInterface networkInterface = NetworkInterface.newBuilder()\r\n                    .setName(networkName)\r\n                    .setAccessConfigs(0, accessConfig)\r\n                    .build();\r\n\r\nThat is my status quo. It is inspired by [this][1] article post. I hoped that would work in Java, too, but currently, I am stuck. \r\n\r\nAll I get is: \r\n\r\n    com.google.api.gax.rpc.InvalidArgumentException: Bad Request\r\n\r\nUnfortunately, Google Cloud Compute Engine Docs doesn&#39;t really provide any further information, on how to set the external IP properly.\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://stackoverflow.com/questions/52279420/google-compute-api-new-instance-with-external-ip\r\n","title":"How to programmatically set external ip for Google Cloud virtual machine in Java?","body":"<p>I am trying to programmatically start Google Cloud virtual machine instances. It occurred to me that in order to have internet access, have to set an external IP address.</p>\n<pre><code>        // Access Config\n        AccessConfig accessConfig = AccessConfig.newBuilder()\n                    .setNatIP(&quot;foo&quot;)\n                    .setType(&quot;ONE_TO_ONE_NAT&quot;)\n                    .setName(&quot;External NAT&quot;)\n                    .setExternalIpv6(&quot;bar&quot;)\n                    .build();\n        \n        // Use the network interface provided in the networkName argument.\n        NetworkInterface networkInterface = NetworkInterface.newBuilder()\n                .setName(networkName)\n                .setAccessConfigs(0, accessConfig)\n                .build();\n</code></pre>\n<p>That is my status quo. It is inspired by <a href=\"https://stackoverflow.com/questions/52279420/google-compute-api-new-instance-with-external-ip\">this</a> article post. I hoped that would work in Java, too, but currently, I am stuck.</p>\n<p>All I get is:</p>\n<pre><code>com.google.api.gax.rpc.InvalidArgumentException: Bad Request\n</code></pre>\n<p>Unfortunately, Google Cloud Compute Engine Docs doesn't really provide any further information, on how to set the external IP properly.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","deprecated","android-10.0","sim-card"],"comments":[{"owner":{"account_id":11873112,"reputation":1083,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1666773043,"post_id":74204022,"comment_id":131013090,"body_markdown":"Is IMSI a must or any unique identifier will do?","body":"Is IMSI a must or any unique identifier will do?"},{"owner":{"account_id":18845685,"reputation":11,"user_id":13746042,"display_name":"Ahmad Meghani"},"score":0,"creation_date":1666849189,"post_id":74204022,"comment_id":131033629,"body_markdown":"Apparently, IMSI is a must. This has been in our system for far too long, and now we are upgrading our devices from Android 7.0 to Android 10.0 and we&#39;re facing this problem.","body":"Apparently, IMSI is a must. This has been in our system for far too long, and now we are upgrading our devices from Android 7.0 to Android 10.0 and we&#39;re facing this problem."}],"owner":{"account_id":18845685,"reputation":11,"user_id":13746042,"display_name":"Ahmad Meghani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666768816,"creation_date":1666768816,"question_id":74204022,"body_markdown":"I&#39;m unable to get IMSI in Android 10.\r\n\r\nThe Code that I was using to fetch IMSI number is giving an exception. `java.lang.SecurityException: getSubscriberId: The user 10099 does not meet the requirements to access device identifiers.`  I understand that from android 10, google has restricted this information and its not accessible to third party apps due to privacy concerns but I&#39;m looking for a workaround.  The code that I was using is:  \r\n\r\n```\r\nprivate void getImsiNumber()\r\n    {\r\n        Utility.DEBUG_LOG(TAG,&quot;+ getImsiNumber +&quot;);\r\n        if ( this.imsiNumber == null )\r\n        {\r\n            Utility.DEBUG_LOG(TAG,&quot;step 1&quot;);\r\n            TelephonyManager telephonyManager = (TelephonyManager) DashboardContainer.this.getSystemService(Context.TELEPHONY_SERVICE);\r\n            Utility.DEBUG_LOG(TAG,&quot;step 2&quot;);\r\n            try {\r\n                this.imsiNumber = telephonyManager.getSubscriberId();\r\n                Utility.DEBUG_LOG(TAG,&quot;step 3&quot;);\r\n                if ( this.imsiNumber == null  || this.imsiNumber.length() == 0 )\r\n                {\r\n                    Utility.DEBUG_LOG(TAG,&quot;imsiNumber:&quot;+this.imsiNumber);\r\n                    this.imsiNumber = &quot;WiFi&quot;;\r\n                }\r\n            }\r\n            catch (Exception e )\r\n            {\r\n                Utility.DEBUG_LOG(TAG,&quot;Exception:&quot;+e.getMessage().toString());\r\n            }\r\n            Utility.DEBUG_LOG(TAG,&quot;IMSI Number:&quot;+this.imsiNumber);\r\n            SharedPref.write(&quot;imsiNumber&quot;,this.imsiNumber);\r\n            Constants.IMSI_NO = this.imsiNumber;\r\n        }\r\n\r\n    }\r\n```","title":"How to get IMSI in Android 10 (Android Q)","body":"<p>I'm unable to get IMSI in Android 10.</p>\n<p>The Code that I was using to fetch IMSI number is giving an exception. <code>java.lang.SecurityException: getSubscriberId: The user 10099 does not meet the requirements to access device identifiers.</code>  I understand that from android 10, google has restricted this information and its not accessible to third party apps due to privacy concerns but I'm looking for a workaround.  The code that I was using is:</p>\n<pre><code>private void getImsiNumber()\n    {\n        Utility.DEBUG_LOG(TAG,&quot;+ getImsiNumber +&quot;);\n        if ( this.imsiNumber == null )\n        {\n            Utility.DEBUG_LOG(TAG,&quot;step 1&quot;);\n            TelephonyManager telephonyManager = (TelephonyManager) DashboardContainer.this.getSystemService(Context.TELEPHONY_SERVICE);\n            Utility.DEBUG_LOG(TAG,&quot;step 2&quot;);\n            try {\n                this.imsiNumber = telephonyManager.getSubscriberId();\n                Utility.DEBUG_LOG(TAG,&quot;step 3&quot;);\n                if ( this.imsiNumber == null  || this.imsiNumber.length() == 0 )\n                {\n                    Utility.DEBUG_LOG(TAG,&quot;imsiNumber:&quot;+this.imsiNumber);\n                    this.imsiNumber = &quot;WiFi&quot;;\n                }\n            }\n            catch (Exception e )\n            {\n                Utility.DEBUG_LOG(TAG,&quot;Exception:&quot;+e.getMessage().toString());\n            }\n            Utility.DEBUG_LOG(TAG,&quot;IMSI Number:&quot;+this.imsiNumber);\n            SharedPref.write(&quot;imsiNumber&quot;,this.imsiNumber);\n            Constants.IMSI_NO = this.imsiNumber;\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","eclipse","maven","jdk1.7"],"answers":[{"tags":[],"owner":{"account_id":18435115,"reputation":43,"user_id":13779171,"display_name":"Rizal Arief Firdaus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666768665,"creation_date":1666768665,"answer_id":74203991,"question_id":74202922,"body_markdown":"I&#39;m not sure if is this the right answer.\r\nBut anyway, I add these dependencies, and the errors are not showing anymore.\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"package javax.jws does not exist. I need this package that support jdk1.7","body":"<p>I'm not sure if is this the right answer.\nBut anyway, I add these dependencies, and the errors are not showing anymore.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n    &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n    &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18435115,"reputation":43,"user_id":13779171,"display_name":"Rizal Arief Firdaus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666768665,"creation_date":1666760669,"question_id":74202922,"body_markdown":"I am trying to run an old maven project, a Website Application from my company, so I can do some changes for an update.\r\nCurrently, I&#39;m still making some changes in pom.xml file because some library is not available in the repository. And after some configuration, I&#39;ve been stuck in this error while I try to run the project using **Tomcat Server 7** with **JDK 1.7**. It is showing that: \r\n&gt;error: package javax.jws does not exist\r\nimport javax.jws.WebMethod;\r\n\r\n&gt;error: package javax.jws does not exist\r\nimport javax.jws.WebService;\r\n\r\n\r\n\r\n\r\n\r\nso I search and found this: https://askubuntu.com/a/1149525/1644122\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n  &lt;version&gt;2.3.0&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have add this library and it went well when I build it using maven.\r\nBut, this error appears when I do &quot;run on server&quot; in eclipse.\r\n\r\n&gt;Unsupported major.minor version 52.0 (unable to load class [com.sun.xml.ws.transport.http.servlet.WSServletContainerInitializer])\r\n\r\nI believe that the dependency that I add before require JDK 1.8 or above to run. The problem is, I need to  to make it run in our tomcat server for a development environtment.\r\n\r\nNow, the question is, Is there library that includes package javax.jws and support **JDK 1.7**?\r\n\r\nOr Is there any way to handle this issue?\r\n\r\nI&#39;m newbie in Java. This project really driving me crazy :(\r\n\r\nPlease help me.","title":"package javax.jws does not exist. I need this package that support jdk1.7","body":"<p>I am trying to run an old maven project, a Website Application from my company, so I can do some changes for an update.\nCurrently, I'm still making some changes in pom.xml file because some library is not available in the repository. And after some configuration, I've been stuck in this error while I try to run the project using <strong>Tomcat Server 7</strong> with <strong>JDK 1.7</strong>. It is showing that:</p>\n<blockquote>\n<p>error: package javax.jws does not exist\nimport javax.jws.WebMethod;</p>\n</blockquote>\n<blockquote>\n<p>error: package javax.jws does not exist\nimport javax.jws.WebService;</p>\n</blockquote>\n<p>so I search and found this: <a href=\"https://askubuntu.com/a/1149525/1644122\">https://askubuntu.com/a/1149525/1644122</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have add this library and it went well when I build it using maven.\nBut, this error appears when I do &quot;run on server&quot; in eclipse.</p>\n<blockquote>\n<p>Unsupported major.minor version 52.0 (unable to load class [com.sun.xml.ws.transport.http.servlet.WSServletContainerInitializer])</p>\n</blockquote>\n<p>I believe that the dependency that I add before require JDK 1.8 or above to run. The problem is, I need to  to make it run in our tomcat server for a development environtment.</p>\n<p>Now, the question is, Is there library that includes package javax.jws and support <strong>JDK 1.7</strong>?</p>\n<p>Or Is there any way to handle this issue?</p>\n<p>I'm newbie in Java. This project really driving me crazy :(</p>\n<p>Please help me.</p>\n"},{"tags":["java","arrays","arraylist","iterator"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666709341,"post_id":74195779,"comment_id":130998139,"body_markdown":"Looks like `providerServiceHandler.getRequestPayload().getBusnCustomer()` returns an ArrayList, not a BCLASSRequestPayload. Do you think you should add `.get(0)` ?","body":"Looks like <code>providerServiceHandler.getRequestPayload().getBusnCustomer()</code> returns an ArrayList, not a BCLASSRequestPayload. Do you think you should add <code>.get(0)</code> ?"},{"owner":{"account_id":21518152,"reputation":1,"user_id":15859677,"display_name":"saniya"},"score":0,"creation_date":1666712213,"post_id":74195779,"comment_id":130999274,"body_markdown":"yes first three lines are correct the problem starts afterwards.","body":"yes first three lines are correct the problem starts afterwards."},{"owner":{"account_id":21518152,"reputation":1,"user_id":15859677,"display_name":"saniya"},"score":0,"creation_date":1666712490,"post_id":74195779,"comment_id":130999374,"body_markdown":"I think maybe there is problem in set method","body":"I think maybe there is problem in set method"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666848057,"post_id":74195779,"comment_id":131033460,"body_markdown":"Well the problem is clearly when you cast an `ArrayList` into a `BCLASSRequestPayload`, and that is done on line 4.","body":"Well the problem is clearly when you cast an <code>ArrayList</code> into a <code>BCLASSRequestPayload</code>, and that is done on line 4."},{"owner":{"account_id":21518152,"reputation":1,"user_id":15859677,"display_name":"saniya"},"score":0,"creation_date":1668609751,"post_id":74195779,"comment_id":131447540,"body_markdown":"so how to resolve this error","body":"so how to resolve this error"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1668669571,"post_id":74195779,"comment_id":131463010,"body_markdown":"I told you: add `.get(0)` on line 4","body":"I told you: add <code>.get(0)</code> on line 4"}],"owner":{"account_id":21518152,"reputation":1,"user_id":15859677,"display_name":"saniya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666768277,"creation_date":1666708378,"question_id":74195779,"body_markdown":"Here is the code that is causing me trouble tried every posible way but not able to resolve below is the detail code.\r\n\r\n\r\n```\r\nString businesscust=providerServiceHandler.getRequestPayload().getBusnCustomer().get(0).getBcBusnCustNum();\r\n        long BusnCustNum=Long.parseLong(businesscust);\r\n        String BusnCustNumHex=Long.toHexString(BusnCustNum);\r\n        BCLASSRequestPayload bClassRequestPayload=(BCLASSRequestPayload) providerServiceHandler.getRequestPayload().getBusnCustomer();\r\n        BusnCustomer bCLASSRequestPayload = null;\r\n\t\tbCLASSRequestPayload.setBcBusnCustNum(BusnCustNumHex);\r\n        providerServiceHandler.setRequestPayload(bClassRequestPayload);\r\n```\r\n","title":"java.lang.ClassCastException: java.util.ArrayList cannot be cast to BCLASSRequestPayload","body":"<p>Here is the code that is causing me trouble tried every posible way but not able to resolve below is the detail code.</p>\n<pre><code>String businesscust=providerServiceHandler.getRequestPayload().getBusnCustomer().get(0).getBcBusnCustNum();\n        long BusnCustNum=Long.parseLong(businesscust);\n        String BusnCustNumHex=Long.toHexString(BusnCustNum);\n        BCLASSRequestPayload bClassRequestPayload=(BCLASSRequestPayload) providerServiceHandler.getRequestPayload().getBusnCustomer();\n        BusnCustomer bCLASSRequestPayload = null;\n        bCLASSRequestPayload.setBcBusnCustNum(BusnCustNumHex);\n        providerServiceHandler.setRequestPayload(bClassRequestPayload);\n</code></pre>\n"},{"tags":["java","testing","pitest"],"answers":[{"comments":[{"owner":{"account_id":26724479,"reputation":1,"user_id":20327769,"display_name":"Albert"},"score":0,"creation_date":1666776729,"post_id":74203845,"comment_id":131014263,"body_markdown":"Thank you, Herry.\nThe reason why I use jdk7 is that some initially passing tests on d4j1.0 would fail when I switched to jdk8, which would influence the research result. Details about the dataset can be found here, https://github.com/rjust/defects4j/tree/v1.0.0. I think mutation testing with pit on d4j1.0 and jdk7 should be somewhat of a common practice many years ago, say 2015. Back then what was the possible solution? Currently, my solution is to replace the .class file of each mutant and run the test suite many times to get a full killing matrix.","body":"Thank you, Herry. The reason why I use jdk7 is that some initially passing tests on d4j1.0 would fail when I switched to jdk8, which would influence the research result. Details about the dataset can be found here, <a href=\"https://github.com/rjust/defects4j/tree/v1.0.0\" rel=\"nofollow noreferrer\">github.com/rjust/defects4j/tree/v1.0.0</a>. I think mutation testing with pit on d4j1.0 and jdk7 should be somewhat of a common practice many years ago, say 2015. Back then what was the possible solution? Currently, my solution is to replace the .class file of each mutant and run the test suite many times to get a full killing matrix."},{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1666777953,"post_id":74203845,"comment_id":131014671,"body_markdown":"The soloution most researchers used was to hack pitest to produce a matrix.","body":"The soloution most researchers used was to hack pitest to produce a matrix."}],"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666767908,"creation_date":1666767908,"answer_id":74203845,"question_id":74190816,"body_markdown":"Full matrix mode was introduced in pitest 1.5.2, enabled with the `fullMutationMatrix` parameter. It is an only partially supported feature, other pitest features are not guaranteed to work if it is enabled.\r\n\r\nYou would need to back port it to 1.3.2 if you wish to run on Java 7.\r\n\r\nConsiderably less effort would be just to use the latest version of pitest and Java 8. The majority of Java 7 codebases will compile and test without issue. You will usually only encounter problems if they use a bytecode manipulation library that does not recognise the more modern Java version.","title":"How to get killing tests against each mutant or a complete killing matrix with PIT1.3.0?","body":"<p>Full matrix mode was introduced in pitest 1.5.2, enabled with the <code>fullMutationMatrix</code> parameter. It is an only partially supported feature, other pitest features are not guaranteed to work if it is enabled.</p>\n<p>You would need to back port it to 1.3.2 if you wish to run on Java 7.</p>\n<p>Considerably less effort would be just to use the latest version of pitest and Java 8. The majority of Java 7 codebases will compile and test without issue. You will usually only encounter problems if they use a bytecode manipulation library that does not recognise the more modern Java version.</p>\n"}],"owner":{"account_id":26724479,"reputation":1,"user_id":20327769,"display_name":"Albert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666767908,"creation_date":1666684893,"question_id":74190816,"body_markdown":"I am using jdk7 on defects4j 1.0 and I need to use PITest to mutate the code.\r\n\r\nAs is shown in the releases of pit, https://github.com/hcoles/pitest/releases?page=5\r\npit1.4+ no longer supports jdk7 so I have to choose pit1.3.2 to do my research.\r\n\r\nBut I find that pit stops analyzing each mutant as soon as there is a test case that kills it, which is mentioned here,\r\nhttps://stackoverflow.com/questions/44864954/automatically-recognize-which-mutants-killed-by-which-test-cases-in-pitest/44875465#44875465\r\n\r\nIs there some actionable way to get a complete killing matrix, or get all tests that kill each mutant, while still using pit 1.3.X which is compatible with jdk7?\r\n\r\nOr Is there a way to let pit only pick a test case(method level) to execute?\r\n\r\nMany thanks \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get killing tests against each mutant or a complete killing matrix with PIT1.3.0?","body":"<p>I am using jdk7 on defects4j 1.0 and I need to use PITest to mutate the code.</p>\n<p>As is shown in the releases of pit, <a href=\"https://github.com/hcoles/pitest/releases?page=5\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/releases?page=5</a>\npit1.4+ no longer supports jdk7 so I have to choose pit1.3.2 to do my research.</p>\n<p>But I find that pit stops analyzing each mutant as soon as there is a test case that kills it, which is mentioned here,\n<a href=\"https://stackoverflow.com/questions/44864954/automatically-recognize-which-mutants-killed-by-which-test-cases-in-pitest/44875465#44875465\">Automatically recognize which mutants killed by which test cases in Pitest</a></p>\n<p>Is there some actionable way to get a complete killing matrix, or get all tests that kill each mutant, while still using pit 1.3.X which is compatible with jdk7?</p>\n<p>Or Is there a way to let pit only pick a test case(method level) to execute?</p>\n<p>Many thanks</p>\n"},{"tags":["java","android","android-10.0"],"answers":[{"tags":[],"owner":{"account_id":3522750,"reputation":21973,"user_id":2944616,"accept_rate":71,"display_name":"greywolf82"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570123523,"creation_date":1570123523,"answer_id":58224123,"question_id":58213606,"body_markdown":"you can&#39;t, only system or device owner apps can read unique identifiers","title":"How to get IMSI Number in Android SDK API Level 29 or higher?","body":"<p>you can't, only system or device owner apps can read unique identifiers</p>\n"},{"tags":[],"owner":{"account_id":18845685,"reputation":11,"user_id":13746042,"display_name":"Ahmad Meghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666767799,"creation_date":1666767799,"answer_id":74203820,"question_id":58213606,"body_markdown":"I am using the following code to get IMSI in android &gt; Q\r\n\r\n    private String getImsiFromSubscriptionManager() {\r\n        String simSerialNo = &quot;&quot;;\r\n        try {\r\n            SubscriptionManager subsManager = (SubscriptionManager) getSystemService(Context.TELEPHONY_SUBSCRIPTION_SERVICE);\r\n\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\r\n                List&lt;SubscriptionInfo&gt; subsList = subsManager.getActiveSubscriptionInfoList();\r\n\r\n                if (subsList != null) {\r\n                    for (SubscriptionInfo subsInfo : subsList) {\r\n                        if (subsInfo != null) {\r\n                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                                simSerialNo = subsInfo.getMccString() + subsInfo.getMncString() + subsInfo.getIccId().substring(8, 18);\r\n                            }\r\n                            Utility.DEBUG_LOG(TAG,&quot;imsiNumber:&quot;+simSerialNo);\r\n                        }\r\n                    }\r\n                } else {\r\n                    simSerialNo = &quot;WiFi&quot;;\r\n                    Utility.DEBUG_LOG(TAG,&quot;imsiNumber:&quot;+simSerialNo);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        if(simSerialNo.isEmpty())\r\n            simSerialNo = &quot;N/A&quot;;\r\n\r\n        return simSerialNo;\r\n    }","title":"How to get IMSI Number in Android SDK API Level 29 or higher?","body":"<p>I am using the following code to get IMSI in android &gt; Q</p>\n<pre><code>private String getImsiFromSubscriptionManager() {\n    String simSerialNo = &quot;&quot;;\n    try {\n        SubscriptionManager subsManager = (SubscriptionManager) getSystemService(Context.TELEPHONY_SUBSCRIPTION_SERVICE);\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\n            List&lt;SubscriptionInfo&gt; subsList = subsManager.getActiveSubscriptionInfoList();\n\n            if (subsList != null) {\n                for (SubscriptionInfo subsInfo : subsList) {\n                    if (subsInfo != null) {\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                            simSerialNo = subsInfo.getMccString() + subsInfo.getMncString() + subsInfo.getIccId().substring(8, 18);\n                        }\n                        Utility.DEBUG_LOG(TAG,&quot;imsiNumber:&quot;+simSerialNo);\n                    }\n                }\n            } else {\n                simSerialNo = &quot;WiFi&quot;;\n                Utility.DEBUG_LOG(TAG,&quot;imsiNumber:&quot;+simSerialNo);\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n    if(simSerialNo.isEmpty())\n        simSerialNo = &quot;N/A&quot;;\n\n    return simSerialNo;\n}\n</code></pre>\n"}],"owner":{"account_id":6466679,"reputation":1580,"user_id":5008350,"accept_rate":86,"display_name":"I am a Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666767799,"creation_date":1570084982,"question_id":58213606,"body_markdown":"I notice that when using Android 10/Q device, I am not able to get the IMSI Number using `TelephonyManager`, \r\n\r\n    TelephonyManager tel = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n    \r\n    String imsiNo = tel.getSubscriberId();\r\n\r\ni will always get empty value for the imsiNo variable, but in Android SDK API level 28 or lower, it will always return the imsi value.\r\n\r\nI have ensure to enable the READ_PHONE_STATE permission, but in Android 10/Q it will not able to get imsi number. Is there anyway to get IMSI number in Android 10/Q or higher version?","title":"How to get IMSI Number in Android SDK API Level 29 or higher?","body":"<p>I notice that when using Android 10/Q device, I am not able to get the IMSI Number using <code>TelephonyManager</code>, </p>\n\n<pre><code>TelephonyManager tel = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n\nString imsiNo = tel.getSubscriberId();\n</code></pre>\n\n<p>i will always get empty value for the imsiNo variable, but in Android SDK API level 28 or lower, it will always return the imsi value.</p>\n\n<p>I have ensure to enable the READ_PHONE_STATE permission, but in Android 10/Q it will not able to get imsi number. Is there anyway to get IMSI number in Android 10/Q or higher version?</p>\n"},{"tags":["java","spring-boot","cloud-foundry"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1666723495,"post_id":74198732,"comment_id":131002829,"body_markdown":"Add your dependencies (the pom or build file) to your quesiton. You are probably using incomatible classes or have some Spring Cloud stuff in there that pulls in different versions (Spring Cloud versions are tied to certain Spring Boot versions you need to upgrade both if you use that).","body":"Add your dependencies (the pom or build file) to your quesiton. You are probably using incomatible classes or have some Spring Cloud stuff in there that pulls in different versions (Spring Cloud versions are tied to certain Spring Boot versions you need to upgrade both if you use that)."},{"owner":{"display_name":"user11006286"},"score":0,"creation_date":1666724036,"post_id":74198732,"comment_id":131002989,"body_markdown":"I&#39;ve added the Gradle file.","body":"I&#39;ve added the Gradle file."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666792542,"post_id":74203815,"comment_id":131019843,"body_markdown":"Why wouldn&#39;t keycloak be supported anymore? There is also a new Authorization server so I don&#39;t see that either. Solr will require some manual dependencies and you might want to reconsider its usage (see https://spring.io/projects/spring-data-solr).","body":"Why wouldn&#39;t keycloak be supported anymore? There is also a new Authorization server so I don&#39;t see that either. Solr will require some manual dependencies and you might want to reconsider its usage (see <a href=\"https://spring.io/projects/spring-data-solr\" rel=\"nofollow noreferrer\">spring.io/projects/spring-data-solr</a>)."},{"owner":{"display_name":"user11006286"},"score":0,"creation_date":1666980385,"post_id":74203815,"comment_id":131070847,"body_markdown":"I traced the error to version 2.4.0 when it initially happened.","body":"I traced the error to version 2.4.0 when it initially happened."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666767770,"creation_date":1666767770,"answer_id":74203815,"question_id":74198732,"body_markdown":"Your dependencies ar quite a mixture. You have various versions of Spring Boot dependencies in your list of starters (like JDBC and cache for instance). The same for some of the Spring Cloud dependencies, so oyou are actually pulling in a mixture of versions. I suggest to clean up your build file to something like the following \r\n\r\n```gradle\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    id &quot;org.flywaydb.flyway&quot; version &quot;6.5.7&quot;\r\n}\r\n\r\next {\r\n    set(&#39;springCloudServicesVersion&#39;, &quot;3.5.0&quot;)\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.3&quot;)\r\n    set(&#39;metricsVersion&#39;, &#39;2.1.1&#39;)\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;io.pivotal.spring.cloud:spring-cloud-services-dependencies:${springCloudServicesVersion}&quot;\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        mavenBom &#39;com.external.cloudnative:spring-base-dependencies:2.1.0&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;com.external.handshake:quest-shared:1.0.14&quot;)\r\n    implementation(&quot;com.external.handshake:quest-solr:1.0.5&quot;)\r\n\r\n    // Data\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-rest&#39;\r\n\r\n    // Web\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-validation&#39;)\r\n\r\n    // Lombok\r\n    implementation &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    //LDAP\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-ldap&#39;\r\n    implementation &#39;com.unboundid:unboundid-ldapsdk&#39;\r\n\r\n    // SRE\r\n    implementation &quot;com.external.mpp.pe.sre:metrics:${metricsVersion}&quot;\r\n\r\n    // Swagger\r\n    implementation(&#39;io.springfox:springfox-swagger2:3.0.0&#39;)\r\n    //    implementation group: &#39;io.springfox&#39;, name: &#39;springfox-boot-starter&#39;, version: &#39;3.0.0&#39;\r\n\r\n    //security\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;io.pivotal.spring.cloud:spring-cloud-services-starter-config-client&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-oauth2&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n    implementation &#39;com.github.ulisesbocchio:jasypt-spring-boot-starter:2.1.2&#39;\r\n\r\n    // AWS\r\n    implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk&#39;, version: &#39;1.11.682&#39;\r\n\r\n    //&quot;commons&quot;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-exec&#39;, version: &#39;1.3&#39;\r\n    implementation group: &#39;commons-collections&#39;, name: &#39;commons-collections&#39;, version: &#39;3.2.1&#39;\r\n\r\n    //cloud native\r\n    implementation &#39;com.external.cloudnative:spring-base-app&#39;\r\n    implementation &#39;com.external.cloudnative:spring-base-api&#39;\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.7&#39;\r\n\r\n    // Database\r\n    implementation group: &#39;com.microsoft.sqlserver&#39;, name: &#39;mssql-jdbc&#39;, version: &#39;7.0.0.jre8&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jdbc&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-cache&#39;\r\n    implementation(&#39;org.flywaydb:flyway-core:6.5.7&#39;)\r\n    implementation group: &#39;org.ehcache&#39;, name: &#39;ehcache&#39;, version: &#39;3.9.3&#39;\r\n    implementation group: &#39;javax.cache&#39;, name: &#39;cache-api&#39;, version: &#39;1.1.1&#39;\r\n\r\n    // Solr\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-solr&#39;\r\n\r\n    // Mongo\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-mongodb&#39;\r\n    implementation &#39;org.mongodb:mongo-java-driver:3.12.11&#39;\r\n\r\n\r\n    // Testing\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    testImplementation(&#39;org.junit.platform:junit-platform-launcher&#39;)\r\n    testImplementation(&#39;org.junit.jupiter:junit-jupiter-api&#39;)\r\n\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-inline:4.8.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:4.8.0&#39;\r\n    implementation &#39;net.bytebuddy:byte-buddy:1.12.17&#39;\r\n\r\n    testImplementation &#39;org.powermock:powermock-api-mockito2:2.0.9&#39;\r\n    testImplementation &#39;org.powermock:powermock-module-testng-common:2.0.9&#39;\r\n\r\n    // Misc\r\n    implementation &#39;org.json:json:20190722&#39;\r\n    implementation &#39;org.javatuples:javatuples:+&#39;\r\n\r\n    implementation &#39;com.github.seratch:jslack:3.4.2@pom&#39;\r\n\r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n\r\n    test {\r\n        maxHeapSize = &quot;4096M&quot;\r\n    }\r\n}\r\n```\r\n\r\n**NOTE:** The `spring-boot-starter-data-solr` doesn&#39;t exist anymore so if you really use that you need to replace that with manual dependencies instead, don&#39;t use an older version from Spring Boot as that will pull in older dependencies.","title":"Pivotal Cloud Foundry: NoClassDefFoundError: org/springframework/boot/actuate/health/HealthIndicatorRegistry","body":"<p>Your dependencies ar quite a mixture. You have various versions of Spring Boot dependencies in your list of starters (like JDBC and cache for instance). The same for some of the Spring Cloud dependencies, so oyou are actually pulling in a mixture of versions. I suggest to clean up your build file to something like the following</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id &quot;org.flywaydb.flyway&quot; version &quot;6.5.7&quot;\n}\n\next {\n    set('springCloudServicesVersion', &quot;3.5.0&quot;)\n    set('springCloudVersion', &quot;2021.0.3&quot;)\n    set('metricsVersion', '2.1.1')\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;io.pivotal.spring.cloud:spring-cloud-services-dependencies:${springCloudServicesVersion}&quot;\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n        mavenBom 'com.external.cloudnative:spring-base-dependencies:2.1.0'\n    }\n}\n\ndependencies {\n\n    implementation(&quot;com.external.handshake:quest-shared:1.0.14&quot;)\n    implementation(&quot;com.external.handshake:quest-solr:1.0.5&quot;)\n\n    // Data\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-rest'\n\n    // Web\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation('org.springframework.boot:spring-boot-starter-validation')\n\n    // Lombok\n    implementation 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testAnnotationProcessor 'org.projectlombok:lombok'\n\n    //LDAP\n    implementation 'org.springframework.boot:spring-boot-starter-data-ldap'\n    implementation 'com.unboundid:unboundid-ldapsdk'\n\n    // SRE\n    implementation &quot;com.external.mpp.pe.sre:metrics:${metricsVersion}&quot;\n\n    // Swagger\n    implementation('io.springfox:springfox-swagger2:3.0.0')\n    //    implementation group: 'io.springfox', name: 'springfox-boot-starter', version: '3.0.0'\n\n    //security\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'io.pivotal.spring.cloud:spring-cloud-services-starter-config-client'\n    implementation 'org.springframework.cloud:spring-cloud-starter-oauth2'\n    implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n    implementation 'com.github.ulisesbocchio:jasypt-spring-boot-starter:2.1.2'\n\n    // AWS\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk', version: '1.11.682'\n\n    //&quot;commons&quot;\n    implementation group: 'org.apache.commons', name: 'commons-exec', version: '1.3'\n    implementation group: 'commons-collections', name: 'commons-collections', version: '3.2.1'\n\n    //cloud native\n    implementation 'com.external.cloudnative:spring-base-app'\n    implementation 'com.external.cloudnative:spring-base-api'\n\n    implementation 'com.google.code.gson:gson:2.8.7'\n\n    // Database\n    implementation group: 'com.microsoft.sqlserver', name: 'mssql-jdbc', version: '7.0.0.jre8'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jdbc'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-cache'\n    implementation('org.flywaydb:flyway-core:6.5.7')\n    implementation group: 'org.ehcache', name: 'ehcache', version: '3.9.3'\n    implementation group: 'javax.cache', name: 'cache-api', version: '1.1.1'\n\n    // Solr\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-solr'\n\n    // Mongo\n    implementation group: 'org.springframework.data', name: 'spring-data-mongodb'\n    implementation 'org.mongodb:mongo-java-driver:3.12.11'\n\n\n    // Testing\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n    testImplementation('org.junit.platform:junit-platform-launcher')\n    testImplementation('org.junit.jupiter:junit-jupiter-api')\n\n    testImplementation 'org.mockito:mockito-core:4.8.0'\n    testImplementation 'org.mockito:mockito-inline:4.8.0'\n    testImplementation 'org.mockito:mockito-junit-jupiter:4.8.0'\n    implementation 'net.bytebuddy:byte-buddy:1.12.17'\n\n    testImplementation 'org.powermock:powermock-api-mockito2:2.0.9'\n    testImplementation 'org.powermock:powermock-module-testng-common:2.0.9'\n\n    // Misc\n    implementation 'org.json:json:20190722'\n    implementation 'org.javatuples:javatuples:+'\n\n    implementation 'com.github.seratch:jslack:3.4.2@pom'\n\n    configurations {\n        compileOnly {\n            extendsFrom annotationProcessor\n        }\n    }\n\n    test {\n        maxHeapSize = &quot;4096M&quot;\n    }\n}\n</code></pre>\n<p><strong>NOTE:</strong> The <code>spring-boot-starter-data-solr</code> doesn't exist anymore so if you really use that you need to replace that with manual dependencies instead, don't use an older version from Spring Boot as that will pull in older dependencies.</p>\n"}],"owner":{"display_name":"user11006286"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666767770,"creation_date":1666723204,"question_id":74198732,"body_markdown":"I&#39;ve been looking into updating a spring application from 2.2.0 to 2.7.5 and it compiles locally after the upgrade. But when I try to deploy to Pivotal Cloud Foundry I get an error on that vm instance. I&#39;ve tried setting the health endpoint in the manifest and updating the spring security configuration. Here is the following stack trace on pivotal cloud foundry (PFC), any hint at where I should look would be great.\r\n\r\n```\r\n   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT   .   ____          _            __ _ _\r\n   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n   2022-10-25T14:31:06.45-0400 [APP/PROC/WEB/0] OUT   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n   2022-10-25T14:31:06.45-0400 [APP/PROC/WEB/0] OUT  =========|_|==============|___/=/_/_/_/\r\n   2022-10-25T14:31:06.45-0400 [APP/PROC/WEB/0] OUT  :: Spring Boot ::                (v2.7.5)\r\n   2022-10-25T14:31:06.71-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:06 [main] INFO  com.test.handshake.Application - Starting Application using Java 11.0.14 on ee17b509-ccd6-47d0-4aa1-fd46 with PID 16 (/home/vcap/app/BOOT-INF/classes started by vcap in /home/vcap/app)\r\n   2022-10-25T14:31:06.71-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:06 [main] DEBUG com.test.handshake.Application - Running with Spring Boot v2.7.5, Spring v5.3.23\r\n   2022-10-25T14:31:06.71-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:06 [main] INFO  com.test.handshake.Application - The following 2 profiles are active: &quot;cloud&quot;, &quot;dev&quot;\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:09 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT java.lang.IllegalStateException: Unable to load cache item\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:447)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at com.test.handshake.Application.main(Application.java:15)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/actuate/health/HealthIndicatorRegistry\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.Class.getDeclaredConstructors(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.generateClass(Enhancer.java:661)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.transform.TransformingClassGenerator.generateClass(TransformingClassGenerator.java:33)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.ClassLoaderAwareGeneratorStrategy.generate(ClassLoaderAwareGeneratorStrategy.java:57)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:358)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     ... 28 common frames omitted\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT Caused by: java.lang.ClassNotFoundException: org.springframework.boot.actuate.health.HealthIndicatorRegistry\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.net.URLClassLoader.findClass(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:135)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     ... 42 common frames omitted\r\n   2022-10-25T14:31:10.25-0400 [APP/PROC/WEB/0] OUT Exit status 1\r\n   2022-10-25T14:31:10.25-0400 [CELL/SSHD/0] OUT Exit status 0\r\n```\r\n\r\nGradle File:\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    id &quot;org.flywaydb.flyway&quot; version &quot;6.5.7&quot;\r\n}\r\n\r\next {\r\n    set(&#39;springCloudServicesVersion&#39;, &quot;3.5.0&quot;)\r\n    set(&#39;springCloudVersion&#39;, &quot;2021.0.3&quot;)\r\n    set(&#39;springBootVersion&#39;, &#39;2.7.5&#39;)\r\n    set(&#39;metricsVersion&#39;, &#39;2.1.1&#39;)\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;io.pivotal.spring.cloud:spring-cloud-services-dependencies:${springCloudServicesVersion}&quot;\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        mavenBom &#39;com.external.cloudnative:spring-base-dependencies:2.1.0&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;com.external.handshake:quest-shared:1.0.14&quot;)\r\n    implementation(&quot;com.external.handshake:quest-solr:1.0.5&quot;)\r\n\r\n    // Data\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-rest&#39;, version: &quot;${springBootVersion}&quot;\r\n\r\n    // Web\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;, version: &quot;${springBootVersion}&quot;\r\n\r\n    // Logging\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;1.7.29&#39;\r\n    implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n    implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-core&#39;, version: &#39;1.2.3&#39;\r\n\r\n    // Lombok\r\n    implementation &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n\r\n    //LDAP\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-ldap&#39;\r\n    implementation &#39;com.unboundid:unboundid-ldapsdk&#39;\r\n\r\n    // SRE\r\n    implementation &quot;com.external.mpp.pe.sre:metrics:${metricsVersion}&quot;\r\n\r\n    // Swagger\r\n    implementation(&#39;io.springfox:springfox-swagger2:3.0.0&#39;)\r\n    //    implementation group: &#39;io.springfox&#39;, name: &#39;springfox-boot-starter&#39;, version: &#39;3.0.0&#39;\r\n\r\n    //security\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;io.pivotal.spring.cloud:spring-cloud-services-starter-config-client&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-oauth2:2.2.5.RELEASE&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n    implementation &#39;com.github.ulisesbocchio:jasypt-spring-boot-starter:2.1.2&#39;\r\n\r\n    // AWS\r\n    implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk&#39;, version: &#39;1.11.682&#39;\r\n\r\n    //&quot;commons&quot;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-exec&#39;, version: &#39;1.3&#39;\r\n    implementation group: &#39;commons-collections&#39;, name: &#39;commons-collections&#39;, version: &#39;3.2.1&#39;\r\n\r\n    //cloud native\r\n    implementation &#39;com.external.cloudnative:spring-base-app&#39;\r\n    implementation &#39;com.external.cloudnative:spring-base-api&#39;\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.7&#39;\r\n\r\n    // Database\r\n    implementation group: &#39;com.microsoft.sqlserver&#39;, name: &#39;mssql-jdbc&#39;, version: &#39;7.0.0.jre8&#39;\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-jdbc&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-jdbc&#39;, version: &#39;2.3.3.RELEASE&#39;\r\n    implementation(&#39;org.flywaydb:flyway-core:6.5.7&#39;)\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-cache&#39;, version: &#39;2.2.0.RELEASE&#39;\r\n    implementation group: &#39;org.ehcache&#39;, name: &#39;ehcache&#39;, version: &#39;3.9.3&#39;\r\n    implementation group: &#39;javax.cache&#39;, name: &#39;cache-api&#39;, version: &#39;1.1.1&#39;\r\n\r\n    // Solr\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-solr&#39;, version: &#39;2.2.0.RELEASE&#39;\r\n\r\n    // Mongo\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-mongodb&#39;\r\n    implementation &#39;org.mongodb:mongo-java-driver:3.12.11&#39;\r\n\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter&#39;)\r\n    implementation(&#39;javax.validation:validation-api&#39;)\r\n\r\n    // Testing\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    testImplementation(&#39;org.junit.platform:junit-platform-launcher&#39;)\r\n    testImplementation(&#39;org.junit.jupiter:junit-jupiter-api&#39;)\r\n\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-inline:4.8.0&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:4.8.0&#39;\r\n    implementation &#39;net.bytebuddy:byte-buddy:1.12.17&#39;\r\n\r\n    testImplementation &#39;org.powermock:powermock-api-mockito2:2.0.9&#39;\r\n    testImplementation &#39;org.powermock:powermock-module-testng-common:2.0.9&#39;\r\n\r\n    // Misc\r\n    implementation &#39;org.json:json:20190722&#39;\r\n    implementation &#39;org.javatuples:javatuples:+&#39;\r\n\r\n    implementation &#39;com.github.seratch:jslack:3.4.2@pom&#39;\r\n\r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n\r\n    test {\r\n        maxHeapSize = &quot;4096M&quot;\r\n    }\r\n}\r\n```","title":"Pivotal Cloud Foundry: NoClassDefFoundError: org/springframework/boot/actuate/health/HealthIndicatorRegistry","body":"<p>I've been looking into updating a spring application from 2.2.0 to 2.7.5 and it compiles locally after the upgrade. But when I try to deploy to Pivotal Cloud Foundry I get an error on that vm instance. I've tried setting the health endpoint in the manifest and updating the spring security configuration. Here is the following stack trace on pivotal cloud foundry (PFC), any hint at where I should look would be great.</p>\n<pre><code>   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT   .   ____          _            __ _ _\n   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n   2022-10-25T14:31:06.44-0400 [APP/PROC/WEB/0] OUT  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n   2022-10-25T14:31:06.45-0400 [APP/PROC/WEB/0] OUT   '  |____| .__|_| |_|_| |_\\__, | / / / /\n   2022-10-25T14:31:06.45-0400 [APP/PROC/WEB/0] OUT  =========|_|==============|___/=/_/_/_/\n   2022-10-25T14:31:06.45-0400 [APP/PROC/WEB/0] OUT  :: Spring Boot ::                (v2.7.5)\n   2022-10-25T14:31:06.71-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:06 [main] INFO  com.test.handshake.Application - Starting Application using Java 11.0.14 on ee17b509-ccd6-47d0-4aa1-fd46 with PID 16 (/home/vcap/app/BOOT-INF/classes started by vcap in /home/vcap/app)\n   2022-10-25T14:31:06.71-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:06 [main] DEBUG com.test.handshake.Application - Running with Spring Boot v2.7.5, Spring v5.3.23\n   2022-10-25T14:31:06.71-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:06 [main] INFO  com.test.handshake.Application - The following 2 profiles are active: &quot;cloud&quot;, &quot;dev&quot;\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT 2022-10-25 18:31:09 [main] ERROR o.s.boot.SpringApplication - Application run failed\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT java.lang.IllegalStateException: Unable to load cache item\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:447)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:268)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:147)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at com.test.handshake.Application.main(Application.java:15)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/actuate/health/HealthIndicatorRegistry\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.Class.getDeclaredConstructors(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.generateClass(Enhancer.java:661)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.transform.TransformingClassGenerator.generateClass(TransformingClassGenerator.java:33)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.ClassLoaderAwareGeneratorStrategy.generate(ClassLoaderAwareGeneratorStrategy.java:57)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:358)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     ... 28 common frames omitted\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT Caused by: java.lang.ClassNotFoundException: org.springframework.boot.actuate.health.HealthIndicatorRegistry\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.net.URLClassLoader.findClass(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:135)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n   2022-10-25T14:31:09.90-0400 [APP/PROC/WEB/0] OUT     ... 42 common frames omitted\n   2022-10-25T14:31:10.25-0400 [APP/PROC/WEB/0] OUT Exit status 1\n   2022-10-25T14:31:10.25-0400 [CELL/SSHD/0] OUT Exit status 0\n</code></pre>\n<p>Gradle File:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id &quot;org.flywaydb.flyway&quot; version &quot;6.5.7&quot;\n}\n\next {\n    set('springCloudServicesVersion', &quot;3.5.0&quot;)\n    set('springCloudVersion', &quot;2021.0.3&quot;)\n    set('springBootVersion', '2.7.5')\n    set('metricsVersion', '2.1.1')\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;io.pivotal.spring.cloud:spring-cloud-services-dependencies:${springCloudServicesVersion}&quot;\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n        mavenBom 'com.external.cloudnative:spring-base-dependencies:2.1.0'\n    }\n}\n\ndependencies {\n\n    implementation(&quot;com.external.handshake:quest-shared:1.0.14&quot;)\n    implementation(&quot;com.external.handshake:quest-solr:1.0.5&quot;)\n\n    // Data\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-rest', version: &quot;${springBootVersion}&quot;\n\n    // Web\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator', version: &quot;${springBootVersion}&quot;\n\n    // Logging\n    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.29'\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'ch.qos.logback', name: 'logback-core', version: '1.2.3'\n\n    // Lombok\n    implementation 'org.projectlombok:lombok:1.18.20'\n    annotationProcessor 'org.projectlombok:lombok:1.18.20'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.20'\n\n    //LDAP\n    implementation 'org.springframework.boot:spring-boot-starter-data-ldap'\n    implementation 'com.unboundid:unboundid-ldapsdk'\n\n    // SRE\n    implementation &quot;com.external.mpp.pe.sre:metrics:${metricsVersion}&quot;\n\n    // Swagger\n    implementation('io.springfox:springfox-swagger2:3.0.0')\n    //    implementation group: 'io.springfox', name: 'springfox-boot-starter', version: '3.0.0'\n\n    //security\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'io.pivotal.spring.cloud:spring-cloud-services-starter-config-client'\n    implementation 'org.springframework.cloud:spring-cloud-starter-oauth2:2.2.5.RELEASE'\n    implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n    implementation 'com.github.ulisesbocchio:jasypt-spring-boot-starter:2.1.2'\n\n    // AWS\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk', version: '1.11.682'\n\n    //&quot;commons&quot;\n    implementation group: 'org.apache.commons', name: 'commons-exec', version: '1.3'\n    implementation group: 'commons-collections', name: 'commons-collections', version: '3.2.1'\n\n    //cloud native\n    implementation 'com.external.cloudnative:spring-base-app'\n    implementation 'com.external.cloudnative:spring-base-api'\n\n    implementation 'com.google.code.gson:gson:2.8.7'\n\n    // Database\n    implementation group: 'com.microsoft.sqlserver', name: 'mssql-jdbc', version: '7.0.0.jre8'\n    implementation group: 'org.springframework.data', name: 'spring-data-jdbc'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-jdbc', version: '2.3.3.RELEASE'\n    implementation('org.flywaydb:flyway-core:6.5.7')\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-cache', version: '2.2.0.RELEASE'\n    implementation group: 'org.ehcache', name: 'ehcache', version: '3.9.3'\n    implementation group: 'javax.cache', name: 'cache-api', version: '1.1.1'\n\n    // Solr\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-solr', version: '2.2.0.RELEASE'\n\n    // Mongo\n    implementation group: 'org.springframework.data', name: 'spring-data-mongodb'\n    implementation 'org.mongodb:mongo-java-driver:3.12.11'\n\n    implementation('org.springframework.boot:spring-boot-starter')\n    implementation('javax.validation:validation-api')\n\n    // Testing\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n    testImplementation('org.junit.platform:junit-platform-launcher')\n    testImplementation('org.junit.jupiter:junit-jupiter-api')\n\n    testImplementation 'org.mockito:mockito-core:4.8.0'\n    testImplementation 'org.mockito:mockito-inline:4.8.0'\n    testImplementation 'org.mockito:mockito-junit-jupiter:4.8.0'\n    implementation 'net.bytebuddy:byte-buddy:1.12.17'\n\n    testImplementation 'org.powermock:powermock-api-mockito2:2.0.9'\n    testImplementation 'org.powermock:powermock-module-testng-common:2.0.9'\n\n    // Misc\n    implementation 'org.json:json:20190722'\n    implementation 'org.javatuples:javatuples:+'\n\n    implementation 'com.github.seratch:jslack:3.4.2@pom'\n\n    configurations {\n        compileOnly {\n            extendsFrom annotationProcessor\n        }\n    }\n\n    test {\n        maxHeapSize = &quot;4096M&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","datasource","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1666784029,"post_id":74198104,"comment_id":131016612,"body_markdown":"Are you trying to use TLS encryption? There seems to be an [issue](https://support.oracle.com/knowledge/Middleware/2771092_1.html).","body":"Are you trying to use TLS encryption? There seems to be an <a href=\"https://support.oracle.com/knowledge/Middleware/2771092_1.html\" rel=\"nofollow noreferrer\">issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":26453216,"reputation":51,"user_id":20096126,"display_name":"明天见i"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666747716,"creation_date":1666747716,"answer_id":74201758,"question_id":74198104,"body_markdown":"In the createTADataSource function, check to see if System.getProperty(&quot;DB_TA_URL&quot;) can successfully get the value, and change the code you used to set setPassword twice","title":"MyBatis Spring boot MultiDataSource SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)","body":"<p>In the createTADataSource function, check to see if System.getProperty(&quot;DB_TA_URL&quot;) can successfully get the value, and change the code you used to set setPassword twice</p>\n"}],"owner":{"account_id":2658349,"reputation":582,"user_id":2298581,"accept_rate":43,"display_name":"user2298581"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74201758,"answer_count":1,"score":0,"last_activity_date":1666766927,"creation_date":1666719471,"question_id":74198104,"body_markdown":"I&#39;m trying to configure my spring-boot application to use 2 datasource at the same time.\r\n\r\nWhen I call the service that use one of the two (taDatasource) I get &quot;IO Error: Connection closed&quot;, does this mean the connection properties are wrong or am I doing something else wrong?\r\n\r\nCould you please help me?\r\n\r\nStacktrace:\r\n\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:307)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n    \tat com.gy7.rental.service.RentalServiceImpl.findAllTestDataItems(RentalServiceImpl.java:37)\r\n    \tat com.gy7.rental.controller.RentalController.searchMessage(RentalController.java:268)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:669)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:544)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:753)\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:263)\r\n    \t... 88 more\r\n    Caused by: java.sql.SQLRecoverableException: IO Error: Connection closed, Authentication lapse 0 ms.\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:821)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:782)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:39)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:704)\r\n    \tat org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:55)\r\n    \tat org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:355)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:115)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:665)\r\n    \t... 91 more\r\n    Caused by: java.io.IOException: Connection closed, Authentication lapse 0 ms.\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:817)\r\n    \t... 98 more\r\n    Caused by: java.io.IOException: Connection closed\r\n    \tat oracle.net.nt.SSLSocketChannel.readFromSocket(SSLSocketChannel.java:560)\r\n    \tat oracle.net.nt.SSLSocketChannel.unwrapHandshakeMessage(SSLSocketChannel.java:479)\r\n    \tat oracle.net.nt.SSLSocketChannel.doSSLHandshake(SSLSocketChannel.java:436)\r\n    \tat oracle.net.nt.SSLSocketChannel.write(SSLSocketChannel.java:126)\r\n    \tat oracle.net.ns.NIOPacket.writeToSocketChannel(NIOPacket.java:308)\r\n    \tat oracle.net.ns.NIOConnectPacket.writeToSocketChannel(NIOConnectPacket.java:235)\r\n    \tat oracle.net.ns.NSProtocolNIO.negotiateConnection(NSProtocolNIO.java:114)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:318)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1481)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:540)\r\n    \t... 98 more\r\n    25-10-2022 19:00:19.980 [ERROR] - [https-jsse-nio-27100-exec-3] c.u.g.m.c.RentalController : Exception message: \r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:307)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n    \tat com.gy7.rental.service.RentalServiceImpl.findAllTestDataItems(RentalServiceImpl.java:37)\r\n    \tat com.gy7.rental.controller.RentalController.searchMessage(RentalController.java:268)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:669)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:544)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:753)\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:263)\r\n    \t... 88 common frames omitted\r\n    Caused by: java.sql.SQLRecoverableException: IO Error: Connection closed, Authentication lapse 0 ms.\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:821)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:782)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:39)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:704)\r\n    \tat org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:55)\r\n    \tat org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:355)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:115)\r\n    \tat org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:665)\r\n    \t... 91 common frames omitted\r\n    Caused by: java.io.IOException: Connection closed, Authentication lapse 0 ms.\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:817)\r\n    \t... 98 common frames omitted\r\n    Caused by: java.io.IOException: Connection closed\r\n    \tat oracle.net.nt.SSLSocketChannel.readFromSocket(SSLSocketChannel.java:560)\r\n    \tat oracle.net.nt.SSLSocketChannel.unwrapHandshakeMessage(SSLSocketChannel.java:479)\r\n    \tat oracle.net.nt.SSLSocketChannel.doSSLHandshake(SSLSocketChannel.java:436)\r\n    \tat oracle.net.nt.SSLSocketChannel.write(SSLSocketChannel.java:126)\r\n    \tat oracle.net.ns.NIOPacket.writeToSocketChannel(NIOPacket.java:308)\r\n    \tat oracle.net.ns.NIOConnectPacket.writeToSocketChannel(NIOConnectPacket.java:235)\r\n    \tat oracle.net.ns.NSProtocolNIO.negotiateConnection(NSProtocolNIO.java:114)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:318)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1481)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:540)\r\n    \t... 98 common frames omitted\r\n\r\n\r\nTaDataSourceConfiguration.java:\r\n\r\n        @Configuration\r\n    @MapperScan(value = {&quot;com.gy7.rental.jdbc.mapper&quot;}, sqlSessionFactoryRef = &quot;taSqlSessionFactory&quot;)\r\n    public class TaDataSourceConfiguration extends DataSourceConfiguration {\r\n    \r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(TaDataSourceConfiguration.class);\r\n    \r\n        @Bean(&quot;taDataSource&quot;)\r\n        @ConfigurationProperties(prefix = &quot;jdbc-oracle-tadb&quot;)\r\n        @ConditionalOnProperty(name = &quot;jdbc-oracle-tadb.enable&quot;, havingValue = &quot;true&quot;)\r\n        @Primary\r\n        public DataSource taDataSource() throws Exception {\r\n            LOGGER.info(&quot;Creating Oracle TA datasource.&quot;);\r\n            BasicDataSource bds = createTADataSource();\r\n            LOGGER.info(&quot;Oracle TA datasource created. Datasource: {}&quot;, bds);\r\n            return bds;\r\n        }\r\n    \r\n        @Bean(name = &quot;taSqlSessionFactory&quot;)\r\n        @Primary\r\n        public SqlSessionFactory taSqlSessionFactory() throws Exception {\r\n            SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\r\n            sessionFactory.setDataSource(createTADataSource());\r\n            return sessionFactory.getObject();\r\n        }\r\n    \r\n        @Bean(name = &quot;taTrxManager&quot;)\r\n        public DataSourceTransactionManager transactionManager(DataSource dataSource) throws Exception {\r\n            return new DataSourceTransactionManager(dataSource);\r\n        }\r\n    \r\n        protected BasicDataSource createTADataSource() throws Exception {\r\n    \r\n            BasicDataSource bds = new BasicDataSource();\r\n            bds.setUrl(System.getProperty(&quot;DB_TA_URL&quot;));\r\n            bds.setUsername(&quot;MIKE&quot;);\r\n            bds.setPassword(&quot;123456&quot;);\r\n            bds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n    \t\tbds.setInitialSize(5);\r\n            bds.setMaxTotal(GenericObjectPoolConfig.DEFAULT_MAX_TOTAL);\r\n            bds.setMaxIdle(GenericObjectPoolConfig.DEFAULT_MAX_IDLE);\r\n            bds.setMinIdle(GenericObjectPoolConfig.DEFAULT_MIN_IDLE);\r\n            bds.setMaxWaitMillis(5000L);\r\n            bds.setDefaultQueryTimeout(10);  // seconds\r\n            bds.setRemoveAbandonedTimeout(30);  // seconds\r\n    \r\n            return bds;\r\n        }\r\n\r\nApplication.java:\r\n\r\n    @SpringBootApplication(scanBasePackages = {\r\n            &quot;com.gy7.rental&quot;\r\n    },\r\n            exclude = {\r\n                    ErrorMvcAutoConfiguration.class,\r\n                    DataSourceAutoConfiguration.class\r\n            }\r\n    )\r\n    @MapperScan(&quot;com.gy7.rental.jdbc.mapper&quot;)\r\n    \r\n    public class Application\r\n            extends SpringBootServletInitializer {\r\n    \r\n        public static void main(final String[] args) {\r\n            SpringApplication application =\r\n                    new SpringApplication(Application.class);\r\n    \r\n            application.setAddCommandLineProperties(false);\r\n            application.run(args);\r\n        }\r\n    }\t\r\n\r\nRentalServiceImpl.java\r\n\r\n        @Service\r\n    public class RentalServiceImpl implements RentalServiceIntf {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(RentalServiceImpl.class);\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;taSqlSessionFactory&quot;)\r\n        SqlSessionFactory taSqlSession;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;taTrxManager&quot;)\r\n        private PlatformTransactionManager taTrxManager;\r\n    \r\n        public List&lt;TestItemEntity&gt; findAllTestDataItems() throws Exception {\r\n    \r\n            // TA Datasource\r\n            List&lt;TestItemEntity&gt; TestItemEntityList;\r\n            TransactionStatus txStatus = taTrxManager.getTransaction(new DefaultTransactionDefinition());\r\n            SqlSession session = taSqlSession.openSession();\r\n    \r\n            try {\r\n                RentalMapper rentalMapper = session.getMapper(RentalMapper.class);\r\n                TestItemEntityList = rentalMapper.selectAllTestDataItem();\r\n    \r\n                taTrxManager.commit(txStatus);\r\n    \r\n                if (LOGGER.isDebugEnabled()) {\r\n                    LOGGER.debug(&quot;# n&#176; records found: {}&quot;, TestItemEntityList.size());\r\n                }\r\n            } catch (Throwable throwable) {\r\n                taTrxManager.rollback(txStatus);\r\n                throw throwable;\r\n            }\r\n            return TestItemEntityList;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;${ojdbc.artifactId}&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${ojdbc.version}&lt;/version&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mybatis.dynamic-sql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mybatis-dynamic-sql&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;","title":"MyBatis Spring boot MultiDataSource SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)","body":"<p>I'm trying to configure my spring-boot application to use 2 datasource at the same time.</p>\n<p>When I call the service that use one of the two (taDatasource) I get &quot;IO Error: Connection closed&quot;, does this mean the connection properties are wrong or am I doing something else wrong?</p>\n<p>Could you please help me?</p>\n<p>Stacktrace:</p>\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:307)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at com.gy7.rental.service.RentalServiceImpl.findAllTestDataItems(RentalServiceImpl.java:37)\n    at com.gy7.rental.controller.RentalController.searchMessage(RentalController.java:268)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\n    at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:669)\n    at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:544)\n    at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:753)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:263)\n    ... 88 more\nCaused by: java.sql.SQLRecoverableException: IO Error: Connection closed, Authentication lapse 0 ms.\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:821)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:782)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:39)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:704)\n    at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:55)\n    at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:355)\n    at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:115)\n    at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:665)\n    ... 91 more\nCaused by: java.io.IOException: Connection closed, Authentication lapse 0 ms.\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:817)\n    ... 98 more\nCaused by: java.io.IOException: Connection closed\n    at oracle.net.nt.SSLSocketChannel.readFromSocket(SSLSocketChannel.java:560)\n    at oracle.net.nt.SSLSocketChannel.unwrapHandshakeMessage(SSLSocketChannel.java:479)\n    at oracle.net.nt.SSLSocketChannel.doSSLHandshake(SSLSocketChannel.java:436)\n    at oracle.net.nt.SSLSocketChannel.write(SSLSocketChannel.java:126)\n    at oracle.net.ns.NIOPacket.writeToSocketChannel(NIOPacket.java:308)\n    at oracle.net.ns.NIOConnectPacket.writeToSocketChannel(NIOConnectPacket.java:235)\n    at oracle.net.ns.NSProtocolNIO.negotiateConnection(NSProtocolNIO.java:114)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:318)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1481)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:540)\n    ... 98 more\n25-10-2022 19:00:19.980 [ERROR] - [https-jsse-nio-27100-exec-3] c.u.g.m.c.RentalController : Exception message: \norg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:307)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at com.gy7.rental.service.RentalServiceImpl.findAllTestDataItems(RentalServiceImpl.java:37)\n    at com.gy7.rental.controller.RentalController.searchMessage(RentalController.java:268)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.sql.SQLException: Cannot create PoolableConnectionFactory (IO Error: Connection closed, Authentication lapse 0 ms.)\n    at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:669)\n    at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:544)\n    at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:753)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:263)\n    ... 88 common frames omitted\nCaused by: java.sql.SQLRecoverableException: IO Error: Connection closed, Authentication lapse 0 ms.\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:821)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:782)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:39)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:704)\n    at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:55)\n    at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:355)\n    at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:115)\n    at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:665)\n    ... 91 common frames omitted\nCaused by: java.io.IOException: Connection closed, Authentication lapse 0 ms.\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:817)\n    ... 98 common frames omitted\nCaused by: java.io.IOException: Connection closed\n    at oracle.net.nt.SSLSocketChannel.readFromSocket(SSLSocketChannel.java:560)\n    at oracle.net.nt.SSLSocketChannel.unwrapHandshakeMessage(SSLSocketChannel.java:479)\n    at oracle.net.nt.SSLSocketChannel.doSSLHandshake(SSLSocketChannel.java:436)\n    at oracle.net.nt.SSLSocketChannel.write(SSLSocketChannel.java:126)\n    at oracle.net.ns.NIOPacket.writeToSocketChannel(NIOPacket.java:308)\n    at oracle.net.ns.NIOConnectPacket.writeToSocketChannel(NIOConnectPacket.java:235)\n    at oracle.net.ns.NSProtocolNIO.negotiateConnection(NSProtocolNIO.java:114)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:318)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1481)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:540)\n    ... 98 common frames omitted\n</code></pre>\n<p>TaDataSourceConfiguration.java:</p>\n<pre><code>    @Configuration\n@MapperScan(value = {&quot;com.gy7.rental.jdbc.mapper&quot;}, sqlSessionFactoryRef = &quot;taSqlSessionFactory&quot;)\npublic class TaDataSourceConfiguration extends DataSourceConfiguration {\n\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(TaDataSourceConfiguration.class);\n\n    @Bean(&quot;taDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;jdbc-oracle-tadb&quot;)\n    @ConditionalOnProperty(name = &quot;jdbc-oracle-tadb.enable&quot;, havingValue = &quot;true&quot;)\n    @Primary\n    public DataSource taDataSource() throws Exception {\n        LOGGER.info(&quot;Creating Oracle TA datasource.&quot;);\n        BasicDataSource bds = createTADataSource();\n        LOGGER.info(&quot;Oracle TA datasource created. Datasource: {}&quot;, bds);\n        return bds;\n    }\n\n    @Bean(name = &quot;taSqlSessionFactory&quot;)\n    @Primary\n    public SqlSessionFactory taSqlSessionFactory() throws Exception {\n        SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();\n        sessionFactory.setDataSource(createTADataSource());\n        return sessionFactory.getObject();\n    }\n\n    @Bean(name = &quot;taTrxManager&quot;)\n    public DataSourceTransactionManager transactionManager(DataSource dataSource) throws Exception {\n        return new DataSourceTransactionManager(dataSource);\n    }\n\n    protected BasicDataSource createTADataSource() throws Exception {\n\n        BasicDataSource bds = new BasicDataSource();\n        bds.setUrl(System.getProperty(&quot;DB_TA_URL&quot;));\n        bds.setUsername(&quot;MIKE&quot;);\n        bds.setPassword(&quot;123456&quot;);\n        bds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        bds.setInitialSize(5);\n        bds.setMaxTotal(GenericObjectPoolConfig.DEFAULT_MAX_TOTAL);\n        bds.setMaxIdle(GenericObjectPoolConfig.DEFAULT_MAX_IDLE);\n        bds.setMinIdle(GenericObjectPoolConfig.DEFAULT_MIN_IDLE);\n        bds.setMaxWaitMillis(5000L);\n        bds.setDefaultQueryTimeout(10);  // seconds\n        bds.setRemoveAbandonedTimeout(30);  // seconds\n\n        return bds;\n    }\n</code></pre>\n<p>Application.java:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {\n        &quot;com.gy7.rental&quot;\n},\n        exclude = {\n                ErrorMvcAutoConfiguration.class,\n                DataSourceAutoConfiguration.class\n        }\n)\n@MapperScan(&quot;com.gy7.rental.jdbc.mapper&quot;)\n\npublic class Application\n        extends SpringBootServletInitializer {\n\n    public static void main(final String[] args) {\n        SpringApplication application =\n                new SpringApplication(Application.class);\n\n        application.setAddCommandLineProperties(false);\n        application.run(args);\n    }\n}   \n</code></pre>\n<p>RentalServiceImpl.java</p>\n<pre><code>    @Service\npublic class RentalServiceImpl implements RentalServiceIntf {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(RentalServiceImpl.class);\n\n    @Autowired\n    @Qualifier(&quot;taSqlSessionFactory&quot;)\n    SqlSessionFactory taSqlSession;\n\n    @Autowired\n    @Qualifier(&quot;taTrxManager&quot;)\n    private PlatformTransactionManager taTrxManager;\n\n    public List&lt;TestItemEntity&gt; findAllTestDataItems() throws Exception {\n\n        // TA Datasource\n        List&lt;TestItemEntity&gt; TestItemEntityList;\n        TransactionStatus txStatus = taTrxManager.getTransaction(new DefaultTransactionDefinition());\n        SqlSession session = taSqlSession.openSession();\n\n        try {\n            RentalMapper rentalMapper = session.getMapper(RentalMapper.class);\n            TestItemEntityList = rentalMapper.selectAllTestDataItem();\n\n            taTrxManager.commit(txStatus);\n\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(&quot;# n° records found: {}&quot;, TestItemEntityList.size());\n            }\n        } catch (Throwable throwable) {\n            taTrxManager.rollback(txStatus);\n            throw throwable;\n        }\n        return TestItemEntityList;\n    }\n\n\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;${ojdbc.artifactId}&lt;/artifactId&gt;\n        &lt;version&gt;${ojdbc.version}&lt;/version&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.dynamic-sql&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-dynamic-sql&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","datetime-format","iso8601"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666705719,"post_id":74194027,"comment_id":130996678,"body_markdown":"It’s unfortunate that you have got only the old-fashioned `Date` format. Have you got that as a `String` or as a `Date` object? In the first (and worst) case, parse and format. In the latter case use `yourOldfashionedDateObject.toInstant()` and perform further conversions from there.","body":"It’s unfortunate that you have got only the old-fashioned <code>Date</code> format. Have you got that as a <code>String</code> or as a <code>Date</code> object? In the first (and worst) case, parse and format. In the latter case use <code>yourOldfashionedDateObject.toInstant()</code> and perform further conversions from there."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666710138,"post_id":74194027,"comment_id":130998483,"body_markdown":"If you have got a `Date` object: `yourOldfashionedDateObject.toInstant().atZone(ZoneId.systemDefault()).format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)`. If you have only got a string: `ZonedDateTime.parse(yourString, DateTimeFormatter.ofPattern(&quot;EEE MMM d HH:mm:ss zzz yyyy&quot;, Locale.ROOT)).format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)`. Result in both ccases: `2024-06-18T00:00:00+03:00`. The formatter will print fraction of second too if non-zero.","body":"If you have got a <code>Date</code> object: <code>yourOldfashionedDateObject.toInstant().atZone(ZoneId.systemD&zwnj;&#8203;efault()).format(Dat&zwnj;&#8203;eTimeFormatter.ISO_O&zwnj;&#8203;FFSET_DATE_TIME)</code>. If you have only got a string: <code>ZonedDateTime.parse(yourString, DateTimeFormatter.ofPattern(&quot;EEE MMM d HH:mm:ss zzz yyyy&quot;, Locale.ROOT)).format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)</code>&zwnj;&#8203;. Result in both ccases: <code>2024-06-18T00:00:00+03:00</code>. The formatter will print fraction of second too if non-zero."},{"owner":{"account_id":26727275,"reputation":1,"user_id":20330212,"display_name":"Андрей Андрей"},"score":0,"creation_date":1666765471,"post_id":74194027,"comment_id":131010821,"body_markdown":"It is a good solution, but how to convert in iso8601 format futher?","body":"It is a good solution, but how to convert in iso8601 format futher?"},{"owner":{"account_id":26727275,"reputation":1,"user_id":20330212,"display_name":"Андрей Андрей"},"score":1,"creation_date":1666766128,"post_id":74194027,"comment_id":131010969,"body_markdown":"I have only String","body":"I have only String"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666766925,"post_id":74194027,"comment_id":131011186,"body_markdown":"Thanks for reverting. I’m sorry, I don’t understand “further”. `.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)` gives you ISO 8601. What are you still missing?","body":"Thanks for reverting. I’m sorry, I don’t understand “further”. <code>.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)</code> gives you ISO 8601. What are you still missing?"},{"owner":{"account_id":26727275,"reputation":1,"user_id":20330212,"display_name":"Андрей Андрей"},"score":0,"creation_date":1666768118,"post_id":74194027,"comment_id":131011510,"body_markdown":"in the result i have string like \n2024-06-18T00:00:00+03:00,  but i need format like 2024-06-18T00:00:00.687+03:00","body":"in the result i have string like  2024-06-18T00:00:00+03:00,  but i need format like 2024-06-18T00:00:00.687+03:00"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666768608,"post_id":74194027,"comment_id":131011651,"body_markdown":"First, your original string hasn’t got any fraction of second, so there is nowhere that I can see you can get `.687` from. `DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;)` will give you three decimals after the decimal point, but in this case they will always be `.000`.","body":"First, your original string hasn’t got any fraction of second, so there is nowhere that I can see you can get <code>.687</code> from. <code>DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;)</code> will give you three decimals after the decimal point, but in this case they will always be <code>.000</code>."}],"answers":[{"comments":[{"owner":{"account_id":26727275,"reputation":1,"user_id":20330212,"display_name":"Андрей Андрей"},"score":0,"creation_date":1666701228,"post_id":74194105,"comment_id":130995061,"body_markdown":"with ZonedDateTime ? but i dont know pattern my formatt. And have problem with Msk timeZone","body":"with ZonedDateTime ? but i dont know pattern my formatt. And have problem with Msk timeZone"},{"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"score":0,"creation_date":1666701583,"post_id":74194105,"comment_id":130995205,"body_markdown":"Read the description of this format class: ```DateTimeFormatter```","body":"Read the description of this format class: <code>DateTimeFormatter</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666707573,"post_id":74194105,"comment_id":130997410,"body_markdown":"It’s a very good suggestion, but it doesn’t answer the question. And yes, @АндрейАндрей, `ZonedDateTime` is the right class to use. For the pattern see [the 2nd linked original question](https://stackoverflow.com/questions/62105691/datetimeparse-exception).","body":"It’s a very good suggestion, but it doesn’t answer the question. And yes, @АндрейАндрей, <code>ZonedDateTime</code> is the right class to use. For the pattern see <a href=\"https://stackoverflow.com/questions/62105691/datetimeparse-exception\">the 2nd linked original question</a>."}],"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666701039,"creation_date":1666701039,"answer_id":74194105,"question_id":74194027,"body_markdown":"Using new calendar API in Java 8.\r\n\r\n```\r\nAPI Class             Default Format\r\n+-----------------------------------+\r\nLocalDate              2021-12-25\r\nLocalTime                         12:30:30\r\nLocalDateTime          2021-12-25T12:30:30\r\nOffsetTime                        12:30:30+01:00\r\nOffsetDateTime         2021-12-25T12:30:30+01:00\r\nZonedDateTime          2021-12-25T12:30:30+01:00 Europe/Paris\r\nYear                   2021\r\nYearMonth              2021-12\r\nMonthDay                   -12-25\r\nInstant                2021-12-25T12:30:30.274Z\r\n```","title":"How to convert specific format date with msk time zone to another format?","body":"<p>Using new calendar API in Java 8.</p>\n<pre><code>API Class             Default Format\n+-----------------------------------+\nLocalDate              2021-12-25\nLocalTime                         12:30:30\nLocalDateTime          2021-12-25T12:30:30\nOffsetTime                        12:30:30+01:00\nOffsetDateTime         2021-12-25T12:30:30+01:00\nZonedDateTime          2021-12-25T12:30:30+01:00 Europe/Paris\nYear                   2021\nYearMonth              2021-12\nMonthDay                   -12-25\nInstant                2021-12-25T12:30:30.274Z\n</code></pre>\n"}],"owner":{"account_id":26727275,"reputation":1,"user_id":20330212,"display_name":"Андрей Андрей"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666701678,"answer_count":1,"score":-1,"last_activity_date":1666766788,"creation_date":1666700683,"question_id":74194027,"body_markdown":"I&#39;m trying to format date in Java. I need this format:\r\n\r\n    2017-06-10T12:38:15.687+03:00\r\n\r\nHow correctly convert this from standard `Date` format which I have got in a `String`?\r\n\r\n    Tue Jun 18 00:00:00 MSK 2024\r\n\r\n","title":"How to convert specific format date with msk time zone to another format?","body":"<p>I'm trying to format date in Java. I need this format:</p>\n<pre><code>2017-06-10T12:38:15.687+03:00\n</code></pre>\n<p>How correctly convert this from standard <code>Date</code> format which I have got in a <code>String</code>?</p>\n<pre><code>Tue Jun 18 00:00:00 MSK 2024\n</code></pre>\n"},{"tags":["java","oracle-adf","jdeveloper"],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666766116,"creation_date":1666766116,"answer_id":74203557,"question_id":74203430,"body_markdown":"You can use the ApplicationModuleTester app to test the public methods of an AM.\r\nRun the tester app and right-click on the application module, then select &#39;show&#39; from the menu. \r\n\r\nThis will show you the method (in the drow down and its parameters. Set the values and click &#39;execute&#39; to run the method.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eEQqw.png","title":"How to test public method in Application Module in Oracle ADF?","body":"<p>You can use the ApplicationModuleTester app to test the public methods of an AM.\nRun the tester app and right-click on the application module, then select 'show' from the menu.</p>\n<p>This will show you the method (in the drow down and its parameters. Set the values and click 'execute' to run the method.</p>\n<p><a href=\"https://i.stack.imgur.com/eEQqw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eEQqw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74203557,"answer_count":1,"score":0,"last_activity_date":1666766116,"creation_date":1666765216,"question_id":74203430,"body_markdown":"I am working on a project that is based on the Oracle ADF framework. We have an AM (application module) called *TestAM.xml* that has interface *TestAM.java* and implementation class *TestAMImpl.java*.\r\n*TestAMImpl.java* has a public method with a method signature: *String fetchSomething(String id)*\r\n\r\nI want to test/debug this method locally by passing the ID parameter, how can I do that? I am trying to run the AM Tester, but that only allows testing of the VOs associated with the AM and not the public methods defined in the AM.\r\n\r\nAny leads will be helpful.","title":"How to test public method in Application Module in Oracle ADF?","body":"<p>I am working on a project that is based on the Oracle ADF framework. We have an AM (application module) called <em>TestAM.xml</em> that has interface <em>TestAM.java</em> and implementation class <em>TestAMImpl.java</em>.\n<em>TestAMImpl.java</em> has a public method with a method signature: <em>String fetchSomething(String id)</em></p>\n<p>I want to test/debug this method locally by passing the ID parameter, how can I do that? I am trying to run the AM Tester, but that only allows testing of the VOs associated with the AM and not the public methods defined in the AM.</p>\n<p>Any leads will be helpful.</p>\n"},{"tags":["java","arrays","arraylist"],"answers":[{"comments":[{"owner":{"account_id":5204717,"reputation":69,"user_id":4163052,"accept_rate":91,"display_name":"Ricardo Desu Perez"},"score":0,"creation_date":1430156553,"post_id":29902399,"comment_id":47927588,"body_markdown":"Thank you for your answer, but I wanted to stick with only using my arraylist. I see how this would work though. Once again, thanks :)","body":"Thank you for your answer, but I wanted to stick with only using my arraylist. I see how this would work though. Once again, thanks :)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1430156125,"creation_date":1430156125,"answer_id":29902399,"question_id":29902332,"body_markdown":"I would probably use a `LinkedHashMap&lt;String, Item&gt;` instead, where the key is the name of the item. That way:\r\n\r\n- You still get to preserve ordering\r\n- You can easily and efficiently check whether there&#39;s already an entry for a given item name.\r\n\r\nYou&#39;d have something like:\r\n\r\n    if (!map.containsKey(item.getName()) {\r\n        map.put(item.getName(), item);\r\n    }\r\n\r\nThis only works if you want *all* items to be unique in terms of name though. If you sometimes want to allow a duplicate name and sometimes not, you probably *do* want a list, and then you could have something like:\r\n\r\n    boolean containsItemName(ArrayList&lt;Item&gt; items, String name) {\r\n        for (Item item : items) {\r\n            if (item.getName().equals(name)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nIf you&#39;re using Java 8, you could use a stream-based solution:\r\n\r\n    boolean containsItemName(ArrayList&lt;Item&gt; items, String name) {\r\n        return items.stream().anyMatch(item -&gt; item.getName().equals(name));\r\n    }","title":"How to add an item only if no other items exist with the same name in the arraylist?","body":"<p>I would probably use a <code>LinkedHashMap&lt;String, Item&gt;</code> instead, where the key is the name of the item. That way:</p>\n\n<ul>\n<li>You still get to preserve ordering</li>\n<li>You can easily and efficiently check whether there's already an entry for a given item name.</li>\n</ul>\n\n<p>You'd have something like:</p>\n\n<pre><code>if (!map.containsKey(item.getName()) {\n    map.put(item.getName(), item);\n}\n</code></pre>\n\n<p>This only works if you want <em>all</em> items to be unique in terms of name though. If you sometimes want to allow a duplicate name and sometimes not, you probably <em>do</em> want a list, and then you could have something like:</p>\n\n<pre><code>boolean containsItemName(ArrayList&lt;Item&gt; items, String name) {\n    for (Item item : items) {\n        if (item.getName().equals(name)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>If you're using Java 8, you could use a stream-based solution:</p>\n\n<pre><code>boolean containsItemName(ArrayList&lt;Item&gt; items, String name) {\n    return items.stream().anyMatch(item -&gt; item.getName().equals(name));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1430156356,"post_id":29902402,"comment_id":47927470,"body_markdown":"That works if items are naturally equal just by name - but if there can be two items with the same name but different other values, it would be somewhat odd for them to be equal, I suspect.","body":"That works if items are naturally equal just by name - but if there can be two items with the same name but different other values, it would be somewhat odd for them to be equal, I suspect."},{"owner":{"account_id":6067198,"reputation":66,"user_id":4737090,"display_name":"willysama"},"score":0,"creation_date":1430156790,"post_id":29902402,"comment_id":47927724,"body_markdown":"true. this is why equals method has to be override to define the rules of unicity before","body":"true. this is why equals method has to be override to define the rules of unicity before"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1430156914,"post_id":29902402,"comment_id":47927798,"body_markdown":"I think you&#39;ve missed my point - if you&#39;re overriding it to be equal just on the basis of name, you may well find that elsewhere you want it to be equal based on other properties.","body":"I think you&#39;ve missed my point - if you&#39;re overriding it to be equal just on the basis of name, you may well find that elsewhere you want it to be equal based on other properties."}],"tags":[],"owner":{"account_id":6067198,"reputation":66,"user_id":4737090,"display_name":"willysama"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430156133,"creation_date":1430156133,"answer_id":29902402,"question_id":29902332,"body_markdown":"I recommend you to use a Set&lt;Item&gt; in your ShoppingCart instead of a List&lt;Item&gt;. Set will manage the unicity of your items. Make sure to have equals method override in your Item class","title":"How to add an item only if no other items exist with the same name in the arraylist?","body":"<p>I recommend you to use a Set in your ShoppingCart instead of a List. Set will manage the unicity of your items. Make sure to have equals method override in your Item class</p>\n"},{"comments":[{"owner":{"account_id":5204717,"reputation":69,"user_id":4163052,"accept_rate":91,"display_name":"Ricardo Desu Perez"},"score":0,"creation_date":1430156606,"post_id":29902409,"comment_id":47927624,"body_markdown":"Thank you so much :D I love how I didn&#39;t have to add hashs or lists to do so. It works :)","body":"Thank you so much :D I love how I didn&#39;t have to add hashs or lists to do so. It works :)"}],"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1430156153,"creation_date":1430156153,"answer_id":29902409,"question_id":29902332,"body_markdown":"You need to check if an item with the same name already exists in your list:\r\n\r\n    public void insertUniqueItem(Item item) {\r\n        if(!contains(item)) {\r\n            cart.add(item);\r\n        }\r\n    }\r\n    \r\n    private boolean contains(Item item) {\r\n        for(Item i : cart) {\r\n            if(i.getName().equals(item.getName())) {\r\n               return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How to add an item only if no other items exist with the same name in the arraylist?","body":"<p>You need to check if an item with the same name already exists in your list:</p>\n\n<pre><code>public void insertUniqueItem(Item item) {\n    if(!contains(item)) {\n        cart.add(item);\n    }\n}\n\nprivate boolean contains(Item item) {\n    for(Item i : cart) {\n        if(i.getName().equals(item.getName())) {\n           return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5204717,"reputation":69,"user_id":4163052,"accept_rate":91,"display_name":"Ricardo Desu Perez"},"score":0,"creation_date":1430156658,"post_id":29902484,"comment_id":47927656,"body_markdown":"Thank you for your answer, but I wanted to stay with only using an arraylist and not using a hash to complete it.","body":"Thank you for your answer, but I wanted to stay with only using an arraylist and not using a hash to complete it."},{"owner":{"account_id":6136083,"reputation":133,"user_id":4784899,"display_name":"nullPointer"},"score":0,"creation_date":1430162097,"post_id":29902484,"comment_id":47930833,"body_markdown":"The hash is needed only so that the arraylist can determine if the item exists in it. It doesn&#39;t utilize a hash table","body":"The hash is needed only so that the arraylist can determine if the item exists in it. It doesn&#39;t utilize a hash table"}],"tags":[],"owner":{"account_id":6136083,"reputation":133,"user_id":4784899,"display_name":"nullPointer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430156412,"creation_date":1430156412,"answer_id":29902484,"question_id":29902332,"body_markdown":"You can modify your Item class to have the equals and hashcode methods as follows:\r\n\r\n\tpublic class Item{\r\n\t\t\r\n\t\tprivate String name;\r\n\t\t\r\n\t\t\r\n\t\tpublic boolean equals(Object o){\r\n\t\t\tif (o instanceOf Item and ((Item)o).getName().compareTo(name) == 0){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int hashCode(){\r\n\t\t\treturn name.hashCode();\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\nYou can now use the contains method of the arrayList to determine if another item exists with the same name in the arrayList or not.","title":"How to add an item only if no other items exist with the same name in the arraylist?","body":"<p>You can modify your Item class to have the equals and hashcode methods as follows:</p>\n\n<pre><code>public class Item{\n\n    private String name;\n\n\n    public boolean equals(Object o){\n        if (o instanceOf Item and ((Item)o).getName().compareTo(name) == 0){\n            return true;\n        }\n        return false;\n    }\n\n    public int hashCode(){\n        return name.hashCode();\n    }\n\n}\n</code></pre>\n\n<p>You can now use the contains method of the arrayList to determine if another item exists with the same name in the arrayList or not.</p>\n"},{"tags":[],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666766111,"creation_date":1666765677,"answer_id":74203498,"question_id":29902332,"body_markdown":"Why you do not using Set ?     \r\n\r\n&gt; Adds the specified element to this set if it is not already present\r\n&gt; (optional operation). More formally, adds the specified element e to\r\n&gt; this set if the set contains no element e2 such that (e==null ?\r\n&gt; e2==null : e.equals(e2)). If this set already contains the element,\r\n&gt; the call leaves the set unchanged and returns false. In combination\r\n&gt; with the restriction on constructors, this ensures that sets never\r\n&gt; contain duplicate elements.\r\n\r\ntoo simple :    \r\noverride `equal` and `hashCode` on `Item` class :     \r\n\r\n    class Item {\r\n        private String title ;\r\n        private String description  ;\r\n        // getter &amp; setter\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false\r\n            Item item = (Item) o;\r\n            return Objects.equals(title,item.title) ; // Or any statement you want\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(title); //same statement like equals method\r\n        }\r\n    }\r\n\r\nNow :     \r\n\r\n    List&lt;Item&gt; listCollection = new ArrayList&lt;&gt;();\r\n    Item a = new Item(&quot;A&quot;, &quot;Best Cheese in Town!&quot;);\r\n    Item b = new Item(&quot;B&quot;, &quot;Refreshing Water!&quot;);\r\n    // add items ...\r\n    listCollection.add(a);\r\n    listCollection.add(b);\r\n\r\n    Set&lt;Item&gt; setCollection = new HashSet&lt;&gt;(listCollection);\r\n    Item duplicate = new Item(&quot;B&quot;,&quot;New Description&quot;);\r\n    setCollection.add(duplicate); // Not added to setCollection","title":"How to add an item only if no other items exist with the same name in the arraylist?","body":"<p>Why you do not using Set ?</p>\n<blockquote>\n<p>Adds the specified element to this set if it is not already present\n(optional operation). More formally, adds the specified element e to\nthis set if the set contains no element e2 such that (e==null ?\ne2==null : e.equals(e2)). If this set already contains the element,\nthe call leaves the set unchanged and returns false. In combination\nwith the restriction on constructors, this ensures that sets never\ncontain duplicate elements.</p>\n</blockquote>\n<p>too simple :<br />\noverride <code>equal</code> and <code>hashCode</code> on <code>Item</code> class :</p>\n<pre><code>class Item {\n    private String title ;\n    private String description  ;\n    // getter &amp; setter\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false\n        Item item = (Item) o;\n        return Objects.equals(title,item.title) ; // Or any statement you want\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(title); //same statement like equals method\n    }\n}\n</code></pre>\n<p>Now :</p>\n<pre><code>List&lt;Item&gt; listCollection = new ArrayList&lt;&gt;();\nItem a = new Item(&quot;A&quot;, &quot;Best Cheese in Town!&quot;);\nItem b = new Item(&quot;B&quot;, &quot;Refreshing Water!&quot;);\n// add items ...\nlistCollection.add(a);\nlistCollection.add(b);\n\nSet&lt;Item&gt; setCollection = new HashSet&lt;&gt;(listCollection);\nItem duplicate = new Item(&quot;B&quot;,&quot;New Description&quot;);\nsetCollection.add(duplicate); // Not added to setCollection\n</code></pre>\n"}],"owner":{"account_id":5204717,"reputation":69,"user_id":4163052,"accept_rate":91,"display_name":"Ricardo Desu Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20535,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29902409,"answer_count":5,"score":3,"last_activity_date":1666766111,"creation_date":1430155871,"question_id":29902332,"body_markdown":"  How would I go about only inserting an item if the item does not have the same name as the other items in the arraylist within my insertUniqueItem() method? \r\n\r\n    \tpublic void insertUniqueItem()\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tShoppingCart sc = new ShoppingCart();\r\n    \t\tItem a = new Item(&quot;Kraft Cheese&quot;, 4, &quot;\\&quot;Best Cheese in Town!\\&quot;&quot;);\r\n    \t\tItem b = new Item(&quot;Bottle of Water&quot;, 2.50, &quot;\\&quot;Refreshing Water!\\&quot;&quot;);\r\n    \t\t\r\n    \t\tsc.insertItem(a);\r\n    \t\tsc.insertItem(b);\r\n    \t\t\r\n    \t\tsc.printInvoice();\r\n    \t\tsc.insertUniqueItem();\r\n    \t\t\r\n    \t\tsc.print();\r\n    \t\t\r\n    \t\tDecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Total Price: $&quot; + df.format(sc.getTotal()));\r\n    \t}\r\n    }","title":"How to add an item only if no other items exist with the same name in the arraylist?","body":"<p>How would I go about only inserting an item if the item does not have the same name as the other items in the arraylist within my insertUniqueItem() method? </p>\n\n<pre><code>    public void insertUniqueItem()\n    {\n\n    }\n\n    public static void main(String[] args)\n    {\n        ShoppingCart sc = new ShoppingCart();\n        Item a = new Item(\"Kraft Cheese\", 4, \"\\\"Best Cheese in Town!\\\"\");\n        Item b = new Item(\"Bottle of Water\", 2.50, \"\\\"Refreshing Water!\\\"\");\n\n        sc.insertItem(a);\n        sc.insertItem(b);\n\n        sc.printInvoice();\n        sc.insertUniqueItem();\n\n        sc.print();\n\n        DecimalFormat df = new DecimalFormat(\"#.00\");\n\n        System.out.println(\"Total Price: $\" + df.format(sc.getTotal()));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665736823,"creation_date":1665736823,"answer_id":74066572,"question_id":74065548,"body_markdown":"try this it might help:\r\nGet keys in a single document\r\nYou can also use aggregation to get keys in a single document:\r\n```\r\ndb.activities.aggregate([ {&quot;$project&quot;:{&quot;arrayofkeyvalue&quot;:{&quot;$objectToArray&quot;:&quot;$$ROOT&quot;}}}, {&quot;$project&quot;:{&quot;keys&quot;:&quot;$arrayofkeyvalue.k&quot;}} ])\r\n```\r\nto delete:\r\n```\r\ndb[&#39;name1.name2.name3.Properties&#39;].remove([ { &quot;key&quot; : &quot;name_key1&quot; }, { &quot;key&quot; : &quot;name_key2&quot; }, { &quot;key&quot; : &quot;name_key3&quot; } )]\r\n```","title":"delete where all keys of a map are contained in a list in mongodb","body":"<p>try this it might help:\nGet keys in a single document\nYou can also use aggregation to get keys in a single document:</p>\n<pre><code>db.activities.aggregate([ {&quot;$project&quot;:{&quot;arrayofkeyvalue&quot;:{&quot;$objectToArray&quot;:&quot;$$ROOT&quot;}}}, {&quot;$project&quot;:{&quot;keys&quot;:&quot;$arrayofkeyvalue.k&quot;}} ])\n</code></pre>\n<p>to delete:</p>\n<pre><code>db['name1.name2.name3.Properties'].remove([ { &quot;key&quot; : &quot;name_key1&quot; }, { &quot;key&quot; : &quot;name_key2&quot; }, { &quot;key&quot; : &quot;name_key3&quot; } )]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665740451,"creation_date":1665740451,"answer_id":74067332,"question_id":74065548,"body_markdown":"This is one way of doing it, use an aggregation pipeline to get `_id` of all documents matching your criteria:\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        &quot;$addFields&quot;: {\r\n          keysOfMap: {\r\n            &quot;$map&quot;: {\r\n              &quot;input&quot;: {\r\n                &quot;$objectToArray&quot;: &quot;$myMap&quot;\r\n              },\r\n              &quot;as&quot;: &quot;item&quot;,\r\n              &quot;in&quot;: &quot;$$item.k&quot;\r\n            }\r\n          },\r\n          \r\n        }\r\n      },\r\n      {\r\n        &quot;$addFields&quot;: {\r\n          &quot;difference&quot;: {\r\n            &quot;$setDifference&quot;: [\r\n              &quot;$keysOfMap&quot;,\r\n              [\r\n                &quot;63f62530-89b1-439e-bcb3-2c7ab614ecda&quot;,\r\n                &quot;dcbb1469-3ca0-4547-b7d1-296ba2f0a01d&quot;\r\n              ]\r\n            ]\r\n          }\r\n        }\r\n      },\r\n      {\r\n        &quot;$match&quot;: {\r\n          difference: []\r\n        }\r\n      },\r\n      {\r\n        &quot;$project&quot;: {\r\n          _id: 1\r\n        }\r\n      }\r\n    ])\r\n\r\nHow it works:\r\n\r\n1. At first, the map the converted into an array, and then that array is mapped to the keys.\r\n2. Then the difference, between the keys array and the list of ids is calculated. \r\n3. Then all documents having empty differences are picked up and their _id is projected.\r\n\r\nUsing these ids, you can simply do:\r\n\r\n    db.collection.remove({_id: {$in: [// the list here]}});\r\n\r\n[Playground for the aggregation.][1]\r\n\r\n\r\n  [1]: https://mongoplayground.net/p/_WrukCBf_oz","title":"delete where all keys of a map are contained in a list in mongodb","body":"<p>This is one way of doing it, use an aggregation pipeline to get <code>_id</code> of all documents matching your criteria:</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$addFields&quot;: {\n      keysOfMap: {\n        &quot;$map&quot;: {\n          &quot;input&quot;: {\n            &quot;$objectToArray&quot;: &quot;$myMap&quot;\n          },\n          &quot;as&quot;: &quot;item&quot;,\n          &quot;in&quot;: &quot;$$item.k&quot;\n        }\n      },\n      \n    }\n  },\n  {\n    &quot;$addFields&quot;: {\n      &quot;difference&quot;: {\n        &quot;$setDifference&quot;: [\n          &quot;$keysOfMap&quot;,\n          [\n            &quot;63f62530-89b1-439e-bcb3-2c7ab614ecda&quot;,\n            &quot;dcbb1469-3ca0-4547-b7d1-296ba2f0a01d&quot;\n          ]\n        ]\n      }\n    }\n  },\n  {\n    &quot;$match&quot;: {\n      difference: []\n    }\n  },\n  {\n    &quot;$project&quot;: {\n      _id: 1\n    }\n  }\n])\n</code></pre>\n<p>How it works:</p>\n<ol>\n<li>At first, the map the converted into an array, and then that array is mapped to the keys.</li>\n<li>Then the difference, between the keys array and the list of ids is calculated.</li>\n<li>Then all documents having empty differences are picked up and their _id is projected.</li>\n</ol>\n<p>Using these ids, you can simply do:</p>\n<pre><code>db.collection.remove({_id: {$in: [// the list here]}});\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/_WrukCBf_oz\" rel=\"nofollow noreferrer\">Playground for the aggregation.</a></p>\n"},{"tags":[],"owner":{"account_id":1955703,"reputation":4010,"user_id":1758740,"accept_rate":76,"display_name":"Iker Aguayo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666766054,"creation_date":1666766054,"answer_id":74203546,"question_id":74065548,"body_markdown":"This could be also an answer:\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        &quot;$project&quot;: {\r\n          &quot;mapAsArray&quot;: {\r\n            &quot;$objectToArray&quot;: &quot;$map&quot;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        &quot;$match&quot;: {\r\n          &quot;mapAsArray&quot;: {\r\n            &quot;$not&quot;: {\r\n              &quot;$elemMatch&quot;: {\r\n                &quot;k&quot;: {\r\n                  $nin: [\r\n                    &quot;3478956c-3a01-404f-84e7-2a076e165215&quot;,\r\n                    &quot;1e1d1efb-5bf9-48ac-93ca-4a2df5a9f7eb&quot;\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    ])\r\n\r\nHere the [mongoplayground ][1]\r\n\r\nThe map to spring-data-mongodb:\r\n\r\n    ProjectionOperation projectionOperation = project()\r\n                .and(ObjectOperators.valueOf(myMap).toArray()).as(myMapToArray);\r\n    \r\n    MatchOperation matchOperation = match(where(myMapToArray)\r\n                .not()\r\n                .elemMatch(where(&quot;k&quot;).nin(myList)));\r\n    \r\n    AggregationResults&lt;myObject&gt; aggregate = mongoTemplate.aggregate(newAggregation(projectionOperation, matchOperation),\r\n                myObject.class, myObject.class);\r\n\r\n  [1]: https://mongoplayground.net/p/1kTX4sogzV1","title":"delete where all keys of a map are contained in a list in mongodb","body":"<p>This could be also an answer:</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$project&quot;: {\n      &quot;mapAsArray&quot;: {\n        &quot;$objectToArray&quot;: &quot;$map&quot;\n      }\n    }\n  },\n  {\n    &quot;$match&quot;: {\n      &quot;mapAsArray&quot;: {\n        &quot;$not&quot;: {\n          &quot;$elemMatch&quot;: {\n            &quot;k&quot;: {\n              $nin: [\n                &quot;3478956c-3a01-404f-84e7-2a076e165215&quot;,\n                &quot;1e1d1efb-5bf9-48ac-93ca-4a2df5a9f7eb&quot;\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n])\n</code></pre>\n<p>Here the <a href=\"https://mongoplayground.net/p/1kTX4sogzV1\" rel=\"nofollow noreferrer\">mongoplayground </a></p>\n<p>The map to spring-data-mongodb:</p>\n<pre><code>ProjectionOperation projectionOperation = project()\n            .and(ObjectOperators.valueOf(myMap).toArray()).as(myMapToArray);\n\nMatchOperation matchOperation = match(where(myMapToArray)\n            .not()\n            .elemMatch(where(&quot;k&quot;).nin(myList)));\n\nAggregationResults&lt;myObject&gt; aggregate = mongoTemplate.aggregate(newAggregation(projectionOperation, matchOperation),\n            myObject.class, myObject.class);\n</code></pre>\n"}],"owner":{"account_id":1955703,"reputation":4010,"user_id":1758740,"accept_rate":76,"display_name":"Iker Aguayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74203546,"answer_count":3,"score":3,"last_activity_date":1666766054,"creation_date":1665731314,"question_id":74065548,"body_markdown":"**I have this**:\r\n - A field which is a map where the keys are UUIDs and the value another object which is not relevant. \r\n - A list of UUIDs that should be passed as parameter.\r\n\r\n**I want to**:\r\n\r\ndelete from the collection all documents where all keys of the map are included in the list of UUIDs\r\n\r\n**The object**:\r\n\r\n```\r\n@Document\r\npublic class MyClass\r\n{\r\n  private Map&lt;UUID, anotherObject&gt; myMap;\r\n}\r\n```\r\n\r\nWith derived queries I am not able to reach the UUID because has no name -&gt; deleteByMyMap...\r\n\r\nAnd with a query I know that there is a way to convert the map into an array ($expr and $objectToArray) but I do not know if it makes sense.\r\n\r\n - Is there any way to do this? \r\n - How can I access just the key of the map?\r\n\r\n","title":"delete where all keys of a map are contained in a list in mongodb","body":"<p><strong>I have this</strong>:</p>\n<ul>\n<li>A field which is a map where the keys are UUIDs and the value another object which is not relevant.</li>\n<li>A list of UUIDs that should be passed as parameter.</li>\n</ul>\n<p><strong>I want to</strong>:</p>\n<p>delete from the collection all documents where all keys of the map are included in the list of UUIDs</p>\n<p><strong>The object</strong>:</p>\n<pre><code>@Document\npublic class MyClass\n{\n  private Map&lt;UUID, anotherObject&gt; myMap;\n}\n</code></pre>\n<p>With derived queries I am not able to reach the UUID because has no name -&gt; deleteByMyMap...</p>\n<p>And with a query I know that there is a way to convert the map into an array ($expr and $objectToArray) but I do not know if it makes sense.</p>\n<ul>\n<li>Is there any way to do this?</li>\n<li>How can I access just the key of the map?</li>\n</ul>\n"},{"tags":["java","arrays","spring","performance"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666759684,"post_id":74202768,"comment_id":131009705,"body_markdown":"What are you doing? Do you know how to use a switch case structure?","body":"What are you doing? Do you know how to use a switch case structure?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666760323,"post_id":74202768,"comment_id":131009815,"body_markdown":"My posted answer addresses the one problem. However, there are bound to be other issues with your code. I didn&#39;t debug your code.","body":"My posted answer addresses the one problem. However, there are bound to be other issues with your code. I didn&#39;t debug your code."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666762904,"post_id":74202768,"comment_id":131010250,"body_markdown":"You need to post code that at least compiles. Your question it&#39;s probably going to get closed because of this.","body":"You need to post code that at least compiles. Your question it&#39;s probably going to get closed because of this."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666763924,"post_id":74202768,"comment_id":131010478,"body_markdown":"*im getting multiple errors* Which errors are you getting? Welcome to Stack Overflow. Questions about errors are fine here, but you indispensably need to be very specific about which errors. Paste the error messages into your question.","body":"<i>im getting multiple errors</i> Which errors are you getting? Welcome to Stack Overflow. Questions about errors are fine here, but you indispensably need to be very specific about which errors. Paste the error messages into your question."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1666764616,"post_id":74202768,"comment_id":131010629,"body_markdown":"Add this code line: `Book book = new Book();` beneath the  code line `Bookstore myBkStore = new Bookstore();`. Once that is done, change `title` to `book.title`.","body":"Add this code line: <code>Book book = new Book();</code> beneath the  code line <code>Bookstore myBkStore = new Bookstore();</code>. Once that is done, change <code>title</code> to <code>book.title</code>."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666765845,"creation_date":1666760265,"answer_id":74202881,"question_id":74202768,"body_markdown":"I was feeling generous, so I fixed your code. All compiling errors are gone and fixed a few logic errors as well.\r\n\r\n```\r\npublic class MyBookstore {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tBookstore myBkStore = new Bookstore();\r\n\r\n\t\tint y = 0;\r\n\t\tint user_choice = 2;\r\n\t\tboolean quit = false;\r\n\r\n\t\tdo {\r\n\t\t\t// display menu to user\r\n\t\t\t// ask user for his choice and validate it (make sure it is between 1 and 6)\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;1) Add a book to the stock&quot;);\r\n\t\t\tSystem.out.println(&quot;2) Sell a book in stock&quot;);\r\n\t\t\tSystem.out.println(&quot;3) List the titles of all the books in stock (in the Bookstore object)&quot;);\r\n\t\t\tSystem.out.println(&quot;4) List all the information about the books in stock (in the Bookstore object)&quot;);\r\n\t\t\tSystem.out.println(&quot;5) Print out the gross income of the bookstore&quot;);\r\n\t\t\tSystem.out.println(&quot;6) Quit&quot;);\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.print(&quot;Enter choice [1-6]: &quot;);\r\n\t\t\tuser_choice = s.nextInt();\r\n\t\t\ts.nextLine(); // THIS IS NEEDED TO MOVE THE SCANNER TO THE NEXT LINE BEFORE GETTING THE TITLE.\r\n\t\t\tswitch (user_choice) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.print(&quot;Enter a book title: &quot;);\r\n\t\t\t\tString bt = s.nextLine(); // stores title of book user enters in\r\n\t\t\t\tif (myBkStore.inStock(bt)) {\r\n\t\t\t\t\tSystem.out.print(&quot;How many more to add to the stock: &quot;);\r\n\t\t\t\t\ty = s.nextInt();\r\n\t\t\t\t\tmyBkStore.addBookQuantity(bt, y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Enter the amount of pages of the book: &quot;);\r\n\t\t\t\t\tint pages = s.nextInt();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter the price of the book: &quot;);\r\n\t\t\t\t\tdouble price = s.nextDouble();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter the quantity to add: &quot;);\r\n\t\t\t\t\tint quant = s.nextInt();\r\n\t\t\t\t\t// myBkStore.Book(bt, pages, price, quant);\r\n\t\t\t\t\tmyBkStore.addNewBook(new Book(bt, pages, price, quant));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Enter book title to buy: &quot;);\r\n\t\t\t\tString bookT = s.nextLine();\r\n\t\t\t\tmyBkStore.sellBook(bookT);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tmyBkStore.listTitles();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tmyBkStore.listBooks();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tSystem.out.println(&quot;\\nStore Gross income: &quot; +  myBkStore.getIncome());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tSystem.out.println(&quot;Thanks for coming&quot;);\r\n\t\t\t\tquit = true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;\\nInvalid Choice&quot;);\r\n\t\t\t}\r\n\t\t} while (!quit);\r\n\t\ts.close();\r\n\t}\r\n\r\n\tstatic class Bookstore {\r\n\t\tprivate Book[] books; // all the books in this bookstore\r\n\t\tprivate int totalBooks; // the number of books in this bookstore\r\n\t\tprivate double grossIncome; // the gross income of the bookstore (will be incremented when books are sold)\r\n\r\n\t\t// Constructor: A new Bank object initially doesn’t contain any accounts.\r\n\t\tpublic Bookstore() {\r\n\t\t\tbooks = new Book[100];\r\n\t\t\ttotalBooks = 0;\r\n\t\t\tgrossIncome = 0;\r\n\t\t}\r\n\r\n\t\t// Creates a new bank account using the customer name and the opening balance\r\n\t\t// given as parameters\r\n\t\t// and returns the account number of this new account. It also adds this account\r\n\t\t// into the account list\r\n\t\t// of the Bank calling object.\r\n\t\tpublic void addNewBook(Book b) {\r\n\t\t\tif (totalBooks &lt; books.length) {\r\n\t\t\t\tbooks[totalBooks] = b;\r\n\t\t\t\ttotalBooks++;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;\\nSorry, cannot add book to stock.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void addBookQuantity(String title, int quantity) {\r\n\t\t\tfor (int i = 0; i &lt; totalBooks; i++) {\r\n\t\t\t\tif (title == books[i].getTitle()) {\r\n\t\t\t\t\tbooks[i].addQuantity(quantity);\r\n\t\t\t\t\tSystem.out.println(&quot;Quantity added successfully&quot;);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic boolean inStock(String title) {\r\n\t\t\tfor (int i = 0; i &lt; totalBooks; i++) {\r\n\t\t\t\tif (title.equals(books[i].getTitle())) {\r\n\t\t\t\t\tif ( books[i].getQuantity() &gt; 0) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tpublic boolean sellBook(String title) {\r\n\t\t\tint i;\r\n\t\t\tboolean sellflag = false;\r\n\r\n\t\t\t// Checks to see if the books are in stock.\r\n\t\t\tboolean retval = inStock(title);\r\n\r\n\t\t\t// If so, completes the sale.\r\n\t\t\tif (retval) {\r\n\t\t\t\tfor (i = 0; i &lt; totalBooks &amp;&amp; !sellflag; i++) {\r\n\t\t\t\t\tif (title.equals(books[i].getTitle())) {\r\n\t\t\t\t\t\tint quantity = books[i].subtractQuantity();\r\n\t\t\t\t\t\tgrossIncome += (books[i].getPrice()) * quantity;\r\n\t\t\t\t\t\tsellflag = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn retval;\r\n\t\t}\r\n\r\n\t\tpublic void listTitles() {\r\n\t\t\tfor (int i = 0; i &lt; totalBooks; i++) {\r\n\t\t\t\tSystem.out.println(books[i].getTitle());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void listBooks() {\r\n\t\t\tint i;\r\n\r\n\t\t\tSystem.out.println(&quot;\\nList of Books\\n======&quot;);\r\n\t\t\tfor (i = 0; i &lt; totalBooks; i++) {\r\n\t\t\t\tSystem.out.println(books[i]);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\r\n\t\tpublic double getIncome() {\r\n\t\t\treturn grossIncome;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class Book {\r\n\r\n\t\tprivate String title;\r\n\t\tprivate int numOfPages;\r\n\t\tprivate double price;\r\n\t\tprivate int quantity;\r\n\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Title: &quot; + title + &quot;\\nNumber of pages: &quot; + numOfPages + &quot;\\nPrice:&quot; + price + &quot;\\nQuantity: &quot;\r\n\t\t\t\t\t+ quantity + &quot;\\n&quot;;\r\n\t\t}\r\n\r\n\t\tpublic Book(String thetitle, int pages, double cost, int num) {\r\n\t\t\ttitle = thetitle;\r\n\t\t\tnumOfPages = pages;\r\n\t\t\tprice = cost;\r\n\t\t\tquantity = num;\r\n\t\t}\r\n\r\n\t\tpublic String getTitle() {\r\n\t\t\treturn title;\r\n\t\t}\r\n\r\n\t\tpublic double getPrice() {\r\n\t\t\treturn price;\r\n\t\t}\r\n\r\n\t\tpublic int getQuantity() {\r\n\t\t\treturn quantity;\r\n\t\t}\r\n\r\n\t\tpublic void addQuantity(int amount) {\r\n\t\t\tquantity = quantity + amount;\r\n\r\n\t\t}\r\n\r\n\t\tpublic int subtractQuantity() {\r\n\t\t\tSystem.out.println(&quot;Amount to buy&quot;);\r\n\t\t\tScanner s = new Scanner(System.in);\r\n\t\t\tint amount = s.nextInt();\r\n\t\t\tquantity = quantity - amount;\r\n\t\t\treturn amount;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nSample output:\r\n```\r\n1) Add a book to the stock\r\n2) Sell a book in stock\r\n3) List the titles of all the books in stock (in the Bookstore object)\r\n4) List all the information about the books in stock (in the Bookstore object)\r\n5) Print out the gross income of the bookstore\r\n6) Quit\r\n\r\nEnter choice [1-6]: 1\r\nEnter a book title: Effective Java\r\nEnter the amount of pages of the book: \r\n300\r\nEnter the price of the book: \r\n29.99\r\nEnter the quantity to add: \r\n10\r\n\r\n1) Add a book to the stock\r\n2) Sell a book in stock\r\n3) List the titles of all the books in stock (in the Bookstore object)\r\n4) List all the information about the books in stock (in the Bookstore object)\r\n5) Print out the gross income of the bookstore\r\n6) Quit\r\n\r\nEnter choice [1-6]: 1\r\nEnter a book title: Learn Python\r\nEnter the amount of pages of the book: \r\n100\r\nEnter the price of the book: \r\n10.00\r\nEnter the quantity to add: \r\n5\r\n\r\n1) Add a book to the stock\r\n2) Sell a book in stock\r\n3) List the titles of all the books in stock (in the Bookstore object)\r\n4) List all the information about the books in stock (in the Bookstore object)\r\n5) Print out the gross income of the bookstore\r\n6) Quit\r\n\r\nEnter choice [1-6]: 2\r\nEnter book title to buy: \r\nEffective Java\r\nAmount to buy\r\n1\r\n\r\n1) Add a book to the stock\r\n2) Sell a book in stock\r\n3) List the titles of all the books in stock (in the Bookstore object)\r\n4) List all the information about the books in stock (in the Bookstore object)\r\n5) Print out the gross income of the bookstore\r\n6) Quit\r\n\r\nEnter choice [1-6]: 3\r\nEffective Java\r\nLearn Python\r\n\r\n1) Add a book to the stock\r\n2) Sell a book in stock\r\n3) List the titles of all the books in stock (in the Bookstore object)\r\n4) List all the information about the books in stock (in the Bookstore object)\r\n5) Print out the gross income of the bookstore\r\n6) Quit\r\n\r\nEnter choice [1-6]: 4\r\n\r\nList of Books\r\n======\r\nTitle: Effective Java\r\nNumber of pages: 300\r\nPrice:29.99\r\nQuantity: 9\r\n\r\nTitle: Learn Python\r\nNumber of pages: 100\r\nPrice:10.0\r\nQuantity: 5\r\n\r\n\r\n\r\n1) Add a book to the stock\r\n2) Sell a book in stock\r\n3) List the titles of all the books in stock (in the Bookstore object)\r\n4) List all the information about the books in stock (in the Bookstore object)\r\n5) Print out the gross income of the bookstore\r\n6) Quit\r\n\r\nEnter choice [1-6]: 5\r\n\r\nStore Gross income: 29.99\r\n\r\n1) Add a book to the stock\r\n2) Sell a book in stock\r\n3) List the titles of all the books in stock (in the Bookstore object)\r\n4) List all the information about the books in stock (in the Bookstore object)\r\n5) Print out the gross income of the bookstore\r\n6) Quit\r\n\r\nEnter choice [1-6]: 6\r\nThanks for coming\r\n```\r\n\r\nYour main issue was related to the use of `Scanner`.\r\n\r\n 1. For titles, since they can have more than one word (separated with spaces), you needed to use `Scanner#nextLine()` rather than `Scanner#next()`. Because of that,\r\n 2. When you were getting the numeric input for the main menu, you needed to consume the line. Calling `Scanner#nextInt()` doesn&#39;t consume the line. Therefore, you need to call `Scanner#nextLine()` before the next prompt so that the scanner is moved to the next line to get the next inputted value.","title":"Multiple errors in a BookStore program","body":"<p>I was feeling generous, so I fixed your code. All compiling errors are gone and fixed a few logic errors as well.</p>\n<pre><code>public class MyBookstore {\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        Bookstore myBkStore = new Bookstore();\n\n        int y = 0;\n        int user_choice = 2;\n        boolean quit = false;\n\n        do {\n            // display menu to user\n            // ask user for his choice and validate it (make sure it is between 1 and 6)\n            System.out.println();\n            System.out.println(&quot;1) Add a book to the stock&quot;);\n            System.out.println(&quot;2) Sell a book in stock&quot;);\n            System.out.println(&quot;3) List the titles of all the books in stock (in the Bookstore object)&quot;);\n            System.out.println(&quot;4) List all the information about the books in stock (in the Bookstore object)&quot;);\n            System.out.println(&quot;5) Print out the gross income of the bookstore&quot;);\n            System.out.println(&quot;6) Quit&quot;);\n            System.out.println();\n            System.out.print(&quot;Enter choice [1-6]: &quot;);\n            user_choice = s.nextInt();\n            s.nextLine(); // THIS IS NEEDED TO MOVE THE SCANNER TO THE NEXT LINE BEFORE GETTING THE TITLE.\n            switch (user_choice) {\n            case 1:\n                System.out.print(&quot;Enter a book title: &quot;);\n                String bt = s.nextLine(); // stores title of book user enters in\n                if (myBkStore.inStock(bt)) {\n                    System.out.print(&quot;How many more to add to the stock: &quot;);\n                    y = s.nextInt();\n                    myBkStore.addBookQuantity(bt, y);\n                } else {\n                    System.out.println(&quot;Enter the amount of pages of the book: &quot;);\n                    int pages = s.nextInt();\n                    System.out.println(&quot;Enter the price of the book: &quot;);\n                    double price = s.nextDouble();\n                    System.out.println(&quot;Enter the quantity to add: &quot;);\n                    int quant = s.nextInt();\n                    // myBkStore.Book(bt, pages, price, quant);\n                    myBkStore.addNewBook(new Book(bt, pages, price, quant));\n                }\n\n                break;\n            case 2:\n                System.out.println(&quot;Enter book title to buy: &quot;);\n                String bookT = s.nextLine();\n                myBkStore.sellBook(bookT);\n                break;\n            case 3:\n                myBkStore.listTitles();\n                break;\n            case 4:\n                myBkStore.listBooks();\n                break;\n            case 5:\n                System.out.println(&quot;\\nStore Gross income: &quot; +  myBkStore.getIncome());\n                break;\n            case 6:\n                System.out.println(&quot;Thanks for coming&quot;);\n                quit = true;\n                break;\n            default:\n                System.out.println(&quot;\\nInvalid Choice&quot;);\n            }\n        } while (!quit);\n        s.close();\n    }\n\n    static class Bookstore {\n        private Book[] books; // all the books in this bookstore\n        private int totalBooks; // the number of books in this bookstore\n        private double grossIncome; // the gross income of the bookstore (will be incremented when books are sold)\n\n        // Constructor: A new Bank object initially doesn’t contain any accounts.\n        public Bookstore() {\n            books = new Book[100];\n            totalBooks = 0;\n            grossIncome = 0;\n        }\n\n        // Creates a new bank account using the customer name and the opening balance\n        // given as parameters\n        // and returns the account number of this new account. It also adds this account\n        // into the account list\n        // of the Bank calling object.\n        public void addNewBook(Book b) {\n            if (totalBooks &lt; books.length) {\n                books[totalBooks] = b;\n                totalBooks++;\n            } else {\n                System.out.println(&quot;\\nSorry, cannot add book to stock.&quot;);\n            }\n        }\n\n        public void addBookQuantity(String title, int quantity) {\n            for (int i = 0; i &lt; totalBooks; i++) {\n                if (title == books[i].getTitle()) {\n                    books[i].addQuantity(quantity);\n                    System.out.println(&quot;Quantity added successfully&quot;);\n                    return;\n                }\n            }\n        }\n\n        public boolean inStock(String title) {\n            for (int i = 0; i &lt; totalBooks; i++) {\n                if (title.equals(books[i].getTitle())) {\n                    if ( books[i].getQuantity() &gt; 0) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n            }\n            return false;\n        }\n\n        public boolean sellBook(String title) {\n            int i;\n            boolean sellflag = false;\n\n            // Checks to see if the books are in stock.\n            boolean retval = inStock(title);\n\n            // If so, completes the sale.\n            if (retval) {\n                for (i = 0; i &lt; totalBooks &amp;&amp; !sellflag; i++) {\n                    if (title.equals(books[i].getTitle())) {\n                        int quantity = books[i].subtractQuantity();\n                        grossIncome += (books[i].getPrice()) * quantity;\n                        sellflag = true;\n                    }\n                }\n            }\n            return retval;\n        }\n\n        public void listTitles() {\n            for (int i = 0; i &lt; totalBooks; i++) {\n                System.out.println(books[i].getTitle());\n            }\n        }\n\n        public void listBooks() {\n            int i;\n\n            System.out.println(&quot;\\nList of Books\\n======&quot;);\n            for (i = 0; i &lt; totalBooks; i++) {\n                System.out.println(books[i]);\n            }\n            System.out.println();\n        }\n\n        public double getIncome() {\n            return grossIncome;\n        }\n    }\n\n    private static class Book {\n\n        private String title;\n        private int numOfPages;\n        private double price;\n        private int quantity;\n\n        public String toString() {\n            return &quot;Title: &quot; + title + &quot;\\nNumber of pages: &quot; + numOfPages + &quot;\\nPrice:&quot; + price + &quot;\\nQuantity: &quot;\n                    + quantity + &quot;\\n&quot;;\n        }\n\n        public Book(String thetitle, int pages, double cost, int num) {\n            title = thetitle;\n            numOfPages = pages;\n            price = cost;\n            quantity = num;\n        }\n\n        public String getTitle() {\n            return title;\n        }\n\n        public double getPrice() {\n            return price;\n        }\n\n        public int getQuantity() {\n            return quantity;\n        }\n\n        public void addQuantity(int amount) {\n            quantity = quantity + amount;\n\n        }\n\n        public int subtractQuantity() {\n            System.out.println(&quot;Amount to buy&quot;);\n            Scanner s = new Scanner(System.in);\n            int amount = s.nextInt();\n            quantity = quantity - amount;\n            return amount;\n        }\n    }\n}\n</code></pre>\n<p>Sample output:</p>\n<pre><code>1) Add a book to the stock\n2) Sell a book in stock\n3) List the titles of all the books in stock (in the Bookstore object)\n4) List all the information about the books in stock (in the Bookstore object)\n5) Print out the gross income of the bookstore\n6) Quit\n\nEnter choice [1-6]: 1\nEnter a book title: Effective Java\nEnter the amount of pages of the book: \n300\nEnter the price of the book: \n29.99\nEnter the quantity to add: \n10\n\n1) Add a book to the stock\n2) Sell a book in stock\n3) List the titles of all the books in stock (in the Bookstore object)\n4) List all the information about the books in stock (in the Bookstore object)\n5) Print out the gross income of the bookstore\n6) Quit\n\nEnter choice [1-6]: 1\nEnter a book title: Learn Python\nEnter the amount of pages of the book: \n100\nEnter the price of the book: \n10.00\nEnter the quantity to add: \n5\n\n1) Add a book to the stock\n2) Sell a book in stock\n3) List the titles of all the books in stock (in the Bookstore object)\n4) List all the information about the books in stock (in the Bookstore object)\n5) Print out the gross income of the bookstore\n6) Quit\n\nEnter choice [1-6]: 2\nEnter book title to buy: \nEffective Java\nAmount to buy\n1\n\n1) Add a book to the stock\n2) Sell a book in stock\n3) List the titles of all the books in stock (in the Bookstore object)\n4) List all the information about the books in stock (in the Bookstore object)\n5) Print out the gross income of the bookstore\n6) Quit\n\nEnter choice [1-6]: 3\nEffective Java\nLearn Python\n\n1) Add a book to the stock\n2) Sell a book in stock\n3) List the titles of all the books in stock (in the Bookstore object)\n4) List all the information about the books in stock (in the Bookstore object)\n5) Print out the gross income of the bookstore\n6) Quit\n\nEnter choice [1-6]: 4\n\nList of Books\n======\nTitle: Effective Java\nNumber of pages: 300\nPrice:29.99\nQuantity: 9\n\nTitle: Learn Python\nNumber of pages: 100\nPrice:10.0\nQuantity: 5\n\n\n\n1) Add a book to the stock\n2) Sell a book in stock\n3) List the titles of all the books in stock (in the Bookstore object)\n4) List all the information about the books in stock (in the Bookstore object)\n5) Print out the gross income of the bookstore\n6) Quit\n\nEnter choice [1-6]: 5\n\nStore Gross income: 29.99\n\n1) Add a book to the stock\n2) Sell a book in stock\n3) List the titles of all the books in stock (in the Bookstore object)\n4) List all the information about the books in stock (in the Bookstore object)\n5) Print out the gross income of the bookstore\n6) Quit\n\nEnter choice [1-6]: 6\nThanks for coming\n</code></pre>\n<p>Your main issue was related to the use of <code>Scanner</code>.</p>\n<ol>\n<li>For titles, since they can have more than one word (separated with spaces), you needed to use <code>Scanner#nextLine()</code> rather than <code>Scanner#next()</code>. Because of that,</li>\n<li>When you were getting the numeric input for the main menu, you needed to consume the line. Calling <code>Scanner#nextInt()</code> doesn't consume the line. Therefore, you need to call <code>Scanner#nextLine()</code> before the next prompt so that the scanner is moved to the next line to get the next inputted value.</li>\n</ol>\n"}],"owner":{"account_id":22161273,"reputation":1,"user_id":16408233,"display_name":"Subhan khan"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1666763937,"answer_count":1,"score":-3,"last_activity_date":1666765845,"creation_date":1666759159,"question_id":74202768,"body_markdown":"Having an issue with the program and im getting multiple errors \r\n\r\n```\r\nmyBkStore.sellBook(title, y);\r\n```\r\n\r\n```\r\n myBkStore.addNewBook(book);\r\n```\r\n\r\n```\r\n if (myBkStore.inStock(title, y))\r\n```\r\n\r\n before the breaking of case 2 and string bt and public class boolean myBookStore.inStock. how do i solve this issue an advice with improvise syntax would be much more helpful.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\npublic class MyBookstore {\r\n  public static void main(String[] args) {\r\n    Scanner s = new Scanner(System.in);\r\n    Bookstore myBkStore = new Bookstore();\r\n\r\n\r\n    int y = 0;\r\n    int user_choice = 2;\r\n    boolean quit = false;\r\n\r\n    do {\r\n        //display menu to user\r\n        //ask user for his choice and validate it (make sure it is between 1 and 6)\r\n        System.out.println();\r\n        System.out.println(&quot;1) Add a book to the stock&quot;);\r\n        System.out.println(&quot;2) Sell a book in stock&quot;);\r\n        System.out.println(&quot;3) List the titles of all the books in stock (in the Bookstore object)&quot;);\r\n        System.out.println(&quot;4) List all the information about the books in stock (in the Bookstore object)&quot;);\r\n        System.out.println(&quot;5) Print out the gross income of the bookstore&quot;);\r\n        System.out.println(&quot;6) Quit&quot;);\r\n        System.out.println();\r\n        System.out.print(&quot;Enter choice [1-6]: &quot;);\r\n        user_choice = s.nextInt();\r\n        switch (user_choice) {\r\n            case 1: System.out.println(&quot;Enter a book title&quot;);\r\n\r\n\r\n                    String bt = s.next();           //stores title of book user enters in\r\n\r\n                    if (myBkStore.inStock(title, y))\r\n                    {\r\n                        System.out.println(&quot;How many more to add to the stock&quot;);\r\n                        y = s.nextInt();\r\n                        myBkStore.addBookQuantity(bt, y);\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.println(&quot;Enter the amount of pages of the book: &quot;);\r\n                        int pages = s.nextInt();\r\n                        System.out.println(&quot;Enter the price of the book: &quot;);\r\n                        double price = s.nextDouble();\r\n                        System.out.println(&quot;Enter the quantity to add: &quot;);\r\n                        int quant = s.nextInt();\r\n                        //myBkStore.Book(bt, pages, price, quant);\r\n                        myBkStore.addNewBook(book);\r\n                    } \r\n\r\n\r\n                    break;\r\n            case 2: System.out.println(&quot;Enter book title to buy: &quot;);\r\n                    String bookT = s.next();\r\n                    myBkStore.sellBook(title, y);\r\n                    break;\r\n            case 3: myBkStore.listTitles();\r\n                    break;\r\n            case 4: myBkStore.listBooks();\r\n                    break;\r\n            case 5: myBkStore.getIncome();\r\n                    break;\r\n            case 6: System.out.println(&quot;Thanks for coming&quot;);\r\n                    quit = true;\r\n                    break;\r\n            default: System.out.println(&quot;\\nInvalid Choice&quot;);\r\n        }\r\n}\r\nwhile (!quit);\r\n}\r\n\r\nstatic class Bookstore {\r\nprivate Book[] books; // all the books in this bookstore\r\nprivate int totalBooks; // the number of books in this bookstore\r\n    private double grossIncome; //the gross income of the bookstore (will be incremented when books are sold)\r\n\r\n// Constructor: A new Bank object initially doesn’t contain any accounts.\r\npublic Bookstore() {\r\n    books = new Book[100];\r\n    totalBooks = 0;\r\n    grossIncome = 0;\r\n    }\r\n\r\n// Creates a new bank account using the customer name and the opening balance given as parameters\r\n// and returns the account number of this new account. It also adds this account into the account list\r\n// of the Bank calling object.\r\npublic void addNewBook(Book b) {\r\n    if(totalBooks &lt; books.length) {\r\n        books[totalBooks] = b;\r\n        totalBooks++;\r\n\r\n    }\r\n    else\r\n    {\r\n        System.out.println(&quot;\\nSorry, cannot add book to stock.&quot;);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\npublic void addBookQuantity(String title, int quantity) {\r\n    for (int i =0; i&lt;totalBooks; i++) {\r\n        if (title == books[i].getTitle()  ) {\r\n            books[i].addQuantity(quantity);\r\n            System.out.println(&quot;Quantity added successfully&quot;);\r\n            return;\r\n        }\r\n    }\r\n\r\n    /*int i;\r\n\r\n    for (i = 0; i &lt; totalbooks; i++)\r\n    {\r\n        if((books[i].getTitle()).equals(title))\r\n        {\r\n            books[i].addQuantity(quantity);\r\n            return;\r\n        }\r\n    }*/\r\n\r\n\r\n}\r\n\r\npublic boolean inStock (String title, int quantity) {\r\n    for (int i =0; i&lt;totalBooks; i++) {\r\n            if (title.equals(books[i].getTitle())) {\r\n                if (quantity &lt;= books[i].getQuantity()) {return true;}\r\n                else {return false;}\r\n            }\r\n        }\r\n    return false;\r\n\r\n}\r\n\r\npublic boolean sellBook(String title, int quantity){\r\n    int i;\r\n\r\n        boolean sellflag=false;\r\n\r\n        // Checks to see if the books are in stock.\r\n\r\n        boolean retval = inStock(title, quantity);\r\n\r\n        // If so, completes the sale.\r\n\r\n        if (retval) {\r\n\r\n          for (i=0; i&lt;totalBooks &amp;&amp; !sellflag; i++) {\r\n\r\n            if (title.equals(books[i].getTitle())) {\r\n\r\n              books[i].subtractQuantity(quantity);\r\n\r\n              grossIncome += (books[i].getPrice()) * quantity;\r\n\r\n              sellflag = true;\r\n\r\n            }\r\n\r\n          } // for\r\n\r\n        } // if\r\n\r\n        return retval;\r\n\r\n      } // sellBook\r\n\r\n\r\n\r\n\r\n\r\n\r\npublic void listTitles()\r\n{\r\n    for (int i = 0; i &lt; totalBooks; i++)\r\n    {\r\n        System.out.println(books[i].getTitle());\r\n    }\r\n\r\n}\r\n\r\npublic void listBooks()\r\n{\r\n    int i;\r\n\r\n    System.out.println(&quot;\\nList of Books\\n======&quot;);\r\n    for (i = 0; i &lt; totalBooks; i++)\r\n    {\r\n        System.out.println(books[i]);\r\n    }\r\n    System.out.println();\r\n}\r\n\r\npublic double getIncome()\r\n{\r\n    return grossIncome;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  static class Book{\r\n\r\n       private String title;\r\n       private int numOfPages;\r\n       private double price;\r\n       private int quantity;\r\n       private Book book;\r\n\r\n       public String toString(){\r\n           return &quot;Title: &quot; + title + &quot;\\nNumber of pages: &quot; + numOfPages + &quot;\\nPrice:&quot; + price +&quot;\\nQuantity: &quot; + quantity + &quot;\\n&quot;;\r\n\r\n\r\n       }\r\n\r\n\r\n       public Book book(String thetitle, int pages, double cost, int num){\r\n         /*title = thetitle;\r\n         numOfPages = pages;\r\n         price = cost;\r\n         quantity = num;*/\r\n         return book;\r\n\r\n       }\r\n\r\n       public String getTitle(){\r\n         return title;\r\n       }\r\n\r\n       public double getPrice(){\r\n         return price;\r\n       }\r\n\r\n       public int getQuantity(){\r\n         return quantity;\r\n       }\r\n\r\n       public void addQuantity(int amount){\r\n            quantity = quantity + amount;\r\n\r\n    }\r\n    public void subtractQuantity(int amount)\r\n    {\r\n          System.out.println(&quot;Amount to buy&quot;);\r\n        Scanner s = new Scanner(System.in);\r\n        quantity = s.nextInt();\r\n        quantity = quantity - amount;   \r\n    }\r\n\r\n}//end of class\r\n}\r\n```","title":"Multiple errors in a BookStore program","body":"<p>Having an issue with the program and im getting multiple errors</p>\n<pre><code>myBkStore.sellBook(title, y);\n</code></pre>\n<pre><code> myBkStore.addNewBook(book);\n</code></pre>\n<pre><code> if (myBkStore.inStock(title, y))\n</code></pre>\n<p>before the breaking of case 2 and string bt and public class boolean myBookStore.inStock. how do i solve this issue an advice with improvise syntax would be much more helpful.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\npublic class MyBookstore {\n  public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    Bookstore myBkStore = new Bookstore();\n\n\n    int y = 0;\n    int user_choice = 2;\n    boolean quit = false;\n\n    do {\n        //display menu to user\n        //ask user for his choice and validate it (make sure it is between 1 and 6)\n        System.out.println();\n        System.out.println(&quot;1) Add a book to the stock&quot;);\n        System.out.println(&quot;2) Sell a book in stock&quot;);\n        System.out.println(&quot;3) List the titles of all the books in stock (in the Bookstore object)&quot;);\n        System.out.println(&quot;4) List all the information about the books in stock (in the Bookstore object)&quot;);\n        System.out.println(&quot;5) Print out the gross income of the bookstore&quot;);\n        System.out.println(&quot;6) Quit&quot;);\n        System.out.println();\n        System.out.print(&quot;Enter choice [1-6]: &quot;);\n        user_choice = s.nextInt();\n        switch (user_choice) {\n            case 1: System.out.println(&quot;Enter a book title&quot;);\n\n\n                    String bt = s.next();           //stores title of book user enters in\n\n                    if (myBkStore.inStock(title, y))\n                    {\n                        System.out.println(&quot;How many more to add to the stock&quot;);\n                        y = s.nextInt();\n                        myBkStore.addBookQuantity(bt, y);\n                    }\n                    else\n                    {\n                        System.out.println(&quot;Enter the amount of pages of the book: &quot;);\n                        int pages = s.nextInt();\n                        System.out.println(&quot;Enter the price of the book: &quot;);\n                        double price = s.nextDouble();\n                        System.out.println(&quot;Enter the quantity to add: &quot;);\n                        int quant = s.nextInt();\n                        //myBkStore.Book(bt, pages, price, quant);\n                        myBkStore.addNewBook(book);\n                    } \n\n\n                    break;\n            case 2: System.out.println(&quot;Enter book title to buy: &quot;);\n                    String bookT = s.next();\n                    myBkStore.sellBook(title, y);\n                    break;\n            case 3: myBkStore.listTitles();\n                    break;\n            case 4: myBkStore.listBooks();\n                    break;\n            case 5: myBkStore.getIncome();\n                    break;\n            case 6: System.out.println(&quot;Thanks for coming&quot;);\n                    quit = true;\n                    break;\n            default: System.out.println(&quot;\\nInvalid Choice&quot;);\n        }\n}\nwhile (!quit);\n}\n\nstatic class Bookstore {\nprivate Book[] books; // all the books in this bookstore\nprivate int totalBooks; // the number of books in this bookstore\n    private double grossIncome; //the gross income of the bookstore (will be incremented when books are sold)\n\n// Constructor: A new Bank object initially doesn’t contain any accounts.\npublic Bookstore() {\n    books = new Book[100];\n    totalBooks = 0;\n    grossIncome = 0;\n    }\n\n// Creates a new bank account using the customer name and the opening balance given as parameters\n// and returns the account number of this new account. It also adds this account into the account list\n// of the Bank calling object.\npublic void addNewBook(Book b) {\n    if(totalBooks &lt; books.length) {\n        books[totalBooks] = b;\n        totalBooks++;\n\n    }\n    else\n    {\n        System.out.println(&quot;\\nSorry, cannot add book to stock.&quot;);\n    }\n\n\n}\n\n\npublic void addBookQuantity(String title, int quantity) {\n    for (int i =0; i&lt;totalBooks; i++) {\n        if (title == books[i].getTitle()  ) {\n            books[i].addQuantity(quantity);\n            System.out.println(&quot;Quantity added successfully&quot;);\n            return;\n        }\n    }\n\n    /*int i;\n\n    for (i = 0; i &lt; totalbooks; i++)\n    {\n        if((books[i].getTitle()).equals(title))\n        {\n            books[i].addQuantity(quantity);\n            return;\n        }\n    }*/\n\n\n}\n\npublic boolean inStock (String title, int quantity) {\n    for (int i =0; i&lt;totalBooks; i++) {\n            if (title.equals(books[i].getTitle())) {\n                if (quantity &lt;= books[i].getQuantity()) {return true;}\n                else {return false;}\n            }\n        }\n    return false;\n\n}\n\npublic boolean sellBook(String title, int quantity){\n    int i;\n\n        boolean sellflag=false;\n\n        // Checks to see if the books are in stock.\n\n        boolean retval = inStock(title, quantity);\n\n        // If so, completes the sale.\n\n        if (retval) {\n\n          for (i=0; i&lt;totalBooks &amp;&amp; !sellflag; i++) {\n\n            if (title.equals(books[i].getTitle())) {\n\n              books[i].subtractQuantity(quantity);\n\n              grossIncome += (books[i].getPrice()) * quantity;\n\n              sellflag = true;\n\n            }\n\n          } // for\n\n        } // if\n\n        return retval;\n\n      } // sellBook\n\n\n\n\n\n\npublic void listTitles()\n{\n    for (int i = 0; i &lt; totalBooks; i++)\n    {\n        System.out.println(books[i].getTitle());\n    }\n\n}\n\npublic void listBooks()\n{\n    int i;\n\n    System.out.println(&quot;\\nList of Books\\n======&quot;);\n    for (i = 0; i &lt; totalBooks; i++)\n    {\n        System.out.println(books[i]);\n    }\n    System.out.println();\n}\n\npublic double getIncome()\n{\n    return grossIncome;\n}\n\n\n\n\n\n}\n\n\n\n\n\n  static class Book{\n\n       private String title;\n       private int numOfPages;\n       private double price;\n       private int quantity;\n       private Book book;\n\n       public String toString(){\n           return &quot;Title: &quot; + title + &quot;\\nNumber of pages: &quot; + numOfPages + &quot;\\nPrice:&quot; + price +&quot;\\nQuantity: &quot; + quantity + &quot;\\n&quot;;\n\n\n       }\n\n\n       public Book book(String thetitle, int pages, double cost, int num){\n         /*title = thetitle;\n         numOfPages = pages;\n         price = cost;\n         quantity = num;*/\n         return book;\n\n       }\n\n       public String getTitle(){\n         return title;\n       }\n\n       public double getPrice(){\n         return price;\n       }\n\n       public int getQuantity(){\n         return quantity;\n       }\n\n       public void addQuantity(int amount){\n            quantity = quantity + amount;\n\n    }\n    public void subtractQuantity(int amount)\n    {\n          System.out.println(&quot;Amount to buy&quot;);\n        Scanner s = new Scanner(System.in);\n        quantity = s.nextInt();\n        quantity = quantity - amount;   \n    }\n\n}//end of class\n}\n</code></pre>\n"},{"tags":["java","stored-procedures","h2"],"comments":[{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1343709412,"post_id":11718865,"comment_id":15570738,"body_markdown":"Did you read the documentation? The statement you posted is a SQL statement, you need to execute it using the JDBC API.","body":"Did you read the documentation? The statement you posted is a SQL statement, you need to execute it using the JDBC API."},{"owner":{"account_id":1702346,"reputation":1335,"user_id":1562071,"accept_rate":74,"display_name":"Abi"},"score":0,"creation_date":1343790312,"post_id":11718865,"comment_id":15600956,"body_markdown":"I want to know how to call this using the API.Any sample code reference would be of great help.Where should this SQL portion be declared? I understand that this is probably very elementary but I am just starting out.Thanks","body":"I want to know how to call this using the API.Any sample code reference would be of great help.Where should this SQL portion be declared? I understand that this is probably very elementary but I am just starting out.Thanks"},{"owner":{"account_id":2306976,"reputation":5624,"user_id":2026065,"accept_rate":73,"display_name":"Abdul Jabbar"},"score":0,"creation_date":1411843161,"post_id":11718865,"comment_id":40860264,"body_markdown":"I think my Bounty of 200 points has been wasted because realized that H2 actually doesn&#39;t support Stored Procedures nor Derby does. These support Funtions and functions are not for insert/update/delete purposes. As can be seen in this function and Stored Procedure comparision. http://wiki.apache.org/db-derby/DerbySQLroutines :(","body":"I think my Bounty of 200 points has been wasted because realized that H2 actually doesn&#39;t support Stored Procedures nor Derby does. These support Funtions and functions are not for insert/update/delete purposes. As can be seen in this function and Stored Procedure comparision. <a href=\"http://wiki.apache.org/db-derby/DerbySQLroutines\" rel=\"nofollow noreferrer\">wiki.apache.org/db-derby/DerbySQLroutines</a> :("},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1412333273,"post_id":11718865,"comment_id":41042971,"body_markdown":"@AbdulJabbarWebBestow: I&#39;ve expanded my [previous answer](http://stackoverflow.com/a/11840327/230513).","body":"@AbdulJabbarWebBestow: I&#39;ve expanded my <a href=\"http://stackoverflow.com/a/11840327/230513\">previous answer</a>."}],"answers":[{"comments":[{"owner":{"account_id":4973546,"reputation":28167,"user_id":4009451,"accept_rate":87,"display_name":"smeeb"},"score":0,"creation_date":1456219559,"post_id":11840327,"comment_id":58833910,"body_markdown":"Thanks @trashgod (+1) - *finally*, a complete-ish example of invoking the Java function as an alias.","body":"Thanks @trashgod (+1) - <i>finally</i>, a complete-ish example of invoking the Java function as an alias."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542648384,"creation_date":1344320465,"answer_id":11840327,"question_id":11718865,"body_markdown":"You may have overlooked the examples in `src/test/org/h2/samples/Function.java`. Here&#39;s a related example:\r\n\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:h2:mem:&quot;, &quot;sa&quot;, &quot;&quot;);\r\n    Statement st = conn.createStatement();\r\n    st.execute(&quot;CREATE ALIAS getVersion FOR \\&quot;org.h2.engine.Constants.getVersion\\&quot;&quot;);\r\n    ResultSet rs;\r\n    rs = st.executeQuery(&quot;CALL getVersion()&quot;);\r\n    if (rs.next()) System.out.println(&quot;Version: &quot; + rs.getString(1));\r\n\r\nConsole: `Version: 1.4.191`\r\n\r\nAddendum: The feature is not limited to functions; aliased methods can execute arbitrary [Java code][1]. For example, the `query()` method defined in [`Function.java`][2] may be aliased and called as shown below:\r\n\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:h2:mem:&quot;, &quot;sa&quot;, &quot;&quot;);\r\n    Statement st = conn.createStatement();\r\n    st.execute(&quot;CREATE ALIAS query FOR \\&quot;cli.Function.query\\&quot;&quot;);\r\n    rs = st.executeQuery(&quot;CALL query(&#39;SELECT NAME FROM INFORMATION_SCHEMA.USERS&#39;)&quot;);\r\n    while (rs.next()) {\r\n        System.out.println(&quot;User: &quot; + rs.getString(1));\r\n    }\r\n\r\nConsole: `User: SA`\r\n\r\nNote that `cli.Function.query` is a copy of `org.h2.samples.Function.query`.\r\n\r\n  [1]: https://stackoverflow.com/a/17295917/230513\r\n  [2]: https://github.com/h2database/h2database/blob/master/h2/src/test/org/h2/samples/Function.java\r\n\r\n","title":"Stored Procedure in H2 Database","body":"<p>You may have overlooked the examples in <code>src/test/org/h2/samples/Function.java</code>. Here's a related example:</p>\n\n<pre><code>Connection conn = DriverManager.getConnection(\"jdbc:h2:mem:\", \"sa\", \"\");\nStatement st = conn.createStatement();\nst.execute(\"CREATE ALIAS getVersion FOR \\\"org.h2.engine.Constants.getVersion\\\"\");\nResultSet rs;\nrs = st.executeQuery(\"CALL getVersion()\");\nif (rs.next()) System.out.println(\"Version: \" + rs.getString(1));\n</code></pre>\n\n<p>Console: <code>Version: 1.4.191</code></p>\n\n<p>Addendum: The feature is not limited to functions; aliased methods can execute arbitrary <a href=\"https://stackoverflow.com/a/17295917/230513\">Java code</a>. For example, the <code>query()</code> method defined in <a href=\"https://github.com/h2database/h2database/blob/master/h2/src/test/org/h2/samples/Function.java\" rel=\"noreferrer\"><code>Function.java</code></a> may be aliased and called as shown below:</p>\n\n<pre><code>Connection conn = DriverManager.getConnection(\"jdbc:h2:mem:\", \"sa\", \"\");\nStatement st = conn.createStatement();\nst.execute(\"CREATE ALIAS query FOR \\\"cli.Function.query\\\"\");\nrs = st.executeQuery(\"CALL query('SELECT NAME FROM INFORMATION_SCHEMA.USERS')\");\nwhile (rs.next()) {\n    System.out.println(\"User: \" + rs.getString(1));\n}\n</code></pre>\n\n<p>Console: <code>User: SA</code></p>\n\n<p>Note that <code>cli.Function.query</code> is a copy of <code>org.h2.samples.Function.query</code>.</p>\n"},{"comments":[{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1411468150,"post_id":25992488,"comment_id":40704206,"body_markdown":"I think you forgot `rs.next()`.","body":"I think you forgot <code>rs.next()</code>."},{"owner":{"account_id":2306976,"reputation":5624,"user_id":2026065,"accept_rate":73,"display_name":"Abdul Jabbar"},"score":0,"creation_date":1411846509,"post_id":25992488,"comment_id":40861140,"body_markdown":"@ThomasMueller Does H2 still not support Stored Procedures? Please look at my last comment in the questions comment section. Is it right or wrong?","body":"@ThomasMueller Does H2 still not support Stored Procedures? Please look at my last comment in the questions comment section. Is it right or wrong?"},{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1411977278,"post_id":25992488,"comment_id":40891951,"body_markdown":"@AbdulJabbarWebBestow H2 always supported stored procedures... Maybe your definition of stored procedure is not the same as my definition? What is your definition? Something that is 100% compatible with Oracle? Yes, H2 is not 100% compatible with Oracle.","body":"@AbdulJabbarWebBestow H2 always supported stored procedures... Maybe your definition of stored procedure is not the same as my definition? What is your definition? Something that is 100% compatible with Oracle? Yes, H2 is not 100% compatible with Oracle."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1412438310,"post_id":25992488,"comment_id":41074426,"body_markdown":"Related examples are shown in [*SQL Grammar: CREATE ALIAS*](http://www.h2database.com/html/grammar.html#create_alias).","body":"Related examples are shown in <a href=\"http://www.h2database.com/html/grammar.html#create_alias\" rel=\"nofollow noreferrer\"><i>SQL Grammar: CREATE ALIAS</i></a>."}],"tags":[],"owner":{"account_id":2318340,"reputation":616,"user_id":2034812,"display_name":"rajeesh"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1411475660,"creation_date":1411467219,"answer_id":25992488,"question_id":11718865,"body_markdown":"**There is no stored procedure and sql userdefined function in H2 database instead of that we use java methods and create a alias to refer that.We can call that methods using alias.**\r\n\r\nBelow is a simple example:**\r\n\r\n    DROP ALIAS IF EXISTS MYFUNCTION;\r\n    CREATE ALIAS MYFUNCTION AS $$\r\n    String getTableContent(java.sql.Connection con) throws Exception {\r\n    \tString resultValue=null;\r\n    \tjava.sql.ResultSet rs = con.createStatement().executeQuery(\r\n    \t&quot; SELECT * FROM TABLE_NAME&quot;);\r\n           while(rs.next())\r\n           {\r\n    \t\tresultValue=rs.getString(1);\r\n           }\r\n    \treturn resultValue;\r\n    }\r\n    $$;","title":"Stored Procedure in H2 Database","body":"<p><strong>There is no stored procedure and sql userdefined function in H2 database instead of that we use java methods and create a alias to refer that.We can call that methods using alias.</strong></p>\n\n<p>Below is a simple example:**</p>\n\n<pre><code>DROP ALIAS IF EXISTS MYFUNCTION;\nCREATE ALIAS MYFUNCTION AS $$\nString getTableContent(java.sql.Connection con) throws Exception {\n    String resultValue=null;\n    java.sql.ResultSet rs = con.createStatement().executeQuery(\n    \" SELECT * FROM TABLE_NAME\");\n       while(rs.next())\n       {\n        resultValue=rs.getString(1);\n       }\n    return resultValue;\n}\n$$;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5611615,"reputation":101,"user_id":4444145,"display_name":"AVAJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421054628,"creation_date":1421054628,"answer_id":27898698,"question_id":11718865,"body_markdown":"Stored procedure in H2 database is same as java methods.So write java methods and can invoke using aliases.","title":"Stored Procedure in H2 Database","body":"<p>Stored procedure in H2 database is same as java methods.So write java methods and can invoke using aliases.</p>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533564155,"creation_date":1533564155,"answer_id":51709452,"question_id":11718865,"body_markdown":"Below is the way we used to implemented in our project. It might be helpful :)\r\n\r\n    package com.procedures;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n\r\n    public class CRITICAL_ACTIONS {\r\n\r\n        public static final int SAVE_ACTION(Connection connection) throws SQLException {\r\n            try {\r\n                Statement statement = connection.createStatement();\r\n                return statement.executeUpdate(&quot;INSERT INTO SCHEMA1.CRITICAL_ACTIONS(COLLEAGUE_ID,JOURNEY_ID,TYPE,PRODUCT,DESCRIPTION,META_DATA,STATUS) values(&#39;12345&#39;,11111111,&#39;ABC&#39;,&#39;Lloyds&#39;,&#39;hellow&#39;,&#39;hello&#39;,&#39;START&#39;)&quot;);\r\n            } finally {\r\n                //connection.close();\r\n            }\r\n        }\r\n\r\n        public static final ResultSet FETCH_ACTION(Connection connection) throws SQLException {\r\n            try {\r\n                Statement statement = connection.createStatement();\r\n                return statement.executeQuery(&quot;SELECT * FROM SCHEMA1.CRITICAL_ACTIONS&quot;);\r\n            }finally {\r\n                connection.close();\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\nCalling H2 Java Stored-procedure in Java :- \r\n\r\n        jdbcTemplate.update(&quot;CREATE ALIAS SAVE_ACTION FOR \\&quot;com.procedures.CRITICAL_ACTIONS.SAVE_ACTION\\&quot;&quot;);\r\n        jdbcTemplate.update(&quot;CREATE ALIAS FETCH_ACTION FOR \\&quot;com.procedures.CRITICAL_ACTIONS.FETCH_ACTION\\&quot;&quot;);\r\n\r\n        jdbcTemplate.getDataSource().getConnection().createStatement().execute(&quot;call SAVE_ACTION()&quot;);\r\n","title":"Stored Procedure in H2 Database","body":"<p>Below is the way we used to implemented in our project. It might be helpful :)</p>\n\n<pre><code>package com.procedures;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class CRITICAL_ACTIONS {\n\n    public static final int SAVE_ACTION(Connection connection) throws SQLException {\n        try {\n            Statement statement = connection.createStatement();\n            return statement.executeUpdate(\"INSERT INTO SCHEMA1.CRITICAL_ACTIONS(COLLEAGUE_ID,JOURNEY_ID,TYPE,PRODUCT,DESCRIPTION,META_DATA,STATUS) values('12345',11111111,'ABC','Lloyds','hellow','hello','START')\");\n        } finally {\n            //connection.close();\n        }\n    }\n\n    public static final ResultSet FETCH_ACTION(Connection connection) throws SQLException {\n        try {\n            Statement statement = connection.createStatement();\n            return statement.executeQuery(\"SELECT * FROM SCHEMA1.CRITICAL_ACTIONS\");\n        }finally {\n            connection.close();\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>Calling H2 Java Stored-procedure in Java :- </p>\n\n<pre><code>    jdbcTemplate.update(\"CREATE ALIAS SAVE_ACTION FOR \\\"com.procedures.CRITICAL_ACTIONS.SAVE_ACTION\\\"\");\n    jdbcTemplate.update(\"CREATE ALIAS FETCH_ACTION FOR \\\"com.procedures.CRITICAL_ACTIONS.FETCH_ACTION\\\"\");\n\n    jdbcTemplate.getDataSource().getConnection().createStatement().execute(\"call SAVE_ACTION()\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21157537,"reputation":1,"user_id":15556496,"display_name":"sailaja arthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666765631,"creation_date":1618571198,"answer_id":67124079,"question_id":11718865,"body_markdown":"The `H2` is not supporting stored procedures. In place of stored procedure we can create a function which returns an output like  a stored-procedures. Same as we&#39;re using in registerInOut parameters. \r\nFor example, if your QueryConst looks like this:\r\n    \r\n`public static final String INSERT_EMPLOYEE = &quot;{call INSERT_EMPLOYEE(?,?,?)}&quot;;`\r\n    \r\nthen,\r\n    \r\nWe can use `schema.sql`(which executes before `@Test`)\r\n\r\n    DROP ALIAS IF EXISTS INSERT_EMPLOYEE;\r\n    CREATE ALIAS INSERT_EMPLOYEE FOR &quot;com.test.EmployeeDaoImplTest.updateEmpStoredproc&quot;;\r\n\r\n    package com.test;\r\n    @ContextConfiguration(locations = { &quot;classpath:configxmltest.xml&quot; })\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @Sql(scripts = { &quot;classpath:schema.sql&quot; }, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n    public class EmployeeDaoImplTest {\r\n    \t\r\n    \tpublic static final String INSERT_EMPLOYEE = &quot;{call INSERT_EMPLOYEE(?,?,?)}&quot;;\r\n    \r\n    \r\n    \t@Autowired\r\n    \tEmployeeDaoImpl employeeDaoTest;\r\n    \t\r\nand other dependencies....(if any)\r\n    \r\n    \t@Test\r\n    \tpublic void testUpdateEmployee() {\r\n    \t\t..ur logic if any input data settings\r\n    \t\tassertEquals(&quot;Inserted Successfully&quot;, employeeDaoTest.updateEmployee(input, INSERT_EMPLOYEE));\r\n    \t}\r\n    \r\n    \tpublic static ResultSet updateEmpStoredproc(String name, String w, Integer i) throws SQLException {\r\n    \t\tSimpleResultSet rs = new SimpleResultSet();\r\n    \t\trs.addColumn(&quot;input&quot;, Types.VARCHAR, 255, 0);\r\n    \t\trs.addColumn(&quot;error&quot;, Types.VARCHAR, 255, 0);\r\n    \t\trs.addColumn(&quot;count&quot;, Types.INTEGER, 10, 0);\r\n    \t\trs.addRow(0, &quot;Inserted Successfully&quot;);\r\n    \t\trs.addRow(1, 10);\r\n    \t\treturn rs;\r\n    \t}\r\n      }\r\n\r\n","title":"Stored Procedure in H2 Database","body":"<p>The <code>H2</code> is not supporting stored procedures. In place of stored procedure we can create a function which returns an output like  a stored-procedures. Same as we're using in registerInOut parameters.\nFor example, if your QueryConst looks like this:</p>\n<p><code>public static final String INSERT_EMPLOYEE = &quot;{call INSERT_EMPLOYEE(?,?,?)}&quot;;</code></p>\n<p>then,</p>\n<p>We can use <code>schema.sql</code>(which executes before <code>@Test</code>)</p>\n<pre><code>DROP ALIAS IF EXISTS INSERT_EMPLOYEE;\nCREATE ALIAS INSERT_EMPLOYEE FOR &quot;com.test.EmployeeDaoImplTest.updateEmpStoredproc&quot;;\n\npackage com.test;\n@ContextConfiguration(locations = { &quot;classpath:configxmltest.xml&quot; })\n@RunWith(SpringJUnit4ClassRunner.class)\n@Sql(scripts = { &quot;classpath:schema.sql&quot; }, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\npublic class EmployeeDaoImplTest {\n    \n    public static final String INSERT_EMPLOYEE = &quot;{call INSERT_EMPLOYEE(?,?,?)}&quot;;\n\n\n    @Autowired\n    EmployeeDaoImpl employeeDaoTest;\n    \n</code></pre>\n<p>and other dependencies....(if any)</p>\n<pre><code>    @Test\n    public void testUpdateEmployee() {\n        ..ur logic if any input data settings\n        assertEquals(&quot;Inserted Successfully&quot;, employeeDaoTest.updateEmployee(input, INSERT_EMPLOYEE));\n    }\n\n    public static ResultSet updateEmpStoredproc(String name, String w, Integer i) throws SQLException {\n        SimpleResultSet rs = new SimpleResultSet();\n        rs.addColumn(&quot;input&quot;, Types.VARCHAR, 255, 0);\n        rs.addColumn(&quot;error&quot;, Types.VARCHAR, 255, 0);\n        rs.addColumn(&quot;count&quot;, Types.INTEGER, 10, 0);\n        rs.addRow(0, &quot;Inserted Successfully&quot;);\n        rs.addRow(1, 10);\n        return rs;\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":1702346,"reputation":1335,"user_id":1562071,"accept_rate":74,"display_name":"Abi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46705,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"answer_count":5,"score":16,"last_activity_date":1666765631,"creation_date":1343641216,"question_id":11718865,"body_markdown":"I am new to database and recently started writing test cases for H2 database.\r\nI want to know how to test a stored procedure in Eclipse. I have seen the following:\r\n\r\nhttp://www.h2database.com/html/features.html#user_defined_functions\r\n\r\nhttps://stackoverflow.com/questions/4955521/how-to-create-procedure-in-h2\r\n\r\nThe sample code given in the h2database link,\r\n\r\n    &quot;CREATE ALIAS NEXT_PRIME AS $$\r\n    String nextPrime(String value) {\r\n        return new BigInteger(value).nextProbablePrime().toString();\r\n    }\r\n    $$;\r\n    &quot; \r\n\r\n- \r\n\r\nWhere should this be declared?and how to run it?\r\n\r\nPS - I have the H2 JAR file and am testing it.\r\n\r\nIf someone can tell me how to write a simple stored procedure in Java for H2, it would be of great help.\r\n\r\nAlso is there any equivalent of the following in H2?\r\n\r\n&quot;begin dbms_output&quot; ?\r\n\r\nThanks.","title":"Stored Procedure in H2 Database","body":"<p>I am new to database and recently started writing test cases for H2 database.\nI want to know how to test a stored procedure in Eclipse. I have seen the following:</p>\n\n<p><a href=\"http://www.h2database.com/html/features.html#user_defined_functions\" rel=\"noreferrer\">http://www.h2database.com/html/features.html#user_defined_functions</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4955521/how-to-create-procedure-in-h2\">How to CREATE PROCEDURE in H2</a></p>\n\n<p>The sample code given in the h2database link,</p>\n\n<pre><code>\"CREATE ALIAS NEXT_PRIME AS $$\nString nextPrime(String value) {\n    return new BigInteger(value).nextProbablePrime().toString();\n}\n$$;\n\" \n</code></pre>\n\n<ul>\n<li><p>Where should this be declared?and how to run it?</p></li>\n</ul>\n\n<p>PS - I have the H2 JAR file and am testing it.</p>\n\n<p>If someone can tell me how to write a simple stored procedure in Java for H2, it would be of great help.</p>\n\n<p>Also is there any equivalent of the following in H2?</p>\n\n<p>\"begin dbms_output\" ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","arrays","swap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666503930,"post_id":74168850,"comment_id":130950149,"body_markdown":"Please explain what order you want the output in. Showing a single example doesn&#39;t explain what you need.","body":"Please explain what order you want the output in. Showing a single example doesn&#39;t explain what you need."}],"answers":[{"comments":[{"owner":{"account_id":26688583,"reputation":13,"user_id":20297496,"display_name":"WcruzX"},"score":0,"creation_date":1666560659,"post_id":74170300,"comment_id":130960831,"body_markdown":"Thank u very much friend, it helped a lot, I will study your instructions.","body":"Thank u very much friend, it helped a lot, I will study your instructions."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666520041,"creation_date":1666520041,"answer_id":74170300,"question_id":74168850,"body_markdown":"What isn&#39;t clear, except through what is considered your example of valid output, is when should the value of 3 and 5 (or 5 and 3) be swapped, **before** *Even &amp; Odd* is determined or **after** *Even &amp; Odd* is determined. Your example indicates **after** the *Even &amp; Odd* are determined. Whichever it truly is, it&#39;s just a matter of placing the swapping algorithm either before or after the *Even/Odd* algorithm.\r\n\r\nThe key here is to keep everything as an array throughout the *Even/Odd* algorithm instead of printing results. This can be done in a different int[] Array which can be copied over the existing array when the *Even/Odd* process is done using the [Arrays#copyOf()](https://www.tutorialspoint.com/java/util/arrays_copyof_int.htm) method (or do it the long way). Why keep it all as an array? So that swapping can be done at an index level (swap by index). Swap by value can be done but there is a lot more code required since you only want to swap the first two Swap values encountered and not all of them. Here is an example:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    int n;\r\n    System.out.print(&quot;Enter length of Array: -&gt; &quot;);\r\n    n = input.nextInt();\r\n    \r\n    int swapA = 3;   // (or 5)\r\n    int swapB = 5;   // (or 3)\r\n\r\n    int atIndexA = -1;  // Used for swapping\r\n    int atIndexB = -1;  // Used for swapping\r\n    int tmp = -1;       // Used for swapping \r\n        \r\n    // Create and fill Array\r\n    int nums[] = new int[n];\r\n    for (int i = 0; i &lt; n; i++) {\r\n        System.out.print(&quot;Enter number #&quot; + (i+1) + &quot;: -&gt; &quot;);\r\n        nums[i] = input.nextInt();\r\n    }\r\n    System.out.println(&quot;Original Entry:  &quot; + Arrays.toString(nums));\r\n        \r\n    /* Get the even and odd values:\r\n       Even numbers are placed into a temporary \r\n       array first and then the Odd numbers.\r\n    EVEN Numbers:                         */          \r\n    int[] tmpArray = new int[n];\r\n    int indexCounter = 0;\r\n        \r\n    for (int i = 0; i &lt; n; i++) {\r\n        if (nums[i] % 2 == 0) {\r\n            tmpArray[indexCounter] = nums[i];\r\n            indexCounter++;\r\n        }\r\n    }\r\n    // ODD Numbers:\r\n    for (int i = 0; i &lt; n; i++) {\r\n        if (nums[i] % 2 != 0) {\r\n            tmpArray[indexCounter] = nums[i];\r\n            indexCounter++;\r\n        }\r\n    }\r\n        \r\n    // Overwrite the nums[] array with tmpArray[]:\r\n    nums = Arrays.copyOf(tmpArray, n);\r\n    System.out.println(&quot;Evens &amp; Odds:    &quot; + Arrays.toString(nums));\r\n        \r\n    /* Do the required swap (if the two digits exist).\r\n       Get the index values of the first two swap values. */\r\n    for (int i = 0; i &lt; n; i++) {\r\n        if (nums[i] == swapA &amp;&amp; atIndexA == -1) {\r\n            atIndexA = i;\r\n        } \r\n        else if (nums[i] == swapB &amp;&amp; atIndexB == -1) {\r\n            atIndexB = i;\r\n        }\r\n    }\r\n    /* If either atIndexA or atIndexB equals -1 then one\r\n       or both of the swap values do not exit within the \r\n       int[] Array.                 */\r\n    if (atIndexA != -1 &amp;&amp; atIndexB != -1) {\r\n        tmp = nums[atIndexA];\r\n        nums[atIndexA] = nums[atIndexB];\r\n        nums[atIndexB] = tmp;\r\n    }\r\n        \r\n    /* You can delete this...It just indicates which swap \r\n       value(s) is not conatined within the int[] Array. */\r\n    if (atIndexA == -1) {\r\n            System.out.println(&quot;Swap Value &#39;&quot; + swapA + &quot;&#39; is not within the Array!&quot;);\r\n        }\r\n        if (atIndexB == -1) {\r\n            System.out.println(&quot;Swap Value &#39;&quot; + swapB + &quot;&#39; is not within the Array!&quot;);\r\n    }\r\n            \r\n    // Display the overall Result.\r\n    System.out.println(&quot;Numbers Swapped: &quot; + Arrays.toString(nums));   \r\n\r\nHere is what your Console Window could display:\r\n\r\n```\r\nEnter length of Array: -&gt; 5\r\nEnter number #1: -&gt; 1\r\nEnter number #2: -&gt; 3\r\nEnter number #3: -&gt; 4\r\nEnter number #4: -&gt; 5\r\nEnter number #5: -&gt; 2\r\nOriginal Entry:  [1, 3, 4, 5, 2]\r\nEvens &amp; Odds:    [4, 2, 1, 3, 5]\r\nNumbers Swapped: [4, 2, 1, 5, 3]\r\n```","title":"Challenge: Sorting Arrays","body":"<p>What isn't clear, except through what is considered your example of valid output, is when should the value of 3 and 5 (or 5 and 3) be swapped, <strong>before</strong> <em>Even &amp; Odd</em> is determined or <strong>after</strong> <em>Even &amp; Odd</em> is determined. Your example indicates <strong>after</strong> the <em>Even &amp; Odd</em> are determined. Whichever it truly is, it's just a matter of placing the swapping algorithm either before or after the <em>Even/Odd</em> algorithm.</p>\n<p>The key here is to keep everything as an array throughout the <em>Even/Odd</em> algorithm instead of printing results. This can be done in a different int[] Array which can be copied over the existing array when the <em>Even/Odd</em> process is done using the <a href=\"https://www.tutorialspoint.com/java/util/arrays_copyof_int.htm\" rel=\"nofollow noreferrer\">Arrays#copyOf()</a> method (or do it the long way). Why keep it all as an array? So that swapping can be done at an index level (swap by index). Swap by value can be done but there is a lot more code required since you only want to swap the first two Swap values encountered and not all of them. Here is an example:</p>\n<pre><code>Scanner input = new Scanner(System.in);\n\nint n;\nSystem.out.print(&quot;Enter length of Array: -&gt; &quot;);\nn = input.nextInt();\n\nint swapA = 3;   // (or 5)\nint swapB = 5;   // (or 3)\n\nint atIndexA = -1;  // Used for swapping\nint atIndexB = -1;  // Used for swapping\nint tmp = -1;       // Used for swapping \n    \n// Create and fill Array\nint nums[] = new int[n];\nfor (int i = 0; i &lt; n; i++) {\n    System.out.print(&quot;Enter number #&quot; + (i+1) + &quot;: -&gt; &quot;);\n    nums[i] = input.nextInt();\n}\nSystem.out.println(&quot;Original Entry:  &quot; + Arrays.toString(nums));\n    \n/* Get the even and odd values:\n   Even numbers are placed into a temporary \n   array first and then the Odd numbers.\nEVEN Numbers:                         */          \nint[] tmpArray = new int[n];\nint indexCounter = 0;\n    \nfor (int i = 0; i &lt; n; i++) {\n    if (nums[i] % 2 == 0) {\n        tmpArray[indexCounter] = nums[i];\n        indexCounter++;\n    }\n}\n// ODD Numbers:\nfor (int i = 0; i &lt; n; i++) {\n    if (nums[i] % 2 != 0) {\n        tmpArray[indexCounter] = nums[i];\n        indexCounter++;\n    }\n}\n    \n// Overwrite the nums[] array with tmpArray[]:\nnums = Arrays.copyOf(tmpArray, n);\nSystem.out.println(&quot;Evens &amp; Odds:    &quot; + Arrays.toString(nums));\n    \n/* Do the required swap (if the two digits exist).\n   Get the index values of the first two swap values. */\nfor (int i = 0; i &lt; n; i++) {\n    if (nums[i] == swapA &amp;&amp; atIndexA == -1) {\n        atIndexA = i;\n    } \n    else if (nums[i] == swapB &amp;&amp; atIndexB == -1) {\n        atIndexB = i;\n    }\n}\n/* If either atIndexA or atIndexB equals -1 then one\n   or both of the swap values do not exit within the \n   int[] Array.                 */\nif (atIndexA != -1 &amp;&amp; atIndexB != -1) {\n    tmp = nums[atIndexA];\n    nums[atIndexA] = nums[atIndexB];\n    nums[atIndexB] = tmp;\n}\n    \n/* You can delete this...It just indicates which swap \n   value(s) is not conatined within the int[] Array. */\nif (atIndexA == -1) {\n        System.out.println(&quot;Swap Value '&quot; + swapA + &quot;' is not within the Array!&quot;);\n    }\n    if (atIndexB == -1) {\n        System.out.println(&quot;Swap Value '&quot; + swapB + &quot;' is not within the Array!&quot;);\n}\n        \n// Display the overall Result.\nSystem.out.println(&quot;Numbers Swapped: &quot; + Arrays.toString(nums));   \n</code></pre>\n<p>Here is what your Console Window could display:</p>\n<pre><code>Enter length of Array: -&gt; 5\nEnter number #1: -&gt; 1\nEnter number #2: -&gt; 3\nEnter number #3: -&gt; 4\nEnter number #4: -&gt; 5\nEnter number #5: -&gt; 2\nOriginal Entry:  [1, 3, 4, 5, 2]\nEvens &amp; Odds:    [4, 2, 1, 3, 5]\nNumbers Swapped: [4, 2, 1, 5, 3]\n</code></pre>\n"}],"owner":{"account_id":26688583,"reputation":13,"user_id":20297496,"display_name":"WcruzX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1666554843,"accepted_answer_id":74170300,"answer_count":1,"score":-1,"last_activity_date":1666765551,"creation_date":1666502764,"question_id":74168850,"body_markdown":"I need a little help, I made a code to read a sequence of numbers, store them in an array and then print the even ones and then odd ones, but the test has a catch where I need to change the position of two values to pass 5 and 3:\r\n\r\nInput data: 13452\r\n\r\nExpected output: 42153\r\n\r\nMy output: 42135\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    \r\n    int N;\r\n    N = input.nextInt();\r\n    int nums[] = new int[N];\r\n\r\n    for (int i = 0; i &lt; N; i++) {\r\n        nums[i] = input.nextInt();\r\n    }\r\n    for (int i = 0; i &lt; N; i++) {\r\n        if (nums[i] % 2 == 0) {\r\n            System.out.print(nums[i]);\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    for (int i = 0; i &lt; N; i++) {\r\n        if (nums[i] % 2 != 0) {\r\n            System.out.print(nums[i]);\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"Challenge: Sorting Arrays","body":"<p>I need a little help, I made a code to read a sequence of numbers, store them in an array and then print the even ones and then odd ones, but the test has a catch where I need to change the position of two values to pass 5 and 3:</p>\n<p>Input data: 13452</p>\n<p>Expected output: 42153</p>\n<p>My output: 42135</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    \n    int N;\n    N = input.nextInt();\n    int nums[] = new int[N];\n\n    for (int i = 0; i &lt; N; i++) {\n        nums[i] = input.nextInt();\n    }\n    for (int i = 0; i &lt; N; i++) {\n        if (nums[i] % 2 == 0) {\n            System.out.print(nums[i]);\n            System.out.println();\n        }\n    }\n    \n    for (int i = 0; i &lt; N; i++) {\n        if (nums[i] % 2 != 0) {\n            System.out.print(nums[i]);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9290,"page":933,"page_size":100}
