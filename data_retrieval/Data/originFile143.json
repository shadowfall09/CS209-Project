{"items":[{"tags":["java","php","html","json","whois"],"comments":[{"owner":{"account_id":1352803,"reputation":9020,"user_id":1291879,"display_name":"Tigger"},"score":0,"creation_date":1448096397,"post_id":33795652,"comment_id":55447695,"body_markdown":"And what have you tried? Show us all some code of what you have tried.","body":"And what have you tried? Show us all some code of what you have tried."},{"owner":{"account_id":7146955,"reputation":325,"user_id":5462349,"accept_rate":57,"display_name":"Aniket Karne"},"score":0,"creation_date":1448249313,"post_id":33795652,"comment_id":55490895,"body_markdown":"I have given a link for the code.","body":"I have given a link for the code."},{"owner":{"account_id":6535046,"reputation":182,"user_id":5054908,"display_name":"Quickpick"},"score":0,"creation_date":1451510893,"post_id":33795652,"comment_id":56817094,"body_markdown":"You can parse this output into json or xml. Or you can use some of the services out there which have APIs for you to download WHOIS data in json or xml format. Some looks free and some is paid service.","body":"You can parse this output into json or xml. Or you can use some of the services out there which have APIs for you to download WHOIS data in json or xml format. Some looks free and some is paid service."},{"owner":{"account_id":6589647,"reputation":1367,"user_id":5091329,"accept_rate":76,"display_name":"Jim Archer"},"score":0,"creation_date":1451513161,"post_id":33795652,"comment_id":56818096,"body_markdown":"This is extremely easy to do. If you want to do it in PHP, just iterate over it line by line, split it on the colon and then rewrite the line a JSON. Try it and if you can&#39;t make it work come back and show up what you tried.","body":"This is extremely easy to do. If you want to do it in PHP, just iterate over it line by line, split it on the colon and then rewrite the line a JSON. Try it and if you can&#39;t make it work come back and show up what you tried."},{"owner":{"display_name":"user149341"},"score":0,"creation_date":1451513473,"post_id":33795652,"comment_id":56818235,"body_markdown":"@JimArcher Unfortunately, it&#39;s not that simple. Not all registrars use that particular format.","body":"@JimArcher Unfortunately, it&#39;s not that simple. Not all registrars use that particular format."},{"owner":{"account_id":7146955,"reputation":325,"user_id":5462349,"accept_rate":57,"display_name":"Aniket Karne"},"score":0,"creation_date":1451540811,"post_id":33795652,"comment_id":56825275,"body_markdown":"@JimArcher yes jim duskwuff said is right not all server are sending data into json or xml . So there is not simple solution for this .","body":"@JimArcher yes jim duskwuff said is right not all server are sending data into json or xml . So there is not simple solution for this ."},{"owner":{"account_id":4612949,"reputation":668,"user_id":3751119,"accept_rate":60,"display_name":"Anakbhai Gida"},"score":0,"creation_date":1523789017,"post_id":33795652,"comment_id":86696568,"body_markdown":"@Aniket Karne Can you share your php code to get this kind whois data using my php script i am not able to domain contact / admin / technical information","body":"@Aniket Karne Can you share your php code to get this kind whois data using my php script i am not able to domain contact / admin / technical information"}],"answers":[{"comments":[{"owner":{"account_id":7146955,"reputation":325,"user_id":5462349,"accept_rate":57,"display_name":"Aniket Karne"},"score":0,"creation_date":1451540625,"post_id":34538071,"comment_id":56825215,"body_markdown":"Yes i have tried to do do it myself but it can not be possibile if server is sending data in raw format we can not modify it . Paid api is the key.","body":"Yes i have tried to do do it myself but it can not be possibile if server is sending data in raw format we can not modify it . Paid api is the key."},{"owner":{"account_id":6589647,"reputation":1367,"user_id":5091329,"accept_rate":76,"display_name":"Jim Archer"},"score":0,"creation_date":1452560173,"post_id":34538071,"comment_id":57214038,"body_markdown":"This is not true. ICANN does require every registrar to implement a port 43 whois server, but they dictate the format of the whois output in great detail. If you telnet to a registrar&#39;s whois server on port 43, and send a domain name they sponsor followed by CR/LF, you&#39;ll get it back. You can split it on the colon and then parse the other lines. It&#39;s quite simple. A paid API may have been useful years ago, before the output format was dictated, but no longer.","body":"This is not true. ICANN does require every registrar to implement a port 43 whois server, but they dictate the format of the whois output in great detail. If you telnet to a registrar&#39;s whois server on port 43, and send a domain name they sponsor followed by CR/LF, you&#39;ll get it back. You can split it on the colon and then parse the other lines. It&#39;s quite simple. A paid API may have been useful years ago, before the output format was dictated, but no longer."},{"owner":{"display_name":"user149341"},"score":0,"creation_date":1452560706,"post_id":34538071,"comment_id":57214198,"body_markdown":"@JimArcher That is not the case in general. The 2013 ICANN RAA does recommend a format for WHOIS responses, but not all registrars have agreed to that version of the document, so many WHOIS servers still use nonstandard formats. Additionally, ccTLDs are not bound by the ICANN RAA, and most use idiosyncratic formats for WHOIS responses. (Some, like .ES, don&#39;t provide public WHOIS at all!)","body":"@JimArcher That is not the case in general. The 2013 ICANN RAA does recommend a format for WHOIS responses, but not all registrars have agreed to that version of the document, so many WHOIS servers still use nonstandard formats. Additionally, ccTLDs are not bound by the ICANN RAA, and most use idiosyncratic formats for WHOIS responses. (Some, like .ES, don&#39;t provide public WHOIS at all!)"},{"owner":{"display_name":"user149341"},"score":0,"creation_date":1452560760,"post_id":34538071,"comment_id":57214210,"body_markdown":"@JimArcher …Also, some WHOIS servers will heavily rate-limit requests, and will provide abbreviated or no response once you hit that limit. GoDaddy is particularly bad about this.","body":"@JimArcher …Also, some WHOIS servers will heavily rate-limit requests, and will provide abbreviated or no response once you hit that limit. GoDaddy is particularly bad about this."},{"owner":{"account_id":6589647,"reputation":1367,"user_id":5091329,"accept_rate":76,"display_name":"Jim Archer"},"score":0,"creation_date":1452622636,"post_id":34538071,"comment_id":57247783,"body_markdown":"@duskwuff You have a good point about registries not under ICANN control (lucky them). But when it comes to registrars subject to ICANN, whether they signed the agreement or not, ICANN has a way of bullying registrars to do things they are not obligated to do. I can rant about that al day, but in this case, most registrars I have checked conform to the new standard.","body":"@duskwuff You have a good point about registries not under ICANN control (lucky them). But when it comes to registrars subject to ICANN, whether they signed the agreement or not, ICANN has a way of bullying registrars to do things they are not obligated to do. I can rant about that al day, but in this case, most registrars I have checked conform to the new standard."},{"owner":{"account_id":6589647,"reputation":1367,"user_id":5091329,"accept_rate":76,"display_name":"Jim Archer"},"score":0,"creation_date":1452622665,"post_id":34538071,"comment_id":57247801,"body_markdown":"@duskwuff As for rate limiting, well I can&#39;t fault the registrars for doing that. They typically white list other registrars, but anyone who is not a registrar, who is doing bulk whois queries, is most likely doing so for a nefarious  purpose, or at least a purpose contrary to the interests of the sponsoring registrar.","body":"@duskwuff As for rate limiting, well I can&#39;t fault the registrars for doing that. They typically white list other registrars, but anyone who is not a registrar, who is doing bulk whois queries, is most likely doing so for a nefarious  purpose, or at least a purpose contrary to the interests of the sponsoring registrar."},{"owner":{"account_id":6589647,"reputation":1367,"user_id":5091329,"accept_rate":76,"display_name":"Jim Archer"},"score":0,"creation_date":1452704463,"post_id":34538071,"comment_id":57290326,"body_markdown":"@duskwuff I own a registrar, and I can say with confidence that RAA changes are a big deal as soon as ICANN decides to make a big deal out of it (which is anytime they get a complaint or just feel like it), and 2, GoDaddy does not care about much at all, they seem to do what they want. Anyhow, it sounds like we really don&#39;t disagree much.","body":"@duskwuff I own a registrar, and I can say with confidence that RAA changes are a big deal as soon as ICANN decides to make a big deal out of it (which is anytime they get a complaint or just feel like it), and 2, GoDaddy does not care about much at all, they seem to do what they want. Anyhow, it sounds like we really don&#39;t disagree much."}],"tags":[],"owner":{"display_name":"user149341"},"comment_count":7,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1451513636,"creation_date":1451513636,"answer_id":34538071,"question_id":33795652,"body_markdown":"Lots of custom parsing. Sorry. There is no simple solution.\r\n\r\nThere is no standard format for WHOIS responses. At a minimum, most registries have a slightly different format for responses; additionally, &quot;thin registries&quot; such as .COM and .NET require every *registrar* to implement their own WHOIS server, each of which has its own slightly different, idiosyncratic format.\r\n\r\nAs others have noted, there are paid APIs available to do this parsing for you. Depending on your needs, this may be a more appropriate solution than trying to parse several thousand different formats yourself.","title":"I want to convert raw html whois lookup data into json or xml using php or any language","body":"<p>Lots of custom parsing. Sorry. There is no simple solution.</p>\n\n<p>There is no standard format for WHOIS responses. At a minimum, most registries have a slightly different format for responses; additionally, \"thin registries\" such as .COM and .NET require every <em>registrar</em> to implement their own WHOIS server, each of which has its own slightly different, idiosyncratic format.</p>\n\n<p>As others have noted, there are paid APIs available to do this parsing for you. Depending on your needs, this may be a more appropriate solution than trying to parse several thousand different formats yourself.</p>\n"},{"tags":[],"owner":{"account_id":14542595,"reputation":394,"user_id":10503817,"display_name":"Krishan Kumar"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1568229551,"creation_date":1568229551,"answer_id":57895566,"question_id":33795652,"body_markdown":"split text to lines.\r\nread each line.\r\ncheck each line for expire keyword.\r\nif found try to return the required.","title":"I want to convert raw html whois lookup data into json or xml using php or any language","body":"<p>split text to lines.\nread each line.\ncheck each line for expire keyword.\nif found try to return the required.</p>\n"},{"tags":[],"owner":{"account_id":26460292,"reputation":1,"user_id":20102342,"display_name":"Tarzan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664990527,"creation_date":1664990527,"answer_id":73964107,"question_id":33795652,"body_markdown":"With json you can&#39;t store whois output, but you can with\r\n \r\n`website = whois.whois(input(&quot;Website: &quot;))\r\n     open(&quot;output.json&quot;, &quot;w&quot;) as f:\r\n    f.write(str(website))`\r\nsave the output...","title":"I want to convert raw html whois lookup data into json or xml using php or any language","body":"<p>With json you can't store whois output, but you can with</p>\n<p><code>website = whois.whois(input(&quot;Website: &quot;)) open(&quot;output.json&quot;, &quot;w&quot;) as f: f.write(str(website))</code>\nsave the output...</p>\n"},{"tags":[],"owner":{"account_id":1192425,"reputation":2842,"user_id":1164900,"accept_rate":88,"display_name":"umutm"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678175024,"creation_date":1678175024,"answer_id":75659175,"question_id":33795652,"body_markdown":"I&#39;m running a whois API service (https://websiteapi.com/) and the variety of the responses between registries surprised me everyday until handling them all.\r\n\r\nBesides the lack of a common format, a given registry returning inconsistent formats is really hard to handle when not using such a service that handles these cases.","title":"I want to convert raw html whois lookup data into json or xml using php or any language","body":"<p>I'm running a whois API service (<a href=\"https://websiteapi.com/\" rel=\"nofollow noreferrer\">https://websiteapi.com/</a>) and the variety of the responses between registries surprised me everyday until handling them all.</p>\n<p>Besides the lack of a common format, a given registry returning inconsistent formats is really hard to handle when not using such a service that handles these cases.</p>\n"},{"tags":[],"owner":{"account_id":7071983,"reputation":8329,"user_id":5413283,"accept_rate":75,"display_name":"Dexter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693542511,"creation_date":1693542188,"answer_id":77020490,"question_id":33795652,"body_markdown":"It has been years, but if anyone looking for a solution, then here it is\r\n\r\nAs far as I know, you cannot take the list and convert it into an array. PHP doesn&#39;t recognize the separations as key-value pairs. However, there are some alternative ways through which you can transform the list into an array.\r\n\r\nThis requires additional work, but if that&#39;s what you want, you can try these options\r\n\r\n### Option 1\r\nUse an online tool such as https://arraythis.com/ to achieve this. Paste your list, and it will be converted into an array. However, you may still need to make some edits to ensure the array is in the correct format.\r\n\r\nIf I input this\r\n```\r\nfoobar\r\nfoobar: bar\r\n```\r\n\r\nI get this\r\n```php\r\narray(&quot;foobar&quot;, &quot;foobar: bar&quot;)\r\n```\r\n\r\nBut I want this\r\n```php\r\narray(&quot;foobar&quot;, &quot;foobar&quot; =&gt; &quot;bar&quot;)\r\n```\r\n\r\nIf you want an associative array, then you must utilize a regular expression to replace the colon with the double arrow operator =&gt; and enclose the strings in quotes. If this seems like a lot of effort, consider giving Option 2 a try.\r\n\r\n### Option 2\r\nCopy and paste the text into any text editor, then proceed to find and replace all the colons with tabs (spaces).\r\n\r\nVisit the website https://tableconvert.com/ and paste your data; this will generate an output in the form of a table. Scroll down to choose the &#39;JSON&#39; option, which will provide an output.\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;enter code here Domain Name&quot;: &quot;Registrar WHOIS Server&quot;,\r\n        &quot;ttmm.com&quot;: &quot;whois.ename.com&quot;\r\n    },\r\n    {\r\n        &quot;enter code here Domain Name&quot;: &quot;Registrar URL&quot;,\r\n        &quot;ttmm.com&quot;: &quot;http://www.ename.net&quot;\r\n    },\r\n    {\r\n        &quot;enter code here Domain Name&quot;: &quot;Updated Date&quot;,\r\n        &quot;ttmm.com&quot;: &quot;1998-11-25 T05:00:00Z&quot;\r\n    },\r\n    {\r\n        &quot;enter code here Domain Name&quot;: &quot;Creation Date&quot;,\r\n        &quot;ttmm.com&quot;: &quot;1998-11-25 T05:00:00Z&quot;\r\n    },\r\n    {\r\n        &quot;enter code here Domain Name&quot;: &quot;Registrar Registration Expiration Date&quot;,\r\n        &quot;ttmm.com&quot;: &quot;2016-11-24 T05:00:00Z&quot;\r\n    }\r\n]\r\n```","title":"I want to convert raw html whois lookup data into json or xml using php or any language","body":"<p>It has been years, but if anyone looking for a solution, then here it is</p>\n<p>As far as I know, you cannot take the list and convert it into an array. PHP doesn't recognize the separations as key-value pairs. However, there are some alternative ways through which you can transform the list into an array.</p>\n<p>This requires additional work, but if that's what you want, you can try these options</p>\n<h3>Option 1</h3>\n<p>Use an online tool such as <a href=\"https://arraythis.com/\" rel=\"nofollow noreferrer\">https://arraythis.com/</a> to achieve this. Paste your list, and it will be converted into an array. However, you may still need to make some edits to ensure the array is in the correct format.</p>\n<p>If I input this</p>\n<pre><code>foobar\nfoobar: bar\n</code></pre>\n<p>I get this</p>\n<pre class=\"lang-php prettyprint-override\"><code>array(&quot;foobar&quot;, &quot;foobar: bar&quot;)\n</code></pre>\n<p>But I want this</p>\n<pre class=\"lang-php prettyprint-override\"><code>array(&quot;foobar&quot;, &quot;foobar&quot; =&gt; &quot;bar&quot;)\n</code></pre>\n<p>If you want an associative array, then you must utilize a regular expression to replace the colon with the double arrow operator =&gt; and enclose the strings in quotes. If this seems like a lot of effort, consider giving Option 2 a try.</p>\n<h3>Option 2</h3>\n<p>Copy and paste the text into any text editor, then proceed to find and replace all the colons with tabs (spaces).</p>\n<p>Visit the website <a href=\"https://tableconvert.com/\" rel=\"nofollow noreferrer\">https://tableconvert.com/</a> and paste your data; this will generate an output in the form of a table. Scroll down to choose the 'JSON' option, which will provide an output.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;enter code here Domain Name&quot;: &quot;Registrar WHOIS Server&quot;,\n        &quot;ttmm.com&quot;: &quot;whois.ename.com&quot;\n    },\n    {\n        &quot;enter code here Domain Name&quot;: &quot;Registrar URL&quot;,\n        &quot;ttmm.com&quot;: &quot;http://www.ename.net&quot;\n    },\n    {\n        &quot;enter code here Domain Name&quot;: &quot;Updated Date&quot;,\n        &quot;ttmm.com&quot;: &quot;1998-11-25 T05:00:00Z&quot;\n    },\n    {\n        &quot;enter code here Domain Name&quot;: &quot;Creation Date&quot;,\n        &quot;ttmm.com&quot;: &quot;1998-11-25 T05:00:00Z&quot;\n    },\n    {\n        &quot;enter code here Domain Name&quot;: &quot;Registrar Registration Expiration Date&quot;,\n        &quot;ttmm.com&quot;: &quot;2016-11-24 T05:00:00Z&quot;\n    }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8599847,"reputation":89,"user_id":6441791,"display_name":"Lydia Stepanek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696524248,"creation_date":1696524248,"answer_id":77239090,"question_id":33795652,"body_markdown":"Late to this question but I used this library to convert whois results to json and it worked well:\r\n\r\nhttps://www.npmjs.com/package/whois-json","title":"I want to convert raw html whois lookup data into json or xml using php or any language","body":"<p>Late to this question but I used this library to convert whois results to json and it worked well:</p>\n<p><a href=\"https://www.npmjs.com/package/whois-json\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/whois-json</a></p>\n"}],"owner":{"account_id":7146955,"reputation":325,"user_id":5462349,"accept_rate":57,"display_name":"Aniket Karne"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34538071,"answer_count":6,"score":2,"last_activity_date":1696524248,"creation_date":1447909625,"question_id":33795652,"body_markdown":"I got this code for whois lookup from [here](http://www.phpeasycode.com/whois/).\r\n\r\nbut i am getting raw data or html data .. i am getting an output but not in readable format like in json or xml .. how i can convert this into json .. \r\npasting a example output\r\n\r\n    ttmm.com domain lookup results from whois.ename.com server:\r\n\r\n    enter code here Domain Name: ttmm.com\r\n    Registry Domain ID:\r\n    Registrar WHOIS Server: whois.ename.com\r\n    Registrar URL: http://www.ename.net\r\n    Updated Date: 1998-11-25 T05:00:00Z\r\n    Creation Date: 1998-11-25 T05:00:00Z\r\n    Registrar Registration Expiration Date: 2016-11-24 T05:00:00Z\r\n    Registrar: eName Technology Co.,Ltd.\r\n    Registrar IANA ID: 1331\r\n    Registrar Abuse Contact Email: abuse@ename.com\r\n    Registrar Abuse Contact Phone: +86.4000044400\r\n    Domain Status: clientDeleteProhibited\r\n    https://www.icann.org/epp#clientDeleteProhibited\r\n    Domain Status: clientTransferProhibited             https://www.icann.org/epp#clientTransferProhibited\r\n     Registry Registrant ID:Not Available From Registry\r\n    Registrant Name: chousteven\r\n    Registrant Organization: hua you\r\n    Registrant Street: an yuan cun daxue cheng\r\n    Registrant City: ping xiang shi\r\n    Registrant State/Province: jiang xi\r\n    Registrant Postal Code: 337000\r\n    Registrant Country: CN\r\n    Registrant Phone: +86.15979220355\r\n    Registrant Phone Ext:\r\n    Registrant Fax: +86.15979220355\r\n    Registrant Fax Ext:\r\n    Registrant Email: stekiss@163.com\r\n    Registry Admin ID:Not Available From Registry\r\n    Admin Name: chousteven\r\n    Admin Organization: hua you\r\n    Admin Street: an yuan cun daxue cheng\r\n    Admin City: ping xiang shi\r\n    Admin State/Province: jiang xi\r\n    Admin Postal Code: 337000\r\n    Admin Country: CN\r\n    Admin Phone: +86.15979220355\r\n    Admin Phone Ext:\r\n    Admin Fax: +86.15979220355\r\n    Admin Fax Ext:\r\n    Admin Email: stekiss@163.com\r\n    Registry Tech ID:Not Available From Registry\r\n    Tech Name: chousteven\r\n    Tech Organization: hua you\r\n    Tech Street: an yuan cun daxue cheng\r\n    Tech City: ping xiang shi\r\n    Tech State/Province: jiang xi\r\n    Tech Postal Code: 337000\r\n    Tech Country: CN\r\n    Tech Phone: +86.15979220355\r\n    Tech Phone Ext:\r\n    Tech Fax: +86.15979220355\r\n    Tech Fax Ext:\r\n    Tech Email: stekiss@163.com\r\n    Name Server: ns1.alidns.com\r\n    Name Server: ns2.alidns.com\r\n    DNSSEC: unsigned\r\n    URL of the ICANN WHOIS Data Problem Reporting System:    http://wdprs.internic.net/\r\n    &gt;&gt;&gt; Last update of WHOIS database: 2015-11-19 T12:53:51Z &lt;&lt;&lt;\r\n    For more information on Whois status codes, please visit\r\n    https://www.icann.org/resources/pages/epp-status-codes-2014-06-16-en","title":"I want to convert raw html whois lookup data into json or xml using php or any language","body":"<p>I got this code for whois lookup from <a href=\"http://www.phpeasycode.com/whois/\" rel=\"nofollow\">here</a>.</p>\n\n<p>but i am getting raw data or html data .. i am getting an output but not in readable format like in json or xml .. how i can convert this into json .. \npasting a example output</p>\n\n<pre><code>ttmm.com domain lookup results from whois.ename.com server:\n\nenter code here Domain Name: ttmm.com\nRegistry Domain ID:\nRegistrar WHOIS Server: whois.ename.com\nRegistrar URL: http://www.ename.net\nUpdated Date: 1998-11-25 T05:00:00Z\nCreation Date: 1998-11-25 T05:00:00Z\nRegistrar Registration Expiration Date: 2016-11-24 T05:00:00Z\nRegistrar: eName Technology Co.,Ltd.\nRegistrar IANA ID: 1331\nRegistrar Abuse Contact Email: abuse@ename.com\nRegistrar Abuse Contact Phone: +86.4000044400\nDomain Status: clientDeleteProhibited\nhttps://www.icann.org/epp#clientDeleteProhibited\nDomain Status: clientTransferProhibited             https://www.icann.org/epp#clientTransferProhibited\n Registry Registrant ID:Not Available From Registry\nRegistrant Name: chousteven\nRegistrant Organization: hua you\nRegistrant Street: an yuan cun daxue cheng\nRegistrant City: ping xiang shi\nRegistrant State/Province: jiang xi\nRegistrant Postal Code: 337000\nRegistrant Country: CN\nRegistrant Phone: +86.15979220355\nRegistrant Phone Ext:\nRegistrant Fax: +86.15979220355\nRegistrant Fax Ext:\nRegistrant Email: stekiss@163.com\nRegistry Admin ID:Not Available From Registry\nAdmin Name: chousteven\nAdmin Organization: hua you\nAdmin Street: an yuan cun daxue cheng\nAdmin City: ping xiang shi\nAdmin State/Province: jiang xi\nAdmin Postal Code: 337000\nAdmin Country: CN\nAdmin Phone: +86.15979220355\nAdmin Phone Ext:\nAdmin Fax: +86.15979220355\nAdmin Fax Ext:\nAdmin Email: stekiss@163.com\nRegistry Tech ID:Not Available From Registry\nTech Name: chousteven\nTech Organization: hua you\nTech Street: an yuan cun daxue cheng\nTech City: ping xiang shi\nTech State/Province: jiang xi\nTech Postal Code: 337000\nTech Country: CN\nTech Phone: +86.15979220355\nTech Phone Ext:\nTech Fax: +86.15979220355\nTech Fax Ext:\nTech Email: stekiss@163.com\nName Server: ns1.alidns.com\nName Server: ns2.alidns.com\nDNSSEC: unsigned\nURL of the ICANN WHOIS Data Problem Reporting System:    http://wdprs.internic.net/\n&gt;&gt;&gt; Last update of WHOIS database: 2015-11-19 T12:53:51Z &lt;&lt;&lt;\nFor more information on Whois status codes, please visit\nhttps://www.icann.org/resources/pages/epp-status-codes-2014-06-16-en\n</code></pre>\n"},{"tags":["java","elasticsearch","jackson","client"],"comments":[{"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"score":0,"creation_date":1671565718,"post_id":74555871,"comment_id":132125640,"body_markdown":"Hey, do you really need &quot;_toQuery&quot; ??? I think passing  termQuery  should be enough...","body":"Hey, do you really need &quot;_toQuery&quot; ??? I think passing  termQuery  should be enough..."}],"answers":[{"tags":[],"owner":{"account_id":2278765,"reputation":21,"user_id":2004419,"display_name":"Ivan Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674491179,"creation_date":1674491179,"answer_id":75212342,"question_id":74555871,"body_markdown":"I faced the same problem. The issue was that I am trying to connect to secured host that is not defined as such.\r\n**HttpHost** class default schema is **HTTP**. \r\nI solved the issue by providing https schema into HttpHost constructor.\r\n\r\n```\r\nRestClientBuilder builder = RestClient.builder(\r\n                        new HttpHost(&quot;somehost&quot;, 443, &quot;https&quot;)).setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\r\n                        .setDefaultCredentialsProvider(credentialsProvider));\r\n```\r\n","title":"ElasticSearch 8.5 and trying to set up Java CRUDS for Client, getting weird error with Jackson","body":"<p>I faced the same problem. The issue was that I am trying to connect to secured host that is not defined as such.\n<strong>HttpHost</strong> class default schema is <strong>HTTP</strong>.\nI solved the issue by providing https schema into HttpHost constructor.</p>\n<pre><code>RestClientBuilder builder = RestClient.builder(\n                        new HttpHost(&quot;somehost&quot;, 443, &quot;https&quot;)).setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\n                        .setDefaultCredentialsProvider(credentialsProvider));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19373078,"reputation":71,"user_id":14165979,"display_name":"Ian Newland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696523560,"creation_date":1696523560,"answer_id":77239026,"question_id":74555871,"body_markdown":"I had a similar issue but with a more modern version of ElasticSearch and Spring Boot when connecting to my cloud managed instance.\r\n\r\nI had to add `.usingSsl()` on my ClientConfiguration builder...\r\n\r\n    @Override\r\n    public ClientConfiguration clientConfiguration() {\r\n        return ClientConfiguration.builder()\r\n             .connectedTo(&quot;url:port&quot;)\r\n             .usingSsl()  // &lt;--- This was missing before\r\n             .build();\r\n    }","title":"ElasticSearch 8.5 and trying to set up Java CRUDS for Client, getting weird error with Jackson","body":"<p>I had a similar issue but with a more modern version of ElasticSearch and Spring Boot when connecting to my cloud managed instance.</p>\n<p>I had to add <code>.usingSsl()</code> on my ClientConfiguration builder...</p>\n<pre><code>@Override\npublic ClientConfiguration clientConfiguration() {\n    return ClientConfiguration.builder()\n         .connectedTo(&quot;url:port&quot;)\n         .usingSsl()  // &lt;--- This was missing before\n         .build();\n}\n</code></pre>\n"}],"owner":{"account_id":4244148,"reputation":319,"user_id":3473300,"accept_rate":0,"display_name":"MrWayne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696523560,"creation_date":1669266523,"question_id":74555871,"body_markdown":"I am trying to use ElasticSearchClient 8.5.1.I followed official pages on ElasticSearch website and tried a simple index and search operation.I am getting an error message that is not letting me move ahead..\r\nLink I used:\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nJava Code:\r\n\r\n    RestClientBuilder builder = RestClient.builder(\r\n                            new HttpHost(&quot;somehost&quot;, 443)).setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\r\n                            .setDefaultCredentialsProvider(credentialsProvider));\r\n\r\n        RestClient restClient = builder.build();\r\n\r\n        System.out.println(restClient.getNodes());\r\n        System.out.println(restClient.isRunning());\r\n\r\n        try{\r\n\r\n        ElasticsearchTransport transport = new RestClientTransport(\r\n                restClient,\r\n                new JacksonJsonpMapper()\r\n        );\r\n\r\n        ElasticsearchClient esClient = new ElasticsearchClient(transport);\r\n\r\n    \r\n\r\n            TermQuery termQuery= QueryBuilders.term().field(&quot;title&quot;).value(&quot;Rocky Mountain&quot;).build();\r\n\r\n\r\n        SearchRequest searchRequest = new SearchRequest.Builder().index(&quot;search-profile&quot;).query(termQuery._toQuery())\r\n                .build();\r\n            SearchResponse&lt;Places&gt; response=null;\r\n\r\n            try {\r\n               response= esClient.search(searchRequest, Places.class);\r\n                response.hits().hits().stream().forEach(modelHit -&gt; System.out.println(modelHit.source().getVisitors()));\r\n\r\n            }\r\n            catch (IOException de){\r\n                System.out.println(&quot;Exception handling&quot;+de);\r\n            }\r\n\r\n\r\nException I get:\r\n\r\n\r\nException in thread &quot;main&quot; \r\n\r\n    Exception in thread &quot;main&quot; jakarta.json.stream.JsonParsingException: Jackson exception: Unrecognized token &#39;Client&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n     at [Source: (ByteArrayInputStream); line: 1, column: 8]\r\n    \tat co.elastic.clients.json.jackson.JacksonJsonpParser.convertException(JacksonJsonpParser.java:84)\r\n    \tat co.elastic.clients.json.jackson.JacksonJsonpParser.fetchNextToken(JacksonJsonpParser.java:91)\r\n    \tat co.elastic.clients.json.jackson.JacksonJsonpParser.next(JacksonJsonpParser.java:118)\r\n    \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:70)\r\n    \tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\r\n    \tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\r\n    \tat co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:280)\r\n    \tat co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:148)\r\n    \tat co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1518)\r\n    \tat com.godaddy.ConnectWith.main(ConnectWith.java:74)\r\n    Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;Client&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n     at [Source: (ByteArrayInputStream); line: 1, column: 8]\r\n    \tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\r\n    \tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:745)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3635)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2734)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:902)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:794)\r\n    \tat co.elastic.clients.json.jackson.JacksonJsonpParser.fetchNextToken(JacksonJsonpParser.java:89)\r\n    \t... 8 more\r\n\r\n\t... 8 more\r\n\r\n\r\n\r\nMore Info:\r\n\r\nI guess this API is still in dev phase and not GA.When I debugged the code and went through library classes it showed and response of 400 that is Bad request.Now I don&#39;t know how and why it is showing me a bad request\r\n\r\n    private Response performRequest(final NodeTuple&lt;Iterator&gt; tuple, final InternalRequest request, Exception previousException)\r\n    Class RestClient\r\n    httpResponse = client.execute(context.requestProducer, context.asyncResponseConsumer, context.context, null).get();\r\n\r\nLibrary builds following request and sends ignore without me setting this in...,making the whole debugging bit more difficult than it really is..\r\n\r\n    Request{method=&#39;POST&#39;, endpoint=&#39;/search-profile/_search&#39;, params={typed_keys=true, ignore=400,401,403,404,405}, entity=[Content-Type: application/vnd.elasticsearch+json; compatible-with=8,Content-Length: 56,Chunked: false], options=RequestOptions{headers=X-Elastic-Client-Meta: es=8.5.1,jv=19,hl=2,t=8.5.1,hc=4.1.5,User-Agent: elastic-java/8.5.1 (Java/19.0.1),Accept: application/vnd.elasticsearch+json; compatible-with=8}}\r\n\r\nResponse I get:\r\n\r\n    HTTP/1.0 400 Bad Request  [Chunked: false]","title":"ElasticSearch 8.5 and trying to set up Java CRUDS for Client, getting weird error with Jackson","body":"<p>I am trying to use ElasticSearchClient 8.5.1.I followed official pages on ElasticSearch website and tried a simple index and search operation.I am getting an error message that is not letting me move ahead..\nLink I used:\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html</a></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n        &lt;version&gt;8.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Java Code:</p>\n<pre><code>RestClientBuilder builder = RestClient.builder(\n                        new HttpHost(&quot;somehost&quot;, 443)).setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder\n                        .setDefaultCredentialsProvider(credentialsProvider));\n\n    RestClient restClient = builder.build();\n\n    System.out.println(restClient.getNodes());\n    System.out.println(restClient.isRunning());\n\n    try{\n\n    ElasticsearchTransport transport = new RestClientTransport(\n            restClient,\n            new JacksonJsonpMapper()\n    );\n\n    ElasticsearchClient esClient = new ElasticsearchClient(transport);\n\n\n\n        TermQuery termQuery= QueryBuilders.term().field(&quot;title&quot;).value(&quot;Rocky Mountain&quot;).build();\n\n\n    SearchRequest searchRequest = new SearchRequest.Builder().index(&quot;search-profile&quot;).query(termQuery._toQuery())\n            .build();\n        SearchResponse&lt;Places&gt; response=null;\n\n        try {\n           response= esClient.search(searchRequest, Places.class);\n            response.hits().hits().stream().forEach(modelHit -&gt; System.out.println(modelHit.source().getVisitors()));\n\n        }\n        catch (IOException de){\n            System.out.println(&quot;Exception handling&quot;+de);\n        }\n</code></pre>\n<p>Exception I get:</p>\n<p>Exception in thread &quot;main&quot;</p>\n<pre><code>Exception in thread &quot;main&quot; jakarta.json.stream.JsonParsingException: Jackson exception: Unrecognized token 'Client': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n at [Source: (ByteArrayInputStream); line: 1, column: 8]\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.convertException(JacksonJsonpParser.java:84)\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.fetchNextToken(JacksonJsonpParser.java:91)\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.next(JacksonJsonpParser.java:118)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:70)\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:280)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:148)\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1518)\n    at com.godaddy.ConnectWith.main(ConnectWith.java:74)\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'Client': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n at [Source: (ByteArrayInputStream); line: 1, column: 8]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:745)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3635)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2734)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:902)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:794)\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.fetchNextToken(JacksonJsonpParser.java:89)\n    ... 8 more\n\n... 8 more\n</code></pre>\n<p>More Info:</p>\n<p>I guess this API is still in dev phase and not GA.When I debugged the code and went through library classes it showed and response of 400 that is Bad request.Now I don't know how and why it is showing me a bad request</p>\n<pre><code>private Response performRequest(final NodeTuple&lt;Iterator&gt; tuple, final InternalRequest request, Exception previousException)\nClass RestClient\nhttpResponse = client.execute(context.requestProducer, context.asyncResponseConsumer, context.context, null).get();\n</code></pre>\n<p>Library builds following request and sends ignore without me setting this in...,making the whole debugging bit more difficult than it really is..</p>\n<pre><code>Request{method='POST', endpoint='/search-profile/_search', params={typed_keys=true, ignore=400,401,403,404,405}, entity=[Content-Type: application/vnd.elasticsearch+json; compatible-with=8,Content-Length: 56,Chunked: false], options=RequestOptions{headers=X-Elastic-Client-Meta: es=8.5.1,jv=19,hl=2,t=8.5.1,hc=4.1.5,User-Agent: elastic-java/8.5.1 (Java/19.0.1),Accept: application/vnd.elasticsearch+json; compatible-with=8}}\n</code></pre>\n<p>Response I get:</p>\n<pre><code>HTTP/1.0 400 Bad Request  [Chunked: false]\n</code></pre>\n"},{"tags":["java","jwt","token"],"comments":[{"owner":{"account_id":8497217,"reputation":37844,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1487785510,"post_id":42397484,"comment_id":71944356,"body_markdown":"Could you post an example token and the secret key?","body":"Could you post an example token and the secret key?"},{"owner":{"account_id":41830,"reputation":1442,"user_id":121678,"accept_rate":42,"display_name":"stanlick"},"score":0,"creation_date":1487789201,"post_id":42397484,"comment_id":71946650,"body_markdown":"static Key secret = MacProvider.generateKey(); \nSignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\nbyte[] apiKeySecretBytes = secret.getEncoded();\nKey signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());","body":"static Key secret = MacProvider.generateKey();  SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256; byte[] apiKeySecretBytes = secret.getEncoded(); Key signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());"}],"answers":[{"comments":[{"owner":{"account_id":41830,"reputation":1442,"user_id":121678,"accept_rate":42,"display_name":"stanlick"},"score":0,"creation_date":1487794136,"post_id":42400145,"comment_id":71949477,"body_markdown":"Great observation.  However, I have a single utility class on the server that is the only reference to this static Key.  It uses this single reference for both create and authenticate operations.  This is why it is so confusing.","body":"Great observation.  However, I have a single utility class on the server that is the only reference to this static Key.  It uses this single reference for both create and authenticate operations.  This is why it is so confusing."},{"owner":{"account_id":8497217,"reputation":37844,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1487794536,"post_id":42400145,"comment_id":71949724,"body_markdown":"Just to check that there is no other hidden problem: could you print the key content before signing and verification? E.g `System.out.println(DatatypeConverter.printHexBinary(secret.getEncoded()))`","body":"Just to check that there is no other hidden problem: could you print the key content before signing and verification? E.g <code>System.out.println(DatatypeConverter.printHexBinary(secret.g&zwnj;&#8203;etEncoded()))</code>"},{"owner":{"account_id":8497217,"reputation":37844,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1487924133,"post_id":42400145,"comment_id":72011935,"body_markdown":"@stanlick, Did you check if the secret code was the same when signing and verifying?","body":"@stanlick, Did you check if the secret code was the same when signing and verifying?"},{"owner":{"account_id":41830,"reputation":1442,"user_id":121678,"accept_rate":42,"display_name":"stanlick"},"score":1,"creation_date":1487944496,"post_id":42400145,"comment_id":72024621,"body_markdown":"you nailed it brother!  It was an issue with two different VM&#39;s.  Even though the token generated was exactly the same on both ends, the verification was failing because token wasn&#39;t generated on the same VM that was performing verification","body":"you nailed it brother!  It was an issue with two different VM&#39;s.  Even though the token generated was exactly the same on both ends, the verification was failing because token wasn&#39;t generated on the same VM that was performing verification"},{"owner":{"account_id":8799520,"reputation":4500,"user_id":6590294,"accept_rate":56,"display_name":"user"},"score":0,"creation_date":1500292638,"post_id":42400145,"comment_id":77255924,"body_markdown":"I have similar problem? Could you tell me how to resolve it?\nhttps://stackoverflow.com/questions/45142800/spring-spock-integration-test-of-authentication","body":"I have similar problem? Could you tell me how to resolve it? <a href=\"https://stackoverflow.com/questions/45142800/spring-spock-integration-test-of-authentication\" title=\"spring spock integration test of authentication\">stackoverflow.com/questions/45142800/&hellip;</a>"}],"tags":[],"owner":{"account_id":8497217,"reputation":37844,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1487790881,"creation_date":1487790305,"answer_id":42400145,"question_id":42397484,"body_markdown":" `static Key secret = MacProvider.generateKey(); ` will generate a new random key each time your server is reloaded because static variables are initialized when the class is loaded\r\n\r\nIt means that if you issue a JWT, it is only valid as long as the server does not reboot. The `SignatureException` you got is because the signing key it is different\r\n\r\nYou need to store the signing key `secret.getEncoded()` after first generation and load it when your module starts","title":"JWT signature does not match locally computed signature","body":"<p><code>static Key secret = MacProvider.generateKey();</code> will generate a new random key each time your server is reloaded because static variables are initialized when the class is loaded</p>\n\n<p>It means that if you issue a JWT, it is only valid as long as the server does not reboot. The <code>SignatureException</code> you got is because the signing key it is different</p>\n\n<p>You need to store the signing key <code>secret.getEncoded()</code> after first generation and load it when your module starts</p>\n"},{"tags":[],"owner":{"account_id":15961039,"reputation":59,"user_id":11518128,"display_name":"Nuper"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600779141,"creation_date":1558125636,"answer_id":56193290,"question_id":42397484,"body_markdown":"I had a similar problem. In my case both keys were the same, but for some reason I was receiving a token within quotes (e.g `&quot;Syasda.da3das.aDjty6&quot;` instead of just `Syasda.da3das.aDjty6`).\r\n\r\nIt took me quite some time to realize this since most of the time while testing on jwt.io I would just copy the token manually without the brackets to verify it.\r\n\r\n    token = token.replace(&quot;\\&quot;&quot;,&quot;&quot;); \r\n\r\nRemoving those quotes solved the problem for me. Hopefully this will help someone else as well.\r\n","title":"JWT signature does not match locally computed signature","body":"<p>I had a similar problem. In my case both keys were the same, but for some reason I was receiving a token within quotes (e.g <code>&quot;Syasda.da3das.aDjty6&quot;</code> instead of just <code>Syasda.da3das.aDjty6</code>).</p>\n<p>It took me quite some time to realize this since most of the time while testing on jwt.io I would just copy the token manually without the brackets to verify it.</p>\n<pre><code>token = token.replace(&quot;\\&quot;&quot;,&quot;&quot;); \n</code></pre>\n<p>Removing those quotes solved the problem for me. Hopefully this will help someone else as well.</p>\n"},{"comments":[{"owner":{"account_id":295440,"reputation":1210,"user_id":599851,"accept_rate":58,"display_name":"iCrus"},"score":1,"creation_date":1578898193,"post_id":56253570,"comment_id":105574788,"body_markdown":"this was precisely the problem in my case. Thanks.","body":"this was precisely the problem in my case. Thanks."},{"owner":{"account_id":2319952,"reputation":405,"user_id":2035999,"display_name":"Leandro Ferreira"},"score":0,"creation_date":1588643584,"post_id":56253570,"comment_id":108971818,"body_markdown":"final String user =\n          Jwts.parser()\n              .setSigningKey(secret.getBytes())\n              .parseClaimsJws(token.replace(TOKEN_PREFIX, &quot;&quot;))\n              .getBody()\n              .getSubject();","body":"final String user =           Jwts.parser()               .setSigningKey(secret.getBytes())               .parseClaimsJws(token.replace(TOKEN_PREFIX, &quot;&quot;))               .getBody()               .getSubject();"}],"tags":[],"owner":{"account_id":13265395,"reputation":1820,"user_id":9578419,"display_name":"S.Daineko"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1558517325,"creation_date":1558517325,"answer_id":56253570,"question_id":42397484,"body_markdown":"I had a similar problem. In my case it was wrong token validation. I set sign as bytes:\r\n\r\n    .signWith(SignatureAlgorithm.HS512, jwtConfig.getSecret().getBytes())\r\n\r\nBut when i was parsing the token and setting signKey i setted it as a String, not as bytes:  \r\n\r\n    Jwts.parser().setSigningKey(signingKey).parseClaimsJws(this.token)\r\n\r\nAlso always check quotes and spaces when checking token, there often can be excess space/quote in the start/end of the token (use trim() method)","title":"JWT signature does not match locally computed signature","body":"<p>I had a similar problem. In my case it was wrong token validation. I set sign as bytes:</p>\n\n<pre><code>.signWith(SignatureAlgorithm.HS512, jwtConfig.getSecret().getBytes())\n</code></pre>\n\n<p>But when i was parsing the token and setting signKey i setted it as a String, not as bytes:  </p>\n\n<pre><code>Jwts.parser().setSigningKey(signingKey).parseClaimsJws(this.token)\n</code></pre>\n\n<p>Also always check quotes and spaces when checking token, there often can be excess space/quote in the start/end of the token (use trim() method)</p>\n"},{"comments":[{"owner":{"account_id":1587186,"reputation":385,"user_id":1471293,"display_name":"jhuamanchumo"},"score":0,"creation_date":1574988554,"post_id":58015080,"comment_id":104428314,"body_markdown":"this worked for me : \n Jwts.parser().setSigningKey(secret.getBytes(Charset.forName(&quot;UTF-8&quot;))).parse(token);","body":"this worked for me :   Jwts.parser().setSigningKey(secret.getBytes(Charset.forName(&zwnj;&#8203;&quot;UTF-8&quot;))).parse(tok&zwnj;&#8203;en);"}],"tags":[],"owner":{"account_id":13177229,"reputation":379,"user_id":9517822,"display_name":"Dmytro Kostyushko"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1568909400,"creation_date":1568909400,"answer_id":58015080,"question_id":42397484,"body_markdown":"I have had the same problem, I noticed that in sources whenever they convert the signing key they explicitly specify UTF-8 encoding. I tried changing the encoding while both decoding the token:\r\n\r\n```\r\n private Jws&lt;Claims&gt; decodeToken(String token) {\r\n        return Jwts.parser()\r\n                .setSigningKey(securityProperties.getTokenSecret().getBytes(Charset.forName(&quot;UTF-8&quot;)))\r\n                .parseClaimsJws(token);\r\n }\r\n```\r\nAnd when signing the token:\r\n```\r\nprivate String getSignedToken(UserDetailsAdapter user, List&lt;String&gt; roles, byte[] signingKey) {\r\n        return Jwts.builder()\r\n                .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n                .setHeaderParam(&quot;typ&quot;, securityProperties.getTokenType())\r\n                .setIssuer(guiServerSecurityProperties.getTokenIssuer())\r\n                .setAudience(guiServerSecurityProperties.getTokenAudience())\r\n                .setSubject(user.getUsername())\r\n                .setExpiration(new Date(System.currentTimeMillis() + 864000000))\r\n                .claim(&quot;rol&quot;, roles)\r\n                .compact();\r\n    }\r\n```\r\n\r\nThis is the only thing that fixed this for me.","title":"JWT signature does not match locally computed signature","body":"<p>I have had the same problem, I noticed that in sources whenever they convert the signing key they explicitly specify UTF-8 encoding. I tried changing the encoding while both decoding the token:</p>\n\n<pre><code> private Jws&lt;Claims&gt; decodeToken(String token) {\n        return Jwts.parser()\n                .setSigningKey(securityProperties.getTokenSecret().getBytes(Charset.forName(\"UTF-8\")))\n                .parseClaimsJws(token);\n }\n</code></pre>\n\n<p>And when signing the token:</p>\n\n<pre><code>private String getSignedToken(UserDetailsAdapter user, List&lt;String&gt; roles, byte[] signingKey) {\n        return Jwts.builder()\n                .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n                .setHeaderParam(\"typ\", securityProperties.getTokenType())\n                .setIssuer(guiServerSecurityProperties.getTokenIssuer())\n                .setAudience(guiServerSecurityProperties.getTokenAudience())\n                .setSubject(user.getUsername())\n                .setExpiration(new Date(System.currentTimeMillis() + 864000000))\n                .claim(\"rol\", roles)\n                .compact();\n    }\n</code></pre>\n\n<p>This is the only thing that fixed this for me.</p>\n"},{"tags":[],"owner":{"account_id":3213033,"reputation":11,"user_id":2712570,"display_name":"jis83"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569418665,"creation_date":1569418665,"answer_id":58099729,"question_id":42397484,"body_markdown":"I solved the problem modifying the HOST in the URL REST endpoint. It had a wrong host which was returned error HTTP 401 unauthorized.","title":"JWT signature does not match locally computed signature","body":"<p>I solved the problem modifying the HOST in the URL REST endpoint. It had a wrong host which was returned error HTTP 401 unauthorized.</p>\n"},{"tags":[],"owner":{"account_id":12316969,"reputation":33,"user_id":8987062,"display_name":"Arrow.Tao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580316942,"creation_date":1580316942,"answer_id":59972010,"question_id":42397484,"body_markdown":"Two types of problems meight exists:\r\n\r\n 1.    `Key key = Keys.secretKeyFor(SignatureAlgorithm.HS256);` generates a different random key each time the function `secretKeyFor` is run. So if you want to generate a constant key, try this one\r\n```\r\n public SecretKey generalKey(){\r\n        String stringKey = Global.JWT_SECRET;\r\n        byte[] encodedKey =Base64.decodeBase64(stringKey);\r\n        SecretKey key = new SecretKeySpec(encodedKey, 0, encodedKey.length,\r\n                &quot;HmacSHA512&quot;);\r\n        return key;\r\n    }\r\n``` \r\n 2. In my code, I recieve the token transferred by ajax, and JSON.stringify() is used to convert the javasript object to string, which wrapped additional quota on the origin string, try to eliminate the quota as [Nuper][1] said. \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56193290/8987062","title":"JWT signature does not match locally computed signature","body":"<p>Two types of problems meight exists:</p>\n\n<ol>\n<li><code>Key key = Keys.secretKeyFor(SignatureAlgorithm.HS256);</code> generates a different random key each time the function <code>secretKeyFor</code> is run. So if you want to generate a constant key, try this one</li>\n</ol>\n\n<pre><code> public SecretKey generalKey(){\n        String stringKey = Global.JWT_SECRET;\n        byte[] encodedKey =Base64.decodeBase64(stringKey);\n        SecretKey key = new SecretKeySpec(encodedKey, 0, encodedKey.length,\n                \"HmacSHA512\");\n        return key;\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>In my code, I recieve the token transferred by ajax, and JSON.stringify() is used to convert the javasript object to string, which wrapped additional quota on the origin string, try to eliminate the quota as <a href=\"https://stackoverflow.com/a/56193290/8987062\">Nuper</a> said. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5605359,"reputation":165,"user_id":8467936,"display_name":"Mohit Sehgal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696523341,"creation_date":1696523341,"answer_id":77239001,"question_id":42397484,"body_markdown":"When I was selecting &quot;JWT Bearer&quot; as Authorization in Postman, I was providing the generated JWT token as a secret. So, Postman itself was generating a new JWT token and was sending it to my application. This token was not a valid token and hence the authentication was failing.\r\n\r\nTo resolve it, I choose &quot;No Auth&quot; in the Authorization and manually added the header &quot;Authorization: Bearer &lt;token&gt;&quot; in a simple curl command and then I was able to access the endpoint.\r\n\r\nIn the Authentication filter, I am reading &quot;Authorization&quot; field from request header, that is why I added this header in the request. \r\n\r\nIn short, I was not able to send request correctly from Postman and hence it was not working but when I send it correctly using CURL command and then later by postman also, it started working.\r\n\r\nIf in your request, your token is getting changed then we will get this issue.","title":"JWT signature does not match locally computed signature","body":"<p>When I was selecting &quot;JWT Bearer&quot; as Authorization in Postman, I was providing the generated JWT token as a secret. So, Postman itself was generating a new JWT token and was sending it to my application. This token was not a valid token and hence the authentication was failing.</p>\n<p>To resolve it, I choose &quot;No Auth&quot; in the Authorization and manually added the header &quot;Authorization: Bearer &quot; in a simple curl command and then I was able to access the endpoint.</p>\n<p>In the Authentication filter, I am reading &quot;Authorization&quot; field from request header, that is why I added this header in the request.</p>\n<p>In short, I was not able to send request correctly from Postman and hence it was not working but when I send it correctly using CURL command and then later by postman also, it started working.</p>\n<p>If in your request, your token is getting changed then we will get this issue.</p>\n"}],"owner":{"account_id":41830,"reputation":1442,"user_id":121678,"accept_rate":42,"display_name":"stanlick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52810,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":42400145,"answer_count":7,"score":18,"last_activity_date":1696523341,"creation_date":1487782030,"question_id":42397484,"body_markdown":"I am using \r\n\r\n    JwtBuilder builder = Jwts.builder()\r\n    \t    \t\t\t.setId(user.getEmail())\r\n    \t                .signWith(signatureAlgorithm, signingKey);\r\n\r\nto create a token then\r\n\r\n    Jwts.parser().setSigningKey(secret).parse(token);\r\n\r\nto authenticate.  When I run this in a JUnit test, it works fine.  However, when I authenticate token passed as a header over REST call, authentication fails with SignatureException.  I have verified the token on both ends of the HTTP call and the token string is identical.  Code to create/authenticate is static, therefore, the secret is same on each side. ","title":"JWT signature does not match locally computed signature","body":"<p>I am using </p>\n\n<pre><code>JwtBuilder builder = Jwts.builder()\n                    .setId(user.getEmail())\n                    .signWith(signatureAlgorithm, signingKey);\n</code></pre>\n\n<p>to create a token then</p>\n\n<pre><code>Jwts.parser().setSigningKey(secret).parse(token);\n</code></pre>\n\n<p>to authenticate.  When I run this in a JUnit test, it works fine.  However, when I authenticate token passed as a header over REST call, authentication fails with SignatureException.  I have verified the token on both ends of the HTTP call and the token string is identical.  Code to create/authenticate is static, therefore, the secret is same on each side. </p>\n"},{"tags":["javascript","java","keycloak"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1696388043,"post_id":77188133,"comment_id":136145004,"body_markdown":"Can you provide steps on how to reproduce this for a quicker resolution?","body":"Can you provide steps on how to reproduce this for a quicker resolution?"},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":2,"creation_date":1696452430,"post_id":77188133,"comment_id":136156601,"body_markdown":"Are you sure you&#39;re using 21.1.2 and not 21.0? I can&#39;t reproduce the issue on 21.1.2. There is more info on it here, BTW - https://github.com/keycloak/keycloak/issues/17671","body":"Are you sure you&#39;re using 21.1.2 and not 21.0? I can&#39;t reproduce the issue on 21.1.2. There is more info on it here, BTW - <a href=\"https://github.com/keycloak/keycloak/issues/17671\" rel=\"nofollow noreferrer\">github.com/keycloak/keycloak/issues/17671</a>"},{"owner":{"account_id":5072,"reputation":9013,"user_id":7965,"accept_rate":90,"display_name":"Sirish"},"score":2,"creation_date":1696486211,"post_id":77188133,"comment_id":136159481,"body_markdown":"@AnishB. I will try to create a simple use case to reproduce this and share here later","body":"@AnishB. I will try to create a simple use case to reproduce this and share here later"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1696487025,"post_id":77188133,"comment_id":136159577,"body_markdown":"@Sirish Kindly do it before the bounty ends. :) I have taken the docker instance and running it on my local and I&#39;m just stuck at the adapter part to reproduce the issue.","body":"@Sirish Kindly do it before the bounty ends. :) I have taken the docker instance and running it on my local and I&#39;m just stuck at the adapter part to reproduce the issue."},{"owner":{"account_id":5072,"reputation":9013,"user_id":7965,"accept_rate":90,"display_name":"Sirish"},"score":1,"creation_date":1696487965,"post_id":77188133,"comment_id":136159718,"body_markdown":"@mvmn I checked again, we are using 21.1.2.","body":"@mvmn I checked again, we are using 21.1.2."},{"owner":{"account_id":5072,"reputation":9013,"user_id":7965,"accept_rate":90,"display_name":"Sirish"},"score":1,"creation_date":1696510474,"post_id":77188133,"comment_id":136164196,"body_markdown":"@mvmn I have updated my question with the documentation reference you have provided. Should some issue with our build. If you can post your answer as solution, i will accept it.","body":"@mvmn I have updated my question with the documentation reference you have provided. Should some issue with our build. If you can post your answer as solution, i will accept it."},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1696522931,"post_id":77188133,"comment_id":136167107,"body_markdown":"@Sirish, thanks, done!","body":"@Sirish, thanks, done!"}],"answers":[{"comments":[{"owner":{"account_id":5072,"reputation":9013,"user_id":7965,"accept_rate":90,"display_name":"Sirish"},"score":1,"creation_date":1696594587,"post_id":77238938,"comment_id":136176675,"body_markdown":"After further analysis in our deployment , JAVA_OPTS was causing this issue. We are using JAVA_OPTS set to -server -Xms512m -Xmx2048m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman .After removing Djboss.modules.system.pkgs=org.jboss.byteman from the JAVA_OPTION it seems to work. But i am not sure what are the implications of making this change.","body":"After further analysis in our deployment , JAVA_OPTS was causing this issue. We are using JAVA_OPTS set to -server -Xms512m -Xmx2048m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman .After removing Djboss.modules.system.pkgs=org.jboss.byteman from the JAVA_OPTION it seems to work. But i am not sure what are the implications of making this change."},{"owner":{"account_id":5072,"reputation":9013,"user_id":7965,"accept_rate":90,"display_name":"Sirish"},"score":0,"creation_date":1696832580,"post_id":77238938,"comment_id":136198310,"body_markdown":"AFAIK option jboss.modules.system.pkgs should not have any effect as Keycloak 21.1.2 is based on quarkus and this option is specific to Wildfly distribution.","body":"AFAIK option jboss.modules.system.pkgs should not have any effect as Keycloak 21.1.2 is based on quarkus and this option is specific to Wildfly distribution."}],"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696522887,"creation_date":1696522887,"answer_id":77238938,"question_id":77188133,"body_markdown":"The issue was present in Keycloak 21.0 because it didn&#39;t include Nashorn JavaScript engine in it&#39;s distribution. But in 21.1.2 Keycloak has included Nashorn as a part of distribution.\r\n\r\nSee more at\r\nhttps://github.com/keycloak/keycloak/issues/17671","title":"Keycloak 21.1.2: java.lang.IllegalStateException: Could not find ScriptEngine for script","body":"<p>The issue was present in Keycloak 21.0 because it didn't include Nashorn JavaScript engine in it's distribution. But in 21.1.2 Keycloak has included Nashorn as a part of distribution.</p>\n<p>See more at\n<a href=\"https://github.com/keycloak/keycloak/issues/17671\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/issues/17671</a></p>\n"}],"owner":{"account_id":5072,"reputation":9013,"user_id":7965,"accept_rate":90,"display_name":"Sirish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77238938,"answer_count":1,"score":2,"last_activity_date":1696522887,"creation_date":1695822660,"question_id":77188133,"body_markdown":"I am using quay.io/keycloak/keycloak:21.1.2 docker image with Java script adapters, I get below error when the Javascript adapters are executed in the authentication flow\r\n\r\n&gt; keycloak-1 keycloak 2023-09-26 11:19:33,012 WARN\r\n&gt; [org.keycloak.services] (executor-thread-5) KC-SERVICES0013: Failed\r\n&gt; authentication: java.lang.IllegalStateException: Could not find\r\n&gt; ScriptEngine for script: Script{id=&#39;null&#39;, realmId=&#39;master&#39;,\r\n&gt; name=&#39;role-based-authenticator&#39;, type=&#39;text/javascript&#39;,\r\n&gt; code=&#39;AuthenticationFlowError =\r\n&gt; Java.type(&quot;org.keycloak.authentication.AuthenticationFlowError&quot;);\r\n\r\nBut as per release notes at https://www.keycloak.org/docs/latest/release_notes/index.html#keycloak-21-1-0 version 21.1.0 onwards Nashorn javascript engine is available in Keycloak server by default, but for some reason this does not work. How can i fix this? \r\n\r\n\r\n## Update 05.10.23\r\n\r\nI tried reproducing with below code, it seems to work fine. Issue should be there in our custom build which is a bit complicated which i cannot share it here.\r\n\r\n#### docker-compose.yaml\r\n    version: &quot;3.9&quot;\r\n    \r\n    services:\r\n      keycloak:\r\n        build:\r\n          context: .\r\n          args:\r\n          - KC_FEATURES=scripts\r\n        environment:\r\n          KEYCLOAK_ADMIN: admin\r\n          KEYCLOAK_ADMIN_PASSWORD: admin\r\n          KC_LOG_LEVEL: info\r\n          KC_HOSTNAME_STRICT_HTTPS: &quot;false&quot;\r\n          KC_FEATURES: scripts\r\n        command:\r\n          - start-dev\r\n        ports:\r\n          - 8080:8080\r\n\r\n#### Dockerfile\r\n    ARG KEYCLOAK_VERSION=21.1.2\r\n    \r\n    FROM redhat/ubi8-minimal:8.6-941 as bundle\r\n    \r\n    # Stage to avoid zip in final image and git repository\r\n    RUN microdnf install -y findutils zip\r\n    COPY keycloak-extensions /tmp/keycloak-extensions\r\n    \r\n    WORKDIR /tmp/keycloak-extensions\r\n    RUN find . -maxdepth 1 -mindepth 1 -type d -execdir /bin/sh -c &quot;cd {}; zip -r \\&quot;/tmp/keycloak-extensions/{}.jar\\&quot; .&quot; \\;\r\n    \r\n    \r\n    # Build Step\r\n    FROM quay.io/keycloak/keycloak:$KEYCLOAK_VERSION as builder\r\n    \r\n    ARG KC_FEATURES\r\n    \r\n    # Copy Keycloak extensions and metrics provider\r\n    COPY --from=bundle /tmp/keycloak-extensions/*.jar /opt/keycloak/providers/\r\n    \r\n    # Build optimized keycloak image\r\n    RUN /opt/keycloak/bin/kc.sh build\r\n    \r\n    FROM quay.io/keycloak/keycloak:$KEYCLOAK_VERSION\r\n    \r\n    ARG KC_FEATURES\r\n    \r\n    COPY --from=builder /opt/keycloak/ /opt/keycloak/\r\n    \r\n    EXPOSE 8080\r\n    \r\n    ENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\r\n    CMD [ &quot;start&quot;]\r\n\r\n#### Keycloak adapter code\r\n\r\n##### keycloak-extensions/log-autenticator/log-authenticator.js\r\n\r\n    function authenticate(context) {\r\n        LOG.info(&quot;Hello World!&quot;);\r\n        context.success();\r\n    }\r\n\r\n##### keycloak-extensions/log-autenticator/META-INF/keycloak-scripts.json\r\n\r\n    {\r\n      &quot;authenticators&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;log-authenticator&quot;,\r\n          &quot;fileName&quot;: &quot;log-authenticator.js&quot;,\r\n          &quot;description&quot;: &quot;Logs a simple Hello message&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Keycloak 21.1.2: java.lang.IllegalStateException: Could not find ScriptEngine for script","body":"<p>I am using quay.io/keycloak/keycloak:21.1.2 docker image with Java script adapters, I get below error when the Javascript adapters are executed in the authentication flow</p>\n<blockquote>\n<p>keycloak-1 keycloak 2023-09-26 11:19:33,012 WARN\n[org.keycloak.services] (executor-thread-5) KC-SERVICES0013: Failed\nauthentication: java.lang.IllegalStateException: Could not find\nScriptEngine for script: Script{id='null', realmId='master',\nname='role-based-authenticator', type='text/javascript',\ncode='AuthenticationFlowError =\nJava.type(&quot;org.keycloak.authentication.AuthenticationFlowError&quot;);</p>\n</blockquote>\n<p>But as per release notes at <a href=\"https://www.keycloak.org/docs/latest/release_notes/index.html#keycloak-21-1-0\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/release_notes/index.html#keycloak-21-1-0</a> version 21.1.0 onwards Nashorn javascript engine is available in Keycloak server by default, but for some reason this does not work. How can i fix this?</p>\n<h2>Update 05.10.23</h2>\n<p>I tried reproducing with below code, it seems to work fine. Issue should be there in our custom build which is a bit complicated which i cannot share it here.</p>\n<h4>docker-compose.yaml</h4>\n<pre><code>version: &quot;3.9&quot;\n\nservices:\n  keycloak:\n    build:\n      context: .\n      args:\n      - KC_FEATURES=scripts\n    environment:\n      KEYCLOAK_ADMIN: admin\n      KEYCLOAK_ADMIN_PASSWORD: admin\n      KC_LOG_LEVEL: info\n      KC_HOSTNAME_STRICT_HTTPS: &quot;false&quot;\n      KC_FEATURES: scripts\n    command:\n      - start-dev\n    ports:\n      - 8080:8080\n</code></pre>\n<h4>Dockerfile</h4>\n<pre><code>ARG KEYCLOAK_VERSION=21.1.2\n\nFROM redhat/ubi8-minimal:8.6-941 as bundle\n\n# Stage to avoid zip in final image and git repository\nRUN microdnf install -y findutils zip\nCOPY keycloak-extensions /tmp/keycloak-extensions\n\nWORKDIR /tmp/keycloak-extensions\nRUN find . -maxdepth 1 -mindepth 1 -type d -execdir /bin/sh -c &quot;cd {}; zip -r \\&quot;/tmp/keycloak-extensions/{}.jar\\&quot; .&quot; \\;\n\n\n# Build Step\nFROM quay.io/keycloak/keycloak:$KEYCLOAK_VERSION as builder\n\nARG KC_FEATURES\n\n# Copy Keycloak extensions and metrics provider\nCOPY --from=bundle /tmp/keycloak-extensions/*.jar /opt/keycloak/providers/\n\n# Build optimized keycloak image\nRUN /opt/keycloak/bin/kc.sh build\n\nFROM quay.io/keycloak/keycloak:$KEYCLOAK_VERSION\n\nARG KC_FEATURES\n\nCOPY --from=builder /opt/keycloak/ /opt/keycloak/\n\nEXPOSE 8080\n\nENTRYPOINT [&quot;/opt/keycloak/bin/kc.sh&quot;]\nCMD [ &quot;start&quot;]\n</code></pre>\n<h4>Keycloak adapter code</h4>\n<h5>keycloak-extensions/log-autenticator/log-authenticator.js</h5>\n<pre><code>function authenticate(context) {\n    LOG.info(&quot;Hello World!&quot;);\n    context.success();\n}\n</code></pre>\n<h5>keycloak-extensions/log-autenticator/META-INF/keycloak-scripts.json</h5>\n<pre><code>{\n  &quot;authenticators&quot;: [\n    {\n      &quot;name&quot;: &quot;log-authenticator&quot;,\n      &quot;fileName&quot;: &quot;log-authenticator.js&quot;,\n      &quot;description&quot;: &quot;Logs a simple Hello message&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","string","oop"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1696437417,"post_id":77231290,"comment_id":136153828,"body_markdown":"It doesn&#39;t really ignore anything. You only output one tab at the start of the whole string. But then the string itself consists of several line, and each line of course starts from the left again. It doesn&#39;t have a way to know it should copy the tab from the previous line. You need programming logic to do it.","body":"It doesn&#39;t really ignore anything. You only output one tab at the start of the whole string. But then the string itself consists of several line, and each line of course starts from the left again. It doesn&#39;t have a way to know it should copy the tab from the previous line. You need programming logic to do it."}],"answers":[{"comments":[{"owner":{"account_id":12918878,"reputation":3,"user_id":21951241,"display_name":"Fischer Benkovscki"},"score":0,"creation_date":1696441907,"post_id":77231835,"comment_id":136154711,"body_markdown":"It doesn&#39;t work. It returns the next https://ibb.co/sQ9mcf6","body":"It doesn&#39;t work. It returns the next <a href=\"https://ibb.co/sQ9mcf6\" rel=\"nofollow noreferrer\">ibb.co/sQ9mcf6</a>"},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1696443878,"post_id":77231835,"comment_id":136155093,"body_markdown":"Oh, wait - there&#39;s a line break missing in the end. Let me correct the answer.","body":"Oh, wait - there&#39;s a line break missing in the end. Let me correct the answer."},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1696447142,"post_id":77231835,"comment_id":136155666,"body_markdown":"Try the updated version please","body":"Try the updated version please"},{"owner":{"account_id":12918878,"reputation":3,"user_id":21951241,"display_name":"Fischer Benkovscki"},"score":0,"creation_date":1696493722,"post_id":77231835,"comment_id":136160729,"body_markdown":"The result is the same as in question, it doesn&#39;t work","body":"The result is the same as in question, it doesn&#39;t work"},{"owner":{"account_id":12918878,"reputation":3,"user_id":21951241,"display_name":"Fischer Benkovscki"},"score":1,"creation_date":1696494269,"post_id":77231835,"comment_id":136160844,"body_markdown":"You should add &quot;\\t&quot; in the else block, then it works. Edit your answer and i will mark it as a solution","body":"You should add &quot;\\t&quot; in the else block, then it works. Edit your answer and i will mark it as a solution"},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1696522722,"post_id":77231835,"comment_id":136167069,"body_markdown":"Ah, right. Thanks. Done!","body":"Ah, right. Thanks. Done!"}],"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696522681,"creation_date":1696441147,"answer_id":77231835,"question_id":77231290,"body_markdown":"You have a couple of sub-groups each holding some figures, and a couple of figures.\r\n\r\nEach sub-group will return something like this for it&#39;s toString():\r\n\r\n    Group X\r\n        Figure Y\r\n        Figure Z\r\n\r\nOr one can say it is `Group X\\n\\tFigure Y\\n\\tFigure Z\\n`.\r\n\r\nYour code does this `StringBuilder str = new StringBuilder(&quot;Group consists of:\\n&quot;);` and `str.append(&quot;\\t&quot;).append(figure.toString()).append(&quot;\\n&quot;)`, where `figure.toString()` returns the String above.\r\n\r\nSo you end up with: `Group consists of:\\n\\t&lt;whatever toString() for subgroup returned&gt;\\n`. \r\n\r\nGiven that toString() has value of `Group X\\n\\tFigure Y\\n\\tFigure Z\\n`, as mentioned, above, we end up with this: `Group consists of:\\n\\tGroup X\\n\\tFigure Y\\n\\tFigure Z\\n\\n`. As you can see, there is always only one tab before figures in the subgroup as a result. Because there are linebreaks inside of the String produced by toString(), and we don&#39;t have control over what&#39;s in the beginning of the line in there.\r\n\r\nSo in the end it looks like this:\r\n\r\n    Group consists of:\r\n        Group X\r\n        Figure Y\r\n        Figure Z\r\n\r\nSo how do we make it into this?\r\n\r\n    Group consists of:\r\n        Group X\r\n            Figure Y\r\n            Figure Z\r\n\r\nOne hacky way would be to replace each line break inside of the String returned by toString() with a line break followed by a tab. This would work with nesting, since parent group would do the same, and thus add another tab.\r\n\r\nYou tried something similar, but you wanted to replace a tab with two tabs. It&#39;s kinda wrong because there isn&#39;t necessarily going to be a tab at the beginning of each line in whatever toString() produces, and you forgot to add a tab of your own.\r\n\r\nTry this instead:\r\n\r\n    public String toString() {\r\n            String str = &quot;Group consists of:\\n&quot;;\r\n            for (BaseFigure figure : this.group) {\r\n                if (figure instanceof Group) {\r\n                    String newStr = figure.toString();\r\n                    str += &quot;\\t&quot; + newStr.replace(&quot;\\n&quot;, &quot;\\n\\t&quot;) + &quot;\\n&quot;;\r\n                } else {\r\n                    str += &quot;\\t&quot; + figure.toString() + &quot;\\n&quot;;\r\n                }\r\n            }\r\n            return str;\r\n        }","title":"Nested tabulation in Java","body":"<p>You have a couple of sub-groups each holding some figures, and a couple of figures.</p>\n<p>Each sub-group will return something like this for it's toString():</p>\n<pre><code>Group X\n    Figure Y\n    Figure Z\n</code></pre>\n<p>Or one can say it is <code>Group X\\n\\tFigure Y\\n\\tFigure Z\\n</code>.</p>\n<p>Your code does this <code>StringBuilder str = new StringBuilder(&quot;Group consists of:\\n&quot;);</code> and <code>str.append(&quot;\\t&quot;).append(figure.toString()).append(&quot;\\n&quot;)</code>, where <code>figure.toString()</code> returns the String above.</p>\n<p>So you end up with: <code>Group consists of:\\n\\t&lt;whatever toString() for subgroup returned&gt;\\n</code>.</p>\n<p>Given that toString() has value of <code>Group X\\n\\tFigure Y\\n\\tFigure Z\\n</code>, as mentioned, above, we end up with this: <code>Group consists of:\\n\\tGroup X\\n\\tFigure Y\\n\\tFigure Z\\n\\n</code>. As you can see, there is always only one tab before figures in the subgroup as a result. Because there are linebreaks inside of the String produced by toString(), and we don't have control over what's in the beginning of the line in there.</p>\n<p>So in the end it looks like this:</p>\n<pre><code>Group consists of:\n    Group X\n    Figure Y\n    Figure Z\n</code></pre>\n<p>So how do we make it into this?</p>\n<pre><code>Group consists of:\n    Group X\n        Figure Y\n        Figure Z\n</code></pre>\n<p>One hacky way would be to replace each line break inside of the String returned by toString() with a line break followed by a tab. This would work with nesting, since parent group would do the same, and thus add another tab.</p>\n<p>You tried something similar, but you wanted to replace a tab with two tabs. It's kinda wrong because there isn't necessarily going to be a tab at the beginning of each line in whatever toString() produces, and you forgot to add a tab of your own.</p>\n<p>Try this instead:</p>\n<pre><code>public String toString() {\n        String str = &quot;Group consists of:\\n&quot;;\n        for (BaseFigure figure : this.group) {\n            if (figure instanceof Group) {\n                String newStr = figure.toString();\n                str += &quot;\\t&quot; + newStr.replace(&quot;\\n&quot;, &quot;\\n\\t&quot;) + &quot;\\n&quot;;\n            } else {\n                str += &quot;\\t&quot; + figure.toString() + &quot;\\n&quot;;\n            }\n        }\n        return str;\n    }\n</code></pre>\n"}],"owner":{"account_id":12918878,"reputation":3,"user_id":21951241,"display_name":"Fischer Benkovscki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77231835,"answer_count":1,"score":0,"last_activity_date":1696522681,"creation_date":1696436286,"question_id":77231290,"body_markdown":"In class Groups that can hold Figures and other Groups i have a method toString\r\n```\r\npublic String toString() {\r\n        StringBuilder str = new StringBuilder(&quot;Group consists of:\\n&quot;);\r\n        for (BaseFigure figure : this.group) {\r\n            str.append(&quot;\\t&quot;).append(figure.toString()).append(&quot;\\n&quot;);\r\n        }\r\n        return str.toString();\r\n    }\r\n```\r\n\r\nCalling this method i want to see an understable text display of nested Groups like that\r\n \r\n```None\r\nGroup consists of:\r\n\tGroup consists of:\r\n\t\tRectangle with center at (20.0, 10.0), and width: 15.0, height: 15.0, angle: 45.0\r\n\t\tRectangle with center at (0.0, 0.0), and width: 7.0, height: 19.0, angle: 90.0\r\n\tGroup consists of:\r\n\t\tCircle with center at (100.0, 100.0) and radius: 1.0\r\n\t\tCircle with center at (5.0, 0.0) and radius: 9.0\r\n\r\n\tRectangle with center at (10.0, 10.0), and width: 10.0, height: 40.0, angle: 0.0\r\n\tCircle with center at (0.0, 0.0) and radius: 55.0\r\n```\r\n\r\nBut 4th line somehow ignores multiple \\t signs and puts at every line just one \\t and displays like that:\r\n\r\n```None\r\nGroup consists of:\r\n\tGroup consists of:\r\n\tRectangle with center at (10.0, 10.0), and width: 10.0, height: 15.0, angle: 0.0\r\n\tRectangle with center at (20.0, 10.0), and width: 15.0, height: 15.0, angle: 45.0\r\n\tRectangle with center at (0.0, 0.0), and width: 7.0, height: 19.0, angle: 90.0\r\n\tGroup consists of:\r\n\tCircle with center at (0.0, 0.0) and radius: 10.0\r\n\tCircle with center at (100.0, 100.0) and radius: 1.0\r\n\tCircle with center at (5.0, 0.0) and radius: 9.0\r\n```\r\n\r\n\r\n\r\nI tried replacing every \\t with double \\t, but it didn&#39;t work\r\n\r\n\r\n```\r\npublic String toString() {\r\n        String str = &quot;Group consists of:\\n&quot;;\r\n        for (BaseFigure figure : this.group) {\r\n            if (figure instanceof Group) {\r\n                String newStr = figure.toString();\r\n                str += newStr.replace(&quot;\\t&quot;, &quot;\\t\\t&quot;);\r\n            } else {\r\n                str += figure.toString();\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n```\r\n","title":"Nested tabulation in Java","body":"<p>In class Groups that can hold Figures and other Groups i have a method toString</p>\n<pre><code>public String toString() {\n        StringBuilder str = new StringBuilder(&quot;Group consists of:\\n&quot;);\n        for (BaseFigure figure : this.group) {\n            str.append(&quot;\\t&quot;).append(figure.toString()).append(&quot;\\n&quot;);\n        }\n        return str.toString();\n    }\n</code></pre>\n<p>Calling this method i want to see an understable text display of nested Groups like that</p>\n<pre><code>Group consists of:\n    Group consists of:\n        Rectangle with center at (20.0, 10.0), and width: 15.0, height: 15.0, angle: 45.0\n        Rectangle with center at (0.0, 0.0), and width: 7.0, height: 19.0, angle: 90.0\n    Group consists of:\n        Circle with center at (100.0, 100.0) and radius: 1.0\n        Circle with center at (5.0, 0.0) and radius: 9.0\n\n    Rectangle with center at (10.0, 10.0), and width: 10.0, height: 40.0, angle: 0.0\n    Circle with center at (0.0, 0.0) and radius: 55.0\n</code></pre>\n<p>But 4th line somehow ignores multiple \\t signs and puts at every line just one \\t and displays like that:</p>\n<pre><code>Group consists of:\n    Group consists of:\n    Rectangle with center at (10.0, 10.0), and width: 10.0, height: 15.0, angle: 0.0\n    Rectangle with center at (20.0, 10.0), and width: 15.0, height: 15.0, angle: 45.0\n    Rectangle with center at (0.0, 0.0), and width: 7.0, height: 19.0, angle: 90.0\n    Group consists of:\n    Circle with center at (0.0, 0.0) and radius: 10.0\n    Circle with center at (100.0, 100.0) and radius: 1.0\n    Circle with center at (5.0, 0.0) and radius: 9.0\n</code></pre>\n<p>I tried replacing every \\t with double \\t, but it didn't work</p>\n<pre><code>public String toString() {\n        String str = &quot;Group consists of:\\n&quot;;\n        for (BaseFigure figure : this.group) {\n            if (figure instanceof Group) {\n                String newStr = figure.toString();\n                str += newStr.replace(&quot;\\t&quot;, &quot;\\t\\t&quot;);\n            } else {\n                str += figure.toString();\n            }\n        }\n        return str;\n    }\n</code></pre>\n"},{"tags":["java","google-bigquery"],"answers":[{"comments":[{"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"score":0,"creation_date":1696594176,"post_id":77238905,"comment_id":136176596,"body_markdown":"thank you. i&#39;m figuring out how to make it as accurate as possible. i’m surprised why Google didn&#39;t provide any support for this","body":"thank you. i&#39;m figuring out how to make it as accurate as possible. i’m surprised why Google didn&#39;t provide any support for this"}],"tags":[],"owner":{"account_id":29476753,"reputation":233,"user_id":22588349,"display_name":"Nidheesh R"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696522630,"creation_date":1696522630,"answer_id":77238905,"question_id":77237705,"body_markdown":"Yeah, this has been a use case in one of my personal projects. I think you can estimate the amount of data processed by listTableData by tracking the number of rows retrieved and the size of the rows retrieved. I vaguely remember doing something similar, which in your case would be to:\r\n\r\n&gt;  1. Determine the approximate size of each row in the target table.\r\n&gt;  2. Keep track of the number of rows retrieved by the listTableData\r\n&gt;     method.\r\n&gt;  3. Multiply the estimated row size by the number of rows retrieved to\r\n&gt;     estimate the data processed.\r\n\r\n\r\n    import com.google.cloud.bigquery.*;\r\n    \r\n    BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n    TableId tableId = TableId.of(&quot;your_project_id&quot;, &quot;your_dataset_id&quot;, &quot;your_table_id&quot;);\r\n    \r\n    // Step 1: Estimate the size of each row in the table\r\n    Table table = bigquery.getTable(tableId);\r\n    TableDefinition tableDefinition = table.getDefinition();\r\n    Schema schema = tableDefinition.getSchema();\r\n    long estimatedRowSize = 0; // Start with a reasonable default value\r\n    \r\n    for (Field field: schema.getFields()) {\r\n      Schema.Type fieldType = field.getType();\r\n      // Adjust the estimatedRowSize based on the data type and complexity of each field\r\n      switch (fieldType) {\r\n      case STRING:\r\n        estimatedRowSize += 64; // Adjust this based on your data\r\n        break;\r\n      case INTEGER:\r\n        estimatedRowSize += 8; // Adjust this based on your data\r\n        break;\r\n        // Add cases for other data types as needed\r\n      }\r\n    }\r\n    \r\n    // Step 2: Keep track of the number of rows retrieved by listTableData\r\n    int totalRowsProcessed = 0;\r\n    \r\n    // Step 3: Estimate the data processed\r\n    Page &lt; TokenResult &gt; pages = bigquery.listTableData(tableId);\r\n    for (TokenResult page: pages.iterateAll()) {\r\n      totalRowsProcessed += page.getValues().size();\r\n    }\r\n    \r\n    long estimatedDataProcessed = estimatedRowSize * totalRowsProcessed;\r\n    System.out.println(&quot;Estimated data processed: &quot; + estimatedDataProcessed + &quot; bytes&quot;);\r\n\r\n\r\nHowever Denis, this estimation is approximate, and we should consider data compression and other optimizations during the actual data processing. \r\n\r\nYou might have to adjust the estimatedRowSize value and calculations based on your specific data and requirements.","title":"How to calculate how much data will be processed by bigquery listTableData() call?","body":"<p>Yeah, this has been a use case in one of my personal projects. I think you can estimate the amount of data processed by listTableData by tracking the number of rows retrieved and the size of the rows retrieved. I vaguely remember doing something similar, which in your case would be to:</p>\n<blockquote>\n<ol>\n<li>Determine the approximate size of each row in the target table.</li>\n<li>Keep track of the number of rows retrieved by the listTableData\nmethod.</li>\n<li>Multiply the estimated row size by the number of rows retrieved to\nestimate the data processed.</li>\n</ol>\n</blockquote>\n<pre><code>import com.google.cloud.bigquery.*;\n\nBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\nTableId tableId = TableId.of(&quot;your_project_id&quot;, &quot;your_dataset_id&quot;, &quot;your_table_id&quot;);\n\n// Step 1: Estimate the size of each row in the table\nTable table = bigquery.getTable(tableId);\nTableDefinition tableDefinition = table.getDefinition();\nSchema schema = tableDefinition.getSchema();\nlong estimatedRowSize = 0; // Start with a reasonable default value\n\nfor (Field field: schema.getFields()) {\n  Schema.Type fieldType = field.getType();\n  // Adjust the estimatedRowSize based on the data type and complexity of each field\n  switch (fieldType) {\n  case STRING:\n    estimatedRowSize += 64; // Adjust this based on your data\n    break;\n  case INTEGER:\n    estimatedRowSize += 8; // Adjust this based on your data\n    break;\n    // Add cases for other data types as needed\n  }\n}\n\n// Step 2: Keep track of the number of rows retrieved by listTableData\nint totalRowsProcessed = 0;\n\n// Step 3: Estimate the data processed\nPage &lt; TokenResult &gt; pages = bigquery.listTableData(tableId);\nfor (TokenResult page: pages.iterateAll()) {\n  totalRowsProcessed += page.getValues().size();\n}\n\nlong estimatedDataProcessed = estimatedRowSize * totalRowsProcessed;\nSystem.out.println(&quot;Estimated data processed: &quot; + estimatedDataProcessed + &quot; bytes&quot;);\n</code></pre>\n<p>However Denis, this estimation is approximate, and we should consider data compression and other optimizations during the actual data processing.</p>\n<p>You might have to adjust the estimatedRowSize value and calculations based on your specific data and requirements.</p>\n"}],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696522630,"creation_date":1696513421,"question_id":77237705,"body_markdown":"There is a possibility to calculate how much data will be processed by a query (uses `getQueryResults` RPC to read rows of the results):\r\n```\r\nBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\nQueryJobConfiguration queryConfig =\r\nQueryJobConfiguration.newBuilder(query).setDryRun(true).setUseQueryCache(false).build();\r\nJob job = bigquery.create(JobInfo.of(queryConfig));\r\nJobStatistics.QueryStatistics statistics = job.getStatistics();\r\nSystem.out.println(\r\n          &quot;Query dry run performed successfully.&quot; + statistics.getTotalBytesProcessed());\r\n```\r\n\r\nBut there is nothing similar to `getStatistics` when using `listTableData` (uses `tabledata.list` RPC )\r\n\r\n\r\n```\r\nfinal TableResult schemaQuery = bigquery.query(newBuilder(query).build());\r\nfinal TableId tableId = TableId.of(table.datasetId(), table.tableId());\r\nfinal TableResult tableResult = bigquery.listTableData(tableId, schemaQuery.getSchema(), pageToken(token), pageSize(batchSize));\r\n```\r\n\r\nHow to calculate how much data will be or was processed by `bigquery.listTableData()` call?\r\n","title":"How to calculate how much data will be processed by bigquery listTableData() call?","body":"<p>There is a possibility to calculate how much data will be processed by a query (uses <code>getQueryResults</code> RPC to read rows of the results):</p>\n<pre><code>BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\nQueryJobConfiguration queryConfig =\nQueryJobConfiguration.newBuilder(query).setDryRun(true).setUseQueryCache(false).build();\nJob job = bigquery.create(JobInfo.of(queryConfig));\nJobStatistics.QueryStatistics statistics = job.getStatistics();\nSystem.out.println(\n          &quot;Query dry run performed successfully.&quot; + statistics.getTotalBytesProcessed());\n</code></pre>\n<p>But there is nothing similar to <code>getStatistics</code> when using <code>listTableData</code> (uses <code>tabledata.list</code> RPC )</p>\n<pre><code>final TableResult schemaQuery = bigquery.query(newBuilder(query).build());\nfinal TableId tableId = TableId.of(table.datasetId(), table.tableId());\nfinal TableResult tableResult = bigquery.listTableData(tableId, schemaQuery.getSchema(), pageToken(token), pageSize(batchSize));\n</code></pre>\n<p>How to calculate how much data will be or was processed by <code>bigquery.listTableData()</code> call?</p>\n"},{"tags":["java","java-8","cassandra","apple-m1"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1656322526,"post_id":72769846,"comment_id":128534725,"body_markdown":"see https://stackoverflow.com/questions/22524149/where-to-find-jdk-8-for-arm maybe","body":"see <a href=\"https://stackoverflow.com/questions/22524149/where-to-find-jdk-8-for-arm\" title=\"where to find jdk 8 for arm\">stackoverflow.com/questions/22524149/&hellip;</a> maybe"},{"owner":{"account_id":23962403,"reputation":495,"user_id":17952301,"display_name":"Sahil Ummer"},"score":2,"creation_date":1656322919,"post_id":72769846,"comment_id":128534852,"body_markdown":"@f1sh There is no jdk-8 for mac arm64 in that page.","body":"@f1sh There is no jdk-8 for mac arm64 in that page."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1696521790,"creation_date":1656323633,"answer_id":72770124,"question_id":72769846,"body_markdown":"You *can* run Java for Intel Macs on Apple Silicon (ARM, Aarch64) via [*Rosetta 2*][1].\r\n\r\nBut for maximum performance, obtain an implementation of Java 8 built for Apple Silicon Macs. \r\n\r\n&gt; Arm64 jdk-8 is currently unavailable currently.\r\n\r\nNot true.\r\n\r\nYou have a choice of vendors. I know [Azul Systems provides such products][2]. And others do as well. Try vendors providing JDK products, to see if they offer Java 8 on Apple Silicon Macs. Try vendors such as Adoptium, Microsoft, Amazon, SAP, BellSoft, Oracle, IBM, Red Hat, and more. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\r\n  [2]: https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk","title":"Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?","body":"<p>You <em>can</em> run Java for Intel Macs on Apple Silicon (ARM, Aarch64) via <a href=\"https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\" rel=\"nofollow noreferrer\"><em>Rosetta 2</em></a>.</p>\n<p>But for maximum performance, obtain an implementation of Java 8 built for Apple Silicon Macs.</p>\n<blockquote>\n<p>Arm64 jdk-8 is currently unavailable currently.</p>\n</blockquote>\n<p>Not true.</p>\n<p>You have a choice of vendors. I know <a href=\"https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\" rel=\"nofollow noreferrer\">Azul Systems provides such products</a>. And others do as well. Try vendors providing JDK products, to see if they offer Java 8 on Apple Silicon Macs. Try vendors such as Adoptium, Microsoft, Amazon, SAP, BellSoft, Oracle, IBM, Red Hat, and more.</p>\n"},{"tags":[],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1656324571,"creation_date":1656324571,"answer_id":72770337,"question_id":72769846,"body_markdown":"you can try the https://www.azul.com/downloads/. Install the arm version using [sdkman][1].\r\n\r\n\r\n  [1]: https://sdkman.io/","title":"Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?","body":"<p>you can try the <a href=\"https://www.azul.com/downloads/\" rel=\"noreferrer\">https://www.azul.com/downloads/</a>. Install the arm version using <a href=\"https://sdkman.io/\" rel=\"noreferrer\">sdkman</a>.</p>\n"},{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1669898969,"creation_date":1664098778,"answer_id":73843488,"question_id":72769846,"body_markdown":"Homebrew does not support OpenJDK@8 on Apple Silicon (M1/M2) but Zulu Community 8 is present as a cask. You just have to enable [cask-versions][1] repository and install zulu8 cask.\r\n\r\n    brew tap homebrew/cask-versions\r\n    brew install --cask zulu8\r\n\r\nIt will install the JDK in `/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home`. You should then configure your JAVA_HOME variable for development tools to use it.\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n\r\nPlease note that Zulu Community 8 will only be supported until March 2026.\r\n\r\n\r\n  [1]: https://github.com/Homebrew/homebrew-cask-versions","title":"Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?","body":"<p>Homebrew does not support OpenJDK@8 on Apple Silicon (M1/M2) but Zulu Community 8 is present as a cask. You just have to enable <a href=\"https://github.com/Homebrew/homebrew-cask-versions\" rel=\"noreferrer\">cask-versions</a> repository and install zulu8 cask.</p>\n<pre><code>brew tap homebrew/cask-versions\nbrew install --cask zulu8\n</code></pre>\n<p>It will install the JDK in <code>/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home</code>. You should then configure your JAVA_HOME variable for development tools to use it.</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n</code></pre>\n<p>Please note that Zulu Community 8 will only be supported until March 2026.</p>\n"},{"comments":[{"owner":{"account_id":67019,"reputation":1402,"user_id":196319,"accept_rate":73,"display_name":"alimbada"},"score":1,"creation_date":1694018178,"post_id":76760053,"comment_id":135837115,"body_markdown":"There&#39;s no macOS aarch64 version.","body":"There&#39;s no macOS aarch64 version."}],"tags":[],"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690267429,"creation_date":1690267429,"answer_id":76760053,"question_id":72769846,"body_markdown":"Another option to have Java8 \r\n`brew install adoptopenjdk8` or `brew install --cask temurin8`","title":"Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?","body":"<p>Another option to have Java8\n<code>brew install adoptopenjdk8</code> or <code>brew install --cask temurin8</code></p>\n"}],"owner":{"account_id":23962403,"reputation":495,"user_id":17952301,"display_name":"Sahil Ummer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45393,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":4,"score":27,"last_activity_date":1696521790,"creation_date":1656322217,"question_id":72769846,"body_markdown":"I am trying to have JDK 8 run with cassandra 3.x in my dev-setup Mac with M1Pro Chip. Arm64 jdk-8 is currently unavailable currently.","title":"Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?","body":"<p>I am trying to have JDK 8 run with cassandra 3.x in my dev-setup Mac with M1Pro Chip. Arm64 jdk-8 is currently unavailable currently.</p>\n"},{"tags":["java","eclipse","configuration","jboss"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1696507420,"post_id":77236413,"comment_id":136163492,"body_markdown":"What information is hidden behind the Details button? 2022 also saw 4 releases of Eclipse, all of which were last year. Perhaps you should update to the latest and see if this has been addressed?","body":"What information is hidden behind the Details button? 2022 also saw 4 releases of Eclipse, all of which were last year. Perhaps you should update to the latest and see if this has been addressed?"},{"owner":{"account_id":21745936,"reputation":21,"user_id":16052613,"display_name":"Lolloroma114"},"score":0,"creation_date":1696507942,"post_id":77236413,"comment_id":136163610,"body_markdown":"Hi, this it what is hidden under the details:\n\nAn internal error occurred during: &quot;Starting Red Hat JBoss EAP 6.1+&quot;.\norg/eclipse/jdt/launching/IJavaLaunchConfigurationConstants\n\nAlso I don&#39;t think the problem is the release of Eclipse, because it was working fine until few days ago, and I need additionally this very specific version of Eclipse for my project to be able to run","body":"Hi, this it what is hidden under the details:  An internal error occurred during: &quot;Starting Red Hat JBoss EAP 6.1+&quot;. org/eclipse/jdt/launching/IJavaLaunchConfigurationConstants  Also I don&#39;t think the problem is the release of Eclipse, because it was working fine until few days ago, and I need additionally this very specific version of Eclipse for my project to be able to run"},{"owner":{"account_id":21745936,"reputation":21,"user_id":16052613,"display_name":"Lolloroma114"},"score":0,"creation_date":1696508388,"post_id":77236413,"comment_id":136163719,"body_markdown":"By the way the Eclipse realease is 2022.06","body":"By the way the Eclipse realease is 2022.06"}],"answers":[{"tags":[],"owner":{"account_id":21745936,"reputation":21,"user_id":16052613,"display_name":"Lolloroma114"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696521692,"creation_date":1696521692,"answer_id":77238791,"question_id":77236413,"body_markdown":"So still now I have no idea what was going on, I guess the Eclipse IDE had simply gotten somehow corrupted.\r\nWhat I did was redownloading the same version of Eclipse and re-installing  all of the plug-ins. It works fine now and the server starts.","title":"Cannot open launch configuration on Jboss 6.1 server and neither start it","body":"<p>So still now I have no idea what was going on, I guess the Eclipse IDE had simply gotten somehow corrupted.\nWhat I did was redownloading the same version of Eclipse and re-installing  all of the plug-ins. It works fine now and the server starts.</p>\n"}],"owner":{"account_id":21745936,"reputation":21,"user_id":16052613,"display_name":"Lolloroma114"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696521692,"creation_date":1696502881,"question_id":77236413,"body_markdown":"I&#39;m using Eclipse 2022, and I have a Jboss EAP 6.1 server finely created, it used to work until some days ago, now as I try to start it it gives the following error\r\n\r\n[![enter image description here][1]][1] \r\n\r\nAdditionally if I try to open the launch configurations of the server or the runtime environment it starts loading with the blue wheel, but it never actually opens the launch configurations.\r\nMoreover, several operations which you can normally perform in Eclipse such as the cleaning of projects, fail with some errors which can&#39;t be found even on google. Could anyone kindly explain what is going on?\r\nAlso let me know if you need additional information such as logs or error screens.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3whzz.png","title":"Cannot open launch configuration on Jboss 6.1 server and neither start it","body":"<p>I'm using Eclipse 2022, and I have a Jboss EAP 6.1 server finely created, it used to work until some days ago, now as I try to start it it gives the following error</p>\n<p><a href=\"https://i.stack.imgur.com/3whzz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3whzz.png\" alt=\"enter image description here\" /></a></p>\n<p>Additionally if I try to open the launch configurations of the server or the runtime environment it starts loading with the blue wheel, but it never actually opens the launch configurations.\nMoreover, several operations which you can normally perform in Eclipse such as the cleaning of projects, fail with some errors which can't be found even on google. Could anyone kindly explain what is going on?\nAlso let me know if you need additional information such as logs or error screens.</p>\n"},{"tags":["java","google-chrome","selenium","webdriver","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":5528258,"reputation":746,"user_id":4389106,"display_name":"R&#233;my"},"score":0,"creation_date":1632313649,"post_id":18646033,"comment_id":122457556,"body_markdown":"Has anybody the solution with Appium to test chrome on a mobile device ?","body":"Has anybody the solution with Appium to test chrome on a mobile device ?"}],"tags":[],"owner":{"account_id":1208658,"reputation":32250,"user_id":1177636,"accept_rate":50,"display_name":"Yi Zeng"},"comment_count":1,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1538899472,"creation_date":1378415489,"answer_id":18646033,"question_id":18645205,"body_markdown":"You can do it by adding Chrome&#39;s [command line switches][1] &quot;--lang&quot;.\r\n\r\nBasically, all you need is starting `ChromeDriver` with an [ChromeOption][2] argument `--lang=es`, see API for details.\r\n\r\nThe following is a working example of C# code for how to start Chrome in Spanish using Selenium.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--lang=es&quot;);\r\n    ChromeDriver driver = new ChromeDriver(options);\r\n\r\nJava code should be pretty much the same (untested). Remember, locale here is in the form language[-country] where language is the 2 letter code from ISO-639.\r\n\r\n    public WebDriver getDriver(String locale){   \r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;driver/chromedriver.exe&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--lang=&quot; + locale);\r\n        return new ChromeDriver(options);\r\n    }\r\n    \r\n    public void initializeSelenium() throws Exception{\r\n        driver = getDriver(&quot;es&quot;); // two letters to represent the locale, or two letters + country\r\n    }\r\n\r\n  [1]: http://peter.sh/experiments/chromium-command-line-switches/\r\n  [2]: https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/chrome/ChromeOptions.java#L105","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>You can do it by adding Chrome's <a href=\"http://peter.sh/experiments/chromium-command-line-switches/\" rel=\"noreferrer\">command line switches</a> \"--lang\".</p>\n\n<p>Basically, all you need is starting <code>ChromeDriver</code> with an <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/chrome/ChromeOptions.java#L105\" rel=\"noreferrer\">ChromeOption</a> argument <code>--lang=es</code>, see API for details.</p>\n\n<p>The following is a working example of C# code for how to start Chrome in Spanish using Selenium.</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--lang=es\");\nChromeDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Java code should be pretty much the same (untested). Remember, locale here is in the form language[-country] where language is the 2 letter code from ISO-639.</p>\n\n<pre><code>public WebDriver getDriver(String locale){   \n    System.setProperty(\"webdriver.chrome.driver\", \"driver/chromedriver.exe\");\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(\"--lang=\" + locale);\n    return new ChromeDriver(options);\n}\n\npublic void initializeSelenium() throws Exception{\n    driver = getDriver(\"es\"); // two letters to represent the locale, or two letters + country\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2390555,"reputation":342,"user_id":2090481,"accept_rate":100,"display_name":"j4nSolo"},"score":1,"creation_date":1623236540,"post_id":34313370,"comment_id":120020039,"body_markdown":"This worked for me whereas the accepted solution didn&#39;t (assuming for English it would be &quot;--lang=en&quot;). It seems it won&#39;t work just with the language two-letter code, but one must add the specific &quot;spell&quot; such as &quot;GB&quot;.\n\nEdit: using the python variant on [3.141.0](https://pypi.org/project/selenium/3.141.0/)","body":"This worked for me whereas the accepted solution didn&#39;t (assuming for English it would be &quot;--lang=en&quot;). It seems it won&#39;t work just with the language two-letter code, but one must add the specific &quot;spell&quot; such as &quot;GB&quot;.  Edit: using the python variant on <a href=\"https://pypi.org/project/selenium/3.141.0/\" rel=\"nofollow noreferrer\">3.141.0</a>"}],"tags":[],"owner":{"account_id":7482480,"reputation":91,"user_id":5686847,"display_name":"Paul Yardley"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1450272600,"creation_date":1450272600,"answer_id":34313370,"question_id":18645205,"body_markdown":"I had problems with Chrome using US date format (mm/dd/yyyy) instead of the GB dd/mm/yyyy format (even though I had set these in Chrome). Using:\r\n\r\n    options.addArguments(&quot;--lang=en-GB&quot;);\r\n\r\nresolved this.","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>I had problems with Chrome using US date format (mm/dd/yyyy) instead of the GB dd/mm/yyyy format (even though I had set these in Chrome). Using:</p>\n\n<pre><code>options.addArguments(\"--lang=en-GB\");\n</code></pre>\n\n<p>resolved this.</p>\n"},{"comments":[{"owner":{"display_name":"user2964500"},"score":1,"creation_date":1497514803,"post_id":39595928,"comment_id":76113541,"body_markdown":"this worked for me using http://www.reliply.org/tools/requestheaders.php to verify.","body":"this worked for me using <a href=\"http://www.reliply.org/tools/requestheaders.php\" rel=\"nofollow noreferrer\">reliply.org/tools/requestheaders.php</a> to verify."},{"owner":{"account_id":14284626,"reputation":695,"user_id":10318272,"display_name":"S. Doe"},"score":0,"creation_date":1584780974,"post_id":39595928,"comment_id":107545943,"body_markdown":"For me it also works without the DesiredCapabilities (first and last line).","body":"For me it also works without the DesiredCapabilities (first and last line)."}],"tags":[],"owner":{"account_id":2731019,"reputation":163,"user_id":2354820,"display_name":"Cornelius Riemenschneider"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1475606239,"creation_date":1474379361,"answer_id":39595928,"question_id":18645205,"body_markdown":"For me, --lang didn&#39;t work. It seems to set the language of the first opened tab, all others chrome processes are started with --lang=en-US.\r\n\r\nWhat did work is the following:\r\n\r\n    DesiredCapabilities jsCapabilities = DesiredCapabilities.chrome();\r\n    ChromeOptions options = new ChromeOptions();\r\n\tMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n\tprefs.put(&quot;intl.accept_languages&quot;, language);\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\tjsCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>For me, --lang didn't work. It seems to set the language of the first opened tab, all others chrome processes are started with --lang=en-US.</p>\n\n<p>What did work is the following:</p>\n\n<pre><code>DesiredCapabilities jsCapabilities = DesiredCapabilities.chrome();\nChromeOptions options = new ChromeOptions();\nMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(\"intl.accept_languages\", language);\noptions.setExperimentalOption(\"prefs\", prefs);\njsCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1535369490,"post_id":42270993,"comment_id":91026913,"body_markdown":"en-US and en-GB do not work for me. Who can help me?","body":"en-US and en-GB do not work for me. Who can help me?"}],"tags":[],"owner":{"account_id":371113,"reputation":2775,"user_id":719457,"accept_rate":73,"display_name":"omikron"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487240316,"creation_date":1487240316,"answer_id":42270993,"question_id":18645205,"body_markdown":"For me `--lang` also didn&#39;t work. I wanted to perform Facebook Login tests with specific language (en-US instead of en-GB) and what I found is that some pages (like Facebook) set interface according to system environment variable `LANG`... So if above answers doesn&#39;t work, try changing `LANG` environment variable. Tested on Linux.","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>For me <code>--lang</code> also didn't work. I wanted to perform Facebook Login tests with specific language (en-US instead of en-GB) and what I found is that some pages (like Facebook) set interface according to system environment variable <code>LANG</code>... So if above answers doesn't work, try changing <code>LANG</code> environment variable. Tested on Linux.</p>\n"},{"tags":[],"owner":{"account_id":13678658,"reputation":41,"user_id":9869544,"display_name":"Anuj Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527679857,"creation_date":1527675063,"answer_id":50602007,"question_id":18645205,"body_markdown":"I was trying the same and above listed nothing worked for me, at last I tried the below and it worked:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    \r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    \r\n    prefs.put(&quot;intl.accept_languages&quot;, &quot;ja-jp,ja&quot;);\r\n    \r\n    chromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    \r\n    WebDriver driver = new ChromeDriver(chromeOptions);","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>I was trying the same and above listed nothing worked for me, at last I tried the below and it worked:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\n\nMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n\nprefs.put(\"intl.accept_languages\", \"ja-jp,ja\");\n\nchromeOptions.setExperimentalOption(\"prefs\", prefs);\n\nWebDriver driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11164873,"reputation":63,"user_id":8193851,"display_name":"AlexanderTheTester"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1579532385,"creation_date":1579532385,"answer_id":59825909,"question_id":18645205,"body_markdown":"As of now (Jan 2020 - Chrome  Version 79.0.3945.130) The C# in the accepted answer does not work.\r\n\r\nThe simplest approach that I can find to work in C# presently:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.AddUserProfilePreference(&quot;intl.accept_languages&quot;, language);\r\n    WebDriver driver = new ChromeDriver(chromeOptions);\r\n\r\n","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>As of now (Jan 2020 - Chrome  Version 79.0.3945.130) The C# in the accepted answer does not work.</p>\n\n<p>The simplest approach that I can find to work in C# presently:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.AddUserProfilePreference(\"intl.accept_languages\", language);\nWebDriver driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1591173,"reputation":71,"user_id":1474469,"display_name":"Nsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584463182,"creation_date":1584463182,"answer_id":60726620,"question_id":18645205,"body_markdown":"For people using Selenium with ruby:\r\n\r\nI made it work this way:\r\n\r\n```\r\nprefs_hash = {\r\n       &#39;credentials_enable_service&#39; =&gt; false,\r\n       &#39;profile&#39; =&gt; {\r\n           &#39;password_manager_enabled&#39; =&gt; false,\r\n       },\r\n       &#39;intl.accept_languages&#39; =&gt; &#39;fr-FR&#39;, // &lt;- here\r\n    }\r\n\r\n// [...]\r\n\r\nbrowser = Watir::Browser.new :chrome, :prefs =&gt; prefs_hash, switches: switches, desired_capabilities: caps\r\n\r\n```","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>For people using Selenium with ruby:</p>\n\n<p>I made it work this way:</p>\n\n<pre><code>prefs_hash = {\n       'credentials_enable_service' =&gt; false,\n       'profile' =&gt; {\n           'password_manager_enabled' =&gt; false,\n       },\n       'intl.accept_languages' =&gt; 'fr-FR', // &lt;- here\n    }\n\n// [...]\n\nbrowser = Watir::Browser.new :chrome, :prefs =&gt; prefs_hash, switches: switches, desired_capabilities: caps\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3201220,"reputation":374,"user_id":2703236,"accept_rate":33,"display_name":"skavans"},"score":0,"creation_date":1619554735,"post_id":66770028,"comment_id":118939742,"body_markdown":"Thank you a lot! I had a multi-language website and I needed to get the content in Russian for me. I was passing the --lang argument to Chrome but the website was providing an English content version nevertheless. And only after setting up the locales, everything got working fine.","body":"Thank you a lot! I had a multi-language website and I needed to get the content in Russian for me. I was passing the --lang argument to Chrome but the website was providing an English content version nevertheless. And only after setting up the locales, everything got working fine."}],"tags":[],"owner":{"account_id":4066879,"reputation":19,"user_id":4494712,"display_name":"Chema"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1616527648,"creation_date":1616527648,"answer_id":66770028,"question_id":18645205,"body_markdown":"I had the same problem. I tried to solve the problem including\r\n\r\n    chromeOptions = Options()\r\n    chromeOptions.add_argument(&#39;--lang=es&#39;)\r\n\r\nbut it didn&#39;t work (I have discovered that isn&#39;t necessary).\r\n\r\nIt works when I changed the locale:\r\n\r\n    locale -a\r\n    sudo apt-get install language-pack-es\r\n    sudo dpkg-reconfigure locales\r\n\r\nIt is es_ES.UTF-8 UTF-8 for Spanish. Finally, you have to start a new shell in order to get new env variables (LANG=C.UTF-8 to es_ES.UTF-8)\r\n\r\n\r\n","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>I had the same problem. I tried to solve the problem including</p>\n<pre><code>chromeOptions = Options()\nchromeOptions.add_argument('--lang=es')\n</code></pre>\n<p>but it didn't work (I have discovered that isn't necessary).</p>\n<p>It works when I changed the locale:</p>\n<pre><code>locale -a\nsudo apt-get install language-pack-es\nsudo dpkg-reconfigure locales\n</code></pre>\n<p>It is es_ES.UTF-8 UTF-8 for Spanish. Finally, you have to start a new shell in order to get new env variables (LANG=C.UTF-8 to es_ES.UTF-8)</p>\n"},{"tags":[],"owner":{"account_id":25417227,"reputation":11,"user_id":19223910,"display_name":"user19223910"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663087289,"creation_date":1663087289,"answer_id":73706525,"question_id":18645205,"body_markdown":"    website = &#39;https://e-katalog.lkpp.go.id/id/search-produk?q=&#39; + mylist[i] + \r\n                                     &#39;&amp;order=relevance&amp;limit=12&amp;offset=&#39; + str(1)\r\n    chrome_options = Options()\r\n    chrome_options.add_argument(&quot;--lang=en&quot;);\r\n    chrome_options.add_experimental_option(&#39;excludeSwitches&#39;, [&#39;enable-logging&#39;])\r\n    \r\n    prefs = {\r\n              &quot;translate_whitelists&quot;: {&#39;id&#39;:&#39;en&#39;},\r\n              &quot;translate&quot;:{&quot;enabled&quot;:&quot;True&quot;}}\r\n    chrome_options.add_experimental_option(&quot;prefs&quot;, prefs)\r\n    driver = webdriver.Chrome(&#39;C:\\webdrivers\\chromedriver.exe&#39;,options=chrome_options)\r\n    time.sleep(10)\r\n    driver.get(website)\r\n    time.sleep(5)","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<pre><code>website = 'https://e-katalog.lkpp.go.id/id/search-produk?q=' + mylist[i] + \n                                 '&amp;order=relevance&amp;limit=12&amp;offset=' + str(1)\nchrome_options = Options()\nchrome_options.add_argument(&quot;--lang=en&quot;);\nchrome_options.add_experimental_option('excludeSwitches', ['enable-logging'])\n\nprefs = {\n          &quot;translate_whitelists&quot;: {'id':'en'},\n          &quot;translate&quot;:{&quot;enabled&quot;:&quot;True&quot;}}\nchrome_options.add_experimental_option(&quot;prefs&quot;, prefs)\ndriver = webdriver.Chrome('C:\\webdrivers\\chromedriver.exe',options=chrome_options)\ntime.sleep(10)\ndriver.get(website)\ntime.sleep(5)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":217473,"reputation":6570,"user_id":473290,"accept_rate":85,"display_name":"Eric"},"score":0,"creation_date":1695231069,"post_id":74576225,"comment_id":135998058,"body_markdown":"&quot;should work&quot; or &quot;does work&quot;?","body":"&quot;should work&quot; or &quot;does work&quot;?"},{"owner":{"account_id":16763423,"reputation":61,"user_id":12117626,"display_name":"Ibrahim Muchhala"},"score":0,"creation_date":1695459953,"post_id":74576225,"comment_id":136029663,"body_markdown":"@Eric does work.","body":"@Eric does work."},{"owner":{"account_id":217473,"reputation":6570,"user_id":473290,"accept_rate":85,"display_name":"Eric"},"score":0,"creation_date":1695653515,"post_id":74576225,"comment_id":136049820,"body_markdown":"Don&#39;t work for me","body":"Don&#39;t work for me"}],"tags":[],"owner":{"account_id":16763423,"reputation":61,"user_id":12117626,"display_name":"Ibrahim Muchhala"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669397567,"creation_date":1669397567,"answer_id":74576225,"question_id":18645205,"body_markdown":"For latest versions below code should work.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--accept-lang=&quot; + locale);\r\n    return new ChromeDriver(options);\r\n\r\n\r\nhttps://peter.sh/experiments/chromium-command-line-switches/#accept-lang","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>For latest versions below code should work.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--accept-lang=&quot; + locale);\nreturn new ChromeDriver(options);\n</code></pre>\n<p><a href=\"https://peter.sh/experiments/chromium-command-line-switches/#accept-lang\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/#accept-lang</a></p>\n"},{"tags":[],"owner":{"account_id":29606177,"reputation":1,"user_id":22690579,"display_name":"Sourav Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696521651,"creation_date":1696521651,"answer_id":77238786,"question_id":18645205,"body_markdown":"# From Chrome v117 #\r\nYou need to set ```intl.selected_languages``` &amp; ```intl.accept_languages```,\r\n```\r\nChromeOptions options = new ChromeOptions();\r\nMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\nprefs.put(&quot;intl.accept_languages&quot;, language); //language: &quot;es&quot;\r\nprefs.put(&quot;intl.selected_languages&quot;, language);\r\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n```\r\n\r\n","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<h1>From Chrome v117</h1>\n<p>You need to set <code>intl.selected_languages</code> &amp; <code>intl.accept_languages</code>,</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\nMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(&quot;intl.accept_languages&quot;, language); //language: &quot;es&quot;\nprefs.put(&quot;intl.selected_languages&quot;, language);\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n</code></pre>\n"}],"owner":{"account_id":3267975,"reputation":1642,"user_id":2752065,"accept_rate":74,"display_name":"elcharrua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67070,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":18646033,"answer_count":11,"score":35,"last_activity_date":1696521651,"creation_date":1378412446,"question_id":18645205,"body_markdown":"I download ChromeDriver and by defaults the browser language is in English, I need to change it to Spanish, and I have been unable.\r\n\r\n    public WebDriver getDriver(String locale){   \r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;driver/chromedriver.exe&quot;);\r\n\t\treturn new ChromeDriver();\r\n\t}\r\n\r\n    public void initializeSelenium() throws Exception{\r\n\t\tdriver = getDriver(&quot;en-us&quot;)\r\n\t}","title":"Set Chrome&#39;s language using Selenium ChromeDriver","body":"<p>I download ChromeDriver and by defaults the browser language is in English, I need to change it to Spanish, and I have been unable.</p>\n\n<pre><code>public WebDriver getDriver(String locale){   \n    System.setProperty(\"webdriver.chrome.driver\", \"driver/chromedriver.exe\");\n    return new ChromeDriver();\n}\n\npublic void initializeSelenium() throws Exception{\n    driver = getDriver(\"en-us\")\n}\n</code></pre>\n"},{"tags":["java","acm-java-libraries"],"answers":[{"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1607456980,"creation_date":1607456980,"answer_id":65205914,"question_id":65205552,"body_markdown":"There&#39;s no specific function call you can make with the ACM libraries that will change the coordinate system. Instead, you can work out the math to determine where the object should be placed in order to center it in the screen.\r\n\r\nWe can imagine the window as a rectangle whose upper-left corner is at (0, 0) and whose lower-right corner is at (`getWidth()`, `getHeight()`). If you want to center a box of dimensions W &amp;times; H, the picture looks like this:\r\n\r\n    (0, 0)    getWidth()/2      getWidth()/2\r\n          *-----------------+-----------------+\r\n          |                 |                 |\r\n          | (x, y)    W/2   |   W/2           |\r\n          |      *----------+----------+      | getHeight() / 2\r\n          |      |          |          | H/2  |\r\n          +------+----------+----------+------+\r\n          |      |          |          | H/2  |\r\n          |      +----------+----------+      |  getHeight() / 2\r\n          |                 |                 |\r\n          |                 |                 |\r\n          +-----------------+-----------------*\r\n                                              (getWidth(), getHeight())\r\n\r\nBased on this picture, can you mathematically work out what `x` and `y` are? You can then punch those coordinates in as the first two arguments to the `GOval` constructor.\r\n\r\nFor more practice with ACM graphics math, check out [this packet of problems](http://web.stanford.edu/~htiek/girlcode-2019/assignments/Coordinate%20Drills%201.pdf) and [this follow-up](http://web.stanford.edu/~htiek/girlcode-2019/assignments/Coordinate%20Drills%202.pdf).","title":"Changing the coordinate system in ACM Java libraries","body":"<p>There's no specific function call you can make with the ACM libraries that will change the coordinate system. Instead, you can work out the math to determine where the object should be placed in order to center it in the screen.</p>\n<p>We can imagine the window as a rectangle whose upper-left corner is at (0, 0) and whose lower-right corner is at (<code>getWidth()</code>, <code>getHeight()</code>). If you want to center a box of dimensions W × H, the picture looks like this:</p>\n<pre><code>(0, 0)    getWidth()/2      getWidth()/2\n      *-----------------+-----------------+\n      |                 |                 |\n      | (x, y)    W/2   |   W/2           |\n      |      *----------+----------+      | getHeight() / 2\n      |      |          |          | H/2  |\n      +------+----------+----------+------+\n      |      |          |          | H/2  |\n      |      +----------+----------+      |  getHeight() / 2\n      |                 |                 |\n      |                 |                 |\n      +-----------------+-----------------*\n                                          (getWidth(), getHeight())\n</code></pre>\n<p>Based on this picture, can you mathematically work out what <code>x</code> and <code>y</code> are? You can then punch those coordinates in as the first two arguments to the <code>GOval</code> constructor.</p>\n<p>For more practice with ACM graphics math, check out <a href=\"http://web.stanford.edu/%7Ehtiek/girlcode-2019/assignments/Coordinate%20Drills%201.pdf\" rel=\"nofollow noreferrer\">this packet of problems</a> and <a href=\"http://web.stanford.edu/%7Ehtiek/girlcode-2019/assignments/Coordinate%20Drills%202.pdf\" rel=\"nofollow noreferrer\">this follow-up</a>.</p>\n"}],"owner":{"account_id":20165166,"reputation":13,"user_id":14789314,"display_name":"afnan shakeel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65205914,"answer_count":1,"score":1,"last_activity_date":1696521638,"creation_date":1607455409,"question_id":65205552,"body_markdown":"I am trying to create a circle with co ordinate (0,0) at its center but I&#39;m unable to shift the origin from top left corner to the center. Is there any way I can do this?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ODh90.png\r\nHere&#39;s the picture showing the origin at top left but I want it in center.\r\n\r\n~~~\r\npublic class circle extends GraphicsProgram{\r\n    \r\n    public int size =200;\r\n  \r\n    \r\n    \r\n    @Override\r\n    public void run(){\r\n        setSize(300, 300);\r\n\r\n        GOval circle = new GOval(0,0,size*2,size*2);\r\n      \r\n        add(circle);\r\n    }\r\n}\r\n~~~\r\n","title":"Changing the coordinate system in ACM Java libraries","body":"<p>I am trying to create a circle with co ordinate (0,0) at its center but I'm unable to shift the origin from top left corner to the center. Is there any way I can do this?</p>\n<p><img src=\"https://i.stack.imgur.com/ODh90.png\" alt=\"enter image description here\" /></p>\n<p>Here's the picture showing the origin at top left but I want it in center.</p>\n<pre><code>public class circle extends GraphicsProgram{\n    \n    public int size =200;\n  \n    \n    \n    @Override\n    public void run(){\n        setSize(300, 300);\n\n        GOval circle = new GOval(0,0,size*2,size*2);\n      \n        add(circle);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","jodatime","icalendar","android-calendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1696521130,"post_id":77238521,"comment_id":136166748,"body_markdown":"What was the question again, please? Does your code do what you wanted? If not, what does it do instead?","body":"What was the question again, please? Does your code do what you wanted? If not, what does it do instead?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696522510,"post_id":77238521,"comment_id":136167029,"body_markdown":"What is your question for us?","body":"What is your question for us?"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696522638,"post_id":77238751,"comment_id":136167053,"body_markdown":"Nice, thanks. To obtain `2 Aug 2023`, as the question mentions, use just one `d` in the format pattern string.","body":"Nice, thanks. To obtain <code>2 Aug 2023</code>, as the question mentions, use just one <code>d</code> in the format pattern string."}],"tags":[],"owner":{"account_id":29476753,"reputation":233,"user_id":22588349,"display_name":"Nidheesh R"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696521383,"creation_date":1696521383,"answer_id":77238751,"question_id":77238521,"body_markdown":"Your code looks mostly correct for generating the start dates of each week between two given dates. However, there are a couple of things to note:\r\n\r\nThe code you provided already generates the desired start dates for each week between July 25, 2023, and August 25, 2023.\r\n\r\nYou are using the **DateTimeFormatter** to format the output dates. In your comment, you mentioned lunar calendar periods, but your code is using the Gregorian calendar. If you want to convert these dates to the lunar calendar, you&#39;ll need to incorporate a lunar calendar library or API, which may require additional code.\r\n\r\nHere&#39;s your code with comments to make it clear:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;LocalDate&gt; weekDates = new ArrayList&lt;&gt;();\r\n            LocalDate tmp = LocalDate.of(2023, 7, 25);\r\n            LocalDate end = LocalDate.of(2023, 8, 25);\r\n    \r\n            // Loop until we surpass the end date\r\n            while (tmp.isBefore(end)) {\r\n                weekDates.add(tmp);\r\n                tmp = tmp.plusWeeks(1);\r\n            }\r\n    \r\n            // Format and print the dates\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;);\r\n    \r\n            for (int i = 0; i &lt; weekDates.size(); i++) {\r\n                String formattedString = weekDates.get(i).format(formatter);\r\n                System.out.println(formattedString);\r\n            }\r\n        }\r\n    }\r\n\r\nIf you need to convert these dates to the lunar calendar, you&#39;ll need to use a lunar calendar library or API specific to the Vietnamese or Chinese lunar calendar, as lunar calendars are different from the Gregorian calendar.","title":"Period week, month, year in lunar calendar Vietnamese or Chinese","body":"<p>Your code looks mostly correct for generating the start dates of each week between two given dates. However, there are a couple of things to note:</p>\n<p>The code you provided already generates the desired start dates for each week between July 25, 2023, and August 25, 2023.</p>\n<p>You are using the <strong>DateTimeFormatter</strong> to format the output dates. In your comment, you mentioned lunar calendar periods, but your code is using the Gregorian calendar. If you want to convert these dates to the lunar calendar, you'll need to incorporate a lunar calendar library or API, which may require additional code.</p>\n<p>Here's your code with comments to make it clear:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;LocalDate&gt; weekDates = new ArrayList&lt;&gt;();\n        LocalDate tmp = LocalDate.of(2023, 7, 25);\n        LocalDate end = LocalDate.of(2023, 8, 25);\n\n        // Loop until we surpass the end date\n        while (tmp.isBefore(end)) {\n            weekDates.add(tmp);\n            tmp = tmp.plusWeeks(1);\n        }\n\n        // Format and print the dates\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;);\n\n        for (int i = 0; i &lt; weekDates.size(); i++) {\n            String formattedString = weekDates.get(i).format(formatter);\n            System.out.println(formattedString);\n        }\n    }\n}\n</code></pre>\n<p>If you need to convert these dates to the lunar calendar, you'll need to use a lunar calendar library or API specific to the Vietnamese or Chinese lunar calendar, as lunar calendars are different from the Gregorian calendar.</p>\n"}],"owner":{"account_id":29605877,"reputation":1,"user_id":22690327,"display_name":"huy hoang trong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696521383,"creation_date":1696519580,"question_id":77238521,"body_markdown":"I want to show the all week start dates between two dates.\r\n\r\nSuppose I have selected start date as 25th July 2023 - 25th Aug 2023, then it should return the results:\r\n\r\n```\r\n25 July 2023\r\n2 Aug 2023\r\n9 Aug 2023\r\n16 Aug 2023\r\n23 Aug 2023\r\n```\r\n\r\nIf have lib period day, week, month, year in lunar calendar Vietnamese or Chinese\r\n\r\n\r\n\r\n```\r\nList&lt;LocalDate&gt; weekDates = new ArrayList&lt;&gt;();\r\nLocalDate tmp = LocalDate.of(2023, 7, 25);\r\nLocalDate end = LocalDate.of(2023, 8, 25);\r\n// Loop until we surpass end date\r\nwhile(tmp.isBefore(end)) {\r\n  weekDates.add(tmp);\r\n  tmp = tmp.plusWeeks(1);\r\n }\r\n\t\t\r\n DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd LL yyyy&quot;);\r\n\t\t\r\n for (int i = 0; i &lt; weekDates.size(); i++) {\r\n\t String formattedString = weekDates.get(i).format(formatter);\r\n\t System.out.println(formattedString);\r\n }\r\n```\r\n","title":"Period week, month, year in lunar calendar Vietnamese or Chinese","body":"<p>I want to show the all week start dates between two dates.</p>\n<p>Suppose I have selected start date as 25th July 2023 - 25th Aug 2023, then it should return the results:</p>\n<pre><code>25 July 2023\n2 Aug 2023\n9 Aug 2023\n16 Aug 2023\n23 Aug 2023\n</code></pre>\n<p>If have lib period day, week, month, year in lunar calendar Vietnamese or Chinese</p>\n<pre><code>List&lt;LocalDate&gt; weekDates = new ArrayList&lt;&gt;();\nLocalDate tmp = LocalDate.of(2023, 7, 25);\nLocalDate end = LocalDate.of(2023, 8, 25);\n// Loop until we surpass end date\nwhile(tmp.isBefore(end)) {\n  weekDates.add(tmp);\n  tmp = tmp.plusWeeks(1);\n }\n        \n DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd LL yyyy&quot;);\n        \n for (int i = 0; i &lt; weekDates.size(); i++) {\n     String formattedString = weekDates.get(i).format(formatter);\n     System.out.println(formattedString);\n }\n</code></pre>\n"},{"tags":["java","spring-boot","configuration","jobrunr"],"comments":[{"owner":{"account_id":7718980,"reputation":76,"user_id":5845762,"display_name":"Akhil KC"},"score":0,"creation_date":1696511930,"post_id":77237484,"comment_id":136164566,"body_markdown":"2023-10-05 18:29:17.278 ERROR 7524 --- [pool-4-thread-7] org.jobrunr.jobs.filters.DeleteFilter    : Error parsing deleteOnSuccess or deleteOnFailure value from Job annotation (provided value: ${jobrunr.cleanup.succeededJobsDuration}). Falling back to default value.\n\n\n2023-10-05 18:29:17.278 ERROR 7524 --- [pool-4-thread-7] org.jobrunr.jobs.filters.DeleteFilter    : Error parsing deleteOnSuccess or deleteOnFailure value from Job annotation (provided value: ${jobrunr.cleanup.failedJobsDuration}). Falling back to default value.\n\nerrors that I am getting in my local.","body":"2023-10-05 18:29:17.278 ERROR 7524 --- [pool-4-thread-7] org.jobrunr.jobs.filters.DeleteFilter    : Error parsing deleteOnSuccess or deleteOnFailure value from Job annotation (provided value: ${jobrunr.cleanup.succeededJobsDuration}). Falling back to default value.   2023-10-05 18:29:17.278 ERROR 7524 --- [pool-4-thread-7] org.jobrunr.jobs.filters.DeleteFilter    : Error parsing deleteOnSuccess or deleteOnFailure value from Job annotation (provided value: ${jobrunr.cleanup.failedJobsDuration}). Falling back to default value.  errors that I am getting in my local."}],"answers":[{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696521062,"creation_date":1696521062,"answer_id":77238711,"question_id":77237484,"body_markdown":"That is only available in the paying Pro version, I&#39;m sorry &#128556;.","title":"Configure Jobrunr with deleteonsuccess/failure values","body":"<p>That is only available in the paying Pro version, I'm sorry 😬.</p>\n"}],"owner":{"account_id":7718980,"reputation":76,"user_id":5845762,"display_name":"Akhil KC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696521062,"creation_date":1696511742,"question_id":77237484,"body_markdown":"HI i&#39;m trying to configure the Jobrunr code, specially the Custom Delete Policy: [https://www.jobrunr.io/en/documentation/pro/custom-delete-policy/][1]\r\n\r\n\r\nIm trying a way to configure the delete on success and failure based on the application.properties value. But for some reason its not allowing me to do it, and it shows unable to parse the value provided. Code snippet below for the job.\r\n\r\n    @Recurring(id = &quot;some-id-job&quot;, cron = &quot;${some_crontab}&quot;)\r\n    @Job(name = &quot;some-job&quot;, deleteOnFailure = &quot;${jobrunr.cleanup.failedJobsDuration}&quot;,\r\n            deleteOnSuccess = &quot;${jobrunr.cleanup.succeededJobsDuration}&quot;)\r\n    @Transactional\r\n    public void initiateAutoSyncPayment(){\r\n        log.debug(&quot;Initiating Job.....&quot;);\r\n        someJob = jobService.enqueueAutoSyncPayment(company.getCompanyId()));\r\n    }\r\nApplication properties snippet\r\n\r\n    jobrunr.cleanup.succeededJobsDuration=P1D! -- delete after one day.\r\n    jobrunr.cleanup.failedJobsDuration=P7D!    -- delete after seven days","title":"Configure Jobrunr with deleteonsuccess/failure values","body":"<p>HI i'm trying to configure the Jobrunr code, specially the Custom Delete Policy: [https://www.jobrunr.io/en/documentation/pro/custom-delete-policy/][1]</p>\n<p>Im trying a way to configure the delete on success and failure based on the application.properties value. But for some reason its not allowing me to do it, and it shows unable to parse the value provided. Code snippet below for the job.</p>\n<pre><code>@Recurring(id = &quot;some-id-job&quot;, cron = &quot;${some_crontab}&quot;)\n@Job(name = &quot;some-job&quot;, deleteOnFailure = &quot;${jobrunr.cleanup.failedJobsDuration}&quot;,\n        deleteOnSuccess = &quot;${jobrunr.cleanup.succeededJobsDuration}&quot;)\n@Transactional\npublic void initiateAutoSyncPayment(){\n    log.debug(&quot;Initiating Job.....&quot;);\n    someJob = jobService.enqueueAutoSyncPayment(company.getCompanyId()));\n}\n</code></pre>\n<p>Application properties snippet</p>\n<pre><code>jobrunr.cleanup.succeededJobsDuration=P1D! -- delete after one day.\njobrunr.cleanup.failedJobsDuration=P7D!    -- delete after seven days\n</code></pre>\n"},{"tags":["java","spring","eclipse","hibernate","metamodel"],"comments":[{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1650056245,"post_id":63615083,"comment_id":127033983,"body_markdown":"Try to use `Factory Path &gt; jaxb-api-2.3.1.jar` [jaxb-api-2.3.1.jar](https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.3.1) \n-- [reference source](https://hpratap.medium.com/configure-eclipse-ide-for-jpa-metamodel-generation-for-jhipster-project-efa97e2ab06e)","body":"Try to use <code>Factory Path &gt; jaxb-api-2.3.1.jar</code> <a href=\"https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.3.1\" rel=\"nofollow noreferrer\">jaxb-api-2.3.1.jar</a>  -- <a href=\"https://hpratap.medium.com/configure-eclipse-ide-for-jpa-metamodel-generation-for-jhipster-project-efa97e2ab06e\" rel=\"nofollow noreferrer\">reference source</a>"}],"answers":[{"tags":[],"owner":{"account_id":3076611,"reputation":225,"user_id":2605771,"accept_rate":67,"display_name":"DHansen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687874153,"creation_date":1687874153,"answer_id":76565617,"question_id":63615083,"body_markdown":"For some old libraries you will need to include JAXB on Factory Path.\r\n\r\nFor version 6.2.5 it does not need JAXB, but it works only when you include jakarta.xml.bind-api.\r\n\r\nIn my case I am using it from Wildfly 28 (.../wildfly-28.0.1.Final/modules/system/layers/base/jakarta/xml/bind/api/main/jakarta.xml.bind-api-4.0.0.jar)\r\n\r\nYou can check dependencies for you version on Maven Repository:\r\nhttps://mvnrepository.com/artifact/org.hibernate.orm/hibernate-jpamodelgen/6.2.5.Final","title":"Hibernate JPA 2 Metamodel Generator - Error &quot;x_ can not be resolved to a variable&quot;","body":"<p>For some old libraries you will need to include JAXB on Factory Path.</p>\n<p>For version 6.2.5 it does not need JAXB, but it works only when you include jakarta.xml.bind-api.</p>\n<p>In my case I am using it from Wildfly 28 (.../wildfly-28.0.1.Final/modules/system/layers/base/jakarta/xml/bind/api/main/jakarta.xml.bind-api-4.0.0.jar)</p>\n<p>You can check dependencies for you version on Maven Repository:\n<a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-jpamodelgen/6.2.5.Final\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-jpamodelgen/6.2.5.Final</a></p>\n"}],"owner":{"account_id":15865689,"reputation":91,"user_id":11447810,"display_name":"nin-prog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1696520978,"creation_date":1598527906,"question_id":63615083,"body_markdown":"Eclipse does not recognize the Metamodel and I always get the error: &quot;xy_ can not be resolved to a variable.&quot; I tried everything and spent a lot of time seraching for alternatives but somehow it just doesn`t work.\r\n\r\nAll in all I did following:\r\n- add dependency in pom.xml\r\n- set annotation processing (Project&gt;Properties&gt;Java Compiler&gt;Annotation Processing)\r\n- set factory path (&gt;Annotation Processing&gt;Factory Path)\r\n- add generated classes folder to classpath like described [here](https://stackoverflow.com/questions/44772701/how-does-hibernate-metamodel-generator-work)\r\n\r\nAlso I do not see the generated classes in the defined folders. Besides that I annotated all Entities and the relationships correctly.\r\n\r\nWhat have I done wrong?\r\n\r\nJava Class where metamodel is used and error occurs:\r\n```\r\n    public class ProductSpecs {\r\n\r\n      public static Specification&lt;Product&gt; getProductsByFilter(String keyword, Integer categoryId,\r\n       String postalCode) {\r\n      return (root, cq, cb) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n        // join tables product, retailStore and address for correct filtering\r\n        Join&lt;Product, RetailStore&gt; store = root.join(Product_.retailStore, JoinType.LEFT);\r\n        Join&lt;RetailStore, Address&gt; address = store.join(RetailStore_.address, JoinType.LEFT);\r\n\r\n        // create comparsion elements using CriteriaBuilder\r\n        if (keyword != null) {\r\n          Predicate keywordSearch = cb.like(cb.lower(address.get(Product_.name)),\r\n              &quot;%&quot; + keyword.toLowerCase() + &quot;%&quot;);\r\n        predicates.add(keywordSearch);\r\n        }\r\n        if (categoryId != null) {\r\n          Predicate categorySearch = cb.equal(address.get(Product_.categoryId), categoryId);\r\n          predicates.add(categorySearch);\r\n        }\r\n        if (postalCode != null) {\r\n          Predicate postalCodeSearch = cb.equal(address.get(Address_.postalCode), postalCode);\r\n          predicates.add(postalCodeSearch);\r\n        }\r\n\r\n        // add selected predicates to where clause and build query\r\n        return cq.where(predicates.toArray(new Predicate[0])).orderBy(cb.desc(root.get(&quot;name&quot;)))\r\n            .getRestriction();\r\n      };  \r\n    }\r\n  }\r\n```\r\n\r\npom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;!-- thymeleaf --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- web mvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;!-- authentication and authorization --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- database --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-jpamodelgen --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.3.7.Final&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- lombok project --&gt;\r\n\t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- security --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Package as an executable jar/war --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n          &lt;addResources&gt;true&lt;/addResources&gt;\r\n        &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nJavaCompiler-Annotation Processing Settings:\r\n\r\n[![JavaCompiler-Annotation Processing Settings][1]][1]\r\n\r\n\r\nFactoryPath Settings:\r\n- added external jar `hibernate-jpa-modelgen-5.3.7.Final.jar`\r\n- added external jar `javax-persistence-2.0.3.jar`\r\n\r\nJava build path setting:\r\n\r\n[![java build path setting][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FNhIU.png\r\n  [2]: https://i.stack.imgur.com/Trbjx.png","title":"Hibernate JPA 2 Metamodel Generator - Error &quot;x_ can not be resolved to a variable&quot;","body":"<p>Eclipse does not recognize the Metamodel and I always get the error: &quot;xy_ can not be resolved to a variable.&quot; I tried everything and spent a lot of time seraching for alternatives but somehow it just doesn`t work.</p>\n<p>All in all I did following:</p>\n<ul>\n<li>add dependency in pom.xml</li>\n<li>set annotation processing (Project&gt;Properties&gt;Java Compiler&gt;Annotation Processing)</li>\n<li>set factory path (&gt;Annotation Processing&gt;Factory Path)</li>\n<li>add generated classes folder to classpath like described <a href=\"https://stackoverflow.com/questions/44772701/how-does-hibernate-metamodel-generator-work\">here</a></li>\n</ul>\n<p>Also I do not see the generated classes in the defined folders. Besides that I annotated all Entities and the relationships correctly.</p>\n<p>What have I done wrong?</p>\n<p>Java Class where metamodel is used and error occurs:</p>\n<pre><code>    public class ProductSpecs {\n\n      public static Specification&lt;Product&gt; getProductsByFilter(String keyword, Integer categoryId,\n       String postalCode) {\n      return (root, cq, cb) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n        // join tables product, retailStore and address for correct filtering\n        Join&lt;Product, RetailStore&gt; store = root.join(Product_.retailStore, JoinType.LEFT);\n        Join&lt;RetailStore, Address&gt; address = store.join(RetailStore_.address, JoinType.LEFT);\n\n        // create comparsion elements using CriteriaBuilder\n        if (keyword != null) {\n          Predicate keywordSearch = cb.like(cb.lower(address.get(Product_.name)),\n              &quot;%&quot; + keyword.toLowerCase() + &quot;%&quot;);\n        predicates.add(keywordSearch);\n        }\n        if (categoryId != null) {\n          Predicate categorySearch = cb.equal(address.get(Product_.categoryId), categoryId);\n          predicates.add(categorySearch);\n        }\n        if (postalCode != null) {\n          Predicate postalCodeSearch = cb.equal(address.get(Address_.postalCode), postalCode);\n          predicates.add(postalCodeSearch);\n        }\n\n        // add selected predicates to where clause and build query\n        return cq.where(predicates.toArray(new Predicate[0])).orderBy(cb.desc(root.get(&quot;name&quot;)))\n            .getRestriction();\n      };  \n    }\n  }\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- thymeleaf --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- web mvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- authentication and authorization --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-jpamodelgen --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7.Final&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- lombok project --&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;version&gt;1.18.12&lt;/version&gt;\n&lt;/dependency&gt;\n    \n    &lt;!-- security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- Package as an executable jar/war --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n      &lt;addResources&gt;true&lt;/addResources&gt;\n    &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>JavaCompiler-Annotation Processing Settings:</p>\n<p><a href=\"https://i.stack.imgur.com/FNhIU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNhIU.png\" alt=\"JavaCompiler-Annotation Processing Settings\" /></a></p>\n<p>FactoryPath Settings:</p>\n<ul>\n<li>added external jar <code>hibernate-jpa-modelgen-5.3.7.Final.jar</code></li>\n<li>added external jar <code>javax-persistence-2.0.3.jar</code></li>\n</ul>\n<p>Java build path setting:</p>\n<p><a href=\"https://i.stack.imgur.com/Trbjx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Trbjx.png\" alt=\"java build path setting\" /></a></p>\n"},{"tags":["java","json","hibernate","postgresql","jpa"],"comments":[{"owner":{"account_id":1669207,"reputation":583,"user_id":1535995,"display_name":"Sasa7812"},"score":2,"creation_date":1412097257,"post_id":15974474,"comment_id":40948497,"body_markdown":"I know this is a bit old, but have a look at my answer http://stackoverflow.com/a/26126168/1535995 for the similar question","body":"I know this is a bit old, but have a look at my answer <a href=\"http://stackoverflow.com/a/26126168/1535995\">stackoverflow.com/a/26126168/1535995</a> for the similar question"},{"owner":{"account_id":2815794,"reputation":645,"user_id":2420909,"accept_rate":80,"display_name":"SGuru"},"score":0,"creation_date":1603136000,"post_id":15974474,"comment_id":113935478,"body_markdown":"https://vladmihalcea.com/how-to-store-schema-less-eav-entity-attribute-value-data-using-json-and-hibernate/ this tutorial is pretty straightforward","body":"<a href=\"https://vladmihalcea.com/how-to-store-schema-less-eav-entity-attribute-value-data-using-json-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> this tutorial is pretty straightforward"}],"answers":[{"comments":[{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":2,"creation_date":1386723804,"post_id":15983429,"comment_id":30658379,"body_markdown":"Worth reading the resulting [blog post](http://www.pateldenish.com/2013/05/inserting-json-data-into-postgres-using-jdbc-driver.html) of this answer. Inparticular the comment section highlights the dangers of this (allows invalid json) and the alternative / superior solution.","body":"Worth reading the resulting <a href=\"http://www.pateldenish.com/2013/05/inserting-json-data-into-postgres-using-jdbc-driver.html\" rel=\"nofollow noreferrer\">blog post</a> of this answer. Inparticular the comment section highlights the dangers of this (allows invalid json) and the alternative / superior solution."},{"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":0,"creation_date":1386730405,"post_id":15983429,"comment_id":30660353,"body_markdown":"@markdsievers Thankyou. I&#39;ve updated the post with a corrected solution.","body":"@markdsievers Thankyou. I&#39;ve updated the post with a corrected solution."},{"owner":{"account_id":154180,"reputation":7191,"user_id":369930,"accept_rate":91,"display_name":"markdsievers"},"score":0,"creation_date":1386732307,"post_id":15983429,"comment_id":30660931,"body_markdown":"@CraigRinger No problem. Thank you for your prolific PG / JPA / JDBC contributions, many have been of great assistance to me.","body":"@CraigRinger No problem. Thank you for your prolific PG / JPA / JDBC contributions, many have been of great assistance to me."},{"owner":{"account_id":1062483,"reputation":20163,"user_id":1104979,"display_name":"Nick Barnes"},"score":1,"creation_date":1402922691,"post_id":15983429,"comment_id":37445836,"body_markdown":"@CraigRinger Since you&#39;re going through the `cstring` conversion anyway, couldn&#39;t you simply use `CREATE CAST (text AS json) WITH INOUT`?","body":"@CraigRinger Since you&#39;re going through the <code>cstring</code> conversion anyway, couldn&#39;t you simply use <code>CREATE CAST (text AS json) WITH INOUT</code>?"},{"owner":{"account_id":43376,"reputation":4070,"user_id":126781,"accept_rate":87,"display_name":"zeroDivisible"},"score":0,"creation_date":1418379726,"post_id":15983429,"comment_id":43322500,"body_markdown":"@NickBarnes that solution also worked perfectly for me (and from what I had seen, it fails on invalid JSON, as it should). Thanks!","body":"@NickBarnes that solution also worked perfectly for me (and from what I had seen, it fails on invalid JSON, as it should). Thanks!"},{"owner":{"account_id":42701,"reputation":1,"user_id":124486,"accept_rate":46,"display_name":"Evan Carroll"},"score":0,"creation_date":1486152412,"post_id":15983429,"comment_id":71238842,"body_markdown":"@NickBarnes you should have answered. That would have been a valuable contribution -- here it is though http://stackoverflow.com/a/42032206/124486","body":"@NickBarnes you should have answered. That would have been a valuable contribution -- here it is though <a href=\"http://stackoverflow.com/a/42032206/124486\">stackoverflow.com/a/42032206/124486</a>"}],"tags":[],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":6,"down_vote_count":2,"up_vote_count":41,"is_accepted":true,"score":39,"last_activity_date":1426058510,"creation_date":1365818612,"answer_id":15983429,"question_id":15974474,"body_markdown":"[See PgJDBC bug #265](https://github.com/pgjdbc/pgjdbc/issues/265).\r\n\r\nPostgreSQL is excessively, annoyingly strict about data type conversions. It won&#39;t implicitly cast `text` even to text-like values such as `xml` and `json`.\r\n\r\nThe strictly correct way to solve this problem is to write a custom Hibernate mapping type that uses the JDBC `setObject` method. This can be a fair bit of hassle, so you might just want to make PostgreSQL less strict by creating a weaker cast.\r\n\r\nAs noted by @markdsievers in the comments and [this blog post](http://www.pateldenish.com/2013/05/inserting-json-data-into-postgres-using-jdbc-driver.html), the original solution in this answer bypasses JSON validation. So it&#39;s not really what you want. It&#39;s safer to write:\r\n\r\n    CREATE OR REPLACE FUNCTION json_intext(text) RETURNS json AS $$\r\n    SELECT json_in($1::cstring); \r\n    $$ LANGUAGE SQL IMMUTABLE;\r\n\r\n    CREATE CAST (text AS json) WITH FUNCTION json_intext(text) AS IMPLICIT;\r\n\r\n`AS IMPLICIT` tells PostgreSQL it can convert without being explicitly told to, allowing things like this to work:\r\n\r\n    regress=# CREATE TABLE jsontext(x json);\r\n    CREATE TABLE\r\n    regress=# PREPARE test(text) AS INSERT INTO jsontext(x) VALUES ($1);\r\n    PREPARE\r\n    regress=# EXECUTE test(&#39;{}&#39;)\r\n    INSERT 0 1\r\n\r\nThanks to @markdsievers for pointing out the issue.","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p><a href=\"https://github.com/pgjdbc/pgjdbc/issues/265\">See PgJDBC bug #265</a>.</p>\n\n<p>PostgreSQL is excessively, annoyingly strict about data type conversions. It won't implicitly cast <code>text</code> even to text-like values such as <code>xml</code> and <code>json</code>.</p>\n\n<p>The strictly correct way to solve this problem is to write a custom Hibernate mapping type that uses the JDBC <code>setObject</code> method. This can be a fair bit of hassle, so you might just want to make PostgreSQL less strict by creating a weaker cast.</p>\n\n<p>As noted by @markdsievers in the comments and <a href=\"http://www.pateldenish.com/2013/05/inserting-json-data-into-postgres-using-jdbc-driver.html\">this blog post</a>, the original solution in this answer bypasses JSON validation. So it's not really what you want. It's safer to write:</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION json_intext(text) RETURNS json AS $$\nSELECT json_in($1::cstring); \n$$ LANGUAGE SQL IMMUTABLE;\n\nCREATE CAST (text AS json) WITH FUNCTION json_intext(text) AS IMPLICIT;\n</code></pre>\n\n<p><code>AS IMPLICIT</code> tells PostgreSQL it can convert without being explicitly told to, allowing things like this to work:</p>\n\n<pre><code>regress=# CREATE TABLE jsontext(x json);\nCREATE TABLE\nregress=# PREPARE test(text) AS INSERT INTO jsontext(x) VALUES ($1);\nPREPARE\nregress=# EXECUTE test('{}')\nINSERT 0 1\n</code></pre>\n\n<p>Thanks to @markdsievers for pointing out the issue.</p>\n"},{"comments":[{"owner":{"account_id":146254,"reputation":17399,"user_id":356594,"accept_rate":64,"display_name":"&#220;mit"},"score":0,"creation_date":1366184907,"post_id":16049086,"comment_id":22909677,"body_markdown":"thanks for the thorough code examples! \nI am using a normal text field but I might take your approach in future","body":"thanks for the thorough code examples!  I am using a normal text field but I might take your approach in future"},{"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":0,"creation_date":1366244754,"post_id":16049086,"comment_id":22941621,"body_markdown":"Thanks for taking the time to write this. It *intensely* frustrates me that JPA doesn&#39;t define SPI hooks for user defined types to be written in a JPA-provider-independent way.","body":"Thanks for taking the time to write this. It <i>intensely</i> frustrates me that JPA doesn&#39;t define SPI hooks for user defined types to be written in a JPA-provider-independent way."},{"owner":{"account_id":391815,"reputation":15910,"user_id":752693,"accept_rate":100,"display_name":"Tim Fulmer"},"score":2,"creation_date":1366305886,"post_id":16049086,"comment_id":22970178,"body_markdown":"No worries guys, I ended up with the code and this page in front of me and figured why not :)  That might be the downside of the Java process.  We get some pretty well thought through solutions to tough problems, but it&#39;s not easy to go in and add a good idea like generic SPI for new types.  We&#39;re left with whatever the implementers, Hibernate in this case, put in place.","body":"No worries guys, I ended up with the code and this page in front of me and figured why not :)  That might be the downside of the Java process.  We get some pretty well thought through solutions to tough problems, but it&#39;s not easy to go in and add a good idea like generic SPI for new types.  We&#39;re left with whatever the implementers, Hibernate in this case, put in place."},{"owner":{"account_id":1917759,"reputation":424,"user_id":1729980,"accept_rate":29,"display_name":"rtcarlson"},"score":3,"creation_date":1378912974,"post_id":16049086,"comment_id":27627937,"body_markdown":"there&#39;s a problem in your implementation code for nullSafeGet.  Instead of of if(rs.wasNull()) you should do if(rs.getString(names[0]) == null).  I&#39;m not sure what rs.wasNull() does, but in my case it burned me by returning true, when the value I was looking for was in fact not null.","body":"there&#39;s a problem in your implementation code for nullSafeGet.  Instead of of if(rs.wasNull()) you should do if(rs.getString(names[0]) == null).  I&#39;m not sure what rs.wasNull() does, but in my case it burned me by returning true, when the value I was looking for was in fact not null."},{"owner":{"account_id":391815,"reputation":15910,"user_id":752693,"accept_rate":100,"display_name":"Tim Fulmer"},"score":1,"creation_date":1379706572,"post_id":16049086,"comment_id":27941649,"body_markdown":"@rtcarlson Nice catch!  Sorry you had to go through that.  I&#39;ve updated the code above.","body":"@rtcarlson Nice catch!  Sorry you had to go through that.  I&#39;ve updated the code above."},{"owner":{"account_id":184520,"reputation":1177,"user_id":420614,"accept_rate":86,"display_name":"oliverguenther"},"score":3,"creation_date":1384794211,"post_id":16049086,"comment_id":29868358,"body_markdown":"This solution worked nicely with Hibernate 4.2.7 except when retrieving null from json columns with the error &#39;No Dialect mapping for JDBC type: 1111&#39;. However, adding the following line to the dialect class fixed it: this.registerHibernateType(Types.OTHER, &quot;StringJsonUserType&quot;);","body":"This solution worked nicely with Hibernate 4.2.7 except when retrieving null from json columns with the error &#39;No Dialect mapping for JDBC type: 1111&#39;. However, adding the following line to the dialect class fixed it: this.registerHibernateType(Types.OTHER, &quot;StringJsonUserType&quot;);"},{"owner":{"account_id":391815,"reputation":15910,"user_id":752693,"accept_rate":100,"display_name":"Tim Fulmer"},"score":1,"creation_date":1396316819,"post_id":16049086,"comment_id":34723398,"body_markdown":"@oliverguenther I&#39;ve updated the example above to work with latest Hibernate.  Nice catch.","body":"@oliverguenther I&#39;ve updated the example above to work with latest Hibernate.  Nice catch."},{"owner":{"account_id":81564,"reputation":3843,"user_id":229896,"accept_rate":93,"display_name":"Καrτhικ"},"score":1,"creation_date":1396532196,"post_id":16049086,"comment_id":34837865,"body_markdown":"JPA 2.1 has a converter annotation - but it only maps standard types (such as string) to your custom types (e.g. a java bean).","body":"JPA 2.1 has a converter annotation - but it only maps standard types (such as string) to your custom types (e.g. a java bean)."},{"owner":{"account_id":2465273,"reputation":710,"user_id":2148530,"accept_rate":50,"display_name":"giaffa86"},"score":1,"creation_date":1425297240,"post_id":16049086,"comment_id":45890584,"body_markdown":"don&#39;t forget to change your hibernate.properties replacing property &quot;dialect&quot; content with &#39;JsonPostgreSQLDialect&#39;","body":"don&#39;t forget to change your hibernate.properties replacing property &quot;dialect&quot; content with &#39;JsonPostgreSQLDialect&#39;"},{"owner":{"account_id":1378375,"reputation":2542,"user_id":1311879,"accept_rate":75,"display_name":"yunspace"},"score":0,"creation_date":1436427575,"post_id":16049086,"comment_id":50610472,"body_markdown":"I have tried this out and it works for reading/persisting the Entity. However if I need to run a query against Restrictions.sqlRestriction(sql, Object, Type) on the Jsonb column, the method has to take in a Type instead of UserType. It seems the only work around is to implement Type instead?","body":"I have tried this out and it works for reading/persisting the Entity. However if I need to run a query against Restrictions.sqlRestriction(sql, Object, Type) on the Jsonb column, the method has to take in a Type instead of UserType. It seems the only work around is to implement Type instead?"},{"owner":{"account_id":4788743,"reputation":653,"user_id":3868502,"accept_rate":57,"display_name":"Arun M R Nair"},"score":0,"creation_date":1442223422,"post_id":16049086,"comment_id":52978469,"body_markdown":"I am also looking for running a query. but show &#39; Unrecognized field&#39; error for inner fields of json.Can you help me.","body":"I am also looking for running a query. but show &#39; Unrecognized field&#39; error for inner fields of json.Can you help me."},{"owner":{"account_id":4054771,"reputation":2177,"user_id":3333174,"accept_rate":71,"display_name":"r&#252;-"},"score":8,"creation_date":1443611205,"post_id":16049086,"comment_id":53561109,"body_markdown":"I don&#39;t see any code on the linked [github-project](https://github.com/timfulmer/hibernate-postgres-jsontype) ;-) BTW: Wouldn&#39;t it be useful to have this code as a library for reuse?","body":"I don&#39;t see any code on the linked <a href=\"https://github.com/timfulmer/hibernate-postgres-jsontype\" rel=\"nofollow noreferrer\">github-project</a> ;-) BTW: Wouldn&#39;t it be useful to have this code as a library for reuse?"},{"owner":{"account_id":4025902,"reputation":1561,"user_id":3314194,"accept_rate":87,"display_name":"Kevin Vasko"},"score":0,"creation_date":1478535717,"post_id":16049086,"comment_id":68183960,"body_markdown":"How does this solution differ for Hibernate 5?","body":"How does this solution differ for Hibernate 5?"},{"owner":{"account_id":7319837,"reputation":781,"user_id":5576205,"display_name":"NotABot"},"score":0,"creation_date":1506521024,"post_id":16049086,"comment_id":79855560,"body_markdown":"Nice answer tyvm Tim !","body":"Nice answer tyvm Tim !"},{"owner":{"account_id":3926121,"reputation":875,"user_id":3246546,"accept_rate":78,"display_name":"Righto"},"score":0,"creation_date":1521106969,"post_id":16049086,"comment_id":85594032,"body_markdown":"Can you do this with returnedClass as a JSONObject or  an Object?","body":"Can you do this with returnedClass as a JSONObject or  an Object?"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":1,"creation_date":1601039186,"post_id":16049086,"comment_id":113287943,"body_markdown":"It&#39;s worth mentioning that starting from Postgre 9.2 the json column type register is already done.","body":"It&#39;s worth mentioning that starting from Postgre 9.2 the json column type register is already done."}],"tags":[],"owner":{"account_id":391815,"reputation":15910,"user_id":752693,"accept_rate":100,"display_name":"Tim Fulmer"},"comment_count":16,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1391885351,"creation_date":1366155945,"answer_id":16049086,"question_id":15974474,"body_markdown":"If you&#39;re interested, here are a few code snippets to get the Hibernate custom user type in place.  First extend the PostgreSQL dialect to tell it about the json type, thanks to Craig Ringer for the JAVA_OBJECT pointer:\r\n\r\n    import org.hibernate.dialect.PostgreSQL9Dialect;\r\n\r\n    import java.sql.Types;\r\n\r\n    /**\r\n     * Wrap default PostgreSQL9Dialect with &#39;json&#39; type.\r\n     *\r\n     * @author timfulmer\r\n     */\r\n    public class JsonPostgreSQLDialect extends PostgreSQL9Dialect {\r\n\r\n        public JsonPostgreSQLDialect() {\r\n\r\n            super();\r\n\r\n            this.registerColumnType(Types.JAVA_OBJECT, &quot;json&quot;);\r\n        }\r\n    }\r\n\r\nNext implement org.hibernate.usertype.UserType. The implementation below maps String values to the json database type, and vice-versa.  Remember Strings are immutable in Java.  A more complex implementation could be used to map custom Java beans to JSON stored in the database as well.\r\n\r\n    package foo;\r\n    \r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.engine.spi.SessionImplementor;\r\n    import org.hibernate.usertype.UserType;\r\n    \r\n    import java.io.Serializable;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Types;\r\n    \r\n    /**\r\n     * @author timfulmer\r\n     */\r\n    public class StringJsonUserType implements UserType {\r\n    \r\n        /**\r\n         * Return the SQL type codes for the columns mapped by this type. The\r\n         * codes are defined on &lt;tt&gt;java.sql.Types&lt;/tt&gt;.\r\n         *\r\n         * @return int[] the typecodes\r\n         * @see java.sql.Types\r\n         */\r\n        @Override\r\n        public int[] sqlTypes() {\r\n            return new int[] { Types.JAVA_OBJECT};\r\n        }\r\n    \r\n        /**\r\n         * The class returned by &lt;tt&gt;nullSafeGet()&lt;/tt&gt;.\r\n         *\r\n         * @return Class\r\n         */\r\n        @Override\r\n        public Class returnedClass() {\r\n            return String.class;\r\n        }\r\n    \r\n        /**\r\n         * Compare two instances of the class mapped by this type for persistence &quot;equality&quot;.\r\n         * Equality of the persistent state.\r\n         *\r\n         * @param x\r\n         * @param y\r\n         * @return boolean\r\n         */\r\n        @Override\r\n        public boolean equals(Object x, Object y) throws HibernateException {\r\n    \r\n            if( x== null){\r\n    \r\n                return y== null;\r\n            }\r\n    \r\n            return x.equals( y);\r\n        }\r\n    \r\n        /**\r\n         * Get a hashcode for the instance, consistent with persistence &quot;equality&quot;\r\n         */\r\n        @Override\r\n        public int hashCode(Object x) throws HibernateException {\r\n    \r\n            return x.hashCode();\r\n        }\r\n    \r\n        /**\r\n         * Retrieve an instance of the mapped class from a JDBC resultset. Implementors\r\n         * should handle possibility of null values.\r\n         *\r\n         * @param rs      a JDBC result set\r\n         * @param names   the column names\r\n         * @param session\r\n         * @param owner   the containing entity  @return Object\r\n         * @throws org.hibernate.HibernateException\r\n         *\r\n         * @throws java.sql.SQLException\r\n         */\r\n        @Override\r\n        public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {\r\n            if(rs.getString(names[0]) == null){\r\n                return null;\r\n            }\r\n            return rs.getString(names[0]);\r\n        }\r\n    \r\n        /**\r\n         * Write an instance of the mapped class to a prepared statement. Implementors\r\n         * should handle possibility of null values. A multi-column type should be written\r\n         * to parameters starting from &lt;tt&gt;index&lt;/tt&gt;.\r\n         *\r\n         * @param st      a JDBC prepared statement\r\n         * @param value   the object to write\r\n         * @param index   statement parameter index\r\n         * @param session\r\n         * @throws org.hibernate.HibernateException\r\n         *\r\n         * @throws java.sql.SQLException\r\n         */\r\n        @Override\r\n        public void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\r\n            if (value == null) {\r\n                st.setNull(index, Types.OTHER);\r\n                return;\r\n            }\r\n    \r\n            st.setObject(index, value, Types.OTHER);\r\n        }\r\n    \r\n        /**\r\n         * Return a deep copy of the persistent state, stopping at entities and at\r\n         * collections. It is not necessary to copy immutable objects, or null\r\n         * values, in which case it is safe to simply return the argument.\r\n         *\r\n         * @param value the object to be cloned, which may be null\r\n         * @return Object a copy\r\n         */\r\n        @Override\r\n        public Object deepCopy(Object value) throws HibernateException {\r\n    \r\n            return value;\r\n        }\r\n    \r\n        /**\r\n         * Are objects of this type mutable?\r\n         *\r\n         * @return boolean\r\n         */\r\n        @Override\r\n        public boolean isMutable() {\r\n            return true;\r\n        }\r\n    \r\n        /**\r\n         * Transform the object into its cacheable representation. At the very least this\r\n         * method should perform a deep copy if the type is mutable. That may not be enough\r\n         * for some implementations, however; for example, associations must be cached as\r\n         * identifier values. (optional operation)\r\n         *\r\n         * @param value the object to be cached\r\n         * @return a cachable representation of the object\r\n         * @throws org.hibernate.HibernateException\r\n         *\r\n         */\r\n        @Override\r\n        public Serializable disassemble(Object value) throws HibernateException {\r\n            return (String)this.deepCopy( value);\r\n        }\r\n    \r\n        /**\r\n         * Reconstruct an object from the cacheable representation. At the very least this\r\n         * method should perform a deep copy if the type is mutable. (optional operation)\r\n         *\r\n         * @param cached the object to be cached\r\n         * @param owner  the owner of the cached object\r\n         * @return a reconstructed object from the cachable representation\r\n         * @throws org.hibernate.HibernateException\r\n         *\r\n         */\r\n        @Override\r\n        public Object assemble(Serializable cached, Object owner) throws HibernateException {\r\n            return this.deepCopy( cached);\r\n        }\r\n    \r\n        /**\r\n         * During merge, replace the existing (target) value in the entity we are merging to\r\n         * with a new (original) value from the detached entity we are merging. For immutable\r\n         * objects, or null values, it is safe to simply return the first parameter. For\r\n         * mutable objects, it is safe to return a copy of the first parameter. For objects\r\n         * with component values, it might make sense to recursively replace component values.\r\n         *\r\n         * @param original the value from the detached entity being merged\r\n         * @param target   the value in the managed entity\r\n         * @return the value to be merged\r\n         */\r\n        @Override\r\n        public Object replace(Object original, Object target, Object owner) throws HibernateException {\r\n            return original;\r\n        }\r\n    }\r\n\r\nNow all that&#39;s left is annotating the entities.  Put something like this at the entity&#39;s class declaration:\r\n\r\n    @TypeDefs( {@TypeDef( name= &quot;StringJsonObject&quot;, typeClass = StringJsonUserType.class)})\r\n\r\nThen annotate the property:\r\n\r\n    @Type(type = &quot;StringJsonObject&quot;)\r\n    public String getBar() {\r\n        return bar;\r\n    }\r\n\r\nHibernate will take care of creating the column with json type for you, and handle the mapping back and forth.  Inject additional libraries into the user type implementation for more advanced mapping.\r\n\r\nHere&#39;s a quick sample GitHub project if anyone wants to play around with it:\r\n\r\nhttps://github.com/timfulmer/hibernate-postgres-jsontype","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>If you're interested, here are a few code snippets to get the Hibernate custom user type in place.  First extend the PostgreSQL dialect to tell it about the json type, thanks to Craig Ringer for the JAVA_OBJECT pointer:</p>\n\n<pre><code>import org.hibernate.dialect.PostgreSQL9Dialect;\n\nimport java.sql.Types;\n\n/**\n * Wrap default PostgreSQL9Dialect with 'json' type.\n *\n * @author timfulmer\n */\npublic class JsonPostgreSQLDialect extends PostgreSQL9Dialect {\n\n    public JsonPostgreSQLDialect() {\n\n        super();\n\n        this.registerColumnType(Types.JAVA_OBJECT, \"json\");\n    }\n}\n</code></pre>\n\n<p>Next implement org.hibernate.usertype.UserType. The implementation below maps String values to the json database type, and vice-versa.  Remember Strings are immutable in Java.  A more complex implementation could be used to map custom Java beans to JSON stored in the database as well.</p>\n\n<pre><code>package foo;\n\nimport org.hibernate.HibernateException;\nimport org.hibernate.engine.spi.SessionImplementor;\nimport org.hibernate.usertype.UserType;\n\nimport java.io.Serializable;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Types;\n\n/**\n * @author timfulmer\n */\npublic class StringJsonUserType implements UserType {\n\n    /**\n     * Return the SQL type codes for the columns mapped by this type. The\n     * codes are defined on &lt;tt&gt;java.sql.Types&lt;/tt&gt;.\n     *\n     * @return int[] the typecodes\n     * @see java.sql.Types\n     */\n    @Override\n    public int[] sqlTypes() {\n        return new int[] { Types.JAVA_OBJECT};\n    }\n\n    /**\n     * The class returned by &lt;tt&gt;nullSafeGet()&lt;/tt&gt;.\n     *\n     * @return Class\n     */\n    @Override\n    public Class returnedClass() {\n        return String.class;\n    }\n\n    /**\n     * Compare two instances of the class mapped by this type for persistence \"equality\".\n     * Equality of the persistent state.\n     *\n     * @param x\n     * @param y\n     * @return boolean\n     */\n    @Override\n    public boolean equals(Object x, Object y) throws HibernateException {\n\n        if( x== null){\n\n            return y== null;\n        }\n\n        return x.equals( y);\n    }\n\n    /**\n     * Get a hashcode for the instance, consistent with persistence \"equality\"\n     */\n    @Override\n    public int hashCode(Object x) throws HibernateException {\n\n        return x.hashCode();\n    }\n\n    /**\n     * Retrieve an instance of the mapped class from a JDBC resultset. Implementors\n     * should handle possibility of null values.\n     *\n     * @param rs      a JDBC result set\n     * @param names   the column names\n     * @param session\n     * @param owner   the containing entity  @return Object\n     * @throws org.hibernate.HibernateException\n     *\n     * @throws java.sql.SQLException\n     */\n    @Override\n    public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {\n        if(rs.getString(names[0]) == null){\n            return null;\n        }\n        return rs.getString(names[0]);\n    }\n\n    /**\n     * Write an instance of the mapped class to a prepared statement. Implementors\n     * should handle possibility of null values. A multi-column type should be written\n     * to parameters starting from &lt;tt&gt;index&lt;/tt&gt;.\n     *\n     * @param st      a JDBC prepared statement\n     * @param value   the object to write\n     * @param index   statement parameter index\n     * @param session\n     * @throws org.hibernate.HibernateException\n     *\n     * @throws java.sql.SQLException\n     */\n    @Override\n    public void nullSafeSet(PreparedStatement st, Object value, int index, SessionImplementor session) throws HibernateException, SQLException {\n        if (value == null) {\n            st.setNull(index, Types.OTHER);\n            return;\n        }\n\n        st.setObject(index, value, Types.OTHER);\n    }\n\n    /**\n     * Return a deep copy of the persistent state, stopping at entities and at\n     * collections. It is not necessary to copy immutable objects, or null\n     * values, in which case it is safe to simply return the argument.\n     *\n     * @param value the object to be cloned, which may be null\n     * @return Object a copy\n     */\n    @Override\n    public Object deepCopy(Object value) throws HibernateException {\n\n        return value;\n    }\n\n    /**\n     * Are objects of this type mutable?\n     *\n     * @return boolean\n     */\n    @Override\n    public boolean isMutable() {\n        return true;\n    }\n\n    /**\n     * Transform the object into its cacheable representation. At the very least this\n     * method should perform a deep copy if the type is mutable. That may not be enough\n     * for some implementations, however; for example, associations must be cached as\n     * identifier values. (optional operation)\n     *\n     * @param value the object to be cached\n     * @return a cachable representation of the object\n     * @throws org.hibernate.HibernateException\n     *\n     */\n    @Override\n    public Serializable disassemble(Object value) throws HibernateException {\n        return (String)this.deepCopy( value);\n    }\n\n    /**\n     * Reconstruct an object from the cacheable representation. At the very least this\n     * method should perform a deep copy if the type is mutable. (optional operation)\n     *\n     * @param cached the object to be cached\n     * @param owner  the owner of the cached object\n     * @return a reconstructed object from the cachable representation\n     * @throws org.hibernate.HibernateException\n     *\n     */\n    @Override\n    public Object assemble(Serializable cached, Object owner) throws HibernateException {\n        return this.deepCopy( cached);\n    }\n\n    /**\n     * During merge, replace the existing (target) value in the entity we are merging to\n     * with a new (original) value from the detached entity we are merging. For immutable\n     * objects, or null values, it is safe to simply return the first parameter. For\n     * mutable objects, it is safe to return a copy of the first parameter. For objects\n     * with component values, it might make sense to recursively replace component values.\n     *\n     * @param original the value from the detached entity being merged\n     * @param target   the value in the managed entity\n     * @return the value to be merged\n     */\n    @Override\n    public Object replace(Object original, Object target, Object owner) throws HibernateException {\n        return original;\n    }\n}\n</code></pre>\n\n<p>Now all that's left is annotating the entities.  Put something like this at the entity's class declaration:</p>\n\n<pre><code>@TypeDefs( {@TypeDef( name= \"StringJsonObject\", typeClass = StringJsonUserType.class)})\n</code></pre>\n\n<p>Then annotate the property:</p>\n\n<pre><code>@Type(type = \"StringJsonObject\")\npublic String getBar() {\n    return bar;\n}\n</code></pre>\n\n<p>Hibernate will take care of creating the column with json type for you, and handle the mapping back and forth.  Inject additional libraries into the user type implementation for more advanced mapping.</p>\n\n<p>Here's a quick sample GitHub project if anyone wants to play around with it:</p>\n\n<p><a href=\"https://github.com/timfulmer/hibernate-postgres-jsontype\">https://github.com/timfulmer/hibernate-postgres-jsontype</a></p>\n"},{"comments":[{"owner":{"account_id":1317456,"reputation":264,"user_id":1264011,"accept_rate":60,"display_name":"myrosia"},"score":0,"creation_date":1437591380,"post_id":30023141,"comment_id":51098249,"body_markdown":"This sounds useful - what types should it convert between to be able to write JSON? Is it &lt;MyCustomClass, String&gt; or some other type?","body":"This sounds useful - what types should it convert between to be able to write JSON? Is it &lt;MyCustomClass, String&gt; or some other type?"},{"owner":{"account_id":1317456,"reputation":264,"user_id":1264011,"accept_rate":60,"display_name":"myrosia"},"score":0,"creation_date":1437653036,"post_id":30023141,"comment_id":51125534,"body_markdown":"Thanks - just verified that it works for me (JPA 2.1, Hibernate 4.3.10, pgjdbc-ng 0.5, Postgres 9.3)","body":"Thanks - just verified that it works for me (JPA 2.1, Hibernate 4.3.10, pgjdbc-ng 0.5, Postgres 9.3)"},{"owner":{"account_id":4789054,"reputation":97,"user_id":3868745,"display_name":"tfranckiewicz"},"score":0,"creation_date":1438897162,"post_id":30023141,"comment_id":51651706,"body_markdown":"Is it possible to make it work without specifing @Column(columnDefinition = &quot;json&quot;) on the field? Hibernate is making a varchar(255) without this definition.","body":"Is it possible to make it work without specifing @Column(columnDefinition = &quot;json&quot;) on the field? Hibernate is making a varchar(255) without this definition."},{"owner":{"account_id":1809763,"reputation":2880,"user_id":1646086,"accept_rate":88,"display_name":"vasily"},"score":0,"creation_date":1439167493,"post_id":30023141,"comment_id":51734265,"body_markdown":"Hibernate cannot possibly know what column type you want there, but you insist that it&#39;s Hibernate&#39;s responsibility to update the database schema. So I guess it picks the default one.","body":"Hibernate cannot possibly know what column type you want there, but you insist that it&#39;s Hibernate&#39;s responsibility to update the database schema. So I guess it picks the default one."},{"owner":{"account_id":5303668,"reputation":109,"user_id":4232381,"display_name":"JJ Ward"},"score":0,"creation_date":1655995250,"post_id":30023141,"comment_id":128468840,"body_markdown":"This works with Gson as the &quot;custom&quot; class, and you can return the resultant JsonElement as a JsonObject, JsonArray, JSonPrimitive, or JsonNull.  No need for TypeDefs or anything else, just use columnDefinition = &quot;jsonb&quot; and it reads just fine.  Very sexy, great answer!","body":"This works with Gson as the &quot;custom&quot; class, and you can return the resultant JsonElement as a JsonObject, JsonArray, JSonPrimitive, or JsonNull.  No need for TypeDefs or anything else, just use columnDefinition = &quot;jsonb&quot; and it reads just fine.  Very sexy, great answer!"}],"tags":[],"owner":{"account_id":1809763,"reputation":2880,"user_id":1646086,"accept_rate":88,"display_name":"vasily"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1437610876,"creation_date":1430717273,"answer_id":30023141,"question_id":15974474,"body_markdown":"In case someone is interested, you can use JPA 2.1 `@Convert` / `@Converter` functionality with Hibernate. You would have to use the _pgjdbc-ng_ JDBC driver though. This way you don&#39;t have to use any proprietary extensions, dialects and custom types per field.\r\n\r\n    @javax.persistence.Converter\r\n    public static class MyCustomConverter implements AttributeConverter&lt;MuCustomClass, String&gt; {\r\n\r\n        @Override\r\n        @NotNull\r\n        public String convertToDatabaseColumn(@NotNull MuCustomClass myCustomObject) {\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        @NotNull\r\n        public MuCustomClass convertToEntityAttribute(@NotNull String databaseDataAsJSONString) {\r\n            ...\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n    @Convert(converter = MyCustomConverter.class)\r\n    private MyCustomClass attribute;","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>In case someone is interested, you can use JPA 2.1 <code>@Convert</code> / <code>@Converter</code> functionality with Hibernate. You would have to use the <em>pgjdbc-ng</em> JDBC driver though. This way you don't have to use any proprietary extensions, dialects and custom types per field.</p>\n\n<pre><code>@javax.persistence.Converter\npublic static class MyCustomConverter implements AttributeConverter&lt;MuCustomClass, String&gt; {\n\n    @Override\n    @NotNull\n    public String convertToDatabaseColumn(@NotNull MuCustomClass myCustomObject) {\n        ...\n    }\n\n    @Override\n    @NotNull\n    public MuCustomClass convertToEntityAttribute(@NotNull String databaseDataAsJSONString) {\n        ...\n    }\n}\n\n...\n\n@Convert(converter = MyCustomConverter.class)\nprivate MyCustomClass attribute;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2694626,"reputation":441,"user_id":2327045,"display_name":"Balaban Mario"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443618551,"creation_date":1443618551,"answer_id":32866984,"question_id":15974474,"body_markdown":"I had a similar problem with Postgres (javax.persistence.PersistenceException: org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111)  when executing native queries (via EntityManager) that retrieved json fields in the projection although the Entity class has been annotated with TypeDefs. \r\nThe same query translated in HQL was executed without any problem. \r\nTo solve this I had to modify JsonPostgreSQLDialect this way:\r\n\r\n    public class JsonPostgreSQLDialect extends PostgreSQL9Dialect {\r\n\r\n    public JsonPostgreSQLDialect() {\r\n\r\n        super();\r\n\r\n        this.registerColumnType(Types.JAVA_OBJECT, &quot;json&quot;);\r\n        this.registerHibernateType(Types.OTHER, &quot;myCustomType.StringJsonUserType&quot;);\r\n    }\r\n\r\nWhere myCustomType.StringJsonUserType is the class name of the class implementing the json type (from above, Tim Fulmer answer) .\r\n","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>I had a similar problem with Postgres (javax.persistence.PersistenceException: org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111)  when executing native queries (via EntityManager) that retrieved json fields in the projection although the Entity class has been annotated with TypeDefs. \nThe same query translated in HQL was executed without any problem. \nTo solve this I had to modify JsonPostgreSQLDialect this way:</p>\n\n<pre><code>public class JsonPostgreSQLDialect extends PostgreSQL9Dialect {\n\npublic JsonPostgreSQLDialect() {\n\n    super();\n\n    this.registerColumnType(Types.JAVA_OBJECT, \"json\");\n    this.registerHibernateType(Types.OTHER, \"myCustomType.StringJsonUserType\");\n}\n</code></pre>\n\n<p>Where myCustomType.StringJsonUserType is the class name of the class implementing the json type (from above, Tim Fulmer answer) .</p>\n"},{"comments":[{"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"score":0,"creation_date":1504730247,"post_id":37946530,"comment_id":79129876,"body_markdown":"Nice example, but can this be used with some generic DAO, like Spring Data JPA repositories to query data without native queries like we can do with MongoDB? I didn&#39;t find any valid answer or solution to this case. Yes we can store the data, and we can retreive them by filtering columns in RDBMS, but I cannot filter by JSONB coluns so far. I wish I am wrong and there is such solution.","body":"Nice example, but can this be used with some generic DAO, like Spring Data JPA repositories to query data without native queries like we can do with MongoDB? I didn&#39;t find any valid answer or solution to this case. Yes we can store the data, and we can retreive them by filtering columns in RDBMS, but I cannot filter by JSONB coluns so far. I wish I am wrong and there is such solution."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1504731171,"post_id":37946530,"comment_id":79130315,"body_markdown":"Yes, you can. But you need to use nativ queries which are supported by Spring Data JPA too.","body":"Yes, you can. But you need to use nativ queries which are supported by Spring Data JPA too."},{"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"score":0,"creation_date":1504732648,"post_id":37946530,"comment_id":79130953,"body_markdown":"I see, that was actually my questin, if we can go without native queries, but just via objects methods. Something like @Document annotation for MongoDB style. So I assume this is not so far in case of PostgreSQL and the only solution is native queries -&gt; nasty :-), but thanks for confirmation.","body":"I see, that was actually my questin, if we can go without native queries, but just via objects methods. Something like @Document annotation for MongoDB style. So I assume this is not so far in case of PostgreSQL and the only solution is native queries -&gt; nasty :-), but thanks for confirmation."},{"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"score":0,"creation_date":1504732838,"post_id":37946530,"comment_id":79131041,"body_markdown":"It would be good to see in future something like entity which really represents table and document annotation on fields type of json and I can use Spring repositories to do CRUD stuff on the fly. Think is that I am generating quite advanced REST API for databases with Spring. But with JSON in place I am facing quite unexpected overhead so I will need to process every single document with generate queries as well.","body":"It would be good to see in future something like entity which really represents table and document annotation on fields type of json and I can use Spring repositories to do CRUD stuff on the fly. Think is that I am generating quite advanced REST API for databases with Spring. But with JSON in place I am facing quite unexpected overhead so I will need to process every single document with generate queries as well."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1504758258,"post_id":37946530,"comment_id":79137343,"body_markdown":"You can use Hibernate OGM with MongoDB if JSON is your single store.","body":"You can use Hibernate OGM with MongoDB if JSON is your single store."},{"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"score":0,"creation_date":1504766323,"post_id":37946530,"comment_id":79140448,"body_markdown":"I mention MongoDB just as example. My question is more about: Do you know about some JPA standard which could bring same functionalities regarding QUERYING data within PostgreSQL JSONB structures in same way as you can do with JPA (hibernate) with MongoDB?","body":"I mention MongoDB just as example. My question is more about: Do you know about some JPA standard which could bring same functionalities regarding QUERYING data within PostgreSQL JSONB structures in same way as you can do with JPA (hibernate) with MongoDB?"},{"owner":{"account_id":3926121,"reputation":875,"user_id":3246546,"accept_rate":78,"display_name":"Righto"},"score":0,"creation_date":1520009780,"post_id":37946530,"comment_id":85153305,"body_markdown":"Is there JUnit support for JSONB in springboot projects?","body":"Is there JUnit support for JSONB in springboot projects?"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1532115637,"post_id":37946530,"comment_id":89869157,"body_markdown":"This solution worked for me only after changing the Java class of the json field to Jackson&#39;s `JsonNode`. It did not work for a pojo or a raw json string.","body":"This solution worked for me only after changing the Java class of the json field to Jackson&#39;s <code>JsonNode</code>. It did not work for a pojo or a raw json string."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1532142234,"post_id":37946530,"comment_id":89874788,"body_markdown":"The GitHub repository associated with the `hibernate-types` contains unit tests which show you how to map to a Pojo as well.","body":"The GitHub repository associated with the <code>hibernate-types</code> contains unit tests which show you how to map to a Pojo as well."},{"owner":{"account_id":5597302,"reputation":1890,"user_id":4434651,"accept_rate":79,"display_name":"Dmytro"},"score":0,"creation_date":1644938479,"post_id":37946530,"comment_id":125734637,"body_markdown":"Thanks for your work. Just one thing: you forgot to mention that the json class must implement Serializable. Struggled a few hours until I saw your GitHub...","body":"Thanks for your work. Just one thing: you forgot to mention that the json class must implement Serializable. Struggled a few hours until I saw your GitHub..."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":10,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1620656978,"creation_date":1466517501,"answer_id":37946530,"question_id":15974474,"body_markdown":"Maven dependency\r\n----------------\r\n\r\nThe first thing you need to do is to set up the following [Hibernate Types][1] Maven dependency in your project `pom.xml` configuration file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n        &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDomain model\r\n------------\r\n\r\nNow, you need to declare the `JsonType` on either class level or in a **package-info.java** package-level descriptor, like this:\r\n\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n\r\nAnd, the entity mapping will look like this:\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Location location;\r\n\r\nIf you&#39;re using Hibernate 5 or later, then the `JSON` type is registered automatically by the [`Postgre92Dialect`][3].\r\n\r\nOtherwise, you need to register it yourself:\r\n\r\n    public class PostgreSQLDialect extends PostgreSQL91Dialect {\r\n    \r\n    \tpublic PostgreSQL92Dialect() {\r\n    \t\tsuper();\r\n    \t\tthis.registerColumnType( Types.JAVA_OBJECT, &quot;jsonb&quot; );\r\n    \t}\r\n    }\r\n\r\n  [1]: https://github.com/vladmihalcea/hibernate-types/\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-9167\r\n","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<h2>Maven dependency</h2>\n<p>The first thing you need to do is to set up the following <a href=\"https://github.com/vladmihalcea/hibernate-types/\" rel=\"noreferrer\">Hibernate Types</a> Maven dependency in your project <code>pom.xml</code> configuration file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>Domain model</h2>\n<p>Now, you need to declare the <code>JsonType</code> on either class level or in a <strong>package-info.java</strong> package-level descriptor, like this:</p>\n<pre><code>@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n</code></pre>\n<p>And, the entity mapping will look like this:</p>\n<pre><code>@Type(type = &quot;json&quot;)\n@Column(columnDefinition = &quot;jsonb&quot;)\nprivate Location location;\n</code></pre>\n<p>If you're using Hibernate 5 or later, then the <code>JSON</code> type is registered automatically by the <a href=\"https://hibernate.atlassian.net/browse/HHH-9167\" rel=\"noreferrer\"><code>Postgre92Dialect</code></a>.</p>\n<p>Otherwise, you need to register it yourself:</p>\n<pre><code>public class PostgreSQLDialect extends PostgreSQL91Dialect {\n\n    public PostgreSQL92Dialect() {\n        super();\n        this.registerColumnType( Types.JAVA_OBJECT, &quot;jsonb&quot; );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":331264,"reputation":1694,"user_id":655837,"display_name":"James"},"score":0,"creation_date":1575771315,"post_id":41023430,"comment_id":104676755,"body_markdown":"Thank you! I was using hibernate-types but this is way easier! FYI here are the docs about this param https://jdbc.postgresql.org/documentation/83/connect.html","body":"Thank you! I was using hibernate-types but this is way easier! FYI here are the docs about this param <a href=\"https://jdbc.postgresql.org/documentation/83/connect.html\" rel=\"nofollow noreferrer\">jdbc.postgresql.org/documentation/83/connect.html</a>"}],"tags":[],"owner":{"account_id":6094220,"reputation":509,"user_id":4755567,"accept_rate":23,"display_name":"TommyQu"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1481142158,"creation_date":1481130730,"answer_id":41023430,"question_id":15974474,"body_markdown":"I tried many methods I found on the Internet, most of them are not working, some of them are too complex. The below one works for me and is much more simple if you don&#39;t have that strict requirements for PostgreSQL type validation.\r\n\r\nMake PostgreSQL jdbc string type as unspecified, like \r\n```\r\n    &lt;connection-url&gt;\r\n        jdbc:postgresql://localhost:test?stringtype=‌​unspecified\r\n    &lt;/connect‌​ion-url&gt; \r\n```","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>I tried many methods I found on the Internet, most of them are not working, some of them are too complex. The below one works for me and is much more simple if you don't have that strict requirements for PostgreSQL type validation.</p>\n\n<p>Make PostgreSQL jdbc string type as unspecified, like \n<code>\n    &lt;connection-url&gt;\n        jdbc:postgresql://localhost:test?stringtype=‌​unspecified\n    &lt;/connect‌​ion-url&gt;\n</code></p>\n"},{"comments":[{"owner":{"account_id":1624868,"reputation":1059,"user_id":1500623,"accept_rate":79,"display_name":"Vladimir M."},"score":0,"creation_date":1521533408,"post_id":42032206,"comment_id":85758804,"body_markdown":"Thanks, used this to cast varchar to ltree, works perfectly.","body":"Thanks, used this to cast varchar to ltree, works perfectly."}],"tags":[],"owner":{"account_id":42701,"reputation":1,"user_id":124486,"accept_rate":46,"display_name":"Evan Carroll"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486152332,"creation_date":1486152332,"answer_id":42032206,"question_id":15974474,"body_markdown":"There is an easier to to do this which doesn&#39;t involve creating a function by using [`WITH INOUT`](https://www.postgresql.org/docs/current/static/sql-createcast.html)\r\n\r\n    CREATE TABLE jsontext(x json);\r\n    \r\n    INSERT INTO jsontext VALUES ($${&quot;a&quot;:1}$$::text);\r\n    ERROR:  column &quot;x&quot; is of type json but expression is of type text\r\n    LINE 1: INSERT INTO jsontext VALUES ($${&quot;a&quot;:1}$$::text);\r\n    \r\n    CREATE CAST (text AS json)\r\n      WITH INOUT\r\n      AS ASSIGNMENT;\r\n    \r\n    INSERT INTO jsontext VALUES ($${&quot;a&quot;:1}$$::text);\r\n    INSERT 0 1\r\n","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>There is an easier to to do this which doesn't involve creating a function by using <a href=\"https://www.postgresql.org/docs/current/static/sql-createcast.html\" rel=\"nofollow noreferrer\"><code>WITH INOUT</code></a></p>\n\n<pre><code>CREATE TABLE jsontext(x json);\n\nINSERT INTO jsontext VALUES ($${\"a\":1}$$::text);\nERROR:  column \"x\" is of type json but expression is of type text\nLINE 1: INSERT INTO jsontext VALUES ($${\"a\":1}$$::text);\n\nCREATE CAST (text AS json)\n  WITH INOUT\n  AS ASSIGNMENT;\n\nINSERT INTO jsontext VALUES ($${\"a\":1}$$::text);\nINSERT 0 1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1166807,"reputation":3087,"user_id":1144868,"accept_rate":56,"display_name":"sandeep"},"score":5,"creation_date":1590738963,"post_id":61398041,"comment_id":109799526,"body_markdown":"Where have you defined this HashMapConverter class. How it look like.","body":"Where have you defined this HashMapConverter class. How it look like."}],"tags":[],"owner":{"account_id":1391345,"reputation":2014,"user_id":1322108,"display_name":"nenchev"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1587680966,"creation_date":1587680966,"answer_id":61398041,"question_id":15974474,"body_markdown":"I was running into this and didn&#39;t want to enable stuff via connection string, and allow implicit conversions. At first I tried to use @Type, but because I&#39;m using a custom converter to serialize/deserialize a Map to/from JSON, I couldn&#39;t apply a @Type annotation. Turns out I just needed to specify columnDefinition = &quot;json&quot; in my @Column annotation.\r\n\r\n```\r\n@Convert(converter = HashMapConverter.class)\r\n@Column(name = &quot;extra_fields&quot;, columnDefinition = &quot;json&quot;)\r\nprivate Map&lt;String, String&gt; extraFields;\r\n```","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>I was running into this and didn't want to enable stuff via connection string, and allow implicit conversions. At first I tried to use @Type, but because I'm using a custom converter to serialize/deserialize a Map to/from JSON, I couldn't apply a @Type annotation. Turns out I just needed to specify columnDefinition = \"json\" in my @Column annotation.</p>\n\n<pre><code>@Convert(converter = HashMapConverter.class)\n@Column(name = \"extra_fields\", columnDefinition = \"json\")\nprivate Map&lt;String, String&gt; extraFields;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8078281,"reputation":19,"user_id":6088467,"display_name":"A. Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616139064,"creation_date":1616139064,"answer_id":66704102,"question_id":15974474,"body_markdown":"All the above solution did not work for me. Finally I made use of native queries to insert the data. \r\n\r\nStep -1 Create an abstract class AbstractEntity which will implements Persistable&lt;long&gt;\r\nwith annotation @MappedSuperclass (part of javax.persistence)\r\nStep -2 In this class create your sequence generator because you can not generate a sequencer with the native queries. @Id @GeneratedValues @Column private Long seqid;\r\n\r\nDont forget - Your entity class should extends your abstract class. (helping your sequence to work as well it may works on date as well(check for date i am not sure))\r\n\r\nStep- 3 In repo interface write the native query. \r\n\r\nvalue=&quot;INSERT INTO table(?,?)values(:?,:cast(:jsonString as json))&quot;,nativeQuery=true\r\n\r\nStep - 4 This will convert your java string object to json and insert/store in database and also you will be able to increment the sequence on each insertion as well.\r\n\r\nI got casting error when I worked using converter. Also type-52 personally I avoided to use that in my project. \r\nPlease upvote my ans if it works for you guys.\r\n","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>All the above solution did not work for me. Finally I made use of native queries to insert the data.</p>\n<p>Step -1 Create an abstract class AbstractEntity which will implements Persistable\nwith annotation @MappedSuperclass (part of javax.persistence)\nStep -2 In this class create your sequence generator because you can not generate a sequencer with the native queries. @Id @GeneratedValues @Column private Long seqid;</p>\n<p>Dont forget - Your entity class should extends your abstract class. (helping your sequence to work as well it may works on date as well(check for date i am not sure))</p>\n<p>Step- 3 In repo interface write the native query.</p>\n<p>value=&quot;INSERT INTO table(?,?)values(:?,:cast(:jsonString as json))&quot;,nativeQuery=true</p>\n<p>Step - 4 This will convert your java string object to json and insert/store in database and also you will be able to increment the sequence on each insertion as well.</p>\n<p>I got casting error when I worked using converter. Also type-52 personally I avoided to use that in my project.\nPlease upvote my ans if it works for you guys.</p>\n"},{"tags":[],"owner":{"account_id":1153502,"reputation":1700,"user_id":1134715,"display_name":"Joe Seff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621403954,"creation_date":1621403954,"answer_id":67597716,"question_id":15974474,"body_markdown":"I ran into this issue when I migrated my projects from MySQL 8.0.21 to Postgres 13. My project uses Spring boot with the Hibernate types dependency version 2.7.1. In my case the solution was simple.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAll I needed to do was change that and it worked. \r\n\r\nReferenced from the [Hibernate Types Documentation page][2]. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z2rBO.png\r\n  [2]: https://github.com/vladmihalcea/hibernate-types","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>I ran into this issue when I migrated my projects from MySQL 8.0.21 to Postgres 13. My project uses Spring boot with the Hibernate types dependency version 2.7.1. In my case the solution was simple.\n<a href=\"https://i.stack.imgur.com/Z2rBO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2rBO.png\" alt=\"enter image description here\" /></a></p>\n<p>All I needed to do was change that and it worked.</p>\n<p>Referenced from the <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">Hibernate Types Documentation page</a>.</p>\n"},{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669818372,"creation_date":1669818372,"answer_id":74629362,"question_id":15974474,"body_markdown":"I encountered the `column &quot;roles&quot; is of type json but expression is of type character varying` exception with the following entity with Postgres:  \r\n```java\r\n@Entity\r\n@TypeDefs(@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class))\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@EqualsAndHashCode(of = &quot;extId&quot;)\r\npublic class ManualTaskUser {\r\n\r\n    @Id\r\n    private String extId;\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;json&quot;)\r\n    private Set&lt;Role&gt; roles;\r\n\r\n}\r\n```\r\nIt should be mentioned that `Role` is an enum and not a POJO.  \r\n\r\nIn the generated SQL I could see that the Set was correctly serialized like this: `[&quot;SYSTEM&quot;,&quot;JOURNEY&quot;,&quot;ADMIN&quot;,&quot;OBJECTION&quot;,&quot;DEVOPS&quot;,&quot;ASSESSMENT&quot;]`.\r\n\r\nChanging the `typeClass` in the `TypeDef` annotation from `JsonStringType` to `JsonBinaryType` solved the problem! Thanks to [Joseph Waweru][1] for the hint!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67597716/5151202","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>I encountered the <code>column &quot;roles&quot; is of type json but expression is of type character varying</code> exception with the following entity with Postgres:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@TypeDefs(@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType.class))\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@EqualsAndHashCode(of = &quot;extId&quot;)\npublic class ManualTaskUser {\n\n    @Id\n    private String extId;\n\n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;)\n    private Set&lt;Role&gt; roles;\n\n}\n</code></pre>\n<p>It should be mentioned that <code>Role</code> is an enum and not a POJO.</p>\n<p>In the generated SQL I could see that the Set was correctly serialized like this: <code>[&quot;SYSTEM&quot;,&quot;JOURNEY&quot;,&quot;ADMIN&quot;,&quot;OBJECTION&quot;,&quot;DEVOPS&quot;,&quot;ASSESSMENT&quot;]</code>.</p>\n<p>Changing the <code>typeClass</code> in the <code>TypeDef</code> annotation from <code>JsonStringType</code> to <code>JsonBinaryType</code> solved the problem! Thanks to <a href=\"https://stackoverflow.com/a/67597716/5151202\">Joseph Waweru</a> for the hint!</p>\n"},{"tags":[],"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696520736,"creation_date":1696520736,"answer_id":77238667,"question_id":15974474,"body_markdown":"\r\n\r\nUse hibernate-specific annotations `JdbcTypeCode` and `SqlType`:\r\n\r\n    import org.hibername.annotations.JdbcTypeCode;\r\n    import org.hibername.type.SqlType;\r\n    import jakarta.persistence.Entity;\r\n\r\n    @Entity\r\n    public class MyEntity {\r\n\r\n        @JdbcTypeCode(SqlTypes.JSON)\r\n        private List&lt;String&gt; myJsonArray;\r\n\r\n        @JdbcTypeCode(SqlTypes.JSON)\r\n        private Map&lt;String, String&gt; myJsonObject;\r\n\r\n        public MyEntity() {\r\n        }\r\n    }","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>Use hibernate-specific annotations <code>JdbcTypeCode</code> and <code>SqlType</code>:</p>\n<pre><code>import org.hibername.annotations.JdbcTypeCode;\nimport org.hibername.type.SqlType;\nimport jakarta.persistence.Entity;\n\n@Entity\npublic class MyEntity {\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    private List&lt;String&gt; myJsonArray;\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    private Map&lt;String, String&gt; myJsonObject;\n\n    public MyEntity() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":146254,"reputation":17399,"user_id":356594,"accept_rate":64,"display_name":"&#220;mit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133907,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":15983429,"answer_count":12,"score":93,"last_activity_date":1696520736,"creation_date":1365778217,"question_id":15974474,"body_markdown":"I have a table with a column of type JSON in my PostgreSQL DB (9.2). I have a hard time to map this column to a JPA2 Entity field type. \r\n\r\nI tried to use String but when I save the entity I get an exception that it can&#39;t convert character varying to JSON. \r\n\r\nWhat is the correct value type to use when dealing with a JSON column?\r\n\r\n    @Entity\r\n    public class MyEntity {\r\n    \r\n        private String jsonPayload; // this maps to a json column\r\n    \r\n        public MyEntity() {\r\n        }\r\n    }\r\n\r\nA simple workaround would be to define a text column. ","title":"Mapping PostgreSQL JSON column to a Hibernate entity property","body":"<p>I have a table with a column of type JSON in my PostgreSQL DB (9.2). I have a hard time to map this column to a JPA2 Entity field type. </p>\n\n<p>I tried to use String but when I save the entity I get an exception that it can't convert character varying to JSON. </p>\n\n<p>What is the correct value type to use when dealing with a JSON column?</p>\n\n<pre><code>@Entity\npublic class MyEntity {\n\n    private String jsonPayload; // this maps to a json column\n\n    public MyEntity() {\n    }\n}\n</code></pre>\n\n<p>A simple workaround would be to define a text column. </p>\n"},{"tags":["java","audio","ioexception"],"answers":[{"tags":[],"owner":{"display_name":"anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394642937,"creation_date":1301836230,"answer_id":5529771,"question_id":5529754,"body_markdown":"The problem is that you&#39;re input stream has to support the methods mark and reset. At least if mark is supported you can test with: [AudioInputStream#markSupported][1].\r\n\r\nSo you should maybe use a different InputStream.\r\n\r\n\r\n  [1]: \r\nhttp://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioInputStream.html#markSupported%28%29","title":"java.io.IOException: mark/reset not supported","body":"<p>The problem is that you're input stream has to support the methods mark and reset. At least if mark is supported you can test with: <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioInputStream.html#markSupported%28%29\" rel=\"nofollow\">AudioInputStream#markSupported</a>.</p>\n\n<p>So you should maybe use a different InputStream.</p>\n"},{"comments":[{"owner":{"account_id":318065,"reputation":903,"user_id":635079,"display_name":"Crais"},"score":5,"creation_date":1301843117,"post_id":5529906,"comment_id":6283241,"body_markdown":"Ty, this worked. I modified the code like this:  \n\n`BufferedInputStream myStream = new BufferedInputStream(getClass().getResourceAsStream(&quot;mySound.au&quot;));\n\nAudioInputStream audio2 = AudioSystem.getAudioInputStream(myStream);`\n\n  And now it works =)\nP.S. if someone could format this comment it would be great =/","body":"Ty, this worked. I modified the code like this:    <code>BufferedInputStream myStream = new BufferedInputStream(getClass().getResourceAsStream(&quot;mySound.&zwnj;&#8203;au&quot;));  AudioInputStream audio2 = AudioSystem.getAudioInputStream(myStream);</code>    And now it works =) P.S. if someone could format this comment it would be great =/"},{"owner":{"account_id":67867,"reputation":7492,"user_id":198348,"accept_rate":50,"display_name":"Ehtesh Choudhury"},"score":0,"creation_date":1312315732,"post_id":5529906,"comment_id":8240496,"body_markdown":"Is that what mark/reset signifies? a stream that can be seeked?\n@McDowell, could you show the decorated code in your answer?","body":"Is that what mark/reset signifies? a stream that can be seeked? @McDowell, could you show the decorated code in your answer?"},{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1312356700,"post_id":5529906,"comment_id":8247575,"body_markdown":"@Shurane - mark/reset lets a stream &quot;unread&quot; data back to the mark point when reset is called (typically by buffering data in RAM from when mark is called.)","body":"@Shurane - mark/reset lets a stream &quot;unread&quot; data back to the mark point when reset is called (typically by buffering data in RAM from when mark is called.)"},{"owner":{"account_id":13703,"reputation":39973,"user_id":27678,"accept_rate":94,"display_name":"AndyG"},"score":4,"creation_date":1322442437,"post_id":5529906,"comment_id":10211446,"body_markdown":"Can&#39;t upvote this enough. Couldn&#39;t figure out why my audio wasn&#39;t loading properly from a file.\n\nSince I&#39;m loading from a file, it was easier for me to do this:\nFileInputStream fs = new FileInputStream(filename);\nBufferedInputStream myStream = new BufferedInputStream(fs); \nAudioInputStream audioInputStream = AudioSystem.getAudioInputStream(myStream);","body":"Can&#39;t upvote this enough. Couldn&#39;t figure out why my audio wasn&#39;t loading properly from a file.  Since I&#39;m loading from a file, it was easier for me to do this: FileInputStream fs = new FileInputStream(filename); BufferedInputStream myStream = new BufferedInputStream(fs);  AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(myStream);"},{"owner":{"account_id":1108884,"reputation":2920,"user_id":1099761,"accept_rate":86,"display_name":"Potney Switters"},"score":0,"creation_date":1344243474,"post_id":5529906,"comment_id":15720344,"body_markdown":"hey @SauceMaster I used this approach,because I am also trying to open a file,but still it does not compile. I am getting : &quot;java.io.IOException: Stream closed&quot;. It seems to behave this way when it faces bitrates of 320kbps while in 112 it works fine.","body":"hey @SauceMaster I used this approach,because I am also trying to open a file,but still it does not compile. I am getting : &quot;java.io.IOException: Stream closed&quot;. It seems to behave this way when it faces bitrates of 320kbps while in 112 it works fine."},{"owner":{"account_id":13703,"reputation":39973,"user_id":27678,"accept_rate":94,"display_name":"AndyG"},"score":0,"creation_date":1344452500,"post_id":5529906,"comment_id":15793452,"body_markdown":"@PotneySwitters I&#39;m afraid I can&#39;t levy a good guess based on what you&#39;ve said. Perhaps you could open a question here with some code and more explanation?","body":"@PotneySwitters I&#39;m afraid I can&#39;t levy a good guess based on what you&#39;ve said. Perhaps you could open a question here with some code and more explanation?"},{"owner":{"account_id":1108884,"reputation":2920,"user_id":1099761,"accept_rate":86,"display_name":"Potney Switters"},"score":0,"creation_date":1344503385,"post_id":5529906,"comment_id":15807644,"body_markdown":"@SauceMaster, thanks for the reply. I gave up this approach because I couldnot get around this exception. I just convert everything to 112kbps and take it from there.","body":"@SauceMaster, thanks for the reply. I gave up this approach because I couldnot get around this exception. I just convert everything to 112kbps and take it from there."},{"owner":{"account_id":3541397,"reputation":373,"user_id":2958399,"accept_rate":75,"display_name":"Sip"},"score":0,"creation_date":1524481464,"post_id":5529906,"comment_id":86974998,"body_markdown":"This solved the exception but now I am getting a &quot;javax.sound.sampled.UnsupportedAudioFileException: file is not a supported file type&quot; with a 16khz wav-file. Not sure if this has to do with the BufferedInputStream","body":"This solved the exception but now I am getting a &quot;javax.sound.sampled.UnsupportedAudioFileException: file is not a supported file type&quot; with a 16khz wav-file. Not sure if this has to do with the BufferedInputStream"}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":8,"down_vote_count":0,"up_vote_count":173,"is_accepted":true,"score":173,"last_activity_date":1312356907,"creation_date":1301837822,"answer_id":5529906,"question_id":5529754,"body_markdown":"The documentation for [`AudioSystem.getAudioInputStream(InputStream)`][1] says:\r\n\r\n&gt; The implementation of this method may\r\n&gt; require multiple parsers to examine\r\n&gt; the stream to determine whether they\r\n&gt; support it. These parsers must be able\r\n&gt; to mark the stream, read enough data\r\n&gt; to determine whether they support the\r\n&gt; stream, and, if not, reset the\r\n&gt; stream&#39;s read pointer to its original\r\n&gt; position. If the input stream does not\r\n&gt; support these operation, this method\r\n&gt; may fail with an IOException.\r\n\r\nTherefore, the stream you provide to this method must support the optional [mark/reset][2] functionality. Decorate your resource stream with a [`BufferedInputStream`][3].\r\n\r\n    //read audio data from whatever source (file/classloader/etc.)\r\n    InputStream audioSrc = getClass().getResourceAsStream(&quot;mySound.au&quot;);\r\n    //add buffer for mark/reset support\r\n    InputStream bufferedIn = new BufferedInputStream(audioSrc);\r\n    AudioInputStream audioStream = AudioSystem.getAudioInputStream(bufferedIn);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream%28java.io.InputStream%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html#markSupported%28%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/io/BufferedInputStream.html","title":"java.io.IOException: mark/reset not supported","body":"<p>The documentation for <a href=\"http://download.oracle.com/javase/6/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream%28java.io.InputStream%29\"><code>AudioSystem.getAudioInputStream(InputStream)</code></a> says:</p>\n\n<blockquote>\n  <p>The implementation of this method may\n  require multiple parsers to examine\n  the stream to determine whether they\n  support it. These parsers must be able\n  to mark the stream, read enough data\n  to determine whether they support the\n  stream, and, if not, reset the\n  stream's read pointer to its original\n  position. If the input stream does not\n  support these operation, this method\n  may fail with an IOException.</p>\n</blockquote>\n\n<p>Therefore, the stream you provide to this method must support the optional <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html#markSupported%28%29\">mark/reset</a> functionality. Decorate your resource stream with a <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/BufferedInputStream.html\"><code>BufferedInputStream</code></a>.</p>\n\n<pre><code>//read audio data from whatever source (file/classloader/etc.)\nInputStream audioSrc = getClass().getResourceAsStream(\"mySound.au\");\n//add buffer for mark/reset support\nInputStream bufferedIn = new BufferedInputStream(audioSrc);\nAudioInputStream audioStream = AudioSystem.getAudioInputStream(bufferedIn);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2565066,"reputation":533,"user_id":2225373,"display_name":"Daisy Holton"},"score":0,"creation_date":1396053492,"post_id":8299175,"comment_id":34634159,"body_markdown":"The other solutions here didn&#39;t work for my problem, but this one did! Thanks!","body":"The other solutions here didn&#39;t work for my problem, but this one did! Thanks!"}],"tags":[],"owner":{"account_id":13703,"reputation":39973,"user_id":27678,"accept_rate":94,"display_name":"AndyG"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1322498582,"creation_date":1322498582,"answer_id":8299175,"question_id":5529754,"body_markdown":"After floundering about for a while and referencing this page many times, I stumbled across [this][1] which helped me with my problem. I was initially able to load a wav file, but subsequently only could play it once, because it could not rewind it due to the &quot;mark/reset not supported&quot; error. It was maddening. \r\n\r\n\r\n  [1]: http://www.cs.unc.edu/~luv/teaching/COMP110/programs/AudioPlayer.java &quot;this&quot;\r\n\r\nThe linked code reads an AudioInputStream from a file, then puts the AudioInputStream into a BufferedInputStream, then puts *that* back into the AudioInputStream like so:\r\n\r\n    audioInputStream = AudioSystem.getAudioInputStream(new File(filename));\r\n    BufferedInputStream bufferedInputStream = new BufferedInputStream(audioInputStream);\r\n    audioInputStream = new AudioInputStream(bufferedInputStream, audioInputStream.getFormat(), audioInputStream.getFrameLength());\r\n\r\nAnd then finally it converts the read data to a PCM encoding:\r\n\r\n    audioInputStream = convertToPCM(audioInputStream);\r\n\r\nWith convertToPCM defined as:\r\n\r\n    private static AudioInputStream convertToPCM(AudioInputStream audioInputStream)\r\n        {\r\n            AudioFormat m_format = audioInputStream.getFormat();\r\n    \r\n            if ((m_format.getEncoding() != AudioFormat.Encoding.PCM_SIGNED) &amp;&amp;\r\n                (m_format.getEncoding() != AudioFormat.Encoding.PCM_UNSIGNED))\r\n            {\r\n                AudioFormat targetFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED,\r\n                    m_format.getSampleRate(), 16,\r\n                    m_format.getChannels(), m_format.getChannels() * 2,\r\n                    m_format.getSampleRate(), m_format.isBigEndian());\r\n                audioInputStream = AudioSystem.getAudioInputStream(targetFormat, audioInputStream);\r\n        }\r\n\r\n        return audioInputStream;\r\n    }\r\n\r\n\r\nI believe they do this because BufferedInputStream handles mark/reset better than audioInputStream. Hope this helps somebody out there.","title":"java.io.IOException: mark/reset not supported","body":"<p>After floundering about for a while and referencing this page many times, I stumbled across <a href=\"http://www.cs.unc.edu/~luv/teaching/COMP110/programs/AudioPlayer.java\" rel=\"noreferrer\" title=\"this\">this</a> which helped me with my problem. I was initially able to load a wav file, but subsequently only could play it once, because it could not rewind it due to the \"mark/reset not supported\" error. It was maddening. </p>\n\n<p>The linked code reads an AudioInputStream from a file, then puts the AudioInputStream into a BufferedInputStream, then puts <em>that</em> back into the AudioInputStream like so:</p>\n\n<pre><code>audioInputStream = AudioSystem.getAudioInputStream(new File(filename));\nBufferedInputStream bufferedInputStream = new BufferedInputStream(audioInputStream);\naudioInputStream = new AudioInputStream(bufferedInputStream, audioInputStream.getFormat(), audioInputStream.getFrameLength());\n</code></pre>\n\n<p>And then finally it converts the read data to a PCM encoding:</p>\n\n<pre><code>audioInputStream = convertToPCM(audioInputStream);\n</code></pre>\n\n<p>With convertToPCM defined as:</p>\n\n<pre><code>private static AudioInputStream convertToPCM(AudioInputStream audioInputStream)\n    {\n        AudioFormat m_format = audioInputStream.getFormat();\n\n        if ((m_format.getEncoding() != AudioFormat.Encoding.PCM_SIGNED) &amp;&amp;\n            (m_format.getEncoding() != AudioFormat.Encoding.PCM_UNSIGNED))\n        {\n            AudioFormat targetFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED,\n                m_format.getSampleRate(), 16,\n                m_format.getChannels(), m_format.getChannels() * 2,\n                m_format.getSampleRate(), m_format.isBigEndian());\n            audioInputStream = AudioSystem.getAudioInputStream(targetFormat, audioInputStream);\n    }\n\n    return audioInputStream;\n}\n</code></pre>\n\n<p>I believe they do this because BufferedInputStream handles mark/reset better than audioInputStream. Hope this helps somebody out there.</p>\n"},{"comments":[{"owner":{"account_id":1108884,"reputation":2920,"user_id":1099761,"accept_rate":86,"display_name":"Potney Switters"},"score":1,"creation_date":1343915362,"post_id":9324190,"comment_id":15644062,"body_markdown":"Where can I get AudioMixer? I tried a link you had in a similar post, but it directs somewhere else.","body":"Where can I get AudioMixer? I tried a link you had in a similar post, but it directs somewhere else."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1650224037,"post_id":9324190,"comment_id":127061130,"body_markdown":"The mistaken reference to AudioMixer, a local class in one of my projects, has been edited out of the answer.","body":"The mistaken reference to AudioMixer, a local class in one of my projects, has been edited out of the answer."}],"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1650223641,"creation_date":1329462171,"answer_id":9324190,"question_id":5529754,"body_markdown":"Just came across this question from someone else with the same problem who referenced it. Looks like this issue arose with Java 7.\r\n\r\n[Oracle Bug database, #7095006][1]\r\n\r\nA test, executed when `InputStream` is the argument to the `getAudioInputStream()` method, is triggering the error. The existence of Mark/Reset capabilities in the audio resource file have no bearing on whether the `Clip` will load and play. Given that, there is no reason to prefer an `InputStream` as the argument, when a `URL` or `File` suffice.\r\n\r\nIf we substitute a `URL` as the argument, this needless test is not executed. Revising the OP code:\r\n\r\n    AudioInputStream ais = AudioSystem.getAudioInputStream(getClass().getResource(fileName));\r\n\r\nDetails can be seen in the API, in the description text for the two forms.\r\n[AudioSystem.getAudioInputStream(InputStream)][2]\r\n\r\n[AudioSystem.getAudioInputStream(URL)][3]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7095006\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.InputStream)\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)","title":"java.io.IOException: mark/reset not supported","body":"<p>Just came across this question from someone else with the same problem who referenced it. Looks like this issue arose with Java 7.</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7095006\" rel=\"nofollow noreferrer\">Oracle Bug database, #7095006</a></p>\n<p>A test, executed when <code>InputStream</code> is the argument to the <code>getAudioInputStream()</code> method, is triggering the error. The existence of Mark/Reset capabilities in the audio resource file have no bearing on whether the <code>Clip</code> will load and play. Given that, there is no reason to prefer an <code>InputStream</code> as the argument, when a <code>URL</code> or <code>File</code> suffice.</p>\n<p>If we substitute a <code>URL</code> as the argument, this needless test is not executed. Revising the OP code:</p>\n<pre><code>AudioInputStream ais = AudioSystem.getAudioInputStream(getClass().getResource(fileName));\n</code></pre>\n<p>Details can be seen in the API, in the description text for the two forms.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.InputStream)\" rel=\"nofollow noreferrer\">AudioSystem.getAudioInputStream(InputStream)</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)\" rel=\"nofollow noreferrer\">AudioSystem.getAudioInputStream(URL)</a></p>\n"},{"comments":[{"owner":{"account_id":21867978,"reputation":1657,"user_id":16157878,"display_name":"soundflix"},"score":0,"creation_date":1691704260,"post_id":76871910,"comment_id":135531447,"body_markdown":"Please [edit] your answer and clarify / explain what is changed and why.","body":"Please <a href=\"https://stackoverflow.com/posts/76871910/edit\">edit</a> your answer and clarify / explain what is changed and why."}],"tags":[],"owner":{"account_id":28672425,"reputation":1,"user_id":21955202,"display_name":"Codigo Patito"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691768210,"creation_date":1691625887,"answer_id":76871910,"question_id":5529754,"body_markdown":"I solved something similar and your code would look like this, it&#39;s up to you to try.\r\n\r\n```java\r\ntry {\r\n\tInputStream is = getClass().getResourceAsStream(&quot;mySound.au&quot;);\r\n\tBufferedInputStream bis = new BufferedInputStream(is);\r\n\tClip clip2 = AudioSystem.getClip();\r\n\tclip2.open(bis);\r\n\tclip2.start();\r\n} catch (UnsupportedAudioFileException uae) {\r\n\tSystem.out.println(uae);\r\n\tJOptionPane.showMessageDialog(null, uae.toString());\r\n} catch (IOException ioe) {\r\n\tSystem.out.println(&quot;Couldn&#39;t find it&quot;);\r\n\tJOptionPane.showMessageDialog(null, ioe.toString());\r\n} catch (LineUnavailableException lua) {\r\n\tSystem.out.println(lua);\r\n\tJOptionPane.showMessageDialog(null, lua.toString());\r\n}\r\n```","title":"java.io.IOException: mark/reset not supported","body":"<p>I solved something similar and your code would look like this, it's up to you to try.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    InputStream is = getClass().getResourceAsStream(&quot;mySound.au&quot;);\n    BufferedInputStream bis = new BufferedInputStream(is);\n    Clip clip2 = AudioSystem.getClip();\n    clip2.open(bis);\n    clip2.start();\n} catch (UnsupportedAudioFileException uae) {\n    System.out.println(uae);\n    JOptionPane.showMessageDialog(null, uae.toString());\n} catch (IOException ioe) {\n    System.out.println(&quot;Couldn't find it&quot;);\n    JOptionPane.showMessageDialog(null, ioe.toString());\n} catch (LineUnavailableException lua) {\n    System.out.println(lua);\n    JOptionPane.showMessageDialog(null, lua.toString());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1696807543,"post_id":77238621,"comment_id":136196610,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77238621/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1696807584,"post_id":77238621,"comment_id":136196615,"body_markdown":"OP is asking a specific question about _their_ code. How does dumping your completely different implementation here help?","body":"OP is asking a specific question about <i>their</i> code. How does dumping your completely different implementation here help?"},{"owner":{"account_id":27444698,"reputation":1,"user_id":20938714,"display_name":"Langdon"},"score":0,"creation_date":1696943231,"post_id":77238621,"comment_id":136214978,"body_markdown":"if someone asks &quot;How do I fly from Toronto to Hamilton&quot;, You respond &quot;take a cab instead&quot;.","body":"if someone asks &quot;How do I fly from Toronto to Hamilton&quot;, You respond &quot;take a cab instead&quot;."}],"tags":[],"owner":{"account_id":27444698,"reputation":1,"user_id":20938714,"display_name":"Langdon"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696520344,"creation_date":1696520344,"answer_id":77238621,"question_id":5529754,"body_markdown":"I have made a perfect sound manager.\r\nHere it is:\r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    \r\n    /*To play sound:\r\n    Sound sound = new Sound(&quot;filename.wav&quot;);\r\n    \r\n    sound.play();\r\n     */\r\n    \r\n    /**\r\n     * Handles playing, stopping, and looping of sounds for the game.\r\n     *\r\n     * @author Tyler Thomas\r\n     * @author Langdon Staab\r\n     * InputStream method from https://stackoverflow.com/questions/5529754/java-io-ioexception-mark-reset-not-supported\r\n     * It was posted by McDowell. THANK YOU SO MUCH.\r\n     */\r\n    \r\n    public class Sound {\r\n        Clip clip;\r\n    \r\n        public Sound(String filename) {\r\n            try (InputStream in = getClass().getResourceAsStream(filename)) {\r\n                InputStream bufferedIn = new BufferedInputStream(in);\r\n                try (AudioInputStream audioIn = AudioSystem.getAudioInputStream(bufferedIn)) {\r\n                    clip = AudioSystem.getClip();\r\n                    clip.open(audioIn);\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Malformed URL: &quot; + e);\r\n            } catch (UnsupportedAudioFileException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Unsupported Audio File: &quot; + e);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Input/Output Error: &quot; + e);\r\n            } catch (LineUnavailableException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Line Unavailable Exception Error: &quot; + e);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // play, stop, loop the sound clip\r\n        }\r\n    \r\n        public void play() {\r\n            clip.setFramePosition(0);  // Must always rewind!\r\n            clip.start();\r\n        }\r\n    \r\n        public void loop() {\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n        }\r\n    \r\n        public void stop() {\r\n            clip.stop();\r\n        }\r\n    \r\n        public boolean isPlaying() {\r\n            return clip.getMicrosecondLength() &gt; clip.getMicrosecondPosition();\r\n        }\r\n    }","title":"java.io.IOException: mark/reset not supported","body":"<p>I have made a perfect sound manager.\nHere it is:</p>\n<pre><code>import javax.sound.sampled.*;\nimport java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\n\n/*To play sound:\nSound sound = new Sound(&quot;filename.wav&quot;);\n\nsound.play();\n */\n\n/**\n * Handles playing, stopping, and looping of sounds for the game.\n *\n * @author Tyler Thomas\n * @author Langdon Staab\n * InputStream method from https://stackoverflow.com/questions/5529754/java-io-ioexception-mark-reset-not-supported\n * It was posted by McDowell. THANK YOU SO MUCH.\n */\n\npublic class Sound {\n    Clip clip;\n\n    public Sound(String filename) {\n        try (InputStream in = getClass().getResourceAsStream(filename)) {\n            InputStream bufferedIn = new BufferedInputStream(in);\n            try (AudioInputStream audioIn = AudioSystem.getAudioInputStream(bufferedIn)) {\n                clip = AudioSystem.getClip();\n                clip.open(audioIn);\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Malformed URL: &quot; + e);\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Unsupported Audio File: &quot; + e);\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Input/Output Error: &quot; + e);\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Line Unavailable Exception Error: &quot; + e);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // play, stop, loop the sound clip\n    }\n\n    public void play() {\n        clip.setFramePosition(0);  // Must always rewind!\n        clip.start();\n    }\n\n    public void loop() {\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n    }\n\n    public void stop() {\n        clip.stop();\n    }\n\n    public boolean isPlaying() {\n        return clip.getMicrosecondLength() &gt; clip.getMicrosecondPosition();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":318065,"reputation":903,"user_id":635079,"display_name":"Crais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79309,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":5529906,"answer_count":6,"score":89,"last_activity_date":1696520344,"creation_date":1301835981,"question_id":5529754,"body_markdown":"    try {\r\n        //String location = dir1.getCanonicalPath()+&quot;\\\\app_yamb_test1\\\\mySound.au&quot;;\r\n        //displayMessage(location);\r\n        AudioInputStream audio2 = AudioSystem.getAudioInputStream(getClass().getResourceAsStream(&quot;mySound.au&quot;));\r\n        Clip clip2 = AudioSystem.getClip();\r\n        clip2.open(audio2);\r\n        clip2.start();\r\n    } catch (UnsupportedAudioFileException uae) {\r\n        System.out.println(uae);\r\n        JOptionPane.showMessageDialog(null, uae.toString());\r\n    } catch (IOException ioe) {\r\n        System.out.println(&quot;Couldn&#39;t find it&quot;);\r\n        JOptionPane.showMessageDialog(null, ioe.toString());\r\n    } catch (LineUnavailableException lua) {\r\n        System.out.println(lua);\r\n        JOptionPane.showMessageDialog(null, lua.toString());\r\n    }\r\n\r\nThis code works fine when I run the application from netbeans. The sound plays and there are no exceptions. However, when I run it from the dist folder, the sound does not play and I get the `java.io.IOException: mark/reset not supported` in my message dialog.\r\n\r\nHow can I fix this?","title":"java.io.IOException: mark/reset not supported","body":"<pre><code>try {\n    //String location = dir1.getCanonicalPath()+\"\\\\app_yamb_test1\\\\mySound.au\";\n    //displayMessage(location);\n    AudioInputStream audio2 = AudioSystem.getAudioInputStream(getClass().getResourceAsStream(\"mySound.au\"));\n    Clip clip2 = AudioSystem.getClip();\n    clip2.open(audio2);\n    clip2.start();\n} catch (UnsupportedAudioFileException uae) {\n    System.out.println(uae);\n    JOptionPane.showMessageDialog(null, uae.toString());\n} catch (IOException ioe) {\n    System.out.println(\"Couldn't find it\");\n    JOptionPane.showMessageDialog(null, ioe.toString());\n} catch (LineUnavailableException lua) {\n    System.out.println(lua);\n    JOptionPane.showMessageDialog(null, lua.toString());\n}\n</code></pre>\n\n<p>This code works fine when I run the application from netbeans. The sound plays and there are no exceptions. However, when I run it from the dist folder, the sound does not play and I get the <code>java.io.IOException: mark/reset not supported</code> in my message dialog.</p>\n\n<p>How can I fix this?</p>\n"},{"tags":["java","android","vlc","libvlc"],"answers":[{"tags":[],"owner":{"account_id":27083246,"reputation":21,"user_id":20632139,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696519755,"creation_date":1696519755,"answer_id":77238546,"question_id":77155456,"body_markdown":"I have noticed that the 3rd verion of VLC works so much better than the 4th. You can try installing different versions and comparing. &#128521;","title":"Find the best option to minimize the lag of libVLC Android app java","body":"<p>I have noticed that the 3rd verion of VLC works so much better than the 4th. You can try installing different versions and comparing. 😉</p>\n"}],"owner":{"account_id":22802274,"reputation":1,"user_id":16954774,"display_name":"Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696519755,"creation_date":1695366115,"question_id":77155456,"body_markdown":"Viewing a rtsp stream on my libVLC, I get 1s of delay.\r\nI tried to use all the possible options to be set in libVLC I could find to reduce the delay.\r\n\r\n\r\nI have a rtsp server on my host machine that streams in RTSP with the following code\r\n\r\n`/v4l2rtspserver/v4l2rtspserver -W 320 -H 240 -F 30 -P 8554 $mycam\r\n`\r\nthat outputs that:\r\n```\r\n[NOTICE] /v4l2rtspserver/main.cpp:269\r\n\tVersion: 0.3.6-3-g233b631 live555 version:2022.10.01\r\n[NOTICE] /v4l2rtspserver/src/V4l2RTSPServer.cpp:37\r\n\tCreate V4L2 Source.../dev/video0\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:133\r\n\tdriver:uvcvideo capabilities:84200001 mandatory:4000001\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:136\r\n\t/dev/video0 support capture\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:139\r\n\t/dev/video0 support streaming\r\n[ERROR] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:212\r\n\t/dev/video0: Cannot set pixelformat to:H264 format is:YUYV\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:225\r\n\t/dev/video0:MJPG size:320x240 bufferSize:153600\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:246\r\n\tfps:1/30\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:247\r\n\tnbBuffer:0\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2MmapDevice.cpp:49\r\n\tDevice /dev/video0\r\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2MmapDevice.cpp:73\r\n\tDevice /dev/video0 nb buffer:10\r\n[NOTICE] /v4l2rtspserver/src/V4l2RTSPServer.cpp:62\r\n\tCreate Source .../dev/video0\r\n[NOTICE] /v4l2rtspserver/inc/BaseServerMediaSubsession.h:49\r\n\tformat:video/JPEG\r\n[NOTICE] /v4l2rtspserver/inc/V4l2RTSPServer.h:234\r\n\tPlay this stream using the URL &quot;rtsp://XXXXXXX:8554/unicast&quot;\r\n[NOTICE] /v4l2rtspserver/src/V4L2DeviceSource.cpp:96\r\nhandleCmd_SETUP:SETUP rtsp://192.168.5.1:8554/unicast/track1 RTSP/1.0\r\nCSeq: 4\r\nUser-Agent: LibVLC/4.0.0-dev (LIVE555 Streaming Media v2022.07.14)\r\nTransport: RTP/AVP;unicast;client_port=57666-57667\r\n```\r\n\r\n            \r\n```\r\nString rtspStreamUrl;\r\n            Resources res = getResources();\r\n\r\n            rtspStreamUrl = preferences.getString(&quot;rtspStreamUrl&quot;, getResources().getString(R.string.Default_RtspStreamUrl)) ;\r\n            ///\r\n            ArrayList&lt;String&gt; options = new ArrayList&lt;&gt;();\r\n            options.add(&quot;-vvv&quot;);\r\n            options.add(&quot;--low-delay&quot;);\r\n            options.add(&quot;--network-caching=100&quot;);\r\n            //options.add(&quot;--file-caching=100&quot;);\r\n            //options.add(&quot;--sub-track=0&quot;);\r\n            //options.add(&quot;--rtsp-tcp&quot;);\r\n\r\n            LibVLC libVLC = new LibVLC(this, options);\r\n\r\n            // VLC&#39;s MediaPlayer\r\n            org.videolan.libvlc.MediaPlayer vlcMediaPlayer = new org.videolan.libvlc.MediaPlayer(libVLC);\r\n\r\n            SurfaceView surfaceView = findViewById(R.id.surface_view);\r\n            FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.MATCH_PARENT);\r\n            surfaceView.setLayoutParams(params);\r\n\r\n            vlcMediaPlayer.getVLCVout().setVideoView(surfaceView);\r\n            vlcMediaPlayer.getVLCVout().attachViews();\r\n\r\n            Media media = new Media(libVLC, Uri.parse(rtspStreamUrl));\r\n\r\n            ///\r\n            media.setHWDecoderEnabled(true, true);\r\n            media.addOption(&quot;:network-caching=250&quot;);//golden was 250\r\n            media.addOption(&quot;:clock-jitter=0&quot;);//golden was 0\r\n            media.addOption(&quot;:clock-synchro=0&quot;);\r\n            media.addOption(&quot;:no-dr&quot;);\r\n            media.addOption(&quot;:drop-late-frames&quot;);\r\n            media.addOption(&quot;:skip-frames&quot;);\r\n            media.addOption(&quot;:live-caching=50&quot;);  // for example, to set it to 50ms\r\n            ///\r\n\r\n            vlcMediaPlayer.setMedia(media);\r\n            media.release();\r\n\r\n            DisplayMetrics metrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(metrics);\r\n            int screenHeight = metrics.heightPixels;\r\n            int screenWidth = metrics.widthPixels;\r\n\r\n            vlcMediaPlayer.getVLCVout().setWindowSize(screenWidth, screenHeight);  // This sets the dimensions VLC will use\r\n            vlcMediaPlayer.setAspectRatio(&quot;16:9&quot;);  // or whatever aspect ratio you want, e.g., &quot;4:3&quot;\r\n\r\n            vlcMediaPlayer.play();\r\n```\r\nI have this version of the lib:\r\n`implementation &#39;org.videolan.android:libvlc-all:4.0.0-eap11&#39;\r\n`Any brilliant idea on how to debug this, or what to change to reduce the delay?\r\n\r\nI tried to visualize the stream on a separate client on the same devide (Qgroundcontrol) and I have no visible delay.\r\n\r\nEDIT:\r\nIt turns out that remove the -F frame rate options from the server decreases the delay but it is still pretty big, around 600ms\r\n","title":"Find the best option to minimize the lag of libVLC Android app java","body":"<p>Viewing a rtsp stream on my libVLC, I get 1s of delay.\nI tried to use all the possible options to be set in libVLC I could find to reduce the delay.</p>\n<p>I have a rtsp server on my host machine that streams in RTSP with the following code</p>\n<p><code>/v4l2rtspserver/v4l2rtspserver -W 320 -H 240 -F 30 -P 8554 $mycam </code>\nthat outputs that:</p>\n<pre><code>[NOTICE] /v4l2rtspserver/main.cpp:269\n    Version: 0.3.6-3-g233b631 live555 version:2022.10.01\n[NOTICE] /v4l2rtspserver/src/V4l2RTSPServer.cpp:37\n    Create V4L2 Source.../dev/video0\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:133\n    driver:uvcvideo capabilities:84200001 mandatory:4000001\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:136\n    /dev/video0 support capture\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:139\n    /dev/video0 support streaming\n[ERROR] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:212\n    /dev/video0: Cannot set pixelformat to:H264 format is:YUYV\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:225\n    /dev/video0:MJPG size:320x240 bufferSize:153600\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:246\n    fps:1/30\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2Device.cpp:247\n    nbBuffer:0\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2MmapDevice.cpp:49\n    Device /dev/video0\n[NOTICE] /v4l2rtspserver/libv4l2cpp/src/V4l2MmapDevice.cpp:73\n    Device /dev/video0 nb buffer:10\n[NOTICE] /v4l2rtspserver/src/V4l2RTSPServer.cpp:62\n    Create Source .../dev/video0\n[NOTICE] /v4l2rtspserver/inc/BaseServerMediaSubsession.h:49\n    format:video/JPEG\n[NOTICE] /v4l2rtspserver/inc/V4l2RTSPServer.h:234\n    Play this stream using the URL &quot;rtsp://XXXXXXX:8554/unicast&quot;\n[NOTICE] /v4l2rtspserver/src/V4L2DeviceSource.cpp:96\nhandleCmd_SETUP:SETUP rtsp://192.168.5.1:8554/unicast/track1 RTSP/1.0\nCSeq: 4\nUser-Agent: LibVLC/4.0.0-dev (LIVE555 Streaming Media v2022.07.14)\nTransport: RTP/AVP;unicast;client_port=57666-57667\n</code></pre>\n<pre><code>String rtspStreamUrl;\n            Resources res = getResources();\n\n            rtspStreamUrl = preferences.getString(&quot;rtspStreamUrl&quot;, getResources().getString(R.string.Default_RtspStreamUrl)) ;\n            ///\n            ArrayList&lt;String&gt; options = new ArrayList&lt;&gt;();\n            options.add(&quot;-vvv&quot;);\n            options.add(&quot;--low-delay&quot;);\n            options.add(&quot;--network-caching=100&quot;);\n            //options.add(&quot;--file-caching=100&quot;);\n            //options.add(&quot;--sub-track=0&quot;);\n            //options.add(&quot;--rtsp-tcp&quot;);\n\n            LibVLC libVLC = new LibVLC(this, options);\n\n            // VLC's MediaPlayer\n            org.videolan.libvlc.MediaPlayer vlcMediaPlayer = new org.videolan.libvlc.MediaPlayer(libVLC);\n\n            SurfaceView surfaceView = findViewById(R.id.surface_view);\n            FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.MATCH_PARENT);\n            surfaceView.setLayoutParams(params);\n\n            vlcMediaPlayer.getVLCVout().setVideoView(surfaceView);\n            vlcMediaPlayer.getVLCVout().attachViews();\n\n            Media media = new Media(libVLC, Uri.parse(rtspStreamUrl));\n\n            ///\n            media.setHWDecoderEnabled(true, true);\n            media.addOption(&quot;:network-caching=250&quot;);//golden was 250\n            media.addOption(&quot;:clock-jitter=0&quot;);//golden was 0\n            media.addOption(&quot;:clock-synchro=0&quot;);\n            media.addOption(&quot;:no-dr&quot;);\n            media.addOption(&quot;:drop-late-frames&quot;);\n            media.addOption(&quot;:skip-frames&quot;);\n            media.addOption(&quot;:live-caching=50&quot;);  // for example, to set it to 50ms\n            ///\n\n            vlcMediaPlayer.setMedia(media);\n            media.release();\n\n            DisplayMetrics metrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(metrics);\n            int screenHeight = metrics.heightPixels;\n            int screenWidth = metrics.widthPixels;\n\n            vlcMediaPlayer.getVLCVout().setWindowSize(screenWidth, screenHeight);  // This sets the dimensions VLC will use\n            vlcMediaPlayer.setAspectRatio(&quot;16:9&quot;);  // or whatever aspect ratio you want, e.g., &quot;4:3&quot;\n\n            vlcMediaPlayer.play();\n</code></pre>\n<p>I have this version of the lib:\n<code>implementation 'org.videolan.android:libvlc-all:4.0.0-eap11' </code>Any brilliant idea on how to debug this, or what to change to reduce the delay?</p>\n<p>I tried to visualize the stream on a separate client on the same devide (Qgroundcontrol) and I have no visible delay.</p>\n<p>EDIT:\nIt turns out that remove the -F frame rate options from the server decreases the delay but it is still pretty big, around 600ms</p>\n"},{"tags":["java","spring","netflix-eureka"],"owner":{"account_id":277550,"reputation":2448,"user_id":571616,"accept_rate":65,"display_name":"agarwal_achhnera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696519422,"creation_date":1696519422,"question_id":77238504,"body_markdown":"I am using netflix eureka server as discovery server. I want within 10 seconds if my client goes down, eureka server should detect it and should not return that instance as available service. Have tried below properties but nothing work. When I kill the client , it keep register till long time probalby 3-5 minute\r\n\r\n    eureka.instance.lease-expiration-duration-in-seconds=10\r\n    eureka.server.enable-self-preservation=false\r\n    eureka.server.response-cache-auto-expiration-in-seconds=10\r\n    eureka.server.renewal-percent-threshold=0.0\r\n\r\nPlease help my what could be the issue","title":"Eureka server taking long time to de-register the instance","body":"<p>I am using netflix eureka server as discovery server. I want within 10 seconds if my client goes down, eureka server should detect it and should not return that instance as available service. Have tried below properties but nothing work. When I kill the client , it keep register till long time probalby 3-5 minute</p>\n<pre><code>eureka.instance.lease-expiration-duration-in-seconds=10\neureka.server.enable-self-preservation=false\neureka.server.response-cache-auto-expiration-in-seconds=10\neureka.server.renewal-percent-threshold=0.0\n</code></pre>\n<p>Please help my what could be the issue</p>\n"},{"tags":["java","swing","jbutton","background-color"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1696276509,"post_id":77218050,"comment_id":136129974,"body_markdown":"I would look at making use of the `ButtonModel` and checking it&#39;s &quot;pressed&quot; state, [for example](https://stackoverflow.com/questions/20229499/change-color-jbutton-when-on-click-and-reset-after-not-clicking/20229754#20229754)","body":"I would look at making use of the <code>ButtonModel</code> and checking it&#39;s &quot;pressed&quot; state, <a href=\"https://stackoverflow.com/questions/20229499/change-color-jbutton-when-on-click-and-reset-after-not-clicking/20229754#20229754\">for example</a>"}],"answers":[{"comments":[{"owner":{"account_id":29564760,"reputation":1,"user_id":22658460,"display_name":"Piacular"},"score":0,"creation_date":1696359455,"post_id":77218763,"comment_id":136142010,"body_markdown":"Thank you for this - Moving the cursor off the button while holding the click didn&#39;t even occur to me. I had no idea the action was what was causing it.","body":"Thank you for this - Moving the cursor off the button while holding the click didn&#39;t even occur to me. I had no idea the action was what was causing it."}],"tags":[],"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696285409,"creation_date":1696285409,"answer_id":77218763,"question_id":77218050,"body_markdown":"The color is changed successfully, just it not shown. If you still held down the mouse but leave the button, you can see the changed color (which turns to red after release it). You have to disable the action (not the button):\r\n\r\n    addMouseListener(new MouseAdapter(){\r\n    @Override\r\n    public void mousePressed(MouseEvent e){\r\n       super.mousePressed(e);\r\n       setEnabled(false);\r\n       setBackground(onClickColor);\r\n    }\r\n    });","title":"Is there a method to set the background color of a JButton while it&#39;s pressed?","body":"<p>The color is changed successfully, just it not shown. If you still held down the mouse but leave the button, you can see the changed color (which turns to red after release it). You have to disable the action (not the button):</p>\n<pre><code>addMouseListener(new MouseAdapter(){\n@Override\npublic void mousePressed(MouseEvent e){\n   super.mousePressed(e);\n   setEnabled(false);\n   setBackground(onClickColor);\n}\n});\n</code></pre>\n"}],"owner":{"account_id":29564760,"reputation":1,"user_id":22658460,"display_name":"Piacular"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696519326,"creation_date":1696275032,"question_id":77218050,"body_markdown":"I have created a class which extends a `JButton`. While the button is held down, the background of the button becomes light blue. \r\n\r\nI&#39;ve seen related posts regarding buttons with transparency, and have been solved by using `setContentAreaFilled(false)`. But when I try that, the entire button background disappears.\r\n\r\nI want the `JButton` itself to be a certain color while not being clicked, and I only want the button to change color *while* the mouse is being held down over it. What I&#39;ve tried so far is the following:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class MyButton extends JButton {\r\n   private final Color defaultColor = Color.RED;\r\n   private final Color onClickColor = Color.BLUE;\r\n   private String text;\r\n   private String tier;\r\n\r\n   public MyButton(String text, String tier, JFrame f) {\r\n      this.text = text;\r\n      this.tier = tier;\r\n      //setContentAreaFilled(false); &lt;-- When this line is enabled, the button does not show at all and the background is fully transparent.\r\n      setBackground(defaultColor);\r\n      setForeground(Color.WHITE);\r\n      setBorderPainted(false);\r\n      setFocusPainted(false);\r\n      setText(text);\r\n\r\n      //mouse listener to change color of button while clicked\r\n      addMouseListener(new MouseAdapter() {\r\n         @Override\r\n         public void mousePressed(MouseEvent e) {\r\n            super.mousePressed(e);\r\n            setBackground(onClickColor);\r\n         }\r\n      });\r\n\r\n      //change button size based on tier parameter\r\n      if (tier.equals(&quot;Primary&quot;)) {\r\n         setSize(f.getWidth()-14, 40);\r\n      }\r\n\r\n      else if (tier.equals(&quot;Secondary&quot;)) {\r\n         setSize((text.length() * 10) + 10, 44);\r\n      }\r\n   }\r\n\r\n   public static void main(String[] args) {\r\n      //create frame\r\n      JFrame f = new JFrame(&quot;frame&quot;);\r\n      f.setSize(400, 200);\r\n      f.setLocationRelativeTo(null);\r\n      f.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n\r\n      //create panel\r\n      JPanel p = new JPanel();\r\n      p.setLayout(null);\r\n\r\n      //create button\r\n      MyButton b = new MyButton(&quot;TESTTEST&quot;, &quot;Primary&quot;, f);\r\n\r\n      //build frame, panel, button, set visible\r\n      p.add(b, BorderLayout.CENTER);\r\n      f.add(p, BorderLayout.CENTER);\r\n      f.setVisible(true);\r\n   }\r\n}\r\n```\r\n\r\n#### What I expected:\r\n\r\nWhen I run this code, I was expecting that the button should be red as default, then while the mouse is held down on the button, it would turn blue, but once released it would turn red again. \r\n\r\n#### What Actually Happens:\r\n\r\nHowever, what happens is while the mouse is held down on the button it turns the default highlighted &quot;light blue&quot; color, and only turns `Color.BLUE` once the button is released. When I enable the line that sets the content area filled to false and run, the button is completely transparent.\r\n\r\nAdding the following\r\n```java\r\n@Override\r\n   public void mouseReleased(MouseEvent e){\r\n      super.mouseReleased(e);\r\n      setBackground(defaultColor);\r\n      setFocusPainted(false);\r\n   }\r\n```\r\nwithin the MouseListener does make the button color turn back to red on release of the mouse, but the color while the button is clicked is still the default light blue instead of the actual `Color.BLUE` I thought it should be set to.\r\n\r\nI&#39;m sure that the answer is staring me in the face and should be fairly obvious, but I can&#39;t for the life of me recognize what I&#39;m doing wrong.","title":"Is there a method to set the background color of a JButton while it&#39;s pressed?","body":"<p>I have created a class which extends a <code>JButton</code>. While the button is held down, the background of the button becomes light blue.</p>\n<p>I've seen related posts regarding buttons with transparency, and have been solved by using <code>setContentAreaFilled(false)</code>. But when I try that, the entire button background disappears.</p>\n<p>I want the <code>JButton</code> itself to be a certain color while not being clicked, and I only want the button to change color <em>while</em> the mouse is being held down over it. What I've tried so far is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class MyButton extends JButton {\n   private final Color defaultColor = Color.RED;\n   private final Color onClickColor = Color.BLUE;\n   private String text;\n   private String tier;\n\n   public MyButton(String text, String tier, JFrame f) {\n      this.text = text;\n      this.tier = tier;\n      //setContentAreaFilled(false); &lt;-- When this line is enabled, the button does not show at all and the background is fully transparent.\n      setBackground(defaultColor);\n      setForeground(Color.WHITE);\n      setBorderPainted(false);\n      setFocusPainted(false);\n      setText(text);\n\n      //mouse listener to change color of button while clicked\n      addMouseListener(new MouseAdapter() {\n         @Override\n         public void mousePressed(MouseEvent e) {\n            super.mousePressed(e);\n            setBackground(onClickColor);\n         }\n      });\n\n      //change button size based on tier parameter\n      if (tier.equals(&quot;Primary&quot;)) {\n         setSize(f.getWidth()-14, 40);\n      }\n\n      else if (tier.equals(&quot;Secondary&quot;)) {\n         setSize((text.length() * 10) + 10, 44);\n      }\n   }\n\n   public static void main(String[] args) {\n      //create frame\n      JFrame f = new JFrame(&quot;frame&quot;);\n      f.setSize(400, 200);\n      f.setLocationRelativeTo(null);\n      f.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n\n      //create panel\n      JPanel p = new JPanel();\n      p.setLayout(null);\n\n      //create button\n      MyButton b = new MyButton(&quot;TESTTEST&quot;, &quot;Primary&quot;, f);\n\n      //build frame, panel, button, set visible\n      p.add(b, BorderLayout.CENTER);\n      f.add(p, BorderLayout.CENTER);\n      f.setVisible(true);\n   }\n}\n</code></pre>\n<h4>What I expected:</h4>\n<p>When I run this code, I was expecting that the button should be red as default, then while the mouse is held down on the button, it would turn blue, but once released it would turn red again.</p>\n<h4>What Actually Happens:</h4>\n<p>However, what happens is while the mouse is held down on the button it turns the default highlighted &quot;light blue&quot; color, and only turns <code>Color.BLUE</code> once the button is released. When I enable the line that sets the content area filled to false and run, the button is completely transparent.</p>\n<p>Adding the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n   public void mouseReleased(MouseEvent e){\n      super.mouseReleased(e);\n      setBackground(defaultColor);\n      setFocusPainted(false);\n   }\n</code></pre>\n<p>within the MouseListener does make the button color turn back to red on release of the mouse, but the color while the button is clicked is still the default light blue instead of the actual <code>Color.BLUE</code> I thought it should be set to.</p>\n<p>I'm sure that the answer is staring me in the face and should be fairly obvious, but I can't for the life of me recognize what I'm doing wrong.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":10350691,"reputation":907,"user_id":7634201,"display_name":"C. Weber"},"score":2,"creation_date":1601907036,"post_id":64209863,"comment_id":113543914,"body_markdown":"AFAIK you can name the part between find and By the way you want. Only exception to the rule would be the distinct key word. So findBriefUserEoByEmail and findFullUserEoByEmail should work i think.","body":"AFAIK you can name the part between find and By the way you want. Only exception to the rule would be the distinct key word. So findBriefUserEoByEmail and findFullUserEoByEmail should work i think."},{"owner":{"account_id":19448538,"reputation":189,"user_id":14225495,"display_name":"Gordon from Blumberg"},"score":0,"creation_date":1601907250,"post_id":64209863,"comment_id":113544035,"body_markdown":"Check out this answer: https://stackoverflow.com/a/54876656/14225495. It looks like you are looking for.","body":"Check out this answer: <a href=\"https://stackoverflow.com/a/54876656/14225495\">stackoverflow.com/a/54876656/14225495</a>. It looks like you are looking for."}],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1601911427,"creation_date":1601911427,"answer_id":64211566,"question_id":64209863,"body_markdown":"As comment suggests naming the methods correctly will not &quot;break Spring&quot;. You can have:\r\n\r\n    public interface Repository extends JpaRepository&lt;UserEo, Long&gt; {\r\n    \t@EntityGraph(value = UserEo.FULL, type = EntityGraph.EntityGraphType.LOAD)\r\n    \tpublic Optional&lt;UserEo&gt; findFullByEmail(String email);\r\n    \t@EntityGraph(value = UserEo.BRIEF, type = EntityGraph.EntityGraphType.LOAD)\r\n    \tpublic Optional&lt;UserEo&gt; findBriefByEmail(String email);\r\n    }\r\n\r\nOr maybe you want to break stuff in two repositories, like:\r\n\r\n    public interface RepositoryFull extends JpaRepository&lt;UserEo, Long&gt; {\r\n    \t@EntityGraph(value = UserEo.FULL, type = EntityGraph.EntityGraphType.LOAD)\r\n    \tpublic Optional&lt;UserEo&gt; findByEmail(String email);\r\n    }\r\n\r\nand\r\n\r\n    public interface RepositoryBrief extends JpaRepository&lt;UserEo, Long&gt; {\r\n    \t@EntityGraph(value = UserEo.BRIEF, type = EntityGraph.EntityGraphType.LOAD)\r\n    \tpublic Optional&lt;UserEo&gt; findByEmail(String email);\r\n    }\r\n","title":"Spring JPA data, multiple methods with same functionality","body":"<p>As comment suggests naming the methods correctly will not &quot;break Spring&quot;. You can have:</p>\n<pre><code>public interface Repository extends JpaRepository&lt;UserEo, Long&gt; {\n    @EntityGraph(value = UserEo.FULL, type = EntityGraph.EntityGraphType.LOAD)\n    public Optional&lt;UserEo&gt; findFullByEmail(String email);\n    @EntityGraph(value = UserEo.BRIEF, type = EntityGraph.EntityGraphType.LOAD)\n    public Optional&lt;UserEo&gt; findBriefByEmail(String email);\n}\n</code></pre>\n<p>Or maybe you want to break stuff in two repositories, like:</p>\n<pre><code>public interface RepositoryFull extends JpaRepository&lt;UserEo, Long&gt; {\n    @EntityGraph(value = UserEo.FULL, type = EntityGraph.EntityGraphType.LOAD)\n    public Optional&lt;UserEo&gt; findByEmail(String email);\n}\n</code></pre>\n<p>and</p>\n<pre><code>public interface RepositoryBrief extends JpaRepository&lt;UserEo, Long&gt; {\n    @EntityGraph(value = UserEo.BRIEF, type = EntityGraph.EntityGraphType.LOAD)\n    public Optional&lt;UserEo&gt; findByEmail(String email);\n}\n</code></pre>\n"}],"owner":{"account_id":110929,"reputation":8119,"user_id":293316,"accept_rate":62,"display_name":"Robus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64211566,"answer_count":1,"score":4,"last_activity_date":1696519054,"creation_date":1601905388,"question_id":64209863,"body_markdown":"I am using spring data jpa to interact with a database, however I&#39;ve come across a problem: I can&#39;t define the same method multiple times with different named entities.\r\n\r\nConsider:\r\n\r\n```   \r\nclass Repository {\r\n    @EntityGraph(value = UserEo.FULL, type = EntityGraph.EntityGraphType.LOAD)\r\n    public Optional&lt;UserEo&gt; findUserEoByEmail/*Full*/(String email);\r\n\r\n    @EntityGraph(value = UserEo.BRIEF, type = EntityGraph.EntityGraphType.LOAD)\r\n    public Optional&lt;UserEo&gt; findUserEoByEmail/*Brief*/(String email);\r\n}\r\n\r\n```\r\n\r\nI&#39;d like to have separate methods with different named graphs, but adding additional information to the name of the methods breaks spring. How can this be solved?","title":"Spring JPA data, multiple methods with same functionality","body":"<p>I am using spring data jpa to interact with a database, however I've come across a problem: I can't define the same method multiple times with different named entities.</p>\n<p>Consider:</p>\n<pre><code>class Repository {\n    @EntityGraph(value = UserEo.FULL, type = EntityGraph.EntityGraphType.LOAD)\n    public Optional&lt;UserEo&gt; findUserEoByEmail/*Full*/(String email);\n\n    @EntityGraph(value = UserEo.BRIEF, type = EntityGraph.EntityGraphType.LOAD)\n    public Optional&lt;UserEo&gt; findUserEoByEmail/*Brief*/(String email);\n}\n\n</code></pre>\n<p>I'd like to have separate methods with different named graphs, but adding additional information to the name of the methods breaks spring. How can this be solved?</p>\n"},{"tags":["java","apache-spark","pyspark","apache-kafka","apache-spark-sql"],"answers":[{"comments":[{"owner":{"account_id":13037765,"reputation":119,"user_id":10772128,"display_name":"Ivan"},"score":0,"creation_date":1660580332,"post_id":73362041,"comment_id":129560553,"body_markdown":"My spark version is 3.3.0, but when I look for kafka-clients.jar the most current version is 3.2.x. In this case, would not be a problem of incompatibility?","body":"My spark version is 3.3.0, but when I look for kafka-clients.jar the most current version is 3.2.x. In this case, would not be a problem of incompatibility?"},{"owner":{"account_id":13037765,"reputation":119,"user_id":10772128,"display_name":"Ivan"},"score":0,"creation_date":1660599080,"post_id":73362041,"comment_id":129565872,"body_markdown":"As I expected, your approach does not work. At least in this case.","body":"As I expected, your approach does not work. At least in this case."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660657893,"post_id":73362041,"comment_id":129580252,"body_markdown":"Version doesn&#39;t really matter. Kafka doesn&#39;t depend on Spark. Any version above Kafka 2.1.0 should work. Unclear what you tried, but you need to add it into `spark.jars.packages` line. It works fine https://github.com/OneCricketeer/docker-stacks/blob/master/hadoop-spark/spark-notebooks/kafka-sql.ipynb","body":"Version doesn&#39;t really matter. Kafka doesn&#39;t depend on Spark. Any version above Kafka 2.1.0 should work. Unclear what you tried, but you need to add it into <code>spark.jars.packages</code> line. It works fine <a href=\"https://github.com/OneCricketeer/docker-stacks/blob/master/hadoop-spark/spark-notebooks/kafka-sql.ipynb\" rel=\"nofollow noreferrer\">github.com/OneCricketeer/docker-stacks/blob/master/hadoop-sp&zwnj;&#8203;ark/&hellip;</a>"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660571890,"creation_date":1660571890,"answer_id":73362041,"question_id":73360680,"body_markdown":"You need `kafka-clients.jar` for the mentioned class.\r\n\r\nYou don&#39;t need Spark tests, sources or Javadoc in your Spark runtime.\r\n\r\nAlso, if you&#39;re trying to use Avro with a Schema Registry, then spark-avro isn&#39;t what you want. ","title":"java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/ByteArraySerializer for spark streaming","body":"<p>You need <code>kafka-clients.jar</code> for the mentioned class.</p>\n<p>You don't need Spark tests, sources or Javadoc in your Spark runtime.</p>\n<p>Also, if you're trying to use Avro with a Schema Registry, then spark-avro isn't what you want.</p>\n"}],"owner":{"account_id":13037765,"reputation":119,"user_id":10772128,"display_name":"Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73362041,"answer_count":1,"score":1,"last_activity_date":1696518651,"creation_date":1660564563,"question_id":73360680,"body_markdown":"I am trying to run a spark streaming application on Ubuntu, but I get some errors. For some reason Ubuntu 22.04 does not locate the jar files despite the fact the same configuration works on Windows.\r\n\r\nI run the following configuration in a script\r\n\r\n```\r\n    spark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;File Streaming PostgreSQL&quot;) \\\r\n        .master(&quot;local[3]&quot;) \\\r\n        .config(&quot;spark.streaming.stopGracefullyOnShutdown&quot;, &quot;true&quot;) \\\r\n        .config(&quot;spark.jars.packages&quot;, &quot;org.apache.spark:spark-avro_2.12:3.3.0,org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.0&quot;) \\\r\n        .config(&quot;spark.sql.shuffle.partitions&quot;, 2) \\\r\n        .getOrCreate()\r\n```\r\n\r\nin addition to that, I download and locate **all** the jar files for avro and sql in `/usr/local/spark/jars`\r\n\r\n - spark-sql-kafka-0-10_2.12-3.3.0.jar\r\n - spark-sql-kafka-0-10_2.12-3.3.0-tests.jar\r\n - spark-sql-kafka-0-10_2.12-3.3.0-javadoc.jar\r\n - spark-sql-kafka-0-10_2.12-3.3.0-sources.jar\r\n - spark-sql-kafka-0-10_2.12-3.3.0-test-sources.jar\r\n - spark-avro_2.12-3.3.0.jar\r\n - spark-avro_2.12-3.3.0-tests.jar\r\n - spark-avro_2.12-3.3.0-javadoc.jar\r\n - spark-avro_2.12-3.3.0-sources.jar\r\n - spark-avro_2.12-3.3.0-test-sources.jar\r\n\r\nmy spark version is 3.3.0 and scala version is 2.12.14 and OpenJDK 64-Bit Server VM, Java 11.0.16, but I get the following error \r\n\r\n```\r\nile &quot;/usr/local/spark/python/lib/py4j-0.10.9.5-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o39.load.\r\n: java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/ByteArraySerializer\r\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider$.&lt;init&gt;(KafkaSourceProvider.scala:601)\r\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider$.&lt;clinit&gt;(KafkaSourceProvider.scala)\r\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider.org$apache$spark$sql$kafka010$KafkaSourceProvider$$validateStreamOptions(KafkaSourceProvider.scala:338)\r\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider.sourceSchema(KafkaSourceProvider.scala:71)\r\n        at org.apache.spark.sql.execution.datasources.DataSource.sourceSchema(DataSource.scala:236)\r\n        at org.apache.spark.sql.execution.datasources.DataSource.sourceInfo$lzycompute(DataSource.scala:118)\r\n        at org.apache.spark.sql.execution.datasources.DataSource.sourceInfo(DataSource.scala:118)\r\n        at org.apache.spark.sql.execution.streaming.StreamingRelation$.apply(StreamingRelation.scala:34)\r\n        at org.apache.spark.sql.streaming.DataStreamReader.loadInternal(DataStreamReader.scala:168)\r\n        at org.apache.spark.sql.streaming.DataStreamReader.load(DataStreamReader.scala:144)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n        at py4j.Gateway.invoke(Gateway.java:282)\r\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.ByteArraySerializer\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 22 more\r\n```\r\n\r\nThis problem persists despite that I have the following configuration on `.bashrc`\r\n\r\n```\r\n#configuration for local Spark and Hadoop\r\nSPARK_HOME=/usr/local/spark-3.3.0-bin-hadoop3\r\nexport PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin\r\nexport PYSPARK_PYTHON=/usr/bin/python3\r\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n\r\nIt is important to notice that everything works fine on Windows, and other applications that do not make use of SQL injection and avro serialization work just fine on Ubuntu 22.04 as well.\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/ByteArraySerializer for spark streaming","body":"<p>I am trying to run a spark streaming application on Ubuntu, but I get some errors. For some reason Ubuntu 22.04 does not locate the jar files despite the fact the same configuration works on Windows.</p>\n<p>I run the following configuration in a script</p>\n<pre><code>    spark = SparkSession \\\n        .builder \\\n        .appName(&quot;File Streaming PostgreSQL&quot;) \\\n        .master(&quot;local[3]&quot;) \\\n        .config(&quot;spark.streaming.stopGracefullyOnShutdown&quot;, &quot;true&quot;) \\\n        .config(&quot;spark.jars.packages&quot;, &quot;org.apache.spark:spark-avro_2.12:3.3.0,org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.0&quot;) \\\n        .config(&quot;spark.sql.shuffle.partitions&quot;, 2) \\\n        .getOrCreate()\n</code></pre>\n<p>in addition to that, I download and locate <strong>all</strong> the jar files for avro and sql in <code>/usr/local/spark/jars</code></p>\n<ul>\n<li>spark-sql-kafka-0-10_2.12-3.3.0.jar</li>\n<li>spark-sql-kafka-0-10_2.12-3.3.0-tests.jar</li>\n<li>spark-sql-kafka-0-10_2.12-3.3.0-javadoc.jar</li>\n<li>spark-sql-kafka-0-10_2.12-3.3.0-sources.jar</li>\n<li>spark-sql-kafka-0-10_2.12-3.3.0-test-sources.jar</li>\n<li>spark-avro_2.12-3.3.0.jar</li>\n<li>spark-avro_2.12-3.3.0-tests.jar</li>\n<li>spark-avro_2.12-3.3.0-javadoc.jar</li>\n<li>spark-avro_2.12-3.3.0-sources.jar</li>\n<li>spark-avro_2.12-3.3.0-test-sources.jar</li>\n</ul>\n<p>my spark version is 3.3.0 and scala version is 2.12.14 and OpenJDK 64-Bit Server VM, Java 11.0.16, but I get the following error</p>\n<pre><code>ile &quot;/usr/local/spark/python/lib/py4j-0.10.9.5-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\npy4j.protocol.Py4JJavaError: An error occurred while calling o39.load.\n: java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/ByteArraySerializer\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider$.&lt;init&gt;(KafkaSourceProvider.scala:601)\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider$.&lt;clinit&gt;(KafkaSourceProvider.scala)\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider.org$apache$spark$sql$kafka010$KafkaSourceProvider$$validateStreamOptions(KafkaSourceProvider.scala:338)\n        at org.apache.spark.sql.kafka010.KafkaSourceProvider.sourceSchema(KafkaSourceProvider.scala:71)\n        at org.apache.spark.sql.execution.datasources.DataSource.sourceSchema(DataSource.scala:236)\n        at org.apache.spark.sql.execution.datasources.DataSource.sourceInfo$lzycompute(DataSource.scala:118)\n        at org.apache.spark.sql.execution.datasources.DataSource.sourceInfo(DataSource.scala:118)\n        at org.apache.spark.sql.execution.streaming.StreamingRelation$.apply(StreamingRelation.scala:34)\n        at org.apache.spark.sql.streaming.DataStreamReader.loadInternal(DataStreamReader.scala:168)\n        at org.apache.spark.sql.streaming.DataStreamReader.load(DataStreamReader.scala:144)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n        at py4j.Gateway.invoke(Gateway.java:282)\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.ByteArraySerializer\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 22 more\n</code></pre>\n<p>This problem persists despite that I have the following configuration on <code>.bashrc</code></p>\n<pre><code>#configuration for local Spark and Hadoop\nSPARK_HOME=/usr/local/spark-3.3.0-bin-hadoop3\nexport PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin\nexport PYSPARK_PYTHON=/usr/bin/python3\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>It is important to notice that everything works fine on Windows, and other applications that do not make use of SQL injection and avro serialization work just fine on Ubuntu 22.04 as well.</p>\n"},{"tags":["java","windows","server","sonarqube","migrate"],"owner":{"account_id":29605770,"reputation":1,"user_id":22690240,"display_name":"noliviane koudouvo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696518356,"creation_date":1696518356,"question_id":77238368,"body_markdown":"I need to Migrate the existing Sonarqube as a service from Windows 2016 server to Windows 2019 server I installed Java, set the path, installed the same version on the existing server, copied the config and data files, set up the env variables to be the same way the existing server but Sonarqube will not start. Its database is SQL on a separate server.\r\n\r\n\r\nI installed java, set the path,installed the same version on the existing server, copied the config and data files, set up the env variables to be the same way the existing server but sonarqube will not start. Its database is a sql on a separate server.\r\n","title":"Migrate existing sonarqube as a service from windows 2016 server to windows 2019 server","body":"<p>I need to Migrate the existing Sonarqube as a service from Windows 2016 server to Windows 2019 server I installed Java, set the path, installed the same version on the existing server, copied the config and data files, set up the env variables to be the same way the existing server but Sonarqube will not start. Its database is SQL on a separate server.</p>\n<p>I installed java, set the path,installed the same version on the existing server, copied the config and data files, set up the env variables to be the same way the existing server but sonarqube will not start. Its database is a sql on a separate server.</p>\n"},{"tags":["java","automation","karate"],"owner":{"account_id":29605796,"reputation":11,"user_id":22690261,"display_name":"Ritam Ganguli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696518355,"creation_date":1696518355,"question_id":77238367,"body_markdown":"karate-config.js failed\r\nTypeError: Access to host class Ritam.Util.PropertyLoader is not allowed or does not exist.\r\n\r\nThis works completely well when running on windows\r\nJava_Version:20\r\n\r\n[INFO] Running Ritam.TestRunners.TestRunnerParallel\r\n20:32:40.784 [main] INFO  com.intuit.karate.Runner - using system property &#39;karate.env&#39;: QA\r\n20:32:42.176 [main] WARN  com.intuit.karate.Suite - failed to backup existing dir: target\r\nPlatform is lambdatest\r\nOS is windows\r\nEnv is QA\r\nBrowser is chrome","title":"Getting karate-config.js failed for mac and Linux where as it works well for windows","body":"<p>karate-config.js failed\nTypeError: Access to host class Ritam.Util.PropertyLoader is not allowed or does not exist.</p>\n<p>This works completely well when running on windows\nJava_Version:20</p>\n<p>[INFO] Running Ritam.TestRunners.TestRunnerParallel\n20:32:40.784 [main] INFO  com.intuit.karate.Runner - using system property 'karate.env': QA\n20:32:42.176 [main] WARN  com.intuit.karate.Suite - failed to backup existing dir: target\nPlatform is lambdatest\nOS is windows\nEnv is QA\nBrowser is chrome</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","multi-tenant"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696511319,"post_id":77236875,"comment_id":136164419,"body_markdown":"You have a `tenant` table but forget to query it for the schema. Looks like you are setting the `tenant_name` and not the schema, hence it won&#39;t work as that doesn&#39;t exist.","body":"You have a <code>tenant</code> table but forget to query it for the schema. Looks like you are setting the <code>tenant_name</code> and not the schema, hence it won&#39;t work as that doesn&#39;t exist."}],"answers":[{"tags":[],"owner":{"account_id":8995970,"reputation":11,"user_id":6706379,"display_name":"Tooroph"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696517819,"creation_date":1696517668,"answer_id":77238280,"question_id":77236875,"body_markdown":"@M.Deinum I even don&#39;t use `tenant` table for now. This is a place I want to have an info about all tenants.\r\n\r\nI use a tenant filter\r\n\r\n```\r\n@Order(1)\r\npublic class TenantFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n                         FilterChain chain) throws IOException, ServletException {\r\n\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n\r\n        MultitenantContext.setCurrentTenant(&quot;alliance&quot;);\r\n\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nI also create a service to add new tenant\r\n\r\n```\r\n@Service\r\npublic class TenantSchemaService {\r\n    private final JdbcTemplate jdbcTemplate;\r\n\r\n    public TenantSchemaService(JdbcTemplate jdbcTemplate, TenantRepository tenantRepository) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n\r\n    public void createSchema(String name) {\r\n            String query = &quot;CREATE SCHEMA IF NOT EXISTS &quot; + name;\r\n            jdbcTemplate.execute(query);\r\n            runLiquibase(name);\r\n    }\r\n\r\n    public void runLiquibase(String schema) {\r\n        try (Connection connection = Objects.requireNonNull(jdbcTemplate.getDataSource()).getConnection();\r\n             Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(connection));\r\n        ) {\r\n            database.setDefaultSchemaName(schema);\r\n            new Liquibase(&quot;db/master/changelog.yaml&quot;, new ClassLoaderResourceAccessor(), database).update(&quot;&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have 3 schemas\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oX1o9.png","title":"Multitenant per schema in postgresql","body":"<p>@M.Deinum I even don't use <code>tenant</code> table for now. This is a place I want to have an info about all tenants.</p>\n<p>I use a tenant filter</p>\n<pre><code>@Order(1)\npublic class TenantFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n\n        HttpServletRequest req = (HttpServletRequest) request;\n\n        MultitenantContext.setCurrentTenant(&quot;alliance&quot;);\n\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>I also create a service to add new tenant</p>\n<pre><code>@Service\npublic class TenantSchemaService {\n    private final JdbcTemplate jdbcTemplate;\n\n    public TenantSchemaService(JdbcTemplate jdbcTemplate, TenantRepository tenantRepository) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    public void createSchema(String name) {\n            String query = &quot;CREATE SCHEMA IF NOT EXISTS &quot; + name;\n            jdbcTemplate.execute(query);\n            runLiquibase(name);\n    }\n\n    public void runLiquibase(String schema) {\n        try (Connection connection = Objects.requireNonNull(jdbcTemplate.getDataSource()).getConnection();\n             Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(connection));\n        ) {\n            database.setDefaultSchemaName(schema);\n            new Liquibase(&quot;db/master/changelog.yaml&quot;, new ClassLoaderResourceAccessor(), database).update(&quot;&quot;);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>I have 3 schemas</p>\n<p><a href=\"https://i.stack.imgur.com/oX1o9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":8995970,"reputation":11,"user_id":6706379,"display_name":"Tooroph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696517819,"creation_date":1696506890,"question_id":77236875,"body_markdown":"I decided to use postgresql with my multitenant app per schema.\r\nI need to create new schema for each customer.\r\n\r\nMy plan is to have `tenant` table in `public` schema with `tenant_name` and `schema_name`.\r\n\r\n1. Tenant A, tenanta\r\n2. Tenant B, tenantb\r\n\r\nI need this to have control over schemas and for listing schemas. I want to use liquibase and run migrations for all schemas except public.\r\n\r\nI implemented multitenant provider, resolver, context, filter but it works only if I add schema annotation to Entity class\r\n\r\nI tried to create similar table in all customers like\r\n\r\n```\r\n@Table(name = &quot;product&quot;)\r\npublic class Product\r\n...\r\n```\r\n\r\neven for public (just for testing) to be sure it is in every schema.\r\n\r\nand it tells me that column does not exist.\r\n\r\nWon’t it work without scheme annotation? Problem is I need this table (and more) for all schemas except public..\r\nhow should I handle it? Anyone?\r\n\r\n**MY CODE**\r\n\r\nI created tenant table with annotations\r\n\r\n```\r\n@Table(name = &quot;tenant&quot;, schema = &quot;public&quot;)\r\npublic class Tenant {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String tenant;\r\n    private String schema;\r\n} \r\n```\r\n\r\nI also implemented multitenant provider\r\n\r\n```\r\n@Component\r\npublic class MultitenantConnectionProvider implements MultiTenantConnectionProvider, HibernatePropertiesCustomizer {\r\n    private final DataSource dataSource;\r\n\r\n    public MultitenantConnectionProvider(DataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n    }\r\n\r\n    @Override\r\n    public Connection getAnyConnection() throws SQLException {\r\n        return getConnection(&quot;public&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void releaseAnyConnection(Connection connection) throws SQLException {\r\n        connection.close();\r\n    }\r\n\r\n    @Override\r\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\r\n        Connection connection = dataSource.getConnection();\r\n        connection.setSchema(tenantIdentifier);\r\n        return connection;\r\n    }\r\n\r\n    @Override\r\n    public void releaseConnection(String tenantIdentifier, Connection connection) throws SQLException {\r\n        connection.setSchema(&quot;public&quot;);\r\n        connection.close();\r\n    }\r\n\r\n    @Override\r\n    public boolean supportsAggressiveRelease() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isUnwrappableAs(Class&lt;?&gt; unwrapType) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; unwrapType) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, this);\r\n    }\r\n}\r\n```\r\n\r\nresolver\r\n\r\n```\r\n@Component\r\npublic class TenantIdentifierResolver implements CurrentTenantIdentifierResolver, HibernatePropertiesCustomizer {\r\n    private final String DEFAULT_TENANT = &quot;public&quot;;\r\n    @Override\r\n    public String resolveCurrentTenantIdentifier() {\r\n        String tenant = MultitenantContext.getCurrentTenant();\r\n        if (StringUtils.isBlank(tenant)) {\r\n            return DEFAULT_TENANT;\r\n        }\r\n        return tenant;\r\n    }\r\n\r\n    @Override\r\n    public boolean validateExistingCurrentSessions() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, this);\r\n    }\r\n}\r\n```\r\n\r\nand context\r\n\r\n```\r\npublic class MultitenantContext {\r\n    private static final ThreadLocal&lt;String&gt; CURRENT_TENANT = new InheritableThreadLocal&lt;&gt;();\r\n\r\n    public static String getCurrentTenant() {\r\n        return CURRENT_TENANT.get();\r\n    }\r\n\r\n    public static void setCurrentTenant(String tenant) {\r\n        CURRENT_TENANT.set(tenant);\r\n    }\r\n}\r\n```\r\n\r\nI have a tenant filter too.","title":"Multitenant per schema in postgresql","body":"<p>I decided to use postgresql with my multitenant app per schema.\nI need to create new schema for each customer.</p>\n<p>My plan is to have <code>tenant</code> table in <code>public</code> schema with <code>tenant_name</code> and <code>schema_name</code>.</p>\n<ol>\n<li>Tenant A, tenanta</li>\n<li>Tenant B, tenantb</li>\n</ol>\n<p>I need this to have control over schemas and for listing schemas. I want to use liquibase and run migrations for all schemas except public.</p>\n<p>I implemented multitenant provider, resolver, context, filter but it works only if I add schema annotation to Entity class</p>\n<p>I tried to create similar table in all customers like</p>\n<pre><code>@Table(name = &quot;product&quot;)\npublic class Product\n...\n</code></pre>\n<p>even for public (just for testing) to be sure it is in every schema.</p>\n<p>and it tells me that column does not exist.</p>\n<p>Won’t it work without scheme annotation? Problem is I need this table (and more) for all schemas except public..\nhow should I handle it? Anyone?</p>\n<p><strong>MY CODE</strong></p>\n<p>I created tenant table with annotations</p>\n<pre><code>@Table(name = &quot;tenant&quot;, schema = &quot;public&quot;)\npublic class Tenant {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String tenant;\n    private String schema;\n} \n</code></pre>\n<p>I also implemented multitenant provider</p>\n<pre><code>@Component\npublic class MultitenantConnectionProvider implements MultiTenantConnectionProvider, HibernatePropertiesCustomizer {\n    private final DataSource dataSource;\n\n    public MultitenantConnectionProvider(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    @Override\n    public Connection getAnyConnection() throws SQLException {\n        return getConnection(&quot;public&quot;);\n    }\n\n    @Override\n    public void releaseAnyConnection(Connection connection) throws SQLException {\n        connection.close();\n    }\n\n    @Override\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\n        Connection connection = dataSource.getConnection();\n        connection.setSchema(tenantIdentifier);\n        return connection;\n    }\n\n    @Override\n    public void releaseConnection(String tenantIdentifier, Connection connection) throws SQLException {\n        connection.setSchema(&quot;public&quot;);\n        connection.close();\n    }\n\n    @Override\n    public boolean supportsAggressiveRelease() {\n        return false;\n    }\n\n    @Override\n    public boolean isUnwrappableAs(Class&lt;?&gt; unwrapType) {\n        return false;\n    }\n\n    @Override\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; unwrapType) {\n        return null;\n    }\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, this);\n    }\n}\n</code></pre>\n<p>resolver</p>\n<pre><code>@Component\npublic class TenantIdentifierResolver implements CurrentTenantIdentifierResolver, HibernatePropertiesCustomizer {\n    private final String DEFAULT_TENANT = &quot;public&quot;;\n    @Override\n    public String resolveCurrentTenantIdentifier() {\n        String tenant = MultitenantContext.getCurrentTenant();\n        if (StringUtils.isBlank(tenant)) {\n            return DEFAULT_TENANT;\n        }\n        return tenant;\n    }\n\n    @Override\n    public boolean validateExistingCurrentSessions() {\n        return true;\n    }\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        hibernateProperties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, this);\n    }\n}\n</code></pre>\n<p>and context</p>\n<pre><code>public class MultitenantContext {\n    private static final ThreadLocal&lt;String&gt; CURRENT_TENANT = new InheritableThreadLocal&lt;&gt;();\n\n    public static String getCurrentTenant() {\n        return CURRENT_TENANT.get();\n    }\n\n    public static void setCurrentTenant(String tenant) {\n        CURRENT_TENANT.set(tenant);\n    }\n}\n</code></pre>\n<p>I have a tenant filter too.</p>\n"},{"tags":["java","opencv","feature-detection","android"],"answers":[{"tags":[],"owner":{"account_id":8363668,"reputation":146,"user_id":6281103,"display_name":"patwis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696517199,"creation_date":1696517199,"answer_id":77238214,"question_id":39610182,"body_markdown":"I had the same error and was able to fix it by using `MatOfPoint2f` - here is the code in Kotlin:\r\n```\r\nval dstPtsCoords = MatOfPoint2f()\r\nval srcPtsCoords = MatOfPoint2f()\r\ndstPtsCoords.fromList(dstPointArray) // Array from matches\r\nsrcPtsCoords.fromList(srcPointArray) // Array from matches\r\n\r\nval H = Calib3d.findHomography(srcPtsCoords, dstPtsCoords, Calib3d.RANSAC, 1)\r\n\r\nval undistortedReferencePoints = MatOfPoint2f()\r\nundistortedReferencePoints.fromArray(\r\n    Point(0.0, 0.0),\r\n    Point(reference_width - 1.0, 0.0),\r\n    Point(reference_width - 1.0, reference_height - 1.0),\r\n    Point(0.0, reference_height - 1.0)\r\n)\r\nval dstPoints = MatOfPoint2f() // top left, bottom left, bottom right, top right\r\nperspectiveTransform(undistortedReferencePoints, dstPoints, H)\r\n```","title":"OpenCV Assertion Failed Error - Perspective Transform","body":"<p>I had the same error and was able to fix it by using <code>MatOfPoint2f</code> - here is the code in Kotlin:</p>\n<pre><code>val dstPtsCoords = MatOfPoint2f()\nval srcPtsCoords = MatOfPoint2f()\ndstPtsCoords.fromList(dstPointArray) // Array from matches\nsrcPtsCoords.fromList(srcPointArray) // Array from matches\n\nval H = Calib3d.findHomography(srcPtsCoords, dstPtsCoords, Calib3d.RANSAC, 1)\n\nval undistortedReferencePoints = MatOfPoint2f()\nundistortedReferencePoints.fromArray(\n    Point(0.0, 0.0),\n    Point(reference_width - 1.0, 0.0),\n    Point(reference_width - 1.0, reference_height - 1.0),\n    Point(0.0, reference_height - 1.0)\n)\nval dstPoints = MatOfPoint2f() // top left, bottom left, bottom right, top right\nperspectiveTransform(undistortedReferencePoints, dstPoints, H)\n</code></pre>\n"}],"owner":{"account_id":8572135,"reputation":565,"user_id":6422633,"accept_rate":38,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696517199,"creation_date":1474443207,"question_id":39610182,"body_markdown":"I am using OpenCV for Android Version 3.1.0. I tried to use AKAZE detector and AKAZE descriptor. When I run the code on my Emulator am getting the below error.\r\n\r\n    OpenCV Error: Assertion failed (scn + 1 == m.cols) in void CV:perspectiveTransform(cv::InputArray, cv::OutputArray, cv::InputArray), \r\n    file/Volumes/Linux/builds/master_pack-android/opencv/modules/core/src/matmul.cpp, line 2125\r\n\r\n    core::perspectiveTransform_10() caught cv::Exception: /Volumes/Linux/builds/master_pack-android/opencv/modules/core/src/matmul.cpp:2125: \r\n    error: (-215) scn + 1 == m.cols in function void CV:perspectiveTransform(cv::InputArray, cv::OutputArray, cv::InputArray)\r\n\r\nI am using \r\n\r\n    private final Mat firstCorners = new Mat(4,1, CvType.CV_32FC2)\r\n\r\n    private final Mat secondCorners = new Mat(4,1, CvType.CV_32FC2)\r\n\r\n    final Mat homography = Calib3d.findHomography(first, second, Calib3d.RANSAC, 1)\r\n\r\n    Core.perspectiveTransform(firstCorners, secondCorners, homography)\r\n\r\nI tried new Mat(4,1, CvType.CV_32FC1) but of no use\r\n\r\nany help on this.\r\n","title":"OpenCV Assertion Failed Error - Perspective Transform","body":"<p>I am using OpenCV for Android Version 3.1.0. I tried to use AKAZE detector and AKAZE descriptor. When I run the code on my Emulator am getting the below error.</p>\n\n<pre><code>OpenCV Error: Assertion failed (scn + 1 == m.cols) in void CV:perspectiveTransform(cv::InputArray, cv::OutputArray, cv::InputArray), \nfile/Volumes/Linux/builds/master_pack-android/opencv/modules/core/src/matmul.cpp, line 2125\n\ncore::perspectiveTransform_10() caught cv::Exception: /Volumes/Linux/builds/master_pack-android/opencv/modules/core/src/matmul.cpp:2125: \nerror: (-215) scn + 1 == m.cols in function void CV:perspectiveTransform(cv::InputArray, cv::OutputArray, cv::InputArray)\n</code></pre>\n\n<p>I am using </p>\n\n<pre><code>private final Mat firstCorners = new Mat(4,1, CvType.CV_32FC2)\n\nprivate final Mat secondCorners = new Mat(4,1, CvType.CV_32FC2)\n\nfinal Mat homography = Calib3d.findHomography(first, second, Calib3d.RANSAC, 1)\n\nCore.perspectiveTransform(firstCorners, secondCorners, homography)\n</code></pre>\n\n<p>I tried new Mat(4,1, CvType.CV_32FC1) but of no use</p>\n\n<p>any help on this.</p>\n"},{"tags":["java","azure","azure-active-directory"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696383518,"post_id":77226093,"comment_id":136144706,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696516858,"creation_date":1696501329,"answer_id":77236256,"question_id":77226093,"body_markdown":"***The error you are getting could be due to version compatibility issues.***\r\n \r\nI cloned [GitHub project](https://github.com/Azure-Samples/ms-identity-java-webapp/tree/master/msal-java-webapp-sample) to my environment to run and check if it works, I didn&#39;t face any such issues.\r\n\r\n**Steps followed:**\r\n\r\n- Registered a new application in Azure Active Directory.\r\n- Replaced the `client_id, client_secret and Tenant_id` values in the `application.properties` code with the values of the newly created application.\r\n\r\n**application.properties:**\r\n\r\n```properties\r\n\r\n#AAD configuration\r\naad.clientId=097dXX-XXX-XXXX-XXXX-556XXXXX\r\naad.authority=https://login.microsoftonline.com/&lt;Tenant_ID/\r\naad.secretKey=&lt;Client_secret_value&gt;\r\naad.redirectUriSignin=https://jwt.ms\r\naad.redirectUriGraph=https://localhost:8443/msal4jsample/graph/me\r\naad.msGraphEndpointHost=https://graph.microsoft.com/\r\n```\r\nRegistered the ***redirectURI*** in `Registered application in Azure Active directory=&gt;Authentication`:\r\n\r\n![enter image description here](https://i.imgur.com/qD7bILg.png)\r\n\r\nOpen ***Terminal***, navigate to the *root directory* of the *application* and run the command `mvn clean install` :\r\n\r\n![enter image description here](https://i.imgur.com/hf7rCQz.png)\r\n\r\n![enter image description here](https://i.imgur.com/39eoreg.png)\r\n\r\nRun `mvn spring-boot:run`:\r\n\r\n![enter image description here](https://i.imgur.com/XQU3NMI.png)\r\n\r\n![enter image description here](https://i.imgur.com/2Jxp4jE.png)\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.imgur.com/glsLSBe.png)\r\n\r\n![enter image description here](https://i.imgur.com/udVP7Hn.png)\r\n\r\n***Code got generated as shown below:***\r\n\r\n![enter image description here](https://i.imgur.com/0ozlXLz.png)","title":"Algorithm issues with newer version of [ms-identity-java-webapp] token?","body":"<p><em><strong>The error you are getting could be due to version compatibility issues.</strong></em></p>\n<p>I cloned <a href=\"https://github.com/Azure-Samples/ms-identity-java-webapp/tree/master/msal-java-webapp-sample\" rel=\"nofollow noreferrer\">GitHub project</a> to my environment to run and check if it works, I didn't face any such issues.</p>\n<p><strong>Steps followed:</strong></p>\n<ul>\n<li>Registered a new application in Azure Active Directory.</li>\n<li>Replaced the <code>client_id, client_secret and Tenant_id</code> values in the <code>application.properties</code> code with the values of the newly created application.</li>\n</ul>\n<p><strong>application.properties:</strong></p>\n<pre><code>\n#AAD configuration\naad.clientId=097dXX-XXX-XXXX-XXXX-556XXXXX\naad.authority=https://login.microsoftonline.com/&lt;Tenant_ID/\naad.secretKey=&lt;Client_secret_value&gt;\naad.redirectUriSignin=https://jwt.ms\naad.redirectUriGraph=https://localhost:8443/msal4jsample/graph/me\naad.msGraphEndpointHost=https://graph.microsoft.com/\n</code></pre>\n<p>Registered the <em><strong>redirectURI</strong></em> in <code>Registered application in Azure Active directory=&gt;Authentication</code>:</p>\n<p><img src=\"https://i.imgur.com/qD7bILg.png\" alt=\"enter image description here\" /></p>\n<p>Open <em><strong>Terminal</strong></em>, navigate to the <em>root directory</em> of the <em>application</em> and run the command <code>mvn clean install</code> :</p>\n<p><img src=\"https://i.imgur.com/hf7rCQz.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/39eoreg.png\" alt=\"enter image description here\" /></p>\n<p>Run <code>mvn spring-boot:run</code>:</p>\n<p><img src=\"https://i.imgur.com/XQU3NMI.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/2Jxp4jE.png\" alt=\"enter image description here\" /></p>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.imgur.com/glsLSBe.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/udVP7Hn.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Code got generated as shown below:</strong></em></p>\n<p><img src=\"https://i.imgur.com/0ozlXLz.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29592375,"reputation":1,"user_id":22679636,"display_name":"Shivangi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696516858,"creation_date":1696378911,"question_id":77226093,"body_markdown":"https://github.com/Azure-Samples/ms-identity-java-webapp/tree/master/msal-java-webapp-sample\r\n\r\nwhen I am using the latest (latest version)downloaded application [ms-identity-java-webapp], it gives me a token that is not getting parsed it gives below exception\r\n&quot;com.nimbusds.jose.JOSEException: Unsupported JWS algorithm RS256, must be HS256, HS384 or HS512&quot;.\r\n\r\nBut when I am using the old downloaded project [ms-identity-java-webapp] ( which was downloaded by me in sept 2021), the token by this project is getting parsed. Why the token doesn&#39;t work for the newer version of the app?\r\n\r\nms-identity-java-webapp not parsing the token ","title":"Algorithm issues with newer version of [ms-identity-java-webapp] token?","body":"<p><a href=\"https://github.com/Azure-Samples/ms-identity-java-webapp/tree/master/msal-java-webapp-sample\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/ms-identity-java-webapp/tree/master/msal-java-webapp-sample</a></p>\n<p>when I am using the latest (latest version)downloaded application [ms-identity-java-webapp], it gives me a token that is not getting parsed it gives below exception\n&quot;com.nimbusds.jose.JOSEException: Unsupported JWS algorithm RS256, must be HS256, HS384 or HS512&quot;.</p>\n<p>But when I am using the old downloaded project [ms-identity-java-webapp] ( which was downloaded by me in sept 2021), the token by this project is getting parsed. Why the token doesn't work for the newer version of the app?</p>\n<p>ms-identity-java-webapp not parsing the token</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":2,"creation_date":1696520017,"post_id":77234019,"comment_id":136166534,"body_markdown":"Actually you need to write a recursive query to fetch it in one query. Maybe you can investigate it from google. Native query can be mandatory in case of writing recursive query. Also you can simply get root and fetch it one call. For example you have parent entity then you changed fetch type to Eager then you can simply get all of them.\n\nIf you need a specific count or size, I prefer to write recursive query with limiting a fetch size. Maybe there can be more effective solutions but I don&#39;t know.","body":"Actually you need to write a recursive query to fetch it in one query. Maybe you can investigate it from google. Native query can be mandatory in case of writing recursive query. Also you can simply get root and fetch it one call. For example you have parent entity then you changed fetch type to Eager then you can simply get all of them.  If you need a specific count or size, I prefer to write recursive query with limiting a fetch size. Maybe there can be more effective solutions but I don&#39;t know."}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696516457,"creation_date":1696474638,"question_id":77234019,"body_markdown":"=================================================================\r\n\r\nSource code of this question can be found [HERE][1]\r\n\r\nSpring boot version: 2.7.16\r\n\r\nMariadb version: 10.7.8\r\n\r\n=================================================================\r\n\r\nI&#39;m develop a simple app. I have an entity named Category that have self reference to itself (list of child):\r\n\r\n    @Entity\r\n    @Table(name = &quot;tbl_category&quot;)\r\n    @Data\r\n    @NamedEntityGraph(\r\n      name = &quot;test&quot;,\r\n      attributeNodes = {\r\n        @NamedAttributeNode(value=&quot;children&quot;,subgraph=&quot;children&quot;),\r\n      },\r\n      subgraphs = {\r\n        @NamedSubgraph(\r\n          name = &quot;children&quot;,\r\n          attributeNodes = {\r\n            @NamedAttributeNode(&quot;children&quot;)\r\n          }\r\n        )\r\n      })\r\n    @BatchSize(size = 10)\r\n    public class Category {\r\n    \r\n      @Id\r\n      @GeneratedValue\r\n      private Long id;\r\n    \r\n      @Basic(optional = false)\r\n      private String name;\r\n    \r\n      @ManyToOne\r\n      @ToString.Exclude\r\n      private Category parent;\r\n    \r\n      @OneToMany(mappedBy = &quot;parent&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\n      @ToString.Exclude\r\n      @BatchSize(size = 10)\r\n      private List&lt;Category&gt; children;\r\n    \r\n      @OneToMany(mappedBy = &quot;category&quot;)\r\n      @ToString.Exclude\r\n      private List&lt;Product&gt; products;\r\n    \r\n    }\r\n\r\nI want to load a Category by id (and its children of type Category too) without N+1 issue. \r\nI searched on Google and found this [article][2].\r\n\r\nMy first try is about using entity graph. But entity graph only work in case a Category have at most two hierarchy: the current parent and its children. More than two hierarchy, N+1 shown up.\r\n\r\nSo I switched to second solution: `JOIN FETCH`\r\n\r\n    public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\r\n    \r\n      //@EntityGraph(value = &quot;test&quot;, type = EntityGraph.EntityGraphType.FETCH)\r\n      @Query(&quot;SELECT DISTINCT c FROM Category c JOIN FETCH c.children&quot;)\r\n      Optional&lt;Category&gt; findById(Long id);\r\n    \r\n    }\r\nBut it does not work. I got this exception: `javax.persistence.NonUniqueResultException: query did not return a unique result: 3`\r\n\r\nSo I applied the last solution: `@BatchSize(size = 10)`, but no luck, N+1 still shown up\r\n\r\nBelow is some related code snipe:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class DefaultCategoryService implements CategoryService {\r\n    \r\n      private final CategoryRepository repository;\r\n    \r\n      @Override\r\n      public CategoryResponse save(CategoryRequest request) {\r\n        Category entity = toEntity(request);\r\n        entity = repository.save(entity);\r\n    \r\n        return new CategoryResponse(entity);\r\n      }\r\n    \r\n      @Override\r\n      public CategoryResponse findById(Long id) {\r\n        return repository.findById(id).map(this::toResponse)\r\n          .orElseThrow(() -&gt; new ResourceNotFoundException(String.format(&quot;Category with id [%d] is not found&quot;, id)));\r\n      }\r\n    \r\n      private CategoryResponse toResponse(Category category) {\r\n        return new CategoryResponse(category);\r\n      }\r\n    \r\n      private Category toEntity(CategoryRequest request) {\r\n        Category entity = new Category();\r\n        entity.setName(request.getName());\r\n        List&lt;Category&gt; children = Optional.ofNullable(request.getChildren())\r\n          .orElseGet(Collections::emptyList)\r\n          .stream()\r\n          .map(cr -&gt; {\r\n            Category child = toEntity(cr);\r\n            child.setParent(entity);\r\n    \r\n            return child;\r\n          })\r\n          .collect(Collectors.toList());\r\n        entity.setChildren(children);\r\n    \r\n    \r\n        return entity;\r\n      }\r\n    \r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class CategoryResponse {\r\n    \r\n      private Long id;\r\n      private String name;\r\n      private List&lt;CategoryResponse&gt; children;\r\n    \r\n      public CategoryResponse(Category entity) {\r\n        this.id = entity.getId();\r\n        this.name = entity.getName();\r\n        this.children = Optional.ofNullable(entity.getChildren())\r\n          .orElseGet(Collections::emptyList)\r\n          .stream()\r\n          .map(CategoryResponse::new).collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\n    @Data\r\n    public class CategoryRequest {\r\n    \r\n      private String name;\r\n      private List&lt;CategoryRequest&gt; children;\r\n    \r\n    }\r\n\r\nThis is request to create Category with hierarchy:\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/categories&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{\r\n        &quot;name&quot;: &quot;1&quot;,\r\n        &quot;children&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;2&quot;,\r\n                &quot;children&quot;: [\r\n                    {\r\n                        &quot;name&quot;: &quot;3&quot;,\r\n                        &quot;children&quot;: [\r\n                            {\r\n                                &quot;name&quot;: 4\r\n                            }\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }&#39;\r\n\r\nPlease help!! Why spring boot does not respect my @BatchSize? Or, how to solve/mitigate N+1 issue?\r\n\r\n\r\n  [1]: https://github.com/anaconda875/product/tree/n-plus-1\r\n  [2]: https://jivimberg.io/blog/2018/08/04/recursive-queries-on-rdbms-with-jpa/","title":"Spring boot starter data jpa does not respect @BatchSize. Or how to solve/mitigate N+1 issue","body":"<p>=================================================================</p>\n<p>Source code of this question can be found <a href=\"https://github.com/anaconda875/product/tree/n-plus-1\" rel=\"nofollow noreferrer\">HERE</a></p>\n<p>Spring boot version: 2.7.16</p>\n<p>Mariadb version: 10.7.8</p>\n<p>=================================================================</p>\n<p>I'm develop a simple app. I have an entity named Category that have self reference to itself (list of child):</p>\n<pre><code>@Entity\n@Table(name = &quot;tbl_category&quot;)\n@Data\n@NamedEntityGraph(\n  name = &quot;test&quot;,\n  attributeNodes = {\n    @NamedAttributeNode(value=&quot;children&quot;,subgraph=&quot;children&quot;),\n  },\n  subgraphs = {\n    @NamedSubgraph(\n      name = &quot;children&quot;,\n      attributeNodes = {\n        @NamedAttributeNode(&quot;children&quot;)\n      }\n    )\n  })\n@BatchSize(size = 10)\npublic class Category {\n\n  @Id\n  @GeneratedValue\n  private Long id;\n\n  @Basic(optional = false)\n  private String name;\n\n  @ManyToOne\n  @ToString.Exclude\n  private Category parent;\n\n  @OneToMany(mappedBy = &quot;parent&quot;, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n  @ToString.Exclude\n  @BatchSize(size = 10)\n  private List&lt;Category&gt; children;\n\n  @OneToMany(mappedBy = &quot;category&quot;)\n  @ToString.Exclude\n  private List&lt;Product&gt; products;\n\n}\n</code></pre>\n<p>I want to load a Category by id (and its children of type Category too) without N+1 issue.\nI searched on Google and found this <a href=\"https://jivimberg.io/blog/2018/08/04/recursive-queries-on-rdbms-with-jpa/\" rel=\"nofollow noreferrer\">article</a>.</p>\n<p>My first try is about using entity graph. But entity graph only work in case a Category have at most two hierarchy: the current parent and its children. More than two hierarchy, N+1 shown up.</p>\n<p>So I switched to second solution: <code>JOIN FETCH</code></p>\n<pre><code>public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\n\n  //@EntityGraph(value = &quot;test&quot;, type = EntityGraph.EntityGraphType.FETCH)\n  @Query(&quot;SELECT DISTINCT c FROM Category c JOIN FETCH c.children&quot;)\n  Optional&lt;Category&gt; findById(Long id);\n\n}\n</code></pre>\n<p>But it does not work. I got this exception: <code>javax.persistence.NonUniqueResultException: query did not return a unique result: 3</code></p>\n<p>So I applied the last solution: <code>@BatchSize(size = 10)</code>, but no luck, N+1 still shown up</p>\n<p>Below is some related code snipe:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class DefaultCategoryService implements CategoryService {\n\n  private final CategoryRepository repository;\n\n  @Override\n  public CategoryResponse save(CategoryRequest request) {\n    Category entity = toEntity(request);\n    entity = repository.save(entity);\n\n    return new CategoryResponse(entity);\n  }\n\n  @Override\n  public CategoryResponse findById(Long id) {\n    return repository.findById(id).map(this::toResponse)\n      .orElseThrow(() -&gt; new ResourceNotFoundException(String.format(&quot;Category with id [%d] is not found&quot;, id)));\n  }\n\n  private CategoryResponse toResponse(Category category) {\n    return new CategoryResponse(category);\n  }\n\n  private Category toEntity(CategoryRequest request) {\n    Category entity = new Category();\n    entity.setName(request.getName());\n    List&lt;Category&gt; children = Optional.ofNullable(request.getChildren())\n      .orElseGet(Collections::emptyList)\n      .stream()\n      .map(cr -&gt; {\n        Category child = toEntity(cr);\n        child.setParent(entity);\n\n        return child;\n      })\n      .collect(Collectors.toList());\n    entity.setChildren(children);\n\n\n    return entity;\n  }\n\n}\n\n@Data\n@NoArgsConstructor\npublic class CategoryResponse {\n\n  private Long id;\n  private String name;\n  private List&lt;CategoryResponse&gt; children;\n\n  public CategoryResponse(Category entity) {\n    this.id = entity.getId();\n    this.name = entity.getName();\n    this.children = Optional.ofNullable(entity.getChildren())\n      .orElseGet(Collections::emptyList)\n      .stream()\n      .map(CategoryResponse::new).collect(Collectors.toList());\n  }\n}\n\n@Data\npublic class CategoryRequest {\n\n  private String name;\n  private List&lt;CategoryRequest&gt; children;\n\n}\n</code></pre>\n<p>This is request to create Category with hierarchy:</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/categories' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;name&quot;: &quot;1&quot;,\n    &quot;children&quot;: [\n        {\n            &quot;name&quot;: &quot;2&quot;,\n            &quot;children&quot;: [\n                {\n                    &quot;name&quot;: &quot;3&quot;,\n                    &quot;children&quot;: [\n                        {\n                            &quot;name&quot;: 4\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}'\n</code></pre>\n<p>Please help!! Why spring boot does not respect my @BatchSize? Or, how to solve/mitigate N+1 issue?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1696478400,"post_id":77234144,"comment_id":136158804,"body_markdown":"An application should only have a single JFrame. If you need child windows you should use a `JDialog`. *the user input the amount of rounds they want to play,* - the easiest way to do this is to use a `JOptionPane`, (which is a custom JDialog) to prompt the user for input. Read the Swing tutorial on [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more information and examples.","body":"An application should only have a single JFrame. If you need child windows you should use a <code>JDialog</code>. <i>the user input the amount of rounds they want to play,</i> - the easiest way to do this is to use a <code>JOptionPane</code>, (which is a custom JDialog) to prompt the user for input. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more information and examples."},{"owner":{"account_id":23453648,"reputation":33,"user_id":17509472,"display_name":"MythInSpace"},"score":0,"creation_date":1696478654,"post_id":77234144,"comment_id":136158826,"body_markdown":"After reading on other posts swell it seems like multiple jframes isn&#39;t the move but my teacher asked us the have at least 2 frames, is it possible to carry the variable I set it the first frame to the next frame with he infromation it holds","body":"After reading on other posts swell it seems like multiple jframes isn&#39;t the move but my teacher asked us the have at least 2 frames, is it possible to carry the variable I set it the first frame to the next frame with he infromation it holds"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696478903,"post_id":77234144,"comment_id":136158849,"body_markdown":"Yes, it&#39;s possible to share state between windows. It&#39;s fundamentally no different from sharing state between any two objects.","body":"Yes, it&#39;s possible to share state between windows. It&#39;s fundamentally no different from sharing state between any two objects."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696487213,"creation_date":1696486770,"answer_id":77234628,"question_id":77234144,"body_markdown":"There is absolutely no problem to write an application with multiple frames.\r\nHere is an example with two frames that are open in parallel. Data entered into either one will be visible in the other one.\r\n\r\nThe secret is that both JTextFields share the same document (or in Slaw&#39;s words: The text fields share state).\r\n\r\n    import java.awt.FlowLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class TwoFrames {\r\n    \r\n        public static void main(String[] args) {\r\n            JTextField t1 = new JTextField();\r\n            t1.setColumns(30);\r\n            JTextField t2 = new JTextField();\r\n            t2.setColumns(30);\r\n            \r\n            // make the two fields share the same content\r\n            t2.setDocument(t1.getDocument());\r\n            \r\n            JFrame f1 = new JFrame(&quot;Frame 1&quot;);\r\n            f1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f1.setLayout(new FlowLayout());\r\n            f1.add(t1);\r\n            f1.pack();\r\n            f1.setVisible(true);\r\n    \r\n            JFrame f2 = new JFrame(&quot;Frame 2&quot;);\r\n            f2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f2.setLayout(new FlowLayout());\r\n            f2.add(t2);\r\n            f2.pack();\r\n            f2.setVisible(true);\r\n        }\r\n    }\r\n\r\nAnd just to demonstrate this &#39;sharing state&#39; does not depend on the amount of frames, here is a similar example with only one frame. Spot the difference.\r\n\r\n    import java.awt.FlowLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class OneFrame {\r\n    \r\n        public static void main(String[] args) {\r\n            JTextField t1 = new JTextField();\r\n            t1.setColumns(30);\r\n            JTextField t2 = new JTextField();\r\n            t2.setColumns(30);\r\n            \r\n            // make the two fields share the same content\r\n            t2.setDocument(t1.getDocument());\r\n            \r\n            JFrame f1 = new JFrame(&quot;Frame&quot;);\r\n            f1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f1.setLayout(new FlowLayout());\r\n            f1.add(t1);\r\n            f1.add(t2);\r\n            f1.pack();\r\n            f1.setVisible(true);\r\n        }\r\n    }\r\n\r\n","title":"Can you pass variable information through different frames","body":"<p>There is absolutely no problem to write an application with multiple frames.\nHere is an example with two frames that are open in parallel. Data entered into either one will be visible in the other one.</p>\n<p>The secret is that both JTextFields share the same document (or in Slaw's words: The text fields share state).</p>\n<pre><code>import java.awt.FlowLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\n\npublic class TwoFrames {\n\n    public static void main(String[] args) {\n        JTextField t1 = new JTextField();\n        t1.setColumns(30);\n        JTextField t2 = new JTextField();\n        t2.setColumns(30);\n        \n        // make the two fields share the same content\n        t2.setDocument(t1.getDocument());\n        \n        JFrame f1 = new JFrame(&quot;Frame 1&quot;);\n        f1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f1.setLayout(new FlowLayout());\n        f1.add(t1);\n        f1.pack();\n        f1.setVisible(true);\n\n        JFrame f2 = new JFrame(&quot;Frame 2&quot;);\n        f2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f2.setLayout(new FlowLayout());\n        f2.add(t2);\n        f2.pack();\n        f2.setVisible(true);\n    }\n}\n</code></pre>\n<p>And just to demonstrate this 'sharing state' does not depend on the amount of frames, here is a similar example with only one frame. Spot the difference.</p>\n<pre><code>import java.awt.FlowLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\n\npublic class OneFrame {\n\n    public static void main(String[] args) {\n        JTextField t1 = new JTextField();\n        t1.setColumns(30);\n        JTextField t2 = new JTextField();\n        t2.setColumns(30);\n        \n        // make the two fields share the same content\n        t2.setDocument(t1.getDocument());\n        \n        JFrame f1 = new JFrame(&quot;Frame&quot;);\n        f1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f1.setLayout(new FlowLayout());\n        f1.add(t1);\n        f1.add(t2);\n        f1.pack();\n        f1.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23453648,"reputation":33,"user_id":17509472,"display_name":"MythInSpace"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696516372,"creation_date":1696477823,"question_id":77234144,"body_markdown":"I have a project for school where I&#39;m building a java swing gun program for a dice game where its required to have at least two frames, on the first Frame I have the user input the amount of rounds they want to play, is it possible to keep the variable Rounds that I have assigned their input to the next frame where the actual game will be taken place?\r\n\r\nex. If the user inputs 3 rounds I want the next frame to know to run a loop for three rounds.\r\n\r\n\r\nHere&#39;s my code so far I want to take the variable input for the amount if rounds to the next jframe to run a loop that runs the game the amount of rounds they entered. the next jframe is called GamePage:\r\n\r\n    /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n     */\r\n    \r\n    /**\r\n     *\r\n     * @author mithilansriharan\r\n     */\r\n    \r\n    \r\n    public class JFrameDiceGambalingGame extends javax.swing.JFrame {\r\n    \r\n        /**\r\n         * Creates new form JFrameDiceGambalingGame\r\n         */\r\n        public JFrameDiceGambalingGame() {\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            Background = new javax.swing.JPanel();\r\n            lblTitle = new javax.swing.JLabel();\r\n            lblRounds = new javax.swing.JLabel();\r\n            txtRoundInput = new javax.swing.JTextField();\r\n            lblRulesTitle = new javax.swing.JLabel();\r\n            lblRulesL1 = new javax.swing.JLabel();\r\n            lblRulesL2 = new javax.swing.JLabel();\r\n            lblRulesL3 = new javax.swing.JLabel();\r\n            btnCont = new javax.swing.JButton();\r\n            btnExit = new javax.swing.JButton();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            Background.setBackground(new java.awt.Color(51, 51, 51));\r\n    \r\n            lblTitle.setBackground(new java.awt.Color(51, 51, 51));\r\n            lblTitle.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 48)); // NOI18N\r\n            lblTitle.setForeground(new java.awt.Color(255, 0, 102));\r\n            lblTitle.setText(&quot;Dice Game&quot;);\r\n    \r\n            lblRounds.setBackground(new java.awt.Color(51, 51, 51));\r\n            lblRounds.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\r\n            lblRounds.setForeground(new java.awt.Color(255, 51, 102));\r\n            lblRounds.setText(&quot;How Many Rounds Would You Like To Play?:&quot;);\r\n    \r\n            txtRoundInput.setBackground(new java.awt.Color(102, 102, 102));\r\n            txtRoundInput.setForeground(new java.awt.Color(102, 102, 102));\r\n            txtRoundInput.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(102, 102, 102), new java.awt.Color(102, 102, 102), new java.awt.Color(51, 51, 51), new java.awt.Color(102, 102, 102)));\r\n            txtRoundInput.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    txtRoundInputActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            lblRulesTitle.setBackground(new java.awt.Color(51, 51, 51));\r\n            lblRulesTitle.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 24)); // NOI18N\r\n            lblRulesTitle.setForeground(new java.awt.Color(255, 51, 102));\r\n            lblRulesTitle.setText(&quot;RULES:&quot;);\r\n    \r\n            lblRulesL1.setBackground(new java.awt.Color(51, 51, 51));\r\n            lblRulesL1.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\r\n            lblRulesL1.setForeground(new java.awt.Color(255, 51, 102));\r\n            lblRulesL1.setText(&quot;Welcome to the Dice Game. In this game you will be against the computer&quot;);\r\n    \r\n            lblRulesL2.setBackground(new java.awt.Color(51, 51, 51));\r\n            lblRulesL2.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\r\n            lblRulesL2.setForeground(new java.awt.Color(255, 51, 102));\r\n            lblRulesL2.setText(&quot;Each round you and the computer will pick a number then a dice will randomly&quot;);\r\n    \r\n            lblRulesL3.setBackground(new java.awt.Color(51, 51, 51));\r\n            lblRulesL3.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\r\n            lblRulesL3.setForeground(new java.awt.Color(255, 51, 102));\r\n            lblRulesL3.setText(&quot;land on a number whoever picked the closest wins that round.&quot;);\r\n    \r\n            btnCont.setBackground(new java.awt.Color(102, 102, 102));\r\n            btnCont.setForeground(new java.awt.Color(255, 255, 255));\r\n            btnCont.setText(&quot;Continue&quot;);\r\n            btnCont.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));\r\n            btnCont.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    btnContActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            btnExit.setBackground(new java.awt.Color(255, 51, 102));\r\n            btnExit.setText(&quot;Exit&quot;);\r\n    \r\n            javax.swing.GroupLayout BackgroundLayout = new javax.swing.GroupLayout(Background);\r\n            Background.setLayout(BackgroundLayout);\r\n            BackgroundLayout.setHorizontalGroup(\r\n                BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(BackgroundLayout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addComponent(btnExit, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 163, Short.MAX_VALUE)\r\n                    .addGroup(BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                            .addComponent(lblTitle)\r\n                            .addGap(340, 340, 340))\r\n                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                            .addComponent(txtRoundInput, javax.swing.GroupLayout.PREFERRED_SIZE, 335, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                            .addGap(297, 297, 297))\r\n                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                            .addComponent(lblRounds)\r\n                            .addGap(313, 313, 313))\r\n                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                            .addGroup(BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                                    .addComponent(lblRulesL1)\r\n                                    .addGap(8, 8, 8))\r\n                                .addComponent(lblRulesL2, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                                    .addComponent(lblRulesL3)\r\n                                    .addGap(57, 57, 57))\r\n                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                                    .addComponent(lblRulesTitle)\r\n                                    .addGap(221, 221, 221))\r\n                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                                    .addComponent(btnCont, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                    .addGap(211, 211, 211)))\r\n                            .addGap(201, 201, 201))))\r\n            );\r\n            BackgroundLayout.setVerticalGroup(\r\n                BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(BackgroundLayout.createSequentialGroup()\r\n                    .addGap(46, 46, 46)\r\n                    .addComponent(lblTitle)\r\n                    .addGap(54, 54, 54)\r\n                    .addComponent(lblRounds)\r\n                    .addGap(33, 33, 33)\r\n                    .addComponent(txtRoundInput, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(18, 18, 18)\r\n                    .addComponent(btnCont, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(lblRulesTitle, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                    .addComponent(lblRulesL1, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(lblRulesL2, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(lblRulesL3, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(38, Short.MAX_VALUE))\r\n                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\r\n                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addComponent(btnExit)\r\n                    .addContainerGap())\r\n            );\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addComponent(Background, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addComponent(Background, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void txtRoundInputActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n            // TODO add your handling code here:\r\n        }                                             \r\n    \r\n        private void btnContActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n            // Get input from user for the amount of rounds and convert to double\r\n            String RoundsText = txtRoundInput.getText();\r\n            double Rounds = Double.parseDouble(RoundsText);\r\n                    \r\n            \r\n            GamePage menu = new GamePage();\r\n            menu.setVisible(true);  \r\n            menu.run();\r\n            \r\n        }                                       \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new JFrameDiceGambalingGame().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JPanel Background;\r\n        private javax.swing.JButton btnCont;\r\n        private javax.swing.JButton btnExit;\r\n        private javax.swing.JLabel lblRounds;\r\n        private javax.swing.JLabel lblRulesL1;\r\n        private javax.swing.JLabel lblRulesL2;\r\n        private javax.swing.JLabel lblRulesL3;\r\n        private javax.swing.JLabel lblRulesTitle;\r\n        private javax.swing.JLabel lblTitle;\r\n        private javax.swing.JTextField txtRoundInput;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n","title":"Can you pass variable information through different frames","body":"<p>I have a project for school where I'm building a java swing gun program for a dice game where its required to have at least two frames, on the first Frame I have the user input the amount of rounds they want to play, is it possible to keep the variable Rounds that I have assigned their input to the next frame where the actual game will be taken place?</p>\n<p>ex. If the user inputs 3 rounds I want the next frame to know to run a loop for three rounds.</p>\n<p>Here's my code so far I want to take the variable input for the amount if rounds to the next jframe to run a loop that runs the game the amount of rounds they entered. the next jframe is called GamePage:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\n\n/**\n *\n * @author mithilansriharan\n */\n\n\npublic class JFrameDiceGambalingGame extends javax.swing.JFrame {\n\n    /**\n     * Creates new form JFrameDiceGambalingGame\n     */\n    public JFrameDiceGambalingGame() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        Background = new javax.swing.JPanel();\n        lblTitle = new javax.swing.JLabel();\n        lblRounds = new javax.swing.JLabel();\n        txtRoundInput = new javax.swing.JTextField();\n        lblRulesTitle = new javax.swing.JLabel();\n        lblRulesL1 = new javax.swing.JLabel();\n        lblRulesL2 = new javax.swing.JLabel();\n        lblRulesL3 = new javax.swing.JLabel();\n        btnCont = new javax.swing.JButton();\n        btnExit = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        Background.setBackground(new java.awt.Color(51, 51, 51));\n\n        lblTitle.setBackground(new java.awt.Color(51, 51, 51));\n        lblTitle.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 48)); // NOI18N\n        lblTitle.setForeground(new java.awt.Color(255, 0, 102));\n        lblTitle.setText(&quot;Dice Game&quot;);\n\n        lblRounds.setBackground(new java.awt.Color(51, 51, 51));\n        lblRounds.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\n        lblRounds.setForeground(new java.awt.Color(255, 51, 102));\n        lblRounds.setText(&quot;How Many Rounds Would You Like To Play?:&quot;);\n\n        txtRoundInput.setBackground(new java.awt.Color(102, 102, 102));\n        txtRoundInput.setForeground(new java.awt.Color(102, 102, 102));\n        txtRoundInput.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(102, 102, 102), new java.awt.Color(102, 102, 102), new java.awt.Color(51, 51, 51), new java.awt.Color(102, 102, 102)));\n        txtRoundInput.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                txtRoundInputActionPerformed(evt);\n            }\n        });\n\n        lblRulesTitle.setBackground(new java.awt.Color(51, 51, 51));\n        lblRulesTitle.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 24)); // NOI18N\n        lblRulesTitle.setForeground(new java.awt.Color(255, 51, 102));\n        lblRulesTitle.setText(&quot;RULES:&quot;);\n\n        lblRulesL1.setBackground(new java.awt.Color(51, 51, 51));\n        lblRulesL1.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\n        lblRulesL1.setForeground(new java.awt.Color(255, 51, 102));\n        lblRulesL1.setText(&quot;Welcome to the Dice Game. In this game you will be against the computer&quot;);\n\n        lblRulesL2.setBackground(new java.awt.Color(51, 51, 51));\n        lblRulesL2.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\n        lblRulesL2.setForeground(new java.awt.Color(255, 51, 102));\n        lblRulesL2.setText(&quot;Each round you and the computer will pick a number then a dice will randomly&quot;);\n\n        lblRulesL3.setBackground(new java.awt.Color(51, 51, 51));\n        lblRulesL3.setFont(new java.awt.Font(&quot;Helvetica Neue&quot;, 1, 14)); // NOI18N\n        lblRulesL3.setForeground(new java.awt.Color(255, 51, 102));\n        lblRulesL3.setText(&quot;land on a number whoever picked the closest wins that round.&quot;);\n\n        btnCont.setBackground(new java.awt.Color(102, 102, 102));\n        btnCont.setForeground(new java.awt.Color(255, 255, 255));\n        btnCont.setText(&quot;Continue&quot;);\n        btnCont.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));\n        btnCont.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btnContActionPerformed(evt);\n            }\n        });\n\n        btnExit.setBackground(new java.awt.Color(255, 51, 102));\n        btnExit.setText(&quot;Exit&quot;);\n\n        javax.swing.GroupLayout BackgroundLayout = new javax.swing.GroupLayout(Background);\n        Background.setLayout(BackgroundLayout);\n        BackgroundLayout.setHorizontalGroup(\n            BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(BackgroundLayout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(btnExit, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 163, Short.MAX_VALUE)\n                .addGroup(BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                        .addComponent(lblTitle)\n                        .addGap(340, 340, 340))\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                        .addComponent(txtRoundInput, javax.swing.GroupLayout.PREFERRED_SIZE, 335, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addGap(297, 297, 297))\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                        .addComponent(lblRounds)\n                        .addGap(313, 313, 313))\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                        .addGroup(BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                                .addComponent(lblRulesL1)\n                                .addGap(8, 8, 8))\n                            .addComponent(lblRulesL2, javax.swing.GroupLayout.Alignment.TRAILING)\n                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                                .addComponent(lblRulesL3)\n                                .addGap(57, 57, 57))\n                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                                .addComponent(lblRulesTitle)\n                                .addGap(221, 221, 221))\n                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                                .addComponent(btnCont, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGap(211, 211, 211)))\n                        .addGap(201, 201, 201))))\n        );\n        BackgroundLayout.setVerticalGroup(\n            BackgroundLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(BackgroundLayout.createSequentialGroup()\n                .addGap(46, 46, 46)\n                .addComponent(lblTitle)\n                .addGap(54, 54, 54)\n                .addComponent(lblRounds)\n                .addGap(33, 33, 33)\n                .addComponent(txtRoundInput, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(18, 18, 18)\n                .addComponent(btnCont, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(lblRulesTitle, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addComponent(lblRulesL1, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(lblRulesL2, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(lblRulesL3, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(38, Short.MAX_VALUE))\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, BackgroundLayout.createSequentialGroup()\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(btnExit)\n                .addContainerGap())\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(Background, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(Background, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void txtRoundInputActionPerformed(java.awt.event.ActionEvent evt) {                                              \n        // TODO add your handling code here:\n    }                                             \n\n    private void btnContActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        // Get input from user for the amount of rounds and convert to double\n        String RoundsText = txtRoundInput.getText();\n        double Rounds = Double.parseDouble(RoundsText);\n                \n        \n        GamePage menu = new GamePage();\n        menu.setVisible(true);  \n        menu.run();\n        \n    }                                       \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(JFrameDiceGambalingGame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new JFrameDiceGambalingGame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JPanel Background;\n    private javax.swing.JButton btnCont;\n    private javax.swing.JButton btnExit;\n    private javax.swing.JLabel lblRounds;\n    private javax.swing.JLabel lblRulesL1;\n    private javax.swing.JLabel lblRulesL2;\n    private javax.swing.JLabel lblRulesL3;\n    private javax.swing.JLabel lblRulesTitle;\n    private javax.swing.JLabel lblTitle;\n    private javax.swing.JTextField txtRoundInput;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","tiff","fax"],"comments":[{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1696427172,"post_id":77230118,"comment_id":136151500,"body_markdown":"Different libraries and frameworks do things differently. There might not be a direct analogue between the C and Java libraries you use. If you want to write a TIFF file using Java and the library you have for it, study the documentation for that library, and try to find examples using that specific library.","body":"Different libraries and frameworks do things differently. There might not be a direct analogue between the C and Java libraries you use. If you want to write a TIFF file using Java and the library you have for it, study the documentation for that library, and try to find examples using that specific library."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696428174,"post_id":77230118,"comment_id":136151743,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1696429569,"post_id":77230118,"comment_id":136152098,"body_markdown":"ImageIO has extensive [TIFF metadata](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html).  When you say “the same byte array,” are you referring to uncompressed 1-bit pixels (eight pixels per byte), or compressed T.4 data?","body":"ImageIO has extensive <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html\" rel=\"nofollow noreferrer\">TIFF metadata</a>.  When you say “the same byte array,” are you referring to uncompressed 1-bit pixels (eight pixels per byte), or compressed T.4 data?"},{"owner":{"account_id":29596513,"reputation":1,"user_id":22682914,"display_name":"greg2java"},"score":0,"creation_date":1696455861,"post_id":77230118,"comment_id":136157027,"body_markdown":"I added more info and clarified the question","body":"I added more info and clarified the question"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1696499625,"post_id":77230118,"comment_id":136162012,"body_markdown":"The obvious answer to *&quot;Q: To do this in java, how would the byte array that contains the page pixels/bits be passed to a TiffImageWriter object?&quot;* is `imageWriter.write(image)` (or possibly an overload with more parameters, if you want to control compression etc). Where image is a `BufferedImage` (containing the byte array with the pixels). But I suspect this is not what you are looking for? And in that case, I don&#39;t understand what you are asking, please clarify...","body":"The obvious answer to <i>&quot;Q: To do this in java, how would the byte array that contains the page pixels/bits be passed to a TiffImageWriter object?&quot;</i> is <code>imageWriter.write(image)</code> (or possibly an overload with more parameters, if you want to control compression etc). Where image is a <code>BufferedImage</code> (containing the byte array with the pixels). But I suspect this is not what you are looking for? And in that case, I don&#39;t understand what you are asking, please clarify..."}],"answers":[{"comments":[{"owner":{"account_id":29596513,"reputation":1,"user_id":22682914,"display_name":"greg2java"},"score":0,"creation_date":1696559528,"post_id":77238115,"comment_id":136171869,"body_markdown":"Thanks - that worked for my experiment. I&#39;m guessing that the  colors[] definition overrides the TAG_PHOTOMETRIC_INTERPRETATION field, since the image remains the same for either WHITE_IS_ZERO or BLACK_IS_ZERO.  I think I&#39;ll stick with the C libtiff whenever possible.","body":"Thanks - that worked for my experiment. I&#39;m guessing that the  colors[] definition overrides the TAG_PHOTOMETRIC_INTERPRETATION field, since the image remains the same for either WHITE_IS_ZERO or BLACK_IS_ZERO.  I think I&#39;ll stick with the C libtiff whenever possible."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1696581376,"post_id":77238115,"comment_id":136174285,"body_markdown":"These are of course completely different abstraction levels. ImageIO API is high level and file format agnostic (the above code would also work to write a PNG, BMP, GIF or any other format that supports bilevel, by only changing the format name and compression type), while libtiff is low level and TIFF-specific. &#128512;","body":"These are of course completely different abstraction levels. ImageIO API is high level and file format agnostic (the above code would also work to write a PNG, BMP, GIF or any other format that supports bilevel, by only changing the format name and compression type), while libtiff is low level and TIFF-specific. 😀"}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696516319,"creation_date":1696516319,"answer_id":77238115,"question_id":77230118,"body_markdown":"I’m not entirely certain I understand your question, but it appears your byte array contains 1-bit pixel information packed into bytes.\r\n\r\nYou can create a BufferedImage based on those bytes, then write it as a TIFF using [ImageIO](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/package-summary.html).\r\n\r\nFirst, one makes a BufferedImage from the data:\r\n\r\n* Wrap the byte array in a [DataBufferByte](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/DataBufferByte.html)\r\n* [Create a Raster](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/Raster.html#createPackedRaster(java.awt.image.DataBuffer,int,int,int,java.awt.Point)), specifying that it should treat the buffer’s bytes as 1-bit pixels packed into bytes.\r\n* Create a [ColorModel](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/ColorModel.html) indicating how the 1-bit pixels are to be written.\r\n* Finally, create a BufferedImage from that Raster and ColorModel.\r\n\r\n&lt;!-- language: java --&gt;\r\n    DataBuffer buffer = new DataBufferByte(pixels, pixels.length);\r\n    WritableRaster raster =\r\n        Raster.createPackedRaster(buffer, imageWidth, imageHeight, 1, null);\r\n\r\n    byte[] colors = { 0x00, (byte) 0xff };  // 0=black, 1=white\r\n    ColorModel colorModel =\r\n        new IndexColorModel(1, colors.length, colors, colors, colors);\r\n\r\n    BufferedImage image =\r\n        new BufferedImage(colorModel, raster, false, new Properties());\r\n\r\nThe [ImageIO TIFF metadata specification](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html#Compression) describes how to specify TIFF compression:\r\n\r\n    ImageWriter tiffWriter =\r\n        ImageIO.getImageWritersByFormatName(&quot;TIFF&quot;).next();\r\n\r\n    ImageWriteParam param = tiffWriter.getDefaultWriteParam();\r\n\r\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    param.setCompressionType(&quot;CCITT T.4&quot;);\r\n\r\n    IIOImage iioImage = new IIOImage(image, null, null);\r\n\r\n    try (ImageOutputStream out = ImageIO.createImageOutputStream(\r\n        new BufferedOutputStream(\r\n            Files.newOutputStream(filename)))) {\r\n\r\n        tiffWriter.setOutput(out);\r\n        tiffWriter.write(null, iioImage, param);\r\n    } finally {\r\n        tiffWriter.dispose();\r\n    }\r\n\r\nHere is the full method:\r\n\r\n    public void writeTIFF(byte[] pixels,\r\n                          int imageWidth,\r\n                          int imageHeight,\r\n                          Path filename)\r\n    throws IOException {\r\n        DataBuffer buffer = new DataBufferByte(pixels, pixels.length);\r\n        WritableRaster raster =\r\n            Raster.createPackedRaster(buffer, imageWidth, imageHeight, 1, null);\r\n\r\n        byte[] colors = { 0x00, (byte) 0xff };  // 0=black, 1=white\r\n        ColorModel colorModel =\r\n            new IndexColorModel(1, colors.length, colors, colors, colors);\r\n\r\n        BufferedImage image =\r\n            new BufferedImage(colorModel, raster, false, new Properties());\r\n\r\n        ImageWriter tiffWriter =\r\n            ImageIO.getImageWritersByFormatName(&quot;TIFF&quot;).next();\r\n\r\n        ImageWriteParam param = tiffWriter.getDefaultWriteParam();\r\n\r\n        param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        param.setCompressionType(&quot;CCITT T.4&quot;);\r\n\r\n        IIOImage iioImage = new IIOImage(image, null, null);\r\n\r\n        try (ImageOutputStream out = ImageIO.createImageOutputStream(\r\n            new BufferedOutputStream(\r\n                Files.newOutputStream(filename)))) {\r\n\r\n            tiffWriter.setOutput(out);\r\n            tiffWriter.write(null, iioImage, param);\r\n        } finally {\r\n            tiffWriter.dispose();\r\n        }\r\n    }\r\n","title":"C: TIFFWriteEncodedStrip vs Java:?","body":"<p>I’m not entirely certain I understand your question, but it appears your byte array contains 1-bit pixel information packed into bytes.</p>\n<p>You can create a BufferedImage based on those bytes, then write it as a TIFF using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">ImageIO</a>.</p>\n<p>First, one makes a BufferedImage from the data:</p>\n<ul>\n<li>Wrap the byte array in a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/DataBufferByte.html\" rel=\"nofollow noreferrer\">DataBufferByte</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/Raster.html#createPackedRaster(java.awt.image.DataBuffer,int,int,int,java.awt.Point)\" rel=\"nofollow noreferrer\">Create a Raster</a>, specifying that it should treat the buffer’s bytes as 1-bit pixels packed into bytes.</li>\n<li>Create a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/ColorModel.html\" rel=\"nofollow noreferrer\">ColorModel</a> indicating how the 1-bit pixels are to be written.</li>\n<li>Finally, create a BufferedImage from that Raster and ColorModel.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>DataBuffer buffer = new DataBufferByte(pixels, pixels.length);\nWritableRaster raster =\n    Raster.createPackedRaster(buffer, imageWidth, imageHeight, 1, null);\n\nbyte[] colors = { 0x00, (byte) 0xff };  // 0=black, 1=white\nColorModel colorModel =\n    new IndexColorModel(1, colors.length, colors, colors, colors);\n\nBufferedImage image =\n    new BufferedImage(colorModel, raster, false, new Properties());\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html#Compression\" rel=\"nofollow noreferrer\">ImageIO TIFF metadata specification</a> describes how to specify TIFF compression:</p>\n<pre><code>ImageWriter tiffWriter =\n    ImageIO.getImageWritersByFormatName(&quot;TIFF&quot;).next();\n\nImageWriteParam param = tiffWriter.getDefaultWriteParam();\n\nparam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\nparam.setCompressionType(&quot;CCITT T.4&quot;);\n\nIIOImage iioImage = new IIOImage(image, null, null);\n\ntry (ImageOutputStream out = ImageIO.createImageOutputStream(\n    new BufferedOutputStream(\n        Files.newOutputStream(filename)))) {\n\n    tiffWriter.setOutput(out);\n    tiffWriter.write(null, iioImage, param);\n} finally {\n    tiffWriter.dispose();\n}\n</code></pre>\n<p>Here is the full method:</p>\n<pre><code>public void writeTIFF(byte[] pixels,\n                      int imageWidth,\n                      int imageHeight,\n                      Path filename)\nthrows IOException {\n    DataBuffer buffer = new DataBufferByte(pixels, pixels.length);\n    WritableRaster raster =\n        Raster.createPackedRaster(buffer, imageWidth, imageHeight, 1, null);\n\n    byte[] colors = { 0x00, (byte) 0xff };  // 0=black, 1=white\n    ColorModel colorModel =\n        new IndexColorModel(1, colors.length, colors, colors, colors);\n\n    BufferedImage image =\n        new BufferedImage(colorModel, raster, false, new Properties());\n\n    ImageWriter tiffWriter =\n        ImageIO.getImageWritersByFormatName(&quot;TIFF&quot;).next();\n\n    ImageWriteParam param = tiffWriter.getDefaultWriteParam();\n\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n    param.setCompressionType(&quot;CCITT T.4&quot;);\n\n    IIOImage iioImage = new IIOImage(image, null, null);\n\n    try (ImageOutputStream out = ImageIO.createImageOutputStream(\n        new BufferedOutputStream(\n            Files.newOutputStream(filename)))) {\n\n        tiffWriter.setOutput(out);\n        tiffWriter.write(null, iioImage, param);\n    } finally {\n        tiffWriter.dispose();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29596513,"reputation":1,"user_id":22682914,"display_name":"greg2java"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696516319,"creation_date":1696426917,"question_id":77230118,"body_markdown":"\r\nIn Java, how could the same byte array be written to a tiff file using TIFFImageWriter, after creating an associated TIFFDirectory configured with TIFFFields\r\n\r\nHaven&#39;t seen any Java parallels yet.\r\n--------------------------------------------------\r\nMore info\r\n\r\nCompression: T4_COMPRESSION_T4_1D\r\n\r\nIn https://github.com/freeswitch/spandsp/blob/master/src/t4_t6_decode.c\r\n\r\nPer line of compressed fax image:\r\n\r\n /* Convert the runs to a bit image of the row */\r\n \r\n\r\n    /* White/black/white... runs, always starting with white. \r\n        That means the first run could be zero length. */\r\n    \r\n    \t    for (x = 0, fudge = 0;  x &lt; s-&gt;a_cursor;  x++, fudge ^= 0xFF)\r\n            {\r\n                i = s-&gt;cur_runs[x];\r\n                if ((int) i &gt;= s-&gt;pixels)\r\n                {\r\n                    s-&gt;pixel_stream = (s-&gt;pixel_stream &lt;&lt; s-&gt;pixels) |\r\n                                      (msbmask[s-&gt;pixels] &amp; fudge);\r\n                    for (i += (8 - s-&gt;pixels);  i &gt;= 8;  i -= 8)\r\n                    {\r\n                        s-&gt;pixels = 8;\r\n                        s-&gt;row_buf[row_pos++] = (uint8_t) s-&gt;pixel_stream;\r\n                        s-&gt;pixel_stream = fudge;\r\n                    }\r\n                }\r\n                s-&gt;pixel_stream = (s-&gt;pixel_stream &lt;&lt; i) | (msbmask[i] &amp; fudge);\r\n                s-&gt;pixels -= i;\r\n            }\r\n            s-&gt;image_length++;\r\n\t\t\r\nEach row_buf bytes get accumulated in image_buffer for a page, \r\nand in t4_rx.c  write_tiff_image(t4_rx_state_t *s), the strip\r\nis written to file via:\r\n\r\n     /* Let libtiff do the compression */\r\n     TIFFWriteEncodedStrip(t-&gt;tiff_file, 0, t-&gt;image_buffer, t-&gt;image_size)\r\n    \t\r\n\r\nQ: To do this in java, how would the byte array that contains the page\r\n   pixels/bits be passed to a TiffImageWriter object ?","title":"C: TIFFWriteEncodedStrip vs Java:?","body":"<p>In Java, how could the same byte array be written to a tiff file using TIFFImageWriter, after creating an associated TIFFDirectory configured with TIFFFields</p>\n<h2>Haven't seen any Java parallels yet.</h2>\n<p>More info</p>\n<p>Compression: T4_COMPRESSION_T4_1D</p>\n<p>In <a href=\"https://github.com/freeswitch/spandsp/blob/master/src/t4_t6_decode.c\" rel=\"nofollow noreferrer\">https://github.com/freeswitch/spandsp/blob/master/src/t4_t6_decode.c</a></p>\n<p>Per line of compressed fax image:</p>\n<p>/* Convert the runs to a bit image of the row */</p>\n<pre><code>/* White/black/white... runs, always starting with white. \n    That means the first run could be zero length. */\n\n        for (x = 0, fudge = 0;  x &lt; s-&gt;a_cursor;  x++, fudge ^= 0xFF)\n        {\n            i = s-&gt;cur_runs[x];\n            if ((int) i &gt;= s-&gt;pixels)\n            {\n                s-&gt;pixel_stream = (s-&gt;pixel_stream &lt;&lt; s-&gt;pixels) |\n                                  (msbmask[s-&gt;pixels] &amp; fudge);\n                for (i += (8 - s-&gt;pixels);  i &gt;= 8;  i -= 8)\n                {\n                    s-&gt;pixels = 8;\n                    s-&gt;row_buf[row_pos++] = (uint8_t) s-&gt;pixel_stream;\n                    s-&gt;pixel_stream = fudge;\n                }\n            }\n            s-&gt;pixel_stream = (s-&gt;pixel_stream &lt;&lt; i) | (msbmask[i] &amp; fudge);\n            s-&gt;pixels -= i;\n        }\n        s-&gt;image_length++;\n    \n</code></pre>\n<p>Each row_buf bytes get accumulated in image_buffer for a page,\nand in t4_rx.c  write_tiff_image(t4_rx_state_t *s), the strip\nis written to file via:</p>\n<pre><code> /* Let libtiff do the compression */\n TIFFWriteEncodedStrip(t-&gt;tiff_file, 0, t-&gt;image_buffer, t-&gt;image_size)\n    \n</code></pre>\n<p>Q: To do this in java, how would the byte array that contains the page\npixels/bits be passed to a TiffImageWriter object ?</p>\n"},{"tags":["java","android","azure","iot","azure-iot-hub"],"answers":[{"comments":[{"owner":{"account_id":29473140,"reputation":3,"user_id":22585425,"display_name":"koralr&#230;v"},"score":0,"creation_date":1695286695,"post_id":77135316,"comment_id":136005117,"body_markdown":"Thank you for your answer @Suresh Chikkam. \nAm I understanding correctly that this meta data will always be added to the message? And that the meta data will always include the System and Device properties? If so, then the final message constructed to be send will always end up being a little larger than the intended message. I still fail to understand how / why my message would end up being ~4 times larger. That seems like an unnessecary amount of meta data to add.","body":"Thank you for your answer @Suresh Chikkam.  Am I understanding correctly that this meta data will always be added to the message? And that the meta data will always include the System and Device properties? If so, then the final message constructed to be send will always end up being a little larger than the intended message. I still fail to understand how / why my message would end up being ~4 times larger. That seems like an unnessecary amount of meta data to add."},{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1695295993,"post_id":77135316,"comment_id":136007019,"body_markdown":"@koralr&#230;v, yes there is some metadata that is added to the message, including system and device properties. These properties are essential for the functioning and routing of messages within the Azure IoT infrastructure. The way you serialize your message before sending it might also impact its size. Ensure that you are serializing it correctly without unnecessary formatting.","body":"@koralr&#230;v, yes there is some metadata that is added to the message, including system and device properties. These properties are essential for the functioning and routing of messages within the Azure IoT infrastructure. The way you serialize your message before sending it might also impact its size. Ensure that you are serializing it correctly without unnecessary formatting."}],"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695132626,"creation_date":1695132626,"answer_id":77135316,"question_id":77127249,"body_markdown":"- You are embedding additional metadata and structure in your JSON payload. This metadata and structure include properties like &quot;SystemProperties&quot; and &quot;DeviceProperties,&quot; which are added as JSON arrays in your message.\r\n\r\nBefore modification my message size.\r\n![enter image description here](https://i.imgur.com/Xm0mIcT.png)\r\n\r\n- Here I simplified the structure of the JSON message and removed unnecessary properties and arrays.\r\n\r\n```java\r\npublic String createJson(ArrayList recSignal, String deviceId, String smartphoneId, int batterylevel) throws JSONException, UnsupportedEncodingException {\r\n\r\n    JSONObject messageObject = new JSONObject();\r\n\r\n    try {\r\n        messageObject.put(&quot;messageId&quot;, UUID.randomUUID().toString());\r\n        messageObject.put(&quot;correlationId&quot;, &quot;???&quot;);\r\n        messageObject.put(&quot;connectionDeviceId&quot;, smartphoneId);\r\n        messageObject.put(&quot;contentType&quot;, &quot;UTF-8&quot;);\r\n        messageObject.put(&quot;enqueuedTime&quot;, Instant.now().toString());\r\n        messageObject.put(&quot;deviceId&quot;, deviceId);\r\n        messageObject.put(&quot;deviceBatteryLevel&quot;, batterylevel);\r\n        messageObject.put(&quot;Body&quot;, recSignal);\r\n    } catch (JSONException e) {\r\n        throw new JSONException(e);\r\n    }\r\n\r\n    String jsonMessage = messageObject.toString();\r\n\r\n    Log.i(&quot;Service&quot;, &quot;Size of JSON as string is: &quot; + jsonMessage.getBytes(&quot;UTF-8&quot;).length / 1000 + &quot;kb&quot;);\r\n\r\n    // *** NOW THE SIZE OF THE JSON OBJECT SHOULD BE SMALLER ***\r\n\r\n    return jsonMessage;\r\n}\r\n```\r\n- Here I am able to connect with created Device in the portal and able to build successfully.\r\n\r\n![enter image description here](https://i.imgur.com/e1JP13x.png)\r\n\r\n- Here I am able to receive the messages to Azure IOT hub with the updated code.\r\n\r\n![enter image description here](https://i.imgur.com/0B9YTu1.png)\r\n\r\n![enter image description here](https://i.imgur.com/mfs5rW7.png)\r\n\r\n- Reference taken from &quot;Send cloud-to-device messages with [IoT Hub (Java)](https://learn.microsoft.com/en-us/azure/iot-hub/c2d-messaging-java)&quot;","title":"Message to Azure IoT is several times larger than the actual message body","body":"<ul>\n<li>You are embedding additional metadata and structure in your JSON payload. This metadata and structure include properties like &quot;SystemProperties&quot; and &quot;DeviceProperties,&quot; which are added as JSON arrays in your message.</li>\n</ul>\n<p>Before modification my message size.\n<img src=\"https://i.imgur.com/Xm0mIcT.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Here I simplified the structure of the JSON message and removed unnecessary properties and arrays.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public String createJson(ArrayList recSignal, String deviceId, String smartphoneId, int batterylevel) throws JSONException, UnsupportedEncodingException {\n\n    JSONObject messageObject = new JSONObject();\n\n    try {\n        messageObject.put(&quot;messageId&quot;, UUID.randomUUID().toString());\n        messageObject.put(&quot;correlationId&quot;, &quot;???&quot;);\n        messageObject.put(&quot;connectionDeviceId&quot;, smartphoneId);\n        messageObject.put(&quot;contentType&quot;, &quot;UTF-8&quot;);\n        messageObject.put(&quot;enqueuedTime&quot;, Instant.now().toString());\n        messageObject.put(&quot;deviceId&quot;, deviceId);\n        messageObject.put(&quot;deviceBatteryLevel&quot;, batterylevel);\n        messageObject.put(&quot;Body&quot;, recSignal);\n    } catch (JSONException e) {\n        throw new JSONException(e);\n    }\n\n    String jsonMessage = messageObject.toString();\n\n    Log.i(&quot;Service&quot;, &quot;Size of JSON as string is: &quot; + jsonMessage.getBytes(&quot;UTF-8&quot;).length / 1000 + &quot;kb&quot;);\n\n    // *** NOW THE SIZE OF THE JSON OBJECT SHOULD BE SMALLER ***\n\n    return jsonMessage;\n}\n</code></pre>\n<ul>\n<li>Here I am able to connect with created Device in the portal and able to build successfully.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/e1JP13x.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Here I am able to receive the messages to Azure IOT hub with the updated code.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/0B9YTu1.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/mfs5rW7.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Reference taken from &quot;Send cloud-to-device messages with <a href=\"https://learn.microsoft.com/en-us/azure/iot-hub/c2d-messaging-java\" rel=\"nofollow noreferrer\">IoT Hub (Java)</a>&quot;</li>\n</ul>\n"}],"owner":{"account_id":29473140,"reputation":3,"user_id":22585425,"display_name":"koralr&#230;v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77135316,"answer_count":1,"score":0,"last_activity_date":1696516258,"creation_date":1695040309,"question_id":77127249,"body_markdown":"I am building an app in Java for Android. The app can communicate to an sensor device, receive recorded data from the device and send it to an Azure IoT hub.\r\nHowever, when I construct the message to send to Azure, the size of the message is over three times larger than the actural data recording I am trying to send.\r\nOne recording from the device is around 370 kb, while the message constructed to be send to Azure ends up being around 1500 kb.\r\nI have followed this example for creating the part of the code sending data to Azure: [send event example](https://github.com/Azure/azure-iot-sdk-java/blob/main/iothub/device/iot-device-samples/send-event/src/main/java/samples/com/microsoft/azure/sdk/iot/SendEvent.java)\r\n\r\nBefore sending the recorded data to Azure I construct a json object, because I also want to save the data locally as a backup, in case the Android cannot establish connection to Azure. I want the data (recording, time of recording, messageId, deviceId, etc.) I send to Azure to be identical to what is saved locally so I can match them later on if necessary.\r\n\r\nHere is my code for constructing the JSON object I set at the body of the message to Azure:\r\n\r\n```\r\npublic String createJson(ArrayList recSignal, String deviceId, String smartphoneId, int batterylevel) throws JSONException, UnsupportedEncodingException {\r\n\r\n        JSONArray SysProp = new JSONArray();\r\n        SysProp.put(&quot;SystemProperties&quot;);\r\n\r\n        JSONObject SysPropValues = new JSONObject();\r\n        try {\r\n            SysPropValues.put(&quot;messageId&quot;, UUID.randomUUID().toString());\r\n            SysPropValues.put(&quot;correlationId&quot;, &quot;???&quot;);\r\n            SysPropValues.put(&quot;connectionDeviceId&quot;, smartphoneId); //&lt;-- name of smartphone device in the cloud\r\n            SysPropValues.put(&quot;contentType&quot;, &quot;UTF-8&quot;);\r\n            SysPropValues.put(&quot;enqueuedTime&quot;, Instant.now().toString());\r\n        } catch (\r\n                JSONException e) {\r\n            throw new JSONException(e);\r\n        }\r\n        SysProp.put(SysPropValues);\r\n\r\n        JSONArray DeviceProp = new JSONArray();\r\n        DeviceProp.put(&quot;DeviceProperties&quot;);\r\n\r\n        JSONObject DevicePropValues = new JSONObject();\r\n        try {\r\n            DevicePropValues.put(&quot;deviceId&quot;, deviceId); //&lt;-- MAC of the connected device\r\n            DevicePropValues.put(&quot;deviceBatteryLevel&quot;, batterylevel);\r\n        } catch (JSONException e) {\r\n            throw new JSONException(e);\r\n        }\r\n        DeviceProp.put(DevicePropValues);\r\n\r\n        JSONObject RecordingBody = new JSONObject();\r\n        RecordingBody.put(&quot;Body&quot;, recSignal);\r\n\r\n        JSONArray jsonmessage = new JSONArray();  //&lt;-- json to be send to azure\r\n        jsonmessage.put(SysProp);\r\n        jsonmessage.put(DeviceProp);\r\n        jsonmessage.put(RecordingBody);\r\n\r\n        jsonmessagestring = jsonmessage.toString();\r\n\r\n        Log.i(&quot;Service&quot;, &quot;Size of JSON as string is: &quot; + jsonmessagestring.getBytes(&quot;UTF-8&quot;).length/1000 + &quot;kb&quot;);\r\n\r\n        // *** HERE THE SIZE OF THE JSON OBJECT IS AROUND 370 KB ***\r\n\r\n        return jsonmessagestring;\r\n\r\n    }\r\n```\r\n\r\nHere is my code for sending to Azure. This is taken from the example mentioned earlier.\r\n\r\n```\r\nprivate boolean connectAndSend(String dataToSend, String connString, int numRepeatMessageSend) throws IOException, URISyntaxException, InterruptedException, IotHubClientException {\r\n\r\n        DeviceClient client = new DeviceClient(connString, protocol);\r\n        client.setMessageCallback(new MessageCallbackMqtt(), null);\r\n        client.setConnectionStatusChangeCallback(new IotHubConnectionStatusChangeCallbackLogger(), new Object());\r\n        Log.i(&quot;Service&quot;, &quot;Successfully created an IoT Hub client with callback settings.&quot;);\r\n\r\n        client.open(true);\r\n        Log.i(&quot;Service&quot;, &quot;Opened connection to IoT Hub.&quot;);\r\n\r\n\r\n        // send message to azure\r\n        Log.i(&quot;Service&quot;, &quot;Constructing message to send to Azure&quot;);\r\n\r\n        Message msg = new Message(dataToSend);\r\n        msg.setContentType(&quot;application/json;charset=utf-8&quot;);\r\n        boolean messageSend = false;\r\n\r\n        Log.i(&quot;Service&quot;, &quot;Size of message to send to azure is: &quot; + Arrays.toString(msg.getBytes()).length()/1000 + &quot;kb&quot;);\r\n        \r\n        // *** HERE THE SIZE OF THE MESSSAGE IS AROUND 1500 KB ***\r\n\r\n        for (int i = 0; i &lt; numRepeatMessageSend; i++) {\r\n              try {\r\n                   client.sendEvent(msg, D2C_MESSAGE_TIMEOUT_MILLISECONDS);\r\n                   messageSend = true;\r\n                   Log.i(&quot;Service&quot;, &quot;Successfully send message to Azure&quot;);\r\n                    \r\n              } catch (IotHubClientException e) {\r\n                   Log.i(&quot;Service&quot;, &quot;Failed to send message to Azure. Status code: &quot; + e.getStatusCode());\r\n              }\r\n        }\r\n\r\n        // close the connection to client\r\n        Log.i(TAG, &quot;Closing client&quot;);\r\n        client.close();\r\n        return messageSend;\r\n}\r\n```\r\n\r\nI read [here](https://learn.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-messages-construct#message-size) about the message size of Azure IoT hub messages that the final size is the sum of the body size, values of the message system properties and user properties, so I understand the actual message send to Azure will be larger than the body of data I am trying to send, but I fail to understand why it ends up so much larger.\r\n\r\nIf anyone can explain me why or has a suggestion to reduce the message size it would be highly appreciated.","title":"Message to Azure IoT is several times larger than the actual message body","body":"<p>I am building an app in Java for Android. The app can communicate to an sensor device, receive recorded data from the device and send it to an Azure IoT hub.\nHowever, when I construct the message to send to Azure, the size of the message is over three times larger than the actural data recording I am trying to send.\nOne recording from the device is around 370 kb, while the message constructed to be send to Azure ends up being around 1500 kb.\nI have followed this example for creating the part of the code sending data to Azure: <a href=\"https://github.com/Azure/azure-iot-sdk-java/blob/main/iothub/device/iot-device-samples/send-event/src/main/java/samples/com/microsoft/azure/sdk/iot/SendEvent.java\" rel=\"nofollow noreferrer\">send event example</a></p>\n<p>Before sending the recorded data to Azure I construct a json object, because I also want to save the data locally as a backup, in case the Android cannot establish connection to Azure. I want the data (recording, time of recording, messageId, deviceId, etc.) I send to Azure to be identical to what is saved locally so I can match them later on if necessary.</p>\n<p>Here is my code for constructing the JSON object I set at the body of the message to Azure:</p>\n<pre><code>public String createJson(ArrayList recSignal, String deviceId, String smartphoneId, int batterylevel) throws JSONException, UnsupportedEncodingException {\n\n        JSONArray SysProp = new JSONArray();\n        SysProp.put(&quot;SystemProperties&quot;);\n\n        JSONObject SysPropValues = new JSONObject();\n        try {\n            SysPropValues.put(&quot;messageId&quot;, UUID.randomUUID().toString());\n            SysPropValues.put(&quot;correlationId&quot;, &quot;???&quot;);\n            SysPropValues.put(&quot;connectionDeviceId&quot;, smartphoneId); //&lt;-- name of smartphone device in the cloud\n            SysPropValues.put(&quot;contentType&quot;, &quot;UTF-8&quot;);\n            SysPropValues.put(&quot;enqueuedTime&quot;, Instant.now().toString());\n        } catch (\n                JSONException e) {\n            throw new JSONException(e);\n        }\n        SysProp.put(SysPropValues);\n\n        JSONArray DeviceProp = new JSONArray();\n        DeviceProp.put(&quot;DeviceProperties&quot;);\n\n        JSONObject DevicePropValues = new JSONObject();\n        try {\n            DevicePropValues.put(&quot;deviceId&quot;, deviceId); //&lt;-- MAC of the connected device\n            DevicePropValues.put(&quot;deviceBatteryLevel&quot;, batterylevel);\n        } catch (JSONException e) {\n            throw new JSONException(e);\n        }\n        DeviceProp.put(DevicePropValues);\n\n        JSONObject RecordingBody = new JSONObject();\n        RecordingBody.put(&quot;Body&quot;, recSignal);\n\n        JSONArray jsonmessage = new JSONArray();  //&lt;-- json to be send to azure\n        jsonmessage.put(SysProp);\n        jsonmessage.put(DeviceProp);\n        jsonmessage.put(RecordingBody);\n\n        jsonmessagestring = jsonmessage.toString();\n\n        Log.i(&quot;Service&quot;, &quot;Size of JSON as string is: &quot; + jsonmessagestring.getBytes(&quot;UTF-8&quot;).length/1000 + &quot;kb&quot;);\n\n        // *** HERE THE SIZE OF THE JSON OBJECT IS AROUND 370 KB ***\n\n        return jsonmessagestring;\n\n    }\n</code></pre>\n<p>Here is my code for sending to Azure. This is taken from the example mentioned earlier.</p>\n<pre><code>private boolean connectAndSend(String dataToSend, String connString, int numRepeatMessageSend) throws IOException, URISyntaxException, InterruptedException, IotHubClientException {\n\n        DeviceClient client = new DeviceClient(connString, protocol);\n        client.setMessageCallback(new MessageCallbackMqtt(), null);\n        client.setConnectionStatusChangeCallback(new IotHubConnectionStatusChangeCallbackLogger(), new Object());\n        Log.i(&quot;Service&quot;, &quot;Successfully created an IoT Hub client with callback settings.&quot;);\n\n        client.open(true);\n        Log.i(&quot;Service&quot;, &quot;Opened connection to IoT Hub.&quot;);\n\n\n        // send message to azure\n        Log.i(&quot;Service&quot;, &quot;Constructing message to send to Azure&quot;);\n\n        Message msg = new Message(dataToSend);\n        msg.setContentType(&quot;application/json;charset=utf-8&quot;);\n        boolean messageSend = false;\n\n        Log.i(&quot;Service&quot;, &quot;Size of message to send to azure is: &quot; + Arrays.toString(msg.getBytes()).length()/1000 + &quot;kb&quot;);\n        \n        // *** HERE THE SIZE OF THE MESSSAGE IS AROUND 1500 KB ***\n\n        for (int i = 0; i &lt; numRepeatMessageSend; i++) {\n              try {\n                   client.sendEvent(msg, D2C_MESSAGE_TIMEOUT_MILLISECONDS);\n                   messageSend = true;\n                   Log.i(&quot;Service&quot;, &quot;Successfully send message to Azure&quot;);\n                    \n              } catch (IotHubClientException e) {\n                   Log.i(&quot;Service&quot;, &quot;Failed to send message to Azure. Status code: &quot; + e.getStatusCode());\n              }\n        }\n\n        // close the connection to client\n        Log.i(TAG, &quot;Closing client&quot;);\n        client.close();\n        return messageSend;\n}\n</code></pre>\n<p>I read <a href=\"https://learn.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-messages-construct#message-size\" rel=\"nofollow noreferrer\">here</a> about the message size of Azure IoT hub messages that the final size is the sum of the body size, values of the message system properties and user properties, so I understand the actual message send to Azure will be larger than the body of data I am trying to send, but I fail to understand why it ends up so much larger.</p>\n<p>If anyone can explain me why or has a suggestion to reduce the message size it would be highly appreciated.</p>\n"},{"tags":["java","spring-boot","jms","ibm-mq"],"owner":{"account_id":21068817,"reputation":11,"user_id":15485464,"display_name":"athul rajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696516139,"creation_date":1696499283,"question_id":77236001,"body_markdown":"I am facing an issue where the listener is not reading messages from IBM MQ after the service being inactive for a long period, probably like a month or so. Below is a warning from Tomcat&#39;s log suggesting a memory leak with IBM MQ dependency: `mq-jms-spring-boot-starter`. Please suggest what can be done from my end.\r\n - Java version: 8\r\n - Spring Boot: 2.2.4.RELEASE\r\n - `mq-jms-spring-boot-starter` 2.0.0\r\n\r\n```\r\n13-Sep-2023 14:32:35.686 WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [psh-common-payment-service] appears to have started a thread named [JMSCCThreadPoolMaster] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.lang.Object.wait(Native Method)\r\n java.lang.Object.wait(Unknown Source)\r\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$WorkQueueManagerThread.waitForNotification(WorkQueueManagerImplementation.java:672)\r\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$WorkQueueManagerThread.waitForNotification(WorkQueueManagerImplementation.java:641)\r\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$WorkQueueManagerThread.run(WorkQueueManagerImplementation.java:908)\r\n13-Sep-2023 14:32:35.686 WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [psh-common-payment-service] appears to have started a thread named [JMSCCThreadPoolWorker-3] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.lang.Object.wait(Native Method)\r\n java.lang.Object.wait(Unknown Source)\r\n com.ibm.mq.jmqi.remote.impl.RemoteReconnectThread.bestHconn(RemoteReconnectThread.java:654)\r\n com.ibm.mq.jmqi.remote.impl.RemoteReconnectThread.run(RemoteReconnectThread.java:128)\r\n com.ibm.msg.client.commonservices.workqueue.WorkQueueItem.runTask(WorkQueueItem.java:319)\r\n com.ibm.msg.client.commonservices.workqueue.SimpleWorkQueueItem.runItem(SimpleWorkQueueItem.java:99)\r\n com.ibm.msg.client.commonservices.workqueue.WorkQueueItem.run(WorkQueueItem.java:343)\r\n com.ibm.msg.client.commonservices.workqueue.WorkQueueManager.runWorkQueueItem(WorkQueueManager.java:312)\r\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$ThreadPoolWorker.run(WorkQueueManagerImplementation.java:1227)\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@3bd064d9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@100321c1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@7479a90f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@34612196]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@3de513f2]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@7ea65d33]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@472ea239]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@7afe56db]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@6f91b0f5]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@231227f1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@111f76c0]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@195fb2b6]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@7b2bbf70]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@49b4324b]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@23f7f4cb]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n```\r\n\r\nI am not sure if the above error is causing this behavior or there are some other factors at play.\r\n\r\n\r\n  [1]: https://justpaste.it/8ror5","title":"Spring Boot JmsListener not reading from IBM MQ after service inactive for long periods (e.g. 1 month)","body":"<p>I am facing an issue where the listener is not reading messages from IBM MQ after the service being inactive for a long period, probably like a month or so. Below is a warning from Tomcat's log suggesting a memory leak with IBM MQ dependency: <code>mq-jms-spring-boot-starter</code>. Please suggest what can be done from my end.</p>\n<ul>\n<li>Java version: 8</li>\n<li>Spring Boot: 2.2.4.RELEASE</li>\n<li><code>mq-jms-spring-boot-starter</code> 2.0.0</li>\n</ul>\n<pre><code>13-Sep-2023 14:32:35.686 WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [psh-common-payment-service] appears to have started a thread named [JMSCCThreadPoolMaster] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.Object.wait(Unknown Source)\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$WorkQueueManagerThread.waitForNotification(WorkQueueManagerImplementation.java:672)\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$WorkQueueManagerThread.waitForNotification(WorkQueueManagerImplementation.java:641)\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$WorkQueueManagerThread.run(WorkQueueManagerImplementation.java:908)\n13-Sep-2023 14:32:35.686 WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [psh-common-payment-service] appears to have started a thread named [JMSCCThreadPoolWorker-3] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.Object.wait(Unknown Source)\n com.ibm.mq.jmqi.remote.impl.RemoteReconnectThread.bestHconn(RemoteReconnectThread.java:654)\n com.ibm.mq.jmqi.remote.impl.RemoteReconnectThread.run(RemoteReconnectThread.java:128)\n com.ibm.msg.client.commonservices.workqueue.WorkQueueItem.runTask(WorkQueueItem.java:319)\n com.ibm.msg.client.commonservices.workqueue.SimpleWorkQueueItem.runItem(SimpleWorkQueueItem.java:99)\n com.ibm.msg.client.commonservices.workqueue.WorkQueueItem.run(WorkQueueItem.java:343)\n com.ibm.msg.client.commonservices.workqueue.WorkQueueManager.runWorkQueueItem(WorkQueueManager.java:312)\n com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$ThreadPoolWorker.run(WorkQueueManagerImplementation.java:1227)\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@3bd064d9]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@100321c1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@7479a90f]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@34612196]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@3de513f2]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@7ea65d33]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@472ea239]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@7afe56db]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@6f91b0f5]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@231227f1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@111f76c0]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@5e40451f]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@28cd69b4]) and a value of type [com.ibm.mq.jmqi.system.JmqiCodepage] (value [37(IBM037) Unmappable Action: REPORT Unmappable Replacement: 63]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@195fb2b6]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [com.ibm.msg.client.jms.internal.JmsTls$1] (value [com.ibm.msg.client.jms.internal.JmsTls$1@6a0d4488]) and a value of type [com.ibm.msg.client.jms.internal.JmsTls] (value [com.ibm.msg.client.jms.internal.JmsTls@7b2bbf70]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@49b4324b]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Sep-2023 14:32:35.686 SEVERE [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [psh-common-payment-service] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@102a1e48]) and a value of type [com.ibm.mq.jmqi.system.JmqiComponentTls[]] (value [[Lcom.ibm.mq.jmqi.system.JmqiComponentTls;@23f7f4cb]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n<p>I am not sure if the above error is causing this behavior or there are some other factors at play.</p>\n"},{"tags":["javascript","java","selenium"],"comments":[{"owner":{"account_id":793782,"reputation":5089,"user_id":888587,"accept_rate":100,"display_name":"Brian"},"score":0,"creation_date":1635178142,"post_id":69710309,"comment_id":123220732,"body_markdown":"Have you looked into using the IAlert interface?","body":"Have you looked into using the IAlert interface?"}],"answers":[{"comments":[{"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"score":0,"creation_date":1635233261,"post_id":69718465,"comment_id":123234474,"body_markdown":"Hi, the page is fully loading before the Click. I even placed a breakpoint on the line before the click. At this point I manually clicked the button and it worked as expected, so I cancelled and then allowed the automation click to happen, the popup again appeared and disappeared straight away.","body":"Hi, the page is fully loading before the Click. I even placed a breakpoint on the line before the click. At this point I manually clicked the button and it worked as expected, so I cancelled and then allowed the automation click to happen, the popup again appeared and disappeared straight away."},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1635240673,"post_id":69718465,"comment_id":123237342,"body_markdown":"please paste the exact error ?","body":"please paste the exact error ?"},{"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"score":0,"creation_date":1635244311,"post_id":69718465,"comment_id":123238924,"body_markdown":"There is no error. The popup appears and then disappears before the script can click on it.","body":"There is no error. The popup appears and then disappears before the script can click on it."},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1635401994,"post_id":69718465,"comment_id":123288997,"body_markdown":"then your script is clicking the okay i guess","body":"then your script is clicking the okay i guess"},{"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"score":0,"creation_date":1635418053,"post_id":69718465,"comment_id":123295420,"body_markdown":"Yep, all sorted thanks","body":"Yep, all sorted thanks"}],"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635230308,"creation_date":1635230308,"answer_id":69718465,"question_id":69710309,"body_markdown":"I hope you are clicking the delete button before page loads completely, that is why pop is disappearing suddenly. please add wait before clicking delete button.\r\n\r\n**Steps:** \r\n\r\n 1. Load the page completely (add wait here)\r\n 2. Click the delete button\r\n 3. click Okay button.\r\n\r\n\r\nplease add some more codes here and screenshots too. that would be more helpful\r\n\r\n","title":"Selenium test - OK/Cancel popup disappearing immediately","body":"<p>I hope you are clicking the delete button before page loads completely, that is why pop is disappearing suddenly. please add wait before clicking delete button.</p>\n<p><strong>Steps:</strong></p>\n<ol>\n<li>Load the page completely (add wait here)</li>\n<li>Click the delete button</li>\n<li>click Okay button.</li>\n</ol>\n<p>please add some more codes here and screenshots too. that would be more helpful</p>\n"},{"comments":[{"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"score":0,"creation_date":1635244256,"post_id":69720850,"comment_id":123238896,"body_markdown":"Thanks for info but the problem is that when automation clicks the button the popup will appear and then disappear immediately, there is nothing to wait for. If I manually click the button then the popup appears and remains, I can then continue.","body":"Thanks for info but the problem is that when automation clicks the button the popup will appear and then disappear immediately, there is nothing to wait for. If I manually click the button then the popup appears and remains, I can then continue."},{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1635244611,"post_id":69720850,"comment_id":123239051,"body_markdown":"Try these 3 -&gt; 1. Put a hardcode wait after clicking and comment out rest of the code? Check what exactly is happening? 2. Change click to doubleClick()  3. Try to use selenium click method instead of java script executor","body":"Try these 3 -&gt; 1. Put a hardcode wait after clicking and comment out rest of the code? Check what exactly is happening? 2. Change click to doubleClick()  3. Try to use selenium click method instead of java script executor"},{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1635246878,"post_id":69720850,"comment_id":123239929,"body_markdown":"Did you check with selenium click and double click methods instead of java script click?","body":"Did you check with selenium click and double click methods instead of java script click?"},{"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"score":0,"creation_date":1635252227,"post_id":69720850,"comment_id":123242291,"body_markdown":"I have just updated the main thread","body":"I have just updated the main thread"},{"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"score":0,"creation_date":1635253363,"post_id":69720850,"comment_id":123242849,"body_markdown":"Ok found it\n\nThe issue was within the chromedriver, this line fixed it\n\nchromeOptions.setCapability(&quot;unexpectedAlertBehaviour&quot;, &quot;ignore&quot;);\n\nNow the popup remains until actioned in the script.\n\nWe live and learn, thanks for all your help.","body":"Ok found it  The issue was within the chromedriver, this line fixed it  chromeOptions.setCapability(&quot;unexpectedAlertBehaviour&quot;, &quot;ignore&quot;);  Now the popup remains until actioned in the script.  We live and learn, thanks for all your help."},{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1635253548,"post_id":69720850,"comment_id":123242925,"body_markdown":"Something new to learn. You can post that as a answer, so that it can help rest of the community.","body":"Something new to learn. You can post that as a answer, so that it can help rest of the community."}],"tags":[],"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635241586,"creation_date":1635241586,"answer_id":69720850,"question_id":69710309,"body_markdown":"This looks like a java script alert. In selenium, we have specific way to handle alert. You do not need to click on ok. You can first wait for alert to be present. If it is present, then switch to that alert. \r\n\r\nThen, We have specific methods to handle alerts in selenium. \r\n\r\nalert.accept() clicks on ok.\r\n\r\nalert.dismiss() clicks on cancel.\r\n\r\n\r\n**Sample code from selenium documentation:**\r\n\r\n\r\n    driver.findElement(By.linkText(&quot;See a sample prompt&quot;)).click();\r\n    \r\n    //Wait for the alert to be displayed and store it in a variable\r\n    Alert alert = wait.until(ExpectedConditions.alertIsPresent());\r\n    \r\n    //Type your message\r\n    alert.sendKeys(&quot;Selenium&quot;);\r\n    \r\n    //Press the OK button\r\n    alert.accept();\r\n\r\n    //Press the Cancel button\r\n    alert.dismiss();\r\n\r\n    //Store the alert in a variable for reuse\r\n    String text = alert.getText();","title":"Selenium test - OK/Cancel popup disappearing immediately","body":"<p>This looks like a java script alert. In selenium, we have specific way to handle alert. You do not need to click on ok. You can first wait for alert to be present. If it is present, then switch to that alert.</p>\n<p>Then, We have specific methods to handle alerts in selenium.</p>\n<p>alert.accept() clicks on ok.</p>\n<p>alert.dismiss() clicks on cancel.</p>\n<p><strong>Sample code from selenium documentation:</strong></p>\n<pre><code>driver.findElement(By.linkText(&quot;See a sample prompt&quot;)).click();\n\n//Wait for the alert to be displayed and store it in a variable\nAlert alert = wait.until(ExpectedConditions.alertIsPresent());\n\n//Type your message\nalert.sendKeys(&quot;Selenium&quot;);\n\n//Press the OK button\nalert.accept();\n\n//Press the Cancel button\nalert.dismiss();\n\n//Store the alert in a variable for reuse\nString text = alert.getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635253402,"creation_date":1635253402,"answer_id":69723639,"question_id":69710309,"body_markdown":"Ok found it\r\n\r\nThe issue was within the chromedriver, this line fixed it\r\n\r\nchromeOptions.setCapability(&quot;unexpectedAlertBehaviour&quot;, &quot;ignore&quot;);\r\n\r\nNow the popup remains until actioned in the script.\r\n\r\nWe live and learn, thanks for all your help.","title":"Selenium test - OK/Cancel popup disappearing immediately","body":"<p>Ok found it</p>\n<p>The issue was within the chromedriver, this line fixed it</p>\n<p>chromeOptions.setCapability(&quot;unexpectedAlertBehaviour&quot;, &quot;ignore&quot;);</p>\n<p>Now the popup remains until actioned in the script.</p>\n<p>We live and learn, thanks for all your help.</p>\n"},{"tags":[],"owner":{"account_id":12293698,"reputation":131,"user_id":8970030,"display_name":"Jenny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696515924,"creation_date":1696515924,"answer_id":77238071,"question_id":69710309,"body_markdown":"I got the same error and I tried to adjust the browser window size and my problem was resolved. \r\n\r\n    webdriver.ExecuteScript($&quot;document.body.style.zoom=&#39;100%&#39;&quot;);","title":"Selenium test - OK/Cancel popup disappearing immediately","body":"<p>I got the same error and I tried to adjust the browser window size and my problem was resolved.</p>\n<pre><code>webdriver.ExecuteScript($&quot;document.body.style.zoom='100%'&quot;);\n</code></pre>\n"}],"owner":{"account_id":343177,"reputation":142,"user_id":674718,"accept_rate":100,"display_name":"Kev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77238071,"answer_count":4,"score":2,"last_activity_date":1696515924,"creation_date":1635173772,"question_id":69710309,"body_markdown":"Odd one here. When testing this manually I click the delete button, wait for the popup\r\n[![enter image description here][1]][1]\r\nThen I click OK and the record is removed as expected.\r\nBut when I try to do the same in Java/Selenium it goes like this-&gt;\r\n\r\n    WebElement element = _driver.findElement(By.id(&quot;btnDeletePatient&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)_driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\nor\r\n\r\n    _driver.findElement(By.id(&quot;btnDeletePatient&quot;)).click();\r\n\r\nBoth have the same response, the OK/Cancel popup will appear and then immediately vanish.\r\n\r\nThis is the code for the button\r\n\r\n    &lt;input type=&quot;submit&quot; name=&quot;ctl00$cpContentLeft$btnPatient&quot; \r\n    value=&quot;Delete User&quot; onclick=&quot;return userDelete();&quot; \r\n    id=&quot;ctl00_cpContentLeft_btnPatient&quot; \r\n    tabindex=&quot;81&quot; class=&quot;btn btn-outline-primary btn-sm mr-3&quot;&gt;\r\n\r\nAnd this is the code for the function userDelete\r\n\r\n     function userDelete() {\r\n            if (confirm(&quot;Are you sure you wish to delete this user?&quot;)) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n Also I have now tried the same in Edge, same thing so this does not appear to be a Chrome issue.\r\n\r\nAnyone got any ideas what is causing this please?\r\n\r\n\r\nFurther tests as follows.\r\nI place a breakpoint just at the point the script will click the delete run and run the script. The page loads as expected and I get to the problem point.\r\n1. I manually click the Delete button, the popup appears and then stays until I click cancel.\r\n2. Using this code I step through and the popup appears and then instantly disappears.\r\n\r\n    _driver.findElement(By.id(&quot;ctl00_cpContentLeft_btnDelete&quot;)).click();\r\n\r\n3. Using this code the response is the say as 2.\r\n\r\n    _driver.findElement(By.id(&quot;ctl00_cpContentLeft_btnDeletePatient&quot;)).sendKeys(Keys.SPACE);\r\n4. Then I try a double click and nothing happens.\r\nOn all tests I see no errors in the console.\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6PMS4.png","title":"Selenium test - OK/Cancel popup disappearing immediately","body":"<p>Odd one here. When testing this manually I click the delete button, wait for the popup\n<a href=\"https://i.stack.imgur.com/6PMS4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PMS4.png\" alt=\"enter image description here\" /></a>\nThen I click OK and the record is removed as expected.\nBut when I try to do the same in Java/Selenium it goes like this-&gt;</p>\n<pre><code>WebElement element = _driver.findElement(By.id(&quot;btnDeletePatient&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)_driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n<p>or</p>\n<pre><code>_driver.findElement(By.id(&quot;btnDeletePatient&quot;)).click();\n</code></pre>\n<p>Both have the same response, the OK/Cancel popup will appear and then immediately vanish.</p>\n<p>This is the code for the button</p>\n<pre><code>&lt;input type=&quot;submit&quot; name=&quot;ctl00$cpContentLeft$btnPatient&quot; \nvalue=&quot;Delete User&quot; onclick=&quot;return userDelete();&quot; \nid=&quot;ctl00_cpContentLeft_btnPatient&quot; \ntabindex=&quot;81&quot; class=&quot;btn btn-outline-primary btn-sm mr-3&quot;&gt;\n</code></pre>\n<p>And this is the code for the function userDelete</p>\n<pre><code> function userDelete() {\n        if (confirm(&quot;Are you sure you wish to delete this user?&quot;)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n</code></pre>\n<p>Also I have now tried the same in Edge, same thing so this does not appear to be a Chrome issue.</p>\n<p>Anyone got any ideas what is causing this please?</p>\n<p>Further tests as follows.\nI place a breakpoint just at the point the script will click the delete run and run the script. The page loads as expected and I get to the problem point.</p>\n<ol>\n<li><p>I manually click the Delete button, the popup appears and then stays until I click cancel.</p>\n</li>\n<li><p>Using this code I step through and the popup appears and then instantly disappears.</p>\n<p>_driver.findElement(By.id(&quot;ctl00_cpContentLeft_btnDelete&quot;)).click();</p>\n</li>\n<li><p>Using this code the response is the say as 2.</p>\n<p>_driver.findElement(By.id(&quot;ctl00_cpContentLeft_btnDeletePatient&quot;)).sendKeys(Keys.SPACE);</p>\n</li>\n<li><p>Then I try a double click and nothing happens.\nOn all tests I see no errors in the console.</p>\n</li>\n</ol>\n"},{"tags":["java","windows","autohotkey"],"comments":[{"owner":{"account_id":1340202,"reputation":3985,"user_id":1282023,"accept_rate":60,"display_name":"MCL"},"score":0,"creation_date":1379193296,"post_id":18806437,"comment_id":27735866,"body_markdown":"What do `AHK_BRIDGE` and `data` contain? Please post a sufficient amount of code.","body":"What do <code>AHK_BRIDGE</code> and <code>data</code> contain? Please post a sufficient amount of code."}],"answers":[{"tags":[],"owner":{"account_id":2390049,"reputation":495,"user_id":2090070,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379194418,"creation_date":1379194418,"answer_id":18806612,"question_id":18806437,"body_markdown":"You could bring another middle man into it, ie a bat script that launches ahk. Which could be launched through exec, here is an so post on launching bat\r\n\r\nhttps://stackoverflow.com/questions/615948/how-do-i-run-a-batch-file-from-my-java-application\r\n\r\nFirst try command line invocation of ahk passing the script but I&#39;m not sure that will work, worth a try though","title":"Run a autohotkey (ahk) script from java","body":"<p>You could bring another middle man into it, ie a bat script that launches ahk. Which could be launched through exec, here is an so post on launching bat</p>\n\n<p><a href=\"https://stackoverflow.com/questions/615948/how-do-i-run-a-batch-file-from-my-java-application\">How do I run a batch file from my Java Application?</a></p>\n\n<p>First try command line invocation of ahk passing the script but I'm not sure that will work, worth a try though</p>\n"},{"comments":[{"owner":{"account_id":1340202,"reputation":3985,"user_id":1282023,"accept_rate":60,"display_name":"MCL"},"score":1,"creation_date":1379252251,"post_id":18806690,"comment_id":27747023,"body_markdown":"@Eildosa Depending on what you&#39;re doing, you could also consider incorporating `AutoHotkey.dll` as described [here](http://www.youtube.com/watch?v=EX0iT0NTTjw).","body":"@Eildosa Depending on what you&#39;re doing, you could also consider incorporating <code>AutoHotkey.dll</code> as described <a href=\"http://www.youtube.com/watch?v=EX0iT0NTTjw\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":1340202,"reputation":3985,"user_id":1282023,"accept_rate":60,"display_name":"MCL"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1379194979,"creation_date":1379194979,"answer_id":18806690,"question_id":18806437,"body_markdown":"Since raw AHK scripts aren&#39;t executable, you can either compile your script and execute it directly or pass the path of your script as an argument to `AutoHotkey.exe` (usually located in `C:\\Program Files\\AutoHotkey\\`). Regarding the second option, your code could look like this:\r\n\r\n    public void sendString(String data) throws IOException, InterruptedException {\r\n\t    String ahkPath = &quot;C:\\\\Program Files\\\\AutoHotkey\\\\AutoHotkey.exe&quot;;\r\n\t    String scriptPath = &quot;C:\\\\Users\\\\MCL\\\\test.ahk&quot;;\r\n        runtime.exec(new String[] { ahkPath, scriptPath, data} );\r\n        Thread.currentThread();\r\n        Thread.sleep(1000);\r\n    }\r\n\r\nAutoHotkey will pass on each argument to the script, starting with the second (in this case: `data`).","title":"Run a autohotkey (ahk) script from java","body":"<p>Since raw AHK scripts aren't executable, you can either compile your script and execute it directly or pass the path of your script as an argument to <code>AutoHotkey.exe</code> (usually located in <code>C:\\Program Files\\AutoHotkey\\</code>). Regarding the second option, your code could look like this:</p>\n\n<pre><code>public void sendString(String data) throws IOException, InterruptedException {\n    String ahkPath = \"C:\\\\Program Files\\\\AutoHotkey\\\\AutoHotkey.exe\";\n    String scriptPath = \"C:\\\\Users\\\\MCL\\\\test.ahk\";\n    runtime.exec(new String[] { ahkPath, scriptPath, data} );\n    Thread.currentThread();\n    Thread.sleep(1000);\n}\n</code></pre>\n\n<p>AutoHotkey will pass on each argument to the script, starting with the second (in this case: <code>data</code>).</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696515812,"creation_date":1696515812,"answer_id":77238050,"question_id":18806437,"body_markdown":"You can use the `java.awt.Desktop` class to *open* the script if AHK files are (correctly) associated with AutoHotKey, and if `Desktop` is supported (check the [javadoc](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Desktop.html) for details).\r\n\r\n````\r\nimport java.awt.Desktop;\r\n\r\n// . . .\r\n\r\n    private final static String AHK_BRIDGE = &quot;C:\\\\perso\\\\WorkspaceScripts\\\\skyrimTools\\\\src\\\\org\\\\bsep\\\\acp\\\\ahkBridge.ahk&quot;;\r\n\r\n// . . . \r\n\r\n    if (Desktop.isDesktopSupported()) {\r\n        Desktop.getDesktop().open(new File(AHK_BRIDGE));\r\n    } else {\r\n        // error message, Exception, or Runtime solution from other answers\r\n    }\r\n````","title":"Run a autohotkey (ahk) script from java","body":"<p>You can use the <code>java.awt.Desktop</code> class to <em>open</em> the script if AHK files are (correctly) associated with AutoHotKey, and if <code>Desktop</code> is supported (check the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Desktop.html\" rel=\"nofollow noreferrer\">javadoc</a> for details).</p>\n<pre><code>import java.awt.Desktop;\n\n// . . .\n\n    private final static String AHK_BRIDGE = &quot;C:\\\\perso\\\\WorkspaceScripts\\\\skyrimTools\\\\src\\\\org\\\\bsep\\\\acp\\\\ahkBridge.ahk&quot;;\n\n// . . . \n\n    if (Desktop.isDesktopSupported()) {\n        Desktop.getDesktop().open(new File(AHK_BRIDGE));\n    } else {\n        // error message, Exception, or Runtime solution from other answers\n    }\n</code></pre>\n"}],"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18806690,"answer_count":3,"score":2,"last_activity_date":1696515812,"creation_date":1379193110,"question_id":18806437,"body_markdown":"is there a way to run a script with parameters from java?\r\nNot an executable file, but an AutoHotKey script.\r\n\r\nI tried this, but since it is not a valid executable file it doesn&#39;t work.\r\n\r\nControl class :\r\n\r\n    package org.bsep.acp;\r\n    \r\n    import java.io.IOException;\r\n\r\n    /**\r\n     * This class allow you to send string to your\r\n     * computer as keystrokes.\r\n     * \r\n     * escape car is &#39;\r\n     * special char are {space}, {Enter}, {F1}, {F2}, etc\r\n     * \r\n     * @author Eildosa\r\n     */\r\n    public class StringSender {\r\n    \t\r\n    \tRuntime runtime;\r\n    \tprivate final static String AHK_BRIDGE = &quot;C:\\\\perso\\\\WorkspaceScripts\\\\skyrimTools\\\\src\\\\org\\\\bsep\\\\acp\\\\ahkBridge.ahk&quot;;\r\n    \t\r\n    \tpublic StringSender() {\r\n    \t\truntime = Runtime.getRuntime();\r\n    \t}\r\n    \t\r\n    \tpublic void sendString(String data) throws IOException, InterruptedException {\r\n    \t\truntime.exec(new String[] { AHK_BRIDGE, data} );\r\n    \t\tThread.currentThread();\r\n    \t\tThread.sleep(1000);\r\n    \t}\r\n    \r\n    }\r\n\r\nTest :\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    runtime.exec(NOTEPAD);\r\n    Thread.currentThread();\r\n    Thread.sleep(4000);\r\n    StringSender stringSender = new StringSender();\r\n    stringSender.sendString(&quot;Writing from java through AHK.&quot;);\r\n\r\nException :\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;C:\\perso\\WorkspaceScripts\\skyrimTools\\src\\org\\bsep\\acp\\ahkBridge.ahk&quot;: CreateProcess error=193, %1 n?est pas une application Win32 valid\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1041)\r\n    \tat java.lang.Runtime.exec(Runtime.java:617)\r\n    \tat java.lang.Runtime.exec(Runtime.java:485)\r\n    \tat org.bsep.acp.StringSender.sendString(StringSender.java:25)\r\n    \tat org.bsep.acp.VariousTests.ahkBridgeTester(VariousTests.java:23)\r\n    \tat org.bsep.acp.VariousTests.main(VariousTests.java:13)\r\n    Caused by: java.io.IOException: CreateProcess error=193, %1 n?est pas une application Win32 valid\r\n    \tat java.lang.ProcessImpl.create(Native Method)\r\n    \tat java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:376)\r\n    \tat java.lang.ProcessImpl.start(ProcessImpl.java:136)\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1022)\r\n    \t... 5 more\r\n\r\nTranslation : this is not a valid win32 application.\r\n\r\nThanks.","title":"Run a autohotkey (ahk) script from java","body":"<p>is there a way to run a script with parameters from java?\nNot an executable file, but an AutoHotKey script.</p>\n\n<p>I tried this, but since it is not a valid executable file it doesn't work.</p>\n\n<p>Control class :</p>\n\n<pre><code>package org.bsep.acp;\n\nimport java.io.IOException;\n\n/**\n * This class allow you to send string to your\n * computer as keystrokes.\n * \n * escape car is '\n * special char are {space}, {Enter}, {F1}, {F2}, etc\n * \n * @author Eildosa\n */\npublic class StringSender {\n\n    Runtime runtime;\n    private final static String AHK_BRIDGE = \"C:\\\\perso\\\\WorkspaceScripts\\\\skyrimTools\\\\src\\\\org\\\\bsep\\\\acp\\\\ahkBridge.ahk\";\n\n    public StringSender() {\n        runtime = Runtime.getRuntime();\n    }\n\n    public void sendString(String data) throws IOException, InterruptedException {\n        runtime.exec(new String[] { AHK_BRIDGE, data} );\n        Thread.currentThread();\n        Thread.sleep(1000);\n    }\n\n}\n</code></pre>\n\n<p>Test :</p>\n\n<pre><code>Runtime runtime = Runtime.getRuntime();\nruntime.exec(NOTEPAD);\nThread.currentThread();\nThread.sleep(4000);\nStringSender stringSender = new StringSender();\nstringSender.sendString(\"Writing from java through AHK.\");\n</code></pre>\n\n<p>Exception :</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Cannot run program \"C:\\perso\\WorkspaceScripts\\skyrimTools\\src\\org\\bsep\\acp\\ahkBridge.ahk\": CreateProcess error=193, %1 n?est pas une application Win32 valid\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1041)\n    at java.lang.Runtime.exec(Runtime.java:617)\n    at java.lang.Runtime.exec(Runtime.java:485)\n    at org.bsep.acp.StringSender.sendString(StringSender.java:25)\n    at org.bsep.acp.VariousTests.ahkBridgeTester(VariousTests.java:23)\n    at org.bsep.acp.VariousTests.main(VariousTests.java:13)\nCaused by: java.io.IOException: CreateProcess error=193, %1 n?est pas une application Win32 valid\n    at java.lang.ProcessImpl.create(Native Method)\n    at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:376)\n    at java.lang.ProcessImpl.start(ProcessImpl.java:136)\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1022)\n    ... 5 more\n</code></pre>\n\n<p>Translation : this is not a valid win32 application.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","kubernetes","quarkus","quarkus-extension"],"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696515541,"creation_date":1696515541,"question_id":77238005,"body_markdown":"The Quarkus Kubernetes Extension allows to set Kubernetes Security Context information like this:\r\n\r\n```properties\r\nquarkus.kubernetes.security-context.run-as-user=1000\r\nquarkus.kubernetes.security-context.run-as-group=3000\r\nquarkus.kubernetes.security-context.fs-group=2000\r\nquarkus.kubernetes.security-context.run-as-non-root=true\r\n```\r\n\r\nHowever, if I want to set `allowPrivilegeEscalation` as described [here](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/) there is no option anywhere and I also cannot overwrite or extend my deployment.yaml file.\r\n\r\nI tried to search the documentation and did not find the parameter among the security-context or other parameters for the Quarkus Kubernetes Extension. I also usually use the Quarkus Helm Extension and am not very in depth with the Kubernetes Extension.\r\n\r\nHow can I set the allowPrivilegeEscalation-variable? Is it necessary to hack around with Decorate? ","title":"How to set allowPrivilegeEscalation with Quarkus Kubernetes Extension","body":"<p>The Quarkus Kubernetes Extension allows to set Kubernetes Security Context information like this:</p>\n<pre><code>quarkus.kubernetes.security-context.run-as-user=1000\nquarkus.kubernetes.security-context.run-as-group=3000\nquarkus.kubernetes.security-context.fs-group=2000\nquarkus.kubernetes.security-context.run-as-non-root=true\n</code></pre>\n<p>However, if I want to set <code>allowPrivilegeEscalation</code> as described <a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\" rel=\"nofollow noreferrer\">here</a> there is no option anywhere and I also cannot overwrite or extend my deployment.yaml file.</p>\n<p>I tried to search the documentation and did not find the parameter among the security-context or other parameters for the Quarkus Kubernetes Extension. I also usually use the Quarkus Helm Extension and am not very in depth with the Kubernetes Extension.</p>\n<p>How can I set the allowPrivilegeEscalation-variable? Is it necessary to hack around with Decorate?</p>\n"},{"tags":["javascript","java","html","forms"],"comments":[{"owner":{"account_id":1749597,"reputation":1030,"user_id":1599011,"display_name":"mykaf"},"score":1,"creation_date":1696515562,"post_id":77237992,"comment_id":136165512,"body_markdown":"Are there any javascript errors? What&#39;s being returned from your fetch? Where exactly is the process going wrong?","body":"Are there any javascript errors? What&#39;s being returned from your fetch? Where exactly is the process going wrong?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1696523379,"post_id":77237992,"comment_id":136167215,"body_markdown":"You have not asked a question.","body":"You have not asked a question."},{"owner":{"account_id":1749597,"reputation":1030,"user_id":1599011,"display_name":"mykaf"},"score":0,"creation_date":1696530968,"post_id":77237992,"comment_id":136168667,"body_markdown":"@jessman5, OP mentioned that their backend *is* in Java.","body":"@jessman5, OP mentioned that their backend <i>is</i> in Java."}],"owner":{"account_id":29533398,"reputation":11,"user_id":22633536,"display_name":"soso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696515465,"creation_date":1696515465,"question_id":77237992,"body_markdown":"i can&#39;t to get my first name and last name in my database my sql to front end \r\n\r\n(first name  = prenom \r\nlaste name = nom      \r\nbecause i am French) \r\n\r\n\r\nmy front end formulaire in html : \r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;fr&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;description&quot;&gt; \r\n    &lt;link rel=&quot;shortcut icon&quot; href=&quot;favicon.ico&quot; /&gt;\r\n    &lt;title&gt;Mangas Supremacy&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;inscription.css&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;header&gt;\r\n        &lt;div class=&quot;&quot;&gt;\r\n            &lt;ul class=&quot;logo&quot;&gt;\r\n                &lt;a href=&quot;index.html&quot;&gt;&lt;img src=&quot;logo.png&quot; alt=&quot;&quot; width=&quot;22%&quot;&gt;&lt;/a&gt;\r\n            &lt;/ul&gt;\r\n            \r\n        &lt;/div&gt;\r\n    &lt;/header&gt;\r\n\r\n    &lt;main&gt;\r\n        &lt;h1&gt;Inscrit toi&lt;/h1&gt;\r\n        &lt;form id=&quot;inscription-form&quot;&gt;\r\n            &lt;label for=&quot;nom&quot;&gt; Nom &lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; id=&quot;nom&quot; name=&quot;nom&quot;required&gt;&lt;br&gt;\r\n            &lt;label for=&quot;prenom&quot;&gt; Prenom &lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; id=&quot;prenom&quot; name=&quot;prenom&quot;required&gt;&lt;br&gt;\r\n            &lt;label for=&quot;email&quot;&gt; Email &lt;/label&gt;\r\n            &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;required&gt;&lt;br&gt;\r\n            &lt;label for=&quot;password&quot;&gt; password &lt;/label&gt;\r\n            &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;required&gt;&lt;br&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;S&#39;inscrire&lt;/button&gt;\r\n        &lt;/form&gt;\r\n    &lt;/main&gt;\r\n\r\n    &lt;footer&gt;&lt;/footer&gt;\r\n    &lt;script src=&quot;inscription.js&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\nincription.js : \r\n\r\n\r\n\r\n```\r\nconst inscriptionForm = document.getElementById(&#39;inscription-form&#39;);\r\ninscriptionForm.addEventListener(&#39;submit&#39;, (event) =&gt; {\r\n    event.preventDefault();\r\n    const nom = document.getElementById(&quot;nom&quot;).value;\r\n    const prenom = document.getElementById(&quot;prenom&quot;).value;\r\n    const email = document.getElementById(&quot;email&quot;).value;\r\n    const password = document.getElementById(&quot;password&quot;).value;\r\n\r\n    const data = {nom, prenom, email, password}\r\n\r\n    fetch(&#39;http://localhost:8088/AUTH-SERVICE/api/auth/register&#39;, {\r\n        method: &#39;POST&#39;,\r\n        headers: {&#39;Content-Type&#39; : &#39;application/json&#39;},\r\n        body: JSON.stringify(data)\r\n    })\r\n    .then(response =&gt; {\r\n        if(response.ok){\r\n            alert(&#39;Inscription effectu&#195;&#169;e avec succes&#39;);\r\n            inscriptionForm.reset();\r\n            window.location.href = &quot;login.html&quot;;\r\n        }else{\r\n            alert(&#39;Erreur au moment de l inscription&#39;);\r\n        }\r\n    })\r\n    .catch(error =&gt; {\r\n        console.log(&#39;error on register : &#39;, error);\r\n\r\n    })\r\n})\r\n\r\n\r\n```\r\n\r\n\r\nmy backend is in java with my database in sql \r\n\r\n\r\n(the register and login work i want just to get last name and first name in my database)\r\n\r\n","title":"How to get my first name and last name in my database to front end?","body":"<p>i can't to get my first name and last name in my database my sql to front end</p>\n<p>(first name  = prenom\nlaste name = nom<br />\nbecause i am French)</p>\n<p>my front end formulaire in html :</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;fr&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;description&quot;&gt; \n    &lt;link rel=&quot;shortcut icon&quot; href=&quot;favicon.ico&quot; /&gt;\n    &lt;title&gt;Mangas Supremacy&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;inscription.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;header&gt;\n        &lt;div class=&quot;&quot;&gt;\n            &lt;ul class=&quot;logo&quot;&gt;\n                &lt;a href=&quot;index.html&quot;&gt;&lt;img src=&quot;logo.png&quot; alt=&quot;&quot; width=&quot;22%&quot;&gt;&lt;/a&gt;\n            &lt;/ul&gt;\n            \n        &lt;/div&gt;\n    &lt;/header&gt;\n\n    &lt;main&gt;\n        &lt;h1&gt;Inscrit toi&lt;/h1&gt;\n        &lt;form id=&quot;inscription-form&quot;&gt;\n            &lt;label for=&quot;nom&quot;&gt; Nom &lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;nom&quot; name=&quot;nom&quot;required&gt;&lt;br&gt;\n            &lt;label for=&quot;prenom&quot;&gt; Prenom &lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;prenom&quot; name=&quot;prenom&quot;required&gt;&lt;br&gt;\n            &lt;label for=&quot;email&quot;&gt; Email &lt;/label&gt;\n            &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;required&gt;&lt;br&gt;\n            &lt;label for=&quot;password&quot;&gt; password &lt;/label&gt;\n            &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;required&gt;&lt;br&gt;\n            &lt;button type=&quot;submit&quot;&gt;S'inscrire&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/main&gt;\n\n    &lt;footer&gt;&lt;/footer&gt;\n    &lt;script src=&quot;inscription.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>incription.js :</p>\n<pre><code>const inscriptionForm = document.getElementById('inscription-form');\ninscriptionForm.addEventListener('submit', (event) =&gt; {\n    event.preventDefault();\n    const nom = document.getElementById(&quot;nom&quot;).value;\n    const prenom = document.getElementById(&quot;prenom&quot;).value;\n    const email = document.getElementById(&quot;email&quot;).value;\n    const password = document.getElementById(&quot;password&quot;).value;\n\n    const data = {nom, prenom, email, password}\n\n    fetch('http://localhost:8088/AUTH-SERVICE/api/auth/register', {\n        method: 'POST',\n        headers: {'Content-Type' : 'application/json'},\n        body: JSON.stringify(data)\n    })\n    .then(response =&gt; {\n        if(response.ok){\n            alert('Inscription effectuÃ©e avec succes');\n            inscriptionForm.reset();\n            window.location.href = &quot;login.html&quot;;\n        }else{\n            alert('Erreur au moment de l inscription');\n        }\n    })\n    .catch(error =&gt; {\n        console.log('error on register : ', error);\n\n    })\n})\n\n\n</code></pre>\n<p>my backend is in java with my database in sql</p>\n<p>(the register and login work i want just to get last name and first name in my database)</p>\n"},{"tags":["java","xml","xslt","xsd"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696499137,"post_id":77235954,"comment_id":136161907,"body_markdown":"You can&#39;t apply XSL/XSD to CSV. If you want to transform XML to CSV, you have to parse the XML, convert it manually, *then* write the CSV.","body":"You can&#39;t apply XSL/XSD to CSV. If you want to transform XML to CSV, you have to parse the XML, convert it manually, <i>then</i> write the CSV."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":1,"creation_date":1696499579,"post_id":77235954,"comment_id":136162001,"body_markdown":"@Jorn Surely is it possible to convert XML to CSV using a XSL transformation as the author has proved.","body":"@Jorn Surely is it possible to convert XML to CSV using a XSL transformation as the author has proved."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1696500069,"post_id":77235954,"comment_id":136162101,"body_markdown":"XSLT 2/3 provide schema-aware processing but that is usually only supported by enterprise software like Saxon EE? Do you use e.g. oXygen that you have access to Saxon EE to run schema-aware XSLT 2/3?","body":"XSLT 2/3 provide schema-aware processing but that is usually only supported by enterprise software like Saxon EE? Do you use e.g. oXygen that you have access to Saxon EE to run schema-aware XSLT 2/3?"},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1696500119,"post_id":77235954,"comment_id":136162113,"body_markdown":"You can pass the path to the XSD document as a parameter to the XSLT stylesheet and instruct the stylesheet to read the `minOccurs` and `maxOccurs` values from there, based on matching element names. The exact details depend on which version of XSLT your processor supports.","body":"You can pass the path to the XSD document as a parameter to the XSLT stylesheet and instruct the stylesheet to read the <code>minOccurs</code> and <code>maxOccurs</code> values from there, based on matching element names. The exact details depend on which version of XSLT your processor supports."},{"owner":{"account_id":27925065,"reputation":13,"user_id":21324349,"display_name":"Akito The Duck"},"score":0,"creation_date":1696500646,"post_id":77235954,"comment_id":136162211,"body_markdown":"@MartinHonnen the 9 in age was just a mistype from my side. Edited :) And no I don&#39;t have such enterprise software.","body":"@MartinHonnen the 9 in age was just a mistype from my side. Edited :) And no I don&#39;t have such enterprise software."}],"answers":[{"comments":[{"owner":{"account_id":27925065,"reputation":13,"user_id":21324349,"display_name":"Akito The Duck"},"score":0,"creation_date":1696601020,"post_id":77237615,"comment_id":136178091,"body_markdown":"This worked out for me without problems. Thank you for your help :)","body":"This worked out for me without problems. Thank you for your help :)"}],"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696513121,"creation_date":1696512761,"answer_id":77237615,"question_id":77235954,"body_markdown":"Try this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    \r\n      &lt;xsl:output method=&quot;text&quot;/&gt;\r\n    \r\n      &lt;!--  strip-space: so we have not unwanted linefeeds--&gt;\r\n      &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n      \r\n      &lt;!--  document(the uri to the schema.xsd)--&gt;\r\n      &lt;xsl:variable name=&quot;schema&quot; select=&quot;document(&#39;some.xsd&#39;)&quot;/&gt;\r\n      &lt;xsl:key name=&quot;schema-key&quot; match=&quot;xs:element&quot; use=&quot;@name&quot; /&gt;\r\n    \r\n      &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;xsl:text&gt;name,min,max,value&lt;/xsl:text&gt;\r\n        &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n        &lt;xsl:apply-templates select=&quot;Document/Person&quot;/&gt;\r\n      &lt;/xsl:template&gt;\r\n    \r\n      &lt;xsl:template match=&quot;Person/*&quot;&gt;\r\n        &lt;xsl:variable name=&quot;elementName&quot; select=&quot;name()&quot;/&gt;\r\n        &lt;xsl:value-of select=&quot;text()&quot;/&gt;\r\n        &lt;xsl:text&gt;,&lt;/xsl:text&gt;\r\n        &lt;!--  To use a key on a external document in xslt 1.0 we have to change the context to that document --&gt;\r\n        &lt;xsl:for-each select=&quot;$schema&quot;&gt;\r\n          &lt;xsl:variable name=&quot;schemaElement&quot; select=&quot;key(&#39;schema-key&#39;, $elementName)&quot;/&gt;\r\n          &lt;xsl:value-of select=&quot;$schemaElement/@minOccurs&quot;/&gt;\r\n          &lt;xsl:text&gt;,&lt;/xsl:text&gt;\r\n          &lt;xsl:value-of select=&quot;$schemaElement/@maxOccurs&quot;/&gt;\r\n          &lt;xsl:text&gt;,&lt;/xsl:text&gt;\r\n        &lt;/xsl:for-each&gt;\r\n        &lt;xsl:value-of select=&quot;$elementName&quot;/&gt;\r\n        &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n      &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nwill give you the wanted result:\r\n\r\n    name,min,max,value\r\n    Bob,1,1,Name\r\n    m,1,1,Gender\r\n    19,0,1,Age\r\n\r\n","title":"Transforming xml and xsd file into a csv file using java and a xsl file","body":"<p>Try this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n\n  &lt;xsl:output method=&quot;text&quot;/&gt;\n\n  &lt;!--  strip-space: so we have not unwanted linefeeds--&gt;\n  &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n  \n  &lt;!--  document(the uri to the schema.xsd)--&gt;\n  &lt;xsl:variable name=&quot;schema&quot; select=&quot;document('some.xsd')&quot;/&gt;\n  &lt;xsl:key name=&quot;schema-key&quot; match=&quot;xs:element&quot; use=&quot;@name&quot; /&gt;\n\n  &lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;xsl:text&gt;name,min,max,value&lt;/xsl:text&gt;\n    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n    &lt;xsl:apply-templates select=&quot;Document/Person&quot;/&gt;\n  &lt;/xsl:template&gt;\n\n  &lt;xsl:template match=&quot;Person/*&quot;&gt;\n    &lt;xsl:variable name=&quot;elementName&quot; select=&quot;name()&quot;/&gt;\n    &lt;xsl:value-of select=&quot;text()&quot;/&gt;\n    &lt;xsl:text&gt;,&lt;/xsl:text&gt;\n    &lt;!--  To use a key on a external document in xslt 1.0 we have to change the context to that document --&gt;\n    &lt;xsl:for-each select=&quot;$schema&quot;&gt;\n      &lt;xsl:variable name=&quot;schemaElement&quot; select=&quot;key('schema-key', $elementName)&quot;/&gt;\n      &lt;xsl:value-of select=&quot;$schemaElement/@minOccurs&quot;/&gt;\n      &lt;xsl:text&gt;,&lt;/xsl:text&gt;\n      &lt;xsl:value-of select=&quot;$schemaElement/@maxOccurs&quot;/&gt;\n      &lt;xsl:text&gt;,&lt;/xsl:text&gt;\n    &lt;/xsl:for-each&gt;\n    &lt;xsl:value-of select=&quot;$elementName&quot;/&gt;\n    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>will give you the wanted result:</p>\n<pre><code>name,min,max,value\nBob,1,1,Name\nm,1,1,Gender\n19,0,1,Age\n</code></pre>\n"}],"owner":{"account_id":27925065,"reputation":13,"user_id":21324349,"display_name":"Akito The Duck"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77237615,"answer_count":1,"score":1,"last_activity_date":1696514895,"creation_date":1696498970,"question_id":77235954,"body_markdown":"As the title says I have a xml and a xsd file and want to transform them into a csv file using java and structurize it with a xsl file.\r\n\r\nAt the moment I can only transform my xml file and structurize it with a xsl file with this code in java:\r\n```\r\npublic static void xmlToCSV() throws Exception{\r\n\t\tFile stylesheet = new File(&quot;style.xsl&quot;);\r\n        File xmlSource = new File(&quot;xmlData.xml&quot;);\r\n\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        Document document = builder.parse(xmlSource);\r\n\r\n        StreamSource stylesource = new StreamSource(stylesheet);\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer(stylesource);\r\n        Source source = new DOMSource(document);\r\n        Result outputTarget = new StreamResult(new File(&quot;output.csv&quot;));\r\n        transformer.transform(source, outputTarget);\r\n\t}\r\n```\r\nsytle.xsl:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\nxmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\r\n  &lt;xsl:template match=&quot;Person&quot;&gt;\r\n    &lt;xsl:value-of select=&quot;Name&quot;/&gt;\r\n    &lt;xsl:text&gt;,&lt;/xsl:text&gt;\r\n    &lt;xsl:value-of select=&quot;Gender&quot;/&gt;\r\n    &lt;xsl:text&gt;,&lt;/xsl:text&gt;\r\n    &lt;xsl:value-of select=&quot;Age&quot;/&gt;\r\n    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\r\n  &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nxmlData.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Document&gt;\r\n\t&lt;Person&gt;\r\n        &lt;Name&gt;Bob&lt;/Name&gt;\r\n        &lt;Gender&gt;m&lt;/Gender&gt;\r\n        &lt;Age&gt;19&lt;/Age&gt;\r\n    &lt;/Person&gt;\r\n&lt;/Document&gt;\r\n```\r\n\r\nOutput:\r\n&gt;Bob,m,19\r\n\r\nIn my xsd you can see some limitations I want to have in my csv file:\r\n```\r\n &lt;xs:element maxOccurs=&quot;1&quot; minOccurs=&quot;1&quot; name=&quot;Name&quot;&gt;\r\n &lt;xs:element maxOccurs=&quot;1&quot; minOccurs=&quot;1&quot; name=&quot;Gender&quot;&gt;\r\n &lt;xs:element maxOccurs=&quot;1&quot; minOccurs=&quot;0&quot; name=&quot;Age&quot;&gt;\r\n```\r\n\r\nWhat I want:\r\n```\r\nname,min,max,value\r\nBob,1,1,Name\r\nm,1,1,Gender\r\n19,0,1,Age\r\n```\r\n\r\nI am pretty new to xsl and don&#39;t know how to use the xsd and where. I saw something about import the xsd in your xsl file but it didn&#39;t work out for me. I hope I didn&#39;t forget some important information. Thank you for your help.","title":"Transforming xml and xsd file into a csv file using java and a xsl file","body":"<p>As the title says I have a xml and a xsd file and want to transform them into a csv file using java and structurize it with a xsl file.</p>\n<p>At the moment I can only transform my xml file and structurize it with a xsl file with this code in java:</p>\n<pre><code>public static void xmlToCSV() throws Exception{\n        File stylesheet = new File(&quot;style.xsl&quot;);\n        File xmlSource = new File(&quot;xmlData.xml&quot;);\n\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        Document document = builder.parse(xmlSource);\n\n        StreamSource stylesource = new StreamSource(stylesheet);\n        Transformer transformer = TransformerFactory.newInstance().newTransformer(stylesource);\n        Source source = new DOMSource(document);\n        Result outputTarget = new StreamResult(new File(&quot;output.csv&quot;));\n        transformer.transform(source, outputTarget);\n    }\n</code></pre>\n<p>sytle.xsl:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\nxmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n\n  &lt;xsl:template match=&quot;Person&quot;&gt;\n    &lt;xsl:value-of select=&quot;Name&quot;/&gt;\n    &lt;xsl:text&gt;,&lt;/xsl:text&gt;\n    &lt;xsl:value-of select=&quot;Gender&quot;/&gt;\n    &lt;xsl:text&gt;,&lt;/xsl:text&gt;\n    &lt;xsl:value-of select=&quot;Age&quot;/&gt;\n    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>xmlData.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Document&gt;\n    &lt;Person&gt;\n        &lt;Name&gt;Bob&lt;/Name&gt;\n        &lt;Gender&gt;m&lt;/Gender&gt;\n        &lt;Age&gt;19&lt;/Age&gt;\n    &lt;/Person&gt;\n&lt;/Document&gt;\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Bob,m,19</p>\n</blockquote>\n<p>In my xsd you can see some limitations I want to have in my csv file:</p>\n<pre><code> &lt;xs:element maxOccurs=&quot;1&quot; minOccurs=&quot;1&quot; name=&quot;Name&quot;&gt;\n &lt;xs:element maxOccurs=&quot;1&quot; minOccurs=&quot;1&quot; name=&quot;Gender&quot;&gt;\n &lt;xs:element maxOccurs=&quot;1&quot; minOccurs=&quot;0&quot; name=&quot;Age&quot;&gt;\n</code></pre>\n<p>What I want:</p>\n<pre><code>name,min,max,value\nBob,1,1,Name\nm,1,1,Gender\n19,0,1,Age\n</code></pre>\n<p>I am pretty new to xsl and don't know how to use the xsd and where. I saw something about import the xsd in your xsl file but it didn't work out for me. I hope I didn't forget some important information. Thank you for your help.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":15853595,"reputation":21,"user_id":11438710,"display_name":"Dan Dietterich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556748731,"creation_date":1556748731,"answer_id":55943347,"question_id":55942045,"body_markdown":"I found another approach besides hand coding the validation; using an @ControllerAdvice class that extends ResponseEntityExceptionHandler.\r\n\r\nThere is a nice example here: [Spring Validation Example][1]\r\n\r\nHere is my code based on that example that formats the error:\r\n```\r\n@ControllerAdvice\r\npublic class ApiValidationExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n        MethodArgumentNotValidException ex,\r\n        HttpHeaders headers,\r\n        HttpStatus status,\r\n        WebRequest request\r\n    ) {\r\n        BindingResult bindingResult = ex.getBindingResult();\r\n\r\n        List&lt;String&gt; errorDetails = bindingResult\r\n            .getFieldErrors()\r\n            .stream()\r\n            .map(err -&gt; err.getCode() + &quot; error on &#39;&quot; + err.getObjectName() + &quot;&#39;: &quot; + err.getDefaultMessage())\r\n            .collect(toList());\r\n\r\n        ErrorModel errorModel = new ErrorModel()\r\n            .message(&quot;Validation errors - see error details&quot;)\r\n            .errorDetail(errorDetails);\r\n\r\n        return new ResponseEntity&lt;&gt;(errorModel, HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.bbenson.co/post/spring-validations-with-examples/","title":"Access BindingResult of Spring WebDataBinder without putting in the argument list","body":"<p>I found another approach besides hand coding the validation; using an @ControllerAdvice class that extends ResponseEntityExceptionHandler.</p>\n\n<p>There is a nice example here: <a href=\"http://www.bbenson.co/post/spring-validations-with-examples/\" rel=\"nofollow noreferrer\">Spring Validation Example</a></p>\n\n<p>Here is my code based on that example that formats the error:</p>\n\n<pre><code>@ControllerAdvice\npublic class ApiValidationExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n        MethodArgumentNotValidException ex,\n        HttpHeaders headers,\n        HttpStatus status,\n        WebRequest request\n    ) {\n        BindingResult bindingResult = ex.getBindingResult();\n\n        List&lt;String&gt; errorDetails = bindingResult\n            .getFieldErrors()\n            .stream()\n            .map(err -&gt; err.getCode() + \" error on '\" + err.getObjectName() + \"': \" + err.getDefaultMessage())\n            .collect(toList());\n\n        ErrorModel errorModel = new ErrorModel()\n            .message(\"Validation errors - see error details\")\n            .errorDetail(errorDetails);\n\n        return new ResponseEntity&lt;&gt;(errorModel, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696839777,"post_id":77237870,"comment_id":136199411,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77237870/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29605332,"reputation":1,"user_id":22689884,"display_name":"mohan erruvaram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696514612,"creation_date":1696514612,"answer_id":77237870,"question_id":55942045,"body_markdown":"instead of extending ResponseEntityExceptionHandler and overriding the default implementation we can always register a custom exception handler which will override the default implementation\r\n\r\n\t@ExceptionHandler(value = { MethodArgumentNotValidException.class, })\r\n\tpublic ResponseEntity&lt;GatewayException&gt; requestValidationFailedHandler(\r\n\t\tfinal MethodArgumentNotValidException methodArgumentNotValidException) {\r\n\t\tlog.error(&quot;exception: &quot;, methodArgumentNotValidException);\r\n\t}","title":"Access BindingResult of Spring WebDataBinder without putting in the argument list","body":"<p>instead of extending ResponseEntityExceptionHandler and overriding the default implementation we can always register a custom exception handler which will override the default implementation</p>\n<pre><code>@ExceptionHandler(value = { MethodArgumentNotValidException.class, })\npublic ResponseEntity&lt;GatewayException&gt; requestValidationFailedHandler(\n    final MethodArgumentNotValidException methodArgumentNotValidException) {\n    log.error(&quot;exception: &quot;, methodArgumentNotValidException);\n}\n</code></pre>\n"}],"owner":{"account_id":15853595,"reputation":21,"user_id":11438710,"display_name":"Dan Dietterich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696514612,"creation_date":1556741094,"question_id":55942045,"body_markdown":"I am trying to use Spring validation with a controller interface generated by swagger-codegen. The swagger code generation supplies an abstract class for a controller. Our controller implements the codegen class and provides the actual logic. I would like to access the BindingResult in my controller methods, but swagger-codegen does not generate that parameter in its interface. Is there any way to get ahold of the BindingResults object other than specifying it as a parameter?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTo make this more concrete, the codegen makes the endpoint like this (noisy code removed):\r\n```\r\n    @RequestMapping(value = &quot;/api/repository/v1/datasets&quot;,\r\n        produces = { &quot;application/json&quot; }, \r\n        consumes = { &quot;application/json&quot; },\r\n        method = RequestMethod.POST)\r\n    default ResponseEntity&lt;JobModel&gt; createDataset(@Valid @RequestBody DatasetRequestModel dataset) {\r\n...\r\n}\r\n```\r\nWe implement a controller with the usual binder setup like:\r\n```\r\n@InitBinder\r\nprotected void initBinder(final WebDataBinder binder) {\r\n    binder.addValidators(requestValidator)\r\n}\r\n```\r\nbut within the endpoint, we have no way to get the BindingResult since it has to match the signature of the codegen entry:\r\n```\r\npublic ResponseEntity&lt;StudySummaryModel&gt; createStudy(@Valid @RequestBody StudyRequestModel studyRequest) {\r\n...\r\n}\r\n```\r\n\r\n\r\nI think the most straightforward solution may be to skip using WebDataBinder. Instead, I can have each controller endpoint call validators directly.","title":"Access BindingResult of Spring WebDataBinder without putting in the argument list","body":"<p>I am trying to use Spring validation with a controller interface generated by swagger-codegen. The swagger code generation supplies an abstract class for a controller. Our controller implements the codegen class and provides the actual logic. I would like to access the BindingResult in my controller methods, but swagger-codegen does not generate that parameter in its interface. Is there any way to get ahold of the BindingResults object other than specifying it as a parameter?</p>\n\n<p>To make this more concrete, the codegen makes the endpoint like this (noisy code removed):</p>\n\n<pre><code>    @RequestMapping(value = \"/api/repository/v1/datasets\",\n        produces = { \"application/json\" }, \n        consumes = { \"application/json\" },\n        method = RequestMethod.POST)\n    default ResponseEntity&lt;JobModel&gt; createDataset(@Valid @RequestBody DatasetRequestModel dataset) {\n...\n}\n</code></pre>\n\n<p>We implement a controller with the usual binder setup like:</p>\n\n<pre><code>@InitBinder\nprotected void initBinder(final WebDataBinder binder) {\n    binder.addValidators(requestValidator)\n}\n</code></pre>\n\n<p>but within the endpoint, we have no way to get the BindingResult since it has to match the signature of the codegen entry:</p>\n\n<pre><code>public ResponseEntity&lt;StudySummaryModel&gt; createStudy(@Valid @RequestBody StudyRequestModel studyRequest) {\n...\n}\n</code></pre>\n\n<p>I think the most straightforward solution may be to skip using WebDataBinder. Instead, I can have each controller endpoint call validators directly.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7411210,"reputation":162,"user_id":5638470,"display_name":"cjgmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696513264,"creation_date":1622720137,"answer_id":67820728,"question_id":67819675,"body_markdown":"In `Spring Boot` **2.5.0** you have to configure in your properties `spring.jpa.defer-datasource-initialization=true`. With this configuration, `DataSource` initialization will be able to build the schema performed by Hibernate. You can read more about this change at the [Initialize a Database Using Basic SQL Scripts](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts) section.","title":"Why spring-boot-starter-data-jpa 2.5.0 can not init data by the cause &quot;table not found&quot;?","body":"<p>In <code>Spring Boot</code> <strong>2.5.0</strong> you have to configure in your properties <code>spring.jpa.defer-datasource-initialization=true</code>. With this configuration, <code>DataSource</code> initialization will be able to build the schema performed by Hibernate. You can read more about this change at the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">Initialize a Database Using Basic SQL Scripts</a> section.</p>\n"}],"owner":{"account_id":4224358,"reputation":91,"user_id":3458232,"display_name":"exec4life"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67820728,"answer_count":1,"score":0,"last_activity_date":1696513264,"creation_date":1622715740,"question_id":67819675,"body_markdown":"I have 2 projects using the same H2 configurations:\r\n```\r\ndatasource:\r\n    platform: h2\r\n    url: jdbc:h2:mem:db;INIT=CREATE SCHEMA IF NOT EXISTS aso_security_db\\;SET SCHEMA aso_security_db;\r\n    driverClassName: org.h2.Driver\r\n    username: sa\r\n    password: sa\r\n    initialize: true\r\n    data: classpath:sql/aso_security_db_init_data.sql\r\n```\r\nThe first project used ```spring-boot-starter-data-jpa 1.5.8.RELEASE``` which can init data successfully.\r\nBut the second one used ```spring-boot-starter-data-jpa 2.5.0``` CAN NOT init data:\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;TBL_USER&quot; not found; SQL statement:\r\nINSERT INTO tbl_user ...\r\n```\r\nTrace the log I have seen that the init data sql is run before the db structure generated.\r\nSpring team! Please help to fix this issue to save time for many Spring members around the world!\r\n\r\n","title":"Why spring-boot-starter-data-jpa 2.5.0 can not init data by the cause &quot;table not found&quot;?","body":"<p>I have 2 projects using the same H2 configurations:</p>\n<pre><code>datasource:\n    platform: h2\n    url: jdbc:h2:mem:db;INIT=CREATE SCHEMA IF NOT EXISTS aso_security_db\\;SET SCHEMA aso_security_db;\n    driverClassName: org.h2.Driver\n    username: sa\n    password: sa\n    initialize: true\n    data: classpath:sql/aso_security_db_init_data.sql\n</code></pre>\n<p>The first project used <code>spring-boot-starter-data-jpa 1.5.8.RELEASE</code> which can init data successfully.\nBut the second one used <code>spring-boot-starter-data-jpa 2.5.0</code> CAN NOT init data:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;TBL_USER&quot; not found; SQL statement:\nINSERT INTO tbl_user ...\n</code></pre>\n<p>Trace the log I have seen that the init data sql is run before the db structure generated.\nSpring team! Please help to fix this issue to save time for many Spring members around the world!</p>\n"},{"tags":["java","kotlin","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":29501743,"reputation":1,"user_id":22608592,"display_name":"Timothy Daley AO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696512778,"creation_date":1696512778,"answer_id":77237619,"question_id":77237402,"body_markdown":"To check if a container exists or is running in ECS Fargate using Java or Kotlin, you can use the AWS SDK for Java. Below is a Java example that lists running tasks for a specific ECS cluster and service.\r\n\r\nFirst, make sure to add the AWS SDK dependency to your Maven pom.xml or Gradle build file. For Maven, it would be:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-ecs&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.3&lt;/version&gt; &lt;!-- use the latest version --&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**Java Code example:**\r\n\r\nList running tasks for a specific ECS Cluster and Service: \r\n\r\n```\r\nimport com.amazonaws.services.ecs.AmazonECS;\r\nimport com.amazonaws.services.ecs.AmazonECSClientBuilder;\r\nimport com.amazonaws.services.ecs.model.ListTasksRequest;\r\nimport com.amazonaws.services.ecs.model.ListTasksResult;\r\nimport com.amazonaws.services.ecs.model.DescribeTasksRequest;\r\nimport com.amazonaws.services.ecs.model.DescribeTasksResult;\r\nimport com.amazonaws.services.ecs.model.Task;\r\n\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        AmazonECS ecsClient = AmazonECSClientBuilder.defaultClient();\r\n\r\n        // Replace these with your cluster and service name\r\n        String clusterName = &quot;your-cluster-name&quot;;\r\n        String serviceName = &quot;your-service-name&quot;;\r\n\r\n        // List running tasks\r\n        ListTasksRequest listTasksRequest = new ListTasksRequest()\r\n            .withCluster(clusterName)\r\n            .withServiceName(serviceName)\r\n            .withDesiredStatus(&quot;RUNNING&quot;);\r\n\r\n        ListTasksResult listTasksResult = ecsClient.listTasks(listTasksRequest);\r\n        List&lt;String&gt; taskArns = listTasksResult.getTaskArns();\r\n\r\n        if (taskArns.isEmpty()) {\r\n            System.out.println(&quot;No tasks are currently running.&quot;);\r\n        } else {\r\n            System.out.println(&quot;Running tasks: &quot; + taskArns);\r\n\r\n            // Describe tasks for more details\r\n            DescribeTasksRequest describeTasksRequest = new DescribeTasksRequest()\r\n                .withCluster(clusterName)\r\n                .withTasks(taskArns);\r\n\r\n            DescribeTasksResult describeTasksResult = ecsClient.describeTasks(describeTasksRequest);\r\n            List&lt;Task&gt; tasks = describeTasksResult.getTasks();\r\n\r\n            for (Task task : tasks) {\r\n                System.out.println(&quot;Task &quot; + task.getTaskArn() + &quot; is currently &quot; + task.getLastStatus());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**This outputs the ARNs of all the running tasks for the given service and cluster and the current status for each running task.** ","title":"Is it possible to check if server is running on ECS Fargate","body":"<p>To check if a container exists or is running in ECS Fargate using Java or Kotlin, you can use the AWS SDK for Java. Below is a Java example that lists running tasks for a specific ECS cluster and service.</p>\n<p>First, make sure to add the AWS SDK dependency to your Maven pom.xml or Gradle build file. For Maven, it would be:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-ecs&lt;/artifactId&gt;\n        &lt;version&gt;1.12.3&lt;/version&gt; &lt;!-- use the latest version --&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Java Code example:</strong></p>\n<p>List running tasks for a specific ECS Cluster and Service:</p>\n<pre><code>import com.amazonaws.services.ecs.AmazonECS;\nimport com.amazonaws.services.ecs.AmazonECSClientBuilder;\nimport com.amazonaws.services.ecs.model.ListTasksRequest;\nimport com.amazonaws.services.ecs.model.ListTasksResult;\nimport com.amazonaws.services.ecs.model.DescribeTasksRequest;\nimport com.amazonaws.services.ecs.model.DescribeTasksResult;\nimport com.amazonaws.services.ecs.model.Task;\n\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        AmazonECS ecsClient = AmazonECSClientBuilder.defaultClient();\n\n        // Replace these with your cluster and service name\n        String clusterName = &quot;your-cluster-name&quot;;\n        String serviceName = &quot;your-service-name&quot;;\n\n        // List running tasks\n        ListTasksRequest listTasksRequest = new ListTasksRequest()\n            .withCluster(clusterName)\n            .withServiceName(serviceName)\n            .withDesiredStatus(&quot;RUNNING&quot;);\n\n        ListTasksResult listTasksResult = ecsClient.listTasks(listTasksRequest);\n        List&lt;String&gt; taskArns = listTasksResult.getTaskArns();\n\n        if (taskArns.isEmpty()) {\n            System.out.println(&quot;No tasks are currently running.&quot;);\n        } else {\n            System.out.println(&quot;Running tasks: &quot; + taskArns);\n\n            // Describe tasks for more details\n            DescribeTasksRequest describeTasksRequest = new DescribeTasksRequest()\n                .withCluster(clusterName)\n                .withTasks(taskArns);\n\n            DescribeTasksResult describeTasksResult = ecsClient.describeTasks(describeTasksRequest);\n            List&lt;Task&gt; tasks = describeTasksResult.getTasks();\n\n            for (Task task : tasks) {\n                System.out.println(&quot;Task &quot; + task.getTaskArn() + &quot; is currently &quot; + task.getLastStatus());\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>This outputs the ARNs of all the running tasks for the given service and cluster and the current status for each running task.</strong></p>\n"},{"comments":[{"owner":{"account_id":8094771,"reputation":871,"user_id":6099686,"accept_rate":80,"display_name":"MrAndre"},"score":0,"creation_date":1696581551,"post_id":77237660,"comment_id":136174321,"body_markdown":"Thanks seems like a good and simple solution since I only need to check if it runs on it","body":"Thanks seems like a good and simple solution since I only need to check if it runs on it"}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696513095,"creation_date":1696513095,"answer_id":77237660,"question_id":77237402,"body_markdown":"To check, inside your code, if the code is running in ECS Fargate you could check for the existence of the `ECS_CONTAINER_METADATA_URI_V4` [environment variable][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html","title":"Is it possible to check if server is running on ECS Fargate","body":"<p>To check, inside your code, if the code is running in ECS Fargate you could check for the existence of the <code>ECS_CONTAINER_METADATA_URI_V4</code> <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html\" rel=\"nofollow noreferrer\">environment variable</a>.</p>\n"}],"owner":{"account_id":8094771,"reputation":871,"user_id":6099686,"accept_rate":80,"display_name":"MrAndre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77237660,"answer_count":2,"score":1,"last_activity_date":1696513095,"creation_date":1696511251,"question_id":77237402,"body_markdown":"Currently migrating my server with java/ kotlin from Elastic Beanstalk with EC2 to ECS Fargate. In the application we had the following code to check if the instance is running on AWS or locally:\r\n\r\n    Regions.getCurrentRegion() != null\r\nThis code is sadly only for EC2 instances, so was wondering if there is something similar for ECS Fargate or if we should just remove those checks in our codebase.","title":"Is it possible to check if server is running on ECS Fargate","body":"<p>Currently migrating my server with java/ kotlin from Elastic Beanstalk with EC2 to ECS Fargate. In the application we had the following code to check if the instance is running on AWS or locally:</p>\n<pre><code>Regions.getCurrentRegion() != null\n</code></pre>\n<p>This code is sadly only for EC2 instances, so was wondering if there is something similar for ECS Fargate or if we should just remove those checks in our codebase.</p>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1696507250,"post_id":77236695,"comment_id":136163459,"body_markdown":"To use Spring Boot 2.x, Spring version must be 5.x, not 6.x. Please read these docs as well : [mybatis-spring-boot](https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/),  [mybatis-spring](https://mybatis.org/spring/). I would recommend making small changes one by one to a simple skeleton project (e.g. the `_spring-boot` in this [repo](https://github.com/harawata/mybatis-issues)) rather than starting from scratch. It&#39;s not easy to fix already-messed-up spring project. We also have more complex [demo projects](https://github.com/mybatis/jpetstore-6).","body":"To use Spring Boot 2.x, Spring version must be 5.x, not 6.x. Please read these docs as well : <a href=\"https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/\" rel=\"nofollow noreferrer\">mybatis-spring-boot</a>,  <a href=\"https://mybatis.org/spring/\" rel=\"nofollow noreferrer\">mybatis-spring</a>. I would recommend making small changes one by one to a simple skeleton project (e.g. the <code>_spring-boot</code> in this <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">repo</a>) rather than starting from scratch. It&#39;s not easy to fix already-messed-up spring project. We also have more complex <a href=\"https://github.com/mybatis/jpetstore-6\" rel=\"nofollow noreferrer\">demo projects</a>."},{"owner":{"account_id":27451911,"reputation":21,"user_id":20944004,"display_name":"yzd11"},"score":1,"creation_date":1696510021,"post_id":77236695,"comment_id":136164064,"body_markdown":"Thank you very much for your help, it was indeed a version issue, I chose the version as 3.x instead of 2.x when I created the springboot project, and after the change it works fine already!","body":"Thank you very much for your help, it was indeed a version issue, I chose the version as 3.x instead of 2.x when I created the springboot project, and after the change it works fine already!"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1696513050,"post_id":77236695,"comment_id":136164860,"body_markdown":"Please, in the future choose tags for questions carefully. `spring-integration` is related to the specific project, not general concept of software connections: https://stackoverflow.com/tags/spring-integration/info","body":"Please, in the future choose tags for questions carefully. <code>spring-integration</code> is related to the specific project, not general concept of software connections: <a href=\"https://stackoverflow.com/tags/spring-integration/info\">stackoverflow.com/tags/spring-integration/info</a>"}],"owner":{"account_id":27451911,"reputation":21,"user_id":20944004,"display_name":"yzd11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696512888,"creation_date":1696505323,"question_id":77236695,"body_markdown":"This is my error message when I start the project\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-05T18:47:51.471+08:00 ERROR 26348 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField bookMapper in com.yzd.boot.service.BookService required a bean of type &#39;com.yzd.boot.mapper.BookMapper&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.yzd.boot.mapper.BookMapper&#39; in your configuration.\r\n```\r\n\r\nI&#39;m trying to use bookMapper to look up book information based on Id, but the project shows that the BookMapper component cannot be found\r\n\r\nHere&#39;s the code for my Mapper interface\r\n\r\n```\r\n@Mapper\r\npublic interface BookMapper {\r\n  public Book getBook(Integer bookId);\r\n}\r\n```\r\n\r\nBookMapper.xml Code\r\n\r\n```\r\n&lt;mapper namespace=&quot;com.yzd.boot.mapper.BookMapper&quot;&gt;\r\n&lt;!--    public Book getBook(Integer bookId);--&gt;\r\n    &lt;select id=&quot;getBook&quot; resultType=&quot;com.yzd.boot.bean.Book&quot;&gt;\r\n        select * from t_book where book_id = #{bookId}\r\n    &lt;/select&gt;\r\n&lt;/mapper&gt;\r\n```\r\n\r\nService layer code\r\n\r\n```\r\n@Service\r\npublic class BookService {\r\n  @Autowired\r\n  private BookMapper bookMapper;\r\n\r\n  public Book getBook(Integer bookId){\r\n    Book book = bookMapper.getBook(bookId);\r\n    return book;\r\n  }\r\n}\r\n```\r\n\r\nController layer code\r\n\r\n```\r\n@Controller\r\npublic class IndexController {\r\n  @Autowired\r\n  private BookService bookService;\r\n  \r\n\r\n  @ResponseBody\r\n  @RequestMapping(&quot;/acct&quot;)\r\n  public Book getBook(@RequestParam(&quot;id&quot;) Integer id){\r\n    Book book = bookService.getBook(id);\r\n    return book;\r\n  }\r\n\r\n}\r\n```\r\n\r\napplication.yaml code\r\n\r\n```\r\n#Two rules of MyBatis\r\nmybatis:\r\n  config-location: classpath:mybatis/mybatis-config.xml\r\n  mapper-locations: classpath:mybatis/mapper/*.xml\r\n```\r\n\r\nI&#39;ve made three attempts, but none of them have worked.\r\n\r\n1. I tried to annotate the startup item with @MapperScan, but it still produces the reported error\r\n\r\n   This is an error message.\r\n\r\n   ```\r\n   Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;bookMapper&#39; defined in file [D:\\code-storage\\idea\\java\\boot02-web-dev\\target\\classes\\com\\yzd\\boot\\mapper\\BookMapper.class]: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n   \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.11.jar:6.0.11]\r\n   \t... 39 common frames omitted\r\n   ```\r\n\r\n   The code shows that I need sqlSessionFactory or sqlSessionTemplate but isn&#39;t that automatically configured by springBoot, I just configured the datasource and connection driver in pom.xml and application.yaml.\r\n\r\n2. I looked at the files in the target and found that the Mapper file exists, but I still can&#39;t inject it into the BookService.\r\n\r\n3. I tried adding the @Repository annotation to the mapper interface, but still no luck.","title":"I encountered a problem in the process of integrating mybatis in using SpringBoot2","body":"<p>This is my error message when I start the project</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-05T18:47:51.471+08:00 ERROR 26348 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField bookMapper in com.yzd.boot.service.BookService required a bean of type 'com.yzd.boot.mapper.BookMapper' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.yzd.boot.mapper.BookMapper' in your configuration.\n</code></pre>\n<p>I'm trying to use bookMapper to look up book information based on Id, but the project shows that the BookMapper component cannot be found</p>\n<p>Here's the code for my Mapper interface</p>\n<pre><code>@Mapper\npublic interface BookMapper {\n  public Book getBook(Integer bookId);\n}\n</code></pre>\n<p>BookMapper.xml Code</p>\n<pre><code>&lt;mapper namespace=&quot;com.yzd.boot.mapper.BookMapper&quot;&gt;\n&lt;!--    public Book getBook(Integer bookId);--&gt;\n    &lt;select id=&quot;getBook&quot; resultType=&quot;com.yzd.boot.bean.Book&quot;&gt;\n        select * from t_book where book_id = #{bookId}\n    &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>Service layer code</p>\n<pre><code>@Service\npublic class BookService {\n  @Autowired\n  private BookMapper bookMapper;\n\n  public Book getBook(Integer bookId){\n    Book book = bookMapper.getBook(bookId);\n    return book;\n  }\n}\n</code></pre>\n<p>Controller layer code</p>\n<pre><code>@Controller\npublic class IndexController {\n  @Autowired\n  private BookService bookService;\n  \n\n  @ResponseBody\n  @RequestMapping(&quot;/acct&quot;)\n  public Book getBook(@RequestParam(&quot;id&quot;) Integer id){\n    Book book = bookService.getBook(id);\n    return book;\n  }\n\n}\n</code></pre>\n<p>application.yaml code</p>\n<pre><code>#Two rules of MyBatis\nmybatis:\n  config-location: classpath:mybatis/mybatis-config.xml\n  mapper-locations: classpath:mybatis/mapper/*.xml\n</code></pre>\n<p>I've made three attempts, but none of them have worked.</p>\n<ol>\n<li><p>I tried to annotate the startup item with @MapperScan, but it still produces the reported error</p>\n<p>This is an error message.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookMapper' defined in file [D:\\code-storage\\idea\\java\\boot02-web-dev\\target\\classes\\com\\yzd\\boot\\mapper\\BookMapper.class]: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.11.jar:6.0.11]\n ... 39 common frames omitted\n</code></pre>\n<p>The code shows that I need sqlSessionFactory or sqlSessionTemplate but isn't that automatically configured by springBoot, I just configured the datasource and connection driver in pom.xml and application.yaml.</p>\n</li>\n<li><p>I looked at the files in the target and found that the Mapper file exists, but I still can't inject it into the BookService.</p>\n</li>\n<li><p>I tried adding the @Repository annotation to the mapper interface, but still no luck.</p>\n</li>\n</ol>\n"},{"tags":["java","maven","intellij-idea","spring-boot"],"comments":[{"owner":{"account_id":6965606,"reputation":2113,"user_id":5343750,"accept_rate":80,"display_name":"gonzo"},"score":0,"creation_date":1470755710,"post_id":38854465,"comment_id":65073257,"body_markdown":"Can we see your maven dependency for `spring-context`? Or the entire POM if it is not to big...","body":"Can we see your maven dependency for <code>spring-context</code>? Or the entire POM if it is not to big..."},{"owner":{"account_id":7620986,"reputation":779,"user_id":5779015,"accept_rate":67,"display_name":"I.shL"},"score":0,"creation_date":1470756087,"post_id":38854465,"comment_id":65073503,"body_markdown":"@gonzo added the entire POM","body":"@gonzo added the entire POM"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1470756604,"post_id":38854465,"comment_id":65073878,"body_markdown":"Sounds like a corrupted download to me. Try deleting Maven&#39;s cache so that it&#39;s forced to download the jar again.","body":"Sounds like a corrupted download to me. Try deleting Maven&#39;s cache so that it&#39;s forced to download the jar again."},{"owner":{"account_id":6965606,"reputation":2113,"user_id":5343750,"accept_rate":80,"display_name":"gonzo"},"score":1,"creation_date":1470757480,"post_id":38854465,"comment_id":65074505,"body_markdown":"Per @AndyWilkinson suggestion you can try clearing the cache using `mvn dependency:purge-local-repository`.","body":"Per @AndyWilkinson suggestion you can try clearing the cache using <code>mvn dependency:purge-local-repository</code>."},{"owner":{"account_id":7620986,"reputation":779,"user_id":5779015,"accept_rate":67,"display_name":"I.shL"},"score":1,"creation_date":1470760156,"post_id":38854465,"comment_id":65076313,"body_markdown":"@AndyWilkinson I tried it but after running, the same error appears.","body":"@AndyWilkinson I tried it but after running, the same error appears."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1470761653,"post_id":38854465,"comment_id":65077218,"body_markdown":"Are you behind a corporate proxy? Perhaps the proxy has cached a corrupted copy of the jar? Try checking that `spring-context-4.3.2.RELEASE.jar` is a valid jar file.","body":"Are you behind a corporate proxy? Perhaps the proxy has cached a corrupted copy of the jar? Try checking that <code>spring-context-4.3.2.RELEASE.jar</code> is a valid jar file."},{"owner":{"account_id":2453502,"reputation":9195,"user_id":2139222,"display_name":"Ulises"},"score":0,"creation_date":1470766062,"post_id":38854465,"comment_id":65079405,"body_markdown":"open the &quot;Maven Projects&quot;  tools window and click on &quot;Reimport All Maven Projects&quot;","body":"open the &quot;Maven Projects&quot;  tools window and click on &quot;Reimport All Maven Projects&quot;"},{"owner":{"account_id":7620986,"reputation":779,"user_id":5779015,"accept_rate":67,"display_name":"I.shL"},"score":0,"creation_date":1470795323,"post_id":38854465,"comment_id":65089846,"body_markdown":"@AndyWilkinson yes there was no .jar file in the 4.3.2.RELEASE folder, this file was there instead, spring-context-4.3.2.RELEASE.jar.lastUpdated.","body":"@AndyWilkinson yes there was no .jar file in the 4.3.2.RELEASE folder, this file was there instead, spring-context-4.3.2.RELEASE.jar.lastUpdated."},{"owner":{"account_id":7620986,"reputation":779,"user_id":5779015,"accept_rate":67,"display_name":"I.shL"},"score":0,"creation_date":1470795445,"post_id":38854465,"comment_id":65089866,"body_markdown":"@Ulises after Reimporting, it started working! now there is a spring-context-4.3.2.RELEASE.jar file present too. Thanks a lot AndyWilkinson and Ulises!","body":"@Ulises after Reimporting, it started working! now there is a spring-context-4.3.2.RELEASE.jar file present too. Thanks a lot AndyWilkinson and Ulises!"},{"owner":{"account_id":6024564,"reputation":131,"user_id":4730702,"display_name":"Robin_"},"score":0,"creation_date":1523366204,"post_id":38854465,"comment_id":86524111,"body_markdown":"Duplicate ? https://stackoverflow.com/questions/40086257/the-type-org-springframework-context-configurableapplicationcontext-cannot-be-re","body":"Duplicate ? <a href=\"https://stackoverflow.com/questions/40086257/the-type-org-springframework-context-configurableapplicationcontext-cannot-be-re\" title=\"the type org springframework context configurableapplicationcontext cannot be re\">stackoverflow.com/questions/40086257/&hellip;</a>"},{"owner":{"account_id":3574555,"reputation":2368,"user_id":2984127,"accept_rate":42,"display_name":"KasparTr"},"score":0,"creation_date":1541599803,"post_id":38854465,"comment_id":93271002,"body_markdown":"Having the same problem although I can see &#39;spring-context-5.1.2.RELEASE.jar.&#39; under External Libraries. Any ideas on what causes this in IntelliJ IDEA?","body":"Having the same problem although I can see &#39;spring-context-5.1.2.RELEASE.jar.&#39; under External Libraries. Any ideas on what causes this in IntelliJ IDEA?"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1621415503,"post_id":38854465,"comment_id":119486258,"body_markdown":"I tried all the solutions bellow, it didn&#39;t work, it its really too long to restart an IDE or rebuild all the maven structure 10 times a day, only to make the IDE works. If anyone has an explanation of the root probem (classpah, jar, what else?) or a even bug submit report. Cause it really sound like an intellij bug to me.","body":"I tried all the solutions bellow, it didn&#39;t work, it its really too long to restart an IDE or rebuild all the maven structure 10 times a day, only to make the IDE works. If anyone has an explanation of the root probem (classpah, jar, what else?) or a even bug submit report. Cause it really sound like an intellij bug to me."}],"answers":[{"comments":[{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":3,"creation_date":1547784283,"post_id":51606498,"comment_id":95319471,"body_markdown":"I had a similar problem and it was fixed when I enabled Settings value Import Maven projects automatically.  This was inside Build, Execution, Deployment | Build Tools | Maven | Importing.","body":"I had a similar problem and it was fixed when I enabled Settings value Import Maven projects automatically.  This was inside Build, Execution, Deployment | Build Tools | Maven | Importing."},{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":2,"creation_date":1548055103,"post_id":51606498,"comment_id":95391309,"body_markdown":"yes that do the same! Idea is to open application as a maven project from the pom.xml file.","body":"yes that do the same! Idea is to open application as a maven project from the pom.xml file."},{"owner":{"account_id":2206737,"reputation":2452,"user_id":1949771,"accept_rate":60,"display_name":"Nanor"},"score":4,"creation_date":1558976561,"post_id":51606498,"comment_id":99267103,"body_markdown":"I&#39;d like to add that this is an issue with Gradle projects as well that was fixed with selecting the `build.gradle` file, not the base directory.","body":"I&#39;d like to add that this is an issue with Gradle projects as well that was fixed with selecting the <code>build.gradle</code> file, not the base directory."},{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1560152699,"post_id":51606498,"comment_id":99628968,"body_markdown":"yes and in case of maven, by selecting pom.xml file.","body":"yes and in case of maven, by selecting pom.xml file."}],"tags":[],"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"comment_count":4,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1533017555,"creation_date":1533017555,"answer_id":51606498,"question_id":38854465,"body_markdown":"\r\nI was able to fix it by the following steps:\r\n\r\n 1. File -&gt; Invalidate Cache and Restart\r\n 2. File -&gt; New -&gt; Project from existing source\r\n 3. Select the **pom.xml** file just (not the whole project directory) to\r\n    load the project. Project will be setup automatically.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I was able to fix it by the following steps:</p>\n\n<ol>\n<li>File -> Invalidate Cache and Restart</li>\n<li>File -> New -> Project from existing source</li>\n<li>Select the <strong>pom.xml</strong> file just (not the whole project directory) to\nload the project. Project will be setup automatically.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7987326,"reputation":481,"user_id":6026355,"display_name":"Suneet Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550297276,"creation_date":1550297276,"answer_id":54720398,"question_id":38854465,"body_markdown":"What worked me is run \r\n\r\n    mvn package \r\n\r\nor \r\n\r\n    mvn dependency:purge-local-repository    \r\n\r\nand try invalidating the cache/restart the intellij idea.. Hope that helps\r\n","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>What worked me is run </p>\n\n<pre><code>mvn package \n</code></pre>\n\n<p>or </p>\n\n<pre><code>mvn dependency:purge-local-repository    \n</code></pre>\n\n<p>and try invalidating the cache/restart the intellij idea.. Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":8729143,"reputation":311,"user_id":6529830,"display_name":"David Enoma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557913510,"creation_date":1557913510,"answer_id":56146294,"question_id":38854465,"body_markdown":"1. As the first answer stated, you can try invalidating caches and restarting. I tried that but it didn&#39;t work for me. I think it is an IntelliJ problem however. \r\n2. Check your maven dependencies if there is an error with the packages.\r\n3. \r\nI re-imported all my maven dependencies and also checked for the synchronization of version numbers in the pom.xml file. This was able to solve my own problem.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<ol>\n<li>As the first answer stated, you can try invalidating caches and restarting. I tried that but it didn't work for me. I think it is an IntelliJ problem however. </li>\n<li>Check your maven dependencies if there is an error with the packages.</li>\n<li>I re-imported all my maven dependencies and also checked for the synchronization of version numbers in the pom.xml file. This was able to solve my own problem.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2119794,"reputation":2477,"user_id":2602054,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1572596363,"creation_date":1572596363,"answer_id":58656089,"question_id":38854465,"body_markdown":"I am using IntelliJ Idea, if I used &quot;Import project&quot;, I faced the same issue. Even after using File -&gt; Invalidate Cache and Restart issue was not resolved.\r\n\r\nI closed the project, removed it from the list.\r\n\r\nThen used &quot;Open&quot; instead of the &quot;Import Project&quot; button to import to the project. It worked fine. Hope it helps someone.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I am using IntelliJ Idea, if I used \"Import project\", I faced the same issue. Even after using File -> Invalidate Cache and Restart issue was not resolved.</p>\n\n<p>I closed the project, removed it from the list.</p>\n\n<p>Then used \"Open\" instead of the \"Import Project\" button to import to the project. It worked fine. Hope it helps someone.</p>\n"},{"comments":[{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":0,"creation_date":1589144311,"post_id":60364262,"comment_id":109170441,"body_markdown":"can you elaborate more about this approach to solve the issue","body":"can you elaborate more about this approach to solve the issue"},{"owner":{"account_id":192799,"reputation":524,"user_id":434145,"display_name":"Nikhil Silveira"},"score":2,"creation_date":1592053970,"post_id":60364262,"comment_id":110289772,"body_markdown":"@SGaber :  If you imported the project using the unzipped directory from initializr then delete the .idea directory. Then, as Nanor mentioned on another answer. Import the project using the build.gradle file.","body":"@SGaber :  If you imported the project using the unzipped directory from initializr then delete the .idea directory. Then, as Nanor mentioned on another answer. Import the project using the build.gradle file."},{"owner":{"account_id":9642975,"reputation":243,"user_id":9411998,"display_name":"Harshal"},"score":0,"creation_date":1602786261,"post_id":60364262,"comment_id":113837697,"body_markdown":"It worked for me , I imported the project directory as gradle &amp; removed main.iml file","body":"It worked for me , I imported the project directory as gradle &amp; removed main.iml file"},{"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"score":0,"creation_date":1673108726,"post_id":60364262,"comment_id":132426018,"body_markdown":"it worked for me, Tnx","body":"it worked for me, Tnx"}],"tags":[],"owner":{"account_id":11855412,"reputation":620,"user_id":8675508,"display_name":"Dan Lee"},"comment_count":4,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1582474786,"creation_date":1582474786,"answer_id":60364262,"question_id":38854465,"body_markdown":"I am using **IntelliJ** and **gradle** for my spring boot application and encountered the same issue.\r\n&lt;br/&gt;&lt;br/&gt;I resolved it by deleting the auto-generated **.iml** file under classpath.\r\n&lt;br/&gt;&lt;br/&gt;Hope it helps anyone who comes after.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I am using <strong>IntelliJ</strong> and <strong>gradle</strong> for my spring boot application and encountered the same issue.\n<br/><br/>I resolved it by deleting the auto-generated <strong>.iml</strong> file under classpath.\n<br/><br/>Hope it helps anyone who comes after.</p>\n"},{"tags":[],"owner":{"account_id":10018572,"reputation":479,"user_id":7409029,"display_name":"Razzle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583685924,"creation_date":1583685924,"answer_id":60589744,"question_id":38854465,"body_markdown":"I was seeing the same error in a tooltip when I hovered over the red-underlined SpringApplication.run call in the main method (Intellij 2019.3 community ed) although the build seemed to go ahead fine.  The wavy red underlines annoyed me though.\r\n\r\nNone of the above solutions seemed to help.\r\n\r\nFinally I went to the Project Structure dialog and noticed two things that I fixed:\r\n\r\n1) I had named the main module to teamTest, and worried that the &#39;Test&#39; suffix might trip up some auto configuration behaviours, and\r\n\r\n2) I had a somewhat asymmetric module structure (the teamTest module was rooted in the project root, the test module was rooted in the src/test subdir)\r\n\r\nI removed the existing teamTest main module and added a new one called teamDemo rooted in the src/main subdir, as a sibling to the existing test module. Then I went into the pom.xml file and renamed the artefact from teamTest to teamDemo in a couple places, as I saw a warning about the pom.xml possibly overriding this change in future.\r\n\r\nFor good measure I also:\r\n- closed the project \r\n- removed it from the history \r\n- closed Intellij \r\n- ran mvn dependency:purge-local-repository  in a gitbash window \r\n\r\nbefore running Intellij again and opening the project again. \r\n\r\nRed wavy underlines were gone.\r\n\r\nPhew!  Hope this helps someone else...","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I was seeing the same error in a tooltip when I hovered over the red-underlined SpringApplication.run call in the main method (Intellij 2019.3 community ed) although the build seemed to go ahead fine.  The wavy red underlines annoyed me though.</p>\n\n<p>None of the above solutions seemed to help.</p>\n\n<p>Finally I went to the Project Structure dialog and noticed two things that I fixed:</p>\n\n<p>1) I had named the main module to teamTest, and worried that the 'Test' suffix might trip up some auto configuration behaviours, and</p>\n\n<p>2) I had a somewhat asymmetric module structure (the teamTest module was rooted in the project root, the test module was rooted in the src/test subdir)</p>\n\n<p>I removed the existing teamTest main module and added a new one called teamDemo rooted in the src/main subdir, as a sibling to the existing test module. Then I went into the pom.xml file and renamed the artefact from teamTest to teamDemo in a couple places, as I saw a warning about the pom.xml possibly overriding this change in future.</p>\n\n<p>For good measure I also:\n- closed the project \n- removed it from the history \n- closed Intellij \n- ran mvn dependency:purge-local-repository  in a gitbash window </p>\n\n<p>before running Intellij again and opening the project again. </p>\n\n<p>Red wavy underlines were gone.</p>\n\n<p>Phew!  Hope this helps someone else...</p>\n"},{"tags":[],"owner":{"account_id":7859927,"reputation":2613,"user_id":5940649,"accept_rate":75,"display_name":"Evol Rof"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1631069538,"creation_date":1589546992,"answer_id":61819638,"question_id":38854465,"body_markdown":"For me ,first answer only works when open the child project as a new project in a new window .\r\n\r\nYou can try delete `main.iml` or `xxx.iml` in your child project `src\\main\\main.iml`. That works for me\r\n\r\nEDIT: dont worry, `main.iml` is auto generated by idea","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>For me ,first answer only works when open the child project as a new project in a new window .</p>\n<p>You can try delete <code>main.iml</code> or <code>xxx.iml</code> in your child project <code>src\\main\\main.iml</code>. That works for me</p>\n<p>EDIT: dont worry, <code>main.iml</code> is auto generated by idea</p>\n"},{"tags":[],"owner":{"account_id":9912298,"reputation":683,"user_id":7338534,"display_name":"gai-jin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590160023,"creation_date":1590160023,"answer_id":61958050,"question_id":38854465,"body_markdown":"My fix:\r\n\r\n* right click project/module -&gt; Open Module Settings -&gt; Modules \r\n* select only the correct modules","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>My fix:</p>\n\n<ul>\n<li>right click project/module -> Open Module Settings -> Modules </li>\n<li>select only the correct modules</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12946447,"reputation":165,"user_id":9360669,"display_name":"donpwner"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600510441,"creation_date":1600510441,"answer_id":63967610,"question_id":38854465,"body_markdown":"for me just the following fixed it (IDE : Intellij):\r\n\r\n  - File -&gt; Invalidate Cache and Restart ","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>for me just the following fixed it (IDE : Intellij):</p>\n<ul>\n<li>File -&gt; Invalidate Cache and Restart</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16947109,"reputation":89,"user_id":12257585,"display_name":"Arkam Iqbal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604775669,"creation_date":1604775669,"answer_id":64731347,"question_id":38854465,"body_markdown":"Install Maven command-line tool and then run this command \r\n\r\n\r\n    mvn clean install\r\n\r\nAfter that restart idea and it should work as expected.\r\n\r\n","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>Install Maven command-line tool and then run this command</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>After that restart idea and it should work as expected.</p>\n"},{"tags":[],"owner":{"account_id":16267044,"reputation":715,"user_id":11746772,"display_name":"LaCodeM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619442376,"creation_date":1619442376,"answer_id":67267222,"question_id":38854465,"body_markdown":"I got the same error while creating my project via https://start.spring.io/. All worked well after I selected Java 8 instead Java 11. Maybe this will help some other beginner like me...","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I got the same error while creating my project via <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>. All worked well after I selected Java 8 instead Java 11. Maybe this will help some other beginner like me...</p>\n"},{"tags":[],"owner":{"account_id":376706,"reputation":795,"user_id":728345,"accept_rate":63,"display_name":"obesechicken13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620720395,"creation_date":1620720395,"answer_id":67482785,"question_id":38854465,"body_markdown":"Test runs when I run mvn test. Not if I run it directly as a junit test from the IDE. My issue was similar but not the exact same class not found.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>Test runs when I run mvn test. Not if I run it directly as a junit test from the IDE. My issue was similar but not the exact same class not found.</p>\n"},{"tags":[],"owner":{"account_id":18316230,"reputation":11,"user_id":13337965,"display_name":"Selma Abbassi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622208728,"creation_date":1622208728,"answer_id":67739835,"question_id":38854465,"body_markdown":"For me it was removing the .idea file and then opening the project again choosing the pom.xml file","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>For me it was removing the .idea file and then opening the project again choosing the pom.xml file</p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623924358,"creation_date":1623923951,"answer_id":68017064,"question_id":38854465,"body_markdown":"I tried to  Invalidate Cache and Restart but didn&#39;t work . \r\nThe problem is a confliction of versions\r\n\r\nI was able to solve the problem by \r\n\r\n 1. go to  https://start.spring.io/ select your java and spring versions\r\n 2. go to &quot;explore&quot;  which you will find at the bottom of the page\r\n 3. copy the code where version are declared \r\n\r\n   \r\n\r\n \r\n\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;demo&lt;/name&gt;\r\n      &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;16&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n\r\n\r\n 4. Invalidate Cache and Restart\r\n\r\n\r\nNote: make sure to change the roupId and artificatId to yours","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I tried to  Invalidate Cache and Restart but didn't work .\nThe problem is a confliction of versions</p>\n<p>I was able to solve the problem by</p>\n<ol>\n<li><p>go to  <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> select your java and spring versions</p>\n</li>\n<li><p>go to &quot;explore&quot;  which you will find at the bottom of the page</p>\n</li>\n<li><p>copy the code where version are declared</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n</code></pre>\n</li>\n</ol>\n  \n<pre><code>    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;demo&lt;/name&gt;\n  &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;16&lt;/java.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n<ol start=\"4\">\n<li>Invalidate Cache and Restart</li>\n</ol>\n<p>Note: make sure to change the roupId and artificatId to yours</p>\n"},{"tags":[],"owner":{"account_id":20656655,"reputation":1,"user_id":16417618,"display_name":"Nikhil kalathil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625876099,"creation_date":1625876099,"answer_id":68323730,"question_id":38854465,"body_markdown":"File -&gt; Invalidate Cache and Restart did not help in resolving the problem. However, I was able to fix it by deleting the auto-generated .iml file, but I don&#39;t fully understand why this was the issue. \r\n","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>File -&gt; Invalidate Cache and Restart did not help in resolving the problem. However, I was able to fix it by deleting the auto-generated .iml file, but I don't fully understand why this was the issue.</p>\n"},{"tags":[],"owner":{"account_id":4856729,"reputation":4150,"user_id":3917465,"accept_rate":29,"display_name":"Code_Worm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626180278,"creation_date":1626180278,"answer_id":68362671,"question_id":38854465,"body_markdown":"**In my case one of the maven packages was broken and not installed properly (under .m2 directory)** and causing the above issue. Actually the installed jar file was empty for some unknown reason (maybe network fluctuation during download or something)\r\n\r\n\r\nSo I deleted the package folder from .m2 directory and on the next `mvn clean install` it got downloaded and installed properly and build issues resolved.\r\n\r\n\r\nHowever, I saw the actual error by doing `mvn clean install` from terminal (outside the Intelij). When I did `mvn clean install` from inside the Intelij, it didn&#39;t show me the actual error and instead just showed me `cannot access ....` error.\r\n\r\nSo if none of the mentioned solutions worked for you, just navigate to your source code directory in file explorer, in terminal type `mvn clean install`. Then it&#39;ll give you the name of the broken package(s). So you can simply remove them manually and have them installed again by typing `mvn clean install`\r\n\r\n\r\n\r\n","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p><strong>In my case one of the maven packages was broken and not installed properly (under .m2 directory)</strong> and causing the above issue. Actually the installed jar file was empty for some unknown reason (maybe network fluctuation during download or something)</p>\n<p>So I deleted the package folder from .m2 directory and on the next <code>mvn clean install</code> it got downloaded and installed properly and build issues resolved.</p>\n<p>However, I saw the actual error by doing <code>mvn clean install</code> from terminal (outside the Intelij). When I did <code>mvn clean install</code> from inside the Intelij, it didn't show me the actual error and instead just showed me <code>cannot access ....</code> error.</p>\n<p>So if none of the mentioned solutions worked for you, just navigate to your source code directory in file explorer, in terminal type <code>mvn clean install</code>. Then it'll give you the name of the broken package(s). So you can simply remove them manually and have them installed again by typing <code>mvn clean install</code></p>\n"},{"tags":[],"owner":{"account_id":9798985,"reputation":123,"user_id":7260915,"display_name":"venkatesh A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632223576,"creation_date":1632223576,"answer_id":69268076,"question_id":38854465,"body_markdown":"add spring-context-5.1.6.RELEASE.jar file manually on external library and try. it solves the problem.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>add spring-context-5.1.6.RELEASE.jar file manually on external library and try. it solves the problem.</p>\n"},{"tags":[],"owner":{"account_id":2726220,"reputation":99,"user_id":2351209,"display_name":"Asokan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637855081,"creation_date":1637855081,"answer_id":70113886,"question_id":38854465,"body_markdown":"Remove .iml files in java and test directory","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>Remove .iml files in java and test directory</p>\n"},{"tags":[],"owner":{"account_id":13263685,"reputation":31,"user_id":21421450,"display_name":"Rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679073107,"creation_date":1679073107,"answer_id":75770375,"question_id":38854465,"body_markdown":"I was encountering the same issue after loading a new project from the Initializr using Spring 3.0.4 and Java 17.  I had done this successfully with two other Spring Boot projects previously the day before and the suggestions above didn&#39;t work.  I could clearly see the jar containing ConfigurableApplicationContext in the external libraries folder (org.springframework:spring-core-6.0.6).  I tried creating a project in the initializr again using the same dependencies that I had used the day before in projects that didn&#39;t work.  I tried invalidating the cache and restarting, but all came to naught.  What worked was\r\n\r\n1.  Close the project\r\n2.  Delete the .idea folder\r\n3.  New -&gt; Project from existing sources\r\n4.  I selected the pom.xml in the dialog, but I am not sure this was necessary.\r\n5.  Build -&gt; Build Project\r\n\r\nNot sure how the .idea folder got messed up or why it affected subsequent projects.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I was encountering the same issue after loading a new project from the Initializr using Spring 3.0.4 and Java 17.  I had done this successfully with two other Spring Boot projects previously the day before and the suggestions above didn't work.  I could clearly see the jar containing ConfigurableApplicationContext in the external libraries folder (org.springframework:spring-core-6.0.6).  I tried creating a project in the initializr again using the same dependencies that I had used the day before in projects that didn't work.  I tried invalidating the cache and restarting, but all came to naught.  What worked was</p>\n<ol>\n<li>Close the project</li>\n<li>Delete the .idea folder</li>\n<li>New -&gt; Project from existing sources</li>\n<li>I selected the pom.xml in the dialog, but I am not sure this was necessary.</li>\n<li>Build -&gt; Build Project</li>\n</ol>\n<p>Not sure how the .idea folder got messed up or why it affected subsequent projects.</p>\n"},{"tags":[],"owner":{"account_id":4968864,"reputation":71,"user_id":3997322,"display_name":"Yunjun Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689316457,"creation_date":1689316457,"answer_id":76685210,"question_id":38854465,"body_markdown":"First of all, don&#39;t forget to install the Maven/Gradle IntelliJ plugin if you are using IntelliJ, \r\nThen, if still seeing the same error, try to follow the suggestion to import the library.\r\nLastly, invalid cache and restart your IntelliJ, it&#39;ll work as expected.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>First of all, don't forget to install the Maven/Gradle IntelliJ plugin if you are using IntelliJ,\nThen, if still seeing the same error, try to follow the suggestion to import the library.\nLastly, invalid cache and restart your IntelliJ, it'll work as expected.</p>\n"},{"tags":[],"owner":{"account_id":11515517,"reputation":71,"user_id":8438992,"display_name":"Muhittin Kaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689754112,"creation_date":1689754112,"answer_id":76719178,"question_id":38854465,"body_markdown":"When you import project from a downloaded resource select pom.xml itself not project directory, it will setup project.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>When you import project from a downloaded resource select pom.xml itself not project directory, it will setup project.</p>\n"},{"tags":[],"owner":{"account_id":2578107,"reputation":1918,"user_id":2235356,"accept_rate":86,"display_name":"TEH EMPRAH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696512409,"creation_date":1696512409,"answer_id":77237567,"question_id":38854465,"body_markdown":"For sake of completeness, as one of possible answers not for this problem, but `these` problems:\r\n\r\nIf you&#39;re using Java 8 (which will be supported till 2030), latest SpringBoot for you is `2.2-2.3`, (for Java 8-15), so if you have 3.x.x, e.g., it is a &quot;bad jar&quot; for you, as `bytecode` version is &gt;`52.0` there.\r\n\r\nCache invalidation won&#39;t work in this case. Use corresponding LTS spring version.","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>For sake of completeness, as one of possible answers not for this problem, but <code>these</code> problems:</p>\n<p>If you're using Java 8 (which will be supported till 2030), latest SpringBoot for you is <code>2.2-2.3</code>, (for Java 8-15), so if you have 3.x.x, e.g., it is a &quot;bad jar&quot; for you, as <code>bytecode</code> version is &gt;<code>52.0</code> there.</p>\n<p>Cache invalidation won't work in this case. Use corresponding LTS spring version.</p>\n"}],"owner":{"account_id":7620986,"reputation":779,"user_id":5779015,"accept_rate":67,"display_name":"I.shL"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97818,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":22,"score":43,"last_activity_date":1696512409,"creation_date":1470755430,"question_id":38854465,"body_markdown":"I am new to spring boot, while trying to build my first spring boot project (Maven) in intellij using spring initializer, I am getting this error when I run my project after creating it:\r\n\r\n&gt; cannot access org.springframework.context.ConfigurableApplicationContext\r\n  class file for org.springframework.context.ConfigurableApplicationContext not found\r\n\r\nI followed many tutorials but every time I am getting this error, how to resolve this?\r\n\r\nMy pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;das-boot&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;First spring boot app&lt;/name&gt;\r\n    \t&lt;description&gt;project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;    \r\n\r\n \r\n","title":"cannot access org.springframework.context.ConfigurableApplicationContext class file","body":"<p>I am new to spring boot, while trying to build my first spring boot project (Maven) in intellij using spring initializer, I am getting this error when I run my project after creating it:</p>\n\n<blockquote>\n  <p>cannot access org.springframework.context.ConfigurableApplicationContext\n    class file for org.springframework.context.ConfigurableApplicationContext not found</p>\n</blockquote>\n\n<p>I followed many tutorials but every time I am getting this error, how to resolve this?</p>\n\n<p>My pom.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \n      http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;das-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;First spring boot app&lt;/name&gt;\n    &lt;description&gt;project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;    \n</code></pre>\n"},{"tags":["java","minecraft","forge"],"answers":[{"tags":[],"owner":{"account_id":14325761,"reputation":21,"user_id":10347908,"display_name":"Huntwer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696512024,"creation_date":1696512024,"answer_id":77237516,"question_id":77232522,"body_markdown":"I&#39;ve solved it! In practice, Forge, upon canceling the block destruction event for a reason I don&#39;t know, resets the block entity only on the client side. I saved the old block entity and reinsert it as soon as I see that the block entity has been set on the client side. Below is the code snippet of what I mean.\r\n\r\n    @Mod.EventBusSubscriber(modid = DoorLockPadMod.MODID)\r\n    public class EventHandlers {\r\n    private static BlockEntity oldBlockEntity;\r\n    ...\r\n    @SubscribeEvent\r\n        public static void onBlockDestroyed(@NotNull BlockEvent.BreakEvent event) {\r\n        ...\r\n        else if (padBlockEntity != null) {\r\n                    event.setCanceled(true);\r\n                    oldBlockEntity = padBlockEntity;\r\n                }\r\n        ...\r\n        }\r\n    \r\n        @SubscribeEvent\r\n        public static void onTick(TickEvent.ClientTickEvent event) {\r\n            if (oldBlockEntity != null) {\r\n                ClientLevel level = Minecraft.getInstance().level;\r\n                BlockPos blockPos = oldBlockEntity.getBlockPos();\r\n                if (level != null &amp;&amp; level.getBlockEntity(blockPos) != null) {\r\n                    level.setBlockEntity(oldBlockEntity);\r\n                    oldBlockEntity = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Minecraft synch blockentity on canceled block break event","body":"<p>I've solved it! In practice, Forge, upon canceling the block destruction event for a reason I don't know, resets the block entity only on the client side. I saved the old block entity and reinsert it as soon as I see that the block entity has been set on the client side. Below is the code snippet of what I mean.</p>\n<pre><code>@Mod.EventBusSubscriber(modid = DoorLockPadMod.MODID)\npublic class EventHandlers {\nprivate static BlockEntity oldBlockEntity;\n...\n@SubscribeEvent\n    public static void onBlockDestroyed(@NotNull BlockEvent.BreakEvent event) {\n    ...\n    else if (padBlockEntity != null) {\n                event.setCanceled(true);\n                oldBlockEntity = padBlockEntity;\n            }\n    ...\n    }\n\n    @SubscribeEvent\n    public static void onTick(TickEvent.ClientTickEvent event) {\n        if (oldBlockEntity != null) {\n            ClientLevel level = Minecraft.getInstance().level;\n            BlockPos blockPos = oldBlockEntity.getBlockPos();\n            if (level != null &amp;&amp; level.getBlockEntity(blockPos) != null) {\n                level.setBlockEntity(oldBlockEntity);\n                oldBlockEntity = null;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14325761,"reputation":21,"user_id":10347908,"display_name":"Huntwer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696512024,"creation_date":1696448552,"question_id":77232522,"body_markdown":"In Minecraft Forge 1.19.4, I have a BlockEvent.BreakEvent event handled with a method. In this method, under specific conditions, I cancel the block destruction. However, since the event is triggered only server-side, the side effect is that the block disappears and reappears client-side, and the block entity associated with the block becomes misaligned. Even if I try to align it with server-to-client synchronization by sending a data packet, it has no effect because the synchronization occurs in the method invoked before the actual destruction and reconstruction of the block, both server-side and client-side.\r\nMy code is here:\r\n```\r\n@Mod.EventBusSubscriber(modid = DoorLockPadMod.MODID)\r\npublic class EventHandlers {\r\n@SubscribeEvent\r\n    public static void onBlockDestroyed(@NotNull BlockEvent.BreakEvent event) {\r\n        Player playerEntity = event.getPlayer();\r\n        Level level = playerEntity.getLevel();\r\n        BlockPos blockPos = event.getPos();\r\n        BlockState blockState = level.getBlockState(blockPos);\r\n        FunctionUtils.setLevel(level);\r\n        if (blockState.getBlock() instanceof DoorBlock) {\r\n            BlockPos padBlockPos = FunctionUtils.checkIfAssignedDoor(blockPos, null);\r\n            if (padBlockPos != null) {\r\n                PadBlockEntity padBlockEntity = (PadBlockEntity) level.getBlockEntity(padBlockPos);\r\n                BlockState padBlockState = level.getBlockState(padBlockPos);\r\n                if (padBlockEntity != null &amp;&amp; (!padBlockEntity.isDoorLocked() || playerEntity.isCreative())) {\r\n                    padBlockEntity.setRelatedDoor(null);\r\n                    padBlockEntity.setPassword(null);\r\n                    level.sendBlockUpdated(padBlockPos, padBlockState, padBlockState, 2);\r\n                    FunctionUtils.removeDoorAssignedPadBlockByPadBlock(padBlockPos);\r\n                } else event.setCanceled(true);\r\n            }\r\n        } else if (blockState.getBlock() instanceof PadBlock) {\r\n            PadBlockEntity padBlockEntity = (PadBlockEntity) level.getBlockEntity(blockPos);\r\n            if (padBlockEntity != null &amp;&amp; (!padBlockEntity.isDoorLocked() || playerEntity.isCreative())) {\r\n                FunctionUtils.removeDoorAssignedPadBlockByPadBlock(blockPos);\r\n            } else if (padBlockEntity != null) event.setCanceled(true);\r\n        }\r\n    }\r\n}\r\n```\r\nAfter this client-side BlockEntity at blockPos have different values of server-side BlockEntity.\r\n\r\nThe code of PadBlockEntity class is:\r\n```\r\npublic class PadBlockEntity extends BlockEntity {\r\n    private BlockPos pos;\r\n    private BlockPos supportBlockPos;\r\n    private String password;\r\n    private boolean isDoorLocked;\r\n    private String relatedDoor;\r\n    private int ticks;\r\n\r\n    public PadBlockEntity(BlockPos pos, BlockState state) {\r\n        super(DoorLockPadMod.PAD_BLOCK_ENTITY.get(), pos, state);\r\n        this.pos = pos;\r\n        this.isDoorLocked = true;\r\n        this.ticks = 0;\r\n    }\r\n\r\n    public BlockPos getPos() {\r\n        return pos;\r\n    }\r\n\r\n    public void setPos(BlockPos pos) {\r\n        this.pos = pos;\r\n    }\r\n\r\n    public BlockPos getSupportBlockPos() {\r\n        return supportBlockPos;\r\n    }\r\n\r\n    public void setSupportBlockPos(BlockPos supportBlockpos) {\r\n        this.supportBlockPos = supportBlockpos;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public boolean isDoorLocked() {\r\n        return isDoorLocked;\r\n    }\r\n\r\n    public void setDoorLocked(boolean doorLocked) {\r\n        isDoorLocked = doorLocked;\r\n    }\r\n\r\n    public String getRelatedDoor() {\r\n        return relatedDoor;\r\n    }\r\n\r\n    public void setRelatedDoor(String relatedDoor) {\r\n        this.relatedDoor = relatedDoor;\r\n    }\r\n\r\n    @Override\r\n    protected void saveAdditional(CompoundTag nbt) {\r\n        super.saveAdditional(nbt);\r\n        if (this.getPassword() != null)\r\n            nbt.putString(&quot;password&quot;, this.getPassword());\r\n        nbt.putLong(&quot;pos&quot;, this.getPos().asLong());\r\n        nbt.putLong(&quot;supportBlockPos&quot;, this.getSupportBlockPos().asLong());\r\n        if (this.getRelatedDoor() != null)\r\n            nbt.putString(&quot;relatedDoor&quot;, this.getRelatedDoor());\r\n    }\r\n\r\n    @Override\r\n    public void load(@NotNull CompoundTag nbt) {\r\n        super.load(nbt);\r\n        this.password = nbt.getString(&quot;password&quot;);\r\n        this.pos = BlockPos.of(nbt.getLong(&quot;pos&quot;));\r\n        this.supportBlockPos = BlockPos.of(nbt.getLong(&quot;supportBlockPos&quot;));\r\n        this.relatedDoor = nbt.getString(&quot;relatedDoor&quot;);\r\n        if (StringUtils.isEmpty(this.relatedDoor)) {\r\n            this.isDoorLocked = true;\r\n            this.ticks = 0;\r\n        }\r\n    }\r\n\r\n    @NotNull\r\n    @Override\r\n    public CompoundTag getUpdateTag() {\r\n        super.getUpdateTag();\r\n        return saveWithoutMetadata();\r\n    }\r\n\r\n    @Override\r\n    public void handleUpdateTag(CompoundTag nbt) {\r\n        super.handleUpdateTag(nbt);\r\n        this.load(nbt);\r\n    }\r\n\r\n    @Override\r\n    public Packet&lt;ClientGamePacketListener&gt; getUpdatePacket() {\r\n        return ClientboundBlockEntityDataPacket.create(this);\r\n    }\r\n\r\n    public static &lt;T extends BlockEntity&gt; void tick(Level level, BlockPos blockPos, BlockState state,\r\n                                                    T blockEntity) {\r\n        if (level.isClientSide &amp;&amp; blockEntity instanceof PadBlockEntity padBlockEntity) {\r\n            if (!padBlockEntity.isDoorLocked()) {\r\n                padBlockEntity.ticks++;\r\n            }\r\n\r\n            if (padBlockEntity.ticks == 200) {\r\n                padBlockEntity.setDoorLocked(true);\r\n                FunctionUtils.sendToServer(padBlockEntity);\r\n                padBlockEntity.ticks = 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAre there any other solutions?\r\n\r\nI&#39;ve tried using sendBlockUpdate, but in my opinion, the block isn&#39;t actually destroyed before the event ends, so this affects the block entity, which hasn&#39;t been modified yet. I attempted to create a packet to synchronize server and client, but for the same reason, I don&#39;t think it works. Throughout the method, the block isn&#39;t yet destroyed and reinserted, and the block entity remains the same.","title":"Minecraft synch blockentity on canceled block break event","body":"<p>In Minecraft Forge 1.19.4, I have a BlockEvent.BreakEvent event handled with a method. In this method, under specific conditions, I cancel the block destruction. However, since the event is triggered only server-side, the side effect is that the block disappears and reappears client-side, and the block entity associated with the block becomes misaligned. Even if I try to align it with server-to-client synchronization by sending a data packet, it has no effect because the synchronization occurs in the method invoked before the actual destruction and reconstruction of the block, both server-side and client-side.\nMy code is here:</p>\n<pre><code>@Mod.EventBusSubscriber(modid = DoorLockPadMod.MODID)\npublic class EventHandlers {\n@SubscribeEvent\n    public static void onBlockDestroyed(@NotNull BlockEvent.BreakEvent event) {\n        Player playerEntity = event.getPlayer();\n        Level level = playerEntity.getLevel();\n        BlockPos blockPos = event.getPos();\n        BlockState blockState = level.getBlockState(blockPos);\n        FunctionUtils.setLevel(level);\n        if (blockState.getBlock() instanceof DoorBlock) {\n            BlockPos padBlockPos = FunctionUtils.checkIfAssignedDoor(blockPos, null);\n            if (padBlockPos != null) {\n                PadBlockEntity padBlockEntity = (PadBlockEntity) level.getBlockEntity(padBlockPos);\n                BlockState padBlockState = level.getBlockState(padBlockPos);\n                if (padBlockEntity != null &amp;&amp; (!padBlockEntity.isDoorLocked() || playerEntity.isCreative())) {\n                    padBlockEntity.setRelatedDoor(null);\n                    padBlockEntity.setPassword(null);\n                    level.sendBlockUpdated(padBlockPos, padBlockState, padBlockState, 2);\n                    FunctionUtils.removeDoorAssignedPadBlockByPadBlock(padBlockPos);\n                } else event.setCanceled(true);\n            }\n        } else if (blockState.getBlock() instanceof PadBlock) {\n            PadBlockEntity padBlockEntity = (PadBlockEntity) level.getBlockEntity(blockPos);\n            if (padBlockEntity != null &amp;&amp; (!padBlockEntity.isDoorLocked() || playerEntity.isCreative())) {\n                FunctionUtils.removeDoorAssignedPadBlockByPadBlock(blockPos);\n            } else if (padBlockEntity != null) event.setCanceled(true);\n        }\n    }\n}\n</code></pre>\n<p>After this client-side BlockEntity at blockPos have different values of server-side BlockEntity.</p>\n<p>The code of PadBlockEntity class is:</p>\n<pre><code>public class PadBlockEntity extends BlockEntity {\n    private BlockPos pos;\n    private BlockPos supportBlockPos;\n    private String password;\n    private boolean isDoorLocked;\n    private String relatedDoor;\n    private int ticks;\n\n    public PadBlockEntity(BlockPos pos, BlockState state) {\n        super(DoorLockPadMod.PAD_BLOCK_ENTITY.get(), pos, state);\n        this.pos = pos;\n        this.isDoorLocked = true;\n        this.ticks = 0;\n    }\n\n    public BlockPos getPos() {\n        return pos;\n    }\n\n    public void setPos(BlockPos pos) {\n        this.pos = pos;\n    }\n\n    public BlockPos getSupportBlockPos() {\n        return supportBlockPos;\n    }\n\n    public void setSupportBlockPos(BlockPos supportBlockpos) {\n        this.supportBlockPos = supportBlockpos;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public boolean isDoorLocked() {\n        return isDoorLocked;\n    }\n\n    public void setDoorLocked(boolean doorLocked) {\n        isDoorLocked = doorLocked;\n    }\n\n    public String getRelatedDoor() {\n        return relatedDoor;\n    }\n\n    public void setRelatedDoor(String relatedDoor) {\n        this.relatedDoor = relatedDoor;\n    }\n\n    @Override\n    protected void saveAdditional(CompoundTag nbt) {\n        super.saveAdditional(nbt);\n        if (this.getPassword() != null)\n            nbt.putString(&quot;password&quot;, this.getPassword());\n        nbt.putLong(&quot;pos&quot;, this.getPos().asLong());\n        nbt.putLong(&quot;supportBlockPos&quot;, this.getSupportBlockPos().asLong());\n        if (this.getRelatedDoor() != null)\n            nbt.putString(&quot;relatedDoor&quot;, this.getRelatedDoor());\n    }\n\n    @Override\n    public void load(@NotNull CompoundTag nbt) {\n        super.load(nbt);\n        this.password = nbt.getString(&quot;password&quot;);\n        this.pos = BlockPos.of(nbt.getLong(&quot;pos&quot;));\n        this.supportBlockPos = BlockPos.of(nbt.getLong(&quot;supportBlockPos&quot;));\n        this.relatedDoor = nbt.getString(&quot;relatedDoor&quot;);\n        if (StringUtils.isEmpty(this.relatedDoor)) {\n            this.isDoorLocked = true;\n            this.ticks = 0;\n        }\n    }\n\n    @NotNull\n    @Override\n    public CompoundTag getUpdateTag() {\n        super.getUpdateTag();\n        return saveWithoutMetadata();\n    }\n\n    @Override\n    public void handleUpdateTag(CompoundTag nbt) {\n        super.handleUpdateTag(nbt);\n        this.load(nbt);\n    }\n\n    @Override\n    public Packet&lt;ClientGamePacketListener&gt; getUpdatePacket() {\n        return ClientboundBlockEntityDataPacket.create(this);\n    }\n\n    public static &lt;T extends BlockEntity&gt; void tick(Level level, BlockPos blockPos, BlockState state,\n                                                    T blockEntity) {\n        if (level.isClientSide &amp;&amp; blockEntity instanceof PadBlockEntity padBlockEntity) {\n            if (!padBlockEntity.isDoorLocked()) {\n                padBlockEntity.ticks++;\n            }\n\n            if (padBlockEntity.ticks == 200) {\n                padBlockEntity.setDoorLocked(true);\n                FunctionUtils.sendToServer(padBlockEntity);\n                padBlockEntity.ticks = 0;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Are there any other solutions?</p>\n<p>I've tried using sendBlockUpdate, but in my opinion, the block isn't actually destroyed before the event ends, so this affects the block entity, which hasn't been modified yet. I attempted to create a packet to synchronize server and client, but for the same reason, I don't think it works. Throughout the method, the block isn't yet destroyed and reinserted, and the block entity remains the same.</p>\n"},{"tags":["java","github","github-api","java-http-client"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696510933,"post_id":77237199,"comment_id":136164318,"body_markdown":"So which code are you actually getting, 200 or 302? If it&#39;s 302, are you sure the HTTP client is actually *following* that redirect? I can see the configuration is there, but did you check that it works?","body":"So which code are you actually getting, 200 or 302? If it&#39;s 302, are you sure the HTTP client is actually <i>following</i> that redirect? I can see the configuration is there, but did you check that it works?"}],"answers":[{"tags":[],"owner":{"account_id":23575477,"reputation":31,"user_id":17615184,"display_name":"A. M."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696511441,"creation_date":1696511441,"answer_id":77237429,"question_id":77237199,"body_markdown":"Thanks to @Jorn I have checked the redirection policies. If you want to follow redirects with a HttpClient calling `followRedirects()` doesn&#39;t in fact make the client follow redirects, it just returns the used policy. (so it&#39;s basically a getter.)\r\n\r\nTo make a HttpClient follow redirects, you have to create it using:\r\n```java\r\nHttpClient.newBuilder().followRedirects(HttpClient.Redirect.ALWAYS).build();\r\n```","title":"Getting a release asset from GitHub returns empty response file","body":"<p>Thanks to @Jorn I have checked the redirection policies. If you want to follow redirects with a HttpClient calling <code>followRedirects()</code> doesn't in fact make the client follow redirects, it just returns the used policy. (so it's basically a getter.)</p>\n<p>To make a HttpClient follow redirects, you have to create it using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient.newBuilder().followRedirects(HttpClient.Redirect.ALWAYS).build();\n</code></pre>\n"}],"owner":{"account_id":23575477,"reputation":31,"user_id":17615184,"display_name":"A. M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696511636,"creation_date":1696509633,"question_id":77237199,"body_markdown":"I&#39;m trying to download an asset inside a GitHub release as a file, but the response is empty.\r\nThe repository is private, but I have a working bearer token with which I can perform other calls.\r\n```java\r\nstatic final HttpClient httpClient = HttpClient.newHttpClient();\r\n\r\nstatic {\r\n    // Edit: Turns out this doesn&#39;t make the client follow redirects\r\n    httpClient.followRedirects();\r\n}\r\n\r\nstatic boolean downloadAsset(URI uri, Path targetPath, String bearerToken) {\r\n    try {\r\n        var request = HttpRequest.newBuilder(uri)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken)\r\n                .header(&quot;Accept&quot;, &quot;application/octet-stream&quot;)\r\n                .build();\r\n        var response = httpClient.send(request, HttpResponse.BodyHandlers.ofFile(targetPath));\r\n        if (response.statusCode() == 200 || response.statusCode() == 302) {\r\n            System.out.println(&quot;Downloaded &quot; + uri);\r\n            return true;\r\n        }\r\n        Files.deleteIfExists(targetPath);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nThe [api-docs](https://docs.github.com/en/rest/releases/assets?apiVersion=2022-11-28#get-a-release-asset) say:\r\n&gt; To download the asset&#39;s binary content, set the Accept header of the request to application/octet-stream. The API will either redirect the client to the location, or stream it directly if possible. API clients should handle both a 200 or 302 response.\r\n\r\nThe downloaded file is completely empty; What am I missing?\r\n","title":"Getting a release asset from GitHub returns empty response file","body":"<p>I'm trying to download an asset inside a GitHub release as a file, but the response is empty.\nThe repository is private, but I have a working bearer token with which I can perform other calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final HttpClient httpClient = HttpClient.newHttpClient();\n\nstatic {\n    // Edit: Turns out this doesn't make the client follow redirects\n    httpClient.followRedirects();\n}\n\nstatic boolean downloadAsset(URI uri, Path targetPath, String bearerToken) {\n    try {\n        var request = HttpRequest.newBuilder(uri)\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken)\n                .header(&quot;Accept&quot;, &quot;application/octet-stream&quot;)\n                .build();\n        var response = httpClient.send(request, HttpResponse.BodyHandlers.ofFile(targetPath));\n        if (response.statusCode() == 200 || response.statusCode() == 302) {\n            System.out.println(&quot;Downloaded &quot; + uri);\n            return true;\n        }\n        Files.deleteIfExists(targetPath);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p>The <a href=\"https://docs.github.com/en/rest/releases/assets?apiVersion=2022-11-28#get-a-release-asset\" rel=\"nofollow noreferrer\">api-docs</a> say:</p>\n<blockquote>\n<p>To download the asset's binary content, set the Accept header of the request to application/octet-stream. The API will either redirect the client to the location, or stream it directly if possible. API clients should handle both a 200 or 302 response.</p>\n</blockquote>\n<p>The downloaded file is completely empty; What am I missing?</p>\n"},{"tags":["java","maven","micronaut","micronaut-data"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1584234144,"post_id":60688225,"comment_id":107374301,"body_markdown":"Please include your `Usuario` class.","body":"Please include your <code>Usuario</code> class."},{"owner":{"account_id":13455741,"reputation":4930,"user_id":9709361,"display_name":"cgrim"},"score":1,"creation_date":1584291137,"post_id":60688225,"comment_id":107385415,"body_markdown":"Show us also `UsuarioModel` class. It is important to be able to resolve this issue.","body":"Show us also <code>UsuarioModel</code> class. It is important to be able to resolve this issue."},{"owner":{"account_id":13455741,"reputation":4930,"user_id":9709361,"display_name":"cgrim"},"score":1,"creation_date":1584338396,"post_id":60688225,"comment_id":107396288,"body_markdown":"Hmm entity is OK. This exception is often caused by missing `@Entity` annotation. But not in this case. Can you try to remove `jpa.default.entity-scan` definition from _application.yml_?","body":"Hmm entity is OK. This exception is often caused by missing <code>@Entity</code> annotation. But not in this case. Can you try to remove <code>jpa.default.entity-scan</code> definition from <i>application.yml</i>?"},{"owner":{"account_id":8613217,"reputation":111,"user_id":6926804,"display_name":"HienaKill"},"score":1,"creation_date":1584408620,"post_id":60688225,"comment_id":107422191,"body_markdown":"Thanks for the support!\nI&#39;ve tried without It but got the same error thought :/","body":"Thanks for the support! I&#39;ve tried without It but got the same error thought :/"}],"answers":[{"comments":[{"owner":{"account_id":8613217,"reputation":111,"user_id":6926804,"display_name":"HienaKill"},"score":0,"creation_date":1590515864,"post_id":61958684,"comment_id":109706981,"body_markdown":"Sorry for the late response,\nFirst of all, thanks!\nCould you, please, explain to me which package this @field comes from?","body":"Sorry for the late response, First of all, thanks! Could you, please, explain to me which package this @field comes from?"},{"owner":{"account_id":6924226,"reputation":340,"user_id":5363503,"display_name":"matteo nunziati"},"score":0,"creation_date":1590591756,"post_id":61958684,"comment_id":109738597,"body_markdown":"Sorry, my very bad: that is a kotlin decorator! I was forgetting that I was on kotlin and not java. I&#39;ve anyway edited my answer. please look at the edit section.","body":"Sorry, my very bad: that is a kotlin decorator! I was forgetting that I was on kotlin and not java. I&#39;ve anyway edited my answer. please look at the edit section."}],"tags":[],"owner":{"account_id":6924226,"reputation":340,"user_id":5363503,"display_name":"matteo nunziati"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1590592326,"creation_date":1590162015,"answer_id":61958684,"question_id":60688225,"body_markdown":"### EDIT:\r\nThere are 2 possible sources for the `@Id` decorator in micronaut:\r\n\r\n - the &quot;native&quot; annotation package: `io.micronaut.data.annotation` \r\n - the jpa persistance package available as: `jakarta.persistence-api` dependency in maven\r\n\r\nAs you are decorating the class with `@Entity` I suppose you are using the latter set of decorators. or at least a mix of the 2 sources.\r\n\r\nAs basic debug step you could try removing any reference to javax.persistance and use native only decorators. So, as instance, do not use `@Entity` but rather `@MappedEntity` and so on.\r\n\r\nsimply comment out any import from `javax.persistence.*` and try with native `io.micronaut.data.annotation*`.\r\n\r\nthis would make clearer - I hope- if the issue lies in some twist of the annotation process.\r\n\r\n### OLD RUBBISH HAS BEEN DELETED - was Kotlin related","title":"Micronaut Unable to implement Repository method: Repository.update(Object entity). No possible implementations found","body":"<h3>EDIT:</h3>\n\n<p>There are 2 possible sources for the <code>@Id</code> decorator in micronaut:</p>\n\n<ul>\n<li>the \"native\" annotation package: <code>io.micronaut.data.annotation</code> </li>\n<li>the jpa persistance package available as: <code>jakarta.persistence-api</code> dependency in maven</li>\n</ul>\n\n<p>As you are decorating the class with <code>@Entity</code> I suppose you are using the latter set of decorators. or at least a mix of the 2 sources.</p>\n\n<p>As basic debug step you could try removing any reference to javax.persistance and use native only decorators. So, as instance, do not use <code>@Entity</code> but rather <code>@MappedEntity</code> and so on.</p>\n\n<p>simply comment out any import from <code>javax.persistence.*</code> and try with native <code>io.micronaut.data.annotation*</code>.</p>\n\n<p>this would make clearer - I hope- if the issue lies in some twist of the annotation process.</p>\n\n<h3>OLD RUBBISH HAS BEEN DELETED - was Kotlin related</h3>\n"},{"tags":[],"owner":{"account_id":28897570,"reputation":11,"user_id":22133259,"display_name":"Ashwin Dg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696511545,"creation_date":1696511545,"answer_id":77237442,"question_id":60688225,"body_markdown":"I faced the same problem. The fix to the problem was to create getters and setters for the fields in the model.","title":"Micronaut Unable to implement Repository method: Repository.update(Object entity). No possible implementations found","body":"<p>I faced the same problem. The fix to the problem was to create getters and setters for the fields in the model.</p>\n"}],"owner":{"account_id":8613217,"reputation":111,"user_id":6926804,"display_name":"HienaKill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6287,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1696511545,"creation_date":1584227896,"question_id":60688225,"body_markdown":"**Here&#39;s my stack:**  \r\n- Micronaut 1.3.2  \r\n- Java 8  \r\n- Eclipse STS 4  \r\n\r\n**Pom.xml excerpt:**\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micronaut-hibernate-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;path&gt;\r\n\t&lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0.M1&lt;/version&gt;\r\n&lt;/path&gt;\r\n\r\n```\r\n\r\nMy Repository:\r\n\r\n```\r\nimport io.micronaut.data.annotation.Repository;\r\nimport io.micronaut.data.repository.CrudRepository;\r\n\r\n@Repository\r\npublic interface UsuarioRepository extends CrudRepository&lt;UsuarioModel, Long&gt; { }\r\n```\r\n\r\nMy Service:\r\n  \r\n\r\n```\r\nprivate UsuarioDTO atualizar(UsuarioDTO usuario) {\r\n      UsuarioModel modelo = new UsuarioModel();\r\n      modelo.setIdade(usuario.idade);\r\n      modelo.setNick(usuario.nick);\r\n      modelo.setNome(usuario.nome);\r\n      modelo.setPassword(usuario.password);\r\n      this.usuarioRepository.update(modelo);\r\n      return usuario;\r\n}\r\n```\r\n\r\n**application.yml:**\r\n\r\n```\r\nmicronaut:\r\n  application:\r\n    name: micronaut-chatroom\r\n  server: \r\n    cors:\r\n      enabled: true\r\ndatasources:\r\n  default:\r\n    url: jdbc:h2:mem:devDb\r\n    driverClassName: org.h2.Driver\r\n    username: sa\r\n    password: &#39;&#39;\r\n    schema-generate: CREATE_DROP\r\n    dialect: H2\r\njpa:\r\n  default:\r\n    entity-scan:\r\n        packages: &#39;com.cr.model&#39;\r\n\r\n```\r\n\r\n\r\n\r\nWhen I&#39;m running Install maven command on my Micronaut project I get the error:\r\n\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project micronaut-chatroom: Compilation failure\r\n[ERROR] Unable to implement Repository method: UsuarioRepository.update(Object entity). No possible implementations found.\r\n\r\n\r\nHas someone been through it?  \r\n\r\nThanks in advance!\r\n\r\n**EDIT**\r\n\r\nHere&#39;s my UsuarioModel class\r\n\r\n```\r\n@Entity(name = &quot;Usuario&quot;)\r\n@Table(name = &quot;usuario&quot;)\r\npublic class UsuarioModel implements Serializable {\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = -7468837154917949190L;\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\tprivate String nome;\r\n\tprivate String nick;\r\n\tprivate String idade;\r\n\tprivate String password;\r\n\t\r\n\t@OneToMany\r\n\tprivate List&lt;MensagemModel&gt; mensagens;\r\n\r\n    //Getter/Setters ommited\r\n\r\n}\r\n```\r\n\r\nAnd also my MensagemModel class:\r\n\r\n```\r\n@Entity(name = &quot;Mensagem&quot;)\r\n@Table(name = &quot;mensagem&quot;)\r\npublic class MensagemModel implements Serializable {\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 7634793331670289187L;\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\t@CreationTimestamp\r\n\tprivate LocalDateTime data;\r\n\tprivate String conteudo;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;usuario_id&quot;)\r\n\tprivate UsuarioModel usuario;\r\n    //Getter/Setter ommited\r\n}\r\n```","title":"Micronaut Unable to implement Repository method: Repository.update(Object entity). No possible implementations found","body":"<p><strong>Here's my stack:</strong><br>\n- Micronaut 1.3.2<br>\n- Java 8<br>\n- Eclipse STS 4  </p>\n\n<p><strong>Pom.xml excerpt:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-hibernate-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;path&gt;\n    &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n    &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.M1&lt;/version&gt;\n&lt;/path&gt;\n\n</code></pre>\n\n<p>My Repository:</p>\n\n<pre><code>import io.micronaut.data.annotation.Repository;\nimport io.micronaut.data.repository.CrudRepository;\n\n@Repository\npublic interface UsuarioRepository extends CrudRepository&lt;UsuarioModel, Long&gt; { }\n</code></pre>\n\n<p>My Service:</p>\n\n<pre><code>private UsuarioDTO atualizar(UsuarioDTO usuario) {\n      UsuarioModel modelo = new UsuarioModel();\n      modelo.setIdade(usuario.idade);\n      modelo.setNick(usuario.nick);\n      modelo.setNome(usuario.nome);\n      modelo.setPassword(usuario.password);\n      this.usuarioRepository.update(modelo);\n      return usuario;\n}\n</code></pre>\n\n<p><strong>application.yml:</strong></p>\n\n<pre><code>micronaut:\n  application:\n    name: micronaut-chatroom\n  server: \n    cors:\n      enabled: true\ndatasources:\n  default:\n    url: jdbc:h2:mem:devDb\n    driverClassName: org.h2.Driver\n    username: sa\n    password: ''\n    schema-generate: CREATE_DROP\n    dialect: H2\njpa:\n  default:\n    entity-scan:\n        packages: 'com.cr.model'\n\n</code></pre>\n\n<p>When I'm running Install maven command on my Micronaut project I get the error:</p>\n\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project micronaut-chatroom: Compilation failure\n[ERROR] Unable to implement Repository method: UsuarioRepository.update(Object entity). No possible implementations found.</p>\n\n<p>Has someone been through it?  </p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here's my UsuarioModel class</p>\n\n<pre><code>@Entity(name = \"Usuario\")\n@Table(name = \"usuario\")\npublic class UsuarioModel implements Serializable {\n    /**\n     * \n     */\n    private static final long serialVersionUID = -7468837154917949190L;\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String nome;\n    private String nick;\n    private String idade;\n    private String password;\n\n    @OneToMany\n    private List&lt;MensagemModel&gt; mensagens;\n\n    //Getter/Setters ommited\n\n}\n</code></pre>\n\n<p>And also my MensagemModel class:</p>\n\n<pre><code>@Entity(name = \"Mensagem\")\n@Table(name = \"mensagem\")\npublic class MensagemModel implements Serializable {\n    /**\n     * \n     */\n    private static final long serialVersionUID = 7634793331670289187L;\n    @Id\n    @GeneratedValue\n    private Long id;\n    @CreationTimestamp\n    private LocalDateTime data;\n    private String conteudo;\n\n    @ManyToOne\n    @JoinColumn(name = \"usuario_id\")\n    private UsuarioModel usuario;\n    //Getter/Setter ommited\n}\n</code></pre>\n"},{"tags":["java","list","object","filtering"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1416340720,"post_id":27002882,"comment_id":42535453,"body_markdown":"guava has some tools for differences but it&#39;s for `Set`, I think a `removeAll` might suits you here","body":"guava has some tools for differences but it&#39;s for <code>Set</code>, I think a <code>removeAll</code> might suits you here"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1416340721,"post_id":27002882,"comment_id":42535456,"body_markdown":"Copy list `a`. Remove all elements that appear in `b` from the copy.","body":"Copy list <code>a</code>. Remove all elements that appear in <code>b</code> from the copy."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1416340751,"post_id":27002882,"comment_id":42535470,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#removeAll%28java.util.Collection%29","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#removeAll%28java.util.Collection%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":4785346,"reputation":787,"user_id":3960650,"display_name":"DejaVuSansMono"},"score":0,"creation_date":1416341484,"post_id":27002882,"comment_id":42535849,"body_markdown":"If you want the disjunction between the two, CollectionUtil has a disjunction method that returns the difference.","body":"If you want the disjunction between the two, CollectionUtil has a disjunction method that returns the difference."},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1565692826,"post_id":27002882,"comment_id":101423806,"body_markdown":"This might be referring to `CollectionUtils.subtract` from Apache Commons Collections; see [this answer](https://stackoverflow.com/a/47714028/227779) for more details.","body":"This might be referring to <code>CollectionUtils.subtract</code> from Apache Commons Collections; see <a href=\"https://stackoverflow.com/a/47714028/227779\">this answer</a> for more details."}],"answers":[{"comments":[{"owner":{"account_id":558933,"reputation":19136,"user_id":921321,"accept_rate":62,"display_name":"Lukazoid"},"score":44,"creation_date":1440592423,"post_id":27002913,"comment_id":52335903,"body_markdown":"`removeAll` returns a `boolean` not a `Set`","body":"<code>removeAll</code> returns a <code>boolean</code> not a <code>Set</code>"},{"owner":{"account_id":2854785,"reputation":753,"user_id":2451256,"accept_rate":82,"display_name":"Dennie"},"score":5,"creation_date":1460532274,"post_id":27002913,"comment_id":60780104,"body_markdown":"That&#39;s correct, but when you look at the documentation you will see that this boolean informs wether or not &quot;this set changed as a result of the call&quot;. After this change you can adres the Set and you&#39;ll notice it has the results you expected.","body":"That&#39;s correct, but when you look at the documentation you will see that this boolean informs wether or not &quot;this set changed as a result of the call&quot;. After this change you can adres the Set and you&#39;ll notice it has the results you expected."},{"owner":{"account_id":1888725,"reputation":1493,"user_id":1707382,"display_name":"SlavaSt"},"score":12,"creation_date":1526575389,"post_id":27002913,"comment_id":87808973,"body_markdown":"Creating `bd` `HashSet` is unnecessary. You can just call `ad.removeAll(b)`.","body":"Creating <code>bd</code> <code>HashSet</code> is unnecessary. You can just call <code>ad.removeAll(b)</code>."},{"owner":{"account_id":2674401,"reputation":906,"user_id":2311117,"accept_rate":29,"display_name":"Shivansh"},"score":2,"creation_date":1593692436,"post_id":27002913,"comment_id":110872704,"body_markdown":"what if bd has more elements than ad? what happens in that case?","body":"what if bd has more elements than ad? what happens in that case?"}],"tags":[],"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"comment_count":4,"down_vote_count":2,"up_vote_count":80,"is_accepted":true,"score":78,"last_activity_date":1566221987,"creation_date":1416340720,"answer_id":27002913,"question_id":27002882,"body_markdown":"You can convert them to `Set` collections, and perform a set difference operation on them.\r\n\r\nLike this:\r\n\r\n    Set&lt;Date&gt; ad = new HashSet&lt;Date&gt;(a);\r\n    Set&lt;Date&gt; bd = new HashSet&lt;Date&gt;(b);\r\n    ad.removeAll(bd);\r\n\r\n","title":"How can I return the difference between two lists?","body":"<p>You can convert them to <code>Set</code> collections, and perform a set difference operation on them.</p>\n\n<p>Like this:</p>\n\n<pre><code>Set&lt;Date&gt; ad = new HashSet&lt;Date&gt;(a);\nSet&lt;Date&gt; bd = new HashSet&lt;Date&gt;(b);\nad.removeAll(bd);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1925311,"reputation":1369,"user_id":1735921,"accept_rate":85,"display_name":"user1735921"},"score":0,"creation_date":1517467320,"post_id":27002940,"comment_id":84109366,"body_markdown":"what if its unmodifiable list?","body":"what if its unmodifiable list?"},{"owner":{"account_id":4728705,"reputation":3094,"user_id":3824920,"accept_rate":89,"display_name":"Denis Lukenich"},"score":3,"creation_date":1517511036,"post_id":27002940,"comment_id":84135899,"body_markdown":"Since you create a new list, this is working also for an unmodifiable list.","body":"Since you create a new list, this is working also for an unmodifiable list."}],"tags":[],"owner":{"account_id":4728705,"reputation":3094,"user_id":3824920,"accept_rate":89,"display_name":"Denis Lukenich"},"comment_count":2,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1416340839,"creation_date":1416340839,"answer_id":27002940,"question_id":27002882,"body_markdown":"If you only want find missing values in b, you can do:\r\n\r\n    List toReturn = new ArrayList(a);\r\n    toReturn.removeAll(b);\r\n\r\n    return toReturn;\r\n\r\nIf you want to find out values which are present in either list you can execute upper code twice. With changed lists.\r\n","title":"How can I return the difference between two lists?","body":"<p>If you only want find missing values in b, you can do:</p>\n\n<pre><code>List toReturn = new ArrayList(a);\ntoReturn.removeAll(b);\n\nreturn toReturn;\n</code></pre>\n\n<p>If you want to find out values which are present in either list you can execute upper code twice. With changed lists.</p>\n"},{"comments":[{"owner":{"account_id":2222305,"reputation":2537,"user_id":1961413,"accept_rate":86,"display_name":"Jefferey Cave"},"score":0,"creation_date":1517482491,"post_id":36067966,"comment_id":84117658,"body_markdown":"I wasn&#39;t aware of a question regarding maps. If you have found a question that was asking about maps, do feel free to link to this answer.","body":"I wasn&#39;t aware of a question regarding maps. If you have found a question that was asking about maps, do feel free to link to this answer."},{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":2,"creation_date":1566227420,"post_id":36067966,"comment_id":101580752,"body_markdown":"Answers should address the question asked. If you think you have a useful code snippet / explanation for something where no question exists, ask the question yourself and self-answer it using the built-in site function. Don&#39;t post your answer under an unrelated question.","body":"Answers should address the question asked. If you think you have a useful code snippet / explanation for something where no question exists, ask the question yourself and self-answer it using the built-in site function. Don&#39;t post your answer under an unrelated question."},{"owner":{"account_id":2222305,"reputation":2537,"user_id":1961413,"accept_rate":86,"display_name":"Jefferey Cave"},"score":0,"creation_date":1566246106,"post_id":36067966,"comment_id":101588576,"body_markdown":"The difference between my answer and the question is not the use of `Map` vs `List`. The difference lies with the question asking only for missing values, I addressed &quot;missing, added, and equality&quot; of values. I would be concerned if an answer seeker could not see the ways in which `Map`, `Set`, and `List` are related concepts.","body":"The difference between my answer and the question is not the use of <code>Map</code> vs <code>List</code>. The difference lies with the question asking only for missing values, I addressed &quot;missing, added, and equality&quot; of values. I would be concerned if an answer seeker could not see the ways in which <code>Map</code>, <code>Set</code>, and <code>List</code> are related concepts."}],"tags":[],"owner":{"account_id":2222305,"reputation":2537,"user_id":1961413,"accept_rate":86,"display_name":"Jefferey Cave"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1458236525,"creation_date":1458236525,"answer_id":36067966,"question_id":27002882,"body_markdown":"I was looking for a different problem and came across this, so I will add my solution to a related problem: comparing two Maps.\r\n\r\n        // make a copy of the data\r\n\t\tMap&lt;String,String&gt; a = new HashMap&lt;String,String&gt;(actual);\r\n\t\tMap&lt;String,String&gt; e = new HashMap&lt;String,String&gt;(expected);\r\n        // check *every* expected value\r\n\t\tfor(Map.Entry&lt;String, String&gt; val : e.entrySet()){\r\n            // check for presence\r\n\t\t\tif(!a.containsKey(val.getKey())){\r\n\t\t\t\tSystem.out.println(String.format(&quot;Did not find expected value: %s&quot;, val.getKey()));\r\n\t\t\t}\r\n            // check for equality\r\n\t\t\telse{\r\n                if(0 != a.get(val.getKey()).compareTo(val.getValue())){\r\n                    System.out.println(String.format(&quot;Value does not match expected: %s&quot;, val.getValue()));\r\n                }\r\n                // we have found the item, so remove it \r\n                // from future consideration. While it \r\n                // doesn&#39;t affect Java Maps, other types of sets\r\n                // may contain duplicates, this will flag those\r\n                // duplicates. \r\n\t\t\t\ta.remove(val.getKey());\r\n\t\t\t}\r\n\t\t}\r\n        // check to see that we did not receive extra values\r\n\t\tfor(Map.Entry&lt;String,String&gt; val : a.entrySet()){\r\n            System.out.println(String.format(&quot;Found unexpected value: %s&quot;, val.getKey()));\r\n\t\t}\r\n\r\nIt works on the same principle as the other solutions but also compares not only that values are present, but that they contain the same value. Mostly I&#39;ve used this in accounting software when comparing data from two sources (Employee and Manager entered values match; Customer and Corporate transactions match; ... etc)\r\n","title":"How can I return the difference between two lists?","body":"<p>I was looking for a different problem and came across this, so I will add my solution to a related problem: comparing two Maps.</p>\n\n<pre><code>    // make a copy of the data\n    Map&lt;String,String&gt; a = new HashMap&lt;String,String&gt;(actual);\n    Map&lt;String,String&gt; e = new HashMap&lt;String,String&gt;(expected);\n    // check *every* expected value\n    for(Map.Entry&lt;String, String&gt; val : e.entrySet()){\n        // check for presence\n        if(!a.containsKey(val.getKey())){\n            System.out.println(String.format(\"Did not find expected value: %s\", val.getKey()));\n        }\n        // check for equality\n        else{\n            if(0 != a.get(val.getKey()).compareTo(val.getValue())){\n                System.out.println(String.format(\"Value does not match expected: %s\", val.getValue()));\n            }\n            // we have found the item, so remove it \n            // from future consideration. While it \n            // doesn't affect Java Maps, other types of sets\n            // may contain duplicates, this will flag those\n            // duplicates. \n            a.remove(val.getKey());\n        }\n    }\n    // check to see that we did not receive extra values\n    for(Map.Entry&lt;String,String&gt; val : a.entrySet()){\n        System.out.println(String.format(\"Found unexpected value: %s\", val.getKey()));\n    }\n</code></pre>\n\n<p>It works on the same principle as the other solutions but also compares not only that values are present, but that they contain the same value. Mostly I've used this in accounting software when comparing data from two sources (Employee and Manager entered values match; Customer and Corporate transactions match; ... etc)</p>\n"},{"comments":[{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":1,"creation_date":1565692858,"post_id":47714028,"comment_id":101423816,"body_markdown":"Note: this approach does not support generics in any way, so what you get is a raw, un-checked `Collection` instance.","body":"Note: this approach does not support generics in any way, so what you get is a raw, un-checked <code>Collection</code> instance."},{"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"score":1,"creation_date":1567522354,"post_id":47714028,"comment_id":101983491,"body_markdown":"The method signature is: `public static &lt;O&gt; Collection&lt;O&gt; subtract(Iterable&lt;? extends O&gt; a, Iterable&lt;? extends O&gt; b)`, and according to documentation: &quot;O - the generic type that is able to represent the types contained in both input collections.&quot;","body":"The method signature is: <code>public static &lt;O&gt; Collection&lt;O&gt; subtract(Iterable&lt;? extends O&gt; a, Iterable&lt;? extends O&gt; b)</code>, and according to documentation: &quot;O - the generic type that is able to represent the types contained in both input collections.&quot;"},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1567580406,"post_id":47714028,"comment_id":101999844,"body_markdown":"You are indeed correct; mea culpa. I was looking at the 3.2 version of the class where the method has a simple `public static Collection subtract(final Collection a, final Collection b)` signature. Great to see that they have improved on this in the 4.0 iteration.","body":"You are indeed correct; mea culpa. I was looking at the 3.2 version of the class where the method has a simple <code>public static Collection subtract(final Collection a, final Collection b)</code> signature. Great to see that they have improved on this in the 4.0 iteration."}],"tags":[],"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"comment_count":3,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1512734970,"creation_date":1512734555,"answer_id":47714028,"question_id":27002882,"body_markdown":"You can use CollectionUtils from [Apache Commons Collections 4.0][1]:\r\n\r\n    new ArrayList&lt;&gt;(CollectionUtils.subtract(a, b))\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html","title":"How can I return the difference between two lists?","body":"<p>You can use CollectionUtils from <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html\" rel=\"noreferrer\">Apache Commons Collections 4.0</a>:</p>\n\n<pre><code>new ArrayList&lt;&gt;(CollectionUtils.subtract(a, b))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15443225,"reputation":439,"user_id":11141100,"display_name":"Teekam Suthar"},"score":0,"creation_date":1633459798,"post_id":48893017,"comment_id":122764265,"body_markdown":"Thanks stranger!","body":"Thanks stranger!"},{"owner":{"account_id":5072607,"reputation":478,"user_id":4070966,"display_name":"Milton Jacomini Neto"},"score":0,"creation_date":1659735723,"post_id":48893017,"comment_id":129373798,"body_markdown":"welcome @Teekam Suthar =)","body":"welcome @Teekam Suthar =)"}],"tags":[],"owner":{"account_id":5072607,"reputation":478,"user_id":4070966,"display_name":"Milton Jacomini Neto"},"comment_count":2,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1601915318,"creation_date":1519155693,"answer_id":48893017,"question_id":27002882,"body_markdown":"You can use `filter` in the Java 8 `Stream` library\r\n\r\n    List&lt;String&gt; aList = List.of(&quot;l&quot;,&quot;e&quot;,&quot;t&quot;,&quot;&#39;&quot;,&quot;s&quot;);\r\n    List&lt;String&gt; bList = List.of(&quot;g&quot;,&quot;o&quot;,&quot;e&quot;,&quot;s&quot;,&quot;t&quot;);\r\n\r\n    List&lt;String&gt; difference = aList.stream()\r\n        .filter(aObject -&gt; {\r\n            return ! bList.contains(aObject);\r\n          })\r\n        .collect(Collectors.toList());\r\n\r\n    //more reduced: no curly braces, no return\r\n    List&lt;String&gt; difference2 = aList.stream()\r\n        .filter(aObject -&gt; ! bList.contains(aObject))\r\n        .collect(Collectors.toList());\r\n\r\nResult of `System.out.println(difference);`:\r\n\r\n&gt;[e, t, s]","title":"How can I return the difference between two lists?","body":"<p>You can use <code>filter</code> in the Java 8 <code>Stream</code> library</p>\n<pre><code>List&lt;String&gt; aList = List.of(&quot;l&quot;,&quot;e&quot;,&quot;t&quot;,&quot;'&quot;,&quot;s&quot;);\nList&lt;String&gt; bList = List.of(&quot;g&quot;,&quot;o&quot;,&quot;e&quot;,&quot;s&quot;,&quot;t&quot;);\n\nList&lt;String&gt; difference = aList.stream()\n    .filter(aObject -&gt; {\n        return ! bList.contains(aObject);\n      })\n    .collect(Collectors.toList());\n\n//more reduced: no curly braces, no return\nList&lt;String&gt; difference2 = aList.stream()\n    .filter(aObject -&gt; ! bList.contains(aObject))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Result of <code>System.out.println(difference);</code>:</p>\n<blockquote>\n<p>[e, t, s]</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4919995,"reputation":129,"user_id":3962816,"accept_rate":75,"display_name":"gaurav kumar"},"score":0,"creation_date":1626987010,"post_id":49951607,"comment_id":121045003,"body_markdown":"What if the list2 also contains some extra value. \nlist2 = {1,2,4,5}.\n\nExpected list3  = {3,4,5}","body":"What if the list2 also contains some extra value.  list2 = {1,2,4,5}.  Expected list3  = {3,4,5}"}],"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1638458399,"creation_date":1524275139,"answer_id":49951607,"question_id":27002882,"body_markdown":"You may call `Underscore.difference(lists)` method in [underscore-java][1] library. [Live example][2]\r\n\r\n    import com.github.underscore.Underscore;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3);\r\n            List&lt;Integer&gt; list2 = Arrays.asList(1, 2);\r\n            List&lt;Integer&gt; list3 = Underscore.difference(list1, list2);\r\n            System.out.println(list3);\r\n            // [3]\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/tIG","title":"How can I return the difference between two lists?","body":"<p>You may call <code>Underscore.difference(lists)</code> method in <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library. <a href=\"https://www.jdoodle.com/embed/v0/tIG\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.Underscore;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3);\n        List&lt;Integer&gt; list2 = Arrays.asList(1, 2);\n        List&lt;Integer&gt; list3 = Underscore.difference(list1, list2);\n        System.out.println(list3);\n        // [3]\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11309917,"reputation":3024,"user_id":8293309,"display_name":"paradocslover"},"score":1,"creation_date":1619780860,"post_id":54594677,"comment_id":119014057,"body_markdown":"Could you point me to the maven repository for the same. I tried this `https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.4` But it does not seem to be the right one.","body":"Could you point me to the maven repository for the same. I tried this <code>https:&#47;&#47;mvnrepository.com&#47;artifact&#47;org.apache.commons&#47;common&zwnj;&#8203;s-collections4&#47;4.4</code> But it does not seem to be the right one."},{"owner":{"account_id":1692834,"reputation":2228,"user_id":1554878,"accept_rate":0,"display_name":"justMe"},"score":1,"creation_date":1619795490,"post_id":54594677,"comment_id":119020576,"body_markdown":"@paradocslover it was https://mvnrepository.com/artifact/commons-collections/commons-collections/3.2.2","body":"@paradocslover it was <a href=\"https://mvnrepository.com/artifact/commons-collections/commons-collections/3.2.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/commons-collections/&hellip;</a>"},{"owner":{"account_id":11309917,"reputation":3024,"user_id":8293309,"display_name":"paradocslover"},"score":1,"creation_date":1619798773,"post_id":54594677,"comment_id":119022015,"body_markdown":"Thanks a lot!! Any idea what is the function renamed to in the newer versions of the package?","body":"Thanks a lot!! Any idea what is the function renamed to in the newer versions of the package?"}],"tags":[],"owner":{"account_id":1692834,"reputation":2228,"user_id":1554878,"accept_rate":0,"display_name":"justMe"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1604752109,"creation_date":1549636656,"answer_id":54594677,"question_id":27002882,"body_markdown":"I was looking similar but I wanted the difference in either list (uncommon elements between the 2 lists).\r\n\r\nLet say I have:\r\n\r\n    List&lt;String&gt; oldKeys = Arrays.asList(&quot;key0&quot;,&quot;key1&quot;,&quot;key2&quot;,&quot;key5&quot;);\r\n    List&lt;String&gt; newKeys = Arrays.asList(&quot;key0&quot;,&quot;key2&quot;,&quot;key5&quot;, &quot;key6&quot;);\r\n\r\nAnd I wanted to know which key has been added and which key is removed i.e I wanted to get `(key1, key6)`\r\n\r\nUsing `org.apache.commons.collections.CollectionUtils`\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(CollectionUtils.disjunction(newKeys, oldKeys));\r\n\r\n**Result**\r\n\r\n    [&quot;key1&quot;, &quot;key6&quot;]\r\n\r\n","title":"How can I return the difference between two lists?","body":"<p>I was looking similar but I wanted the difference in either list (uncommon elements between the 2 lists).</p>\n<p>Let say I have:</p>\n<pre><code>List&lt;String&gt; oldKeys = Arrays.asList(&quot;key0&quot;,&quot;key1&quot;,&quot;key2&quot;,&quot;key5&quot;);\nList&lt;String&gt; newKeys = Arrays.asList(&quot;key0&quot;,&quot;key2&quot;,&quot;key5&quot;, &quot;key6&quot;);\n</code></pre>\n<p>And I wanted to know which key has been added and which key is removed i.e I wanted to get <code>(key1, key6)</code></p>\n<p>Using <code>org.apache.commons.collections.CollectionUtils</code></p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(CollectionUtils.disjunction(newKeys, oldKeys));\n</code></pre>\n<p><strong>Result</strong></p>\n<pre><code>[&quot;key1&quot;, &quot;key6&quot;]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"score":0,"creation_date":1597158559,"post_id":56884805,"comment_id":112039535,"body_markdown":"Wow, nice solution. I have never known about this class","body":"Wow, nice solution. I have never known about this class"}],"tags":[],"owner":{"account_id":16256157,"reputation":61,"user_id":11738747,"display_name":"gs manisha"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1562232806,"creation_date":1562232492,"answer_id":56884805,"question_id":27002882,"body_markdown":"First convert list to sets.\r\n\r\n    // create an empty set \r\n    Set&lt;T&gt; set = new HashSet&lt;&gt;(); \r\n  \r\n    // Add each element of list into the set \r\n    for (T t : list) \r\n        set.add(t); \r\nYou can use `Sets.difference(Set1, Set2)`, which returns extra items present in Set1.&lt;br&gt;\r\nYou can use `Sets.difference(Set2, Set1)`, which returns extra items present in Set2.","title":"How can I return the difference between two lists?","body":"<p>First convert list to sets.</p>\n\n<pre><code>// create an empty set \nSet&lt;T&gt; set = new HashSet&lt;&gt;(); \n\n// Add each element of list into the set \nfor (T t : list) \n    set.add(t); \n</code></pre>\n\n<p>You can use <code>Sets.difference(Set1, Set2)</code>, which returns extra items present in Set1.<br>\nYou can use <code>Sets.difference(Set2, Set1)</code>, which returns extra items present in Set2.</p>\n"},{"tags":[],"owner":{"account_id":10626679,"reputation":11,"user_id":7826118,"display_name":"madhu sairam gunnam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563191350,"creation_date":1563189703,"answer_id":57038661,"question_id":27002882,"body_markdown":"    List&lt;String&gt; l1 = new ArrayList&lt;String&gt;();\r\n    l1.add(&quot;apple&quot;);\r\n    l1.add(&quot;orange&quot;);\r\n    l1.add(&quot;banana&quot;);\r\n    l1.add(&quot;strawberry&quot;);\r\n\r\n    List&lt;String&gt; l2 = new ArrayList&lt;String&gt;();\r\n    l2.add(&quot;apple&quot;);\r\n    l2.add(&quot;orange&quot;);\r\n\r\n    System.out.println(l1);\r\n    System.out.println(l2);\r\n\r\n    for (String A: l2) {\r\n      if (l1.contains(A))\r\n        l1.remove(A);\r\n    }\r\n\r\n    System.out.println(&quot;output&quot;);\r\n    System.out.println(l1);\r\n\r\nOutput:\r\n\r\n    [apple, orange, banana, strawberry]\r\n    [apple, orange]\r\n    output\r\n    [banana, strawberry]","title":"How can I return the difference between two lists?","body":"<pre><code>List&lt;String&gt; l1 = new ArrayList&lt;String&gt;();\nl1.add(\"apple\");\nl1.add(\"orange\");\nl1.add(\"banana\");\nl1.add(\"strawberry\");\n\nList&lt;String&gt; l2 = new ArrayList&lt;String&gt;();\nl2.add(\"apple\");\nl2.add(\"orange\");\n\nSystem.out.println(l1);\nSystem.out.println(l2);\n\nfor (String A: l2) {\n  if (l1.contains(A))\n    l1.remove(A);\n}\n\nSystem.out.println(\"output\");\nSystem.out.println(l1);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[apple, orange, banana, strawberry]\n[apple, orange]\noutput\n[banana, strawberry]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9705910,"reputation":61,"user_id":11704154,"display_name":"Eren E."},"score":1,"creation_date":1589979552,"post_id":61777218,"comment_id":109506883,"body_markdown":"That will come in handy in most situations. Thanks!!","body":"That will come in handy in most situations. Thanks!!"}],"tags":[],"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589380023,"creation_date":1589380023,"answer_id":61777218,"question_id":27002882,"body_markdown":"Here is a generic solution for this problem.\r\n\r\n    public &lt;T&gt; List&lt;T&gt; difference(List&lt;T&gt; first, List&lt;T&gt; second) {\r\n        List&lt;T&gt; toReturn = new ArrayList&lt;&gt;(first);\r\n        toReturn.removeAll(second);\r\n        return toReturn;\r\n    }","title":"How can I return the difference between two lists?","body":"<p>Here is a generic solution for this problem.</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; difference(List&lt;T&gt; first, List&lt;T&gt; second) {\n    List&lt;T&gt; toReturn = new ArrayList&lt;&gt;(first);\n    toReturn.removeAll(second);\n    return toReturn;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4734827,"reputation":4157,"user_id":7109598,"display_name":"Iskuskov Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614201326,"creation_date":1614201326,"answer_id":66358950,"question_id":27002882,"body_markdown":"With Stream API you can do something like this:\r\n```java\r\nList&lt;String&gt; aWithoutB = a.stream()\r\n    .filter(element -&gt; !b.contains(element))\r\n    .collect(Collectors.toList());\r\n\r\nList&lt;String&gt; bWithoutA = b.stream()\r\n    .filter(element -&gt; !a.contains(element))\r\n    .collect(Collectors.toList());\r\n\r\n```","title":"How can I return the difference between two lists?","body":"<p>With Stream API you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; aWithoutB = a.stream()\n    .filter(element -&gt; !b.contains(element))\n    .collect(Collectors.toList());\n\nList&lt;String&gt; bWithoutA = b.stream()\n    .filter(element -&gt; !a.contains(element))\n    .collect(Collectors.toList());\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628104502,"creation_date":1628104502,"answer_id":68656896,"question_id":27002882,"body_markdown":"Set is a map underneath i was able to get the diff between two list over a million entries each wrapping it in a HashSet this is a simple code to do it.\r\n\r\n    private List&lt;String&gt;notPresentMethod(final List&lt;String&gt;left,final List&lt;String&gt;right){\r\n        final Set&lt;String&gt;setIsFaster = new HashSet&lt;&gt;(right);\r\n        return left.stream()\r\n                .filter(((Predicate&lt;String&gt;)setIsFaster::contains).negate())\r\n                .collect(Collectors.toList());\r\n    }\r\nUsing only list took over a hour and did not complete. And using this sample took Just seconds.","title":"How can I return the difference between two lists?","body":"<p>Set is a map underneath i was able to get the diff between two list over a million entries each wrapping it in a HashSet this is a simple code to do it.</p>\n<pre><code>private List&lt;String&gt;notPresentMethod(final List&lt;String&gt;left,final List&lt;String&gt;right){\n    final Set&lt;String&gt;setIsFaster = new HashSet&lt;&gt;(right);\n    return left.stream()\n            .filter(((Predicate&lt;String&gt;)setIsFaster::contains).negate())\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>Using only list took over a hour and did not complete. And using this sample took Just seconds.</p>\n"}],"owner":{"account_id":414855,"reputation":2868,"user_id":789320,"accept_rate":61,"display_name":"Rory Lester"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203615,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":27002913,"answer_count":12,"score":81,"last_activity_date":1696511374,"creation_date":1416340617,"question_id":27002882,"body_markdown":"I have two array lists e.g. \r\n\r\n    List&lt;Date&gt; a;\r\n    contains : 10/10/2014, 10/11/2016\r\n\r\n    List&lt;Date&gt; b;\r\n    contains : 10/10/2016\r\n\r\nHow can i do a check between list `a` and `b` so the value that is missing in `b` is returned?e.g. `10/10/2014`\r\n\r\n ","title":"How can I return the difference between two lists?","body":"<p>I have two array lists e.g. </p>\n\n<pre><code>List&lt;Date&gt; a;\ncontains : 10/10/2014, 10/11/2016\n\nList&lt;Date&gt; b;\ncontains : 10/10/2016\n</code></pre>\n\n<p>How can i do a check between list <code>a</code> and <code>b</code> so the value that is missing in <code>b</code> is returned?e.g. <code>10/10/2014</code></p>\n"},{"tags":["java","oracle12c"],"comments":[{"owner":{"account_id":1190829,"reputation":307,"user_id":3136024,"display_name":"Porkko M"},"score":0,"creation_date":1493892759,"post_id":43778984,"comment_id":74600277,"body_markdown":"@Jean its resolved..bcs unix soft link refer to different location of lib.","body":"@Jean its resolved..bcs unix soft link refer to different location of lib."}],"answers":[{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493891540,"creation_date":1493891540,"answer_id":43779531,"question_id":43778984,"body_markdown":"This must be a classpath issue. This class oracle.jdbc.pool.OracleDataSource is in ojdbc7.jar. You can check your classpath by looking at how java is launched in the DEV environment (the classpath is often set in the command line).","title":"java.lang.NoClassDefFoundError: oracle/jdbc/pool/OracleDataSource - New One","body":"<p>This must be a classpath issue. This class oracle.jdbc.pool.OracleDataSource is in ojdbc7.jar. You can check your classpath by looking at how java is launched in the DEV environment (the classpath is often set in the command line).</p>\n"},{"tags":[],"owner":{"account_id":27665311,"reputation":1,"user_id":21117265,"display_name":"GuestAnon123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675161977,"creation_date":1675161977,"answer_id":75295977,"question_id":43778984,"body_markdown":"Aside from checking it is in the classpath, make sure that the file permissions for directory and jar file is properly set so that your application can access it.","title":"java.lang.NoClassDefFoundError: oracle/jdbc/pool/OracleDataSource - New One","body":"<p>Aside from checking it is in the classpath, make sure that the file permissions for directory and jar file is properly set so that your application can access it.</p>\n"}],"owner":{"account_id":1190829,"reputation":307,"user_id":3136024,"display_name":"Porkko M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696511195,"creation_date":1493890086,"question_id":43778984,"body_markdown":"I have Standalone application which has been migrated from Oracle 11g to 12c.I have changed the jar file from \r\n`ojdbc14.jar` to `ojdbc7.jar` (JVM version is 7).In Code also i have changed the `oracle.jdbc.driverType.OracleTypes` to `oracle.jdbc.OracleTypes` also oracle.jdbc.pool.OracleDataSource \r\nis mapping to Ojdbc7.jar.its working in local but its failing DEV Env with above exception.\r\nPS:-All the neccesary dependency also kept in lib folder and ojdbc14.jar has been replaced with ojdbc7.jar in DEV ENV,but still its throwing the above exception.\r\nAny Suggestions?","title":"java.lang.NoClassDefFoundError: oracle/jdbc/pool/OracleDataSource - New One","body":"<p>I have Standalone application which has been migrated from Oracle 11g to 12c.I have changed the jar file from \n<code>ojdbc14.jar</code> to <code>ojdbc7.jar</code> (JVM version is 7).In Code also i have changed the <code>oracle.jdbc.driverType.OracleTypes</code> to <code>oracle.jdbc.OracleTypes</code> also oracle.jdbc.pool.OracleDataSource \nis mapping to Ojdbc7.jar.its working in local but its failing DEV Env with above exception.\nPS:-All the neccesary dependency also kept in lib folder and ojdbc14.jar has been replaced with ojdbc7.jar in DEV ENV,but still its throwing the above exception.\nAny Suggestions?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1640938277,"post_id":70540226,"comment_id":124694292,"body_markdown":"This? https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/listeners/LoggingListener.html","body":"This? <a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/listeners/LoggingListener.html\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/5.0.0/api/org/junit/platform/launcher/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":1,"creation_date":1640939085,"post_id":70540226,"comment_id":124694446,"body_markdown":"@BoristheSpider: So, how is this used exactly?","body":"@BoristheSpider: So, how is this used exactly?"},{"owner":{"account_id":9926930,"reputation":363,"user_id":7348163,"display_name":"sergeidyga"},"score":0,"creation_date":1648841301,"post_id":70540226,"comment_id":126735103,"body_markdown":"@carlspring `launcher.execute(LoggingListener.forJavaUtilLogging())`","body":"@carlspring <code>launcher.execute(LoggingListener.forJavaUtilLogging())</code>"}],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696510940,"creation_date":1640937776,"question_id":70540226,"body_markdown":"I am writing a custom tool that executes a set of test classes programmatically using JUnit 5.\r\n\r\nWhen executing these tests, how does one get their actual output printed out to the console, or to a log file?\r\n\r\nI have roughly the following code:\r\n\r\n    LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\r\n            .selectors(selectPackage(basePackage))\r\n            .filters(includeClassNamePatterns(classNamePatterns))\r\n            .build();\r\n\r\n    SummaryGeneratingListener listener = new SummaryGeneratingListener();\r\n\r\n    Launcher launcher = LauncherFactory.create();\r\n    launcher.registerTestExecutionListeners(listener);\r\n\r\n    TestPlan testPlan = launcher.discover(request);\r\n\r\n    // launcher.execute(request);\r\n    launcher.execute(testPlan);\r\n\r\n    TestExecutionSummary summary = listener.getSummary();\r\n    summary.printTo(new PrintWriter(System.out));\r\n    summary.printFailuresTo(new PrintWriter(System.out));\r\n\r\nI&#39;ve tried it with just the request and a test plan. I&#39;m not quite sure what the difference between the two is, but the result appears to be the same:\r\n\r\n```\r\nTest run finished after 50 ms\r\n[         3 containers found      ]\r\n[         0 containers skipped    ]\r\n[         3 containers started    ]\r\n[         0 containers aborted    ]\r\n[         3 containers successful ]\r\n[         0 containers failed     ]\r\n[         2 tests found           ]\r\n[         0 tests skipped         ]\r\n[         2 tests started         ]\r\n[         0 tests aborted         ]\r\n[         2 tests successful      ]\r\n[         0 tests failed          ]\r\n```\r\n\r\n...Which is great -- my two tests are being picked up and executed programmatically (I have specifically changed their suffixes from `Test` to `Probe` and manually specified that it should use the `.*Probe` pattern and it is definitely running them as I have no other tests.\r\n\r\nI am, however, not getting any output. I assume I&#39;m missing some listener, or haven&#39;t set a parameter or something...? Please, advise! Thanks!\r\n","title":"How to run a JUnit test programatically","body":"<p>I am writing a custom tool that executes a set of test classes programmatically using JUnit 5.</p>\n<p>When executing these tests, how does one get their actual output printed out to the console, or to a log file?</p>\n<p>I have roughly the following code:</p>\n<pre><code>LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\n        .selectors(selectPackage(basePackage))\n        .filters(includeClassNamePatterns(classNamePatterns))\n        .build();\n\nSummaryGeneratingListener listener = new SummaryGeneratingListener();\n\nLauncher launcher = LauncherFactory.create();\nlauncher.registerTestExecutionListeners(listener);\n\nTestPlan testPlan = launcher.discover(request);\n\n// launcher.execute(request);\nlauncher.execute(testPlan);\n\nTestExecutionSummary summary = listener.getSummary();\nsummary.printTo(new PrintWriter(System.out));\nsummary.printFailuresTo(new PrintWriter(System.out));\n</code></pre>\n<p>I've tried it with just the request and a test plan. I'm not quite sure what the difference between the two is, but the result appears to be the same:</p>\n<pre><code>Test run finished after 50 ms\n[         3 containers found      ]\n[         0 containers skipped    ]\n[         3 containers started    ]\n[         0 containers aborted    ]\n[         3 containers successful ]\n[         0 containers failed     ]\n[         2 tests found           ]\n[         0 tests skipped         ]\n[         2 tests started         ]\n[         0 tests aborted         ]\n[         2 tests successful      ]\n[         0 tests failed          ]\n</code></pre>\n<p>...Which is great -- my two tests are being picked up and executed programmatically (I have specifically changed their suffixes from <code>Test</code> to <code>Probe</code> and manually specified that it should use the <code>.*Probe</code> pattern and it is definitely running them as I have no other tests.</p>\n<p>I am, however, not getting any output. I assume I'm missing some listener, or haven't set a parameter or something...? Please, advise! Thanks!</p>\n"},{"tags":["java","spring","websocket","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696419829,"post_id":77229262,"comment_id":136149924,"body_markdown":"There is no such inherent limit. More likely, there&#39;s a problem elsewhere in your code.","body":"There is no such inherent limit. More likely, there&#39;s a problem elsewhere in your code."},{"owner":{"account_id":16674913,"reputation":124,"user_id":12051567,"display_name":"Aceccop"},"score":0,"creation_date":1696420081,"post_id":77229262,"comment_id":136149977,"body_markdown":"Thanks for reply. I agree, it could be problem with a code, but I can&#39;t understand where exactly it is wrong. If you could point me to the problem I&#39;ll be appreciate.","body":"Thanks for reply. I agree, it could be problem with a code, but I can&#39;t understand where exactly it is wrong. If you could point me to the problem I&#39;ll be appreciate."}],"answers":[{"tags":[],"owner":{"account_id":16674913,"reputation":124,"user_id":12051567,"display_name":"Aceccop"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1696510897,"creation_date":1696510897,"answer_id":77237361,"question_id":77229262,"body_markdown":"I guess I found the solution.\r\nI changed prefetch from request(32) to request(unbound) as:\r\n\r\n```java\r\n return session.receive()\r\n                .log()\r\n                .map(WebSocketMessage::getPayloadAsText)\r\n                .filter(msg -&gt; messageValidationService.isMessageValid(msg.getText()))\r\n                .doOnNext(msg -&gt; eventPublisher.tryEmitNext(msg))\r\n                .limitRate(Integer.MAX_VALUE)\r\n                .zipWith(session.send(outputEvents.map(session::textMessage)))\r\n                .then();\r\n```\r\n\r\nIt&#39;s helped.","title":"How to increase limit of messages for WebSocketSession","body":"<p>I guess I found the solution.\nI changed prefetch from request(32) to request(unbound) as:</p>\n<pre class=\"lang-java prettyprint-override\"><code> return session.receive()\n                .log()\n                .map(WebSocketMessage::getPayloadAsText)\n                .filter(msg -&gt; messageValidationService.isMessageValid(msg.getText()))\n                .doOnNext(msg -&gt; eventPublisher.tryEmitNext(msg))\n                .limitRate(Integer.MAX_VALUE)\n                .zipWith(session.send(outputEvents.map(session::textMessage)))\n                .then();\n</code></pre>\n<p>It's helped.</p>\n"}],"owner":{"account_id":16674913,"reputation":124,"user_id":12051567,"display_name":"Aceccop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77237361,"answer_count":1,"score":0,"last_activity_date":1696510897,"creation_date":1696419637,"question_id":77229262,"body_markdown":"I wrote simple chat service on Spring WebFlux (Reactor). WebSocketHandler part looks like \r\n```java\r\npublic class ChatWebSocketHandler implements WebSocketHandler {\r\n    private final Flux&lt;String&gt; outputEvents;\r\n    private final Sinks.Many&lt;Message&gt; eventPublisher = Sinks.many().unicast().onBackpressureBuffer();\r\n\r\n    public ChatWebSocketHandler(){\r\n        this.outputEvents = Flux.from(messages)\r\n                .replay(10)\r\n                .autoConnect();\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; handle(final WebSocketSession session) {\r\n        return session.receive()\r\n                .log()\r\n                .map(WebSocketMessage::getPayloadAsText)\r\n                .filter(msg -&gt; messageValidationService.isMessageValid(msg.getText()))\r\n                .doOnNext(msg -&gt; eventPublisher.tryEmitNext(msg))\r\n                .zipWith(session.send(outputEvents.map(session::textMessage)))\r\n                .then();\r\n    }\r\n}\r\n```\r\n\r\nThis is works fine only for first 32 messages, messages are incomes and goes back as expected, but after 32 messages, server are stop reacting. No any logs (even on debug level) after 32th message. If client do reconnect it can sent another 32 messages. \r\n\r\nLog of .log() looks like\r\n\r\n```\r\n2023-10-04T14:33:37.317+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onSubscribe(FluxPeek.PeekSubscriber)\r\n2023-10-04T14:33:37.320+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : request(32)\r\n2023-10-04T14:33:37.383+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onNext(&quot;text&quot;)\r\n2023-10-04T14:33:37.383+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onNext(&quot;text&quot;)\r\n2023-10-04T14:33:37.383+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onNext(&quot;text&quot;)\r\n... another 29 same lines\r\n```\r\n\r\nWhere is set that limit? Could I increase it?","title":"How to increase limit of messages for WebSocketSession","body":"<p>I wrote simple chat service on Spring WebFlux (Reactor). WebSocketHandler part looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChatWebSocketHandler implements WebSocketHandler {\n    private final Flux&lt;String&gt; outputEvents;\n    private final Sinks.Many&lt;Message&gt; eventPublisher = Sinks.many().unicast().onBackpressureBuffer();\n\n    public ChatWebSocketHandler(){\n        this.outputEvents = Flux.from(messages)\n                .replay(10)\n                .autoConnect();\n    }\n\n    @Override\n    public Mono&lt;Void&gt; handle(final WebSocketSession session) {\n        return session.receive()\n                .log()\n                .map(WebSocketMessage::getPayloadAsText)\n                .filter(msg -&gt; messageValidationService.isMessageValid(msg.getText()))\n                .doOnNext(msg -&gt; eventPublisher.tryEmitNext(msg))\n                .zipWith(session.send(outputEvents.map(session::textMessage)))\n                .then();\n    }\n}\n</code></pre>\n<p>This is works fine only for first 32 messages, messages are incomes and goes back as expected, but after 32 messages, server are stop reacting. No any logs (even on debug level) after 32th message. If client do reconnect it can sent another 32 messages.</p>\n<p>Log of .log() looks like</p>\n<pre><code>2023-10-04T14:33:37.317+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onSubscribe(FluxPeek.PeekSubscriber)\n2023-10-04T14:33:37.320+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : request(32)\n2023-10-04T14:33:37.383+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onNext(&quot;text&quot;)\n2023-10-04T14:33:37.383+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onNext(&quot;text&quot;)\n2023-10-04T14:33:37.383+03:00  INFO 15812 --- [ctor-http-nio-2] reactor.Flux.Peek.1                      : onNext(&quot;text&quot;)\n... another 29 same lines\n</code></pre>\n<p>Where is set that limit? Could I increase it?</p>\n"},{"tags":["java","reflection","java-9","java-module","java-platform-module-system"],"answers":[{"comments":[{"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"score":0,"creation_date":1483848226,"post_id":41265267,"comment_id":70264410,"body_markdown":"Is `Lombok` in case 1 and hard to find a way to apply this flag to the JVM that will actually execute the reflecting code because it is part of the project&#39;s build process?","body":"Is <code>Lombok</code> in case 1 and hard to find a way to apply this flag to the JVM that will actually execute the reflecting code because it is part of the project&#39;s build process?"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1483866445,"post_id":41265267,"comment_id":70267493,"body_markdown":"Yes, Lombok is case 1. The question how hard it is to apply the flags belongs [here](http://stackoverflow.com/q/41520511/2525313).","body":"Yes, Lombok is case 1. The question how hard it is to apply the flags belongs <a href=\"http://stackoverflow.com/q/41520511/2525313\">here</a>."},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":1,"creation_date":1485044208,"post_id":41265267,"comment_id":70761891,"body_markdown":"Thanks for the explanation. For [my very similar case](https://github.com/graphhopper/graphhopper/issues/701#issuecomment-274295557) it [still fails](https://travis-ci.org/graphhopper/graphhopper/jobs/194113790) even with [that `--add-opens` option](https://github.com/graphhopper/graphhopper/commit/d43559a9f90cf72101e4f11c73c61a76c0dc9436). Strange.","body":"Thanks for the explanation. For <a href=\"https://github.com/graphhopper/graphhopper/issues/701#issuecomment-274295557\" rel=\"nofollow noreferrer\">my very similar case</a> it <a href=\"https://travis-ci.org/graphhopper/graphhopper/jobs/194113790\" rel=\"nofollow noreferrer\">still fails</a> even with <a href=\"https://github.com/graphhopper/graphhopper/commit/d43559a9f90cf72101e4f11c73c61a76c0dc9436\" rel=\"nofollow noreferrer\">that <code>--add-opens</code> option</a>. Strange."},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1485109700,"post_id":41265267,"comment_id":70777298,"body_markdown":"At first glance, the problem might be that you configure the Surefire plugin but the failure is produced by [the failsafe-plugin](https://travis-ci.org/graphhopper/graphhopper/jobs/194113790#L1077). If I am wrong, please ask a separate question.","body":"At first glance, the problem might be that you configure the Surefire plugin but the failure is produced by <a href=\"https://travis-ci.org/graphhopper/graphhopper/jobs/194113790#L1077\" rel=\"nofollow noreferrer\">the failsafe-plugin</a>. If I am wrong, please ask a separate question."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":6,"creation_date":1496119518,"post_id":41265267,"comment_id":75515451,"body_markdown":"@Nicolai I think you should update your answer because JDK 9 now allows illegal access by default and `--permit-illegal-access` will change to `--illegal-access`: http://mail.openjdk.java.net/pipermail/jigsaw-dev/2017-May/012673.html","body":"@Nicolai I think you should update your answer because JDK 9 now allows illegal access by default and <code>--permit-illegal-access</code> will change to <code>--illegal-access</code>: <a href=\"http://mail.openjdk.java.net/pipermail/jigsaw-dev/2017-May/012673.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/jigsaw-dev/2017-May/012673.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1496130520,"post_id":41265267,"comment_id":75521056,"body_markdown":"@ZhekaKozlov I&#39;m waiting for the first EA build that exposes that behavior before updating the answer.","body":"@ZhekaKozlov I&#39;m waiting for the first EA build that exposes that behavior before updating the answer."},{"owner":{"account_id":361563,"reputation":2396,"user_id":704244,"accept_rate":75,"display_name":"bartolo-otrit"},"score":0,"creation_date":1509450429,"post_id":41265267,"comment_id":81015365,"body_markdown":"`export JAVA_TOOL_OPTIONS=&quot;$JAVA_TOOL_OPTIONS --add-opens=java.base/java.lang=ALL-UNNAMED&quot;` worked for OpenJDK 9 because of https://bugs.openjdk.java.net/browse/JDK-8173128","body":"<code>export JAVA_TOOL_OPTIONS=&quot;$JAVA_TOOL_OPTIONS --add-opens=java.base&#47;java.lang=ALL-UNNAMED&quot;</code> worked for OpenJDK 9 because of <a href=\"https://bugs.openjdk.java.net/browse/JDK-8173128\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8173128</a>"},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1585509197,"post_id":41265267,"comment_id":107778534,"body_markdown":"Could you take a look at this question https://stackoverflow.com/questions/60918134/jpms-add-opens-doesnt-help-for-java-lang-reflect-inaccessibleobjectexception","body":"Could you take a look at this question <a href=\"https://stackoverflow.com/questions/60918134/jpms-add-opens-doesnt-help-for-java-lang-reflect-inaccessibleobjectexception\" title=\"jpms add opens doesnt help for java lang reflect inaccessibleobjectexception\">stackoverflow.com/questions/60918134/&hellip;</a>"},{"owner":{"account_id":18438623,"reputation":17851,"user_id":13431819,"display_name":"krishnaacharyaa"},"score":0,"creation_date":1622458647,"post_id":41265267,"comment_id":119790742,"body_markdown":"@Nicolai Parlog Can you please tell what canges to make in the modul-info.java file my error is like so: java.lang.reflect.InaccessibleObjectException: Unable to make boolean java.lang.reflect.AccessibleObject.setAccessible0(boolean) accessible: module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix                                                               ; with Context to the 2nd solution","body":"@Nicolai Parlog Can you please tell what canges to make in the modul-info.java file my error is like so: java.lang.reflect.InaccessibleObjectException: Unable to make boolean java.lang.reflect.AccessibleObject.setAccessible0(boolean) accessible: module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix                                                               ; with Context to the 2nd solution"},{"owner":{"account_id":6685218,"reputation":459,"user_id":5156737,"display_name":"Ayush Shukla"},"score":0,"creation_date":1657093259,"post_id":41265267,"comment_id":128724542,"body_markdown":"Along with this, for gradle this link was useful for me: https://stackoverflow.com/questions/65225327","body":"Along with this, for gradle this link was useful for me: <a href=\"https://stackoverflow.com/questions/65225327\">stackoverflow.com/questions/65225327</a>"},{"owner":{"account_id":1886697,"reputation":111,"user_id":1782344,"display_name":"hairysocks"},"score":0,"creation_date":1684409612,"post_id":41265267,"comment_id":134515085,"body_markdown":"Thanks @NicolaiParlog - setting an environment variable with `--add-opens=java.base/java.lang=ALL-UNNAMED` worked. But in my case I&#39;m running Jenkins inside a docker container, and Jenkins uses maven to start springboot (many layers!). So setting `ENV JAVA_TOOL_OPTIONS=&quot;--add-opens=java.base/java.lang=ALL-UNNAMED&quot;` in the Dockerfile passes that option through to springboot. The Java documentation on this environment variable describes the situation nicely - &quot; the command line is not readily accessible to start the application with necessary command-line options&quot;.","body":"Thanks @NicolaiParlog - setting an environment variable with <code>--add-opens=java.base&#47;java.lang=ALL-UNNAMED</code> worked. But in my case I&#39;m running Jenkins inside a docker container, and Jenkins uses maven to start springboot (many layers!). So setting <code>ENV JAVA_TOOL_OPTIONS=&quot;--add-opens=java.base&#47;java.lang=ALL-UNNAM&zwnj;&#8203;ED&quot;</code> in the Dockerfile passes that option through to springboot. The Java documentation on this environment variable describes the situation nicely - &quot; the command line is not readily accessible to start the application with necessary command-line options&quot;."}],"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":11,"down_vote_count":0,"up_vote_count":286,"is_accepted":true,"score":286,"last_activity_date":1621268082,"creation_date":1482330880,"answer_id":41265267,"question_id":41265266,"body_markdown":"The exception is caused by the [Java Platform Module System](http://openjdk.java.net/projects/jigsaw/spec/sotms) that was introduced in Java 9, particularly its implementation of strong encapsulation.\r\nIt only allows [access](http://openjdk.java.net/projects/jigsaw/spec/sotms/#accessibility) under certain conditions, the most prominent ones are:\r\n\r\n* the type has to be public\r\n* the owning package has to be exported\r\n\r\nThe same limitations are true for reflection, which the code causing the exception tried to use.\r\nMore precisely the exception is caused by a call to [`setAccessible`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible-boolean-).\r\nThis can be seen in the stack trace above, where the corresponding lines in `javassist.util.proxy.SecurityActions` look as follows:\r\n\r\n    static void setAccessible(final AccessibleObject ao,\r\n                              final boolean accessible) {\r\n        if (System.getSecurityManager() == null)\r\n            ao.setAccessible(accessible); // &lt;~ Dragons\r\n        else {\r\n            AccessController.doPrivileged(new PrivilegedAction() {\r\n                public Object run() {\r\n                    ao.setAccessible(accessible);  // &lt;~ moar Dragons\r\n                    return null;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nTo make sure the program runs successfully the module system must be convinced to allow access to the element on which `setAccessible` was called.\r\nAll information required for that is contained in the exception message but there are [a number of mechanisms](https://www.sitepoint.com/reflection-vs-encapsulation-in-the-java-module-system/) to achieve this.\r\nWhich is the best one depends on the exact scenario that caused it.\r\n\r\n&gt; Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}\r\n\r\nBy far the most prominent scenarios are the following two:\r\n\r\n1. A library or framework uses reflection to call into a JDK module.\r\nIn this scenario:\r\n    * `{A}` is a Java module (prefixed with `java.` or `jdk.`)\r\n    * `{member}` and `{package}` are parts of the Java API\r\n    * `{B}` is a library, framework, or application module; often `unnamed module @...`\r\n\r\n2. A reflection-based library/framework like Spring, Hibernate, JAXB, ... reflects over application code to access beans, entities,...\r\nIn this scenario:\r\n    * `{A}` is an application module\r\n    * `{member}` and `{package}` are part of the application code\r\n    * `{B}` is either a framework module or `unnamed module @...`\r\n\r\nNote that some libraries (JAXB, for example) can fail on both accounts so have a close look at what scenario you&#39;re in!\r\nThe one in the question is case 1.\r\n\r\n## 1. Reflective Call Into JDK\r\n\r\nThe JDK modules are immutable for application developers so we can not change their properties.\r\nThis leaves only one possible solution: [command line flags](https://www.sitepoint.com/reflection-vs-encapsulation-in-the-java-module-system/#commandlineescapehatches).\r\nWith them it is possible to open specific packages up for reflection.\r\n\r\nSo in a case like above (shortened)...\r\n\r\n&gt; Unable to make java.lang.ClassLoader.defineClass accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1941a8ff\r\n\r\n... the correct fix is to launch the JVM as follows:\r\n\r\n    # --add-opens has the following syntax: {A}/{package}={B}\r\n    java --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nIf the reflecting code is in a named module, `ALL-UNNAMED` can be replaced by its name.\r\n\r\nNote that it can sometimes be hard to find a way to apply this flag to the JVM that will actually execute the reflecting code.\r\nThis can be particularly tough if the code in question is part of the project&#39;s build process and is executed in a JVM that the build tool spawned.\r\n\r\nIf there are too many flags to be added, you might consider using the [encapsulation kill switch](http://mail.openjdk.java.net/pipermail/jigsaw-dev/2017-March/011763.html) `--permit-illegal-access` instead. It will allow all code on the class path to reflect overall named modules. Note that this flag  **will only work in Java 9**!\r\n\r\n## 2. Reflection Over Application Code\r\n\r\nIn this scenario, it is likely that you can edit the module that reflection is used to break into.\r\n(If not, you&#39;re effectively in case 1.) That means that command-line flags are not necessary and instead module `{A}`&#39;s descriptor can be used to open up its internals.\r\nThere are a variety of choices:\r\n\r\n* export the package with `exports {package}`, which makes it available at compile and run time to all code\r\n* export the package to the accessing module with `exports {package} to {B}`, which makes it available at compile and run time but only to `{B}`\r\n* open the package with `opens {package}`, which makes it available at run time (with or without reflection) to all code\r\n* open the package to the accessing module with `opens {package} to {B}`, which makes it available at run time (with or without reflection) but only to `{B}`\r\n* open the entire module with `open module {A} { ... }`, which makes all its packages available at run time (with or without reflection) to all code\r\n\r\nSee [this post](https://blog.codefx.org/java/reflection-vs-encapsulation/) for a more detailed discussion and comparison of these approaches.\r\n","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>The exception is caused by the <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms\" rel=\"noreferrer\">Java Platform Module System</a> that was introduced in Java 9, particularly its implementation of strong encapsulation.\nIt only allows <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#accessibility\" rel=\"noreferrer\">access</a> under certain conditions, the most prominent ones are:</p>\n<ul>\n<li>the type has to be public</li>\n<li>the owning package has to be exported</li>\n</ul>\n<p>The same limitations are true for reflection, which the code causing the exception tried to use.\nMore precisely the exception is caused by a call to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible-boolean-\" rel=\"noreferrer\"><code>setAccessible</code></a>.\nThis can be seen in the stack trace above, where the corresponding lines in <code>javassist.util.proxy.SecurityActions</code> look as follows:</p>\n<pre><code>static void setAccessible(final AccessibleObject ao,\n                          final boolean accessible) {\n    if (System.getSecurityManager() == null)\n        ao.setAccessible(accessible); // &lt;~ Dragons\n    else {\n        AccessController.doPrivileged(new PrivilegedAction() {\n            public Object run() {\n                ao.setAccessible(accessible);  // &lt;~ moar Dragons\n                return null;\n            }\n        });\n    }\n}\n</code></pre>\n<p>To make sure the program runs successfully the module system must be convinced to allow access to the element on which <code>setAccessible</code> was called.\nAll information required for that is contained in the exception message but there are <a href=\"https://www.sitepoint.com/reflection-vs-encapsulation-in-the-java-module-system/\" rel=\"noreferrer\">a number of mechanisms</a> to achieve this.\nWhich is the best one depends on the exact scenario that caused it.</p>\n<blockquote>\n<p>Unable to make {member} accessible: module {A} does not 'opens {package}' to {B}</p>\n</blockquote>\n<p>By far the most prominent scenarios are the following two:</p>\n<ol>\n<li><p>A library or framework uses reflection to call into a JDK module.\nIn this scenario:</p>\n<ul>\n<li><code>{A}</code> is a Java module (prefixed with <code>java.</code> or <code>jdk.</code>)</li>\n<li><code>{member}</code> and <code>{package}</code> are parts of the Java API</li>\n<li><code>{B}</code> is a library, framework, or application module; often <code>unnamed module @...</code></li>\n</ul>\n</li>\n<li><p>A reflection-based library/framework like Spring, Hibernate, JAXB, ... reflects over application code to access beans, entities,...\nIn this scenario:</p>\n<ul>\n<li><code>{A}</code> is an application module</li>\n<li><code>{member}</code> and <code>{package}</code> are part of the application code</li>\n<li><code>{B}</code> is either a framework module or <code>unnamed module @...</code></li>\n</ul>\n</li>\n</ol>\n<p>Note that some libraries (JAXB, for example) can fail on both accounts so have a close look at what scenario you're in!\nThe one in the question is case 1.</p>\n<h2>1. Reflective Call Into JDK</h2>\n<p>The JDK modules are immutable for application developers so we can not change their properties.\nThis leaves only one possible solution: <a href=\"https://www.sitepoint.com/reflection-vs-encapsulation-in-the-java-module-system/#commandlineescapehatches\" rel=\"noreferrer\">command line flags</a>.\nWith them it is possible to open specific packages up for reflection.</p>\n<p>So in a case like above (shortened)...</p>\n<blockquote>\n<p>Unable to make java.lang.ClassLoader.defineClass accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1941a8ff</p>\n</blockquote>\n<p>... the correct fix is to launch the JVM as follows:</p>\n<pre><code># --add-opens has the following syntax: {A}/{package}={B}\njava --add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>If the reflecting code is in a named module, <code>ALL-UNNAMED</code> can be replaced by its name.</p>\n<p>Note that it can sometimes be hard to find a way to apply this flag to the JVM that will actually execute the reflecting code.\nThis can be particularly tough if the code in question is part of the project's build process and is executed in a JVM that the build tool spawned.</p>\n<p>If there are too many flags to be added, you might consider using the <a href=\"http://mail.openjdk.java.net/pipermail/jigsaw-dev/2017-March/011763.html\" rel=\"noreferrer\">encapsulation kill switch</a> <code>--permit-illegal-access</code> instead. It will allow all code on the class path to reflect overall named modules. Note that this flag  <strong>will only work in Java 9</strong>!</p>\n<h2>2. Reflection Over Application Code</h2>\n<p>In this scenario, it is likely that you can edit the module that reflection is used to break into.\n(If not, you're effectively in case 1.) That means that command-line flags are not necessary and instead module <code>{A}</code>'s descriptor can be used to open up its internals.\nThere are a variety of choices:</p>\n<ul>\n<li>export the package with <code>exports {package}</code>, which makes it available at compile and run time to all code</li>\n<li>export the package to the accessing module with <code>exports {package} to {B}</code>, which makes it available at compile and run time but only to <code>{B}</code></li>\n<li>open the package with <code>opens {package}</code>, which makes it available at run time (with or without reflection) to all code</li>\n<li>open the package to the accessing module with <code>opens {package} to {B}</code>, which makes it available at run time (with or without reflection) but only to <code>{B}</code></li>\n<li>open the entire module with <code>open module {A} { ... }</code>, which makes all its packages available at run time (with or without reflection) to all code</li>\n</ul>\n<p>See <a href=\"https://blog.codefx.org/java/reflection-vs-encapsulation/\" rel=\"noreferrer\">this post</a> for a more detailed discussion and comparison of these approaches.</p>\n"},{"comments":[{"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"score":2,"creation_date":1500743523,"post_id":43043879,"comment_id":77477862,"body_markdown":"It&#39;d be helpful to know how you suggest to &quot;fix their issues&quot;. Is it by means of method or var handles? IMHO accessing state by reading/writing private fields isn&#39;t inherently bad, e.g. it&#39;s something explicitely foreseen by the JPA spec.","body":"It&#39;d be helpful to know how you suggest to &quot;fix their issues&quot;. Is it by means of method or var handles? IMHO accessing state by reading/writing private fields isn&#39;t inherently bad, e.g. it&#39;s something explicitely foreseen by the JPA spec."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":5,"creation_date":1500754028,"post_id":43043879,"comment_id":77480922,"body_markdown":"For the specific example, it looks like Hibernate or Spring using Javassist to hack into a non-public defineClass method. The Lookup.defineClass method was specifically added to help libraries inject classes so that it is the way forward for that use-case. For the case where JPA and other libraries that need to access private members of their consumers then they will need to document that the consumer opens the package to the library (for annotation based frameworks (like JPA) then that is potentially checkable at build time).","body":"For the specific example, it looks like Hibernate or Spring using Javassist to hack into a non-public defineClass method. The Lookup.defineClass method was specifically added to help libraries inject classes so that it is the way forward for that use-case. For the case where JPA and other libraries that need to access private members of their consumers then they will need to document that the consumer opens the package to the library (for annotation based frameworks (like JPA) then that is potentially checkable at build time)."}],"tags":[],"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1490610341,"creation_date":1490610341,"answer_id":43043879,"question_id":41265266,"body_markdown":"Using --add-opens should be considered a workaround. The right thing is for Spring, Hibernate and other libraries doing illegal access to fix their issues. ","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>Using --add-opens should be considered a workaround. The right thing is for Spring, Hibernate and other libraries doing illegal access to fix their issues. </p>\n"},{"tags":[],"owner":{"account_id":57891,"reputation":415,"user_id":173427,"display_name":"David T"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1491536544,"creation_date":1491536544,"answer_id":43269246,"question_id":41265266,"body_markdown":"This is a very challenging problem to solve; and as noted by others, the --add-opens option is only a workaround. The urgency to resolve the underlying issues will only grow once Java 9 becomes publicly available.\r\n\r\nI found myself on this page after receiving this exact Javassist error while testing my Hibernate-based application on Java 9. And since I aim to support Java 7, 8, and 9 on multiple platforms, I struggled to find the best solution. (Note that Java 7 and 8 JVMs will abort immediately when they see an unrecognized &quot;--add-opens&quot; argument on the command line; so this can&#39;t be solved with static changes to batch files, scripts, or shortcuts.)\r\n\r\nIt would be nice to receive official guidance from the authors of mainstream libraries (such as Spring and Hibernate), but with 100 days to go until the currently projected release of Java 9, that advice still seems hard to find.\r\n\r\nAfter much experimentation and testing, I was relieved to find a solution for Hibernate:\r\n\r\n 1. Use Hibernate 5.0.0 or higher (earlier versions won&#39;t work), and \r\n 2. Request **build-time bytecode enhancement** (using the Gradle, Maven, or Ant plugins). \r\n\r\nThis avoids the need for Hibernate to perform Javassist-based class modifications at runtime, eliminating the stack trace shown in the original post. \r\n\r\n**HOWEVER**, you should thoroughly test your application afterward. The bytecode changes applied by Hibernate at build-time appear to differ from the ones applied at runtime, causing slightly different application behavior. Unit tests in my app that have succeeded for years suddenly failed when I enabled build-time bytecode enhancement. (I had to chase down new LazyInitializationExceptions and other problems.) And the behavior seems to vary from one version of Hibernate to another. Proceed with caution.","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>This is a very challenging problem to solve; and as noted by others, the --add-opens option is only a workaround. The urgency to resolve the underlying issues will only grow once Java 9 becomes publicly available.</p>\n\n<p>I found myself on this page after receiving this exact Javassist error while testing my Hibernate-based application on Java 9. And since I aim to support Java 7, 8, and 9 on multiple platforms, I struggled to find the best solution. (Note that Java 7 and 8 JVMs will abort immediately when they see an unrecognized \"--add-opens\" argument on the command line; so this can't be solved with static changes to batch files, scripts, or shortcuts.)</p>\n\n<p>It would be nice to receive official guidance from the authors of mainstream libraries (such as Spring and Hibernate), but with 100 days to go until the currently projected release of Java 9, that advice still seems hard to find.</p>\n\n<p>After much experimentation and testing, I was relieved to find a solution for Hibernate:</p>\n\n<ol>\n<li>Use Hibernate 5.0.0 or higher (earlier versions won't work), and </li>\n<li>Request <strong>build-time bytecode enhancement</strong> (using the Gradle, Maven, or Ant plugins). </li>\n</ol>\n\n<p>This avoids the need for Hibernate to perform Javassist-based class modifications at runtime, eliminating the stack trace shown in the original post. </p>\n\n<p><strong>HOWEVER</strong>, you should thoroughly test your application afterward. The bytecode changes applied by Hibernate at build-time appear to differ from the ones applied at runtime, causing slightly different application behavior. Unit tests in my app that have succeeded for years suddenly failed when I enabled build-time bytecode enhancement. (I had to chase down new LazyInitializationExceptions and other problems.) And the behavior seems to vary from one version of Hibernate to another. Proceed with caution.</p>\n"},{"tags":[],"owner":{"account_id":12671201,"reputation":31,"user_id":9208678,"display_name":"Karol Golec"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515755575,"creation_date":1515755575,"answer_id":48225089,"question_id":41265266,"body_markdown":"I had warnings with hibernate 5. \r\n\r\n    Illegal reflective access by javassist.util.proxy.SecurityActions\r\n\r\nI added latest javassist library to dependencies gradle:\r\n\r\n    compile group: &#39;org.javassist&#39;, name: &#39;javassist&#39;, version: &#39;3.22.0-GA&#39;\r\n\r\nThis solved my problem.","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>I had warnings with hibernate 5. </p>\n\n<pre><code>Illegal reflective access by javassist.util.proxy.SecurityActions\n</code></pre>\n\n<p>I added latest javassist library to dependencies gradle:</p>\n\n<pre><code>compile group: 'org.javassist', name: 'javassist', version: '3.22.0-GA'\n</code></pre>\n\n<p>This solved my problem.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695394101,"post_id":68193125,"comment_id":136022877,"body_markdown":"Instructions unclear. I don&#39;t use Eclipse, and I still get this error","body":"Instructions unclear. I don&#39;t use Eclipse, and I still get this error"}],"tags":[],"owner":{"account_id":4130634,"reputation":191,"user_id":3388665,"display_name":"Rituparna Bhattacharyya"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1625049169,"creation_date":1625049169,"answer_id":68193125,"question_id":41265266,"body_markdown":"Add --illegal-access=warn and --add-opens java.base/java.lang=ALL-UNNAMED to your eclipse.ini","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>Add --illegal-access=warn and --add-opens java.base/java.lang=ALL-UNNAMED to your eclipse.ini</p>\n"},{"tags":[],"owner":{"account_id":21421452,"reputation":53,"user_id":15779642,"display_name":"Dhaval Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626103634,"creation_date":1626103634,"answer_id":68350010,"question_id":41265266,"body_markdown":"I had the same issue in 2021 while using openJDK 1.8 and STS 4.\r\n```\r\nWindow =&gt; Preferences =&gt; Java =&gt; Installed JREs.\r\n```\r\n\r\nI added a new JRE (mentioned below) using the add option , browsed to the openJdk folder, select OK. Make the new JDK default. Click on apply and close.\r\n\r\n```\r\n/usr/lib/jvm/java-1.8.0-openjdk-amd64/jre\r\n```\r\n\r\nIt worked like a charm:)","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>I had the same issue in 2021 while using openJDK 1.8 and STS 4.</p>\n<pre><code>Window =&gt; Preferences =&gt; Java =&gt; Installed JREs.\n</code></pre>\n<p>I added a new JRE (mentioned below) using the add option , browsed to the openJdk folder, select OK. Make the new JDK default. Click on apply and close.</p>\n<pre><code>/usr/lib/jvm/java-1.8.0-openjdk-amd64/jre\n</code></pre>\n<p>It worked like a charm:)</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695394229,"post_id":68356135,"comment_id":136022910,"body_markdown":"The question doesn&#39;t seem to be asking about Eclipse. Ideally, you dont rely on an IDE to compile your code. Use Maven/Gradle for more portable solutions","body":"The question doesn&#39;t seem to be asking about Eclipse. Ideally, you dont rely on an IDE to compile your code. Use Maven/Gradle for more portable solutions"}],"tags":[],"owner":{"account_id":14683273,"reputation":11,"user_id":10604082,"display_name":"Mark"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626146991,"creation_date":1626146991,"answer_id":68356135,"question_id":41265266,"body_markdown":"https://stackoverflow.com/questions/54068992/how-to-tell-eclipse-to-add-exports-when-compiling?fbclid=IwAR1NF9SKWMkcPsKU3p2TzV9QrEb91SjZ1vTNmqmgBcyw8zZfutk-0pjAqec\r\n\r\nI followed the steps from the top comment but in ```Add-exports configuration``` pop-up window, I input the modules that were in my error and selected ```opens``` checkbox instead of ```exports``` checkbox and saved it. This fixed my problem. ","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p><a href=\"https://stackoverflow.com/questions/54068992/how-to-tell-eclipse-to-add-exports-when-compiling?fbclid=IwAR1NF9SKWMkcPsKU3p2TzV9QrEb91SjZ1vTNmqmgBcyw8zZfutk-0pjAqec\">How to tell eclipse to add-exports when compiling</a></p>\n<p>I followed the steps from the top comment but in <code>Add-exports configuration</code> pop-up window, I input the modules that were in my error and selected <code>opens</code> checkbox instead of <code>exports</code> checkbox and saved it. This fixed my problem.</p>\n"},{"tags":[],"owner":{"account_id":20795633,"reputation":71,"user_id":15272739,"display_name":"Ramanuj"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1627412269,"creation_date":1627376752,"answer_id":68541995,"question_id":41265266,"body_markdown":"I faced the same issue after importing an existing Springboot project based on JDK1.8 into SpringTestSuite4. When I started the application on an embedded Tomcat server, I got this error\r\n\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make\r\n&gt; protected final java.lang.Class\r\n&gt; java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n&gt; throws java.lang.ClassFormatError accessible: module java.base does\r\n&gt; not &quot;opens java.lang&quot; to unnamed module @140c9f39 %09\r\n\r\nI added the pre-installed JDK1.8 JRE from my PC to SpringTestSuite4 in the Installed JRE section under Window -&gt; Preferences -&gt; Java and made the added JRE the default. Then I clicked on Apply and then Close.\r\n\r\nIt worked for me.","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>I faced the same issue after importing an existing Springboot project based on JDK1.8 into SpringTestSuite4. When I started the application on an embedded Tomcat server, I got this error</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make\nprotected final java.lang.Class\njava.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nthrows java.lang.ClassFormatError accessible: module java.base does\nnot &quot;opens java.lang&quot; to unnamed module @140c9f39 %09</p>\n</blockquote>\n<p>I added the pre-installed JDK1.8 JRE from my PC to SpringTestSuite4 in the Installed JRE section under Window -&gt; Preferences -&gt; Java and made the added JRE the default. Then I clicked on Apply and then Close.</p>\n<p>It worked for me.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695394198,"post_id":68605791,"comment_id":136022900,"body_markdown":"Changed **from** what version **to** what version?","body":"Changed <b>from</b> what version <b>to</b> what version?"}],"tags":[],"owner":{"account_id":14219716,"reputation":297,"user_id":10272428,"display_name":"Kravi"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1627764983,"creation_date":1627764983,"answer_id":68605791,"question_id":41265266,"body_markdown":"For me i just changed spring-boot-starter-web version and worked for me","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>For me i just changed spring-boot-starter-web version and worked for me</p>\n"},{"tags":[],"owner":{"account_id":9745611,"reputation":21,"user_id":7225704,"display_name":"Gowtham"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1628758267,"creation_date":1628758267,"answer_id":68754324,"question_id":41265266,"body_markdown":"Faced the same issue. One of the Reason might be using wrong JDK / Project SDK. \r\n\r\nTo Resolve this issue in Intellij:\r\n\r\n&gt; Right Click on the Maven Project -&gt; Open Module Settings -&gt; Project\r\n&gt; Settings -&gt; Project -&gt; Select your SDK to already installed JDK 1.8\r\n\r\nIt worked for me !","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>Faced the same issue. One of the Reason might be using wrong JDK / Project SDK.</p>\n<p>To Resolve this issue in Intellij:</p>\n<blockquote>\n<p>Right Click on the Maven Project -&gt; Open Module Settings -&gt; Project\nSettings -&gt; Project -&gt; Select your SDK to already installed JDK 1.8</p>\n</blockquote>\n<p>It worked for me !</p>\n"},{"tags":[],"owner":{"account_id":4784345,"reputation":11,"user_id":3865296,"display_name":"Pritam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631508538,"creation_date":1631508538,"answer_id":69157406,"question_id":41265266,"body_markdown":"I was facing similar issue while running SornarQube and I got the workaround to upload the sonar report by doing following:\r\n\r\nExisting package: Java 16.0.2, MacOS (BigSur)\r\n\r\n- Installed sonar_scanner\r\n- Ran this command: export SONAR_SCANNER_OPTS=&quot;--illegal-access=permit&quot;\r\n\r\nHope this will help to someone if facing the same issue, s/he can try for this. :-)\r\n\r\n","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>I was facing similar issue while running SornarQube and I got the workaround to upload the sonar report by doing following:</p>\n<p>Existing package: Java 16.0.2, MacOS (BigSur)</p>\n<ul>\n<li>Installed sonar_scanner</li>\n<li>Ran this command: export SONAR_SCANNER_OPTS=&quot;--illegal-access=permit&quot;</li>\n</ul>\n<p>Hope this will help to someone if facing the same issue, s/he can try for this. :-)</p>\n"},{"comments":[{"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"score":0,"creation_date":1692864025,"post_id":69160452,"comment_id":135682478,"body_markdown":"This is what helped me in case I was using gson via shazamcrest. I can hardly live without shazamcrest in some cases so I had to use this workaround during testing. To add it to surefire you can do:\n&lt;configuration&gt;\n    &lt;!-- The add-opens are for shazamcrest that uses gson for random classes --&gt;\n    &lt;argLine&gt;\n        --add-opens java.base/java.time=ALL-UNNAMED\n        --add-opens java.base/java.math=ALL-UNNAMED\n        --add-opens java.base/java.lang=ALL-UNNAMED\n        --add-opens java.base/java.lang.reflect=ALL-UNNAMED\n    &lt;/argLine&gt;\n&lt;/configuration&gt;","body":"This is what helped me in case I was using gson via shazamcrest. I can hardly live without shazamcrest in some cases so I had to use this workaround during testing. To add it to surefire you can do: &lt;configuration&gt;     &lt;!-- The add-opens are for shazamcrest that uses gson for random classes --&gt;     &lt;argLine&gt;         --add-opens java.base/java.time=ALL-UNNAMED         --add-opens java.base/java.math=ALL-UNNAMED         --add-opens java.base/java.lang=ALL-UNNAMED         --add-opens java.base/java.lang.reflect=ALL-UNNAMED     &lt;/argLine&gt; &lt;/configuration&gt;"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1631525711,"creation_date":1631525711,"answer_id":69160452,"question_id":41265266,"body_markdown":"Just a recent feedback\r\n\r\nMany proposals to solve this issue have to do with the vm launcher option `--illegal-access`.\r\n\r\nAccording to Oracle, with [JEP 403 (link1)][1] and [JEP 403 (link2)][2] which has been decided to be **delivered from JDK 17 and onwards** , the launcher option `--illegal-access` will stop working! \r\n\r\n&gt; Summary Strongly encapsulate all internal elements of the JDK, except\r\n&gt; for critical internal APIs such as sun.misc.Unsafe. It will no longer\r\n&gt; be possible to relax the strong encapsulation of internal elements via\r\n&gt; a single command-line option, as was possible in JDK 9 through JDK 16.\r\n\r\nAnd\r\n\r\n&gt; With this change, it **will no longer be possible for end users to use\r\n&gt; the --illegal-access option** to enable access to internal elements of\r\n&gt; the JDK. (A list of the packages affected is available here.) The\r\n&gt; sun.misc and sun.reflect packages will still be exported by the\r\n&gt; jdk.unsupported module, and will still be open so that code can access\r\n&gt; their non-public elements via reflection. No other JDK packages will\r\n&gt; be open in this way.\r\n&gt; \r\n&gt; It will still be possible to use the &lt;code class=&quot;prettyprint&quot;\r\n&gt; data-shared-secret=&quot;1631525318374-0.6975299137577347&quot;&gt;**--add-opens**&lt;/code&gt;\r\n&gt; command-line option, or the &lt;code class=&quot;prettyprint&quot;\r\n&gt; data-shared-secret=&quot;1631525318374-0.6975299137577347&quot;&gt;Add-Opens&lt;/code&gt;\r\n&gt; JAR-file manifest attribute, to open specific packages.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/403\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8263547\r\n\r\nSo the following solution will keep working\r\n\r\n    # --add-opens has the following syntax: {A}/{package}={B}\r\n    java --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nBut the solution with `--illegal-access` will stop working from `JDK 17` and onwards.","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>Just a recent feedback</p>\n<p>Many proposals to solve this issue have to do with the vm launcher option <code>--illegal-access</code>.</p>\n<p>According to Oracle, with <a href=\"https://openjdk.java.net/jeps/403\" rel=\"noreferrer\">JEP 403 (link1)</a> and <a href=\"https://bugs.openjdk.java.net/browse/JDK-8263547\" rel=\"noreferrer\">JEP 403 (link2)</a> which has been decided to be <strong>delivered from JDK 17 and onwards</strong> , the launcher option <code>--illegal-access</code> will stop working!</p>\n<blockquote>\n<p>Summary Strongly encapsulate all internal elements of the JDK, except\nfor critical internal APIs such as sun.misc.Unsafe. It will no longer\nbe possible to relax the strong encapsulation of internal elements via\na single command-line option, as was possible in JDK 9 through JDK 16.</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p>With this change, it <strong>will no longer be possible for end users to use\nthe --illegal-access option</strong> to enable access to internal elements of\nthe JDK. (A list of the packages affected is available here.) The\nsun.misc and sun.reflect packages will still be exported by the\njdk.unsupported module, and will still be open so that code can access\ntheir non-public elements via reflection. No other JDK packages will\nbe open in this way.</p>\n<p>It will still be possible to use the <strong>--add-opens</strong>\ncommand-line option, or the Add-Opens\nJAR-file manifest attribute, to open specific packages.</p>\n</blockquote>\n<p>So the following solution will keep working</p>\n<pre><code># --add-opens has the following syntax: {A}/{package}={B}\njava --add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>But the solution with <code>--illegal-access</code> will stop working from <code>JDK 17</code> and onwards.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1631698886,"post_id":69190269,"comment_id":122290633,"body_markdown":"[The `--illegal-access` VM parameter has been removed as of Java 17.](https://openjdk.java.net/jeps/403#Description)","body":"<a href=\"https://openjdk.java.net/jeps/403#Description\" rel=\"nofollow noreferrer\">The <code>--illegal-access</code> VM parameter has been removed as of Java 17.</a>"},{"owner":{"account_id":17570148,"reputation":121,"user_id":12746013,"display_name":"Karan Kamboj"},"score":0,"creation_date":1634114809,"post_id":69190269,"comment_id":122936598,"body_markdown":"this will work in java 8","body":"this will work in java 8"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1634136983,"post_id":69190269,"comment_id":122946287,"body_markdown":"With java 8: `java --illegal-access=warn --add-opens java.base/java.lang=ALL-UNNAMED Foo` -&gt; `Unrecognized option: --illegal-access=warn`, `Error: Could not create the Java Virtual Machine.`, `Error: A fatal exception has occurred. Program will exit.`.","body":"With java 8: <code>java --illegal-access=warn --add-opens java.base&#47;java.lang=ALL-UNNAMED Foo</code> -&gt; <code>Unrecognized option: --illegal-access=warn</code>, <code>Error: Could not create the Java Virtual Machine.</code>, <code>Error: A fatal exception has occurred. Program will exit.</code>."}],"tags":[],"owner":{"account_id":17570148,"reputation":121,"user_id":12746013,"display_name":"Karan Kamboj"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1648566269,"creation_date":1631697397,"answer_id":69190269,"question_id":41265266,"body_markdown":"Add to your JVM command line or go to `eclipse.ini` file in Eclipse Directory and add the following:\r\n\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nPre Java 17 (because Java 17 removed this parameter) you would also add:\r\n\r\n    --illegal-access=warn\r\n","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>Add to your JVM command line or go to <code>eclipse.ini</code> file in Eclipse Directory and add the following:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>Pre Java 17 (because Java 17 removed this parameter) you would also add:</p>\n<pre><code>--illegal-access=warn\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13919492,"reputation":9,"user_id":10050326,"display_name":"Rohit Baila"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1631828841,"creation_date":1631779959,"answer_id":69204690,"question_id":41265266,"body_markdown":"In eclipse: \r\n```\r\nWindows -&gt; Preferences -&gt; Java -&gt; Installed JREs\r\n```\r\nIn the wizard that open click on Add, select `Standard VM` and click `Next`, and then Browse to the path of your installed Java in program files. Eg, for me it was `C:\\Program Files\\Java\\jre1.8.0_301\\lib`.\r\n\r\nClick on Finish then select the newly added JR.\r\n```\r\nRight-click on your Project -&gt; Build Path -&gt; Configure Build Path\r\n```\r\n\r\nIn the wizard that opens go to the `Libraries` tab and click on `Add Library` then select `JRE System Library` click next. Select `Alternate JRE` and then select the JRE your added earlier from the drop down. Click on Finish.\r\nGo to the `Order and Export` tab and select your added JRE and move it above the other System library that was causing the problem. Select apply and close. You&#39;re done.","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>In eclipse:</p>\n<pre><code>Windows -&gt; Preferences -&gt; Java -&gt; Installed JREs\n</code></pre>\n<p>In the wizard that open click on Add, select <code>Standard VM</code> and click <code>Next</code>, and then Browse to the path of your installed Java in program files. Eg, for me it was <code>C:\\Program Files\\Java\\jre1.8.0_301\\lib</code>.</p>\n<p>Click on Finish then select the newly added JR.</p>\n<pre><code>Right-click on your Project -&gt; Build Path -&gt; Configure Build Path\n</code></pre>\n<p>In the wizard that opens go to the <code>Libraries</code> tab and click on <code>Add Library</code> then select <code>JRE System Library</code> click next. Select <code>Alternate JRE</code> and then select the JRE your added earlier from the drop down. Click on Finish.\nGo to the <code>Order and Export</code> tab and select your added JRE and move it above the other System library that was causing the problem. Select apply and close. You're done.</p>\n"},{"comments":[{"owner":{"account_id":8153110,"reputation":169,"user_id":6139534,"display_name":"Stephen"},"score":0,"creation_date":1647966631,"post_id":69309920,"comment_id":126502127,"body_markdown":"Also works for IntelliJ, you need to set up the correct project SDK in  File -&gt; Project Structure window","body":"Also works for IntelliJ, you need to set up the correct project SDK in  File -&gt; Project Structure window"}],"tags":[],"owner":{"account_id":12690043,"reputation":489,"user_id":9220478,"display_name":"Sudarshan Gaikwad"},"comment_count":1,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1650908598,"creation_date":1632460968,"answer_id":69309920,"question_id":41265266,"body_markdown":"It is still possible to try with older JKD version.\r\n\r\nFor Eclipse you need to do 2 things. Go to\r\n\r\n1. **Window -&gt; Preference -&gt; java -&gt; Compiler** \r\nSet Compiler Compliance Level to Specific version\r\nIn my case, Eclipse version was set to JDK 16 I reverted it to 1.8 as my code was written in 1.8\r\n\r\n2. **Window -&gt; Preferences -&gt; Java -&gt; Installed JREs.**\r\nAdd the JRE installation path (*Select Standard VM*)\r\n\r\nIt worked smoothly for me..","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>It is still possible to try with older JKD version.</p>\n<p>For Eclipse you need to do 2 things. Go to</p>\n<ol>\n<li><p><strong>Window -&gt; Preference -&gt; java -&gt; Compiler</strong>\nSet Compiler Compliance Level to Specific version\nIn my case, Eclipse version was set to JDK 16 I reverted it to 1.8 as my code was written in 1.8</p>\n</li>\n<li><p><strong>Window -&gt; Preferences -&gt; Java -&gt; Installed JREs.</strong>\nAdd the JRE installation path (<em>Select Standard VM</em>)</p>\n</li>\n</ol>\n<p>It worked smoothly for me..</p>\n"},{"tags":[],"owner":{"account_id":5704495,"reputation":148,"user_id":4545201,"display_name":"Scar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632988370,"creation_date":1632987853,"answer_id":69388180,"question_id":41265266,"body_markdown":"In 2021, the issue only appeared when I used OpenJDK language version 16. It worked when I downgraded to a lower version. I am guessing this is because OpenJDK made this: [JEP 396: Strongly Encapsulate JDK Internals by Default][1]\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/396","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>In 2021, the issue only appeared when I used OpenJDK language version 16. It worked when I downgraded to a lower version. I am guessing this is because OpenJDK made this: <a href=\"https://openjdk.java.net/jeps/396\" rel=\"nofollow noreferrer\">JEP 396: Strongly Encapsulate JDK Internals by Default</a></p>\n"},{"tags":[],"owner":{"account_id":19665519,"reputation":21,"user_id":14396065,"display_name":"Shay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646268480,"creation_date":1646268480,"answer_id":71330883,"question_id":41265266,"body_markdown":"I spent a lot of time today trying to get around adding the --add-opens JVM option.  Upgrading to SpringBoot 2.6.4 (which if you&#39;re using dependency management, will upgrade to spring framework 5.3.16) fixed the issue without adding the JVM option.\r\n\r\nhttps://stackoverflow.com/a/71330846/14396065","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>I spent a lot of time today trying to get around adding the --add-opens JVM option.  Upgrading to SpringBoot 2.6.4 (which if you're using dependency management, will upgrade to spring framework 5.3.16) fixed the issue without adding the JVM option.</p>\n<p><a href=\"https://stackoverflow.com/a/71330846/14396065\">https://stackoverflow.com/a/71330846/14396065</a></p>\n"},{"tags":[],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666076356,"creation_date":1666076356,"answer_id":74106907,"question_id":41265266,"body_markdown":"After Java modularization, some jdk internal classes cannot be accessed, so they will report errors directly. So, you need to add below option in VM config when executing the Java program:\r\n\r\nFor Intellij users follow steps: **edit run/debug configuration -&gt; add the below option in VM options:**\r\n\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nThis link might be helpful: [upgrading to Java 17][1]\r\n\r\n\r\n  [1]: https://segmentfault.com/a/1190000040985737/en","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>After Java modularization, some jdk internal classes cannot be accessed, so they will report errors directly. So, you need to add below option in VM config when executing the Java program:</p>\n<p>For Intellij users follow steps: <strong>edit run/debug configuration -&gt; add the below option in VM options:</strong></p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>This link might be helpful: <a href=\"https://segmentfault.com/a/1190000040985737/en\" rel=\"noreferrer\">upgrading to Java 17</a></p>\n"},{"tags":[],"owner":{"account_id":3245756,"reputation":515,"user_id":2737403,"accept_rate":86,"display_name":"virusdefender"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677661291,"creation_date":1677661291,"answer_id":75601493,"question_id":41265266,"body_markdown":"you can use `Unsafe` to bypass, for example\r\n\r\n```java\r\nimport sun.misc.Unsafe;\r\n\r\nimport java.lang.reflect.Field;\r\n\r\nclass Scratch {\r\n\r\n  private static Unsafe reflectGetUnsafe() {\r\n    try {\r\n      Field field = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n      field.setAccessible(true);\r\n      return (Unsafe) field.get(null);\r\n    } catch (Exception e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n    public static void main (String[]args) throws Exception {\r\n      Class&lt;?&gt; clazz = Class.forName(&quot;java.lang.ApplicationShutdownHooks&quot;);\r\n      Field field = clazz.getDeclaredField(&quot;hooks&quot;);\r\n      // this method can not be used in Java 9+ with java modules\r\n      // Unable to make field private static java.util.IdentityHashMap java.lang.ApplicationShutdownHooks.hooks accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @452b3a41\r\n      // field.setAccessible(true);\r\n\r\n      Unsafe safe = reflectGetUnsafe();\r\n      Object m = safe.getObject(clazz, safe.staticFieldOffset(field));\r\n      System.out.println(m.getClass().toString());\r\n    }\r\n}\r\n```\r\n\r\nReference: https://xz.aliyun.com/t/10075","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>you can use <code>Unsafe</code> to bypass, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>import sun.misc.Unsafe;\n\nimport java.lang.reflect.Field;\n\nclass Scratch {\n\n  private static Unsafe reflectGetUnsafe() {\n    try {\n      Field field = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n      field.setAccessible(true);\n      return (Unsafe) field.get(null);\n    } catch (Exception e) {\n      return null;\n    }\n  }\n\n    public static void main (String[]args) throws Exception {\n      Class&lt;?&gt; clazz = Class.forName(&quot;java.lang.ApplicationShutdownHooks&quot;);\n      Field field = clazz.getDeclaredField(&quot;hooks&quot;);\n      // this method can not be used in Java 9+ with java modules\n      // Unable to make field private static java.util.IdentityHashMap java.lang.ApplicationShutdownHooks.hooks accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @452b3a41\n      // field.setAccessible(true);\n\n      Unsafe safe = reflectGetUnsafe();\n      Object m = safe.getObject(clazz, safe.staticFieldOffset(field));\n      System.out.println(m.getClass().toString());\n    }\n}\n</code></pre>\n<p>Reference: <a href=\"https://xz.aliyun.com/t/10075\" rel=\"nofollow noreferrer\">https://xz.aliyun.com/t/10075</a></p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695394358,"post_id":76617686,"comment_id":136022936,"body_markdown":"Unclear which of these you set. Sounds like you downgraded from 11 to 8? That will delay the problem, until you later decide to upgrade Java, not fix it.","body":"Unclear which of these you set. Sounds like you downgraded from 11 to 8? That will delay the problem, until you later decide to upgrade Java, not fix it."}],"tags":[],"owner":{"account_id":27228880,"reputation":1,"user_id":20756925,"display_name":"Aiman Sharief"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695394333,"creation_date":1688539462,"answer_id":76617686,"question_id":41265266,"body_markdown":"exporting the java version solved this issue for me\r\n \r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\r\n```\r\n\r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home -v 11.0.11)\r\n```","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>exporting the java version solved this issue for me</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\n</code></pre>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 11.0.11)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696510877,"creation_date":1692892248,"answer_id":76971008,"question_id":41265266,"body_markdown":"**NOTE: only for legacy situations, do not use in any other case.**\r\n\r\nI bumped into this problem during testing. I&#39;m using shazamcrest in combination with jMock. This is very handy but shazamcrest is using gson which in turn uses some approach to compare objects that cases this error.\r\n\r\nI added the earlier already suggestion solution to my Maven pom.xml in the surefire plugin configuration like this:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;!-- The add-opens are for shazamcrest that uses gson for random classes --&gt;\r\n        &lt;argLine&gt;\r\n            --add-opens java.base/java.time=ALL-UNNAMED\r\n            --add-opens java.base/java.math=ALL-UNNAMED\r\n            --add-opens java.base/java.lang=ALL-UNNAMED\r\n            --add-opens java.base/java.lang.reflect=ALL-UNNAMED\r\n        &lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThis solved the problem.\r\n\r\nThe only problem left was that running these tests inside Eclipse still poses a challenge. For this I had the add the same settings in the &quot;Run configuration&quot; in the JVM arguments.","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p><strong>NOTE: only for legacy situations, do not use in any other case.</strong></p>\n<p>I bumped into this problem during testing. I'm using shazamcrest in combination with jMock. This is very handy but shazamcrest is using gson which in turn uses some approach to compare objects that cases this error.</p>\n<p>I added the earlier already suggestion solution to my Maven pom.xml in the surefire plugin configuration like this:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;!-- The add-opens are for shazamcrest that uses gson for random classes --&gt;\n    &lt;argLine&gt;\n        --add-opens java.base/java.time=ALL-UNNAMED\n        --add-opens java.base/java.math=ALL-UNNAMED\n        --add-opens java.base/java.lang=ALL-UNNAMED\n        --add-opens java.base/java.lang.reflect=ALL-UNNAMED\n    &lt;/argLine&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This solved the problem.</p>\n<p>The only problem left was that running these tests inside Eclipse still poses a challenge. For this I had the add the same settings in the &quot;Run configuration&quot; in the JVM arguments.</p>\n"}],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279859,"favorite_count":0,"down_vote_count":0,"up_vote_count":216,"accepted_answer_id":41265267,"answer_count":21,"score":216,"last_activity_date":1696510877,"creation_date":1482330880,"question_id":41265266,"body_markdown":"This exception occurs in a wide variety of scenarios when running an application on Java 9.\r\nCertain libraries and frameworks (Spring, Hibernate, JAXB) are particularly prone to it.\r\nHere&#39;s an example from Javassist:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1941a8ff\r\n        at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\r\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:192)\r\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:186)\r\n        at javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:102)\r\n        at javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:180)\r\n        at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:163)\r\n        at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:501)\r\n        at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:486)\r\n        at javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:422)\r\n        at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:394)\r\n\r\nThe message says:\r\n\r\n&gt;  Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1941a8ff\r\n\r\nWhat can be done to avoid the exception and have the program run successfully?\r\n","title":"How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?","body":"<p>This exception occurs in a wide variety of scenarios when running an application on Java 9.\nCertain libraries and frameworks (Spring, Hibernate, JAXB) are particularly prone to it.\nHere's an example from Javassist:</p>\n\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not \"opens java.lang\" to unnamed module @1941a8ff\n    at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:192)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:186)\n    at javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:102)\n    at javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:180)\n    at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:163)\n    at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:501)\n    at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:486)\n    at javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:422)\n    at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:394)\n</code></pre>\n\n<p>The message says:</p>\n\n<blockquote>\n  <p>Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not \"opens java.lang\" to unnamed module @1941a8ff</p>\n</blockquote>\n\n<p>What can be done to avoid the exception and have the program run successfully?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":274928,"reputation":1399,"user_id":567461,"display_name":"Ed Ost"},"score":0,"creation_date":1604173280,"post_id":61995150,"comment_id":114268257,"body_markdown":"i am trying to do the same thing, connect from a kafka client in windows to a kafka instance running in WSL2.  I get a similar error.  But I do not have the option of running my client in wsl2 since it is a windows app.  Does anyone know how to fix / configure this scenario so a windows kafka client can connect to a wsl2 kafka server?","body":"i am trying to do the same thing, connect from a kafka client in windows to a kafka instance running in WSL2.  I get a similar error.  But I do not have the option of running my client in wsl2 since it is a windows app.  Does anyone know how to fix / configure this scenario so a windows kafka client can connect to a wsl2 kafka server?"},{"owner":{"account_id":5994947,"reputation":71,"user_id":5227615,"display_name":"Augusto Acioli Pinho Vanderley"},"score":0,"creation_date":1605248408,"post_id":61995150,"comment_id":114600995,"body_markdown":"I had the same problem. I could only fix it by going back to wsl1, instead of wsl2. Seems like wsl2 is not able to connect to windows localhost.","body":"I had the same problem. I could only fix it by going back to wsl1, instead of wsl2. Seems like wsl2 is not able to connect to windows localhost."}],"answers":[{"tags":[],"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1590395229,"creation_date":1590395229,"answer_id":61998545,"question_id":61995150,"body_markdown":"Sorry for the false alarm. My issue was somewhat linked to WSL2 - I was starting my ZK and Kafka Broker in WSL2 in the linux distro but was mistakenly trying to access the broker from a Java App running in Windows ! \r\n\r\nWhen I try to run that Java app from Linux itself. It works ! ","title":"Kafka Producer Not Able to connect via Code","body":"<p>Sorry for the false alarm. My issue was somewhat linked to WSL2 - I was starting my ZK and Kafka Broker in WSL2 in the linux distro but was mistakenly trying to access the broker from a Java App running in Windows ! </p>\n\n<p>When I try to run that Java app from Linux itself. It works ! </p>\n"},{"comments":[{"owner":{"account_id":1751527,"reputation":627,"user_id":1600502,"accept_rate":40,"display_name":"ManishS"},"score":0,"creation_date":1696685989,"post_id":77237356,"comment_id":136186764,"body_markdown":"Disabling IPV6 Worked!!! Had exactly the same issue. installed Confluent Kafka in Windows using WSL2 and i was unable to Connect with the Spring boot consumer.","body":"Disabling IPV6 Worked!!! Had exactly the same issue. installed Confluent Kafka in Windows using WSL2 and i was unable to Connect with the Spring boot consumer."}],"tags":[],"owner":{"account_id":1486069,"reputation":71,"user_id":1394327,"display_name":"AndreyCh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696510874,"creation_date":1696510874,"answer_id":77237356,"question_id":61995150,"body_markdown":"I had the same issue when I tried to connect to the Kafka Broker running under WSL2, from the IntelliJ Java application running on Windows.\r\n\r\nIn such a case, the solution is to disable IPv6 in WSL2 for this to work properly. \r\nPer official Kafka&#39;s installation tutorial for WSL2 on Windows guidance:\r\n\r\n&gt; WSL2 currently has a [networking issue][1] that prevents outside programs to connect to Kafka running on WSL2 (for example your Java programs, Conduktor, etc...);\r\nTo fix this, we recommend disabling IPv6 on WSL2. Your Windows password will be prompted on the first command:\r\n\r\n    sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\r\n    sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\r\n\r\nhttps://www.conduktor.io/kafka/how-to-install-apache-kafka-on-windows/\r\n\r\n\r\n  [1]: https://github.com/microsoft/WSL/issues/4851","title":"Kafka Producer Not Able to connect via Code","body":"<p>I had the same issue when I tried to connect to the Kafka Broker running under WSL2, from the IntelliJ Java application running on Windows.</p>\n<p>In such a case, the solution is to disable IPv6 in WSL2 for this to work properly.\nPer official Kafka's installation tutorial for WSL2 on Windows guidance:</p>\n<blockquote>\n<p>WSL2 currently has a <a href=\"https://github.com/microsoft/WSL/issues/4851\" rel=\"nofollow noreferrer\">networking issue</a> that prevents outside programs to connect to Kafka running on WSL2 (for example your Java programs, Conduktor, etc...);\nTo fix this, we recommend disabling IPv6 on WSL2. Your Windows password will be prompted on the first command:</p>\n</blockquote>\n<pre><code>sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\nsudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\n</code></pre>\n<p><a href=\"https://www.conduktor.io/kafka/how-to-install-apache-kafka-on-windows/\" rel=\"nofollow noreferrer\">https://www.conduktor.io/kafka/how-to-install-apache-kafka-on-windows/</a></p>\n"}],"owner":{"account_id":931580,"reputation":474,"user_id":961380,"accept_rate":29,"display_name":"Agraj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2056,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61998545,"answer_count":2,"score":3,"last_activity_date":1696510874,"creation_date":1590376106,"question_id":61995150,"body_markdown":"I&#39;m unable to connect to my locally running Kafka instance via code - I can connect successfully using Kafka-Console-Producer and Kafka-Console-Consumer but when I use Kafka Java SDK and simply use the Java Producer to connect to &amp; produce any message, it fails with the following error:\r\n\r\n    [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n    [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n    [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n    [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n    [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n    [kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n    \r\n\r\nNot sure if that matters but I&#39;m using WSL2 on Windows and Kafka 2.12-2.5.0 to test this.\r\nHow can I enable more verbose logging and debug this ?\r\n\r\nSnippet of my Producer code\r\n\r\n    Properties properties = new Properties();\r\n    properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n    properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n    properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n    \r\n    ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(&quot;first_topic&quot;,&quot;first_value&quot;);\r\n    \r\n    KafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;String, String&gt;(properties);\r\n    kafkaProducer.send(record);\r\n\r\n","title":"Kafka Producer Not Able to connect via Code","body":"<p>I'm unable to connect to my locally running Kafka instance via code - I can connect successfully using Kafka-Console-Producer and Kafka-Console-Consumer but when I use Kafka Java SDK and simply use the Java Producer to connect to &amp; produce any message, it fails with the following error:</p>\n\n<pre><code>[Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n</code></pre>\n\n<p>Not sure if that matters but I'm using WSL2 on Windows and Kafka 2.12-2.5.0 to test this.\nHow can I enable more verbose logging and debug this ?</p>\n\n<p>Snippet of my Producer code</p>\n\n<pre><code>Properties properties = new Properties();\nproperties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\nproperties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\nproperties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n\nProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;String, String&gt;(\"first_topic\",\"first_value\");\n\nKafkaProducer&lt;String, String&gt; kafkaProducer = new KafkaProducer&lt;String, String&gt;(properties);\nkafkaProducer.send(record);\n</code></pre>\n"},{"tags":["java","logging","log4j2"],"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696510828,"creation_date":1696491600,"question_id":77235099,"body_markdown":"I have many logger names following some naming convention like in the following examples:\r\n\r\n* org.example.unique_phrase.foo\r\n* org.example.unique_phrase.bar\r\n* org.example.foo.unique_phrase.bar\r\n* org.example.bar.unique_phrase.foo\r\n\r\nThe goal is to configure one file appender for all packages/logger names containing `unique_phrase`. At the same time I would like to keep the possibility for more fine grained configs with possible different appenders for different packages of the above example. The only solution I know of is really configuring all individual logger names/packages with the same appender. Would be easier if logger names would support some concept of globs or regular expressions, so one might only use the following name:\r\n\r\n* org.example.\\*.unique_phrase.\\*\r\n\r\nIs something like that possible, either out-of-the-box or possibly some plugin or ...?","title":"Does log4j2 support globs or regular expression in logger names in config files?","body":"<p>I have many logger names following some naming convention like in the following examples:</p>\n<ul>\n<li>org.example.unique_phrase.foo</li>\n<li>org.example.unique_phrase.bar</li>\n<li>org.example.foo.unique_phrase.bar</li>\n<li>org.example.bar.unique_phrase.foo</li>\n</ul>\n<p>The goal is to configure one file appender for all packages/logger names containing <code>unique_phrase</code>. At the same time I would like to keep the possibility for more fine grained configs with possible different appenders for different packages of the above example. The only solution I know of is really configuring all individual logger names/packages with the same appender. Would be easier if logger names would support some concept of globs or regular expressions, so one might only use the following name:</p>\n<ul>\n<li>org.example.*.unique_phrase.*</li>\n</ul>\n<p>Is something like that possible, either out-of-the-box or possibly some plugin or ...?</p>\n"},{"tags":["java","kotlin","ocr","tesseract","tesseract-5.x"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696515418,"post_id":77237320,"comment_id":136165474,"body_markdown":"Copy it to where it&#39;s expecting to find it?","body":"Copy it to where it&#39;s expecting to find it?"}],"owner":{"account_id":22215427,"reputation":153,"user_id":16453946,"display_name":"Ricardo de Vries"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696510561,"creation_date":1696510561,"question_id":77237320,"body_markdown":"I am trying to run a Kotlin program on my local MacBook where I&#39;m using Tesseract OCR.\r\n\r\nI have set in my POM, and installed it both via Homebrew and MacPorts.\r\n\r\nNow for some reason I keep getting an error while running the application stating /usr/lib/libleptonica.6.dylib can not be found. Now I checked where the libleptonica.6.dylib file actually is, and it&#39;s in some homebrew folder.\r\n\r\nDoes anyone know how I can fix this? I don&#39;t want to meddle around in the files too much, and I also don&#39;t have a clue what I should do anyhow.\r\n\r\nI&#39;m using the lastest version of Tesseract.\r\n\r\nBelow is the entire error log:\r\n\r\n```java.lang.UnsatisfiedLinkError: dlopen(/Users/xxx/Library/Caches/JNA/temp/jna2981618530441004694.tmp, 0x0009): Library not loaded: @loader_path/../../../../opt/leptonica/lib/libleptonica.6.dylib\r\n  Referenced from: &lt;4D3F412E-DC28-3E28-8820-A02516348BE4&gt; /Users/xxx/Library/Caches/JNA/temp/jna2981618530441004694.tmp\r\n  Reason: tried: &#39;/Users/xxx/Library/Caches/JNA/temp/../../../../opt/leptonica/lib/libleptonica.6.dylib&#39; (no such file), &#39;/usr/lib/libleptonica.6.dylib&#39; (no such file, not in dyld cache)\r\n\tat com.sun.jna.Native.open(Native Method)\r\n\tat com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:298)\r\n\tat com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:483)\r\n\tat com.sun.jna.Native.register(Native.java:1774)\r\n\tat com.sun.jna.Native.register(Native.java:1493)\r\n\tat net.sourceforge.tess4j.TessAPI1.&lt;clinit&gt;(TessAPI1.java:41)\r\n\tat PagesProcessor.&lt;init&gt;(PipelineV2.kt:271)\r\n\tat SingleBatchPipeline.&lt;init&gt;(PipelineV2.kt:142)\r\n\tat Main.main$lambda$6$lambda$5(PipelineV2.kt:95)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)```","title":"Using Tesseract OCR locally from a Mac","body":"<p>I am trying to run a Kotlin program on my local MacBook where I'm using Tesseract OCR.</p>\n<p>I have set in my POM, and installed it both via Homebrew and MacPorts.</p>\n<p>Now for some reason I keep getting an error while running the application stating /usr/lib/libleptonica.6.dylib can not be found. Now I checked where the libleptonica.6.dylib file actually is, and it's in some homebrew folder.</p>\n<p>Does anyone know how I can fix this? I don't want to meddle around in the files too much, and I also don't have a clue what I should do anyhow.</p>\n<p>I'm using the lastest version of Tesseract.</p>\n<p>Below is the entire error log:</p>\n<pre><code>  Referenced from: &lt;4D3F412E-DC28-3E28-8820-A02516348BE4&gt; /Users/xxx/Library/Caches/JNA/temp/jna2981618530441004694.tmp\n  Reason: tried: '/Users/xxx/Library/Caches/JNA/temp/../../../../opt/leptonica/lib/libleptonica.6.dylib' (no such file), '/usr/lib/libleptonica.6.dylib' (no such file, not in dyld cache)\n    at com.sun.jna.Native.open(Native Method)\n    at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:298)\n    at com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:483)\n    at com.sun.jna.Native.register(Native.java:1774)\n    at com.sun.jna.Native.register(Native.java:1493)\n    at net.sourceforge.tess4j.TessAPI1.&lt;clinit&gt;(TessAPI1.java:41)\n    at PagesProcessor.&lt;init&gt;(PipelineV2.kt:271)\n    at SingleBatchPipeline.&lt;init&gt;(PipelineV2.kt:142)\n    at Main.main$lambda$6$lambda$5(PipelineV2.kt:95)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)```\n</code></pre>\n"},{"tags":["java","netbeans","classpath"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1564490774,"post_id":7598623,"comment_id":101042023,"body_markdown":"Note that none of the currently posted answers answer the actual question asked by OP.","body":"Note that none of the currently posted answers answer the actual question asked by OP."}],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"comment_count":0,"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1465143584,"creation_date":1317305835,"answer_id":7598688,"question_id":7598623,"body_markdown":"1. Right-click your Project.\r\n2. Select `Properties`.\r\n3. On the left-hand side click `Libraries`.\r\n4. Under `Compile tab` - click `Add Jar/Folder` button.\r\n\r\n\r\nOr\r\n\r\n1. Expand your Project.\r\n2. Right-click `Libraries`.\r\n3. Select `Add Jar/Folder`.","title":"How do I set the classpath in NetBeans?","body":"<ol>\n<li>Right-click your Project.</li>\n<li>Select <code>Properties</code>.</li>\n<li>On the left-hand side click <code>Libraries</code>.</li>\n<li>Under <code>Compile tab</code> - click <code>Add Jar/Folder</code> button.</li>\n</ol>\n\n<p>Or</p>\n\n<ol>\n<li>Expand your Project.</li>\n<li>Right-click <code>Libraries</code>.</li>\n<li>Select <code>Add Jar/Folder</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1439963952,"creation_date":1439961708,"answer_id":32087093,"question_id":7598623,"body_markdown":"# Maven\r\n\r\nThe [Answer by Bhesh Gurung][1] is correct… unless your NetBeans project is [Maven][2] based.\r\n\r\n## Dependency\r\n\r\nUnder Maven, you add a &quot;dependency&quot;. A dependency is a description of a library (its name &amp; version number) you want to use from your code. \r\n\r\nOr a dependency could be a description of a library which another library needs (&quot;depends on&quot;). Maven automatically handles this chain, libraries that need other libraries that then need other libraries and so on. For the mathematical-minded, perhaps the phrase &quot;Maven resolves the transitive dependencies&quot; makes sense.\r\n\r\n## Repository\r\n\r\nMaven gets this related-ness information, and the libraries themselves from a [Maven repository][3]. A repository is basically an online database and collection of download files (the dependency library).\r\n\r\n# Easy to Use\r\n\r\nAdding a dependency to a Maven-based project is really quite easy. That is the whole point to Maven, to make managing dependent libraries easy and to make building them into your project easy. To get started with adding a dependency, see this Question, [Adding dependencies in Maven Netbeans][4] and [my Answer][5] with [screenshot][6].\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7598688/642706\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [3]: https://maven.apache.org/guides/introduction/introduction-to-repositories.html\r\n  [4]: https://stackoverflow.com/q/6819317/642706\r\n  [5]: https://stackoverflow.com/a/21493665/642706\r\n  [6]: http://i.stack.imgur.com/mHBDP.png","title":"How do I set the classpath in NetBeans?","body":"<h1>Maven</h1>\n\n<p>The <a href=\"https://stackoverflow.com/a/7598688/642706\">Answer by Bhesh Gurung</a> is correct… unless your NetBeans project is <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"noreferrer\">Maven</a> based.</p>\n\n<h2>Dependency</h2>\n\n<p>Under Maven, you add a \"dependency\". A dependency is a description of a library (its name &amp; version number) you want to use from your code. </p>\n\n<p>Or a dependency could be a description of a library which another library needs (\"depends on\"). Maven automatically handles this chain, libraries that need other libraries that then need other libraries and so on. For the mathematical-minded, perhaps the phrase \"Maven resolves the transitive dependencies\" makes sense.</p>\n\n<h2>Repository</h2>\n\n<p>Maven gets this related-ness information, and the libraries themselves from a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"noreferrer\">Maven repository</a>. A repository is basically an online database and collection of download files (the dependency library).</p>\n\n<h1>Easy to Use</h1>\n\n<p>Adding a dependency to a Maven-based project is really quite easy. That is the whole point to Maven, to make managing dependent libraries easy and to make building them into your project easy. To get started with adding a dependency, see this Question, <a href=\"https://stackoverflow.com/q/6819317/642706\">Adding dependencies in Maven Netbeans</a> and <a href=\"https://stackoverflow.com/a/21493665/642706\">my Answer</a> with <a href=\"https://i.stack.imgur.com/mHBDP.png\" rel=\"noreferrer\">screenshot</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mHBDP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mHBDP.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696510432,"creation_date":1696510432,"answer_id":77237301,"question_id":7598623,"body_markdown":"So, the actual answer to this question is :\r\n*for netbeans 8.2*\r\n\r\n 1. open netbeans\r\n 2. navigate to tools &gt; options &gt; java tab\r\n 3. in the Classpath text box, enter the path to the JDK folder of choice.\r\n\r\nThe path will be something along the lines of C:\\program Files\\Java\\......\r\n\r\nThe accepted answer is the process when you want to add a jar file to a specific project","title":"How do I set the classpath in NetBeans?","body":"<p>So, the actual answer to this question is :\n<em>for netbeans 8.2</em></p>\n<ol>\n<li>open netbeans</li>\n<li>navigate to tools &gt; options &gt; java tab</li>\n<li>in the Classpath text box, enter the path to the JDK folder of choice.</li>\n</ol>\n<p>The path will be something along the lines of C:\\program Files\\Java......</p>\n<p>The accepted answer is the process when you want to add a jar file to a specific project</p>\n"}],"owner":{"account_id":451722,"reputation":15865,"user_id":847773,"accept_rate":69,"display_name":"Borut Flis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154595,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":7598688,"answer_count":3,"score":46,"last_activity_date":1696510432,"creation_date":1317305519,"question_id":7598623,"body_markdown":"Can someone tell me where and how I set the classpath in NetBeans? I would like to add a .jar file.","title":"How do I set the classpath in NetBeans?","body":"<p>Can someone tell me where and how I set the classpath in NetBeans? I would like to add a .jar file.</p>\n"},{"tags":["java","docker","kotlin","flyway","ktor"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696432011,"post_id":77228513,"comment_id":136152692,"body_markdown":"You should take a look at the actual contents of your fat jar (from the Dockerfile, I guess its `x.jar`). Does it contain both the expected dependencies and the migration files?","body":"You should take a look at the actual contents of your fat jar (from the Dockerfile, I guess its <code>x.jar</code>). Does it contain both the expected dependencies and the migration files?"},{"owner":{"account_id":15890746,"reputation":41,"user_id":11465945,"display_name":"Anton"},"score":0,"creation_date":1696509156,"post_id":77228513,"comment_id":136163854,"body_markdown":"Thank you for reading the question and for the debug step. There indeed was a problem with building the jar. Although the problem was with the META-INF/services directory. I was really not even aware about service loaders in Java before this problem","body":"Thank you for reading the question and for the debug step. There indeed was a problem with building the jar. Although the problem was with the META-INF/services directory. I was really not even aware about service loaders in Java before this problem"}],"answers":[{"tags":[],"owner":{"account_id":15890746,"reputation":41,"user_id":11465945,"display_name":"Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696509621,"creation_date":1696508938,"answer_id":77237118,"question_id":77228513,"body_markdown":"The problem was with building the fat jar. The problem was that the necessary plugins were not added to the META-INF/services/org.flywaydb.core.extensibility.Plugin file. I fixed it by using the shadowjar plugin with the configuration mergeServiceFiles(). I pushed the fixed version to the original repo https://github.com/Skarpton/flyway-docker-problem","title":"Flyway unrecognised migration name format when run in docker","body":"<p>The problem was with building the fat jar. The problem was that the necessary plugins were not added to the META-INF/services/org.flywaydb.core.extensibility.Plugin file. I fixed it by using the shadowjar plugin with the configuration mergeServiceFiles(). I pushed the fixed version to the original repo <a href=\"https://github.com/Skarpton/flyway-docker-problem\" rel=\"nofollow noreferrer\">https://github.com/Skarpton/flyway-docker-problem</a></p>\n"}],"owner":{"account_id":15890746,"reputation":41,"user_id":11465945,"display_name":"Anton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77237118,"answer_count":1,"score":0,"last_activity_date":1696509621,"creation_date":1696412943,"question_id":77228513,"body_markdown":"When run from the IDE the migrations are fine\r\n\r\nOutput: \r\n\r\n```\r\nINFO: Successfully applied 1 migration to schema `db`, now at version v1\r\n```\r\n\r\n\r\nBut when I run the application from a container then\r\nOutput:\r\n\r\n```\r\nexample  | Exception in thread &quot;main&quot; \r\nexample  | org.flywaydb.core.api.FlywayException: Invalid SQL filenames found:\r\nexample  | Unrecognised migration name format: V1__Example.sql\r\n```\r\n\r\n\r\nI have tried different Java versions. Going into the container itself and looking at the migration file, it looked ok.  Maybe I can get some ideas from here?\r\n\r\nExample code to reproduce the problem:\r\n\r\nApplikation.kt\r\n\r\n```\r\npackage com.example\r\nimport com.mysql.cj.jdbc.MysqlDataSource\r\nimport com.typesafe.config.ConfigFactory\r\nimport io.ktor.server.application.*\r\nimport io.ktor.server.engine.*\r\nimport io.ktor.server.netty.*\r\nimport org.flywaydb.core.Flyway\r\n\r\nfun main() {\r\n    embeddedServer(Netty, port = 8080, host = &quot;0.0.0.0&quot;, module = Application::module)\r\n        .start(wait = true)\r\n}\r\n\r\nfun Application.module() {\r\n    val conf = ConfigFactory.load()\r\n    val mysqlDataSource = MysqlDataSource()\r\n    mysqlDataSource.setURL(conf.getString(&quot;database.url&quot;))\r\n\r\n    Flyway.configure().dataSource(\r\n        mysqlDataSource\r\n    )\r\n        .validateMigrationNaming(true)\r\n        .load()\r\n        .migrate()\r\n}\r\n```\r\n\r\nDockerfile\r\n\r\n```\r\nFROM gradle:7-jdk11 AS build\r\nCOPY --chown=gradle:gradle . /home/gradle/src\r\nWORKDIR /home/gradle/src\r\nRUN gradle buildFatJar --no-daemon\r\n\r\nFROM eclipse-temurin:11-jdk\r\nEXPOSE 8080:8080\r\nRUN mkdir /app\r\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/x.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app/x.jar&quot;]\r\n```\r\n\r\ndocker-compose.yml\r\n\r\n```\r\nversion: &#39;3.5&#39;\r\nservices:\r\n  db:\r\n    image: mysql:8.0\r\n    container_name: db\r\n    restart: always\r\n    command: --default-authentication-plugin=caching_sha2_password\r\n    environment:\r\n      MYSQL_DATABASE: ${MYSQL_DB}\r\n      MYSQL_USER: ${MYSQL_USER}\r\n      MYSQL_PASSWORD: ${MYSQL_PASSWORD}\r\n      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}\r\n    ports:\r\n      - ${MYSQL_PORT}:${MYSQL_PORT}\r\n    expose:\r\n      - ${MYSQL_PORT}\r\n    healthcheck:\r\n      test: mysqladmin ping -h 127.0.0.1 -u $$MYSQL_USER --password=$$MYSQL_PASSWORD\r\n      interval: 5s\r\n      timeout: 5s\r\n      retries: 55\r\n  api:\r\n    image:  example:test\r\n    container_name: example\r\n    ports:\r\n      - &#39;8080:8080&#39;\r\n    expose:\r\n      - &#39;8080&#39;\r\n    env_file: .env\r\n    depends_on:\r\n      db:\r\n        condition: service_healthy\r\n```\r\n\r\ndependencies\r\n\r\n```\r\ndependencies {\r\n    implementation(&quot;io.ktor:ktor-server-core-jvm&quot;)\r\n    implementation(&quot;io.ktor:ktor-server-netty-jvm&quot;)\r\n    implementation(&quot;org.flywaydb:flyway-core:9.20.0&quot;)\r\n    implementation(&quot;org.flywaydb:flyway-mysql:9.20.0&quot;)\r\n    implementation(&quot;mysql:mysql-connector-java:8.0.33&quot;)\r\n}\r\n```\r\n\r\nYou can see the full code in https://github.com/Skarpton/flyway-docker-problem\r\n\r\n# Update: #\r\n\r\nIt looks like in docker the program cannot find any ResourceTypeProvider. This means that there are no prefixes configured.\r\n\r\n\r\n\r\nCode:\r\n\r\n```\r\nfun Application.module() {\r\n    val conf = ConfigFactory.load()\r\n    val mysqlDataSource = MysqlDataSource()\r\n    mysqlDataSource.setURL(conf.getString(&quot;database.url&quot;))\r\n\r\n    val load = Flyway.configure().dataSource(\r\n        mysqlDataSource\r\n    )\r\n        .validateMigrationNaming(true)\r\n        .load()\r\n    print(load.configuration.pluginRegister.getPlugins(ResourceTypeProvider::class.java)). //this is the interesting line\r\n    load.migrate()\r\n\r\n}\r\n```\r\n\r\nOutputs in ide:\r\n\r\n[org.flywaydb.core.internal.resource.CoreResourceTypeProvider@2381b1e8]\r\n\r\nIn docker:\r\n\r\n[]","title":"Flyway unrecognised migration name format when run in docker","body":"<p>When run from the IDE the migrations are fine</p>\n<p>Output:</p>\n<pre><code>INFO: Successfully applied 1 migration to schema `db`, now at version v1\n</code></pre>\n<p>But when I run the application from a container then\nOutput:</p>\n<pre><code>example  | Exception in thread &quot;main&quot; \nexample  | org.flywaydb.core.api.FlywayException: Invalid SQL filenames found:\nexample  | Unrecognised migration name format: V1__Example.sql\n</code></pre>\n<p>I have tried different Java versions. Going into the container itself and looking at the migration file, it looked ok.  Maybe I can get some ideas from here?</p>\n<p>Example code to reproduce the problem:</p>\n<p>Applikation.kt</p>\n<pre><code>package com.example\nimport com.mysql.cj.jdbc.MysqlDataSource\nimport com.typesafe.config.ConfigFactory\nimport io.ktor.server.application.*\nimport io.ktor.server.engine.*\nimport io.ktor.server.netty.*\nimport org.flywaydb.core.Flyway\n\nfun main() {\n    embeddedServer(Netty, port = 8080, host = &quot;0.0.0.0&quot;, module = Application::module)\n        .start(wait = true)\n}\n\nfun Application.module() {\n    val conf = ConfigFactory.load()\n    val mysqlDataSource = MysqlDataSource()\n    mysqlDataSource.setURL(conf.getString(&quot;database.url&quot;))\n\n    Flyway.configure().dataSource(\n        mysqlDataSource\n    )\n        .validateMigrationNaming(true)\n        .load()\n        .migrate()\n}\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM gradle:7-jdk11 AS build\nCOPY --chown=gradle:gradle . /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle buildFatJar --no-daemon\n\nFROM eclipse-temurin:11-jdk\nEXPOSE 8080:8080\nRUN mkdir /app\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/x.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app/x.jar&quot;]\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: '3.5'\nservices:\n  db:\n    image: mysql:8.0\n    container_name: db\n    restart: always\n    command: --default-authentication-plugin=caching_sha2_password\n    environment:\n      MYSQL_DATABASE: ${MYSQL_DB}\n      MYSQL_USER: ${MYSQL_USER}\n      MYSQL_PASSWORD: ${MYSQL_PASSWORD}\n      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}\n    ports:\n      - ${MYSQL_PORT}:${MYSQL_PORT}\n    expose:\n      - ${MYSQL_PORT}\n    healthcheck:\n      test: mysqladmin ping -h 127.0.0.1 -u $$MYSQL_USER --password=$$MYSQL_PASSWORD\n      interval: 5s\n      timeout: 5s\n      retries: 55\n  api:\n    image:  example:test\n    container_name: example\n    ports:\n      - '8080:8080'\n    expose:\n      - '8080'\n    env_file: .env\n    depends_on:\n      db:\n        condition: service_healthy\n</code></pre>\n<p>dependencies</p>\n<pre><code>dependencies {\n    implementation(&quot;io.ktor:ktor-server-core-jvm&quot;)\n    implementation(&quot;io.ktor:ktor-server-netty-jvm&quot;)\n    implementation(&quot;org.flywaydb:flyway-core:9.20.0&quot;)\n    implementation(&quot;org.flywaydb:flyway-mysql:9.20.0&quot;)\n    implementation(&quot;mysql:mysql-connector-java:8.0.33&quot;)\n}\n</code></pre>\n<p>You can see the full code in <a href=\"https://github.com/Skarpton/flyway-docker-problem\" rel=\"nofollow noreferrer\">https://github.com/Skarpton/flyway-docker-problem</a></p>\n<h1>Update:</h1>\n<p>It looks like in docker the program cannot find any ResourceTypeProvider. This means that there are no prefixes configured.</p>\n<p>Code:</p>\n<pre><code>fun Application.module() {\n    val conf = ConfigFactory.load()\n    val mysqlDataSource = MysqlDataSource()\n    mysqlDataSource.setURL(conf.getString(&quot;database.url&quot;))\n\n    val load = Flyway.configure().dataSource(\n        mysqlDataSource\n    )\n        .validateMigrationNaming(true)\n        .load()\n    print(load.configuration.pluginRegister.getPlugins(ResourceTypeProvider::class.java)). //this is the interesting line\n    load.migrate()\n\n}\n</code></pre>\n<p>Outputs in ide:</p>\n<p>[org.flywaydb.core.internal.resource.CoreResourceTypeProvider@2381b1e8]</p>\n<p>In docker:</p>\n<p>[]</p>\n"},{"tags":["java","hibernate","hql","jpql","dao"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":9,"creation_date":1401095812,"post_id":23866709,"comment_id":36735429,"body_markdown":"the issue is that you ask for a uniqueResult, meaning there may only be one row returned, but the query finds more than 1 result.","body":"the issue is that you ask for a uniqueResult, meaning there may only be one row returned, but the query finds more than 1 result."},{"owner":{"account_id":3860808,"reputation":5608,"user_id":3198603,"accept_rate":70,"display_name":"user3198603"},"score":7,"creation_date":1401095875,"post_id":23866709,"comment_id":36735466,"body_markdown":"but count(*) will always return only 1 row","body":"but count(*) will always return only 1 row"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1401096013,"post_id":23866709,"comment_id":36735554,"body_markdown":"I just told you what triggers a NonUniqueResultException. I agree that for a count it is weird, but still.\nhave you tried without the UniqueResult constraint?","body":"I just told you what triggers a NonUniqueResultException. I agree that for a count it is weird, but still. have you tried without the UniqueResult constraint?"},{"owner":{"account_id":3793595,"reputation":2392,"user_id":3149444,"accept_rate":56,"display_name":"Perimosh"},"score":0,"creation_date":1501331943,"post_id":23866709,"comment_id":77739232,"body_markdown":"What is CustomerData? Abstract class?","body":"What is CustomerData? Abstract class?"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":2,"creation_date":1503927467,"post_id":23866709,"comment_id":78799245,"body_markdown":"@user3198603 have you resolved the issue? Did you get the reason of problem?","body":"@user3198603 have you resolved the issue? Did you get the reason of problem?"},{"owner":{"account_id":3211936,"reputation":1508,"user_id":2711745,"accept_rate":50,"display_name":"MiguelKVidal"},"score":0,"creation_date":1506567262,"post_id":23866709,"comment_id":79875543,"body_markdown":"What&#39;s the Hibernate version?","body":"What&#39;s the Hibernate version?"},{"owner":{"account_id":11373431,"reputation":49,"user_id":8338411,"display_name":"Paul Kunda"},"score":0,"creation_date":1626943313,"post_id":23866709,"comment_id":121146876,"body_markdown":"As @Grox13 answered here [enter link description here](https://stackoverflow.com/a/40233705/8338411) Alternatively, If you are using `Optional&lt;&gt;` change it to `List&lt;&gt;`","body":"As @Grox13 answered here <a href=\"https://stackoverflow.com/a/40233705/8338411\">enter link description here</a> Alternatively, If you are using <code>Optional&lt;&gt;</code> change it to <code>List&lt;&gt;</code>"},{"owner":{"account_id":2356184,"reputation":1053,"user_id":2063921,"accept_rate":37,"display_name":"peter70"},"score":0,"creation_date":1667986299,"post_id":23866709,"comment_id":131296363,"body_markdown":"If you have more then one row in your query result, you should use f.e.: NHibernate.IQuery.ListAsync instead of UniqueResultAsync","body":"If you have more then one row in your query result, you should use f.e.: NHibernate.IQuery.ListAsync instead of UniqueResultAsync"},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1680794819,"post_id":23866709,"comment_id":133961309,"body_markdown":"Dou you have another class extending CustomerData ? Is this class also mapped?","body":"Dou you have another class extending CustomerData ? Is this class also mapped?"}],"answers":[{"tags":[],"owner":{"account_id":5850873,"reputation":9,"user_id":4609584,"display_name":"Maodo"},"comment_count":0,"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1424946230,"creation_date":1424943906,"answer_id":28739014,"question_id":23866709,"body_markdown":"First you must test the query list size; here a example:\r\n\r\n    long count;\r\n    if (query.list().size() &gt; 0)\r\n        count=(long) criteria.list().get(0);   \r\n    else\r\n        count=0;\t\t\t\r\n    return count;","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>First you must test the query list size; here a example:</p>\n\n<pre><code>long count;\nif (query.list().size() &gt; 0)\n    count=(long) criteria.list().get(0);   \nelse\n    count=0;            \nreturn count;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1477462802,"creation_date":1477379979,"answer_id":40233705,"question_id":23866709,"body_markdown":"It seems like your query returns more than one result check the database. In documentation of `query.uniqueResult()` you can read:\r\n\r\n&gt; Throws: org.hibernate.NonUniqueResultException - if there is more\r\n&gt; than one matching result\r\n\r\nIf you want to avoid this error and still use unique result request, you can use this kind of workaround `query.setMaxResults(1).uniqueResult();` ","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>It seems like your query returns more than one result check the database. In documentation of <code>query.uniqueResult()</code> you can read:</p>\n\n<blockquote>\n  <p>Throws: org.hibernate.NonUniqueResultException - if there is more\n  than one matching result</p>\n</blockquote>\n\n<p>If you want to avoid this error and still use unique result request, you can use this kind of workaround <code>query.setMaxResults(1).uniqueResult();</code> </p>\n"},{"tags":[],"owner":{"account_id":6329781,"reputation":1049,"user_id":4915001,"display_name":"rex roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524483663,"creation_date":1524483663,"answer_id":49980260,"question_id":23866709,"body_markdown":"It means that the query you wrote returns more than one element(result) while your code expects a single result.","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>It means that the query you wrote returns more than one element(result) while your code expects a single result.</p>\n"},{"comments":[{"owner":{"account_id":5207516,"reputation":887,"user_id":4164951,"accept_rate":51,"display_name":"Al Kasih"},"score":1,"creation_date":1628013870,"post_id":53535071,"comment_id":121307517,"body_markdown":"This should be the accapted answer. And count always return 1, no excuse.","body":"This should be the accapted answer. And count always return 1, no excuse."},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":1,"creation_date":1680794588,"post_id":53535071,"comment_id":133961244,"body_markdown":"This should be the accepted answer. Hibernate is probably doing a UNION with both classes CustomerData  and its child.","body":"This should be the accepted answer. Hibernate is probably doing a UNION with both classes CustomerData  and its child."}],"tags":[],"owner":{"account_id":1556298,"reputation":231,"user_id":1447284,"display_name":"Ian Wang"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1543481676,"creation_date":1543481676,"answer_id":53535071,"question_id":23866709,"body_markdown":"I don&#39;t think other answers explained the key part: why &quot;COUNT(*)&quot; returns more than one result?\r\n\r\nI just encountered the same issue today, and what I found out is that if you have another class extending the target mapped class (here &quot;CustomerData&quot;), Hibernate will do this magic.\r\n\r\nHope this will save some time for other unfortunate guys.","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>I don't think other answers explained the key part: why \"COUNT(*)\" returns more than one result?</p>\n\n<p>I just encountered the same issue today, and what I found out is that if you have another class extending the target mapped class (here \"CustomerData\"), Hibernate will do this magic.</p>\n\n<p>Hope this will save some time for other unfortunate guys.</p>\n"},{"tags":[],"owner":{"account_id":4418975,"reputation":449,"user_id":3599627,"accept_rate":29,"display_name":"Darshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554295734,"creation_date":1554295734,"answer_id":55495620,"question_id":23866709,"body_markdown":"Basically your query returns more than one result set.\r\n In API Docs uniqueResult() method says that \r\n  **Convenience method to return a single instance that matches\r\n the query, or null if the query returns no results**\r\n\r\n**uniqueResult()** method yield only single resultset\r\n\r\n","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>Basically your query returns more than one result set.\n In API Docs uniqueResult() method says that \n  <strong>Convenience method to return a single instance that matches\n the query, or null if the query returns no results</strong></p>\n\n<p><strong>uniqueResult()</strong> method yield only single resultset</p>\n"},{"tags":[],"owner":{"account_id":15880261,"reputation":269,"user_id":11458207,"display_name":"李凉杰"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1560563803,"creation_date":1560563803,"answer_id":56606779,"question_id":23866709,"body_markdown":"Hibernate \r\n Optional&lt;ShareUrl&gt; findTopByClientIdAndStatusOrderByCreateTimeDesc(Integer clientId, Integer status);\r\n\r\n&quot;findTop&quot;!! The only one result!","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>Hibernate \n Optional findTopByClientIdAndStatusOrderByCreateTimeDesc(Integer clientId, Integer status);</p>\n\n<p>\"findTop\"!! The only one result!</p>\n"},{"tags":[],"owner":{"account_id":2792369,"reputation":552,"user_id":2402350,"accept_rate":33,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576155198,"creation_date":1576153740,"answer_id":59304612,"question_id":23866709,"body_markdown":"Could this exception be thrown during an unfinished transaction, where your application is attempting to create an entity with a duplicate field to the identifier you are using to try find a single entity?\r\n\r\nIn this case the new (duplicate) entity will not be visible in the database as the transaction won&#39;t have, and will never be committed to the db. The exception will still be thrown however.","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>Could this exception be thrown during an unfinished transaction, where your application is attempting to create an entity with a duplicate field to the identifier you are using to try find a single entity?</p>\n\n<p>In this case the new (duplicate) entity will not be visible in the database as the transaction won't have, and will never be committed to the db. The exception will still be thrown however.</p>\n"},{"tags":[],"owner":{"account_id":14560612,"reputation":988,"user_id":10516773,"display_name":"pl-jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587903442,"creation_date":1587903442,"answer_id":61440626,"question_id":23866709,"body_markdown":"Thought this might help to someone, it happens because &quot;When the number of data queries is greater than 1&quot;.[reference][1]\r\n\r\n\r\n  [1]: http://www.programmersought.com/article/1864419699/","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>Thought this might help to someone, it happens because \"When the number of data queries is greater than 1\".<a href=\"http://www.programmersought.com/article/1864419699/\" rel=\"nofollow noreferrer\">reference</a></p>\n"},{"comments":[{"owner":{"account_id":6834220,"reputation":122,"user_id":10785002,"display_name":"გენო მუმლაძე"},"score":0,"creation_date":1623998318,"post_id":61628807,"comment_id":120241523,"body_markdown":"it is the answer!","body":"it is the answer!"}],"tags":[],"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1588746746,"creation_date":1588746746,"answer_id":61628807,"question_id":23866709,"body_markdown":"Generally This exception is thrown from Oracle when query result (which is stored in an Object in your case), can not be cast to the desired object.\r\nfor example when result is a \r\n\r\n    List&lt;T&gt;\r\n\r\nand you&#39;re putting the result into a single T object.\r\n\r\nIn case of casting to long error, besides it is recommended to use wrapper classes so that all of your columns act the same, I guess a problem in transaction or query itself would cause this issue.\r\n","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>Generally This exception is thrown from Oracle when query result (which is stored in an Object in your case), can not be cast to the desired object.\nfor example when result is a </p>\n\n<pre><code>List&lt;T&gt;\n</code></pre>\n\n<p>and you're putting the result into a single T object.</p>\n\n<p>In case of casting to long error, besides it is recommended to use wrapper classes so that all of your columns act the same, I guess a problem in transaction or query itself would cause this issue.</p>\n"},{"tags":[],"owner":{"account_id":17003034,"reputation":11,"user_id":12299919,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626884484,"creation_date":1626884484,"answer_id":68473143,"question_id":23866709,"body_markdown":"Received this error while doing otherwise correct hibernate queries. The issue was that when having a class extend another hibernate was counting both. This error can be &quot;fixed&quot; by adding a method to your repository class.\r\n\r\nBy overriding the class count you can manually determine the way this is counted. \r\n```\r\n@Override \r\npublic Integer count(Page&lt;MyObject&gt; page) {\r\n   // manual counting method here\r\n}\r\n```","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>Received this error while doing otherwise correct hibernate queries. The issue was that when having a class extend another hibernate was counting both. This error can be &quot;fixed&quot; by adding a method to your repository class.</p>\n<p>By overriding the class count you can manually determine the way this is counted.</p>\n<pre><code>@Override \npublic Integer count(Page&lt;MyObject&gt; page) {\n   // manual counting method here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5207516,"reputation":887,"user_id":4164951,"accept_rate":51,"display_name":"Al Kasih"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628014039,"creation_date":1628014039,"answer_id":68640898,"question_id":23866709,"body_markdown":"As what Ian Wang said, I suspect you are using a repository from spring. And a few days ago you just copy past a class and forgot to delete it when it is finally unused. Check that repository, and see if there is multiple same class of table you use. The count is not the count of rows, but the count of the table problem.\r\n","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>As what Ian Wang said, I suspect you are using a repository from spring. And a few days ago you just copy past a class and forgot to delete it when it is finally unused. Check that repository, and see if there is multiple same class of table you use. The count is not the count of rows, but the count of the table problem.</p>\n"},{"tags":[],"owner":{"account_id":12720348,"reputation":89,"user_id":9241003,"display_name":"Maks Chornyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628854406,"creation_date":1628846151,"answer_id":68769727,"question_id":23866709,"body_markdown":"I was using JPQL and wanted to return `Map`. In my case, the reason was that I wanted to get `Map&lt;String, String&gt;`, but had to expect `List&lt;Map&lt;String, String&gt;&gt;` :) ","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>I was using JPQL and wanted to return <code>Map</code>. In my case, the reason was that I wanted to get <code>Map&lt;String, String&gt;</code>, but had to expect <code>List&lt;Map&lt;String, String&gt;&gt;</code> :)</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":3,"creation_date":1634040357,"post_id":69540222,"comment_id":122914646,"body_markdown":"Your post is unreadable but seems to be an attempt to answer the question. I recommend to [edit] with some help from a more fluent person to improve this according to [answer].","body":"Your post is unreadable but seems to be an attempt to answer the question. I recommend to <a href=\"https://stackoverflow.com/posts/69540222/edit\">edit</a> with some help from a more fluent person to improve this according to <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."}],"tags":[],"owner":{"account_id":22389872,"reputation":39,"user_id":16602133,"display_name":"expelliarmus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634040741,"creation_date":1634040238,"answer_id":69540222,"question_id":23866709,"body_markdown":"This means that orm technology is not preprogrammed to give you which results you are looking for because there are too many of the same results in the database. for example If there is more than one same value in my database and I want to get it back, you will encounter the error you get with the select query.","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>This means that orm technology is not preprogrammed to give you which results you are looking for because there are too many of the same results in the database. for example If there is more than one same value in my database and I want to get it back, you will encounter the error you get with the select query.</p>\n"},{"tags":[],"owner":{"account_id":23366493,"reputation":11,"user_id":17438056,"display_name":"madhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637659283,"creation_date":1637579584,"answer_id":70064867,"question_id":23866709,"body_markdown":"Check your table, where one entity occurring multiple time&#39;s.\r\n\r\nI had the same error, with this data :\r\n\r\n| id  |  amount | clientid | createdate | expiredate |\r\n| --- | ------- | -------- | ---------- | ---------- |\r\n| 428 |   100   |   427\t   | 19/11/2021 | 19/12/2021 |\r\n| 464 |   100\t|   459    | 22/11/2021 | 22/12/2021 |\r\n| 464 |   100\t|   459\t   | 22/11/2021 | 22/12/2021 |\r\n\r\nYou see here `clientid` occurring two times with 464.\r\n\r\nI solved it by deleting one row :\r\n\r\n| id  |  amount | clientid | createdate | expiredate |\r\n| --- | ------- | -------- | ---------- | ---------- |\r\n| 428 |   100   |   427\t   | 19/11/2021 | 19/12/2021 |\r\n| 464 |   100\t|   459    | 22/11/2021 | 22/12/2021 |\t\t","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>Check your table, where one entity occurring multiple time's.</p>\n<p>I had the same error, with this data :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>amount</th>\n<th>clientid</th>\n<th>createdate</th>\n<th>expiredate</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>428</td>\n<td>100</td>\n<td>427</td>\n<td>19/11/2021</td>\n<td>19/12/2021</td>\n</tr>\n<tr>\n<td>464</td>\n<td>100</td>\n<td>459</td>\n<td>22/11/2021</td>\n<td>22/12/2021</td>\n</tr>\n<tr>\n<td>464</td>\n<td>100</td>\n<td>459</td>\n<td>22/11/2021</td>\n<td>22/12/2021</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You see here <code>clientid</code> occurring two times with 464.</p>\n<p>I solved it by deleting one row :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>amount</th>\n<th>clientid</th>\n<th>createdate</th>\n<th>expiredate</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>428</td>\n<td>100</td>\n<td>427</td>\n<td>19/11/2021</td>\n<td>19/12/2021</td>\n</tr>\n<tr>\n<td>464</td>\n<td>100</td>\n<td>459</td>\n<td>22/11/2021</td>\n<td>22/12/2021</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":3155278,"reputation":197,"user_id":2667819,"display_name":"bence of outer space"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637918465,"creation_date":1637918465,"answer_id":70122064,"question_id":23866709,"body_markdown":"I have found the core of the problem:\r\n\r\n**result of SELECT COUNT(*) can be a list, if there is a GROUP BY in the query,**\r\n\r\nand sometimes Hibernate rewrite your HQL and put a GROUP BY into it, just for fun.","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>I have found the core of the problem:</p>\n<p><strong>result of SELECT COUNT(*) can be a list, if there is a GROUP BY in the query,</strong></p>\n<p>and sometimes Hibernate rewrite your HQL and put a GROUP BY into it, just for fun.</p>\n"},{"tags":[],"owner":{"account_id":18382936,"reputation":177,"user_id":13390654,"display_name":"Mohammed NAIMI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652097382,"creation_date":1652097382,"answer_id":72171606,"question_id":23866709,"body_markdown":"For me the error is caused by \r\n    `spring.jpa.hibernate.ddl-auto=update`\r\nin application.properties file replacing it with \r\n`spring.jpa.hibernate.ddl-auto=create` solved the issue, but it still depends on your needs to decide which configuration you need in your project, for more insights on the topic check [this][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42135114/how-does-spring-jpa-hibernate-ddl-auto-property-exactly-work-in-spring#:~:text=%22spring.-,jpa.,database%20table%20instance%20is%20droped.","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>For me the error is caused by\n<code>spring.jpa.hibernate.ddl-auto=update</code>\nin application.properties file replacing it with\n<code>spring.jpa.hibernate.ddl-auto=create</code> solved the issue, but it still depends on your needs to decide which configuration you need in your project, for more insights on the topic check <a href=\"https://stackoverflow.com/questions/42135114/how-does-spring-jpa-hibernate-ddl-auto-property-exactly-work-in-spring#:%7E:text=%22spring.-,jpa.,database%20table%20instance%20is%20droped.\">this</a>.</p>\n"}],"owner":{"account_id":3860808,"reputation":5608,"user_id":3198603,"accept_rate":70,"display_name":"user3198603"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267165,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":16,"score":77,"last_activity_date":1696509465,"creation_date":1401095744,"question_id":23866709,"body_markdown":"I have below code in my DAO:  \r\n\r\n    String sql = &quot;SELECT COUNT(*) FROM CustomerData &quot; +\r\n                 &quot;WHERE custId = :custId AND deptId = :deptId&quot;;\r\n    Query query = session.createQuery(sql);\r\n    query.setParameter(&quot;custId&quot;, custId);\r\n    query.setParameter(&quot;deptId&quot;, deptId);\r\n    long count = (long) query.uniqueResult(); // ERROR THROWN HERE\r\n    \r\nHibernate throws  below exception at the marked line:\r\n    \r\n&gt; org.hibernate.NonUniqueResultException: query did not return a unique result: \r\n        \r\n   I am not sure whats happening as `count(*)` will always return only one row. \r\n\r\nAlso when i run this query on db directly, it return result as 1. So whats the issue?","title":"org.hibernate.NonUniqueResultException: query did not return a unique result: 2?","body":"<p>I have below code in my DAO:</p>\n<pre><code>String sql = &quot;SELECT COUNT(*) FROM CustomerData &quot; +\n             &quot;WHERE custId = :custId AND deptId = :deptId&quot;;\nQuery query = session.createQuery(sql);\nquery.setParameter(&quot;custId&quot;, custId);\nquery.setParameter(&quot;deptId&quot;, deptId);\nlong count = (long) query.uniqueResult(); // ERROR THROWN HERE\n</code></pre>\n<p>Hibernate throws  below exception at the marked line:</p>\n<blockquote>\n<p>org.hibernate.NonUniqueResultException: query did not return a unique result:</p>\n</blockquote>\n<p>I am not sure whats happening as <code>count(*)</code> will always return only one row.</p>\n<p>Also when i run this query on db directly, it return result as 1. So whats the issue?</p>\n"},{"tags":["java","spring-mvc","asynchronous","transactions","event-listener"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696509768,"post_id":77237157,"comment_id":136163995,"body_markdown":"Debugging and trying to explaining threading is generally a bad idea. Depending on how the debugger acts, it can stop all executing threads.","body":"Debugging and trying to explaining threading is generally a bad idea. Depending on how the debugger acts, it can stop all executing threads."},{"owner":{"account_id":29604353,"reputation":1,"user_id":22689095,"display_name":"최지율"},"score":0,"creation_date":1696518949,"post_id":77237157,"comment_id":136166300,"body_markdown":"Thank you @M. Deinum!!\nSo, is there anything in my code that would be problematic about the threads I&#39;ve separated to give faster responses? I&#39;m still a junior developer and want to learn!!!&#128591;&#128522;","body":"Thank you @M. Deinum!! So, is there anything in my code that would be problematic about the threads I&#39;ve separated to give faster responses? I&#39;m still a junior developer and want to learn!!!🙏😊"},{"owner":{"account_id":29604353,"reputation":1,"user_id":22689095,"display_name":"최지율"},"score":0,"creation_date":1696519373,"post_id":77237157,"comment_id":136166404,"body_markdown":"@M. Deinum\nOh I&#39;ll have to test it by changing it to Thread.sleep or something, not debugging, and post back! Thanks","body":"@M. Deinum Oh I&#39;ll have to test it by changing it to Thread.sleep or something, not debugging, and post back! Thanks"},{"owner":{"account_id":29604353,"reputation":1,"user_id":22689095,"display_name":"최지율"},"score":0,"creation_date":1696519610,"post_id":77237157,"comment_id":136166456,"body_markdown":"@M. Deinum Oh my!!&#129762; I did it with Thread.sleep() instead of debugging and it works fine thank you bless you!","body":"@M. Deinum Oh my!!🫢 I did it with Thread.sleep() instead of debugging and it works fine thank you bless you!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696574472,"post_id":77237157,"comment_id":136173103,"body_markdown":"You can configure the debugger in Intellij to halt only the current thread and not the whole JVM.","body":"You can configure the debugger in Intellij to halt only the current thread and not the whole JVM."}],"owner":{"account_id":29604353,"reputation":1,"user_id":22689095,"display_name":"최지율"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696509332,"creation_date":1696509332,"question_id":77237157,"body_markdown":"Server Info: java 17, spring-boot 3.1.4\r\n\r\nSince the parent server (WCS) only wants to know if it received the data it gave it, the logic of converting the data into a form suitable for use by the subsidiary, storing it in a table, and then passing it on is time consuming, so we&#39;ve separated it out.\r\nThis way, we can actually respond to the parent server in about a second instead of 8 seconds.\r\nI kept the implementation as simple as I could remember, but when I tested it, I ran into the following issue.\r\n\r\nWhen debugging inside the isolated @TransactionalEventListener, the first time I saved to &quot;localhost:8080/save/1&quot;, I got a 200 response after debugging.\r\nOn the second request, the 200 response arrived first, even though I stopped debugging inside the properly isolated @TransactionalEventListener.\r\n\r\nWhy on earth is the first request waiting for the logic in the @TransactionalEventListener to finish?\r\n\r\n\r\nSince this is a test case, we temporarily used @GetMapping.\r\n```java \r\nimport com.example.demo.biz.OrderBizService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class WcsWaveController {\r\n\r\n    private final OrderBizService orderBizService;\r\n\r\n    @GetMapping(&quot;/save/{id}&quot;)\r\n    public ResponseEntity save(@PathVariable(name = &quot;id&quot;) Long id) {\r\n        orderBizService.save(id);\r\n        return new ResponseEntity(HttpStatus.OK);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class OrderBizService {\r\n\r\n    private final WCSWaveService wcsWaveService;\r\n    private final ApplicationEventPublisher publisher;\r\n\r\n    @Transactional\r\n    public void save(Long id) {\r\n        System.out.println(&quot;OrderBizService Thread: &quot;+Thread.currentThread().getName());\r\n        WCSWaveEntity wcsWaveEntity = new WCSWaveEntity();\r\n        wcsWaveEntity.setId(id);\r\n        wcsWaveEntity.setName(Long.toString(id));\r\n        wcsWaveService.save(wcsWaveEntity);\r\n\r\n        PickingSaveEvent pickingSaveEvent = new PickingSaveEvent();\r\n        pickingSaveEvent.setWcsWaveId(wcsWaveEntity.getId());\r\n        pickingSaveEvent.setName(&quot;test1&quot;);\r\n        publisher.publishEvent(pickingSaveEvent);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class PickingWaveService {\r\n\r\n    private final PickingWaveRepository pickingWaveRepository;\r\n\r\n    @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    @Async\r\n    public void save(PickingSaveEvent event) {\r\n        System.out.println(&quot;TransactionalEventListener Thread: &quot;+Thread.currentThread().getName());\r\n        PickingWaveEntity pickingWaveEntity = new PickingWaveEntity();\r\n        pickingWaveEntity.setId(1L);\r\n        pickingWaveEntity.setWcsWaveId(event.getWcsWaveId());\r\n        pickingWaveEntity.setName(event.getName());\r\n        pickingWaveRepository.save(pickingWaveEntity);\r\n    }\r\n}\r\n```\r\n```java\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n@Getter @Setter\r\npublic class PickingSaveEvent {\r\n\r\n    private Long id;\r\n    private Long WcsWaveId;\r\n    private String name;\r\n}\r\n```\r\n```java\r\n@Configuration\r\n@EnableAsync\r\npublic class AsyncThreadConfiguration {\r\n\r\n    @Bean\r\n    public Executor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(5);\r\n        executor.setMaxPoolSize(5);\r\n        executor.setQueueCapacity(500);\r\n        executor.setThreadNamePrefix(&quot;test&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nThe first attempt doesn&#39;t give an immediate response and isn&#39;t what you expect\r\n[First Request](https://i.stack.imgur.com/BGDRj.png)\r\n\r\n\r\nAfter the second attempt, the response comes right back asynchronously, as expected.\r\n[following requests](https://i.stack.imgur.com/5ZmD0.png)","title":"Why doesn&#39;t asynchronous processing work on the first run?","body":"<p>Server Info: java 17, spring-boot 3.1.4</p>\n<p>Since the parent server (WCS) only wants to know if it received the data it gave it, the logic of converting the data into a form suitable for use by the subsidiary, storing it in a table, and then passing it on is time consuming, so we've separated it out.\nThis way, we can actually respond to the parent server in about a second instead of 8 seconds.\nI kept the implementation as simple as I could remember, but when I tested it, I ran into the following issue.</p>\n<p>When debugging inside the isolated @TransactionalEventListener, the first time I saved to &quot;localhost:8080/save/1&quot;, I got a 200 response after debugging.\nOn the second request, the 200 response arrived first, even though I stopped debugging inside the properly isolated @TransactionalEventListener.</p>\n<p>Why on earth is the first request waiting for the logic in the @TransactionalEventListener to finish?</p>\n<p>Since this is a test case, we temporarily used @GetMapping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.example.demo.biz.OrderBizService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequiredArgsConstructor\npublic class WcsWaveController {\n\n    private final OrderBizService orderBizService;\n\n    @GetMapping(&quot;/save/{id}&quot;)\n    public ResponseEntity save(@PathVariable(name = &quot;id&quot;) Long id) {\n        orderBizService.save(id);\n        return new ResponseEntity(HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class OrderBizService {\n\n    private final WCSWaveService wcsWaveService;\n    private final ApplicationEventPublisher publisher;\n\n    @Transactional\n    public void save(Long id) {\n        System.out.println(&quot;OrderBizService Thread: &quot;+Thread.currentThread().getName());\n        WCSWaveEntity wcsWaveEntity = new WCSWaveEntity();\n        wcsWaveEntity.setId(id);\n        wcsWaveEntity.setName(Long.toString(id));\n        wcsWaveService.save(wcsWaveEntity);\n\n        PickingSaveEvent pickingSaveEvent = new PickingSaveEvent();\n        pickingSaveEvent.setWcsWaveId(wcsWaveEntity.getId());\n        pickingSaveEvent.setName(&quot;test1&quot;);\n        publisher.publishEvent(pickingSaveEvent);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class PickingWaveService {\n\n    private final PickingWaveRepository pickingWaveRepository;\n\n    @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    @Async\n    public void save(PickingSaveEvent event) {\n        System.out.println(&quot;TransactionalEventListener Thread: &quot;+Thread.currentThread().getName());\n        PickingWaveEntity pickingWaveEntity = new PickingWaveEntity();\n        pickingWaveEntity.setId(1L);\n        pickingWaveEntity.setWcsWaveId(event.getWcsWaveId());\n        pickingWaveEntity.setName(event.getName());\n        pickingWaveRepository.save(pickingWaveEntity);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableAsync\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class PickingSaveEvent {\n\n    private Long id;\n    private Long WcsWaveId;\n    private String name;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAsync\npublic class AsyncThreadConfiguration {\n\n    @Bean\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(5);\n        executor.setMaxPoolSize(5);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(&quot;test&quot;);\n        executor.initialize();\n        return executor;\n    }\n\n}\n</code></pre>\n<p>The first attempt doesn't give an immediate response and isn't what you expect\n<a href=\"https://i.stack.imgur.com/BGDRj.png\" rel=\"nofollow noreferrer\">First Request</a></p>\n<p>After the second attempt, the response comes right back asynchronously, as expected.\n<a href=\"https://i.stack.imgur.com/5ZmD0.png\" rel=\"nofollow noreferrer\">following requests</a></p>\n"},{"tags":["java","spring","microservices","netflix-eureka"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696421292,"post_id":77229172,"comment_id":136150223,"body_markdown":"Did you create an `@LoadBalanced` `WebClient`?","body":"Did you create an <code>@LoadBalanced</code> <code>WebClient</code>?"},{"owner":{"account_id":15070097,"reputation":41,"user_id":10875921,"display_name":"Hubert Kobos"},"score":0,"creation_date":1696422958,"post_id":77229172,"comment_id":136150534,"body_markdown":"No I didn&#39;t but i decided to configure it to be a LoadBalanced client now and it seems to work, thank you very much ! But i still don&#39;t uderstand why discoveryClient.getInstancesById() is returning empty list.","body":"No I didn&#39;t but i decided to configure it to be a LoadBalanced client now and it seems to work, thank you very much ! But i still don&#39;t uderstand why discoveryClient.getInstancesById() is returning empty list."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696423375,"post_id":77229172,"comment_id":136150616,"body_markdown":"What happens if you use `getServices` instead and use the `getInstances` which takes a service name instead of id. Which `DiscoveryClient` is being used, as when looking at recent versions of that API the method you are using isn&#39;t part of the API.","body":"What happens if you use <code>getServices</code> instead and use the <code>getInstances</code> which takes a service name instead of id. Which <code>DiscoveryClient</code> is being used, as when looking at recent versions of that API the method you are using isn&#39;t part of the API."},{"owner":{"account_id":15070097,"reputation":41,"user_id":10875921,"display_name":"Hubert Kobos"},"score":0,"creation_date":1696423849,"post_id":77229172,"comment_id":136150725,"body_markdown":"Thank you very much for directing me to solve the problem. The problem was I used wrong interface, I used EurekaClient interface instead of DiscoveryClient. Now everything works perfectly fine.","body":"Thank you very much for directing me to solve the problem. The problem was I used wrong interface, I used EurekaClient interface instead of DiscoveryClient. Now everything works perfectly fine."}],"owner":{"account_id":15070097,"reputation":41,"user_id":10875921,"display_name":"Hubert Kobos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696509065,"creation_date":1696418824,"question_id":77229172,"body_markdown":"I have created microservices application which contains 3 services: chat-ws, users-ws and discovery-service. I want to make a inner http call from one service to another (from chat-ws to users-ws). Here is the method I use to make a http request and also to log.info() instances by id &quot;USERS-WS&quot;.\r\n```\r\npublic void getUsersData(List&lt;String&gt; userIds){\r\n        List&lt;InstanceInfo&gt;instance = discoveryClient.getInstancesById(&quot;USERS-WS&quot;);\r\n        log.info(&quot;instances --&gt; &quot; + instance);\r\n\r\n        String url = &quot;http://users-ws/api/user/usersdata&quot;;\r\n        String json = toJson(userIds);\r\n        log.info(&quot;json --&gt; &quot; + json);\r\n        Mono&lt;String&gt; response = webClient\r\n                .post()\r\n                .uri(url)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromValue(json))\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n\r\n        response.subscribe(\r\n                responseBody -&gt;{\r\n                    log.info(&quot;response body --&gt; &quot; + responseBody);\r\n                },\r\n                error -&gt; {\r\n                    log.warn(&quot;error --&gt; &quot; + error);\r\n                }\r\n        );\r\n\r\n    }\r\n```\r\nList of instances is empty i doesn&#39;t matter if i pass &quot;users-ws&quot; or &quot;USERS-WS&quot;, WebClient returns error:\r\n```\r\n[id: 0xd2582735] RECEIVED: UDP [55785: /192.168.2.1:53], DatagramDnsResponse(from: /192.168.2.1:53, to: /[0:0:0:0:0:0:0:0]:61795, id: 55785, QUERY(0), NXDomain(3), RD RA)\r\n[ctor-http-nio-1] io.netty.resolver.dns.DnsQueryContext    : [id: 0xd2582735] WRITE: UDP, [47691: /192.168.2.1:53], DefaultDnsQuestion(users-ws. IN CNAME)\r\n[ctor-http-nio-1] io.netty.resolver.dns.DnsNameResolver    : [id: 0xd2582735] RECEIVED: UDP [47691: /192.168.2.1:53], DatagramDnsResponse(from: /192.168.2.1:53, to: /[0:0:0:0:0:0:0:0]:61795, id: 47691, QUERY(0), NXDomain(3), RD RA)\r\nerror --&gt; org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve &#39;users-ws&#39; [A(1)] after 2 queries \r\n```\r\nSo it seems that services are invisible, but under the UI Web interface of spring eureka dashboard they are registered, applications are named &quot;USERS-WS&quot; and &quot;CHAT-WS&quot; they are up and running. Both of this application have EnableDiscoveryClient annotation\r\n```\r\n@SpringBootApplication\r\n@EnableDiscoveryClient\r\npublic class ChatServiceApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ChatServiceApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n```\r\n@SpringBootApplication\r\n@EnableDiscoveryClient\r\npublic class UserServiceApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(UserServiceApplication.class, args);\r\n    }\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\nDiscover-service has @EnableEurkeServer annotation\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaServer\r\npublic class DiscoveryServiceApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DiscoveryServiceApplication.class, args);\r\n    }\r\n}\r\n```\r\nHere i also present application.properties files of discovery-service\r\n```\r\nserver.port=8086\r\nspring.application.name=discoveryservice\r\neureka.instance.hostname=localhost\r\n\r\n\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\n\r\nlogging.level.com.netflix.discovery=DEBUG\r\n```\r\napplication.properties of chat-service\r\n```\r\nserver.port=${PORT:0}\r\n\r\nspring.application.name=chat-ws\r\neureka.client.service-url.defaultZone=http://localhost:8086/eureka\r\neureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\r\n\r\neureka.client.fetch-registry=true\r\neureka.client.register-with-eureka=true\r\neureka.client.enabled=true\r\n\r\ngateway.ip=192.168.2.184\r\n\r\nlogging.level.root=DEBUG\r\n```\r\napplication.properties of user-service\r\n```\r\nserver.port=${PORT:0}\r\n\r\nspring.application.name=users-ws\r\neureka.client.service-url.defaultZone=http://localhost:8086/eureka\r\neureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\r\n\r\neureka.client.fetch-registry=true\r\neureka.client.register-with-eureka=true\r\neureka.client.enabled=true\r\n\r\ngateway.ip=192.168.2.184\r\n```","title":"Spring Eureka does not see service instances","body":"<p>I have created microservices application which contains 3 services: chat-ws, users-ws and discovery-service. I want to make a inner http call from one service to another (from chat-ws to users-ws). Here is the method I use to make a http request and also to log.info() instances by id &quot;USERS-WS&quot;.</p>\n<pre><code>public void getUsersData(List&lt;String&gt; userIds){\n        List&lt;InstanceInfo&gt;instance = discoveryClient.getInstancesById(&quot;USERS-WS&quot;);\n        log.info(&quot;instances --&gt; &quot; + instance);\n\n        String url = &quot;http://users-ws/api/user/usersdata&quot;;\n        String json = toJson(userIds);\n        log.info(&quot;json --&gt; &quot; + json);\n        Mono&lt;String&gt; response = webClient\n                .post()\n                .uri(url)\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(json))\n                .retrieve()\n                .bodyToMono(String.class);\n\n        response.subscribe(\n                responseBody -&gt;{\n                    log.info(&quot;response body --&gt; &quot; + responseBody);\n                },\n                error -&gt; {\n                    log.warn(&quot;error --&gt; &quot; + error);\n                }\n        );\n\n    }\n</code></pre>\n<p>List of instances is empty i doesn't matter if i pass &quot;users-ws&quot; or &quot;USERS-WS&quot;, WebClient returns error:</p>\n<pre><code>[id: 0xd2582735] RECEIVED: UDP [55785: /192.168.2.1:53], DatagramDnsResponse(from: /192.168.2.1:53, to: /[0:0:0:0:0:0:0:0]:61795, id: 55785, QUERY(0), NXDomain(3), RD RA)\n[ctor-http-nio-1] io.netty.resolver.dns.DnsQueryContext    : [id: 0xd2582735] WRITE: UDP, [47691: /192.168.2.1:53], DefaultDnsQuestion(users-ws. IN CNAME)\n[ctor-http-nio-1] io.netty.resolver.dns.DnsNameResolver    : [id: 0xd2582735] RECEIVED: UDP [47691: /192.168.2.1:53], DatagramDnsResponse(from: /192.168.2.1:53, to: /[0:0:0:0:0:0:0:0]:61795, id: 47691, QUERY(0), NXDomain(3), RD RA)\nerror --&gt; org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve 'users-ws' [A(1)] after 2 queries \n</code></pre>\n<p>So it seems that services are invisible, but under the UI Web interface of spring eureka dashboard they are registered, applications are named &quot;USERS-WS&quot; and &quot;CHAT-WS&quot; they are up and running. Both of this application have EnableDiscoveryClient annotation</p>\n<pre><code>@SpringBootApplication\n@EnableDiscoveryClient\npublic class ChatServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ChatServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>@SpringBootApplication\n@EnableDiscoveryClient\npublic class UserServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(UserServiceApplication.class, args);\n    }\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>Discover-service has @EnableEurkeServer annotation</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class DiscoveryServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DiscoveryServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>Here i also present application.properties files of discovery-service</p>\n<pre><code>server.port=8086\nspring.application.name=discoveryservice\neureka.instance.hostname=localhost\n\n\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\n\nlogging.level.com.netflix.discovery=DEBUG\n</code></pre>\n<p>application.properties of chat-service</p>\n<pre><code>server.port=${PORT:0}\n\nspring.application.name=chat-ws\neureka.client.service-url.defaultZone=http://localhost:8086/eureka\neureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\n\neureka.client.fetch-registry=true\neureka.client.register-with-eureka=true\neureka.client.enabled=true\n\ngateway.ip=192.168.2.184\n\nlogging.level.root=DEBUG\n</code></pre>\n<p>application.properties of user-service</p>\n<pre><code>server.port=${PORT:0}\n\nspring.application.name=users-ws\neureka.client.service-url.defaultZone=http://localhost:8086/eureka\neureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\n\neureka.client.fetch-registry=true\neureka.client.register-with-eureka=true\neureka.client.enabled=true\n\ngateway.ip=192.168.2.184\n</code></pre>\n"},{"tags":["java","android","kotlin","android-service","accessibilityservice"],"comments":[{"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"score":0,"creation_date":1696370171,"post_id":77202105,"comment_id":136143650,"body_markdown":"Also looking for this. Did you find anything?","body":"Also looking for this. Did you find anything?"},{"owner":{"account_id":29183070,"reputation":33,"user_id":22356810,"display_name":"Akash Savaliya"},"score":0,"creation_date":1696400572,"post_id":77202105,"comment_id":136146093,"body_markdown":"Not Found Anything Yet","body":"Not Found Anything Yet"}],"answers":[{"comments":[{"owner":{"account_id":29183070,"reputation":33,"user_id":22356810,"display_name":"Akash Savaliya"},"score":0,"creation_date":1696942162,"post_id":77231400,"comment_id":136214719,"body_markdown":"This Solution does not work in Pixel 4a Android version 13.","body":"This Solution does not work in Pixel 4a Android version 13."},{"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"score":0,"creation_date":1697531807,"post_id":77231400,"comment_id":136288263,"body_markdown":"I tested it with the official Android Emulator version 13 and it worked for me. Don&#39;t know which device I emulated though.","body":"I tested it with the official Android Emulator version 13 and it worked for me. Don&#39;t know which device I emulated though."},{"owner":{"account_id":29183070,"reputation":33,"user_id":22356810,"display_name":"Akash Savaliya"},"score":0,"creation_date":1697777465,"post_id":77231400,"comment_id":136324868,"body_markdown":"I tested it with the real pixel 4a device (Android version 13) and it&#39;s not work.","body":"I tested it with the real pixel 4a device (Android version 13) and it&#39;s not work."}],"tags":[],"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696508918,"creation_date":1696437101,"answer_id":77231400,"question_id":77202105,"body_markdown":"I found a solution:\r\n\r\n```\r\nval intent = Intent().apply {\r\ncomponent = ComponentName(&quot;com.google.android.apps.messaging&quot;, &quot;com.google.android.apps.messaging.home.HomeActivity&quot;)\r\n    addFlags(Intent.FLAG_ACTIVITY_LAUNCH_ADJACENT)\r\n    addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n    addFlags(Intent.FLAG_ACTIVITY_MULTIPLE_TASK)\r\n}\r\nthis.startActivity(intent)\r\n```\r\n\r\nSeems to be the only option to trigger split screen in Android 13.\r\n\r\nThe down side is this works only on Android 13, afaik, and you need to name the app and activity that should take the second screen, contrary to `GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN`, which just opened split screen and let the user choose which app to open.","title":"Alternative to &quot;performGlobalAction(GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN)&quot; in Android Accessibility Service? How to enable it programmatically?","body":"<p>I found a solution:</p>\n<pre><code>val intent = Intent().apply {\ncomponent = ComponentName(&quot;com.google.android.apps.messaging&quot;, &quot;com.google.android.apps.messaging.home.HomeActivity&quot;)\n    addFlags(Intent.FLAG_ACTIVITY_LAUNCH_ADJACENT)\n    addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n    addFlags(Intent.FLAG_ACTIVITY_MULTIPLE_TASK)\n}\nthis.startActivity(intent)\n</code></pre>\n<p>Seems to be the only option to trigger split screen in Android 13.</p>\n<p>The down side is this works only on Android 13, afaik, and you need to name the app and activity that should take the second screen, contrary to <code>GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN</code>, which just opened split screen and let the user choose which app to open.</p>\n"}],"owner":{"account_id":29183070,"reputation":33,"user_id":22356810,"display_name":"Akash Savaliya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77231400,"answer_count":1,"score":3,"last_activity_date":1696508918,"creation_date":1695992090,"question_id":77202105,"body_markdown":"I&#39;ve been using the GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN global accessibility action in my Android accessibility service to enable split-screen mode programmatically. However, it appears that this action is not available in recent Android versions.\r\n\r\nI have searched extensively but couldn&#39;t find any documented alternative or workaround to achieve the same functionality. Enabling split-screen mode programmatically is crucial for my app&#39;s functionality.\r\n\r\nCould someone please provide insights or code snippets on how to achieve split-screen functionality programmatically in the absence of GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN?\r\n\r\nI have also refer this Issue: https://issuetracker.google.com/issues/225186417 \r\n\r\nThank you for your assistance!","title":"Alternative to &quot;performGlobalAction(GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN)&quot; in Android Accessibility Service? How to enable it programmatically?","body":"<p>I've been using the GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN global accessibility action in my Android accessibility service to enable split-screen mode programmatically. However, it appears that this action is not available in recent Android versions.</p>\n<p>I have searched extensively but couldn't find any documented alternative or workaround to achieve the same functionality. Enabling split-screen mode programmatically is crucial for my app's functionality.</p>\n<p>Could someone please provide insights or code snippets on how to achieve split-screen functionality programmatically in the absence of GLOBAL_ACTION_TOGGLE_SPLIT_SCREEN?</p>\n<p>I have also refer this Issue: <a href=\"https://issuetracker.google.com/issues/225186417\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/225186417</a></p>\n<p>Thank you for your assistance!</p>\n"},{"tags":["java","spring-boot","swagger","internationalization","openapi"],"answers":[{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696508598,"creation_date":1696508598,"answer_id":77237074,"question_id":77236107,"body_markdown":"The option is yet available on solves the problem\r\n\r\n    springdoc:\r\n      disable-i18n: true\r\n\r\n","title":"Prevent swagger from using MessageSource","body":"<p>The option is yet available on solves the problem</p>\n<pre><code>springdoc:\n  disable-i18n: true\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696508598,"creation_date":1696500166,"question_id":77236107,"body_markdown":"I&#39;m using OpenApi generator https://openapi-generator.tech/ to generate the REST API interfaces that will be used in a SpringBoot 6 based service.\r\nBelow is an excerpt from an API definition (registration.yml):\r\n\r\n    ...\r\n    paths:\r\n      /registration/register:\r\n        post:\r\n          description: Register a user\r\n          operationId: registerUser\r\n          tags:\r\n            - registration\r\n    ...\r\n\r\nI&#39;ve noticed that as soon as the Swagger webpage (http://localhost:8080/swagger-ui/index.html) opens it starts looking for the messages via `MessageSource.resolveCode()`.\r\nIt uses the text from the `description` field **&#39;Register a user&#39;** as a message code to find the corresponding message text via `MessageSource.resolveCode()`\r\nHowever as can be seen above such messages are already text messages and aren&#39;t message codes. Yes, they are hard-coded but I&#39;m fine with that.\r\nIs it possible to configure it so that **Swagger** doesn&#39;t search those messages?\r\n\r\nNot sure whether it helps but here is the top of the stack when `MessageSource.resolveCode()` is called in such a situation:\r\n\r\n    resolveCode:77, DBMessageSource\r\n    resolveCodeWithoutArguments:368, AbstractMessageSource (org.springframework.context.support)\r\n    getMessageInternal:212, AbstractMessageSource (org.springframework.context.support)\r\n    getMessage:153, AbstractMessageSource (org.springframework.context.support)\r\n    resolve:88, PropertyResolverUtils (org.springdoc.core.utils)\r\n    parse:130, OperationService (org.springdoc.core.service)\r\n    calculatePath:459, AbstractOpenApiResource (org.springdoc.api)\r\n    calculatePath:654, AbstractOpenApiResource (org.springdoc.api)\r\n    lambda$calculatePath$11:219, OpenApiResource (org.springdoc.webmvc.api)\r\n    ...\r\n\r\nThe option:\r\n\r\n    springdoc:\r\n      api-docs:\r\n        enabled: false\r\n\r\nin\r\n\r\n    application.yml\r\n\r\nDisables the swagger webpage completely which I don&#39;t need\r\n","title":"Prevent swagger from using MessageSource","body":"<p>I'm using OpenApi generator <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/</a> to generate the REST API interfaces that will be used in a SpringBoot 6 based service.\nBelow is an excerpt from an API definition (registration.yml):</p>\n<pre><code>...\npaths:\n  /registration/register:\n    post:\n      description: Register a user\n      operationId: registerUser\n      tags:\n        - registration\n...\n</code></pre>\n<p>I've noticed that as soon as the Swagger webpage (http://localhost:8080/swagger-ui/index.html) opens it starts looking for the messages via <code>MessageSource.resolveCode()</code>.\nIt uses the text from the <code>description</code> field <strong>'Register a user'</strong> as a message code to find the corresponding message text via <code>MessageSource.resolveCode()</code>\nHowever as can be seen above such messages are already text messages and aren't message codes. Yes, they are hard-coded but I'm fine with that.\nIs it possible to configure it so that <strong>Swagger</strong> doesn't search those messages?</p>\n<p>Not sure whether it helps but here is the top of the stack when <code>MessageSource.resolveCode()</code> is called in such a situation:</p>\n<pre><code>resolveCode:77, DBMessageSource\nresolveCodeWithoutArguments:368, AbstractMessageSource (org.springframework.context.support)\ngetMessageInternal:212, AbstractMessageSource (org.springframework.context.support)\ngetMessage:153, AbstractMessageSource (org.springframework.context.support)\nresolve:88, PropertyResolverUtils (org.springdoc.core.utils)\nparse:130, OperationService (org.springdoc.core.service)\ncalculatePath:459, AbstractOpenApiResource (org.springdoc.api)\ncalculatePath:654, AbstractOpenApiResource (org.springdoc.api)\nlambda$calculatePath$11:219, OpenApiResource (org.springdoc.webmvc.api)\n...\n</code></pre>\n<p>The option:</p>\n<pre><code>springdoc:\n  api-docs:\n    enabled: false\n</code></pre>\n<p>in</p>\n<pre><code>application.yml\n</code></pre>\n<p>Disables the swagger webpage completely which I don't need</p>\n"},{"tags":["java","concurrency","parallel-processing","java-stream","parallelstream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1696503684,"post_id":77236486,"comment_id":136162742,"body_markdown":"What&#39;s that `map` doing in there? You just mean `getPokemonsList().parallelStream()` right?","body":"What&#39;s that <code>map</code> doing in there? You just mean <code>getPokemonsList().parallelStream()</code> right?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696503791,"post_id":77236486,"comment_id":136162758,"body_markdown":"Each *element* will pass through the filters sequentially. But multiple elements can be processed in parallel.","body":"Each <i>element</i> will pass through the filters sequentially. But multiple elements can be processed in parallel."},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1696503826,"post_id":77236486,"comment_id":136162766,"body_markdown":"@Sweeper thanks for noticing. I actually meant the returned list to be `Optional`. I have fixed it. thanks again.","body":"@Sweeper thanks for noticing. I actually meant the returned list to be <code>Optional</code>. I have fixed it. thanks again."},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1696503878,"post_id":77236486,"comment_id":136162777,"body_markdown":"@Jorn I agree and this is the point of `parallelStream()` of Java8. But my question is not about the concurrent processing of the element, it&#39;s about the concurrent processing of the filters applied to each element.","body":"@Jorn I agree and this is the point of <code>parallelStream()</code> of Java8. But my question is not about the concurrent processing of the element, it&#39;s about the concurrent processing of the filters applied to each element."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696504051,"post_id":77236486,"comment_id":136162805,"body_markdown":"@NoobCoder I addressed that already. The filters won&#39;t be applied to separate elements in parallel.","body":"@NoobCoder I addressed that already. The filters won&#39;t be applied to separate elements in parallel."},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1696504419,"post_id":77236486,"comment_id":136162881,"body_markdown":"@Jorn again, I can&#39;t fully understand your answer. I don&#39;t want the filters to be applied to seperated elements in parallel, I want to know if they are applied to *one* element in parallel. Let me be more clear: `parallelStream()` handles elements in a concurrent way, and each element needs to check the same filters. Lets say you have 3 filters like here in my above example. Will they run in parallel or not? even if they have seperated `.filter(..)` they won&#39;t run in parallel way? So there is no difference between one filter to seperated ones? either way they will wait for the previous?","body":"@Jorn again, I can&#39;t fully understand your answer. I don&#39;t want the filters to be applied to seperated elements in parallel, I want to know if they are applied to <i>one</i> element in parallel. Let me be more clear: <code>parallelStream()</code> handles elements in a concurrent way, and each element needs to check the same filters. Lets say you have 3 filters like here in my above example. Will they run in parallel or not? even if they have seperated <code>.filter(..)</code> they won&#39;t run in parallel way? So there is no difference between one filter to seperated ones? either way they will wait for the previous?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1696504475,"post_id":77236486,"comment_id":136162891,"body_markdown":"&quot;either way they will wait for the previous?&quot; Yes. You misunderstood parallel streams if you were expecting something else.","body":"&quot;either way they will wait for the previous?&quot; Yes. You misunderstood parallel streams if you were expecting something else."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696504557,"post_id":77236486,"comment_id":136162910,"body_markdown":"For the third time: *you cannot do that with `parallelStream`*. If you want to do it, you need to write an async function that starts to run each filter, but short-circuits as soon as one of them returns `false`. It&#39;s not impossible, but it&#39;s unlikely to perform better than just running the checks sequentially.","body":"For the third time: <i>you cannot do that with <code>parallelStream</code></i>. If you want to do it, you need to write an async function that starts to run each filter, but short-circuits as soon as one of them returns <code>false</code>. It&#39;s not impossible, but it&#39;s unlikely to perform better than just running the checks sequentially."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696506621,"post_id":77236486,"comment_id":136163321,"body_markdown":"You should never use “optional lists”. In most cases, the absent list is equivalent to an empty list and can be handled as such. But even if you insist on using optional lists, you should not distract the readers of your question with these irrelevant details. Just post the stream operation your question is about.","body":"You should never use “optional lists”. In most cases, the absent list is equivalent to an empty list and can be handled as such. But even if you insist on using optional lists, you should not distract the readers of your question with these irrelevant details. Just post the stream operation your question is about."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1696507803,"post_id":77236486,"comment_id":136163579,"body_markdown":"The 3 filters could be run on different threads but are sequental for each specific element in the stream. If the evaluation on &quot;x&quot; of the first filter isRed is false, the stream no longer contains &quot;x&quot; and so the filter evaluation isAmazing(x) won&#39;t occur.","body":"The 3 filters could be run on different threads but are sequental for each specific element in the stream. If the evaluation on &quot;x&quot; of the first filter isRed is false, the stream no longer contains &quot;x&quot; and so the filter evaluation isAmazing(x) won&#39;t occur."},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1696590763,"post_id":77236486,"comment_id":136175972,"body_markdown":"@DuncG Thanks for the explanation. So, as I understand, there is only one evaluation of &quot;x&quot; each time, not matter if it&#39;s in one complex filter or several separated simple filters. There is only one &quot;x&quot; evaluation at a time, and if it fails, it won&#39;t proceed to the next evaluation whether if it&#39;s a condition or a whole other filter. so `is.Red(x) &amp;&amp; is.Amazing(x)` equal to `.filter(isRed(x)) .filter(isAmazing(x))` by that that in both cases it will evaluate `x` by one condition at a time even if there are few threads.","body":"@DuncG Thanks for the explanation. So, as I understand, there is only one evaluation of &quot;x&quot; each time, not matter if it&#39;s in one complex filter or several separated simple filters. There is only one &quot;x&quot; evaluation at a time, and if it fails, it won&#39;t proceed to the next evaluation whether if it&#39;s a condition or a whole other filter. so <code>is.Red(x) &amp;&amp; is.Amazing(x)</code> equal to <code>.filter(isRed(x)) .filter(isAmazing(x))</code> by that that in both cases it will evaluate <code>x</code> by one condition at a time even if there are few threads."},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1696590958,"post_id":77236486,"comment_id":136176008,"body_markdown":"@Holger it&#39;s a little bit off topic, but it&#39;s interesting. What if `Optional` is the type that required by the caller? The called method has to return an optional, whether if it&#39;s a list or not.","body":"@Holger it&#39;s a little bit off topic, but it&#39;s interesting. What if <code>Optional</code> is the type that required by the caller? The called method has to return an optional, whether if it&#39;s a list or not."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696602561,"post_id":77236486,"comment_id":136178442,"body_markdown":"That would be the first time in programming history that the caller can dictate what a method or function returns. If caller and callee disagree about the return type, every compiler in this world will tell you that the caller is wrong and needs to be adapted. But regardless of that, the logic of an “optional list” is flawed, regardless of where you introduce it.","body":"That would be the first time in programming history that the caller can dictate what a method or function returns. If caller and callee disagree about the return type, every compiler in this world will tell you that the caller is wrong and needs to be adapted. But regardless of that, the logic of an “optional list” is flawed, regardless of where you introduce it."}],"answers":[{"comments":[{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1696606336,"post_id":77236956,"comment_id":136179201,"body_markdown":"Got it! So in conclusion, the `.filter` util of java `stream` or `parallelStream` acts like a pipeline, which forces the each filter to wait till the previous one will be evaluated and done. And each filter will run only if the previous one has successfully passed and not filtered. \nExactly like a complex condition where you have few conditions connected with an arithmetic `AND` operation `&quot;&amp;&amp;&quot;`, which run only one condition by order. So as you said, by this logic, both &quot;`.filter(condition &amp; condition)`&quot; and &quot;`.filter(condition) .filter(condition)` are not checking the conditions parallelly.","body":"Got it! So in conclusion, the <code>.filter</code> util of java <code>stream</code> or <code>parallelStream</code> acts like a pipeline, which forces the each filter to wait till the previous one will be evaluated and done. And each filter will run only if the previous one has successfully passed and not filtered.  Exactly like a complex condition where you have few conditions connected with an arithmetic <code>AND</code> operation <code>&quot;&amp;&amp;&quot;</code>, which run only one condition by order. So as you said, by this logic, both &quot;<code>.filter(condition &amp; condition)</code>&quot; and &quot;<code>.filter(condition) .filter(condition)</code> are not checking the conditions parallelly."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696507930,"creation_date":1696507625,"answer_id":77236956,"question_id":77236486,"body_markdown":"Consider the following example:\r\n\r\n```java\r\nstringList.parallelStream()\r\n    .filter(string -&gt; string != null)\r\n    .filter(string -&gt; !string.isEmpty())\r\n    …\r\n```\r\n\r\nThis example is semantically equivalent to\r\n\r\n```java\r\nstringList.parallelStream()\r\n    .filter(string -&gt; string != null &amp;&amp; !string.isEmpty())\r\n    …\r\n```\r\nand it should be clear that we have to obey the semantic of `&amp;&amp;`, as we can’t evaluate the second condition before we know whether the first condition is fulfilled, as otherwise, the code would break.\r\n\r\nSince the Stream implementation doesn’t know what the condition evaluation will do and whether they depend on each other like shown in the example, as all it gets is an opaque `Predicate` implementation, it has to assume that there could be such a dependency. So, the evaluation of the predicates can not be done in parallel for one element.\r\n\r\nIn theory, the second `filter` stage could process an element which passed the filter while the first `filter` stage processes the next element, but as said in [the answer you already linked yourself], this road has not been taken.\r\n\r\nAs far as I know, there were experiments in that direction in early development phases, which led to the conclusion that the overhead is too high.\r\n\r\nInstead, the workload is split at the source, like splitting the list into sublists, and the parts are processed sequentially, passing each element through the pipeline in a fused operation. This per-element operation requires no thread synchronization in the best case and is JIT friendly.\r\n\r\n[the answer you already linked yourself]: https://stackoverflow.com/a/24055107/2711488","title":"Parallelising Java 8 parallelStream independent filters","body":"<p>Consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringList.parallelStream()\n    .filter(string -&gt; string != null)\n    .filter(string -&gt; !string.isEmpty())\n    …\n</code></pre>\n<p>This example is semantically equivalent to</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringList.parallelStream()\n    .filter(string -&gt; string != null &amp;&amp; !string.isEmpty())\n    …\n</code></pre>\n<p>and it should be clear that we have to obey the semantic of <code>&amp;&amp;</code>, as we can’t evaluate the second condition before we know whether the first condition is fulfilled, as otherwise, the code would break.</p>\n<p>Since the Stream implementation doesn’t know what the condition evaluation will do and whether they depend on each other like shown in the example, as all it gets is an opaque <code>Predicate</code> implementation, it has to assume that there could be such a dependency. So, the evaluation of the predicates can not be done in parallel for one element.</p>\n<p>In theory, the second <code>filter</code> stage could process an element which passed the filter while the first <code>filter</code> stage processes the next element, but as said in <a href=\"https://stackoverflow.com/a/24055107/2711488\">the answer you already linked yourself</a>, this road has not been taken.</p>\n<p>As far as I know, there were experiments in that direction in early development phases, which led to the conclusion that the overhead is too high.</p>\n<p>Instead, the workload is split at the source, like splitting the list into sublists, and the parts are processed sequentially, passing each element through the pipeline in a fused operation. This per-element operation requires no thread synchronization in the best case and is JIT friendly.</p>\n"}],"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77236956,"answer_count":1,"score":0,"last_activity_date":1696507930,"creation_date":1696503529,"question_id":77236486,"body_markdown":"I read all the related topics on StackOverflow and other sites to understand the mechanism of the `parallelStream` of Java8, and to understand whether the applied filters are running concurrently or not. \r\n**Are they running in a parallel way without waiting for each other or not?**\r\nDoes it happen only when you have separated filters or not?\r\n\r\n**I read:**\r\n\r\nhttps://stackoverflow.com/questions/24054773/java-8-streams-multiple-filters-vs-complex-condition\r\n\r\nhttps://stackoverflow.com/questions/49368308/java-8-streams-filter-more-than-one-condition\r\n\r\nhttps://stackoverflow.com/questions/65665221/javascript-multiple-filters-chain-vs-complex-condition\r\n\r\nhttps://stackoverflow.com/questions/51450750/parallelising-java-8-stream-filter\r\n\r\nhttps://stackoverflow.com/questions/66940888/filter-and-foreach-java-8-stream-as-parallel\r\n\r\nI could not find a simple answer to this simple question.\r\n\r\nI did find answers about the performance differences and other things that related to the question whether to choose only one filter with a complex condition or multiple filters with one simple condition.\r\n\r\nBut this is not what I am trying to find out.\r\n\r\nMy question is:\r\nWhen I write something like:\r\n\r\n\r\n    Optional&lt;List&lt;Pokemon&gt;&gt; filteredPokemons = getPokemonsList()\r\n                .map(pokemons -&gt; pokemons.parallelStream() //parallel filter for each pokemon\r\n                        .filter(pokemon -&gt; isRed(pokemon.getColor()) &amp;&amp; isAmazing(pokemon) &amp;&amp; !pokemonAlreadyActivated(pokemon))\r\n                        .collect(Collectors.toList()));\r\n\r\nWhat is really happening , filter wise?\r\nIs the first condition in the filter, `isRed(..)`, gets checked first and if it returns false, it doesn&#39;t proceed to check the rest of the conditions?\r\n\r\nWhat will happen if I&#39;ll split this one filter into 3 different filters:\r\n\r\n    Optional&lt;List&lt;Pokemon&gt;&gt; filteredPokemons = getPokemonsList()\r\n        .map(pokemons -&gt; pokemons.parallelStream()\r\n                .filter(pokemon -&gt; isRed(pokemon.getColor()))\r\n                .filter(pokemon -&gt; isAmazing(pokemon))\r\n                .filter(pokemon -&gt; !pokemonAlreadyActivated(pokemon))\r\n                .collect(Collectors.toList()));\r\n\r\nI know that performance wise, the first option, with only one filter and complex condition is preferred (reference: https://stackoverflow.com/questions/24054773/java-8-streams-multiple-filters-vs-complex-condition).\r\n\r\nBut what about concurrency?\r\nBecause logically, it is seems like in the second option, with split filters, they can run in a parallel way without waiting for each other, so it should be faster and better, so how does the first option is still considered better?\r\n\r\nDoesn&#39;t the first option makes the conditions wait for each other to be checked, unlike the separated filters which can run in a concurrent and parallel way without the need to depend on each other.\r\n\r\nI&#39;ll be glad to understand the difference and to understand if separated filters are running concurrently unlike one filter with several conditions in it.","title":"Parallelising Java 8 parallelStream independent filters","body":"<p>I read all the related topics on StackOverflow and other sites to understand the mechanism of the <code>parallelStream</code> of Java8, and to understand whether the applied filters are running concurrently or not.\n<strong>Are they running in a parallel way without waiting for each other or not?</strong>\nDoes it happen only when you have separated filters or not?</p>\n<p><strong>I read:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/24054773/java-8-streams-multiple-filters-vs-complex-condition\">Java 8 Streams: multiple filters vs. complex condition</a></p>\n<p><a href=\"https://stackoverflow.com/questions/49368308/java-8-streams-filter-more-than-one-condition\">Java 8 Streams - Filter More Than One Condition</a></p>\n<p><a href=\"https://stackoverflow.com/questions/65665221/javascript-multiple-filters-chain-vs-complex-condition\">JavaScript: multiple filters chain vs. complex condition</a></p>\n<p><a href=\"https://stackoverflow.com/questions/51450750/parallelising-java-8-stream-filter\">Parallelising Java 8 Stream.filter()?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/66940888/filter-and-foreach-java-8-stream-as-parallel\">Filter and foreach java 8 stream as parallel</a></p>\n<p>I could not find a simple answer to this simple question.</p>\n<p>I did find answers about the performance differences and other things that related to the question whether to choose only one filter with a complex condition or multiple filters with one simple condition.</p>\n<p>But this is not what I am trying to find out.</p>\n<p>My question is:\nWhen I write something like:</p>\n<pre><code>Optional&lt;List&lt;Pokemon&gt;&gt; filteredPokemons = getPokemonsList()\n            .map(pokemons -&gt; pokemons.parallelStream() //parallel filter for each pokemon\n                    .filter(pokemon -&gt; isRed(pokemon.getColor()) &amp;&amp; isAmazing(pokemon) &amp;&amp; !pokemonAlreadyActivated(pokemon))\n                    .collect(Collectors.toList()));\n</code></pre>\n<p>What is really happening , filter wise?\nIs the first condition in the filter, <code>isRed(..)</code>, gets checked first and if it returns false, it doesn't proceed to check the rest of the conditions?</p>\n<p>What will happen if I'll split this one filter into 3 different filters:</p>\n<pre><code>Optional&lt;List&lt;Pokemon&gt;&gt; filteredPokemons = getPokemonsList()\n    .map(pokemons -&gt; pokemons.parallelStream()\n            .filter(pokemon -&gt; isRed(pokemon.getColor()))\n            .filter(pokemon -&gt; isAmazing(pokemon))\n            .filter(pokemon -&gt; !pokemonAlreadyActivated(pokemon))\n            .collect(Collectors.toList()));\n</code></pre>\n<p>I know that performance wise, the first option, with only one filter and complex condition is preferred (reference: <a href=\"https://stackoverflow.com/questions/24054773/java-8-streams-multiple-filters-vs-complex-condition\">Java 8 Streams: multiple filters vs. complex condition</a>).</p>\n<p>But what about concurrency?\nBecause logically, it is seems like in the second option, with split filters, they can run in a parallel way without waiting for each other, so it should be faster and better, so how does the first option is still considered better?</p>\n<p>Doesn't the first option makes the conditions wait for each other to be checked, unlike the separated filters which can run in a concurrent and parallel way without the need to depend on each other.</p>\n<p>I'll be glad to understand the difference and to understand if separated filters are running concurrently unlike one filter with several conditions in it.</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":29590652,"reputation":1,"user_id":22678857,"display_name":"hco1982"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696507791,"creation_date":1696363449,"question_id":77225209,"body_markdown":"I get an error when trying to manipulate the &quot;h1&quot; tag element because I can&#39;t expand the second shadowHost\r\n\r\nI&#39;m using Selenium version 4.11 with chrome and drive version 117.\r\n\r\n\r\nWhat could I do to manipulate this element, or rather what am I doing wrong that I can&#39;t expand the second shadowHost, because I can manipulate/expand the first one correctly.\r\n\r\n\r\nThis is the method I use to try to manipulate\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n```java\r\n public String getElementShadow() {\r\n        WebElement shadowHost = webDriver.findElement(By.cssSelector(&quot;canal360i-wrapper-mfe-shadowdom&quot;));\r\n        SearchContext shadowRoot = shadowHost.getShadowRoot();\r\n        WebElement shadowHost2 = shadowRoot.findElement(By.cssSelector(&quot;mf-boleto-generico&quot;));\r\n        SearchContext shadowRoot2 =  shadowHost2.getShadowRoot();\r\n\r\n        String retorno = shadowRoot.findElement(By.cssSelector(&quot;h1&quot;)).toString();\r\n\r\n        return retorno;\r\n}\r\n```\r\n\r\nerror \r\n```\r\npage funcao boletagem foi acessada    \r\n         # steps.BoletagemSteps.validar_page_boletagem()\r\n      org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;mf-boleto-generico&quot;}\r\n  (Session info: chrome=117.0.5938.132)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n36CK.png","title":"Selenium Java error when handling ShadowHost Element","body":"<p>I get an error when trying to manipulate the &quot;h1&quot; tag element because I can't expand the second shadowHost</p>\n<p>I'm using Selenium version 4.11 with chrome and drive version 117.</p>\n<p>What could I do to manipulate this element, or rather what am I doing wrong that I can't expand the second shadowHost, because I can manipulate/expand the first one correctly.</p>\n<p>This is the method I use to try to manipulate</p>\n<p><a href=\"https://i.stack.imgur.com/n36CK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n36CK.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code> public String getElementShadow() {\n        WebElement shadowHost = webDriver.findElement(By.cssSelector(&quot;canal360i-wrapper-mfe-shadowdom&quot;));\n        SearchContext shadowRoot = shadowHost.getShadowRoot();\n        WebElement shadowHost2 = shadowRoot.findElement(By.cssSelector(&quot;mf-boleto-generico&quot;));\n        SearchContext shadowRoot2 =  shadowHost2.getShadowRoot();\n\n        String retorno = shadowRoot.findElement(By.cssSelector(&quot;h1&quot;)).toString();\n\n        return retorno;\n}\n</code></pre>\n<p>error</p>\n<pre><code>page funcao boletagem foi acessada    \n         # steps.BoletagemSteps.validar_page_boletagem()\n      org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;mf-boleto-generico&quot;}\n  (Session info: chrome=117.0.5938.132)\n</code></pre>\n"},{"tags":["java","eclipse","tree","swt","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1696509376,"post_id":77236929,"comment_id":136163902,"body_markdown":"Images can have a particular colour specified as the transparent colour. This is usually set up by loading the image from a format (such as GIF) that supports transparency.","body":"Images can have a particular colour specified as the transparent colour. This is usually set up by loading the image from a format (such as GIF) that supports transparency."},{"owner":{"account_id":28805956,"reputation":9,"user_id":22061831,"display_name":"Satya"},"score":0,"creation_date":1696509538,"post_id":77236929,"comment_id":136163939,"body_markdown":"how can i add indentation to the images in swt tree","body":"how can i add indentation to the images in swt tree"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1696512310,"post_id":77236929,"comment_id":136164674,"body_markdown":"I don&#39;t really understand what you mean by indentation here. If you look at Package or Project Explorer in Eclipse images are indented to the level of tree item - these are just normal trees.","body":"I don&#39;t really understand what you mean by indentation here. If you look at Package or Project Explorer in Eclipse images are indented to the level of tree item - these are just normal trees."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1696512633,"post_id":77236929,"comment_id":136164760,"body_markdown":"If you want to do complicated things with trees/tables in SWT maybe look at [nattable](https://eclipse.dev/nattable/)","body":"If you want to do complicated things with trees/tables in SWT maybe look at <a href=\"https://eclipse.dev/nattable/\" rel=\"nofollow noreferrer\">nattable</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1696515717,"post_id":77236929,"comment_id":136165538,"body_markdown":"It&#39;s unclear to me what you are asking. Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), a screenshot what you actual get and tell what you want get instead. See also https://www.eclipse.org/swt/snippets/","body":"It&#39;s unclear to me what you are asking. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, a screenshot what you actual get and tell what you want get instead. See also <a href=\"https://www.eclipse.org/swt/snippets/\" rel=\"nofollow noreferrer\">eclipse.org/swt/snippets</a>"}],"owner":{"account_id":28805956,"reputation":9,"user_id":22061831,"display_name":"Satya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696507442,"creation_date":1696507428,"question_id":77236929,"body_markdown":"I want to create an indented images\r\ni have original image i want to add indentation to that image\r\nso for that, i was creating one transparent image and using gc.drawImage i was trying to draw original image over it, but still white background is coming.\r\n\r\nIs there any other way to add indentation to the original image in SWT tree.\r\n\r\n","title":"How to add transparent images in java swt","body":"<p>I want to create an indented images\ni have original image i want to add indentation to that image\nso for that, i was creating one transparent image and using gc.drawImage i was trying to draw original image over it, but still white background is coming.</p>\n<p>Is there any other way to add indentation to the original image in SWT tree.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":2,"creation_date":1688599521,"post_id":76624567,"comment_id":135096764,"body_markdown":"Please add `-verbose` to `javap` and verify if this function isn&#39;t synthetic.","body":"Please add <code>-verbose</code> to <code>javap</code> and verify if this function isn&#39;t synthetic."},{"owner":{"account_id":4723763,"reputation":3950,"user_id":3821009,"accept_rate":50,"display_name":"levant pied"},"score":0,"creation_date":1688600448,"post_id":76624567,"comment_id":135096857,"body_markdown":"@broot Bingo! Added the output. OK I need to read about synthetic methods. How is Kotlin compiler able to call this method though? Or, alternatively, is that possible to simulate this from Java source?","body":"@broot Bingo! Added the output. OK I need to read about synthetic methods. How is Kotlin compiler able to call this method though? Or, alternatively, is that possible to simulate this from Java source?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688601786,"post_id":76624567,"comment_id":135096967,"body_markdown":"Synthetic constructs are constructs generated by the compiler that do not appear explicitly or implicitly in the source code (where &quot;implicitly&quot; means stuff like the `values()` and `valueOf(String)` methods of enums, the default constructor, etc.). You can&#39;t reference these constructs directly in the source code; Java doesn&#39;t allow it (or at least `javac` doesn&#39;t allow it). I would guess Kotlin is similar. That doesn&#39;t prevent the Kotlin compiler from knowing of the synthetic construct and referencing it &quot;behind the scenes&quot;.","body":"Synthetic constructs are constructs generated by the compiler that do not appear explicitly or implicitly in the source code (where &quot;implicitly&quot; means stuff like the <code>values()</code> and <code>valueOf(String)</code> methods of enums, the default constructor, etc.). You can&#39;t reference these constructs directly in the source code; Java doesn&#39;t allow it (or at least <code>javac</code> doesn&#39;t allow it). I would guess Kotlin is similar. That doesn&#39;t prevent the Kotlin compiler from knowing of the synthetic construct and referencing it &quot;behind the scenes&quot;."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688601902,"post_id":76624567,"comment_id":135096976,"body_markdown":"That said, I expect you could reference/invoke that synthetic `groupBy$default` method via reflection.","body":"That said, I expect you could reference/invoke that synthetic <code>groupBy$default</code> method via reflection."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":2,"creation_date":1688625202,"post_id":76624567,"comment_id":135099148,"body_markdown":"I think there is one missing information in current answers. We can&#39;t call synthetic methods not due to technical inability to do so. Java can call these methods without problems. In fact, they are almost the same as other methods. But they are **intentionally** hidden. They are not &quot;real&quot; methods but byproducts of the compilation process. If we see them, they would add a lot of noise during development. Also, it&#39;s not safe to call them as they may change in future versions of the code. In some way they are similar to private methods - only not created be the developer, but the compiler.","body":"I think there is one missing information in current answers. We can&#39;t call synthetic methods not due to technical inability to do so. Java can call these methods without problems. In fact, they are almost the same as other methods. But they are <b>intentionally</b> hidden. They are not &quot;real&quot; methods but byproducts of the compilation process. If we see them, they would add a lot of noise during development. Also, it&#39;s not safe to call them as they may change in future versions of the code. In some way they are similar to private methods - only not created be the developer, but the compiler."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688637348,"creation_date":1688620479,"answer_id":76625694,"question_id":76624567,"body_markdown":"You should not be able to call a synthetic method from normal Java code.  They are (by design) hidden.\r\n\r\nA synthetic method is a method that has neither an explicit or implicit declaration.  According to JLS 15.12.1, when you call a method you need to give an identifier (the method name) that *&quot;appears in the scope of a method declaration with that name&quot;* in order to resolve the type that declares it.  No such declaration exists by the definition of a synthetic method.\r\n\r\nFrom an intuitive perspective, synthetic methods and fields are only injected into the code while generating the bytecodes.  The Java compiler&#39;s earlier phases when syntax and semantic analysis occur won&#39;t know about the synthetic names ... yet.\r\n\r\n--------------------\r\n\r\nAs @Slaw notes, you can locate and call a synthetic method using reflection; see https://stackoverflow.com/questions/2460502 for an example.  Likewise, you can probably call them from code injected by a &quot;byte code engineering&quot; library, or similar.\r\n\r\nHowever synthetic methods are an implementation artifact, and (in theory) they could change from one Java version to the next.  So writing Java code that relies on calling synthetic methods would a bad idea.  Indeed, it is not inconceivable that the Java team would change the Java runtime to make it (more) difficult to do this ... in the same way that they recently made referring to internal JDK classes, etc difficult.","title":"Calling methods with dollar sign from Java","body":"<p>You should not be able to call a synthetic method from normal Java code.  They are (by design) hidden.</p>\n<p>A synthetic method is a method that has neither an explicit or implicit declaration.  According to JLS 15.12.1, when you call a method you need to give an identifier (the method name) that <em>&quot;appears in the scope of a method declaration with that name&quot;</em> in order to resolve the type that declares it.  No such declaration exists by the definition of a synthetic method.</p>\n<p>From an intuitive perspective, synthetic methods and fields are only injected into the code while generating the bytecodes.  The Java compiler's earlier phases when syntax and semantic analysis occur won't know about the synthetic names ... yet.</p>\n<hr />\n<p>As @Slaw notes, you can locate and call a synthetic method using reflection; see <a href=\"https://stackoverflow.com/questions/2460502\">What are the interets of synthetic methods?</a> for an example.  Likewise, you can probably call them from code injected by a &quot;byte code engineering&quot; library, or similar.</p>\n<p>However synthetic methods are an implementation artifact, and (in theory) they could change from one Java version to the next.  So writing Java code that relies on calling synthetic methods would a bad idea.  Indeed, it is not inconceivable that the Java team would change the Java runtime to make it (more) difficult to do this ... in the same way that they recently made referring to internal JDK classes, etc difficult.</p>\n"},{"tags":[],"owner":{"account_id":14977995,"reputation":114,"user_id":10827378,"display_name":"Jolan Rensen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696507261,"creation_date":1696507261,"answer_id":77236914,"question_id":76624567,"body_markdown":"As a contributor to the Kotlin DataFrame library, I&#39;d advise against using other JVM languages for the library. Compatibility with other languages is simply not a priority. DataFrame&#39;s strength lies in Kotlin&#39;s ability to write concise DSLs and it uses a lot of extension functions. This will result in needlessly complicated and unreadable code from Java if it works at all.","title":"Calling methods with dollar sign from Java","body":"<p>As a contributor to the Kotlin DataFrame library, I'd advise against using other JVM languages for the library. Compatibility with other languages is simply not a priority. DataFrame's strength lies in Kotlin's ability to write concise DSLs and it uses a lot of extension functions. This will result in needlessly complicated and unreadable code from Java if it works at all.</p>\n"}],"owner":{"account_id":4723763,"reputation":3950,"user_id":3821009,"accept_rate":50,"display_name":"levant pied"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696507261,"creation_date":1688598352,"question_id":76624567,"body_markdown":"I was playing with https://kotlin.github.io/dataframe/overview.html and wanted to see how complicated it looks to call from Java instead of Kotlin. I found many places where there are methods that show in `javap` output, e.g.:\r\n\r\n```\r\n$ javap -cp . org/jetbrains/kotlinx/dataframe/api/GroupByKt.class\r\nCompiled from &quot;groupBy.kt&quot;\r\npublic final class org.jetbrains.kotlinx.dataframe.api.GroupByKt {\r\n...\r\n  public static org.jetbrains.kotlinx.dataframe.api.GroupBy groupBy$default(org.jetbrains.kotlinx.dataframe.DataFrame, boolean, kotlin.jvm.functions.Function2, int, java.lang.Object);\r\n...\r\n```\r\n\r\nwhere the last method is named `groupBy$default`. After decompiling the JVM bytecode that Kotlin compiler generated, I see it calling the above function. \r\n\r\nHowever, Eclipse complains that it&#39;s undefined and it fails to compile the Java class. Maven complains as well:\r\n\r\n```\r\n[ERROR] /prj/ks/KotlinxDataFrameTest.java:[130,21] cannot find symbol\r\n  symbol:   method groupBy$default(org.jetbrains.kotlinx.dataframe.DataFrame&lt;capture#1 of ?&gt;,boolean,(gb,it)-&gt;[...] &quot;&quot;),int,&lt;nulltype&gt;)\r\n  location: class org.jetbrains.kotlinx.dataframe.api.GroupByKt\r\n```\r\n\r\nI thought any method that shows up in `javap` is callable from Java. What am I missing here?\r\n\r\nEdit: added `javap -verbose` output based on the comment from @broot:\r\n\r\n```\r\n  public static org.jetbrains.kotlinx.dataframe.api.GroupBy groupBy$default(org.jetbrains.kotlinx.dataframe.DataFrame, boolean, kotlin.jvm.functions.Function2, int, java.lang.Object);\r\n    descriptor: (Lorg/jetbrains/kotlinx/dataframe/DataFrame;ZLkotlin/jvm/functions/Function2;ILjava/lang/Object;)Lorg/jetbrains/kotlinx/dataframe/api/GroupBy;\r\n    flags: (0x1009) ACC_PUBLIC, ACC_STATIC, ACC_SYNTHETIC\r\n    Code:\r\n      stack=3, locals=5, args_size=5\r\n         0: iload_3\r\n         1: iconst_1\r\n         2: iand\r\n         3: ifeq          8\r\n         6: iconst_1\r\n         7: istore_1\r\n         8: aload_0\r\n         9: iload_1\r\n        10: aload_2\r\n        11: invokestatic  #32                 // Method groupBy:(Lorg/jetbrains/kotlinx/dataframe/DataFrame;ZLkotlin/jvm/functions/Function2;)Lorg/jetbrains/kotlinx/dataframe/api/GroupBy;\r\n        14: areturn\r\n      StackMapTable: number_of_entries = 1\r\n        frame_type = 8 /* same */\r\n      LineNumberTable:\r\n        line 21: 0\r\n```","title":"Calling methods with dollar sign from Java","body":"<p>I was playing with <a href=\"https://kotlin.github.io/dataframe/overview.html\" rel=\"nofollow noreferrer\">https://kotlin.github.io/dataframe/overview.html</a> and wanted to see how complicated it looks to call from Java instead of Kotlin. I found many places where there are methods that show in <code>javap</code> output, e.g.:</p>\n<pre><code>$ javap -cp . org/jetbrains/kotlinx/dataframe/api/GroupByKt.class\nCompiled from &quot;groupBy.kt&quot;\npublic final class org.jetbrains.kotlinx.dataframe.api.GroupByKt {\n...\n  public static org.jetbrains.kotlinx.dataframe.api.GroupBy groupBy$default(org.jetbrains.kotlinx.dataframe.DataFrame, boolean, kotlin.jvm.functions.Function2, int, java.lang.Object);\n...\n</code></pre>\n<p>where the last method is named <code>groupBy$default</code>. After decompiling the JVM bytecode that Kotlin compiler generated, I see it calling the above function.</p>\n<p>However, Eclipse complains that it's undefined and it fails to compile the Java class. Maven complains as well:</p>\n<pre><code>[ERROR] /prj/ks/KotlinxDataFrameTest.java:[130,21] cannot find symbol\n  symbol:   method groupBy$default(org.jetbrains.kotlinx.dataframe.DataFrame&lt;capture#1 of ?&gt;,boolean,(gb,it)-&gt;[...] &quot;&quot;),int,&lt;nulltype&gt;)\n  location: class org.jetbrains.kotlinx.dataframe.api.GroupByKt\n</code></pre>\n<p>I thought any method that shows up in <code>javap</code> is callable from Java. What am I missing here?</p>\n<p>Edit: added <code>javap -verbose</code> output based on the comment from @broot:</p>\n<pre><code>  public static org.jetbrains.kotlinx.dataframe.api.GroupBy groupBy$default(org.jetbrains.kotlinx.dataframe.DataFrame, boolean, kotlin.jvm.functions.Function2, int, java.lang.Object);\n    descriptor: (Lorg/jetbrains/kotlinx/dataframe/DataFrame;ZLkotlin/jvm/functions/Function2;ILjava/lang/Object;)Lorg/jetbrains/kotlinx/dataframe/api/GroupBy;\n    flags: (0x1009) ACC_PUBLIC, ACC_STATIC, ACC_SYNTHETIC\n    Code:\n      stack=3, locals=5, args_size=5\n         0: iload_3\n         1: iconst_1\n         2: iand\n         3: ifeq          8\n         6: iconst_1\n         7: istore_1\n         8: aload_0\n         9: iload_1\n        10: aload_2\n        11: invokestatic  #32                 // Method groupBy:(Lorg/jetbrains/kotlinx/dataframe/DataFrame;ZLkotlin/jvm/functions/Function2;)Lorg/jetbrains/kotlinx/dataframe/api/GroupBy;\n        14: areturn\n      StackMapTable: number_of_entries = 1\n        frame_type = 8 /* same */\n      LineNumberTable:\n        line 21: 0\n</code></pre>\n"},{"tags":["java","java-8","stream"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696506066,"post_id":77236735,"comment_id":136163214,"body_markdown":"You should provide the expected and actual outputs for your example and clarify what do you mean by &quot;without success&quot;. Just saying that is not useful.","body":"You should provide the expected and actual outputs for your example and clarify what do you mean by &quot;without success&quot;. Just saying that is not useful."},{"owner":{"account_id":1119193,"reputation":1505,"user_id":1107888,"accept_rate":53,"display_name":"user1107888"},"score":0,"creation_date":1696506689,"post_id":77236735,"comment_id":136163343,"body_markdown":"I have mentioned that I have achieved the desired output but without using streams. I want the same output with streams.","body":"I have mentioned that I have achieved the desired output but without using streams. I want the same output with streams."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696577915,"post_id":77236735,"comment_id":136173671,"body_markdown":"actually this: &quot;This json structure creates four maps, each having two key value pairs.&quot;, should be: &quot;this json structure results in a List containing two inner lists. Each inner list has four HashMaps, and each HashMap contains two key-value pairs: `name` and `value`&quot;","body":"actually this: &quot;This json structure creates four maps, each having two key value pairs.&quot;, should be: &quot;this json structure results in a List containing two inner lists. Each inner list has four HashMaps, and each HashMap contains two key-value pairs: <code>name</code> and <code>value</code>&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1119193,"reputation":1505,"user_id":1107888,"accept_rate":53,"display_name":"user1107888"},"score":0,"creation_date":1696507509,"post_id":77236888,"comment_id":136163515,"body_markdown":"Your answer works, just needed conversion to List via collect method which I have corrected","body":"Your answer works, just needed conversion to List via collect method which I have corrected"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1696507609,"post_id":77236888,"comment_id":136163532,"body_markdown":"@user1107888 That is a Java 16 API. If you are using a lower version then, yeah, you should use `collect` instead.","body":"@user1107888 That is a Java 16 API. If you are using a lower version then, yeah, you should use <code>collect</code> instead."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696506998,"creation_date":1696506998,"answer_id":77236888,"question_id":77236735,"body_markdown":"From your non-stream code, you seem to want to map each *inner list* into its own separate `Map`.\r\n\r\nTherefore, you should not flatten (`flatMap`) the outer list. `map` the outer list, and `collect(toMap)` each inner list.\r\n\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; result = fields.stream()\r\n    .map(\r\n        l -&gt; l.stream().collect(\r\n            // assuming the maps in each inner list do not have duplicate names\r\n            Collectors.toMap(x -&gt; x.get(&quot;name&quot;), x -&gt; x.get(&quot;value&quot;))\r\n            // if they do, give an appropriate merger function as the 3rd argument\r\n        )\r\n    )\r\n    .toList();\r\n```\r\n\r\n","title":"Simplify a list where every element is itself a list of maps","body":"<p>From your non-stream code, you seem to want to map each <em>inner list</em> into its own separate <code>Map</code>.</p>\n<p>Therefore, you should not flatten (<code>flatMap</code>) the outer list. <code>map</code> the outer list, and <code>collect(toMap)</code> each inner list.</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; result = fields.stream()\n    .map(\n        l -&gt; l.stream().collect(\n            // assuming the maps in each inner list do not have duplicate names\n            Collectors.toMap(x -&gt; x.get(&quot;name&quot;), x -&gt; x.get(&quot;value&quot;))\n            // if they do, give an appropriate merger function as the 3rd argument\n        )\n    )\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":1119193,"reputation":1505,"user_id":1107888,"accept_rate":53,"display_name":"user1107888"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77236888,"answer_count":1,"score":2,"last_activity_date":1696506998,"creation_date":1696505612,"question_id":77236735,"body_markdown":"After parsing my json file with JSON Parser, I get the following list in Java: \r\n\r\n\r\n\r\n    List&lt; List&lt;HashMap&lt;String,String&gt;&gt;&gt; fields  = jsonContext.read(jsonPath);\r\n\r\nEvery element in this list is itself a list of HashMaps and results from following json structure: \r\n\r\n     [\r\n       {\r\n        &quot;value&quot;: &quot;such&quot;,\r\n        &quot;name&quot;: &quot;yname&quot;\r\n     },\r\n     {\r\n       &quot;value&quot;: &quot;Suchwort&quot;,\r\n       &quot;name&quot;: &quot;yvbeds&quot;\r\n     },\r\n     {\r\n       &quot;value&quot;: &quot;&quot;,\r\n       &quot;name&quot;: &quot;yfix&quot;\r\n     },\r\n     {\r\n       &quot;value&quot;: &quot;such&quot;,\r\n       &quot;name&quot;: &quot;yzielfeld&quot;\r\n      }\r\n     ],\r\n      [\r\n        {\r\n         &quot;value&quot;: &quot;ftext&quot;,\r\n         &quot;name&quot;: &quot;yname&quot;\r\n        },\r\n        {\r\n         &quot;value&quot;: &quot;Freitext 1&quot;,\r\n         &quot;name&quot;: &quot;yvbeds&quot;\r\n        },\r\n        {\r\n          &quot;value&quot;: &quot;&quot;,\r\n          &quot;name&quot;: &quot;yfix&quot;\r\n        },\r\n        {\r\n          &quot;value&quot;: &quot;ftext&quot;,\r\n          &quot;name&quot;: &quot;yzielfeld&quot;\r\n        }\r\n      ],\r\n\r\nThis json structure creates four maps, each having two key value pairs. I would like to convert these four maps into a single map. I have achieved this without using streams as follows: \r\n\r\n     List&lt;HashMap&lt;String,String&gt;&gt; newList = new ArrayList&lt;&gt;();\r\n\r\n            for(int i=0;i&lt; fields.size();i++) {\r\n                HashMap&lt;String,String&gt; singleMap = new HashMap&lt;&gt;();\r\n                List&lt;HashMap&lt;String,String&gt;&gt; listItem = fields.get(i);\r\n                for(int j=0;j&lt;listItem.size();j++) {\r\n                    HashMap&lt;String,String&gt; fieldMap = listItem.get(j);\r\n                    singleMap.put(fieldMap.get(&quot;name&quot;),fieldMap.get(&quot;value&quot;));\r\n                }\r\n                newList.add(singleMap);\r\n\r\n            }\r\nI have tried the following stream approach but after collecting to map, I need to collect to List again but there are only map options:\r\n\r\n       List&lt;HashMap&lt;String,String&gt;&gt; newList = fields.stream()\r\n                     \r\n      .flatMap(List::stream)\r\n     .collect(Collectors.toMap(value-&gt;value.get(&quot;name&quot;),value-&gt;value.get(&quot;value&quot;)))\r\n                    .","title":"Simplify a list where every element is itself a list of maps","body":"<p>After parsing my json file with JSON Parser, I get the following list in Java:</p>\n<pre><code>List&lt; List&lt;HashMap&lt;String,String&gt;&gt;&gt; fields  = jsonContext.read(jsonPath);\n</code></pre>\n<p>Every element in this list is itself a list of HashMaps and results from following json structure:</p>\n<pre><code> [\n   {\n    &quot;value&quot;: &quot;such&quot;,\n    &quot;name&quot;: &quot;yname&quot;\n },\n {\n   &quot;value&quot;: &quot;Suchwort&quot;,\n   &quot;name&quot;: &quot;yvbeds&quot;\n },\n {\n   &quot;value&quot;: &quot;&quot;,\n   &quot;name&quot;: &quot;yfix&quot;\n },\n {\n   &quot;value&quot;: &quot;such&quot;,\n   &quot;name&quot;: &quot;yzielfeld&quot;\n  }\n ],\n  [\n    {\n     &quot;value&quot;: &quot;ftext&quot;,\n     &quot;name&quot;: &quot;yname&quot;\n    },\n    {\n     &quot;value&quot;: &quot;Freitext 1&quot;,\n     &quot;name&quot;: &quot;yvbeds&quot;\n    },\n    {\n      &quot;value&quot;: &quot;&quot;,\n      &quot;name&quot;: &quot;yfix&quot;\n    },\n    {\n      &quot;value&quot;: &quot;ftext&quot;,\n      &quot;name&quot;: &quot;yzielfeld&quot;\n    }\n  ],\n</code></pre>\n<p>This json structure creates four maps, each having two key value pairs. I would like to convert these four maps into a single map. I have achieved this without using streams as follows:</p>\n<pre><code> List&lt;HashMap&lt;String,String&gt;&gt; newList = new ArrayList&lt;&gt;();\n\n        for(int i=0;i&lt; fields.size();i++) {\n            HashMap&lt;String,String&gt; singleMap = new HashMap&lt;&gt;();\n            List&lt;HashMap&lt;String,String&gt;&gt; listItem = fields.get(i);\n            for(int j=0;j&lt;listItem.size();j++) {\n                HashMap&lt;String,String&gt; fieldMap = listItem.get(j);\n                singleMap.put(fieldMap.get(&quot;name&quot;),fieldMap.get(&quot;value&quot;));\n            }\n            newList.add(singleMap);\n\n        }\n</code></pre>\n<p>I have tried the following stream approach but after collecting to map, I need to collect to List again but there are only map options:</p>\n<pre><code>   List&lt;HashMap&lt;String,String&gt;&gt; newList = fields.stream()\n                 \n  .flatMap(List::stream)\n .collect(Collectors.toMap(value-&gt;value.get(&quot;name&quot;),value-&gt;value.get(&quot;value&quot;)))\n                .\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data"],"comments":[{"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"score":0,"creation_date":1696670933,"post_id":77236843,"comment_id":136185454,"body_markdown":"Why you want to use Redis? Is it only for keeping data temporary?","body":"Why you want to use Redis? Is it only for keeping data temporary?"},{"owner":{"account_id":29514676,"reputation":3,"user_id":22618894,"display_name":"Hani Bikdeli"},"score":0,"creation_date":1696682948,"post_id":77236843,"comment_id":136186503,"body_markdown":"I want to store carts temporarily and then store it in the database when the user checksout","body":"I want to store carts temporarily and then store it in the database when the user checksout"},{"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"score":0,"creation_date":1696856039,"post_id":77236843,"comment_id":136202496,"body_markdown":"I suggest adding a boolean flag to the entity with name &#39;approve&#39; and when the user checks out it change the value of this field to true. However, if you want to keep them in Redis it is better to create a new class for managing it.\nMixing concept is not proposed at all.","body":"I suggest adding a boolean flag to the entity with name &#39;approve&#39; and when the user checks out it change the value of this field to true. However, if you want to keep them in Redis it is better to create a new class for managing it. Mixing concept is not proposed at all."},{"owner":{"account_id":29514676,"reputation":3,"user_id":22618894,"display_name":"Hani Bikdeli"},"score":0,"creation_date":1696931209,"post_id":77236843,"comment_id":136212539,"body_markdown":"yeah i guess i&#39;m gonna have to create another class, ty for the help","body":"yeah i guess i&#39;m gonna have to create another class, ty for the help"}],"owner":{"account_id":29514676,"reputation":3,"user_id":22618894,"display_name":"Hani Bikdeli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696506688,"creation_date":1696506660,"question_id":77236843,"body_markdown":"I have a java class representing my Cart object in my e-commerce application. Now my plan was to store the cart and each of the cart items in Redis until the order is complete and then i would store them in mysql.\r\n\r\nNow I have declared a class as my Cart like this:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;carts&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\npublic class Cart {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private String id;\r\n\r\n    @ManyToOne\r\n    private ShopUser user;\r\n\r\n    private String sessionId;\r\n\r\n    @OneToMany\r\n    private List&lt;CartItem&gt; cartItems;\r\n}\r\n```\r\nand since I wanted to store it inside mysql and using JPA, I annotated it with @Entity. However I also want to use the fields to store a cart temporarily in Redis as a hashtable.\r\n\r\n\r\nI also know that annotating the same class with @Entity and @RedisHash will result in a conflict of beans for my repository.\r\n\r\nSo now I have some questions:\r\n\r\n1.Is there a way to annotate one class with @Entity and @RedisHash at the same time?\r\n\r\n2.Is using JPA a good practice for a cart mechanism like this?\r\n\r\n3.If I should make speerate classes, what are the naming conventions I should use for each?","title":"Using one class as a RedisHash and an Entity at the same time","body":"<p>I have a java class representing my Cart object in my e-commerce application. Now my plan was to store the cart and each of the cart items in Redis until the order is complete and then i would store them in mysql.</p>\n<p>Now I have declared a class as my Cart like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;carts&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Setter\n@Getter\npublic class Cart {\n\n    @Id\n    @GeneratedValue\n    private String id;\n\n    @ManyToOne\n    private ShopUser user;\n\n    private String sessionId;\n\n    @OneToMany\n    private List&lt;CartItem&gt; cartItems;\n}\n</code></pre>\n<p>and since I wanted to store it inside mysql and using JPA, I annotated it with @Entity. However I also want to use the fields to store a cart temporarily in Redis as a hashtable.</p>\n<p>I also know that annotating the same class with @Entity and @RedisHash will result in a conflict of beans for my repository.</p>\n<p>So now I have some questions:</p>\n<p>1.Is there a way to annotate one class with @Entity and @RedisHash at the same time?</p>\n<p>2.Is using JPA a good practice for a cart mechanism like this?</p>\n<p>3.If I should make speerate classes, what are the naming conventions I should use for each?</p>\n"},{"tags":["java","web-services"],"answers":[{"comments":[{"owner":{"account_id":49401,"reputation":792,"user_id":147075,"accept_rate":40,"display_name":"Santosh"},"score":2,"creation_date":1465883975,"post_id":1337501,"comment_id":63072788,"body_markdown":"Above solution is not working. Using Axis 1.4 &amp; Java 1.7. In-fact, not a single approach is working for Axis read time out.. surprise ! Tried all options mentioned in below link - http://wiki.apache.org/ws/FrontPage/Axis/AxisCommonsHTTP\n --/-- \nhttp://www.coderanch.com/t/544075/Web-Services/java/set-timeout-Axis-client\n --/--\nhttps://samaxes.com/2009/04/axis-14-read-timed-out-and-http-11/","body":"Above solution is not working. Using Axis 1.4 &amp; Java 1.7. In-fact, not a single approach is working for Axis read time out.. surprise ! Tried all options mentioned in below link - <a href=\"http://wiki.apache.org/ws/FrontPage/Axis/AxisCommonsHTTP\" rel=\"nofollow noreferrer\">wiki.apache.org/ws/FrontPage/Axis/AxisCommonsHTTP</a>  --/--  <a href=\"http://www.coderanch.com/t/544075/Web-Services/java/set-timeout-Axis-client\" rel=\"nofollow noreferrer\">coderanch.com/t/544075/Web-Services/java/&hellip;</a>  --/-- <a href=\"https://samaxes.com/2009/04/axis-14-read-timed-out-and-http-11/\" rel=\"nofollow noreferrer\">samaxes.com/2009/04/axis-14-read-timed-out-and-http-11</a>"}],"tags":[],"owner":{"account_id":54726,"reputation":889,"user_id":163818,"display_name":"Davanum Srinivas - dims"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1251320866,"creation_date":1251320866,"answer_id":1337501,"question_id":1336989,"body_markdown":"Don&#39;t use the default http sender, switch to commons http client based sender. Details are here - http://wiki.apache.org/ws/FrontPage/Axis/AxisCommonsHTTP - Same page has details on how to set various kinds of timeouts as well.","title":"problem with axis client stub timeout","body":"<p>Don't use the default http sender, switch to commons http client based sender. Details are here - <a href=\"http://wiki.apache.org/ws/FrontPage/Axis/AxisCommonsHTTP\" rel=\"nofollow noreferrer\">http://wiki.apache.org/ws/FrontPage/Axis/AxisCommonsHTTP</a> - Same page has details on how to set various kinds of timeouts as well.</p>\n"},{"tags":[],"owner":{"account_id":2385301,"reputation":524,"user_id":2086398,"display_name":"subbu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424252656,"creation_date":1374054192,"answer_id":17696389,"question_id":1336989,"body_markdown":"In Axis client stubs, there is an option for you to set the timeout. You can also use it. Note that the time-out is measured in milliseconds. [check here][1]  \r\n\r\nAnd if it is Axis2, you can use like this: \r\n\r\n    Stub s = new Stub();\r\n    ServiceClient sc = s.getServiceClient();\r\n    Options o = sc.getOptions();\r\n    o.setTimeOutInMilliSeconds(2000); //2 seconds\r\n    sc.setOptions(o);\r\n    s.setServiceClient(sc);\r\nYou can make your calls after setting the above stuff.\r\n\r\n\r\n  [1]: http://axis.apache.org/axis/java/apiDocs/org/apache/axis/client/Stub.html#setTimeout%28int%29","title":"problem with axis client stub timeout","body":"<p>In Axis client stubs, there is an option for you to set the timeout. You can also use it. Note that the time-out is measured in milliseconds. <a href=\"http://axis.apache.org/axis/java/apiDocs/org/apache/axis/client/Stub.html#setTimeout%28int%29\" rel=\"nofollow\">check here</a>  </p>\n\n<p>And if it is Axis2, you can use like this: </p>\n\n<pre><code>Stub s = new Stub();\nServiceClient sc = s.getServiceClient();\nOptions o = sc.getOptions();\no.setTimeOutInMilliSeconds(2000); //2 seconds\nsc.setOptions(o);\ns.setServiceClient(sc);\n</code></pre>\n\n<p>You can make your calls after setting the above stuff.</p>\n"},{"tags":[],"owner":{"account_id":6414730,"reputation":91,"user_id":4973301,"display_name":"7er"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696506369,"creation_date":1696506369,"answer_id":77236808,"question_id":1336989,"body_markdown":"With axis 1.4 found that actual timeout set from Stub::setTimeout is then appear in SocketFactoryFactory::getFactory, but if the factory for protocol is found in cache, new timeout value is ignored.\r\n\r\nCleaning the cache seems to fix the issue\r\n\r\n    stub.setTimeout(10000);\r\n    Map factories = (Map) FieldUtils.readDeclaredStaticField(SocketFactoryFactory.class, &quot;factories&quot;, true);\r\n    factories.clear();","title":"problem with axis client stub timeout","body":"<p>With axis 1.4 found that actual timeout set from Stub::setTimeout is then appear in SocketFactoryFactory::getFactory, but if the factory for protocol is found in cache, new timeout value is ignored.</p>\n<p>Cleaning the cache seems to fix the issue</p>\n<pre><code>stub.setTimeout(10000);\nMap factories = (Map) FieldUtils.readDeclaredStaticField(SocketFactoryFactory.class, &quot;factories&quot;, true);\nfactories.clear();\n</code></pre>\n"}],"owner":{"account_id":50167,"reputation":755,"user_id":149531,"accept_rate":73,"display_name":"Fell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1337501,"answer_count":3,"score":2,"last_activity_date":1696506369,"creation_date":1251315312,"question_id":1336989,"body_markdown":"I am writing an application which uses web services to connect a remote server.I have written a method to ping function to determine if the server is online or not(i.e. its providing the web services which can be accessed using host:port).I am executing a simple web service with a 2 sec timeout(available as an option in stub class before I make the call).Ideally the call should return within 2 seconds allowing me to ascertain whether the server is up or down.However in certain cases it takes far longer than 2 seconds.\r\n\r\nCan anyone help me figure out why this is happening?Is there a way to ensure that the timeout value is honored ?\r\n\r\nThanks,\r\nFell","title":"problem with axis client stub timeout","body":"<p>I am writing an application which uses web services to connect a remote server.I have written a method to ping function to determine if the server is online or not(i.e. its providing the web services which can be accessed using host:port).I am executing a simple web service with a 2 sec timeout(available as an option in stub class before I make the call).Ideally the call should return within 2 seconds allowing me to ascertain whether the server is up or down.However in certain cases it takes far longer than 2 seconds.</p>\n\n<p>Can anyone help me figure out why this is happening?Is there a way to ensure that the timeout value is honored ?</p>\n\n<p>Thanks,\nFell</p>\n"},{"tags":["java","xml"],"owner":{"account_id":15886,"reputation":457,"user_id":34026,"accept_rate":22,"display_name":"cdoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696507305,"answer_count":0,"score":0,"last_activity_date":1696505928,"creation_date":1696505928,"question_id":77236771,"body_markdown":"Let&#39;s say I have an XML document\r\n\r\n    &lt;letter&gt;\r\n      &lt;body&gt;Hello&lt;/body&gt;\r\n    &lt;/letter&gt;\r\n\r\nNow I want to wrap it inside inside a root element so that I can get the following XML\r\n\r\n    &lt;envelope&gt; \r\n      &lt;letter&gt;\r\n        &lt;body&gt;Hello&lt;/body&gt;\r\n      &lt;/letter&gt;\r\n    &lt;/envelope&gt;\r\n\r\nI tried something like this, but I&#39;m getting HIERARCHY_REQUEST_ERR - An attempt was made to insert a node where it is not permitted. I also tried importNode() but that too fails.\r\n\r\n    Document d1 = builder.parse(new InputSource(new StringReader(letterXml)));\r\n    \r\n    Document d2 = builder.newDocument();\r\n    Element envelope = d2.createElement(&quot;envelope&quot;);\r\n    d2.appendChild(envelope);\r\n    \r\n    NodeList nodes = d1.getDocumentElement().getChildNodes();\r\n    d2.appendChild(document2.adoptNode(nodes.item(0).cloneNode(true))); //This is throwing exception\r\n\r\n","title":"How can I insert an XML inside another XML using Java?","body":"<p>Let's say I have an XML document</p>\n<pre><code>&lt;letter&gt;\n  &lt;body&gt;Hello&lt;/body&gt;\n&lt;/letter&gt;\n</code></pre>\n<p>Now I want to wrap it inside inside a root element so that I can get the following XML</p>\n<pre><code>&lt;envelope&gt; \n  &lt;letter&gt;\n    &lt;body&gt;Hello&lt;/body&gt;\n  &lt;/letter&gt;\n&lt;/envelope&gt;\n</code></pre>\n<p>I tried something like this, but I'm getting HIERARCHY_REQUEST_ERR - An attempt was made to insert a node where it is not permitted. I also tried importNode() but that too fails.</p>\n<pre><code>Document d1 = builder.parse(new InputSource(new StringReader(letterXml)));\n\nDocument d2 = builder.newDocument();\nElement envelope = d2.createElement(&quot;envelope&quot;);\nd2.appendChild(envelope);\n\nNodeList nodes = d1.getDocumentElement().getChildNodes();\nd2.appendChild(document2.adoptNode(nodes.item(0).cloneNode(true))); //This is throwing exception\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":3,"creation_date":1451226269,"post_id":34481300,"comment_id":56704262,"body_markdown":"do a mvn dependency:tree in the root of your project, and doublecheck that you don&#39;t have 2.5.4 included transitively.","body":"do a mvn dependency:tree in the root of your project, and doublecheck that you don&#39;t have 2.5.4 included transitively."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1451229620,"post_id":34481300,"comment_id":56705358,"body_markdown":"Can you show the full pom file?","body":"Can you show the full pom file?"}],"answers":[{"comments":[{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":2,"creation_date":1451228542,"post_id":34481527,"comment_id":56704960,"body_markdown":"How does this affect maven beside forcing it to download every single dependency again?","body":"How does this affect maven beside forcing it to download every single dependency again?"},{"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1451228637,"post_id":34481527,"comment_id":56704999,"body_markdown":"@SatelliteSD i believe there is a weird behavior in intellij because i encountered such a problem last week, this solved my problem, i don&#39;t even know why, but ....","body":"@SatelliteSD i believe there is a weird behavior in intellij because i encountered such a problem last week, this solved my problem, i don&#39;t even know why, but ...."},{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1451228739,"post_id":34481527,"comment_id":56705041,"body_markdown":"If the build contains 2.5.4 it is a maven issue not IDE.","body":"If the build contains 2.5.4 it is a maven issue not IDE."},{"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1451228815,"post_id":34481527,"comment_id":56705073,"body_markdown":"In my case no, it was an IDE issue, intellij kept storing the wrong version in his configuration.","body":"In my case no, it was an IDE issue, intellij kept storing the wrong version in his configuration."},{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1451228896,"post_id":34481527,"comment_id":56705107,"body_markdown":"Maven is not very interested in IDE configs.","body":"Maven is not very interested in IDE configs."},{"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1451229043,"post_id":34481527,"comment_id":56705156,"body_markdown":"i know, but in my case it was a spring-boot project, and even if i use maven for the project, when i click the `start` project, intellij seems not to use `mvn` to build the project, (i know it is strange, but some project launch config interact with configurations)","body":"i know, but in my case it was a spring-boot project, and even if i use maven for the project, when i click the <code>start</code> project, intellij seems not to use <code>mvn</code> to build the project, (i know it is strange, but some project launch config interact with configurations)"},{"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1451229446,"post_id":34481527,"comment_id":56705308,"body_markdown":"I know the question, he never sayed that he use the `maven launch configuration`, you starts being anoying, if you have a better solution post it below...","body":"I know the question, he never sayed that he use the <code>maven launch configuration</code>, you starts being anoying, if you have a better solution post it below..."},{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1451229737,"post_id":34481527,"comment_id":56705392,"body_markdown":"I know what you said and you are wrong. No matter what launch configuration you may come up with, maven relies on poms.","body":"I know what you said and you are wrong. No matter what launch configuration you may come up with, maven relies on poms."},{"owner":{"account_id":8761412,"reputation":165,"user_id":6551267,"display_name":"lidlesseye"},"score":0,"creation_date":1626247381,"post_id":34481527,"comment_id":120838561,"body_markdown":"Step 1 solved my problem (ver 2020.2). THANKS!","body":"Step 1 solved my problem (ver 2020.2). THANKS!"}],"tags":[],"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"comment_count":9,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1451227653,"creation_date":1451227653,"answer_id":34481527,"question_id":34481300,"body_markdown":"### Step 1:\r\nOpen the project&#39;s folder, then go to : `.idea/libraries/` you should find here a file by maven dependency.\r\nDelete the `jackson-core` and `jackson-databinding` files.\r\n\r\n&lt;br&gt;\r\n### Step 2: Remove maven dependency\r\nRemove the two dependencies from `pom.xml&#39; file. (do not comment out, erase the lines).\r\n\r\n&lt;br&gt;\r\n### Step 3: Check Intellij project config\r\nOpen `project structure` windows (clic on the top parent folder in Intellij then press F4), then go to `Libraries` tab. ensure the two dependencies are not present, if there are, delete them as well (with the &#39;-&#39; button at top).\r\n\r\n&lt;br&gt;\r\n### Step 4: Remove all cached maven libraries\r\nGo to your home folder, for windows : `C:\\Users\\&lt;YOUR_NAME&gt;\\.m2\\`, here remove the repository folder.\r\n\r\n&lt;br&gt;\r\n### Step 5: Reimport the project\r\nIn intellij : Right  click the top folder of your project then `&gt; Maven &gt; Reimport`.\r\n\r\n&lt;br&gt;\r\n### Step 6: Add maven dep\r\nAdd your two dependencies to `pom.xml`.\r\n\r\n&lt;br&gt;\r\n### Step 8: Build your project.\r\nLaunch your project.\r\n\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nThis should work.","title":"Intellij Idea + Maven: dependency version is wrong in run time","body":"<h3>Step 1:</h3>\n\n<p>Open the project's folder, then go to : <code>.idea/libraries/</code> you should find here a file by maven dependency.\nDelete the <code>jackson-core</code> and <code>jackson-databinding</code> files.</p>\n\n<p><br></p>\n\n<h3>Step 2: Remove maven dependency</h3>\n\n<p>Remove the two dependencies from `pom.xml' file. (do not comment out, erase the lines).</p>\n\n<p><br></p>\n\n<h3>Step 3: Check Intellij project config</h3>\n\n<p>Open <code>project structure</code> windows (clic on the top parent folder in Intellij then press F4), then go to <code>Libraries</code> tab. ensure the two dependencies are not present, if there are, delete them as well (with the '-' button at top).</p>\n\n<p><br></p>\n\n<h3>Step 4: Remove all cached maven libraries</h3>\n\n<p>Go to your home folder, for windows : <code>C:\\Users\\&lt;YOUR_NAME&gt;\\.m2\\</code>, here remove the repository folder.</p>\n\n<p><br></p>\n\n<h3>Step 5: Reimport the project</h3>\n\n<p>In intellij : Right  click the top folder of your project then <code>&gt; Maven &gt; Reimport</code>.</p>\n\n<p><br></p>\n\n<h3>Step 6: Add maven dep</h3>\n\n<p>Add your two dependencies to <code>pom.xml</code>.</p>\n\n<p><br></p>\n\n<h3>Step 8: Build your project.</h3>\n\n<p>Launch your project.</p>\n\n<p><br>\n<br>\nThis should work.</p>\n"},{"comments":[{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":0,"creation_date":1451304748,"post_id":34486694,"comment_id":56728217,"body_markdown":"deletion won&#39;t help anything, because it would just be downloaded again. Also he has to determine dependencies at root level, because of maven dependency convergence.","body":"deletion won&#39;t help anything, because it would just be downloaded again. Also he has to determine dependencies at root level, because of maven dependency convergence."},{"owner":{"account_id":2673980,"reputation":1,"user_id":2310772,"display_name":"wanglijie"},"score":0,"creation_date":1451386667,"post_id":34486694,"comment_id":56760182,"body_markdown":"yes, you are right. But delete the 2.5.4 version could check if the processing of build will download this version again.","body":"yes, you are right. But delete the 2.5.4 version could check if the processing of build will download this version again."}],"tags":[],"owner":{"account_id":2673980,"reputation":1,"user_id":2310772,"display_name":"wanglijie"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451266323,"creation_date":1451266323,"answer_id":34486694,"question_id":34481300,"body_markdown":"Run the maven command &quot;mvn dependency:tree&quot; in the directory which contains the parent pomx.mxl file, you can find if you have 2.5.4 there. Maybe you add other jars which also import version 2.5.4, then you should exclude the 2.5.4 version.\r\n\r\nAlso you can check the local Maven repository, and delete the 2.5.4 version Jackson.","title":"Intellij Idea + Maven: dependency version is wrong in run time","body":"<p>Run the maven command \"mvn dependency:tree\" in the directory which contains the parent pomx.mxl file, you can find if you have 2.5.4 there. Maybe you add other jars which also import version 2.5.4, then you should exclude the 2.5.4 version.</p>\n\n<p>Also you can check the local Maven repository, and delete the 2.5.4 version Jackson.</p>\n"},{"tags":[],"owner":{"account_id":11766453,"reputation":1,"user_id":8610888,"display_name":"Saami Siddiqui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505415960,"creation_date":1505413819,"answer_id":46226053,"question_id":34481300,"body_markdown":"I had a similar issue with one of my dependencies. I went to the `.m2/repository` directory and manually deleted the unwanted dependencies that were there. I only kept the version I wanted in the `m2` directory. Then I invalidated my caches and restarted IntelliJ IDEA. That seemed to have fixed the issue.","title":"Intellij Idea + Maven: dependency version is wrong in run time","body":"<p>I had a similar issue with one of my dependencies. I went to the <code>.m2/repository</code> directory and manually deleted the unwanted dependencies that were there. I only kept the version I wanted in the <code>m2</code> directory. Then I invalidated my caches and restarted IntelliJ IDEA. That seemed to have fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":10367658,"reputation":1,"user_id":7646237,"display_name":"D&#225;niel Apjok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687189507,"creation_date":1687189507,"answer_id":76508192,"question_id":34481300,"body_markdown":"It&#39;s and old post but just in case, what worked for me in newer version (2023.1.2) is to delete manually the cached faulty version. It can be done by\r\n\r\n 1. In Project hierarchy find &quot;External Libraries&quot; and the faulty dependency in it.\r\n 2. Right click -&gt; Open Library Settings (or Left click -&gt; F4)\r\n 3. This will open &quot;Project Structure/Libraries&quot; (ctrl + shift + alt + s) with the dependency selected in the list.\r\n 4. Click on the &quot;-&quot; icon on top of the list. Confirm. Reimport maven and it should download the correct version.","title":"Intellij Idea + Maven: dependency version is wrong in run time","body":"<p>It's and old post but just in case, what worked for me in newer version (2023.1.2) is to delete manually the cached faulty version. It can be done by</p>\n<ol>\n<li>In Project hierarchy find &quot;External Libraries&quot; and the faulty dependency in it.</li>\n<li>Right click -&gt; Open Library Settings (or Left click -&gt; F4)</li>\n<li>This will open &quot;Project Structure/Libraries&quot; (ctrl + shift + alt + s) with the dependency selected in the list.</li>\n<li>Click on the &quot;-&quot; icon on top of the list. Confirm. Reimport maven and it should download the correct version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696505769,"creation_date":1696505769,"answer_id":77236754,"question_id":34481300,"body_markdown":"For me deleting the dependecy in my .m2 didnt help, neither did clearing the cache idea. In the end I just had to reclone my repo and it worked. ","title":"Intellij Idea + Maven: dependency version is wrong in run time","body":"<p>For me deleting the dependecy in my .m2 didnt help, neither did clearing the cache idea. In the end I just had to reclone my repo and it worked.</p>\n"}],"owner":{"account_id":977790,"reputation":15548,"user_id":998318,"accept_rate":61,"display_name":"Moshe Shaham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8792,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1696505769,"creation_date":1451226032,"question_id":34481300,"body_markdown":"This is driving me crazy. Originally I had added Jackson v. 2.5.4 dependency to my project. Later, I updated it to use 2.6.4 like this:\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen writing the code I can see that the new version features are there. Also, when I go to project settings under modules and artifacts everything there says jackson 2.6.4.\r\n\r\nBut, when I run the program, clearly it&#39;s using version 2.5.4. I see that the new feature added in 2.6.0 is not there, also I checked:\r\n\r\n    System.out.println(ObjectMapper.class.getPackage().getSpecificationVersion());\r\n\r\nand the output is 2.5.4...\r\n\r\nI rebuilt the project, re-imported dependencies and restarted intellij several times....\r\nplease help...","title":"Intellij Idea + Maven: dependency version is wrong in run time","body":"<p>This is driving me crazy. Originally I had added Jackson v. 2.5.4 dependency to my project. Later, I updated it to use 2.6.4 like this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>When writing the code I can see that the new version features are there. Also, when I go to project settings under modules and artifacts everything there says jackson 2.6.4.</p>\n\n<p>But, when I run the program, clearly it's using version 2.5.4. I see that the new feature added in 2.6.0 is not there, also I checked:</p>\n\n<pre><code>System.out.println(ObjectMapper.class.getPackage().getSpecificationVersion());\n</code></pre>\n\n<p>and the output is 2.5.4...</p>\n\n<p>I rebuilt the project, re-imported dependencies and restarted intellij several times....\nplease help...</p>\n"},{"tags":["java","class","compiler-errors"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":4,"creation_date":1696505054,"post_id":77236655,"comment_id":136163018,"body_markdown":"Compilers are (almost?) never wrong about this sort of thing. You don&#39;t need to tell it to shut up, you need to (better) tell it what you meant.","body":"Compilers are (almost?) never wrong about this sort of thing. You don&#39;t need to tell it to shut up, you need to (better) tell it what you meant."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696505120,"post_id":77236655,"comment_id":136163031,"body_markdown":"Think about what the type of the whole `? :` expression is here. It&#39;ll use the combined type to resolve a single call.","body":"Think about what the type of the whole <code>? :</code> expression is here. It&#39;ll use the combined type to resolve a single call."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1696505379,"post_id":77236655,"comment_id":136163067,"body_markdown":"This `c.getClass()!=Commodity.class` is fishy. `getClass` returns the actual runtime class, so it will never be `Commodity`. This condition is always true","body":"This <code>c.getClass()!=Commodity.class</code> is fishy. <code>getClass</code> returns the actual runtime class, so it will never be <code>Commodity</code>. This condition is always true"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1696505424,"post_id":77236655,"comment_id":136163078,"body_markdown":"&quot;but it obviously won&#39;t&quot; - you may wish to think about what&#39;s &quot;obvious&quot;.","body":"&quot;but it obviously won&#39;t&quot; - you may wish to think about what&#39;s &quot;obvious&quot;."},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696505688,"post_id":77236655,"comment_id":136163136,"body_markdown":"@Jorn, The problem here is that I need to call constructor, that corresponds to the type of an argument. To avoid huge expression like `A instanceof B?(B)arg : A instanceof C?(C)arg : ....` (for each subclass) I&#39;ve decided to use handy statement like `arg.getClass.cast(arg)`. Isn&#39;t it called polymorphism and used in many places?","body":"@Jorn, The problem here is that I need to call constructor, that corresponds to the type of an argument. To avoid huge expression like <code>A instanceof B?(B)arg : A instanceof C?(C)arg : ....</code> (for each subclass) I&#39;ve decided to use handy statement like <code>arg.getClass.cast(arg)</code>. Isn&#39;t it called polymorphism and used in many places?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696505719,"post_id":77236655,"comment_id":136163144,"body_markdown":"@TechoftheAbsence It may sound clever, but if it doesn&#39;t work... The problem is that the target constructor call is chosen at *compile* time, so you just cannot do it this way.","body":"@TechoftheAbsence It may sound clever, but if it doesn&#39;t work... The problem is that the target constructor call is chosen at <i>compile</i> time, so you just cannot do it this way."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696505893,"post_id":77236655,"comment_id":136163177,"body_markdown":"By the way, a *proper* polymorphic design wouldn&#39;t need separate constructors for each subclass. The differentiating logic should be in the `Commodity` subclasses, not in the `Option` class.","body":"By the way, a <i>proper</i> polymorphic design wouldn&#39;t need separate constructors for each subclass. The differentiating logic should be in the <code>Commodity</code> subclasses, not in the <code>Option</code> class."},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696505932,"post_id":77236655,"comment_id":136163182,"body_markdown":"If I had pass on instance of class `Item` (in a variable of type `Commodity`), should `getClass()` return `Item`? Or am I fundamentally wrong?","body":"If I had pass on instance of class <code>Item</code> (in a variable of type <code>Commodity</code>), should <code>getClass()</code> return <code>Item</code>? Or am I fundamentally wrong?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696506068,"post_id":77236655,"comment_id":136163216,"body_markdown":"You would be correct *at runtime*. But the constructor call is resolved at *compile time*. I suppose you *could* call that &quot;fundamentally wrong&quot; if you so choose ;-)","body":"You would be correct <i>at runtime</i>. But the constructor call is resolved at <i>compile time</i>. I suppose you <i>could</i> call that &quot;fundamentally wrong&quot; if you so choose ;-)"}],"answers":[{"comments":[{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696506281,"post_id":77236693,"comment_id":136163252,"body_markdown":"So... Is there a way to avoid that god-awfull (when used for many more than 2 classes) if-else-like construction? Can I replace it with something shorter and simpler?","body":"So... Is there a way to avoid that god-awfull (when used for many more than 2 classes) if-else-like construction? Can I replace it with something shorter and simpler?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696506329,"post_id":77236693,"comment_id":136163264,"body_markdown":"Probably. This logic feels like it should be in the `Commodity` subclasses, not in the `Option` class.","body":"Probably. This logic feels like it should be in the <code>Commodity</code> subclasses, not in the <code>Option</code> class."},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696506363,"post_id":77236693,"comment_id":136163268,"body_markdown":"Then how to organise it in subclasses?","body":"Then how to organise it in subclasses?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696506414,"post_id":77236693,"comment_id":136163275,"body_markdown":"You haven&#39;t shown the different constructor implementations, so I can&#39;t know that. But I&#39;d start by defining a method in the `Commodity` class and overriding or implementing it in the subclasses.","body":"You haven&#39;t shown the different constructor implementations, so I can&#39;t know that. But I&#39;d start by defining a method in the <code>Commodity</code> class and overriding or implementing it in the subclasses."},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696506896,"post_id":77236693,"comment_id":136163376,"body_markdown":"What method are you concretely talking about? Do you suggest placing constructors&#39; code into some method?","body":"What method are you concretely talking about? Do you suggest placing constructors&#39; code into some method?"},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696507421,"post_id":77236693,"comment_id":136163494,"body_markdown":"What should I do, If `Commodity` is an interface, and `Item` &amp; `Consumable` are enums? No methods can be defined (except too restricted ones with default keyword).","body":"What should I do, If <code>Commodity</code> is an interface, and <code>Item</code> &amp; <code>Consumable</code> are enums? No methods can be defined (except too restricted ones with default keyword)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696507986,"post_id":77236693,"comment_id":136163622,"body_markdown":"@TechoftheAbsence Enums can implement interfaces. Check [Why would an Enum implement an Interface?](https://stackoverflow.com/questions/2709593/why-would-an-enum-implement-an-interface), there are lot of examples in the answers.","body":"@TechoftheAbsence Enums can implement interfaces. Check <a href=\"https://stackoverflow.com/questions/2709593/why-would-an-enum-implement-an-interface\">Why would an Enum implement an Interface?</a>, there are lot of examples in the answers."},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696508061,"post_id":77236693,"comment_id":136163635,"body_markdown":"@Chaosfire, yes they are, but then we&#39;r unable to define or redefine a method.","body":"@Chaosfire, yes they are, but then we&#39;r unable to define or redefine a method."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696508205,"post_id":77236693,"comment_id":136163670,"body_markdown":"@TechoftheAbsence Yes, we can do that, as I said, check the examples in the answers.","body":"@TechoftheAbsence Yes, we can do that, as I said, check the examples in the answers."},{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1696508576,"post_id":77236693,"comment_id":136163757,"body_markdown":"Well, thanks for new information, but what method should I realize there, If I am using `Option` constructors for changing design of that `Option` (extends `JComponent`)?","body":"Well, thanks for new information, but what method should I realize there, If I am using <code>Option</code> constructors for changing design of that <code>Option</code> (extends <code>JComponent</code>)?"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":10,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696505661,"creation_date":1696505318,"answer_id":77236693,"question_id":77236655,"body_markdown":"Unsurprisingly, the compiler isn&#39;t actually wrong here. Let&#39;s look at the separate parts of your code:\r\n\r\nI&#39;m going to assume that both `Item` and `Consumable` extend `Commodity`.\r\n\r\n`Item.EMPTY`: We can assume this is of type `Item`.\r\n\r\n`c.getClass().cast(c)`: This does nothing. It&#39;s always going to be of type `Commodity`.\r\n\r\n`c.getClass()!=Commodity.class?c.getClass().cast(c):Item.EMPTY` will then resolve to the common supertype. That&#39;s `Commodity`.\r\n\r\nThe compiler has no choice but to choose the `Commodity` overload, and that&#39;s what makes it a recursive call.\r\n\r\nAll in all, what you are trying to do is call a different constructor overload based on a conditional. That&#39;s simply not possible in Java. Instead, you should make a factory method:\r\n\r\n```\r\nstatic Option create(Commodity commodity, int price) {\r\n  return commodity instanceof Consumable ? new Option((Consumable) commodity, price) : new Option(Item.EMPTY, price);\r\n}","title":"Compiler thinks that calling constructor with arg.getClass().cast(arg) is recursive, althought it wrong","body":"<p>Unsurprisingly, the compiler isn't actually wrong here. Let's look at the separate parts of your code:</p>\n<p>I'm going to assume that both <code>Item</code> and <code>Consumable</code> extend <code>Commodity</code>.</p>\n<p><code>Item.EMPTY</code>: We can assume this is of type <code>Item</code>.</p>\n<p><code>c.getClass().cast(c)</code>: This does nothing. It's always going to be of type <code>Commodity</code>.</p>\n<p><code>c.getClass()!=Commodity.class?c.getClass().cast(c):Item.EMPTY</code> will then resolve to the common supertype. That's <code>Commodity</code>.</p>\n<p>The compiler has no choice but to choose the <code>Commodity</code> overload, and that's what makes it a recursive call.</p>\n<p>All in all, what you are trying to do is call a different constructor overload based on a conditional. That's simply not possible in Java. Instead, you should make a factory method:</p>\n<pre><code>static Option create(Commodity commodity, int price) {\n  return commodity instanceof Consumable ? new Option((Consumable) commodity, price) : new Option(Item.EMPTY, price);\n}\n</code></pre>\n"}],"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":77236693,"answer_count":1,"score":-4,"last_activity_date":1696505661,"creation_date":1696504998,"question_id":77236655,"body_markdown":"I have an interface `Commodity`, that is a supertype of `Item` and `Consumable` enums.\r\nAlso, there is a class `Option` with multiple constructors:\r\n\r\n```java\r\nclass Option{\r\n\tOption(Item c,int price){. . .}\r\n\tOption(Consumable c,int price){. . .}\r\n\tOption(Commodity c,int price){\r\n\t\tthis(c.getClass()!=Commodity.class?c.getClass().cast(c):Item.EMPTY,price);\r\n\t}\r\n}\r\n}\r\n```\r\nCompiler thinks, that this will lead to an infinite recursion, but it obviously won&#39;t.\r\n\r\n&gt;`Recursive constructor invocation Option(Commodity, int)`\r\n\r\nHow to say him &quot;Shut up, guy, I know, what I am doing!&quot;?","title":"Compiler thinks that calling constructor with arg.getClass().cast(arg) is recursive, althought it wrong","body":"<p>I have an interface <code>Commodity</code>, that is a supertype of <code>Item</code> and <code>Consumable</code> enums.\nAlso, there is a class <code>Option</code> with multiple constructors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Option{\n    Option(Item c,int price){. . .}\n    Option(Consumable c,int price){. . .}\n    Option(Commodity c,int price){\n        this(c.getClass()!=Commodity.class?c.getClass().cast(c):Item.EMPTY,price);\n    }\n}\n}\n</code></pre>\n<p>Compiler thinks, that this will lead to an infinite recursion, but it obviously won't.</p>\n<blockquote>\n<p><code>Recursive constructor invocation Option(Commodity, int)</code></p>\n</blockquote>\n<p>How to say him &quot;Shut up, guy, I know, what I am doing!&quot;?</p>\n"},{"tags":["java","postgresql","jpa","foreign-keys","dbeaver"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1696513534,"post_id":77236582,"comment_id":136164991,"body_markdown":"That is correct for one to many, only a foreign key is generated. Why do you need a subject attribute in teacher?","body":"That is correct for one to many, only a foreign key is generated. Why do you need a subject attribute in teacher?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1696518382,"post_id":77236582,"comment_id":136166174,"body_markdown":"Define &#39;correct&#39; more clearly. What exactly do you expect from the table structure and maybe then you can look at the java entity model.","body":"Define &#39;correct&#39; more clearly. What exactly do you expect from the table structure and maybe then you can look at the java entity model."},{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1696522122,"post_id":77236582,"comment_id":136166947,"body_markdown":"*The data model (e-r model) that Dbeaver defines ... only generates the relationship in the subject table*. That is **exactly** how is should be defined in a RDBMS. It says &quot;for a given subject I get 1 teacher and for a given teacher I get many subjects&quot;. You do not want the subject in the teacher entity. Putting it there would require an array of subjects, thus making it a M:M relationship and at the same you violate 1NF.","body":"<i>The data model (e-r model) that Dbeaver defines ... only generates the relationship in the subject table</i>. That is <b>exactly</b> how is should be defined in a RDBMS. It says &quot;for a given subject I get 1 teacher and for a given teacher I get many subjects&quot;. You do not want the subject in the teacher entity. Putting it there would require an array of subjects, thus making it a M:M relationship and at the same you violate 1NF."}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696505614,"creation_date":1696504453,"question_id":77236582,"body_markdown":"I am working with Jakarta (JPA) and postgres. I use DBeaver as a database manager. I have two entities defined, *teacher* and *subject*.\r\n\r\nThe relationship between them is, a teacher can teach several subjects, but a subject can only be taught by one teacher, this is a 1:N relationship in the sense of teacher and subject. I have modeled this with Jakarta, as follows:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;teacher&quot;)\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor \r\n    public class Teacher {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.UUID)\r\n    \t@Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    \t@EqualsAndHashCode.Include\r\n    \tprivate String id;\r\n    \r\n    \t@OneToMany(targetEntity = Subject.class, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n    \t@JsonManagedReference\r\n    \tprivate Set&lt;Subject&gt; subject;\r\n        } \r\n\r\nand \r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;subject&quot;)\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor \r\n    public class Subject {\r\n    \r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.UUID)\r\n\t@Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n\t@EqualsAndHashCode.Include\r\n\tprivate String id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@OnDelete(action = OnDeleteAction.CASCADE)\r\n    \t@JoinColumn(name = &quot;teacher&quot;, referencedColumnName = &quot;id&quot;, foreignKey = @ForeignKey(name=&quot;fk_teacher_subject&quot;))\r\n    \t@JsonBackReference\r\n    \tprivate Teacher teacher;\r\n    }\r\n\r\nHowever, the data model (e-r model) that Dbeaver defines when starting the microservice only generates the relationship in the subject table, that is, I need my teacher table to contain a subject attribute and also for the subject table to contain an attribute teacher.\r\n\r\nthe relationship tags oneToMany and manyToOne are correctly defined.\r\n\r\nAfter searching for information, I added the `@JsonManagedReference` and `@JsonBackReference` tags in each of the entities to indicate which entity is the parent (*Teacher*) and child (*Subject*)\r\n\r\n\r\nWhy is the &#39;subject&#39; attribute not generated correctly in Teacher?","title":"Bidirectional relationship OneToMany in Java Entity","body":"<p>I am working with Jakarta (JPA) and postgres. I use DBeaver as a database manager. I have two entities defined, <em>teacher</em> and <em>subject</em>.</p>\n<p>The relationship between them is, a teacher can teach several subjects, but a subject can only be taught by one teacher, this is a 1:N relationship in the sense of teacher and subject. I have modeled this with Jakarta, as follows:</p>\n<pre><code>@Entity\n@Table(name = &quot;teacher&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor \npublic class Teacher {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    @EqualsAndHashCode.Include\n    private String id;\n\n    @OneToMany(targetEntity = Subject.class, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    @JsonManagedReference\n    private Set&lt;Subject&gt; subject;\n    } \n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table(name = &quot;subject&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor \npublic class Subject {\n\n@Id\n@GeneratedValue(strategy = GenerationType.UUID)\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\n@EqualsAndHashCode.Include\nprivate String id;\n\n@ManyToOne(fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(name = &quot;teacher&quot;, referencedColumnName = &quot;id&quot;, foreignKey = @ForeignKey(name=&quot;fk_teacher_subject&quot;))\n    @JsonBackReference\n    private Teacher teacher;\n}\n</code></pre>\n<p>However, the data model (e-r model) that Dbeaver defines when starting the microservice only generates the relationship in the subject table, that is, I need my teacher table to contain a subject attribute and also for the subject table to contain an attribute teacher.</p>\n<p>the relationship tags oneToMany and manyToOne are correctly defined.</p>\n<p>After searching for information, I added the <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> tags in each of the entities to indicate which entity is the parent (<em>Teacher</em>) and child (<em>Subject</em>)</p>\n<p>Why is the 'subject' attribute not generated correctly in Teacher?</p>\n"},{"tags":["java","spring-boot","maven","vaadin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696495064,"post_id":77235483,"comment_id":136160996,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696499440,"creation_date":1696499440,"answer_id":77236024,"question_id":77235483,"body_markdown":"You are trying the &quot;inject&quot; a value but not via a variable - so the\r\nerror you are getting is telling you, that there is no variable named\r\n`BBRr0...`.\r\n\r\nUse proper variable name like `app.push.pubkey`\r\n\r\n`@Value(&quot;${app.push.pubkey}&quot;) private String publicKey`\r\n\r\nAnd add it in your `application.yml` or `application.properties` with\r\nthe test value.\r\n\r\n`app.push.pubkey=BBRr0...`\r\n\r\nOr if you absolutely must, use the test-key as a fallback, if the var is\r\nmissing:\r\n\r\n`@Value(&quot;${app.push.pubkey:BBRr0...}&quot;) private String publicKey`\r\n","title":"Error injecting: com.vaadin.flow.plugin.maven.PrepareFrontendMojo","body":"<p>You are trying the &quot;inject&quot; a value but not via a variable - so the\nerror you are getting is telling you, that there is no variable named\n<code>BBRr0...</code>.</p>\n<p>Use proper variable name like <code>app.push.pubkey</code></p>\n<p><code>@Value(&quot;${app.push.pubkey}&quot;) private String publicKey</code></p>\n<p>And add it in your <code>application.yml</code> or <code>application.properties</code> with\nthe test value.</p>\n<p><code>app.push.pubkey=BBRr0...</code></p>\n<p>Or if you absolutely must, use the test-key as a fallback, if the var is\nmissing:</p>\n<p><code>@Value(&quot;${app.push.pubkey:BBRr0...}&quot;) private String publicKey</code></p>\n"},{"tags":[],"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696505522,"creation_date":1696505522,"answer_id":77236724,"question_id":77235483,"body_markdown":"The maven error is because you are running the build with Java 8, whereas the Vaadin version in use will require at least Java 17","title":"Error injecting: com.vaadin.flow.plugin.maven.PrepareFrontendMojo","body":"<p>The maven error is because you are running the build with Java 8, whereas the Vaadin version in use will require at least Java 17</p>\n"}],"owner":{"account_id":26916221,"reputation":1,"user_id":20490955,"display_name":"Suki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696505522,"creation_date":1696494997,"question_id":77235483,"body_markdown":"I tried to clone this project from github to implement web push notifications. This project uses vaadin to send a notification [link for github project](https://github.com/web-push-libs/webpush-java) I am using IntelliJ 2023 version. I have successfully implemented the keys but after running mvn clean install I am getting the following logs\r\n```\r\nError injecting: com.vaadin.flow.plugin.maven.PrepareFrontendMojo\r\njava.lang.TypeNotPresentException: Type com.vaadin.flow.plugin.maven.PrepareFrontendMojo not present\r\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)     \r\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)      \r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)      \r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)    \r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)  \r\nCaused by: java.lang.UnsupportedClassVersionError: com/vaadin/flow/plugin/maven/Pre\r\npareFrontendMojo has been compiled by a more recent version of the Java Runtime (cl\r\nass file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n    at java.lang.ClassLoader.defineClass1 (Native Method)\r\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:756)\r\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:142)    \r\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:473)\r\n    at java.net.URLClassLoader.access$100 (URLClassLoader.java:74)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:369)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:363)\r\n    at java.security.AccessController.doPrivileged (Native Method)\r\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:362)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.findClassInternal (ClassRealm.java:313)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:432)\r\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\r\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)     \r\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)      \r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)      \r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)    \r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)  \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------    \r\n[INFO] Total time:  4.946 s\r\n[INFO] Finished at: 2023-10-05T13:53:58+05:30\r\n[INFO] ------------------------------------------------------------------------    \r\n[ERROR] Failed to execute goal com.vaadin:vaadin-maven-plugin:24.0.0.beta4:prepare-\r\nfrontend (default) on project webpush: Execution default of goal com.vaadin:vaadin-\r\nmaven-plugin:24.0.0.beta4:prepare-frontend failed: Unable to load the mojo &#39;prepare\r\n-frontend&#39; in the plugin &#39;com.vaadin:vaadin-maven-plugin:24.0.0.beta4&#39; due to an AP\r\nI incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLook\r\nupException: com/vaadin/flow/plugin/maven/PrepareFrontendMojo has been compiled by \r\na more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    plugin&gt;com.vaadin:vaadin-maven-plugin:24.0.0.beta4\r\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy      \r\n[ERROR] urls[0] = file:/C:/Users/sukri/.m2/repository/com/vaadin/vaadin-maven-plugin/24.0.0.beta4/vaadin-maven-plugin-24.0.0.beta4.jar\r\n[ERROR] urls[1] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-maven-plugin/24.0.0.beta4/flow-maven-plugin-24.0.0.beta4.jar\r\n[ERROR] urls[2] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-plugin-base/24.0.0.beta4/flow-plugin-base-24.0.0.beta4.jar\r\n[ERROR] urls[3] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-server/24.0.0.beta4/flow-server-24.0.0.beta4.jar\r\n[ERROR] urls[4] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-push/24.0.0.beta4/flow-push-24.0.0.beta4.jar\r\n[ERROR] urls[5] = file:/C:/Users/sukri/.m2/repository/com/vaadin/external/atmosphere/atmosphere-runtime/3.0.0.slf4jvaadin2/atmosphere-runtime-3.0.0.slf4jvaadin2.jar  \r\n[ERROR] urls[6] = file:/C:/Users/sukri/.m2/repository/jakarta/inject/jakarta.inject-api/2.0.1/jakarta.inject-api-2.0.1.jar\r\n[ERROR] urls[7] = file:/C:/Users/sukri/.m2/repository/com/vaadin/servletdetector/throw-if-servlet3/1.0.2/throw-if-servlet3-1.0.2.jar\r\n[ERROR] urls[8] = file:/C:/Users/sukri/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar\r\n[ERROR] urls[9] = file:/C:/Users/sukri/.m2/repository/com/vaadin/external/gwt/gwt-elemental/2.8.2.vaadin2/gwt-elemental-2.8.2.vaadin2.jar\r\n[ERROR] urls[10] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-commons-upload/24.0.0.beta4/flow-commons-upload-24.0.0.beta4.jar\r\n[ERROR] urls[11] = file:/C:/Users/sukri/.m2/repository/org/jsoup/jsoup/1.15.3/jsoup-1.15.3.jar\r\n[ERROR] urls[12] = file:/C:/Users/sukri/.m2/repository/com/helger/ph-css/6.5.0/ph-css-6.5.0.jar\r\n[ERROR] urls[13] = file:/C:/Users/sukri/.m2/repository/com/helger/commons/ph-commons/10.1.6/ph-commons-10.1.6.jar\r\n[ERROR] urls[14] = file:/C:/Users/sukri/.m2/repository/net/bytebuddy/byte-buddy/1.12.22/byte-buddy-1.12.22.jar\r\n[ERROR] urls[15] = file:/C:/Users/sukri/.m2/repository/com/vaadin/external/gentyref/1.2.0.vaadin1/gentyref-1.2.0.vaadin1.jar\r\n[ERROR] urls[16] = file:/C:/Users/sukri/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar\r\n[ERROR] urls[17] = file:/C:/Users/sukri/.m2/repository/com/vaadin/license-checker/1.12.0/license-checker-1.12.0.jar\r\n[ERROR] urls[18] = file:/C:/Users/sukri/.m2/repository/com/github/oshi/oshi-core/6.4.0/oshi-core-6.4.0.jar\r\n[ERROR] urls[19] = file:/C:/Users/sukri/.m2/repository/net/java/dev/jna/jna/5.12.1/jna-5.12.1.jar\r\n[ERROR] urls[20] = file:/C:/Users/sukri/.m2/repository/net/java/dev/jna/jna-platform/5.12.1/jna-platform-5.12.1.jar\r\n[ERROR] urls[21] = file:/C:/Users/sukri/.m2/repository/com/nimbusds/nimbus-jose-jwt/9.23/nimbus-jose-jwt-9.23.jar\r\n[ERROR] urls[22] = file:/C:/Users/sukri/.m2/repository/org/lucee/jcip-annotations/1.0.0/jcip-annotations-1.0.0.jar\r\n[ERROR] urls[23] = file:/C:/Users/sukri/.m2/repository/com/vaadin/open/8.5.0/open-8.5.0.jar\r\n[ERROR] urls[24] = file:/C:/Users/sukri/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar\r\n[ERROR] urls[25] = file:/C:/Users/sukri/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar\r\n[ERROR] urls[26] = file:/C:/Users/sukri/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar\r\n[ERROR] urls[27] = file:/C:/Users/sukri/.m2/repository/org/zeroturnaround/zt-exec/1.12/zt-exec-1.12.jar\r\n[ERROR] urls[28] = file:/C:/Users/sukri/.m2/repository/com/google/gwt/gwt-elemental/2.9.0/gwt-elemental-2.9.0.jar\r\n[ERROR] urls[29] = file:/C:/Users/sukri/.m2/repository/com/github/eirslett/frontend-plugin-core/1.12.1/frontend-plugin-core-1.12.1.jar\r\n[ERROR] urls[30] = file:/C:/Users/sukri/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar\r\n[ERROR] urls[31] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar\r\n[ERROR] urls[32] = file:/C:/Users/sukri/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar\r\n[ERROR] urls[33] = file:/C:/Users/sukri/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\r\n[ERROR] urls[34] = file:/C:/Users/sukri/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar\r\n[ERROR] urls[35] = file:/C:/Users/sukri/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.22/plexus-utils-3.0.22.jar\r\n[ERROR] urls[36] = file:/C:/Users/sukri/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.14.2/jackson-core-2.14.2.jar\r\n[ERROR] urls[37] = file:/C:/Users/sukri/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.14.2/jackson-databind-2.14.2.jar\r\n[ERROR] urls[38] = file:/C:/Users/sukri/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.14.2/jackson-annotations-2.14.2.jar\r\n[ERROR] urls[39] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-compress/1.22/commons-compress-1.22.jar\r\n[ERROR] urls[40] = file:/C:/Users/sukri/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.7/plexus-build-api-0.0.7.jar\r\n[ERROR] urls[41] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-polymer2lit/24.0.0.beta4/flow-polymer2lit-24.0.0.beta4.jar\r\n[ERROR] urls[42] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-text/1.10.0/commons-text-1.10.0.jar\r\n[ERROR] urls[43] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar\r\n[ERROR] urls[44] = file:/C:/Users/sukri/.m2/repository/org/jboss/forge/roaster/roaster-api/2.28.0.Final/roaster-api-2.28.0.Final.jar\r\n[ERROR] urls[45] = file:/C:/Users/sukri/.m2/repository/org/jboss/forge/roaster/roaster-jdt/2.28.0.Final/roaster-jdt-2.28.0.Final.jar\r\n[ERROR] Number of foreign imports: 1\r\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]      \r\n[ERROR]\r\n[ERROR] -----------------------------------------------------\r\n[ERROR]\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n\r\n```\r\n\r\nand on running the  Application.java file I am getting the following logs\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-05T13:59:50.540+05:30 ERROR 10492 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;webPushService&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:487) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1398) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.3.jar:3.0.3]\r\n\tat org.vaadin.marcus.Application.main(Application.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.3.jar:3.0.3]\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;BBRr0fhjce28znjRAeYZd2epA4qah18Zb-SrDvppgxFV56JAa_tuQBO55MRPq_Wc2YS-uyQBgsyJdsajHQiu-fU&#39; in value &quot;${BBRr0fhjce28znjRAeYZd2epA4qah18Zb-SrDvppgxFV56JAa_tuQBO55MRPq_Wc2YS-uyQBgsyJdsajHQiu-fU}&quot;\r\n\tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-6.0.5.jar:6.0.5]\r\n\tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.0.5.jar:6.0.5]\r\n\tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.0.5.jar:6.0.5]\r\n\tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:920) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\t... 20 common frames omitted\r\n```\r\n\r\n\r\nanother thing I have is that I have used my key values in this code block in WebPushService.java file\r\n\r\n```\r\n @Value(&quot;${BBRr0fhjce28znjRAeYZd2epA4qah18Zb-SrDvppgxFV56JAa_tuQBO55MRPq_Wc2YS-uyQBgsyJdsajHQiu-fU}&quot;)\r\n    private String publicKey;\r\n    @Value(&quot;${GBlA_fQpQjPCAWVxqeNmY_cWGEJQ7-Vka8hyRBZJJXE}&quot;)\r\n    private String privateKey;\r\n    @Value(&quot;${http://localhost:8080}&quot;)\r\n```\r\n\r\nIs there any way I can solve this?\r\n\r\nI am sorry to post such long logs because I couldn&#39;t figure out the exact error here\r\n\r\n\r\nI have looked through solutions on the web but none of them fixed the error","title":"Error injecting: com.vaadin.flow.plugin.maven.PrepareFrontendMojo","body":"<p>I tried to clone this project from github to implement web push notifications. This project uses vaadin to send a notification <a href=\"https://github.com/web-push-libs/webpush-java\" rel=\"nofollow noreferrer\">link for github project</a> I am using IntelliJ 2023 version. I have successfully implemented the keys but after running mvn clean install I am getting the following logs</p>\n<pre><code>Error injecting: com.vaadin.flow.plugin.maven.PrepareFrontendMojo\njava.lang.TypeNotPresentException: Type com.vaadin.flow.plugin.maven.PrepareFrontendMojo not present\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)     \n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)      \n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)      \n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)    \n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)  \nCaused by: java.lang.UnsupportedClassVersionError: com/vaadin/flow/plugin/maven/Pre\npareFrontendMojo has been compiled by a more recent version of the Java Runtime (cl\nass file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1 (Native Method)\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:142)    \n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100 (URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged (Native Method)\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:362)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.findClassInternal (ClassRealm.java:313)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:432)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)     \n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)      \n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)      \n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)    \n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)  \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------    \n[INFO] Total time:  4.946 s\n[INFO] Finished at: 2023-10-05T13:53:58+05:30\n[INFO] ------------------------------------------------------------------------    \n[ERROR] Failed to execute goal com.vaadin:vaadin-maven-plugin:24.0.0.beta4:prepare-\nfrontend (default) on project webpush: Execution default of goal com.vaadin:vaadin-\nmaven-plugin:24.0.0.beta4:prepare-frontend failed: Unable to load the mojo 'prepare\n-frontend' in the plugin 'com.vaadin:vaadin-maven-plugin:24.0.0.beta4' due to an AP\nI incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLook\nupException: com/vaadin/flow/plugin/maven/PrepareFrontendMojo has been compiled by \na more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;com.vaadin:vaadin-maven-plugin:24.0.0.beta4\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy      \n[ERROR] urls[0] = file:/C:/Users/sukri/.m2/repository/com/vaadin/vaadin-maven-plugin/24.0.0.beta4/vaadin-maven-plugin-24.0.0.beta4.jar\n[ERROR] urls[1] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-maven-plugin/24.0.0.beta4/flow-maven-plugin-24.0.0.beta4.jar\n[ERROR] urls[2] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-plugin-base/24.0.0.beta4/flow-plugin-base-24.0.0.beta4.jar\n[ERROR] urls[3] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-server/24.0.0.beta4/flow-server-24.0.0.beta4.jar\n[ERROR] urls[4] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-push/24.0.0.beta4/flow-push-24.0.0.beta4.jar\n[ERROR] urls[5] = file:/C:/Users/sukri/.m2/repository/com/vaadin/external/atmosphere/atmosphere-runtime/3.0.0.slf4jvaadin2/atmosphere-runtime-3.0.0.slf4jvaadin2.jar  \n[ERROR] urls[6] = file:/C:/Users/sukri/.m2/repository/jakarta/inject/jakarta.inject-api/2.0.1/jakarta.inject-api-2.0.1.jar\n[ERROR] urls[7] = file:/C:/Users/sukri/.m2/repository/com/vaadin/servletdetector/throw-if-servlet3/1.0.2/throw-if-servlet3-1.0.2.jar\n[ERROR] urls[8] = file:/C:/Users/sukri/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar\n[ERROR] urls[9] = file:/C:/Users/sukri/.m2/repository/com/vaadin/external/gwt/gwt-elemental/2.8.2.vaadin2/gwt-elemental-2.8.2.vaadin2.jar\n[ERROR] urls[10] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-commons-upload/24.0.0.beta4/flow-commons-upload-24.0.0.beta4.jar\n[ERROR] urls[11] = file:/C:/Users/sukri/.m2/repository/org/jsoup/jsoup/1.15.3/jsoup-1.15.3.jar\n[ERROR] urls[12] = file:/C:/Users/sukri/.m2/repository/com/helger/ph-css/6.5.0/ph-css-6.5.0.jar\n[ERROR] urls[13] = file:/C:/Users/sukri/.m2/repository/com/helger/commons/ph-commons/10.1.6/ph-commons-10.1.6.jar\n[ERROR] urls[14] = file:/C:/Users/sukri/.m2/repository/net/bytebuddy/byte-buddy/1.12.22/byte-buddy-1.12.22.jar\n[ERROR] urls[15] = file:/C:/Users/sukri/.m2/repository/com/vaadin/external/gentyref/1.2.0.vaadin1/gentyref-1.2.0.vaadin1.jar\n[ERROR] urls[16] = file:/C:/Users/sukri/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar\n[ERROR] urls[17] = file:/C:/Users/sukri/.m2/repository/com/vaadin/license-checker/1.12.0/license-checker-1.12.0.jar\n[ERROR] urls[18] = file:/C:/Users/sukri/.m2/repository/com/github/oshi/oshi-core/6.4.0/oshi-core-6.4.0.jar\n[ERROR] urls[19] = file:/C:/Users/sukri/.m2/repository/net/java/dev/jna/jna/5.12.1/jna-5.12.1.jar\n[ERROR] urls[20] = file:/C:/Users/sukri/.m2/repository/net/java/dev/jna/jna-platform/5.12.1/jna-platform-5.12.1.jar\n[ERROR] urls[21] = file:/C:/Users/sukri/.m2/repository/com/nimbusds/nimbus-jose-jwt/9.23/nimbus-jose-jwt-9.23.jar\n[ERROR] urls[22] = file:/C:/Users/sukri/.m2/repository/org/lucee/jcip-annotations/1.0.0/jcip-annotations-1.0.0.jar\n[ERROR] urls[23] = file:/C:/Users/sukri/.m2/repository/com/vaadin/open/8.5.0/open-8.5.0.jar\n[ERROR] urls[24] = file:/C:/Users/sukri/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar\n[ERROR] urls[25] = file:/C:/Users/sukri/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar\n[ERROR] urls[26] = file:/C:/Users/sukri/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar\n[ERROR] urls[27] = file:/C:/Users/sukri/.m2/repository/org/zeroturnaround/zt-exec/1.12/zt-exec-1.12.jar\n[ERROR] urls[28] = file:/C:/Users/sukri/.m2/repository/com/google/gwt/gwt-elemental/2.9.0/gwt-elemental-2.9.0.jar\n[ERROR] urls[29] = file:/C:/Users/sukri/.m2/repository/com/github/eirslett/frontend-plugin-core/1.12.1/frontend-plugin-core-1.12.1.jar\n[ERROR] urls[30] = file:/C:/Users/sukri/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar\n[ERROR] urls[31] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar\n[ERROR] urls[32] = file:/C:/Users/sukri/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar\n[ERROR] urls[33] = file:/C:/Users/sukri/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\n[ERROR] urls[34] = file:/C:/Users/sukri/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar\n[ERROR] urls[35] = file:/C:/Users/sukri/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.22/plexus-utils-3.0.22.jar\n[ERROR] urls[36] = file:/C:/Users/sukri/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.14.2/jackson-core-2.14.2.jar\n[ERROR] urls[37] = file:/C:/Users/sukri/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.14.2/jackson-databind-2.14.2.jar\n[ERROR] urls[38] = file:/C:/Users/sukri/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.14.2/jackson-annotations-2.14.2.jar\n[ERROR] urls[39] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-compress/1.22/commons-compress-1.22.jar\n[ERROR] urls[40] = file:/C:/Users/sukri/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.7/plexus-build-api-0.0.7.jar\n[ERROR] urls[41] = file:/C:/Users/sukri/.m2/repository/com/vaadin/flow-polymer2lit/24.0.0.beta4/flow-polymer2lit-24.0.0.beta4.jar\n[ERROR] urls[42] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-text/1.10.0/commons-text-1.10.0.jar\n[ERROR] urls[43] = file:/C:/Users/sukri/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar\n[ERROR] urls[44] = file:/C:/Users/sukri/.m2/repository/org/jboss/forge/roaster/roaster-api/2.28.0.Final/roaster-api-2.28.0.Final.jar\n[ERROR] urls[45] = file:/C:/Users/sukri/.m2/repository/org/jboss/forge/roaster/roaster-jdt/2.28.0.Final/roaster-jdt-2.28.0.Final.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]      \n[ERROR]\n[ERROR] -----------------------------------------------------\n[ERROR]\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n\n\n</code></pre>\n<p>and on running the  Application.java file I am getting the following logs</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-05T13:59:50.540+05:30 ERROR 10492 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webPushService': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:487) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1398) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.5.jar:6.0.5]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.5.jar:6.0.5]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.3.jar:3.0.3]\n    at org.vaadin.marcus.Application.main(Application.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.3.jar:3.0.3]\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'BBRr0fhjce28znjRAeYZd2epA4qah18Zb-SrDvppgxFV56JAa_tuQBO55MRPq_Wc2YS-uyQBgsyJdsajHQiu-fU' in value &quot;${BBRr0fhjce28znjRAeYZd2epA4qah18Zb-SrDvppgxFV56JAa_tuQBO55MRPq_Wc2YS-uyQBgsyJdsajHQiu-fU}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-6.0.5.jar:6.0.5]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.0.5.jar:6.0.5]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.0.5.jar:6.0.5]\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.0.5.jar:6.0.5]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[spring-context-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:920) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.5.jar:6.0.5]\n    ... 20 common frames omitted\n</code></pre>\n<p>another thing I have is that I have used my key values in this code block in WebPushService.java file</p>\n<pre><code> @Value(&quot;${BBRr0fhjce28znjRAeYZd2epA4qah18Zb-SrDvppgxFV56JAa_tuQBO55MRPq_Wc2YS-uyQBgsyJdsajHQiu-fU}&quot;)\n    private String publicKey;\n    @Value(&quot;${GBlA_fQpQjPCAWVxqeNmY_cWGEJQ7-Vka8hyRBZJJXE}&quot;)\n    private String privateKey;\n    @Value(&quot;${http://localhost:8080}&quot;)\n</code></pre>\n<p>Is there any way I can solve this?</p>\n<p>I am sorry to post such long logs because I couldn't figure out the exact error here</p>\n<p>I have looked through solutions on the web but none of them fixed the error</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","oauth2resttemplate"],"answers":[{"comments":[{"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"score":0,"creation_date":1696507810,"post_id":77236624,"comment_id":136163582,"body_markdown":"Thanks for answer but we can not use token uri, client id and secret in our services. Because there is one general service for token accross organization and that service is bind with Oauth2RestTemplate.  @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)","body":"Thanks for answer but we can not use token uri, client id and secret in our services. Because there is one general service for token accross organization and that service is bind with Oauth2RestTemplate.  @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)"},{"owner":{"account_id":18741364,"reputation":62,"user_id":13664556,"display_name":"Kumar Sinha"},"score":0,"creation_date":1696531832,"post_id":77236624,"comment_id":136168820,"body_markdown":"Then just remove the token uri and client I&#39;d part and use the service you required it&#39;s just the  httpcomponent is important.           public HttpComponentsClientHttpRequestFactory clientHttpRequestFactory() {\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setConnectTimeout(5000); // 5 seconds\n        factory.setReadTimeout(5000);    // 5 seconds\n        return factory;\n    }","body":"Then just remove the token uri and client I&#39;d part and use the service you required it&#39;s just the  httpcomponent is important.           public HttpComponentsClientHttpRequestFactory clientHttpRequestFactory() {         HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();         factory.setConnectTimeout(5000); // 5 seconds         factory.setReadTimeout(5000);    // 5 seconds         return factory;     }"}],"tags":[],"owner":{"account_id":18741364,"reputation":62,"user_id":13664556,"display_name":"Kumar Sinha"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696504752,"creation_date":1696504752,"answer_id":77236624,"question_id":77236558,"body_markdown":"Ensure these dependencies\r\n```\r\n&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n```\r\nConfigure the HttpComponentsClientHttpRequestFactory bean and then inject it into your OAuth2RestTemplate bean:\r\n\r\n```\r\n@Configuration\r\npublic class ResourceConfig {\r\n\r\n    @Bean\r\n    public HttpComponentsClientHttpRequestFactory clientHttpRequestFactory() {\r\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n        factory.setConnectTimeout(5000); // 5 seconds\r\n        factory.setReadTimeout(5000);    // 5 seconds\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2RestTemplate oAuth2RestTemplate() {\r\n        ResourceOwnerPasswordResourceDetails resourceDetails = new ResourceOwnerPasswordResourceDetails();\r\n        resourceDetails.setAccessTokenUri(&quot;YOUR_ACCESS_TOKEN_URI&quot;);\r\n        resourceDetails.setClientId(&quot;YOUR_CLIENT_ID&quot;);\r\n        resourceDetails.setClientSecret(&quot;YOUR_CLIENT_SECRET&quot;);\r\n        resourceDetails.setClientAuthenticationScheme(AuthenticationScheme.header);\r\n\r\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resourceDetails);\r\n        restTemplate.setRequestFactory(clientHttpRequestFactory());\r\n        \r\n        return restTemplate;\r\n    }\r\n}\r\n```","title":"How to add rest API request time out in OAuth2RestTemplate in spring boot?","body":"<p>Ensure these dependencies</p>\n<pre><code>&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n</code></pre>\n<p>Configure the HttpComponentsClientHttpRequestFactory bean and then inject it into your OAuth2RestTemplate bean:</p>\n<pre><code>@Configuration\npublic class ResourceConfig {\n\n    @Bean\n    public HttpComponentsClientHttpRequestFactory clientHttpRequestFactory() {\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setConnectTimeout(5000); // 5 seconds\n        factory.setReadTimeout(5000);    // 5 seconds\n        return factory;\n    }\n\n    @Bean\n    public OAuth2RestTemplate oAuth2RestTemplate() {\n        ResourceOwnerPasswordResourceDetails resourceDetails = new ResourceOwnerPasswordResourceDetails();\n        resourceDetails.setAccessTokenUri(&quot;YOUR_ACCESS_TOKEN_URI&quot;);\n        resourceDetails.setClientId(&quot;YOUR_CLIENT_ID&quot;);\n        resourceDetails.setClientSecret(&quot;YOUR_CLIENT_SECRET&quot;);\n        resourceDetails.setClientAuthenticationScheme(AuthenticationScheme.header);\n\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resourceDetails);\n        restTemplate.setRequestFactory(clientHttpRequestFactory());\n        \n        return restTemplate;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696504752,"creation_date":1696504260,"question_id":77236558,"body_markdown":"In my spring boot microservices, I am using OAuth2RestTemplate to make rest API call. Now, We have to add request time out in rest api call and for that I tried \r\n**spring.mvc.async.request-timeout=20000 in application.properties** file but did not work. \r\n\r\n    @Configuration\r\n    public class ResourceConfig {\r\n    \r\n       @Bean\r\n       @LoadBalanced\r\n       @Qualifier(&quot;oauth2BalancedRestTemplate&quot;)\r\n       public OAuth2RestTemplate oauth2BalancedRestTemplate(@Qualifier(&quot;oauth2RestTemplate&quot;) OAuth2RestTemplate bean) {\r\n          OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\r\n          restTemplate.setRequestFactory(bean.getRequestFactory());\r\n          return restTemplate;\r\n       }\r\n       \r\n       @Bean\r\n       @LoadBalanced\r\n       @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\r\n       public OAuth2RestTemplate oauth2JWTBalancedRestTemplate(@Qualifier(&quot;oauth2JWTRestTemplate&quot;) OAuth2RestTemplate bean) {\r\n          OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\r\n          restTemplate.setRequestFactory(bean.getRequestFactory());\r\n          return restTemplate;\r\n       } \r\n    }\r\n\r\n    @Service\r\n    public class ApiCall {\r\n    \r\n       @Value(&quot;${url}&quot;)\r\n       private String uri;\r\n       \r\n       @Value(&quot;${endpoint}&quot;)\r\n       private String endpoint;\r\n       \r\n       @Autowired\r\n       @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\r\n       private OAuth2RestTemplate restTemplate;\r\n    \r\n       public Response getTrdDetail(Request req) {\r\n         HttpHeaders headers = new HttpHeaders();\r\n         HttpEntity&lt;Request&gt; httpEntity = new HttpEntity&lt;Request&gt; (req, headers);\r\n         return restTemplate.exchange(uri + endpoint, HttpMethod.POST, httpEntity, Response.class);\r\n       \r\n       }\r\n    }","title":"How to add rest API request time out in OAuth2RestTemplate in spring boot?","body":"<p>In my spring boot microservices, I am using OAuth2RestTemplate to make rest API call. Now, We have to add request time out in rest api call and for that I tried\n<strong>spring.mvc.async.request-timeout=20000 in application.properties</strong> file but did not work.</p>\n<pre><code>@Configuration\npublic class ResourceConfig {\n\n   @Bean\n   @LoadBalanced\n   @Qualifier(&quot;oauth2BalancedRestTemplate&quot;)\n   public OAuth2RestTemplate oauth2BalancedRestTemplate(@Qualifier(&quot;oauth2RestTemplate&quot;) OAuth2RestTemplate bean) {\n      OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\n      restTemplate.setRequestFactory(bean.getRequestFactory());\n      return restTemplate;\n   }\n   \n   @Bean\n   @LoadBalanced\n   @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\n   public OAuth2RestTemplate oauth2JWTBalancedRestTemplate(@Qualifier(&quot;oauth2JWTRestTemplate&quot;) OAuth2RestTemplate bean) {\n      OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(bean.getResource());\n      restTemplate.setRequestFactory(bean.getRequestFactory());\n      return restTemplate;\n   } \n}\n\n@Service\npublic class ApiCall {\n\n   @Value(&quot;${url}&quot;)\n   private String uri;\n   \n   @Value(&quot;${endpoint}&quot;)\n   private String endpoint;\n   \n   @Autowired\n   @Qualifier(&quot;oauth2JWTBalancedRestTemplate&quot;)\n   private OAuth2RestTemplate restTemplate;\n\n   public Response getTrdDetail(Request req) {\n     HttpHeaders headers = new HttpHeaders();\n     HttpEntity&lt;Request&gt; httpEntity = new HttpEntity&lt;Request&gt; (req, headers);\n     return restTemplate.exchange(uri + endpoint, HttpMethod.POST, httpEntity, Response.class);\n   \n   }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","stored-procedures","spring-data-jpa"],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696504721,"creation_date":1696504721,"question_id":77236616,"body_markdown":"I am trying to call a stored procedure which looks like this:\r\n\r\n    create or replace procedure my_stored_procedure(\r\n       xIds bigint[],\r\n       yIds bigint[]\r\n    )\r\n\r\nI am trying to call from Spring Data JPA as follows:\r\n\r\n    @Query(value = &quot;CALL my_stored_procedure(:xIds,:yIds);&quot;, nativeQuery = true)\r\n    void deleteArchivedAgents(List&lt;Long&gt; xIds, List&lt;Long&gt; yIds);\r\n\r\n\r\nIt is giving me an error: `ERROR: procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist. Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.`\r\n\r\nI know that the corresponding data type for `long` in postgresql is `bigint`. Not sure how to cast the long data type in java to bigint in postgresql.\r\n\r\nNote: The reason it is saying that `procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist` is because each list has data of size 2.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n\r\n","title":"Calling stored procedure from Spring Data JPA with multiple params of type list","body":"<p>I am trying to call a stored procedure which looks like this:</p>\n<pre><code>create or replace procedure my_stored_procedure(\n   xIds bigint[],\n   yIds bigint[]\n)\n</code></pre>\n<p>I am trying to call from Spring Data JPA as follows:</p>\n<pre><code>@Query(value = &quot;CALL my_stored_procedure(:xIds,:yIds);&quot;, nativeQuery = true)\nvoid deleteArchivedAgents(List&lt;Long&gt; xIds, List&lt;Long&gt; yIds);\n</code></pre>\n<p>It is giving me an error: <code>ERROR: procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist. Hint: No procedure matches the given name and argument types. You might need to add explicit type casts.</code></p>\n<p>I know that the corresponding data type for <code>long</code> in postgresql is <code>bigint</code>. Not sure how to cast the long data type in java to bigint in postgresql.</p>\n<p>Note: The reason it is saying that <code>procedure my_stored_procedure(bigint, bigint, bigint, bigint) does not exist</code> is because each list has data of size 2.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","oracle","oracle11g","obiee"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696504960,"post_id":77236600,"comment_id":136162993,"body_markdown":"See https://stackoverflow.com/q/69171637/685806","body":"See <a href=\"https://stackoverflow.com/q/69171637/685806\">stackoverflow.com/q/69171637/685806</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1696509308,"post_id":77236600,"comment_id":136163885,"body_markdown":"What does this have to do with java?","body":"What does this have to do with java?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696525415,"post_id":77236600,"comment_id":136167606,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27408461,"reputation":1,"user_id":20908751,"display_name":"RGS"},"score":0,"creation_date":1696763638,"post_id":77236600,"comment_id":136192575,"body_markdown":"In the OBIEE Catalog under scorecards there are some hiddenfiles exist are they really need. can we delete?","body":"In the OBIEE Catalog under scorecards there are some hiddenfiles exist are they really need. can we delete?"}],"owner":{"account_id":27408461,"reputation":1,"user_id":20908751,"display_name":"RGS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696504564,"creation_date":1696504564,"question_id":77236600,"body_markdown":"i have seen in catlog there are some random files and they are in hidden mode.the file names are \r\n\r\nlike  \r\n\r\neecf62800bfd100085670ae4a5190000\r\n\r\nare they are importnt while archiving .please let me know\r\n\r\ni am new to obi .so please consider breif explanaton","title":"Why there are some hidden files in OBIEE12c catlog","body":"<p>i have seen in catlog there are some random files and they are in hidden mode.the file names are</p>\n<p>like</p>\n<p>eecf62800bfd100085670ae4a5190000</p>\n<p>are they are importnt while archiving .please let me know</p>\n<p>i am new to obi .so please consider breif explanaton</p>\n"},{"tags":["java","maven","github-actions","github-pages","javadoc"],"comments":[{"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"score":0,"creation_date":1671250254,"post_id":70991706,"comment_id":132064526,"body_markdown":"this question is duplicate:\nhttps://stackoverflow.com/questions/72565540/how-to-generate-automatically-a-javadoc-on-a-web-page/74804196#74804196","body":"this question is duplicate: <a href=\"https://stackoverflow.com/questions/72565540/how-to-generate-automatically-a-javadoc-on-a-web-page/74804196#74804196\" title=\"how to generate automatically a javadoc on a web page\">stackoverflow.com/questions/72565540/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696503960,"creation_date":1644004294,"answer_id":70992127,"question_id":70991706,"body_markdown":"## JavaDoc publisher\r\n\r\nYes, it is possible with this code in your GitHub Actions directory:\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - main\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n          target-folder: javadoc \r\n```\r\nCredit: https://github.com/MathieuSoysal/Javadoc-publisher.yml\r\nhttps://github.com/marketplace/actions/deploy-publish-javadoc\r\n\r\nAdd the above YAML file to `/.github/workflows/your-file.yaml` inside your GitHub repository. It publishes the JavaDoc automatically when you publish to the *&quot;master&quot;* or *&quot;main&quot;* branch. Your JavaDoc is pushed onto the *javadoc* branch, and is deployed with GitHub Pages.\r\n\r\n***Don&#39;t forget to enable GitHub Pages on your GitHub repo settings***\r\n","title":"Publish automatically JavaDoc: with GitHub Actions","body":"<h2>JavaDoc publisher</h2>\n<p>Yes, it is possible with this code in your GitHub Actions directory:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n      - main\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc 🚀\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n          target-folder: javadoc \n</code></pre>\n<p>Credit: <a href=\"https://github.com/MathieuSoysal/Javadoc-publisher.yml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Javadoc-publisher.yml</a>\n<a href=\"https://github.com/marketplace/actions/deploy-publish-javadoc\" rel=\"nofollow noreferrer\">https://github.com/marketplace/actions/deploy-publish-javadoc</a></p>\n<p>Add the above YAML file to <code>/.github/workflows/your-file.yaml</code> inside your GitHub repository. It publishes the JavaDoc automatically when you publish to the <em>&quot;master&quot;</em> or <em>&quot;main&quot;</em> branch. Your JavaDoc is pushed onto the <em>javadoc</em> branch, and is deployed with GitHub Pages.</p>\n<p><em><strong>Don't forget to enable GitHub Pages on your GitHub repo settings</strong></em></p>\n"}],"owner":{"account_id":24111781,"reputation":251,"user_id":18082282,"display_name":"Rasbypy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70992127,"answer_count":1,"score":5,"last_activity_date":1696503960,"creation_date":1644002031,"question_id":70991706,"body_markdown":"## Introduction\r\nI am currently working on a Java Maven project in GitHub, and I&#39;m building a JavaDoc and posting it to a GitHub page.\r\n\r\n## Question\r\n\r\nAnd I was wondering if it would be possible to automate this with a GitHub Actions, if so how?","title":"Publish automatically JavaDoc: with GitHub Actions","body":"<h2>Introduction</h2>\n<p>I am currently working on a Java Maven project in GitHub, and I'm building a JavaDoc and posting it to a GitHub page.</p>\n<h2>Question</h2>\n<p>And I was wondering if it would be possible to automate this with a GitHub Actions, if so how?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":2,"creation_date":1696499567,"post_id":77236040,"comment_id":136162000,"body_markdown":"I removed all the unrelated tags. Please don&#39;t tag spam","body":"I removed all the unrelated tags. Please don&#39;t tag spam"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1696500087,"post_id":77236040,"comment_id":136162106,"body_markdown":"Does this answer your question? [Java primitive type variable storage](https://stackoverflow.com/questions/67477260/java-primitive-type-variable-storage)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67477260/java-primitive-type-variable-storage\">Java primitive type variable storage</a>"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":4,"creation_date":1696500107,"post_id":77236040,"comment_id":136162110,"body_markdown":"The &quot;size&quot; of primitives is defined in chapter [Primitive Types and Values](https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-2.html#jvms-2.3) of the Java Virtual Machine Specification.","body":"The &quot;size&quot; of primitives is defined in chapter <a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-2.html#jvms-2.3\" rel=\"nofollow noreferrer\">Primitive Types and Values</a> of the Java Virtual Machine Specification."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1696501148,"post_id":77236040,"comment_id":136162301,"body_markdown":"Given there size is fixed by specification, there is generally no good reason to have to query that in a program at runtime. Why do you even need to know this?","body":"Given there size is fixed by specification, there is generally no good reason to have to query that in a program at runtime. Why do you even need to know this?"}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696503426,"post_id":77236144,"comment_id":136162694,"body_markdown":"There&#39;s also `BYTES` for the size in bytes","body":"There&#39;s also <code>BYTES</code> for the size in bytes"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1696503778,"post_id":77236144,"comment_id":136162756,"body_markdown":"Thanks for pointing out @Jorn. Included it in the answer.","body":"Thanks for pointing out @Jorn. Included it in the answer."}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696503708,"creation_date":1696500512,"answer_id":77236144,"question_id":77236040,"body_markdown":"You can just use the `SIZE` variable of the respective data type. It gives the size of the respective type in bits. If you need the values in bytes, you  can divide the values by 8.\r\n\r\n    System.out.println(Integer.SIZE); //32 bits\r\n    System.out.println(Byte.SIZE); //8 bits\r\n    System.out.println(Float.SIZE); //32 bits\r\n    System.out.println(Long.SIZE); // 64 bits\r\n\r\nEdit: As pointed out by @Jorn there is also BYTES which gives the size in bytes. For example, for integer type,\r\n\r\n    System.out.println(Integer.BYTES); // 4 bytes\r\n  \r\n","title":"How to print the size of a primitive data type in Java?","body":"<p>You can just use the <code>SIZE</code> variable of the respective data type. It gives the size of the respective type in bits. If you need the values in bytes, you  can divide the values by 8.</p>\n<pre><code>System.out.println(Integer.SIZE); //32 bits\nSystem.out.println(Byte.SIZE); //8 bits\nSystem.out.println(Float.SIZE); //32 bits\nSystem.out.println(Long.SIZE); // 64 bits\n</code></pre>\n<p>Edit: As pointed out by @Jorn there is also BYTES which gives the size in bytes. For example, for integer type,</p>\n<pre><code>System.out.println(Integer.BYTES); // 4 bytes\n</code></pre>\n"}],"owner":{"account_id":23418676,"reputation":1,"user_id":17479257,"display_name":"Imtiaz Ahammed Nafiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1696503708,"creation_date":1696499519,"question_id":77236040,"body_markdown":"```\r\npublic class Main {\r\n   public static void main(String[] args) {\r\n   int x = 10;\r\n   byte y = 125;\r\n   float z = 2.5f;\r\n   long ln = 50;\r\n   // How can I know the size of this variables ?\r\n   // it there any way to print the size of this primitive types ?\r\n}\r\n}\r\n```\r\n\r\nHow can I know the size (byte) that is allocated for this data type in Java ?","title":"How to print the size of a primitive data type in Java?","body":"<pre><code>public class Main {\n   public static void main(String[] args) {\n   int x = 10;\n   byte y = 125;\n   float z = 2.5f;\n   long ln = 50;\n   // How can I know the size of this variables ?\n   // it there any way to print the size of this primitive types ?\n}\n}\n</code></pre>\n<p>How can I know the size (byte) that is allocated for this data type in Java ?</p>\n"},{"tags":["java","hibernate","migration","event-listener","integrator"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696091283,"post_id":77207052,"comment_id":136110958,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29569203,"reputation":1,"user_id":22661838,"display_name":"MrsH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696503341,"creation_date":1696077862,"question_id":77207052,"body_markdown":"***Self-answered question***\r\n\r\nWhile migrating a Java Tomcat application from Hibernate 3 to Hibernate 5 (specifically version 5.4.24), we encountered an issue affecting our user creation form. The form, which previously functioned correctly, stopped working as expected.\r\n\r\nThe application in question doesn&#39;t use any additional frameworks for this module. We identified that the root cause of the issue was on the backend, directly related to the Hibernate migration.\r\n\r\nAfter the migration, two specific issues arose:\r\n\r\nHibernate automatically added a new default listener called DefaultSaveOrUpdateListener.\r\nThe order of Hibernate event listeners specified in our configuration file (hibernate.cfg.xml) was no longer being respected.\r\n\r\nSolution\r\n\r\nUse of Integrators\r\n\r\nUpon diving deeper into the Hibernate documentation, I came across the concept of Integrators. This led me to realise that I could manually set the order of event listeners by implementing a custom Integrator.\r\n\r\nHere is the steps of how we solved the issue:\r\n\r\nFirstly, create a custom Integrator by implementing the Integrator interface. Make the necessary changes to order the listeners as you wish.\r\n\r\n```java\r\npublic class CustomSaveUpdateEventIntegrator implements Integrator {\r\n\r\n    private SaveOrUpdateEventListener[] getListeners() {\r\n        SaveOrUpdateEventListener[] listeners = new SaveOrUpdateEventListener[7];\r\n        listeners[6] = new CustomLastSaveOrUpdateEventListener(); // last listener (one before default)\r\n        // ... set the order of listeners in reverse as they are being prepended\r\n        listeners[0] = new CustomFirstSaveOrUpdateEventListener(); // first listener to be executed\r\n        return listeners;\r\n    }\r\n    \r\n    @Override\r\n    public void integrate(Metadata metadata, SessionFactoryImplementor sessionFactory,\r\n                      SessionFactoryServiceRegistry serviceRegistry) {\r\n    // Get existing event listeners\r\n    EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\r\n    // Get your custom listeners in correct order\r\n    SaveOrUpdateEventListener[] customListeners = getListeners();\r\n    // Register custom listeners\r\n    eventListenerRegistry.prependListeners(EventType.SAVE_UPDATE, listener);\r\n}\r\n\r\n}\r\n```\r\n\r\nIn this code, I created a method getListeners() that manually sets the order of event listeners. Then, in the integrate() method, I added these listeners to the session factory&#39;s registry.\r\n\r\nThen add Integrator Configuration file\r\n\r\nTo ensure that Hibernate picks up your custom Integrator, create a file named org.hibernate.integrator.spi.Integrator within your project&#39;s META-INF/services directory.\r\n\r\nPlace the fully-qualified name of your custom Integrator class inside this file. For example:\r\n\r\n```\r\ncom.yourpackage.yourproject.hibernate.resources.CustomSaveUpdateEventIntegrator\r\n```\r\n\r\nConfiguration Changes\r\n\r\nAdditionally, I made changes to the hibernate.cfg.xml to ensure this Integrator is used only for the specific session context in which we were experiencing issues.\r\n\r\nNote: Hibernate still adds its own DefaultSaveOrUpdateListener, but the custom listeners now take precedence due to their specified order.","title":"Fixing Hibernate Event Listener Order Issue During Migration from Hibernate 3 to 5","body":"<p><em><strong>Self-answered question</strong></em></p>\n<p>While migrating a Java Tomcat application from Hibernate 3 to Hibernate 5 (specifically version 5.4.24), we encountered an issue affecting our user creation form. The form, which previously functioned correctly, stopped working as expected.</p>\n<p>The application in question doesn't use any additional frameworks for this module. We identified that the root cause of the issue was on the backend, directly related to the Hibernate migration.</p>\n<p>After the migration, two specific issues arose:</p>\n<p>Hibernate automatically added a new default listener called DefaultSaveOrUpdateListener.\nThe order of Hibernate event listeners specified in our configuration file (hibernate.cfg.xml) was no longer being respected.</p>\n<p>Solution</p>\n<p>Use of Integrators</p>\n<p>Upon diving deeper into the Hibernate documentation, I came across the concept of Integrators. This led me to realise that I could manually set the order of event listeners by implementing a custom Integrator.</p>\n<p>Here is the steps of how we solved the issue:</p>\n<p>Firstly, create a custom Integrator by implementing the Integrator interface. Make the necessary changes to order the listeners as you wish.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSaveUpdateEventIntegrator implements Integrator {\n\n    private SaveOrUpdateEventListener[] getListeners() {\n        SaveOrUpdateEventListener[] listeners = new SaveOrUpdateEventListener[7];\n        listeners[6] = new CustomLastSaveOrUpdateEventListener(); // last listener (one before default)\n        // ... set the order of listeners in reverse as they are being prepended\n        listeners[0] = new CustomFirstSaveOrUpdateEventListener(); // first listener to be executed\n        return listeners;\n    }\n    \n    @Override\n    public void integrate(Metadata metadata, SessionFactoryImplementor sessionFactory,\n                      SessionFactoryServiceRegistry serviceRegistry) {\n    // Get existing event listeners\n    EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\n    // Get your custom listeners in correct order\n    SaveOrUpdateEventListener[] customListeners = getListeners();\n    // Register custom listeners\n    eventListenerRegistry.prependListeners(EventType.SAVE_UPDATE, listener);\n}\n\n}\n</code></pre>\n<p>In this code, I created a method getListeners() that manually sets the order of event listeners. Then, in the integrate() method, I added these listeners to the session factory's registry.</p>\n<p>Then add Integrator Configuration file</p>\n<p>To ensure that Hibernate picks up your custom Integrator, create a file named org.hibernate.integrator.spi.Integrator within your project's META-INF/services directory.</p>\n<p>Place the fully-qualified name of your custom Integrator class inside this file. For example:</p>\n<pre><code>com.yourpackage.yourproject.hibernate.resources.CustomSaveUpdateEventIntegrator\n</code></pre>\n<p>Configuration Changes</p>\n<p>Additionally, I made changes to the hibernate.cfg.xml to ensure this Integrator is used only for the specific session context in which we were experiencing issues.</p>\n<p>Note: Hibernate still adds its own DefaultSaveOrUpdateListener, but the custom listeners now take precedence due to their specified order.</p>\n"},{"tags":["java","katalon-studio","elapsedtime","katalon"],"answers":[{"tags":[],"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696502553,"creation_date":1696502553,"answer_id":77236384,"question_id":77161591,"body_markdown":"I&#39;m guessing you are using the script view.\r\n\r\nDo this:\r\n```\r\nimport groovy.time.TimeCategory\r\nimport groovy.time.TimeDuration\r\n\r\nstart = new Date()\r\n\r\n// execute the test\r\n\r\nend = new Date()\r\n\r\nTimeDuration td = TimeCategory.minus(end, start)\r\nprintln td\r\n```","title":"How to get elapsed time when running a test case in Katalon?","body":"<p>I'm guessing you are using the script view.</p>\n<p>Do this:</p>\n<pre><code>import groovy.time.TimeCategory\nimport groovy.time.TimeDuration\n\nstart = new Date()\n\n// execute the test\n\nend = new Date()\n\nTimeDuration td = TimeCategory.minus(end, start)\nprintln td\n</code></pre>\n"}],"owner":{"account_id":27197140,"reputation":17,"user_id":20729888,"display_name":"TaraNG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696502553,"creation_date":1695441243,"question_id":77161591,"body_markdown":"When running a test case in Katalon then it shows elapsed time of that test case in the log viewer and I want to get that elapsed time automatically to output into a custom report. How can I get this elapsed time?","title":"How to get elapsed time when running a test case in Katalon?","body":"<p>When running a test case in Katalon then it shows elapsed time of that test case in the log viewer and I want to get that elapsed time automatically to output into a custom report. How can I get this elapsed time?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696498330,"post_id":77235862,"comment_id":136161740,"body_markdown":"Remove `jackson-core` as a dependency, remove the `version` tag from the kotlin one. This is assuming you have `spring-boot-starter-webflux` as a dependency.","body":"Remove <code>jackson-core</code> as a dependency, remove the <code>version</code> tag from the kotlin one. This is assuming you have <code>spring-boot-starter-webflux</code> as a dependency."},{"owner":{"account_id":14811438,"reputation":1,"user_id":10696962,"display_name":"kartik Chauhan"},"score":0,"creation_date":1696499476,"post_id":77235862,"comment_id":136161977,"body_markdown":"I did as   you mentioned @M.Deinum, still facing the same issue. I have spring-boot-starter-webflux","body":"I did as   you mentioned @M.Deinum, still facing the same issue. I have spring-boot-starter-webflux"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696500615,"post_id":77235862,"comment_id":136162205,"body_markdown":"Please add all your dependencies (or your full `pom.xml`) to the question. The fact that you had these in there makes me wonder what else you have. Also be aware that Spring BOot 3.2 is not a production release yet but still under development!.","body":"Please add all your dependencies (or your full <code>pom.xml</code>) to the question. The fact that you had these in there makes me wonder what else you have. Also be aware that Spring BOot 3.2 is not a production release yet but still under development!."},{"owner":{"account_id":14811438,"reputation":1,"user_id":10696962,"display_name":"kartik Chauhan"},"score":0,"creation_date":1696501998,"post_id":77235862,"comment_id":136162454,"body_markdown":"@M.Deinum i have switched to springboot 3.1.4 and added all dependencies i am using in the question","body":"@M.Deinum i have switched to springboot 3.1.4 and added all dependencies i am using in the question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696507680,"post_id":77235862,"comment_id":136163552,"body_markdown":"Do you have a `dependencyManagement` section? Also I believe the `spring-cloud-starter-sleuth` isn&#39;t compatible with Spring Boot 3.x and pulls in older dependencies.","body":"Do you have a <code>dependencyManagement</code> section? Also I believe the <code>spring-cloud-starter-sleuth</code> isn&#39;t compatible with Spring Boot 3.x and pulls in older dependencies."},{"owner":{"account_id":3771097,"reputation":2695,"user_id":3133286,"accept_rate":86,"display_name":"ordonezalex"},"score":0,"creation_date":1696577006,"post_id":77235862,"comment_id":136173486,"body_markdown":"Since you haven&#39;t shown your full POM, I&#39;m skeptical about which version of jackson-core is being used in your project. I recommend you double check that you are using Jackson 2.15.0. According to the source, `createNonBlockingByteBufferParser()` should exist: https://github.com/FasterXML/jackson-core/blob/jackson-core-2.15.0/src/main/java/com/fasterxml/jackson/core/JsonFactory.java#L1323 . This method was added in jackson-core 2.14.0, so I suspect your version is older.","body":"Since you haven&#39;t shown your full POM, I&#39;m skeptical about which version of jackson-core is being used in your project. I recommend you double check that you are using Jackson 2.15.0. According to the source, <code>createNonBlockingByteBufferParser()</code> should exist: <a href=\"https://github.com/FasterXML/jackson-core/blob/jackson-core-2.15.0/src/main/java/com/fasterxml/jackson/core/JsonFactory.java#L1323\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-core/blob/jackson-core-2.15.0/s&zwnj;&#8203;rc/&hellip;</a> . This method was added in jackson-core 2.14.0, so I suspect your version is older."}],"owner":{"account_id":14811438,"reputation":1,"user_id":10696962,"display_name":"kartik Chauhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696501929,"creation_date":1696498240,"question_id":77235862,"body_markdown":"I am using springboot 3.1.4, Java 17 and jackson 2.15.0. I have to migrate a project from springboot 2.7 to springboot 3.1.4. Earlier the webclient call was working fine, but after migrating to springboot 3.1.4, API response from webclient while jackson parsing is giving error.\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;kotlin.version&gt;1.7.21&lt;/kotlin.version&gt;\r\n       &lt;springdoc.openapi.version&gt;2.2.0&lt;/springdoc.openapi.version&gt;\r\n        &lt;swagger-annotations.version&gt;2.2.0&lt;/swagger-annotations.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n        &lt;apache.poi.version&gt;5.2.3&lt;/apache.poi.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-kotlin-extensions&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlinx-coroutines-reactor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nWhile calling another service from webclient, jackson is giving error while parsing webclient response.\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;com.fasterxml.jackson.core.JsonParser com.fasterxml.jackson.core.JsonFactory.createNonBlockingByteBufferParser()&#39;\r\n        at org.springframework.http.codec.json.Jackson2Tokenizer.tokenize(Jackson2Tokenizer.java:251)\r\n```","title":"Springboot 3.2 Jackson Parsing error while webclient Call","body":"<p>I am using springboot 3.1.4, Java 17 and jackson 2.15.0. I have to migrate a project from springboot 2.7 to springboot 3.1.4. Earlier the webclient call was working fine, but after migrating to springboot 3.1.4, API response from webclient while jackson parsing is giving error.</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.7.21&lt;/kotlin.version&gt;\n       &lt;springdoc.openapi.version&gt;2.2.0&lt;/springdoc.openapi.version&gt;\n        &lt;swagger-annotations.version&gt;2.2.0&lt;/swagger-annotations.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n        &lt;apache.poi.version&gt;5.2.3&lt;/apache.poi.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-kotlin-extensions&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlinx-coroutines-reactor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n            &lt;version&gt;3.1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>While calling another service from webclient, jackson is giving error while parsing webclient response.</p>\n<pre><code>java.lang.NoSuchMethodError: 'com.fasterxml.jackson.core.JsonParser com.fasterxml.jackson.core.JsonFactory.createNonBlockingByteBufferParser()'\n        at org.springframework.http.codec.json.Jackson2Tokenizer.tokenize(Jackson2Tokenizer.java:251)\n</code></pre>\n"},{"tags":["java","arrays","jenkins","groovy","jenkins-pipeline"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1653945934,"post_id":72440032,"comment_id":127970393,"body_markdown":"`files` is empty , so, `files[0]` throws exception","body":"<code>files</code> is empty , so, <code>files[0]</code> throws exception"},{"owner":{"account_id":11724567,"reputation":13477,"user_id":8582353,"display_name":"yong"},"score":0,"creation_date":1653957011,"post_id":72440032,"comment_id":127971964,"body_markdown":"Change single quote to double quote which conduct `BuildPathPublishRoot` compiled to real value in `&#39;${BuildPathPublishRoot}\\\\30293915.*.zip&#39;`","body":"Change single quote to double quote which conduct <code>BuildPathPublishRoot</code> compiled to real value in <code>&#39;${BuildPathPublishRoot}\\\\30293915.*.zip&#39;</code>"},{"owner":{"account_id":25403030,"reputation":43,"user_id":19212183,"display_name":"Nageswar Reddy"},"score":0,"creation_date":1653979647,"post_id":72440032,"comment_id":127975709,"body_markdown":"this worked for me. Thanks                                                                                              \n           ```{ \n\t\tdef files\n\t\tdir(&quot;${BuildPathPublishRoot}&quot;) {\n\t\tfiles = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;)\n\t//\techo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n\t\tSize1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n\t\t\n\t\techo Size1\n\t\t\n\t\t}```","body":"this worked for me. Thanks                                                                                                          <code>{  \t\tdef files \t\tdir(&quot;${BuildPathPublishRoot}&quot;) { \t\tfiles = findFiles(glob: &#39;**&#39;, includes: &#39;.zip&#39;) \t&#47;&#47;\techo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot; \t\tSize1 = &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot; \t\t \t\techo Size1 \t\t \t\t}</code>"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653947156,"creation_date":1653947156,"answer_id":72440314,"question_id":72440032,"body_markdown":"The only array index access you do is in `files[0]`. As the Exception tells you, your array has the length 0, hence you get the error. Maybe add an empty check before accessing it?","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>The only array index access you do is in <code>files[0]</code>. As the Exception tells you, your array has the length 0, hence you get the error. Maybe add an empty check before accessing it?</p>\n"},{"tags":[],"owner":{"account_id":23782799,"reputation":83,"user_id":17795272,"display_name":"Jost Schwider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654241935,"creation_date":1654241935,"answer_id":72486232,"question_id":72440032,"body_markdown":"Your findFiles does not return an array, so there is no files[0]!","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>Your findFiles does not return an array, so there is no files[0]!</p>\n"},{"tags":[],"owner":{"account_id":2315642,"reputation":1575,"user_id":2032777,"display_name":"PHZ.fi-Pharazon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696501706,"creation_date":1696501706,"answer_id":77236301,"question_id":72440032,"body_markdown":"Yes it&#39;s files[0]. But I got this error message in another context, when using Multibranch pipeline from our Jenkinsfile template that defaults to traditional pipeline, and has\r\n\r\n    BUILD_ENV = [master: &#39;prod&#39;, develop: &#39;stg&#39;].get(env.GIT_BRANCH.split(&#39;/&#39;)[1], &#39;dev&#39;)\r\n\r\nOver here the error message comes from env.GIT_BRANCH which is empty/null in multibranch pipeline.\r\n\r\nOn a multibranch pipeline the same row is:\r\n\r\n    BUILD_ENV = [master: &#39;prod&#39;, develop: &#39;stg&#39;].get(env.BRANCH_NAME, &#39;dev&#39;)","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>Yes it's files[0]. But I got this error message in another context, when using Multibranch pipeline from our Jenkinsfile template that defaults to traditional pipeline, and has</p>\n<pre><code>BUILD_ENV = [master: 'prod', develop: 'stg'].get(env.GIT_BRANCH.split('/')[1], 'dev')\n</code></pre>\n<p>Over here the error message comes from env.GIT_BRANCH which is empty/null in multibranch pipeline.</p>\n<p>On a multibranch pipeline the same row is:</p>\n<pre><code>BUILD_ENV = [master: 'prod', develop: 'stg'].get(env.BRANCH_NAME, 'dev')\n</code></pre>\n"}],"owner":{"account_id":25403030,"reputation":43,"user_id":19212183,"display_name":"Nageswar Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1877,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696501706,"creation_date":1653944742,"question_id":72440032,"body_markdown":"I am getting `java.lang.ArrayIndexOutOfBoundsException` error in groovy while running below code. \r\n```\r\nstage(&#39;Calculate Opatch size&#39;) { \r\n\t\tdef files = findFiles(glob: &#39;${BuildPathPublishRoot}\\\\30293915.*.zip&#39;) \r\n\t\techo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\r\n}\r\n```\r\n\r\nBelow is the log:\r\n```groovy\r\njava.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat org.codehaus.groovy.runtime.dgmimpl.arrays.ObjectArrayGetAtMetaMethod.invoke(ObjectArrayGetAtMetaMethod.java:41)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1225)\r\n```\r\n\r\nCan someone help me to understand the error and fix it. \r\n\t\t","title":"getting java.lang.ArrayIndexOutOfBoundsException error in groovy","body":"<p>I am getting <code>java.lang.ArrayIndexOutOfBoundsException</code> error in groovy while running below code.</p>\n<pre><code>stage('Calculate Opatch size') { \n        def files = findFiles(glob: '${BuildPathPublishRoot}\\\\30293915.*.zip') \n        echo &quot;&quot;&quot;${files[0].length}&quot;&quot;&quot;\n}\n</code></pre>\n<p>Below is the log:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at org.codehaus.groovy.runtime.dgmimpl.arrays.ObjectArrayGetAtMetaMethod.invoke(ObjectArrayGetAtMetaMethod.java:41)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1225)\n</code></pre>\n<p>Can someone help me to understand the error and fix it.</p>\n"},{"tags":["java","scala","gradle","caching","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1696499668,"post_id":77235698,"comment_id":136162021,"body_markdown":"Please include your GHA workflow in your question as text. Are you observing this behavior in the same workflow run, subsequent runs on the same branch, or unrelated branches?","body":"Please include your GHA workflow in your question as text. Are you observing this behavior in the same workflow run, subsequent runs on the same branch, or unrelated branches?"},{"owner":{"account_id":4254661,"reputation":632,"user_id":3480664,"display_name":"Michel Antoine"},"score":0,"creation_date":1696500468,"post_id":77235698,"comment_id":136162174,"body_markdown":"Caching doesn&#39;t work even though the cache key is the same both on subsequent runs on the same branch and unrelated branches","body":"Caching doesn&#39;t work even though the cache key is the same both on subsequent runs on the same branch and unrelated branches"}],"owner":{"account_id":4254661,"reputation":632,"user_id":3480664,"display_name":"Michel Antoine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696500558,"creation_date":1696496781,"question_id":77235698,"body_markdown":"I&#39;m trying to debug a gradle cache issue for a Test task in a Java/Scala project. Here is the command I&#39;m running:\r\n```\r\n./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\r\n```\r\n\r\nThe output I get for the task I&#39;m interested in is:\r\n```\r\nBuild cache key for task &#39;:kafka-utils:test&#39; is 803214d05e5842edc7b3e239f8fe08da\r\nTask &#39;:kafka-utils:test&#39; is not up-to-date because:\r\nTask.upToDateWhen is false.\r\n... (Tests omitted for brevity)\r\nStored cache entry for task &#39;:kafka-utils:test&#39; with cache key 803214d05e5842edc7b3e239f8fe08da\r\n```\r\n\r\nI can see the artifact being created in the remote build cache but no matter how many times I replay the task it&#39;s always going to complain that `Task.upToDateWhen is false.` and rerun the tests. I do not have any particular test configuration that I can find in my gradle configuration files. Now I&#39;m trying to find out where to go from there? How do I get to _why_ `Task.upToDateWhen is false`?\r\n\r\nHere&#39;s my GHA workflow:\r\n\r\n```\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-20.04\r\n    permissions:\r\n      contents: read\r\n    steps:\r\n      - name: Checkout repository\r\n        uses: actions/checkout@v3\r\n        with:\r\n          fetch-depth: 0\r\n\r\n      - name: Set up JDK\r\n        uses: actions/setup-java@v3.13.0\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n\r\n      - name: Setup Gradle\r\n        uses: gradle/gradle-build-action@v2.8.1\r\n        with:\r\n          cache-read-only: false\r\n\r\n      - name: Gradle build\r\n        env:\r\n          ARTIFACTORY_USER: xxx\r\n          ARTIFACTORY_KEY: xxx\r\n        run: ./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\r\n```","title":"Gradle cache Task.upToDateWhen is false even though cache key exists","body":"<p>I'm trying to debug a gradle cache issue for a Test task in a Java/Scala project. Here is the command I'm running:</p>\n<pre><code>./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\n</code></pre>\n<p>The output I get for the task I'm interested in is:</p>\n<pre><code>Build cache key for task ':kafka-utils:test' is 803214d05e5842edc7b3e239f8fe08da\nTask ':kafka-utils:test' is not up-to-date because:\nTask.upToDateWhen is false.\n... (Tests omitted for brevity)\nStored cache entry for task ':kafka-utils:test' with cache key 803214d05e5842edc7b3e239f8fe08da\n</code></pre>\n<p>I can see the artifact being created in the remote build cache but no matter how many times I replay the task it's always going to complain that <code>Task.upToDateWhen is false.</code> and rerun the tests. I do not have any particular test configuration that I can find in my gradle configuration files. Now I'm trying to find out where to go from there? How do I get to <em>why</em> <code>Task.upToDateWhen is false</code>?</p>\n<p>Here's my GHA workflow:</p>\n<pre><code>jobs:\n  build:\n    runs-on: ubuntu-20.04\n    permissions:\n      contents: read\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v3\n        with:\n          fetch-depth: 0\n\n      - name: Set up JDK\n        uses: actions/setup-java@v3.13.0\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n\n      - name: Setup Gradle\n        uses: gradle/gradle-build-action@v2.8.1\n        with:\n          cache-read-only: false\n\n      - name: Gradle build\n        env:\n          ARTIFACTORY_USER: xxx\n          ARTIFACTORY_KEY: xxx\n        run: ./gradlew build --no-daemon --info --stacktrace --build-cache -Dorg.gradle.caching.debug=true\n</code></pre>\n"},{"tags":["java","database","hibernate","mariadb"],"answers":[{"comments":[{"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"score":2,"creation_date":1587922580,"post_id":37066121,"comment_id":108694388,"body_markdown":"This is just not true!","body":"This is just not true!"},{"owner":{"account_id":218367,"reputation":622,"user_id":474650,"accept_rate":0,"display_name":"Francis Niu"},"score":0,"creation_date":1595781703,"post_id":37066121,"comment_id":111586739,"body_markdown":"MariaDB is obviously not compatible with mysql.","body":"MariaDB is obviously not compatible with mysql."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1595791850,"post_id":37066121,"comment_id":111589911,"body_markdown":"@FrancisNiu as you can see the answer is from 2016 in this year the dbms was compatible.","body":"@FrancisNiu as you can see the answer is from 2016 in this year the dbms was compatible."}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":3,"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1599068573,"creation_date":1462517571,"answer_id":37066121,"question_id":37066024,"body_markdown":"You should use the Mysql5Dialect, because MariaDB is compatible with mysql.\r\n\r\nhttps://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/#incompatibilities-between-mariadb-55-and-mysql-55","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>You should use the Mysql5Dialect, because MariaDB is compatible with mysql.</p>\n<p><a href=\"https://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/#incompatibilities-between-mariadb-55-and-mysql-55\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/#incompatibilities-between-mariadb-55-and-mysql-55</a></p>\n"},{"comments":[{"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"score":0,"creation_date":1533672555,"post_id":40374379,"comment_id":90430095,"body_markdown":"Note that this answer is outdated and not correct anymore.","body":"Note that this answer is outdated and not correct anymore."}],"tags":[],"owner":{"account_id":1723325,"reputation":2701,"user_id":1578559,"display_name":"maxhuang"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533710531,"creation_date":1478071256,"answer_id":40374379,"question_id":37066024,"body_markdown":"From [here][1], it was mentioned \r\n&quot;it needs to be the MySQL5InnoDBDialect or MySQL57InnoDBDialect instead of the MySQLInnoDBDialect&quot;\r\n\r\nFor complete list, see\r\n[http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect][2]\r\n\r\n\r\nNew MariaDB dialect is added in 5.2.17. See [JIRA][3] and [commit][4]\r\n\r\n\r\n  [1]: http://sterl.org/2015/09/spring-boot-mariadb/\r\n  [2]: http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-11769\r\n  [4]: https://github.com/hibernate/hibernate-orm/commit/eed7f70751db31a3f02cdf192e070edf8156f695","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>From <a href=\"http://sterl.org/2015/09/spring-boot-mariadb/\" rel=\"nofollow noreferrer\">here</a>, it was mentioned \n\"it needs to be the MySQL5InnoDBDialect or MySQL57InnoDBDialect instead of the MySQLInnoDBDialect\"</p>\n\n<p>For complete list, see\n<a href=\"http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#database-dialect</a></p>\n\n<p>New MariaDB dialect is added in 5.2.17. See <a href=\"https://hibernate.atlassian.net/browse/HHH-11769\" rel=\"nofollow noreferrer\">JIRA</a> and <a href=\"https://github.com/hibernate/hibernate-orm/commit/eed7f70751db31a3f02cdf192e070edf8156f695\" rel=\"nofollow noreferrer\">commit</a></p>\n"},{"comments":[{"owner":{"account_id":7427874,"reputation":374,"user_id":5649810,"display_name":"lubrum"},"score":0,"creation_date":1693068747,"post_id":43660707,"comment_id":135712490,"body_markdown":"What dialect to use when using hibernate 5.1?","body":"What dialect to use when using hibernate 5.1?"}],"tags":[],"owner":{"account_id":5888165,"reputation":2184,"user_id":4635513,"accept_rate":100,"display_name":"AntiTiming"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1493303399,"creation_date":1493303399,"answer_id":43660707,"question_id":37066024,"body_markdown":"As [announced here][1], starting with Hibernate ORM 5.2.8 (around Feb 15, 2017), the dialects\r\n\r\n`org.hibernate.dialect.MariaDB53Dialect`\r\n\r\nand\r\n\r\n`org.hibernate.dialect.MariaDBDialect`\r\n\r\nare available. The announcement concludes that\r\n\r\n&gt; If you are using MariaDB, it’s best to use the MariaDB-specific\r\n&gt; Dialects from now on since it’s much easier to match the MariaDB\r\n&gt; version with its appropriate Hibernate Dialect.\r\n\r\n\r\n  [1]: https://planet.jboss.org/post/mariadb_dialects","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>As <a href=\"https://planet.jboss.org/post/mariadb_dialects\" rel=\"noreferrer\">announced here</a>, starting with Hibernate ORM 5.2.8 (around Feb 15, 2017), the dialects</p>\n\n<p><code>org.hibernate.dialect.MariaDB53Dialect</code></p>\n\n<p>and</p>\n\n<p><code>org.hibernate.dialect.MariaDBDialect</code></p>\n\n<p>are available. The announcement concludes that</p>\n\n<blockquote>\n  <p>If you are using MariaDB, it’s best to use the MariaDB-specific\n  Dialects from now on since it’s much easier to match the MariaDB\n  version with its appropriate Hibernate Dialect.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":128453,"reputation":787,"user_id":326294,"display_name":"Alain BECKER"},"score":0,"creation_date":1548187750,"post_id":51734560,"comment_id":95451327,"body_markdown":"Great answer! But try and fix its title ;-)","body":"Great answer! But try and fix its title ;-)"},{"owner":{"account_id":6506874,"reputation":344,"user_id":5035482,"accept_rate":92,"display_name":"w0ns88"},"score":0,"creation_date":1566801162,"post_id":51734560,"comment_id":101755669,"body_markdown":"Thanks for your answer. Is this the same for `NHibernate` too?","body":"Thanks for your answer. Is this the same for <code>NHibernate</code> too?"}],"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"comment_count":2,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1696500366,"creation_date":1533672061,"answer_id":51734560,"question_id":37066024,"body_markdown":"# Update note: Hibernate automatic dialect resolution #\r\nIn older versions of Hibernate, you are required to specify the dialect. But starting with version 3.2, hibernate uses [dialect resolution][1] to automatically determine the target database and the dialect that should be used.\r\n\r\nThe [Hibernate 5.0 userguide][2] says:\r\n&gt; **In most cases** Hibernate will be able to determine the proper Dialect to use by asking some questions of the JDBC Connection during bootstrap.\r\n\r\n&gt; If for some reason it is not able to determine the proper one or you want to use a custom Dialect, you will need to set the hibernate.dialect setting.\r\n\r\n[Hibernate 6.3 userguide][3] even discourages you to set the property:\r\n&gt; In Hibernate 6, it’s **no longer necessary** to explicitly specify a dialect using the configuration property hibernate.dialect, and so setting that property **is now discouraged**. (An exception is the case of custom user-written Dialects.)\r\n\r\nThe [Hibernate 6.3 api doc][4] says:\r\n&gt; As of Hibernate 6, this property should not be explicitly specified, except when using a custom user-written implementation of Dialect. Instead, applications **should allow Hibernate to select the Dialect automatically**.\r\n\r\n\r\n# Very short answer #\r\n\r\nUpdated answer (Oct 05, 2023):\r\n\r\n - org.hibernate.dialect.**MariaDBDialect** for MariaDB server **10.3 and later**\r\n\r\n\r\nUpdate: some of these classes are now deprecated or even removed:\r\n&lt;s&gt;\r\n - org.hibernate.dialect.**MariaDB106Dialect** for MariaDB server **10.6 and later**, provides skip locked support.\r\n - org.hibernate.dialect.**MariaDB103Dialect** for MariaDB server **10.3 and later**, provides sequence support.\r\n - org.hibernate.dialect.**MariaDB102Dialect** for MariaDB server **10.2**\r\n - org.hibernate.dialect.**MariaDB10Dialect** for MariaDB server **10.0 and 10.1**\r\n - org.hibernate.dialect.**MariaDB53Dialect** for MariaDB server **5.3, and later 5.x versions**.\r\n - org.hibernate.dialect.**MariaDBDialect** for MariaDB server **5.1 and 5.2**.\r\n&lt;/s&gt;\r\n\r\n# Short answer #\r\n\r\nWhen using a MariaDB server, you should **use MariaDB Connector/J and MariaDB Hibernate dialects, not the MySQL ones**. Even though MariaDB was created as a drop-in replacement and even though basic features will likely work when using the MySQL versions of those, subtle problems may occur or you may miss certain features.\r\n\r\nA complete list of available MariaDB dialects are currently not mentioned in the Hibernate User Guide, but in the [Hibernate JavaDoc][5]. **Depending on your MariaDB server version, you should select the corresponding dialect version**. The current dialects as of this writing are:\r\n\r\n - org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2\r\n - org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.\r\n - org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1\r\n - org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.\r\n - org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.\r\n\r\nNote that for detailed usage information, you&#39;ll sometimes have to look in dialect source codes. (There are non-JavaDoc usage information comments in some dialect sources.)\r\n\r\nIf you want to change or explicitly mention the storage engine for the MariaDB dialect, you can use the `storage_engine` Hibernate variable. For example: `hibernate.dialect.storage_engine = innodb`. IMO, you should do this explicitly, because the default can change when switching to a different MariaDB server version.\r\n\r\nIf you&#39;re using a MariaDB server older than 10.1.2 (which doesn&#39;t support fractional seconds), then you may want to provide the parameter `useFractionalSeconds=false` to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem when those values are using in comparison queries (even when using plain JDBC), which can cause Hibernate versioning problems and optimistic locking problems for temporal types.\r\n\r\n# Long answer #\r\n\r\nThe MariaDB dialect for Hibernate (5.3 as of this writing) is mentioned in the [Hibernate User Guide][6]. The mentioned dialect &quot;short names&quot; followed by remarks are:\r\n\r\n&gt;  - MariaDB: Support for the MariadB database. May work with newer versions\r\n&gt; \r\n&gt;  - MariaDB53: Support for the MariadB database, version 5.3 and newer.\r\n\r\nHowever, a complete list of the available official MariaDB dialects can be found in the [Hibernate JavaDoc][5]. Which currently lists: \r\n\r\n - org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2\r\n - org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.\r\n - org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1\r\n - org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.\r\n - org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.\r\n\r\n\r\nEach dialect successor inherits the settings from the previous dialect version. So the inheritance hierachy for MariaDB is: `MariaDB103Dialect &gt; MariaDB102Dialect &gt; MariaDB10Dialect &gt; MariaDB53Dialect &gt; MariaDBDialect &gt; MySQL5Dialect &gt; MySQLDialect &gt; Dialect`\r\n\r\nMariaDB was designed as a drop-in replacement for MySQL. But the databases are likely going to diverge as time goes by. Most basic features probably work without problems, allowing you to swap Connector/J clients (MariaDB client on MySQL server and vice versa), and allow you to swap dialects (MySQL dialect on MariaDB client and vice versa). But there are subtle differences that may cause unexpected problems. For example, the MySQL Connector/J client contains hardcoded checks for the server version, which will fail when using a MariaDB server, causing some features to be disabled in the client, such as the MySQL sendFractionalSeconds client parameter. This will cause fractional seconds to be disabled, so then the fractions will be truncated in the MySQL client but not in the MariaDB client. (This may even lead to optimistic locking problems when using versioning with date/time types in combination with non-max precision SQL date/time types. In these cases, use the max precision of 6.)\r\n\r\nAlso, the MariaDB dialect are expected to provide specific functionality for MariaDB:\r\nhttp://in.relation.to/2017/02/16/mariadb-dialects/\r\n\r\n&gt; In time, we will add new Dialects based on newer capabilities\r\n&gt; introduced by MariaDB.\r\n\r\n&gt; If you are using MariaDB, it’s best to use the MariaDB-specific\r\n&gt; Dialects from now on since it’s much easier to match the MariaDB\r\n&gt; version with its appropriate Hibernate Dialect.\r\n\r\nAnd https://hibernate.atlassian.net/browse/HHH-11457 says:\r\n\r\n&gt; since MySQL and MariaDB have gone in different directions, we might\r\n&gt; want to provide MariaDB Dialects as well.\r\n&gt; \r\n&gt; For instance, it&#39;s not very intuitive for a Hibernate user to figure\r\n&gt; out that they need to use the MySQLInnoDb57Dialect to handle\r\n&gt; Timestamps with microsecond precision which have been available since\r\n&gt; MariaDB 5.3:\r\n\r\nThe Hibernate User Guide doesn&#39;t provide all usage information about how to use the dialects. Even the User Guide combines with the API docs may not be enough. Sometimes you&#39;ll have to look in the source codes for usage information. For example, [MariaDB53Dialect.java][7] contains hidden non-JavaDoc comments that may be useful.\r\n\r\nPreviously, to select a MySQL storage engine, such as MyISAM or InnoDB or default, you could switch between for example `MySQL57InnoDBDialect` and `MySQL57Dialect`. But they refactored the MySQL dialect hierarchy starting from Hibernate 5.2.8, as mentioned in a [Hibernate blog post][8]. Note that to select a storage engine, you should use a Environment Variable or System Property: `hibernate.dialect.storage_engine`. For example: `hibernate.dialect.storage_engine = innodb`. \r\n\r\nXtraDB was the default MariaDB storage engine for MariaDB 10.1 and earlier, but since 10.2 it&#39;s InnoDB. So there may be cases that you want to explicitly mention the storage engine that Hibernate selects, so then you&#39;ll have to use the `storage_engine` variable. Info about the `storage_engine` variable (which isn&#39;t mentioned in the User Guide), can be found in the source of [`AvailableSettings.java`][9].\r\n\r\n\r\nIf you&#39;re using a MariaDB server older than 10.1.2 (which doesn&#39;t support fractional seconds), then you may want to provide the parameter `useFractionalSeconds=false` to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem, which can cause Hibernate versioning problems and optimistic locking problems for temporal types.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#portability-dialectresolver\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#database-dialect\r\n  [3]: https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#database-dialect\r\n  [4]: https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/cfg/JdbcSettings.html#DIALECT\r\n  [5]: http://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\r\n  [6]: http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html\r\n  [7]: https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/dialect/MariaDB53Dialect.java\r\n  [8]: http://in.relation.to/2017/02/20/mysql-dialect-refactoring/\r\n  [9]: https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java","title":"What is the MariaDB dialect class name for Hibernate?","body":"<h1>Update note: Hibernate automatic dialect resolution</h1>\n<p>In older versions of Hibernate, you are required to specify the dialect. But starting with version 3.2, hibernate uses <a href=\"https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#portability-dialectresolver\" rel=\"nofollow noreferrer\">dialect resolution</a> to automatically determine the target database and the dialect that should be used.</p>\n<p>The <a href=\"https://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#database-dialect\" rel=\"nofollow noreferrer\">Hibernate 5.0 userguide</a> says:</p>\n<blockquote>\n<p><strong>In most cases</strong> Hibernate will be able to determine the proper Dialect to use by asking some questions of the JDBC Connection during bootstrap.</p>\n</blockquote>\n<blockquote>\n<p>If for some reason it is not able to determine the proper one or you want to use a custom Dialect, you will need to set the hibernate.dialect setting.</p>\n</blockquote>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#database-dialect\" rel=\"nofollow noreferrer\">Hibernate 6.3 userguide</a> even discourages you to set the property:</p>\n<blockquote>\n<p>In Hibernate 6, it’s <strong>no longer necessary</strong> to explicitly specify a dialect using the configuration property hibernate.dialect, and so setting that property <strong>is now discouraged</strong>. (An exception is the case of custom user-written Dialects.)</p>\n</blockquote>\n<p>The <a href=\"https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/cfg/JdbcSettings.html#DIALECT\" rel=\"nofollow noreferrer\">Hibernate 6.3 api doc</a> says:</p>\n<blockquote>\n<p>As of Hibernate 6, this property should not be explicitly specified, except when using a custom user-written implementation of Dialect. Instead, applications <strong>should allow Hibernate to select the Dialect automatically</strong>.</p>\n</blockquote>\n<h1>Very short answer</h1>\n<p>Updated answer (Oct 05, 2023):</p>\n<ul>\n<li>org.hibernate.dialect.<strong>MariaDBDialect</strong> for MariaDB server <strong>10.3 and later</strong></li>\n</ul>\n<p>Update: some of these classes are now deprecated or even removed:\n<s></p>\n<ul>\n<li>org.hibernate.dialect.<strong>MariaDB106Dialect</strong> for MariaDB server <strong>10.6 and later</strong>, provides skip locked support.</li>\n<li>org.hibernate.dialect.<strong>MariaDB103Dialect</strong> for MariaDB server <strong>10.3 and later</strong>, provides sequence support.</li>\n<li>org.hibernate.dialect.<strong>MariaDB102Dialect</strong> for MariaDB server <strong>10.2</strong></li>\n<li>org.hibernate.dialect.<strong>MariaDB10Dialect</strong> for MariaDB server <strong>10.0 and 10.1</strong></li>\n<li>org.hibernate.dialect.<strong>MariaDB53Dialect</strong> for MariaDB server <strong>5.3, and later 5.x versions</strong>.</li>\n<li>org.hibernate.dialect.<strong>MariaDBDialect</strong> for MariaDB server <strong>5.1 and 5.2</strong>.\n</s></li>\n</ul>\n<h1>Short answer</h1>\n<p>When using a MariaDB server, you should <strong>use MariaDB Connector/J and MariaDB Hibernate dialects, not the MySQL ones</strong>. Even though MariaDB was created as a drop-in replacement and even though basic features will likely work when using the MySQL versions of those, subtle problems may occur or you may miss certain features.</p>\n<p>A complete list of available MariaDB dialects are currently not mentioned in the Hibernate User Guide, but in the <a href=\"http://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">Hibernate JavaDoc</a>. <strong>Depending on your MariaDB server version, you should select the corresponding dialect version</strong>. The current dialects as of this writing are:</p>\n<ul>\n<li>org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2</li>\n<li>org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.</li>\n<li>org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1</li>\n<li>org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.</li>\n<li>org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.</li>\n</ul>\n<p>Note that for detailed usage information, you'll sometimes have to look in dialect source codes. (There are non-JavaDoc usage information comments in some dialect sources.)</p>\n<p>If you want to change or explicitly mention the storage engine for the MariaDB dialect, you can use the <code>storage_engine</code> Hibernate variable. For example: <code>hibernate.dialect.storage_engine = innodb</code>. IMO, you should do this explicitly, because the default can change when switching to a different MariaDB server version.</p>\n<p>If you're using a MariaDB server older than 10.1.2 (which doesn't support fractional seconds), then you may want to provide the parameter <code>useFractionalSeconds=false</code> to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem when those values are using in comparison queries (even when using plain JDBC), which can cause Hibernate versioning problems and optimistic locking problems for temporal types.</p>\n<h1>Long answer</h1>\n<p>The MariaDB dialect for Hibernate (5.3 as of this writing) is mentioned in the <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html\" rel=\"nofollow noreferrer\">Hibernate User Guide</a>. The mentioned dialect &quot;short names&quot; followed by remarks are:</p>\n<blockquote>\n<ul>\n<li><p>MariaDB: Support for the MariadB database. May work with newer versions</p>\n</li>\n<li><p>MariaDB53: Support for the MariadB database, version 5.3 and newer.</p>\n</li>\n</ul>\n</blockquote>\n<p>However, a complete list of the available official MariaDB dialects can be found in the <a href=\"http://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">Hibernate JavaDoc</a>. Which currently lists:</p>\n<ul>\n<li>org.hibernate.dialect.MariaDB102Dialect for MariaDB server 10.2</li>\n<li>org.hibernate.dialect.MariaDB103Dialect for MariaDB server 10.3 and later, provides sequence support.</li>\n<li>org.hibernate.dialect.MariaDB10Dialect for MariaDB server 10.0 and 10.1</li>\n<li>org.hibernate.dialect.MariaDB53Dialect for MariaDB server 5.3, and later 5.x versions.</li>\n<li>org.hibernate.dialect.MariaDBDialect for MariaDB server 5.1 and 5.2.</li>\n</ul>\n<p>Each dialect successor inherits the settings from the previous dialect version. So the inheritance hierachy for MariaDB is: <code>MariaDB103Dialect &gt; MariaDB102Dialect &gt; MariaDB10Dialect &gt; MariaDB53Dialect &gt; MariaDBDialect &gt; MySQL5Dialect &gt; MySQLDialect &gt; Dialect</code></p>\n<p>MariaDB was designed as a drop-in replacement for MySQL. But the databases are likely going to diverge as time goes by. Most basic features probably work without problems, allowing you to swap Connector/J clients (MariaDB client on MySQL server and vice versa), and allow you to swap dialects (MySQL dialect on MariaDB client and vice versa). But there are subtle differences that may cause unexpected problems. For example, the MySQL Connector/J client contains hardcoded checks for the server version, which will fail when using a MariaDB server, causing some features to be disabled in the client, such as the MySQL sendFractionalSeconds client parameter. This will cause fractional seconds to be disabled, so then the fractions will be truncated in the MySQL client but not in the MariaDB client. (This may even lead to optimistic locking problems when using versioning with date/time types in combination with non-max precision SQL date/time types. In these cases, use the max precision of 6.)</p>\n<p>Also, the MariaDB dialect are expected to provide specific functionality for MariaDB:\n<a href=\"http://in.relation.to/2017/02/16/mariadb-dialects/\" rel=\"nofollow noreferrer\">http://in.relation.to/2017/02/16/mariadb-dialects/</a></p>\n<blockquote>\n<p>In time, we will add new Dialects based on newer capabilities\nintroduced by MariaDB.</p>\n</blockquote>\n<blockquote>\n<p>If you are using MariaDB, it’s best to use the MariaDB-specific\nDialects from now on since it’s much easier to match the MariaDB\nversion with its appropriate Hibernate Dialect.</p>\n</blockquote>\n<p>And <a href=\"https://hibernate.atlassian.net/browse/HHH-11457\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-11457</a> says:</p>\n<blockquote>\n<p>since MySQL and MariaDB have gone in different directions, we might\nwant to provide MariaDB Dialects as well.</p>\n<p>For instance, it's not very intuitive for a Hibernate user to figure\nout that they need to use the MySQLInnoDb57Dialect to handle\nTimestamps with microsecond precision which have been available since\nMariaDB 5.3:</p>\n</blockquote>\n<p>The Hibernate User Guide doesn't provide all usage information about how to use the dialects. Even the User Guide combines with the API docs may not be enough. Sometimes you'll have to look in the source codes for usage information. For example, <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/dialect/MariaDB53Dialect.java\" rel=\"nofollow noreferrer\">MariaDB53Dialect.java</a> contains hidden non-JavaDoc comments that may be useful.</p>\n<p>Previously, to select a MySQL storage engine, such as MyISAM or InnoDB or default, you could switch between for example <code>MySQL57InnoDBDialect</code> and <code>MySQL57Dialect</code>. But they refactored the MySQL dialect hierarchy starting from Hibernate 5.2.8, as mentioned in a <a href=\"http://in.relation.to/2017/02/20/mysql-dialect-refactoring/\" rel=\"nofollow noreferrer\">Hibernate blog post</a>. Note that to select a storage engine, you should use a Environment Variable or System Property: <code>hibernate.dialect.storage_engine</code>. For example: <code>hibernate.dialect.storage_engine = innodb</code>.</p>\n<p>XtraDB was the default MariaDB storage engine for MariaDB 10.1 and earlier, but since 10.2 it's InnoDB. So there may be cases that you want to explicitly mention the storage engine that Hibernate selects, so then you'll have to use the <code>storage_engine</code> variable. Info about the <code>storage_engine</code> variable (which isn't mentioned in the User Guide), can be found in the source of <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java\" rel=\"nofollow noreferrer\"><code>AvailableSettings.java</code></a>.</p>\n<p>If you're using a MariaDB server older than 10.1.2 (which doesn't support fractional seconds), then you may want to provide the parameter <code>useFractionalSeconds=false</code> to the JDBC URL, otherwise MariaDB Connector/J will not truncate timestamps internally, which can cause time comparison problem, which can cause Hibernate versioning problems and optimistic locking problems for temporal types.</p>\n"}],"owner":{"account_id":7557581,"reputation":913,"user_id":5736574,"display_name":"Bijaya Bhaskar Swain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74532,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":43660707,"answer_count":4,"score":37,"last_activity_date":1696500366,"creation_date":1462517233,"question_id":37066024,"body_markdown":"In **Hibenate** I am using **MariaDB** but I couldn&#39;t find the dialect class name of **MariaDB** .\r\n\r\nIn Hibernate, MySQL5 dialect&#39;s name is\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\nFor Oracle 10g\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\r\n\r\nWhat is the dialect class name for **MariaDB**?","title":"What is the MariaDB dialect class name for Hibernate?","body":"<p>In <strong>Hibenate</strong> I am using <strong>MariaDB</strong> but I couldn't find the dialect class name of <strong>MariaDB</strong> .</p>\n\n<p>In Hibernate, MySQL5 dialect's name is</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n\n<p>For Oracle 10g</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\n</code></pre>\n\n<p>What is the dialect class name for <strong>MariaDB</strong>?</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696427783,"post_id":77230117,"comment_id":136151634,"body_markdown":"*@CsvCustomBindByName(column = &quot;properties&quot; ...* But there *isn&#39;t* a column called properties..?","body":"<i>@CsvCustomBindByName(column = &quot;properties&quot; ...</i> But there <i>isn&#39;t</i> a column called properties..?"},{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1696428259,"post_id":77230117,"comment_id":136151765,"body_markdown":"The problem is that: &quot;properties&quot; as column name would cover a variable number of pairs of columns below itself. I don&#39;t know how to correctly annotate that field or how I can handle it with openCSV","body":"The problem is that: &quot;properties&quot; as column name would cover a variable number of pairs of columns below itself. I don&#39;t know how to correctly annotate that field or how I can handle it with openCSV"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696428461,"post_id":77230117,"comment_id":136151815,"body_markdown":"I can&#39;t give you a definitive answer since I don&#39;t know the API well enough. I would probably work along the lines of adding columns 15-n to a `Map`, treating the mapping positionally","body":"I can&#39;t give you a definitive answer since I don&#39;t know the API well enough. I would probably work along the lines of adding columns 15-n to a <code>Map</code>, treating the mapping positionally"},{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1696428958,"post_id":77230117,"comment_id":136151939,"body_markdown":"This CSV comes out of an Excel file, where &quot;properties&quot; is a union-cell of multiple columns, so I&#39;m wandering if only from column 15 I can use a custom mapper. I&#39;ll give a try to the map and see if the output is easily usable to build my list of properties","body":"This CSV comes out of an Excel file, where &quot;properties&quot; is a union-cell of multiple columns, so I&#39;m wandering if only from column 15 I can use a custom mapper. I&#39;ll give a try to the map and see if the output is easily usable to build my list of properties"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696432544,"post_id":77230117,"comment_id":136152788,"body_markdown":"One problem is that your portrayal of your input file is confusing. Better, clearer data would help","body":"One problem is that your portrayal of your input file is confusing. Better, clearer data would help"}],"answers":[{"comments":[{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1696514599,"post_id":77236111,"comment_id":136165277,"body_markdown":"Creating a converter that implements CsvConverter, needs a lot of methods implementation and there is not &quot;convert&quot; method, but &quot;convertToRead&quot;. I tried using AbstractBeanField instead, but during the csv file parsing my converter is never called.","body":"Creating a converter that implements CsvConverter, needs a lot of methods implementation and there is not &quot;convert&quot; method, but &quot;convertToRead&quot;. I tried using AbstractBeanField instead, but during the csv file parsing my converter is never called."},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":1,"creation_date":1696839570,"post_id":77236111,"comment_id":136199378,"body_markdown":"https://stackoverflow.com/help/gpt-policy","body":"<a href=\"https://stackoverflow.com/help/gpt-policy\">stackoverflow.com/help/gpt-policy</a>"}],"tags":[],"owner":{"account_id":24027155,"reputation":15,"user_id":18008637,"display_name":"ARYUEMAAN CHOWDHURY"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1696500218,"creation_date":1696500218,"answer_id":77236111,"question_id":77230117,"body_markdown":"To handle the variable portion of the CSV line with OpenCSV, you can use a custom converter. This converter will be responsible for parsing the variable part of the line and converting it into a list of ContainerProperty objects.\r\n\r\nTo create a custom converter, you need to implement the CsvConverter interface. This interface has a single method, convert(), which takes a String as input and returns an Object.\r\n\r\nIn the convert() method, you will need to parse the variable part of the CSV line and convert it into a list of ContainerProperty objects. You can do this by splitting the variable part of the line into pairs of values, and then creating a ContainerProperty object for each pair of values.\r\n\r\nOnce you have created a custom converter, you need to register it with OpenCSV. You can do this by using the CSVParserBuilder.withConverter() method.\r\n\r\nFinally, you need to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO.\r\n\r\nHere is an example of a custom converter for parsing the variable part of the CSV line:\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class ContainerPropertiesConverter implements CsvConverter {\r\n\r\n        @Override\r\n        public Object convert(String value) {\r\n            List&lt;ContainerProperty&gt; properties = new ArrayList&lt;&gt;();\r\n\r\n            String[] pairs = value.split(&quot;;;&quot;);\r\n            for (String pair : pairs) {\r\n                String[] keyValue = pair.split(&quot;;&quot;);\r\n                String key = keyValue[0];\r\n                String value = keyValue[1];\r\n\r\n                ContainerProperty property = new ContainerProperty();\r\n                property.setKey(key);\r\n                property.setValue(value);\r\n\r\n                properties.add(property);\r\n            }\r\n\r\n            return properties;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTo register the custom converter with OpenCSV:\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    CSVParserBuilder builder = new CSVParserBuilder();\r\n    builder.withConverter(new ContainerPropertiesConverter());\r\n\r\n    CSVParser parser = builder.build();\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n example of how to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO:\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MyDTO {\r\n\r\n        @CsvBindByPosition(position = 12, required = true)\r\n        private Double localizationStop;\r\n        @CsvBindByPosition(position = 13, required = false)\r\n        private Double latitudeStop;\r\n        @CsvBindByPosition(position = 14, required = false)\r\n        private Double longitudeStop;\r\n\r\n        @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\r\n        private List&lt;ContainerProperty&gt; properties;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Custom converter for openCSV","body":"<p>To handle the variable portion of the CSV line with OpenCSV, you can use a custom converter. This converter will be responsible for parsing the variable part of the line and converting it into a list of ContainerProperty objects.</p>\n<p>To create a custom converter, you need to implement the CsvConverter interface. This interface has a single method, convert(), which takes a String as input and returns an Object.</p>\n<p>In the convert() method, you will need to parse the variable part of the CSV line and convert it into a list of ContainerProperty objects. You can do this by splitting the variable part of the line into pairs of values, and then creating a ContainerProperty object for each pair of values.</p>\n<p>Once you have created a custom converter, you need to register it with OpenCSV. You can do this by using the CSVParserBuilder.withConverter() method.</p>\n<p>Finally, you need to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO.</p>\n<p>Here is an example of a custom converter for parsing the variable part of the CSV line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContainerPropertiesConverter implements CsvConverter {\n\n    @Override\n    public Object convert(String value) {\n        List&lt;ContainerProperty&gt; properties = new ArrayList&lt;&gt;();\n\n        String[] pairs = value.split(&quot;;;&quot;);\n        for (String pair : pairs) {\n            String[] keyValue = pair.split(&quot;;&quot;);\n            String key = keyValue[0];\n            String value = keyValue[1];\n\n            ContainerProperty property = new ContainerProperty();\n            property.setKey(key);\n            property.setValue(value);\n\n            properties.add(property);\n        }\n\n        return properties;\n    }\n}\n</code></pre>\n<p>To register the custom converter with OpenCSV:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CSVParserBuilder builder = new CSVParserBuilder();\nbuilder.withConverter(new ContainerPropertiesConverter());\n\nCSVParser parser = builder.build();\n</code></pre>\n<p>example of how to use the CsvCustomBindByName annotation to bind the variable part of the CSV line to the properties field of your DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDTO {\n\n    @CsvBindByPosition(position = 12, required = true)\n    private Double localizationStop;\n    @CsvBindByPosition(position = 13, required = false)\n    private Double latitudeStop;\n    @CsvBindByPosition(position = 14, required = false)\n    private Double longitudeStop;\n\n    @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\n    private List&lt;ContainerProperty&gt; properties;\n}\n</code></pre>\n"}],"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696500218,"creation_date":1696426907,"question_id":77230117,"body_markdown":"I have a CSV that is composed of a fixed part, where each column corresponds to an exact field of the target DTO, and a variable part composed of pairs of values that are to be conveyed into a list of properties like objects.\r\n\r\nA line from the input CSV looks like this:\r\n\r\n&gt; test1;description test\r\n&gt; 1;to;place1;;;;placeTest;objectType;47.222;;;47.442;;;property1;property\r\n&gt; value 1;property2;property value 2;property3;property value 3\r\n\r\nwhere from &quot;property1&quot; on there is the variable part of the line, which could also not be present.\r\n\r\nThe header:\r\n\r\n&gt; name;description;tenant;road name;direction name;section name;lane\r\n&gt; name;infrastructure\r\n&gt; name;systemTagName;pkStart;latitudeStart;longitudeStart;pkStop;latitudeStop;longitudeStop;properties\r\n\r\nThe last column &quot;properties&quot; covers under itself the variable part of the line. This header field is the product of a union cells from an Excel file.\r\n\r\nThis is a portion of the dto:\r\n\r\n        ...\r\n        @CsvBindByPosition(position = 12, required = true)\r\n        private Double localizationStop;\r\n        @CsvBindByPosition(position = 13, required = false)\r\n        private Double latitudeStop;\r\n        @CsvBindByPosition(position = 14, required = false)\r\n        private Double longitudeStop;\r\n    \r\n        @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\r\n        private List&lt;ContainerProperty&gt; properties;\r\n\r\n\r\nI tried the annotation *CsvCustomBindByName*, believing that would pass all the remaining feilds of the line to my converter, but that does not happen. The converter is never called.\r\n\r\nWhat type of annotation can I use or how can I easily manage the variable portion of the line with openCSV?\r\n","title":"Custom converter for openCSV","body":"<p>I have a CSV that is composed of a fixed part, where each column corresponds to an exact field of the target DTO, and a variable part composed of pairs of values that are to be conveyed into a list of properties like objects.</p>\n<p>A line from the input CSV looks like this:</p>\n<blockquote>\n<p>test1;description test\n1;to;place1;;;;placeTest;objectType;47.222;;;47.442;;;property1;property\nvalue 1;property2;property value 2;property3;property value 3</p>\n</blockquote>\n<p>where from &quot;property1&quot; on there is the variable part of the line, which could also not be present.</p>\n<p>The header:</p>\n<blockquote>\n<p>name;description;tenant;road name;direction name;section name;lane\nname;infrastructure\nname;systemTagName;pkStart;latitudeStart;longitudeStart;pkStop;latitudeStop;longitudeStop;properties</p>\n</blockquote>\n<p>The last column &quot;properties&quot; covers under itself the variable part of the line. This header field is the product of a union cells from an Excel file.</p>\n<p>This is a portion of the dto:</p>\n<pre><code>    ...\n    @CsvBindByPosition(position = 12, required = true)\n    private Double localizationStop;\n    @CsvBindByPosition(position = 13, required = false)\n    private Double latitudeStop;\n    @CsvBindByPosition(position = 14, required = false)\n    private Double longitudeStop;\n\n    @CsvCustomBindByName(column = &quot;properties&quot;, converter = ContainerPropertiesConverter.class)\n    private List&lt;ContainerProperty&gt; properties;\n</code></pre>\n<p>I tried the annotation <em>CsvCustomBindByName</em>, believing that would pass all the remaining feilds of the line to my converter, but that does not happen. The converter is never called.</p>\n<p>What type of annotation can I use or how can I easily manage the variable portion of the line with openCSV?</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1695955940,"post_id":77199202,"comment_id":136095509,"body_markdown":"What exactly do you want to assert?","body":"What exactly do you want to assert?"},{"owner":{"account_id":20007535,"reputation":157,"user_id":14665211,"display_name":"Shawn Armstrong"},"score":0,"creation_date":1695962556,"post_id":77199202,"comment_id":136095878,"body_markdown":"Anything related to the state of `LOGGER` which will enable me to validate that the line was executed. I&#39;m under the impression this cannot be done in a deterministic manner due to tests being run in parallel and the field being shared between them.","body":"Anything related to the state of <code>LOGGER</code> which will enable me to validate that the line was executed. I&#39;m under the impression this cannot be done in a deterministic manner due to tests being run in parallel and the field being shared between them."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1695984426,"post_id":77199202,"comment_id":136098997,"body_markdown":"See https://github.com/Hakky54/log-captor and a possible duplicate https://stackoverflow.com/questions/1827677","body":"See <a href=\"https://github.com/Hakky54/log-captor\" rel=\"nofollow noreferrer\">github.com/Hakky54/log-captor</a> and a possible duplicate <a href=\"https://stackoverflow.com/questions/1827677\">stackoverflow.com/questions/1827677</a>"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1696498608,"post_id":77199202,"comment_id":136161811,"body_markdown":"Does this answer your question? [How to do a JUnit assert on a message in a logger](https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger\">How to do a JUnit assert on a message in a logger</a>"}],"answers":[{"tags":[],"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695974697,"creation_date":1695974697,"answer_id":77200318,"question_id":77199202,"body_markdown":"One workaround could be to use a custom appender class for logging events in order to collect and assert. So for example, if logback is used with slf4j, then:\r\n\r\n```java\r\npublic class Appender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    static List&lt;ILoggingEvent&gt; events = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void append(ILoggingEvent e) {\r\n        events.add(e);\r\n    }\r\n\r\n    public static List&lt;ILoggingEvent&gt; getEvents() {\r\n        return events;\r\n    }\r\n\r\n    public static void clear() {\r\n        events.clear();\r\n    }\r\n}\r\n```\r\n\r\nThen for test cases custom appender could be used (configuration should be in the resources path of tests):\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;appender&quot; class=&quot;org.your.package&quot;&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;trace&quot;&gt;\r\n        &lt;appender-ref ref=&quot;appender&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnd in the test itself:\r\n```java\r\n  List&lt;ILoggingEvent&gt; l = Appender.getEvents()\r\n  // assert\r\n```\r\nBut there will be racing conditions accessing this static appender, which could be resolved as well.\r\n\r\n\r\n","title":"How can I unit test Java classes with private static final Logger field","body":"<p>One workaround could be to use a custom appender class for logging events in order to collect and assert. So for example, if logback is used with slf4j, then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Appender extends AppenderBase&lt;ILoggingEvent&gt; {\n    static List&lt;ILoggingEvent&gt; events = new ArrayList&lt;&gt;();\n\n    @Override\n    public void append(ILoggingEvent e) {\n        events.add(e);\n    }\n\n    public static List&lt;ILoggingEvent&gt; getEvents() {\n        return events;\n    }\n\n    public static void clear() {\n        events.clear();\n    }\n}\n</code></pre>\n<p>Then for test cases custom appender could be used (configuration should be in the resources path of tests):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;appender name=&quot;appender&quot; class=&quot;org.your.package&quot;&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;trace&quot;&gt;\n        &lt;appender-ref ref=&quot;appender&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And in the test itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  List&lt;ILoggingEvent&gt; l = Appender.getEvents()\n  // assert\n</code></pre>\n<p>But there will be racing conditions accessing this static appender, which could be resolved as well.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695976018,"creation_date":1695976018,"answer_id":77200446,"question_id":77199202,"body_markdown":"I&#39;ve written a library that can do this: [junit-support][1]. The `@TestLogger` annotation allows you to inject a logger context, which can then be used to configure appenders, log levels, etc. At the end of the test all logging will be reset, which makes it really easy to create standalone tests.\r\n\r\nThe only thing you need to provide for yourself is an actual logging implementation (or in this case, SLF4J bridge): one of java.util.logging, Log4J 2, logback or reload4j.\r\n\r\nAn example for reload4j; the only real difference for the other implementations is the context class to use:\r\n```\r\n@Test\r\nvoid testLogging(@TestLogger.ForClass(MyClass.class) Reload4jLoggerContext loggerContext) {\r\n    Appender appender = mock(Appender.class);\r\n    loggerContext\r\n            .setLevel(Level.INFO)\r\n            .useParentAppenders(false)\r\n            .setAppender(appender);\r\n\r\n    // perform calls that trigger the logger\r\n\r\n    ArgumentCaptor&lt;LoggingEvent&gt; eventCaptor = ArgumentCaptor.forClass(LoggingEvent.class);\r\n    verify(appender, atLeastOnce()).doAppend(eventCaptor.capture());\r\n    List&lt;LoggingEvent&gt; events = eventCaptor.getAllValues();\r\n    // perform assertions on events\r\n}\r\n```\r\n\r\n  [1]: https://robtimus.github.io/junit-support/extension/test-logger.html","title":"How can I unit test Java classes with private static final Logger field","body":"<p>I've written a library that can do this: <a href=\"https://robtimus.github.io/junit-support/extension/test-logger.html\" rel=\"nofollow noreferrer\">junit-support</a>. The <code>@TestLogger</code> annotation allows you to inject a logger context, which can then be used to configure appenders, log levels, etc. At the end of the test all logging will be reset, which makes it really easy to create standalone tests.</p>\n<p>The only thing you need to provide for yourself is an actual logging implementation (or in this case, SLF4J bridge): one of java.util.logging, Log4J 2, logback or reload4j.</p>\n<p>An example for reload4j; the only real difference for the other implementations is the context class to use:</p>\n<pre><code>@Test\nvoid testLogging(@TestLogger.ForClass(MyClass.class) Reload4jLoggerContext loggerContext) {\n    Appender appender = mock(Appender.class);\n    loggerContext\n            .setLevel(Level.INFO)\n            .useParentAppenders(false)\n            .setAppender(appender);\n\n    // perform calls that trigger the logger\n\n    ArgumentCaptor&lt;LoggingEvent&gt; eventCaptor = ArgumentCaptor.forClass(LoggingEvent.class);\n    verify(appender, atLeastOnce()).doAppend(eventCaptor.capture());\n    List&lt;LoggingEvent&gt; events = eventCaptor.getAllValues();\n    // perform assertions on events\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696026056,"creation_date":1696026056,"answer_id":77205026,"question_id":77199202,"body_markdown":"If you remove `final`, you can use reflection to inject a mock Logger:\r\n\r\n    private static Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\r\n\r\nThen in your test:\r\n\r\n    Logger mockLogger = mock(Logger.class);\r\n    Yorkie.class.getDeclaredField(&quot;LOGGER&quot;);\r\n    loggerField.setAccessible(true); // undo &quot;private&quot;\r\n    loggerField.set(null, mockLogger);\r\n\r\nThen you can assert how logger is being called:\r\n\r\n    verify(mockLogger). error(anyString());\r\n\r\n---\r\n\r\nBefore Java 12, you could use reflection to alter a `final` field, but not after. There&#39;s no practical advantage to making the field non-final - it&#39;s mainly a style thing. Making your code testable trumps style.\r\n","title":"How can I unit test Java classes with private static final Logger field","body":"<p>If you remove <code>final</code>, you can use reflection to inject a mock Logger:</p>\n<pre><code>private static Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\n</code></pre>\n<p>Then in your test:</p>\n<pre><code>Logger mockLogger = mock(Logger.class);\nYorkie.class.getDeclaredField(&quot;LOGGER&quot;);\nloggerField.setAccessible(true); // undo &quot;private&quot;\nloggerField.set(null, mockLogger);\n</code></pre>\n<p>Then you can assert how logger is being called:</p>\n<pre><code>verify(mockLogger). error(anyString());\n</code></pre>\n<hr />\n<p>Before Java 12, you could use reflection to alter a <code>final</code> field, but not after. There's no practical advantage to making the field non-final - it's mainly a style thing. Making your code testable trumps style.</p>\n"}],"owner":{"account_id":20007535,"reputation":157,"user_id":14665211,"display_name":"Shawn Armstrong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696500212,"creation_date":1695955313,"question_id":77199202,"body_markdown":"I&#39;ve been working on a web application that uses Java 17 in conjunction with Spring 5.3, JUnit 5.9 and Mockito 5.1. \r\n  \r\nThroughout the code base, I frequently see classes with a log field declared as `private static final`. These fields commonly appear in catch blocks as referenced below and I struggle finding ways to directly cover them in unit tests.\r\n\r\n```Java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class Yorkie {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\r\n\r\n    private String favoriteToy = &quot;Ball&quot;;\r\n\r\n    private String fetchFavoriteToy() throws Exception {\r\n      \r\n        if (Math.random() &lt; 0.5) {\r\n            throw new Exception(&quot;Favorite toy not found!&quot;);\r\n        }\r\n        return favoriteToy;\r\n    }\r\n\r\n    private void bark() {\r\n        try {\r\n            String toy = fetchFavoriteToy();\r\n        } catch (Exception e) {\r\n            LOGGER.error(LoggingFacade.formatError(&quot;ERROR-Dog&quot;, null, null,\r\n                    null, &quot;Unable to bark: &quot; + e.getMessage()));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Yorkie yorkie = new Yorkie();\r\n        yorkie.bark();\r\n    }\r\n}\r\n```\r\n\r\nIs there a safe way of actually asserting anything about `LOGGER` strictly using JUnit and Mockito?","title":"How can I unit test Java classes with private static final Logger field","body":"<p>I've been working on a web application that uses Java 17 in conjunction with Spring 5.3, JUnit 5.9 and Mockito 5.1.</p>\n<p>Throughout the code base, I frequently see classes with a log field declared as <code>private static final</code>. These fields commonly appear in catch blocks as referenced below and I struggle finding ways to directly cover them in unit tests.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Yorkie {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Yorkie.class);\n\n    private String favoriteToy = &quot;Ball&quot;;\n\n    private String fetchFavoriteToy() throws Exception {\n      \n        if (Math.random() &lt; 0.5) {\n            throw new Exception(&quot;Favorite toy not found!&quot;);\n        }\n        return favoriteToy;\n    }\n\n    private void bark() {\n        try {\n            String toy = fetchFavoriteToy();\n        } catch (Exception e) {\n            LOGGER.error(LoggingFacade.formatError(&quot;ERROR-Dog&quot;, null, null,\n                    null, &quot;Unable to bark: &quot; + e.getMessage()));\n        }\n    }\n\n    public static void main(String[] args) {\n        Yorkie yorkie = new Yorkie();\n        yorkie.bark();\n    }\n}\n</code></pre>\n<p>Is there a safe way of actually asserting anything about <code>LOGGER</code> strictly using JUnit and Mockito?</p>\n"},{"tags":["java","algorithm","string","sorting","comparison"],"answers":[{"tags":[],"owner":{"account_id":2550,"reputation":198084,"user_id":3560,"accept_rate":83,"display_name":"John Millikin"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1221851273,"creation_date":1221851273,"answer_id":104619,"question_id":104599,"body_markdown":"Split the string into runs of letters and numbers, so &quot;foo 12 bar&quot; becomes the list (&quot;foo&quot;, 12, &quot;bar&quot;), then use the list as the sort key. This way the numbers will be ordered in numerical order, not alphabetical.","title":"Sort on a string that may contain a number","body":"<p>Split the string into runs of letters and numbers, so \"foo 12 bar\" becomes the list (\"foo\", 12, \"bar\"), then use the list as the sort key. This way the numbers will be ordered in numerical order, not alphabetical.</p>\n"},{"tags":[],"owner":{"account_id":5766,"reputation":12687,"user_id":9450,"accept_rate":100,"display_name":"scubabbl"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1221851367,"creation_date":1221851367,"answer_id":104630,"question_id":104599,"body_markdown":"In your given example, the numbers you want to compare have spaces around them while the other numbers do not, so why would a regular expression not work?\r\n\r\nbbb **12** ccc\r\n\r\nvs.\r\n\r\neee 12 ddd **jpeg2000** eee\r\n","title":"Sort on a string that may contain a number","body":"<p>In your given example, the numbers you want to compare have spaces around them while the other numbers do not, so why would a regular expression not work?</p>\n\n<p>bbb <strong>12</strong> ccc</p>\n\n<p>vs.</p>\n\n<p>eee 12 ddd <strong>jpeg2000</strong> eee</p>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221851728,"creation_date":1221851728,"answer_id":104693,"question_id":104599,"body_markdown":"I think you&#39;ll have to do the comparison on a character-by-character fashion. Grab a character, if it&#39;s a number character, keep grabbing, then reassemble to characters into a single number string and convert it into an `int`. Repeat on the other string, and only then do the comparison. ","title":"Sort on a string that may contain a number","body":"<p>I think you'll have to do the comparison on a character-by-character fashion. Grab a character, if it's a number character, keep grabbing, then reassemble to characters into a single number string and convert it into an <code>int</code>. Repeat on the other string, and only then do the comparison. </p>\n"},{"comments":[{"owner":{"account_id":7039,"reputation":100761,"user_id":12030,"accept_rate":94,"display_name":"Nick Johnson"},"score":1,"creation_date":1221854803,"post_id":104709,"comment_id":18913,"body_markdown":"This doesn&#39;t entirely solve the problem - you&#39;d need to tokenise the string to be sorted and sort using this algorithm on each piece individually.","body":"This doesn&#39;t entirely solve the problem - you&#39;d need to tokenise the string to be sorted and sort using this algorithm on each piece individually."},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1224923688,"post_id":104709,"comment_id":100647,"body_markdown":"Note: Paul accepted your answer but my algorithm sticks more closely to his problem (the way it explained it!), for cases like &quot;Allegia 51B Clasteron&quot;. Not a problem, he choose whatever fit his needs, and this Alphanum implementation is fine (and multilanguage!), I just wanted to point that out. :-P","body":"Note: Paul accepted your answer but my algorithm sticks more closely to his problem (the way it explained it!), for cases like &quot;Allegia 51B Clasteron&quot;. Not a problem, he choose whatever fit his needs, and this Alphanum implementation is fine (and multilanguage!), I just wanted to point that out. :-P"},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":3,"creation_date":1516901001,"post_id":104709,"comment_id":83889708,"body_markdown":"This implementation deals with the OP&#39;s specific example inputs, but for general use be aware that it fails to cope with numbers that have leading zeros. It thinks that &quot;01234&quot; is greater than &quot;5678&quot;.","body":"This implementation deals with the OP&#39;s specific example inputs, but for general use be aware that it fails to cope with numbers that have leading zeros. It thinks that &quot;01234&quot; is greater than &quot;5678&quot;."},{"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"score":1,"creation_date":1620392122,"post_id":104709,"comment_id":119194269,"body_markdown":"I made some changes for sorting leading zeroes: https://pastebin.com/tbEYj2zf","body":"I made some changes for sorting leading zeroes: <a href=\"https://pastebin.com/tbEYj2zf\" rel=\"nofollow noreferrer\">pastebin.com/tbEYj2zf</a>"},{"owner":{"account_id":6833683,"reputation":5657,"user_id":5256563,"accept_rate":71,"display_name":"FiReTiTi"},"score":2,"creation_date":1667033634,"post_id":104709,"comment_id":131078558,"body_markdown":"Link does not seem to work anymore","body":"Link does not seem to work anymore"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1667248748,"post_id":104709,"comment_id":131121130,"body_markdown":"One reason why link-only answers are discouraged.","body":"One reason why link-only answers are discouraged."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1669888169,"post_id":104709,"comment_id":131746930,"body_markdown":"@Daniel Alder I really appreciate your comment - thank you","body":"@Daniel Alder I really appreciate your comment - thank you"}],"tags":[],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"comment_count":7,"down_vote_count":2,"up_vote_count":112,"is_accepted":true,"score":110,"last_activity_date":1670022548,"creation_date":1221851834,"answer_id":104709,"question_id":104599,"body_markdown":"[The Alphanum Algorithm][1]\r\n\r\nFrom the website\r\n\r\n&quot;People sort strings with numbers differently than software. Most sorting algorithms compare ASCII values, which produces an ordering that is inconsistent with human logic. Here&#39;s how to fix it.&quot;\r\n\r\nEdit: Here&#39;s a link to the [Java Comparator Implementation][2] from that site.\r\n\r\n  [1]: https://web.archive.org/web/20210803201519/http://www.davekoelle.com/alphanum.html\r\n  [2]: https://web.archive.org/web/20210506213829/http://www.davekoelle.com/files/AlphanumComparator.java","title":"Sort on a string that may contain a number","body":"<p><a href=\"https://web.archive.org/web/20210803201519/http://www.davekoelle.com/alphanum.html\" rel=\"nofollow noreferrer\">The Alphanum Algorithm</a></p>\n<p>From the website</p>\n<p>&quot;People sort strings with numbers differently than software. Most sorting algorithms compare ASCII values, which produces an ordering that is inconsistent with human logic. Here's how to fix it.&quot;</p>\n<p>Edit: Here's a link to the <a href=\"https://web.archive.org/web/20210506213829/http://www.davekoelle.com/files/AlphanumComparator.java\" rel=\"nofollow noreferrer\">Java Comparator Implementation</a> from that site.</p>\n"},{"tags":[],"owner":{"account_id":5415,"reputation":44991,"user_id":8701,"accept_rate":100,"display_name":"Eclipse"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221851891,"creation_date":1221851891,"answer_id":104720,"question_id":104599,"body_markdown":"I realize you&#39;re in java, but you can take a look at how StrCmpLogicalW works.  It&#39;s what Explorer uses to sort filenames in Windows.  You can look at the WINE implementation [here][1].\r\n\r\n\r\n  [1]: http://source.winehq.org/source/dlls/shlwapi/string.c#L2113","title":"Sort on a string that may contain a number","body":"<p>I realize you're in java, but you can take a look at how StrCmpLogicalW works.  It's what Explorer uses to sort filenames in Windows.  You can look at the WINE implementation <a href=\"http://source.winehq.org/source/dlls/shlwapi/string.c#L2113\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4653,"reputation":14906,"user_id":7093,"accept_rate":96,"display_name":"Ray Hayes"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1221852537,"creation_date":1221852218,"answer_id":104768,"question_id":104599,"body_markdown":"Ian Griffiths of Microsoft has a C# implementation he calls [Natural Sorting][1].  Porting to Java should be fairly easy, easier than from C anyway!\r\n\r\n**UPDATE:** There seems to be a Java example on [eekboom][2] that does this, see the &quot;compareNatural&quot; and use that as your comparer to sorts.\r\n\r\n\r\n  [1]: http://www.interact-sw.co.uk/iangblog/2007/12/13/natural-sorting\r\n  [2]: http://www.eekboom.com/java/compareNatural/src/com/eekboom/utils/Strings.java","title":"Sort on a string that may contain a number","body":"<p>Ian Griffiths of Microsoft has a C# implementation he calls <a href=\"http://www.interact-sw.co.uk/iangblog/2007/12/13/natural-sorting\" rel=\"noreferrer\">Natural Sorting</a>.  Porting to Java should be fairly easy, easier than from C anyway!</p>\n\n<p><strong>UPDATE:</strong> There seems to be a Java example on <a href=\"http://www.eekboom.com/java/compareNatural/src/com/eekboom/utils/Strings.java\" rel=\"noreferrer\">eekboom</a> that does this, see the \"compareNatural\" and use that as your comparer to sorts.</p>\n"},{"tags":[],"owner":{"display_name":"sprout"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1221852469,"creation_date":1221852469,"answer_id":104809,"question_id":104599,"body_markdown":"If you&#39;re writing a comparator class, you should implement your own compare method that will compare two strings character by character.  This compare method should check if you&#39;re dealing with alphabetic characters, numeric characters, or mixed types (including spaces).   You&#39;ll have to define how you want a mixed type to act, whether numbers come before alphabetic characters or after, and where spaces fit in etc.","title":"Sort on a string that may contain a number","body":"<p>If you're writing a comparator class, you should implement your own compare method that will compare two strings character by character.  This compare method should check if you're dealing with alphabetic characters, numeric characters, or mixed types (including spaces).   You'll have to define how you want a mixed type to act, whether numbers come before alphabetic characters or after, and where spaces fit in etc.</p>\n"},{"tags":[],"owner":{"account_id":6188,"reputation":2845,"user_id":10314,"display_name":"James Antill"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1221852629,"creation_date":1221852629,"answer_id":104824,"question_id":104599,"body_markdown":"On Linux glibc provides strverscmp(), it&#39;s also available from gnulib for portability. However truly &quot;human&quot; sorting has lots of other quirks like &quot;The Beatles&quot; being sorted as &quot;Beatles, The&quot;. There is no simple solution to this generic problem.\r\n","title":"Sort on a string that may contain a number","body":"<p>On Linux glibc provides strverscmp(), it's also available from gnulib for portability. However truly \"human\" sorting has lots of other quirks like \"The Beatles\" being sorted as \"Beatles, The\". There is no simple solution to this generic problem.</p>\n"},{"tags":[],"owner":{"account_id":9763,"reputation":6303,"user_id":18160,"accept_rate":44,"display_name":"Paul Brinkley"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221853538,"creation_date":1221853538,"answer_id":104926,"question_id":104599,"body_markdown":"Short answer: based on the context, I can&#39;t tell whether this is just some quick-and-dirty code for personal use, or a key part of Goldman Sachs&#39; latest internal accounting software, so I&#39;ll open by saying: eww.  That&#39;s a rather funky sorting algorithm; try to use something a bit less &quot;twisty&quot; if you can.\r\n\r\nLong answer:\r\n\r\nThe two issues that immediately come to mind in your case are performance, and correctness.  Informally, make sure it&#39;s fast, and make sure your algorithm is a [total ordering][1].\r\n\r\n(Of course, if you&#39;re not sorting more than about 100 items, you can probably disregard this paragraph.)  Performance matters, as the speed of the comparator will be the largest factor in the speed of your sort (assuming the sort algorithm is &quot;ideal&quot; to the typical list).  In your case, the comparator&#39;s speed will depend mainly on the size of the string.  The strings seem to be fairly short, so they probably won&#39;t dominate as much as the size of your list.\r\n\r\nTurning each string into a string-number-string tuple and then sorting this list of tuples, as suggested in another answer, will fail in some of your cases, since you apparently will have strings with multiple numbers appearing.\r\n\r\nThe other problem is correctness.  Specifically, if the algorithm you described will ever permit A &gt; B &gt; ... &gt; A, then your sort will be non-deterministic.  In your case, I fear that it might, though I can&#39;t prove it.  Consider some parsing cases such as:\r\n\r\n      aa 0 aa\r\n      aa 23aa\r\n      aa 2a3aa\r\n      aa 113aa\r\n      aa 113 aa\r\n      a 1-2 a\r\n      a 13 a\r\n      a 12 a\r\n      a 2-3 a\r\n      a 21 a\r\n      a 2.3 a\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Total_order\r\n","title":"Sort on a string that may contain a number","body":"<p>Short answer: based on the context, I can't tell whether this is just some quick-and-dirty code for personal use, or a key part of Goldman Sachs' latest internal accounting software, so I'll open by saying: eww.  That's a rather funky sorting algorithm; try to use something a bit less \"twisty\" if you can.</p>\n\n<p>Long answer:</p>\n\n<p>The two issues that immediately come to mind in your case are performance, and correctness.  Informally, make sure it's fast, and make sure your algorithm is a <a href=\"http://en.wikipedia.org/wiki/Total_order\" rel=\"nofollow noreferrer\">total ordering</a>.</p>\n\n<p>(Of course, if you're not sorting more than about 100 items, you can probably disregard this paragraph.)  Performance matters, as the speed of the comparator will be the largest factor in the speed of your sort (assuming the sort algorithm is \"ideal\" to the typical list).  In your case, the comparator's speed will depend mainly on the size of the string.  The strings seem to be fairly short, so they probably won't dominate as much as the size of your list.</p>\n\n<p>Turning each string into a string-number-string tuple and then sorting this list of tuples, as suggested in another answer, will fail in some of your cases, since you apparently will have strings with multiple numbers appearing.</p>\n\n<p>The other problem is correctness.  Specifically, if the algorithm you described will ever permit A > B > ... > A, then your sort will be non-deterministic.  In your case, I fear that it might, though I can't prove it.  Consider some parsing cases such as:</p>\n\n<pre><code>  aa 0 aa\n  aa 23aa\n  aa 2a3aa\n  aa 113aa\n  aa 113 aa\n  a 1-2 a\n  a 13 a\n  a 12 a\n  a 2-3 a\n  a 21 a\n  a 2.3 a\n</code></pre>\n"},{"comments":[{"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"score":1,"creation_date":1462872875,"post_id":105665,"comment_id":61808074,"body_markdown":"nice one! An additional null and instanceof String check would be nice too","body":"nice one! An additional null and instanceof String check would be nice too"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1462978241,"post_id":105665,"comment_id":61867720,"body_markdown":"@HRgiger You have a point about null check, I assumed the array was &quot;sane&quot;. But today, I would just ditch the pre-Java 1.5 syntax and use generics, not instanceof.","body":"@HRgiger You have a point about null check, I assumed the array was &quot;sane&quot;. But today, I would just ditch the pre-Java 1.5 syntax and use generics, not instanceof."},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":0,"creation_date":1616114227,"post_id":105665,"comment_id":117908894,"body_markdown":"gives wrong result for &quot;1000X Radonius Maximus&quot; and &quot;10X Radonius&quot;","body":"gives wrong result for &quot;1000X Radonius Maximus&quot; and &quot;10X Radonius&quot;"},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":0,"creation_date":1616114336,"post_id":105665,"comment_id":117908913,"body_markdown":"reproduced java.lang.IllegalArgumentException: Comparison method violates its general contract!","body":"reproduced java.lang.IllegalArgumentException: Comparison method violates its general contract!"}],"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1221859283,"creation_date":1221858762,"answer_id":105665,"question_id":104599,"body_markdown":"Interesting little challenge, I enjoyed solving it.\r\n\r\nHere is my take at the problem:\r\n\r\n    String[] strs =\r\n    {\r\n      &quot;eee 5 ddd jpeg2001 eee&quot;,\r\n      &quot;eee 123 ddd jpeg2000 eee&quot;,\r\n      &quot;ddd&quot;,\r\n      &quot;aaa 5 yy 6&quot;,\r\n      &quot;ccc 555&quot;,\r\n      &quot;bbb 3 ccc&quot;,\r\n      &quot;bbb 9 a&quot;,\r\n      &quot;&quot;,\r\n      &quot;eee 4 ddd jpeg2001 eee&quot;,\r\n      &quot;ccc 11&quot;,\r\n      &quot;bbb 12 ccc&quot;,\r\n      &quot;aaa 5 yy 22&quot;,\r\n      &quot;aaa&quot;,\r\n      &quot;eee 3 ddd jpeg2000 eee&quot;,\r\n      &quot;ccc 5&quot;,\r\n    };\r\n    \r\n    Pattern splitter = Pattern.compile(&quot;(\\\\d+|\\\\D+)&quot;);\r\n    \r\n    public class InternalNumberComparator implements Comparator\r\n    {\r\n      public int compare(Object o1, Object o2)\r\n      {\r\n        // I deliberately use the Java 1.4 syntax, \r\n        // all this can be improved with 1.5&#39;s generics\r\n        String s1 = (String)o1, s2 = (String)o2;\r\n        // We split each string as runs of number/non-number strings\r\n        ArrayList sa1 = split(s1);\r\n        ArrayList sa2 = split(s2);\r\n        // Nothing or different structure\r\n        if (sa1.size() == 0 || sa1.size() != sa2.size())\r\n        {\r\n          // Just compare the original strings\r\n          return s1.compareTo(s2);\r\n        }\r\n        int i = 0;\r\n        String si1 = &quot;&quot;;\r\n        String si2 = &quot;&quot;;\r\n        // Compare beginning of string\r\n        for (; i &lt; sa1.size(); i++)\r\n        {\r\n          si1 = (String)sa1.get(i);\r\n          si2 = (String)sa2.get(i);\r\n          if (!si1.equals(si2))\r\n            break;  // Until we find a difference\r\n        }\r\n        // No difference found?\r\n        if (i == sa1.size())\r\n          return 0; // Same strings!\r\n    \r\n        // Try to convert the different run of characters to number\r\n        int val1, val2;\r\n        try\r\n        {\r\n          val1 = Integer.parseInt(si1);\r\n          val2 = Integer.parseInt(si2);\r\n        }\r\n        catch (NumberFormatException e)\r\n        {\r\n          return s1.compareTo(s2);  // Strings differ on a non-number\r\n        }\r\n    \r\n        // Compare remainder of string\r\n        for (i++; i &lt; sa1.size(); i++)\r\n        {\r\n          si1 = (String)sa1.get(i);\r\n          si2 = (String)sa2.get(i);\r\n          if (!si1.equals(si2))\r\n          {\r\n            return s1.compareTo(s2);  // Strings differ\r\n          }\r\n        }\r\n    \r\n        // Here, the strings differ only on a number\r\n        return val1 &lt; val2 ? -1 : 1;\r\n      }\r\n    \r\n      ArrayList split(String s)\r\n      {\r\n        ArrayList r = new ArrayList();\r\n        Matcher matcher = splitter.matcher(s);\r\n        while (matcher.find())\r\n        {\r\n          String m = matcher.group(1);\r\n          r.add(m);\r\n        }\r\n        return r;\r\n      }\r\n    }\r\n    \r\n    Arrays.sort(strs, new InternalNumberComparator());\r\n\r\nThis algorithm need much more testing, but it seems to behave rather nicely.\r\n\r\n[EDIT] I added some more comments to be clearer. I see there are much more answers than when I started to code this... But I hope I provided a good starting base and/or some ideas.","title":"Sort on a string that may contain a number","body":"<p>Interesting little challenge, I enjoyed solving it.</p>\n\n<p>Here is my take at the problem:</p>\n\n<pre><code>String[] strs =\n{\n  \"eee 5 ddd jpeg2001 eee\",\n  \"eee 123 ddd jpeg2000 eee\",\n  \"ddd\",\n  \"aaa 5 yy 6\",\n  \"ccc 555\",\n  \"bbb 3 ccc\",\n  \"bbb 9 a\",\n  \"\",\n  \"eee 4 ddd jpeg2001 eee\",\n  \"ccc 11\",\n  \"bbb 12 ccc\",\n  \"aaa 5 yy 22\",\n  \"aaa\",\n  \"eee 3 ddd jpeg2000 eee\",\n  \"ccc 5\",\n};\n\nPattern splitter = Pattern.compile(\"(\\\\d+|\\\\D+)\");\n\npublic class InternalNumberComparator implements Comparator\n{\n  public int compare(Object o1, Object o2)\n  {\n    // I deliberately use the Java 1.4 syntax, \n    // all this can be improved with 1.5's generics\n    String s1 = (String)o1, s2 = (String)o2;\n    // We split each string as runs of number/non-number strings\n    ArrayList sa1 = split(s1);\n    ArrayList sa2 = split(s2);\n    // Nothing or different structure\n    if (sa1.size() == 0 || sa1.size() != sa2.size())\n    {\n      // Just compare the original strings\n      return s1.compareTo(s2);\n    }\n    int i = 0;\n    String si1 = \"\";\n    String si2 = \"\";\n    // Compare beginning of string\n    for (; i &lt; sa1.size(); i++)\n    {\n      si1 = (String)sa1.get(i);\n      si2 = (String)sa2.get(i);\n      if (!si1.equals(si2))\n        break;  // Until we find a difference\n    }\n    // No difference found?\n    if (i == sa1.size())\n      return 0; // Same strings!\n\n    // Try to convert the different run of characters to number\n    int val1, val2;\n    try\n    {\n      val1 = Integer.parseInt(si1);\n      val2 = Integer.parseInt(si2);\n    }\n    catch (NumberFormatException e)\n    {\n      return s1.compareTo(s2);  // Strings differ on a non-number\n    }\n\n    // Compare remainder of string\n    for (i++; i &lt; sa1.size(); i++)\n    {\n      si1 = (String)sa1.get(i);\n      si2 = (String)sa2.get(i);\n      if (!si1.equals(si2))\n      {\n        return s1.compareTo(s2);  // Strings differ\n      }\n    }\n\n    // Here, the strings differ only on a number\n    return val1 &lt; val2 ? -1 : 1;\n  }\n\n  ArrayList split(String s)\n  {\n    ArrayList r = new ArrayList();\n    Matcher matcher = splitter.matcher(s);\n    while (matcher.find())\n    {\n      String m = matcher.group(1);\n      r.add(m);\n    }\n    return r;\n  }\n}\n\nArrays.sort(strs, new InternalNumberComparator());\n</code></pre>\n\n<p>This algorithm need much more testing, but it seems to behave rather nicely.</p>\n\n<p>[EDIT] I added some more comments to be clearer. I see there are much more answers than when I started to code this... But I hope I provided a good starting base and/or some ideas.</p>\n"},{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1519386145,"post_id":6066138,"comment_id":84900441,"body_markdown":"You may want to cache your `Pattern.compile()` calls, given that they&#39;re called with `O(N log N)` complexity!","body":"You may want to cache your <code>Pattern.compile()</code> calls, given that they&#39;re called with <code>O(N log N)</code> complexity!"},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":1,"creation_date":1519402825,"post_id":6066138,"comment_id":84910871,"body_markdown":"Good suggestion.  Code is updated.  Scanner is also now closed using &quot;try with resources&quot;.","body":"Good suggestion.  Code is updated.  Scanner is also now closed using &quot;try with resources&quot;."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1543503969,"post_id":6066138,"comment_id":93950758,"body_markdown":"Instead of dealing with `Scanner`, you could simply call `NUMBER_PATTERN.matcher(s)`, followed by repeatedly calling `find` on the returned `Matcher`. The great thing is that the matcher will tell you the start and end position for every match, making the entire split operation trivial. And it’s not a resource demanding a `try(…) {…}` block.","body":"Instead of dealing with <code>Scanner</code>, you could simply call <code>NUMBER_PATTERN.matcher(s)</code>, followed by repeatedly calling <code>find</code> on the returned <code>Matcher</code>. The great thing is that the matcher will tell you the start and end position for every match, making the entire split operation trivial. And it’s not a resource demanding a <code>try(…) {…}</code> block."},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1543504335,"post_id":6066138,"comment_id":93951019,"body_markdown":"@Holger Interesting idea.  I would implement it and put as a separate answer. I&#39;ll throw you an upvote.","body":"@Holger Interesting idea.  I would implement it and put as a separate answer. I&#39;ll throw you an upvote."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1543504832,"post_id":6066138,"comment_id":93951303,"body_markdown":"I don’t know whether it’s unique enough to deserve another answer. After all, it would still do the same. By the way, the initial statement `if(str1 == null || str2 == null) { return 0; }` is broken, as it implies that if either argument is `null`, it will be reported to be *equal* to the other argument. But when `null` is equal to any other input, all inputs must be equal (the *transitivity* rule). The easiest solution would be not to support `null` at all. Otherwise, you would have to use something like `if(str1 == str2) return 0; if(str1 == null) return 1; if(str2 == null) return -1;`.","body":"I don’t know whether it’s unique enough to deserve another answer. After all, it would still do the same. By the way, the initial statement <code>if(str1 == null || str2 == null) { return 0; }</code> is broken, as it implies that if either argument is <code>null</code>, it will be reported to be <i>equal</i> to the other argument. But when <code>null</code> is equal to any other input, all inputs must be equal (the <i>transitivity</i> rule). The easiest solution would be not to support <code>null</code> at all. Otherwise, you would have to use something like <code>if(str1 == str2) return 0; if(str1 == null) return 1; if(str2 == null) return -1;</code>."},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1543517273,"post_id":6066138,"comment_id":93957962,"body_markdown":"@Holger I disagree on how to handle nulls https://stackoverflow.com/a/2401629/724835","body":"@Holger I disagree on how to handle nulls <a href=\"https://stackoverflow.com/a/2401629/724835\">stackoverflow.com/a/2401629/724835</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1543518444,"post_id":6066138,"comment_id":93958474,"body_markdown":"That linked answer describes a consistent behavior. It even matches the second of my suggestions, `if(str1 == str2) return 0; if(str1 == null) return 1; if(str2 == null) return -1;`. The code of your answer returns zero in all three cases which is inconsistent and violates the contract of `Comparator`. It does not match the behavior described in the linked answer.","body":"That linked answer describes a consistent behavior. It even matches the second of my suggestions, <code>if(str1 == str2) return 0; if(str1 == null) return 1; if(str2 == null) return -1;</code>. The code of your answer returns zero in all three cases which is inconsistent and violates the contract of <code>Comparator</code>. It does not match the behavior described in the linked answer."},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1543519511,"post_id":6066138,"comment_id":93958965,"body_markdown":"@Holger I stand correct. I misread your first suggestion. Please update my answer to handle nulls better.","body":"@Holger I stand correct. I misread your first suggestion. Please update my answer to handle nulls better."}],"tags":[],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543562356,"creation_date":1305849479,"answer_id":6066138,"question_id":104599,"body_markdown":"The [Alphanum][1] algrothim is nice, but it did not match requirements for a project I&#39;m working on.  I need to be able to sort negative numbers and decimals correctly. Here is the implementation I came up.  Any feedback would be much appreciated.\r\n\r\n    public class StringAsNumberComparator implements Comparator&lt;String&gt; {\r\n    \t\r\n    \tpublic static final Pattern NUMBER_PATTERN = Pattern.compile(&quot;(\\\\-?\\\\d+\\\\.\\\\d+)|(\\\\-?\\\\.\\\\d+)|(\\\\-?\\\\d+)&quot;);\r\n    \r\n    \t/**\r\n    \t * Splits strings into parts sorting each instance of a number as a number if there is\r\n    \t * a matching number in the other String.\r\n    \t * \r\n    \t * For example A1B, A2B, A11B, A11B1, A11B2, A11B11 will be sorted in that order instead\r\n    \t * of alphabetically which will sort A1B and A11B together.\r\n    \t */\r\n    \tpublic int compare(String str1, String str2) {\r\n    \t\tif(str1 == str2) return 0;\r\n            else if(str1 == null) return 1;\r\n            else if(str2 == null) return -1;\r\n\r\n    \t\tList&lt;String&gt; split1 = split(str1);\r\n    \t\tList&lt;String&gt; split2 = split(str2);\r\n    \t\tint diff = 0;\r\n    \t\t\r\n    \t\tfor(int i = 0; diff == 0 &amp;&amp; i &lt; split1.size() &amp;&amp; i &lt; split2.size(); i++) {\r\n    \t\t\tString token1 = split1.get(i);\r\n    \t\t\tString token2 = split2.get(i);\r\n    \t\t\t\r\n    \t\t\tif((NUMBER_PATTERN.matcher(token1).matches() &amp;&amp; NUMBER_PATTERN.matcher(token2).matches()) {\r\n    \t\t\t\tdiff = (int) Math.signum(Double.parseDouble(token1) - Double.parseDouble(token2));\r\n    \t\t\t} else {\r\n    \t\t\t\tdiff = token1.compareToIgnoreCase(token2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(diff != 0) {\r\n    \t\t\treturn diff;\r\n    \t\t} else {\r\n    \t\t\treturn split1.size() - split2.size();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Splits a string into strings and number tokens.\r\n    \t */\r\n    \tprivate List&lt;String&gt; split(String s) {\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\ttry (Scanner scanner = new Scanner(s)) {\r\n    \t\t\tint index = 0;\r\n    \t\t\tString num = null;\r\n    \t\t\twhile ((num = scanner.findInLine(NUMBER_PATTERN)) != null) {\r\n    \t\t\t\tint indexOfNumber = s.indexOf(num, index);\r\n    \t\t\t\tif (indexOfNumber &gt; index) {\r\n    \t\t\t\t\tlist.add(s.substring(index, indexOfNumber));\r\n    \t\t\t\t}\r\n    \t\t\t\tlist.add(num);\r\n    \t\t\t\tindex = indexOfNumber + num.length();\r\n    \t\t\t}\r\n    \t\t\tif (index &lt; s.length()) {\r\n    \t\t\t\tlist.add(s.substring(index));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn list;\r\n    \t}\r\n    }\r\n\r\nPS.  I wanted to use the java.lang.String.split() method and use &quot;lookahead/lookbehind&quot; to keep the tokens, but I could not get it to work with the regular expression I was using.\r\n\r\n  [1]: http://www.davekoelle.com/alphanum.html","title":"Sort on a string that may contain a number","body":"<p>The <a href=\"http://www.davekoelle.com/alphanum.html\" rel=\"nofollow noreferrer\">Alphanum</a> algrothim is nice, but it did not match requirements for a project I'm working on.  I need to be able to sort negative numbers and decimals correctly. Here is the implementation I came up.  Any feedback would be much appreciated.</p>\n\n<pre><code>public class StringAsNumberComparator implements Comparator&lt;String&gt; {\n\n    public static final Pattern NUMBER_PATTERN = Pattern.compile(\"(\\\\-?\\\\d+\\\\.\\\\d+)|(\\\\-?\\\\.\\\\d+)|(\\\\-?\\\\d+)\");\n\n    /**\n     * Splits strings into parts sorting each instance of a number as a number if there is\n     * a matching number in the other String.\n     * \n     * For example A1B, A2B, A11B, A11B1, A11B2, A11B11 will be sorted in that order instead\n     * of alphabetically which will sort A1B and A11B together.\n     */\n    public int compare(String str1, String str2) {\n        if(str1 == str2) return 0;\n        else if(str1 == null) return 1;\n        else if(str2 == null) return -1;\n\n        List&lt;String&gt; split1 = split(str1);\n        List&lt;String&gt; split2 = split(str2);\n        int diff = 0;\n\n        for(int i = 0; diff == 0 &amp;&amp; i &lt; split1.size() &amp;&amp; i &lt; split2.size(); i++) {\n            String token1 = split1.get(i);\n            String token2 = split2.get(i);\n\n            if((NUMBER_PATTERN.matcher(token1).matches() &amp;&amp; NUMBER_PATTERN.matcher(token2).matches()) {\n                diff = (int) Math.signum(Double.parseDouble(token1) - Double.parseDouble(token2));\n            } else {\n                diff = token1.compareToIgnoreCase(token2);\n            }\n        }\n        if(diff != 0) {\n            return diff;\n        } else {\n            return split1.size() - split2.size();\n        }\n    }\n\n    /**\n     * Splits a string into strings and number tokens.\n     */\n    private List&lt;String&gt; split(String s) {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        try (Scanner scanner = new Scanner(s)) {\n            int index = 0;\n            String num = null;\n            while ((num = scanner.findInLine(NUMBER_PATTERN)) != null) {\n                int indexOfNumber = s.indexOf(num, index);\n                if (indexOfNumber &gt; index) {\n                    list.add(s.substring(index, indexOfNumber));\n                }\n                list.add(num);\n                index = indexOfNumber + num.length();\n            }\n            if (index &lt; s.length()) {\n                list.add(s.substring(index));\n            }\n        }\n        return list;\n    }\n}\n</code></pre>\n\n<p>PS.  I wanted to use the java.lang.String.split() method and use \"lookahead/lookbehind\" to keep the tokens, but I could not get it to work with the regular expression I was using.</p>\n"},{"tags":[],"owner":{"account_id":1677308,"reputation":1415,"user_id":1542527,"display_name":"Giuseppe Scrivano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342908782,"creation_date":1342908782,"answer_id":11596232,"question_id":104599,"body_markdown":"interesting problem, and here my proposed solution:\r\n\r\n    import java.util.Collections;\r\n    import java.util.Vector;\r\n    \r\n    public class CompareToken implements Comparable&lt;CompareToken&gt;\r\n    {\r\n        int valN;\r\n        String valS;\r\n        String repr;\r\n    \r\n        public String toString() {\r\n    \treturn repr;\r\n        }\r\n    \r\n        public CompareToken(String s) {\r\n    \tint l = 0;\r\n    \tchar data[] = new char[s.length()];\r\n    \trepr = s;\r\n    \tvalN = 0;\r\n    \tfor (char c : s.toCharArray()) {\r\n    \t    if(Character.isDigit(c))\r\n    \t\tvalN = valN * 10 + (c - &#39;0&#39;);\r\n    \t    else\r\n    \t\tdata[l++] = c;\r\n    \t}\r\n    \r\n    \tvalS = new String(data, 0, l);\r\n        }\r\n    \r\n        public int compareTo(CompareToken b) {\r\n    \tint r = valS.compareTo(b.valS);\r\n    \tif (r != 0)\r\n    \t    return r;\r\n    \r\n    \treturn valN - b.valN;\r\n        }\r\n    \r\n    \r\n        public static void main(String [] args) {\r\n    \tString [] strings = {\r\n    \t    &quot;aaa&quot;,\r\n    \t    &quot;bbb3ccc&quot;,\r\n    \t    &quot;bbb12ccc&quot;,\r\n    \t    &quot;ccc 11&quot;,\r\n    \t    &quot;ddd&quot;,\r\n    \t    &quot;eee3dddjpeg2000eee&quot;,\r\n    \t    &quot;eee12dddjpeg2000eee&quot;\r\n    \t};\r\n    \r\n    \tVector&lt;CompareToken&gt; data = new Vector&lt;CompareToken&gt;();\r\n    \tfor(String s : strings)\r\n    \t    data.add(new CompareToken(s));\r\n    \tCollections.shuffle(data);\r\n    \r\n    \tCollections.sort(data);\r\n    \tfor (CompareToken c : data)\r\n    \t    System.out.println (&quot;&quot; + c);\r\n        }\r\n    \r\n    }\r\n    ","title":"Sort on a string that may contain a number","body":"<p>interesting problem, and here my proposed solution:</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Vector;\n\npublic class CompareToken implements Comparable&lt;CompareToken&gt;\n{\n    int valN;\n    String valS;\n    String repr;\n\n    public String toString() {\n    return repr;\n    }\n\n    public CompareToken(String s) {\n    int l = 0;\n    char data[] = new char[s.length()];\n    repr = s;\n    valN = 0;\n    for (char c : s.toCharArray()) {\n        if(Character.isDigit(c))\n        valN = valN * 10 + (c - '0');\n        else\n        data[l++] = c;\n    }\n\n    valS = new String(data, 0, l);\n    }\n\n    public int compareTo(CompareToken b) {\n    int r = valS.compareTo(b.valS);\n    if (r != 0)\n        return r;\n\n    return valN - b.valN;\n    }\n\n\n    public static void main(String [] args) {\n    String [] strings = {\n        \"aaa\",\n        \"bbb3ccc\",\n        \"bbb12ccc\",\n        \"ccc 11\",\n        \"ddd\",\n        \"eee3dddjpeg2000eee\",\n        \"eee12dddjpeg2000eee\"\n    };\n\n    Vector&lt;CompareToken&gt; data = new Vector&lt;CompareToken&gt;();\n    for(String s : strings)\n        data.add(new CompareToken(s));\n    Collections.shuffle(data);\n\n    Collections.sort(data);\n    for (CompareToken c : data)\n        System.out.println (\"\" + c);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1545228,"reputation":1294,"user_id":1438908,"accept_rate":35,"display_name":"cdaringe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406267952,"creation_date":1406267952,"answer_id":24948978,"question_id":104599,"body_markdown":"Prior to discovering this thread, I implemented a similar solution in javascript.  Perhaps my strategy will find you well, despite different syntax.  Similar to above, I parse the two strings being compared, and split them both into arrays, dividing the strings at continuous numbers.  \r\n\r\n    ...\r\n    var regex = /(\\d+)/g,\r\n        str1Components = str1.split(regex),\r\n        str2Components = str2.split(regex),\r\n    ...\r\n\r\nI.e., &#39;hello22goodbye 33&#39; =&gt; [&#39;hello&#39;, 22, &#39;goodbye &#39;, 33];  Thus, you can walk through the arrays&#39; elements in pairs between string1 and string2, do some type coercion (such as, is this element really a number?), and compare as you walk.\r\n\r\nWorking example here: http://jsfiddle.net/F46s6/3/\r\n\r\nNote, I currently only support integer types, though handling decimal values wouldn&#39;t be too hard of a modification.","title":"Sort on a string that may contain a number","body":"<p>Prior to discovering this thread, I implemented a similar solution in javascript.  Perhaps my strategy will find you well, despite different syntax.  Similar to above, I parse the two strings being compared, and split them both into arrays, dividing the strings at continuous numbers.  </p>\n\n<pre><code>...\nvar regex = /(\\d+)/g,\n    str1Components = str1.split(regex),\n    str2Components = str2.split(regex),\n...\n</code></pre>\n\n<p>I.e., 'hello22goodbye 33' => ['hello', 22, 'goodbye ', 33];  Thus, you can walk through the arrays' elements in pairs between string1 and string2, do some type coercion (such as, is this element really a number?), and compare as you walk.</p>\n\n<p>Working example here: <a href=\"http://jsfiddle.net/F46s6/3/\" rel=\"nofollow\">http://jsfiddle.net/F46s6/3/</a></p>\n\n<p>Note, I currently only support integer types, though handling decimal values wouldn't be too hard of a modification.</p>\n"},{"comments":[{"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"score":1,"creation_date":1560849353,"post_id":27530654,"comment_id":99861256,"body_markdown":"I like it because it is readable. I propose changing the `for` loops to `while` loops instead, like this: `while ((x1 &lt; len1) &amp;&amp; Character.isDigit(s1.charAt(x1))) { x1++;}`","body":"I like it because it is readable. I propose changing the <code>for</code> loops to <code>while</code> loops instead, like this: <code>while ((x1 &lt; len1) &amp;&amp; Character.isDigit(s1.charAt(x1))) { x1++;}</code>"},{"owner":{"account_id":5501255,"reputation":186,"user_id":4370518,"display_name":"Olivier OUDOT"},"score":0,"creation_date":1565341202,"post_id":27530654,"comment_id":101331584,"body_markdown":"@Michael, can you please explain why you think it is better ? For me it is exactly the same.....","body":"@Michael, can you please explain why you think it is better ? For me it is exactly the same....."},{"owner":{"account_id":5501255,"reputation":186,"user_id":4370518,"display_name":"Olivier OUDOT"},"score":0,"creation_date":1565341847,"post_id":27530654,"comment_id":101331928,"body_markdown":"I have made notable performance improvements by adding a local static final method isDigit() instead of using Character.isDigit(). I suppose this favors inline code expansion at compile time.","body":"I have made notable performance improvements by adding a local static final method isDigit() instead of using Character.isDigit(). I suppose this favors inline code expansion at compile time."}],"tags":[],"owner":{"account_id":5501255,"reputation":186,"user_id":4370518,"display_name":"Olivier OUDOT"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1661879671,"creation_date":1418835061,"answer_id":27530654,"question_id":104599,"body_markdown":"The implementation I propose here is simple and efficient. It does not allocate any extra memory, directly or indirectly by using regular expressions or methods such as substring(), split(), toCharArray(), etc. \r\n\r\nThis implementation first goes across both strings to search for the first characters that are different, at maximal speed, without doing any special processing during this. Specific number comparison is triggered only when these characters are both digits.\r\n\r\n    public static final int compareNatural (String s1, String s2)\r\n    {\r\n       // Skip all identical characters\r\n       int len1 = s1.length();\r\n       int len2 = s2.length();\r\n       int i;\r\n       char c1, c2;\r\n       for (i = 0, c1 = 0, c2 = 0; (i &lt; len1) &amp;&amp; (i &lt; len2) &amp;&amp; (c1 = s1.charAt(i)) == (c2 = s2.charAt(i)); i++);\r\n       \r\n       // Check end of string\r\n       if (c1 == c2)\r\n          return(len1 - len2);\r\n    \r\n       // Check digit in first string\r\n       if (Character.isDigit(c1))\r\n       {\r\n          // Check digit only in first string \r\n          if (!Character.isDigit(c2))\r\n             return(1);\r\n          \r\n          // Scan all integer digits\r\n          int x1, x2;\r\n          for (x1 = i + 1; (x1 &lt; len1) &amp;&amp; Character.isDigit(s1.charAt(x1)); x1++);\r\n          for (x2 = i + 1; (x2 &lt; len2) &amp;&amp; Character.isDigit(s2.charAt(x2)); x2++);\r\n          \r\n          // Longer integer wins, first digit otherwise\r\n          return(x2 == x1 ? c1 - c2 : x1 - x2);\r\n       }\r\n       \r\n       // Check digit only in second string\r\n       if (Character.isDigit(c2))\r\n          return(-1);\r\n       \r\n       // No digits\r\n       return(c1 - c2);\r\n    }\r\n\r\n","title":"Sort on a string that may contain a number","body":"<p>The implementation I propose here is simple and efficient. It does not allocate any extra memory, directly or indirectly by using regular expressions or methods such as substring(), split(), toCharArray(), etc.</p>\n<p>This implementation first goes across both strings to search for the first characters that are different, at maximal speed, without doing any special processing during this. Specific number comparison is triggered only when these characters are both digits.</p>\n<pre><code>public static final int compareNatural (String s1, String s2)\n{\n   // Skip all identical characters\n   int len1 = s1.length();\n   int len2 = s2.length();\n   int i;\n   char c1, c2;\n   for (i = 0, c1 = 0, c2 = 0; (i &lt; len1) &amp;&amp; (i &lt; len2) &amp;&amp; (c1 = s1.charAt(i)) == (c2 = s2.charAt(i)); i++);\n   \n   // Check end of string\n   if (c1 == c2)\n      return(len1 - len2);\n\n   // Check digit in first string\n   if (Character.isDigit(c1))\n   {\n      // Check digit only in first string \n      if (!Character.isDigit(c2))\n         return(1);\n      \n      // Scan all integer digits\n      int x1, x2;\n      for (x1 = i + 1; (x1 &lt; len1) &amp;&amp; Character.isDigit(s1.charAt(x1)); x1++);\n      for (x2 = i + 1; (x2 &lt; len2) &amp;&amp; Character.isDigit(s2.charAt(x2)); x2++);\n      \n      // Longer integer wins, first digit otherwise\n      return(x2 == x1 ? c1 - c2 : x1 - x2);\n   }\n   \n   // Check digit only in second string\n   if (Character.isDigit(c2))\n      return(-1);\n   \n   // No digits\n   return(c1 - c2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1188434,"reputation":4208,"user_id":1161876,"accept_rate":64,"display_name":"specialscope"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433688803,"creation_date":1433688803,"answer_id":30694914,"question_id":104599,"body_markdown":"My 2 cents.Is working well for me. I am mainly using it for filenames.\r\n\r\n    \tprivate final boolean isDigit(char ch)\r\n\t\t    {\r\n\t\t        return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\r\n\t\t    }\r\n\t\t    \r\n\t\t\t\r\n\t\t\tprivate int compareNumericalString(String s1,String s2){\r\n\t\t\t\t\r\n\t\t\t\tint s1Counter=0;\r\n\t\t\t\tint s2Counter=0;\r\n\t\t\t\twhile(true){\r\n\t\t\t\t\tif(s1Counter&gt;=s1.length()){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(s2Counter&gt;=s2.length()){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchar currentChar1=s1.charAt(s1Counter++);\r\n\t\t\t\t\tchar currentChar2=s2.charAt(s2Counter++);\r\n\t\t\t\t\tif(isDigit(currentChar1) &amp;&amp;isDigit(currentChar2)){\r\n\t\t\t\t\t\tString digitString1=&quot;&quot;+currentChar1;\r\n\t\t\t\t\t\tString digitString2=&quot;&quot;+currentChar2;\r\n\t\t\t\t\t\twhile(true){\r\n\t\t\t\t\t\t\tif(s1Counter&gt;=s1.length()){\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(s2Counter&gt;=s2.length()){\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(isDigit(s1.charAt(s1Counter))){\r\n\t\t\t\t\t\t\t\tdigitString1+=s1.charAt(s1Counter);\r\n\t\t\t\t\t\t\t\ts1Counter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(isDigit(s2.charAt(s2Counter))){\r\n\t\t\t\t\t\t\t\tdigitString2+=s2.charAt(s2Counter);\r\n\t\t\t\t\t\t\t\ts2Counter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif((!isDigit(s1.charAt(s1Counter))) &amp;&amp; (!isDigit(s2.charAt(s2Counter)))){\r\n\t\t\t\t\t\t\t\tcurrentChar1=s1.charAt(s1Counter);\r\n\t\t\t\t\t\t\t\tcurrentChar2=s2.charAt(s2Counter);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!digitString1.equals(digitString2)){\r\n\t\t\t\t\t\t\treturn Integer.parseInt(digitString1)-Integer.parseInt(digitString2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(currentChar1!=currentChar2){\r\n\t\t\t\t\t\treturn currentChar1-currentChar2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\treturn s1.compareTo(s2);\r\n\t\t\t}\r\n","title":"Sort on a string that may contain a number","body":"<p>My 2 cents.Is working well for me. I am mainly using it for filenames.</p>\n\n<pre><code>    private final boolean isDigit(char ch)\n        {\n            return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\n        }\n\n\n        private int compareNumericalString(String s1,String s2){\n\n            int s1Counter=0;\n            int s2Counter=0;\n            while(true){\n                if(s1Counter&gt;=s1.length()){\n                    break;\n                }\n                if(s2Counter&gt;=s2.length()){\n                    break;\n                }\n                char currentChar1=s1.charAt(s1Counter++);\n                char currentChar2=s2.charAt(s2Counter++);\n                if(isDigit(currentChar1) &amp;&amp;isDigit(currentChar2)){\n                    String digitString1=\"\"+currentChar1;\n                    String digitString2=\"\"+currentChar2;\n                    while(true){\n                        if(s1Counter&gt;=s1.length()){\n                            break;\n                        }\n                        if(s2Counter&gt;=s2.length()){\n                            break;\n                        }\n\n                        if(isDigit(s1.charAt(s1Counter))){\n                            digitString1+=s1.charAt(s1Counter);\n                            s1Counter++;\n                        }\n\n                        if(isDigit(s2.charAt(s2Counter))){\n                            digitString2+=s2.charAt(s2Counter);\n                            s2Counter++;\n                        }\n\n                        if((!isDigit(s1.charAt(s1Counter))) &amp;&amp; (!isDigit(s2.charAt(s2Counter)))){\n                            currentChar1=s1.charAt(s1Counter);\n                            currentChar2=s2.charAt(s2Counter);\n                            break;\n                        }\n                    }\n                    if(!digitString1.equals(digitString2)){\n                        return Integer.parseInt(digitString1)-Integer.parseInt(digitString2);\n                    }\n                }\n\n                if(currentChar1!=currentChar2){\n                    return currentChar1-currentChar2;\n                }\n\n            }\n            return s1.compareTo(s2);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6745528,"reputation":595,"user_id":5197240,"display_name":"Bennie Krijger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462346102,"creation_date":1462277479,"answer_id":37003792,"question_id":104599,"body_markdown":"Although the question asked a java solution, for anyone who wants a scala solution:\r\n\r\n    object Alphanum {\r\n\r\n       private[this] val regex = &quot;((?&lt;=[0-9])(?=[^0-9]))|((?&lt;=[^0-9])(?=[0-9]))&quot;\r\n\r\n       private[this] val alphaNum: Ordering[String] = Ordering.fromLessThan((ss1: String, ss2: String) =&gt; (ss1, ss2) match {\r\n         case (sss1, sss2) if sss1.matches(&quot;[0-9]+&quot;) &amp;&amp; sss2.matches(&quot;[0-9]+&quot;) =&gt; sss1.toLong &lt; sss2.toLong\r\n         case (sss1, sss2) =&gt; sss1 &lt; sss2\r\n       })\r\n\r\n       def ordering: Ordering[String] = Ordering.fromLessThan((s1: String, s2: String) =&gt; {\r\n         import Ordering.Implicits.infixOrderingOps\r\n         implicit val ord: Ordering[List[String]] = Ordering.Implicits.seqDerivedOrdering(alphaNum)\r\n\r\n         s1.split(regex).toList &lt; s2.split(regex).toList\r\n       })\r\n\r\n    }","title":"Sort on a string that may contain a number","body":"<p>Although the question asked a java solution, for anyone who wants a scala solution:</p>\n\n<pre><code>object Alphanum {\n\n   private[this] val regex = \"((?&lt;=[0-9])(?=[^0-9]))|((?&lt;=[^0-9])(?=[0-9]))\"\n\n   private[this] val alphaNum: Ordering[String] = Ordering.fromLessThan((ss1: String, ss2: String) =&gt; (ss1, ss2) match {\n     case (sss1, sss2) if sss1.matches(\"[0-9]+\") &amp;&amp; sss2.matches(\"[0-9]+\") =&gt; sss1.toLong &lt; sss2.toLong\n     case (sss1, sss2) =&gt; sss1 &lt; sss2\n   })\n\n   def ordering: Ordering[String] = Ordering.fromLessThan((s1: String, s2: String) =&gt; {\n     import Ordering.Implicits.infixOrderingOps\n     implicit val ord: Ordering[List[String]] = Ordering.Implicits.seqDerivedOrdering(alphaNum)\n\n     s1.split(regex).toList &lt; s2.split(regex).toList\n   })\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6720924,"reputation":5542,"user_id":5180989,"display_name":"Helder Pereira"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500620900,"creation_date":1500463339,"answer_id":45189067,"question_id":104599,"body_markdown":"I came up with a quite simple implementation in Java using regular expressions:\r\n\r\n    public static Comparator&lt;String&gt; naturalOrdering() {\r\n        final Pattern compile = Pattern.compile(&quot;(\\\\d+)|(\\\\D+)&quot;);\r\n        return (s1, s2) -&gt; {\r\n            final Matcher matcher1 = compile.matcher(s1);\r\n            final Matcher matcher2 = compile.matcher(s2);\r\n            while (true) {\r\n                final boolean found1 = matcher1.find();\r\n                final boolean found2 = matcher2.find();\r\n                if (!found1 || !found2) {\r\n                    return Boolean.compare(found1, found2);\r\n                } else if (!matcher1.group().equals(matcher2.group())) {\r\n                    if (matcher1.group(1) == null || matcher2.group(1) == null) {\r\n                        return matcher1.group().compareTo(matcher2.group());\r\n                    } else {\r\n                        return Integer.valueOf(matcher1.group(1)).compareTo(Integer.valueOf(matcher2.group(1)));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nHere is how it works:\r\n\r\n    final List&lt;String&gt; strings = Arrays.asList(&quot;x15&quot;, &quot;xa&quot;, &quot;y16&quot;, &quot;x2a&quot;, &quot;y11&quot;, &quot;z&quot;, &quot;z5&quot;, &quot;x2b&quot;, &quot;z&quot;);\r\n    strings.sort(naturalOrdering());\r\n    System.out.println(strings);\r\n\r\n&gt; [x2a, x2b, x15, xa, y11, y16, z, z, z5]","title":"Sort on a string that may contain a number","body":"<p>I came up with a quite simple implementation in Java using regular expressions:</p>\n\n<pre><code>public static Comparator&lt;String&gt; naturalOrdering() {\n    final Pattern compile = Pattern.compile(\"(\\\\d+)|(\\\\D+)\");\n    return (s1, s2) -&gt; {\n        final Matcher matcher1 = compile.matcher(s1);\n        final Matcher matcher2 = compile.matcher(s2);\n        while (true) {\n            final boolean found1 = matcher1.find();\n            final boolean found2 = matcher2.find();\n            if (!found1 || !found2) {\n                return Boolean.compare(found1, found2);\n            } else if (!matcher1.group().equals(matcher2.group())) {\n                if (matcher1.group(1) == null || matcher2.group(1) == null) {\n                    return matcher1.group().compareTo(matcher2.group());\n                } else {\n                    return Integer.valueOf(matcher1.group(1)).compareTo(Integer.valueOf(matcher2.group(1)));\n                }\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>Here is how it works:</p>\n\n<pre><code>final List&lt;String&gt; strings = Arrays.asList(\"x15\", \"xa\", \"y16\", \"x2a\", \"y11\", \"z\", \"z5\", \"x2b\", \"z\");\nstrings.sort(naturalOrdering());\nSystem.out.println(strings);\n</code></pre>\n\n<blockquote>\n  <p>[x2a, x2b, x15, xa, y11, y16, z, z, z5]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7636973,"reputation":31,"user_id":5790258,"display_name":"mavisto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541777912,"creation_date":1541777912,"answer_id":53228819,"question_id":104599,"body_markdown":"My problem was that I have lists consisting of a combination of alpha numeric strings (eg C22, C3, C5 etc), alpha strings (eg A, H, R etc) and just digits (eg 99, 45 etc) that need sorting in the order A, C3, C5, C22, H, R, 45, 99.  I also have duplicates that need removing so I only get a single entry.  \r\n\r\nI&#39;m also not just working with Strings, I&#39;m ordering an Object and using a specific field within the Object to get the correct order.\r\n\r\nA solution that seems to work for me is :\r\n\r\n    SortedSet&lt;Code&gt; codeSet;\r\n\tcodeSet = new TreeSet&lt;Code&gt;(new Comparator&lt;Code&gt;() {\r\n\r\n\tprivate boolean isThereAnyNumber(String a, String b) {\r\n\t\treturn isNumber(a) || isNumber(b);\r\n\t}\r\n\r\n\tprivate boolean isNumber(String s) {\r\n\t\treturn s.matches(&quot;[-+]?\\\\d*\\\\.?\\\\d+&quot;);\r\n\t}\r\n\r\n\tprivate String extractChars(String s) {\r\n\t\tString chars = s.replaceAll(&quot;\\\\d&quot;, &quot;&quot;);\r\n\t\treturn chars;\r\n\t}\r\n\r\n\tprivate int extractInt(String s) {\r\n\t\tString num = s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;);\r\n\t\treturn num.isEmpty() ? 0 : Integer.parseInt(num);\r\n\t}\r\n\r\n\tprivate int compareStrings(String o1, String o2) {\r\n\r\n\t\tif (!extractChars(o1).equals(extractChars(o2))) {\r\n\t\t\treturn o1.compareTo(o2);\r\n\t\t} else\r\n\t\t\treturn extractInt(o1) - extractInt(o2);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compare(Code a, Code b) {\r\n\t\t\t\t\t\t\r\n\t\treturn isThereAnyNumber(a.getPrimaryCode(), b.getPrimaryCode()) \r\n\t\t\t\t? isNumber(a.getPrimaryCode()) ? 1 : -1 \r\n\t\t\t\t\t: compareStrings(a.getPrimaryCode(), b.getPrimaryCode());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\nIt &#39;borrows&#39; some code that I found here on Stackoverflow plus some tweaks of my own to get it working just how I needed it too.\r\n\r\nDue to trying to order Objects, needing a comparator as well as duplicate removal, one negative fudge I had to employ was I first have to write my Objects to a TreeMap before writing them to a Treeset.  It may impact performance a little  but given that the lists will be a max of about 80 Codes, it shouldn&#39;t be a problem.","title":"Sort on a string that may contain a number","body":"<p>My problem was that I have lists consisting of a combination of alpha numeric strings (eg C22, C3, C5 etc), alpha strings (eg A, H, R etc) and just digits (eg 99, 45 etc) that need sorting in the order A, C3, C5, C22, H, R, 45, 99.  I also have duplicates that need removing so I only get a single entry.  </p>\n\n<p>I'm also not just working with Strings, I'm ordering an Object and using a specific field within the Object to get the correct order.</p>\n\n<p>A solution that seems to work for me is :</p>\n\n<pre><code>SortedSet&lt;Code&gt; codeSet;\ncodeSet = new TreeSet&lt;Code&gt;(new Comparator&lt;Code&gt;() {\n\nprivate boolean isThereAnyNumber(String a, String b) {\n    return isNumber(a) || isNumber(b);\n}\n\nprivate boolean isNumber(String s) {\n    return s.matches(\"[-+]?\\\\d*\\\\.?\\\\d+\");\n}\n\nprivate String extractChars(String s) {\n    String chars = s.replaceAll(\"\\\\d\", \"\");\n    return chars;\n}\n\nprivate int extractInt(String s) {\n    String num = s.replaceAll(\"\\\\D\", \"\");\n    return num.isEmpty() ? 0 : Integer.parseInt(num);\n}\n\nprivate int compareStrings(String o1, String o2) {\n\n    if (!extractChars(o1).equals(extractChars(o2))) {\n        return o1.compareTo(o2);\n    } else\n        return extractInt(o1) - extractInt(o2);\n}\n\n@Override\npublic int compare(Code a, Code b) {\n\n    return isThereAnyNumber(a.getPrimaryCode(), b.getPrimaryCode()) \n            ? isNumber(a.getPrimaryCode()) ? 1 : -1 \n                : compareStrings(a.getPrimaryCode(), b.getPrimaryCode());\n                }\n            });\n</code></pre>\n\n<p>It 'borrows' some code that I found here on Stackoverflow plus some tweaks of my own to get it working just how I needed it too.</p>\n\n<p>Due to trying to order Objects, needing a comparator as well as duplicate removal, one negative fudge I had to employ was I first have to write my Objects to a TreeMap before writing them to a Treeset.  It may impact performance a little  but given that the lists will be a max of about 80 Codes, it shouldn't be a problem.</p>\n"},{"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"Saša"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561653669,"creation_date":1561653669,"answer_id":56795450,"question_id":104599,"body_markdown":"I had a similar problem where my strings had space-separated segments inside. I solved it in this way:\r\n\r\n    public class StringWithNumberComparator implements Comparator&lt;MyClass&gt; {\r\n\r\n\t@Override\r\n\tpublic int compare(MyClass o1, MyClass o2) {\r\n\t\tif (o1.getStringToCompare().equals(o2.getStringToCompare())) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tString[] first = o1.getStringToCompare().split(&quot; &quot;);\r\n\t\tString[] second = o2.getStringToCompare().split(&quot; &quot;);\r\n\t\tif (first.length == second.length) {\r\n\t\t\tfor (int i = 0; i &lt; first.length; i++) {\r\n\r\n\t\t\t\tint segmentCompare = StringUtils.compare(first[i], second[i]);\r\n\t\t\t\tif (StringUtils.isNumeric(first[i]) &amp;&amp; StringUtils.isNumeric(second[i])) {\r\n\r\n\t\t\t\t\tsegmentCompare = NumberUtils.compare(Integer.valueOf(first[i]), Integer.valueOf(second[i]));\r\n\t\t\t\t\tif (0 != segmentCompare) {\r\n\t\t\t\t\t\t// return only if uneven numbers in case there are more segments to be checked\r\n\t\t\t\t\t\treturn segmentCompare;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (0 != segmentCompare) {\r\n\t\t\t\t\treturn segmentCompare;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn StringUtils.compare(o1.getDenominazione(), o2.getDenominazione());\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t}\r\nAs you can see I have used Apaches StringUtils.compare() and NumberUtils.compere() as a standard help.","title":"Sort on a string that may contain a number","body":"<p>I had a similar problem where my strings had space-separated segments inside. I solved it in this way:</p>\n\n<pre><code>public class StringWithNumberComparator implements Comparator&lt;MyClass&gt; {\n\n@Override\npublic int compare(MyClass o1, MyClass o2) {\n    if (o1.getStringToCompare().equals(o2.getStringToCompare())) {\n        return 0;\n    }\n    String[] first = o1.getStringToCompare().split(\" \");\n    String[] second = o2.getStringToCompare().split(\" \");\n    if (first.length == second.length) {\n        for (int i = 0; i &lt; first.length; i++) {\n\n            int segmentCompare = StringUtils.compare(first[i], second[i]);\n            if (StringUtils.isNumeric(first[i]) &amp;&amp; StringUtils.isNumeric(second[i])) {\n\n                segmentCompare = NumberUtils.compare(Integer.valueOf(first[i]), Integer.valueOf(second[i]));\n                if (0 != segmentCompare) {\n                    // return only if uneven numbers in case there are more segments to be checked\n                    return segmentCompare;\n                }\n            }\n            if (0 != segmentCompare) {\n                return segmentCompare;\n            }\n        }\n    } else {\n        return StringUtils.compare(o1.getDenominazione(), o2.getDenominazione());\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>As you can see I have used Apaches StringUtils.compare() and NumberUtils.compere() as a standard help.</p>\n"},{"tags":[],"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567931714,"creation_date":1567886971,"answer_id":57837107,"question_id":104599,"body_markdown":"I created a [project][1] to compare the different implementations. It is far from complete, but it is a starting point. \r\n\r\n\r\n  [1]: https://github.com/ChristianLutz/natural-order-benchmark","title":"Sort on a string that may contain a number","body":"<p>I created a <a href=\"https://github.com/ChristianLutz/natural-order-benchmark\" rel=\"nofollow noreferrer\">project</a> to compare the different implementations. It is far from complete, but it is a starting point. </p>\n"},{"comments":[{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":0,"creation_date":1616116538,"post_id":58249974,"comment_id":117909294,"body_markdown":"Great code! I would only do it case insensitive with `char ch1 = Character.toUpperCase(s1.charAt(i1));` so that `1000a` be less than `1000X`","body":"Great code! I would only do it case insensitive with <code>char ch1 = Character.toUpperCase(s1.charAt(i1));</code> so that <code>1000a</code> be less than <code>1000X</code>"}],"tags":[],"owner":{"account_id":3013533,"reputation":438,"user_id":2556378,"display_name":"Stanislav"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570291059,"creation_date":1570291059,"answer_id":58249974,"question_id":104599,"body_markdown":"Here is the solution with the following advantages over Alphanum Algorithm:\r\n\r\n 1. 3.25x times faster (tested on the data from &#39;Epilogue&#39; chapter of [Alphanum description][1])\r\n 2. Does not consume extra memory (no string splitting, no numbers parsing)\r\n 3. Processes leading zeros correctly (e.g. `&quot;0001&quot;` equals `&quot;1&quot;`, `&quot;01234&quot;` is less than `&quot;4567&quot;`)\r\n\r\n```\r\npublic class NumberAwareComparator implements Comparator&lt;String&gt;\r\n{\r\n\t@Override\r\n\tpublic int compare(String s1, String s2)\r\n\t{\r\n\t\tint len1 = s1.length();\r\n\t\tint len2 = s2.length();\r\n\t\tint i1 = 0;\r\n\t\tint i2 = 0;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\t// handle the case when one string is longer than another\r\n\t\t\tif (i1 == len1)\r\n\t\t\t\treturn i2 == len2 ? 0 : -1;\r\n\t\t\tif (i2 == len2)\r\n\t\t\t\treturn 1;\r\n\r\n\t\t\tchar ch1 = s1.charAt(i1);\r\n\t\t\tchar ch2 = s2.charAt(i2);\r\n\t\t\tif (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2))\r\n\t\t\t{\r\n\t\t\t\t// skip leading zeros\r\n\t\t\t\twhile (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == &#39;0&#39;)\r\n\t\t\t\t\ti1++;\r\n\t\t\t\twhile (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == &#39;0&#39;)\r\n\t\t\t\t\ti2++;\r\n\r\n\t\t\t\t// find the ends of the numbers\r\n\t\t\t\tint end1 = i1;\r\n\t\t\t\tint end2 = i2;\r\n\t\t\t\twhile (end1 &lt; len1 &amp;&amp; Character.isDigit(s1.charAt(end1)))\r\n\t\t\t\t\tend1++;\r\n\t\t\t\twhile (end2 &lt; len2 &amp;&amp; Character.isDigit(s2.charAt(end2)))\r\n\t\t\t\t\tend2++;\r\n\r\n\t\t\t\tint diglen1 = end1 - i1;\r\n\t\t\t\tint diglen2 = end2 - i2;\r\n\r\n\t\t\t\t// if the lengths are different, then the longer number is bigger\r\n\t\t\t\tif (diglen1 != diglen2)\r\n\t\t\t\t\treturn diglen1 - diglen2;\r\n\r\n\t\t\t\t// compare numbers digit by digit\r\n\t\t\t\twhile (i1 &lt; end1)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (s1.charAt(i1) != s2.charAt(i2))\r\n\t\t\t\t\t\treturn s1.charAt(i1) - s2.charAt(i2);\r\n\t\t\t\t\ti1++;\r\n\t\t\t\t\ti2++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// plain characters comparison\r\n\t\t\t\tif (ch1 != ch2)\r\n\t\t\t\t\treturn ch1 - ch2;\r\n\t\t\t\ti1++;\r\n\t\t\t\ti2++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.davekoelle.com/alphanum.html","title":"Sort on a string that may contain a number","body":"<p>Here is the solution with the following advantages over Alphanum Algorithm:</p>\n\n<ol>\n<li>3.25x times faster (tested on the data from 'Epilogue' chapter of <a href=\"http://www.davekoelle.com/alphanum.html\" rel=\"nofollow noreferrer\">Alphanum description</a>)</li>\n<li>Does not consume extra memory (no string splitting, no numbers parsing)</li>\n<li>Processes leading zeros correctly (e.g. <code>\"0001\"</code> equals <code>\"1\"</code>, <code>\"01234\"</code> is less than <code>\"4567\"</code>)</li>\n</ol>\n\n<pre><code>public class NumberAwareComparator implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare(String s1, String s2)\n    {\n        int len1 = s1.length();\n        int len2 = s2.length();\n        int i1 = 0;\n        int i2 = 0;\n        while (true)\n        {\n            // handle the case when one string is longer than another\n            if (i1 == len1)\n                return i2 == len2 ? 0 : -1;\n            if (i2 == len2)\n                return 1;\n\n            char ch1 = s1.charAt(i1);\n            char ch2 = s2.charAt(i2);\n            if (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2))\n            {\n                // skip leading zeros\n                while (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == '0')\n                    i1++;\n                while (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == '0')\n                    i2++;\n\n                // find the ends of the numbers\n                int end1 = i1;\n                int end2 = i2;\n                while (end1 &lt; len1 &amp;&amp; Character.isDigit(s1.charAt(end1)))\n                    end1++;\n                while (end2 &lt; len2 &amp;&amp; Character.isDigit(s2.charAt(end2)))\n                    end2++;\n\n                int diglen1 = end1 - i1;\n                int diglen2 = end2 - i2;\n\n                // if the lengths are different, then the longer number is bigger\n                if (diglen1 != diglen2)\n                    return diglen1 - diglen2;\n\n                // compare numbers digit by digit\n                while (i1 &lt; end1)\n                {\n                    if (s1.charAt(i1) != s2.charAt(i2))\n                        return s1.charAt(i1) - s2.charAt(i2);\n                    i1++;\n                    i2++;\n                }\n            }\n            else\n            {\n                // plain characters comparison\n                if (ch1 != ch2)\n                    return ch1 - ch2;\n                i1++;\n                i2++;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17930424,"reputation":21,"user_id":13027997,"display_name":"Devan K S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583679447,"creation_date":1583679447,"answer_id":60588742,"question_id":104599,"body_markdown":"Adding on to the [answer](https://stackoverflow.com/a/58249974/13027997) made by [@stanislav](https://stackoverflow.com/users/2556378/stanislav).\r\nA few problems I faced while using the answer provided was:\r\n\r\n1. Capital and small letters are separated by the characters between their ASCII codes. This breaks the flow when the strings being sorted have _ or other characters which are between small letters and capital letters in ASCII.\r\n2. If two strings are the same except for the leading zeroes count being different, the function returns 0 which will make the sort depend on the original positions of the string in the list.\r\n\r\nThese two issues have been fixed in the new code. And I made a few function instead of a few repetitive set of code. The differentCaseCompared variable keeps track of whether if two strings are the same except for the cases being different. If so the value of the first different case characters subtracted is returned. This is done to avoid the issue of having two strings differing by case returned as 0. \r\n\r\n```\r\n\r\npublic class NaturalSortingComparator implements Comparator&lt;String&gt; {\r\n\r\n    @Override\r\n    public int compare(String string1, String string2) {\r\n        int lengthOfString1 = string1.length();\r\n        int lengthOfString2 = string2.length();\r\n        int iteratorOfString1 = 0;\r\n        int iteratorOfString2 = 0;\r\n        int differentCaseCompared = 0;\r\n        while (true) {\r\n            if (iteratorOfString1 == lengthOfString1) {\r\n                if (iteratorOfString2 == lengthOfString2) {\r\n                    if (lengthOfString1 == lengthOfString2) {\r\n                        // If both strings are the same except for the different cases, the differentCaseCompared will be returned\r\n                        return differentCaseCompared;\r\n                    }\r\n                    //If the characters are the same at the point, returns the difference between length of the strings\r\n                    else {\r\n                        return lengthOfString1 - lengthOfString2;\r\n                    }\r\n                }\r\n                //If String2 is bigger than String1\r\n                else\r\n                    return -1;\r\n            }\r\n            //Check if String1 is bigger than string2\r\n            if (iteratorOfString2 == lengthOfString2) {\r\n                return 1;\r\n            }\r\n\r\n            char ch1 = string1.charAt(iteratorOfString1);\r\n            char ch2 = string2.charAt(iteratorOfString2);\r\n\r\n            if (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2)) {\r\n                // skip leading zeros\r\n                iteratorOfString1 = skipLeadingZeroes(string1, lengthOfString1, iteratorOfString1);\r\n                iteratorOfString2 = skipLeadingZeroes(string2, lengthOfString2, iteratorOfString2);\r\n\r\n                // find the ends of the numbers\r\n                int endPositionOfNumbersInString1 = findEndPositionOfNumber(string1, lengthOfString1, iteratorOfString1);\r\n                int endPositionOfNumbersInString2 = findEndPositionOfNumber(string2, lengthOfString2, iteratorOfString2);\r\n\r\n                int lengthOfDigitsInString1 = endPositionOfNumbersInString1 - iteratorOfString1;\r\n                int lengthOfDigitsInString2 = endPositionOfNumbersInString2 - iteratorOfString2;\r\n\r\n                // if the lengths are different, then the longer number is bigger\r\n                if (lengthOfDigitsInString1 != lengthOfDigitsInString2)\r\n                    return lengthOfDigitsInString1 - lengthOfDigitsInString2;\r\n\r\n                // compare numbers digit by digit\r\n                while (iteratorOfString1 &lt; endPositionOfNumbersInString1) {\r\n\r\n                    if (string1.charAt(iteratorOfString1) != string2.charAt(iteratorOfString2))\r\n                        return string1.charAt(iteratorOfString1) - string2.charAt(iteratorOfString2);\r\n\r\n                    iteratorOfString1++;\r\n                    iteratorOfString2++;\r\n                }\r\n            } else {\r\n                // plain characters comparison\r\n                if (ch1 != ch2) {\r\n                    if (!ignoreCharacterCaseEquals(ch1, ch2))\r\n                        return Character.toLowerCase(ch1) - Character.toLowerCase(ch2);\r\n\r\n                    // Set a differentCaseCompared if the characters being compared are different case.\r\n                    // Should be done only once, hence the check with 0\r\n                    if (differentCaseCompared == 0) {\r\n                        differentCaseCompared = ch1 - ch2;\r\n                    }\r\n                }\r\n\r\n                iteratorOfString1++;\r\n                iteratorOfString2++;\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean ignoreCharacterCaseEquals(char character1, char character2) {\r\n\r\n        return Character.toLowerCase(character1) == Character.toLowerCase(character2);\r\n    }\r\n\r\n    private int findEndPositionOfNumber(String string, int lengthOfString, int end) {\r\n\r\n        while (end &lt; lengthOfString &amp;&amp; Character.isDigit(string.charAt(end)))\r\n            end++;\r\n\r\n        return end;\r\n    }\r\n\r\n    private int skipLeadingZeroes(String string, int lengthOfString, int iteratorOfString) {\r\n\r\n        while (iteratorOfString &lt; lengthOfString &amp;&amp; string.charAt(iteratorOfString) == &#39;0&#39;)\r\n            iteratorOfString++;\r\n\r\n        return iteratorOfString;\r\n    }\r\n}\r\n```\r\n\r\nThe following is a unit test I used.\r\n```\r\n\r\npublic class NaturalSortingComparatorTest {\r\n\r\n    private int NUMBER_OF_TEST_CASES = 100000;\r\n\r\n    @Test\r\n    public void compare() {\r\n\r\n        NaturalSortingComparator naturalSortingComparator = new NaturalSortingComparator();\r\n\r\n        List&lt;String&gt; expectedStringList = getCorrectStringList();\r\n        List&lt;String&gt; testListOfStrings = createTestListOfStrings();\r\n        runTestCases(expectedStringList, testListOfStrings, NUMBER_OF_TEST_CASES, naturalSortingComparator);\r\n\r\n    }\r\n\r\n    private void runTestCases(List&lt;String&gt; expectedStringList, List&lt;String&gt; testListOfStrings,\r\n                              int numberOfTestCases, Comparator&lt;String&gt; comparator) {\r\n\r\n        for (int testCase = 0; testCase &lt; numberOfTestCases; testCase++) {\r\n            Collections.shuffle(testListOfStrings);\r\n            testListOfStrings.sort(comparator);\r\n            Assert.assertEquals(expectedStringList, testListOfStrings);\r\n        }\r\n    }\r\n\r\n    private List&lt;String&gt; getCorrectStringList() {\r\n        return Arrays.asList(\r\n                &quot;1&quot;, &quot;01&quot;, &quot;001&quot;, &quot;2&quot;, &quot;02&quot;, &quot;10&quot;, &quot;10&quot;, &quot;010&quot;,\r\n                &quot;20&quot;, &quot;100&quot;, &quot;_1&quot;, &quot;_01&quot;, &quot;_2&quot;, &quot;_200&quot;, &quot;A 02&quot;,\r\n                &quot;A01&quot;, &quot;a2&quot;, &quot;A20&quot;, &quot;t1A&quot;, &quot;t1a&quot;, &quot;t1AB&quot;, &quot;t1Ab&quot;,\r\n                &quot;t1aB&quot;, &quot;t1ab&quot;, &quot;T010T01&quot;, &quot;T0010T01&quot;);\r\n    }\r\n\r\n    private List&lt;String&gt; createTestListOfStrings() {\r\n        return Arrays.asList(\r\n                &quot;10&quot;, &quot;20&quot;, &quot;A20&quot;, &quot;2&quot;, &quot;t1ab&quot;, &quot;01&quot;, &quot;T010T01&quot;, &quot;t1aB&quot;,\r\n                &quot;_2&quot;, &quot;001&quot;, &quot;_200&quot;, &quot;1&quot;, &quot;A 02&quot;, &quot;t1Ab&quot;, &quot;a2&quot;, &quot;_1&quot;, &quot;t1A&quot;, &quot;_01&quot;,\r\n                &quot;100&quot;, &quot;02&quot;, &quot;T0010T01&quot;, &quot;t1AB&quot;, &quot;10&quot;, &quot;A01&quot;, &quot;010&quot;, &quot;t1a&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSuggestions welcome! I am not sure whether adding the functions changes anything other than the readability part of things. \r\n\r\n\r\nP.S: Sorry to add another answer to this question. But I don&#39;t have enough reps to comment on the answer which I modified for my use.","title":"Sort on a string that may contain a number","body":"<p>Adding on to the <a href=\"https://stackoverflow.com/a/58249974/13027997\">answer</a> made by <a href=\"https://stackoverflow.com/users/2556378/stanislav\">@stanislav</a>.\nA few problems I faced while using the answer provided was:</p>\n\n<ol>\n<li>Capital and small letters are separated by the characters between their ASCII codes. This breaks the flow when the strings being sorted have _ or other characters which are between small letters and capital letters in ASCII.</li>\n<li>If two strings are the same except for the leading zeroes count being different, the function returns 0 which will make the sort depend on the original positions of the string in the list.</li>\n</ol>\n\n<p>These two issues have been fixed in the new code. And I made a few function instead of a few repetitive set of code. The differentCaseCompared variable keeps track of whether if two strings are the same except for the cases being different. If so the value of the first different case characters subtracted is returned. This is done to avoid the issue of having two strings differing by case returned as 0. </p>\n\n<pre><code>\npublic class NaturalSortingComparator implements Comparator&lt;String&gt; {\n\n    @Override\n    public int compare(String string1, String string2) {\n        int lengthOfString1 = string1.length();\n        int lengthOfString2 = string2.length();\n        int iteratorOfString1 = 0;\n        int iteratorOfString2 = 0;\n        int differentCaseCompared = 0;\n        while (true) {\n            if (iteratorOfString1 == lengthOfString1) {\n                if (iteratorOfString2 == lengthOfString2) {\n                    if (lengthOfString1 == lengthOfString2) {\n                        // If both strings are the same except for the different cases, the differentCaseCompared will be returned\n                        return differentCaseCompared;\n                    }\n                    //If the characters are the same at the point, returns the difference between length of the strings\n                    else {\n                        return lengthOfString1 - lengthOfString2;\n                    }\n                }\n                //If String2 is bigger than String1\n                else\n                    return -1;\n            }\n            //Check if String1 is bigger than string2\n            if (iteratorOfString2 == lengthOfString2) {\n                return 1;\n            }\n\n            char ch1 = string1.charAt(iteratorOfString1);\n            char ch2 = string2.charAt(iteratorOfString2);\n\n            if (Character.isDigit(ch1) &amp;&amp; Character.isDigit(ch2)) {\n                // skip leading zeros\n                iteratorOfString1 = skipLeadingZeroes(string1, lengthOfString1, iteratorOfString1);\n                iteratorOfString2 = skipLeadingZeroes(string2, lengthOfString2, iteratorOfString2);\n\n                // find the ends of the numbers\n                int endPositionOfNumbersInString1 = findEndPositionOfNumber(string1, lengthOfString1, iteratorOfString1);\n                int endPositionOfNumbersInString2 = findEndPositionOfNumber(string2, lengthOfString2, iteratorOfString2);\n\n                int lengthOfDigitsInString1 = endPositionOfNumbersInString1 - iteratorOfString1;\n                int lengthOfDigitsInString2 = endPositionOfNumbersInString2 - iteratorOfString2;\n\n                // if the lengths are different, then the longer number is bigger\n                if (lengthOfDigitsInString1 != lengthOfDigitsInString2)\n                    return lengthOfDigitsInString1 - lengthOfDigitsInString2;\n\n                // compare numbers digit by digit\n                while (iteratorOfString1 &lt; endPositionOfNumbersInString1) {\n\n                    if (string1.charAt(iteratorOfString1) != string2.charAt(iteratorOfString2))\n                        return string1.charAt(iteratorOfString1) - string2.charAt(iteratorOfString2);\n\n                    iteratorOfString1++;\n                    iteratorOfString2++;\n                }\n            } else {\n                // plain characters comparison\n                if (ch1 != ch2) {\n                    if (!ignoreCharacterCaseEquals(ch1, ch2))\n                        return Character.toLowerCase(ch1) - Character.toLowerCase(ch2);\n\n                    // Set a differentCaseCompared if the characters being compared are different case.\n                    // Should be done only once, hence the check with 0\n                    if (differentCaseCompared == 0) {\n                        differentCaseCompared = ch1 - ch2;\n                    }\n                }\n\n                iteratorOfString1++;\n                iteratorOfString2++;\n            }\n        }\n    }\n\n    private boolean ignoreCharacterCaseEquals(char character1, char character2) {\n\n        return Character.toLowerCase(character1) == Character.toLowerCase(character2);\n    }\n\n    private int findEndPositionOfNumber(String string, int lengthOfString, int end) {\n\n        while (end &lt; lengthOfString &amp;&amp; Character.isDigit(string.charAt(end)))\n            end++;\n\n        return end;\n    }\n\n    private int skipLeadingZeroes(String string, int lengthOfString, int iteratorOfString) {\n\n        while (iteratorOfString &lt; lengthOfString &amp;&amp; string.charAt(iteratorOfString) == '0')\n            iteratorOfString++;\n\n        return iteratorOfString;\n    }\n}\n</code></pre>\n\n<p>The following is a unit test I used.</p>\n\n<pre><code>\npublic class NaturalSortingComparatorTest {\n\n    private int NUMBER_OF_TEST_CASES = 100000;\n\n    @Test\n    public void compare() {\n\n        NaturalSortingComparator naturalSortingComparator = new NaturalSortingComparator();\n\n        List&lt;String&gt; expectedStringList = getCorrectStringList();\n        List&lt;String&gt; testListOfStrings = createTestListOfStrings();\n        runTestCases(expectedStringList, testListOfStrings, NUMBER_OF_TEST_CASES, naturalSortingComparator);\n\n    }\n\n    private void runTestCases(List&lt;String&gt; expectedStringList, List&lt;String&gt; testListOfStrings,\n                              int numberOfTestCases, Comparator&lt;String&gt; comparator) {\n\n        for (int testCase = 0; testCase &lt; numberOfTestCases; testCase++) {\n            Collections.shuffle(testListOfStrings);\n            testListOfStrings.sort(comparator);\n            Assert.assertEquals(expectedStringList, testListOfStrings);\n        }\n    }\n\n    private List&lt;String&gt; getCorrectStringList() {\n        return Arrays.asList(\n                \"1\", \"01\", \"001\", \"2\", \"02\", \"10\", \"10\", \"010\",\n                \"20\", \"100\", \"_1\", \"_01\", \"_2\", \"_200\", \"A 02\",\n                \"A01\", \"a2\", \"A20\", \"t1A\", \"t1a\", \"t1AB\", \"t1Ab\",\n                \"t1aB\", \"t1ab\", \"T010T01\", \"T0010T01\");\n    }\n\n    private List&lt;String&gt; createTestListOfStrings() {\n        return Arrays.asList(\n                \"10\", \"20\", \"A20\", \"2\", \"t1ab\", \"01\", \"T010T01\", \"t1aB\",\n                \"_2\", \"001\", \"_200\", \"1\", \"A 02\", \"t1Ab\", \"a2\", \"_1\", \"t1A\", \"_01\",\n                \"100\", \"02\", \"T0010T01\", \"t1AB\", \"10\", \"A01\", \"010\", \"t1a\");\n    }\n\n}\n</code></pre>\n\n<p>Suggestions welcome! I am not sure whether adding the functions changes anything other than the readability part of things. </p>\n\n<p>P.S: Sorry to add another answer to this question. But I don't have enough reps to comment on the answer which I modified for my use.</p>\n"},{"tags":[],"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605633629,"creation_date":1605633629,"answer_id":64880158,"question_id":104599,"body_markdown":"Instead of reinventing the wheel, I&#39;d suggest to use a locale-aware Unicode-compliant string comparator that has built-in number sorting from the [ICU4J library][1].\r\n\r\n    import com.ibm.icu.text.Collator;\r\n    import com.ibm.icu.text.RuleBasedCollator;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class CollatorExample {\r\n        public static void main(String[] args) {\r\n            // Make sure to choose correct locale: in Turkish uppercase of &quot;i&quot; is &quot;İ&quot;, not &quot;I&quot;\r\n            RuleBasedCollator collator = (RuleBasedCollator) Collator.getInstance(Locale.US);\r\n            collator.setNumericCollation(true); // Place &quot;10&quot; after &quot;2&quot;\r\n            collator.setStrength(Collator.PRIMARY); // Case-insensitive\r\n            List&lt;String&gt; strings = Arrays.asList(&quot;10&quot;, &quot;20&quot;, &quot;A20&quot;, &quot;2&quot;, &quot;t1ab&quot;, &quot;01&quot;, &quot;T010T01&quot;, &quot;t1aB&quot;,\r\n                &quot;_2&quot;, &quot;001&quot;, &quot;_200&quot;, &quot;1&quot;, &quot;A 02&quot;, &quot;t1Ab&quot;, &quot;a2&quot;, &quot;_1&quot;, &quot;t1A&quot;, &quot;_01&quot;,\r\n                &quot;100&quot;, &quot;02&quot;, &quot;T0010T01&quot;, &quot;t1AB&quot;, &quot;10&quot;, &quot;A01&quot;, &quot;010&quot;, &quot;t1a&quot;\r\n            );\r\n            strings.sort(collator);\r\n            System.out.println(String.join(&quot;, &quot;, strings));\r\n            // Output: _1, _01, _2, _200, 01, 001, 1,\r\n            // 2, 02, 10, 10, 010, 20, 100, A 02, A01, \r\n            // a2, A20, t1A, t1a, t1ab, t1aB, t1Ab, t1AB,\r\n            // T010T01, T0010T01\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedCollator.html#setNumericCollation-boolean-","title":"Sort on a string that may contain a number","body":"<p>Instead of reinventing the wheel, I'd suggest to use a locale-aware Unicode-compliant string comparator that has built-in number sorting from the <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedCollator.html#setNumericCollation-boolean-\" rel=\"nofollow noreferrer\">ICU4J library</a>.</p>\n<pre><code>import com.ibm.icu.text.Collator;\nimport com.ibm.icu.text.RuleBasedCollator;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class CollatorExample {\n    public static void main(String[] args) {\n        // Make sure to choose correct locale: in Turkish uppercase of &quot;i&quot; is &quot;İ&quot;, not &quot;I&quot;\n        RuleBasedCollator collator = (RuleBasedCollator) Collator.getInstance(Locale.US);\n        collator.setNumericCollation(true); // Place &quot;10&quot; after &quot;2&quot;\n        collator.setStrength(Collator.PRIMARY); // Case-insensitive\n        List&lt;String&gt; strings = Arrays.asList(&quot;10&quot;, &quot;20&quot;, &quot;A20&quot;, &quot;2&quot;, &quot;t1ab&quot;, &quot;01&quot;, &quot;T010T01&quot;, &quot;t1aB&quot;,\n            &quot;_2&quot;, &quot;001&quot;, &quot;_200&quot;, &quot;1&quot;, &quot;A 02&quot;, &quot;t1Ab&quot;, &quot;a2&quot;, &quot;_1&quot;, &quot;t1A&quot;, &quot;_01&quot;,\n            &quot;100&quot;, &quot;02&quot;, &quot;T0010T01&quot;, &quot;t1AB&quot;, &quot;10&quot;, &quot;A01&quot;, &quot;010&quot;, &quot;t1a&quot;\n        );\n        strings.sort(collator);\n        System.out.println(String.join(&quot;, &quot;, strings));\n        // Output: _1, _01, _2, _200, 01, 001, 1,\n        // 2, 02, 10, 10, 010, 20, 100, A 02, A01, \n        // a2, A20, t1A, t1a, t1ab, t1aB, t1Ab, t1AB,\n        // T010T01, T0010T01\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616624307,"creation_date":1616113886,"answer_id":66701024,"question_id":104599,"body_markdown":"modification of [this](https://stackoverflow.com/a/58249974/448078) answer\r\n\r\n---\r\n\r\n+ case insensitive order (1000a is less than 1000X)\r\n+ nulls handling\r\n\r\n**implementation:**\r\n\r\n    import static java.lang.Math.pow;\r\n\r\n    import java.util.Comparator;\r\n\r\n    public class AlphanumComparator implements Comparator&lt;String&gt; {\r\n        \r\n        public static final AlphanumComparator ALPHANUM_COMPARATOR = new AlphanumComparator();\r\n        private static char[] upperCaseCache = new char[(int) pow(2, 16)];\r\n        private boolean nullIsLess;\r\n        \r\n        public AlphanumComparator() {\r\n        }\r\n        \r\n        public AlphanumComparator(boolean nullIsLess) {\r\n            this.nullIsLess = nullIsLess;\r\n        }\r\n        \r\n        @Override\r\n        public int compare(String s1, String s2) {\r\n            if (s1 == s2)\r\n                return 0;\r\n            if (s1 == null)\r\n                return nullIsLess ? -1 : 1;\r\n            if (s2 == null)\r\n                return nullIsLess ? 1 : -1;\r\n            \r\n            int i1 = 0;\r\n            int i2 = 0;\r\n            int len1 = s1.length();\r\n            int len2 = s2.length();\r\n            while (true) {\r\n                // handle the case when one string is longer than another\r\n                if (i1 == len1)\r\n                    return i2 == len2 ? 0 : -1;\r\n                if (i2 == len2)\r\n                    return 1;\r\n                \r\n                char ch1 = s1.charAt(i1);\r\n                char ch2 = s2.charAt(i2);\r\n                if (isDigit(ch1) &amp;&amp; isDigit(ch2)) {\r\n                    // skip leading zeros\r\n                    while (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == &#39;0&#39;)\r\n                        i1++;\r\n                    while (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == &#39;0&#39;)\r\n                        i2++;\r\n                    \r\n                    // find the ends of the numbers\r\n                    int end1 = i1;\r\n                    int end2 = i2;\r\n                    while (end1 &lt; len1 &amp;&amp; isDigit(s1.charAt(end1)))\r\n                        end1++;\r\n                    while (end2 != len2 &amp;&amp; isDigit(s2.charAt(end2)))\r\n                        end2++;\r\n                    \r\n                    // if the lengths are different, then the longer number is bigger\r\n                    int diglen1 = end1 - i1;\r\n                    int diglen2 = end2 - i2;\r\n                    if (diglen1 != diglen2)\r\n                        return diglen1 - diglen2;\r\n                    \r\n                    // compare numbers digit by digit\r\n                    while (i1 &lt; end1) {\r\n                        ch1 = s1.charAt(i1);\r\n                        ch2 = s2.charAt(i2);\r\n                        if (ch1 != ch2)\r\n                            return ch1 - ch2;\r\n                        i1++;\r\n                        i2++;\r\n                    }\r\n                } else {\r\n                    ch1 = toUpperCase(ch1);\r\n                    ch2 = toUpperCase(ch2);\r\n                    if (ch1 != ch2)\r\n                        return ch1 - ch2;\r\n                    i1++;\r\n                    i2++;\r\n                }\r\n            }\r\n        }\r\n        \r\n        private boolean isDigit(char ch) {\r\n            return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\r\n        }\r\n        \r\n        private char toUpperCase(char ch) {\r\n            char cached = upperCaseCache[ch];\r\n            if (cached == 0) {\r\n                cached = Character.toUpperCase(ch);\r\n                upperCaseCache[ch] = cached;\r\n            }\r\n            return cached;\r\n        }\r\n    }","title":"Sort on a string that may contain a number","body":"<p>modification of <a href=\"https://stackoverflow.com/a/58249974/448078\">this</a> answer</p>\n<hr />\n<ul>\n<li>case insensitive order (1000a is less than 1000X)</li>\n<li>nulls handling</li>\n</ul>\n<p><strong>implementation:</strong></p>\n<pre><code>import static java.lang.Math.pow;\n\nimport java.util.Comparator;\n\npublic class AlphanumComparator implements Comparator&lt;String&gt; {\n    \n    public static final AlphanumComparator ALPHANUM_COMPARATOR = new AlphanumComparator();\n    private static char[] upperCaseCache = new char[(int) pow(2, 16)];\n    private boolean nullIsLess;\n    \n    public AlphanumComparator() {\n    }\n    \n    public AlphanumComparator(boolean nullIsLess) {\n        this.nullIsLess = nullIsLess;\n    }\n    \n    @Override\n    public int compare(String s1, String s2) {\n        if (s1 == s2)\n            return 0;\n        if (s1 == null)\n            return nullIsLess ? -1 : 1;\n        if (s2 == null)\n            return nullIsLess ? 1 : -1;\n        \n        int i1 = 0;\n        int i2 = 0;\n        int len1 = s1.length();\n        int len2 = s2.length();\n        while (true) {\n            // handle the case when one string is longer than another\n            if (i1 == len1)\n                return i2 == len2 ? 0 : -1;\n            if (i2 == len2)\n                return 1;\n            \n            char ch1 = s1.charAt(i1);\n            char ch2 = s2.charAt(i2);\n            if (isDigit(ch1) &amp;&amp; isDigit(ch2)) {\n                // skip leading zeros\n                while (i1 &lt; len1 &amp;&amp; s1.charAt(i1) == '0')\n                    i1++;\n                while (i2 &lt; len2 &amp;&amp; s2.charAt(i2) == '0')\n                    i2++;\n                \n                // find the ends of the numbers\n                int end1 = i1;\n                int end2 = i2;\n                while (end1 &lt; len1 &amp;&amp; isDigit(s1.charAt(end1)))\n                    end1++;\n                while (end2 != len2 &amp;&amp; isDigit(s2.charAt(end2)))\n                    end2++;\n                \n                // if the lengths are different, then the longer number is bigger\n                int diglen1 = end1 - i1;\n                int diglen2 = end2 - i2;\n                if (diglen1 != diglen2)\n                    return diglen1 - diglen2;\n                \n                // compare numbers digit by digit\n                while (i1 &lt; end1) {\n                    ch1 = s1.charAt(i1);\n                    ch2 = s2.charAt(i2);\n                    if (ch1 != ch2)\n                        return ch1 - ch2;\n                    i1++;\n                    i2++;\n                }\n            } else {\n                ch1 = toUpperCase(ch1);\n                ch2 = toUpperCase(ch2);\n                if (ch1 != ch2)\n                    return ch1 - ch2;\n                i1++;\n                i2++;\n            }\n        }\n    }\n    \n    private boolean isDigit(char ch) {\n        return ch &gt;= 48 &amp;&amp; ch &lt;= 57;\n    }\n    \n    private char toUpperCase(char ch) {\n        char cached = upperCaseCache[ch];\n        if (cached == 0) {\n            cached = Character.toUpperCase(ch);\n            upperCaseCache[ch] = cached;\n        }\n        return cached;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27286165,"reputation":1,"user_id":21398899,"display_name":"nik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678821186,"creation_date":1678821186,"answer_id":75737436,"question_id":104599,"body_markdown":"Only a few years late, but here&#39;s an elegant and short solution: \r\n\r\n```\r\nCollections.sort(b, new Comparator&lt;String&gt;(){\r\n        @Override\r\n        public int compare(String a, String b){\r\n            if(a.equals(b)) return 0;\r\n            for(int i = 0; i &lt; Math.min(a.length(), b.length()); i++){\r\n                char aChar = a.charAt(i), bChar = b.charAt(i);\r\n                int comp = Character.compare(aChar, bChar);\r\n                if(comp == 0) continue;\r\n                return comp;\r\n            }\r\n            return a.length() &lt; b.length() ? -1 : 1;\r\n        }\r\n    });\r\n```","title":"Sort on a string that may contain a number","body":"<p>Only a few years late, but here's an elegant and short solution:</p>\n<pre><code>Collections.sort(b, new Comparator&lt;String&gt;(){\n        @Override\n        public int compare(String a, String b){\n            if(a.equals(b)) return 0;\n            for(int i = 0; i &lt; Math.min(a.length(), b.length()); i++){\n                char aChar = a.charAt(i), bChar = b.charAt(i);\n                int comp = Character.compare(aChar, bChar);\n                if(comp == 0) continue;\n                return comp;\n            }\n            return a.length() &lt; b.length() ? -1 : 1;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96356,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":104709,"answer_count":25,"score":88,"last_activity_date":1696500028,"creation_date":1221851121,"question_id":104599,"body_markdown":"I need to write a Java Comparator class that compares Strings, however with one twist.  If the two strings it is comparing are the same at the beginning and end of the string are the same, and the middle part that differs is an integer, then compare based on the numeric values of those integers.  For example, I want the following strings to end up in order they&#39;re shown:\r\n\r\n  - aaa\r\n  - bbb 3 ccc\r\n  - bbb 12 ccc\r\n  - ccc 11\r\n  - ddd\r\n  - eee 3 ddd jpeg2000 eee\r\n  - eee 12 ddd jpeg2000 eee\r\n\r\nAs you can see, there might be other integers in the string, so I can&#39;t just use regular expressions to break out any integer.  I&#39;m thinking of just walking the strings from the beginning until I find a bit that doesn&#39;t match, then walking in from the end until I find a bit that doesn&#39;t match, and then comparing the bit in the middle to the regular expression &quot;[0-9]+&quot;, and if it compares, then doing a numeric comparison, otherwise doing a lexical comparison.\r\n\r\nIs there a better way?\r\n\r\n**Update** I don&#39;t think I can guarantee that the other numbers in the string, the ones that may match, don&#39;t have spaces around them, or that the ones that differ do have spaces.","title":"Sort on a string that may contain a number","body":"<p>I need to write a Java Comparator class that compares Strings, however with one twist.  If the two strings it is comparing are the same at the beginning and end of the string are the same, and the middle part that differs is an integer, then compare based on the numeric values of those integers.  For example, I want the following strings to end up in order they're shown:</p>\n\n<ul>\n<li>aaa</li>\n<li>bbb 3 ccc</li>\n<li>bbb 12 ccc</li>\n<li>ccc 11</li>\n<li>ddd</li>\n<li>eee 3 ddd jpeg2000 eee</li>\n<li>eee 12 ddd jpeg2000 eee</li>\n</ul>\n\n<p>As you can see, there might be other integers in the string, so I can't just use regular expressions to break out any integer.  I'm thinking of just walking the strings from the beginning until I find a bit that doesn't match, then walking in from the end until I find a bit that doesn't match, and then comparing the bit in the middle to the regular expression \"[0-9]+\", and if it compares, then doing a numeric comparison, otherwise doing a lexical comparison.</p>\n\n<p>Is there a better way?</p>\n\n<p><strong>Update</strong> I don't think I can guarantee that the other numbers in the string, the ones that may match, don't have spaces around them, or that the ones that differ do have spaces.</p>\n"},{"tags":["java","android","containers","android-linearlayout"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1696382938,"post_id":77224832,"comment_id":136144657,"body_markdown":"I don&#39;t really get what you are trying to accomplish on your layout. Could you at least sketch your preferred layout?","body":"I don&#39;t really get what you are trying to accomplish on your layout. Could you at least sketch your preferred layout?"},{"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"score":1,"creation_date":1696430790,"post_id":77224832,"comment_id":136152409,"body_markdown":"I have updated the post with another image basically the code has to use a horizontal for left to right icons which i cannot do with the linear layout being set to vertical but it has to be vertical to place the text under each clickable src icon","body":"I have updated the post with another image basically the code has to use a horizontal for left to right icons which i cannot do with the linear layout being set to vertical but it has to be vertical to place the text under each clickable src icon"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1696470036,"post_id":77224832,"comment_id":136158256,"body_markdown":"Is your button and cash app text supposed to be dynamic or static (3 buttons)?","body":"Is your button and cash app text supposed to be dynamic or static (3 buttons)?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1696470164,"post_id":77224832,"comment_id":136158262,"body_markdown":"Maybe add another LinearLayout with orientation horizontal to house your cash app view.","body":"Maybe add another LinearLayout with orientation horizontal to house your cash app view."},{"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"score":0,"creation_date":1696479687,"post_id":77224832,"comment_id":136158912,"body_markdown":"so it will be static and the buttons depend on how many payment options i will add in the future currently im only putting two but that was an idea of what i need and i tried doing another layout but i couldent figure it out with the current code i got in the pic","body":"so it will be static and the buttons depend on how many payment options i will add in the future currently im only putting two but that was an idea of what i need and i tried doing another layout but i couldent figure it out with the current code i got in the pic"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1696499655,"post_id":77224832,"comment_id":136162018,"body_markdown":"You can try my answer below.","body":"You can try my answer below."}],"answers":[{"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696499597,"creation_date":1696499597,"answer_id":77236050,"question_id":77224832,"body_markdown":"First of all you can wrap your &quot;button&quot; in another XML layout like, let&#39;s name it `custom_view_button.xml`.\r\n\r\n```\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    &gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageViewCashApp&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:src=&quot;@drawable/cashapp&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Cash app&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nAnd then in your activity_layout.xml, include it like below. Take note of the `weightSum` and `layout_weight` values in order for equal widths.\r\n\r\n```\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:weightSum=&quot;2&quot;&gt;\r\n    &lt;include\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        layout=&quot;@layout/custom_view_button&quot;\r\n        /&gt;\r\n    &lt;include\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        layout=&quot;@layout/custom_view_button&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n","title":"Android studio java containers/linearlayouts","body":"<p>First of all you can wrap your &quot;button&quot; in another XML layout like, let's name it <code>custom_view_button.xml</code>.</p>\n<pre><code>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    &gt;\n    &lt;ImageView\n        android:id=&quot;@+id/imageViewCashApp&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:src=&quot;@drawable/cashapp&quot;\n        /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Cash app&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And then in your activity_layout.xml, include it like below. Take note of the <code>weightSum</code> and <code>layout_weight</code> values in order for equal widths.</p>\n<pre><code>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:weightSum=&quot;2&quot;&gt;\n    &lt;include\n        android:layout_weight=&quot;1&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        layout=&quot;@layout/custom_view_button&quot;\n        /&gt;\n    &lt;include\n        android:layout_weight=&quot;1&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        layout=&quot;@layout/custom_view_button&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":19928834,"reputation":53,"user_id":14602853,"display_name":"Brett Hudson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77236050,"answer_count":1,"score":0,"last_activity_date":1696499597,"creation_date":1696359087,"question_id":77224832,"body_markdown":"[![enter image description here][1]][1]I would like to add multiple buttons with textviews left to right in the same row and normally would set the orientation to horizontal for this but I need the vertical in order to place the textview &quot;cash app&quot; under the image where I need it how can I accomplish this? I heard something about container layouts but not sure how to do this, any help would be appreciated.\r\n\r\n[![Code/simulator][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/Jfp6I.png\r\n  [2]: https://i.stack.imgur.com/Yge7H.png\r\n","title":"Android studio java containers/linearlayouts","body":"<p><a href=\"https://i.stack.imgur.com/Jfp6I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jfp6I.png\" alt=\"enter image description here\" /></a>I would like to add multiple buttons with textviews left to right in the same row and normally would set the orientation to horizontal for this but I need the vertical in order to place the textview &quot;cash app&quot; under the image where I need it how can I accomplish this? I heard something about container layouts but not sure how to do this, any help would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/Yge7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yge7H.png\" alt=\"Code/simulator\" /></a></p>\n"},{"tags":["java","weaviate","vector-database"],"answers":[{"tags":[],"owner":{"account_id":28074101,"reputation":101,"user_id":21446253,"display_name":"Chethana Wickramaarachchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696499013,"creation_date":1696499013,"answer_id":77235969,"question_id":77227701,"body_markdown":"    package io.weaviate;\r\n\r\n    import io.weaviate.client.Config;\r\n    import io.weaviate.client.WeaviateClient;\r\n    import io.weaviate.client.base.Result;\r\n    import io.weaviate.client.v1.graphql.model.GraphQLResponse;\r\n    import io.weaviate.client.v1.graphql.query.argument.NearTextArgument;\r\n    import io.weaviate.client.v1.graphql.query.fields.Field;\r\n\r\n    public class App {\r\n      public static void main(String[] args) {\r\n      Config config = new Config(&quot;http&quot;, &quot;localhost:8080&quot;);\r\n      WeaviateClient client = new WeaviateClient(config);\r\n\r\n      Field title = Field.builder().name(&quot;title&quot;).build();\r\n      Field _additional = Field.builder().name(&quot;_additional&quot;).fields(new Field[]{\r\n        Field.builder().name(&quot;id&quot;).build(),\r\n        Field.builder().name(&quot;distance&quot;).build()\r\n      }).build();\r\n\r\n    NearTextArgument explore = client.graphQL().arguments().nearTextArgBuilder()\r\n      .concepts(new String[]{ &quot;fashion&quot; })\r\n      .build();\r\n\r\n    Result&lt;GraphQLResponse&gt; result = client.graphQL().get()\r\n      .withClassName(&quot;Article&quot;)\r\n      .withFields(title, _additional)\r\n      .withNearText(explore)\r\n      .run();\r\n    if (result.hasErrors()) {\r\n      System.out.println(result.getError());\r\n      return;\r\n    }\r\n    System.out.println(result.getResult());  }   }\r\n\r\nfound the solution from their documentation","title":"How to retrieve the id of a object in weaviate java Client","body":"<pre><code>package io.weaviate;\n\nimport io.weaviate.client.Config;\nimport io.weaviate.client.WeaviateClient;\nimport io.weaviate.client.base.Result;\nimport io.weaviate.client.v1.graphql.model.GraphQLResponse;\nimport io.weaviate.client.v1.graphql.query.argument.NearTextArgument;\nimport io.weaviate.client.v1.graphql.query.fields.Field;\n\npublic class App {\n  public static void main(String[] args) {\n  Config config = new Config(&quot;http&quot;, &quot;localhost:8080&quot;);\n  WeaviateClient client = new WeaviateClient(config);\n\n  Field title = Field.builder().name(&quot;title&quot;).build();\n  Field _additional = Field.builder().name(&quot;_additional&quot;).fields(new Field[]{\n    Field.builder().name(&quot;id&quot;).build(),\n    Field.builder().name(&quot;distance&quot;).build()\n  }).build();\n\nNearTextArgument explore = client.graphQL().arguments().nearTextArgBuilder()\n  .concepts(new String[]{ &quot;fashion&quot; })\n  .build();\n\nResult&lt;GraphQLResponse&gt; result = client.graphQL().get()\n  .withClassName(&quot;Article&quot;)\n  .withFields(title, _additional)\n  .withNearText(explore)\n  .run();\nif (result.hasErrors()) {\n  System.out.println(result.getError());\n  return;\n}\nSystem.out.println(result.getResult());  }   }\n</code></pre>\n<p>found the solution from their documentation</p>\n"}],"owner":{"account_id":28074101,"reputation":101,"user_id":21446253,"display_name":"Chethana Wickramaarachchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77235969,"answer_count":1,"score":0,"last_activity_date":1696499013,"creation_date":1696405629,"question_id":77227701,"body_markdown":"i want to update an existing object in weaviate db. I find the object using neartext or using where filter, But i need object id to update, Any suggestion to do that, In python using  **_additional(id)**, id property can be retrieved.","title":"How to retrieve the id of a object in weaviate java Client","body":"<p>i want to update an existing object in weaviate db. I find the object using neartext or using where filter, But i need object id to update, Any suggestion to do that, In python using  <strong>_additional(id)</strong>, id property can be retrieved.</p>\n"},{"tags":["java","byte-buddy"],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696498895,"creation_date":1696498895,"question_id":77235946,"body_markdown":"I have Byte Buddy library in one ClassLoader and I&#39;m trying to hot swap a class from a neighbor ClassLoader where Byte Buddy is unavailable, but many other unique classes are present. I created an interceptor annotated with Byte Buddy annotations and using these unique classes and configured my java project to have both dependencies on compile path and it compiles.\r\n\r\nHowever, when I try to instantiate a Byte Buddy Advice using this interceptor it naturally fails with `NoClassDefFoundError` because the class object I&#39;m passing belongs to either BB&#39;s classloader or the neighbor classloader and either the BB annotations or the unique classes aren&#39;t there.\r\n\r\nHow to circumvent this? Will `MultipleParentClassLoader` help? Is it possible to create an unannotated interceptor?\r\n\r\n```\r\npublic class OverrideWriteAccessInterceptor {\r\n    private OverrideWriteAccessInterceptor() {\r\n        //\r\n    }\r\n\r\n    // @Advice. is a  BB class\r\n    @Advice.OnMethodEnter\r\n    static void inlinedEnterOverrideWriteAccess(\r\n            // ObjectMember is a unique class\r\n            @Advice.This final ObjectMember _this) {\r\n        ...\r\n    }\r\n}\r\n...\r\nMethod mtdOverrideWriteAccess = ...;\r\nClass&lt;?&gt; interceptorClass = OverrideWriteAccessInterceptor.class;\r\n\r\nfinal ForDeclaredMethods visitorWrapper =\r\n    new AsmVisitorWrapper.ForDeclaredMethods()\r\n        .method(\r\n            ElementMatchers.anyOf(mtdOverrideWriteAccess),\r\n            Advice.to(interceptorClass)); // NoClassDefFoundError ObjectMember at getDeclaredMethods\r\n\r\nfinal Class&lt;?&gt; declaringClass = mtdOverrideWriteAccess.getDeclaringClass();\r\n\r\nnew ByteBuddy()\r\n    .redefine(declaringClass)\r\n    .visit(visitorWrapper)\r\n    .make()\r\n    .load(declaringClass.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\r\n\r\n```","title":"Byte Buddy can&#39;t load my Interceptor class because it depends on classes from another ClassLoader","body":"<p>I have Byte Buddy library in one ClassLoader and I'm trying to hot swap a class from a neighbor ClassLoader where Byte Buddy is unavailable, but many other unique classes are present. I created an interceptor annotated with Byte Buddy annotations and using these unique classes and configured my java project to have both dependencies on compile path and it compiles.</p>\n<p>However, when I try to instantiate a Byte Buddy Advice using this interceptor it naturally fails with <code>NoClassDefFoundError</code> because the class object I'm passing belongs to either BB's classloader or the neighbor classloader and either the BB annotations or the unique classes aren't there.</p>\n<p>How to circumvent this? Will <code>MultipleParentClassLoader</code> help? Is it possible to create an unannotated interceptor?</p>\n<pre><code>public class OverrideWriteAccessInterceptor {\n    private OverrideWriteAccessInterceptor() {\n        //\n    }\n\n    // @Advice. is a  BB class\n    @Advice.OnMethodEnter\n    static void inlinedEnterOverrideWriteAccess(\n            // ObjectMember is a unique class\n            @Advice.This final ObjectMember _this) {\n        ...\n    }\n}\n...\nMethod mtdOverrideWriteAccess = ...;\nClass&lt;?&gt; interceptorClass = OverrideWriteAccessInterceptor.class;\n\nfinal ForDeclaredMethods visitorWrapper =\n    new AsmVisitorWrapper.ForDeclaredMethods()\n        .method(\n            ElementMatchers.anyOf(mtdOverrideWriteAccess),\n            Advice.to(interceptorClass)); // NoClassDefFoundError ObjectMember at getDeclaredMethods\n\nfinal Class&lt;?&gt; declaringClass = mtdOverrideWriteAccess.getDeclaringClass();\n\nnew ByteBuddy()\n    .redefine(declaringClass)\n    .visit(visitorWrapper)\n    .make()\n    .load(declaringClass.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\n\n</code></pre>\n"},{"tags":["java","oop","arraylist","types","constructor"],"answers":[{"tags":[],"owner":{"account_id":16067990,"reputation":11,"user_id":11597115,"display_name":"Jason Liadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696402224,"creation_date":1696402224,"answer_id":77227359,"question_id":77227269,"body_markdown":"You can use Java Generics to specify the data type for the ArrayList in your **Box** class\r\n\r\n    public class Box&lt;T&gt; {\r\n        private ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n\r\n        // Add an item to the box\r\n        public void addItem(T item) {\r\n            // You can add validation here to check the instance of the data type you want\r\n            items.add(item);\r\n        }\r\n\r\n        public ArrayList&lt;T&gt; getItems() {\r\n            return items;\r\n        }\r\n    }\r\n","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>You can use Java Generics to specify the data type for the ArrayList in your <strong>Box</strong> class</p>\n<pre><code>public class Box&lt;T&gt; {\n    private ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\n\n    // Add an item to the box\n    public void addItem(T item) {\n        // You can add validation here to check the instance of the data type you want\n        items.add(item);\n    }\n\n    public ArrayList&lt;T&gt; getItems() {\n        return items;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29593516,"reputation":3,"user_id":22680511,"display_name":"swat0k"},"score":1,"creation_date":1696449444,"post_id":77227365,"comment_id":136156060,"body_markdown":"I think you forget\n    `this.validator = validator;`\nat Box constructor. Anyway your answer was very helpful, thank you very much","body":"I think you forget     <code>this.validator = validator;</code> at Box constructor. Anyway your answer was very helpful, thank you very much"}],"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696483640,"creation_date":1696402280,"answer_id":77227365,"question_id":77227269,"body_markdown":"You can use generics in your code to use specific classes.\r\nFor example\r\n\r\n```java\r\nclass Box&lt;T&gt; {\r\n\r\n    String boxName;\r\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n\r\n    Box(String boxName) {\r\n        this.boxName = boxName;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        this.items.add(item);\r\n    }\r\n\r\n    public List&lt;T&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, you can add a new `Predicate` field in a class to use validation. \r\nFor example\r\n\r\n```java\r\nclass Box&lt;T&gt; {\r\n\r\n    String boxName;\r\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n    Predicate&lt;T&gt; validator;\r\n\r\n    Box(String boxName, Predicate&lt;T&gt; validator) {\r\n        this.boxName = boxName;\r\n        this.validator = validator;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        if (validator.test(item)) {\r\n            this.items.add(item);\r\n        } else {\r\n            // do nothing, throw exception, depends on your needs\r\n        }\r\n    }\r\n\r\n    public List&lt;T&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n```\r\n\r\nThen you can create your class like this\r\n\r\n```java\r\nvar box1 = new Box&lt;Integer&gt;(&quot;integerBox&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\r\n```\r\n\r\nThen, when you try to add elements, for the wrong class, you take a compilation error, Java cannot support that purpose, because there is [strongly typed language](https://en.wikipedia.org/wiki/Strong_and_weak_typing)\r\n\r\n```java\r\nbox1.addItem(5); \r\nbox1.addItem(3.14); // compilation error\r\nbox1.addItem(&quot;String&quot;); // compilation error\r\n```","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>You can use generics in your code to use specific classes.\nFor example</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Box&lt;T&gt; {\n\n    String boxName;\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\n\n    Box(String boxName) {\n        this.boxName = boxName;\n    }\n\n    public void addItem (T item) {\n        this.items.add(item);\n    }\n\n    public List&lt;T&gt; getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n<p>Additionally, you can add a new <code>Predicate</code> field in a class to use validation.\nFor example</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Box&lt;T&gt; {\n\n    String boxName;\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\n    Predicate&lt;T&gt; validator;\n\n    Box(String boxName, Predicate&lt;T&gt; validator) {\n        this.boxName = boxName;\n        this.validator = validator;\n    }\n\n    public void addItem (T item) {\n        if (validator.test(item)) {\n            this.items.add(item);\n        } else {\n            // do nothing, throw exception, depends on your needs\n        }\n    }\n\n    public List&lt;T&gt; getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n<p>Then you can create your class like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>var box1 = new Box&lt;Integer&gt;(&quot;integerBox&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\n</code></pre>\n<p>Then, when you try to add elements, for the wrong class, you take a compilation error, Java cannot support that purpose, because there is <a href=\"https://en.wikipedia.org/wiki/Strong_and_weak_typing\" rel=\"nofollow noreferrer\">strongly typed language</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>box1.addItem(5); \nbox1.addItem(3.14); // compilation error\nbox1.addItem(&quot;String&quot;); // compilation error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696403643,"creation_date":1696403643,"answer_id":77227506,"question_id":77227269,"body_markdown":"As others pointed out, you can use generic type in Java. You can learn more about it [here](https://docs.oracle.com/javase/tutorial/java/generics/types.html)\r\n\r\n\r\nFor valid values, you can also keep a set of valid values inside your box class that you would pass in the constructor if you don&#39;t want to use predicate.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Set&lt;Integer&gt; validVals = new HashSet&lt;&gt;();\r\n        for (int i = 1; i &lt;= 10; i++) {\r\n            validVals.add(i);\r\n        }\r\n        Box&lt;Integer&gt; box1 = new Box&lt;&gt;(&quot;box1&quot;, validVals);\r\n        box1.addItem(5);\r\n        System.out.println(box1.getItems());\r\n        // 20 won&#39;t be inserted\r\n        box1.addItem(20);\r\n        System.out.println(box1.getItems());\r\n    }\r\n}\r\n\r\nclass Box&lt;T&gt; {\r\n    String boxName;\r\n    ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n    Set&lt;T&gt; validValues = new HashSet&lt;&gt;();\r\n\r\n    Box(String boxName, Set&lt;T&gt; validValues) {\r\n        this.boxName = boxName;\r\n        this.validValues = validValues;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        if (validValues.contains(item)) {\r\n            this.items.add(item);\r\n        }\r\n    }\r\n\r\n    public ArrayList&lt;T&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n```\r\n","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>As others pointed out, you can use generic type in Java. You can learn more about it <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>For valid values, you can also keep a set of valid values inside your box class that you would pass in the constructor if you don't want to use predicate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Main {\n    public static void main(String[] args) {\n        Set&lt;Integer&gt; validVals = new HashSet&lt;&gt;();\n        for (int i = 1; i &lt;= 10; i++) {\n            validVals.add(i);\n        }\n        Box&lt;Integer&gt; box1 = new Box&lt;&gt;(&quot;box1&quot;, validVals);\n        box1.addItem(5);\n        System.out.println(box1.getItems());\n        // 20 won't be inserted\n        box1.addItem(20);\n        System.out.println(box1.getItems());\n    }\n}\n\nclass Box&lt;T&gt; {\n    String boxName;\n    ArrayList&lt;T&gt; items = new ArrayList&lt;&gt;();\n    Set&lt;T&gt; validValues = new HashSet&lt;&gt;();\n\n    Box(String boxName, Set&lt;T&gt; validValues) {\n        this.boxName = boxName;\n        this.validValues = validValues;\n    }\n\n    public void addItem (T item) {\n        if (validValues.contains(item)) {\n            this.items.add(item);\n        }\n    }\n\n    public ArrayList&lt;T&gt; getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29594110,"reputation":60,"user_id":22680961,"display_name":"Akshit Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696498659,"creation_date":1696498659,"answer_id":77235918,"question_id":77227269,"body_markdown":"You can create a Generic Class, with the Predicate field to add validations while adding items in the Box Class.\r\n\r\n   \r\n\r\n    class Box&lt;T&gt; {\r\n    String boxName;\r\n    List&lt;T&gt; boxItems = new ArrayList&lt;&gt;();\r\n    Predicate&lt;T&gt; validator;\r\n\r\n    Box(String boxName, Predicate&lt;T&gt; validator) {\r\n        this.boxName = boxName;\r\n        this.validator = validator;\r\n    }\r\n\r\n    public void addItem (T item) {\r\n        if (validator.test(item)) {\r\n            this.boxItems.add(item);\r\n        }\r\n    }\r\n\r\n    public List&lt;T&gt; getBoxItems() {\r\n        return this.boxItems;\r\n    }}\r\n\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Box&lt;Integer&gt; boxA = new Box&lt;Integer&gt;(&quot;integer&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\r\n        boxA.addItem(1);\r\n        System.out.println(boxA.getBoxItems());\r\n\r\n        Box&lt;Double&gt; boxB = new Box&lt;Double&gt;(&quot;double&quot;, item -&gt; item &gt;=-50.5 &amp;&amp; item&lt;=50.5);\r\n        boxB.addItem(49.3);\r\n        System.out.println(boxB.getBoxItems());\r\n    }\r\n\r\n}","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>You can create a Generic Class, with the Predicate field to add validations while adding items in the Box Class.</p>\n<pre><code>class Box&lt;T&gt; {\nString boxName;\nList&lt;T&gt; boxItems = new ArrayList&lt;&gt;();\nPredicate&lt;T&gt; validator;\n\nBox(String boxName, Predicate&lt;T&gt; validator) {\n    this.boxName = boxName;\n    this.validator = validator;\n}\n\npublic void addItem (T item) {\n    if (validator.test(item)) {\n        this.boxItems.add(item);\n    }\n}\n\npublic List&lt;T&gt; getBoxItems() {\n    return this.boxItems;\n}}\n\n\npublic class Main {\npublic static void main(String[] args) {\n    Box&lt;Integer&gt; boxA = new Box&lt;Integer&gt;(&quot;integer&quot;, item -&gt; item &gt;= 0 &amp;&amp; item &lt;= 10);\n    boxA.addItem(1);\n    System.out.println(boxA.getBoxItems());\n\n    Box&lt;Double&gt; boxB = new Box&lt;Double&gt;(&quot;double&quot;, item -&gt; item &gt;=-50.5 &amp;&amp; item&lt;=50.5);\n    boxB.addItem(49.3);\n    System.out.println(boxB.getBoxItems());\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29593516,"reputation":3,"user_id":22680511,"display_name":"swat0k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77227365,"answer_count":4,"score":0,"last_activity_date":1696498659,"creation_date":1696401164,"question_id":77227269,"body_markdown":"I have a Box class object that contains an ArrayList. How can I make it possible to set the data type for this ArrayList when creating the box1 object? For example, only Double from -50.0 to 50.0 for box1 or only Integer from 0 to 10 for box2 or certain Strings for box3.\r\n\r\n    import java.util.ArrayList;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Box box1 = new Box(&quot;box1&quot;);\r\n            box1.addItem(5);\r\n            box1.addItem(3.14);\r\n            box1.addItem(&quot;String&quot;);\r\n            System.out.println(box1.getItems());\r\n        }\r\n    }\r\n\r\n    class Box {\r\n        String boxName;\r\n        ArrayList&lt;Object&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n        Box(String boxName) {\r\n        this.boxName = boxName;\r\n        }\r\n    \r\n        public void addItem (Object item) {\r\n            this.items.add(item);\r\n        }\r\n    \r\n        public ArrayList getItems() {\r\n            return this.items;\r\n        }\r\n    }\r\n\r\nI set the ArrayList to an Object data type, but that&#39;s not quite right. It is necessary that each object of the Box class have an ArrayList with an individual data type and a list of valid values.","title":"How to set the data type for an ArrayList during the creation of the object in which it is used","body":"<p>I have a Box class object that contains an ArrayList. How can I make it possible to set the data type for this ArrayList when creating the box1 object? For example, only Double from -50.0 to 50.0 for box1 or only Integer from 0 to 10 for box2 or certain Strings for box3.</p>\n<pre><code>import java.util.ArrayList;\npublic class Main {\n    public static void main(String[] args) {\n        Box box1 = new Box(&quot;box1&quot;);\n        box1.addItem(5);\n        box1.addItem(3.14);\n        box1.addItem(&quot;String&quot;);\n        System.out.println(box1.getItems());\n    }\n}\n\nclass Box {\n    String boxName;\n    ArrayList&lt;Object&gt; items = new ArrayList&lt;&gt;();\n\n    Box(String boxName) {\n    this.boxName = boxName;\n    }\n\n    public void addItem (Object item) {\n        this.items.add(item);\n    }\n\n    public ArrayList getItems() {\n        return this.items;\n    }\n}\n</code></pre>\n<p>I set the ArrayList to an Object data type, but that's not quite right. It is necessary that each object of the Box class have an ArrayList with an individual data type and a list of valid values.</p>\n"},{"tags":["java","spring","cxf","jboss-eap-6"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1466434129,"post_id":37925396,"comment_id":63301461,"body_markdown":"`NoClassDefFoundError` means that a class cannot be found on the classpath. In your case it probably means that you are trying to run code with a different version of a library than that you compiled it with. Make sure you have the same versions of libraries when compiling and running.","body":"<code>NoClassDefFoundError</code> means that a class cannot be found on the classpath. In your case it probably means that you are trying to run code with a different version of a library than that you compiled it with. Make sure you have the same versions of libraries when compiling and running."},{"owner":{"account_id":6390609,"reputation":71,"user_id":4956918,"display_name":"tiitrfma"},"score":0,"creation_date":1466434341,"post_id":37925396,"comment_id":63301599,"body_markdown":"Thanks for reply Jesper. I have put maven scope as compile for spring related dependecy so my ear is having same jars.","body":"Thanks for reply Jesper. I have put maven scope as compile for spring related dependecy so my ear is having same jars."},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1466434955,"post_id":37925396,"comment_id":63302061,"body_markdown":"I guess it&#39;s classloader issues.. did you check if there are cxf classes loaded twice? Once by your App and once by AS?","body":"I guess it&#39;s classloader issues.. did you check if there are cxf classes loaded twice? Once by your App and once by AS?"},{"owner":{"account_id":6390609,"reputation":71,"user_id":4956918,"display_name":"tiitrfma"},"score":0,"creation_date":1466438153,"post_id":37925396,"comment_id":63304301,"body_markdown":"i can find that org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder.class is present in cxf-rt-ws-policy-2.7.14.redhat-1.jar which is provided by jboss and if application is not able to find it then it must be only app jars which is loading it. /app/jboss-eap-6.4/modules/system/layers/base/org/apache/cxf/impl/main/cxf-rt-ws-policy-2.7.14.redhat-1.jar","body":"i can find that org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder.c&zwnj;&#8203;lass is present in cxf-rt-ws-policy-2.7.14.redhat-1.jar which is provided by jboss and if application is not able to find it then it must be only app jars which is loading it. /app/jboss-eap-6.4/modules/system/layers/base/org/apache/cxf&zwnj;&#8203;/impl/main/cxf-rt-ws&zwnj;&#8203;-policy-2.7.14.redha&zwnj;&#8203;t-1.jar"}],"answers":[{"tags":[],"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508162782,"creation_date":1508162782,"answer_id":46772297,"question_id":37925396,"body_markdown":"I had to add this following dependencies to my pom to avoid that error:\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-wsdl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder","body":"<p>I had to add this following dependencies to my pom to avoid that error:</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-wsdl&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19371311,"reputation":11,"user_id":14164553,"display_name":"Srikant Upadhyay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696498267,"creation_date":1696498267,"answer_id":77235870,"question_id":37925396,"body_markdown":"I added this dependency and it worked for me.\r\n\r\n    &lt;dependency&gt;                                          \r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder","body":"<p>I added this dependency and it worked for me.</p>\n<pre><code>&lt;dependency&gt;                                          \n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-ws-policy&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6390609,"reputation":71,"user_id":4956918,"display_name":"tiitrfma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11726,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696498267,"creation_date":1466433834,"question_id":37925396,"body_markdown":"    \r\n    I am migrating my application from jboss-eap-5.1 to jboss-eap-6.4.0. My application is using spring 3.1.1 related jar and apache-cxf-2.7.7 jars. \r\n    \r\n    Ear file structure is as below \r\n    EAR/lib - contains all the jar which is common for wars.\r\n    app1.war/lib - contains jars required for it\r\n    app2.war/lib - contains jars required for it\r\n    \r\n  \r\n    I have also excluded modules for webservice, org.jboss.as.jaxrs &amp; ejb3 from  standalong.xml config file.  \r\n    \r\n    \r\n    Spring jars :\r\n    spring-orm-3.1.1.RELEASE.jar\r\n    spring-aop-3.1.1.RELEASE.jar                spring-oxm-3.2.4.RELEASE.jar\r\n    spring-asm-3.1.1.RELEASE.jar                spring-test-3.2.4.RELEASE.jar\r\n    spring-beans-3.1.1.RELEASE.jar              spring-tx-3.1.1.RELEASE.jar\r\n    spring-context-3.1.1.RELEASE.jar            spring-web-3.2.4.RELEASE.jar\r\n    spring-core-3.1.1.RELEASE.jar               spring-webmvc-3.2.4.RELEASE.jar\r\n    spring-data-commons-core-1.1.0.RELEASE.jar  spring-ws-core-2.1.4.RELEASE.jar\r\n    spring-data-jpa-1.0.3.RELEASE.jar           spring-ws-test-2.1.4.RELEASE.jar\r\n    spring-expression-3.1.1.RELEASE.jar         spring-xml-2.1.4.RELEASE.jar\r\n    \r\n    javaw.ws.rs jar containes below jar\r\n    javax.ws.rs-api-2.0-m10.jar\r\n    \r\n    apache-cfx-jars packaged in ear/lib are \r\n    cxf-api-2.7.7.jar                     cxf-rt-frontend-jaxrs-2.7.7.jar\r\n    cxf-rt-bindings-soap-2.7.7.jar        cxf-rt-frontend-jaxws-2.7.7.jar\r\n    cxf-rt-bindings-xml-2.7.7.jar         cxf-rt-frontend-simple-2.7.7.jar\r\n    cxf-rt-core-2.7.7.jar                 cxf-rt-transports-http-2.7.7.jar\r\n    cxf-rt-databinding-jaxb-2.7.7.jar     cxf-rt-transports-local-2.7.7.jar\r\n    cxf-rt-features-clustering-2.7.7.jar\r\n    \r\n    \r\n    now when i deploy , i am getting below error. I am not sure how to resolve this error as  below\r\n    7:33:07,784 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-6-thread-2) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n07:33:07,785 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-5-thread-1) JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n07:33:07,790 INFO  [org.springframework.beans.factory.support.DefaultListableBeanFactory] (pool-6-thread-2) Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@75b6f75e: defining beans [cxf,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,servletContextReaderComponent,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,signatureAlgorithm,serviceAuthManager,authServiceProvider,soaErrorBundle,soaErrorMapper,soaExceptionHandler,soaClientPolicyEvaluator,com.walmart.platform.soa.client.listener.SOAClientLifeCycleListener#0,clientHeaderOutInterceptor,clientLoggingOutInterceptor,clientHeaderInInterceptor,clientLoggingInInterceptor,serviceAuthOutInterceptor,clientPolicyOutInterceptor,clientPolicyInInterceptor,cxf.config2,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\r\n@                                                         \r\n     \r\n07:33:08,015 ERROR [stderr] (Thread-147) 2016-06-20 07:33:08.014 WARN net.spy.memcached.auth.AuthThread:  Authentication failed to /172.16.113.154:11210, Status: {OperationStatus success=false:  Invalid arguments}\r\n07:33:08,026 WARN  [org.jboss.modules] (pool-6-thread-2) Failed to define class org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder in Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader: java.lang.LinkageError: Failed to link org/apache/cxf/transport/http/policy/HTTPServerAssertionBuilder (Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader)\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:487) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1\r\n    \r\n    When i check errors closely it is failing due to below class not found exception .\r\n\t\r\n\t]\r\n        at com.walmartlabs.services.util.base.LabsCallable.call(LabsCallable.java:31) [labs-ims-1.0.jar:]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\r\n        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder\r\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\r\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        ... 148 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.builder.jaxb.JaxbAssertionBuilder from [Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader]\r\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.\r\n\t\t\r\n\t\t*********************************************8\r\n    \r\n          at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\r\n        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/AbstractPolicyInterceptorProvider\r\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\r\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        ... 148 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.AbstractPolicyInterceptorProvider from [Module &quot;deployment.smcfs.ear:main&quot; from Service Module Loader]\r\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n        a\r\n\r\n\t\t************************************\r\n  \r\n  \r\n  Any suggestion how to overcome this problem\r\n    \r\n    Thanks","title":"Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder","body":"<pre><code>I am migrating my application from jboss-eap-5.1 to jboss-eap-6.4.0. My application is using spring 3.1.1 related jar and apache-cxf-2.7.7 jars. \n\nEar file structure is as below \nEAR/lib - contains all the jar which is common for wars.\napp1.war/lib - contains jars required for it\napp2.war/lib - contains jars required for it\n\n\nI have also excluded modules for webservice, org.jboss.as.jaxrs &amp; ejb3 from  standalong.xml config file.  \n\n\nSpring jars :\nspring-orm-3.1.1.RELEASE.jar\nspring-aop-3.1.1.RELEASE.jar                spring-oxm-3.2.4.RELEASE.jar\nspring-asm-3.1.1.RELEASE.jar                spring-test-3.2.4.RELEASE.jar\nspring-beans-3.1.1.RELEASE.jar              spring-tx-3.1.1.RELEASE.jar\nspring-context-3.1.1.RELEASE.jar            spring-web-3.2.4.RELEASE.jar\nspring-core-3.1.1.RELEASE.jar               spring-webmvc-3.2.4.RELEASE.jar\nspring-data-commons-core-1.1.0.RELEASE.jar  spring-ws-core-2.1.4.RELEASE.jar\nspring-data-jpa-1.0.3.RELEASE.jar           spring-ws-test-2.1.4.RELEASE.jar\nspring-expression-3.1.1.RELEASE.jar         spring-xml-2.1.4.RELEASE.jar\n\njavaw.ws.rs jar containes below jar\njavax.ws.rs-api-2.0-m10.jar\n\napache-cfx-jars packaged in ear/lib are \ncxf-api-2.7.7.jar                     cxf-rt-frontend-jaxrs-2.7.7.jar\ncxf-rt-bindings-soap-2.7.7.jar        cxf-rt-frontend-jaxws-2.7.7.jar\ncxf-rt-bindings-xml-2.7.7.jar         cxf-rt-frontend-simple-2.7.7.jar\ncxf-rt-core-2.7.7.jar                 cxf-rt-transports-http-2.7.7.jar\ncxf-rt-databinding-jaxb-2.7.7.jar     cxf-rt-transports-local-2.7.7.jar\ncxf-rt-features-clustering-2.7.7.jar\n\n\nnow when i deploy , i am getting below error. I am not sure how to resolve this error as  below\n7:33:07,784 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-6-thread-2) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n</code></pre>\n\n<p>07:33:07,785 INFO  [org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor] (pool-5-thread-1) JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n07:33:07,790 INFO  [org.springframework.beans.factory.support.DefaultListableBeanFactory] (pool-6-thread-2) Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@75b6f75e: defining beans [cxf,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,servletContextReaderComponent,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,signatureAlgorithm,serviceAuthManager,authServiceProvider,soaErrorBundle,soaErrorMapper,soaExceptionHandler,soaClientPolicyEvaluator,com.walmart.platform.soa.client.listener.SOAClientLifeCycleListener#0,clientHeaderOutInterceptor,clientLoggingOutInterceptor,clientHeaderInInterceptor,clientLoggingInInterceptor,serviceAuthOutInterceptor,clientPolicyOutInterceptor,clientPolicyInInterceptor,cxf.config2,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\n@                                                         </p>\n\n<p>07:33:08,015 ERROR [stderr] (Thread-147) 2016-06-20 07:33:08.014 WARN net.spy.memcached.auth.AuthThread:  Authentication failed to /172.16.113.154:11210, Status: {OperationStatus success=false:  Invalid arguments}\n07:33:08,026 WARN  [org.jboss.modules] (pool-6-thread-2) Failed to define class org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder in Module \"deployment.smcfs.ear:main\" from Service Module Loader: java.lang.LinkageError: Failed to link org/apache/cxf/transport/http/policy/HTTPServerAssertionBuilder (Module \"deployment.smcfs.ear:main\" from Service Module Loader)\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:487) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1</p>\n\n<pre><code>When i check errors closely it is failing due to below class not found exception .\n\n]\n    at com.walmartlabs.services.util.base.LabsCallable.call(LabsCallable.java:31) [labs-ims-1.0.jar:]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\n</code></pre>\n\n<p>Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/builder/jaxb/JaxbAssertionBuilder\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        ... 148 more\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.builder.jaxb.JaxbAssertionBuilder from [Module \"deployment.smcfs.ear:main\" from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.</p>\n\n<pre><code>    *********************************************8\n\n      at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]\n</code></pre>\n\n<p>Caused by: java.lang.NoClassDefFoundError: org/apache/cxf/ws/policy/AbstractPolicyInterceptorProvider\n        at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_51]\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:760) [rt.jar:1.8.0_51]\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        ... 148 more\nCaused by: java.lang.ClassNotFoundException: org.apache.cxf.ws.policy.AbstractPolicyInterceptorProvider from [Module \"deployment.smcfs.ear:main\" from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.6.Final-redhat-1]\n        a</p>\n\n<pre><code>    ************************************\n</code></pre>\n\n<p>Any suggestion how to overcome this problem</p>\n\n<pre><code>Thanks\n</code></pre>\n"},{"tags":["java","rest","annotations","swagger"],"answers":[{"comments":[{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1694773951,"post_id":77105331,"comment_id":135938574,"body_markdown":"I am getting same error. `{\n  &quot;actionStatus&quot;: 400,\n  &quot;message&quot;: &quot;Missing Required Field(s).&quot;\n}`","body":"I am getting same error. <code>{   &quot;actionStatus&quot;: 400,   &quot;message&quot;: &quot;Missing Required Field(s).&quot; }</code>"}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694697749,"creation_date":1694697749,"answer_id":77105331,"question_id":77103473,"body_markdown":"\r\nThe error message you&#39;re encountering \r\n```\r\nRequired request parameter &#39;documentIds&#39; for method parameter type List is not present\r\n``` \r\nmeans that the Swagger request you are sending is not including the required `documentIds` parameter.\r\n\r\nYou need to fix your Swagger request like that\r\n```\r\n{\r\n  &quot;documentIds&quot;: [\r\n    &quot;Doc2133&quot;,\r\n    &quot;Doc2143&quot;,\r\n    &quot;Doc2153&quot;\r\n  ]\r\n}\r\n```","title":"Unable to fetch @CustomRequestParam values from swagger","body":"<p>The error message you're encountering</p>\n<pre><code>Required request parameter 'documentIds' for method parameter type List is not present\n</code></pre>\n<p>means that the Swagger request you are sending is not including the required <code>documentIds</code> parameter.</p>\n<p>You need to fix your Swagger request like that</p>\n<pre><code>{\n  &quot;documentIds&quot;: [\n    &quot;Doc2133&quot;,\n    &quot;Doc2143&quot;,\n    &quot;Doc2153&quot;\n  ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696497345,"creation_date":1696497345,"answer_id":77235750,"question_id":77103473,"body_markdown":"Instead of using `@CustomRequestParam` we can use `@Requestbody` annotation, this will copy the data into list.","title":"Unable to fetch @CustomRequestParam values from swagger","body":"<p>Instead of using <code>@CustomRequestParam</code> we can use <code>@Requestbody</code> annotation, this will copy the data into list.</p>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77235750,"answer_count":2,"score":1,"last_activity_date":1696497345,"creation_date":1694683176,"question_id":77103473,"body_markdown":"I am getting below error while running API from swagger:\r\n\r\n    2023-09-14 14:38:07.208  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Error = [Missing Required Field(s).  Please refer to the API documentation] Exception = [Required request parameter &#39;documentIds&#39; for method parameter type List is not present]\r\n    2023-09-14 14:38:07.217  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Exception\r\n    \r\n    org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;documentIds&#39; for method parameter type List is not present\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n\r\n\r\nBelow is my controller code and request data that I am passing from swagger\r\n \r\n\r\n    @RequestMapping(method = {RequestMethod.POST}, value = &quot;/updateDocumentIds&quot;, headers = &quot;Accept=application/json&quot;)\r\n        @ResponseBody\r\n        public ActionResult updateDocumentIds(@CustomRequestParam(value = &quot;documentIds&quot;,required = true) List&lt;String&gt; documentIds, @RequestParam(value = &quot;route&quot;) Boolean route) throws Exception {\r\n            ActionResult actionResult = new ActionResult();\r\n            //runs service method\r\n            return actionResult;\r\n        }\r\n\r\nswagger request\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gQtnO.png\r\n  [2]: https://i.stack.imgur.com/SiO6C.png\r\n\r\nAny help appreciated!\r\n\r\n","title":"Unable to fetch @CustomRequestParam values from swagger","body":"<p>I am getting below error while running API from swagger:</p>\n<pre><code>2023-09-14 14:38:07.208  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Error = [Missing Required Field(s).  Please refer to the API documentation] Exception = [Required request parameter 'documentIds' for method parameter type List is not present]\n2023-09-14 14:38:07.217  WARN 45800 --- [nio-8080-exec-4] m.w.r.a.GlobalControllerExceptionHandler : Exception\n\norg.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'documentIds' for method parameter type List is not present\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.27.jar:5.3.27]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.27.jar:5.3.27]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.27.jar:5.3.27]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]\n</code></pre>\n<p>Below is my controller code and request data that I am passing from swagger</p>\n<pre><code>@RequestMapping(method = {RequestMethod.POST}, value = &quot;/updateDocumentIds&quot;, headers = &quot;Accept=application/json&quot;)\n    @ResponseBody\n    public ActionResult updateDocumentIds(@CustomRequestParam(value = &quot;documentIds&quot;,required = true) List&lt;String&gt; documentIds, @RequestParam(value = &quot;route&quot;) Boolean route) throws Exception {\n        ActionResult actionResult = new ActionResult();\n        //runs service method\n        return actionResult;\n    }\n</code></pre>\n<p>swagger request</p>\n<p><a href=\"https://i.stack.imgur.com/gQtnO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQtnO.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SiO6C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SiO6C.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help appreciated!</p>\n"},{"tags":["javascript","java","reactjs"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696574856,"post_id":77235738,"comment_id":136173161,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29603279,"reputation":1,"user_id":22688222,"display_name":"Jhonathan Afrizal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696497150,"creation_date":1696497150,"question_id":77235738,"body_markdown":"I&#39;m facing a problem about connecting my React Native apps into Omron Device (HBF-702T-AP). They also give me sample app using java language and Library using .aar extension, but I don&#39;t know all about java and now I need to translate it into javascript function so I can use it in my application. Looking forward for somebody that possible to do this\r\n\r\n","title":"Using AAR module in Expo Bare React Native","body":"<p>I'm facing a problem about connecting my React Native apps into Omron Device (HBF-702T-AP). They also give me sample app using java language and Library using .aar extension, but I don't know all about java and now I need to translate it into javascript function so I can use it in my application. Looking forward for somebody that possible to do this</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":2,"creation_date":1507737186,"post_id":46692606,"comment_id":80332939,"body_markdown":"I had a similar problem, albeit in Eclipse. The non-ticked ones are ones that can never be reached, when the program is run. May or may not be helpful.","body":"I had a similar problem, albeit in Eclipse. The non-ticked ones are ones that can never be reached, when the program is run. May or may not be helpful."},{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":0,"creation_date":1507737358,"post_id":46692606,"comment_id":80333048,"body_markdown":"Further to above: no breakpoints had a tick, until a) I ran the application in debug mode (some were ticked), or when I ran the server in debug mode (the other ones were ticked). I then hit the un-ticked ones (which were ticked when the server was run in debug mode), using something like SoapUI to run the web service I was trying to call.","body":"Further to above: no breakpoints had a tick, until a) I ran the application in debug mode (some were ticked), or when I ran the server in debug mode (the other ones were ticked). I then hit the un-ticked ones (which were ticked when the server was run in debug mode), using something like SoapUI to run the web service I was trying to call."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1507737603,"post_id":46692606,"comment_id":80333193,"body_markdown":"You may get some clues by checking the Java Debugger logs, see https://intellij-support.jetbrains.com/hc/en-us/articles/207241125.","body":"You may get some clues by checking the Java Debugger logs, see <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241125\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/207241125</a>."},{"owner":{"account_id":187257,"reputation":13472,"user_id":425183,"accept_rate":55,"display_name":"Ognyan"},"score":0,"creation_date":1548485719,"post_id":46692606,"comment_id":95566552,"body_markdown":"I am facing the same problem with Android Studio 3.3 and it makes me crazy. Did you found the root cause of the problem @Pablo?","body":"I am facing the same problem with Android Studio 3.3 and it makes me crazy. Did you found the root cause of the problem @Pablo?"},{"owner":{"account_id":4482164,"reputation":6674,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"score":0,"creation_date":1548524925,"post_id":46692606,"comment_id":95575301,"body_markdown":"@Ognyan yes, check the answer given by Kedar","body":"@Ognyan yes, check the answer given by Kedar"},{"owner":{"account_id":187257,"reputation":13472,"user_id":425183,"accept_rate":55,"display_name":"Ognyan"},"score":0,"creation_date":1548568535,"post_id":46692606,"comment_id":95583398,"body_markdown":"Kedar&#39;s answer was not helpful about the root cause...","body":"Kedar&#39;s answer was not helpful about the root cause..."},{"owner":{"account_id":4482164,"reputation":6674,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"score":1,"creation_date":1548569772,"post_id":46692606,"comment_id":95583591,"body_markdown":"@Ognyan well for me it was basically what he said. I was setting a breakpoint to a class that wasnt the correct one.","body":"@Ognyan well for me it was basically what he said. I was setting a breakpoint to a class that wasnt the correct one."}],"answers":[{"comments":[{"owner":{"account_id":111208,"reputation":1645,"user_id":293918,"accept_rate":100,"display_name":"Alberto M"},"score":1,"creation_date":1533044471,"post_id":46693200,"comment_id":90194868,"body_markdown":"this happens at random times. If I unset it and the re-set it, it has the tick again.","body":"this happens at random times. If I unset it and the re-set it, it has the tick again."},{"owner":{"account_id":1109019,"reputation":5328,"user_id":1099823,"accept_rate":86,"display_name":"Interlated"},"score":0,"creation_date":1548312761,"post_id":46693200,"comment_id":95497734,"body_markdown":"Probably because the edited code doesn&#39;t match the compiled code. If you debug then start editing this will happen.","body":"Probably because the edited code doesn&#39;t match the compiled code. If you debug then start editing this will happen."},{"owner":{"account_id":4980167,"reputation":691,"user_id":4005400,"accept_rate":67,"display_name":"JavaQuest"},"score":0,"creation_date":1644518230,"post_id":46693200,"comment_id":125634637,"body_markdown":"seems like in the latest version GoLand 2021.3.3 the breakpoint gets disabled when the IDE thinks the code is not reachable. Good feature to have IMO!","body":"seems like in the latest version GoLand 2021.3.3 the breakpoint gets disabled when the IDE thinks the code is not reachable. Good feature to have IMO!"},{"owner":{"account_id":9301106,"reputation":171,"user_id":6906562,"display_name":"Araz"},"score":0,"creation_date":1658091334,"post_id":46693200,"comment_id":128959113,"body_markdown":"what you are saying is not entirely right! The code gets executed I can see the Toast message but the break point gets no tick mark and no hit at run time. I usually do one or all of the following to solve: 1-restart my computer and rerun the Studio, 2- Clean and build 3- File&gt;Invalidate catches and restart","body":"what you are saying is not entirely right! The code gets executed I can see the Toast message but the break point gets no tick mark and no hit at run time. I usually do one or all of the following to solve: 1-restart my computer and rerun the Studio, 2- Clean and build 3- File&gt;Invalidate catches and restart"},{"owner":{"account_id":3326028,"reputation":115,"user_id":2796104,"display_name":"Hmbucker"},"score":0,"creation_date":1685457942,"post_id":46693200,"comment_id":134660917,"body_markdown":"For me it was just a bean creation failure which I had missed from the output","body":"For me it was just a bean creation failure which I had missed from the output"}],"tags":[],"owner":{"account_id":8468664,"reputation":531,"user_id":6352081,"display_name":"Kedar Brooks"},"comment_count":5,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1657880774,"creation_date":1507739082,"answer_id":46693200,"question_id":46692606,"body_markdown":"Did some searching through IntelliJ Help PDF:  \r\n[Help Doc][1] pg. 431\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2017.2/intellij-idea-help.pdf\r\n\r\nTheir documentation Describes the checkmark as *&quot;Shown at run-time when the breakpoint is\r\nrecognized by the debugger as set on an\r\nexecutable code line.&quot;*\r\n\r\n\r\nand the regular red dot as *&quot;Shown at design-time or during the debugging\r\nsession when the class with such breakpoint is\r\nnot yet loaded.\r\n&quot;* \r\n\r\nSo it would seem that the line you&#39;re adding the breaking point to never gets executed. You can try stepping up line by line through the class to make sure the class is not getting hung up somewhere.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>Did some searching through IntelliJ Help PDF:<br />\n<a href=\"https://www.jetbrains.com/help/idea/2017.2/intellij-idea-help.pdf\" rel=\"nofollow noreferrer\">Help Doc</a> pg. 431</p>\n<p>Their documentation Describes the checkmark as <em>&quot;Shown at run-time when the breakpoint is\nrecognized by the debugger as set on an\nexecutable code line.&quot;</em></p>\n<p>and the regular red dot as <em>&quot;Shown at design-time or during the debugging\nsession when the class with such breakpoint is\nnot yet loaded.\n&quot;</em></p>\n<p>So it would seem that the line you're adding the breaking point to never gets executed. You can try stepping up line by line through the class to make sure the class is not getting hung up somewhere.</p>\n"},{"tags":[],"owner":{"account_id":442995,"reputation":5799,"user_id":833960,"accept_rate":69,"display_name":"MattG"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1531446790,"creation_date":1531443867,"answer_id":51316367,"question_id":46692606,"body_markdown":"I get this same issue intermittently from time to time, I always run the latest version of IDEA. The break points are shown as red but without a tick inside them. Even after I rebuild or re-run in debug they do not get a tick, and they do not &quot;work&quot;, i.e., the code continues. I resolve by restarting IDEA, then restarting the debugger/debug run config.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I get this same issue intermittently from time to time, I always run the latest version of IDEA. The break points are shown as red but without a tick inside them. Even after I rebuild or re-run in debug they do not get a tick, and they do not \"work\", i.e., the code continues. I resolve by restarting IDEA, then restarting the debugger/debug run config.</p>\n"},{"tags":[],"owner":{"account_id":3222549,"reputation":565,"user_id":2719622,"accept_rate":38,"display_name":"kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550075267,"creation_date":1550075267,"answer_id":54675031,"question_id":46692606,"body_markdown":"I had the same issue in my mac, tried restarting server, machine, invalidate caches and nothing helped. Then, I noticed when the server is started in debug mode, i didnt see this message:\r\n`Connected to the target VM, address: &#39;127.0.0.1:64197&#39;, transport: &#39;socket&#39;` and I realized that there could be some problem with the server as such. \r\n\r\n**Solution:**\r\nCreated new server using command line &quot;./server create &lt;server-name&gt;&quot; and then associated this server for run configuration. Now started server in debug mode and I saw above message connected to socket port and I am able to see the tick marks on debug point.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I had the same issue in my mac, tried restarting server, machine, invalidate caches and nothing helped. Then, I noticed when the server is started in debug mode, i didnt see this message:\n<code>Connected to the target VM, address: '127.0.0.1:64197', transport: 'socket'</code> and I realized that there could be some problem with the server as such. </p>\n\n<p><strong>Solution:</strong>\nCreated new server using command line \"./server create \" and then associated this server for run configuration. Now started server in debug mode and I saw above message connected to socket port and I am able to see the tick marks on debug point.</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1552667855,"creation_date":1552667855,"answer_id":55187071,"question_id":46692606,"body_markdown":"The same happened with me on Mac machine. I followed these steps and all worked fine:\r\n\r\n1. Stop server.\r\n2. Close all intellij projects.\r\n3. Open only the specific intellij project on which my application needs to run.\r\n4. Start the server in debug mode.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>The same happened with me on Mac machine. I followed these steps and all worked fine:</p>\n\n<ol>\n<li>Stop server.</li>\n<li>Close all intellij projects.</li>\n<li>Open only the specific intellij project on which my application needs to run.</li>\n<li>Start the server in debug mode.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":355335,"reputation":1584,"user_id":694232,"accept_rate":50,"display_name":"schlingel"},"score":0,"creation_date":1563949876,"post_id":56625192,"comment_id":100865018,"body_markdown":"and where can we find this configuration?","body":"and where can we find this configuration?"},{"owner":{"account_id":9686743,"reputation":109,"user_id":7861036,"accept_rate":40,"display_name":"Abhay Maniyar"},"score":1,"creation_date":1563966374,"post_id":56625192,"comment_id":100873849,"body_markdown":"Tomcat configuration is a part of your project&#39;s pom.xml file. Search for tomcat in it and see if it matches the one I have posted above. If it doesn&#39;t match replace that with this one and see if it solves your problem. \nHope it helps :)","body":"Tomcat configuration is a part of your project&#39;s pom.xml file. Search for tomcat in it and see if it matches the one I have posted above. If it doesn&#39;t match replace that with this one and see if it solves your problem.  Hope it helps :)"}],"tags":[],"owner":{"account_id":9686743,"reputation":109,"user_id":7861036,"accept_rate":40,"display_name":"Abhay Maniyar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560749376,"creation_date":1560749376,"answer_id":56625192,"question_id":46692606,"body_markdown":"I was also facing this issue and found that my tomcat configuration was not right.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe scope tag had value as &quot;provided&quot;. Changed it to compile and it worked fine.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I was also facing this issue and found that my tomcat configuration was not right.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The scope tag had value as \"provided\". Changed it to compile and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":13125278,"reputation":1011,"user_id":9481500,"display_name":"Stypox"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590592109,"creation_date":1590592109,"answer_id":62046436,"question_id":46692606,"body_markdown":"I fixed this by manually deleting all build-related files (for some reason Rebuild did nothing) by running this command at the project&#39;s root folder. Note that it does also remove Intellij&#39;s temporary configuration files, that are usually not included in git repositories anyway. Replace MODULE with the subfolder containing the module for the project. If you are building an Android app with Android Studio the main module name is usually `app`.\r\n```bash\r\nrm -rf ./local.properties ./.gradle/ ./.idea/ ./MODULE/build/ ./MODULE/out/\r\n```\r\nThen restart Intellij with the `File -&gt; Invalidate Caches / Restart` option, wait for the build and indexing to finish, and debugging should start working again.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I fixed this by manually deleting all build-related files (for some reason Rebuild did nothing) by running this command at the project's root folder. Note that it does also remove Intellij's temporary configuration files, that are usually not included in git repositories anyway. Replace MODULE with the subfolder containing the module for the project. If you are building an Android app with Android Studio the main module name is usually <code>app</code>.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>rm -rf ./local.properties ./.gradle/ ./.idea/ ./MODULE/build/ ./MODULE/out/\n</code></pre>\n\n<p>Then restart Intellij with the <code>File -&gt; Invalidate Caches / Restart</code> option, wait for the build and indexing to finish, and debugging should start working again.</p>\n"},{"comments":[{"owner":{"account_id":18175403,"reputation":187,"user_id":13224253,"display_name":"GoldNova"},"score":1,"creation_date":1650840021,"post_id":62100874,"comment_id":127211641,"body_markdown":"Haha, same. The bug icon makes it work","body":"Haha, same. The bug icon makes it work"}],"tags":[],"owner":{"account_id":1685237,"reputation":660,"user_id":1548686,"accept_rate":62,"display_name":"Sizons"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1590833250,"creation_date":1590833250,"answer_id":62100874,"question_id":46692606,"body_markdown":"I made a n00b mistake on the IDE. Instead of hitting the debug button, I thought it would work the same as visual studio or eclipse in that I&#39;d have to use the run button, yet when I hit the debug button (That looks like an actual bug) my break-point hit just fine.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I made a n00b mistake on the IDE. Instead of hitting the debug button, I thought it would work the same as visual studio or eclipse in that I'd have to use the run button, yet when I hit the debug button (That looks like an actual bug) my break-point hit just fine.</p>\n"},{"tags":[],"owner":{"account_id":1540427,"reputation":1000,"user_id":1435238,"accept_rate":75,"display_name":"Bero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595688254,"creation_date":1595688254,"answer_id":63089689,"question_id":46692606,"body_markdown":"Android app configuration was the problem for me. I had `minifyEnabled true` in `debug` section inside `buildTypes` in `build.gradle` file. I had to change it to `minifyEnabled false`. This change forced me to set `multiDexEnabled true` as it states in this post https://stackoverflow.com/questions/51341627/android-gives-error-cannot-fit-requested-classes-in-a-single-dex-file/51341735","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>Android app configuration was the problem for me. I had <code>minifyEnabled true</code> in <code>debug</code> section inside <code>buildTypes</code> in <code>build.gradle</code> file. I had to change it to <code>minifyEnabled false</code>. This change forced me to set <code>multiDexEnabled true</code> as it states in this post <a href=\"https://stackoverflow.com/questions/51341627/android-gives-error-cannot-fit-requested-classes-in-a-single-dex-file/51341735\">Android gives error &quot;Cannot fit requested classes in a single dex file&quot;</a></p>\n"},{"tags":[],"owner":{"account_id":2661790,"reputation":757,"user_id":2301281,"accept_rate":71,"display_name":"user2301281"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598945599,"creation_date":1598945236,"answer_id":63683184,"question_id":46692606,"body_markdown":"**Rebuild** solved my problem.\r\n\r\n    clean &amp; rebuild\r\n\r\n Invalidates caches/restart if necessary \r\n\r\n","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p><strong>Rebuild</strong> solved my problem.</p>\n<pre><code>clean &amp; rebuild\n</code></pre>\n<p>Invalidates caches/restart if necessary</p>\n"},{"tags":[],"owner":{"account_id":3305753,"reputation":1,"user_id":2780618,"display_name":"Manu Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613642486,"creation_date":1613642486,"answer_id":66257598,"question_id":46692606,"body_markdown":"My issue got resolved by just updating the IntelliJ in IntelliJIdea -&gt; Check for updates..","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>My issue got resolved by just updating the IntelliJ in IntelliJIdea -&gt; Check for updates..</p>\n"},{"tags":[],"owner":{"account_id":1519017,"reputation":843,"user_id":1419261,"display_name":"user1419261"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614732830,"creation_date":1614732830,"answer_id":66449222,"question_id":46692606,"body_markdown":"All,\r\n\r\nThis could be a common bug in the Intellij IDEA debugger instead use the key short cuts\r\nlike F8 and F9  etc  during the debug steps for [ step over and run to debug next point etc..] and don&#39;t rely on the debug console buttons provided in the ide \r\n\r\n  ","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>All,</p>\n<p>This could be a common bug in the Intellij IDEA debugger instead use the key short cuts\nlike F8 and F9  etc  during the debug steps for [ step over and run to debug next point etc..] and don't rely on the debug console buttons provided in the ide</p>\n"},{"comments":[{"owner":{"account_id":9339641,"reputation":141,"user_id":6933091,"display_name":"mperez"},"score":0,"creation_date":1641825670,"post_id":70613491,"comment_id":124901019,"body_markdown":"Hello, I&#39;m having the same issue but when we upgraded from Java 8 to 11, like you, debugging with SpringBoot configuration is ok, but with maven doesn&#39;t stop in the breakpoints. Have you any news about that?","body":"Hello, I&#39;m having the same issue but when we upgraded from Java 8 to 11, like you, debugging with SpringBoot configuration is ok, but with maven doesn&#39;t stop in the breakpoints. Have you any news about that?"}],"tags":[],"owner":{"account_id":15366720,"reputation":49,"user_id":11086011,"display_name":"M ONeill"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641502356,"creation_date":1641502356,"answer_id":70613491,"question_id":46692606,"body_markdown":"For some reason we experienced this when we upgraded from java 11 to 17.  The fix was to use a SpringBoot configuration and not a maven configuration for run/debug.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For some reason we experienced this when we upgraded from java 11 to 17.  The fix was to use a SpringBoot configuration and not a maven configuration for run/debug.</p>\n"},{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1644392735,"post_id":70987892,"comment_id":125591685,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/30989646)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/30989646\">From Review</a>"},{"owner":{"account_id":15592199,"reputation":11,"user_id":14256319,"display_name":"hamza"},"score":0,"creation_date":1644405629,"post_id":70987892,"comment_id":125596635,"body_markdown":"For me any answer could be useful, but you&#39;re right procrastinator, in the same  time still a mysterious problem to fix, btw did you face the same problem?","body":"For me any answer could be useful, but you&#39;re right procrastinator, in the same  time still a mysterious problem to fix, btw did you face the same problem?"}],"tags":[],"owner":{"account_id":15592199,"reputation":11,"user_id":14256319,"display_name":"hamza"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644405876,"creation_date":1643984485,"answer_id":70987892,"question_id":46692606,"body_markdown":"For me it was a port problem, I don&#39;t know why but I had to go back to port 8082 which I was using for tomcat.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For me it was a port problem, I don't know why but I had to go back to port 8082 which I was using for tomcat.</p>\n"},{"tags":[],"owner":{"account_id":24827088,"reputation":1,"user_id":18706729,"display_name":"user11 7532"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649107650,"creation_date":1649107650,"answer_id":71743907,"question_id":46692606,"body_markdown":"This worked for me:\r\n - Make a note of the Java version in the run configuration tab (for me its JDK 9 or later)\r\n - Go to File -&gt; Settings -&gt; Search for Java compiler -&gt; set Project Bycode version to the same version that you see in run config. \r\n - Stop and rerun debugging.\r\n \r\n\r\n[Run config image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CWe7c.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>This worked for me:</p>\n<ul>\n<li>Make a note of the Java version in the run configuration tab (for me its JDK 9 or later)</li>\n<li>Go to File -&gt; Settings -&gt; Search for Java compiler -&gt; set Project Bycode version to the same version that you see in run config.</li>\n<li>Stop and rerun debugging.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/CWe7c.png\" rel=\"nofollow noreferrer\">Run config image</a></p>\n"},{"tags":[],"owner":{"account_id":1987776,"reputation":2948,"user_id":1782556,"accept_rate":62,"display_name":"Dinesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665657053,"creation_date":1665657053,"answer_id":74054274,"question_id":46692606,"body_markdown":" - Here is what I did.\r\n - My code was within an anonymous class where the\r\n   debug point would not get the tick mark.\r\n - I extracted the code to a\r\n   new instance method of the main container class. Then I was able to set\r\n   debug point in the new method.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<ul>\n<li>Here is what I did.</li>\n<li>My code was within an anonymous class where the\ndebug point would not get the tick mark.</li>\n<li>I extracted the code to a\nnew instance method of the main container class. Then I was able to set\ndebug point in the new method.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13765300,"reputation":1,"user_id":11333561,"display_name":"Crystal.Q"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671667120,"creation_date":1671471297,"answer_id":74854015,"question_id":46692606,"body_markdown":"![Disable breakpoint button](https://i.stack.imgur.com/X0c9z.png) \r\n\r\nAs shown in the picture above. \r\nYou can check whether the breakpoint is disabled, the disabled breakpoint button will be grayed out there.\r\n","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p><img src=\"https://i.stack.imgur.com/X0c9z.png\" alt=\"Disable breakpoint button\" /></p>\n<p>As shown in the picture above.\nYou can check whether the breakpoint is disabled, the disabled breakpoint button will be grayed out there.</p>\n"},{"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678964444,"creation_date":1678964444,"answer_id":75755329,"question_id":46692606,"body_markdown":"For me, the execution was not breaking at the breakpoints set in an inner class.\r\n\r\nDid the following steps and it worked:\r\n\r\n 1. From the menu items, `Run` &gt; `View Breakpoints`\r\n 2. On the Breakpoints dialog, uncheck and check the box for all breakpoints, named `Java Line Breakpoints`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 3. Click on `Done`\r\n\r\nWhen I came across this issue again, had to do the above steps to get it working.\r\n\r\n**IntelliJ IDEA Version Details:**\r\n\r\n[![About IntelliJ Screen][2]][2]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lqDDpl.png\r\n  [2]: https://i.stack.imgur.com/AKSojm.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For me, the execution was not breaking at the breakpoints set in an inner class.</p>\n<p>Did the following steps and it worked:</p>\n<ol>\n<li>From the menu items, <code>Run</code> &gt; <code>View Breakpoints</code></li>\n<li>On the Breakpoints dialog, uncheck and check the box for all breakpoints, named <code>Java Line Breakpoints</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/lqDDpl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqDDpl.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Click on <code>Done</code></li>\n</ol>\n<p>When I came across this issue again, had to do the above steps to get it working.</p>\n<p><strong>IntelliJ IDEA Version Details:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AKSojm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AKSojm.png\" alt=\"About IntelliJ Screen\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15791257,"reputation":1,"user_id":11394427,"display_name":"Olasoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680337909,"creation_date":1680337909,"answer_id":75905039,"question_id":46692606,"body_markdown":"I had the same problem, however, it was limited to one of the projects. Then I compared the two Run/Debug configurations and discovered a parameter called &quot;before run&quot; that was causing the debug indicator to disappear. The problem was resolved by removing that setting.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I had the same problem, however, it was limited to one of the projects. Then I compared the two Run/Debug configurations and discovered a parameter called &quot;before run&quot; that was causing the debug indicator to disappear. The problem was resolved by removing that setting.</p>\n"},{"tags":[],"owner":{"account_id":5577204,"reputation":310,"user_id":4420271,"accept_rate":78,"display_name":"philburns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691069062,"creation_date":1691069062,"answer_id":76828530,"question_id":46692606,"body_markdown":"For Grails projects:\r\n\r\nInstead of using a &quot;Grails Run/Debug Configuration&quot; in IntelliJ, right-click `grails-app/init/Application.groovy` (or whatever subpath the file may have) and choose the debug option from there.\r\n\r\nIn my case, now only this brought back the ticks to my debug points.\r\n\r\nA Micronaut Run Configuration was created in my project and I was able to save it via the arrow next the new appearing &quot;Application&quot; entry in the Run Configurations dropdown.","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>For Grails projects:</p>\n<p>Instead of using a &quot;Grails Run/Debug Configuration&quot; in IntelliJ, right-click <code>grails-app/init/Application.groovy</code> (or whatever subpath the file may have) and choose the debug option from there.</p>\n<p>In my case, now only this brought back the ticks to my debug points.</p>\n<p>A Micronaut Run Configuration was created in my project and I was able to save it via the arrow next the new appearing &quot;Application&quot; entry in the Run Configurations dropdown.</p>\n"},{"tags":[],"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692685015,"creation_date":1692685015,"answer_id":76950530,"question_id":46692606,"body_markdown":"I stopped the JavaScript Debug, restartet it, but that didn&#39;t change something. I then changed to a different browser in my run configurations and suddenly the debugger worked again. But the one breakpoint that I actually wanted to hit still didn&#39;t get hit. I had to remove and set the breakpoint again, then it worked (tried that before changing the debug browser, that didn&#39;t work, only after changing the debug browser and resetting the breakoint, it worked.)\r\nI changed from Edge to Chrome, and when it happens in Chrome, I change back from Chrome to Edge (it happens 1-2 times per month... :(\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hC3Xb.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I stopped the JavaScript Debug, restartet it, but that didn't change something. I then changed to a different browser in my run configurations and suddenly the debugger worked again. But the one breakpoint that I actually wanted to hit still didn't get hit. I had to remove and set the breakpoint again, then it worked (tried that before changing the debug browser, that didn't work, only after changing the debug browser and resetting the breakoint, it worked.)\nI changed from Edge to Chrome, and when it happens in Chrome, I change back from Chrome to Edge (it happens 1-2 times per month... :(</p>\n<p><a href=\"https://i.stack.imgur.com/hC3Xb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hC3Xb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16040319,"reputation":493,"user_id":11576882,"display_name":"Akram Rabie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696497036,"creation_date":1696426639,"answer_id":77230080,"question_id":46692606,"body_markdown":"I don&#39;t know if I should laugh or cry! I&#39;ve spent so much time to figure it out that what&#39;s going on, tried all the suggested solutions non of them worked for me!\r\nTurned out I needed click on the debugger link in the debug logs in console and open it!\r\n\r\nSo basically what I did:\r\n\r\n1- **Open the debug logs, click on the link**:\r\n\r\n    Debugger listening on ws://127.0.0.1:57292/...\r\n\r\n([Screenshot][1])\r\n\r\n2- It will open a new debugging tab\r\n\r\n3- Re-add the breakpoints, then you&#39;ll see the white checkmarks!\r\n\r\n4- Done, that&#39;s it!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LfPhv.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I don't know if I should laugh or cry! I've spent so much time to figure it out that what's going on, tried all the suggested solutions non of them worked for me!\nTurned out I needed click on the debugger link in the debug logs in console and open it!</p>\n<p>So basically what I did:</p>\n<p>1- <strong>Open the debug logs, click on the link</strong>:</p>\n<pre><code>Debugger listening on ws://127.0.0.1:57292/...\n</code></pre>\n<p>(<a href=\"https://i.stack.imgur.com/LfPhv.png\" rel=\"nofollow noreferrer\">Screenshot</a>)</p>\n<p>2- It will open a new debugging tab</p>\n<p>3- Re-add the breakpoints, then you'll see the white checkmarks!</p>\n<p>4- Done, that's it!</p>\n"}],"owner":{"account_id":4482164,"reputation":6674,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99656,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":46693200,"answer_count":21,"score":83,"last_activity_date":1696497036,"creation_date":1507737038,"question_id":46692606,"body_markdown":"I have a gradle project, and when I put a breakpoint it is displayed as a red dot, with a tick inside, and it just works fine.\r\n\r\n[![working breakpoint][1]][1]\r\n\r\n\r\nThe problem is that in some classes (in the same project, not a dependency class), the red dot doesn&#39;t have a tick inside, and it doesn&#39;t tell why it wouldn&#39;t work. And it just doesn&#39;t work..:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat have I tried so far:\r\n\r\n - Gradle clean &amp; build\r\n - Rebuild project\r\n - Restart debug\r\n - Invalidate caches and restart IntelliJ\r\n - Update IntelliJ to the latest version (2017.2.5)\r\n - Mute &amp; Unmute breakpoints\r\n\r\n\r\nThis question is similar, but clearly not the same: https://stackoverflow.com/questions/24612603/intellij-idea-breakpoint-not-being-hit-and-is-shown-greyed-out\r\n\r\n  [1]: https://i.stack.imgur.com/5fuW6.png\r\n  [2]: https://i.stack.imgur.com/wldt5.png","title":"IntelliJ IDEA: Breakpoint not being hit, and is shown without the tick, just a red dot","body":"<p>I have a gradle project, and when I put a breakpoint it is displayed as a red dot, with a tick inside, and it just works fine.</p>\n<p><a href=\"https://i.stack.imgur.com/5fuW6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5fuW6.png\" alt=\"working breakpoint\" /></a></p>\n<p>The problem is that in some classes (in the same project, not a dependency class), the red dot doesn't have a tick inside, and it doesn't tell why it wouldn't work. And it just doesn't work..:</p>\n<p><a href=\"https://i.stack.imgur.com/wldt5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wldt5.png\" alt=\"enter image description here\" /></a></p>\n<p>What have I tried so far:</p>\n<ul>\n<li>Gradle clean &amp; build</li>\n<li>Rebuild project</li>\n<li>Restart debug</li>\n<li>Invalidate caches and restart IntelliJ</li>\n<li>Update IntelliJ to the latest version (2017.2.5)</li>\n<li>Mute &amp; Unmute breakpoints</li>\n</ul>\n<p>This question is similar, but clearly not the same: <a href=\"https://stackoverflow.com/questions/24612603/intellij-idea-breakpoint-not-being-hit-and-is-shown-greyed-out\">Intellij IDEA: Breakpoint not being hit, and is shown greyed out</a></p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696413029,"post_id":77227733,"comment_id":136148523,"body_markdown":"What does the `UserRepository` look like?","body":"What does the <code>UserRepository</code> look like?"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1696416718,"post_id":77227733,"comment_id":136149317,"body_markdown":"What does `getAppChatMember()` look like?","body":"What does <code>getAppChatMember()</code> look like?"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1696417263,"post_id":77227733,"comment_id":136149415,"body_markdown":"When debugging your test do you see the mock implementation in method `getByTelegramId(`. Also have you tried replacing `anyLong() with any()`?","body":"When debugging your test do you see the mock implementation in method <code>getByTelegramId(</code>. Also have you tried replacing <code>anyLong() with any()</code>?"},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696486901,"post_id":77227733,"comment_id":136159562,"body_markdown":"@GJohannes I tried replacing it but it didn&#39;t help, the test fails with an error","body":"@GJohannes I tried replacing it but it didn&#39;t help, the test fails with an error"},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696487234,"post_id":77227733,"comment_id":136159610,"body_markdown":"@M.Deinum Add to my question","body":"@M.Deinum Add to my question"},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696487250,"post_id":77227733,"comment_id":136159612,"body_markdown":"@1615903 Add to my question","body":"@1615903 Add to my question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696487446,"post_id":77227733,"comment_id":136159634,"body_markdown":"Remove one of the `findByTelegramId` methods. I would keep the `Long` one as that matches the type of the id. Mockito will mock one, probably the `Long` one, whereas you are calling the `long` one. This doesn&#39;t match the matcher and does the default, return an empty optional.","body":"Remove one of the <code>findByTelegramId</code> methods. I would keep the <code>Long</code> one as that matches the type of the id. Mockito will mock one, probably the <code>Long</code> one, whereas you are calling the <code>long</code> one. This doesn&#39;t match the matcher and does the default, return an empty optional."},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1696487738,"post_id":77227733,"comment_id":136159675,"body_markdown":"@M.Deinum Thank you, this helped, the problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito did not work correctly","body":"@M.Deinum Thank you, this helped, the problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito did not work correctly"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696487800,"post_id":77227733,"comment_id":136159686,"body_markdown":"Well Mockito did work correctly, it mocked the method it needed to mock (the one with a `Long` as that, technically, is what you asked it to do).","body":"Well Mockito did work correctly, it mocked the method it needed to mock (the one with a <code>Long</code> as that, technically, is what you asked it to do)."}],"answers":[{"tags":[],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696490180,"creation_date":1696490180,"answer_id":77234932,"question_id":77227733,"body_markdown":"The problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito mock te object type method, so solution is delete one from repository.","title":"Mock is not working properly when i try to return optional","body":"<p>The problem was that there were 2 identical methods, but one took a primitive, and the second was an object type and Mockito mock te object type method, so solution is delete one from repository.</p>\n"}],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77234932,"answer_count":1,"score":3,"last_activity_date":1696497007,"creation_date":1696405924,"question_id":77227733,"body_markdown":"I&#39;m writing a test for a method in which the repository should return a user, I&#39;ve hardcoded this logic, but my mock returns an empty optional.\r\nHere is the method code\r\n\r\n    @Override\r\n    public AppChatMember getByTelegramId(long telegramId) {\r\n        return userRepository.findByTelegramId(telegramId).orElseThrow(() -&gt; new UserNotFoundException(\r\n                String.format(USER_NOT_FOUND_BY_TG_ID, telegramId)));\r\n    }\r\n\r\nHere is the test code\r\n\r\n    @Test\r\n    @DisplayName(&quot;Checking that method is calling find by telegram id&quot;)\r\n    void getByTelegramIdShouldCallFindByTelegramId() {\r\n        long expectedTelegramId = 123456L;\r\n        AppChatMember user = getAppChatMember();\r\n\r\n        when(userRepository.findByTelegramId(anyLong())).thenReturn(Optional.of(user));\r\n\r\n        userService.getByTelegramId(expectedTelegramId);\r\n\r\n        verify(userRepository, times(1)).findByTelegramId(expectedTelegramId);\r\n    }\r\n\r\nSetting up mocks\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class UserServiceImplTest {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @MockBean\r\n    private UserRepository userRepository;\r\n\r\n    @MockBean\r\n    private GroupRepository groupRepository;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;AppChatMember&gt; appChatMemberCaptor;\r\n\r\nHere is getAppchatMember\r\n\r\n    AppChatMember getAppChatMember() {\r\n        AppChatMember user = new AppChatMember();\r\n        user.setNickName(&quot;Nickname&quot;);\r\n        user.setTelegramId(123456L);\r\n        user.setIsProcessing(true);\r\n        return user;\r\n    }\r\n\r\nHere is userRepository\r\n\r\n    @Repository\r\n    public interface UserRepository extends     \r\n    JpaRepository&lt;AppChatMember, Long&gt; {\r\n\r\n    boolean existsByTelegramId(long telegramId);\r\n\r\n    Optional&lt;AppChatMember&gt; findByTelegramId(long telegramId);\r\n\r\n    Optional&lt;AppChatMember&gt; findByTelegramId(Long telegramId);\r\n\r\n    List&lt;AppChatMember&gt; findByCondition(UserConditionEnum condition);\r\n}","title":"Mock is not working properly when i try to return optional","body":"<p>I'm writing a test for a method in which the repository should return a user, I've hardcoded this logic, but my mock returns an empty optional.\nHere is the method code</p>\n<pre><code>@Override\npublic AppChatMember getByTelegramId(long telegramId) {\n    return userRepository.findByTelegramId(telegramId).orElseThrow(() -&gt; new UserNotFoundException(\n            String.format(USER_NOT_FOUND_BY_TG_ID, telegramId)));\n}\n</code></pre>\n<p>Here is the test code</p>\n<pre><code>@Test\n@DisplayName(&quot;Checking that method is calling find by telegram id&quot;)\nvoid getByTelegramIdShouldCallFindByTelegramId() {\n    long expectedTelegramId = 123456L;\n    AppChatMember user = getAppChatMember();\n\n    when(userRepository.findByTelegramId(anyLong())).thenReturn(Optional.of(user));\n\n    userService.getByTelegramId(expectedTelegramId);\n\n    verify(userRepository, times(1)).findByTelegramId(expectedTelegramId);\n}\n</code></pre>\n<p>Setting up mocks</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\nclass UserServiceImplTest {\n\n@Autowired\nprivate UserService userService;\n\n@MockBean\nprivate UserRepository userRepository;\n\n@MockBean\nprivate GroupRepository groupRepository;\n\n@Captor\nprivate ArgumentCaptor&lt;AppChatMember&gt; appChatMemberCaptor;\n</code></pre>\n<p>Here is getAppchatMember</p>\n<pre><code>AppChatMember getAppChatMember() {\n    AppChatMember user = new AppChatMember();\n    user.setNickName(&quot;Nickname&quot;);\n    user.setTelegramId(123456L);\n    user.setIsProcessing(true);\n    return user;\n}\n</code></pre>\n<p>Here is userRepository</p>\n<pre><code>@Repository\npublic interface UserRepository extends     \nJpaRepository&lt;AppChatMember, Long&gt; {\n\nboolean existsByTelegramId(long telegramId);\n\nOptional&lt;AppChatMember&gt; findByTelegramId(long telegramId);\n\nOptional&lt;AppChatMember&gt; findByTelegramId(Long telegramId);\n\nList&lt;AppChatMember&gt; findByCondition(UserConditionEnum condition);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1640200956,"post_id":70454068,"comment_id":124541946,"body_markdown":"That looks there is a big issue...because neither `java -version` does not output anything at all... also for `mvn --version`...`mvn clean build` (`build` does not exist!)...","body":"That looks there is a big issue...because neither <code>java -version</code> does not output anything at all... also for <code>mvn --version</code>...<code>mvn clean build</code> (<code>build</code> does not exist!)..."},{"owner":{"account_id":18904985,"reputation":57,"user_id":13792295,"display_name":"Jasper Sommer"},"score":0,"creation_date":1640201240,"post_id":70454068,"comment_id":124542036,"body_markdown":"@khmarbaise any ideas? I&#39;ve never run into something like this before","body":"@khmarbaise any ideas? I&#39;ve never run into something like this before"}],"owner":{"account_id":18904985,"reputation":57,"user_id":13792295,"display_name":"Jasper Sommer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696496826,"creation_date":1640200480,"question_id":70454068,"body_markdown":"When I try to run commands like mvn -v or mvn -help there is no output and just adds a new line. No errors or anything, just blank. My maven and java work fine because I can still build and run code in my ide, but nothing shows up on the command line. I have not changed my path or environment variables, it just stopped working overnight.\r\n\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aHWX2.png\r\n  [2]: https://i.stack.imgur.com/lVkhr.png","title":"Maven commands produce no output on the command line","body":"<p>When I try to run commands like mvn -v or mvn -help there is no output and just adds a new line. No errors or anything, just blank. My maven and java work fine because I can still build and run code in my ide, but nothing shows up on the command line. I have not changed my path or environment variables, it just stopped working overnight.</p>\n<p><a href=\"https://i.stack.imgur.com/aHWX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aHWX2.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/lVkhr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lVkhr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ssl","iis","pfx","jks"],"comments":[{"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"score":0,"creation_date":1474884782,"post_id":39700065,"comment_id":66698420,"body_markdown":"this comment doesn&#39;t really answer your question, but just want to say that the java keystores are a nightmare.  I&#39;ve spent many days fixing bugs with them and trying to get them to work properly.  If you use SSLMate, it just gives you a working keystore that you can download, and so you don&#39;t have to do anything.","body":"this comment doesn&#39;t really answer your question, but just want to say that the java keystores are a nightmare.  I&#39;ve spent many days fixing bugs with them and trying to get them to work properly.  If you use SSLMate, it just gives you a working keystore that you can download, and so you don&#39;t have to do anything."},{"owner":{"account_id":2309300,"reputation":1871,"user_id":2027813,"accept_rate":65,"display_name":"RealSteel"},"score":0,"creation_date":1474885031,"post_id":39700065,"comment_id":66698602,"body_markdown":"thanks for your suggestion. will look into it.","body":"thanks for your suggestion. will look into it."}],"answers":[{"tags":[],"owner":{"account_id":2315520,"reputation":1,"user_id":2032687,"display_name":"Shueb Dalvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528188324,"creation_date":1528188324,"answer_id":50695866,"question_id":39700065,"body_markdown":"THe keystore file will be generated at location at which above command was entered. For e.g. above command was entered at C:\\somedir\\ then the keystore.jks will be at C:somedir\\keystore.jks\r\n\r\nHope this helps !","title":"Importing a SSL certificate into a Java Keystore via a pfx file","body":"<p>THe keystore file will be generated at location at which above command was entered. For e.g. above command was entered at C:\\somedir\\ then the keystore.jks will be at C:somedir\\keystore.jks</p>\n\n<p>Hope this helps !</p>\n"}],"owner":{"account_id":2309300,"reputation":1871,"user_id":2027813,"accept_rate":65,"display_name":"RealSteel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696496685,"creation_date":1474884666,"question_id":39700065,"body_markdown":"I&#39;ve a requirement where I need to `import a SSL Certificate` into `java keystore`.  \r\nBasically, I&#39;m new to this SSL and Java.  \r\nI&#39;m from dotnet background, so its quiet complicated doing these things.  \r\n\r\nThings I&#39;ve done :\r\n\r\nGenerated a `pfx` certificate from **IIS**.    \r\nFollowed this link from [here][1] and navigated to the `java bin folder` and `created a new keystore` by following command.  \r\n\r\n    keytool -genkey -alias customcertificate.pfx -keyalg RSA -keysize 2048 -keystore customkeystore  \r\n\r\nI&#39;ve given the same password for this command, like the password used for pfx generated file.  \r\n\r\nAfter that, I&#39;ve given all the details it asked and the keystore was created.  \r\n\r\nNow in the second step, I&#39;ve `emptied the keystore` as the tutorial said.\r\n\r\n    keytool -delete -alias customcertificate -keystore customkeystore\r\n\r\nI&#39;ve also tested with this command that nothing is in keystore  \r\n\r\n    keytool -v -list -keystore customkeystore\r\n\r\nNow in the third step, I got a little confused with the **JKS file generation**.  \r\n\r\nThe command is this way : \r\n\r\n    keytool -v -importkeystore -srckeystore customcertificate.pfx -srcstoretype PKCS12 -destkeystore customkeystore -deststoretype JKS\r\n\r\nI&#39;ve entered both source and destination passwords, and I was confused where the `JKS file would be saved`.  \r\n\r\nDo I need to create a `empty file` with JKS extension and then given the path at the importing command after **destkeystore**?\r\n\r\nCan anyone, please go through the link and guide me the correct way of doing this?   \r\n\r\nThanks in advance.\r\n \r\nThe response after the last step is : **Entry for alias le-*******-******-*****-**** successfully imported.\r\nImport command completed:  1 entries successfully imported, 0 entries failed or\r\ncancelled\r\n[Storing hivemqkeystore]**\r\n\r\n\r\n  [1]: http://jackstromberg.com/2013/05/importing-a-ssl-certificate-into-a-java-keystore-via-a-pkcs12-file/","title":"Importing a SSL certificate into a Java Keystore via a pfx file","body":"<p>I've a requirement where I need to <code>import a SSL Certificate</code> into <code>java keystore</code>.<br>\nBasically, I'm new to this SSL and Java.<br>\nI'm from dotnet background, so its quiet complicated doing these things.  </p>\n\n<p>Things I've done :</p>\n\n<p>Generated a <code>pfx</code> certificate from <strong>IIS</strong>.<br>\nFollowed this link from <a href=\"http://jackstromberg.com/2013/05/importing-a-ssl-certificate-into-a-java-keystore-via-a-pkcs12-file/\" rel=\"nofollow\">here</a> and navigated to the <code>java bin folder</code> and <code>created a new keystore</code> by following command.  </p>\n\n<pre><code>keytool -genkey -alias customcertificate.pfx -keyalg RSA -keysize 2048 -keystore customkeystore  \n</code></pre>\n\n<p>I've given the same password for this command, like the password used for pfx generated file.  </p>\n\n<p>After that, I've given all the details it asked and the keystore was created.  </p>\n\n<p>Now in the second step, I've <code>emptied the keystore</code> as the tutorial said.</p>\n\n<pre><code>keytool -delete -alias customcertificate -keystore customkeystore\n</code></pre>\n\n<p>I've also tested with this command that nothing is in keystore  </p>\n\n<pre><code>keytool -v -list -keystore customkeystore\n</code></pre>\n\n<p>Now in the third step, I got a little confused with the <strong>JKS file generation</strong>.  </p>\n\n<p>The command is this way : </p>\n\n<pre><code>keytool -v -importkeystore -srckeystore customcertificate.pfx -srcstoretype PKCS12 -destkeystore customkeystore -deststoretype JKS\n</code></pre>\n\n<p>I've entered both source and destination passwords, and I was confused where the <code>JKS file would be saved</code>.  </p>\n\n<p>Do I need to create a <code>empty file</code> with JKS extension and then given the path at the importing command after <strong>destkeystore</strong>?</p>\n\n<p>Can anyone, please go through the link and guide me the correct way of doing this?   </p>\n\n<p>Thanks in advance.</p>\n\n<p>The response after the last step is : <strong>Entry for alias le-*******-******-*****-**** successfully imported.\nImport command completed:  1 entries successfully imported, 0 entries failed or\ncancelled\n[Storing hivemqkeystore]</strong></p>\n"},{"tags":["java","multithreading","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":5,"creation_date":1256058432,"post_id":1596009,"comment_id":1460154,"body_markdown":"Check http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap-s","body":"Check <a href=\"http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap-s\" title=\"how to deal with java lang outofmemoryerror java heap space error 64mb heap s\">stackoverflow.com/questions/37335/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1371628027,"creation_date":1256058438,"answer_id":1596030,"question_id":1596009,"body_markdown":"To increase the heap size you can use the -Xmx argument when starting Java; e.g.\r\n\r\n    -Xmx256M","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>To increase the heap size you can use the -Xmx argument when starting Java; e.g.</p>\n\n<pre><code>-Xmx256M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256058470,"creation_date":1256058470,"answer_id":1596035,"question_id":1596009,"body_markdown":"No, I think you are thinking of stack space. Heap space is occupied by objects. The way to increase it is -Xmx256m, replacing the 256 with the amount you need on the command line.","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>No, I think you are thinking of stack space. Heap space is occupied by objects. The way to increase it is -Xmx256m, replacing the 256 with the amount you need on the command line.</p>\n"},{"comments":[{"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"score":1,"creation_date":1256061604,"post_id":1596040,"comment_id":1460476,"body_markdown":"I am using Netbeans but I don&#39;t know how to use profiler. I would like to know more about the profiler so that I can use it to find memory leaks in my application.","body":"I am using Netbeans but I don&#39;t know how to use profiler. I would like to know more about the profiler so that I can use it to find memory leaks in my application."},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":0,"creation_date":1256061803,"post_id":1596040,"comment_id":1460505,"body_markdown":"I added a link to a page on the NetBeans site (http://profiler.netbeans.org/) which has very good documentation about the profile, from the very basics to more advanced use.","body":"I added a link to a page on the NetBeans site (<a href=\"http://profiler.netbeans.org/\" rel=\"nofollow noreferrer\">profiler.netbeans.org</a>) which has very good documentation about the profile, from the very basics to more advanced use."},{"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"score":0,"creation_date":1462522061,"post_id":1596040,"comment_id":61680157,"body_markdown":"Default values change with java versions, it would be nice to include [this information](http://stackoverflow.com/questions/28272923/default-xmxsize-in-java-8) in your answer.","body":"Default values change with java versions, it would be nice to include <a href=\"http://stackoverflow.com/questions/28272923/default-xmxsize-in-java-8\">this information</a> in your answer."},{"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"score":0,"creation_date":1463832933,"post_id":1596040,"comment_id":62238999,"body_markdown":"Just fixed similar problem and first tried: \njava -jar division.jar -Xmx512m -Xms512m - this gives me same error but when I do it like so: \njava -Xmx512m -Xms512m -jar division.jar - all is fine. So the order of params is also important.","body":"Just fixed similar problem and first tried:  java -jar division.jar -Xmx512m -Xms512m - this gives me same error but when I do it like so:  java -Xmx512m -Xms512m -jar division.jar - all is fine. So the order of params is also important."}],"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"comment_count":4,"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1463833092,"creation_date":1256058502,"answer_id":1596040,"question_id":1596009,"body_markdown":"If you want to increase your heap space, you can use `java -Xms&lt;initial heap size&gt; -Xmx&lt;maximum heap size&gt;` on the command line. By default, the values are based on the JRE version and system configuration. You can find out [more about the VM options on the Java website][1].\r\n\r\nHowever, I would recommend profiling your application to find out why your heap size is being eaten. NetBeans has a [very good profiler][2] included with it. I believe it uses the [`jvisualvm`][3] under the hood. With a profiler, you can try to find where many objects are being created, when objects get garbage collected, and more.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp\r\n  [2]: http://profiler.netbeans.org/\r\n  [3]: http://java.sun.com/javase/6/docs/technotes/guides/visualvm/index.html","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>If you want to increase your heap space, you can use <code>java -Xms&lt;initial heap size&gt; -Xmx&lt;maximum heap size&gt;</code> on the command line. By default, the values are based on the JRE version and system configuration. You can find out <a href=\"http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp\" rel=\"noreferrer\">more about the VM options on the Java website</a>.</p>\n\n<p>However, I would recommend profiling your application to find out why your heap size is being eaten. NetBeans has a <a href=\"http://profiler.netbeans.org/\" rel=\"noreferrer\">very good profiler</a> included with it. I believe it uses the <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/visualvm/index.html\" rel=\"noreferrer\"><code>jvisualvm</code></a> under the hood. With a profiler, you can try to find where many objects are being created, when objects get garbage collected, and more.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1256059626,"creation_date":1256058554,"answer_id":1596044,"question_id":1596009,"body_markdown":"1.- Yes, but it pretty much refers to the whole memory used by your program.   \r\n\r\n\r\n2.- Yes see Java VM options \r\n\r\n    -Xms&lt;size&gt;        set initial Java heap size\r\n    -Xmx&lt;size&gt;        set maximum Java heap size\r\n\r\n\r\nIe  \r\n\r\n   `java -Xmx2g` assign 2 gigabytes of ram as maximum to your app\r\n\r\nBut you should see if you don&#39;t have a memory leak first.\r\n\r\n3.- It depends on the program. Try spot memory leaks. This question would be to hard to answer.  Lately you can profile using JConsole to try to find out where your memory is going to ","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>1.- Yes, but it pretty much refers to the whole memory used by your program.   </p>\n\n<p>2.- Yes see Java VM options </p>\n\n<pre><code>-Xms&lt;size&gt;        set initial Java heap size\n-Xmx&lt;size&gt;        set maximum Java heap size\n</code></pre>\n\n<p>Ie  </p>\n\n<p><code>java -Xmx2g</code> assign 2 gigabytes of ram as maximum to your app</p>\n\n<p>But you should see if you don't have a memory leak first.</p>\n\n<p>3.- It depends on the program. Try spot memory leaks. This question would be to hard to answer.  Lately you can profile using JConsole to try to find out where your memory is going to </p>\n"},{"tags":[],"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1256058569,"creation_date":1256058569,"answer_id":1596046,"question_id":1596009,"body_markdown":"1. Local variables are located on the stack. Heap space is occupied by objects.\r\n\r\n2. You can use the `-Xmx` option.\r\n\r\n3. Basically heap space is used up everytime you allocate a new object with `new` and freed some time after the object is no longer referenced. So make sure that you don&#39;t keep references to objects that you no longer need.","title":"java.lang.OutOfMemoryError: Java heap space","body":"<ol>\n<li><p>Local variables are located on the stack. Heap space is occupied by objects.</p></li>\n<li><p>You can use the <code>-Xmx</code> option.</p></li>\n<li><p>Basically heap space is used up everytime you allocate a new object with <code>new</code> and freed some time after the object is no longer referenced. So make sure that you don't keep references to objects that you no longer need.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1696496542,"creation_date":1256058573,"answer_id":1596047,"question_id":1596009,"body_markdown":"You may want to look at this site to learn more about memory in the JVM:\r\n[http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage][1]\r\n([internet-archive link][2])\r\n\r\n\r\nI have found it useful to use [visualgc](http://www.oracle.com/technetwork/java/visualgc-136680.html) to watch how the different parts of the memory model is filling up, to determine what to change.\r\n\r\nIt is difficult to determine which part of memory was filled up, hence visualgc, as you may want to just change the part that is having a problem, rather than just say, \r\n\r\n&gt; Fine! I will give 1G of RAM to the JVM.\r\n\r\nTry to be more precise about what you are doing, in the long run you will probably find the program better for it.\r\n\r\nTo determine where the memory leak may be you can use unit tests for that, by testing what was the memory before the test, and after, and if there is too big a change then you may want to examine it, but, you need to do the check while your test is still running.\r\n\r\n\r\n  [1]: http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage\r\n  [2]: http://web.archive.org/web/20090802065658/http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>You may want to look at this site to learn more about memory in the JVM:\n<a href=\"http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage\" rel=\"nofollow noreferrer\">http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage</a>\n(<a href=\"http://web.archive.org/web/20090802065658/http://developer.streamezzo.com/content/learn/articles/optimization-heap-memory-usage\" rel=\"nofollow noreferrer\">internet-archive link</a>)</p>\n<p>I have found it useful to use <a href=\"http://www.oracle.com/technetwork/java/visualgc-136680.html\" rel=\"nofollow noreferrer\">visualgc</a> to watch how the different parts of the memory model is filling up, to determine what to change.</p>\n<p>It is difficult to determine which part of memory was filled up, hence visualgc, as you may want to just change the part that is having a problem, rather than just say,</p>\n<blockquote>\n<p>Fine! I will give 1G of RAM to the JVM.</p>\n</blockquote>\n<p>Try to be more precise about what you are doing, in the long run you will probably find the program better for it.</p>\n<p>To determine where the memory leak may be you can use unit tests for that, by testing what was the memory before the test, and after, and if there is too big a change then you may want to examine it, but, you need to do the check while your test is still running.</p>\n"},{"tags":[],"owner":{"account_id":66378,"reputation":3043,"user_id":194764,"accept_rate":94,"display_name":"DKSRathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1256232519,"creation_date":1256232519,"answer_id":1608734,"question_id":1596009,"body_markdown":"3. In most of the cases, the code is not optimized. Release those objects which you think shall not be needed further. Avoid creation of objects in your loop each time. Try to use caches. I don&#39;t know how your application is doing. But In programming, one rule of normal life applies as well\r\n  \r\n\r\n    Prevention is better than cure. &quot;Don&#39;t create unnecessary objects&quot;","title":"java.lang.OutOfMemoryError: Java heap space","body":"<ol start=\"3\">\n<li><p>In most of the cases, the code is not optimized. Release those objects which you think shall not be needed further. Avoid creation of objects in your loop each time. Try to use caches. I don't know how your application is doing. But In programming, one rule of normal life applies as well</p>\n\n<p>Prevention is better than cure. \"Don't create unnecessary objects\"</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3149968,"reputation":427,"user_id":2663609,"display_name":"user2663609"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1448009675,"creation_date":1387364675,"answer_id":20656383,"question_id":1596009,"body_markdown":"You can get your heap memory size through below programe.\r\n\r\n    public class GetHeapSize {\r\n        public static void main(String[] args) {\r\n            long heapsize = Runtime.getRuntime().totalMemory();\r\n            System.out.println(&quot;heapsize is :: &quot; + heapsize);\r\n        }\r\n    } \r\n\r\nthen accordingly you can increase heap size also by using:\r\njava -Xmx2g\r\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>You can get your heap memory size through below programe.</p>\n\n<pre><code>public class GetHeapSize {\n    public static void main(String[] args) {\n        long heapsize = Runtime.getRuntime().totalMemory();\n        System.out.println(\"heapsize is :: \" + heapsize);\n    }\n} \n</code></pre>\n\n<p>then accordingly you can increase heap size also by using:\njava -Xmx2g\n<a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473338760,"creation_date":1455537744,"answer_id":35408889,"question_id":1596009,"body_markdown":"&gt; 1. Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.\r\n\r\nThat means you are creating more objects in your application over a period of time continuously. New objects will be stored in heap memory and that&#39;s the reason for growth in heap memory.\r\n\r\nHeap not only contains instance variables. It will store all non-primitive data types ( Objects). These objects life time may be short (method block) or long (till the object is referenced in your application)\r\n\r\n&gt; 2. Is there any way to increase the heap space?\r\n\r\nYes. Have a look at this oracle [article][1] for more details.\r\n\r\nThere are two parameters for setting the heap size:\r\n\r\n***-Xms:&lt;size&gt;***, which sets the initial and minimum heap size\r\n\r\n***-Xmx:&lt;size&gt;***, which sets the maximum heap size\r\n\r\n&gt; 3. What changes should I made to my program so that It will grab less heap space?\r\n\r\nIt depends on your application. \r\n\r\n1. Set the maximum heap memory as per your application  requirement\r\n\r\n2. Don&#39;t cause memory leaks in your application\r\n\r\n3. If you find memory leaks in your application, find the root cause with help of profiling tools like [MAT][2], [Visual VM][3] , [jconsole][4] etc. Once you find the root cause, fix the leaks.\r\n\r\nImportant notes from oracle [article][5]\r\n\r\n&gt; Cause: The detail message Java heap space indicates object could not be allocated in the Java heap. This error does not necessarily imply a memory leak.\r\n\r\nPossible reasons:\r\n\r\n1. *Improper configuration* ( not allocating sufficiant memory)\r\n2. Application is unintentionally holding references to objects and this prevents the objects from being garbage collected\r\n3. Applications that make excessive use of finalizers. If a class has a finalize method, then objects of that type do not have their space reclaimed at garbage collection time. *If the finalizer thread cannot keep up, with the finalization queue, then the Java heap could fill up and this type of OutOfMemoryError exception would be thrown*. \r\n\r\nOn a different note, use better Garbage collection algorithms ( *CMS* or *G1GC*)\r\n\r\nHave a look at this [question][6] for understanding G1GC\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/memman.html\r\n  [2]: http://www.eclipse.org/mat/\r\n  [3]: http://docs.oracle.com/javase/6/docs/technotes/guides/visualvm/\r\n  [4]: http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\r\n  [6]: https://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605","title":"java.lang.OutOfMemoryError: Java heap space","body":"<blockquote>\n  <ol>\n  <li>Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.</li>\n  </ol>\n</blockquote>\n\n<p>That means you are creating more objects in your application over a period of time continuously. New objects will be stored in heap memory and that's the reason for growth in heap memory.</p>\n\n<p>Heap not only contains instance variables. It will store all non-primitive data types ( Objects). These objects life time may be short (method block) or long (till the object is referenced in your application)</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Is there any way to increase the heap space?</li>\n  </ol>\n</blockquote>\n\n<p>Yes. Have a look at this oracle <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/memman.html\" rel=\"nofollow noreferrer\">article</a> for more details.</p>\n\n<p>There are two parameters for setting the heap size:</p>\n\n<p><strong><em>-Xms:</em></strong>, which sets the initial and minimum heap size</p>\n\n<p><strong><em>-Xmx:</em></strong>, which sets the maximum heap size</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>What changes should I made to my program so that It will grab less heap space?</li>\n  </ol>\n</blockquote>\n\n<p>It depends on your application. </p>\n\n<ol>\n<li><p>Set the maximum heap memory as per your application  requirement</p></li>\n<li><p>Don't cause memory leaks in your application</p></li>\n<li><p>If you find memory leaks in your application, find the root cause with help of profiling tools like <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">MAT</a>, <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/visualvm/\" rel=\"nofollow noreferrer\">Visual VM</a> , <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html\" rel=\"nofollow noreferrer\">jconsole</a> etc. Once you find the root cause, fix the leaks.</p></li>\n</ol>\n\n<p>Important notes from oracle <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">article</a></p>\n\n<blockquote>\n  <p>Cause: The detail message Java heap space indicates object could not be allocated in the Java heap. This error does not necessarily imply a memory leak.</p>\n</blockquote>\n\n<p>Possible reasons:</p>\n\n<ol>\n<li><em>Improper configuration</em> ( not allocating sufficiant memory)</li>\n<li>Application is unintentionally holding references to objects and this prevents the objects from being garbage collected</li>\n<li>Applications that make excessive use of finalizers. If a class has a finalize method, then objects of that type do not have their space reclaimed at garbage collection time. <em>If the finalizer thread cannot keep up, with the finalization queue, then the Java heap could fill up and this type of OutOfMemoryError exception would be thrown</em>. </li>\n</ol>\n\n<p>On a different note, use better Garbage collection algorithms ( <em>CMS</em> or <em>G1GC</em>)</p>\n\n<p>Have a look at this <a href=\"https://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605\">question</a> for understanding G1GC</p>\n"},{"tags":[],"owner":{"account_id":6468900,"reputation":350,"user_id":7533664,"display_name":"htlbydgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497307765,"creation_date":1497307765,"answer_id":44509835,"question_id":1596009,"body_markdown":"In netbeans, Go to &#39;Run&#39; toolbar, --&gt; &#39;Set Project Configuration&#39; --&gt; &#39;Customise&#39; --&gt; &#39;run&#39; of its popped up windo --&gt; &#39;VM Option&#39; --&gt; fill in &#39;-Xms2048m -Xmx2048m&#39;. It could solve heap size problem.","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>In netbeans, Go to 'Run' toolbar, --> 'Set Project Configuration' --> 'Customise' --> 'run' of its popped up windo --> 'VM Option' --> fill in '-Xms2048m -Xmx2048m'. It could solve heap size problem.</p>\n"},{"tags":[],"owner":{"account_id":4249479,"reputation":1269,"user_id":3477044,"accept_rate":42,"display_name":"Aliuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547542817,"creation_date":1547542817,"answer_id":54195571,"question_id":1596009,"body_markdown":"To avoid that exception, if you are using JUnit and Spring try adding this in every test class:\r\n\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n\r\n","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>To avoid that exception, if you are using JUnit and Spring try adding this in every test class:</p>\n\n<pre><code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":1,"creation_date":1628506215,"post_id":67619934,"comment_id":121430191,"body_markdown":"If 4 GB RAM was used then How much RAM you&#39;re having right now? After increasing the RAM, are you having any problems with memory errors?","body":"If 4 GB RAM was used then How much RAM you&#39;re having right now? After increasing the RAM, are you having any problems with memory errors?"},{"owner":{"account_id":18823098,"reputation":189,"user_id":13728648,"display_name":"RvSingh3213"},"score":0,"creation_date":1628596796,"post_id":67619934,"comment_id":121458390,"body_markdown":"I have Added 8GB more and Now 12Gb is working Fine. No after Increasing RAM I dont face `java.lang.OutOfMemoryError: Java heap space` this Issue and Now it is working Perfectly Fine","body":"I have Added 8GB more and Now 12Gb is working Fine. No after Increasing RAM I dont face <code>java.lang.OutOfMemoryError: Java heap space</code> this Issue and Now it is working Perfectly Fine"},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":1,"creation_date":1628657890,"post_id":67619934,"comment_id":121476349,"body_markdown":"But to be honest, 12 GB RAM is only required when your audience is more than a million. How is your user base?","body":"But to be honest, 12 GB RAM is only required when your audience is more than a million. How is your user base?"},{"owner":{"account_id":18823098,"reputation":189,"user_id":13728648,"display_name":"RvSingh3213"},"score":0,"creation_date":1628766744,"post_id":67619934,"comment_id":121512070,"body_markdown":"@KishanSolanki Actually I got this Error in Local Machine. So I have waster too much time searching for Solution. So I Have posted this Answer so that It can help someone who is getting Local Issue. I think Solution mentioned by me will work if you face this Issue in Local. THanks","body":"@KishanSolanki Actually I got this Error in Local Machine. So I have waster too much time searching for Solution. So I Have posted this Answer so that It can help someone who is getting Local Issue. I think Solution mentioned by me will work if you face this Issue in Local. THanks"},{"owner":{"account_id":8678409,"reputation":455,"user_id":8231333,"display_name":"arunken"},"score":0,"creation_date":1635165975,"post_id":67619934,"comment_id":123215003,"body_markdown":"I doubt that increasing the RAM is a solution as you are running the application locally without much load. There is a high chance of of memory leak in your application or you have configured some JVM argument which is causing the issue under 8GB system RAM.","body":"I doubt that increasing the RAM is a solution as you are running the application locally without much load. There is a high chance of of memory leak in your application or you have configured some JVM argument which is causing the issue under 8GB system RAM."}],"tags":[],"owner":{"account_id":18823098,"reputation":189,"user_id":13728648,"display_name":"RvSingh3213"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621512031,"creation_date":1621512031,"answer_id":67619934,"question_id":1596009,"body_markdown":"I have tried all Solutions but nothing worked from above solutions\r\n\r\n***Solution***: In My case I was using 4GB RAM and due to that RAM usage comes out 98% so the required amount if Memory wasn&#39;t available. Please do look for this also.If such issue comes upgrade RAM and it will work fine.\r\n\r\n***Hope this will save someone Time***","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>I have tried all Solutions but nothing worked from above solutions</p>\n<p><em><strong>Solution</strong></em>: In My case I was using 4GB RAM and due to that RAM usage comes out 98% so the required amount if Memory wasn't available. Please do look for this also.If such issue comes upgrade RAM and it will work fine.</p>\n<p><em><strong>Hope this will save someone Time</strong></em></p>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362392,"favorite_count":0,"down_vote_count":0,"up_vote_count":109,"accepted_answer_id":1596040,"answer_count":12,"score":109,"last_activity_date":1696496542,"creation_date":1256058175,"question_id":1596009,"body_markdown":"I am getting the following error on execution of a multi-threading program\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n\r\nThe above error occured in one of the threads.\r\n\r\n1. Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.\r\n\r\n2. Is there any way to increase the heap space?\r\n\r\n3. What changes should I made to my program so that It will grab less heap space?\r\n\r\n ","title":"java.lang.OutOfMemoryError: Java heap space","body":"<p>I am getting the following error on execution of a multi-threading program</p>\n\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n\n<p>The above error occured in one of the threads.</p>\n\n<ol>\n<li><p>Upto my knowledge, Heap space is occupied by instance variables only. If this is correct, then why this error occurred after running fine for sometime as space for instance variables are alloted at the time of object creation.</p></li>\n<li><p>Is there any way to increase the heap space?</p></li>\n<li><p>What changes should I made to my program so that It will grab less heap space?</p></li>\n</ol>\n"},{"tags":["java","android","broadcastreceiver","flashlight"],"answers":[{"tags":[],"owner":{"account_id":3361554,"reputation":23,"user_id":2823248,"display_name":"Maverick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696478787,"creation_date":1696478787,"answer_id":77234193,"question_id":77234122,"body_markdown":"I don&#39;t think there is any broadcast receiver to register for tracking flashlight/torch status. Where do you get this `android.hardware.action.Action_Torch_On` from?\r\n\r\nYou would need to utilize the camera manager to track the status of the flashlight/torch.\r\n&lt;br&gt;ref: https://developer.android.com/reference/android/hardware/camera2/CameraManager\r\n\r\nyou must also add Camera and Flashlight permissions to access the status.\r\n","title":"Android application which shows toast message when user turns on and off the Flashlight from the System","body":"<p>I don't think there is any broadcast receiver to register for tracking flashlight/torch status. Where do you get this <code>android.hardware.action.Action_Torch_On</code> from?</p>\n<p>You would need to utilize the camera manager to track the status of the flashlight/torch.\n<br>ref: <a href=\"https://developer.android.com/reference/android/hardware/camera2/CameraManager\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/hardware/camera2/CameraManager</a></p>\n<p>you must also add Camera and Flashlight permissions to access the status.</p>\n"}],"owner":{"account_id":27764711,"reputation":29,"user_id":21196290,"display_name":"Dhwani Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696496517,"creation_date":1696477308,"question_id":77234122,"body_markdown":"I want to create an Android application using Java that displays the toast message when the user turns on or off the flashlight from the system and not from the app.\r\nI discovered that there is no built-in broadcaster to receive this information and I have to create the custom broadcast receiver for this.\r\nPlease someone help with the logic to build the custom broadcast receiver for the state of the flashlight.\r\n\r\n\r\n```\r\npackage com.example.lab7_torch;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.provider.Settings;\r\nimport android.widget.Toast;\r\n\r\npublic class TorchChangeReceiver extends BroadcastReceiver {\r\n\r\n    public void onReceive(Context context, Intent intent){\r\n\r\n        if(intent != null &amp;&amp; intent.getAction() != null){\r\n            if(intent.getAction().equals(&quot;android.hardware.action.Action_Torch_On&quot;)) {\r\n                boolean isTorchOn = intent.getBooleanExtra(&quot;torch_state&quot;, false);\r\n\r\n                if (isTorchOn){\r\n                    Toast.makeText(context,&quot;Torch is On&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(context,&quot;Torch is Off&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n\r\n}\r\n\r\n```\r\n\r\nI tried this code for a custom broadcast receiver but it is not working.\r\n","title":"Android application which shows toast message when user turns on and off the Flashlight from the System","body":"<p>I want to create an Android application using Java that displays the toast message when the user turns on or off the flashlight from the system and not from the app.\nI discovered that there is no built-in broadcaster to receive this information and I have to create the custom broadcast receiver for this.\nPlease someone help with the logic to build the custom broadcast receiver for the state of the flashlight.</p>\n<pre><code>package com.example.lab7_torch;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.provider.Settings;\nimport android.widget.Toast;\n\npublic class TorchChangeReceiver extends BroadcastReceiver {\n\n    public void onReceive(Context context, Intent intent){\n\n        if(intent != null &amp;&amp; intent.getAction() != null){\n            if(intent.getAction().equals(&quot;android.hardware.action.Action_Torch_On&quot;)) {\n                boolean isTorchOn = intent.getBooleanExtra(&quot;torch_state&quot;, false);\n\n                if (isTorchOn){\n                    Toast.makeText(context,&quot;Torch is On&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(context,&quot;Torch is Off&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n\n}\n\n</code></pre>\n<p>I tried this code for a custom broadcast receiver but it is not working.</p>\n"},{"tags":["java",".net","exception"],"answers":[{"comments":[{"owner":{"account_id":30896,"reputation":10219,"user_id":84535,"display_name":"Dykam"},"score":33,"creation_date":1267045279,"post_id":2329381,"comment_id":2299491,"body_markdown":"I say it is something quite different. The NIE also tells it may not implemented yet, where the UOE says me it never will...","body":"I say it is something quite different. The NIE also tells it may not implemented yet, where the UOE says me it never will..."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":5,"creation_date":1267045598,"post_id":2329381,"comment_id":2299534,"body_markdown":"@Dykam, then wouldn&#39;t it be a NotImplementedYetException?","body":"@Dykam, then wouldn&#39;t it be a NotImplementedYetException?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":127,"creation_date":1267045711,"post_id":2329381,"comment_id":2299555,"body_markdown":"@Dykam: `new UnsupportedOperationException(&quot;Not implemented yet&quot;)` - happy?","body":"@Dykam: <code>new UnsupportedOperationException(&quot;Not implemented yet&quot;)</code> - happy?"},{"owner":{"account_id":30896,"reputation":10219,"user_id":84535,"display_name":"Dykam"},"score":3,"creation_date":1267076817,"post_id":2329381,"comment_id":2302212,"body_markdown":"I didn&#39;t mean it was worse, just had a different use case.","body":"I didn&#39;t mean it was worse, just had a different use case."},{"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"score":6,"creation_date":1309944911,"post_id":2329381,"comment_id":7779490,"body_markdown":"new UnsupportedOperationException(&quot;Not implemented yet&quot;) is an awesome idea! :) in lang3 for some reason I don&#39;t have NotImplementedException so this is a great solution","body":"new UnsupportedOperationException(&quot;Not implemented yet&quot;) is an awesome idea! :) in lang3 for some reason I don&#39;t have NotImplementedException so this is a great solution"},{"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"score":3,"creation_date":1390083766,"post_id":2329381,"comment_id":31942629,"body_markdown":"@Dykam In .NET, `NotSupportedException` and `NotImplementedException` have very different meanings. In Java, however, the de facto standard is using `UnsupportedOperationException` in both cases, with the message indicating that the method is not yet implemented (where applicable). Even if you use a custom `NotImplementedException` for your own code, you can never assume in Java that `UnsupportedOperationException` means the method &quot;won&#39;t&quot; be implemented.","body":"@Dykam In .NET, <code>NotSupportedException</code> and <code>NotImplementedException</code> have very different meanings. In Java, however, the de facto standard is using <code>UnsupportedOperationException</code> in both cases, with the message indicating that the method is not yet implemented (where applicable). Even if you use a custom <code>NotImplementedException</code> for your own code, you can never assume in Java that <code>UnsupportedOperationException</code> means the method &quot;won&#39;t&quot; be implemented."},{"owner":{"account_id":30896,"reputation":10219,"user_id":84535,"display_name":"Dykam"},"score":1,"creation_date":1390090635,"post_id":2329381,"comment_id":31944541,"body_markdown":"Funny that you comment, started using Java more often not too long ago, and this is in the Apache libs: [`NotImplementedException`](http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html). Which inherits `UnsupportedOperationException`.","body":"Funny that you comment, started using Java more often not too long ago, and this is in the Apache libs: <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\" rel=\"nofollow noreferrer\"><code>NotImplementedException</code></a>. Which inherits <code>UnsupportedOperationException</code>."},{"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"score":2,"creation_date":1433378395,"post_id":2329381,"comment_id":49331771,"body_markdown":"FWIW this is how the Netbeans IDE implements auto-generated methods.  Actually Netbeans also adds a comment:  `throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.`","body":"FWIW this is how the Netbeans IDE implements auto-generated methods.  Actually Netbeans also adds a comment:  <code>throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); &#47;&#47;To change body of generated methods, choose Tools | Templates.</code>"}],"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"comment_count":8,"down_vote_count":2,"up_vote_count":335,"is_accepted":false,"score":333,"last_activity_date":1463483626,"creation_date":1267044424,"answer_id":2329381,"question_id":2329358,"body_markdown":"I think the [`java.lang.UnsupportedOperationException`][1] is what you are looking for.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>I think the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>java.lang.UnsupportedOperationException</code></a> is what you are looking for.</p>\n"},{"comments":[{"owner":{"account_id":155120,"reputation":798,"user_id":371553,"display_name":"Michael Younkin"},"score":27,"creation_date":1313767057,"post_id":2329389,"comment_id":8536958,"body_markdown":"It appears that NotImplementedException has been removed from Commons Lang 3.0.","body":"It appears that NotImplementedException has been removed from Commons Lang 3.0."},{"owner":{"account_id":250793,"reputation":2496,"user_id":527718,"accept_rate":88,"display_name":"L.Butz"},"score":16,"creation_date":1337177168,"post_id":2329389,"comment_id":13762993,"body_markdown":"I think since the UnsupportedOperationException is part of the collections framework, it should only be used if it is used in the conext of Collections. Otherwise a RuntimeException should be used. http://docs.oracle.com/javase/7/docs/technotes/guides/collections/index.html","body":"I think since the UnsupportedOperationException is part of the collections framework, it should only be used if it is used in the conext of Collections. Otherwise a RuntimeException should be used. <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/collections/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/collections/&hellip;</a>"},{"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"score":14,"creation_date":1337887533,"post_id":2329389,"comment_id":13960399,"body_markdown":"@LeonardButz It comes from java.lang: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/UnsupportedOperationException.html","body":"@LeonardButz It comes from java.lang: <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":250793,"reputation":2496,"user_id":527718,"accept_rate":88,"display_name":"L.Butz"},"score":5,"creation_date":1342004171,"post_id":2329389,"comment_id":15079961,"body_markdown":"@RaviWallau I saw this: http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html There stands that this class is a member of the Java Collection Framework.","body":"@RaviWallau I saw this: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> There stands that this class is a member of the Java Collection Framework."},{"owner":{"account_id":936266,"reputation":16127,"user_id":965176,"accept_rate":33,"display_name":"qwertzguy"},"score":5,"creation_date":1421188762,"post_id":2329389,"comment_id":44263272,"body_markdown":"It has been readded in Commons Lang 3.2: http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/","body":"It has been readded in Commons Lang 3.2: <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-3.2</a>"}],"tags":[],"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"comment_count":5,"down_vote_count":1,"up_vote_count":585,"is_accepted":true,"score":584,"last_activity_date":1524460262,"creation_date":1267044484,"answer_id":2329389,"question_id":2329358,"body_markdown":"[Commons Lang][1] has it. Or you could throw an [`UnsupportedOperationException`][2].\n\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\" rel=\"noreferrer\">Commons Lang</a> has it. Or you could throw an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>UnsupportedOperationException</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":374340,"reputation":4231,"user_id":724491,"display_name":"Chiara Coetzee"},"score":3,"creation_date":1333199956,"post_id":5607373,"comment_id":12714981,"body_markdown":"I like this solution the best because it&#39;s easy to have a special error handler for it, it&#39;s easy to search for it by finding all references to the NotImplementedException constructor, and it&#39;s just a few lines of code. But it is a bit inconvenient to have to declare a new class with its own file.","body":"I like this solution the best because it&#39;s easy to have a special error handler for it, it&#39;s easy to search for it by finding all references to the NotImplementedException constructor, and it&#39;s just a few lines of code. But it is a bit inconvenient to have to declare a new class with its own file."},{"owner":{"account_id":1230575,"reputation":16783,"user_id":1195273,"accept_rate":81,"display_name":"crush"},"score":1,"creation_date":1378385434,"post_id":5607373,"comment_id":27437572,"body_markdown":"I agree. This is better than the use of `UnsupportedOperationException` in my opinion. Now, if only Java would add this to the common library of exceptions!","body":"I agree. This is better than the use of <code>UnsupportedOperationException</code> in my opinion. Now, if only Java would add this to the common library of exceptions!"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1593608916,"post_id":5607373,"comment_id":110840381,"body_markdown":"Actually, `UnsupportedOperationException` also extends `RuntimeException`, and it supports an optional message.","body":"Actually, <code>UnsupportedOperationException</code> also extends <code>RuntimeException</code>, and it supports an optional message."}],"tags":[],"owner":{"account_id":359077,"reputation":2022,"user_id":700254,"accept_rate":100,"display_name":"Ready4Android"},"comment_count":3,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1696496420,"creation_date":1302377954,"answer_id":5607373,"question_id":2329358,"body_markdown":"You could do it yourself (that&#39;s what I did) - in order to not be bothered with exception handling, you simply extend RuntimeException. Your class could look something like this:\r\n\r\n    public class NotImplementedException extends RuntimeException {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic NotImplementedException(){}\r\n    }\r\n\r\nYou could extend it to take a message - but if you use the method as I do (that is, as a reminder that there is still something to be implemented), then usually there is no need for additional messages.\r\n\r\nI dare say, that I only use this method, while I am in the process of developing a system, makes it easier for me to not lose track of which methods are still not implemented properly :)","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>You could do it yourself (that's what I did) - in order to not be bothered with exception handling, you simply extend RuntimeException. Your class could look something like this:</p>\n<pre><code>public class NotImplementedException extends RuntimeException {\n\n    private static final long serialVersionUID = 1L;\n\n    public NotImplementedException(){}\n}\n</code></pre>\n<p>You could extend it to take a message - but if you use the method as I do (that is, as a reminder that there is still something to be implemented), then usually there is no need for additional messages.</p>\n<p>I dare say, that I only use this method, while I am in the process of developing a system, makes it easier for me to not lose track of which methods are still not implemented properly :)</p>\n"},{"tags":[],"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"comment_count":0,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1402640148,"creation_date":1390083122,"answer_id":21210530,"question_id":2329358,"body_markdown":"No there isn&#39;t and it&#39;s probably not there, because there are very few valid uses for it. I would think twice before using it. Also, it is indeed easy to create yourself.\r\n\r\nPlease refer to [this discussion](https://stackoverflow.com/questions/410719/why-does-notimplementedexception-exist) about why it&#39;s even in .NET.\r\n\r\nI guess `UnsupportedOperationException` comes close, although it doesn&#39;t say the operation is just not implemented, but unsupported even. That could imply no valid implementation is possible. Why would the operation be unsupported? Should it even be there? \r\nInterface segregation or Liskov substitution issues maybe?\r\n\r\nIf it&#39;s work in progress I&#39;d go for `ToBeImplementedException`, but I&#39;ve never caught myself defining a concrete method and then leave it for so long it makes it into production and there would be a need for such an exception.","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>No there isn't and it's probably not there, because there are very few valid uses for it. I would think twice before using it. Also, it is indeed easy to create yourself.</p>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/410719/why-does-notimplementedexception-exist\">this discussion</a> about why it's even in .NET.</p>\n\n<p>I guess <code>UnsupportedOperationException</code> comes close, although it doesn't say the operation is just not implemented, but unsupported even. That could imply no valid implementation is possible. Why would the operation be unsupported? Should it even be there? \nInterface segregation or Liskov substitution issues maybe?</p>\n\n<p>If it's work in progress I'd go for <code>ToBeImplementedException</code>, but I've never caught myself defining a concrete method and then leave it for so long it makes it into production and there would be a need for such an exception.</p>\n"},{"tags":[],"owner":{"account_id":4922,"reputation":4885,"user_id":7641,"accept_rate":83,"display_name":"Jens Bannmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1531047940,"creation_date":1526972791,"answer_id":50461711,"question_id":2329358,"body_markdown":"As mentioned, the JDK does not have a close match. However, my team occasionally has a use for such an exception as well. We could have gone with `UnsupportedOperationException` as suggested by other answers, but we prefer a custom exception class in our base library that has deprecated constructors:\r\n\r\n    public class NotYetImplementedException extends RuntimeException\r\n    {\r\n        /**\r\n         * @deprecated Deprecated to remind you to implement the corresponding code\r\n         *             before releasing the software.\r\n         */\r\n        @Deprecated\r\n        public NotYetImplementedException()\r\n        {\r\n        }\r\n    \r\n        /**\r\n         * @deprecated Deprecated to remind you to implement the corresponding code\r\n         *             before releasing the software.\r\n         */\r\n        @Deprecated\r\n        public NotYetImplementedException(String message)\r\n        {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nThis approach has the following benefits:\r\n\r\n 1. When readers see `NotYetImplementedException`, they know that an implementation was planned and was either forgotten or is still in progress, whereas `UnsupportedOperationException` says (in line with [collection contracts][1]) that something will never be implemented. That&#39;s why we have the word &quot;yet&quot; in the class name. Also, an IDE can easily list the call sites.\r\n 2. With the deprecation warning at each call site, your IDE and static code analysis tool can remind you where you still have to implement something. (This use of deprecation may feel wrong to some, but in fact [deprecation is not limited to announcing removal][2].)\r\n 3. The constructors are deprecated, not the class. This way, you only get a deprecation warning inside the method that needs implementing, not at the `import` line (JDK 9 [fixed this][3], though).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\r\n  [2]: https://stackoverflow.com/a/50303393/7641\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8032211","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>As mentioned, the JDK does not have a close match. However, my team occasionally has a use for such an exception as well. We could have gone with <code>UnsupportedOperationException</code> as suggested by other answers, but we prefer a custom exception class in our base library that has deprecated constructors:</p>\n\n<pre><code>public class NotYetImplementedException extends RuntimeException\n{\n    /**\n     * @deprecated Deprecated to remind you to implement the corresponding code\n     *             before releasing the software.\n     */\n    @Deprecated\n    public NotYetImplementedException()\n    {\n    }\n\n    /**\n     * @deprecated Deprecated to remind you to implement the corresponding code\n     *             before releasing the software.\n     */\n    @Deprecated\n    public NotYetImplementedException(String message)\n    {\n        super(message);\n    }\n}\n</code></pre>\n\n<p>This approach has the following benefits:</p>\n\n<ol>\n<li>When readers see <code>NotYetImplementedException</code>, they know that an implementation was planned and was either forgotten or is still in progress, whereas <code>UnsupportedOperationException</code> says (in line with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\" rel=\"noreferrer\">collection contracts</a>) that something will never be implemented. That's why we have the word \"yet\" in the class name. Also, an IDE can easily list the call sites.</li>\n<li>With the deprecation warning at each call site, your IDE and static code analysis tool can remind you where you still have to implement something. (This use of deprecation may feel wrong to some, but in fact <a href=\"https://stackoverflow.com/a/50303393/7641\">deprecation is not limited to announcing removal</a>.)</li>\n<li>The constructors are deprecated, not the class. This way, you only get a deprecation warning inside the method that needs implementing, not at the <code>import</code> line (JDK 9 <a href=\"https://bugs.openjdk.java.net/browse/JDK-8032211\" rel=\"noreferrer\">fixed this</a>, though).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658029411,"creation_date":1658029411,"answer_id":73009122,"question_id":2329358,"body_markdown":"In the spirit of Stackoverflow being a [combination of Reddit and Wikipedia][1], here&#39;s some additional information, which is relevant to the question, and can also be an answer to the question.\r\n\r\nWhen you ask NetBeans IDE to create a missing implementation, it uses a [**UnsupportedOperationException**][2]:\r\n\r\n\r\n```\r\nvoid setPropertiesWithReader(IDataReader rdr)\r\n{\r\n   throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n}\r\n```\r\n\r\nIf it&#39;s good enough for NetBeans, it&#39;s good enough for us.\r\n\r\n\r\n  [1]: https://www.joelonsoftware.com/2008/09/15/stack-overflow-launches/\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>In the spirit of Stackoverflow being a <a href=\"https://www.joelonsoftware.com/2008/09/15/stack-overflow-launches/\" rel=\"nofollow noreferrer\">combination of Reddit and Wikipedia</a>, here's some additional information, which is relevant to the question, and can also be an answer to the question.</p>\n<p>When you ask NetBeans IDE to create a missing implementation, it uses a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\"><strong>UnsupportedOperationException</strong></a>:</p>\n<pre><code>void setPropertiesWithReader(IDataReader rdr)\n{\n   throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n}\n</code></pre>\n<p>If it's good enough for NetBeans, it's good enough for us.</p>\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191636,"favorite_count":0,"down_vote_count":3,"up_vote_count":611,"accepted_answer_id":2329389,"answer_count":6,"score":608,"last_activity_date":1696496420,"creation_date":1267044268,"question_id":2329358,"body_markdown":"Is there anything like .NET&#39;s `NotImplementedException` in Java?","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>Is there anything like .NET's <code>NotImplementedException</code> in Java?</p>\n"},{"tags":["java","geotools","jts"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696503474,"post_id":77235454,"comment_id":136162702,"body_markdown":"It sounds like eclipse is not picking up the jts jar - can you check it&#39;s on the project classpath? I think that is in build options tab","body":"It sounds like eclipse is not picking up the jts jar - can you check it&#39;s on the project classpath? I think that is in build options tab"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696504067,"post_id":77235454,"comment_id":136162807,"body_markdown":"Hi Ian, thank you for your response. Yes, the jts jar is in the ./classpath of eclipse. The error appears when I execute the code, not in the compilation of the project. That&#39;s the wierd part.","body":"Hi Ian, thank you for your response. Yes, the jts jar is in the ./classpath of eclipse. The error appears when I execute the code, not in the compilation of the project. That&#39;s the wierd part."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696508464,"post_id":77235454,"comment_id":136163733,"body_markdown":"How are you executing it? this would be using the SPI factory finding code which requires all the `META-INF/services` files to be combined some how - so it&#39;s possible that one of them is being overwritten by a later one","body":"How are you executing it? this would be using the SPI factory finding code which requires all the <code>META-INF&#47;services</code> files to be combined some how - so it&#39;s possible that one of them is being overwritten by a later one"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696587399,"post_id":77235454,"comment_id":136175353,"body_markdown":"I&#39;m running the application with Wildfly. I can&#39;t find the meta-inf/services directory. How i can know if one of them is being overwritten by a later one?","body":"I&#39;m running the application with Wildfly. I can&#39;t find the meta-inf/services directory. How i can know if one of them is being overwritten by a later one?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696595105,"post_id":77235454,"comment_id":136176763,"body_markdown":"Do you drop in multiple jars or a single jar? See the bottom of the [FAQ](https://docs.geotools.org/latest/userguide/build/faq.html)","body":"Do you drop in multiple jars or a single jar? See the bottom of the <a href=\"https://docs.geotools.org/latest/userguide/build/faq.html\" rel=\"nofollow noreferrer\">FAQ</a>"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696835327,"post_id":77235454,"comment_id":136198700,"body_markdown":"Hi, I don&#39;t drop the project in any jar, I create a war. When I compile with maven I could use the maven plugin that is explained in the last question of the FAQ? Thank you again.","body":"Hi, I don&#39;t drop the project in any jar, I create a war. When I compile with maven I could use the maven plugin that is explained in the last question of the FAQ? Thank you again."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696839413,"post_id":77235454,"comment_id":136199357,"body_markdown":"A correctly constructed war file should have no problem - are you sure it contains the jts jar?","body":"A correctly constructed war file should have no problem - are you sure it contains the jts jar?"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696842711,"post_id":77235454,"comment_id":136199972,"body_markdown":"Yes, all the jars are in the WEB-INF/lib, including the jts jar. When I compile it with maven it works fine. Is when i try to execute it with Eclipse that shows the error.","body":"Yes, all the jars are in the WEB-INF/lib, including the jts jar. When I compile it with maven it works fine. Is when i try to execute it with Eclipse that shows the error."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696847171,"post_id":77235454,"comment_id":136200761,"body_markdown":"Then eclipse isn&#39;t picking up the jars in the WEB-INF/lib have you added that to your classpath?","body":"Then eclipse isn&#39;t picking up the jars in the WEB-INF/lib have you added that to your classpath?"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1697177289,"post_id":77235454,"comment_id":136249439,"body_markdown":"I don&#39;t thick so. I tried to build a project only with the GeoTools and JTS libraries and there is working fine. Maybe in the project I have some libraries that are not compatible with this ones.","body":"I don&#39;t thick so. I tried to build a project only with the GeoTools and JTS libraries and there is working fine. Maybe in the project I have some libraries that are not compatible with this ones."}],"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696495414,"creation_date":1696494593,"question_id":77235454,"body_markdown":"I&#39;m having some trouble trying to create a Point and Polygon with JTS and GeoTools. I don&#39;t know what is causing the problem and I&#39;ve tried everything but nothing worked for me.\r\n\r\nIf I compile the project with maven everything works fine, but when I&#39;m executing it with Eclipse, when I try to create the Geometry Factory:\r\n\r\n    GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\r\n\r\nIt appears the next error: \r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.geotools.geometry.jts.JTSFactoryFinder from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\r\n\r\nIt happens the same when using the constructor:\r\n\r\n    GeometryFactory geometryFactory = new GeometryFactory();;\r\n \r\nIt shows the following error:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.locationtech.jts.geom.GeometryFactory from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\r\n\r\nThese are the imports:\r\n\r\n    import org.geotools.geometry.jts.JTSFactoryFinder;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.locationtech.jts.geom.Coordinate;\r\n    import org.locationtech.jts.geom.GeometryFactory;\r\n    import org.locationtech.jts.geom.Point;\r\n    import org.locationtech.jts.geom.Polygon;\r\n\r\nAnd this is the code:\r\n\r\n    // Patr&#243;n de expresi&#243;n regular para encontrar pares de n&#250;meros entre corchetes\r\n\tMatcher matcher;\r\n\t// GeometryFactory geometryFactory = new GeometryFactory();\r\n\tGeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\r\n\tif (&quot;Point&quot;.equals(geometryType))\r\n\t{\r\n\t\tPattern patternPoint = Pattern.compile(&quot;\\\\[([\\\\d.]+),\\\\s*([\\\\d.]+),\\\\s*([\\\\d.]+)\\\\]&quot;);\r\n\t\tmatcher = patternPoint.matcher(coordinates);\r\n\t\tif (matcher.find())\r\n\t\t{\r\n\t\t\tdouble x = Double.parseDouble(matcher.group(1));\r\n\t\t\tdouble y = Double.parseDouble(matcher.group(2));\r\n\r\n\t\t\tPoint point = geometryFactory.createPoint(new Coordinate(x, y));\r\n\t\t\tgeometryFeature.put(&quot;coordinates&quot;, point);\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tPattern patternPolyline = Pattern.compile(&quot;\\\\[\\\\s*([-+]?\\\\d+\\\\.\\\\d+),\\\\s*([-+]?\\\\d+\\\\.\\\\d+)\\\\s*\\\\]&quot;);\r\n\t\tmatcher = patternPolyline.matcher(coordinates);\r\n\r\n\t\t// Buscar y crear objetos Point/Polygon\r\n\t\tint i = 0;\r\n\t\tCoordinate[] coords = new Coordinate[] {};\r\n\t\twhile (matcher.find())\r\n\t\t{\r\n\t\t\tdouble x = Double.parseDouble(matcher.group(1));\r\n\t\t\tdouble y = Double.parseDouble(matcher.group(2));\r\n\r\n\t\t\tcoords[i] = new Coordinate(x, y);\r\n\t\t}\r\n\r\n\t\tPolygon polygon = geometryFactory.createPolygon(coords);\r\n\t\tgeometryFeature.put(&quot;coordinates&quot;, polygon);\r\n\t}\r\nThe pom.xml is this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jts-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\t\r\n\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\r\n\t     &lt;version&gt;28.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\r\n\t\t &lt;version&gt;28.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI don&#39;t know if I&#39;m missing some dependencies or if I&#39;m using the wrong version. In my project I&#39;m using java 8. \r\nI&#39;ve tried to add gt-main dependencies and is still not working. Do you think of something that I&#39;m doing wrong?\r\n\r\nThank you very much.","title":"Cannot create GeometryFactory : Caused by: java.lang.NoClassDefFoundError: org/geotools/geometry/jts/JTSFactoryFinder","body":"<p>I'm having some trouble trying to create a Point and Polygon with JTS and GeoTools. I don't know what is causing the problem and I've tried everything but nothing worked for me.</p>\n<p>If I compile the project with maven everything works fine, but when I'm executing it with Eclipse, when I try to create the Geometry Factory:</p>\n<pre><code>GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\n</code></pre>\n<p>It appears the next error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.geotools.geometry.jts.JTSFactoryFinder from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\n</code></pre>\n<p>It happens the same when using the constructor:</p>\n<pre><code>GeometryFactory geometryFactory = new GeometryFactory();;\n</code></pre>\n<p>It shows the following error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.locationtech.jts.geom.GeometryFactory from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\n</code></pre>\n<p>These are the imports:</p>\n<pre><code>import org.geotools.geometry.jts.JTSFactoryFinder;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.Point;\nimport org.locationtech.jts.geom.Polygon;\n</code></pre>\n<p>And this is the code:</p>\n<pre><code>// Patrón de expresión regular para encontrar pares de números entre corchetes\nMatcher matcher;\n// GeometryFactory geometryFactory = new GeometryFactory();\nGeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\nif (&quot;Point&quot;.equals(geometryType))\n{\n    Pattern patternPoint = Pattern.compile(&quot;\\\\[([\\\\d.]+),\\\\s*([\\\\d.]+),\\\\s*([\\\\d.]+)\\\\]&quot;);\n    matcher = patternPoint.matcher(coordinates);\n    if (matcher.find())\n    {\n        double x = Double.parseDouble(matcher.group(1));\n        double y = Double.parseDouble(matcher.group(2));\n\n        Point point = geometryFactory.createPoint(new Coordinate(x, y));\n        geometryFeature.put(&quot;coordinates&quot;, point);\n    }\n}\nelse\n{\n    Pattern patternPolyline = Pattern.compile(&quot;\\\\[\\\\s*([-+]?\\\\d+\\\\.\\\\d+),\\\\s*([-+]?\\\\d+\\\\.\\\\d+)\\\\s*\\\\]&quot;);\n    matcher = patternPolyline.matcher(coordinates);\n\n    // Buscar y crear objetos Point/Polygon\n    int i = 0;\n    Coordinate[] coords = new Coordinate[] {};\n    while (matcher.find())\n    {\n        double x = Double.parseDouble(matcher.group(1));\n        double y = Double.parseDouble(matcher.group(2));\n\n        coords[i] = new Coordinate(x, y);\n    }\n\n    Polygon polygon = geometryFactory.createPolygon(coords);\n    geometryFeature.put(&quot;coordinates&quot;, polygon);\n}\n</code></pre>\n<p>The pom.xml is this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\n    &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\n    &lt;version&gt;1.18.2&lt;/version&gt;\n&lt;/dependency&gt;   \n&lt;dependency&gt;\n     &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n     &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\n     &lt;version&gt;28.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n     &lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\n     &lt;version&gt;28.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I don't know if I'm missing some dependencies or if I'm using the wrong version. In my project I'm using java 8.\nI've tried to add gt-main dependencies and is still not working. Do you think of something that I'm doing wrong?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","android","android-databinding"],"comments":[{"owner":{"account_id":6972846,"reputation":319,"user_id":5348568,"display_name":"rguzman"},"score":0,"creation_date":1589458918,"post_id":61796884,"comment_id":109306129,"body_markdown":"Hello! Podr&#237;as agregar la clase de tu activity y de tu xml para poder ayudarte :)","body":"Hello! Podr&#237;as agregar la clase de tu activity y de tu xml para poder ayudarte :)"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1589460858,"post_id":61796884,"comment_id":109307288,"body_markdown":"added layout and fragment code","body":"added layout and fragment code"}],"answers":[{"comments":[{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1589988476,"post_id":61800643,"comment_id":109512459,"body_markdown":"Changed my import to specify the import [root-package].BR, and I don&#39;t see errors in the IDE, but at compilation, it fails to find the Br class. I also moved my @Bindable as you suggested.","body":"Changed my import to specify the import [root-package].BR, and I don&#39;t see errors in the IDE, but at compilation, it fails to find the Br class. I also moved my @Bindable as you suggested."}],"tags":[],"owner":{"account_id":12649988,"reputation":529,"user_id":9194489,"display_name":"Mateo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589468456,"creation_date":1589468456,"answer_id":61800643,"question_id":61796884,"body_markdown":"The `BR` class that is generated should be at the root package of your project, you&#39;re importing the wrong one. Also the `@Bindable` annotation should go on the public getter, not the private backing field. ","title":"databinding - can&#39;t find BR class","body":"<p>The <code>BR</code> class that is generated should be at the root package of your project, you're importing the wrong one. Also the <code>@Bindable</code> annotation should go on the public getter, not the private backing field. </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684847724,"post_id":76314296,"comment_id":134574669,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76314296/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28462674,"reputation":16,"user_id":21779185,"display_name":"Sharain Kapoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684936951,"creation_date":1684841706,"answer_id":76314296,"question_id":61796884,"body_markdown":"**Just restart the android studio, it would work.** \r\n","title":"databinding - can&#39;t find BR class","body":"<p><strong>Just restart the android studio, it would work.</strong></p>\n"},{"tags":[],"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696495412,"creation_date":1696494467,"answer_id":77235440,"question_id":61796884,"body_markdown":"Try to resolve the issue by adding the namespace.\r\n\r\n\r\n     android {\r\n           //...\r\n            namespace = &quot;com.your.package&quot;\r\n            android.buildFeatures.dataBinding = true\r\n        }","title":"databinding - can&#39;t find BR class","body":"<p>Try to resolve the issue by adding the namespace.</p>\n<pre><code> android {\n       //...\n        namespace = &quot;com.your.package&quot;\n        android.buildFeatures.dataBinding = true\n    }\n</code></pre>\n"}],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696495412,"creation_date":1589457769,"question_id":61796884,"body_markdown":"I&#39;m using android databinding, using [this post][1] as a guide. I realize it&#39;s not targeting androidx databinding, but I&#39;m not using androidx on my project yet, but am using the latest android support libraries.\r\n\r\nAnyways, I have my ViewModel extending BaseObservable. The BR class is being generated and appears correct. e.g. I can ctrl-click on BR.stateText and I&#39;m navigated to teh genreated class which is in `[app]\\build\\generated\\ap_generated_sources\\debug\\com.android.databinding.library.baseAdapters\\BR`. But, IntelliJ seems to not understand that the class acutally exists when I go to compile it.\r\n\r\n```\r\nimport android.databinding.BaseObservable;\r\nimport android.databinding.Bindable;\r\nimport com.android.databinding.library.baseAdapters.BR;\r\n\r\npublic class MyViewModel extends BaseObservable {\r\n\r\n    public MyViewModel() {\r\n        mStateText = &quot;DEFAULT_TEXT_123&quot;;\r\n    }\r\n\r\n    @Bindable\r\n    private String mStateText = null;\r\n\r\n    public String getStateText() {\r\n        return mStateText;\r\n    }\r\n\r\n    public void setStateText(String stateText) {\r\n        mStateText = stateText;\r\n        notifyPropertyChanged(BR.stateText);\r\n    }\r\n}\r\n\r\n```\r\n\r\nlayout:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:bind=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n        &lt;variable\r\n                name=&quot;viewModel&quot;\r\n                type=&quot;my.org.MyViewModel &quot;/&gt;\r\n    &lt;/data&gt;\r\n\r\n...\r\n\r\n\r\n        &lt;Button\r\n                android:layout_width=&quot;200dp&quot; android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_row=&quot;1&quot; android:layout_column=&quot;1&quot;\r\n                android:id=&quot;@+id/system_state_btn&quot;\r\n                android:text=&quot;@{viewModel.stateText}&quot;/&gt;\r\n```\r\n\r\n\r\nFragment:\r\n\r\n```\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        MainStatusBinding activityMainBinding = DataBindingUtil.setContentView(getActivity(), R.layout.main_status);\r\n        activityMainBinding.setViewModel(new MyViewModel());\r\n        activityMainBinding.executePendingBindings();\r\n\r\n        View rootView = inflater.inflate(R.layout.main_status, container, false);\r\n    ...\r\n\t```\r\n.\r\n\r\n```\r\nerror: cannot find symbol\r\nimport com.android.databinding.library.baseAdapters.BR;\r\n                                                   ^\r\n  symbol:   class BR\r\n  location: package com.android.databinding.library.baseAdapters\r\n```\r\n\r\nWhat is wrong with my setup that&#39;s causing IntelliJ to not recognize the class exists? Note, this fails for me when building on the commandline, so it&#39;s not specific to IntelliJ.\r\n\r\nIntelliJ: 2020.1\r\n\r\nGradle wrapper: 6.3\r\n\r\nandroid build tools: 28.0.3\r\n\r\nandroid gradle plugin: 3.5.0\r\n\r\n  [1]: https://www.journaldev.com/20292/android-mvvm-design-pattern","title":"databinding - can&#39;t find BR class","body":"<p>I'm using android databinding, using [this post][1] as a guide. I realize it's not targeting androidx databinding, but I'm not using androidx on my project yet, but am using the latest android support libraries.</p>\n\n<p>Anyways, I have my ViewModel extending BaseObservable. The BR class is being generated and appears correct. e.g. I can ctrl-click on BR.stateText and I'm navigated to teh genreated class which is in <code>[app]\\build\\generated\\ap_generated_sources\\debug\\com.android.databinding.library.baseAdapters\\BR</code>. But, IntelliJ seems to not understand that the class acutally exists when I go to compile it.</p>\n\n<pre><code>import android.databinding.BaseObservable;\nimport android.databinding.Bindable;\nimport com.android.databinding.library.baseAdapters.BR;\n\npublic class MyViewModel extends BaseObservable {\n\n    public MyViewModel() {\n        mStateText = \"DEFAULT_TEXT_123\";\n    }\n\n    @Bindable\n    private String mStateText = null;\n\n    public String getStateText() {\n        return mStateText;\n    }\n\n    public void setStateText(String stateText) {\n        mStateText = stateText;\n        notifyPropertyChanged(BR.stateText);\n    }\n}\n\n</code></pre>\n\n<p>layout:</p>\n\n<pre><code>\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:bind=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n                name=\"viewModel\"\n                type=\"my.org.MyViewModel \"/&gt;\n    &lt;/data&gt;\n\n...\n\n\n        &lt;Button\n                android:layout_width=\"200dp\" android:layout_height=\"wrap_content\"\n                android:layout_row=\"1\" android:layout_column=\"1\"\n                android:id=\"@+id/system_state_btn\"\n                android:text=\"@{viewModel.stateText}\"/&gt;\n</code></pre>\n\n<p>Fragment:</p>\n\n<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        MainStatusBinding activityMainBinding = DataBindingUtil.setContentView(getActivity(), R.layout.main_status);\n        activityMainBinding.setViewModel(new MyViewModel());\n        activityMainBinding.executePendingBindings();\n\n        View rootView = inflater.inflate(R.layout.main_status, container, false);\n    ...\n    ```\n.\n\n</code></pre>\n\n<p>error: cannot find symbol\nimport com.android.databinding.library.baseAdapters.BR;\n                                                   ^\n  symbol:   class BR\n  location: package com.android.databinding.library.baseAdapters</p>\n\n<pre><code>\nWhat is wrong with my setup that's causing IntelliJ to not recognize the class exists? Note, this fails for me when building on the commandline, so it's not specific to IntelliJ.\n\nIntelliJ: 2020.1\n\nGradle wrapper: 6.3\n\nandroid build tools: 28.0.3\n\nandroid gradle plugin: 3.5.0\n\n  [1]: https://www.journaldev.com/20292/android-mvvm-design-pattern\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9991,"page":143,"page_size":100}
