{"items":[{"tags":["java","mysql","hibernate","hql","spatial"],"owner":{"account_id":15450425,"reputation":227,"user_id":11145980,"display_name":"MPK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696457800,"creation_date":1696455636,"question_id":77233140,"body_markdown":"\r\nI have a working MySQL query that uses a custom function and a view to perform a spatial calculation. The function `vParameterFunction()` returns a point, and the view `vTestView` calculates the distance between points using the `ST_Distance_Sphere` function.\r\n\r\nHere&#39;s the MySQL code:\r\n\r\n```sql\r\n-- Function to return a point\r\ncreate function vParameterFunction() returns point\r\n    DETERMINISTIC NO SQL\r\n    return @vParameter;\r\n\r\n-- View that calculates distance\r\ncreate view vTestView as\r\nselect Location.*,\r\n       ST_Distance_Sphere(vParameterFunction(), point(Location.lon, Location.lat)) AS Distance\r\nfrom Location\r\nwhere Location.lon is not null\r\n  and Location.lat is not null\r\n  and ST_Distance_Sphere(ParameterFunction(), point(Location.lon, Location.lat));\r\n```\r\n\r\nI use the following MySQL query to select data from the `vTestView` view:\r\n\r\n```sql\r\nselect TV.*\r\nfrom (select @vParameter := point(-105.00862521404056, 39.75709045305179)) parm,\r\n     vTestView TV\r\nwhere TV.Distance &lt; 10000;\r\n```\r\n\r\nNow, I am trying to convert the above MySQL select statement into Hibernate Query Language (HQL) so that I can use it with Hibernate. I have created an entity for vTestView. How can I achieve this conversion, and what would be the equivalent HQL query for this use case?\r\n\r\n\r\n","title":"How to Convert MySQL Query with Function and View into HQL for Hibernate?","body":"<p>I have a working MySQL query that uses a custom function and a view to perform a spatial calculation. The function <code>vParameterFunction()</code> returns a point, and the view <code>vTestView</code> calculates the distance between points using the <code>ST_Distance_Sphere</code> function.</p>\n<p>Here's the MySQL code:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- Function to return a point\ncreate function vParameterFunction() returns point\n    DETERMINISTIC NO SQL\n    return @vParameter;\n\n-- View that calculates distance\ncreate view vTestView as\nselect Location.*,\n       ST_Distance_Sphere(vParameterFunction(), point(Location.lon, Location.lat)) AS Distance\nfrom Location\nwhere Location.lon is not null\n  and Location.lat is not null\n  and ST_Distance_Sphere(ParameterFunction(), point(Location.lon, Location.lat));\n</code></pre>\n<p>I use the following MySQL query to select data from the <code>vTestView</code> view:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select TV.*\nfrom (select @vParameter := point(-105.00862521404056, 39.75709045305179)) parm,\n     vTestView TV\nwhere TV.Distance &lt; 10000;\n</code></pre>\n<p>Now, I am trying to convert the above MySQL select statement into Hibernate Query Language (HQL) so that I can use it with Hibernate. I have created an entity for vTestView. How can I achieve this conversion, and what would be the equivalent HQL query for this use case?</p>\n"},{"tags":["java","android","firebase","webrtc"],"comments":[{"owner":{"account_id":13752654,"reputation":1511,"user_id":9924372,"display_name":"Arjun"},"score":0,"creation_date":1613982785,"post_id":48849218,"comment_id":117234260,"body_markdown":"Hello Bucky. Did you implement the voice calling feature?","body":"Hello Bucky. Did you implement the voice calling feature?"}],"answers":[{"tags":[],"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528903352,"creation_date":1518941965,"answer_id":48849736,"question_id":48849218,"body_markdown":"AFAIK I don&#39;t think `Firebase` has any support for voice calls for now . \r\n\r\n&gt; On other hand `WebRTC`((Web Real-Time Communication) is a free, open-source project that provides web browsers and mobile applications with real-time communication (RTC) via simple application programming interfaces (APIs).\r\n\r\nBasically what you need is a `Socket` for signalling with `SignallingServer` and `PeerConnection` for establishing the connection between two clients.\r\nBelow are some links to start with.\r\n\r\n1. [Get started](https://webrtc.org/start/)\r\n2.  [Step wise Sample for android](https://github.com/vivek1794/webrtc-android-codelab)\r\n\r\n\r\n`SignallingServer` implementation also provided in the sample. You will going to need `NODE.JS` to run it . `WebRTC` is pretty amazing.  \r\n\r\nIf you want to use `Firebase` as `SignallingServer` you can use it. But i think it will an overhead Whereas a simple `Socket` can work . \r\n\r\n \r\n \r\n ","title":"WebRTC Voice Chat Using Firebase","body":"<p>AFAIK I don't think <code>Firebase</code> has any support for voice calls for now . </p>\n\n<blockquote>\n  <p>On other hand <code>WebRTC</code>((Web Real-Time Communication) is a free, open-source project that provides web browsers and mobile applications with real-time communication (RTC) via simple application programming interfaces (APIs).</p>\n</blockquote>\n\n<p>Basically what you need is a <code>Socket</code> for signalling with <code>SignallingServer</code> and <code>PeerConnection</code> for establishing the connection between two clients.\nBelow are some links to start with.</p>\n\n<ol>\n<li><a href=\"https://webrtc.org/start/\" rel=\"nofollow noreferrer\">Get started</a></li>\n<li><a href=\"https://github.com/vivek1794/webrtc-android-codelab\" rel=\"nofollow noreferrer\">Step wise Sample for android</a></li>\n</ol>\n\n<p><code>SignallingServer</code> implementation also provided in the sample. You will going to need <code>NODE.JS</code> to run it . <code>WebRTC</code> is pretty amazing.  </p>\n\n<p>If you want to use <code>Firebase</code> as <code>SignallingServer</code> you can use it. But i think it will an overhead Whereas a simple <code>Socket</code> can work . </p>\n"}],"owner":{"account_id":7155897,"reputation":1146,"user_id":8207701,"accept_rate":54,"display_name":"Bucky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8068,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696456965,"creation_date":1518937046,"question_id":48849218,"body_markdown":"I have never tried webrtc before. I have an application made using Firebase. Now I&#39;m trying to add voice call feature in it.\r\n\r\nSo tried searching for some tutorials, Most are using PubNub or most tutorials are based on web app.\r\n\r\nI saw this stackoverflow thread and knew that it&#39;s possible to use webrtc using Firebase.\r\n\r\nhttps://stackoverflow.com/questions/41235917/voice-calls-over-a-chat-app-using-firebase\r\n\r\nAfter trying some tutorials, I wrote this code,\r\n\r\n\r\n        PeerConnectionFactory.initializeAndroidGlobals(this,false,true,true);\r\n        PeerConnectionFactory peerConnectionFactory = new PeerConnectionFactory();\r\n        AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n        AudioTrack audioTrack = peerConnectionFactory.createAudioTrack(&quot;4444&quot;,audioSource);\r\n        audioTrack.setEnabled(true);\r\n        MediaStream mediaStream = peerConnectionFactory.createLocalMediaStream(&quot;4444&quot;);\r\n        mediaStream.addTrack(audioTrack);\r\n\r\nBut then I&#39;m confused how to share the stream with other devices using Firebase. Need Help :(","title":"WebRTC Voice Chat Using Firebase","body":"<p>I have never tried webrtc before. I have an application made using Firebase. Now I'm trying to add voice call feature in it.</p>\n\n<p>So tried searching for some tutorials, Most are using PubNub or most tutorials are based on web app.</p>\n\n<p>I saw this stackoverflow thread and knew that it's possible to use webrtc using Firebase.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/41235917/voice-calls-over-a-chat-app-using-firebase\">Voice calls over a Chat app using Firebase</a></p>\n\n<p>After trying some tutorials, I wrote this code,</p>\n\n<pre><code>    PeerConnectionFactory.initializeAndroidGlobals(this,false,true,true);\n    PeerConnectionFactory peerConnectionFactory = new PeerConnectionFactory();\n    AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n    AudioTrack audioTrack = peerConnectionFactory.createAudioTrack(\"4444\",audioSource);\n    audioTrack.setEnabled(true);\n    MediaStream mediaStream = peerConnectionFactory.createLocalMediaStream(\"4444\");\n    mediaStream.addTrack(audioTrack);\n</code></pre>\n\n<p>But then I'm confused how to share the stream with other devices using Firebase. Need Help :(</p>\n"},{"tags":["java","spring-boot","redis","mockito"],"comments":[{"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"score":0,"creation_date":1696410349,"post_id":77226573,"comment_id":136147936,"body_markdown":"I don&#39;t see the method that should be `@Cacheable`.","body":"I don&#39;t see the method that should be <code>@Cacheable</code>."},{"owner":{"account_id":21654264,"reputation":1,"user_id":15974375,"display_name":"jalen002"},"score":0,"creation_date":1696456469,"post_id":77226573,"comment_id":136157116,"body_markdown":"@LejdiPrifti sorry about that I included the code that shows the method which has the Cacheable annotation","body":"@LejdiPrifti sorry about that I included the code that shows the method which has the Cacheable annotation"}],"owner":{"account_id":21654264,"reputation":1,"user_id":15974375,"display_name":"jalen002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696456390,"creation_date":1696390550,"question_id":77226573,"body_markdown":"I&#39;m learning Spring Boot and have built a simple RESTful API. In this API I&#39;m just simply adding &quot;student&quot; information. Every test runs successfully except for the test in the StudentConfigTest.java file. When I run this test, I&#39;m calling the studentRepository.findAll() method twice. The first time should invoke the repository, cache the data, and in the second call instead of invoking the method again, it should just return the data from the cache. Below are all of the related files:\r\n\r\nStudentConfigTest.java:\r\n\r\n```\r\npackage com.example.springApi.student;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.data.redis.DataRedisTest;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Import;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.mockito.BDDMockito.given;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\n@EnableCaching\r\n@DataRedisTest\r\n@Import(StudentService.class)\r\npublic class StudentConfigTest {\r\n\r\n    @MockBean\r\n    private StudentRepository studentRepository;\r\n\r\n    @Autowired\r\n    private StudentService studentService;\r\n\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        cacheManager.getCache(&quot;studentCache&quot;).clear();\r\n    }\r\n\r\n    @Test\r\n    void givenRedisCaching_whenGetStudents_thenStudentsReturnedFromCache() {\r\n        // Given\r\n        List&lt;Student&gt; students = Arrays.asList(\r\n                new Student(&quot;Alice&quot;, 25, &quot;alice@example.com&quot;),\r\n                new Student(&quot;Bob&quot;, 30, &quot;bob@example.com&quot;)\r\n        );\r\n        given(studentRepository.findAll()).willReturn(students);\r\n\r\n        // When\r\n        List&lt;Student&gt; studentsCacheMiss = studentService.getStudents();\r\n        List&lt;Student&gt; studentsCacheHit = studentService.getStudents();\r\n\r\n        // Then\r\n        assertThat(studentsCacheMiss).isEqualTo(students);\r\n        assertThat(studentsCacheHit).isEqualTo(students);\r\n\r\n        // Verify that the repository method was called only once during cache miss\r\n        verify(studentRepository, times(1)).findAll();\r\n\r\n        // Additional assertion to check caching behavior\r\n        assertThat(studentService.getStudents()).isEqualTo(students); // Cache hit again, should return the same list\r\n    }\r\n}\r\n```\r\n\r\nStudentRepository.java:\r\n\r\n```\r\npackage com.example.springApi.student;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n\r\n    @Query(&quot;SELECT s FROM Student s WHERE s.email = ?1&quot;)\r\n    Optional selectExistsEmail(String email);\r\n}\r\n\r\n```\r\nStudentConfig.java:\r\n\r\n```\r\npackage com.example.springApi.student;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\r\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\r\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\r\n\r\nimport java.time.Duration;\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class StudentConfig {\r\n    @Bean\r\n    public RedisCacheConfiguration cacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofMinutes(60))\r\n                .disableCachingNullValues()\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));\r\n    }\r\n\r\n    @Bean\r\n    public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\r\n        return (builder) -&gt; builder\r\n                .withCacheConfiguration(&quot;studentCache&quot;,\r\n                        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)));\r\n    }\r\n}\r\n\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/student\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\nserver.error.include-message=always\r\nspring.data.redis.host=localhost\r\nspring.data.redis.port=6379\r\n```\r\n\r\nStudentService.java:\r\n\r\n\r\n    \r\n    @Service\r\n    public class StudentService {\r\n        private final StudentRepository studentRepository;\r\n    \r\n        @Autowired\r\n        public StudentService(StudentRepository studentRepository) {\r\n            this.studentRepository = studentRepository;\r\n        }\r\n        @Cacheable(&quot;studentCache&quot;)\r\n        public List&lt;Student&gt; getStudents() {\r\n            return studentRepository.findAll();\r\n        }\r\n        public void addNewStudent(Student student){\r\n            Optional existsEmail = studentRepository.selectExistsEmail(student.getEmail());\r\n            if (existsEmail.isPresent()) {\r\n                throw new IllegalStateException(&quot;Email &quot; + student.getEmail() + &quot; taken&quot;);\r\n            }\r\n            if (!isValidName(student.getName())) {\r\n                throw new IllegalStateException(&quot;name can only contain letters&quot;);\r\n            }\r\n    \r\n            studentRepository.save(student);\r\n        }\r\n    \r\n        public boolean isValidName(String studentName) {\r\n            char[] chars = studentName.toCharArray();\r\n            System.out.println(chars);\r\n            for (char c: chars){\r\n                if (!Character.isLetter(c)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public void deleteStudent(Long studentId) {\r\n            boolean exists = studentRepository.existsById(studentId);\r\n            if (!exists) {\r\n                throw new IllegalStateException(&quot;student with id &quot; + studentId + &quot; does not exist&quot;);\r\n            }\r\n            studentRepository.deleteById(studentId);\r\n    \r\n        }\r\n    }\r\n\r\nAny help would be greatly appreciated!\r\n\r\n\r\n\r\nI put all of the relevant information above. Ignore this.","title":"Redis test isn&#39;t working - this test method is being called multiple times instead of being cached after the first","body":"<p>I'm learning Spring Boot and have built a simple RESTful API. In this API I'm just simply adding &quot;student&quot; information. Every test runs successfully except for the test in the StudentConfigTest.java file. When I run this test, I'm calling the studentRepository.findAll() method twice. The first time should invoke the repository, cache the data, and in the second call instead of invoking the method again, it should just return the data from the cache. Below are all of the related files:</p>\n<p>StudentConfigTest.java:</p>\n<pre><code>package com.example.springApi.student;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.redis.DataRedisTest;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Import;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.BDDMockito.given;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n@EnableCaching\n@DataRedisTest\n@Import(StudentService.class)\npublic class StudentConfigTest {\n\n    @MockBean\n    private StudentRepository studentRepository;\n\n    @Autowired\n    private StudentService studentService;\n\n    @Autowired\n    private CacheManager cacheManager;\n\n    @BeforeEach\n    void setUp() {\n        cacheManager.getCache(&quot;studentCache&quot;).clear();\n    }\n\n    @Test\n    void givenRedisCaching_whenGetStudents_thenStudentsReturnedFromCache() {\n        // Given\n        List&lt;Student&gt; students = Arrays.asList(\n                new Student(&quot;Alice&quot;, 25, &quot;alice@example.com&quot;),\n                new Student(&quot;Bob&quot;, 30, &quot;bob@example.com&quot;)\n        );\n        given(studentRepository.findAll()).willReturn(students);\n\n        // When\n        List&lt;Student&gt; studentsCacheMiss = studentService.getStudents();\n        List&lt;Student&gt; studentsCacheHit = studentService.getStudents();\n\n        // Then\n        assertThat(studentsCacheMiss).isEqualTo(students);\n        assertThat(studentsCacheHit).isEqualTo(students);\n\n        // Verify that the repository method was called only once during cache miss\n        verify(studentRepository, times(1)).findAll();\n\n        // Additional assertion to check caching behavior\n        assertThat(studentService.getStudents()).isEqualTo(students); // Cache hit again, should return the same list\n    }\n}\n</code></pre>\n<p>StudentRepository.java:</p>\n<pre><code>package com.example.springApi.student;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n\n    @Query(&quot;SELECT s FROM Student s WHERE s.email = ?1&quot;)\n    Optional selectExistsEmail(String email);\n}\n\n</code></pre>\n<p>StudentConfig.java:</p>\n<pre><code>package com.example.springApi.student;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\n\nimport java.time.Duration;\nimport java.util.List;\n\n@Configuration\npublic class StudentConfig {\n    @Bean\n    public RedisCacheConfiguration cacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofMinutes(60))\n                .disableCachingNullValues()\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));\n    }\n\n    @Bean\n    public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\n        return (builder) -&gt; builder\n                .withCacheConfiguration(&quot;studentCache&quot;,\n                        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)));\n    }\n}\n\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/student\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nserver.error.include-message=always\nspring.data.redis.host=localhost\nspring.data.redis.port=6379\n</code></pre>\n<p>StudentService.java:</p>\n<pre><code>@Service\npublic class StudentService {\n    private final StudentRepository studentRepository;\n\n    @Autowired\n    public StudentService(StudentRepository studentRepository) {\n        this.studentRepository = studentRepository;\n    }\n    @Cacheable(&quot;studentCache&quot;)\n    public List&lt;Student&gt; getStudents() {\n        return studentRepository.findAll();\n    }\n    public void addNewStudent(Student student){\n        Optional existsEmail = studentRepository.selectExistsEmail(student.getEmail());\n        if (existsEmail.isPresent()) {\n            throw new IllegalStateException(&quot;Email &quot; + student.getEmail() + &quot; taken&quot;);\n        }\n        if (!isValidName(student.getName())) {\n            throw new IllegalStateException(&quot;name can only contain letters&quot;);\n        }\n\n        studentRepository.save(student);\n    }\n\n    public boolean isValidName(String studentName) {\n        char[] chars = studentName.toCharArray();\n        System.out.println(chars);\n        for (char c: chars){\n            if (!Character.isLetter(c)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public void deleteStudent(Long studentId) {\n        boolean exists = studentRepository.existsById(studentId);\n        if (!exists) {\n            throw new IllegalStateException(&quot;student with id &quot; + studentId + &quot; does not exist&quot;);\n        }\n        studentRepository.deleteById(studentId);\n\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated!</p>\n<p>I put all of the relevant information above. Ignore this.</p>\n"},{"tags":["java","nullpointerexception","apache-commons"],"comments":[{"owner":{"account_id":195331,"reputation":275388,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1606958733,"post_id":65118291,"comment_id":115124390,"body_markdown":"Please provide a full stack trace that shows this happens in `SystemUtils.isJavaVersionAtLeast`.","body":"Please provide a full stack trace that shows this happens in <code>SystemUtils.isJavaVersionAtLeast</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1606956666,"creation_date":1606956666,"answer_id":65118333,"question_id":65118291,"body_markdown":"You&#39;re on an old version of lang3 which does not recognize the Java version you are on. More recent versions are trying to dance around the fact that hard crashing when a new java version is released was always rather daft, but more so when a new java release is available every 6 months, but evidently the version of lang3 you have predates this upgrade.\r\n\r\nMore generally, don&#39;t use apache commons libraries unless you have a very pressing need; they are not particularly good API designs. But, if you must, all you really need to do is update your version dep to the most recent. version `3.11` should do the trick.\r\n","title":"How to fix NullPointerException &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null?","body":"<p>You're on an old version of lang3 which does not recognize the Java version you are on. More recent versions are trying to dance around the fact that hard crashing when a new java version is released was always rather daft, but more so when a new java release is available every 6 months, but evidently the version of lang3 you have predates this upgrade.</p>\n<p>More generally, don't use apache commons libraries unless you have a very pressing need; they are not particularly good API designs. But, if you must, all you really need to do is update your version dep to the most recent. version <code>3.11</code> should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":14841767,"reputation":662,"user_id":10718292,"display_name":"Rogol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696456338,"creation_date":1696456338,"answer_id":77233201,"question_id":65118291,"body_markdown":"Try downgrading java in enviromental variables %JAVA_HOME% and Path, 1.8 should be enough","title":"How to fix NullPointerException &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null?","body":"<p>Try downgrading java in enviromental variables %JAVA_HOME% and Path, 1.8 should be enough</p>\n"}],"owner":{"display_name":"user14717506"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10375,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":65118333,"answer_count":2,"score":7,"last_activity_date":1696456338,"creation_date":1606956306,"question_id":65118291,"body_markdown":"I keep trying to run my code, but when I run it I get the message \r\n\r\n    &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.apache.commons.lang3.JavaVersion.atLeast(org.apache.commons.lang3.JavaVersion)&quot; because &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null&quot;\r\n\r\nAnyone know how to fix this? I appreciate the help.\r\n\r\n","title":"How to fix NullPointerException &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null?","body":"<p>I keep trying to run my code, but when I run it I get the message</p>\n<pre><code>&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.apache.commons.lang3.JavaVersion.atLeast(org.apache.commons.lang3.JavaVersion)&quot; because &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null&quot;\n</code></pre>\n<p>Anyone know how to fix this? I appreciate the help.</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696364446,"post_id":77135828,"comment_id":136142916,"body_markdown":"Do you define anywhere that the message objects should be converted to your custom type? Jackson cannot know what type your `@JsonProperty(&quot;object&quot;)` field is – you need to tell it","body":"Do you define anywhere that the message objects should be converted to your custom type? Jackson cannot know what type your <code>@JsonProperty(&quot;object&quot;)</code> field is – you need to tell it"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696400011,"post_id":77135828,"comment_id":136145982,"body_markdown":"@knittl yes, I define it in here `KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();` In this example T should be `KafkaMessageDTO&lt;TokenMobieDTO&gt; `","body":"@knittl yes, I define it in here <code>KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();</code> In this example T should be <code>KafkaMessageDTO&lt;TokenMobieDTO&gt; </code>"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696401501,"post_id":77135828,"comment_id":136146246,"body_markdown":"`T` has nothing to do with how the object is deserialized from JSON. Deserialization happens before the object is constructed and initialized, not when the field is accessed. Without telling Jackson the type, it will always fall back to `LinkedHashMap` for JSON objects (i.e. `{...}`)","body":"<code>T</code> has nothing to do with how the object is deserialized from JSON. Deserialization happens before the object is constructed and initialized, not when the field is accessed. Without telling Jackson the type, it will always fall back to <code>LinkedHashMap</code> for JSON objects (i.e. <code>{...}</code>)"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696401802,"post_id":77135828,"comment_id":136146304,"body_markdown":"So how can I handle that? Could you give me some examples, please?","body":"So how can I handle that? Could you give me some examples, please?"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696402425,"post_id":77135828,"comment_id":136146384,"body_markdown":"A quick search turned up those posts; I don&#39;t know enough about the Kafka listeners to judge which would apply: https://stackoverflow.com/q/51096351/112968, https://stackoverflow.com/q/61430128/112968, https://stackoverflow.com/q/70216775/112968, https://stackoverflow.com/q/55825642/112968 – you want to look for &quot;polymorphic JSON deserialization&quot; or similar. Note that Jackson can also convert a `Map` to a custom object (that could be a simple, viable workaround for you)","body":"A quick search turned up those posts; I don&#39;t know enough about the Kafka listeners to judge which would apply: <a href=\"https://stackoverflow.com/q/51096351/112968\">stackoverflow.com/q/51096351/112968</a>, <a href=\"https://stackoverflow.com/q/61430128/112968\">stackoverflow.com/q/61430128/112968</a>, <a href=\"https://stackoverflow.com/q/70216775/112968\">stackoverflow.com/q/70216775/112968</a>, <a href=\"https://stackoverflow.com/q/55825642/112968\">stackoverflow.com/q/55825642/112968</a> – you want to look for &quot;polymorphic JSON deserialization&quot; or similar. Note that Jackson can also convert a <code>Map</code> to a custom object (that could be a simple, viable workaround for you)"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696418152,"post_id":77135828,"comment_id":136149602,"body_markdown":"@knittl thanks a lot for your help but unfortunately none of them works well for my case. I have multiple topics and I need to use JsonSerializer/JsonDeserializer as a config. If there is another way to configure only `KafkaConsumerService` that might help. If you have another opinion, please let me know","body":"@knittl thanks a lot for your help but unfortunately none of them works well for my case. I have multiple topics and I need to use JsonSerializer/JsonDeserializer as a config. If there is another way to configure only <code>KafkaConsumerService</code> that might help. If you have another opinion, please let me know"}],"answers":[{"tags":[],"owner":{"account_id":6166039,"reputation":469,"user_id":7210926,"display_name":"Vipul Kumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695139214,"creation_date":1695139214,"answer_id":77136181,"question_id":77135828,"body_markdown":"The issue in your code is related to generic type erasure in Java. When you try to extract the object from KafkaMessageDTO, the generic type information is lost due to type erasure, making it impossible to directly access TokenMobieDTO.\r\n\r\nTo address this issue, you can modify your KafkaConsumerService class to pass the actual class type to the listenX method. Here&#39;s how you can do it:\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class KafkaConsumerService {\r\n\r\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\r\n    public &lt;T&gt; void listenX(KafkaMessageDTO&lt;T&gt; msg) {\r\n        log.info(&quot;MSG arrived to consumer&quot;);\r\n        T object = msg.getObject();\r\n        // Use &#39;object&#39; (e.g., cast it to TokenMobieDTO if needed)\r\n    }\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class KafkaMessageDTO&lt;T&gt; {\r\n\r\n    @JsonProperty(&quot;object&quot;)\r\n    private T object;\r\n\r\n    @JsonProperty(&quot;header&quot;)\r\n    private HttpHeaders headers;\r\n\r\n    // Getter for &#39;object&#39;\r\n    public T getObject() {\r\n        return object;\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to convert LinkedHashMap to a custom object?","body":"<p>The issue in your code is related to generic type erasure in Java. When you try to extract the object from KafkaMessageDTO, the generic type information is lost due to type erasure, making it impossible to directly access TokenMobieDTO.</p>\n<p>To address this issue, you can modify your KafkaConsumerService class to pass the actual class type to the listenX method. Here's how you can do it:</p>\n<pre><code>@Slf4j\n@Service\npublic class KafkaConsumerService {\n\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\n    public &lt;T&gt; void listenX(KafkaMessageDTO&lt;T&gt; msg) {\n        log.info(&quot;MSG arrived to consumer&quot;);\n        T object = msg.getObject();\n        // Use 'object' (e.g., cast it to TokenMobieDTO if needed)\n    }\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class KafkaMessageDTO&lt;T&gt; {\n\n    @JsonProperty(&quot;object&quot;)\n    private T object;\n\n    @JsonProperty(&quot;header&quot;)\n    private HttpHeaders headers;\n\n    // Getter for 'object'\n    public T getObject() {\n        return object;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696456143,"creation_date":1696419877,"answer_id":77229297,"question_id":77135828,"body_markdown":"As a workaround, you can convert the map with Jackson to your custom type. This will be inefficient (JSON is first parsed to a linked hash map, hash map is then converted), but it should work:\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class KafkaConsumerService {\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\r\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\r\n        log.info(&quot;MSG arrived to consumer&quot;);\r\n        final KafkaMessageDTO&lt;LinkedHashMap&gt; test = msg.getData();\r\n        final TokenMobieDTO dto = objectMapper.convertValue(\r\n                test.getObject(),\r\n                TokenMobieDTO.class);\r\n\r\n        // ..\r\n```\r\n\r\n(There are better approaches)\r\n\r\nResources:\r\n\r\n* https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo","title":"How to convert LinkedHashMap to a custom object?","body":"<p>As a workaround, you can convert the map with Jackson to your custom type. This will be inefficient (JSON is first parsed to a linked hash map, hash map is then converted), but it should work:</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Service\npublic class KafkaConsumerService {\n    private final ObjectMapper objectMapper;\n\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\n        log.info(&quot;MSG arrived to consumer&quot;);\n        final KafkaMessageDTO&lt;LinkedHashMap&gt; test = msg.getData();\n        final TokenMobieDTO dto = objectMapper.convertValue(\n                test.getObject(),\n                TokenMobieDTO.class);\n\n        // ..\n</code></pre>\n<p>(There are better approaches)</p>\n<p>Resources:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo\">Convert a Map&lt;String, String&gt; to a POJO</a></li>\n</ul>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77229297,"answer_count":2,"score":3,"last_activity_date":1696456143,"creation_date":1695136361,"question_id":77135828,"body_markdown":"I have a 2 topics on my Kafka Consumer side: topic A and topic B. Both are going to same method. The details of method as below;\r\n```java\r\n@Slf4j\r\n@Service\r\npublic class KafkaConsumerService {\r\n\r\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\r\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\r\n        log.info(&quot;MSG arrived to consumer&quot;);\r\n        KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();\r\n```\r\n-------------\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class KafkaMessageDTO&lt;T&gt; {\r\n\r\n    @JsonProperty(&quot;object&quot;)\r\n    private T object;\r\n\r\n    @JsonProperty(&quot;header&quot;)\r\n    private HttpHeaders headers;\r\n\r\n}\r\n```\r\nI always send that msg variable type is `KafkaMessageDTO&lt;TokenMobieDTO&gt;` to that method. Trying to extract object from KafkaMessageDTO (`kafkaMessageDTO.getObject()`) but unfortunately, I am not able to do that. \r\n\r\nIn debugging, I am able to see the values and looks like data is perfectly match as below\r\n[![enter image description here](https://i.stack.imgur.com/NeFcl.png)](https://i.stack.imgur.com/NeFcl.png)\r\n\r\nHow can I convert msg object to KafkaMessageDTO&lt;TokenMobieDTO&gt; object? While I am trying to convert that, I am receiving this error\r\n```txt\r\nthrew exception; nested exception is java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.token.dto.TokenMobieDTO (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;;\r\n```\r\n\r\nI have tried to mapping but like data doesn&#39;t contain List, I wasn&#39;t able to iterate. Problem still exists.","title":"How to convert LinkedHashMap to a custom object?","body":"<p>I have a 2 topics on my Kafka Consumer side: topic A and topic B. Both are going to same method. The details of method as below;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class KafkaConsumerService {\n\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\n        log.info(&quot;MSG arrived to consumer&quot;);\n        KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class KafkaMessageDTO&lt;T&gt; {\n\n    @JsonProperty(&quot;object&quot;)\n    private T object;\n\n    @JsonProperty(&quot;header&quot;)\n    private HttpHeaders headers;\n\n}\n</code></pre>\n<p>I always send that msg variable type is <code>KafkaMessageDTO&lt;TokenMobieDTO&gt;</code> to that method. Trying to extract object from KafkaMessageDTO (<code>kafkaMessageDTO.getObject()</code>) but unfortunately, I am not able to do that.</p>\n<p>In debugging, I am able to see the values and looks like data is perfectly match as below\n<a href=\"https://i.stack.imgur.com/NeFcl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NeFcl.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I convert msg object to KafkaMessageDTO object? While I am trying to convert that, I am receiving this error</p>\n<pre><code>threw exception; nested exception is java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.token.dto.TokenMobieDTO (java.util.LinkedHashMap is in module java.base of loader 'bootstrap';\n</code></pre>\n<p>I have tried to mapping but like data doesn't contain List, I wasn't able to iterate. Problem still exists.</p>\n"},{"tags":["java","git","intellij-idea"],"comments":[{"owner":{"account_id":28492010,"reputation":179,"user_id":21804501,"display_name":"Dino Letic"},"score":0,"creation_date":1696494575,"post_id":77233065,"comment_id":136160895,"body_markdown":"Hi Roy, \nGo to Search everywhere (double shift)\nType: Share project on\nGithub will pop up and then you will able to define repo name etc\n\nBtw, did you login to github via ide? This has to be done on: File | Settings | Version Control | GitHub","body":"Hi Roy,  Go to Search everywhere (double shift) Type: Share project on Github will pop up and then you will able to define repo name etc  Btw, did you login to github via ide? This has to be done on: File | Settings | Version Control | GitHub"},{"owner":{"account_id":24024818,"reputation":41,"user_id":18590971,"display_name":"Roy Huang"},"score":0,"creation_date":1696532469,"post_id":77233065,"comment_id":136168921,"body_markdown":"That was the issue, after i logged into github everything was solved....it was so simple.","body":"That was the issue, after i logged into github everything was solved....it was so simple."}],"owner":{"account_id":24024818,"reputation":41,"user_id":18590971,"display_name":"Roy Huang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696455556,"answer_count":0,"score":0,"last_activity_date":1696455674,"creation_date":1696454558,"question_id":77233065,"body_markdown":"I created a java project in IntelliJ and cannot commit it to the GitHub repo. \r\n\r\nI tried creating a repo first on GitHub and creating a project locally but cannot commit it to my repo. It always says the following error.\r\n\r\n```\r\ngit@github.com: Permission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\n```\r\n\r\nI must have done something wrong and can someone give me a clear tutorial on this?\r\n\r\n***I want to create a project locally on IntelliJ and then create a git repository for it. NOT the other way around.***","title":"How to create a project in IntelliJ then make a GitHub repository for it?","body":"<p>I created a java project in IntelliJ and cannot commit it to the GitHub repo.</p>\n<p>I tried creating a repo first on GitHub and creating a project locally but cannot commit it to my repo. It always says the following error.</p>\n<pre><code>git@github.com: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n</code></pre>\n<p>I must have done something wrong and can someone give me a clear tutorial on this?</p>\n<p><em><strong>I want to create a project locally on IntelliJ and then create a git repository for it. NOT the other way around.</strong></em></p>\n"},{"tags":["java","sql","spring-boot","jpa","querydsl"],"owner":{"account_id":14713938,"reputation":441,"user_id":10626449,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696454460,"creation_date":1696454460,"question_id":77233057,"body_markdown":"Good evening. I&#39;ve been stuck on an issue and wanted to see if anyone here has some advice. I recentlu upgraded my Springboot version from 2.5.14 to 3.1.3 and now one of my queries in not working. I see that MetadataBuilderContributor was deprecated, but I did not use this package in my previous version. When I run my code I get the error: \r\n\r\n*[You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;regexp(ed1_0.friends,&#39;\\\\b110081\\\\b&#39;)=1*\r\n\r\nDoes someone know why regex expressions are not resolving in QueryDSL? Please let me know if you guys see the issue in my code. Thank you in advance.\r\n\r\n```Expressions.booleanTemplate(&quot;function(&#39;regexp&#39;, {0}, {1})=1&quot;, QUser.friends, REGEX_FORMAT.formatted(userId)); ```\r\n","title":"QueryDSL regex Function not resolving","body":"<p>Good evening. I've been stuck on an issue and wanted to see if anyone here has some advice. I recentlu upgraded my Springboot version from 2.5.14 to 3.1.3 and now one of my queries in not working. I see that MetadataBuilderContributor was deprecated, but I did not use this package in my previous version. When I run my code I get the error:</p>\n<p><em>[You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'regexp(ed1_0.friends,'\\b110081\\b')=1</em></p>\n<p>Does someone know why regex expressions are not resolving in QueryDSL? Please let me know if you guys see the issue in my code. Thank you in advance.</p>\n<p><code>Expressions.booleanTemplate(&quot;function('regexp', {0}, {1})=1&quot;, QUser.friends, REGEX_FORMAT.formatted(userId)); </code></p>\n"},{"tags":["java","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672828274,"creation_date":1672827512,"answer_id":75003975,"question_id":75003789,"body_markdown":"You have misunderstood something.\r\n\r\n[Spring CLI][1]\r\n\r\n&gt; The Spring Boot CLI is a command line tool that you can use to\r\n&gt; bootstrap a new project from start.spring.io or encode a password.\r\n\r\nCLI is not part of `spring-boot-starter`. CLI is only a command line tool used as the [spring io initialized (Web)][2] but executes from your local command line instead.\r\n\r\nSo the [table][3] that you have referenced in your question means that if you use `Spring CLI` and ask for lombok dependency in a `spring-boot` app of either 2.7 or 3.0.1 the initializer will provide you a newly created project where it would already have declared as dependency the `lombok 1.18.24`.\r\n\r\nThis would not mean that you don&#39;t have to have declared a specific `lombok` dependency in your spring boot project. `spring-boot-starter-parent` would not have one declared for you.\r\n\r\nIt is just that the CLI would make automatically this declaration in the `pom` of your new project if you choose to use the CLI for project creation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/cli.html\r\n  [2]: https://start.spring.io/\r\n  [3]: https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions","title":"Spring Boot Migration from 2.7 to 3.0.1 Lombok issues `cannot find sybol`","body":"<p>You have misunderstood something.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/cli.html\" rel=\"nofollow noreferrer\">Spring CLI</a></p>\n<blockquote>\n<p>The Spring Boot CLI is a command line tool that you can use to\nbootstrap a new project from start.spring.io or encode a password.</p>\n</blockquote>\n<p>CLI is not part of <code>spring-boot-starter</code>. CLI is only a command line tool used as the <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">spring io initialized (Web)</a> but executes from your local command line instead.</p>\n<p>So the <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">table</a> that you have referenced in your question means that if you use <code>Spring CLI</code> and ask for lombok dependency in a <code>spring-boot</code> app of either 2.7 or 3.0.1 the initializer will provide you a newly created project where it would already have declared as dependency the <code>lombok 1.18.24</code>.</p>\n<p>This would not mean that you don't have to have declared a specific <code>lombok</code> dependency in your spring boot project. <code>spring-boot-starter-parent</code> would not have one declared for you.</p>\n<p>It is just that the CLI would make automatically this declaration in the <code>pom</code> of your new project if you choose to use the CLI for project creation.</p>\n"},{"tags":[],"owner":{"account_id":1155386,"reputation":472,"user_id":1136151,"display_name":"Arthur Kalimullin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681272641,"creation_date":1681272641,"answer_id":75991828,"question_id":75003789,"body_markdown":"Took me a long time to find the same issue you are facing. I believe you are facing this issue: https://github.com/projectlombok/lombok/issues/3331\r\n\r\nIf you are using `@ConstructorBinding` and didn&#39;t migrate it to the new way yet, `@ConstructorBinding` should be replaced with `@RequiredArgsConstructor(onConstructor_={@ConstructorBinding})` or removed altogether.\r\n\r\n","title":"Spring Boot Migration from 2.7 to 3.0.1 Lombok issues `cannot find sybol`","body":"<p>Took me a long time to find the same issue you are facing. I believe you are facing this issue: <a href=\"https://github.com/projectlombok/lombok/issues/3331\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/3331</a></p>\n<p>If you are using <code>@ConstructorBinding</code> and didn't migrate it to the new way yet, <code>@ConstructorBinding</code> should be replaced with <code>@RequiredArgsConstructor(onConstructor_={@ConstructorBinding})</code> or removed altogether.</p>\n"}],"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2396,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696454144,"creation_date":1672826464,"question_id":75003789,"body_markdown":"this post [Spring Boot 3 Lombock][1] I already read, it is exactly my issues but the solution does not help me. \r\n\r\nThe issue occured while migrating from Spring Boot 2.7 to 3.0.1. According to version of lombock both have 1.18.24, which to post above suggests using. See [Spring 2.7.X][2] and [Spring 3.0.X][3]. (Edit: I got those pages from [Spring-Boot-3.0-Migration-Guide][4])\r\n\r\nSo I get following error while `mvn clean compile` on my Entities annotated with @Data\r\n\r\n```\r\n[ERROR] /home/me/code/connect/services/integrator-service/src/main/java/de/comp/integratorservice/service/data/DataService.java:[113,52] cannot find symbol\r\n  symbol:   method getKey()\r\n  location: variable d of type de.comp.integratorservice.rest.dto.DataDto\r\n```\r\nAll pom.xml are altered to hide company names\r\n\r\nHere is my modules pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\r\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;artifactId&gt;integrator-service&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;name&gt;integrator-service&lt;/name&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-stream-test-support&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- open-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- when switchting to openapi from springfox swagger the compile didnt work any more...  https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Add application packages --&gt;\r\n    &lt;!-- some other dependencies from our company --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the one parent pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pname&lt;/artifactId&gt;\r\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n  &lt;properties&gt;\r\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\r\n    &lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\r\n    &lt;helm-maven-plugin.version&gt;6.6.1&lt;/helm-maven-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;modules&gt;\r\n\t...\r\n    &lt;module&gt;integrator-service&lt;/module&gt;\r\n    ...\r\n  &lt;/modules&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\r\n          &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${helm-maven-plugin.version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;chartDirectory&gt;${project.basedir}&lt;/chartDirectory&gt;\r\n            &lt;chartVersion&gt;${project.version}&lt;/chartVersion&gt;\r\n            &lt;useLocalHelmBinary&gt;true&lt;/useLocalHelmBinary&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;package-helm-chart&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;lint&lt;/goal&gt;\r\n                &lt;goal&gt;package&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.4.0&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/dependencies&lt;/outputDirectory&gt;\r\n                &lt;includeScope&gt;compile&lt;/includeScope&gt;\r\n                &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nand here is the parent`s parent pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;pname&lt;/artifactId&gt;\r\n  &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;modules&gt;\r\n    &lt;module&gt;pname-commons&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;default&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;pname-external-apis&lt;/module&gt;\r\n        &lt;module&gt;pname-apis&lt;/module&gt;\r\n        &lt;module&gt;pname-services&lt;/module&gt;\r\n        &lt;module&gt;pname-tools&lt;/module&gt;\r\n        &lt;module&gt;pname-tests&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    &lt;/profile&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;pname-tests&lt;/id&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;pname-tests&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.javadoc.skip&gt;true&lt;/maven.javadoc.skip&gt;\r\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n\r\n\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n    &lt;build.tag&gt;latest&lt;/build.tag&gt;\r\n    &lt;dockerfile.push.skip&gt;true&lt;/dockerfile.push.skip&gt;\r\n    &lt;codechecks.skip&gt;false&lt;/codechecks.skip&gt;\r\n    &lt;!-- spring-cloud must fit to the base spring-boot version --&gt;\r\n    &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n\r\n    &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    &lt;openapi-webmvc.version&gt;1.6.14&lt;/openapi-webmvc.version&gt;\r\n    &lt;swagger-annotations.version&gt;2.2.7&lt;/swagger-annotations.version&gt;\r\n    &lt;logstash-logback-encoder.version&gt;7.2&lt;/logstash-logback-encoder.version&gt;\r\n    &lt;com.microsoft.sqlserver.version&gt;11.2.2.jre17&lt;/com.microsoft.sqlserver.version&gt;\r\n    &lt;google.guava.version&gt;31.1-jre&lt;/google.guava.version&gt;\r\n    &lt;checkstyle-maven-plugin.version&gt;3.2.0&lt;/checkstyle-maven-plugin.version&gt;\r\n    &lt;com.puppycrawl.tools.checkstyle.version&gt;10.5.0&lt;/com.puppycrawl.tools.checkstyle.version&gt;\r\n    &lt;sca-rules.version&gt;1.3&lt;/sca-rules.version&gt;\r\n    &lt;spotbugs-maven-plugin.version&gt;4.7.3.0&lt;/spotbugs-maven-plugin.version&gt;\r\n    &lt;com.github.spotbugs.version&gt;4.7.3&lt;/com.github.spotbugs.version&gt;\r\n    &lt;de.comp.security-code-generator.version&gt;1.0.8&lt;/de.comp.security-code-generator.version&gt;\r\n    &lt;de.comp.kcu.version&gt;1.5.0&lt;/de.comp.kcu.version&gt;\r\n    &lt;org.testcontainers.mssqlserver.version&gt;1.17.6&lt;/org.testcontainers.mssqlserver.version&gt;\r\n    &lt;com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;1.34.2&lt;/com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;\r\n    &lt;com.azure.azure-storage-blob.version&gt;12.14.4&lt;/com.azure.azure-storage-blob.version&gt;\r\n    &lt;net.javacrumbs.shedlock.shedlock-spring.version&gt;4.43.0&lt;/net.javacrumbs.shedlock.shedlock-spring.version&gt;\r\n    &lt;joda-time.version&gt;2.12.2&lt;/joda-time.version&gt;\r\n    &lt;querydsl-apt.version&gt;5.0.0&lt;/querydsl-apt.version&gt;\r\n    &lt;reproducible-build-maven-plugin.version&gt;0.16&lt;/reproducible-build-maven-plugin.version&gt;\r\n    &lt;exec-maven-plugin.version&gt;3.1.0&lt;/exec-maven-plugin.version&gt;\r\n    &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\r\n    &lt;apache.collections.version&gt;4.4&lt;/apache.collections.version&gt;\r\n    &lt;org.immutables.value.version&gt;2.9.3&lt;/org.immutables.value.version&gt;\r\n    &lt;com.ibm.icu4j.version&gt;72.1&lt;/com.ibm.icu4j.version&gt;\r\n    &lt;hamcrest-junit.version&gt;2.0.0.0&lt;/hamcrest-junit.version&gt;\r\n    &lt;esper.version&gt;8.8.0&lt;/esper.version&gt;\r\n    &lt;esper-runtime.version&gt;8.8.0&lt;/esper-runtime.version&gt;\r\n    &lt;esper-common.version&gt;8.8.0&lt;/esper-common.version&gt;\r\n    &lt;esper-compiler.version&gt;8.8.0&lt;/esper-compiler.version&gt;\r\n    &lt;dockerfile.maven.version&gt;1.4.13&lt;/dockerfile.maven.version&gt;\r\n    &lt;apache.commons-text.version&gt;1.10.0&lt;/apache.commons-text.version&gt;\r\n    &lt;mockserver.version&gt;5.14.0&lt;/mockserver.version&gt;\r\n    &lt;scala.version&gt;2.13.10&lt;/scala.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n\r\n  &lt;distributionManagement&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;pname&lt;/id&gt;\r\n      &lt;url&gt;...&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/distributionManagement&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;pname&lt;/id&gt;\r\n      &lt;url&gt;...&lt;/url&gt;\r\n      &lt;releases&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n      &lt;/releases&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n    &lt;/repository&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;spring-milestones&lt;/id&gt;\r\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;pluginRepositories&gt;\r\n    ...\r\n  &lt;/pluginRepositories&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;!--\r\n           Exluding Sping Data mongodb to avoid CVE-2021-44906 (https://avd.aquasec.com/nvd/2021/cve-2021-44906/)\r\n           in versions prior to 3.3.5 and 3.4.1\r\n           --&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.6&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${openapi-webmvc.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${swagger-annotations.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.microsoft.sqlserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;${google.guava.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;security-code-generator&lt;/artifactId&gt;\r\n        &lt;version&gt;${de.comp.security-code-generator.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;de.comp.kcu&lt;/groupId&gt;\r\n        &lt;artifactId&gt;interfaces&lt;/artifactId&gt;\r\n        &lt;version&gt;${de.comp.kcu.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;!-- we manage our own version of this dependencies --&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.testcontainers.mssqlserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;iot-service-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.microsoft.azure.sdk.iot.iot-service-client.versions}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.azure.azure-storage-blob.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.github.spotbugs.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.ibm.icu4j.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n        &lt;version&gt;${apache.collections.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n        &lt;version&gt;${apache.commons-text.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\r\n        &lt;artifactId&gt;value&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.immutables.value.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-junit&lt;/artifactId&gt;\r\n        &lt;version&gt;${hamcrest-junit.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper-common&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper-common.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper-compiler&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper-compiler.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper-runtime.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockserver-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockserver-client-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\r\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- start\r\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\r\n          spring-cloud-stream-binder-kafka:3.25\r\n      --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n        &lt;version&gt;${scala.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- end\r\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\r\n          spring-cloud-stream-binder-kafka:3.25\r\n      --&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n                    &lt;/manifest&gt;\r\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${reproducible-build-maven-plugin.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;strip-jar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n          &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${dockerfile.maven.version}&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;build-tag-latest&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;build&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;tag-version&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;tag&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;tag&gt;${build.tag}&lt;/tag&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;push&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            ...\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74952527/spring-boot-3-with-lombok\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions\r\n  [3]: https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/dependency-versions.html#appendix.dependency-versions\r\n  [4]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\n","title":"Spring Boot Migration from 2.7 to 3.0.1 Lombok issues `cannot find sybol`","body":"<p>this post <a href=\"https://stackoverflow.com/questions/74952527/spring-boot-3-with-lombok\">Spring Boot 3 Lombock</a> I already read, it is exactly my issues but the solution does not help me.</p>\n<p>The issue occured while migrating from Spring Boot 2.7 to 3.0.1. According to version of lombock both have 1.18.24, which to post above suggests using. See <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring 2.7.X</a> and <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring 3.0.X</a>. (Edit: I got those pages from <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring-Boot-3.0-Migration-Guide</a>)</p>\n<p>So I get following error while <code>mvn clean compile</code> on my Entities annotated with @Data</p>\n<pre><code>[ERROR] /home/me/code/connect/services/integrator-service/src/main/java/de/comp/integratorservice/service/data/DataService.java:[113,52] cannot find symbol\n  symbol:   method getKey()\n  location: variable d of type de.comp.integratorservice.rest.dto.DataDto\n</code></pre>\n<p>All pom.xml are altered to hide company names</p>\n<p>Here is my modules pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\n    &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;integrator-service&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;integrator-service&lt;/name&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-stream-test-support&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- open-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- when switchting to openapi from springfox swagger the compile didnt work any more...  https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Add application packages --&gt;\n    &lt;!-- some other dependencies from our company --&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n      &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n      &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n        &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n        &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is the one parent pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\n    &lt;artifactId&gt;pname&lt;/artifactId&gt;\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n  &lt;properties&gt;\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\n    &lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\n    &lt;helm-maven-plugin.version&gt;6.6.1&lt;/helm-maven-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;modules&gt;\n    ...\n    &lt;module&gt;integrator-service&lt;/module&gt;\n    ...\n  &lt;/modules&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\n          &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${helm-maven-plugin.version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;chartDirectory&gt;${project.basedir}&lt;/chartDirectory&gt;\n            &lt;chartVersion&gt;${project.version}&lt;/chartVersion&gt;\n            &lt;useLocalHelmBinary&gt;true&lt;/useLocalHelmBinary&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;package-helm-chart&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;lint&lt;/goal&gt;\n                &lt;goal&gt;package&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.4.0&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;copy-dependencies&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/dependencies&lt;/outputDirectory&gt;\n                &lt;includeScope&gt;compile&lt;/includeScope&gt;\n                &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>and here is the parent`s parent pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.comp&lt;/groupId&gt;\n  &lt;artifactId&gt;pname&lt;/artifactId&gt;\n  &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;pname-commons&lt;/module&gt;\n  &lt;/modules&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;default&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;modules&gt;\n        &lt;module&gt;pname-external-apis&lt;/module&gt;\n        &lt;module&gt;pname-apis&lt;/module&gt;\n        &lt;module&gt;pname-services&lt;/module&gt;\n        &lt;module&gt;pname-tools&lt;/module&gt;\n        &lt;module&gt;pname-tests&lt;/module&gt;\n      &lt;/modules&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;pname-tests&lt;/id&gt;\n      &lt;modules&gt;\n        &lt;module&gt;pname-tests&lt;/module&gt;\n      &lt;/modules&gt;\n      &lt;properties&gt;\n        &lt;maven.javadoc.skip&gt;true&lt;/maven.javadoc.skip&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n    &lt;build.tag&gt;latest&lt;/build.tag&gt;\n    &lt;dockerfile.push.skip&gt;true&lt;/dockerfile.push.skip&gt;\n    &lt;codechecks.skip&gt;false&lt;/codechecks.skip&gt;\n    &lt;!-- spring-cloud must fit to the base spring-boot version --&gt;\n    &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n\n    &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;openapi-webmvc.version&gt;1.6.14&lt;/openapi-webmvc.version&gt;\n    &lt;swagger-annotations.version&gt;2.2.7&lt;/swagger-annotations.version&gt;\n    &lt;logstash-logback-encoder.version&gt;7.2&lt;/logstash-logback-encoder.version&gt;\n    &lt;com.microsoft.sqlserver.version&gt;11.2.2.jre17&lt;/com.microsoft.sqlserver.version&gt;\n    &lt;google.guava.version&gt;31.1-jre&lt;/google.guava.version&gt;\n    &lt;checkstyle-maven-plugin.version&gt;3.2.0&lt;/checkstyle-maven-plugin.version&gt;\n    &lt;com.puppycrawl.tools.checkstyle.version&gt;10.5.0&lt;/com.puppycrawl.tools.checkstyle.version&gt;\n    &lt;sca-rules.version&gt;1.3&lt;/sca-rules.version&gt;\n    &lt;spotbugs-maven-plugin.version&gt;4.7.3.0&lt;/spotbugs-maven-plugin.version&gt;\n    &lt;com.github.spotbugs.version&gt;4.7.3&lt;/com.github.spotbugs.version&gt;\n    &lt;de.comp.security-code-generator.version&gt;1.0.8&lt;/de.comp.security-code-generator.version&gt;\n    &lt;de.comp.kcu.version&gt;1.5.0&lt;/de.comp.kcu.version&gt;\n    &lt;org.testcontainers.mssqlserver.version&gt;1.17.6&lt;/org.testcontainers.mssqlserver.version&gt;\n    &lt;com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;1.34.2&lt;/com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;\n    &lt;com.azure.azure-storage-blob.version&gt;12.14.4&lt;/com.azure.azure-storage-blob.version&gt;\n    &lt;net.javacrumbs.shedlock.shedlock-spring.version&gt;4.43.0&lt;/net.javacrumbs.shedlock.shedlock-spring.version&gt;\n    &lt;joda-time.version&gt;2.12.2&lt;/joda-time.version&gt;\n    &lt;querydsl-apt.version&gt;5.0.0&lt;/querydsl-apt.version&gt;\n    &lt;reproducible-build-maven-plugin.version&gt;0.16&lt;/reproducible-build-maven-plugin.version&gt;\n    &lt;exec-maven-plugin.version&gt;3.1.0&lt;/exec-maven-plugin.version&gt;\n    &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\n    &lt;apache.collections.version&gt;4.4&lt;/apache.collections.version&gt;\n    &lt;org.immutables.value.version&gt;2.9.3&lt;/org.immutables.value.version&gt;\n    &lt;com.ibm.icu4j.version&gt;72.1&lt;/com.ibm.icu4j.version&gt;\n    &lt;hamcrest-junit.version&gt;2.0.0.0&lt;/hamcrest-junit.version&gt;\n    &lt;esper.version&gt;8.8.0&lt;/esper.version&gt;\n    &lt;esper-runtime.version&gt;8.8.0&lt;/esper-runtime.version&gt;\n    &lt;esper-common.version&gt;8.8.0&lt;/esper-common.version&gt;\n    &lt;esper-compiler.version&gt;8.8.0&lt;/esper-compiler.version&gt;\n    &lt;dockerfile.maven.version&gt;1.4.13&lt;/dockerfile.maven.version&gt;\n    &lt;apache.commons-text.version&gt;1.10.0&lt;/apache.commons-text.version&gt;\n    &lt;mockserver.version&gt;5.14.0&lt;/mockserver.version&gt;\n    &lt;scala.version&gt;2.13.10&lt;/scala.version&gt;\n  &lt;/properties&gt;\n\n\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;pname&lt;/id&gt;\n      &lt;url&gt;...&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;pname&lt;/id&gt;\n      &lt;url&gt;...&lt;/url&gt;\n      &lt;releases&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n      &lt;/releases&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n      &lt;id&gt;spring-milestones&lt;/id&gt;\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;pluginRepositories&gt;\n    ...\n  &lt;/pluginRepositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n      &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n          &lt;!--\n           Exluding Sping Data mongodb to avoid CVE-2021-44906 (https://avd.aquasec.com/nvd/2021/cve-2021-44906/)\n           in versions prior to 3.3.5 and 3.4.1\n           --&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;3.4.6&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n        &lt;version&gt;${openapi-webmvc.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${swagger-annotations.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;${com.microsoft.sqlserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;${google.guava.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;de.comp&lt;/groupId&gt;\n        &lt;artifactId&gt;security-code-generator&lt;/artifactId&gt;\n        &lt;version&gt;${de.comp.security-code-generator.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;de.comp.kcu&lt;/groupId&gt;\n        &lt;artifactId&gt;interfaces&lt;/artifactId&gt;\n        &lt;version&gt;${de.comp.kcu.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n          &lt;!-- we manage our own version of this dependencies --&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\n        &lt;version&gt;${org.testcontainers.mssqlserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\n        &lt;artifactId&gt;iot-service-client&lt;/artifactId&gt;\n        &lt;version&gt;${com.microsoft.azure.sdk.iot.iot-service-client.versions}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n        &lt;version&gt;${com.azure.azure-storage-blob.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n        &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${com.github.spotbugs.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n        &lt;version&gt;${com.ibm.icu4j.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n        &lt;version&gt;${apache.collections.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;${apache.commons-text.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\n        &lt;artifactId&gt;value&lt;/artifactId&gt;\n        &lt;version&gt;${org.immutables.value.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-junit&lt;/artifactId&gt;\n        &lt;version&gt;${hamcrest-junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper&lt;/artifactId&gt;\n        &lt;version&gt;${esper.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper-common&lt;/artifactId&gt;\n        &lt;version&gt;${esper-common.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper-compiler&lt;/artifactId&gt;\n        &lt;version&gt;${esper-compiler.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper-runtime&lt;/artifactId&gt;\n        &lt;version&gt;${esper-runtime.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n        &lt;artifactId&gt;mockserver-core&lt;/artifactId&gt;\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n        &lt;artifactId&gt;mockserver-client-java&lt;/artifactId&gt;\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!-- start\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\n          spring-cloud-stream-binder-kafka:3.25\n      --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n        &lt;version&gt;${scala.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!-- end\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\n          spring-cloud-stream-binder-kafka:3.25\n      --&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n                    &lt;/manifest&gt;\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\n            &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${reproducible-build-maven-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;strip-jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n          &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${dockerfile.maven.version}&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;build-tag-latest&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;build&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;id&gt;tag-version&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;tag&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;tag&gt;${build.tag}&lt;/tag&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;push&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n            ...\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\n        &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","slf4j","findbugs"],"comments":[{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":0,"creation_date":1357933260,"post_id":10896425,"comment_id":19836894,"body_markdown":"Suggestion: Use `SuppressFBWarnings` so you can import it as you would any other class instead of using the fully-qualified name.","body":"Suggestion: Use <code>SuppressFBWarnings</code> so you can import it as you would any other class instead of using the fully-qualified name."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1338896026,"creation_date":1338895671,"answer_id":10896479,"question_id":10896425,"body_markdown":"Just list all the warning identifiers in an array, within a single annotation:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings({\r\n            &quot;MS_SHOULD_BE_FINAL&quot;, \r\n            &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;})\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;\r\n\r\nJust as for the standard `java.lang.SuppressWarnings`, the FindBugs version also [has a parameter of type `String[]`][1]. For a single value, the curly braces can be omitted though to make life easier.\r\n\r\n\r\n  [1]: http://findbugs.sourceforge.net/api/edu/umd/cs/findbugs/annotations/SuppressWarnings.html#value%28%29","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>Just list all the warning identifiers in an array, within a single annotation:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings({\n        \"MS_SHOULD_BE_FINAL\", \n        \"URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD\"})\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n\n<p>Just as for the standard <code>java.lang.SuppressWarnings</code>, the FindBugs version also <a href=\"http://findbugs.sourceforge.net/api/edu/umd/cs/findbugs/annotations/SuppressWarnings.html#value%28%29\" rel=\"noreferrer\">has a parameter of type <code>String[]</code></a>. For a single value, the curly braces can be omitted though to make life easier.</p>\n"},{"tags":[],"owner":{"account_id":1542591,"reputation":1787,"user_id":1436874,"accept_rate":100,"display_name":"Eduardo Sanchez-Ros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338895743,"creation_date":1338895743,"answer_id":10896494,"question_id":10896425,"body_markdown":"Try this:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings({&quot;MS_SHOULD_BE_FINAL&quot; , &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;})\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>Try this:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings({\"MS_SHOULD_BE_FINAL\" , \"URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD\"})\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1513118203,"creation_date":1513118203,"answer_id":47782682,"question_id":10896425,"body_markdown":"FindBugs 3+ style:\r\n\r\n      @SuppressFBWarnings(\r\n        value={&quot;NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE&quot;,&quot;STCAL_INVOKE_ON_STATIC_DATE_FORMAT_INSTANCE&quot;},\r\n        justification=&quot;let me just make the build pass&quot;)\r\n\r\n","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>FindBugs 3+ style:</p>\n\n<pre><code>  @SuppressFBWarnings(\n    value={\"NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE\",\"STCAL_INVOKE_ON_STATIC_DATE_FORMAT_INSTANCE\"},\n    justification=\"let me just make the build pass\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696453926,"creation_date":1696453926,"answer_id":77233008,"question_id":10896425,"body_markdown":"In case you got here in search of a solution for **Kotlin**:\r\nThere the curly braces do not work. The compiler will complain with\r\n\r\n&gt;Unexpected tokens (use &#39;;&#39; to separate expressions on the same line)\r\n\r\nAnd what actually does work is:\r\n\r\n    @SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;, &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;)","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>In case you got here in search of a solution for <strong>Kotlin</strong>:\nThere the curly braces do not work. The compiler will complain with</p>\n<blockquote>\n<p>Unexpected tokens (use ';' to separate expressions on the same line)</p>\n</blockquote>\n<p>And what actually does work is:</p>\n<pre><code>@SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;, &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;)\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19104,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10896479,"answer_count":4,"score":20,"last_activity_date":1696453926,"creation_date":1338895490,"question_id":10896425,"body_markdown":"I recently discovered FindBugs&#39; `@edu.umd.cs.findbugs.annotations.SuppressWarnings` annotation which is pretty cool and allows you to basically tell FindBugs to ignore certain warnings.\r\n\r\nI&#39;ve successfully implemented my own SLF4J binding by following their recommendations to take `slf4j-simple` and modify it with your own logger and logger factory bindings, and I&#39;m pleased to say it works like a charm.\r\n\r\nI just ran find bugs on the package that contains this SLF4J binding and it is complaining about a certain line of code written by the original `StaticLoggerBinder` author (Ceki Gulku):\r\n\r\n    // to avoid constant folding by the compiler, this field must *not* be final.\r\n    publicstatic String REQUESTED_API_VERSION = &quot;1.6&quot;; // !final\r\n\r\nFindBugs complains that this field &quot;**isn&#39;t final but it should be**&quot;. However, the (very) smart people over at SLF4J already thought of that, and placed the surrounding comments provided above.\r\n\r\nSo, just to get FindBugs to shut up, I&#39;ve modified the code per my usual way of suppressing FB warnings:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;)\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;\r\n\r\nWhen I clean my project and re-run FindBugs, I get a *second* warning on the same line of code, this time complaining:\r\n\r\n&gt; This field is never read.  The field is public or protected, so perhaps it is intended to be used with classes not seen as part of the analysis. If not, consider removing it from the class.\r\n\r\nWhen I add this second warning suppression:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;)\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;)\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;\r\n\r\n\r\nI get a compiler/syntax error from Eclipse:\r\n\r\n&gt; Duplicate annotation @SuppressWarnings.\r\n\r\n**How can I suppress multiple FindBugs warnings on the same line of code?**","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>I recently discovered FindBugs' <code>@edu.umd.cs.findbugs.annotations.SuppressWarnings</code> annotation which is pretty cool and allows you to basically tell FindBugs to ignore certain warnings.</p>\n\n<p>I've successfully implemented my own SLF4J binding by following their recommendations to take <code>slf4j-simple</code> and modify it with your own logger and logger factory bindings, and I'm pleased to say it works like a charm.</p>\n\n<p>I just ran find bugs on the package that contains this SLF4J binding and it is complaining about a certain line of code written by the original <code>StaticLoggerBinder</code> author (Ceki Gulku):</p>\n\n<pre><code>// to avoid constant folding by the compiler, this field must *not* be final.\npublicstatic String REQUESTED_API_VERSION = \"1.6\"; // !final\n</code></pre>\n\n<p>FindBugs complains that this field \"<strong>isn't final but it should be</strong>\". However, the (very) smart people over at SLF4J already thought of that, and placed the surrounding comments provided above.</p>\n\n<p>So, just to get FindBugs to shut up, I've modified the code per my usual way of suppressing FB warnings:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings(\"MS_SHOULD_BE_FINAL\")\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n\n<p>When I clean my project and re-run FindBugs, I get a <em>second</em> warning on the same line of code, this time complaining:</p>\n\n<blockquote>\n  <p>This field is never read.  The field is public or protected, so perhaps it is intended to be used with classes not seen as part of the analysis. If not, consider removing it from the class.</p>\n</blockquote>\n\n<p>When I add this second warning suppression:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings(\"MS_SHOULD_BE_FINAL\")\n@edu.umd.cs.findbugs.annotations.SuppressWarnings(\"URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD\")\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n\n<p>I get a compiler/syntax error from Eclipse:</p>\n\n<blockquote>\n  <p>Duplicate annotation @SuppressWarnings.</p>\n</blockquote>\n\n<p><strong>How can I suppress multiple FindBugs warnings on the same line of code?</strong></p>\n"},{"tags":["java","eclipse","annotations","eclipse-indigo","suppress-warnings"],"comments":[{"owner":{"account_id":314278,"reputation":93,"user_id":629365,"display_name":"Raj"},"score":0,"creation_date":1490371722,"post_id":13070260,"comment_id":73097728,"body_markdown":"@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; ) does not work please modify it to @SuppressWarnings( { &quot;unused&quot;, &quot;unchecked&quot; })","body":"@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; ) does not work please modify it to @SuppressWarnings( { &quot;unused&quot;, &quot;unchecked&quot; })"}],"answers":[{"tags":[],"owner":{"account_id":1561716,"reputation":4947,"user_id":1451449,"accept_rate":33,"display_name":"LuGo"},"down_vote_count":0,"up_vote_count":348,"is_accepted":true,"score":348,"last_activity_date":1351173723,"creation_date":1351173723,"answer_id":13070336,"question_id":13070260,"body_markdown":"Use the following:\r\n`@SuppressWarnings({&quot;unused&quot;, &quot;unchecked&quot;})`","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>Use the following:\n<code>@SuppressWarnings({\"unused\", \"unchecked\"})</code></p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1475221112,"creation_date":1467886949,"answer_id":38243067,"question_id":13070260,"body_markdown":"If you take a look inside the annotation you will see this:\r\n\r\n    public @interface SuppressWarnings {\r\n        String[] value();\r\n    }\r\n\r\nas you see, the **value** parameter is an array of Strings...\r\nso the parameter in the annotation can be:\r\n**value1, value2 or value3**  where \r\n\r\n    final String[] value1 = { &quot;a1&quot; };\r\n    final String[] value2 = { &quot;a1&quot;, &quot;a2&quot; };\r\n    final String[] value3 = { &quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot; };\r\n\r\n\r\ni.e.:\r\n\r\n    @SuppressWarnings({&quot;unused&quot;})\r\n    @SuppressWarnings({&quot;unused&quot;, &quot;javadoc&quot;})\r\n\r\nyou can oft see something like\r\n\r\n    @SuppressWarnings(&quot;unused&quot;) \r\nand this is a particular case allowing one element wit no &quot;**{ }**&quot;\r\n\r\n","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>If you take a look inside the annotation you will see this:</p>\n\n<pre><code>public @interface SuppressWarnings {\n    String[] value();\n}\n</code></pre>\n\n<p>as you see, the <strong>value</strong> parameter is an array of Strings...\nso the parameter in the annotation can be:\n<strong>value1, value2 or value3</strong>  where </p>\n\n<pre><code>final String[] value1 = { \"a1\" };\nfinal String[] value2 = { \"a1\", \"a2\" };\nfinal String[] value3 = { \"a1\", \"a2\", \"a3\" };\n</code></pre>\n\n<p>i.e.:</p>\n\n<pre><code>@SuppressWarnings({\"unused\"})\n@SuppressWarnings({\"unused\", \"javadoc\"})\n</code></pre>\n\n<p>you can oft see something like</p>\n\n<pre><code>@SuppressWarnings(\"unused\") \n</code></pre>\n\n<p>and this is a particular case allowing one element wit no \"<strong>{ }</strong>\"</p>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696453685,"creation_date":1696453685,"answer_id":77232987,"question_id":13070260,"body_markdown":"I know the question is originally regarding Java but I got here searching for a soltion for **Kotlin**.\r\nThere the curly braces solution does not work. The compiler will complain with\r\n\r\n&gt;Unexpected tokens (use &#39;;&#39; to separate expressions on the same line)\r\n\r\nAnd what actually does work in Kotlin is:\r\n\r\n    @SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>I know the question is originally regarding Java but I got here searching for a soltion for <strong>Kotlin</strong>.\nThere the curly braces solution does not work. The compiler will complain with</p>\n<blockquote>\n<p>Unexpected tokens (use ';' to separate expressions on the same line)</p>\n</blockquote>\n<p>And what actually does work in Kotlin is:</p>\n<pre><code>@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )\n</code></pre>\n"}],"owner":{"account_id":224046,"reputation":6058,"user_id":483616,"accept_rate":81,"display_name":"knownasilya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67118,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"accepted_answer_id":13070336,"answer_count":3,"score":169,"last_activity_date":1696453685,"creation_date":1351173523,"question_id":13070260,"body_markdown":"So the issue is being able to combine multple warning suppressions so that each item doesn&#39;t need its own `@SuppressWarnings` annotation.\r\n\r\nSo for example:\r\n\r\n    public class Example\r\n        public Example() {\r\n            GO go = new GO();  // unused\r\n            ....\r\n            List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked\r\n        }\r\n        ...\r\n        // getters/setters/other methods\r\n    }\r\n\r\nNow instead of having two `@SuppressWarnings` I want to have one at the class level for those two warnings, so like this:\r\n\r\n    @SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )\r\n    public class Example\r\n        public Example() {\r\n            GO go = new GO();  // unused - suppressed\r\n            ....\r\n            List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked - suppressed\r\n        }\r\n        ...\r\n        // getters/setters/other methods\r\n    }\r\n\r\nBut that is not a valid syntax, is there a way to do this?\r\n\r\n\r\n      \r\n        \r\n\r\n ","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>So the issue is being able to combine multple warning suppressions so that each item doesn't need its own <code>@SuppressWarnings</code> annotation.</p>\n<p>So for example:</p>\n<pre><code>public class Example\n    public Example() {\n        GO go = new GO();  // unused\n        ....\n        List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked\n    }\n    ...\n    // getters/setters/other methods\n}\n</code></pre>\n<p>Now instead of having two <code>@SuppressWarnings</code> I want to have one at the class level for those two warnings, so like this:</p>\n<pre><code>@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )\npublic class Example\n    public Example() {\n        GO go = new GO();  // unused - suppressed\n        ....\n        List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked - suppressed\n    }\n    ...\n    // getters/setters/other methods\n}\n</code></pre>\n<p>But that is not a valid syntax, is there a way to do this?</p>\n"},{"tags":["java","string","methods","immutability"],"comments":[{"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"score":2,"creation_date":1696447822,"post_id":77232436,"comment_id":136155790,"body_markdown":"Return `res` from the method instead.","body":"Return <code>res</code> from the method instead."}],"owner":{"account_id":28921402,"reputation":1,"user_id":22152270,"display_name":"Allalilacias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696447832,"answer_count":0,"score":0,"last_activity_date":1696453235,"creation_date":1696447581,"question_id":77232436,"body_markdown":"I am currently learning Java, but am having issues understanding how to use a method to modify the object a string variable points towards.\r\n\r\nI am working on making a code to return the bigger and smaller number of an array and to notify if there&#39;re any duplicates. This could be easily achievable with an if/else, I am aware, but that won&#39;t help me learn much, as the only thing that allows it is the small size of the array list of the exercise.\r\n\r\nThe code inside the GestionarNumeros() method works perfectly fine if I use it inside the main class, but won&#39;t work if I create a method with it and then execute it. I know that ```string```s are immutable, but I am unsure of how to or if it&#39;s even possible to make the code work with a method. I&#39;d appreciate any help or pointing towards the place where the information I need could be found.\r\n\r\nI&#39;ll leave my code below:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\tArrayList&lt;Integer&gt; numeros = new ArrayList&lt;Integer&gt;();\r\n\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\tString res = &quot;&quot;;\r\n\t\t\r\n\ta&#241;adirNumeros(sc,numeros);\r\n\tCollections.sort(numeros);\r\n\tGestionarNumeros(numeros,res);\r\n\tSystem.out.println(res);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void a&#241;adirNumeros (Scanner sc, ArrayList&lt;Integer&gt; numeros) {\r\n\t\twhile (numeros.size() &lt; 3) {\r\n\t\tSystem.out.println(&quot;Introduzca n&#250;mero:&quot;);\r\n\t\tint num = sc.nextInt();\r\n\t\tnumeros.add(num);\r\n\t\t\t}\r\n\t\t}\r\n\tpublic static void GestionarNumeros (ArrayList&lt;Integer&gt; numeros, String res) {\r\n\t\tres = &quot;El n&#250;mero m&#225;s peque&#241;o es el &quot; + numeros.get(0) + &quot;.&quot;\r\n\t\t\t+ &quot;\\nEl n&#250;mero m&#225;s grande es el &quot; + numeros.get(2) + &quot;.&quot;\r\n\t\t\t+ &quot;\\nDuplicados: &quot;;\r\n\t\tfor(int a = 0; a &lt; numeros.size(); a++) {  \r\n            for(int b = a + 1; b &lt; numeros.size(); b++) {  \r\n                if(numeros.get(a) == numeros.get(b)) {  \r\n                   res = res + &quot; &quot; + numeros.get(b) + &quot;.&quot;;\r\n                \t}\r\n            \t}\r\n\t \t\t}\r\n\t\t}\r\n```","title":"Unable to modify String variable through method in Java","body":"<p>I am currently learning Java, but am having issues understanding how to use a method to modify the object a string variable points towards.</p>\n<p>I am working on making a code to return the bigger and smaller number of an array and to notify if there're any duplicates. This could be easily achievable with an if/else, I am aware, but that won't help me learn much, as the only thing that allows it is the small size of the array list of the exercise.</p>\n<p>The code inside the GestionarNumeros() method works perfectly fine if I use it inside the main class, but won't work if I create a method with it and then execute it. I know that <code>string</code>s are immutable, but I am unsure of how to or if it's even possible to make the code work with a method. I'd appreciate any help or pointing towards the place where the information I need could be found.</p>\n<p>I'll leave my code below:</p>\n<pre><code>public static void main(String[] args) {\n\n    ArrayList&lt;Integer&gt; numeros = new ArrayList&lt;Integer&gt;();\n    Scanner sc = new Scanner(System.in);\n        \n    String res = &quot;&quot;;\n        \n    añadirNumeros(sc,numeros);\n    Collections.sort(numeros);\n    GestionarNumeros(numeros,res);\n    System.out.println(res);\n        \n    }\n\n    public static void añadirNumeros (Scanner sc, ArrayList&lt;Integer&gt; numeros) {\n        while (numeros.size() &lt; 3) {\n        System.out.println(&quot;Introduzca número:&quot;);\n        int num = sc.nextInt();\n        numeros.add(num);\n            }\n        }\n    public static void GestionarNumeros (ArrayList&lt;Integer&gt; numeros, String res) {\n        res = &quot;El número más pequeño es el &quot; + numeros.get(0) + &quot;.&quot;\n            + &quot;\\nEl número más grande es el &quot; + numeros.get(2) + &quot;.&quot;\n            + &quot;\\nDuplicados: &quot;;\n        for(int a = 0; a &lt; numeros.size(); a++) {  \n            for(int b = a + 1; b &lt; numeros.size(); b++) {  \n                if(numeros.get(a) == numeros.get(b)) {  \n                   res = res + &quot; &quot; + numeros.get(b) + &quot;.&quot;;\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","git","githooks","pre-commit-hook"],"answers":[{"tags":[],"owner":{"account_id":17072,"reputation":46055,"user_id":37843,"accept_rate":96,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352186831,"creation_date":1352186831,"answer_id":13246332,"question_id":13246291,"body_markdown":"You can write the hook in any language that can be understood by the shell, with the properly configured interpreter (bash, python, perl) etc.\r\n\r\nBut, why not write your java code formatter in java, and invoke it from the pre-commit hook.","title":"Write pre-commit hook in java?","body":"<p>You can write the hook in any language that can be understood by the shell, with the properly configured interpreter (bash, python, perl) etc.</p>\n\n<p>But, why not write your java code formatter in java, and invoke it from the pre-commit hook.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301794,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1352187689,"creation_date":1352187689,"answer_id":13246513,"question_id":13246291,"body_markdown":"The idea is to call a script which in turns call your java program (checking the format).  \r\n\r\nYou can [see here an example written in python][1], which calls java.\r\n\r\n    try:\r\n        # call checkstyle and print output\r\n        print call([&#39;java&#39;, &#39;-jar&#39;, checkstyle, &#39;-c&#39;, checkstyle_config, &#39;-r&#39;, tempdir])\r\n    except subprocess.CalledProcessError, ex:\r\n        print ex.output  # print checkstyle messages\r\n        exit(1)\r\n    finally:\r\n        # remove temporary directory\r\n        shutil.rmtree(tempdir)\r\n\r\nThis [other example calls directly `ant`][2], in order to execute an ant script (which in turns call a Java JUnit test suite)\r\n\r\n    #!/bin/sh\r\n     \r\n    # Run the test suite.\r\n    # It will exit with 0 if it everything compiled and tested fine.\r\n    ant test\r\n    if [ $? -eq 0 ]; then\r\n      exit 0\r\n    else\r\n      echo &quot;Building your project or running the tests failed.&quot;\r\n      echo &quot;Aborting the commit. Run with --no-verify to ignore.&quot;\r\n      exit 1\r\n    fi\r\n\r\n\r\n  [1]: http://bluec0re.blogspot.fr/2012/05/git-pre-receive-hook-with-checkstyle.html\r\n  [2]: http://bbgen.net/blog/2011/06/junit-git-hooks/\r\n","title":"Write pre-commit hook in java?","body":"<p>The idea is to call a script which in turns call your java program (checking the format).  </p>\n\n<p>You can <a href=\"http://bluec0re.blogspot.fr/2012/05/git-pre-receive-hook-with-checkstyle.html\" rel=\"noreferrer\">see here an example written in python</a>, which calls java.</p>\n\n<pre><code>try:\n    # call checkstyle and print output\n    print call(['java', '-jar', checkstyle, '-c', checkstyle_config, '-r', tempdir])\nexcept subprocess.CalledProcessError, ex:\n    print ex.output  # print checkstyle messages\n    exit(1)\nfinally:\n    # remove temporary directory\n    shutil.rmtree(tempdir)\n</code></pre>\n\n<p>This <a href=\"http://bbgen.net/blog/2011/06/junit-git-hooks/\" rel=\"noreferrer\">other example calls directly <code>ant</code></a>, in order to execute an ant script (which in turns call a Java JUnit test suite)</p>\n\n<pre><code>#!/bin/sh\n\n# Run the test suite.\n# It will exit with 0 if it everything compiled and tested fine.\nant test\nif [ $? -eq 0 ]; then\n  exit 0\nelse\n  echo \"Building your project or running the tests failed.\"\n  echo \"Aborting the commit. Run with --no-verify to ignore.\"\n  exit 1\nfi\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1652007062,"creation_date":1589916743,"answer_id":61899256,"question_id":13246291,"body_markdown":"As of Java 11, you can now run un-compiled main class files using the java command.\r\n    \r\n    $ java Hook.java\r\n\r\nIf you are using a Unix based operating system (MacOS or Linux for example), you can strip off the `.java` and add a shebang to the top line like so:\r\n\r\n    #!/your/path/to/bin/java --source 11\r\n    public class Hook {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;No committing please.&quot;);\r\n            System.exit(1);\r\n        }\r\n    } \r\n\r\nthen you can simply execute it the same way you would with any other script file.\r\n\r\n    $ ./Hook\r\n\r\nIf you rename the file `pre-commit`, and then move it into your `.git/hooks` directory, you now have a working Java Git Hook.\r\n\r\n&gt; Note: You may be able to get this to work on Windows using Cygwin or\r\n&gt; Git Bash or similar terminal emulators. However, shebangs do not\r\n&gt; handle spaces well. I tested that this works by moving a copy of java into a directory without spaces and it works fine.","title":"Write pre-commit hook in java?","body":"<p>As of Java 11, you can now run un-compiled main class files using the java command.</p>\n<pre><code>$ java Hook.java\n</code></pre>\n<p>If you are using a Unix based operating system (MacOS or Linux for example), you can strip off the <code>.java</code> and add a shebang to the top line like so:</p>\n<pre><code>#!/your/path/to/bin/java --source 11\npublic class Hook {\n    public static void main(String[] args) {\n        System.out.println(&quot;No committing please.&quot;);\n        System.exit(1);\n    }\n} \n</code></pre>\n<p>then you can simply execute it the same way you would with any other script file.</p>\n<pre><code>$ ./Hook\n</code></pre>\n<p>If you rename the file <code>pre-commit</code>, and then move it into your <code>.git/hooks</code> directory, you now have a working Java Git Hook.</p>\n<blockquote>\n<p>Note: You may be able to get this to work on Windows using Cygwin or\nGit Bash or similar terminal emulators. However, shebangs do not\nhandle spaces well. I tested that this works by moving a copy of java into a directory without spaces and it works fine.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14238374,"reputation":49,"user_id":10285544,"display_name":"WinDnDusT"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648282451,"creation_date":1648282451,"answer_id":71626361,"question_id":13246291,"body_markdown":"Yes, you can write a git hook in java. \r\n## Attempted solution ##\r\nI attempted Rudi&#39;s solution for my commit-msg hook:\r\n\r\n*commit-msg file*\r\n\r\n    #!C:/Progra~1/Java/jdk-17.0.1/bin/java.exe --source 17\r\n    #Using Progra~1 to represent &quot;Program Files&quot; as escaping the space\r\n    #or surrounding the path in double quotes didn&#39;t work for me.\r\n    public class Hook {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;No committing please.&quot;);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\nBut I received this error message and had difficulty troubleshooting\r\n\r\n    $ git commit -m &quot;Message&quot;\r\n    Error: Could not find or load main class .git.hooks.commit-msg\r\n    Caused by: java.lang.ClassNotFoundException: /git/hooks/commit-msg\r\n\r\n## Solution that worked for me ##\r\nThen I found a source that outlines another way.\r\n\r\nhttps://dev.to/awwsmm/eliminate-unnecessary-builds-with-git-hooks-in-bash-java-and-scala-517n#writing-a-git-hook-in-java\r\n\r\nThe commit-msg hook looks like this\r\n\r\n    #!bin/sh\r\n    DIR=$(dirname &quot;$0&quot;)\r\n    exec java $DIR/commit-msg.java &quot;$@&quot;\r\n\r\nThis saves the current directory (.git/hooks) of the git commit command to a variable to help build the path to the java file.\r\nThen the shell executes the java command with the path to the java file and an argument holding the path to the COMMIT_EDITMSG file.\r\n\r\nThen you can move the Hook class defined above into its own java file (in this case commit-msg.java) and put it in the .git/hooks directory.\r\n\r\nNow you can run git commit -m &quot;Message&quot; and the commit-msg hook will block the commit","title":"Write pre-commit hook in java?","body":"<p>Yes, you can write a git hook in java.</p>\n<h2>Attempted solution</h2>\n<p>I attempted Rudi's solution for my commit-msg hook:</p>\n<p><em>commit-msg file</em></p>\n<pre><code>#!C:/Progra~1/Java/jdk-17.0.1/bin/java.exe --source 17\n#Using Progra~1 to represent &quot;Program Files&quot; as escaping the space\n#or surrounding the path in double quotes didn't work for me.\npublic class Hook {\n    public static void main(String[] args) {\n        System.out.println(&quot;No committing please.&quot;);\n        System.exit(1);\n    }\n}\n</code></pre>\n<p>But I received this error message and had difficulty troubleshooting</p>\n<pre><code>$ git commit -m &quot;Message&quot;\nError: Could not find or load main class .git.hooks.commit-msg\nCaused by: java.lang.ClassNotFoundException: /git/hooks/commit-msg\n</code></pre>\n<h2>Solution that worked for me</h2>\n<p>Then I found a source that outlines another way.</p>\n<p><a href=\"https://dev.to/awwsmm/eliminate-unnecessary-builds-with-git-hooks-in-bash-java-and-scala-517n#writing-a-git-hook-in-java\" rel=\"nofollow noreferrer\">https://dev.to/awwsmm/eliminate-unnecessary-builds-with-git-hooks-in-bash-java-and-scala-517n#writing-a-git-hook-in-java</a></p>\n<p>The commit-msg hook looks like this</p>\n<pre><code>#!bin/sh\nDIR=$(dirname &quot;$0&quot;)\nexec java $DIR/commit-msg.java &quot;$@&quot;\n</code></pre>\n<p>This saves the current directory (.git/hooks) of the git commit command to a variable to help build the path to the java file.\nThen the shell executes the java command with the path to the java file and an argument holding the path to the COMMIT_EDITMSG file.</p>\n<p>Then you can move the Hook class defined above into its own java file (in this case commit-msg.java) and put it in the .git/hooks directory.</p>\n<p>Now you can run git commit -m &quot;Message&quot; and the commit-msg hook will block the commit</p>\n"}],"owner":{"account_id":1509096,"reputation":975,"user_id":1411653,"accept_rate":93,"display_name":"Jeewantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14976,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13246513,"answer_count":4,"score":11,"last_activity_date":1696452947,"creation_date":1352186633,"question_id":13246291,"body_markdown":"I need to write a Git pre commit hook in Java, which would check if the code commited by the developer is formatted according to a specific **eclipse code formatter** before actually commiting it, otherwise reject it from commiting. Is it possible to write the pre commit hook in Java?  ","title":"Write pre-commit hook in java?","body":"<p>I need to write a Git pre commit hook in Java, which would check if the code commited by the developer is formatted according to a specific <strong>eclipse code formatter</strong> before actually commiting it, otherwise reject it from commiting. Is it possible to write the pre commit hook in Java?  </p>\n"},{"tags":["java","unicode","diacritics","transliteration"],"comments":[{"owner":{"account_id":25246,"reputation":47609,"user_id":64767,"accept_rate":52,"display_name":"Thorarin"},"score":0,"creation_date":1253517091,"post_id":1453171,"comment_id":1300454,"body_markdown":"It depends on what environment you&#39;re programming in, though you&#39;ll probably have to maintain some sort of mapping table manually. So, which language are you using?","body":"It depends on what environment you&#39;re programming in, though you&#39;ll probably have to maintain some sort of mapping table manually. So, which language are you using?"},{"owner":{"account_id":81330,"reputation":2317,"user_id":229414,"accept_rate":54,"display_name":"Eduardo"},"score":15,"creation_date":1291836867,"post_id":1453171,"comment_id":4785749,"body_markdown":"Please beware that some letters like &#241; http://en.wikipedia.org/wiki/%C3%91 should not be stripped its diacritics for searching purposes. Google correctly differentiates between Spanish &quot;ano&quot;(anus) and &quot;a&#241;o&quot;(year). So if you really want a good search engine you cannot rely on basic diacritical mark removal.","body":"Please beware that some letters like &#241; <a href=\"http://en.wikipedia.org/wiki/%C3%91\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/%C3%91</a> should not be stripped its diacritics for searching purposes. Google correctly differentiates between Spanish &quot;ano&quot;(anus) and &quot;a&#241;o&quot;(year). So if you really want a good search engine you cannot rely on basic diacritical mark removal."},{"owner":{"account_id":421872,"reputation":8957,"user_id":800334,"accept_rate":90,"display_name":"Amir Abiri"},"score":1,"creation_date":1342517838,"post_id":1453171,"comment_id":15224670,"body_markdown":"@Eduardo: In a given context that might not matter. Using the example the OP gave, searching for a person&#39;s name in a multi-national context you actually want the search not to be too accurate.","body":"@Eduardo: In a given context that might not matter. Using the example the OP gave, searching for a person&#39;s name in a multi-national context you actually want the search not to be too accurate."},{"owner":{"account_id":421872,"reputation":8957,"user_id":800334,"accept_rate":90,"display_name":"Amir Abiri"},"score":0,"creation_date":1342518231,"post_id":1453171,"comment_id":15224845,"body_markdown":"(Accidentally sent previous)\nThere is room though for mapping diacritics to their phonetic equivalents to improve phonetic searching. i.e &#241; =&gt; ni will yield better results if the underlying search engine supports phonetic-based (e.g soundex) searching","body":"(Accidentally sent previous) There is room though for mapping diacritics to their phonetic equivalents to improve phonetic searching. i.e &#241; =&gt; ni will yield better results if the underlying search engine supports phonetic-based (e.g soundex) searching"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1351951143,"post_id":1453171,"comment_id":17986929,"body_markdown":"A use case where changing a&#241;o to ano etc. is stripping non-base64 chars for URLs, IDs etc.","body":"A use case where changing a&#241;o to ano etc. is stripping non-base64 chars for URLs, IDs etc."},{"owner":{"account_id":8015485,"reputation":135,"user_id":6052175,"display_name":"Guilherme Guini"},"score":0,"creation_date":1550754728,"post_id":1453171,"comment_id":96392211,"body_markdown":"StringUtils from lib apache.commons has method stripAccents, and it&#39;s work very well.\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","body":"StringUtils from lib apache.commons has method stripAccents, and it&#39;s work very well. <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/apidocs/org/apache/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1253517010,"creation_date":1253517010,"answer_id":1453185,"question_id":1453171,"body_markdown":"Unicode has specific diatric characters (which are composite characters) and a string can be converted so that the character and the diatrics are separated. Then, you can just remove the diatricts from the string and you&#39;re basically done.\r\n\r\nFor more information on normalization, decompositions and equivalence, see The Unicode Standard at the [Unicode home page][1].\r\n\r\nHowever, how you can actually achieve this depends on the framework/OS/... you&#39;re working on. If you&#39;re using .NET, you can use the [String.Normalize][2] method accepting the [System.Text.NormalizationForm][3] enumeration.\r\n\r\n\r\n  [1]: http://www.unicode.org/\r\n  [2]: http://msdn.microsoft.com/en-us/library/ebza6ck1(VS.80).aspx\r\n  [3]: http://msdn.microsoft.com/en-us/library/system.text.normalizationform.aspx","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>Unicode has specific diatric characters (which are composite characters) and a string can be converted so that the character and the diatrics are separated. Then, you can just remove the diatricts from the string and you're basically done.</p>\n\n<p>For more information on normalization, decompositions and equivalence, see The Unicode Standard at the <a href=\"http://www.unicode.org/\" rel=\"nofollow noreferrer\">Unicode home page</a>.</p>\n\n<p>However, how you can actually achieve this depends on the framework/OS/... you're working on. If you're using .NET, you can use the <a href=\"http://msdn.microsoft.com/en-us/library/ebza6ck1(VS.80).aspx\" rel=\"nofollow noreferrer\">String.Normalize</a> method accepting the <a href=\"http://msdn.microsoft.com/en-us/library/system.text.normalizationform.aspx\" rel=\"nofollow noreferrer\">System.Text.NormalizationForm</a> enumeration.</p>\n"},{"tags":[],"owner":{"account_id":48396,"reputation":68752,"user_id":143804,"accept_rate":82,"display_name":"ire_and_curses"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1253517194,"creation_date":1253517194,"answer_id":1453195,"question_id":1453171,"body_markdown":"There is a [draft report][1] on character folding on the unicode website which has a lot of relevant material. See specifically Section 4.1. &quot;Folding algorithm&quot;.\r\n\r\nHere&#39;s a [discussion and implementation][2] of diacritic marker removal using Perl.\r\n\r\nThese existing SO questions are related:\r\n\r\n - [How to convert UTF-8 to US ASCII][3]\r\n - [How to change diacritic characters to non-diacritic ones][4]\r\n\r\n\r\n  [1]: http://unicode.org/reports/tr30/tr30-4.html\r\n  [2]: http://ahinea.com/en/tech/accented-translate.html\r\n  [3]: https://stackoverflow.com/questions/285228/how-to-convert-utf-8-to-us-ascii-in-java#285791\r\n  [4]: https://stackoverflow.com/questions/331279/how-to-change-diacritic-characters-to-non-diacritic-ones","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>There is a <a href=\"http://unicode.org/reports/tr30/tr30-4.html\" rel=\"nofollow noreferrer\">draft report</a> on character folding on the unicode website which has a lot of relevant material. See specifically Section 4.1. \"Folding algorithm\".</p>\n\n<p>Here's a <a href=\"http://ahinea.com/en/tech/accented-translate.html\" rel=\"nofollow noreferrer\">discussion and implementation</a> of diacritic marker removal using Perl.</p>\n\n<p>These existing SO questions are related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/285228/how-to-convert-utf-8-to-us-ascii-in-java#285791\">How to convert UTF-8 to US ASCII</a></li>\n<li><a href=\"https://stackoverflow.com/questions/331279/how-to-change-diacritic-characters-to-non-diacritic-ones\">How to change diacritic characters to non-diacritic ones</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":561996,"reputation":4719,"user_id":176437,"accept_rate":100,"display_name":"nils"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1353840081,"creation_date":1253518298,"answer_id":1453256,"question_id":1453171,"body_markdown":"You could use the [Normalizer class][1] from `java.text`:\r\n\r\n    System.out.println(new String(Normalizer.normalize(&quot;ń ǹ ň &#241; ṅ ņ ṇ ṋ&quot;, Normalizer.Form.NFKD).getBytes(&quot;ascii&quot;), &quot;ascii&quot;));\r\n\r\nBut there is still some work to do, since Java makes strange things with unconvertable Unicode characters (it does not ignore them, and it does not throw an exception). But I think you could use that as an starting point.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/Normalizer.html\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">Normalizer class</a> from <code>java.text</code>:</p>\n\n<pre><code>System.out.println(new String(Normalizer.normalize(\"ń ǹ ň ñ ṅ ņ ṇ ṋ\", Normalizer.Form.NFKD).getBytes(\"ascii\"), \"ascii\"));\n</code></pre>\n\n<p>But there is still some work to do, since Java makes strange things with unconvertable Unicode characters (it does not ignore them, and it does not throw an exception). But I think you could use that as an starting point.</p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860427,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1253519217,"creation_date":1253518865,"answer_id":1453278,"question_id":1453171,"body_markdown":"The easiest way (to me) would be to simply maintain a sparse mapping array which simply changes your Unicode code points into displayable strings.\r\n\r\nSuch as:\r\n\r\n    start    = 0x00C0\r\n    size     = 23\r\n    mappings = {\r\n        &quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;AE&quot;,&quot;C&quot;,\r\n        &quot;E&quot;,&quot;E&quot;,&quot;E&quot;,&quot;E&quot;,&quot;I&quot;,&quot;I&quot;,&quot;I&quot;, &quot;I&quot;,\r\n        &quot;D&quot;,&quot;N&quot;,&quot;O&quot;,&quot;O&quot;,&quot;O&quot;,&quot;O&quot;,&quot;O&quot;\r\n    }\r\n    start    = 0x00D8\r\n    size     = 6\r\n    mappings = {\r\n        &quot;O&quot;,&quot;U&quot;,&quot;U&quot;,&quot;U&quot;,&quot;U&quot;,&quot;Y&quot;\r\n    }\r\n    start    = 0x00E0\r\n    size     = 23\r\n    mappings = {\r\n        &quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;ae&quot;,&quot;c&quot;,\r\n        &quot;e&quot;,&quot;e&quot;,&quot;e&quot;,&quot;e&quot;,&quot;i&quot;,&quot;i&quot;,&quot;i&quot;, &quot;i&quot;,\r\n        &quot;d&quot;,&quot;n&quot;,&quot;o&quot;,&quot;o&quot;,&quot;o&quot;,&quot;o&quot;,&quot;o&quot;\r\n    }\r\n    start    = 0x00F8\r\n    size     = 6\r\n    mappings = {\r\n        &quot;o&quot;,&quot;u&quot;,&quot;u&quot;,&quot;u&quot;,&quot;u&quot;,&quot;y&quot;\r\n    }\r\n    : : :\r\n\r\nThe use of a *sparse* array will allow you to efficiently represent replacements even when they in widely spaced sections of the Unicode table. String replacements will allow arbitrary sequences to replace your diacritics (such as the `&#230;` grapheme becoming `ae`).\r\n\r\nThis is a language-agnostic answer so, if you have a specific language in mind, there will be better ways (although they&#39;ll all likely come down to this at the lowest levels anyway).\r\n\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>The easiest way (to me) would be to simply maintain a sparse mapping array which simply changes your Unicode code points into displayable strings.</p>\n\n<p>Such as:</p>\n\n<pre><code>start    = 0x00C0\nsize     = 23\nmappings = {\n    \"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"AE\",\"C\",\n    \"E\",\"E\",\"E\",\"E\",\"I\",\"I\",\"I\", \"I\",\n    \"D\",\"N\",\"O\",\"O\",\"O\",\"O\",\"O\"\n}\nstart    = 0x00D8\nsize     = 6\nmappings = {\n    \"O\",\"U\",\"U\",\"U\",\"U\",\"Y\"\n}\nstart    = 0x00E0\nsize     = 23\nmappings = {\n    \"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\"ae\",\"c\",\n    \"e\",\"e\",\"e\",\"e\",\"i\",\"i\",\"i\", \"i\",\n    \"d\",\"n\",\"o\",\"o\",\"o\",\"o\",\"o\"\n}\nstart    = 0x00F8\nsize     = 6\nmappings = {\n    \"o\",\"u\",\"u\",\"u\",\"u\",\"y\"\n}\n: : :\n</code></pre>\n\n<p>The use of a <em>sparse</em> array will allow you to efficiently represent replacements even when they in widely spaced sections of the Unicode table. String replacements will allow arbitrary sequences to replace your diacritics (such as the <code>æ</code> grapheme becoming <code>ae</code>).</p>\n\n<p>This is a language-agnostic answer so, if you have a specific language in mind, there will be better ways (although they'll all likely come down to this at the lowest levels anyway).</p>\n"},{"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"down_vote_count":4,"up_vote_count":91,"is_accepted":true,"score":87,"last_activity_date":1696452311,"creation_date":1253519020,"answer_id":1453284,"question_id":1453171,"body_markdown":"I have done this recently in Java:\r\n\r\n    public static final Pattern DIACRITICS_AND_FRIENDS\r\n        = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;);\r\n\r\n    private static String stripDiacritics(String str) {\r\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\r\n        str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\r\n        return str;\r\n    }\r\n\r\nThis will do as you specified:\r\n\r\n    stripDiacritics(&quot;Bj&#246;rn&quot;)  = Bjorn\r\n\r\nbut it will fail on for example Białystok, because the `ł` character is not diacritic.\r\n\r\nIf you want to have a full-blown string simplifier, you will need a second cleanup round, for some more special characters that are not diacritics. Is this map, I have included the most common special characters that appear in our customer names. It is not a complete list, but it will give you the idea how to do extend it. The immutableMap is just a simple class from google-collections.\r\n\r\n    public class StringSimplifier {\r\n        public static final char DEFAULT_REPLACE_CHAR = &#39;-&#39;;\r\n        public static final String DEFAULT_REPLACE = String.valueOf(DEFAULT_REPLACE_CHAR);\r\n        private static final ImmutableMap&lt;String, String&gt; NONDIACRITICS = ImmutableMap.&lt;String, String&gt;builder()\r\n\r\n            //Remove crap strings with no sematics\r\n            .put(&quot;.&quot;, &quot;&quot;)\r\n            .put(&quot;\\&quot;&quot;, &quot;&quot;)\r\n            .put(&quot;&#39;&quot;, &quot;&quot;)\r\n\r\n            //Keep relevant characters as seperation\r\n            .put(&quot; &quot;, DEFAULT_REPLACE)\r\n            .put(&quot;]&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;[&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;)&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;(&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;=&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;!&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;/&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;\\\\&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&amp;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;,&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;?&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&#176;&quot;, DEFAULT_REPLACE) //Remove ?? is diacritic?\r\n            .put(&quot;|&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&lt;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&gt;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;:&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;_&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;#&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;~&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;+&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;*&quot;, DEFAULT_REPLACE)\r\n\r\n            //Replace non-diacritics as their equivalent characters\r\n            .put(&quot;\\u0141&quot;, &quot;l&quot;) // BiaLystock\r\n            .put(&quot;\\u0142&quot;, &quot;l&quot;) // Bialystock\r\n            .put(&quot;&#223;&quot;, &quot;ss&quot;)\r\n            .put(&quot;&#230;&quot;, &quot;ae&quot;)\r\n            .put(&quot;&#248;&quot;, &quot;o&quot;)\r\n            .put(&quot;&#169;&quot;, &quot;c&quot;)\r\n            .put(&quot;\\u00D0&quot;, &quot;d&quot;) // All &#208; &#240; from http://de.wikipedia.org/wiki/%C3%90\r\n            .put(&quot;\\u00F0&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0110&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0111&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0189&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0256&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u00DE&quot;, &quot;th&quot;) // thorn &#222;\r\n            .put(&quot;\\u00FE&quot;, &quot;th&quot;) // thorn &#254;\r\n            .build();\r\n\r\n\r\n        public static String simplifiedString(String orig) {\r\n            String str = orig;\r\n            if (str == null) {\r\n                return null;\r\n            }\r\n            str = stripDiacritics(str);\r\n            str = stripNonDiacritics(str);\r\n            if (str.length() == 0) {\r\n                // Ugly special case to work around non-existing empty strings\r\n                // in Oracle. Store original crapstring as simplified.\r\n                // It would return an empty string if Oracle could store it.\r\n                return orig;\r\n            }\r\n            return str.toLowerCase();\r\n        }\r\n\r\n        private static String stripNonDiacritics(String orig) {\r\n            StringBuilder ret = new StringBuilder\r\n            String lastchar = null;\r\n            for (int i = 0; i &lt; orig.length(); i++) {\r\n                String source = orig.substring(i, i + 1);\r\n                String replace = NONDIACRITICS.get(source);\r\n                String toReplace = replace == null ? String.valueOf(source) : replace;\r\n                if (DEFAULT_REPLACE.equals(lastchar) &amp;&amp; DEFAULT_REPLACE.equals(toReplace)) {\r\n                    toReplace = &quot;&quot;;\r\n                } else {\r\n                    lastchar = toReplace;\r\n                }\r\n                ret.append(toReplace);\r\n            }\r\n            if (ret.length() &gt; 0 &amp;&amp; DEFAULT_REPLACE_CHAR == ret.charAt(ret.length() - 1)) {\r\n                ret.deleteCharAt(ret.length() - 1);\r\n            }\r\n            return ret.toString();\r\n        }\r\n\r\n    /*\r\n        Special regular expression character ranges relevant for simplification:\r\n        - InCombiningDiacriticalMarks: diacritic marks used in many languages\r\n        - IsLm: Letter, Modifier (see http://www.fileformat.info/info/unicode/category/Lm/list.htm)\r\n        - IsSk: Symbol, Modifier (see http://www.fileformat.info/info/unicode/category/Sk/list.htm)\r\n        - U+0591 to U+05C7: Range for Hebrew diacritics (niqqud) \r\n          (see official Unicode chart: https://www.unicode.org/charts/PDF/U0590.pdf)\r\n    */\r\n    public static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(\r\n        &quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;\r\n    );\r\n\r\n\r\n        private static String stripDiacritics(String str) {\r\n            str = Normalizer.normalize(str, Normalizer.Form.NFD);\r\n            str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\r\n            return str;\r\n        }\r\n    }\r\n\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>I have done this recently in Java:</p>\n<pre><code>public static final Pattern DIACRITICS_AND_FRIENDS\n    = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;);\n\nprivate static String stripDiacritics(String str) {\n    str = Normalizer.normalize(str, Normalizer.Form.NFD);\n    str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\n    return str;\n}\n</code></pre>\n<p>This will do as you specified:</p>\n<pre><code>stripDiacritics(&quot;Björn&quot;)  = Bjorn\n</code></pre>\n<p>but it will fail on for example Białystok, because the <code>ł</code> character is not diacritic.</p>\n<p>If you want to have a full-blown string simplifier, you will need a second cleanup round, for some more special characters that are not diacritics. Is this map, I have included the most common special characters that appear in our customer names. It is not a complete list, but it will give you the idea how to do extend it. The immutableMap is just a simple class from google-collections.</p>\n<pre><code>public class StringSimplifier {\n    public static final char DEFAULT_REPLACE_CHAR = '-';\n    public static final String DEFAULT_REPLACE = String.valueOf(DEFAULT_REPLACE_CHAR);\n    private static final ImmutableMap&lt;String, String&gt; NONDIACRITICS = ImmutableMap.&lt;String, String&gt;builder()\n\n        //Remove crap strings with no sematics\n        .put(&quot;.&quot;, &quot;&quot;)\n        .put(&quot;\\&quot;&quot;, &quot;&quot;)\n        .put(&quot;'&quot;, &quot;&quot;)\n\n        //Keep relevant characters as seperation\n        .put(&quot; &quot;, DEFAULT_REPLACE)\n        .put(&quot;]&quot;, DEFAULT_REPLACE)\n        .put(&quot;[&quot;, DEFAULT_REPLACE)\n        .put(&quot;)&quot;, DEFAULT_REPLACE)\n        .put(&quot;(&quot;, DEFAULT_REPLACE)\n        .put(&quot;=&quot;, DEFAULT_REPLACE)\n        .put(&quot;!&quot;, DEFAULT_REPLACE)\n        .put(&quot;/&quot;, DEFAULT_REPLACE)\n        .put(&quot;\\\\&quot;, DEFAULT_REPLACE)\n        .put(&quot;&amp;&quot;, DEFAULT_REPLACE)\n        .put(&quot;,&quot;, DEFAULT_REPLACE)\n        .put(&quot;?&quot;, DEFAULT_REPLACE)\n        .put(&quot;°&quot;, DEFAULT_REPLACE) //Remove ?? is diacritic?\n        .put(&quot;|&quot;, DEFAULT_REPLACE)\n        .put(&quot;&lt;&quot;, DEFAULT_REPLACE)\n        .put(&quot;&gt;&quot;, DEFAULT_REPLACE)\n        .put(&quot;;&quot;, DEFAULT_REPLACE)\n        .put(&quot;:&quot;, DEFAULT_REPLACE)\n        .put(&quot;_&quot;, DEFAULT_REPLACE)\n        .put(&quot;#&quot;, DEFAULT_REPLACE)\n        .put(&quot;~&quot;, DEFAULT_REPLACE)\n        .put(&quot;+&quot;, DEFAULT_REPLACE)\n        .put(&quot;*&quot;, DEFAULT_REPLACE)\n\n        //Replace non-diacritics as their equivalent characters\n        .put(&quot;\\u0141&quot;, &quot;l&quot;) // BiaLystock\n        .put(&quot;\\u0142&quot;, &quot;l&quot;) // Bialystock\n        .put(&quot;ß&quot;, &quot;ss&quot;)\n        .put(&quot;æ&quot;, &quot;ae&quot;)\n        .put(&quot;ø&quot;, &quot;o&quot;)\n        .put(&quot;©&quot;, &quot;c&quot;)\n        .put(&quot;\\u00D0&quot;, &quot;d&quot;) // All Ð ð from http://de.wikipedia.org/wiki/%C3%90\n        .put(&quot;\\u00F0&quot;, &quot;d&quot;)\n        .put(&quot;\\u0110&quot;, &quot;d&quot;)\n        .put(&quot;\\u0111&quot;, &quot;d&quot;)\n        .put(&quot;\\u0189&quot;, &quot;d&quot;)\n        .put(&quot;\\u0256&quot;, &quot;d&quot;)\n        .put(&quot;\\u00DE&quot;, &quot;th&quot;) // thorn Þ\n        .put(&quot;\\u00FE&quot;, &quot;th&quot;) // thorn þ\n        .build();\n\n\n    public static String simplifiedString(String orig) {\n        String str = orig;\n        if (str == null) {\n            return null;\n        }\n        str = stripDiacritics(str);\n        str = stripNonDiacritics(str);\n        if (str.length() == 0) {\n            // Ugly special case to work around non-existing empty strings\n            // in Oracle. Store original crapstring as simplified.\n            // It would return an empty string if Oracle could store it.\n            return orig;\n        }\n        return str.toLowerCase();\n    }\n\n    private static String stripNonDiacritics(String orig) {\n        StringBuilder ret = new StringBuilder\n        String lastchar = null;\n        for (int i = 0; i &lt; orig.length(); i++) {\n            String source = orig.substring(i, i + 1);\n            String replace = NONDIACRITICS.get(source);\n            String toReplace = replace == null ? String.valueOf(source) : replace;\n            if (DEFAULT_REPLACE.equals(lastchar) &amp;&amp; DEFAULT_REPLACE.equals(toReplace)) {\n                toReplace = &quot;&quot;;\n            } else {\n                lastchar = toReplace;\n            }\n            ret.append(toReplace);\n        }\n        if (ret.length() &gt; 0 &amp;&amp; DEFAULT_REPLACE_CHAR == ret.charAt(ret.length() - 1)) {\n            ret.deleteCharAt(ret.length() - 1);\n        }\n        return ret.toString();\n    }\n\n/*\n    Special regular expression character ranges relevant for simplification:\n    - InCombiningDiacriticalMarks: diacritic marks used in many languages\n    - IsLm: Letter, Modifier (see http://www.fileformat.info/info/unicode/category/Lm/list.htm)\n    - IsSk: Symbol, Modifier (see http://www.fileformat.info/info/unicode/category/Sk/list.htm)\n    - U+0591 to U+05C7: Range for Hebrew diacritics (niqqud) \n      (see official Unicode chart: https://www.unicode.org/charts/PDF/U0590.pdf)\n*/\npublic static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(\n    &quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;\n);\n\n\n    private static String stripDiacritics(String str) {\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\n        str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\n        return str;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1253543523,"creation_date":1253543523,"answer_id":1454826,"question_id":1453171,"body_markdown":"The core java.text package was designed to address this use case (matching strings without caring about diacritics, case, etc.).\r\n\r\nConfigure a [`Collator`][1] to sort on [`PRIMARY`][2] differences in characters. With that, create a [`CollationKey`][3] for each string. If all of your code is in Java, you can use the `CollationKey` directly. If you need to store the keys in a database or other sort of index, you can [convert it to a byte array][4].\r\n\r\nThese classes use the [Unicode standard][5] case folding data to determine which characters are equivalent, and support various [decomposition][6] strategies.\r\n\r\n    Collator c = Collator.getInstance();\r\n    c.setStrength(Collator.PRIMARY);\r\n    Map&lt;CollationKey, String&gt; dictionary = new TreeMap&lt;CollationKey, String&gt;();\r\n    dictionary.put(c.getCollationKey(&quot;Bj&#246;rn&quot;), &quot;Bj&#246;rn&quot;);\r\n    ...\r\n    CollationKey query = c.getCollationKey(&quot;bjorn&quot;);\r\n    System.out.println(dictionary.get(query)); // --&gt; &quot;Bj&#246;rn&quot;\r\n\r\nNote that collators are locale-specific. This is because &quot;alphabetical order&quot; is differs between locales (and even over time, as has been the case with Spanish). The `Collator` class relieves you from having to track all of these rules and keep them up to date.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/text/Collator.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/text/Collator.html#PRIMARY\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/text/Collator.html#getCollationKey(java.lang.String)\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/text/CollationKey.html#toByteArray()\r\n  [5]: http://www.unicode.org/reports/tr10/\r\n  [6]: http://www.unicode.org/versions/Unicode5.0.0/ch03.pdf#G729\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>The core java.text package was designed to address this use case (matching strings without caring about diacritics, case, etc.).</p>\n\n<p>Configure a <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Collator.html\" rel=\"noreferrer\"><code>Collator</code></a> to sort on <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Collator.html#PRIMARY\" rel=\"noreferrer\"><code>PRIMARY</code></a> differences in characters. With that, create a <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Collator.html#getCollationKey(java.lang.String)\" rel=\"noreferrer\"><code>CollationKey</code></a> for each string. If all of your code is in Java, you can use the <code>CollationKey</code> directly. If you need to store the keys in a database or other sort of index, you can <a href=\"http://java.sun.com/javase/6/docs/api/java/text/CollationKey.html#toByteArray()\" rel=\"noreferrer\">convert it to a byte array</a>.</p>\n\n<p>These classes use the <a href=\"http://www.unicode.org/reports/tr10/\" rel=\"noreferrer\">Unicode standard</a> case folding data to determine which characters are equivalent, and support various <a href=\"http://www.unicode.org/versions/Unicode5.0.0/ch03.pdf#G729\" rel=\"noreferrer\">decomposition</a> strategies.</p>\n\n<pre><code>Collator c = Collator.getInstance();\nc.setStrength(Collator.PRIMARY);\nMap&lt;CollationKey, String&gt; dictionary = new TreeMap&lt;CollationKey, String&gt;();\ndictionary.put(c.getCollationKey(\"Björn\"), \"Björn\");\n...\nCollationKey query = c.getCollationKey(\"bjorn\");\nSystem.out.println(dictionary.get(query)); // --&gt; \"Björn\"\n</code></pre>\n\n<p>Note that collators are locale-specific. This is because \"alphabetical order\" is differs between locales (and even over time, as has been the case with Spanish). The <code>Collator</code> class relieves you from having to track all of these rules and keep them up to date.</p>\n"},{"tags":[],"owner":{"account_id":49345,"reputation":1054,"user_id":146872,"display_name":"Viktor Jevdokimov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353840212,"creation_date":1253544096,"answer_id":1454868,"question_id":1453171,"body_markdown":"In Windows and .NET, I just convert using string encoding. That way I avoid manual mapping and coding. \r\n\r\nTry to play with string encoding.","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>In Windows and .NET, I just convert using string encoding. That way I avoid manual mapping and coding. </p>\n\n<p>Try to play with string encoding.</p>\n"},{"tags":[],"owner":{"account_id":22951,"reputation":12505,"user_id":57120,"accept_rate":83,"display_name":"Beska"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1253545089,"creation_date":1253545089,"answer_id":1454947,"question_id":1453171,"body_markdown":"Something to consider: if you go the route of trying to get a single &quot;translation&quot; of each word, you may miss out on some possible alternates.\r\n\r\nFor instance, in German, when replacing the &quot;s-set&quot;, some people might use &quot;B&quot;, while others might use &quot;ss&quot;.  Or, replacing an umlauted o with &quot;o&quot; or &quot;oe&quot;.  Any solution you come up with, ideally, I would think should include both.","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>Something to consider: if you go the route of trying to get a single \"translation\" of each word, you may miss out on some possible alternates.</p>\n\n<p>For instance, in German, when replacing the \"s-set\", some people might use \"B\", while others might use \"ss\".  Or, replacing an umlauted o with \"o\" or \"oe\".  Any solution you come up with, ideally, I would think should include both.</p>\n"},{"tags":[],"owner":{"account_id":5463,"reputation":20363,"user_id":8799,"accept_rate":65,"display_name":"Nathan Baulch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1253984802,"creation_date":1253984802,"answer_id":1481653,"question_id":1453171,"body_markdown":"For future reference, here is a C# extension method that removes accents.\r\n\r\n    public static class StringExtensions\r\n    {\r\n        public static string RemoveDiacritics(this string str)\r\n        {\r\n            return new string(\r\n                str.Normalize(NormalizationForm.FormD)\r\n                    .Where(c =&gt; CharUnicodeInfo.GetUnicodeCategory(c) != \r\n                                UnicodeCategory.NonSpacingMark)\r\n                    .ToArray());\r\n        }\r\n    }\r\n    static void Main()\r\n    {\r\n        var input = &quot;ŃŅŇ &#192;&#193;&#194;&#195;&#196;&#197; ŢŤţť Ĥĥ &#224;&#225;&#226;&#227;&#228;&#229; ńņň&quot;;\r\n        var output = input.RemoveDiacritics();\r\n        Debug.Assert(output == &quot;NNN AAAAAA TTtt Hh aaaaaa nnn&quot;);\r\n    }","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>For future reference, here is a C# extension method that removes accents.</p>\n\n<pre><code>public static class StringExtensions\n{\n    public static string RemoveDiacritics(this string str)\n    {\n        return new string(\n            str.Normalize(NormalizationForm.FormD)\n                .Where(c =&gt; CharUnicodeInfo.GetUnicodeCategory(c) != \n                            UnicodeCategory.NonSpacingMark)\n                .ToArray());\n    }\n}\nstatic void Main()\n{\n    var input = \"ŃŅŇ ÀÁÂÃÄÅ ŢŤţť Ĥĥ àáâãäå ńņň\";\n    var output = input.RemoveDiacritics();\n    Debug.Assert(output == \"NNN AAAAAA TTtt Hh aaaaaa nnn\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13903,"reputation":393603,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1267458375,"creation_date":1267458375,"answer_id":2356984,"question_id":1453171,"body_markdown":"Please note that not all of these marks are just &quot;marks&quot; on some &quot;normal&quot; character, that you can remove without changing the meaning.\r\n\r\nIn Swedish, &amp;aring; &amp;auml; and &amp;ouml; are true and proper first-class characters, not some &quot;variant&quot; of some other character. They sound different from all other characters, they sort different, and they make words change meaning (&quot;m&amp;auml;tt&quot; and &quot;matt&quot; are two different words).\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>Please note that not all of these marks are just \"marks\" on some \"normal\" character, that you can remove without changing the meaning.</p>\n\n<p>In Swedish, &aring; &auml; and &ouml; are true and proper first-class characters, not some \"variant\" of some other character. They sound different from all other characters, they sort different, and they make words change meaning (\"m&auml;tt\" and \"matt\" are two different words).</p>\n"},{"tags":[],"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1442913116,"creation_date":1350210133,"answer_id":12881317,"question_id":1453171,"body_markdown":"It&#39;s part of [Apache Commons Lang](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29) as of ver. 3.1.\r\n\r\n    org.apache.commons.lang3.StringUtils.stripAccents(&quot;A&#241;&quot;);\r\n\r\nreturns `An`","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>It's part of <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29\" rel=\"noreferrer\">Apache Commons Lang</a> as of ver. 3.1.</p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.stripAccents(\"Añ\");\n</code></pre>\n\n<p>returns <code>An</code></p>\n"},{"tags":[],"owner":{"account_id":99795,"reputation":31,"user_id":269385,"display_name":"jalbert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360318572,"creation_date":1360318572,"answer_id":14770259,"question_id":1453171,"body_markdown":"In case of German it&#39;s not wanted to remove diacritics from Umlauts (&#228;, &#246;, &#252;).\r\nInstead they are replaced by two letter combination (ae, oe, ue)\r\nFor instance, Bj&#246;rn should be written as Bjoern (not Bjorn) to have correct pronounciation.\r\n\r\nFor that I would have rather a hardcoded mapping, where you can define the replacement rule individually for each special character group.","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>In case of German it's not wanted to remove diacritics from Umlauts (ä, ö, ü).\nInstead they are replaced by two letter combination (ae, oe, ue)\nFor instance, Björn should be written as Bjoern (not Bjorn) to have correct pronounciation.</p>\n\n<p>For that I would have rather a hardcoded mapping, where you can define the replacement rule individually for each special character group.</p>\n"}],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34921,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":1453284,"answer_count":12,"score":91,"last_activity_date":1696452311,"creation_date":1253516636,"question_id":1453171,"body_markdown":"I am looking at an algorithm that can map between characters with diacritics ([tilde][1], [circumflex][2], [caret][3], [umlaut][4], [caron][5]) and their &quot;simple&quot; character.\r\n\r\nFor example:\r\n\r\n    ń  ǹ  ň  &#241;  ṅ  ņ  ṇ  ṋ  ṉ  ̈  ɲ  ƞ ᶇ ɳ ȵ  --&gt; n\r\n    &#225; --&gt; a\r\n    &#228; --&gt; a\r\n    ấ --&gt; a\r\n    ṏ --&gt; o\r\n\r\nEtc.\r\n\r\n1. I want to do this in Java, although I suspect it should be something Unicode-y and should be doable reasonably easily in any language.\r\n\r\n2. Purpose: to allow easily search for words with diacritical marks. For example, if I have a database of tennis players, and Bj&#246;rn_Borg is entered, I will also keep Bjorn_Borg so I can find it if someone enters Bjorn and not Bj&#246;rn.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Tilde\r\n  [2]: http://en.wikipedia.org/wiki/Circumflex_accent\r\n  [3]: http://en.wikipedia.org/wiki/Caret\r\n  [4]: http://en.wikipedia.org/wiki/Umlaut_%28diacritic%29\r\n  [5]: http://en.wikipedia.org/wiki/Caron\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>I am looking at an algorithm that can map between characters with diacritics (<a href=\"http://en.wikipedia.org/wiki/Tilde\" rel=\"noreferrer\">tilde</a>, <a href=\"http://en.wikipedia.org/wiki/Circumflex_accent\" rel=\"noreferrer\">circumflex</a>, <a href=\"http://en.wikipedia.org/wiki/Caret\" rel=\"noreferrer\">caret</a>, <a href=\"http://en.wikipedia.org/wiki/Umlaut_%28diacritic%29\" rel=\"noreferrer\">umlaut</a>, <a href=\"http://en.wikipedia.org/wiki/Caron\" rel=\"noreferrer\">caron</a>) and their \"simple\" character.</p>\n\n<p>For example:</p>\n\n<pre><code>ń  ǹ  ň  ñ  ṅ  ņ  ṇ  ṋ  ṉ  ̈  ɲ  ƞ ᶇ ɳ ȵ  --&gt; n\ná --&gt; a\nä --&gt; a\nấ --&gt; a\nṏ --&gt; o\n</code></pre>\n\n<p>Etc.</p>\n\n<ol>\n<li><p>I want to do this in Java, although I suspect it should be something Unicode-y and should be doable reasonably easily in any language.</p></li>\n<li><p>Purpose: to allow easily search for words with diacritical marks. For example, if I have a database of tennis players, and Björn_Borg is entered, I will also keep Bjorn_Borg so I can find it if someone enters Bjorn and not Björn.</p></li>\n</ol>\n"},{"tags":["java","multithreading","locking","executorservice","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":29598710,"reputation":1,"user_id":22684691,"display_name":"sinemeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696452283,"creation_date":1696452283,"answer_id":77232862,"question_id":77231902,"body_markdown":"I was able to solve the problem by removing the try-with-resources when accepting clients. I&#39;ve read it here: https://stackoverflow.com/questions/30553670/eofexception-socketexception-when-working-with-sockets-and-threads (1337joe&#39;s answer).\r\n\r\nI removed try-with-resources and my code got immediately past the tests. I also moved the while loop after creating a ServerSocket object as to make sure that one server accepts multiple clients rather than trying to create multiple servers (which also created problems probably). Below are the changes for the future comers:\r\n\r\n    // I used try-with-resources here in the first implementation\r\n    while (isRunning) {\r\n        try (ServerSocket serverSocket = new ServerSocket(PORT)) {\r\n            try (Socket acceptSocket = serverSocket.accept();\r\n                 DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\r\n                 DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream()))\r\n                 // ... rest of the code\r\n\r\n    // I removed try-with-resources and changed it as follows\r\n        try (ServerSocket serverSocket = new ServerSocket(PORT)) {\r\n            while (isRunning) {\r\n                try {\r\n                    Socket acceptSocket = serverSocket.accept();\r\n                    DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\r\n                    DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream());\r\n                    // ... rest of the code\r\n\r\n\r\n","title":"Multithreading problem in Server-Client program (Java)","body":"<p>I was able to solve the problem by removing the try-with-resources when accepting clients. I've read it here: <a href=\"https://stackoverflow.com/questions/30553670/eofexception-socketexception-when-working-with-sockets-and-threads\">EOFException / SocketException when working with sockets and threads</a> (1337joe's answer).</p>\n<p>I removed try-with-resources and my code got immediately past the tests. I also moved the while loop after creating a ServerSocket object as to make sure that one server accepts multiple clients rather than trying to create multiple servers (which also created problems probably). Below are the changes for the future comers:</p>\n<pre><code>// I used try-with-resources here in the first implementation\nwhile (isRunning) {\n    try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n        try (Socket acceptSocket = serverSocket.accept();\n             DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\n             DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream()))\n             // ... rest of the code\n\n// I removed try-with-resources and changed it as follows\n    try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n        while (isRunning) {\n            try {\n                Socket acceptSocket = serverSocket.accept();\n                DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\n                DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream());\n                // ... rest of the code\n</code></pre>\n"}],"owner":{"account_id":29598710,"reputation":1,"user_id":22684691,"display_name":"sinemeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696454827,"answer_count":1,"score":0,"last_activity_date":1696452283,"creation_date":1696441798,"question_id":77231902,"body_markdown":"I&#39;ve been trying to implement a simple multithreaded server-client program in Java. It&#39;s a project stage in Hyperskill (find it [here](https://hyperskill.org/projects/65/stages/352/implement)).\r\n\r\nStage objectives are as follows:\r\n&gt; The server should keep the database on the hard drive in a db.json file which should be stored as the JSON file in the /server/data folder.\r\n&gt; Use executors at the server in order to simultaneously handle multiple requests. Writing to the database file should be protected by a lock as described in the description.\r\n&gt; Implement the ability to read a request from a file. If the -in argument is followed by the file name provided, read a request from that file. The file will be stored in /client/data.\r\n\r\nI have 2 packages, that are client and server, and 4 different classes in each package. Please find my full source code below. Also you may find the automated test results after the source code.\r\n\r\n```\r\n// client.Main\r\n\r\npackage client;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        ClientInitializer clientInitializer = new ClientInitializer(args);\r\n        clientInitializer.start();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// client.clientInitializer\r\npackage client;\r\n\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Scanner;\r\n\r\npublic class ClientInitializer {\r\n\r\n    private final List&lt;String&gt; args;\r\n\r\n    public ClientInitializer(String[] args) {\r\n        this.args = Arrays.asList(args);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    public void start() {\r\n        String input = &quot;.\\\\client\\\\data\\\\&quot; + getInput();\r\n        if (!input.equals(&quot;.\\\\client\\\\data\\\\&quot;)) {\r\n            try (Scanner fileScanner = new Scanner(Paths.get(input))) {\r\n                StringBuilder jsonBuilder = new StringBuilder();\r\n                while (fileScanner.hasNextLine()) {\r\n                    jsonBuilder.append(fileScanner.nextLine());\r\n                }\r\n                String readRequest = jsonBuilder.toString();\r\n                Request request = new Request(new Gson().fromJson(readRequest, Request.class));\r\n                Client client = new Client(request);\r\n                client.run();\r\n                return;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        String type = getType();\r\n        String key = getKey();\r\n        String value = getValue();\r\n        Request request = new Request(type, key, value);\r\n        Client client = new Client(request);\r\n        client.run();\r\n    }\r\n\r\n    private String getInput() {\r\n        try {\r\n            int indexOfInput = args.indexOf(&quot;-in&quot;);\r\n            return indexOfInput == -1 ? &quot;&quot; : args.get(indexOfInput + 1);\r\n        } catch (NullPointerException | NoSuchElementException e) {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n    private String getType() {\r\n        int indexOfType = args.indexOf(&quot;-t&quot;) + 1;\r\n        return args.get(indexOfType);\r\n    }\r\n\r\n    private String getKey() {\r\n        try {\r\n            int indexOfKey = args.indexOf(&quot;-k&quot;);\r\n            return indexOfKey == -1 ? null : args.get(indexOfKey + 1);\r\n        } catch (NullPointerException | NoSuchElementException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private String getValue() {\r\n        try {\r\n            int indexOfCellIndex = args.indexOf(&quot;-v&quot;);\r\n            return indexOfCellIndex == -1 ? null : args.get(indexOfCellIndex + 1);\r\n        } catch (NullPointerException | NoSuchElementException e) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// client.Request\r\n\r\npackage client;\r\n\r\npublic class Request {\r\n\r\n    private final String type;\r\n    private final String key;\r\n    private final String value;\r\n\r\n    public Request(String type, String key, String value) {\r\n        this.type = type;\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public Request(Request request) {\r\n        this.type = request.getType();\r\n        this.key = request.getKey();\r\n        this.value = request.getValue();\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// client.Client\r\n\r\npackage client;\r\n\r\nimport com.google.gson.Gson;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\n\r\npublic class Client {\r\n\r\n    private static final String ADDRESS = &quot;127.0.0.1&quot;;\r\n    private static final int PORT = 23456;\r\n    private final Request request;\r\n\r\n    public Client(Request request) {\r\n        this.request = request;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    public void run() {\r\n        System.out.println(&quot;Client started!&quot;);\r\n        try (Socket socket = new Socket(ADDRESS, PORT);\r\n             DataInputStream input = new DataInputStream(socket.getInputStream());\r\n             DataOutputStream output = new DataOutputStream(socket.getOutputStream())\r\n        ) {\r\n            String sentJson = new Gson().toJson(request);\r\n            output.writeUTF(sentJson);\r\n            System.out.println(&quot;Sent: &quot; + sentJson);\r\n            if (socket.isOutputShutdown()) {\r\n                System.out.println(&quot;Server closed the connection.&quot;);\r\n            } else {\r\n                try {\r\n                    String receivedJson = input.readUTF();\r\n                    System.out.println(&quot;Received: &quot; + receivedJson);\r\n                } catch (EOFException e) {\r\n                    System.out.println(&quot;Server closed the connection unexpectedly.&quot;);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// server.Main\r\n\r\npackage server;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n        server.run();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// server.Server\r\n\r\npackage server;\r\n\r\nimport client.Request;\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReadWriteLock;\r\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\r\n\r\npublic class Server {\r\n\r\n    private static final int PORT = 23456;\r\n    private final Gson gson;\r\n    private final ReadWriteLock lock;\r\n    private final ExecutorService executor = Executors.newFixedThreadPool(4);\r\n    private volatile boolean isRunning = true;\r\n\r\n    public Server() {\r\n        writeDbToFile();\r\n        this.gson = new Gson();\r\n        this.lock = new ReentrantReadWriteLock();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    public void run() {\r\n        System.out.println(&quot;Server started!&quot;);\r\n        while (isRunning) {\r\n            try (ServerSocket serverSocket = new ServerSocket(PORT)) {\r\n                try (Socket acceptSocket = serverSocket.accept();\r\n                     DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\r\n                     DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream())\r\n                ) {\r\n                    String receivedJson = input.readUTF();\r\n                    if (receivedJson.contains(&quot;exit&quot;)) {\r\n                        executor.submit(() -&gt; {\r\n                           handleExitRequest(output);\r\n                        });\r\n                        isRunning = false;\r\n                    } else {\r\n                        executor.submit(() -&gt; {\r\n                            handleRequest(receivedJson, output);\r\n                        });\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void handleExitRequest(DataOutputStream output) {\r\n        String sentJson = gson.toJson(new Response(&quot;OK&quot;));\r\n        try {\r\n            output.writeUTF(sentJson);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Server side IOException&quot;);\r\n        }\r\n    }\r\n\r\n    private void handleRequest(String receivedJson, DataOutputStream output) {\r\n        Request request = gson.fromJson(receivedJson, Request.class);\r\n        if (receivedJson.contains(&quot;get&quot;)) {\r\n            Database db = new Database();\r\n            Lock readLock = lock.readLock();\r\n            String key = request.getKey();\r\n            try {\r\n                output.writeUTF(gson.toJson(db.getInformation(key)));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            readLock.unlock();\r\n        } else if (receivedJson.contains(&quot;set&quot;)) {\r\n            Database db = new Database();\r\n            Lock writeLock = lock.writeLock();\r\n            String key = request.getKey();\r\n            String value = request.getValue();\r\n            try {\r\n                output.writeUTF(gson.toJson(db.setInformation(key, value)));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            writeDbToFile();\r\n            writeLock.unlock();\r\n        } else if (receivedJson.contains(&quot;delete&quot;)) {\r\n            Database db = new Database();\r\n            Lock writeLock = lock.writeLock();\r\n            String key = request.getKey();\r\n            try {\r\n                output.writeUTF(gson.toJson(db.deleteInformation(key)));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            writeDbToFile();\r\n            writeLock.unlock();\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    private void writeDbToFile() {\r\n        Database db = new Database();\r\n        try (FileWriter fileWriter = new FileWriter(System.getProperty(&quot;user.dir&quot;) + &quot;/src/server/data/db.json&quot;, true)) {\r\n            for (var entry : db.getDb().entrySet()) {\r\n                fileWriter.write(entry.getKey() + &quot;:&quot; + entry.getValue() + &quot;\\n&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// server.Database\r\n\r\npackage server;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Database {\r\n\r\n    private final Map&lt;String, String&gt; db;\r\n    private static final String successMessage = &quot;OK&quot;;\r\n    private static final String errorMessage = &quot;ERROR&quot;;\r\n    private static final String noSuchKeyMessage = &quot;No such key&quot;;\r\n\r\n    public Database() {\r\n        this.db = new HashMap&lt;&gt;(1000);\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getDb() {\r\n        return db;\r\n    }\r\n\r\n    public Response getInformation(String key) {\r\n        return db.containsKey(key) ? new Response(successMessage, db.get(key), false) :\r\n                new Response(errorMessage, noSuchKeyMessage);\r\n    }\r\n\r\n    public Response setInformation(String key, String value) {\r\n        db.put(key, value);\r\n        return new Response(successMessage);\r\n    }\r\n\r\n    public Response deleteInformation(String key) {\r\n        if (db.containsKey(key)) {\r\n            db.remove(key);\r\n            return new Response(successMessage);\r\n        } else {\r\n            return new Response(errorMessage, noSuchKeyMessage);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// server.Response\r\n\r\npackage server;\r\n\r\npublic class Response {\r\n\r\n    private final String response;\r\n    private final String reason;\r\n    private final String value;\r\n\r\n    public Response(String response) {\r\n        this.response = response;\r\n        this.reason = null;\r\n        this.value = null;\r\n    }\r\n\r\n    public Response(String response, String reason) {\r\n        this.response = response;\r\n        this.reason = reason;\r\n        this.value = null;\r\n    }\r\n\r\n    public Response(String response, String value, boolean isReason) {\r\n        this.response = response;\r\n        this.value = value;\r\n        this.reason = null;\r\n    }\r\n}\r\n```\r\n\r\nThe test results:\r\n```\r\nStart test 1\r\nServer started!\r\nClient started!\r\nSent: {&quot;type&quot;:&quot;exit&quot;}\r\nServer closed the connection unexpectedly.\r\n\r\nStart test 2\r\n\r\nStart test 3\r\nServer started!\r\nClient started!\r\nSent: {&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:&quot;1&quot;}\r\nServer closed the connection unexpectedly.\r\n```\r\n\r\n\r\nBased on the automated tests, I&#39;ve put some print statements in the catch blocks to see what exactly the issue is, and saw that Client can&#39;t read the response that was sent from the Server. I thought that it might be caused by one of the threads closing the server before the response was sent in the first place, but as I have little to zero experience with multithreading, I&#39;m not so sure.\r\n\r\nProgram doesn&#39;t seem to have any issues with reading from and writing to files. To be honest, I&#39;m not so sure that I have structured the multithreading behavior correct at this point. I&#39;m also not so sure about the use of Locks here.\r\n\r\nI also tried to find similar problems on the Internet and alter my source code a bit depending on the suggestions here and there to no avail.\r\n\r\nPardon any potential design and programming problems as I&#39;ve just started learning programming this summer. Any help is very much appreciated.","title":"Multithreading problem in Server-Client program (Java)","body":"<p>I've been trying to implement a simple multithreaded server-client program in Java. It's a project stage in Hyperskill (find it <a href=\"https://hyperskill.org/projects/65/stages/352/implement\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Stage objectives are as follows:</p>\n<blockquote>\n<p>The server should keep the database on the hard drive in a db.json file which should be stored as the JSON file in the /server/data folder.\nUse executors at the server in order to simultaneously handle multiple requests. Writing to the database file should be protected by a lock as described in the description.\nImplement the ability to read a request from a file. If the -in argument is followed by the file name provided, read a request from that file. The file will be stored in /client/data.</p>\n</blockquote>\n<p>I have 2 packages, that are client and server, and 4 different classes in each package. Please find my full source code below. Also you may find the automated test results after the source code.</p>\n<pre><code>// client.Main\n\npackage client;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        ClientInitializer clientInitializer = new ClientInitializer(args);\n        clientInitializer.start();\n    }\n}\n\n</code></pre>\n<pre><code>// client.clientInitializer\npackage client;\n\nimport com.google.gson.Gson;\n\nimport java.io.IOException;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.Scanner;\n\npublic class ClientInitializer {\n\n    private final List&lt;String&gt; args;\n\n    public ClientInitializer(String[] args) {\n        this.args = Arrays.asList(args);\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public void start() {\n        String input = &quot;.\\\\client\\\\data\\\\&quot; + getInput();\n        if (!input.equals(&quot;.\\\\client\\\\data\\\\&quot;)) {\n            try (Scanner fileScanner = new Scanner(Paths.get(input))) {\n                StringBuilder jsonBuilder = new StringBuilder();\n                while (fileScanner.hasNextLine()) {\n                    jsonBuilder.append(fileScanner.nextLine());\n                }\n                String readRequest = jsonBuilder.toString();\n                Request request = new Request(new Gson().fromJson(readRequest, Request.class));\n                Client client = new Client(request);\n                client.run();\n                return;\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        String type = getType();\n        String key = getKey();\n        String value = getValue();\n        Request request = new Request(type, key, value);\n        Client client = new Client(request);\n        client.run();\n    }\n\n    private String getInput() {\n        try {\n            int indexOfInput = args.indexOf(&quot;-in&quot;);\n            return indexOfInput == -1 ? &quot;&quot; : args.get(indexOfInput + 1);\n        } catch (NullPointerException | NoSuchElementException e) {\n            return &quot;&quot;;\n        }\n    }\n\n    private String getType() {\n        int indexOfType = args.indexOf(&quot;-t&quot;) + 1;\n        return args.get(indexOfType);\n    }\n\n    private String getKey() {\n        try {\n            int indexOfKey = args.indexOf(&quot;-k&quot;);\n            return indexOfKey == -1 ? null : args.get(indexOfKey + 1);\n        } catch (NullPointerException | NoSuchElementException e) {\n            return null;\n        }\n    }\n\n    private String getValue() {\n        try {\n            int indexOfCellIndex = args.indexOf(&quot;-v&quot;);\n            return indexOfCellIndex == -1 ? null : args.get(indexOfCellIndex + 1);\n        } catch (NullPointerException | NoSuchElementException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n<pre><code>// client.Request\n\npackage client;\n\npublic class Request {\n\n    private final String type;\n    private final String key;\n    private final String value;\n\n    public Request(String type, String key, String value) {\n        this.type = type;\n        this.key = key;\n        this.value = value;\n    }\n\n    public Request(Request request) {\n        this.type = request.getType();\n        this.key = request.getKey();\n        this.value = request.getValue();\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public String getKey() {\n        return key;\n    }\n\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<pre><code>// client.Client\n\npackage client;\n\nimport com.google.gson.Gson;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.net.Socket;\n\npublic class Client {\n\n    private static final String ADDRESS = &quot;127.0.0.1&quot;;\n    private static final int PORT = 23456;\n    private final Request request;\n\n    public Client(Request request) {\n        this.request = request;\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public void run() {\n        System.out.println(&quot;Client started!&quot;);\n        try (Socket socket = new Socket(ADDRESS, PORT);\n             DataInputStream input = new DataInputStream(socket.getInputStream());\n             DataOutputStream output = new DataOutputStream(socket.getOutputStream())\n        ) {\n            String sentJson = new Gson().toJson(request);\n            output.writeUTF(sentJson);\n            System.out.println(&quot;Sent: &quot; + sentJson);\n            if (socket.isOutputShutdown()) {\n                System.out.println(&quot;Server closed the connection.&quot;);\n            } else {\n                try {\n                    String receivedJson = input.readUTF();\n                    System.out.println(&quot;Received: &quot; + receivedJson);\n                } catch (EOFException e) {\n                    System.out.println(&quot;Server closed the connection unexpectedly.&quot;);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<pre><code>// server.Main\n\npackage server;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Server server = new Server();\n        server.run();\n    }\n}\n\n</code></pre>\n<pre><code>// server.Server\n\npackage server;\n\nimport client.Request;\nimport com.google.gson.Gson;\n\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReadWriteLock;\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\n\npublic class Server {\n\n    private static final int PORT = 23456;\n    private final Gson gson;\n    private final ReadWriteLock lock;\n    private final ExecutorService executor = Executors.newFixedThreadPool(4);\n    private volatile boolean isRunning = true;\n\n    public Server() {\n        writeDbToFile();\n        this.gson = new Gson();\n        this.lock = new ReentrantReadWriteLock();\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public void run() {\n        System.out.println(&quot;Server started!&quot;);\n        while (isRunning) {\n            try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n                try (Socket acceptSocket = serverSocket.accept();\n                     DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\n                     DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream())\n                ) {\n                    String receivedJson = input.readUTF();\n                    if (receivedJson.contains(&quot;exit&quot;)) {\n                        executor.submit(() -&gt; {\n                           handleExitRequest(output);\n                        });\n                        isRunning = false;\n                    } else {\n                        executor.submit(() -&gt; {\n                            handleRequest(receivedJson, output);\n                        });\n                    }\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void handleExitRequest(DataOutputStream output) {\n        String sentJson = gson.toJson(new Response(&quot;OK&quot;));\n        try {\n            output.writeUTF(sentJson);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Server side IOException&quot;);\n        }\n    }\n\n    private void handleRequest(String receivedJson, DataOutputStream output) {\n        Request request = gson.fromJson(receivedJson, Request.class);\n        if (receivedJson.contains(&quot;get&quot;)) {\n            Database db = new Database();\n            Lock readLock = lock.readLock();\n            String key = request.getKey();\n            try {\n                output.writeUTF(gson.toJson(db.getInformation(key)));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            readLock.unlock();\n        } else if (receivedJson.contains(&quot;set&quot;)) {\n            Database db = new Database();\n            Lock writeLock = lock.writeLock();\n            String key = request.getKey();\n            String value = request.getValue();\n            try {\n                output.writeUTF(gson.toJson(db.setInformation(key, value)));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            writeDbToFile();\n            writeLock.unlock();\n        } else if (receivedJson.contains(&quot;delete&quot;)) {\n            Database db = new Database();\n            Lock writeLock = lock.writeLock();\n            String key = request.getKey();\n            try {\n                output.writeUTF(gson.toJson(db.deleteInformation(key)));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            writeDbToFile();\n            writeLock.unlock();\n        }\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    private void writeDbToFile() {\n        Database db = new Database();\n        try (FileWriter fileWriter = new FileWriter(System.getProperty(&quot;user.dir&quot;) + &quot;/src/server/data/db.json&quot;, true)) {\n            for (var entry : db.getDb().entrySet()) {\n                fileWriter.write(entry.getKey() + &quot;:&quot; + entry.getValue() + &quot;\\n&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre><code>// server.Database\n\npackage server;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Database {\n\n    private final Map&lt;String, String&gt; db;\n    private static final String successMessage = &quot;OK&quot;;\n    private static final String errorMessage = &quot;ERROR&quot;;\n    private static final String noSuchKeyMessage = &quot;No such key&quot;;\n\n    public Database() {\n        this.db = new HashMap&lt;&gt;(1000);\n    }\n\n    public Map&lt;String, String&gt; getDb() {\n        return db;\n    }\n\n    public Response getInformation(String key) {\n        return db.containsKey(key) ? new Response(successMessage, db.get(key), false) :\n                new Response(errorMessage, noSuchKeyMessage);\n    }\n\n    public Response setInformation(String key, String value) {\n        db.put(key, value);\n        return new Response(successMessage);\n    }\n\n    public Response deleteInformation(String key) {\n        if (db.containsKey(key)) {\n            db.remove(key);\n            return new Response(successMessage);\n        } else {\n            return new Response(errorMessage, noSuchKeyMessage);\n        }\n    }\n}\n</code></pre>\n<pre><code>// server.Response\n\npackage server;\n\npublic class Response {\n\n    private final String response;\n    private final String reason;\n    private final String value;\n\n    public Response(String response) {\n        this.response = response;\n        this.reason = null;\n        this.value = null;\n    }\n\n    public Response(String response, String reason) {\n        this.response = response;\n        this.reason = reason;\n        this.value = null;\n    }\n\n    public Response(String response, String value, boolean isReason) {\n        this.response = response;\n        this.value = value;\n        this.reason = null;\n    }\n}\n</code></pre>\n<p>The test results:</p>\n<pre><code>Start test 1\nServer started!\nClient started!\nSent: {&quot;type&quot;:&quot;exit&quot;}\nServer closed the connection unexpectedly.\n\nStart test 2\n\nStart test 3\nServer started!\nClient started!\nSent: {&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:&quot;1&quot;}\nServer closed the connection unexpectedly.\n</code></pre>\n<p>Based on the automated tests, I've put some print statements in the catch blocks to see what exactly the issue is, and saw that Client can't read the response that was sent from the Server. I thought that it might be caused by one of the threads closing the server before the response was sent in the first place, but as I have little to zero experience with multithreading, I'm not so sure.</p>\n<p>Program doesn't seem to have any issues with reading from and writing to files. To be honest, I'm not so sure that I have structured the multithreading behavior correct at this point. I'm also not so sure about the use of Locks here.</p>\n<p>I also tried to find similar problems on the Internet and alter my source code a bit depending on the suggestions here and there to no avail.</p>\n<p>Pardon any potential design and programming problems as I've just started learning programming this summer. Any help is very much appreciated.</p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696452112,"creation_date":1696451768,"question_id":77232813,"body_markdown":"I got the following code as my security configuration (I have a custom authentication provider):\r\n\r\n```java\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@Slf4j\r\npublic class SecurityConfig {\r\n\r\n    AznServerAuthenticationProvider authenticationProvider = new AznServerAuthenticationProvider();\r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n        &quot;/error/**&quot;,\r\n        &quot;/srv/config/all/**&quot;,\r\n        &quot;/srv/config/properties/**&quot;\r\n    };\r\n\r\n    @Bean\r\n    public RoleHierarchy roleHierarchy() {\r\n        RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\r\n        hierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER\\n&quot;\r\n            + &quot;ROLE_ADMIN &gt; CONFIG_EDITOR\\n&quot;\r\n            + &quot;CONFIG_EDITOR &gt; ROLE_USER&quot;);\r\n        return hierarchy;\r\n    }\r\n\r\n    @Bean\r\n    public MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\r\n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\r\n        expressionHandler.setRoleHierarchy(roleHierarchy);\r\n        return expressionHandler;\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain actuatorSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.securityMatcher(EndpointRequest.toAnyEndpoint());\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().permitAll());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        log.debug(&quot;In securityFilterChain&quot;);\r\n        http\r\n            .authenticationProvider(authenticationProvider)\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(AUTH_WHITELIST).permitAll()\r\n                .anyRequest().authenticated())\r\n            .httpBasic(Customizer.withDefaults());\r\n        http.csrf(csrf -&gt; csrf.disable());\r\n        return http.build();\r\n    }\r\n```\r\n\r\nAnd in my RestController class I got the following PUT endpoint:\r\n\r\n```java\r\n@RestController\r\npublic class PropertiesController {\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;CONFIG_EDITOR&#39;)&quot;)\r\n    @PutMapping(value = ConfigRestURIConstants.SRV_CONFIG_UPDATE_PROPERTY,\r\n            produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    public ResponseEntity&lt;String&gt; addProperty(\r\n\r\n```\r\nIf I try access the endpoint ` http -a user:password PUT :8080/srv/config/property/update?service-name........` I get a 403 error.\r\n\r\n```text\r\n2023-10-04T20:15:43.603Z DEBUG 1 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /srv/config/property/update?service-name=.........\r\n2023-10-04T20:15:43.604Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.h.RoleHierarchyImpl              : getReachableGrantedAuthorities() - From the roles [ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER] one can reach [ROLE_USER, ROLE_ADMIN, CONFIG_EDITOR] in zero or more steps.\r\n2023-10-04T20:15:43.605Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity oracle.obaas.configserver.controller.PropertiesController.updateProperty(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String); target is of class [oracle.obaas.configserver.controller.PropertiesController] with attributes [[authorize: &#39;hasRole(&#39;CONFIG_EDITOR&#39;)&#39;, filter: &#39;null&#39;, filterTarget: &#39;null&#39;]]\r\n``` \r\n\r\nHowever if I change `@PreAuthorize(&quot;hasRole(&#39;CONFIG_EDITOR&#39;)&quot;)` to `@PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)` it works like a charm.\r\n\r\nThe user `admin` has the role `CONFIG_EDITOR`:\r\n```text\r\nSet SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=admin, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER]]\r\n```\r\n\r\nIt seems that the RoleHierarchy isn&#39;t applied or I&#39;m not using it the right way? Any great ideas what I&#39;m doing wrong?\r\n","title":"RoleHierarchy doesn&#39;t seem to be applied or misconfigured","body":"<p>I got the following code as my security configuration (I have a custom authentication provider):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;deprecation&quot;)\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@Slf4j\npublic class SecurityConfig {\n\n    AznServerAuthenticationProvider authenticationProvider = new AznServerAuthenticationProvider();\n\n    private static final String[] AUTH_WHITELIST = {\n        &quot;/error/**&quot;,\n        &quot;/srv/config/all/**&quot;,\n        &quot;/srv/config/properties/**&quot;\n    };\n\n    @Bean\n    public RoleHierarchy roleHierarchy() {\n        RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\n        hierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER\\n&quot;\n            + &quot;ROLE_ADMIN &gt; CONFIG_EDITOR\\n&quot;\n            + &quot;CONFIG_EDITOR &gt; ROLE_USER&quot;);\n        return hierarchy;\n    }\n\n    @Bean\n    public MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy);\n        return expressionHandler;\n    }\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain actuatorSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.securityMatcher(EndpointRequest.toAnyEndpoint());\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().permitAll());\n        return http.build();\n    }\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        log.debug(&quot;In securityFilterChain&quot;);\n        http\n            .authenticationProvider(authenticationProvider)\n            .authorizeHttpRequests(auth -&gt; auth\n                .requestMatchers(AUTH_WHITELIST).permitAll()\n                .anyRequest().authenticated())\n            .httpBasic(Customizer.withDefaults());\n        http.csrf(csrf -&gt; csrf.disable());\n        return http.build();\n    }\n</code></pre>\n<p>And in my RestController class I got the following PUT endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class PropertiesController {\n\n    @PreAuthorize(&quot;hasRole('CONFIG_EDITOR')&quot;)\n    @PutMapping(value = ConfigRestURIConstants.SRV_CONFIG_UPDATE_PROPERTY,\n            produces = {MediaType.APPLICATION_JSON_VALUE})\n    public ResponseEntity&lt;String&gt; addProperty(\n\n</code></pre>\n<p>If I try access the endpoint <code> http -a user:password PUT :8080/srv/config/property/update?service-name........</code> I get a 403 error.</p>\n<pre><code>2023-10-04T20:15:43.603Z DEBUG 1 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /srv/config/property/update?service-name=.........\n2023-10-04T20:15:43.604Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.h.RoleHierarchyImpl              : getReachableGrantedAuthorities() - From the roles [ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER] one can reach [ROLE_USER, ROLE_ADMIN, CONFIG_EDITOR] in zero or more steps.\n2023-10-04T20:15:43.605Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity oracle.obaas.configserver.controller.PropertiesController.updateProperty(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String); target is of class [oracle.obaas.configserver.controller.PropertiesController] with attributes [[authorize: 'hasRole('CONFIG_EDITOR')', filter: 'null', filterTarget: 'null']]\n</code></pre>\n<p>However if I change <code>@PreAuthorize(&quot;hasRole('CONFIG_EDITOR')&quot;)</code> to <code>@PreAuthorize(&quot;hasRole('USER')&quot;)</code> it works like a charm.</p>\n<p>The user <code>admin</code> has the role <code>CONFIG_EDITOR</code>:</p>\n<pre><code>Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=admin, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER]]\n</code></pre>\n<p>It seems that the RoleHierarchy isn't applied or I'm not using it the right way? Any great ideas what I'm doing wrong?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"score":0,"creation_date":1693541161,"post_id":77014732,"comment_id":135777530,"body_markdown":"What are you sorting on? Is it guaranteed that the sort key that you use is unique?","body":"What are you sorting on? Is it guaranteed that the sort key that you use is unique?"},{"owner":{"account_id":7242780,"reputation":306,"user_id":5525820,"accept_rate":0,"display_name":"whysoseriousson"},"score":0,"creation_date":1693577073,"post_id":77014732,"comment_id":135783520,"body_markdown":"We have id field which we are sorting on and yes it is guaranteed to be unique.","body":"We have id field which we are sorting on and yes it is guaranteed to be unique."},{"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"score":0,"creation_date":1693591451,"post_id":77014732,"comment_id":135786151,"body_markdown":"Is this id field used as elasticsearch id field? If yes, I would need more concrete information here to figure this one out. How does searching request look like? Which version of elasticsearch you are using? Have you tried logging and counting records as they come out of elasticsearch to make sure the issue is on the elasticsearch side?","body":"Is this id field used as elasticsearch id field? If yes, I would need more concrete information here to figure this one out. How does searching request look like? Which version of elasticsearch you are using? Have you tried logging and counting records as they come out of elasticsearch to make sure the issue is on the elasticsearch side?"}],"owner":{"account_id":7242780,"reputation":306,"user_id":5525820,"accept_rate":0,"display_name":"whysoseriousson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696451836,"creation_date":1693475542,"question_id":77014732,"body_markdown":"We have an elastic search cluster that has multiple indices. In the cluster, we have master nodes and data nodes. The volume of data in these indices is huge around 100 million and we need to export them to relational DB.We are using elastic search client java library version 7.X.X\r\n\r\nThese indices are constantly been written by other applications, hence we decided to use search_after along with point in time (PIT).\r\n\r\nWe are fetching the data in loop with batch size of 100,000. After each hit to elastic search we insert the data in relation DB , extract sort information from hit and use it for next iteration. if after querying the hit count is zero we break out of loop and end the process.\r\n\r\nNow the issue is that when I query the index _count API it returns X . And when I am fetching data in the application using the mechanism described above, results different results every time process.\r\n\r\nI have no clue what could be the reason. There are no exception in the logs also. Kindly assist.","title":"Inconsistent results while using elastic searchafter with point in time in java","body":"<p>We have an elastic search cluster that has multiple indices. In the cluster, we have master nodes and data nodes. The volume of data in these indices is huge around 100 million and we need to export them to relational DB.We are using elastic search client java library version 7.X.X</p>\n<p>These indices are constantly been written by other applications, hence we decided to use search_after along with point in time (PIT).</p>\n<p>We are fetching the data in loop with batch size of 100,000. After each hit to elastic search we insert the data in relation DB , extract sort information from hit and use it for next iteration. if after querying the hit count is zero we break out of loop and end the process.</p>\n<p>Now the issue is that when I query the index _count API it returns X . And when I am fetching data in the application using the mechanism described above, results different results every time process.</p>\n<p>I have no clue what could be the reason. There are no exception in the logs also. Kindly assist.</p>\n"},{"tags":["java","eclipse","hibernate","debugging","web-applications"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693483063,"post_id":77015579,"comment_id":135768762,"body_markdown":"Can you share the startup logs?","body":"Can you share the startup logs?"},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693483677,"post_id":77015579,"comment_id":135768893,"body_markdown":"Do you mean the previous logs before the line I shared? Or the Eclipse startup log located on /metadata?","body":"Do you mean the previous logs before the line I shared? Or the Eclipse startup log located on /metadata?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693483738,"post_id":77015579,"comment_id":135768903,"body_markdown":"yes, the logs for the application startup","body":"yes, the logs for the application startup"},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693484314,"post_id":77015579,"comment_id":135769024,"body_markdown":"I&#39;m adding it to the main post.","body":"I&#39;m adding it to the main post."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693485627,"post_id":77015579,"comment_id":135769280,"body_markdown":"Are you having any breakpoints? `Window -&gt; Show view -&gt; Breakpoints`.","body":"Are you having any breakpoints? <code>Window -&gt; Show view -&gt; Breakpoints</code>."},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693485738,"post_id":77015579,"comment_id":135769302,"body_markdown":"No, no breakpoints. Already mentioned it on the post :)","body":"No, no breakpoints. Already mentioned it on the post :)"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693486688,"post_id":77015579,"comment_id":135769510,"body_markdown":"Sometimes we get a confirmation box while starting the application in debug mode, I don&#39;t know the exact scenario. But until we give the confirmation the application startup will be paused. Is your application getting stopped at some time or is it still running? Can you reset your perspectives and try again? `Window -&gt; Perspective -&gt; Reset Perspective...`","body":"Sometimes we get a confirmation box while starting the application in debug mode, I don&#39;t know the exact scenario. But until we give the confirmation the application startup will be paused. Is your application getting stopped at some time or is it still running? Can you reset your perspectives and try again? <code>Window -&gt; Perspective -&gt; Reset Perspective...</code>"},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693487000,"post_id":77015579,"comment_id":135769571,"body_markdown":"Yeah, I don&#39;t get to that box where it asks you if you want to switch perspectives. I&#39;ve also  tried to reset the perspective. Facing the same issue. It doesn&#180;t stop, it just stays there at that log line. I will add the &#39;expected&#39; logs to the main post, I think it could clarify a bit.","body":"Yeah, I don&#39;t get to that box where it asks you if you want to switch perspectives. I&#39;ve also  tried to reset the perspective. Facing the same issue. It doesn&#180;t stop, it just stays there at that log line. I will add the &#39;expected&#39; logs to the main post, I think it could clarify a bit."},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1695119089,"post_id":77015579,"comment_id":135978549,"body_markdown":"@ArunSudhakaran I managed to solve it, maybe you are interested on checking it out.","body":"@ArunSudhakaran I managed to solve it, maybe you are interested on checking it out."}],"answers":[{"tags":[],"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695118561,"creation_date":1695118561,"answer_id":77133683,"question_id":77015579,"body_markdown":"I managed to solve it with the help of a colleague. As we weren&#39;t able to find the answer to the problem online, I&#39;m posting it here to help anyone who may be experiencing the same problem. \r\nWe found that the deployed Tomcat server (9.0) was using the default JRE configuration from Eclipse, which in my case would be 17 (using Eclipse 2023-06 (4.28.0)).\r\n\r\nWhenever I set up a new workspace, I changed the build level to 1.8, but it seems that the server was using the default Eclipse 2023 compilation level, which is 17. \r\n\r\nCreating a new server from scratch and forcing it to use an external JRE (1.8) did the trick.\r\n\r\nI think it has something to do with Hibernate, as I have not encountered a similar problem in other projects, which I can certainly run in debug without any problems.\r\n\r\nIf anyone knows why it worked, feel free to provide more info.\r\n\r\nThanks in advance!","title":"Eclipse debug mode stopping at DB connection","body":"<p>I managed to solve it with the help of a colleague. As we weren't able to find the answer to the problem online, I'm posting it here to help anyone who may be experiencing the same problem.\nWe found that the deployed Tomcat server (9.0) was using the default JRE configuration from Eclipse, which in my case would be 17 (using Eclipse 2023-06 (4.28.0)).</p>\n<p>Whenever I set up a new workspace, I changed the build level to 1.8, but it seems that the server was using the default Eclipse 2023 compilation level, which is 17.</p>\n<p>Creating a new server from scratch and forcing it to use an external JRE (1.8) did the trick.</p>\n<p>I think it has something to do with Hibernate, as I have not encountered a similar problem in other projects, which I can certainly run in debug without any problems.</p>\n<p>If anyone knows why it worked, feel free to provide more info.</p>\n<p>Thanks in advance!</p>\n"}],"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77133683,"answer_count":1,"score":0,"last_activity_date":1696451811,"creation_date":1693482674,"question_id":77015579,"body_markdown":"I have a problem with Eclipse debug mode which I&#39;ve never encountered, and I haven&#39;t found any information on it searching the web.\r\n\r\nI&#39;m developing a Maven web app which is deployed on a Tomcat Server. It uses Hibernate. When running it normally, it works fine, but, when debugging, it stops at this point:\r\n\r\n    org.hibernate.dialect.Dialect - \r\n    Using dialect: org.hibernate.dialect.SQLServerDialect\r\n\r\nGiven the deploy stops here, I suppose it has to do with the connection with the DB which I think it shouldn&#39;t work any differently between &quot;normal&quot; running mode and debug.\r\n\r\nI&#39;ve tried switching the debug configurations, skipping all breakpoints (even not marking any breakpoints at all), and a few more things.\r\n\r\nI also tried running the debug mode remotely from the console command, which didn&#39;t work, but even if it did it would be a pain to have to run it that way.\r\n\r\nI&#39;m not sure if I&#39;m missing a configuration, I&#39;ve tried to debug it from other Eclipse instances and I have the same problem, so I suppose it depends on some particular configuration.\r\n\r\nIf you need more info to have a wider overview, lmk.\r\n\r\nThanks for any help!\r\n\r\nAdding more log info:\r\n\r\n```\r\n[main] INFO org.hibernate.cfg.Configuration - configuring from resource: /hibernate.cfg.xml\r\n[main] INFO org.hibernate.cfg.Configuration - Configuration resource: /hibernate.cfg.xml\r\n[main] WARN org.hibernate.util.DTDEntityResolver - recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!\r\n[main] INFO org.hibernate.cfg.Configuration - Configured SessionFactory: HibernateSessionFactory\r\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping class: * -&gt; *\r\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping collection: * -&gt; *\r\n[main] INFO org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring\r\n[main] INFO org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.\r\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override equals(): *\r\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override hashCode(): *\r\n[main] INFO org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider\r\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.microsoft.sqlserver.jdbc.SQLServerDriver at URL: ******\r\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {password=****, user=****}\r\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: false\r\n[main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.SQLServerDialect\r\n```\r\nIt just stops right there.\r\n\r\n****\r\nThe continuation I&#39;m expecting (taken from the normal run mode) would be something like this:\r\n\r\n```\r\n[main] INFO org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n[main] INFO org.hibernate.cfg.SettingsFactory - Database -&gt;\r\n\t***\r\n[main] INFO org.hibernate.cfg.SettingsFactory - Driver -&gt;\r\n\t***\r\n[main] INFO org.hibernate.transaction.TransactionFactoryFactory - Using default transaction strategy (direct JDBC transactions)\r\n[main] INFO org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)\r\n...\r\n\r\n```\r\n(Basically it connects to the database and starts querying).\r\n","title":"Eclipse debug mode stopping at DB connection","body":"<p>I have a problem with Eclipse debug mode which I've never encountered, and I haven't found any information on it searching the web.</p>\n<p>I'm developing a Maven web app which is deployed on a Tomcat Server. It uses Hibernate. When running it normally, it works fine, but, when debugging, it stops at this point:</p>\n<pre><code>org.hibernate.dialect.Dialect - \nUsing dialect: org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>Given the deploy stops here, I suppose it has to do with the connection with the DB which I think it shouldn't work any differently between &quot;normal&quot; running mode and debug.</p>\n<p>I've tried switching the debug configurations, skipping all breakpoints (even not marking any breakpoints at all), and a few more things.</p>\n<p>I also tried running the debug mode remotely from the console command, which didn't work, but even if it did it would be a pain to have to run it that way.</p>\n<p>I'm not sure if I'm missing a configuration, I've tried to debug it from other Eclipse instances and I have the same problem, so I suppose it depends on some particular configuration.</p>\n<p>If you need more info to have a wider overview, lmk.</p>\n<p>Thanks for any help!</p>\n<p>Adding more log info:</p>\n<pre><code>[main] INFO org.hibernate.cfg.Configuration - configuring from resource: /hibernate.cfg.xml\n[main] INFO org.hibernate.cfg.Configuration - Configuration resource: /hibernate.cfg.xml\n[main] WARN org.hibernate.util.DTDEntityResolver - recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!\n[main] INFO org.hibernate.cfg.Configuration - Configured SessionFactory: HibernateSessionFactory\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping class: * -&gt; *\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping collection: * -&gt; *\n[main] INFO org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring\n[main] INFO org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override equals(): *\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override hashCode(): *\n[main] INFO org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.microsoft.sqlserver.jdbc.SQLServerDriver at URL: ******\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {password=****, user=****}\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: false\n[main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>It just stops right there.</p>\n<hr />\n<p>The continuation I'm expecting (taken from the normal run mode) would be something like this:</p>\n<pre><code>[main] INFO org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n[main] INFO org.hibernate.cfg.SettingsFactory - Database -&gt;\n    ***\n[main] INFO org.hibernate.cfg.SettingsFactory - Driver -&gt;\n    ***\n[main] INFO org.hibernate.transaction.TransactionFactoryFactory - Using default transaction strategy (direct JDBC transactions)\n[main] INFO org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)\n...\n\n</code></pre>\n<p>(Basically it connects to the database and starts querying).</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1696451855,"post_id":77232652,"comment_id":136156484,"body_markdown":"Does this answer your question? [How to set Mapping in Mapstruct to get the Parent&#39;s field in Child&#39;s DTO?](https://stackoverflow.com/questions/77230604/how-to-set-mapping-in-mapstruct-to-get-the-parents-field-in-childs-dto)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77230604/how-to-set-mapping-in-mapstruct-to-get-the-parents-field-in-childs-dto\">How to set Mapping in Mapstruct to get the Parent&#39;s field in Child&#39;s DTO?</a>"},{"owner":{"account_id":25412502,"reputation":29,"user_id":19220058,"display_name":"Evgen Kr"},"score":0,"creation_date":1696493197,"post_id":77232652,"comment_id":136160636,"body_markdown":"Thank you, Paul Marcelin Bejan, I had **@Builder** under Child class, when I delete **@Builder**, then it starts working. And I wonder how I can solve the problem without deleting the **@Builder**?","body":"Thank you, Paul Marcelin Bejan, I had <b>@Builder</b> under Child class, when I delete <b>@Builder</b>, then it starts working. And I wonder how I can solve the problem without deleting the <b>@Builder</b>?"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1696943734,"post_id":77232652,"comment_id":136215083,"body_markdown":"Are you using Lombok? Have you seen https://stackoverflow.com/a/47684351/1115491?","body":"Are you using Lombok? Have you seen <a href=\"https://stackoverflow.com/a/47684351/1115491\">stackoverflow.com/a/47684351/1115491</a>?"}],"owner":{"account_id":25412502,"reputation":29,"user_id":19220058,"display_name":"Evgen Kr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696451598,"creation_date":1696450058,"question_id":77232652,"body_markdown":"Unknown property &quot;parentField&quot; in **target**. I can&#39;t set parentField to Child class, however there are setters and getters\r\n\r\n    public class Parent {\r\n        String parentField;\r\n    }\r\n    \r\n    public class Child extends Parent{\r\n    }\r\n    \r\n    public class ChildDTO{\r\n    String parentField;\r\n    }\r\n    \r\n    @Mapper (componentModel=&quot;spring&quot;)\r\n    public interface ChildMapper {\r\n       @Mapping(target=&quot;parentField&quot;, source=&quot;parentField&quot;)\r\n        Child toEntity(ChildDto dto);\r\n    }","title":"Properties from the super class are not mapped. MapStruct to map field in base class","body":"<p>Unknown property &quot;parentField&quot; in <strong>target</strong>. I can't set parentField to Child class, however there are setters and getters</p>\n<pre><code>public class Parent {\n    String parentField;\n}\n\npublic class Child extends Parent{\n}\n\npublic class ChildDTO{\nString parentField;\n}\n\n@Mapper (componentModel=&quot;spring&quot;)\npublic interface ChildMapper {\n   @Mapping(target=&quot;parentField&quot;, source=&quot;parentField&quot;)\n    Child toEntity(ChildDto dto);\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696448243,"post_id":77232486,"comment_id":136155872,"body_markdown":"No, I don&#39;t think there will be anything built in. It&#39;s a pretty strange use case. So if you want this, you&#39;ll have to code the objects yourself, do the mapping, then serialize to JSON.","body":"No, I don&#39;t think there will be anything built in. It&#39;s a pretty strange use case. So if you want this, you&#39;ll have to code the objects yourself, do the mapping, then serialize to JSON."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1696449208,"post_id":77232486,"comment_id":136156027,"body_markdown":"Does &quot;Spring Boot record set&quot; mean you have that objects parsed, i.e. input is a List of some custom Objects?","body":"Does &quot;Spring Boot record set&quot; mean you have that objects parsed, i.e. input is a List of some custom Objects?"},{"owner":{"account_id":1367748,"reputation":2187,"user_id":1303827,"accept_rate":64,"display_name":"Tim S."},"score":0,"creation_date":1696449516,"post_id":77232486,"comment_id":136156074,"body_markdown":"Well it&#39;s a spring boot app that queries a database for some records, (the before diagram above) then needs to transform that into a JSON object (the after diagram).  I have a custom data type that stores it in my domain class. (Still learning a lot of the terminology since I&#39;m very new to java.)","body":"Well it&#39;s a spring boot app that queries a database for some records, (the before diagram above) then needs to transform that into a JSON object (the after diagram).  I have a custom data type that stores it in my domain class. (Still learning a lot of the terminology since I&#39;m very new to java.)"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1696451061,"post_id":77232486,"comment_id":136156361,"body_markdown":"Are common fields set known in advance? Not exact values, but the fact that it is field1+field2+...+field4?","body":"Are common fields set known in advance? Not exact values, but the fact that it is field1+field2+...+field4?"},{"owner":{"account_id":1367748,"reputation":2187,"user_id":1303827,"accept_rate":64,"display_name":"Tim S."},"score":0,"creation_date":1696451897,"post_id":77232486,"comment_id":136156490,"body_markdown":"Yes, I know what all of the field names will be - in the example, it will always be Field1 - Field4, no more, and no less.","body":"Yes, I know what all of the field names will be - in the example, it will always be Field1 - Field4, no more, and no less."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696451393,"creation_date":1696451393,"answer_id":77232781,"question_id":77232486,"body_markdown":"There is no out-of-the-box solution, however, you can benefit from stream API and java 16 records. Btw, records can be defined even locally in any method implementation.\r\n\r\n        record CommonFields(String field1, String field2, ...) {\r\n        }\r\n        record OtherFields(String field5, String field6, ...) {\r\n        }\r\n\r\n        Map&lt;CommonFields, List&lt;OtherFields&gt;&gt; groupedRecords = inputList.stream()\r\n                .map(e -&gt; Map.entry(new CommonFields(e.getField1(), e.getField2()), new OtherFields(e.getField5(), e.getField6())))\r\n                .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\r\n\r\nHaving such a map you can verify there is single entry and then either built a target custom object from it (could also be a record), either build a `JsonNode`. Target object and JsonNode could be serialized manually or passed to the Spring framework, usually default serialization will take place.","title":"Flattening or normalizing partial JSON records","body":"<p>There is no out-of-the-box solution, however, you can benefit from stream API and java 16 records. Btw, records can be defined even locally in any method implementation.</p>\n<pre><code>    record CommonFields(String field1, String field2, ...) {\n    }\n    record OtherFields(String field5, String field6, ...) {\n    }\n\n    Map&lt;CommonFields, List&lt;OtherFields&gt;&gt; groupedRecords = inputList.stream()\n            .map(e -&gt; Map.entry(new CommonFields(e.getField1(), e.getField2()), new OtherFields(e.getField5(), e.getField6())))\n            .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n<p>Having such a map you can verify there is single entry and then either built a target custom object from it (could also be a record), either build a <code>JsonNode</code>. Target object and JsonNode could be serialized manually or passed to the Spring framework, usually default serialization will take place.</p>\n"}],"owner":{"account_id":1367748,"reputation":2187,"user_id":1303827,"accept_rate":64,"display_name":"Tim S."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696451393,"creation_date":1696448074,"question_id":77232486,"body_markdown":"I&#39;ve got a Spring Boot record set that contains several fields that contain the same values. I will be returning this data as JSON in an HTTP response object. The common fields that are in every row (the first X fields of the records) should be unique, then the others should be returned as an array. In short, below is the before and (hopefully) after:\r\n\r\nWhat I currently Have:\r\n\r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n        &quot;Field5&quot;:&quot;John&quot;,\r\n        &quot;Field6&quot;:&quot;Smith&quot;,\r\n        &quot;Field7&quot;:&quot;24&quot;,\r\n        &quot;Field8&quot;:&quot;Ohio&quot;\r\n    }\r\n\r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n        &quot;Field5&quot;:&quot;Michael&quot;,\r\n        &quot;Field6&quot;:&quot;Jackson&quot;,\r\n        &quot;Field7&quot;:&quot;38&quot;,\r\n        &quot;Field8&quot;:&quot;California&quot;\r\n    }\r\n\r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n        &quot;Field5&quot;:&quot;Tim&quot;,\r\n        &quot;Field6&quot;:&quot;Burton&quot;,\r\n        &quot;Field7&quot;:&quot;45&quot;,\r\n        &quot;Field8&quot;:&quot;New York&quot;\r\n    }\r\n\r\nWhat I would like to transform this data info:\r\n \r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n            [\r\n\t            {&quot;Field5&quot;:&quot;John&quot;,&quot;Field6&quot;:&quot;Smith&quot;,&quot;Field7&quot;:&quot;24&quot;,&quot;Field8&quot;:&quot;Ohio&quot;},\r\n\t            {&quot;Field5&quot;:&quot;Michael&quot;,&quot;Field6&quot;:&quot;Jackson&quot;,&quot;Field7&quot;:&quot;38&quot;,&quot;Field8&quot;:&quot;California&quot;},\r\n\t            {&quot;Field5&quot;:&quot;Tim&quot;,&quot;Field6&quot;:&quot;Burton&quot;,&quot;Field7&quot;:&quot;45&quot;,&quot;Field8&quot;:&quot;New York&quot;}\r\n        ]\r\n    }\r\n\r\nIs there some magical java directive or annotation that would do something like that? I&#39;m pretty new to the language, and I&#39;ve already been quite amazed about how many extremely useful built-ins there are, so I&#39;m hoping that the magic hat has yet another rabbit in it. Of course I can write the logic manually to do the work, but if such a mechanism exists, I&#39;m sure it would be far more performant than anything I could write. \r\n\r\nAny help is appreciated!","title":"Flattening or normalizing partial JSON records","body":"<p>I've got a Spring Boot record set that contains several fields that contain the same values. I will be returning this data as JSON in an HTTP response object. The common fields that are in every row (the first X fields of the records) should be unique, then the others should be returned as an array. In short, below is the before and (hopefully) after:</p>\n<p>What I currently Have:</p>\n<pre><code>{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n    &quot;Field5&quot;:&quot;John&quot;,\n    &quot;Field6&quot;:&quot;Smith&quot;,\n    &quot;Field7&quot;:&quot;24&quot;,\n    &quot;Field8&quot;:&quot;Ohio&quot;\n}\n\n{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n    &quot;Field5&quot;:&quot;Michael&quot;,\n    &quot;Field6&quot;:&quot;Jackson&quot;,\n    &quot;Field7&quot;:&quot;38&quot;,\n    &quot;Field8&quot;:&quot;California&quot;\n}\n\n{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n    &quot;Field5&quot;:&quot;Tim&quot;,\n    &quot;Field6&quot;:&quot;Burton&quot;,\n    &quot;Field7&quot;:&quot;45&quot;,\n    &quot;Field8&quot;:&quot;New York&quot;\n}\n</code></pre>\n<p>What I would like to transform this data info:</p>\n<pre><code>{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n        [\n            {&quot;Field5&quot;:&quot;John&quot;,&quot;Field6&quot;:&quot;Smith&quot;,&quot;Field7&quot;:&quot;24&quot;,&quot;Field8&quot;:&quot;Ohio&quot;},\n            {&quot;Field5&quot;:&quot;Michael&quot;,&quot;Field6&quot;:&quot;Jackson&quot;,&quot;Field7&quot;:&quot;38&quot;,&quot;Field8&quot;:&quot;California&quot;},\n            {&quot;Field5&quot;:&quot;Tim&quot;,&quot;Field6&quot;:&quot;Burton&quot;,&quot;Field7&quot;:&quot;45&quot;,&quot;Field8&quot;:&quot;New York&quot;}\n    ]\n}\n</code></pre>\n<p>Is there some magical java directive or annotation that would do something like that? I'm pretty new to the language, and I've already been quite amazed about how many extremely useful built-ins there are, so I'm hoping that the magic hat has yet another rabbit in it. Of course I can write the logic manually to do the work, but if such a mechanism exists, I'm sure it would be far more performant than anything I could write.</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1696451093,"post_id":77232727,"comment_id":136156366,"body_markdown":"I don&#39;t use postgresql but normally the query would be written like `SELECT DISTINCT c FROM schedules c JOIN routes r ON r.id=c.routes_id` etc.","body":"I don&#39;t use postgresql but normally the query would be written like <code>SELECT DISTINCT c FROM schedules c JOIN routes r ON r.id=c.routes_id</code> etc."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":2,"creation_date":1696451288,"post_id":77232727,"comment_id":136156401,"body_markdown":"`ON rs.stop_id` needs to evaluate to a boolean value so something like `ON rs.stop_id = &lt;some_value&gt;`, where `&lt;some_value&gt;` comes from another table.","body":"<code>ON rs.stop_id</code> needs to evaluate to a boolean value so something like <code>ON rs.stop_id = &lt;some_value&gt;</code>, where <code>&lt;some_value&gt;</code> comes from another table."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696451642,"post_id":77232727,"comment_id":136156452,"body_markdown":"I would suggest connecting directly to the database and trying your query there.","body":"I would suggest connecting directly to the database and trying your query there."},{"owner":{"account_id":27733991,"reputation":79,"user_id":21171938,"display_name":"Артем Лебідь"},"score":0,"creation_date":1696493911,"post_id":77232727,"comment_id":136160765,"body_markdown":"@DavidConradr Thank you for your answer! This really helps!","body":"@DavidConradr Thank you for your answer! This really helps!"},{"owner":{"account_id":27733991,"reputation":79,"user_id":21171938,"display_name":"Артем Лебідь"},"score":0,"creation_date":1696493955,"post_id":77232727,"comment_id":136160775,"body_markdown":"@AdrianKlaver My thanks to you!","body":"@AdrianKlaver My thanks to you!"}],"answers":[{"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696451192,"creation_date":1696451192,"answer_id":77232764,"question_id":77232727,"body_markdown":"Since you are using `nativeQuery` (not JPQL/HQL) you need to specify join expressions properly:\r\n\r\n    @Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\r\n                    &quot;JOIN routes r ON c.routes_id = r.id &quot; +\r\n                    &quot;JOIN routes_stops rs on rs.route_id = r.id &quot; +\r\n                    &quot;JOIN stops s ON rs.stop_id = s.id&quot; +\r\n                    &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)","title":"ERROR: argument of JOIN/ON must be type boolean, not type bigint. Java Spring boot application","body":"<p>Since you are using <code>nativeQuery</code> (not JPQL/HQL) you need to specify join expressions properly:</p>\n<pre><code>@Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\n                &quot;JOIN routes r ON c.routes_id = r.id &quot; +\n                &quot;JOIN routes_stops rs on rs.route_id = r.id &quot; +\n                &quot;JOIN stops s ON rs.stop_id = s.id&quot; +\n                &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":27733991,"reputation":79,"user_id":21171938,"display_name":"Артем Лебідь"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77232764,"answer_count":1,"score":1,"last_activity_date":1696451192,"creation_date":1696450807,"question_id":77232727,"body_markdown":"I am developing a web application with bus schedules. I had the task of searching for a list of timetables in which there is a stop entered by the user. But when I write my query to the DB, I get an Whitelabel Error Page &quot;ERROR: argument of JOIN/ON must be type boolean, not type bigint&quot;\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    JDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint Position: 53] [n/a]; SQL [n/a]\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint\r\n      Position: 53] [n/a]; SQL [n/a]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n\r\n\r\nMy request looks like this:\r\n\r\n\r\n    public interface ScheduleRepository extends JpaRepository&lt;Schedule, Long&gt; {\r\n        \r\n    // more methods ... \r\n\r\n        @Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\r\n                        &quot;JOIN routes r ON c.routes_id &quot; +\r\n                        &quot;JOIN routes_stops rs on r.route_id &quot; +\r\n                        &quot;JOIN stops s ON rs.stop_id &quot; +\r\n                        &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\r\n                                                  @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\r\n                                                  @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\r\n    \r\n    }\r\n\r\n\r\nService interface:\r\n\r\n    public interface ScheduleService {\r\n\r\n        // more methods ... \r\n\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName);\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName);\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName);\r\n    }\r\n\r\nServiceImpl: \r\n\r\n    @Service\r\n    public class ScheduleServiceImpl implements ScheduleService {\r\n        private ScheduleRepository repository;\r\n    \r\n        @Autowired\r\n        public ScheduleServiceImpl(ScheduleRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        // more methods ... \r\n    \r\n        @Override\r\n        public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName) {\r\n            LocalDateTime currentDateTime = LocalDateTime.now();\r\n            LocalDateTime endOfDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\r\n    \r\n            List&lt;Schedule&gt; scheduleToday = repository.findAllByStopsAndTimeForSearch(stopName, currentDateTime, endOfDay);\r\n            return scheduleToday;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName) {\r\n            LocalDateTime currentDateTime = LocalDateTime.now();\r\n            LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\r\n            LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\r\n            List&lt;Schedule&gt; scheduleTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\r\n            return scheduleTomorrow;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName) {\r\n            LocalDateTime currentDateTime = LocalDateTime.now();\r\n            LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\r\n            LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\r\n            List&lt;Schedule&gt; scheduleAfterTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\r\n            return scheduleAfterTomorrow;\r\n        }\r\n    }\r\nController:\r\n\r\n    @Controller\r\n    public class BusController {\r\n        private ScheduleService scheduleService;\r\n    \r\n        @Autowired\r\n        public BusController(ScheduleService scheduleService) {\r\n            this.scheduleService = scheduleService;\r\n        }\r\n    \r\n        // more methods ...\r\n    \r\n        @GetMapping(&quot;/schedule/search&quot;)\r\n        public String searchBuses(@Valid @ModelAttribute(&quot;search&quot;) SearchDto search,\r\n                                  BindingResult bindingResult,\r\n                                  Model model){\r\n            if(bindingResult.hasErrors()){\r\n                LocalDateTime currentTime = LocalDateTime.now();\r\n    \r\n                model.addAttribute(&quot;time&quot;, currentTime);\r\n                model.addAttribute(&quot;search&quot;, search);\r\n                return &quot;buses-list&quot;;\r\n            }\r\n    \r\n            LocalDateTime currentTime = LocalDateTime.now();\r\n            List&lt;Schedule&gt; scheduleToday = scheduleService.findAllByStopsAndTimeForSearchToday(search.getSearchLine());\r\n            List&lt;Schedule&gt; scheduleTomorrow = scheduleService.findAllByStopsAndTimeForSearchTomorrow(search.getSearchLine());\r\n            List&lt;Schedule&gt; scheduleAfterTomorrow = scheduleService.findAllByStopsAndTimeForSearchAfterTomorrow(search.getSearchLine());\r\n    \r\n            model.addAttribute(&quot;time&quot;, currentTime);\r\n            model.addAttribute(&quot;scheduleToday&quot;, scheduleToday);\r\n            model.addAttribute(&quot;scheduleTomorrow&quot;, scheduleTomorrow);\r\n            model.addAttribute(&quot;scheduleAfterTomorrow&quot;, scheduleAfterTomorrow);\r\n            model.addAttribute(&quot;search&quot;, new SearchDto());\r\n    \r\n            return &quot;buses-list&quot;;\r\n        }\r\n    }\r\nDatabase table objects look like this:\r\n\r\nSchedule:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;schedules&quot;)\r\n    public class Schedule {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;buses_id&quot;)\r\n        private Bus bus;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;routes_id&quot;)\r\n        private Route route;\r\n        private Double price;\r\n        private String accessibility;\r\n        private Integer seats;\r\n        private LocalDateTime arrivalTime;\r\n        private LocalDateTime departureTime;\r\n    }\r\n\r\nRoute:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;routes&quot;)\r\n    public class Route {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @OneToMany(mappedBy = &quot;route&quot;)\r\n        private List&lt;Schedule&gt; schedule;\r\n        @OneToMany(\r\n                mappedBy = &quot;route&quot;,\r\n                cascade = CascadeType.ALL,\r\n                orphanRemoval = true\r\n        )\r\n        private List&lt;RoutesStops&gt; routesStops;\r\n    }\r\n\r\nStop:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;stops&quot;)\r\n    public class Stop {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @OneToMany(\r\n                mappedBy = &quot;stop&quot;,\r\n                cascade = CascadeType.ALL,\r\n                orphanRemoval = true\r\n        )\r\n        private List&lt;RoutesStops&gt; routesStops;\r\n    }\r\n\r\nRoutesStopsId:\r\n\r\n    @Embeddable\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class RoutesStopsId implements Serializable {\r\n        private Long routeId;\r\n        private Long stopId;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            RoutesStopsId that = (RoutesStopsId) o;\r\n            return Objects.equals(routeId, that.routeId) &amp;&amp; Objects.equals(stopId, that.stopId);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(routeId, stopId);\r\n        }\r\n    }\r\n\r\nRoutesStops:\r\n\r\n    @Entity\r\n    @Table(name = &quot;routes_stops&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class RoutesStops {\r\n        @EmbeddedId\r\n        private RoutesStopsId id;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;routeId&quot;)\r\n        private Route route;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;stopId&quot;)\r\n        private Stop stop;\r\n        private Integer stopNumber;\r\n        private Double price;\r\n        private LocalTime arrivalTime;\r\n        private LocalTime departureTime;\r\n    }\r\n\r\nBus:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;buses&quot;)\r\n    public class Bus {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String licensePlate;\r\n        @OneToMany(mappedBy = &quot;bus&quot;)\r\n        private List&lt;Schedule&gt; schedule;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;company_id&quot;)\r\n        private Company company;\r\n    }\r\n\r\nCompany:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;companies&quot;)\r\n    public class Company {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @OneToMany(mappedBy = &quot;company&quot;)\r\n        private List&lt;Bus&gt; bus;\r\n    }\r\n\r\nI think that the problem is in the very construction of the request to the database or I didn&#39;t organize or link the DB tables correctly.\r\n\r\nAccording to one of the recommendations that I read, I changed the request to something like this\r\nMethod in repository:\r\n\r\n    @Query(&quot;SELECT DISTINCT c FROM Schedule c &quot; +\r\n            &quot;JOIN Route r ON c.route &quot; +\r\n            &quot;JOIN RoutesStops rs on r.routesStops &quot; +\r\n            &quot;JOIN Stop s ON rs.stop &quot; +\r\n            &quot;WHERE s.name = :stopName and c.departureTime &gt;= :departureTime and c.departureTime &lt; :endOfDay&quot;)\r\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\r\n                                                 @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\r\n                                                 @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\r\n\r\nBut after that I got another error:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;busController&#39; defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/controller/BusController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;scheduleServiceImpl&#39; defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/service/impl/ScheduleServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;scheduleRepository&#39; defined in com.busschedule.web.repository.ScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime); Reason: Validation failed for query for method public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\r\nNow I am confused and do not understand which error is better to correct and in which direction to move","title":"ERROR: argument of JOIN/ON must be type boolean, not type bigint. Java Spring boot application","body":"<p>I am developing a web application with bus schedules. I had the task of searching for a list of timetables in which there is a stop entered by the user. But when I write my query to the DB, I get an Whitelabel Error Page &quot;ERROR: argument of JOIN/ON must be type boolean, not type bigint&quot;</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nJDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint Position: 53] [n/a]; SQL [n/a]\norg.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint\n  Position: 53] [n/a]; SQL [n/a]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n</code></pre>\n<p>My request looks like this:</p>\n<pre><code>public interface ScheduleRepository extends JpaRepository&lt;Schedule, Long&gt; {\n    \n// more methods ... \n\n    @Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\n                    &quot;JOIN routes r ON c.routes_id &quot; +\n                    &quot;JOIN routes_stops rs on r.route_id &quot; +\n                    &quot;JOIN stops s ON rs.stop_id &quot; +\n                    &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\n                                              @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\n                                              @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\n\n}\n</code></pre>\n<p>Service interface:</p>\n<pre><code>public interface ScheduleService {\n\n    // more methods ... \n\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName);\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName);\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName);\n}\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code>@Service\npublic class ScheduleServiceImpl implements ScheduleService {\n    private ScheduleRepository repository;\n\n    @Autowired\n    public ScheduleServiceImpl(ScheduleRepository repository) {\n        this.repository = repository;\n    }\n\n    // more methods ... \n\n    @Override\n    public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName) {\n        LocalDateTime currentDateTime = LocalDateTime.now();\n        LocalDateTime endOfDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\n\n        List&lt;Schedule&gt; scheduleToday = repository.findAllByStopsAndTimeForSearch(stopName, currentDateTime, endOfDay);\n        return scheduleToday;\n    }\n\n    @Override\n    public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName) {\n        LocalDateTime currentDateTime = LocalDateTime.now();\n        LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\n        LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\n        List&lt;Schedule&gt; scheduleTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\n        return scheduleTomorrow;\n    }\n\n    @Override\n    public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName) {\n        LocalDateTime currentDateTime = LocalDateTime.now();\n        LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\n        LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\n        List&lt;Schedule&gt; scheduleAfterTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\n        return scheduleAfterTomorrow;\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class BusController {\n    private ScheduleService scheduleService;\n\n    @Autowired\n    public BusController(ScheduleService scheduleService) {\n        this.scheduleService = scheduleService;\n    }\n\n    // more methods ...\n\n    @GetMapping(&quot;/schedule/search&quot;)\n    public String searchBuses(@Valid @ModelAttribute(&quot;search&quot;) SearchDto search,\n                              BindingResult bindingResult,\n                              Model model){\n        if(bindingResult.hasErrors()){\n            LocalDateTime currentTime = LocalDateTime.now();\n\n            model.addAttribute(&quot;time&quot;, currentTime);\n            model.addAttribute(&quot;search&quot;, search);\n            return &quot;buses-list&quot;;\n        }\n\n        LocalDateTime currentTime = LocalDateTime.now();\n        List&lt;Schedule&gt; scheduleToday = scheduleService.findAllByStopsAndTimeForSearchToday(search.getSearchLine());\n        List&lt;Schedule&gt; scheduleTomorrow = scheduleService.findAllByStopsAndTimeForSearchTomorrow(search.getSearchLine());\n        List&lt;Schedule&gt; scheduleAfterTomorrow = scheduleService.findAllByStopsAndTimeForSearchAfterTomorrow(search.getSearchLine());\n\n        model.addAttribute(&quot;time&quot;, currentTime);\n        model.addAttribute(&quot;scheduleToday&quot;, scheduleToday);\n        model.addAttribute(&quot;scheduleTomorrow&quot;, scheduleTomorrow);\n        model.addAttribute(&quot;scheduleAfterTomorrow&quot;, scheduleAfterTomorrow);\n        model.addAttribute(&quot;search&quot;, new SearchDto());\n\n        return &quot;buses-list&quot;;\n    }\n}\n</code></pre>\n<p>Database table objects look like this:</p>\n<p>Schedule:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;schedules&quot;)\npublic class Schedule {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToOne\n    @JoinColumn(name = &quot;buses_id&quot;)\n    private Bus bus;\n    @ManyToOne\n    @JoinColumn(name = &quot;routes_id&quot;)\n    private Route route;\n    private Double price;\n    private String accessibility;\n    private Integer seats;\n    private LocalDateTime arrivalTime;\n    private LocalDateTime departureTime;\n}\n</code></pre>\n<p>Route:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;routes&quot;)\npublic class Route {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @OneToMany(mappedBy = &quot;route&quot;)\n    private List&lt;Schedule&gt; schedule;\n    @OneToMany(\n            mappedBy = &quot;route&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private List&lt;RoutesStops&gt; routesStops;\n}\n</code></pre>\n<p>Stop:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;stops&quot;)\npublic class Stop {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @OneToMany(\n            mappedBy = &quot;stop&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private List&lt;RoutesStops&gt; routesStops;\n}\n</code></pre>\n<p>RoutesStopsId:</p>\n<pre><code>@Embeddable\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RoutesStopsId implements Serializable {\n    private Long routeId;\n    private Long stopId;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        RoutesStopsId that = (RoutesStopsId) o;\n        return Objects.equals(routeId, that.routeId) &amp;&amp; Objects.equals(stopId, that.stopId);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(routeId, stopId);\n    }\n}\n</code></pre>\n<p>RoutesStops:</p>\n<pre><code>@Entity\n@Table(name = &quot;routes_stops&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RoutesStops {\n    @EmbeddedId\n    private RoutesStopsId id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;routeId&quot;)\n    private Route route;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;stopId&quot;)\n    private Stop stop;\n    private Integer stopNumber;\n    private Double price;\n    private LocalTime arrivalTime;\n    private LocalTime departureTime;\n}\n</code></pre>\n<p>Bus:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;buses&quot;)\npublic class Bus {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String licensePlate;\n    @OneToMany(mappedBy = &quot;bus&quot;)\n    private List&lt;Schedule&gt; schedule;\n    @ManyToOne\n    @JoinColumn(name = &quot;company_id&quot;)\n    private Company company;\n}\n</code></pre>\n<p>Company:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;companies&quot;)\npublic class Company {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @OneToMany(mappedBy = &quot;company&quot;)\n    private List&lt;Bus&gt; bus;\n}\n</code></pre>\n<p>I think that the problem is in the very construction of the request to the database or I didn't organize or link the DB tables correctly.</p>\n<p>According to one of the recommendations that I read, I changed the request to something like this\nMethod in repository:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT c FROM Schedule c &quot; +\n        &quot;JOIN Route r ON c.route &quot; +\n        &quot;JOIN RoutesStops rs on r.routesStops &quot; +\n        &quot;JOIN Stop s ON rs.stop &quot; +\n        &quot;WHERE s.name = :stopName and c.departureTime &gt;= :departureTime and c.departureTime &lt; :endOfDay&quot;)\nList&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\n                                             @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\n                                             @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\n</code></pre>\n<p>But after that I got another error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'busController' defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/controller/BusController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'scheduleServiceImpl' defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/service/impl/ScheduleServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'scheduleRepository' defined in com.busschedule.web.repository.ScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime); Reason: Validation failed for query for method public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n</code></pre>\n<p>Now I am confused and do not understand which error is better to correct and in which direction to move</p>\n"},{"tags":["java","multithreading","simulation","deadlock"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696448082,"post_id":77232271,"comment_id":136155842,"body_markdown":"Most likely the I/O that&#39;s happening causes the scheduler to decide that&#39;s a good time to switch threads, or something. You definitely can&#39;t rely on that type of behaviour.","body":"Most likely the I/O that&#39;s happening causes the scheduler to decide that&#39;s a good time to switch threads, or something. You definitely can&#39;t rely on that type of behaviour."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1696449034,"post_id":77232271,"comment_id":136156009,"body_markdown":"Concurrency problems are hard for a reason. Sometimes you can&#39;t know how to reproduce them intentionally.","body":"Concurrency problems are hard for a reason. Sometimes you can&#39;t know how to reproduce them intentionally."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696459791,"post_id":77232271,"comment_id":136157484,"body_markdown":"If you synchronize on the objects in different orders you will deadlock. If you always synchronize in the same order you won&#39;t.","body":"If you synchronize on the objects in different orders you will deadlock. If you always synchronize in the same order you won&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1696451181,"creation_date":1696451181,"answer_id":77232763,"question_id":77232271,"body_markdown":"&gt; By my understanding this should end up in deadlock.\r\n\r\nNo. It _could_ end up in deadlock, but without those `println` calls the chances are slim. When I say, &quot;slim,&quot; I&#39;m talking about the kind of slim chances where; a company I worked for tested a new release of a product for several weeks, and after all the tests passed, we shipped it out to a dozen or so clients. The clients then ran with it for half a year before a deadlock happened on _one_ of those client&#39;s servers, disrupting their e-commerce web site. (\\*I\\* got the fun job of figuring out what happened by studying the 4Gb core file that they sent back to us.)\r\n\r\nWithout those `println` calls, what is \\*MUCH\\* more likely to happen is; either thread locks both of the mutexes before the other gets a chance to try, it does its work, and then the other thread has its turn.","title":"Unable to simulate deadlock in java with nested synchronized","body":"<blockquote>\n<p>By my understanding this should end up in deadlock.</p>\n</blockquote>\n<p>No. It <em>could</em> end up in deadlock, but without those <code>println</code> calls the chances are slim. When I say, &quot;slim,&quot; I'm talking about the kind of slim chances where; a company I worked for tested a new release of a product for several weeks, and after all the tests passed, we shipped it out to a dozen or so clients. The clients then ran with it for half a year before a deadlock happened on <em>one</em> of those client's servers, disrupting their e-commerce web site. (*I* got the fun job of figuring out what happened by studying the 4Gb core file that they sent back to us.)</p>\n<p>Without those <code>println</code> calls, what is *MUCH* more likely to happen is; either thread locks both of the mutexes before the other gets a chance to try, it does its work, and then the other thread has its turn.</p>\n"}],"owner":{"account_id":29597929,"reputation":1,"user_id":22684060,"display_name":"Java_dev_dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696451181,"creation_date":1696445504,"question_id":77232271,"body_markdown":"I was playing around with threads in Java and decided to simulate deadlock situation but was unable do it.\r\n\r\nFollowing code couldn&#39;t result in deadlock situation before adding statement between nested synchronized blocks:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static class Account {\r\n\r\n        String name;\r\n\r\n        AtomicInteger money = new AtomicInteger(0);\r\n\r\n        void deposit(final int amount){\r\n            money.addAndGet(amount);\r\n        }\r\n\r\n        void withdraw(final int amount){\r\n            money.getAndAdd(-amount);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException, Exception {\r\n        int n = 5000;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            Thread thread1 = new Thread(() -&gt; transfer(account1, account2, 1));\r\n            Thread thread2 = new Thread(() -&gt; transfer(account2, account1, 2));\r\n            thread1.start();\r\n            thread2.start();\r\n            thread1.join();\r\n            thread2.join();\r\n         \r\n            \r\n        }\r\n    }\r\n\r\n    public static void transfer(Account from, Account to, int amount){\r\n        System.out.println(&quot;Hello from :&quot; + Thread.currentThread());\r\n        synchronized(from){\r\n         // If bellow line is uncommented deadlock will occur, otherwise not\r\n         // System.out.println();\r\n            synchronized(to){\r\n                from.withdraw(amount);\r\n                to.deposit(amount);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBy my understanding this should end up in deadlock especially when runing simulation 5k times and  but application would terminate successfully after setting n to arbitrary large int. After adding simple println statement between two nested sync statement:\r\n   \r\n```\r\nsynchronized(from){\r\n            **System.out.println();**\r\n            synchronized(to){\r\n```\r\nI got deadlock. \r\n\r\nI am confused why it is not happening when there is no statement between syncs. Am I missing something or there is some inherent Java mechanism (optimisation) which gives one thread priority over nested synchronize if there are no intermediate statement? Or it is just my machine/JVM/OS combo?\r\n\r\n\r\n","title":"Unable to simulate deadlock in java with nested synchronized","body":"<p>I was playing around with threads in Java and decided to simulate deadlock situation but was unable do it.</p>\n<p>Following code couldn't result in deadlock situation before adding statement between nested synchronized blocks:</p>\n<pre><code>public class Main {\n\n    public static class Account {\n\n        String name;\n\n        AtomicInteger money = new AtomicInteger(0);\n\n        void deposit(final int amount){\n            money.addAndGet(amount);\n        }\n\n        void withdraw(final int amount){\n            money.getAndAdd(-amount);\n        }\n    }\n\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException, Exception {\n        int n = 5000;\n        for (int i = 0; i &lt; n; i++) {\n            Thread thread1 = new Thread(() -&gt; transfer(account1, account2, 1));\n            Thread thread2 = new Thread(() -&gt; transfer(account2, account1, 2));\n            thread1.start();\n            thread2.start();\n            thread1.join();\n            thread2.join();\n         \n            \n        }\n    }\n\n    public static void transfer(Account from, Account to, int amount){\n        System.out.println(&quot;Hello from :&quot; + Thread.currentThread());\n        synchronized(from){\n         // If bellow line is uncommented deadlock will occur, otherwise not\n         // System.out.println();\n            synchronized(to){\n                from.withdraw(amount);\n                to.deposit(amount);\n            }\n        }\n    }\n}\n</code></pre>\n<p>By my understanding this should end up in deadlock especially when runing simulation 5k times and  but application would terminate successfully after setting n to arbitrary large int. After adding simple println statement between two nested sync statement:</p>\n<pre><code>synchronized(from){\n            **System.out.println();**\n            synchronized(to){\n</code></pre>\n<p>I got deadlock.</p>\n<p>I am confused why it is not happening when there is no statement between syncs. Am I missing something or there is some inherent Java mechanism (optimisation) which gives one thread priority over nested synchronize if there are no intermediate statement? Or it is just my machine/JVM/OS combo?</p>\n"},{"tags":["java","android"],"owner":{"account_id":22645084,"reputation":3,"user_id":16820579,"display_name":"Yaser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696450334,"creation_date":1696450334,"question_id":77232678,"body_markdown":"I am new to android programming .what I am trying to accomplish is start and end a phone call programmatically. for starting a dial I just followed [this](https://www.geeksforgeeks.org/how-to-make-a-phone-call-from-an-android-application/) and everything work fine. But to end a call there is no full resource that explain everything .I find [this](https://stackoverflow.com/questions/18065144/end-call-in-android-programmatically) discussion and I am bothering how to import the .idle interface to work for me. or if there is an alternative way to end the call \r\n\r\n\r\n\r\n\r\n \r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    // define objects for edit text and button\r\n    EditText edittext;\r\n    Button button;\r\n\r\n    Button end;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Getting instance of edittext and button\r\n        button = findViewById(R.id.button);\r\n        end = findViewById(R.id.button3);\r\n        edittext = findViewById(R.id.editText);\r\n\r\n        // Attach set on click listener to the button for initiating intent\r\n        button.setOnClickListener(arg -&gt; {\r\n            // getting phone number from edit text and changing it to String\r\n            String phone_number = edittext.getText().toString();\r\n\r\n            // Getting instance of Intent with action as ACTION_CALL\r\n            Intent phone_intent = new Intent(Intent.ACTION_CALL);\r\n\r\n            // Set data of Intent through Uri by parsing phone number\r\n            phone_intent.setData(Uri.parse(&quot;tel:&quot; + phone_number));\r\n\r\n            // start Intent\r\n            startActivity(phone_intent);\r\n        });\r\n        end.setOnClickListener(arg -&gt; {\r\n            TelephonyManager telephonyManager = (TelephonyManager)getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\r\n            Class clazz = null;\r\n            try {\r\n                clazz = Class.forName(telephonyManager.getClass().getName());\r\n                Method method = clazz.getDeclaredMethod(&quot;getITelephony&quot;);\r\n                method.setAccessible(true);\r\n                ITelephony telephonyService = (ITelephony) method.invoke(telephonyManager);\r\n                telephonyService.endCall();\r\n            } catch (ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (NoSuchMethodException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n","title":"how to end on going call on android programatically","body":"<p>I am new to android programming .what I am trying to accomplish is start and end a phone call programmatically. for starting a dial I just followed <a href=\"https://www.geeksforgeeks.org/how-to-make-a-phone-call-from-an-android-application/\" rel=\"nofollow noreferrer\">this</a> and everything work fine. But to end a call there is no full resource that explain everything .I find <a href=\"https://stackoverflow.com/questions/18065144/end-call-in-android-programmatically\">this</a> discussion and I am bothering how to import the .idle interface to work for me. or if there is an alternative way to end the call</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    // define objects for edit text and button\n    EditText edittext;\n    Button button;\n\n    Button end;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Getting instance of edittext and button\n        button = findViewById(R.id.button);\n        end = findViewById(R.id.button3);\n        edittext = findViewById(R.id.editText);\n\n        // Attach set on click listener to the button for initiating intent\n        button.setOnClickListener(arg -&gt; {\n            // getting phone number from edit text and changing it to String\n            String phone_number = edittext.getText().toString();\n\n            // Getting instance of Intent with action as ACTION_CALL\n            Intent phone_intent = new Intent(Intent.ACTION_CALL);\n\n            // Set data of Intent through Uri by parsing phone number\n            phone_intent.setData(Uri.parse(&quot;tel:&quot; + phone_number));\n\n            // start Intent\n            startActivity(phone_intent);\n        });\n        end.setOnClickListener(arg -&gt; {\n            TelephonyManager telephonyManager = (TelephonyManager)getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\n            Class clazz = null;\n            try {\n                clazz = Class.forName(telephonyManager.getClass().getName());\n                Method method = clazz.getDeclaredMethod(&quot;getITelephony&quot;);\n                method.setAccessible(true);\n                ITelephony telephonyService = (ITelephony) method.invoke(telephonyManager);\n                telephonyService.endCall();\n            } catch (ClassNotFoundException e) {\n                throw new RuntimeException(e);\n            } catch (InvocationTargetException e) {\n                throw new RuntimeException(e);\n            } catch (NoSuchMethodException e) {\n                throw new RuntimeException(e);\n            } catch (IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","classloader","classcastexception","sap-cpi"],"owner":{"account_id":1489257,"reputation":393,"user_id":1396775,"accept_rate":78,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696450045,"creation_date":1687377139,"question_id":76526703,"body_markdown":"I&#39;m working on a Groovy script in the SAP CPI environment which means the script runs in a somewhat canned JVM. \r\n\r\nI uploaded the `jjwt-api-0.11.2`, `jjwt-impl-0.11.2` and `jjwt-jackson-0.11.2` jars, in order to build a JWT. \r\n\r\n**The first run just after deployment the script runs just fine**, but every run afterwards I get the following error: \r\n\r\n```\r\ncom.sap.it.rt.adapter.http.api.exception.HttpResponseException: An internal server error occured: java.lang.ClassCastException: io.jsonwebtoken.impl.DefaultJwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616) cannot be cast to io.jsonwebtoken.JwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982) (found matching interface io.jsonwebtoken.JwtBuilder loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616, but needed loader com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982)@ line 70 in script1.groovy.\r\n```\r\n\r\nLine 70 reads: \r\n\r\n```java\r\nJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\r\n```\r\n\r\nThe error persists even if I change it to:\r\n\r\n```java\r\nDefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\r\n```\r\n\r\nWhen I re-deploy, it works again the first time and then goes back to the error every subsequent call. \r\n\r\nAs a debugging aid I dumped `System.getenv()` but the data it returns is the same in both succesful and erroneous runs:\r\n\r\n```\r\n{HC_GLOBAL_HOST=br1.hana.ondemand.com, HC_COMPONENT=web, HC_REGION=BR_1, HC_APPLICATION=someid, HC_HOST_INT=int.br1.hana.ondemand.com, replicate_ebs_volumes=false, replicate_ebs_with_delete=false, HC_PROCESS_ID=f6576be76bd88828e305602dbbca9d13890c, ENABLE_CAM=false, HC_LANDSCAPE=production, DISABLE_ANTIVIRUS=true, HC_APPLICATION_URL=https://someid-n9e08ec00.int.br1.hana.ondemand.com, HC_LOCAL_HTTP_PORT=9001, HC_HOST_SCP=sapcp.br1.hana.ondemand.com, HC_HOST_SVC=svc.br1.hana.ondemand.com, HC_HOST_CERT=cert.br1.hana.ondemand.com, HC_LANDSCAPE_TYPE=single_AZ, HC_ACCOUNT=someotherid, HC_OP_HTTP_PROXY_HOST=localhost, LDAP_SEARCH_BASE=dc=spa3,dc=od,dc=sap,dc=biz, HC_HOST=br1.hana.ondemand.com, HC_OP_HTTP_PROXY_PORT=20003, HOME=/usr/sap/ljs/home, HC_AVAILABILITY_ZONE=NLB1FSA02}\r\n```\r\n\r\n\r\n\r\nThe rest of the relevant code is: \r\n\r\n```java\r\nimport com.sap.gateway.ip.core.customdev.util.Message;\r\nimport com.sap.it.api.ITApiFactory;\r\nimport com.sap.it.api.keystore.KeystoreService;\r\n\r\nimport java.security.cert.Certificate;\r\nimport java.security.Key;\r\nimport java.util.HashMap;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.security.KeyFactory;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.RSAPrivateKeySpec;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.util.Base64;\r\nimport java.util.Date;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.JwtBuilder;\r\nimport io.jsonwebtoken.impl.DefaultJwtBuilder;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.impl.DefaultHeader;\r\n\r\n\r\ndef Message processData(Message message) {\r\n     \r\n    def messageLog = messageLogFactory.getMessageLog(message);\r\n\r\n    messageLog.addAttachmentAsString(&quot;dump_env&quot;, System.getenv().toString(), &quot;text/plain&quot;);\r\n\t\r\n\tMap&lt;String, Object&gt; header = new HashMap&lt;String, Object&gt;();\r\n    header.put(&quot;typ&quot;, &quot;JWT&quot;);\r\n    header.put(&quot;alg&quot;, &quot;RS256&quot;);\r\n\t\r\n// \tClaims claims = Jwts.claims();\r\n\tMap&lt;String, Object&gt; claims = new HashMap&lt;String, Object&gt;();\r\n\tclaims.put(&quot;scope&quot;, &quot;https://www.googleapis.com/auth/devstorage.full_control&quot;);\r\n\tclaims.put(&quot;aud&quot;, tokenUrl);\r\n\tclaims.put(&quot;iss&quot;, &quot;mysecret@thing.iam.gserviceaccount.com&quot;);\r\n\t\r\n\t/* Create JWT json with JwtBuilder */\r\n\tDefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate)\r\n\t\t\t.setHeader((Map&lt;String, Object&gt;) header);\r\n    // ^^^^^^^^----&gt; Crashing line\r\n    \r\n    // ...jwt signing and whatnot\r\n\r\n    /* Set body and URL encode the grant_type string. */ \r\n    body = &quot;grant_type=&quot; + URLEncoder.encode(&quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;) + &quot;&amp;assertion=&quot; + assertion        \t\t\r\n    message.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)    \r\n    message.setBody(body);\r\n\r\n   return message;\r\n\r\n```\r\n\r\nFormerly I was using the Headers and Claims classes but those were exhibiting this same issue (they worked fine the first time but afterwards threw a classcasting error which didn&#39;t go away by changing the variable class)\r\n\r\n### **What are other tools, system variables or resources I could use to debug this strange behaviour?** \r\n\r\nI suspect it&#39;s a classloading error, but I&#39;m learning java as I work on this and I still haven&#39;t got to grips with the JVM and the Java world idiosyncrasy.\r\n\r\n","title":"Java classcasting / classloading mess in SAP CPI","body":"<p>I'm working on a Groovy script in the SAP CPI environment which means the script runs in a somewhat canned JVM.</p>\n<p>I uploaded the <code>jjwt-api-0.11.2</code>, <code>jjwt-impl-0.11.2</code> and <code>jjwt-jackson-0.11.2</code> jars, in order to build a JWT.</p>\n<p><strong>The first run just after deployment the script runs just fine</strong>, but every run afterwards I get the following error:</p>\n<pre><code>com.sap.it.rt.adapter.http.api.exception.HttpResponseException: An internal server error occured: java.lang.ClassCastException: io.jsonwebtoken.impl.DefaultJwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616) cannot be cast to io.jsonwebtoken.JwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982) (found matching interface io.jsonwebtoken.JwtBuilder loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616, but needed loader com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982)@ line 70 in script1.groovy.\n</code></pre>\n<p>Line 70 reads:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\n</code></pre>\n<p>The error persists even if I change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\n</code></pre>\n<p>When I re-deploy, it works again the first time and then goes back to the error every subsequent call.</p>\n<p>As a debugging aid I dumped <code>System.getenv()</code> but the data it returns is the same in both succesful and erroneous runs:</p>\n<pre><code>{HC_GLOBAL_HOST=br1.hana.ondemand.com, HC_COMPONENT=web, HC_REGION=BR_1, HC_APPLICATION=someid, HC_HOST_INT=int.br1.hana.ondemand.com, replicate_ebs_volumes=false, replicate_ebs_with_delete=false, HC_PROCESS_ID=f6576be76bd88828e305602dbbca9d13890c, ENABLE_CAM=false, HC_LANDSCAPE=production, DISABLE_ANTIVIRUS=true, HC_APPLICATION_URL=https://someid-n9e08ec00.int.br1.hana.ondemand.com, HC_LOCAL_HTTP_PORT=9001, HC_HOST_SCP=sapcp.br1.hana.ondemand.com, HC_HOST_SVC=svc.br1.hana.ondemand.com, HC_HOST_CERT=cert.br1.hana.ondemand.com, HC_LANDSCAPE_TYPE=single_AZ, HC_ACCOUNT=someotherid, HC_OP_HTTP_PROXY_HOST=localhost, LDAP_SEARCH_BASE=dc=spa3,dc=od,dc=sap,dc=biz, HC_HOST=br1.hana.ondemand.com, HC_OP_HTTP_PROXY_PORT=20003, HOME=/usr/sap/ljs/home, HC_AVAILABILITY_ZONE=NLB1FSA02}\n</code></pre>\n<p>The rest of the relevant code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sap.gateway.ip.core.customdev.util.Message;\nimport com.sap.it.api.ITApiFactory;\nimport com.sap.it.api.keystore.KeystoreService;\n\nimport java.security.cert.Certificate;\nimport java.security.Key;\nimport java.util.HashMap;\nimport java.io.File;\nimport java.io.IOException;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.RSAPrivateKeySpec;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.Base64;\nimport java.util.Date;\nimport java.util.Map;\nimport java.util.Scanner;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.JwtBuilder;\nimport io.jsonwebtoken.impl.DefaultJwtBuilder;\n\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.DefaultHeader;\n\n\ndef Message processData(Message message) {\n     \n    def messageLog = messageLogFactory.getMessageLog(message);\n\n    messageLog.addAttachmentAsString(&quot;dump_env&quot;, System.getenv().toString(), &quot;text/plain&quot;);\n    \n    Map&lt;String, Object&gt; header = new HashMap&lt;String, Object&gt;();\n    header.put(&quot;typ&quot;, &quot;JWT&quot;);\n    header.put(&quot;alg&quot;, &quot;RS256&quot;);\n    \n//  Claims claims = Jwts.claims();\n    Map&lt;String, Object&gt; claims = new HashMap&lt;String, Object&gt;();\n    claims.put(&quot;scope&quot;, &quot;https://www.googleapis.com/auth/devstorage.full_control&quot;);\n    claims.put(&quot;aud&quot;, tokenUrl);\n    claims.put(&quot;iss&quot;, &quot;mysecret@thing.iam.gserviceaccount.com&quot;);\n    \n    /* Create JWT json with JwtBuilder */\n    DefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate)\n            .setHeader((Map&lt;String, Object&gt;) header);\n    // ^^^^^^^^----&gt; Crashing line\n    \n    // ...jwt signing and whatnot\n\n    /* Set body and URL encode the grant_type string. */ \n    body = &quot;grant_type=&quot; + URLEncoder.encode(&quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;) + &quot;&amp;assertion=&quot; + assertion             \n    message.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)    \n    message.setBody(body);\n\n   return message;\n\n</code></pre>\n<p>Formerly I was using the Headers and Claims classes but those were exhibiting this same issue (they worked fine the first time but afterwards threw a classcasting error which didn't go away by changing the variable class)</p>\n<h3><strong>What are other tools, system variables or resources I could use to debug this strange behaviour?</strong></h3>\n<p>I suspect it's a classloading error, but I'm learning java as I work on this and I still haven't got to grips with the JVM and the Java world idiosyncrasy.</p>\n"},{"tags":["java","spring","inheritance","autowired"],"comments":[{"owner":{"account_id":195331,"reputation":275388,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1402541118,"post_id":24175664,"comment_id":37316233,"body_markdown":"If you&#39;re using XML configuration for these beans, why even use `@Autowired`? Just specify the `property` directly.","body":"If you&#39;re using XML configuration for these beans, why even use <code>@Autowired</code>? Just specify the <code>property</code> directly."}],"answers":[{"tags":[],"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402542746,"creation_date":1402542746,"answer_id":24175900,"question_id":24175664,"body_markdown":"`@Qualifier` is the option, you are probably not able to use it.\r\n\r\nModifying your XML:\r\n\r\n    &lt;bean id=&quot;authClientA&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n        &lt;property name=&quot;auth&quot; value=&quot;abc&quot;&gt;\r\n        &lt;qualifier value=&quot;clientA&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n    &lt;bean id=&quot;authClientB&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n        &lt;property name=&quot;auth&quot; value=&quot;xyz&quot;&gt;\r\n        &lt;qualifier value=&quot;clientB&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;beanA&quot;  class=&quot;ClassA&quot;&gt;\r\n        &lt;property name=&quot;client&quot;  ref=&quot;authClientA&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;beanB&quot;  class=&quot;ClassB&quot;&gt;\r\n        &lt;property name=&quot;auth&quot; ref=&quot;authClientB&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd fixing your class:\r\n\r\n    abstract class A{\r\n\r\n          @Qualifier(&quot;clientA&quot;)\r\n          Client clientA;                     \r\n\r\n          @Qualifier(&quot;clientB&quot;)\r\n          Client clientB;       \r\n\r\n          protected void doSomething(){ \r\n                   /* ....some code .... */\r\n                   client.someStuff(); /* HERE YOU NEED SOME LOGIC TO INVOKCE THE CORRECT OBJECT METHOD */\r\n                   /* ....some code .... */\r\n          }\r\n\r\n          /* ..... few abstract methods * ........./\r\n    }\r\n\r\n\r\nAlso, if you want to understand more, please check this answer here :\r\n\r\nhttps://stackoverflow.com/questions/15971288/spring-autowire-annotation-on-abstract-class-no-unique-bean-is-defined","title":"Spring @Autowire with Inheritance","body":"<p><code>@Qualifier</code> is the option, you are probably not able to use it.</p>\n\n<p>Modifying your XML:</p>\n\n<pre><code>&lt;bean id=\"authClientA\"  class=\"com.xyz.Client\"&gt;\n    &lt;property name=\"auth\" value=\"abc\"&gt;\n    &lt;qualifier value=\"clientA\" /&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"authClientB\"  class=\"com.xyz.Client\"&gt;\n    &lt;property name=\"auth\" value=\"xyz\"&gt;\n    &lt;qualifier value=\"clientB\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"beanA\"  class=\"ClassA\"&gt;\n    &lt;property name=\"client\"  ref=\"authClientA\"&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"beanB\"  class=\"ClassB\"&gt;\n    &lt;property name=\"auth\" ref=\"authClientB\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And fixing your class:</p>\n\n<pre><code>abstract class A{\n\n      @Qualifier(\"clientA\")\n      Client clientA;                     \n\n      @Qualifier(\"clientB\")\n      Client clientB;       \n\n      protected void doSomething(){ \n               /* ....some code .... */\n               client.someStuff(); /* HERE YOU NEED SOME LOGIC TO INVOKCE THE CORRECT OBJECT METHOD */\n               /* ....some code .... */\n      }\n\n      /* ..... few abstract methods * ........./\n}\n</code></pre>\n\n<p>Also, if you want to understand more, please check this answer here :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15971288/spring-autowire-annotation-on-abstract-class-no-unique-bean-is-defined\">Spring Autowire Annotation on Abstract class: No unique bean is defined</a></p>\n"}],"owner":{"account_id":4601813,"reputation":31,"user_id":3732326,"display_name":"user3732326"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9857,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696449625,"creation_date":1402540898,"question_id":24175664,"body_markdown":"I am new to Spring and wanted your all assistance. I have run into the &quot;expected single match bean but found two&quot; exception. I have searched for the solution and think have understood the solution. Most solutions suggest using @Qualifier to resolve this exception. However I don&#39;t think it will solve my issue. Below is my class hierarchy:\r\n\r\n    abstract class A{\r\n              \r\n        @Autowired\r\n        Client client;                     \r\n\r\n        protected void doSomething(){ \r\n            /* ....some code .... */\r\n            client.someStuff(); \r\n            /* ....some code .... */\r\n        }\r\n\r\n        /* ..... few abstract methods ......... */\r\n    }\r\n\r\n    class B extends A{ \r\n        public void action(){ doSomething() }\r\n    }\r\n\r\n    class C extends A{\r\n        public void action(){ doSomething() }\r\n    }\r\n\r\n\r\nMy .xml confirugration file is\r\n\r\n        &lt;bean id=&quot;authClientA&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n            &lt;property name=&quot;auth&quot; value=&quot;abc&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n        \r\n        &lt;bean id=&quot;authClientB&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n            &lt;property name=&quot;auth&quot; value=&quot;xyz&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n        &lt;bean id=&quot;beanA&quot;  class=&quot;ClassA&quot;&gt;\r\n            &lt;property name=&quot;client&quot;  ref=&quot;authClientA&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n        &lt;bean id=&quot;beanB&quot;  class=&quot;ClassB&quot;&gt;\r\n            &lt;property name=&quot;auth&quot; ref=&quot;authClientB&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\n\r\nSo basically, I have an abstract class which has a method which will be common to both the subclasses. This method uses the client reference but at run time will use different object. `doSomething()` is not overridden in the subclasses.\r\n\r\n\r\nSo when I try to run this code, it gives me the exception for client reference. I dont think I can use @Qualifier because @Qualifier requires to specify bean name from .xml as parameter, but since the &#39;client&#39; attribute is common, I cant use only one bean name. \r\n\r\n\r\nCan someone please assist in explaining if there is a way to get around. Duplicating the `doSomething()` method defeats the entire purpose of inheritance and will cause duplicate code across classes. I can&#39;t have the `client` attribute in the subclasses as it will become unknown to `doSomething()` method at compile time.\r\n\r\nAny ideas/suggestions/solutions will be helpful.\r\n\r\nThanks in advance :)","title":"Spring @Autowire with Inheritance","body":"<p>I am new to Spring and wanted your all assistance. I have run into the \"expected single match bean but found two\" exception. I have searched for the solution and think have understood the solution. Most solutions suggest using @Qualifier to resolve this exception. However I don't think it will solve my issue. Below is my class hierarchy:</p>\n\n<pre><code>abstract class A{\n\n    @Autowired\n    Client client;                     \n\n    protected void doSomething(){ \n        /* ....some code .... */\n        client.someStuff(); \n        /* ....some code .... */\n    }\n\n    /* ..... few abstract methods ......... */\n}\n\nclass B extends A{ \n    public void action(){ doSomething() }\n}\n\nclass C extends A{\n    public void action(){ doSomething() }\n}\n</code></pre>\n\n<p>My .xml confirugration file is</p>\n\n<pre><code>    &lt;bean id=\"authClientA\"  class=\"com.xyz.Client\"&gt;\n        &lt;property name=\"auth\" value=\"abc\"&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"authClientB\"  class=\"com.xyz.Client\"&gt;\n        &lt;property name=\"auth\" value=\"xyz\"&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"beanA\"  class=\"ClassA\"&gt;\n        &lt;property name=\"client\"  ref=\"authClientA\"&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"beanB\"  class=\"ClassB\"&gt;\n        &lt;property name=\"auth\" ref=\"authClientB\"&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>So basically, I have an abstract class which has a method which will be common to both the subclasses. This method uses the client reference but at run time will use different object. <code>doSomething()</code> is not overridden in the subclasses.</p>\n\n<p>So when I try to run this code, it gives me the exception for client reference. I dont think I can use @Qualifier because @Qualifier requires to specify bean name from .xml as parameter, but since the 'client' attribute is common, I cant use only one bean name. </p>\n\n<p>Can someone please assist in explaining if there is a way to get around. Duplicating the <code>doSomething()</code> method defeats the entire purpose of inheritance and will cause duplicate code across classes. I can't have the <code>client</code> attribute in the subclasses as it will become unknown to <code>doSomething()</code> method at compile time.</p>\n\n<p>Any ideas/suggestions/solutions will be helpful.</p>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["java","spring-boot","spring-security","http-status-code-403"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696448798,"post_id":77232209,"comment_id":136155972,"body_markdown":"why do you have a custom jwtfilter, its bad practice to hand out jwts to browsers, and its bad practice to write custom security solutions. With this setup you cant logout users.","body":"why do you have a custom jwtfilter, its bad practice to hand out jwts to browsers, and its bad practice to write custom security solutions. With this setup you cant logout users."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1696493395,"post_id":77232209,"comment_id":136160677,"body_markdown":"These mail and password are useless if  it doesn&#39;t go to `authenticate` method.","body":"These mail and password are useless if  it doesn&#39;t go to <code>authenticate</code> method."}],"answers":[{"tags":[],"owner":{"account_id":15136210,"reputation":19,"user_id":10922650,"display_name":"C&#233;zar Augusto"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696449368,"creation_date":1696449368,"answer_id":77232587,"question_id":77232209,"body_markdown":"As I have experienced with Spring, I remember that some erros might not be properly thrown, specially for secured endpoints, I&#39;d say maybe you run it locally with debug mode, and then you must know what code runs to authenticate your request to set debug breakpoint in it, then try and follow all call stack it will go and maybe you find some places that catch exceptions and silently transforms them into 403...","title":"How to solve error 403 Forbidden with Spring Security?","body":"<p>As I have experienced with Spring, I remember that some erros might not be properly thrown, specially for secured endpoints, I'd say maybe you run it locally with debug mode, and then you must know what code runs to authenticate your request to set debug breakpoint in it, then try and follow all call stack it will go and maybe you find some places that catch exceptions and silently transforms them into 403...</p>\n"}],"owner":{"account_id":15400837,"reputation":57,"user_id":11110392,"display_name":"thomas prevost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1696449368,"creation_date":1696444940,"question_id":77232209,"body_markdown":"I&#39;m doing a fullstack application using spring security for the first time. \r\nThe authentication and the activation of an account are working well. Only the login is not working.\r\n\r\nHere is my UserController :\r\n```\r\npackage com.example.PassMasterbackend.controller;\r\n\r\nimport com.example.PassMasterbackend.dto.AuthenticationDTO;\r\nimport com.example.PassMasterbackend.entity.Chest;\r\nimport com.example.PassMasterbackend.entity.User;\r\nimport com.example.PassMasterbackend.security.JwtService;\r\nimport com.example.PassMasterbackend.service.UserService;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Slf4j\r\n@AllArgsConstructor\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n\r\n    private AuthenticationManager authenticationManager;\r\n    private UserService userService;\r\n    private JwtService jwtService;\r\n\r\n    @PostMapping(path = &quot;registration&quot;)\r\n    public void register(@RequestBody User user) {\r\n        this.userService.registration(user);\r\n    }\r\n\r\n    @PostMapping(path = &quot;activation&quot;)\r\n    public void activate(@RequestBody Map&lt;String, String&gt; activation) {\r\n        this.userService.activation(activation);\r\n    }\r\n\r\n    @PostMapping(path = &quot;login&quot;)\r\n    public Map&lt;String, String&gt; login(@RequestBody AuthenticationDTO authenticationDTO) {\r\n        System.out.println(&quot;username : &quot; + authenticationDTO.username() + &quot; - password : &quot; + authenticationDTO.password());\r\n        final Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        authenticationDTO.username(),\r\n                        authenticationDTO.password()\r\n                )\r\n        );\r\n\r\n        if (authentication.isAuthenticated()) {\r\n            return this.jwtService.generate(authenticationDTO.username());\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userService.getAllUsers();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public User getUserById(@PathVariable Long id) {\r\n        return userService.getUserById(id);\r\n    }\r\n}\r\n```\r\n\r\nand here is my security file :\r\n```\r\npackage com.example.PassMasterbackend.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport static org.springframework.http.HttpMethod.*;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    private final JwtFilter jwtFilter;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    public SecurityConfig(BCryptPasswordEncoder bCryptPasswordEncoder, JwtFilter jwtFilter, UserDetailsService userDetailsService) {\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        this.jwtFilter = jwtFilter;\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        return httpSecurity\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorize -&gt;\r\n                        authorize\r\n                                .requestMatchers(POST, &quot;/api/user/registration&quot;).permitAll()\r\n                                .requestMatchers(POST, &quot;/api/user/activation&quot;).permitAll()\r\n                                .requestMatchers(POST, &quot;/api/user/login&quot;).permitAll()\r\n                                .requestMatchers(GET, &quot;/api/user&quot;).permitAll()\r\n                                .requestMatchers(GET, &quot;/api/user/{id}&quot;).permitAll()\r\n                                .requestMatchers(GET, &quot;/api/chests&quot;).permitAll()\r\n                                .requestMatchers(GET, &quot;/api/chests/{id}&quot;).permitAll()\r\n                                .requestMatchers(POST, &quot;/api/chests&quot;).permitAll()\r\n                                .requestMatchers(PUT, &quot;/api/chests/{id}&quot;).permitAll()\r\n                                .requestMatchers(DELETE, &quot;/api/chests/{id}&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(httpSecuritySessionManagementConfigurer -&gt;\r\n                        httpSecuritySessionManagementConfigurer.sessionCreationPolicy(\r\n                                SessionCreationPolicy.STATELESS\r\n                        )\r\n                )\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\r\n        daoAuthenticationProvider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        return daoAuthenticationProvider;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I make a POST request using Postman on this URL : http://localhost:8080/api/user/login, I got a 403 Forbidden every time, with no error in the console. My body request looks like that :\r\n\r\n```\r\n{\r\n    &quot;username&quot;: &quot;thom@mail.fr&quot;,\r\n    &quot;password&quot;: &quot;mdp&quot;\r\n}\r\n```\r\n\r\nand I already have a verified account with this mail and this password.\r\n\r\nDoes anyone have an answer ?\r\nThank you very much !!","title":"How to solve error 403 Forbidden with Spring Security?","body":"<p>I'm doing a fullstack application using spring security for the first time.\nThe authentication and the activation of an account are working well. Only the login is not working.</p>\n<p>Here is my UserController :</p>\n<pre><code>package com.example.PassMasterbackend.controller;\n\nimport com.example.PassMasterbackend.dto.AuthenticationDTO;\nimport com.example.PassMasterbackend.entity.Chest;\nimport com.example.PassMasterbackend.entity.User;\nimport com.example.PassMasterbackend.security.JwtService;\nimport com.example.PassMasterbackend.service.UserService;\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Map;\n\n@Slf4j\n@AllArgsConstructor\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    private AuthenticationManager authenticationManager;\n    private UserService userService;\n    private JwtService jwtService;\n\n    @PostMapping(path = &quot;registration&quot;)\n    public void register(@RequestBody User user) {\n        this.userService.registration(user);\n    }\n\n    @PostMapping(path = &quot;activation&quot;)\n    public void activate(@RequestBody Map&lt;String, String&gt; activation) {\n        this.userService.activation(activation);\n    }\n\n    @PostMapping(path = &quot;login&quot;)\n    public Map&lt;String, String&gt; login(@RequestBody AuthenticationDTO authenticationDTO) {\n        System.out.println(&quot;username : &quot; + authenticationDTO.username() + &quot; - password : &quot; + authenticationDTO.password());\n        final Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        authenticationDTO.username(),\n                        authenticationDTO.password()\n                )\n        );\n\n        if (authentication.isAuthenticated()) {\n            return this.jwtService.generate(authenticationDTO.username());\n        }\n        return null;\n    }\n\n    @GetMapping\n    public List&lt;User&gt; getAllUsers() {\n        return userService.getAllUsers();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public User getUserById(@PathVariable Long id) {\n        return userService.getUserById(id);\n    }\n}\n</code></pre>\n<p>and here is my security file :</p>\n<pre><code>package com.example.PassMasterbackend.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport static org.springframework.http.HttpMethod.*;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    private final JwtFilter jwtFilter;\n    private final UserDetailsService userDetailsService;\n\n    public SecurityConfig(BCryptPasswordEncoder bCryptPasswordEncoder, JwtFilter jwtFilter, UserDetailsService userDetailsService) {\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n        this.jwtFilter = jwtFilter;\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(authorize -&gt;\n                        authorize\n                                .requestMatchers(POST, &quot;/api/user/registration&quot;).permitAll()\n                                .requestMatchers(POST, &quot;/api/user/activation&quot;).permitAll()\n                                .requestMatchers(POST, &quot;/api/user/login&quot;).permitAll()\n                                .requestMatchers(GET, &quot;/api/user&quot;).permitAll()\n                                .requestMatchers(GET, &quot;/api/user/{id}&quot;).permitAll()\n                                .requestMatchers(GET, &quot;/api/chests&quot;).permitAll()\n                                .requestMatchers(GET, &quot;/api/chests/{id}&quot;).permitAll()\n                                .requestMatchers(POST, &quot;/api/chests&quot;).permitAll()\n                                .requestMatchers(PUT, &quot;/api/chests/{id}&quot;).permitAll()\n                                .requestMatchers(DELETE, &quot;/api/chests/{id}&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .sessionManagement(httpSecuritySessionManagementConfigurer -&gt;\n                        httpSecuritySessionManagementConfigurer.sessionCreationPolicy(\n                                SessionCreationPolicy.STATELESS\n                        )\n                )\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\n        daoAuthenticationProvider.setPasswordEncoder(bCryptPasswordEncoder);\n        return daoAuthenticationProvider;\n    }\n}\n\n</code></pre>\n<p>When I make a POST request using Postman on this URL : http://localhost:8080/api/user/login, I got a 403 Forbidden every time, with no error in the console. My body request looks like that :</p>\n<pre><code>{\n    &quot;username&quot;: &quot;thom@mail.fr&quot;,\n    &quot;password&quot;: &quot;mdp&quot;\n}\n</code></pre>\n<p>and I already have a verified account with this mail and this password.</p>\n<p>Does anyone have an answer ?\nThank you very much !!</p>\n"},{"tags":["java","solr","lucene","solrcloud"],"answers":[{"tags":[],"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576136505,"creation_date":1576136505,"answer_id":59299812,"question_id":59295689,"body_markdown":"A [join using the join query parser][1] (i.e. `{!join}`) in Solr can&#39;t retrieve content from both sides of the join. These are purely inner joins, where one field is used for filtering content from the collection being queried.\r\n\r\n&gt; This is different from the concept of a join in a relational database because no information is being truly joined. An appropriate SQL analogy would be an &quot;inner query&quot;.\r\n\r\nIf you&#39;re on a recent-ish version of Solr you do have another option, which is [using a Streaming Expression](https://lucene.apache.org/solr/guide/8_2/streaming-expressions.html).\r\n\r\nThis will allow you to [set up two stream sources](https://lucene.apache.org/solr/guide/8_2/stream-source-reference.html#stream-source-reference), then apply either [a leftOuterJoin](https://lucene.apache.org/solr/guide/8_2/stream-decorator-reference.html#leftouterjoin) or [an outerHashJoin](https://lucene.apache.org/solr/guide/8_2/stream-decorator-reference.html#outerhashjoin) to get a document with combined information from both sides.\r\n\r\nFrom the example in the reference guide:\r\n\r\n    leftOuterJoin(\r\n      search(people, q=&quot;*:*&quot;, qt=&quot;/export&quot;, fl=&quot;personId,name&quot;, sort=&quot;personId asc&quot;),\r\n      search(pets, q=&quot;type:cat&quot;, qt=&quot;/export&quot;, fl=&quot;personId,petName&quot;, sort=&quot;personId asc&quot;),\r\n      on=&quot;personId&quot;\r\n    )\r\n\r\n    outerHashJoin(\r\n      search(people, q=&quot;*:*&quot;, qt=&quot;/export&quot;, fl=&quot;personId,name&quot;, sort=&quot;personId asc&quot;),\r\n      hashed=search(pets, q=&quot;type:cat&quot;, qt=&quot;/export&quot;, fl=&quot;personId,petName&quot;, sort=&quot;personId asc&quot;),\r\n      on=&quot;personId&quot;\r\n    )\r\n\r\nReplace `pets` and `people` with `collection1` and `collection2` from your question. Be aware that you must have a `sort` criteria that maps the key used for joining when using the `leftOuterJoin`, but this usually makes the join more efficient for larger result sizes, since the outerHashJoin has to keep a lot more in memory.\r\n\r\n  [1]: https://lucene.apache.org/solr/guide/6_6/other-parsers.html#OtherParsers-JoinQueryParser","title":"Full Outer Join in Solr","body":"<p>A <a href=\"https://lucene.apache.org/solr/guide/6_6/other-parsers.html#OtherParsers-JoinQueryParser\" rel=\"nofollow noreferrer\">join using the join query parser</a> (i.e. <code>{!join}</code>) in Solr can't retrieve content from both sides of the join. These are purely inner joins, where one field is used for filtering content from the collection being queried.</p>\n\n<blockquote>\n  <p>This is different from the concept of a join in a relational database because no information is being truly joined. An appropriate SQL analogy would be an \"inner query\".</p>\n</blockquote>\n\n<p>If you're on a recent-ish version of Solr you do have another option, which is <a href=\"https://lucene.apache.org/solr/guide/8_2/streaming-expressions.html\" rel=\"nofollow noreferrer\">using a Streaming Expression</a>.</p>\n\n<p>This will allow you to <a href=\"https://lucene.apache.org/solr/guide/8_2/stream-source-reference.html#stream-source-reference\" rel=\"nofollow noreferrer\">set up two stream sources</a>, then apply either <a href=\"https://lucene.apache.org/solr/guide/8_2/stream-decorator-reference.html#leftouterjoin\" rel=\"nofollow noreferrer\">a leftOuterJoin</a> or <a href=\"https://lucene.apache.org/solr/guide/8_2/stream-decorator-reference.html#outerhashjoin\" rel=\"nofollow noreferrer\">an outerHashJoin</a> to get a document with combined information from both sides.</p>\n\n<p>From the example in the reference guide:</p>\n\n<pre><code>leftOuterJoin(\n  search(people, q=\"*:*\", qt=\"/export\", fl=\"personId,name\", sort=\"personId asc\"),\n  search(pets, q=\"type:cat\", qt=\"/export\", fl=\"personId,petName\", sort=\"personId asc\"),\n  on=\"personId\"\n)\n\nouterHashJoin(\n  search(people, q=\"*:*\", qt=\"/export\", fl=\"personId,name\", sort=\"personId asc\"),\n  hashed=search(pets, q=\"type:cat\", qt=\"/export\", fl=\"personId,petName\", sort=\"personId asc\"),\n  on=\"personId\"\n)\n</code></pre>\n\n<p>Replace <code>pets</code> and <code>people</code> with <code>collection1</code> and <code>collection2</code> from your question. Be aware that you must have a <code>sort</code> criteria that maps the key used for joining when using the <code>leftOuterJoin</code>, but this usually makes the join more efficient for larger result sizes, since the outerHashJoin has to keep a lot more in memory.</p>\n"}],"owner":{"account_id":12502588,"reputation":105,"user_id":9100549,"display_name":"Philip-lf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59299812,"answer_count":1,"score":0,"last_activity_date":1696449230,"creation_date":1576107294,"question_id":59295689,"body_markdown":"I am trying to do a full outer join on two collections. Given `collection1` with a document that looks like this:\r\n```\r\n{\r\nid: 234982032,\r\nname: example,\r\nlistId: 123\r\n}\r\n```\r\nand `collection2` with a document that looks like this:\r\n```\r\n{\r\nid: 123,\r\ndescription: desc1\r\n}\r\n```\r\nI expect a result like this:\r\n```\r\n{\r\nid: 234982032,\r\nname: example,\r\ndescription: desc1\r\n}\r\n```\r\nI have tried using this command:\r\n\r\n`fq={!join from=listId to=id fromIndex=collection2}description:desc1`\r\n\r\nbut this results in only in inner join. Is there a way I can outer join two collections using a filter query? If this is not a possible Is there a plugin that can do this?","title":"Full Outer Join in Solr","body":"<p>I am trying to do a full outer join on two collections. Given <code>collection1</code> with a document that looks like this:</p>\n\n<pre><code>{\nid: 234982032,\nname: example,\nlistId: 123\n}\n</code></pre>\n\n<p>and <code>collection2</code> with a document that looks like this:</p>\n\n<pre><code>{\nid: 123,\ndescription: desc1\n}\n</code></pre>\n\n<p>I expect a result like this:</p>\n\n<pre><code>{\nid: 234982032,\nname: example,\ndescription: desc1\n}\n</code></pre>\n\n<p>I have tried using this command:</p>\n\n<p><code>fq={!join from=listId to=id fromIndex=collection2}description:desc1</code></p>\n\n<p>but this results in only in inner join. Is there a way I can outer join two collections using a filter query? If this is not a possible Is there a plugin that can do this?</p>\n"},{"tags":["java","swing","dialog","return"],"comments":[{"owner":{"account_id":22513336,"reputation":66,"user_id":16707945,"display_name":"Kamil Krzywański"},"score":0,"creation_date":1696439641,"post_id":77231392,"comment_id":136154278,"body_markdown":"I&#39;m not sure what exactly you want but I see 2 options:\n1: set dialog to modal before set visible. It will lock current thread on window, then you don&#39;t need any loops, just care about listeners on fields","body":"I&#39;m not sure what exactly you want but I see 2 options: 1: set dialog to modal before set visible. It will lock current thread on window, then you don&#39;t need any loops, just care about listeners on fields"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696448896,"creation_date":1696440777,"answer_id":77231800,"question_id":77231392,"body_markdown":"Your dialog handling has its flaws. But you can take a completely different approach:\r\n\r\nSubclass JPanel and add your labels, fields, buttons - whatever you need.\r\nYou can use a UI builder if you like. Add getter/setter methods for the fields you are interested in.\r\n\r\nInstantiate this customized panel and use the setters to populate the fields.\r\nThen use JOptionPane.showOptionDialog to display the panel (pass it in as message). I prefer to have the OK_CANCEL_OPTION for usual dialogs.\r\n\r\nOnce showOptionDialog returns, check the return code. If it is OK_OPTION, use the panel&#39;s getters to access the user input.\r\n\r\nHere is the above in code:\r\n\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class MyPanel extends JPanel {\r\n        \r\n        private final JTextField txtUser;\r\n    \r\n        public MyPanel() {\r\n            add(new JLabel(&quot;User&quot;));\r\n            txtUser = new JTextField();\r\n            add(txtUser);\r\n        }\r\n        \r\n        public String getUser() {\r\n            return txtUser.getText();\r\n        }\r\n        \r\n        public void setUser(String user) {\r\n            txtUser.setText(user);\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            MyPanel mp = new MyPanel();\r\n            \r\n            mp.setUser(&quot;DefaultUser&quot;);\r\n            \r\n            if (JOptionPane.showOptionDialog(\r\n                    null, mp, &quot;Input User&quot;, JOptionPane.OK_CANCEL_OPTION, \r\n                    JOptionPane.QUESTION_MESSAGE, null, null, null) == JOptionPane.OK_OPTION) {\r\n                System.out.println(&quot;User entered: &quot; + mp.getUser());\r\n            }\r\n        }\r\n    }\r\n\r\nOne of the advantages is that this pattern allows you to reuse the custom panel in create and in edit situations.\r\nIt also works in other situations. Imagine the user exits the application but the data was not saved. Then you can do\r\n\r\n    switch(JOptionPane.showConfirmDialog(null, &quot;Do you want to save your data?&quot;) {\r\n        case YES_OPTION:\r\n            doSave();\r\n            System.exit(0);\r\n        case NO_OPTION:\r\n            System.exit(0);\r\n        case CANCEL_OPTION:\r\n            // do nothing, assuming the main window will not exit\r\n    }","title":"Struggle disposing of JDialog","body":"<p>Your dialog handling has its flaws. But you can take a completely different approach:</p>\n<p>Subclass JPanel and add your labels, fields, buttons - whatever you need.\nYou can use a UI builder if you like. Add getter/setter methods for the fields you are interested in.</p>\n<p>Instantiate this customized panel and use the setters to populate the fields.\nThen use JOptionPane.showOptionDialog to display the panel (pass it in as message). I prefer to have the OK_CANCEL_OPTION for usual dialogs.</p>\n<p>Once showOptionDialog returns, check the return code. If it is OK_OPTION, use the panel's getters to access the user input.</p>\n<p>Here is the above in code:</p>\n<pre><code>import javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class MyPanel extends JPanel {\n    \n    private final JTextField txtUser;\n\n    public MyPanel() {\n        add(new JLabel(&quot;User&quot;));\n        txtUser = new JTextField();\n        add(txtUser);\n    }\n    \n    public String getUser() {\n        return txtUser.getText();\n    }\n    \n    public void setUser(String user) {\n        txtUser.setText(user);\n    }\n    \n    public static void main(String[] args) {\n        MyPanel mp = new MyPanel();\n        \n        mp.setUser(&quot;DefaultUser&quot;);\n        \n        if (JOptionPane.showOptionDialog(\n                null, mp, &quot;Input User&quot;, JOptionPane.OK_CANCEL_OPTION, \n                JOptionPane.QUESTION_MESSAGE, null, null, null) == JOptionPane.OK_OPTION) {\n            System.out.println(&quot;User entered: &quot; + mp.getUser());\n        }\n    }\n}\n</code></pre>\n<p>One of the advantages is that this pattern allows you to reuse the custom panel in create and in edit situations.\nIt also works in other situations. Imagine the user exits the application but the data was not saved. Then you can do</p>\n<pre><code>switch(JOptionPane.showConfirmDialog(null, &quot;Do you want to save your data?&quot;) {\n    case YES_OPTION:\n        doSave();\n        System.exit(0);\n    case NO_OPTION:\n        System.exit(0);\n    case CANCEL_OPTION:\n        // do nothing, assuming the main window will not exit\n}\n</code></pre>\n"}],"owner":{"account_id":24708475,"reputation":13,"user_id":18598973,"display_name":"Das heilige D&#246;nerhuhn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77231800,"answer_count":1,"score":0,"last_activity_date":1696448896,"creation_date":1696437031,"question_id":77231392,"body_markdown":"I tried to create a little JDialog as a popup for requesting two values from the user: width and height. After a lot of tweaking, I thought I might retrieve those values upon the disposal of the dialog by using the windowClosed method of a window adapter to pass these values to a object together with the information, that the dialog had closed as a Boolean. The main method just intializes the dialog and waits for it to signal, that it has exit. I can verify, that the windowClosed method got executed, but it still doesn&#39;t seem to end my while loop waiting for the objects Boolean to change to false. Thank you for you help in advance.\r\n\r\nThe code was stripped of formatting stuff for the dialog as well as imports.\r\n```\r\n//dialogSubstitute.java \r\n public class ResizeDialogSubstitute { \r\n     // I cant code plz help me, slopy solution for returning from a dialog ): \r\n     int Width, Height; \r\n     void SetWidth(int width){Width=width;} \r\n     void SetHeight(int height){Height=height;} \r\n     boolean stillrunning = true; \r\n     ResizeDialogSubstitute(){ \r\n         Width=0; \r\n         Height=0; \r\n     } \r\n } \r\n  \r\n // test.java \r\n public class test { \r\n     String NewWidth,NewHeight; //Terrible way of returning from a function \r\n     public static void main(String[] args) { \r\n         ResizeDialogSubstitute uwudaddy = new ResizeDialogSubstitute(); \r\n         ResizeDialog dialog = new ResizeDialog(100,100, uwudaddy); \r\n         dialog.setVisible(true); \r\n         while(uwudaddy.stillrunning); \r\n         System.out.println(uwudaddy.Height); \r\n         System.out.println(uwudaddy.Width); \r\n     } \r\n } \r\n  \r\n // ResizeDialog.java \r\n public class ResizeDialog extends JDialog \r\n { \r\n  JTextArea x,y;   \r\n   ResizeDialogSubstitute uwudaddy; \r\n     ResizeDialog(int widthNow, int heightNow, ResizeDialogSubstitute UwuDaddy) \r\n     { \r\n         uwudaddy=UwuDaddy; \r\n         this.setSize(300, 200); \r\n         this.setTitle(&quot;Resize&quot;); \r\n         this.setDefaultCloseOperation(DISPOSE_ON_CLOSE); \r\n         JLabel label1= new JLabel(&quot;Define new Imagesize&quot;); \r\n         this.add(label1,c); \r\n         JLabel label2= new JLabel(&quot;Width:&quot;); \r\n         this.add(label2,c); \r\n         x = new JTextArea(Integer.toString(widthNow)); \r\n         this.add(x,c); \r\n         JLabel label3 = new JLabel(&quot;Height:&quot;); \r\n         this.add(label3,c); \r\n         y = new JTextArea(Integer.toString(heightNow)); \r\n         this.add(y,c); \r\n         this.addWindowListener(new WindowAdapter()  \r\n         { \r\n           public void windowClosed(WindowEvent e) \r\n           { \r\n             System.out.println(&quot;At least I gotr so far&quot;); \r\n             //Tell Parent the result of the request, plz kill me \r\n             uwudaddy.SetHeight(Integer.parseInt(GetNewHeight())); \r\n             uwudaddy.SetWidth(Integer.parseInt(GetNewWidth())); \r\n             uwudaddy.stillrunning=false; \r\n           } \r\n  \r\n           public void windowClosing(WindowEvent e) \r\n           { \r\n           } \r\n         }); \r\n  \r\n     } \r\n     String GetNewWidth(){ \r\n         return x.getText(); \r\n     } \r\n     String GetNewHeight(){ \r\n         return y.getText(); \r\n     } \r\n }\r\n```","title":"Struggle disposing of JDialog","body":"<p>I tried to create a little JDialog as a popup for requesting two values from the user: width and height. After a lot of tweaking, I thought I might retrieve those values upon the disposal of the dialog by using the windowClosed method of a window adapter to pass these values to a object together with the information, that the dialog had closed as a Boolean. The main method just intializes the dialog and waits for it to signal, that it has exit. I can verify, that the windowClosed method got executed, but it still doesn't seem to end my while loop waiting for the objects Boolean to change to false. Thank you for you help in advance.</p>\n<p>The code was stripped of formatting stuff for the dialog as well as imports.</p>\n<pre><code>//dialogSubstitute.java \n public class ResizeDialogSubstitute { \n     // I cant code plz help me, slopy solution for returning from a dialog ): \n     int Width, Height; \n     void SetWidth(int width){Width=width;} \n     void SetHeight(int height){Height=height;} \n     boolean stillrunning = true; \n     ResizeDialogSubstitute(){ \n         Width=0; \n         Height=0; \n     } \n } \n  \n // test.java \n public class test { \n     String NewWidth,NewHeight; //Terrible way of returning from a function \n     public static void main(String[] args) { \n         ResizeDialogSubstitute uwudaddy = new ResizeDialogSubstitute(); \n         ResizeDialog dialog = new ResizeDialog(100,100, uwudaddy); \n         dialog.setVisible(true); \n         while(uwudaddy.stillrunning); \n         System.out.println(uwudaddy.Height); \n         System.out.println(uwudaddy.Width); \n     } \n } \n  \n // ResizeDialog.java \n public class ResizeDialog extends JDialog \n { \n  JTextArea x,y;   \n   ResizeDialogSubstitute uwudaddy; \n     ResizeDialog(int widthNow, int heightNow, ResizeDialogSubstitute UwuDaddy) \n     { \n         uwudaddy=UwuDaddy; \n         this.setSize(300, 200); \n         this.setTitle(&quot;Resize&quot;); \n         this.setDefaultCloseOperation(DISPOSE_ON_CLOSE); \n         JLabel label1= new JLabel(&quot;Define new Imagesize&quot;); \n         this.add(label1,c); \n         JLabel label2= new JLabel(&quot;Width:&quot;); \n         this.add(label2,c); \n         x = new JTextArea(Integer.toString(widthNow)); \n         this.add(x,c); \n         JLabel label3 = new JLabel(&quot;Height:&quot;); \n         this.add(label3,c); \n         y = new JTextArea(Integer.toString(heightNow)); \n         this.add(y,c); \n         this.addWindowListener(new WindowAdapter()  \n         { \n           public void windowClosed(WindowEvent e) \n           { \n             System.out.println(&quot;At least I gotr so far&quot;); \n             //Tell Parent the result of the request, plz kill me \n             uwudaddy.SetHeight(Integer.parseInt(GetNewHeight())); \n             uwudaddy.SetWidth(Integer.parseInt(GetNewWidth())); \n             uwudaddy.stillrunning=false; \n           } \n  \n           public void windowClosing(WindowEvent e) \n           { \n           } \n         }); \n  \n     } \n     String GetNewWidth(){ \n         return x.getText(); \n     } \n     String GetNewHeight(){ \n         return y.getText(); \n     } \n }\n</code></pre>\n"},{"tags":["java","jersey","jetty","dropwizard","embedded-jetty"],"owner":{"account_id":14124421,"reputation":341,"user_id":11940581,"display_name":"halfwind22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696447832,"creation_date":1696445442,"question_id":77232264,"body_markdown":"I have a use case to collect requests from clients , batch them and then the combined request is to be sent for processing, with the result of processing to be having sent back to each of the clients.I would have to wait for about 10ms before batching - this is to be achieved using Dropwizard( Jersey for JAX-RS and Jetty as Web server)\r\n\r\nSince requests are handled by using a thread pool, my approach was to use a delay queue, as follows: \r\n\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.QueryParam;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.CopyOnWriteArrayList;\r\n    import java.util.concurrent.DelayQueue;    \r\n\r\n    @Path(&quot;/helloworld&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public class HelloWorldResource {\r\n    \r\n        private final String template;\r\n        private final String defaultName;\r\n        private Long endOfInterval;\r\n    \r\n        private BlockingQueue&lt;ModifiedRequest&gt; blockingDelayQueue;\r\n        private List&lt;ModifiedRequest&gt; listOfRequests;\r\n        private ArrayList&lt;Response&gt; listOfResponses;\r\n    \r\n        public HelloWorldResource(String template, String defaultName) {\r\n            this.template = template;\r\n            this.defaultName = defaultName;\r\n            this.endOfInterval = System.currentTimeMillis()+10;\r\n            this.listOfResponses = new ArrayList&lt;&gt;(10);\r\n            this.listOfRequests = new CopyOnWriteArrayList&lt;&gt;();\r\n            this.blockingDelayQueue = new DelayQueue&lt;&gt;();\r\n        }\r\n    \r\n        @GET\r\n        @Timed\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Response sayHello(@QueryParam(&quot;name&quot;) Optional&lt;String&gt; name, @Context Response response) throws IOException, InterruptedException {\r\n            String message = String.format(template, name.orElse(defaultName));\r\n    \r\n    // In a certain thread\r\n            Long currentTimeStamp = System.currentTimeMillis();\r\n            Long timeLeftInMS = endOfInterval-currentTimeStamp;\r\n    \r\n            if (timeLeftInMS&lt;0 &amp;&amp; blockingDelayQueue.size() &gt; 0){\r\n                this.endOfInterval = System.currentTimeMillis()+10;\r\n                //drain ready requests\r\n                blockingDelayQueue.drainTo(listOfRequests);\r\n    \r\n                //Do some work, get a single result which is most like a list\r\n                List&lt;String&gt; listOfProcessedResponses = getProcessedMessage(this.listOfRequests);\r\n    \r\n                for (int j=0;j&lt; listOfProcessedResponses.size();j++){\r\n                   return Response\r\n                           .fromResponse(listOfResponses.get(j))\r\n                           .entity(listOfProcessedResponses.get(j))\r\n                           .build();\r\n                }\r\n                listOfProcessedResponses.clear();\r\n                listOfResponses.clear();\r\n    \r\n            }\r\n            else{\r\n                blockingDelayQueue.add(new ModifiedRequest(timeLeftInMS,message));\r\n                listOfResponses.add(response);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        public String modifyMessage(String message){\r\n            return &quot;I got the string&quot; + message + &quot;of size: &quot; + message.length();\r\n        }\r\n    \r\n        public List&lt;String&gt; getProcessedMessage(List&lt;ModifiedRequest&gt; requests){\r\n            List&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;();\r\n            for (int i =0; i&lt;requests.size(); i++){\r\n                listOfStrings.add(modifyMessage(requests.get(i).getMessage()));\r\n            }\r\n            return listOfStrings;\r\n        }\r\n    }\r\n\r\n\r\nFirst, this design has one serious flaw - I am waiting for 10 ms, if 9 requests come within 5 ms and the 10th one comes after an hour, then this would lead to starvation. What is the ideal way to overcome this scenario ? I am thinking of a cron job that periodically polls if a certain wait time has been exceeded, and start batching.\r\n\r\nSecond, the sayHello method is expecting a return value of Response just before the closing brace - how do we work around this? I need to send back responses to each of the waiting client from any thread that seems to hit the 10 ms mark.\r\n","title":"Handle batching of requests inside an endpoint method","body":"<p>I have a use case to collect requests from clients , batch them and then the combined request is to be sent for processing, with the result of processing to be having sent back to each of the clients.I would have to wait for about 10ms before batching - this is to be achieved using Dropwizard( Jersey for JAX-RS and Jetty as Web server)</p>\n<p>Since requests are handled by using a thread pool, my approach was to use a delay queue, as follows:</p>\n<pre><code>import javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.CopyOnWriteArrayList;\nimport java.util.concurrent.DelayQueue;    \n\n@Path(&quot;/helloworld&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic class HelloWorldResource {\n\n    private final String template;\n    private final String defaultName;\n    private Long endOfInterval;\n\n    private BlockingQueue&lt;ModifiedRequest&gt; blockingDelayQueue;\n    private List&lt;ModifiedRequest&gt; listOfRequests;\n    private ArrayList&lt;Response&gt; listOfResponses;\n\n    public HelloWorldResource(String template, String defaultName) {\n        this.template = template;\n        this.defaultName = defaultName;\n        this.endOfInterval = System.currentTimeMillis()+10;\n        this.listOfResponses = new ArrayList&lt;&gt;(10);\n        this.listOfRequests = new CopyOnWriteArrayList&lt;&gt;();\n        this.blockingDelayQueue = new DelayQueue&lt;&gt;();\n    }\n\n    @GET\n    @Timed\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response sayHello(@QueryParam(&quot;name&quot;) Optional&lt;String&gt; name, @Context Response response) throws IOException, InterruptedException {\n        String message = String.format(template, name.orElse(defaultName));\n\n// In a certain thread\n        Long currentTimeStamp = System.currentTimeMillis();\n        Long timeLeftInMS = endOfInterval-currentTimeStamp;\n\n        if (timeLeftInMS&lt;0 &amp;&amp; blockingDelayQueue.size() &gt; 0){\n            this.endOfInterval = System.currentTimeMillis()+10;\n            //drain ready requests\n            blockingDelayQueue.drainTo(listOfRequests);\n\n            //Do some work, get a single result which is most like a list\n            List&lt;String&gt; listOfProcessedResponses = getProcessedMessage(this.listOfRequests);\n\n            for (int j=0;j&lt; listOfProcessedResponses.size();j++){\n               return Response\n                       .fromResponse(listOfResponses.get(j))\n                       .entity(listOfProcessedResponses.get(j))\n                       .build();\n            }\n            listOfProcessedResponses.clear();\n            listOfResponses.clear();\n\n        }\n        else{\n            blockingDelayQueue.add(new ModifiedRequest(timeLeftInMS,message));\n            listOfResponses.add(response);\n        }\n\n\n    }\n\n    public String modifyMessage(String message){\n        return &quot;I got the string&quot; + message + &quot;of size: &quot; + message.length();\n    }\n\n    public List&lt;String&gt; getProcessedMessage(List&lt;ModifiedRequest&gt; requests){\n        List&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;();\n        for (int i =0; i&lt;requests.size(); i++){\n            listOfStrings.add(modifyMessage(requests.get(i).getMessage()));\n        }\n        return listOfStrings;\n    }\n}\n</code></pre>\n<p>First, this design has one serious flaw - I am waiting for 10 ms, if 9 requests come within 5 ms and the 10th one comes after an hour, then this would lead to starvation. What is the ideal way to overcome this scenario ? I am thinking of a cron job that periodically polls if a certain wait time has been exceeded, and start batching.</p>\n<p>Second, the sayHello method is expecting a return value of Response just before the closing brace - how do we work around this? I need to send back responses to each of the waiting client from any thread that seems to hit the 10 ms mark.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1696442021,"post_id":77231912,"comment_id":136154736,"body_markdown":"Do this enough, and you run out of memory unnecessarily.","body":"Do this enough, and you run out of memory unnecessarily."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1696442039,"post_id":77231912,"comment_id":136154743,"body_markdown":"The drawback of arrays is the problem about (re)sizing. If you need a more dynamic size, use a `List`.","body":"The drawback of arrays is the problem about (re)sizing. If you need a more dynamic size, use a <code>List</code>."},{"owner":{"account_id":29598786,"reputation":9,"user_id":22684750,"display_name":"bigpole"},"score":0,"creation_date":1696442214,"post_id":77231912,"comment_id":136154782,"body_markdown":"O.K I got it. I will try to use List. I was using dynamic arrays in C++ so I thought that I can make the same thing in Java :D","body":"O.K I got it. I will try to use List. I was using dynamic arrays in C++ so I thought that I can make the same thing in Java :D"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1696442609,"post_id":77231912,"comment_id":136154871,"body_markdown":"In fairness, you shouldn&#39;t be writing `new[]` in C++ either. You should be using statically-sized arrays, or an STL container if the size isn&#39;t known at compile-time.","body":"In fairness, you shouldn&#39;t be writing <code>new[]</code> in C++ either. You should be using statically-sized arrays, or an STL container if the size isn&#39;t known at compile-time."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696443018,"post_id":77231912,"comment_id":136154947,"body_markdown":"I don&#39;t understand the question. Your code example creates `array_char`, but doesn&#39;t use it. By the way, Java allows arrays with zero capacity. So, `array_char`, in your code, is effectively 5 instances of `char` arrays that hold no data.","body":"I don&#39;t understand the question. Your code example creates <code>array_char</code>, but doesn&#39;t use it. By the way, Java allows arrays with zero capacity. So, <code>array_char</code>, in your code, is effectively 5 instances of <code>char</code> arrays that hold no data."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696443093,"post_id":77231912,"comment_id":136154964,"body_markdown":"Java arrays are of fixed size. Once created, the size can&#39;t be changed. If you need to grow an array, you might [copy](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOf(char%5B%5D,int)) the content to a new array. But, an alternative to an array is a [Collection](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html), such as an [ArrayList](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html), which can increase its size when needed.","body":"Java arrays are of fixed size. Once created, the size can&#39;t be changed. If you need to grow an array, you might <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#copyOf(char%5B%5D,int)\" rel=\"nofollow noreferrer\">copy</a> the content to a new array. But, an alternative to an array is a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\">Collection</a>, such as an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a>, which can increase its size when needed."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1696444069,"post_id":77231912,"comment_id":136155128,"body_markdown":"The correct approach here is going to be `char[][] array_char = new char[5][];`, without specifying a length, and then setting `array_char[i] = array[i].toCharArray()` later on.","body":"The correct approach here is going to be <code>char[][] array_char = new char[5][];</code>, without specifying a length, and then setting <code>array_char[i] = array[i].toCharArray()</code> later on."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1696448101,"post_id":77231912,"comment_id":136155851,"body_markdown":"In fact `String` internally holds some `byte[]` or `char[]` array (version dependent), such that you can simply use `String` to reference the values you need. So `array[i].charAt(k)` will get the `k+1`th character of the `i+1`th `String` in the array. Note that unlike C++, `String` is not default-constructed to an empty value, so the contents of `String[] array` are a series of `null` values. In short, no need to make `array_char` at all, or you can just populate using `#toCharArray` per @LouisWasserman","body":"In fact <code>String</code> internally holds some <code>byte[]</code> or <code>char[]</code> array (version dependent), such that you can simply use <code>String</code> to reference the values you need. So <code>array[i].charAt(k)</code> will get the <code>k+1</code>th character of the <code>i+1</code>th <code>String</code> in the array. Note that unlike C++, <code>String</code> is not default-constructed to an empty value, so the contents of <code>String[] array</code> are a series of <code>null</code> values. In short, no need to make <code>array_char</code> at all, or you can just populate using <code>#toCharArray</code> per @LouisWasserman"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696447455,"creation_date":1696447455,"answer_id":77232425,"question_id":77231912,"body_markdown":"If you don&#39;t know how big your array should be up front, you should probably use a data structure that grows with demand, such as `ArrayList`. That will take care of all internal arrays and memory for you, and you won&#39;t need to worry about allocating too much or too little.","title":"How Java manages with default array value in memory?","body":"<p>If you don't know how big your array should be up front, you should probably use a data structure that grows with demand, such as <code>ArrayList</code>. That will take care of all internal arrays and memory for you, and you won't need to worry about allocating too much or too little.</p>\n"}],"owner":{"account_id":29598786,"reputation":9,"user_id":22684750,"display_name":"bigpole"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1696447455,"creation_date":1696441880,"question_id":77231912,"body_markdown":"I am making some array exercises and I am thinking, is it not a bad thing to put a big number, which makes me sure that my array is not too small, for some written String by user? Is it the same problem as in C++?\r\n\r\n    import java.util.Scanner;\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] array = new String [5];\r\n    \t\tint letters = 0;\r\n    \t\tchar[][] array_char = new char [5][letters]; //how to be precise?\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tfor (int i = 0; i &lt; 5; i++) {\r\n    \t\t\tarray[i] = scanner.nextLine();\r\n    \t\t}\r\n\r\nI am also going to use charAt method to make char2d array for these 5 words.","title":"How Java manages with default array value in memory?","body":"<p>I am making some array exercises and I am thinking, is it not a bad thing to put a big number, which makes me sure that my array is not too small, for some written String by user? Is it the same problem as in C++?</p>\n<pre><code>import java.util.Scanner;\npublic class Main {\n\n    public static void main(String[] args) {\n        String[] array = new String [5];\n        int letters = 0;\n        char[][] array_char = new char [5][letters]; //how to be precise?\n        Scanner scanner = new Scanner(System.in);\n        for (int i = 0; i &lt; 5; i++) {\n            array[i] = scanner.nextLine();\n        }\n</code></pre>\n<p>I am also going to use charAt method to make char2d array for these 5 words.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1441111637,"post_id":32332033,"comment_id":52538177,"body_markdown":"It can be done, but it would be a very poor example of multithreading.","body":"It can be done, but it would be a very poor example of multithreading."},{"owner":{"account_id":6882085,"reputation":21,"user_id":5288490,"display_name":"Fulcum"},"score":0,"creation_date":1441111945,"post_id":32332033,"comment_id":52538428,"body_markdown":"i am trying to understand the advantage of threads. i mostly see the printing values in a loop example which is not very enlightening. i was asked a similar question in an interview.","body":"i am trying to understand the advantage of threads. i mostly see the printing values in a loop example which is not very enlightening. i was asked a similar question in an interview."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1441112096,"post_id":32332033,"comment_id":52538550,"body_markdown":"threads that block each other while printing out the values not give you any advantage of using threads.","body":"threads that block each other while printing out the values not give you any advantage of using threads."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1441113206,"post_id":32332033,"comment_id":52539402,"body_markdown":"&quot;real time&quot; = consistent latency, &quot;real world&quot; = a practical example.","body":"&quot;real time&quot; = consistent latency, &quot;real world&quot; = a practical example."}],"answers":[{"tags":[],"owner":{"account_id":2021263,"reputation":2451,"user_id":1807373,"accept_rate":75,"display_name":"Houssam Badri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1441112132,"creation_date":1441112132,"answer_id":32332247,"question_id":32332033,"body_markdown":"I hope you are looking for something like that:\r\n\r\n    public class MaltiThreadExample {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));\r\n    \r\n            for (int i : list) {\r\n                Thread th = new Thread() {\r\n                    @Override\r\n                    public void run() {\r\n                        System.out.println(i);\r\n                    }\r\n                };\r\n                th.start();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe output is for one execution:\r\n\r\n    run:\r\n    3\r\n    1\r\n    2\r\n    BUILD SUCCESSFUL (total time: 0 seconds)","title":"Java Thread: Real Time Application Example","body":"<p>I hope you are looking for something like that:</p>\n\n<pre><code>public class MaltiThreadExample {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));\n\n        for (int i : list) {\n            Thread th = new Thread() {\n                @Override\n                public void run() {\n                    System.out.println(i);\n                }\n            };\n            th.start();\n        }\n    }\n\n}\n</code></pre>\n\n<p>The output is for one execution:</p>\n\n<pre><code>run:\n3\n1\n2\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441112309,"creation_date":1441112309,"answer_id":32332308,"question_id":32332033,"body_markdown":"Yes, it is a typical _producer-consumer_ paradigm:\r\n\r\nImagine a Runnable class who receives an Iterator as parameter, and waits over a certain monitor, and then consumes one item from the iterator, and last notifies the same monitor. Loops while the iterator has more items.\r\n\r\nUpon this, it will be enough to create the list of numbers, create the consumer threads passing them the list&#39;s iterator, and start them.\r\n","title":"Java Thread: Real Time Application Example","body":"<p>Yes, it is a typical <em>producer-consumer</em> paradigm:</p>\n\n<p>Imagine a Runnable class who receives an Iterator as parameter, and waits over a certain monitor, and then consumes one item from the iterator, and last notifies the same monitor. Loops while the iterator has more items.</p>\n\n<p>Upon this, it will be enough to create the list of numbers, create the consumer threads passing them the list's iterator, and start them.</p>\n"},{"tags":[],"owner":{"account_id":348704,"reputation":830,"user_id":683551,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441115675,"creation_date":1441115675,"answer_id":32333534,"question_id":32332033,"body_markdown":"The code below is not tested at all. It&#39;s just something that comes into mind. The last implementation using parallelStream() might be what you are looking for.\r\n\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            final List&lt;Integer&gt; myIntegerList = Arrays.asList(1, 2, 3);\r\n            \r\n            // Good old for-each-loop\r\n            for (Integer item : myIntegerList) {\r\n                System.out.print(item);\r\n            }\r\n    \r\n            // Java 8 forEach with Consumer\r\n            final Consumer&lt;Integer&gt; consumer = new Consumer&lt;Integer&gt;() {\r\n                @Override\r\n                public void accept(Integer item) {\r\n                    System.out.print(item);\r\n                }\r\n            };\r\n    \r\n            myIntegerList.forEach(consumer);\r\n            \r\n            // Java 8 forEach with Lambda\r\n            myIntegerList.forEach((item) -&gt; System.out.print(item));\r\n            \r\n            // Java 8 forEach on parallelStream with Lambda\r\n            myIntegerList.parallelStream().forEach((item) -&gt; System.out.print(item));\r\n        }\r\n    }","title":"Java Thread: Real Time Application Example","body":"<p>The code below is not tested at all. It's just something that comes into mind. The last implementation using parallelStream() might be what you are looking for.</p>\n\n<pre><code>public class DemoApplication {\n\n    public static void main(String[] args) {\n        final List&lt;Integer&gt; myIntegerList = Arrays.asList(1, 2, 3);\n\n        // Good old for-each-loop\n        for (Integer item : myIntegerList) {\n            System.out.print(item);\n        }\n\n        // Java 8 forEach with Consumer\n        final Consumer&lt;Integer&gt; consumer = new Consumer&lt;Integer&gt;() {\n            @Override\n            public void accept(Integer item) {\n                System.out.print(item);\n            }\n        };\n\n        myIntegerList.forEach(consumer);\n\n        // Java 8 forEach with Lambda\n        myIntegerList.forEach((item) -&gt; System.out.print(item));\n\n        // Java 8 forEach on parallelStream with Lambda\n        myIntegerList.parallelStream().forEach((item) -&gt; System.out.print(item));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441117569,"creation_date":1441117569,"answer_id":32334206,"question_id":32332033,"body_markdown":"&gt; i am trying to understand the advantage of threads.\r\n\r\nThere are basically two reasons for using multiple threads in a program:\r\n\r\n**(1) Asynchronous event handling:**  Imagine a program that must wait for and respond to several different kinds of input, and each kind of input can happen at completely arbitrary times.\r\n\r\nBefore threads, we used to write a big _event loop_, that would _poll_ for each different kind of _event_, and then _dispatch_ to different _handler_ functions.  Things could start to get ugly when one or more of the event handlers was _stateful_ (i.e., what it did next would depend on the history of previous events.)\r\n\r\nA program that has one thread for each different kind of event often is much cleaner.  That is to say, it&#39;s easier to understand, easier to modify, etc.  Each thread loops waiting for just one kind of event, and its state (if any) can be kept in local variables, or its state can be implicit (i.e., depends on what function the thread is in at any given time).\r\n\r\n(**2) Multiprocessing** (a.k.a., &quot;parallel processing&quot;, &quot;concurrent programming&quot;,...):  Using _worker threads_ to perform _background computations_ probably is the most widespread model of multiprocessing in use at this moment in time.\r\n\r\nMultithreading is the lowest-level of all multiprocessing models which means (a) it is the hardest to understand, but (b) it is the most versatile.","title":"Java Thread: Real Time Application Example","body":"<blockquote>\n  <p>i am trying to understand the advantage of threads.</p>\n</blockquote>\n\n<p>There are basically two reasons for using multiple threads in a program:</p>\n\n<p><strong>(1) Asynchronous event handling:</strong>  Imagine a program that must wait for and respond to several different kinds of input, and each kind of input can happen at completely arbitrary times.</p>\n\n<p>Before threads, we used to write a big <em>event loop</em>, that would <em>poll</em> for each different kind of <em>event</em>, and then <em>dispatch</em> to different <em>handler</em> functions.  Things could start to get ugly when one or more of the event handlers was <em>stateful</em> (i.e., what it did next would depend on the history of previous events.)</p>\n\n<p>A program that has one thread for each different kind of event often is much cleaner.  That is to say, it's easier to understand, easier to modify, etc.  Each thread loops waiting for just one kind of event, and its state (if any) can be kept in local variables, or its state can be implicit (i.e., depends on what function the thread is in at any given time).</p>\n\n<p>(<strong>2) Multiprocessing</strong> (a.k.a., \"parallel processing\", \"concurrent programming\",...):  Using <em>worker threads</em> to perform <em>background computations</em> probably is the most widespread model of multiprocessing in use at this moment in time.</p>\n\n<p>Multithreading is the lowest-level of all multiprocessing models which means (a) it is the hardest to understand, but (b) it is the most versatile.</p>\n"},{"tags":[],"owner":{"account_id":21526676,"reputation":21,"user_id":15866832,"display_name":"Bhanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620756869,"creation_date":1620756869,"answer_id":67492268,"question_id":32332033,"body_markdown":"It can be done. We can make use of concurrenthashmap. We can add the list to this map and pass it to the threads. Each thread will try to get the lock on the resource to operate.","title":"Java Thread: Real Time Application Example","body":"<p>It can be done. We can make use of concurrenthashmap. We can add the list to this map and pass it to the threads. Each thread will try to get the lock on the resource to operate.</p>\n"}],"owner":{"account_id":6882085,"reputation":21,"user_id":5288490,"display_name":"Fulcum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12984,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1696446100,"creation_date":1441111563,"question_id":32332033,"body_markdown":"I was asked a question in an interview, where i have list available in the main method and and i was told there is some operation to be performed on each item in the list, how would i achieve this using threads concept.\r\nConsider the following scenario:\r\nI have a list of integers. I need to print all the values from the list. Can it be done using threads concept where i have multiple threads running on each item in the list and where each thread is used to print out a value rather than one thread printing all the values? I am not trying to modify any value in the list. ","title":"Java Thread: Real Time Application Example","body":"<p>I was asked a question in an interview, where i have list available in the main method and and i was told there is some operation to be performed on each item in the list, how would i achieve this using threads concept.\nConsider the following scenario:\nI have a list of integers. I need to print all the values from the list. Can it be done using threads concept where i have multiple threads running on each item in the list and where each thread is used to print out a value rather than one thread printing all the values? I am not trying to modify any value in the list. </p>\n"},{"tags":["java","telegram","telegram-bot","gif"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1696458052,"post_id":77232257,"comment_id":136157299,"body_markdown":"_&quot;the file weighs 600KB&quot;_ -- what makes you say that?  Your screenshot says 18.9KB.","body":"<i>&quot;the file weighs 600KB&quot;</i> -- what makes you say that?  Your screenshot says 18.9KB."},{"owner":{"account_id":11470323,"reputation":13,"user_id":10607932,"display_name":"Omar Kudaiberdiev"},"score":0,"creation_date":1696471743,"post_id":77232257,"comment_id":136158344,"body_markdown":"Actual GIF file is 600KB. After that, telegram compresses and converts to webm format. Thus, now it is 18.9KB.","body":"Actual GIF file is 600KB. After that, telegram compresses and converts to webm format. Thus, now it is 18.9KB."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1696551265,"post_id":77232257,"comment_id":136171289,"body_markdown":"OK, so what is the question? You want Telegram to send it uncompressed as the original .gif?  The question is unclear.","body":"OK, so what is the question? You want Telegram to send it uncompressed as the original .gif?  The question is unclear."}],"owner":{"account_id":11470323,"reputation":13,"user_id":10607932,"display_name":"Omar Kudaiberdiev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696445378,"creation_date":1696445378,"question_id":77232257,"body_markdown":"I am trying to send a GIF file to a user in a telegram bot. However, instead of a GIF file, telegram sends WEBM format. I think it is for optimization purposes. But, the file weighs 600KB.\r\n\r\n    \r\n```\r\nprivate void sendDocument(FaceSwapperResponseDto image, String chatId) {\r\n        BotInitialize bot = LegramContextHolder.getContext().getBot();\r\n        String filePath = &quot;file.gif&quot;;\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(filePath);\r\n            fos.write(image.getImageBytes());\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        File file = new File(&quot;file.gif&quot;);\r\n\r\n        SendAnimation animation = new SendAnimation();\r\n        animation.setChatId(chatId);\r\n        animation.setAnimation(new InputFile(file));\r\n        bot.execute(animation);\r\n    }\r\n```\r\n\r\nI tried sendDocument, sendAnimation but, I am still receiving a file in incorrect format.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xF0Sp.jpg","title":"Why does Telegram bot automatically convert GIF to WEBM format?","body":"<p>I am trying to send a GIF file to a user in a telegram bot. However, instead of a GIF file, telegram sends WEBM format. I think it is for optimization purposes. But, the file weighs 600KB.</p>\n<pre><code>private void sendDocument(FaceSwapperResponseDto image, String chatId) {\n        BotInitialize bot = LegramContextHolder.getContext().getBot();\n        String filePath = &quot;file.gif&quot;;\n        try {\n            FileOutputStream fos = new FileOutputStream(filePath);\n            fos.write(image.getImageBytes());\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        File file = new File(&quot;file.gif&quot;);\n\n        SendAnimation animation = new SendAnimation();\n        animation.setChatId(chatId);\n        animation.setAnimation(new InputFile(file));\n        bot.execute(animation);\n    }\n</code></pre>\n<p>I tried sendDocument, sendAnimation but, I am still receiving a file in incorrect format.</p>\n<p><a href=\"https://i.stack.imgur.com/xF0Sp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xF0Sp.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":11603822,"reputation":48,"user_id":11713846,"display_name":"Gustavo Cruz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696445271,"creation_date":1696445271,"answer_id":77232245,"question_id":77218339,"body_markdown":"I had a similar problem and I solved it by changing my **application.yaml** file. Before it was like this:\r\n\r\n    eureka:\r\n       client:\r\n         service-url:\r\n           default-zone: http://eureka:password@localhost:8761/eureka\r\n\r\nAnd I changed it to:\r\n\r\n    eureka:\r\n       client:\r\n         serviceUrl:\r\n           defaultZone: http://eureka:password@localhost:8761/eureka","title":"Eureka client can not register to Eureka server with user/pass","body":"<p>I had a similar problem and I solved it by changing my <strong>application.yaml</strong> file. Before it was like this:</p>\n<pre><code>eureka:\n   client:\n     service-url:\n       default-zone: http://eureka:password@localhost:8761/eureka\n</code></pre>\n<p>And I changed it to:</p>\n<pre><code>eureka:\n   client:\n     serviceUrl:\n       defaultZone: http://eureka:password@localhost:8761/eureka\n</code></pre>\n"}],"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77232245,"answer_count":1,"score":1,"last_activity_date":1696445271,"creation_date":1696278664,"question_id":77218339,"body_markdown":"Versions:\r\n\r\n1. Spring Security: 6.1.4\r\n2. Spring Boot: 3.1.4\r\n3. Spring Clound: 2022.0.4\r\n\r\nUser needs to login to access Eureka Server&#39;s dashboard. So, I configured spring security for Eureka server like below.\r\n\r\nEureka Server:\r\n\r\nConfig:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Value(&quot;${app.eureka.username}&quot;)\r\n    private String username;\r\n    @Value(&quot;${app.eureka.password}&quot;)\r\n    private String password;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(csrf-&gt;csrf.ignoringRequestMatchers(&quot;/eureka/**&quot;))\r\n                .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\r\n                .httpBasic(Customizer.withDefaults())\r\n                .formLogin(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n        UserDetails user = User\r\n                .withUsername(username)\r\n                .password(encoder.encode(password))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\nMain app:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableEurekaServer\r\npublic class DiscoveryServerApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DiscoveryServerApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\neureka.instance.hostname=localhost\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\n\r\nserver.port=8761\r\napp.eureka.username=eureka\r\napp.eureka.password=password\r\n```\r\n\r\nI have one service: product-service\r\n\r\nMain app:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableDiscoveryClient\r\npublic class ProductServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ProductServiceApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.data.mongodb.uri=mongodb://127.0.0.1:27017/product\r\n\r\neureka.client.service-url.defautZone=http://eureka:password@localhost:8761/eureka\r\neureka.client.fetch-registry=true\r\neureka.client.register-with-eureka=true\r\neureka.instance.prefer-ip-address=true\r\nspring.application.name=product-service\r\nserver.port=8080\r\n```\r\n\r\nMy system works fine if I remove auth layer from eureka server and change `eureka.client.service-url.defautZone` back to `http:/localhost:8761/eureka`.\r\n\r\nThe full error message:\r\n\r\n```none\r\n2023-10-03T03:05:39.446+07:00 ERROR 36620 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/host.docker.internal:product-service:8080 - was unable to send heartbeat!\r\n\r\ncom.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\r\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.1.jar:2.0.1]\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.1.jar:2.0.1]\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.1.jar:2.0.1]\r\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-2.0.1.jar:2.0.1]\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.1.jar:2.0.1]\r\n\tat com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:837) ~[eureka-client-2.0.1.jar:2.0.1]\r\n\tat com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1401) ~[eureka-client-2.0.1.jar:2.0.1]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nHow can I solve this problem?\r\n\r\nI have found some questions on Stack Overflow that have same as my situation. But there are two cases:\r\n\r\n1. The solution is not suitable for my version (normally, it&#39;s an old version):\r\n\r\n   - https://stackoverflow.com/questions/50971891/how-to-secure-spring-cloud-eureka-service-with-basic-auth\r\n   - https://howtodoinjava.com/spring-boot2/security-rest-basic-auth-example/\r\n\r\n2. The solution does not resolve my problem properly:\r\n\r\n   - https://stackoverflow.com/questions/74761559/springboot-3-eureka-registry-server-username-password-registration-problem\r\n   - https://stackoverflow.com/questions/29267443/spring-cloud-eureka-server-example-login-challenge?rq=3\r\n   - https://stackoverflow.com/questions/36605508/not-able-to-register-a-service-as-eureka-client?rq=3\r\n   - https://stackoverflow.com/questions/44108609/unable-to-register-client-to-eureka-server?rq=3\r\n   - https://stackoverflow.com/questions/53702627/unable-to-register-services-to-the-discovery-server-eureka?rq=3\r\n   - https://stackoverflow.com/questions/60503707/spring-eureka-asks-for-username-password-authentication?rq=3","title":"Eureka client can not register to Eureka server with user/pass","body":"<p>Versions:</p>\n<ol>\n<li>Spring Security: 6.1.4</li>\n<li>Spring Boot: 3.1.4</li>\n<li>Spring Clound: 2022.0.4</li>\n</ol>\n<p>User needs to login to access Eureka Server's dashboard. So, I configured spring security for Eureka server like below.</p>\n<p>Eureka Server:</p>\n<p>Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Value(&quot;${app.eureka.username}&quot;)\n    private String username;\n    @Value(&quot;${app.eureka.password}&quot;)\n    private String password;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(csrf-&gt;csrf.ignoringRequestMatchers(&quot;/eureka/**&quot;))\n                .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n        UserDetails user = User\n                .withUsername(username)\n                .password(encoder.encode(password))\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>Main app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableEurekaServer\npublic class DiscoveryServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DiscoveryServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>eureka.instance.hostname=localhost\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\n\nserver.port=8761\napp.eureka.username=eureka\napp.eureka.password=password\n</code></pre>\n<p>I have one service: product-service</p>\n<p>Main app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableDiscoveryClient\npublic class ProductServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProductServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://127.0.0.1:27017/product\n\neureka.client.service-url.defautZone=http://eureka:password@localhost:8761/eureka\neureka.client.fetch-registry=true\neureka.client.register-with-eureka=true\neureka.instance.prefer-ip-address=true\nspring.application.name=product-service\nserver.port=8080\n</code></pre>\n<p>My system works fine if I remove auth layer from eureka server and change <code>eureka.client.service-url.defautZone</code> back to <code>http:/localhost:8761/eureka</code>.</p>\n<p>The full error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-10-03T03:05:39.446+07:00 ERROR 36620 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PRODUCT-SERVICE/host.docker.internal:product-service:8080 - was unable to send heartbeat!\n\ncom.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.1.jar:2.0.1]\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.1.jar:2.0.1]\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.1.jar:2.0.1]\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-2.0.1.jar:2.0.1]\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.1.jar:2.0.1]\n    at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:837) ~[eureka-client-2.0.1.jar:2.0.1]\n    at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1401) ~[eureka-client-2.0.1.jar:2.0.1]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>How can I solve this problem?</p>\n<p>I have found some questions on Stack Overflow that have same as my situation. But there are two cases:</p>\n<ol>\n<li><p>The solution is not suitable for my version (normally, it's an old version):</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50971891/how-to-secure-spring-cloud-eureka-service-with-basic-auth\">How to secure spring cloud eureka service with basic auth?</a></li>\n<li><a href=\"https://howtodoinjava.com/spring-boot2/security-rest-basic-auth-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/security-rest-basic-auth-example/</a></li>\n</ul>\n</li>\n<li><p>The solution does not resolve my problem properly:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/74761559/springboot-3-eureka-registry-server-username-password-registration-problem\">-SpringBoot 3 -Eureka registry server -(username &amp; password registration problem)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29267443/spring-cloud-eureka-server-example-login-challenge?rq=3\">spring cloud eureka server example login challenge</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36605508/not-able-to-register-a-service-as-eureka-client?rq=3\">Not able to register a service as Eureka Client</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44108609/unable-to-register-client-to-eureka-server?rq=3\">Unable to register client to eureka server</a></li>\n<li><a href=\"https://stackoverflow.com/questions/53702627/unable-to-register-services-to-the-discovery-server-eureka?rq=3\">Unable to register services to the discovery server (EUREKA)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/60503707/spring-eureka-asks-for-username-password-authentication?rq=3\">Spring Eureka asks for username password authentication</a></li>\n</ul>\n</li>\n</ol>\n"},{"tags":["java","inheritance"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696445142,"creation_date":1696445142,"answer_id":77232228,"question_id":77232194,"body_markdown":"Effective Java, one of the most widely recommended books on how to design good Java code, recommends the following &quot;professional approach&quot; in Item 19, on page 95 of its third edition:\r\n\r\n&gt; There are a few more restrictions that a class must obey to allow inheritance.\r\n**Constructors must not invoke overridable methods, directly or indirectly.**\r\n\r\nThe implication from this is that there are three possibilities:\r\n\r\n* Do not allow a class to be extended at all.\r\n* Call no methods from its constructor.\r\n* Call only `final` methods from its constructor.","title":"Java Problem with proper field initialization in an inheriting class","body":"<p>Effective Java, one of the most widely recommended books on how to design good Java code, recommends the following &quot;professional approach&quot; in Item 19, on page 95 of its third edition:</p>\n<blockquote>\n<p>There are a few more restrictions that a class must obey to allow inheritance.\n<strong>Constructors must not invoke overridable methods, directly or indirectly.</strong></p>\n</blockquote>\n<p>The implication from this is that there are three possibilities:</p>\n<ul>\n<li>Do not allow a class to be extended at all.</li>\n<li>Call no methods from its constructor.</li>\n<li>Call only <code>final</code> methods from its constructor.</li>\n</ul>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696447160,"answer_count":1,"score":0,"last_activity_date":1696445142,"creation_date":1696444771,"question_id":77232194,"body_markdown":"I have an abstract base class called Entity. A certain method is called in the constructor of this class as in the following example:\r\n\r\n    public abstract class Entity {\r\n        public Entity() {\r\n            doSomething();\r\n        }\r\n    \r\n        protected void doSomething() {\r\n            // ...\r\n        }\r\n    }\r\n\r\nThe Entity class is inherited by other classes. My problem is that inheriting classes that override a given method require access to certain fields of that class. Unfortunately, when the method is called, these fields are not initialized yet:\r\n\r\n    public class Player extends Entity {\r\n        private final String name;\r\n    \r\n        public Player(String name) {\r\n            super();\r\n    \r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        protected void doSomething() {\r\n            super.doSomething();\r\n    \r\n            System.out.println(&quot;Name: &quot; + name); // &lt;--- This isn&#39;t working properly\r\n        }\r\n    }\r\n\r\nIn the example above, when &quot;doSomething()&quot; was called, the &quot;name&quot; field had not yet been assigned a value. Theoretically, you can call the method in any constructor of inheriting classes, but this raises some doubts. I am looking for a professional approach to solving this problem. I will be glad for help.","title":"Java Problem with proper field initialization in an inheriting class","body":"<p>I have an abstract base class called Entity. A certain method is called in the constructor of this class as in the following example:</p>\n<pre><code>public abstract class Entity {\n    public Entity() {\n        doSomething();\n    }\n\n    protected void doSomething() {\n        // ...\n    }\n}\n</code></pre>\n<p>The Entity class is inherited by other classes. My problem is that inheriting classes that override a given method require access to certain fields of that class. Unfortunately, when the method is called, these fields are not initialized yet:</p>\n<pre><code>public class Player extends Entity {\n    private final String name;\n\n    public Player(String name) {\n        super();\n\n        this.name = name;\n    }\n\n    @Override\n    protected void doSomething() {\n        super.doSomething();\n\n        System.out.println(&quot;Name: &quot; + name); // &lt;--- This isn't working properly\n    }\n}\n</code></pre>\n<p>In the example above, when &quot;doSomething()&quot; was called, the &quot;name&quot; field had not yet been assigned a value. Theoretically, you can call the method in any constructor of inheriting classes, but this raises some doubts. I am looking for a professional approach to solving this problem. I will be glad for help.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696408576,"post_id":77218319,"comment_id":136147572,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696279936,"creation_date":1696279936,"answer_id":77218421,"question_id":77218319,"body_markdown":"Save values to shared preferences when the user fills them in Activity 1.\r\n\r\n    SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyApp&quot;, MODE_PRIVATE);\r\n    SharedPreferences.Editor editor = sharedPreferences.edit();\r\n    \r\n    // Save your values\r\n    editor.putString(&quot;keyName&quot;, &quot;value&quot;);\r\n    // ... save other values ...\r\n    \r\n    // Apply the changes\r\n    editor.apply();\r\n\r\ncreate another value for the the user complete with activity 1\r\n\r\n    editor.putBoolean(&quot;Activity1Complete&quot;, true);\r\n    editor.apply();\r\n\r\nin your mainActivity check the valued\r\n\r\n    SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyApp&quot;, MODE_PRIVATE);\r\n    boolean isActivity1Complete = sharedPreferences.getBoolean(&quot;Activity1Complete&quot;, false);\r\n    \r\n    if (isActivity1Complete) {\r\n        // Start Activity 2\r\n        Intent intent = new Intent(this, Activity2.class);\r\n        // If you stored values from Activity 1 in shared preferences, retrieve them here and pass them with the intent\r\n        String value = sharedPreferences.getString(&quot;keyName&quot;, &quot;&quot;);\r\n        intent.putExtra(&quot;keyName&quot;, value);\r\n        startActivity(intent);\r\n        finish(); // This will close the launcher activity so that when the user presses the back button they won&#39;t come back to the launcher\r\n    } else {\r\n        // Start Activity 1\r\n    }\r\n\r\n","title":"After putting values in MainActivitiy , how to make when opening the app to open the SecondActivity with the data saved from main activity?","body":"<p>Save values to shared preferences when the user fills them in Activity 1.</p>\n<pre><code>SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyApp&quot;, MODE_PRIVATE);\nSharedPreferences.Editor editor = sharedPreferences.edit();\n\n// Save your values\neditor.putString(&quot;keyName&quot;, &quot;value&quot;);\n// ... save other values ...\n\n// Apply the changes\neditor.apply();\n</code></pre>\n<p>create another value for the the user complete with activity 1</p>\n<pre><code>editor.putBoolean(&quot;Activity1Complete&quot;, true);\neditor.apply();\n</code></pre>\n<p>in your mainActivity check the valued</p>\n<pre><code>SharedPreferences sharedPreferences = getSharedPreferences(&quot;MyApp&quot;, MODE_PRIVATE);\nboolean isActivity1Complete = sharedPreferences.getBoolean(&quot;Activity1Complete&quot;, false);\n\nif (isActivity1Complete) {\n    // Start Activity 2\n    Intent intent = new Intent(this, Activity2.class);\n    // If you stored values from Activity 1 in shared preferences, retrieve them here and pass them with the intent\n    String value = sharedPreferences.getString(&quot;keyName&quot;, &quot;&quot;);\n    intent.putExtra(&quot;keyName&quot;, value);\n    startActivity(intent);\n    finish(); // This will close the launcher activity so that when the user presses the back button they won't come back to the launcher\n} else {\n    // Start Activity 1\n}\n</code></pre>\n"}],"owner":{"account_id":29443823,"reputation":15,"user_id":22561547,"display_name":"VGoychev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77218421,"answer_count":1,"score":0,"last_activity_date":1696444931,"creation_date":1696278378,"question_id":77218319,"body_markdown":"Do you know how to make for example : after putting some values to the activity(1) , you close the app and then reopen it and it starts on the next activity(2) with a saved information of the values from activity(1)?\r\n\r\nI managed to transfer values after writing down in EditText in activity(1) and after clicking a button to transfer to activity(2) + transferring the values from activity(1) aswell.\r\n\r\nThis is my code in MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    EditText enterHeight, enterWeight, enterAge;\r\n\r\n    private double height;\r\n    private double weight;\r\n    private double age;\r\n    String selectedRadiobut;\r\n    Button button;\r\n    RadioButton radioMale, radioFemale;\r\n    RadioGroup radioGroup;\r\n    SharedPreferences sp;\r\n    private boolean heightIsValid() {\r\n\r\n        if (enterHeight.getText().toString().length() == 0) {\r\n            enterHeight.setError(&quot;Cant be empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        double height = Double.valueOf(enterHeight.getText().toString());\r\n\r\n        if (height &lt;= 0) {\r\n\r\n            enterHeight.setError(&quot;Cant be zero&quot;);\r\n            return false;\r\n        }\r\n        if (height &lt;= 40 || height &gt; 250) {\r\n\r\n            enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    private boolean weightIsValid() {\r\n        if (enterWeight.getText().toString().length() == 0) {\r\n            enterWeight.setError(&quot;Cant be empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        double weight = Double.valueOf(enterWeight.getText().toString());\r\n\r\n        if (weight &lt;= 0) {\r\n\r\n            enterWeight.setError(&quot;Cant be zero&quot;);\r\n            return false;\r\n        }\r\n        if (weight &gt; 600) {\r\n\r\n            enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    private boolean ageIsValid() {\r\n        if (enterAge.getText().toString().length() == 0) {\r\n            enterAge.setError(&quot;Cant be empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        double age = Double.valueOf(enterAge.getText().toString());\r\n\r\n        if (age &lt;= 0) {\r\n\r\n            enterAge.setError(&quot;Cant be zero&quot;);\r\n            return false;\r\n        }\r\n        if (age &gt; 116) {\r\n\r\n            enterAge.setError(&quot;Cant be older than 116 years&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    private boolean genderIsSelected() {\r\n\r\n        if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\r\n            Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\r\n            toast.show();\r\n            return false;\r\n        }\r\n        if (radioMale.isChecked()) {\r\n            selectedRadiobut = radioMale.getText().toString();\r\n        }\r\n        else if (radioFemale.isChecked()) {\r\n            selectedRadiobut = radioFemale.getText().toString();\r\n        }\r\n        return true;\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\r\n\r\n        radioMale = (RadioButton) findViewById(R.id.radioMale);\r\n        radioFemale = (RadioButton) findViewById(R.id.radioFemale);\r\n        button = (Button) findViewById(R.id.button);\r\n        enterHeight = (EditText) findViewById(R.id.enterHeight);\r\n        enterWeight = (EditText) findViewById(R.id.enterWeight);\r\n        enterAge = (EditText) findViewById(R.id.enterAge);\r\n        radioGroup = (RadioGroup) findViewById(R.id.radioSex);\r\n\r\n        sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n\r\n                if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\r\n\r\n                    height = Double.valueOf(enterHeight.getText().toString());\r\n                    weight = Double.valueOf(enterWeight.getText().toString());\r\n                    age = Double.valueOf(enterAge.getText().toString());\r\n\r\n                    SharedPreferences.Editor editor = sp.edit();\r\n                    editor.putString(&quot;height&quot; , String.valueOf(Integer.valueOf((int) height)));\r\n                    editor.putString(&quot;weight&quot; , String.valueOf(Integer.valueOf((int) weight)));\r\n                    editor.putString(&quot;age&quot; , String.valueOf(Integer.valueOf((int) age)));\r\n                    editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\r\n                    editor.commit();\r\n\r\n                    InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\r\n                    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n                    Intent intent = new Intent(MainActivity.this, MainMenu.class);\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nThis is my second activity: \r\n\r\n    public class MainMenu extends AppCompatActivity {\r\n    Button  btnMC , btnFN , btnRec , btnGuides;\r\n        public void btnStepClick(View view) {\r\n            Intent intent = new Intent(this, StepCounter.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnCalClick(View view) {\r\n            Intent intent = new Intent(this, MacrosCalculator.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnRecClick(View view){\r\n            Intent intent = new Intent(this, Recipes.class);\r\n            startActivity(intent);\r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_main_menu);\r\n            TextView age1 , height1 , weight1 , gender1;\r\n    \r\n            age1 = (TextView) findViewById(R.id.age1);\r\n            height1 = (TextView) findViewById(R.id.height1);\r\n            weight1 = (TextView) findViewById(R.id.weight1);\r\n            gender1 = (TextView) findViewById(R.id.gender1);\r\n            btnMC = (Button) findViewById(R.id.btnMC);\r\n            btnFN = (Button) findViewById(R.id.btnFN);\r\n            btnRec = (Button) findViewById(R.id.btnRec);\r\n            btnGuides = (Button) findViewById(R.id.btnGuides);\r\n    \r\n            SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n            String height = sp.getString(&quot;height&quot; , &quot;&quot;);\r\n            String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\r\n            String age = sp.getString(&quot;age&quot; , &quot;&quot;);\r\n            String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\r\n    \r\n            gender1.setText(&quot;Gender: &quot; + gender);\r\n            age1.setText(&quot;Age: &quot; + age);\r\n            height1.setText(&quot;Height(cm): &quot; + height);\r\n            weight1.setText(&quot;Weight(kg): &quot; + weight);\r\n    \r\n    \r\n        }\r\n    }\r\nSo how to make it after putting values in Height, Weight, Age and Gender and closing the app after opening it again to start on the Activity 2 with the values that you putted in the previous start of the application? :D","title":"After putting values in MainActivitiy , how to make when opening the app to open the SecondActivity with the data saved from main activity?","body":"<p>Do you know how to make for example : after putting some values to the activity(1) , you close the app and then reopen it and it starts on the next activity(2) with a saved information of the values from activity(1)?</p>\n<p>I managed to transfer values after writing down in EditText in activity(1) and after clicking a button to transfer to activity(2) + transferring the values from activity(1) aswell.</p>\n<p>This is my code in MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nEditText enterHeight, enterWeight, enterAge;\n\nprivate double height;\nprivate double weight;\nprivate double age;\nString selectedRadiobut;\nButton button;\nRadioButton radioMale, radioFemale;\nRadioGroup radioGroup;\nSharedPreferences sp;\nprivate boolean heightIsValid() {\n\n    if (enterHeight.getText().toString().length() == 0) {\n        enterHeight.setError(&quot;Cant be empty&quot;);\n        return false;\n    }\n\n    double height = Double.valueOf(enterHeight.getText().toString());\n\n    if (height &lt;= 0) {\n\n        enterHeight.setError(&quot;Cant be zero&quot;);\n        return false;\n    }\n    if (height &lt;= 40 || height &gt; 250) {\n\n        enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\n        return false;\n    }\n    return true;\n}\nprivate boolean weightIsValid() {\n    if (enterWeight.getText().toString().length() == 0) {\n        enterWeight.setError(&quot;Cant be empty&quot;);\n        return false;\n    }\n\n    double weight = Double.valueOf(enterWeight.getText().toString());\n\n    if (weight &lt;= 0) {\n\n        enterWeight.setError(&quot;Cant be zero&quot;);\n        return false;\n    }\n    if (weight &gt; 600) {\n\n        enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\n        return false;\n    }\n    return true;\n}\nprivate boolean ageIsValid() {\n    if (enterAge.getText().toString().length() == 0) {\n        enterAge.setError(&quot;Cant be empty&quot;);\n        return false;\n    }\n\n    double age = Double.valueOf(enterAge.getText().toString());\n\n    if (age &lt;= 0) {\n\n        enterAge.setError(&quot;Cant be zero&quot;);\n        return false;\n    }\n    if (age &gt; 116) {\n\n        enterAge.setError(&quot;Cant be older than 116 years&quot;);\n        return false;\n    }\n    return true;\n}\nprivate boolean genderIsSelected() {\n\n    if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\n        Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\n        toast.show();\n        return false;\n    }\n    if (radioMale.isChecked()) {\n        selectedRadiobut = radioMale.getText().toString();\n    }\n    else if (radioFemale.isChecked()) {\n        selectedRadiobut = radioFemale.getText().toString();\n    }\n    return true;\n}\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getSupportActionBar().hide();\n    setContentView(R.layout.activity_main);\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n\n    radioMale = (RadioButton) findViewById(R.id.radioMale);\n    radioFemale = (RadioButton) findViewById(R.id.radioFemale);\n    button = (Button) findViewById(R.id.button);\n    enterHeight = (EditText) findViewById(R.id.enterHeight);\n    enterWeight = (EditText) findViewById(R.id.enterWeight);\n    enterAge = (EditText) findViewById(R.id.enterAge);\n    radioGroup = (RadioGroup) findViewById(R.id.radioSex);\n\n    sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n\n            if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\n\n                height = Double.valueOf(enterHeight.getText().toString());\n                weight = Double.valueOf(enterWeight.getText().toString());\n                age = Double.valueOf(enterAge.getText().toString());\n\n                SharedPreferences.Editor editor = sp.edit();\n                editor.putString(&quot;height&quot; , String.valueOf(Integer.valueOf((int) height)));\n                editor.putString(&quot;weight&quot; , String.valueOf(Integer.valueOf((int) weight)));\n                editor.putString(&quot;age&quot; , String.valueOf(Integer.valueOf((int) age)));\n                editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\n                editor.commit();\n\n                InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n                Intent intent = new Intent(MainActivity.this, MainMenu.class);\n                startActivity(intent);\n            }\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>This is my second activity:</p>\n<pre><code>public class MainMenu extends AppCompatActivity {\nButton  btnMC , btnFN , btnRec , btnGuides;\n    public void btnStepClick(View view) {\n        Intent intent = new Intent(this, StepCounter.class);\n        startActivity(intent);\n    }\n    public void btnCalClick(View view) {\n        Intent intent = new Intent(this, MacrosCalculator.class);\n        startActivity(intent);\n    }\n    public void btnRecClick(View view){\n        Intent intent = new Intent(this, Recipes.class);\n        startActivity(intent);\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main_menu);\n        TextView age1 , height1 , weight1 , gender1;\n\n        age1 = (TextView) findViewById(R.id.age1);\n        height1 = (TextView) findViewById(R.id.height1);\n        weight1 = (TextView) findViewById(R.id.weight1);\n        gender1 = (TextView) findViewById(R.id.gender1);\n        btnMC = (Button) findViewById(R.id.btnMC);\n        btnFN = (Button) findViewById(R.id.btnFN);\n        btnRec = (Button) findViewById(R.id.btnRec);\n        btnGuides = (Button) findViewById(R.id.btnGuides);\n\n        SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n        String height = sp.getString(&quot;height&quot; , &quot;&quot;);\n        String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\n        String age = sp.getString(&quot;age&quot; , &quot;&quot;);\n        String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\n\n        gender1.setText(&quot;Gender: &quot; + gender);\n        age1.setText(&quot;Age: &quot; + age);\n        height1.setText(&quot;Height(cm): &quot; + height);\n        weight1.setText(&quot;Weight(kg): &quot; + weight);\n\n\n    }\n}\n</code></pre>\n<p>So how to make it after putting values in Height, Weight, Age and Gender and closing the app after opening it again to start on the Activity 2 with the values that you putted in the previous start of the application? :D</p>\n"},{"tags":["java","java-package"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1696441230,"post_id":77231834,"comment_id":136154589,"body_markdown":"First of all, take care of java naming conventions. package names should be lower case, Second please share full code of both classes","body":"First of all, take care of java naming conventions. package names should be lower case, Second please share full code of both classes"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1696441990,"post_id":77231834,"comment_id":136154726,"body_markdown":"Also, share how you are trying to compile it. An IDE? Maven? Gradle? javac? What directory do you run the command from, with what parameters?","body":"Also, share how you are trying to compile it. An IDE? Maven? Gradle? javac? What directory do you run the command from, with what parameters?"},{"owner":{"account_id":16346014,"reputation":13,"user_id":22684596,"display_name":"maxelpuma"},"score":0,"creation_date":1696442843,"post_id":77231834,"comment_id":136154918,"body_markdown":"I&#39;m sorry, I&#39;ve edited my question.","body":"I&#39;m sorry, I&#39;ve edited my question."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696444350,"post_id":77231834,"comment_id":136155170,"body_markdown":"You can&#39;t compile myUtil.BinaryTree.BinaryTree.java from inside that directory. cd out to the parent directory and run `javac myUtil/BinaryTree/BinaryTree.java`","body":"You can&#39;t compile myUtil.BinaryTree.BinaryTree.java from inside that directory. cd out to the parent directory and run <code>javac myUtil&#47;BinaryTree&#47;BinaryTree.java</code>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696442417,"creation_date":1696442417,"answer_id":77231972,"question_id":77231834,"body_markdown":"Java doesn&#39;t support &quot;sub&quot;-packages. Even if packages are organized as in `java`, `java.net`, `java.util`, each of them is an individual package - although on the disk packages are organized as folders and subfolders.\r\n\r\nAnd you don&#39;t `import` packages but only classes or methods.\r\n\r\nSo in your description, to use the class `Node` from the package `myUtil.Node` in another package, you would need to `import myUtil.Node.Node;`\r\n\r\nIf you want to use `Node` in a class within the same package (same folder on disk), you don&#39;t need to import that.\r\n\r\nAn import like `import myUtil.Node.*;` imports all classes of the `myUtil.Node` package, but none of any package that starts with `myUtil.Node.` (what you mentioned as &quot;sub&quot;-package). Java doesn&#39;t support such imports (like from a folder and all subfolders).\r\n\r\nTo your specific situation:\r\nJava has a naming convention to use only lowercase letters in package names - convention means, you don&#39;t have to do it like that, but it is better if you do because other developers will understand your code faster. (And also we on StackOverflow can help better for you next questions ;-) \r\n\r\nAlso not every class has to be put into a separate package.\r\n\r\nSo for you, probably a package `myutils` with the two classes `Node` and `BinaryTree` would be fine - and you don&#39;t have to import `Node` into `BinaryTree` then, as they would be both contained in the same package.\r\n","title":"Can&#39;t import subpackage into another subpackage","body":"<p>Java doesn't support &quot;sub&quot;-packages. Even if packages are organized as in <code>java</code>, <code>java.net</code>, <code>java.util</code>, each of them is an individual package - although on the disk packages are organized as folders and subfolders.</p>\n<p>And you don't <code>import</code> packages but only classes or methods.</p>\n<p>So in your description, to use the class <code>Node</code> from the package <code>myUtil.Node</code> in another package, you would need to <code>import myUtil.Node.Node;</code></p>\n<p>If you want to use <code>Node</code> in a class within the same package (same folder on disk), you don't need to import that.</p>\n<p>An import like <code>import myUtil.Node.*;</code> imports all classes of the <code>myUtil.Node</code> package, but none of any package that starts with <code>myUtil.Node.</code> (what you mentioned as &quot;sub&quot;-package). Java doesn't support such imports (like from a folder and all subfolders).</p>\n<p>To your specific situation:\nJava has a naming convention to use only lowercase letters in package names - convention means, you don't have to do it like that, but it is better if you do because other developers will understand your code faster. (And also we on StackOverflow can help better for you next questions ;-)</p>\n<p>Also not every class has to be put into a separate package.</p>\n<p>So for you, probably a package <code>myutils</code> with the two classes <code>Node</code> and <code>BinaryTree</code> would be fine - and you don't have to import <code>Node</code> into <code>BinaryTree</code> then, as they would be both contained in the same package.</p>\n"},{"tags":[],"owner":{"account_id":29456424,"reputation":11,"user_id":22572198,"display_name":"Himanshu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696444691,"creation_date":1696444138,"answer_id":77232125,"question_id":77231834,"body_markdown":"Apart from the answer that @cyberbrain did. I would just add this workflow. Since you are using command prompt.\r\nAssume like you have two separate packages in the same folder:\r\nmyUtils.Node and myUtils.BinaryTree\r\n\r\nit would compile if you navigate back to the directory where myUtils or where both packages are placed and then compile it such as:\r\n javac myUtils\\BinaryTree\\BinaryTree.java\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IvTx4.jpg","title":"Can&#39;t import subpackage into another subpackage","body":"<p>Apart from the answer that @cyberbrain did. I would just add this workflow. Since you are using command prompt.\nAssume like you have two separate packages in the same folder:\nmyUtils.Node and myUtils.BinaryTree</p>\n<p>it would compile if you navigate back to the directory where myUtils or where both packages are placed and then compile it such as:\njavac myUtils\\BinaryTree\\BinaryTree.java</p>\n<p><a href=\"https://i.stack.imgur.com/IvTx4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IvTx4.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16346014,"reputation":13,"user_id":22684596,"display_name":"maxelpuma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77231972,"answer_count":2,"score":0,"last_activity_date":1696444691,"creation_date":1696441136,"question_id":77231834,"body_markdown":"I am trying to create a package named `myUtil`, inside I have two subpackages named `Node` and `BinaryTree`.\r\n\r\nInside `Node` dir, I have `Node.java` and `Node.class`, and of course the first line in the java file is:\r\n```\r\npackage myUtil.Node;\r\n```\r\nNow, in `BinaryTree.java`, located in `BinaryTree` directory, I would like to import `Node.class` to use it.&lt;br&gt;\r\nThis is the code:\r\n\r\n```\r\npackage myUtil.BinaryTree;\r\n\r\nimport myUtil.Node.Node;\r\n\r\npublic class BinaryTree {\r\n    public Node root;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I try to compile it, it gives me this error:\r\n```\r\nBinaryTree.java:3: error: package myUtil.Node does not exist\r\nimport myUtil.Node.Node;\r\n                  ^\r\n```\r\nAlso, I tried\r\n```\r\nimport myUtil.Node;\r\nimport myUtil.Node.*;\r\n```\r\nbut it still gives me this error...\r\n\r\nEdit: As requested, I&#39;m sharing the whole code.\r\n\r\nThis is Node.java:\r\n```\r\npackage myUtil.Node;\r\n\r\npublic class Node {\r\n    int value;\r\n    Node left, right;\r\n\r\n    public Node(int value) {\r\n        this.value = value;\r\n        left = null;\r\n        right = null;\r\n    }\r\n}\r\n```\r\nAnd this is BinaryTree.java:\r\n```\r\npackage myUtil.BinaryTree;\r\n\r\nimport myUtil.Node.Node;\r\n\r\npublic class BinaryTree {\r\n    public Node root;\r\n}\r\n```\r\nI&#39;m compiling these files directly in their respective folders, using:\r\n```\r\njavac filename.java\r\n```","title":"Can&#39;t import subpackage into another subpackage","body":"<p>I am trying to create a package named <code>myUtil</code>, inside I have two subpackages named <code>Node</code> and <code>BinaryTree</code>.</p>\n<p>Inside <code>Node</code> dir, I have <code>Node.java</code> and <code>Node.class</code>, and of course the first line in the java file is:</p>\n<pre><code>package myUtil.Node;\n</code></pre>\n<p>Now, in <code>BinaryTree.java</code>, located in <code>BinaryTree</code> directory, I would like to import <code>Node.class</code> to use it.<br>\nThis is the code:</p>\n<pre><code>package myUtil.BinaryTree;\n\nimport myUtil.Node.Node;\n\npublic class BinaryTree {\n    public Node root;\n}\n</code></pre>\n<p>When I try to compile it, it gives me this error:</p>\n<pre><code>BinaryTree.java:3: error: package myUtil.Node does not exist\nimport myUtil.Node.Node;\n                  ^\n</code></pre>\n<p>Also, I tried</p>\n<pre><code>import myUtil.Node;\nimport myUtil.Node.*;\n</code></pre>\n<p>but it still gives me this error...</p>\n<p>Edit: As requested, I'm sharing the whole code.</p>\n<p>This is Node.java:</p>\n<pre><code>package myUtil.Node;\n\npublic class Node {\n    int value;\n    Node left, right;\n\n    public Node(int value) {\n        this.value = value;\n        left = null;\n        right = null;\n    }\n}\n</code></pre>\n<p>And this is BinaryTree.java:</p>\n<pre><code>package myUtil.BinaryTree;\n\nimport myUtil.Node.Node;\n\npublic class BinaryTree {\n    public Node root;\n}\n</code></pre>\n<p>I'm compiling these files directly in their respective folders, using:</p>\n<pre><code>javac filename.java\n</code></pre>\n"},{"tags":["java","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693338932,"creation_date":1693336427,"answer_id":77003072,"question_id":77003041,"body_markdown":"You can use `Collectors.toMap()`, this way:\r\n\r\n```java\r\nMap&lt;String, List&lt;MeetupDTO&gt;&gt; employeesMeetups = employeesId.stream()\r\n    .collect(Collectors.toMap(\r\n        employeeId -&gt; employeeId, // Key mapper\r\n        employeeId -&gt; meetupRepository.getAllByEmployeeId(employeeId).stream()\r\n            .map(meetupMapper::toDTO)\r\n            .collect(Collectors.toList()) // Value mapper\r\n    ));\r\n```\r\n\r\n**Important:** while using the `toMap()` collector, you need to ensure that the keys are unique, or else you might encounter an `IllegalStateException`.\r\n\r\n\r\n### Edit\r\n\r\n&gt; The key is a unique user id, do I need to look at whether the key is unique in this case? - [Будь как Я][1]\r\n\r\n&gt; @DiegoBorba you can use employeesId.distinct().stream().collect.. to be safe in case it does have duplicates - [01000001][2]\r\n\r\nUsing unique IDs, `stream()` is enough, but in cases where values can repeat, you can use [`distinct()`][3], as [01000001][2] said.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/17286055/%D0%91%D1%83%D0%B4%D1%8C-%D0%BA%D0%B0%D0%BA-%D0%AF\r\n  [2]: https://stackoverflow.com/users/3476492/01000001\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--","title":"How to add keys and values to Collectors.toMap() by going through the list?","body":"<p>You can use <code>Collectors.toMap()</code>, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;MeetupDTO&gt;&gt; employeesMeetups = employeesId.stream()\n    .collect(Collectors.toMap(\n        employeeId -&gt; employeeId, // Key mapper\n        employeeId -&gt; meetupRepository.getAllByEmployeeId(employeeId).stream()\n            .map(meetupMapper::toDTO)\n            .collect(Collectors.toList()) // Value mapper\n    ));\n</code></pre>\n<p><strong>Important:</strong> while using the <code>toMap()</code> collector, you need to ensure that the keys are unique, or else you might encounter an <code>IllegalStateException</code>.</p>\n<h3>Edit</h3>\n<blockquote>\n<p>The key is a unique user id, do I need to look at whether the key is unique in this case? - <a href=\"https://stackoverflow.com/users/17286055/%D0%91%D1%83%D0%B4%D1%8C-%D0%BA%D0%B0%D0%BA-%D0%AF\">Будь как Я</a></p>\n</blockquote>\n<blockquote>\n<p>@DiegoBorba you can use employeesId.distinct().stream().collect.. to be safe in case it does have duplicates - <a href=\"https://stackoverflow.com/users/3476492/01000001\">01000001</a></p>\n</blockquote>\n<p>Using unique IDs, <code>stream()</code> is enough, but in cases where values can repeat, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"nofollow noreferrer\"><code>distinct()</code></a>, as <a href=\"https://stackoverflow.com/users/3476492/01000001\">01000001</a> said.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693398065,"creation_date":1693337636,"answer_id":77003178,"question_id":77003041,"body_markdown":"Why not use simple loop?\r\n\r\n```java\r\npublic static Map&lt;String, List&lt;MeetupDTO&gt;&gt; getEmployeeMetups(\r\n                                                     Set&lt;String&gt; employeeIds) {\r\n    Map&lt;String, List&lt;MeetupDTO&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\n    for (String employeeId : employeeIds) {\r\n        List&lt;MeetupDTO&gt; dtos =\r\n                   meetupRepository.getAllByEmployeeId(employeeId).stream()\r\n                                   .map(meetupMapper::toDTO)\r\n                                   .collect(Collector.toList());\r\n\r\n        map.put(employeeId, dtos);\r\n    }\r\n\r\n    return map;\r\n}\r\n```","title":"How to add keys and values to Collectors.toMap() by going through the list?","body":"<p>Why not use simple loop?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, List&lt;MeetupDTO&gt;&gt; getEmployeeMetups(\n                                                     Set&lt;String&gt; employeeIds) {\n    Map&lt;String, List&lt;MeetupDTO&gt;&gt; map = new HashMap&lt;&gt;();\n\n    for (String employeeId : employeeIds) {\n        List&lt;MeetupDTO&gt; dtos =\n                   meetupRepository.getAllByEmployeeId(employeeId).stream()\n                                   .map(meetupMapper::toDTO)\n                                   .collect(Collector.toList());\n\n        map.put(employeeId, dtos);\n    }\n\n    return map;\n}\n</code></pre>\n"}],"owner":{"account_id":23189484,"reputation":3,"user_id":17286055,"display_name":"Будь как Я"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77003072,"answer_count":2,"score":0,"last_activity_date":1696443733,"creation_date":1693336128,"question_id":77003041,"body_markdown":"        Map&lt;String,List&lt;MeetupDTO&gt;&gt; employeesMeetups = new HashMap&lt;&gt;(employeesId.size());\r\n        for(String  employeeId : employeesId) {\r\n            List&lt;MeetupDTO&gt; meetups = meetupRepository.\r\n                    getAllByEmployeeId(employeeId).\r\n                    stream().\r\n                    map(meetupMapper::toDTO).\r\n                    collect(Collectors.toList());\r\n            employeesMeetups.put(employeeId,meetups);\r\n        return employeesMeetups;\r\n\r\n\r\nI want to change what&#39;s on top to the bottom.\r\n\r\n        return Collectors.toMap(//How do I add keys here?,\r\n                employeesId.\r\n                stream().\r\n                forEach(e-&gt;meetupRepository.getAllByEmployeeId(e).\r\n                        stream().\r\n                        map(meetupMapper::toDTO).\r\n                        collect(Collectors.toList())\r\n                ));\r\n\r\n\r\nI don&#39;t know how to make the keys match their list, how can this be implemented?","title":"How to add keys and values to Collectors.toMap() by going through the list?","body":"<pre><code>    Map&lt;String,List&lt;MeetupDTO&gt;&gt; employeesMeetups = new HashMap&lt;&gt;(employeesId.size());\n    for(String  employeeId : employeesId) {\n        List&lt;MeetupDTO&gt; meetups = meetupRepository.\n                getAllByEmployeeId(employeeId).\n                stream().\n                map(meetupMapper::toDTO).\n                collect(Collectors.toList());\n        employeesMeetups.put(employeeId,meetups);\n    return employeesMeetups;\n</code></pre>\n<p>I want to change what's on top to the bottom.</p>\n<pre><code>    return Collectors.toMap(//How do I add keys here?,\n            employeesId.\n            stream().\n            forEach(e-&gt;meetupRepository.getAllByEmployeeId(e).\n                    stream().\n                    map(meetupMapper::toDTO).\n                    collect(Collectors.toList())\n            ));\n</code></pre>\n<p>I don't know how to make the keys match their list, how can this be implemented?</p>\n"},{"tags":["java","javafx","desktop-application"],"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1485176050,"post_id":41806393,"comment_id":70801319,"body_markdown":"Side note: Gluon and the community is providing JavaFX support for Android and iOS. Maybe this is a path you could consider as well.","body":"Side note: Gluon and the community is providing JavaFX support for Android and iOS. Maybe this is a path you could consider as well."},{"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"score":0,"creation_date":1485177181,"post_id":41806393,"comment_id":70802088,"body_markdown":"Yes, I knew it from one of the link I pasted in question but as mentioned due to complexity of developing GUI with JavaFx, I wished to switch to Web technology.","body":"Yes, I knew it from one of the link I pasted in question but as mentioned due to complexity of developing GUI with JavaFx, I wished to switch to Web technology."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1485179808,"post_id":41806393,"comment_id":70803959,"body_markdown":"You could have a look at WebRTC and related technologies: https://de.wikipedia.org/wiki/WebRTC, https://de.wikipedia.org/wiki/Secure_Real-Time_Transport_Protocol","body":"You could have a look at WebRTC and related technologies: <a href=\"https://de.wikipedia.org/wiki/WebRTC\" rel=\"nofollow noreferrer\">de.wikipedia.org/wiki/WebRTC</a>, <a href=\"https://de.wikipedia.org/wiki/Secure_Real-Time_Transport_Protocol\" rel=\"nofollow noreferrer\">de.wikipedia.org/wiki/Secure_Real-Time_Transport_Protocol</a>"},{"owner":{"account_id":4126617,"reputation":4151,"user_id":3385595,"accept_rate":83,"display_name":"purring pigeon"},"score":0,"creation_date":1485181594,"post_id":41806393,"comment_id":70805175,"body_markdown":"I would recommend Gluon as well.  Their technology works, and the support from them is great.  This allows the same code base across Desktop/Android/iOS/embedded.","body":"I would recommend Gluon as well.  Their technology works, and the support from them is great.  This allows the same code base across Desktop/Android/iOS/embedded."},{"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"score":0,"creation_date":1485242434,"post_id":41806393,"comment_id":70831989,"body_markdown":"@Puce WebRTC is again client-server model which I wish to avoid as my desktop application has neither J2EE code nor REST based.","body":"@Puce WebRTC is again client-server model which I wish to avoid as my desktop application has neither J2EE code nor REST based."},{"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"score":0,"creation_date":1485242480,"post_id":41806393,"comment_id":70832010,"body_markdown":"@purringpigeon I would look at Gluon as last resource as I wish to get away with JavaFx due to reason mentioned above\n\nMeanwhile I came across [ZeroMQ](http://zguide.zeromq.org/) where you can do communication across language and looking forward if it suits my requirement.","body":"@purringpigeon I would look at Gluon as last resource as I wish to get away with JavaFx due to reason mentioned above  Meanwhile I came across <a href=\"http://zguide.zeromq.org/\" rel=\"nofollow noreferrer\">ZeroMQ</a> where you can do communication across language and looking forward if it suits my requirement."},{"owner":{"account_id":4126617,"reputation":4151,"user_id":3385595,"accept_rate":83,"display_name":"purring pigeon"},"score":0,"creation_date":1485269555,"post_id":41806393,"comment_id":70849173,"body_markdown":"If you want simply call a server - can you use HTTP?  If so look at Apache HTTP Client","body":"If you want simply call a server - can you use HTTP?  If so look at Apache HTTP Client"},{"owner":{"account_id":1445239,"reputation":135,"user_id":1363980,"display_name":"Ahmed Gawad"},"score":0,"creation_date":1486540378,"post_id":41806393,"comment_id":71383943,"body_markdown":"For PC Part: Could you confirm you want Web-browser &lt;---&gt; on-local-machine-Java-Code ? if that is it you need to use local Http Server for each PC, you can embed Jetty on your code and make it act as gateway web-browser&lt;--&gt;local-http(Jetty)&lt;---&gt;other protocols (Ex: TCP/IP)","body":"For PC Part: Could you confirm you want Web-browser &lt;---&gt; on-local-machine-Java-Code ? if that is it you need to use local Http Server for each PC, you can embed Jetty on your code and make it act as gateway web-browser&lt;--&gt;local-http(Jetty)&lt;---&gt;other protocols (Ex: TCP/IP)"},{"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"score":0,"creation_date":1487163198,"post_id":41806393,"comment_id":71657802,"body_markdown":"@ahmed-gawad It is desktop application which I wish to develop with web technology. With framework like [Electrons](electron.atom.io), you can run application inside embeded browser and get dektop like look, i.e. user doesn&#39;t need to open application in browser. Only issue is the whole application need to be written as nodejs app while I wanted to reuse my java classes as BL and only PL should be using web technology and no overhead of server like jetty.","body":"@ahmed-gawad It is desktop application which I wish to develop with web technology. With framework like [Electrons](electron.atom.io), you can run application inside embeded browser and get dektop like look, i.e. user doesn&#39;t need to open application in browser. Only issue is the whole application need to be written as nodejs app while I wanted to reuse my java classes as BL and only PL should be using web technology and no overhead of server like jetty."}],"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1485,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696443470,"creation_date":1485174491,"question_id":41806393,"body_markdown":"I have a working desktop application with JavaFx as Front-end and java as back-end language. This was fine till I had requirement to have some special functionality of same application working on mobile device too (2-3 years back). So android app was created (it was first target OS) which implements those new functionality (few overlapped functionality duplicated). Desktop clients and android clients sync information with P2P protocol. \r\n\r\nThis is fine till now but eventually finding very difficult to maintain separate code where GUI is almost similar. Another issue is achieving richer GUI experience with JavaFx client and Android (though getting native look). It is very tedious to create complex components like tree or nested complex tables with JavaFx.\r\n\r\nAfter study recent trends, I am convinced that I should use HTML5/CSS3/JavaScript based GUI which I can package as per requirement for different devices (e.g. [Electron][1] for desktop and [Cordova][2] for mobile). I see advantage that my basic html code will remain same. \r\n\r\nNow problem here is, I don&#39;t want to use node.js on server side and want to continue with my java back-end. If I rewrite full GUI with web technology, what is best option to communicate with my java code.\r\n\r\nNote that i don&#39;t want client-server model to avoid embedded server overhead (so having REST service is out of scope). \r\n\r\nSome details about project\r\n\r\n1. It needs heavy graphics and using OpenGL &amp; OpenGL ES\r\n\r\n2. Currently GUI (JavaFX or Android ) are communicating by making direct call to Java back-end code (from GUI -&gt; Back-end) and raising event (Back-end -&gt; GUI).\r\n\r\n3. New version is delivered to users with new binaries, so no auto update require.\r\n\r\nI see first requirement will be fulfilled with WebGL supporting framework/toolkit. I am looking how to implement 2nd point from above. \r\n\r\nI gone through some quetions like below but they are all talking about either client-server based architecture or embedding browser in JavaFx (WebView or JxBrowser) or directly porting JavaFX app on android with JavaFX-Android SDK but as per my requirement, I neither want client-server not continue with JavaFx.\r\n\r\nhttps://stackoverflow.com/questions/2438201/pure-java-html-viewer-renderer\r\n\r\nhttps://stackoverflow.com/questions/7176981/how-to-use-html-and-css-as-a-java-application-gui\r\n\r\nhttps://stackoverflow.com/questions/3402612/is-it-possible-to-create-desktop-application-using-java-backend-web-technologi\r\n\r\nSo summing-up - Provided I use Web technology, what are ways to communicate from GUI to Java and vice versa for not server base application. The one I found was node-java but not sure if it is right approach and can rely on for future java versions (currently using java 1.8)\r\n\r\n  [1]: http://electron.atom.io\r\n  [2]: http://cordova.apache.org","title":"Communication between javascript GUI &amp; java backend for desktop app","body":"<p>I have a working desktop application with JavaFx as Front-end and java as back-end language. This was fine till I had requirement to have some special functionality of same application working on mobile device too (2-3 years back). So android app was created (it was first target OS) which implements those new functionality (few overlapped functionality duplicated). Desktop clients and android clients sync information with P2P protocol. </p>\n\n<p>This is fine till now but eventually finding very difficult to maintain separate code where GUI is almost similar. Another issue is achieving richer GUI experience with JavaFx client and Android (though getting native look). It is very tedious to create complex components like tree or nested complex tables with JavaFx.</p>\n\n<p>After study recent trends, I am convinced that I should use HTML5/CSS3/JavaScript based GUI which I can package as per requirement for different devices (e.g. <a href=\"http://electron.atom.io\" rel=\"nofollow noreferrer\">Electron</a> for desktop and <a href=\"http://cordova.apache.org\" rel=\"nofollow noreferrer\">Cordova</a> for mobile). I see advantage that my basic html code will remain same. </p>\n\n<p>Now problem here is, I don't want to use node.js on server side and want to continue with my java back-end. If I rewrite full GUI with web technology, what is best option to communicate with my java code.</p>\n\n<p>Note that i don't want client-server model to avoid embedded server overhead (so having REST service is out of scope). </p>\n\n<p>Some details about project</p>\n\n<ol>\n<li><p>It needs heavy graphics and using OpenGL &amp; OpenGL ES</p></li>\n<li><p>Currently GUI (JavaFX or Android ) are communicating by making direct call to Java back-end code (from GUI -> Back-end) and raising event (Back-end -> GUI).</p></li>\n<li><p>New version is delivered to users with new binaries, so no auto update require.</p></li>\n</ol>\n\n<p>I see first requirement will be fulfilled with WebGL supporting framework/toolkit. I am looking how to implement 2nd point from above. </p>\n\n<p>I gone through some quetions like below but they are all talking about either client-server based architecture or embedding browser in JavaFx (WebView or JxBrowser) or directly porting JavaFX app on android with JavaFX-Android SDK but as per my requirement, I neither want client-server not continue with JavaFx.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2438201/pure-java-html-viewer-renderer\">Pure Java HTML viewer/renderer for use in a Scrollable pane</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7176981/how-to-use-html-and-css-as-a-java-application-gui\">How to use HTML and CSS as a Java application GUI?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3402612/is-it-possible-to-create-desktop-application-using-java-backend-web-technologi\">Is it possible to create Desktop Application using Java backend &amp; Web Technologies UI</a></p>\n\n<p>So summing-up - Provided I use Web technology, what are ways to communicate from GUI to Java and vice versa for not server base application. The one I found was node-java but not sure if it is right approach and can rely on for future java versions (currently using java 1.8)</p>\n"},{"tags":["java","android"],"owner":{"account_id":20424336,"reputation":11,"user_id":14984674,"display_name":"Blogspot OSOL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696443140,"creation_date":1696443140,"question_id":77232036,"body_markdown":"I am developing an android app which uses Google Apps scripts API. It used to work well in my phone. But one day suddenly it keeps showing the error\r\n\r\n```\r\n400. That’s an error.\r\n\r\nThe server cannot process the request because it is malformed. It should not be retried. That’s all we know.\r\n```\r\nBelow are the screen shots [![enter image description here](https://i.stack.imgur.com/8aUaO.png)](https://i.stack.imgur.com/8aUaO.png)\r\n\r\nThe URL shown in browser which shows 400 Error is\r\n\r\n&lt;https://myaccount.google.com/accounts/SetOSID?authuser=0&amp;continue=https://myaccount.google.com/?utm_source%3Dsign_in_no_continue%26pli%3D1&amp;osidt=ALWU2cuuoBlBDhPdnwXk6R88QyROZeBJ5TvpUX-a7kVFgenCFZIs8mu989e_H_UOydqthw5-s2MbCHUB_GJygjJEZYjLJkJ5bEN0wy5XDfKYDrCSL9nPuxQPy7aM4nhn-THMy6pmeuOCY82juRZruR4O8E5VMmv-NvGhZneWm62pHJafv82hXlxOTnW4DKNUBrWPZ_gqrb89AfOl8xoT8_YOw7JeiK1wMYUIWCBng6MbDYxBZnnvZOQ&amp;ifkv=AYZoVhfaadmcvQcQTU3-kXQzP3mgOILJLTXdXUk33L4-3wd4gWJNb7ufxjJRo9kED_jzDl-Tyk_8&gt;\r\n\r\nThe error pops up when i start activity to confirm user consent (NeedRemoteConsent)\r\n\r\n```\r\nif (mLastError instanceof UserRecoverableAuthIOException) {\r\n                currentFragment.getActivity().startActivityForResult(\r\n                        ((UserRecoverableAuthIOException) mLastError).getIntent(),\r\n                        GoogleAppScriptsHelper.REQUEST_AUTHORIZATION);\r\n            } \r\n```\r\n\r\nStrangely it works flawlessly in other phones when tested.\r\n\r\nIf anyone knows the solution please help\r\n\r\nI have cleared \r\n1. Data and Cache , \r\n2. Uninstalled the app and re installed \r\n3. Restarted phone \r\n\r\nAll of no use\r\nI am not getting any clue on how I could fix this.","title":"Android error 400 for Google App Scripts API in one particular phone only","body":"<p>I am developing an android app which uses Google Apps scripts API. It used to work well in my phone. But one day suddenly it keeps showing the error</p>\n<pre><code>400. That’s an error.\n\nThe server cannot process the request because it is malformed. It should not be retried. That’s all we know.\n</code></pre>\n<p>Below are the screen shots <a href=\"https://i.stack.imgur.com/8aUaO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aUaO.png\" alt=\"enter image description here\" /></a></p>\n<p>The URL shown in browser which shows 400 Error is</p>\n<p><a href=\"https://myaccount.google.com/accounts/SetOSID?authuser=0&amp;continue=https://myaccount.google.com/?utm_source%3Dsign_in_no_continue%26pli%3D1&amp;osidt=ALWU2cuuoBlBDhPdnwXk6R88QyROZeBJ5TvpUX-a7kVFgenCFZIs8mu989e_H_UOydqthw5-s2MbCHUB_GJygjJEZYjLJkJ5bEN0wy5XDfKYDrCSL9nPuxQPy7aM4nhn-THMy6pmeuOCY82juRZruR4O8E5VMmv-NvGhZneWm62pHJafv82hXlxOTnW4DKNUBrWPZ_gqrb89AfOl8xoT8_YOw7JeiK1wMYUIWCBng6MbDYxBZnnvZOQ&amp;ifkv=AYZoVhfaadmcvQcQTU3-kXQzP3mgOILJLTXdXUk33L4-3wd4gWJNb7ufxjJRo9kED_jzDl-Tyk_8\" rel=\"nofollow noreferrer\">https://myaccount.google.com/accounts/SetOSID?authuser=0&amp;continue=https://myaccount.google.com/?utm_source%3Dsign_in_no_continue%26pli%3D1&amp;osidt=ALWU2cuuoBlBDhPdnwXk6R88QyROZeBJ5TvpUX-a7kVFgenCFZIs8mu989e_H_UOydqthw5-s2MbCHUB_GJygjJEZYjLJkJ5bEN0wy5XDfKYDrCSL9nPuxQPy7aM4nhn-THMy6pmeuOCY82juRZruR4O8E5VMmv-NvGhZneWm62pHJafv82hXlxOTnW4DKNUBrWPZ_gqrb89AfOl8xoT8_YOw7JeiK1wMYUIWCBng6MbDYxBZnnvZOQ&amp;ifkv=AYZoVhfaadmcvQcQTU3-kXQzP3mgOILJLTXdXUk33L4-3wd4gWJNb7ufxjJRo9kED_jzDl-Tyk_8</a></p>\n<p>The error pops up when i start activity to confirm user consent (NeedRemoteConsent)</p>\n<pre><code>if (mLastError instanceof UserRecoverableAuthIOException) {\n                currentFragment.getActivity().startActivityForResult(\n                        ((UserRecoverableAuthIOException) mLastError).getIntent(),\n                        GoogleAppScriptsHelper.REQUEST_AUTHORIZATION);\n            } \n</code></pre>\n<p>Strangely it works flawlessly in other phones when tested.</p>\n<p>If anyone knows the solution please help</p>\n<p>I have cleared</p>\n<ol>\n<li>Data and Cache ,</li>\n<li>Uninstalled the app and re installed</li>\n<li>Restarted phone</li>\n</ol>\n<p>All of no use\nI am not getting any clue on how I could fix this.</p>\n"},{"tags":["java","servlets","h2","jakarta-migration"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1655059332,"post_id":72594816,"comment_id":128235252,"body_markdown":"See also [_Using the H2 Console Servlet_](http://www.h2database.com/html/tutorial.html#usingH2ConsoleServlet).","body":"See also <a href=\"http://www.h2database.com/html/tutorial.html#usingH2ConsoleServlet\" rel=\"nofollow noreferrer\"><i>Using the H2 Console Servlet</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696435297,"creation_date":1655059677,"answer_id":72594986,"question_id":72594816,"body_markdown":"# `jakarta.*` packages\r\n\r\nThe package namespace for Jakarta 9 and 9.1 is `jakarta.*`. This [changed from the old `javax.*` naming][1] during the transition of Oracle handing over Java EE to the Eclipse Foundation where it became Jakarta EE. \r\n\r\nI poked around the H2 codebase on GitHub, and found [`JakartaWebServlet`][2]. This seems to be the same Servlet but using the `jakarta.*` packages. You may be able to switch from:\r\n\r\n    &lt;servlet-class&gt;org.h2.server.web.WebServlet&lt;/servlet-class&gt;\r\n\r\n… to:\r\n\r\n    &lt;servlet-class&gt;org.h2.server.web.JakartaWebServlet&lt;/servlet-class&gt;\r\n    \r\n\r\nSee the [H2 documentation][3]. \r\n\r\n\r\n  [1]: https://blogs.oracle.com/weblogicserver/post/jakarta-ee-9-is-released\r\n  [2]: https://github.com/h2database/h2database/blob/master/h2/src/main/org/h2/server/web/JakartaWebServlet.java\r\n  [3]: http://www.h2database.com/html/tutorial.html#usingH2ConsoleServlet","title":"&#39;org.h2.server.web.WebServlet&#39; is not assignable to &#39;javax.servlet.Servlet,jakarta.servlet.Servlet&#39;","body":"<h1><code>jakarta.*</code> packages</h1>\n<p>The package namespace for Jakarta 9 and 9.1 is <code>jakarta.*</code>. This <a href=\"https://blogs.oracle.com/weblogicserver/post/jakarta-ee-9-is-released\" rel=\"nofollow noreferrer\">changed from the old <code>javax.*</code> naming</a> during the transition of Oracle handing over Java EE to the Eclipse Foundation where it became Jakarta EE.</p>\n<p>I poked around the H2 codebase on GitHub, and found <a href=\"https://github.com/h2database/h2database/blob/master/h2/src/main/org/h2/server/web/JakartaWebServlet.java\" rel=\"nofollow noreferrer\"><code>JakartaWebServlet</code></a>. This seems to be the same Servlet but using the <code>jakarta.*</code> packages. You may be able to switch from:</p>\n<pre><code>&lt;servlet-class&gt;org.h2.server.web.WebServlet&lt;/servlet-class&gt;\n</code></pre>\n<p>… to:</p>\n<pre><code>&lt;servlet-class&gt;org.h2.server.web.JakartaWebServlet&lt;/servlet-class&gt;\n</code></pre>\n<p>See the <a href=\"http://www.h2database.com/html/tutorial.html#usingH2ConsoleServlet\" rel=\"nofollow noreferrer\">H2 documentation</a>.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2442,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72594986,"answer_count":1,"score":1,"last_activity_date":1696442491,"creation_date":1655058171,"question_id":72594816,"body_markdown":"I&#39;m using **jakarta.jakartaee-api 9.1.0** and **H2 2.1.212**.\r\n\r\nI get this error when I try to add **H2 Console Servlet** to web.xml file:\r\n\r\n&gt; &#39;org.h2.server.web.WebServlet&#39; is not assignable to\r\n&gt; &#39;javax.servlet.Servlet,jakarta.servlet.Servlet&#39;\r\n\r\nHere is my web.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;5.0&quot;\r\n             xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;&gt;\r\n        &lt;data-source&gt;\r\n            &lt;name&gt;java:global/dataSource&lt;/name&gt;\r\n            &lt;class-name&gt;org.h2.jdbcx.JdbcDataSource&lt;/class-name&gt;\r\n            &lt;url&gt;jdbc:h2:mem:test;MODE=LEGACY&lt;/url&gt;\r\n        &lt;/data-source&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.h2.server.web.WebServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/h2/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHow can I fix the error?","title":"&#39;org.h2.server.web.WebServlet&#39; is not assignable to &#39;javax.servlet.Servlet,jakarta.servlet.Servlet&#39;","body":"<p>I'm using <strong>jakarta.jakartaee-api 9.1.0</strong> and <strong>H2 2.1.212</strong>.</p>\n<p>I get this error when I try to add <strong>H2 Console Servlet</strong> to web.xml file:</p>\n<blockquote>\n<p>'org.h2.server.web.WebServlet' is not assignable to\n'javax.servlet.Servlet,jakarta.servlet.Servlet'</p>\n</blockquote>\n<p>Here is my web.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;5.0&quot;\n         xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;&gt;\n    &lt;data-source&gt;\n        &lt;name&gt;java:global/dataSource&lt;/name&gt;\n        &lt;class-name&gt;org.h2.jdbcx.JdbcDataSource&lt;/class-name&gt;\n        &lt;url&gt;jdbc:h2:mem:test;MODE=LEGACY&lt;/url&gt;\n    &lt;/data-source&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.h2.server.web.WebServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/h2/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;jakarta.ws.rs.core.Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>How can I fix the error?</p>\n"},{"tags":["java","arrays","multidimensional-array","compiler-errors"],"comments":[{"owner":{"account_id":2346240,"reputation":506,"user_id":2056412,"accept_rate":67,"display_name":"piyush121"},"score":0,"creation_date":1459986223,"post_id":36464142,"comment_id":60540128,"body_markdown":"Is the array sorted row wise ? If not, You can sort the array row wise then take the middle element of the middle column.","body":"Is the array sorted row wise ? If not, You can sort the array row wise then take the middle element of the middle column."},{"owner":{"account_id":7913773,"reputation":536,"user_id":5976941,"display_name":"robotlos"},"score":0,"creation_date":1459986727,"post_id":36464142,"comment_id":60540255,"body_markdown":"Bubble sort and then take the middle value of the middle array. hah.","body":"Bubble sort and then take the middle value of the middle array. hah."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1459992281,"post_id":36464142,"comment_id":60541648,"body_markdown":"I think you are confusing people with your misuse of the word &#39;median&#39;. You really mean that you want the middle value of the array, not the median in a statistical sense. I suggest you change &#39;median&#39; to &#39;middle&#39; in your question to avoid confusion.","body":"I think you are confusing people with your misuse of the word &#39;median&#39;. You really mean that you want the middle value of the array, not the median in a statistical sense. I suggest you change &#39;median&#39; to &#39;middle&#39; in your question to avoid confusion."}],"answers":[{"tags":[],"owner":{"account_id":41378,"reputation":1966,"user_id":120212,"display_name":"Paul Ostrowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459986808,"creation_date":1459986808,"answer_id":36464321,"question_id":36464142,"body_markdown":"This compiles, and will give you the middle number in your sequence, or the average of the middle two if it splits the middle:\r\n\r\n      static double findMiddle(int[][] grid) {\r\n        int[] list = new int[grid.length*grid[0].length];\r\n        int listPos = 0;\r\n        for(int i = 0 ; i &lt; grid.length; i++) {\r\n            for(int j = 0; j &lt; grid[i].length; j++) {\r\n                list[listPos++] = grid[i][j];\r\n            }\r\n        }\r\n        int middle = list.length/2;\r\n        if ((list.length%2) == 1) {\r\n            return list[middle];\r\n        }\r\n        return (list[middle-1] + list[middle]) / 2.0;\r\n      }\r\n\r\nHowever, I suspect you&#39;ll want to sort you numbers after you combine them into a single array, before you find the middle numbers. (as piyush121 commented)","title":"Java how to find the middle of a 2d array","body":"<p>This compiles, and will give you the middle number in your sequence, or the average of the middle two if it splits the middle:</p>\n\n<pre><code>  static double findMiddle(int[][] grid) {\n    int[] list = new int[grid.length*grid[0].length];\n    int listPos = 0;\n    for(int i = 0 ; i &lt; grid.length; i++) {\n        for(int j = 0; j &lt; grid[i].length; j++) {\n            list[listPos++] = grid[i][j];\n        }\n    }\n    int middle = list.length/2;\n    if ((list.length%2) == 1) {\n        return list[middle];\n    }\n    return (list[middle-1] + list[middle]) / 2.0;\n  }\n</code></pre>\n\n<p>However, I suspect you'll want to sort you numbers after you combine them into a single array, before you find the middle numbers. (as piyush121 commented)</p>\n"},{"tags":[],"owner":{"account_id":1638075,"reputation":2136,"user_id":1511037,"accept_rate":92,"display_name":"Penguino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459990450,"creation_date":1459987341,"answer_id":36464391,"question_id":36464142,"body_markdown":"Assuming your definition of &#39;median&#39; is correct (the middle number of an odd length set or the average of the two middle numbers of an even length set), and if grid[][] is sorted, and if grid[][] is a square array (i.e. grid.length = grid[i].length for all i in 0..length-1, then you don&#39;t need to copy data to another array. The following should suffice:\r\n\r\n     static int findMiddle(int[][] grid) {\r\n        int l = grid.length;\r\n        if (l%2 == 1) {\r\n           return grid[l/2][l/2];\r\n        } else {\r\n        return (grid[l/2-1][l-1]+grid[l/2][0])/2;\r\n     };","title":"Java how to find the middle of a 2d array","body":"<p>Assuming your definition of 'median' is correct (the middle number of an odd length set or the average of the two middle numbers of an even length set), and if grid[][] is sorted, and if grid[][] is a square array (i.e. grid.length = grid[i].length for all i in 0..length-1, then you don't need to copy data to another array. The following should suffice:</p>\n\n<pre><code> static int findMiddle(int[][] grid) {\n    int l = grid.length;\n    if (l%2 == 1) {\n       return grid[l/2][l/2];\n    } else {\n    return (grid[l/2-1][l-1]+grid[l/2][0])/2;\n };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459995266,"creation_date":1459995266,"answer_id":36465524,"question_id":36464142,"body_markdown":"Looking at your existing code it seems you are defining &#39;median&#39; as the middle value in the matrix if all values were put into a single row-wise list. In other words you don&#39;t need to cope with odd numbers of rows (when two numbers from the same column are in the middle) or odd numbers of rows and columns (when there are four numbers in the middle). \r\n\r\nIf that definition is correct then you can cope with all the complexity of uneven rows by streaming all values and then selecting the middle ones.\r\n\r\nFor your interest, here&#39;s a Java 8 solution that does that:\r\n\r\n    int[] flat = Arrays.stream(grid).flatMapToInt(Arrays::stream).toArray();\r\n    double middle = Arrays.stream(flat).skip(flat.length / 2).limit(1 + flat.length % 2)\r\n        .average().getAsDouble();","title":"Java how to find the middle of a 2d array","body":"<p>Looking at your existing code it seems you are defining 'median' as the middle value in the matrix if all values were put into a single row-wise list. In other words you don't need to cope with odd numbers of rows (when two numbers from the same column are in the middle) or odd numbers of rows and columns (when there are four numbers in the middle). </p>\n\n<p>If that definition is correct then you can cope with all the complexity of uneven rows by streaming all values and then selecting the middle ones.</p>\n\n<p>For your interest, here's a Java 8 solution that does that:</p>\n\n<pre><code>int[] flat = Arrays.stream(grid).flatMapToInt(Arrays::stream).toArray();\ndouble middle = Arrays.stream(flat).skip(flat.length / 2).limit(1 + flat.length % 2)\n    .average().getAsDouble();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23711222,"reputation":1,"user_id":17733061,"display_name":"Abdikarim-dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696442468,"creation_date":1696442468,"answer_id":77231979,"question_id":36464142,"body_markdown":"    [ To get the value of the center of Matrix ( 2-dimensional ) Array of an odd squared matrix Array ]\r\n    you have to follow these steps ;\r\n    \r\n     1. Divide your array by 2 and check the remainder is equal to 1 \r\n     2. Store it in a middle variable\r\n     3. Get value of Matrix[middle][middle] e.g ( 3 , 3 ) or ( 5 , 5 ) etc.\r\n     4. Return the value\r\n    ----------------------------------------------------------------------------\r\n    public static int getMiddleValue(int[][] matrix) {\r\n            // Check if the array is not empty\r\n            if (matrix == null || matrix.length == 0 || matrix.length != matrix[0].length) {\r\n                return -1; // Invalid array\r\n            }\r\n    \r\n            // Check if the number of rows and columns are odd\r\n            int numRows = matrix.length;\r\n            int numCols = matrix[0].length;\r\n            if (numRows % 2 == 0 || numCols % 2 == 0) {\r\n                return -1; // Not a square matrix with odd dimensions\r\n            }\r\n    \r\n            // Find the middle index\r\n            int middleIndex = numRows / 2;\r\n    \r\n            // Retrieve the middle value`enter code here`\r\n            int middleValue = matrix[middleIndex][middleIndex];\r\n    \r\n            return middleValue;\r\n    }","title":"Java how to find the middle of a 2d array","body":"<pre><code>[ To get the value of the center of Matrix ( 2-dimensional ) Array of an odd squared matrix Array ]\nyou have to follow these steps ;\n\n 1. Divide your array by 2 and check the remainder is equal to 1 \n 2. Store it in a middle variable\n 3. Get value of Matrix[middle][middle] e.g ( 3 , 3 ) or ( 5 , 5 ) etc.\n 4. Return the value\n----------------------------------------------------------------------------\npublic static int getMiddleValue(int[][] matrix) {\n        // Check if the array is not empty\n        if (matrix == null || matrix.length == 0 || matrix.length != matrix[0].length) {\n            return -1; // Invalid array\n        }\n\n        // Check if the number of rows and columns are odd\n        int numRows = matrix.length;\n        int numCols = matrix[0].length;\n        if (numRows % 2 == 0 || numCols % 2 == 0) {\n            return -1; // Not a square matrix with odd dimensions\n        }\n\n        // Find the middle index\n        int middleIndex = numRows / 2;\n\n        // Retrieve the middle value`enter code here`\n        int middleValue = matrix[middleIndex][middleIndex];\n\n        return middleValue;\n}\n</code></pre>\n"}],"owner":{"account_id":8077950,"reputation":113,"user_id":6088272,"accept_rate":75,"display_name":"Randy Huang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5927,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1696442468,"creation_date":1459985688,"question_id":36464142,"body_markdown":"I&#39;m writing a function that tries to find the middle of a 2d array, and here&#39;s what I have so far:\r\n\r\n    int findMiddle(int[][] grid,int [] m) {\r\n        int[] list = new int[grid.length*grid[0].length];\r\n        int listPos = 0;\r\n        for(int i = 0 ; i &lt; grid.length; i++) {\r\n            for(int j = 0; j &lt; grid.length; j++) {\r\n                list[listPos++] = grid[i][j];\r\n            }\r\n        }\r\n        int middle = m.length/2;\r\n        if (m.length%2 == 1) {\r\n            return m[middle];\r\n        } else {\r\n            return (m[middle-1] + m[middle]) / 2.0;\r\n        }\r\n    }\r\n\r\nSuppose I have an array of\r\n\r\n    {{0, 1, 2, 3},\r\n     {4, 5, 6, 7},\r\n     {8, 9, 0, 1}}\r\n\r\nIt should return 6, as it is integer division.\r\nAlso, the definition of middle in this code is the middle integer of the whole original array (needless to say if it is sorted or not).\r\n \r\n\r\nHow would I do this? ( my code also doesn&#39;t compile)","title":"Java how to find the middle of a 2d array","body":"<p>I'm writing a function that tries to find the middle of a 2d array, and here's what I have so far:</p>\n\n<pre><code>int findMiddle(int[][] grid,int [] m) {\n    int[] list = new int[grid.length*grid[0].length];\n    int listPos = 0;\n    for(int i = 0 ; i &lt; grid.length; i++) {\n        for(int j = 0; j &lt; grid.length; j++) {\n            list[listPos++] = grid[i][j];\n        }\n    }\n    int middle = m.length/2;\n    if (m.length%2 == 1) {\n        return m[middle];\n    } else {\n        return (m[middle-1] + m[middle]) / 2.0;\n    }\n}\n</code></pre>\n\n<p>Suppose I have an array of</p>\n\n<pre><code>{{0, 1, 2, 3},\n {4, 5, 6, 7},\n {8, 9, 0, 1}}\n</code></pre>\n\n<p>It should return 6, as it is integer division.\nAlso, the definition of middle in this code is the middle integer of the whole original array (needless to say if it is sorted or not).</p>\n\n<p>How would I do this? ( my code also doesn't compile)</p>\n"},{"tags":["java","private-key","aws-secrets-manager","pgp"],"answers":[{"tags":[],"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696441952,"creation_date":1696441952,"answer_id":77231916,"question_id":77219141,"body_markdown":"The key was formatted differently when it was brought in. It should be stored in AWS using `\\n` for the line breaks. Then in the code, I did `replace(&quot;\\\\n&quot;, &quot;\\n&quot;)` before converting to bytes.","title":"&quot;No key data found&quot; when getting PGP private key from AWS Secrets Manager","body":"<p>The key was formatted differently when it was brought in. It should be stored in AWS using <code>\\n</code> for the line breaks. Then in the code, I did <code>replace(&quot;\\\\n&quot;, &quot;\\n&quot;)</code> before converting to bytes.</p>\n"}],"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696441952,"creation_date":1696294825,"question_id":77219141,"body_markdown":"I&#39;m having some trouble getting a decryption tool to work on production. I&#39;m using PGPainless in Java to decrypt documents using a preset private key and key passphrase. To test locally, I&#39;m using a custom secrets JSON file that Docker picks up. Everything, from the code to my Retool app, works great this way. (I point the app at my local Ngrok.) However, when I copy exactly the same keys/values from my local secrets to AWS Secrets Manager, the Java fails to read the private key, telling me &quot;No key data found.&quot; I&#39;ve tried a number of different ways to format the private key, specifically around the whitespace/line breaks, but nothing works.\r\n\r\n```java\r\nbyte[] keyBytes = ourSecretsService.getPgpPrivateKey().getBytes();\r\nString keyPassword = ourSecretsService.getPgpPrivatePassPhrase();\r\n\r\nSOP sop = new SOPImpl();\r\nbyte[] resultBytes = sop.decrypt()\r\n  .withKey(keyBytes)\r\n  .withKeyPassword(keyPassword)\r\n  .ciphertext(encryptedFileBytes)\r\n  .toByteArrayAndResult()\r\n  .getBytes();\r\n```","title":"&quot;No key data found&quot; when getting PGP private key from AWS Secrets Manager","body":"<p>I'm having some trouble getting a decryption tool to work on production. I'm using PGPainless in Java to decrypt documents using a preset private key and key passphrase. To test locally, I'm using a custom secrets JSON file that Docker picks up. Everything, from the code to my Retool app, works great this way. (I point the app at my local Ngrok.) However, when I copy exactly the same keys/values from my local secrets to AWS Secrets Manager, the Java fails to read the private key, telling me &quot;No key data found.&quot; I've tried a number of different ways to format the private key, specifically around the whitespace/line breaks, but nothing works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] keyBytes = ourSecretsService.getPgpPrivateKey().getBytes();\nString keyPassword = ourSecretsService.getPgpPrivatePassPhrase();\n\nSOP sop = new SOPImpl();\nbyte[] resultBytes = sop.decrypt()\n  .withKey(keyBytes)\n  .withKeyPassword(keyPassword)\n  .ciphertext(encryptedFileBytes)\n  .toByteArrayAndResult()\n  .getBytes();\n</code></pre>\n"},{"tags":["java","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696439985,"creation_date":1696439985,"answer_id":77231713,"question_id":77231660,"body_markdown":"There is an example of using `ConnectionConfig` on a Connection Manager in the migration documentation: https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html\r\n\r\nIn this example they use `PoolingHttpClientConnectionManager`, created with a `PoolingHttpClientConnectionManagerBuilder`.\r\n\r\nSee this part in particular:\r\n\r\n    .setDefaultConnectionConfig(ConnectionConfig.custom()\r\n                  .setSocketTimeout(Timeout.ofMinutes(1))\r\n                  .setConnectTimeout(Timeout.ofMinutes(1))\r\n                  .setTimeToLive(TimeValue.ofMinutes(10))\r\n                  .build())\r\n\r\nYou can probably use another connection manager as well, supposedly it should have same `setDefaultConnectionConfig` method or similar on it&#39;s builder.","title":"How to use setConnectTimeout() method in org.apache.hc.client5.http.config.RequestConfig","body":"<p>There is an example of using <code>ConnectionConfig</code> on a Connection Manager in the migration documentation: <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html</a></p>\n<p>In this example they use <code>PoolingHttpClientConnectionManager</code>, created with a <code>PoolingHttpClientConnectionManagerBuilder</code>.</p>\n<p>See this part in particular:</p>\n<pre><code>.setDefaultConnectionConfig(ConnectionConfig.custom()\n              .setSocketTimeout(Timeout.ofMinutes(1))\n              .setConnectTimeout(Timeout.ofMinutes(1))\n              .setTimeToLive(TimeValue.ofMinutes(10))\n              .build())\n</code></pre>\n<p>You can probably use another connection manager as well, supposedly it should have same <code>setDefaultConnectionConfig</code> method or similar on it's builder.</p>\n"}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77231713,"answer_count":1,"score":0,"last_activity_date":1696441944,"creation_date":1696439462,"question_id":77231660,"body_markdown":"I am updating my project to use HTTP Client 5.2 version and my old code has setConnectTimeout() deprecated method.\r\n\r\nIt is now replaced with ```ConnectionConfig.Builder``` but I am not sure how to change the code\r\n\r\nOld code:\r\n```\r\nimport org.apache.hc.client5.http.config.RequestConfig;\r\n\r\npublic RequestConfig requestConfig() {\r\n   return RequestConfig.custom()\r\n       .setConnectionRequestTimeout(cRtimout)\r\n       .setConnectTimeout(cTimeout)\r\n       .setSocketTimeout(sTimout)\r\n       .build();\r\n}\r\n```\r\n\r\nI have referred this stackoverflow link https://stackoverflow.com/questions/73711766/no-setsockettimeouttimeout-method-in-org-apache-hc-client5-http-config-request\r\nand changed the code as below\r\n```\r\npublic RequestConfig requestConfig() {\r\n   return RequestConfig.custom()\r\n       .setConnectionRequestTimeout(cRtimout)\r\n       .setResponseTimeout(sTimout) // As socketTimeout is now responseTimout\r\n       .build();\r\n}\r\n```\r\nThis RequestConfig is passed to the below code snippet\r\n```\r\npublic ClosableHttpClient httpClient(RequestConfig reqConfig,PoolingHttpClientConnectionManager poolingHttpClientConnecMgr){\r\n\r\n  CloseableHttpClient client = HttpClients.custom().\r\n         .setDefaultRequestConfig(reqConfig)\r\n         .setConnectionManager(poolingHttpClientConnecMgr)\r\n         .setRetryStrategy( // some code block here)\r\n         .build();\r\n}\r\n\r\n```\r\nBut I am not sure how to change the code for setConnectTimout() \r\n\r\n\r\nCan someone help on this please?","title":"How to use setConnectTimeout() method in org.apache.hc.client5.http.config.RequestConfig","body":"<p>I am updating my project to use HTTP Client 5.2 version and my old code has setConnectTimeout() deprecated method.</p>\n<p>It is now replaced with <code>ConnectionConfig.Builder</code> but I am not sure how to change the code</p>\n<p>Old code:</p>\n<pre><code>import org.apache.hc.client5.http.config.RequestConfig;\n\npublic RequestConfig requestConfig() {\n   return RequestConfig.custom()\n       .setConnectionRequestTimeout(cRtimout)\n       .setConnectTimeout(cTimeout)\n       .setSocketTimeout(sTimout)\n       .build();\n}\n</code></pre>\n<p>I have referred this stackoverflow link <a href=\"https://stackoverflow.com/questions/73711766/no-setsockettimeouttimeout-method-in-org-apache-hc-client5-http-config-request\">No setSocketTimeout(timeout) method in org.apache.hc.client5.http.config.RequestConfig</a>\nand changed the code as below</p>\n<pre><code>public RequestConfig requestConfig() {\n   return RequestConfig.custom()\n       .setConnectionRequestTimeout(cRtimout)\n       .setResponseTimeout(sTimout) // As socketTimeout is now responseTimout\n       .build();\n}\n</code></pre>\n<p>This RequestConfig is passed to the below code snippet</p>\n<pre><code>public ClosableHttpClient httpClient(RequestConfig reqConfig,PoolingHttpClientConnectionManager poolingHttpClientConnecMgr){\n\n  CloseableHttpClient client = HttpClients.custom().\n         .setDefaultRequestConfig(reqConfig)\n         .setConnectionManager(poolingHttpClientConnecMgr)\n         .setRetryStrategy( // some code block here)\n         .build();\n}\n\n</code></pre>\n<p>But I am not sure how to change the code for setConnectTimout()</p>\n<p>Can someone help on this please?</p>\n"},{"tags":["java","spring","spring-boot","amazon-ec2","apache-fineract"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1696278974,"post_id":77116936,"comment_id":136130340,"body_markdown":"when you say &quot;server stops responding&quot; when you request end point **/fineract-provider/actuator/health** what do you get 404 500 204 timeout , connection refused ?","body":"when you say &quot;server stops responding&quot; when you request end point <b>/fineract-provider/actuator/health</b> what do you get 404 500 204 timeout , connection refused ?"}],"owner":{"account_id":931524,"reputation":141,"user_id":961335,"display_name":"RakeshSharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696441304,"creation_date":1694852235,"question_id":77116936,"body_markdown":"I&#39;m facing a problem while deploying my Fineract Spring Boot application on an AWS server (Ubuntu amd Tx large). The application is based on the develop branch of the Fineract repository, and I&#39;ve followed the steps outlined [here](https://github.com/apache/fineract/tree/develop).\r\n\r\nHere are the key steps I&#39;ve taken:\r\n\r\nModified application.properties and build.gradle as per the configuration requirements.\r\nSet up a PostgreSQL database on AWS RDS and ensured that the database connection details in application.properties are accurate.\r\n\r\nRan the following Gradle commands:\r\n\r\n```\r\n&lt;code&gt;\r\n./gradlew createPGDB -PdbName=fineract_tenants\r\n./gradlew createPGDB -PdbName=fineract_default\r\n./gradlew bootRun\r\n&lt;/code&gt;\r\n```\r\n\r\nThe issue I&#39;m encountering is that the server stops responding after running ./gradlew bootRun\r\n\r\nI&#39;ve checked logs, resource usage, security group settings, and Nginx configuration, but I can&#39;t seem to pinpoint the exact problem. The logs do not show any error messages or exceptions.\r\n\r\n./gradlew build runs successfully.\r\n\r\nHas anyone successfully deployed the develop branch of Fineract on AWS, or does anyone have insights into what might be causing this issue?\r\n\r\nAny assistance or suggestions on how to troubleshoot and resolve this problem would be greatly appreciated.\r\n\r\nEnvironment Details:\r\n\r\nAWS Server: Ubuntu amd Tx large\r\nFineract Branch: develop\r\nDatabase: PostgreSQL on AWS RDS\r\nReverse Proxy: Nginx\\`","title":"Fineract Spring Boot Application Deployment Issue on AWS","body":"<p>I'm facing a problem while deploying my Fineract Spring Boot application on an AWS server (Ubuntu amd Tx large). The application is based on the develop branch of the Fineract repository, and I've followed the steps outlined <a href=\"https://github.com/apache/fineract/tree/develop\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here are the key steps I've taken:</p>\n<p>Modified application.properties and build.gradle as per the configuration requirements.\nSet up a PostgreSQL database on AWS RDS and ensured that the database connection details in application.properties are accurate.</p>\n<p>Ran the following Gradle commands:</p>\n<pre><code>&lt;code&gt;\n./gradlew createPGDB -PdbName=fineract_tenants\n./gradlew createPGDB -PdbName=fineract_default\n./gradlew bootRun\n&lt;/code&gt;\n</code></pre>\n<p>The issue I'm encountering is that the server stops responding after running ./gradlew bootRun</p>\n<p>I've checked logs, resource usage, security group settings, and Nginx configuration, but I can't seem to pinpoint the exact problem. The logs do not show any error messages or exceptions.</p>\n<p>./gradlew build runs successfully.</p>\n<p>Has anyone successfully deployed the develop branch of Fineract on AWS, or does anyone have insights into what might be causing this issue?</p>\n<p>Any assistance or suggestions on how to troubleshoot and resolve this problem would be greatly appreciated.</p>\n<p>Environment Details:</p>\n<p>AWS Server: Ubuntu amd Tx large\nFineract Branch: develop\nDatabase: PostgreSQL on AWS RDS\nReverse Proxy: Nginx`</p>\n"},{"tags":["java","algorithm","simulation","physics"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1531911932,"post_id":51400308,"comment_id":89771437,"body_markdown":"without showing the code we can&#39;t really tell if it is correctly implemented","body":"without showing the code we can&#39;t really tell if it is correctly implemented"},{"owner":{"account_id":6070938,"reputation":63,"user_id":4739791,"accept_rate":80,"display_name":"PeterLikesCode"},"score":0,"creation_date":1531913634,"post_id":51400308,"comment_id":89772505,"body_markdown":"Yes, but also I was asking about the performance change. Maybe someone has experience and can tell me how much better a simulation is expected to run compared to brute force?","body":"Yes, but also I was asking about the performance change. Maybe someone has experience and can tell me how much better a simulation is expected to run compared to brute force?"},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1531916139,"post_id":51400308,"comment_id":89774268,"body_markdown":"It is perfectly possible that the bottleneck is not the simulation, but rendering. Without more details on what you are doing, there is no way to comment on your algorithm&#39;s implementation.","body":"It is perfectly possible that the bottleneck is not the simulation, but rendering. Without more details on what you are doing, there is no way to comment on your algorithm&#39;s implementation."},{"owner":{"account_id":6070938,"reputation":63,"user_id":4739791,"accept_rate":80,"display_name":"PeterLikesCode"},"score":0,"creation_date":1531917176,"post_id":51400308,"comment_id":89774953,"body_markdown":"I added my code as you requested.","body":"I added my code as you requested."},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1531989541,"post_id":51400308,"comment_id":89806992,"body_markdown":"@PeterLikesCode newer used nor heard of this algorithm before but from quick look at it the speedup depends on the dataset. If you do not have majority of the bodies grouped then the code could be actually slower than brute force due to added overhead. So the worse case scenario I can see is having uniformly distributed bodies ... as we do not know your bodies position (a screenshot would be nice) we can only guess you are either have small trade off or doing somethng ineffectivelly or even do the clustering too often","body":"@PeterLikesCode newer used nor heard of this algorithm before but from quick look at it the speedup depends on the dataset. If you do not have majority of the bodies grouped then the code could be actually slower than brute force due to added overhead. So the worse case scenario I can see is having uniformly distributed bodies ... as we do not know your bodies position (a screenshot would be nice) we can only guess you are either have small trade off or doing somethng ineffectivelly or even do the clustering too often"}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531987892,"creation_date":1531987892,"answer_id":51417575,"question_id":51400308,"body_markdown":"Your code is still incomplete (read on [SSCCE](http://sscce.org)s ), and in-depth debugging of incomplete code is not the purpose of the site. However, this is how I would approach the next steps of figuring what, if anything, is wrong:\r\n\r\n- time *only* the function that you are worried about (let us call it barnes_hutt_update()); and not the whole update loop. Compare that to the equivalent, non-B-H code, and not to the whole update loop without B-H. This would result in a much more meaningful comparison.\r\n- you seem to have hard-coded s/d 0.5 into your algorithm. Leaving it as an argument, you should be able to notice speedups when it is set higher; and very similar performance to a naive, non-B-H implementation if set to 0. Speedup in B-H comes from evaluating less nodes (because far-away nodes are lumped together); do you know how many nodes you are managing to skip? *No skipped nodes, no speedup.* On the other hand, skipping nodes introduces small errors in the calculation - have you quantified those?\r\n- *have a look at other implementations of B-H online*. D3&#39;s [force layout](https://github.com/d3/d3-force/blob/master/src/manyBody.js) uses it internally, and is quite readable. There are multiple existing quadtree implementations. If you have built your own, they may be sub-optimal (or even buggy). Unless you are trying to learn-by-doing, it is always better to use a tested library instead of rolling your own.\r\n- slowdown may be due to the use of quadtrees, rather than from force addition itself. It would be useful to know how long building and updating the quadtree is taking, as compared to the B-H force aproximation itself -- because quadtrees are, in this case, pure overhead. B-H needs quadtrees, but the naive, non-B-H implementation does not. For small amounts of nodes, naive will be faster (but will get slower very fast as you add more and more). *How does the performance scale as you add more and more bodies*?\r\n- are you creating and discarding large amounts of objects? You can make your algorithm avoid the associated overhead (yes, *lots of news + garbage collection can result in significant slowdowns*) by using a [memory pool](https://github.com/libgdx/libgdx/wiki/Memory-management#object-pooling). ","title":"n-body Simulation expected performance barnes hut","body":"<p>Your code is still incomplete (read on <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a>s ), and in-depth debugging of incomplete code is not the purpose of the site. However, this is how I would approach the next steps of figuring what, if anything, is wrong:</p>\n\n<ul>\n<li>time <em>only</em> the function that you are worried about (let us call it barnes_hutt_update()); and not the whole update loop. Compare that to the equivalent, non-B-H code, and not to the whole update loop without B-H. This would result in a much more meaningful comparison.</li>\n<li>you seem to have hard-coded s/d 0.5 into your algorithm. Leaving it as an argument, you should be able to notice speedups when it is set higher; and very similar performance to a naive, non-B-H implementation if set to 0. Speedup in B-H comes from evaluating less nodes (because far-away nodes are lumped together); do you know how many nodes you are managing to skip? <em>No skipped nodes, no speedup.</em> On the other hand, skipping nodes introduces small errors in the calculation - have you quantified those?</li>\n<li><em>have a look at other implementations of B-H online</em>. D3's <a href=\"https://github.com/d3/d3-force/blob/master/src/manyBody.js\" rel=\"nofollow noreferrer\">force layout</a> uses it internally, and is quite readable. There are multiple existing quadtree implementations. If you have built your own, they may be sub-optimal (or even buggy). Unless you are trying to learn-by-doing, it is always better to use a tested library instead of rolling your own.</li>\n<li>slowdown may be due to the use of quadtrees, rather than from force addition itself. It would be useful to know how long building and updating the quadtree is taking, as compared to the B-H force aproximation itself -- because quadtrees are, in this case, pure overhead. B-H needs quadtrees, but the naive, non-B-H implementation does not. For small amounts of nodes, naive will be faster (but will get slower very fast as you add more and more). <em>How does the performance scale as you add more and more bodies</em>?</li>\n<li>are you creating and discarding large amounts of objects? You can make your algorithm avoid the associated overhead (yes, <em>lots of news + garbage collection can result in significant slowdowns</em>) by using a <a href=\"https://github.com/libgdx/libgdx/wiki/Memory-management#object-pooling\" rel=\"nofollow noreferrer\">memory pool</a>. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4295654,"reputation":425,"user_id":3510803,"display_name":"SirDorius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696441191,"creation_date":1696441191,"answer_id":77231839,"question_id":51400308,"body_markdown":"I think this is a much cleaner explanation of the algorithm https://jheer.github.io/barnes-hut/\r\n\r\nIt also has a benchmark chart which shows that for that particular implementation, with theta=0.5, the cutoff for where BH becomes more efficient is 6k bodies, which makes sense, since constructing the quadtree has an overhead that the naive solution does not have.\r\n\r\nThe better question here should be: how does the performance of the two solutions scale relative to the number of bodies and the parameter theta?","title":"n-body Simulation expected performance barnes hut","body":"<p>I think this is a much cleaner explanation of the algorithm <a href=\"https://jheer.github.io/barnes-hut/\" rel=\"nofollow noreferrer\">https://jheer.github.io/barnes-hut/</a></p>\n<p>It also has a benchmark chart which shows that for that particular implementation, with theta=0.5, the cutoff for where BH becomes more efficient is 6k bodies, which makes sense, since constructing the quadtree has an overhead that the naive solution does not have.</p>\n<p>The better question here should be: how does the performance of the two solutions scale relative to the number of bodies and the parameter theta?</p>\n"}],"owner":{"account_id":6070938,"reputation":63,"user_id":4739791,"accept_rate":80,"display_name":"PeterLikesCode"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696441191,"creation_date":1531911584,"question_id":51400308,"body_markdown":"I made a 2D n-body simulation using brute force at first, but then following http://arborjs.org/docs/barnes-hut this I&#39;ve implemented a Barnes-Hut approximation algorithm. However this didn&#39;t give me the effect I was looking for. \r\n\r\nEx: \r\n\r\nBarnes-Hut -&gt; 2000 Bodies; frametime avg. 32 ms and 5000; 164 ms\r\n\r\nBrute force -&gt; 2000 Bodies; frametime avg. 31 ms and 5000; 195 ms\r\n\r\nThese values are with rendering turned off.\r\n\r\nAm I correct to assume that I haven&#39;t correctly implemented the algorithm and am thus not getting a substantial increase in performance?\r\n\r\nTheta is currently set to s/d &lt; 0.5. Changing this value to e.g. 1 does increase performance, but it&#39;s quite obvious why this isn&#39;t preferred.\r\n\r\nSingle threaded\r\n\r\nMy code along general lines:\r\n\r\n    while(!close)\r\n\t\t{\r\n\t\t\tlong newTime = System.currentTimeMillis();\r\n\t\t\tlong frameTime = newTime-currentTime;\r\n\t\t\tSystem.out.println(frameTime);\r\n\t\t\tcurrentTime = newTime;\r\n\t\t\t\r\n\t\t\tupdate the bodies\r\n\t\t}\r\n \r\nWithin the function that updates the bodies:\r\n    \r\n    first insert all bodies into the quadtree with all its subnodes\r\n    for all bodies\r\n\t\t{\r\n\t\t\tcompute the physics using Barnes-Hut which yields a net force per planet (doPhysics(body))\r\n\t\t\tcalculate instantaneous acceleration from net force\r\n\t\t\tupdate the instantaneous velocity\r\n\t\t}\r\n\r\nThe barneshut function:\r\n\r\n    doPhysics(body)\r\n\t{\r\n\t\tif(node is external (contains 1 body) and that body is not itself)\r\n\t\t{\r\n\t\t\tcalculate the force between those two bodies\r\n\t\t\t\r\n\t\t}else if(node is internal and s/d &lt; 0.5)\r\n\t\t{\r\n\t\t\tcreate a pseudobody at the COM with the nodes total mass\r\n\t\t\tcalculate the force between the body and pseudobody\r\n\t\t\t\r\n\t\t}else (if is it internal but s/d &gt;= 0.5)\r\n\t\t{\r\n            (this is where recursion comes in)\r\n\t\t\tdoPhysics on same body but on the NorthEast subnode\r\n\t\t\tdoPhysics on same body but on the NorthWest subnode\r\n\t\t\tdoPhysics on same body but on the SouthEast subnode\r\n\t\t\tdoPhysics on same body but on the SouthWest subnode\r\n\t\t}\r\n\t}\r\n\r\nActually calculating the force:\r\n\r\n    calculateforce(body, otherbody)\r\n\t{\r\n\t\tif(body is not at exactly the same position (avoid division by 0))\r\n\t\t{\r\n\t\t\tcalculate force using newtons law of gravitation in vector form\r\n\r\n\t\t\tadd the force to the bodies&#39; net force in this frame\r\n\t\t}\r\n\t}","title":"n-body Simulation expected performance barnes hut","body":"<p>I made a 2D n-body simulation using brute force at first, but then following <a href=\"http://arborjs.org/docs/barnes-hut\" rel=\"nofollow noreferrer\">http://arborjs.org/docs/barnes-hut</a> this I've implemented a Barnes-Hut approximation algorithm. However this didn't give me the effect I was looking for. </p>\n\n<p>Ex: </p>\n\n<p>Barnes-Hut -> 2000 Bodies; frametime avg. 32 ms and 5000; 164 ms</p>\n\n<p>Brute force -> 2000 Bodies; frametime avg. 31 ms and 5000; 195 ms</p>\n\n<p>These values are with rendering turned off.</p>\n\n<p>Am I correct to assume that I haven't correctly implemented the algorithm and am thus not getting a substantial increase in performance?</p>\n\n<p>Theta is currently set to s/d &lt; 0.5. Changing this value to e.g. 1 does increase performance, but it's quite obvious why this isn't preferred.</p>\n\n<p>Single threaded</p>\n\n<p>My code along general lines:</p>\n\n<pre><code>while(!close)\n    {\n        long newTime = System.currentTimeMillis();\n        long frameTime = newTime-currentTime;\n        System.out.println(frameTime);\n        currentTime = newTime;\n\n        update the bodies\n    }\n</code></pre>\n\n<p>Within the function that updates the bodies:</p>\n\n<pre><code>first insert all bodies into the quadtree with all its subnodes\nfor all bodies\n    {\n        compute the physics using Barnes-Hut which yields a net force per planet (doPhysics(body))\n        calculate instantaneous acceleration from net force\n        update the instantaneous velocity\n    }\n</code></pre>\n\n<p>The barneshut function:</p>\n\n<pre><code>doPhysics(body)\n{\n    if(node is external (contains 1 body) and that body is not itself)\n    {\n        calculate the force between those two bodies\n\n    }else if(node is internal and s/d &lt; 0.5)\n    {\n        create a pseudobody at the COM with the nodes total mass\n        calculate the force between the body and pseudobody\n\n    }else (if is it internal but s/d &gt;= 0.5)\n    {\n        (this is where recursion comes in)\n        doPhysics on same body but on the NorthEast subnode\n        doPhysics on same body but on the NorthWest subnode\n        doPhysics on same body but on the SouthEast subnode\n        doPhysics on same body but on the SouthWest subnode\n    }\n}\n</code></pre>\n\n<p>Actually calculating the force:</p>\n\n<pre><code>calculateforce(body, otherbody)\n{\n    if(body is not at exactly the same position (avoid division by 0))\n    {\n        calculate force using newtons law of gravitation in vector form\n\n        add the force to the bodies' net force in this frame\n    }\n}\n</code></pre>\n"},{"tags":["java","icepdf"],"comments":[{"owner":{"account_id":4558732,"reputation":108,"user_id":3701642,"display_name":"kieuanhvu"},"score":0,"creation_date":1696443496,"post_id":32967593,"comment_id":136155045,"body_markdown":"Hi Razlo3p, I have an issue with Icepdf about the annotation and if you know the solution, can you help me to resolve that? (Because I can&#39;t post image in comment, so I post my question at https://stackoverflow.com/questions/77232060/icepdf-change-annotation-position)","body":"Hi Razlo3p, I have an issue with Icepdf about the annotation and if you know the solution, can you help me to resolve that? (Because I can&#39;t post image in comment, so I post my question at <a href=\"https://stackoverflow.com/questions/77232060/icepdf-change-annotation-position\" title=\"icepdf change annotation position\">stackoverflow.com/questions/77232060/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1453972002,"creation_date":1453972002,"answer_id":35057060,"question_id":32967593,"body_markdown":"I had to work around on this, no real clue hot to solve.","title":"Icepdf annotation let page disappear","body":"<p>I had to work around on this, no real clue hot to solve.</p>\n"}],"owner":{"account_id":4160077,"reputation":477,"user_id":3410377,"accept_rate":93,"display_name":"Razlo3p"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35057060,"answer_count":1,"score":1,"last_activity_date":1696441190,"creation_date":1444127094,"question_id":32967593,"body_markdown":"I&#39;m developing an application that use `Icepdf` to show a pdf and draw something upon it.\r\n\r\nI have a square annotation floating over the page but i have a nasty issue.\r\nIf i change page and come back to the page where the annotation is visible, if i move the annotation by dragging it the content of the page disappear becoming completely blank. This is the portion of code i use to show the moving annotation on top of the pdf.\r\n \r\nProbably I&#39;m missing something or doing it in wrong way.\r\n\r\n    controller.setAnnotationPanel(null);\r\n    controller.setDocumentToolMode(DocumentViewModelImpl.DISPLAY_TOOL_SELECTION);      controller.getDocumentViewController().setViewCursor(DocumentViewController.CURSOR_SELECT);\r\n    Rectangle bbox = new Rectangle((int) (getPageWidth(getLastPage()) - SIGN_BOX_WIDTH - SIGN_BOX_MARGIN), SIGN_BOX_MARGIN, SIGN_BOX_WIDTH, SIGN_BOX_HEIGHT);\r\n    int index = getLastPage() - 1;\r\n    Document document = controller.getDocument();\r\n    DocumentViewModel documentViewModel=controller.getDocumentViewController().getDocumentViewModel();\r\n    PageTree pageTree = document.getPageTree();\r\n    Page page = pageTree.getPage(index);\r\n    // create and init the page&#39;s annotation components. [b]\r\n    java.util.List&lt;AbstractPageViewComponent&gt; pageComponents=controller.getDocumentViewController().getDocumentViewModel().getPageComponents();\r\n    AbstractPageViewComponent pageViewComponent = pageComponents.get(getLastPage() - 1);\r\n    \r\n    tsq = (SquareAnnotation) AnnotationFactory.buildAnnotation(controller.getDocument().getPageTree().getLibrary(),Annotation.SUBTYPE_SQUARE,bbox);\r\n    BorderStyle bs = new BorderStyle();\r\n    bs.setBorderStyle(BorderStyle.BORDER_STYLE_SOLID);\r\n    bs.setStrokeWidth(2.0f);\r\n    tsq.setColor(Color.red);\r\n    tsq.setBorderStyle(bs);\r\n    tsq.setBBox(bbox);\r\n    tsq.setRectangle(bbox);\r\n    AffineTransform at = controller.getDocument().getPageTree().getPage(getLastPage() - 1).getPageTransform(controller.getDocumentViewController().getDocumentViewModel().getPageBoundary(), controller.getUserRotation(), controller.getUserZoom());\r\n    tsq.resetAppearanceStream(at);\r\n    \r\n    SquareAnnotationComponent annotationComponent= (SquareAnnotationComponent) AnnotationComponentFactory.buildAnnotationComponent(tsq,controller.getDocumentViewController(),pageViewComponent,controller.getDocumentViewController().getDocumentViewModel());\r\n    annoCB.setCurrentAnnotation(annotationComponent);\r\n    controller.getDocument().getPageTree().getPage(getLastPage() - 1).addAnnotation(tsq);\r\n\r\n\r\n\r\nPlease assist to solve.","title":"Icepdf annotation let page disappear","body":"<p>I'm developing an application that use <code>Icepdf</code> to show a pdf and draw something upon it.</p>\n\n<p>I have a square annotation floating over the page but i have a nasty issue.\nIf i change page and come back to the page where the annotation is visible, if i move the annotation by dragging it the content of the page disappear becoming completely blank. This is the portion of code i use to show the moving annotation on top of the pdf.</p>\n\n<p>Probably I'm missing something or doing it in wrong way.</p>\n\n<pre><code>controller.setAnnotationPanel(null);\ncontroller.setDocumentToolMode(DocumentViewModelImpl.DISPLAY_TOOL_SELECTION);      controller.getDocumentViewController().setViewCursor(DocumentViewController.CURSOR_SELECT);\nRectangle bbox = new Rectangle((int) (getPageWidth(getLastPage()) - SIGN_BOX_WIDTH - SIGN_BOX_MARGIN), SIGN_BOX_MARGIN, SIGN_BOX_WIDTH, SIGN_BOX_HEIGHT);\nint index = getLastPage() - 1;\nDocument document = controller.getDocument();\nDocumentViewModel documentViewModel=controller.getDocumentViewController().getDocumentViewModel();\nPageTree pageTree = document.getPageTree();\nPage page = pageTree.getPage(index);\n// create and init the page's annotation components. [b]\njava.util.List&lt;AbstractPageViewComponent&gt; pageComponents=controller.getDocumentViewController().getDocumentViewModel().getPageComponents();\nAbstractPageViewComponent pageViewComponent = pageComponents.get(getLastPage() - 1);\n\ntsq = (SquareAnnotation) AnnotationFactory.buildAnnotation(controller.getDocument().getPageTree().getLibrary(),Annotation.SUBTYPE_SQUARE,bbox);\nBorderStyle bs = new BorderStyle();\nbs.setBorderStyle(BorderStyle.BORDER_STYLE_SOLID);\nbs.setStrokeWidth(2.0f);\ntsq.setColor(Color.red);\ntsq.setBorderStyle(bs);\ntsq.setBBox(bbox);\ntsq.setRectangle(bbox);\nAffineTransform at = controller.getDocument().getPageTree().getPage(getLastPage() - 1).getPageTransform(controller.getDocumentViewController().getDocumentViewModel().getPageBoundary(), controller.getUserRotation(), controller.getUserZoom());\ntsq.resetAppearanceStream(at);\n\nSquareAnnotationComponent annotationComponent= (SquareAnnotationComponent) AnnotationComponentFactory.buildAnnotationComponent(tsq,controller.getDocumentViewController(),pageViewComponent,controller.getDocumentViewController().getDocumentViewModel());\nannoCB.setCurrentAnnotation(annotationComponent);\ncontroller.getDocument().getPageTree().getPage(getLastPage() - 1).addAnnotation(tsq);\n</code></pre>\n\n<p>Please assist to solve.</p>\n"},{"tags":["java","spring","spring-boot","spring-websocket","real-time-updates"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696440574,"post_id":77231555,"comment_id":136154470,"body_markdown":"[This](https://stackoverflow.com/questions/65883282/how-to-hook-all-successfull-inserts-updates-and-deletions-in-a-spring-data-repo) might help.","body":"<a href=\"https://stackoverflow.com/questions/65883282/how-to-hook-all-successfull-inserts-updates-and-deletions-in-a-spring-data-repo\">This</a> might help."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1696440947,"post_id":77231555,"comment_id":136154539,"body_markdown":"Also, could there be other apps, or even manual inserts/updates to a table?  Some DBs support triggers and can publish a message to a queue/topic.","body":"Also, could there be other apps, or even manual inserts/updates to a table?  Some DBs support triggers and can publish a message to a queue/topic."},{"owner":{"account_id":26585488,"reputation":11,"user_id":20214885,"display_name":"Pedro Paulo"},"score":0,"creation_date":1696445174,"post_id":77231555,"comment_id":136155299,"body_markdown":"Thank you guys for the answers. @AndrewS No, at first there is only crud that does these basic operations and it is exposed in the API for the frontend to consume, so the insertions and changes are only through this endpoint","body":"Thank you guys for the answers. @AndrewS No, at first there is only crud that does these basic operations and it is exposed in the API for the frontend to consume, so the insertions and changes are only through this endpoint"}],"answers":[{"tags":[],"owner":{"account_id":9661155,"reputation":104,"user_id":22683654,"display_name":"Roma S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696441135,"creation_date":1696441135,"answer_id":77231833,"question_id":77231555,"body_markdown":"I think you should use something like this:  \r\n**Dto.java:**\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Dto {\r\n    private String status;\r\n}\r\n```\r\n**MessagingService.java:**\r\n```java\r\npublic class MessagingService {\r\n    public void sendMessage(Dto dto) {\r\n        System.out.println(\r\n                String.format(\r\n                        &quot;Send message to %s, data=%s&quot;,\r\n                        &quot;/topic/your_topic&quot;,\r\n                        dto\r\n                )\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n**NotifierService.java:**\r\n```java\r\n@RequiredArgsConstructor\r\npublic class NotifierService {\r\n    private final MessagingService messagingService;\r\n\r\n    public void notifyIfNeeded(Dto dto) {\r\n        if (STATUS_FOR_NOTIFY.equals(dto.getStatus())) {\r\n            messagingService.sendMessage(dto);\r\n        }\r\n    }\r\n}\r\n```\r\n**DtoUpdateService.java:**\r\n```java\r\npublic class DtoUpdateService {\r\n    @Transactional\r\n    public Dto update(Long id, Dto dto) {\r\n        //your logic here\r\n        dto.setStatus(STATUSES[new Random().nextInt(STATUSES.length)]);\r\n        return dto;\r\n    }\r\n}\r\n```\r\n**UpdaterService.java:**\r\n```java\r\n@RequiredArgsConstructor\r\npublic class UpdaterService {\r\n    private final DtoUpdateService dtoUpdateService;\r\n    private final NotifierService notifierService;\r\n\r\n    public Dto update(Long id, Dto dto) {\r\n        Dto updated = dtoUpdateService.update(id, dto);\r\n        notifierService.notifyIfNeeded(updated);\r\n        return updated;\r\n    }\r\n}\r\n```\r\n\r\n**Main:**\r\n```java\r\npublic class Answer77231555 {\r\n    public static final String STATUS_FOR_NOTIFY = &quot;status_for_notify&quot;;\r\n    public static final String STATUS_NOT_FOR_NOTIFY = &quot;any_else&quot;;\r\n    public static final String[] STATUSES = new String[]{STATUS_FOR_NOTIFY, STATUS_NOT_FOR_NOTIFY};\r\n\r\n    public static void main(String[] args) {\r\n        Dto dto = new Dto();\r\n        DtoUpdateService dtoUpdateService = new DtoUpdateService();\r\n        MessagingService messagingService = new MessagingService();\r\n        NotifierService notifierService = new NotifierService(messagingService);\r\n        UpdaterService updaterService = new UpdaterService(dtoUpdateService, notifierService);\r\n        updaterService.update(1L, dto);\r\n        updaterService.update(1L, dto);\r\n        updaterService.update(1L, dto);\r\n        updaterService.update(1L, dto);\r\n    }\r\n}\r\n```","title":"(Java) Is there a way for me to send data with every change in the database via WebSocket?","body":"<p>I think you should use something like this:<br />\n<strong>Dto.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Dto {\n    private String status;\n}\n</code></pre>\n<p><strong>MessagingService.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MessagingService {\n    public void sendMessage(Dto dto) {\n        System.out.println(\n                String.format(\n                        &quot;Send message to %s, data=%s&quot;,\n                        &quot;/topic/your_topic&quot;,\n                        dto\n                )\n        );\n    }\n}\n</code></pre>\n<p><strong>NotifierService.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class NotifierService {\n    private final MessagingService messagingService;\n\n    public void notifyIfNeeded(Dto dto) {\n        if (STATUS_FOR_NOTIFY.equals(dto.getStatus())) {\n            messagingService.sendMessage(dto);\n        }\n    }\n}\n</code></pre>\n<p><strong>DtoUpdateService.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DtoUpdateService {\n    @Transactional\n    public Dto update(Long id, Dto dto) {\n        //your logic here\n        dto.setStatus(STATUSES[new Random().nextInt(STATUSES.length)]);\n        return dto;\n    }\n}\n</code></pre>\n<p><strong>UpdaterService.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class UpdaterService {\n    private final DtoUpdateService dtoUpdateService;\n    private final NotifierService notifierService;\n\n    public Dto update(Long id, Dto dto) {\n        Dto updated = dtoUpdateService.update(id, dto);\n        notifierService.notifyIfNeeded(updated);\n        return updated;\n    }\n}\n</code></pre>\n<p><strong>Main:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Answer77231555 {\n    public static final String STATUS_FOR_NOTIFY = &quot;status_for_notify&quot;;\n    public static final String STATUS_NOT_FOR_NOTIFY = &quot;any_else&quot;;\n    public static final String[] STATUSES = new String[]{STATUS_FOR_NOTIFY, STATUS_NOT_FOR_NOTIFY};\n\n    public static void main(String[] args) {\n        Dto dto = new Dto();\n        DtoUpdateService dtoUpdateService = new DtoUpdateService();\n        MessagingService messagingService = new MessagingService();\n        NotifierService notifierService = new NotifierService(messagingService);\n        UpdaterService updaterService = new UpdaterService(dtoUpdateService, notifierService);\n        updaterService.update(1L, dto);\n        updaterService.update(1L, dto);\n        updaterService.update(1L, dto);\n        updaterService.update(1L, dto);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26585488,"reputation":11,"user_id":20214885,"display_name":"Pedro Paulo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696441135,"creation_date":1696438509,"question_id":77231555,"body_markdown":"I&#39;m a beginner in programming (and Java too) and I need to implement a service that shows changes in real time, I&#39;m trying to use WebSocket for this. I have the following action:\r\n\r\n```\r\n @Scheduled(fixedRate = 100000)\r\n    public void sendRealTimeUpdates() {\r\n        List&lt;OrdemDeServico&gt; ordemEmProducao = repository.findByStatus(&quot;Em Produ&#231;&#227;o&quot;);\r\n        List&lt;EmProducaoDTO&gt; dtos = ordemEmProducao.stream()\r\n                .map(this::convertToDto)\r\n                .collect(Collectors.toList());\r\n        messagingTemplate.convertAndSend(&quot;/topic/ordemDeServico&quot;, dtos);\r\n    }\r\n```\r\n\r\nHowever, instead of performing this action every 1 minute, I&#39;d like it to perform a change in the status field of my OrdemDeServico class each time.\r\nHere is the class update function\r\n\r\n```\r\n@Transactional\r\n    public OrdemDeServicoDTO update(Long id, OrdemDeServicoDTO dto){\r\n        try{\r\n            OrdemDeServico entity = repository.getReferenceById(id);\r\n            copyDtoToEntity(dto, entity);\r\n            if(dto.getTechnicianId() != null &amp;&amp; dto.getTechnicianId() != 0){\r\n                Tecnico tecnico = tecnicoRepository.findById(dto.getTechnicianId())\r\n                        .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Tecnico n&#227;o encontrado&quot;));\r\n                entity.setTechnician(tecnico);\r\n            } else {\r\n                entity.setTechnician(null);\r\n            }\r\n            entity = repository.save(entity);\r\n            return new OrdemDeServicoDTO(entity);\r\n        } catch (EntityNotFoundException e){\r\n            throw new ResourceNotFoundException(&quot;Nenhuma Ordem de Servi&#231;o encontrada com o id: &quot; + id);\r\n        }\r\n       }\r\n```\r\n\r\nI thought about putting an if/else directly inside the update method, but I don&#39;t know if that would be good practice:\r\n\r\n```\r\n@Transactional\r\n    public OrdemDeServicoDTO update(Long id, OrdemDeServicoDTO dto){\r\n        try{\r\n            OrdemDeServico entity = repository.getReferenceById(id);\r\n            copyDtoToEntity(dto, entity);\r\n            if(dto.getTechnicianId() != null &amp;&amp; dto.getTechnicianId() != 0){\r\n                Tecnico tecnico = tecnicoRepository.findById(dto.getTechnicianId())\r\n                        .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Tecnico n&#227;o encontrado&quot;));\r\n                entity.setTechnician(tecnico);\r\n            } else {\r\n                entity.setTechnician(null);\r\n            }\r\n            entity = repository.save(entity);\r\n\r\n\r\n            if(entity.getStatus().equals(&quot;Em Produ&#231;&#227;o&quot;)){\r\n                EmProducaoDTO emProducaoDto = convertToDto(entity);\r\n                messagingTemplate.convertAndSend(&quot;/topic/ordemDeServico&quot;, emProducaoDto);\r\n            }\r\n\r\n            return new OrdemDeServicoDTO(entity);\r\n        } catch (EntityNotFoundException e){\r\n            throw new ResourceNotFoundException(&quot;Nenhuma Ordem de Servi&#231;o encontrada com o id: &quot; + id);\r\n        }\r\n    }\r\n```\r\n\r\nIt may be obvious to most people, but I&#39;m still learning, thanks guys.","title":"(Java) Is there a way for me to send data with every change in the database via WebSocket?","body":"<p>I'm a beginner in programming (and Java too) and I need to implement a service that shows changes in real time, I'm trying to use WebSocket for this. I have the following action:</p>\n<pre><code> @Scheduled(fixedRate = 100000)\n    public void sendRealTimeUpdates() {\n        List&lt;OrdemDeServico&gt; ordemEmProducao = repository.findByStatus(&quot;Em Produção&quot;);\n        List&lt;EmProducaoDTO&gt; dtos = ordemEmProducao.stream()\n                .map(this::convertToDto)\n                .collect(Collectors.toList());\n        messagingTemplate.convertAndSend(&quot;/topic/ordemDeServico&quot;, dtos);\n    }\n</code></pre>\n<p>However, instead of performing this action every 1 minute, I'd like it to perform a change in the status field of my OrdemDeServico class each time.\nHere is the class update function</p>\n<pre><code>@Transactional\n    public OrdemDeServicoDTO update(Long id, OrdemDeServicoDTO dto){\n        try{\n            OrdemDeServico entity = repository.getReferenceById(id);\n            copyDtoToEntity(dto, entity);\n            if(dto.getTechnicianId() != null &amp;&amp; dto.getTechnicianId() != 0){\n                Tecnico tecnico = tecnicoRepository.findById(dto.getTechnicianId())\n                        .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Tecnico não encontrado&quot;));\n                entity.setTechnician(tecnico);\n            } else {\n                entity.setTechnician(null);\n            }\n            entity = repository.save(entity);\n            return new OrdemDeServicoDTO(entity);\n        } catch (EntityNotFoundException e){\n            throw new ResourceNotFoundException(&quot;Nenhuma Ordem de Serviço encontrada com o id: &quot; + id);\n        }\n       }\n</code></pre>\n<p>I thought about putting an if/else directly inside the update method, but I don't know if that would be good practice:</p>\n<pre><code>@Transactional\n    public OrdemDeServicoDTO update(Long id, OrdemDeServicoDTO dto){\n        try{\n            OrdemDeServico entity = repository.getReferenceById(id);\n            copyDtoToEntity(dto, entity);\n            if(dto.getTechnicianId() != null &amp;&amp; dto.getTechnicianId() != 0){\n                Tecnico tecnico = tecnicoRepository.findById(dto.getTechnicianId())\n                        .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Tecnico não encontrado&quot;));\n                entity.setTechnician(tecnico);\n            } else {\n                entity.setTechnician(null);\n            }\n            entity = repository.save(entity);\n\n\n            if(entity.getStatus().equals(&quot;Em Produção&quot;)){\n                EmProducaoDTO emProducaoDto = convertToDto(entity);\n                messagingTemplate.convertAndSend(&quot;/topic/ordemDeServico&quot;, emProducaoDto);\n            }\n\n            return new OrdemDeServicoDTO(entity);\n        } catch (EntityNotFoundException e){\n            throw new ResourceNotFoundException(&quot;Nenhuma Ordem de Serviço encontrada com o id: &quot; + id);\n        }\n    }\n</code></pre>\n<p>It may be obvious to most people, but I'm still learning, thanks guys.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627916513,"creation_date":1627914043,"answer_id":68623222,"question_id":68622921,"body_markdown":"Add `getter` methods for `id` and `userName` fields instead of mocking `Environment` class.\r\n\r\n```\r\n@Component\r\npublic class UserRowMapper implements RowMapper&lt;User&gt; {\r\n    @Value(&quot;${bug.value}&quot;)\r\n    private String id;\r\n\r\n    @Value(&quot;${wrong.value}&quot;)\r\n    private String userName;\r\n\r\n    @Override\r\n    public User mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        return User.builder()\r\n                .id(rs.getInt(getId()))\r\n                .userName(rs.getString(getUserName())).build();\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n}\r\n```\r\n\r\nWhile mocking:\r\n```\r\nMockito.when(userRowMapper.getId()).thenReturn(&quot;id&quot;);\r\nMockito.when(userRowMapper.getUserName()).thenReturn(&quot;userName&quot;);\r\n```\r\n---\r\nAlso, you can use `TestPropertySource` annotation to provide altogether different properties file:\r\n\r\n```\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;/application2.properties&quot;)\r\npublic class TestClassTest {\r\n\r\n    @Autowired\r\n    TestClass testClass;\r\n\r\n    @Test\r\n    public void test() {\r\n        assertEquals(&quot;id&quot;, testClass.getId());\r\n    }\r\n}\r\n```\r\n","title":"Mockito mock Java @Value with spring boot","body":"<p>Add <code>getter</code> methods for <code>id</code> and <code>userName</code> fields instead of mocking <code>Environment</code> class.</p>\n<pre><code>@Component\npublic class UserRowMapper implements RowMapper&lt;User&gt; {\n    @Value(&quot;${bug.value}&quot;)\n    private String id;\n\n    @Value(&quot;${wrong.value}&quot;)\n    private String userName;\n\n    @Override\n    public User mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return User.builder()\n                .id(rs.getInt(getId()))\n                .userName(rs.getString(getUserName())).build();\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n}\n</code></pre>\n<p>While mocking:</p>\n<pre><code>Mockito.when(userRowMapper.getId()).thenReturn(&quot;id&quot;);\nMockito.when(userRowMapper.getUserName()).thenReturn(&quot;userName&quot;);\n</code></pre>\n<hr />\n<p>Also, you can use <code>TestPropertySource</code> annotation to provide altogether different properties file:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(locations = &quot;/application2.properties&quot;)\npublic class TestClassTest {\n\n    @Autowired\n    TestClass testClass;\n\n    @Test\n    public void test() {\n        assertEquals(&quot;id&quot;, testClass.getId());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627914368,"creation_date":1627914050,"answer_id":68623223,"question_id":68622921,"body_markdown":"Unfortunately, there is no mocking mechanism for Spring&#39;s `@Value`. However, you can use a simple workaround using [`ReflectionUtils`][1] that serves for this purpose according to the JavaDoc:\r\n\r\n&gt; ReflectionTestUtils is a collection of reflection-based utility methods for use in unit and integration testing scenarios.\r\n&gt;\r\n&gt; There are often times when it would be beneficial to be able to set a non-public field, invoke a non-public setter method, or invoke a non-public configuration or lifecycle callback method when testing code involving\r\n\r\n```\r\nReflectionTestUtils.setField(userRowMapper, &quot;id&quot;, &quot;my-id-value&quot;);\r\nReflectionTestUtils.setField(userRowMapper, &quot;userName&quot;, &quot;my-userName-value&quot;);\r\n```\r\n\r\nJavaDoc for [`ReflectionTestUtils#setField(Object, String, Object)`][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Object-java.lang.String-java.lang.Object-","title":"Mockito mock Java @Value with spring boot","body":"<p>Unfortunately, there is no mocking mechanism for Spring's <code>@Value</code>. However, you can use a simple workaround using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"noreferrer\"><code>ReflectionUtils</code></a> that serves for this purpose according to the JavaDoc:</p>\n<blockquote>\n<p>ReflectionTestUtils is a collection of reflection-based utility methods for use in unit and integration testing scenarios.</p>\n<p>There are often times when it would be beneficial to be able to set a non-public field, invoke a non-public setter method, or invoke a non-public configuration or lifecycle callback method when testing code involving</p>\n</blockquote>\n<pre><code>ReflectionTestUtils.setField(userRowMapper, &quot;id&quot;, &quot;my-id-value&quot;);\nReflectionTestUtils.setField(userRowMapper, &quot;userName&quot;, &quot;my-userName-value&quot;);\n</code></pre>\n<p>JavaDoc for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Object-java.lang.String-java.lang.Object-\" rel=\"noreferrer\"><code>ReflectionTestUtils#setField(Object, String, Object)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":3923602,"reputation":738,"user_id":3244998,"display_name":"thepaoloboi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628618551,"creation_date":1627920788,"answer_id":68624837,"question_id":68622921,"body_markdown":"I would rather suggest to you to do not use inline `@Value` annotation on the consumer class. As you have seen, the class testability decreases. \r\n\r\nYou can solve your problem simply creating a `@Configuration` bean and injecting it to the `UserRowMapper` class. In this way, using DI you can easily mock the configuration in your tests.\r\n\r\nSee below a na&#239;ve implementation.\r\n\r\n    @Configuration\r\n    public class UserRowMapperConfiguration {\r\n        @Value(&quot;${bug.value}&quot;)\r\n        private String id;\r\n    \r\n        @Value(&quot;${wrong.value}&quot;)\r\n        private String userName;\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    @Component\r\n    public class UserRowMapper implements RowMapper&lt;User&gt; {\r\n        \r\n        private UserRowMapperConfiguration configuration;\r\n        \r\n        public UserRowMapper (UserRowMapperConfiguration configuration) {\r\n            this.configuration = configuration;\r\n        }\r\n    \r\n        @Override\r\n        public User mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n            return User.builder()\r\n                    .id(rs.getInt(this.configuration.getId()))\r\n                    .userName(rs.getString(this.configuration.getUserName())).build();\r\n        }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class UserRowMapperTest {\r\n        @Mock\r\n        UserRowMapperConfiguration configuration;\r\n        @Mock\r\n        ResultSet resultSet;\r\n        @InjectMocks\r\n        UserRowMapper userRowMapper;\r\n    \r\n        @Test\r\n        void testMapRow() {\r\n            when(configuration.getId()).thenReturn(&quot;id&quot;);\r\n            when(configuration.getUserName()).thenReturn(&quot;userName&quot;);\r\n            try {\r\n                final User user = userRowMapper.mapRow(resultSet, anyInt());\r\n                \r\n                // check if its ok\r\n            } catch (SQLException throwables) {\r\n                throwables.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Mockito mock Java @Value with spring boot","body":"<p>I would rather suggest to you to do not use inline <code>@Value</code> annotation on the consumer class. As you have seen, the class testability decreases.</p>\n<p>You can solve your problem simply creating a <code>@Configuration</code> bean and injecting it to the <code>UserRowMapper</code> class. In this way, using DI you can easily mock the configuration in your tests.</p>\n<p>See below a naïve implementation.</p>\n<pre><code>@Configuration\npublic class UserRowMapperConfiguration {\n    @Value(&quot;${bug.value}&quot;)\n    private String id;\n\n    @Value(&quot;${wrong.value}&quot;)\n    private String userName;\n\n    public String getId() {\n        return id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n}\n</code></pre>\n\n<pre><code>@Component\npublic class UserRowMapper implements RowMapper&lt;User&gt; {\n    \n    private UserRowMapperConfiguration configuration;\n    \n    public UserRowMapper (UserRowMapperConfiguration configuration) {\n        this.configuration = configuration;\n    }\n\n    @Override\n    public User mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return User.builder()\n                .id(rs.getInt(this.configuration.getId()))\n                .userName(rs.getString(this.configuration.getUserName())).build();\n    }\n}\n</code></pre>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserRowMapperTest {\n    @Mock\n    UserRowMapperConfiguration configuration;\n    @Mock\n    ResultSet resultSet;\n    @InjectMocks\n    UserRowMapper userRowMapper;\n\n    @Test\n    void testMapRow() {\n        when(configuration.getId()).thenReturn(&quot;id&quot;);\n        when(configuration.getUserName()).thenReturn(&quot;userName&quot;);\n        try {\n            final User user = userRowMapper.mapRow(resultSet, anyInt());\n            \n            // check if its ok\n        } catch (SQLException throwables) {\n            throwables.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7028500,"reputation":31,"user_id":5755114,"display_name":"Sam Deir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651780334,"creation_date":1651780334,"answer_id":72132907,"question_id":68622921,"body_markdown":"As *thepaoloboi* suggested use a configuration class to hold all your configs. \r\nNow to test that your config is pointing to the right @Value key, you create an integration test by simply loading that object using spring without loading the whole context. That way it&#39;ll be as fast as a unit test.\r\n\r\nHere&#39;s an example:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @Import(UserRowMapperConfiguration.class)\r\n    @TestPropertySource(properties = { &quot;user.id=id&quot; , &quot;user.userName=userName&quot;})\r\n    class UserRowMapperConfigurationTest {\r\n    \r\n        @Autowired\r\n        UserRowMapperConfiguration userRowMapperConfiguration;\r\n    \r\n        @Test\r\n        void test() {\r\n            assertEquals(&quot;id&quot;,userRowMapperConfiguration.getId());\r\n            assertEquals(&quot;userName&quot;,userRowMapperConfiguration.getUserName());\r\n        }\r\n    }\r\n    \r\nand Configuration class:\r\n\r\n    @Configuration\r\n    public class UserRowMapperConfiguration {\r\n        @Value(&quot;${bug.value}&quot;)\r\n        private String id;\r\n    \r\n        @Value(&quot;${wrong.value}&quot;)    \r\n        private String userName;\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    }","title":"Mockito mock Java @Value with spring boot","body":"<p>As <em>thepaoloboi</em> suggested use a configuration class to hold all your configs.\nNow to test that your config is pointing to the right @Value key, you create an integration test by simply loading that object using spring without loading the whole context. That way it'll be as fast as a unit test.</p>\n<p>Here's an example:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@Import(UserRowMapperConfiguration.class)\n@TestPropertySource(properties = { &quot;user.id=id&quot; , &quot;user.userName=userName&quot;})\nclass UserRowMapperConfigurationTest {\n\n    @Autowired\n    UserRowMapperConfiguration userRowMapperConfiguration;\n\n    @Test\n    void test() {\n        assertEquals(&quot;id&quot;,userRowMapperConfiguration.getId());\n        assertEquals(&quot;userName&quot;,userRowMapperConfiguration.getUserName());\n    }\n}\n</code></pre>\n<p>and Configuration class:</p>\n<pre><code>@Configuration\npublic class UserRowMapperConfiguration {\n    @Value(&quot;${bug.value}&quot;)\n    private String id;\n\n    @Value(&quot;${wrong.value}&quot;)    \n    private String userName;\n\n    public String getId() {\n        return id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1525566,"reputation":1183,"user_id":1424108,"display_name":"ibai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696439754,"creation_date":1696439754,"answer_id":77231691,"question_id":68622921,"body_markdown":"Mockito cannot inject primitives, wrappers (Integer, Long, ...) or Strings, so @InjectMocks is not an option unless you refactor those fields to a different object and mock that object as @thepaoloboi suggested.\r\n\r\nIn any case, field injection provides really bad testability so the best option would be to use constructor injection as seen below:\r\n\r\n```\r\n@Component\r\npublic class UserRowMapper implements RowMapper&lt;User&gt; {\r\n\r\n    private final String id;\r\n    private final String userName;\r\n\r\n    public UserRowMapper(@Value(&quot;${bug.value}&quot;) String id, @Value(&quot;${wrong.value}&quot;) String userName) {\r\n        this.id = id;\r\n        this.userName = userName;\r\n    }\r\n\r\n    @Override\r\n    public User mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        return User.builder()\r\n                .id(rs.getInt(id))\r\n                .userName(rs.getString(userName)).build();\r\n    }\r\n}\r\n```\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserRowMapperTest {\r\n\r\n    private final String mockId = &quot;id&quot;;\r\n    private final String mockUserName = &quot;userName&quot;;\r\n\r\n    @Mock\r\n    private ResultSet resultSet;\r\n    private UserRowMapper userRowMapper;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        userRowMapper = new UserRowMapper(mockId, mockUserName);\r\n    }\r\n\r\n    @Test\r\n    void testMapRow() {\r\n        ...\r\n    }\r\n}\r\n```","title":"Mockito mock Java @Value with spring boot","body":"<p>Mockito cannot inject primitives, wrappers (Integer, Long, ...) or Strings, so @InjectMocks is not an option unless you refactor those fields to a different object and mock that object as @thepaoloboi suggested.</p>\n<p>In any case, field injection provides really bad testability so the best option would be to use constructor injection as seen below:</p>\n<pre><code>@Component\npublic class UserRowMapper implements RowMapper&lt;User&gt; {\n\n    private final String id;\n    private final String userName;\n\n    public UserRowMapper(@Value(&quot;${bug.value}&quot;) String id, @Value(&quot;${wrong.value}&quot;) String userName) {\n        this.id = id;\n        this.userName = userName;\n    }\n\n    @Override\n    public User mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return User.builder()\n                .id(rs.getInt(id))\n                .userName(rs.getString(userName)).build();\n    }\n}\n</code></pre>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserRowMapperTest {\n\n    private final String mockId = &quot;id&quot;;\n    private final String mockUserName = &quot;userName&quot;;\n\n    @Mock\n    private ResultSet resultSet;\n    private UserRowMapper userRowMapper;\n\n    @BeforeEach\n    void beforeEach() {\n        userRowMapper = new UserRowMapper(mockId, mockUserName);\n    }\n\n    @Test\n    void testMapRow() {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16858025,"reputation":21,"user_id":12189506,"display_name":"Andrey Kishtov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1696439754,"creation_date":1627912846,"question_id":68622921,"body_markdown":"Hi I have this simple code for my Spring Boot Project: \r\n``` java\r\n@Component\r\npublic class UserRowMapper implements RowMapper&lt;User&gt; {\r\n    @Value(&quot;${bug.value}&quot;)\r\n    private String id;\r\n    @Value(&quot;${wrong.value}&quot;)\r\n    private String userName;\r\n\r\n    @Override\r\n    public User mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        return User.builder()\r\n                .id(rs.getInt(id))\r\n                .userName(rs.getString(userName)).build();\r\n    }\r\n}\r\n```\r\n\r\nwhat I want is to create a simple Mockito Test that will check @Value strings like so:\r\n\r\n``` java\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserRowMapperTest {\r\n    @Mock\r\n    Environment environment;\r\n    @Mock\r\n    ResultSet resultSet;\r\n    @InjectMocks\r\n    UserRowMapper userRowMapper;\r\n\r\n    @Test\r\n    void testMapRow() {\r\n        when(environment.getProperty(&quot;user.id&quot;)).thenReturn(&quot;id&quot;);\r\n        when(environment.getProperty(&quot;user.userName&quot;)).thenReturn(&quot;userName&quot;);\r\n        try {\r\n            final User user = userRowMapper.mapRow(resultSet, anyInt());\r\n            \r\n            // check if its ok\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut I can&#39;t find a simple way to check if the value I injected is what I expect.\r\n\r\nany ideas?\r\n","title":"Mockito mock Java @Value with spring boot","body":"<p>Hi I have this simple code for my Spring Boot Project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class UserRowMapper implements RowMapper&lt;User&gt; {\n    @Value(&quot;${bug.value}&quot;)\n    private String id;\n    @Value(&quot;${wrong.value}&quot;)\n    private String userName;\n\n    @Override\n    public User mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return User.builder()\n                .id(rs.getInt(id))\n                .userName(rs.getString(userName)).build();\n    }\n}\n</code></pre>\n<p>what I want is to create a simple Mockito Test that will check @Value strings like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ExtendWith(MockitoExtension.class)\nclass UserRowMapperTest {\n    @Mock\n    Environment environment;\n    @Mock\n    ResultSet resultSet;\n    @InjectMocks\n    UserRowMapper userRowMapper;\n\n    @Test\n    void testMapRow() {\n        when(environment.getProperty(&quot;user.id&quot;)).thenReturn(&quot;id&quot;);\n        when(environment.getProperty(&quot;user.userName&quot;)).thenReturn(&quot;userName&quot;);\n        try {\n            final User user = userRowMapper.mapRow(resultSet, anyInt());\n            \n            // check if its ok\n        } catch (SQLException throwables) {\n            throwables.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>But I can't find a simple way to check if the value I injected is what I expect.</p>\n<p>any ideas?</p>\n"},{"tags":["java","arrays","loops","for-loop","compare"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1415681987,"post_id":26857776,"comment_id":42277107,"body_markdown":"so what is your question?  The above code may work (not elegant though) if you change `i == arrayLen -1`","body":"so what is your question?  The above code may work (not elegant though) if you change <code>i == arrayLen -1</code>"},{"owner":{"account_id":4113937,"reputation":39,"user_id":3376064,"accept_rate":100,"display_name":"Dilyan"},"score":0,"creation_date":1415682074,"post_id":26857776,"comment_id":42277135,"body_markdown":"It works but doesn&#39;t print(atl east on my eclipse) true or false.So why is that happening?","body":"It works but doesn&#39;t print(atl east on my eclipse) true or false.So why is that happening?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1415682136,"post_id":26857776,"comment_id":42277152,"body_markdown":"what does it print?  Does it throw an exception?","body":"what does it print?  Does it throw an exception?"},{"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"score":0,"creation_date":1415682163,"post_id":26857776,"comment_id":42277159,"body_markdown":"why are you not using equals method in Arrays class? boolean isEqual = Arrays.equals(firstArray,secondArray);","body":"why are you not using equals method in Arrays class? boolean isEqual = Arrays.equals(firstArray,secondArray);"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1415682206,"post_id":26857776,"comment_id":42277180,"body_markdown":"@MadProgrammer or even String.equals","body":"@MadProgrammer or even String.equals"},{"owner":{"account_id":4113937,"reputation":39,"user_id":3376064,"accept_rate":100,"display_name":"Dilyan"},"score":0,"creation_date":1415682245,"post_id":26857776,"comment_id":42277194,"body_markdown":"I changed i == arrayLen -1 and when I enter them..again nothing..no exception. I had to do it this way without using the equals method for this example","body":"I changed i == arrayLen -1 and when I enter them..again nothing..no exception. I had to do it this way without using the equals method for this example"},{"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"score":0,"creation_date":1415682276,"post_id":26857776,"comment_id":42277202,"body_markdown":"@ScaryWombat yes,exactly!!! it would save lot of effort,and use standard API,because they are well tested before.","body":"@ScaryWombat yes,exactly!!! it would save lot of effort,and use standard API,because they are well tested before."}],"answers":[{"tags":[],"owner":{"account_id":3343856,"reputation":23,"user_id":2809431,"accept_rate":100,"display_name":"Fuuka Adachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415682241,"creation_date":1415682241,"answer_id":26857852,"question_id":26857776,"body_markdown":"    boolean isEqual = true;\r\n\r\n    for(int i=0;i&lt;arrayLen;i++){\r\n        if(firstArray[i] != secondArray[i]){\r\n            System.out.println(&quot;False.they are not equal&quot;);\r\n            isEqual = false;\r\n            break;\r\n        }\r\n    }\r\n    if(isEqual){\r\n        System.out.println(&quot;true.they are equal&quot;);\r\n    }\r\n\r\nIf that not work, try to change (firstArray[i] != secondArray[i]) to (!(firstArray[i].equals(secondArray[i]))) or st like that.","title":"Comparing two arrays in java with for loop","body":"<pre><code>boolean isEqual = true;\n\nfor(int i=0;i&lt;arrayLen;i++){\n    if(firstArray[i] != secondArray[i]){\n        System.out.println(\"False.they are not equal\");\n        isEqual = false;\n        break;\n    }\n}\nif(isEqual){\n    System.out.println(\"true.they are equal\");\n}\n</code></pre>\n\n<p>If that not work, try to change (firstArray[i] != secondArray[i]) to (!(firstArray[i].equals(secondArray[i]))) or st like that.</p>\n"},{"tags":[],"owner":{"account_id":1575124,"reputation":826,"user_id":1509537,"accept_rate":55,"display_name":"Slim_user71169"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415682380,"creation_date":1415682380,"answer_id":26857884,"question_id":26857776,"body_markdown":" \r\n\r\n     int i = 0;\r\n     while (i &lt; arrayLen &amp;&amp; firstArray[i] == secondArray[i]); {\r\n     i++;\r\n     }\r\nChange this to below:\r\n\r\n    boolean isEqual = true;\r\n    for(int i=0;i&lt;arrayLen;i++){\r\n      if(firstArray[i]!=secondArray[i]) {\r\n      isEqual = false;\r\n      break;\r\n      } \r\n    }\r\n\r\nFinally, you can show result with flag &#39;isEqual&#39;\r\n\r\n    if(isEqual) System.out.println(&quot;Equal&quot;);\r\n    else System.out.println(&quot;Not Equal&quot;);","title":"Comparing two arrays in java with for loop","body":"<pre><code> int i = 0;\n while (i &lt; arrayLen &amp;&amp; firstArray[i] == secondArray[i]); {\n i++;\n }\n</code></pre>\n\n<p>Change this to below:</p>\n\n<pre><code>boolean isEqual = true;\nfor(int i=0;i&lt;arrayLen;i++){\n  if(firstArray[i]!=secondArray[i]) {\n  isEqual = false;\n  break;\n  } \n}\n</code></pre>\n\n<p>Finally, you can show result with flag 'isEqual'</p>\n\n<pre><code>if(isEqual) System.out.println(\"Equal\");\nelse System.out.println(\"Not Equal\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415682819,"creation_date":1415682819,"answer_id":26857975,"question_id":26857776,"body_markdown":"Your problem is this code\r\n\r\n    while (i &lt; arrayLen &amp;&amp; firstArray[i] == secondArray[i]); {\r\n\r\nhas a semicolon at the end;  // remove it\r\n\r\nPlus as mentioned before\r\n\r\n    if (i == arrayLen) {\r\n\r\nshould be\r\n\r\n     if (i == arrayLen - 1) {\r\n\r\n**Note**\r\n\r\nThe warnings that you surpressed using\r\n\r\n    @SuppressWarnings(&quot;unused&quot;) \r\n\r\nwas probably telling you something useful.","title":"Comparing two arrays in java with for loop","body":"<p>Your problem is this code</p>\n\n<pre><code>while (i &lt; arrayLen &amp;&amp; firstArray[i] == secondArray[i]); {\n</code></pre>\n\n<p>has a semicolon at the end;  // remove it</p>\n\n<p>Plus as mentioned before</p>\n\n<pre><code>if (i == arrayLen) {\n</code></pre>\n\n<p>should be</p>\n\n<pre><code> if (i == arrayLen - 1) {\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>The warnings that you surpressed using</p>\n\n<pre><code>@SuppressWarnings(\"unused\") \n</code></pre>\n\n<p>was probably telling you something useful.</p>\n"},{"tags":[],"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1415683172,"creation_date":1415683172,"answer_id":26858051,"question_id":26857776,"body_markdown":"Try this code.\r\n\r\n    char[] firstArray = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n    char[] secondArray = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n    \r\n\tif (firstArray.length != secondArray.length) {\r\n\t\tSystem.out.println(&quot;False.they are not equal&quot;);\r\n\t} else {\r\n\t\tboolean isEqual = true;\r\n\t\tfor (int i = 0; i &lt; firstArray.length; i++) {\r\n\t\t\tif (firstArray[i] != secondArray[i]) {\r\n\t\t\t\tSystem.out.println(&quot;False.they are not equal&quot;);\r\n\t\t\t\tisEqual = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isEqual)\r\n\t\t\tSystem.out.println(&quot;true.they are equal&quot;);\r\n\t}\r\n\t   ","title":"Comparing two arrays in java with for loop","body":"<p>Try this code.</p>\n\n<pre><code>char[] firstArray = {'a', 'b', 'c'};\nchar[] secondArray = {'a', 'b', 'c'};\n\nif (firstArray.length != secondArray.length) {\n    System.out.println(\"False.they are not equal\");\n} else {\n    boolean isEqual = true;\n    for (int i = 0; i &lt; firstArray.length; i++) {\n        if (firstArray[i] != secondArray[i]) {\n            System.out.println(\"False.they are not equal\");\n            isEqual = false;\n            break;\n        }\n    }\n    if (isEqual)\n        System.out.println(\"true.they are equal\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415685577,"creation_date":1415685577,"answer_id":26858528,"question_id":26857776,"body_markdown":"I would change this to use the `charAt(int)` function rather than changing the values to an array. Since you&#39;re reading them as strings, just compare them as strings, like this:\r\n\r\n    if(firstArrayAsString.length() != secondArrayAsString.length()){\r\n       return false;\r\n    } else{\r\n       for(int i = 0; i &lt; firstArrayAsString.length(); i++){\r\n          if(firstArrayAsString.charAt(i) != secondArrayAsString.charAt(i){\r\n             return false;\r\n          }\r\n       }\r\n       return true;\r\n    }\r\n\r\nThis first checks if the arrays are the same size. If they are not, we can already say they are not equal. If they are the same size, loop through and make sure the character at each index matches. If at any point we find characters that don&#39;t match, we know it is not equal. If we loop through the entire thing without finding a difference, then the two arrays are equal.\r\n\r\nI would like to add, though, that if it&#39;s not required to use a for loop, why not just use:\r\n\r\n    firstArrayAsString.equals(secondArrayAsString);\r\n\r\nto compare the two string values?\r\n\r\n**Minor Edit**\r\n\r\nRereading your question I see that you said you can&#39;t use the equals method, but I am choosing to leave this in my answer as a possible alternative for future readers.","title":"Comparing two arrays in java with for loop","body":"<p>I would change this to use the <code>charAt(int)</code> function rather than changing the values to an array. Since you're reading them as strings, just compare them as strings, like this:</p>\n\n<pre><code>if(firstArrayAsString.length() != secondArrayAsString.length()){\n   return false;\n} else{\n   for(int i = 0; i &lt; firstArrayAsString.length(); i++){\n      if(firstArrayAsString.charAt(i) != secondArrayAsString.charAt(i){\n         return false;\n      }\n   }\n   return true;\n}\n</code></pre>\n\n<p>This first checks if the arrays are the same size. If they are not, we can already say they are not equal. If they are the same size, loop through and make sure the character at each index matches. If at any point we find characters that don't match, we know it is not equal. If we loop through the entire thing without finding a difference, then the two arrays are equal.</p>\n\n<p>I would like to add, though, that if it's not required to use a for loop, why not just use:</p>\n\n<pre><code>firstArrayAsString.equals(secondArrayAsString);\n</code></pre>\n\n<p>to compare the two string values?</p>\n\n<p><strong>Minor Edit</strong></p>\n\n<p>Rereading your question I see that you said you can't use the equals method, but I am choosing to leave this in my answer as a possible alternative for future readers.</p>\n"},{"tags":[],"owner":{"account_id":13944772,"reputation":1,"user_id":10069776,"display_name":"Ibrahim Elsobkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539002619,"creation_date":1539002619,"answer_id":52702606,"question_id":26857776,"body_markdown":"\tBufferedReader existFile = new BufferedReader(\r\n\t\t\t\tnew FileReader(&quot;D:/1.txt&quot;));\r\n\t\tBufferedReader recievedFile = new BufferedReader(\r\n\t\t\t\tnew FileReader(&quot;D:/2.txt&quot;));\r\n\t\tString str, str1 = null;\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tList&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\twhile ((str = existFile.readLine()) != null) {\r\n\t\t\tlist.add(str);\r\n\r\n\t\t}\r\n\t\twhile ((str1 = recievedFile.readLine()) != null) {\r\n\t\t\tlist1.add(str1);\r\n\t\t}\r\n\r\n\t\tString[] stringArr = list.toArray(new String[list.size()]);\r\n\t\tString[] stringArr1 = list1.toArray(new String[list1.size()]);\r\n\r\n\t\tfor (int i = 0; i &lt; stringArr1.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; stringArr.length; j++) {\r\n\t\t\t\tif (stringArr1[i].equalsIgnoreCase(stringArr[j])) {\r\n\t\t\t\t\tSystem.out.println(stringArr1[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"Comparing two arrays in java with for loop","body":"<pre><code>BufferedReader existFile = new BufferedReader(\n            new FileReader(\"D:/1.txt\"));\n    BufferedReader recievedFile = new BufferedReader(\n            new FileReader(\"D:/2.txt\"));\n    String str, str1 = null;\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\n\n    while ((str = existFile.readLine()) != null) {\n        list.add(str);\n\n    }\n    while ((str1 = recievedFile.readLine()) != null) {\n        list1.add(str1);\n    }\n\n    String[] stringArr = list.toArray(new String[list.size()]);\n    String[] stringArr1 = list1.toArray(new String[list1.size()]);\n\n    for (int i = 0; i &lt; stringArr1.length; i++) {\n        for (int j = 0; j &lt; stringArr.length; j++) {\n            if (stringArr1[i].equalsIgnoreCase(stringArr[j])) {\n                System.out.println(stringArr1[i]);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14473697,"reputation":149,"user_id":13782119,"display_name":"user13782119"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696439472,"creation_date":1696438555,"answer_id":77231560,"question_id":26857776,"body_markdown":" Please find below code two compare array elements. The below code will not check remove duplicate or sorting or not compare arrays  length. \r\n\r\n&gt; Only focus on the array elements in a1,a2,a3 it will compare the array values like \r\n&gt; 1. a1,a2 -&gt; true\r\n&gt; 2. a1,a3 -&gt; false\r\n\r\n sameElementfunction it return the flag either **false or true**\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class SampleTest {\r\n    \r\n        public static void main(String[] args) {\r\n            Integer[] a1 = {1,2,3,2,1};\r\n            Integer[] a2 = {1,2,3};\r\n            Integer[] a3 = {1,2,3,4};\r\n    \r\n    \r\n            boolean result1 = sameElements(a1, a2);\r\n            boolean result2 = sameElements(a1, a3);\r\n    \r\n            System.out.println(result1); // true\r\n            System.out.println(result2);// false\r\n    \r\n    \r\n        }\r\n    \r\n        public static boolean sameElements(Integer[] a, Integer[] b) {\r\n    \r\n            List&lt;Integer&gt; listA1=Arrays.asList(a);\r\n            List&lt;Integer&gt; listB1=Arrays.asList(b);\r\n    \r\n    \r\n            boolean flag = false;\r\n    \r\n            for(int i=0;i&lt;a.length;i++){\r\n               if(listB1.contains(a[i])){\r\n                   flag=true;\r\n               }\r\n               else{\r\n                   flag=true;\r\n               }\r\n            }\r\n    \r\n    \r\n            for(int i=0;i&lt;b.length;i++){\r\n                if(listA1.contains(b[i])){\r\n                    flag=true;\r\n                }\r\n                else{\r\n                    flag=false;\r\n                }\r\n            }\r\n    \r\n    \r\n            return flag;\r\n        }\r\n\r\n","title":"Comparing two arrays in java with for loop","body":"<p>Please find below code two compare array elements. The below code will not check remove duplicate or sorting or not compare arrays  length.</p>\n<blockquote>\n<p>Only focus on the array elements in a1,a2,a3 it will compare the array values like</p>\n<ol>\n<li>a1,a2 -&gt; true</li>\n<li>a1,a3 -&gt; false</li>\n</ol>\n</blockquote>\n<p>sameElementfunction it return the flag either <strong>false or true</strong></p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\n\npublic class SampleTest {\n\n    public static void main(String[] args) {\n        Integer[] a1 = {1,2,3,2,1};\n        Integer[] a2 = {1,2,3};\n        Integer[] a3 = {1,2,3,4};\n\n\n        boolean result1 = sameElements(a1, a2);\n        boolean result2 = sameElements(a1, a3);\n\n        System.out.println(result1); // true\n        System.out.println(result2);// false\n\n\n    }\n\n    public static boolean sameElements(Integer[] a, Integer[] b) {\n\n        List&lt;Integer&gt; listA1=Arrays.asList(a);\n        List&lt;Integer&gt; listB1=Arrays.asList(b);\n\n\n        boolean flag = false;\n\n        for(int i=0;i&lt;a.length;i++){\n           if(listB1.contains(a[i])){\n               flag=true;\n           }\n           else{\n               flag=true;\n           }\n        }\n\n\n        for(int i=0;i&lt;b.length;i++){\n            if(listA1.contains(b[i])){\n                flag=true;\n            }\n            else{\n                flag=false;\n            }\n        }\n\n\n        return flag;\n    }\n</code></pre>\n"}],"owner":{"account_id":4113937,"reputation":39,"user_id":3376064,"accept_rate":100,"display_name":"Dilyan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26858051,"answer_count":7,"score":1,"last_activity_date":1696439472,"creation_date":1415681803,"question_id":26857776,"body_markdown":"I am having difficulties with this program. I have to compare the two arrays by reading the arrays from the console and after the user enters them, print a statement for whether or not they are true. I am not sure if I can use the compare function, but I have to do it with a for loop.\r\n\r\nHere is what I have tried:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public class TwoArrays {\r\n    \t@SuppressWarnings(&quot;unused&quot;)\r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tScanner input1 = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;enter the first array&quot;);\r\n    \t\tString firstArrayAsString = input1.nextLine();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;enter the second array&quot;);\r\n    \t\tString secondArrayAsString = input1.nextLine(); \r\n    \t\t\r\n    \t\tif (firstArrayAsString. length() != secondArrayAsString.length()){\r\n    \t\t\tSystem.out.println(&quot;false.arrays are not equal&quot;);\t\t\r\n    \t\t} else {\r\n    \t\t\tint arrayLen = firstArrayAsString.length();\r\n    \t\t\tchar[] firstArray = firstArrayAsString.toCharArray();\r\n    \t\t\tchar[] secondArray = secondArrayAsString.toCharArray();\r\n    \t\t\t\r\n    \t\t\tint i = 0;\r\n    \t\t\twhile (i &lt; arrayLen &amp;&amp; firstArray[i] == secondArray[i]); {\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (i == arrayLen) {\r\n    \t\t\t\tSystem.out.println(&quot;true.they are equal&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;False.they are not equal&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tinput1.close();\r\n    \t}\r\n    }","title":"Comparing two arrays in java with for loop","body":"<p>I am having difficulties with this program. I have to compare the two arrays by reading the arrays from the console and after the user enters them, print a statement for whether or not they are true. I am not sure if I can use the compare function, but I have to do it with a for loop.</p>\n\n<p>Here is what I have tried:</p>\n\n<pre><code>import java.util.Scanner;\n\n@SuppressWarnings(\"unused\")\npublic class TwoArrays {\n    @SuppressWarnings(\"unused\")\n    public static void main(String[] args) {\n\n        Scanner input1 = new Scanner(System.in);\n        System.out.println(\"enter the first array\");\n        String firstArrayAsString = input1.nextLine();\n\n        System.out.println(\"enter the second array\");\n        String secondArrayAsString = input1.nextLine(); \n\n        if (firstArrayAsString. length() != secondArrayAsString.length()){\n            System.out.println(\"false.arrays are not equal\");       \n        } else {\n            int arrayLen = firstArrayAsString.length();\n            char[] firstArray = firstArrayAsString.toCharArray();\n            char[] secondArray = secondArrayAsString.toCharArray();\n\n            int i = 0;\n            while (i &lt; arrayLen &amp;&amp; firstArray[i] == secondArray[i]); {\n                i++;\n            }\n\n            if (i == arrayLen) {\n                System.out.println(\"true.they are equal\");\n            } else {\n                System.out.println(\"False.they are not equal\");\n            }\n        }\n        input1.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","microservices","protocol-buffers","grpc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692877262,"post_id":76968816,"comment_id":135685116,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692889140,"creation_date":1692889140,"answer_id":76970590,"question_id":76968816,"body_markdown":"No.\r\n\r\nDifferent values of `E` must be represented by different protobuf messages.\r\n\r\nYou will want to:\r\n\r\n+ Either cast your generic types to a single protobuf message\r\n+ Or define a protobuf message per value of `E`","title":"Is there a way to pass type arguments in message variable in protobuf file?","body":"<p>No.</p>\n<p>Different values of <code>E</code> must be represented by different protobuf messages.</p>\n<p>You will want to:</p>\n<ul>\n<li>Either cast your generic types to a single protobuf message</li>\n<li>Or define a protobuf message per value of <code>E</code></li>\n</ul>\n"}],"owner":{"account_id":14037957,"reputation":23,"user_id":10140186,"display_name":"Divyanshu Supehia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76970590,"answer_count":1,"score":0,"last_activity_date":1696439465,"creation_date":1692876595,"question_id":76968816,"body_markdown":"Is there a way to pass type arguments in response message of protobuf file?\r\n\r\nFor example, I have a response type of `SResponse&lt;E&gt;` with uses generic argument and I want to do same in my protobuf file.\r\n\r\nI have tried searching on web nothing specific is mentioned in docs.","title":"Is there a way to pass type arguments in message variable in protobuf file?","body":"<p>Is there a way to pass type arguments in response message of protobuf file?</p>\n<p>For example, I have a response type of <code>SResponse&lt;E&gt;</code> with uses generic argument and I want to do same in my protobuf file.</p>\n<p>I have tried searching on web nothing specific is mentioned in docs.</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","tomcat7"],"comments":[{"owner":{"account_id":1842264,"reputation":3389,"user_id":1671450,"accept_rate":90,"display_name":"Angad"},"score":2,"creation_date":1414614024,"post_id":26637800,"comment_id":41886747,"body_markdown":"You have the necessary jar file you need in hibernate-validator. This jar includes the validation-api. So if you are including validation-api explicitly, you might have dependency conflicts. If not, you might just be having class reloading issues. Try cleaning your tomcat and restarting your IDE.","body":"You have the necessary jar file you need in hibernate-validator. This jar includes the validation-api. So if you are including validation-api explicitly, you might have dependency conflicts. If not, you might just be having class reloading issues. Try cleaning your tomcat and restarting your IDE."},{"owner":{"account_id":2785073,"reputation":834,"user_id":2396712,"display_name":"Mudit Shukla"},"score":0,"creation_date":1414616178,"post_id":26637800,"comment_id":41887892,"body_markdown":"Yes, I did that and it worked. Thanks","body":"Yes, I did that and it worked. Thanks"},{"owner":{"account_id":464217,"reputation":4397,"user_id":867591,"accept_rate":97,"display_name":"Ahmed Faisal"},"score":0,"creation_date":1452627672,"post_id":26637800,"comment_id":57250783,"body_markdown":"If it works, please accept the correct answer so that others may learn from it too.","body":"If it works, please accept the correct answer so that others may learn from it too."}],"answers":[{"tags":[],"owner":{"account_id":21425,"reputation":10691,"user_id":52070,"accept_rate":67,"display_name":"David Newcomb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1432136634,"creation_date":1432136634,"answer_id":30354406,"question_id":26637800,"body_markdown":"You have the necessary jar file you need in hibernate-validator. This jar includes the `javax.validation.ValidatorFactory`validation-api. So if you are including validation-api explicitly, you might have dependency conflicts. If not, you might just be having class reloading issues. Try cleaning your tomcat and restarting your IDE.","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>You have the necessary jar file you need in hibernate-validator. This jar includes the <code>javax.validation.ValidatorFactory</code>validation-api. So if you are including validation-api explicitly, you might have dependency conflicts. If not, you might just be having class reloading issues. Try cleaning your tomcat and restarting your IDE.</p>\n"},{"tags":[],"owner":{"account_id":15368871,"reputation":1,"user_id":11087486,"display_name":"Amar Darekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561811989,"creation_date":1561811989,"answer_id":56817602,"question_id":26637800,"body_markdown":"I had the same problem.\r\nFor 2 months i was trying to find solution.\r\n\r\nThere was a error i made.\r\nI copied hibernate validator jar and pasted it in java installation directory.\r\n\r\nNow i was using maven which also downloaded the validator jar.\r\n\r\nThere where two jars present and so the error arise.\r\nThe problem was solved accidentally when i reinstalled java in my system.","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>I had the same problem.\nFor 2 months i was trying to find solution.</p>\n\n<p>There was a error i made.\nI copied hibernate validator jar and pasted it in java installation directory.</p>\n\n<p>Now i was using maven which also downloaded the validator jar.</p>\n\n<p>There where two jars present and so the error arise.\nThe problem was solved accidentally when i reinstalled java in my system.</p>\n"},{"tags":[],"owner":{"account_id":20721200,"reputation":91,"user_id":15215575,"display_name":"Jakub"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1613411492,"creation_date":1613411492,"answer_id":66212983,"question_id":26637800,"body_markdown":"add to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>add to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9155183,"reputation":99,"user_id":6808336,"display_name":"Sorin Dumitru"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648811831,"creation_date":1648811831,"answer_id":71706069,"question_id":26637800,"body_markdown":"For me it was a conflict with jakarta.validation version 3.0.1. Rolling it back to 2.0.2 fixed it.","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>For me it was a conflict with jakarta.validation version 3.0.1. Rolling it back to 2.0.2 fixed it.</p>\n"},{"tags":[],"owner":{"account_id":21535125,"reputation":51,"user_id":15873848,"display_name":"thocle86"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657310931,"creation_date":1657310931,"answer_id":72916517,"question_id":26637800,"body_markdown":"&#128548; I encountered the problem when I launched my tests for the first time.  \r\nThe problem comes from an incompatibility between the ``test dependency`` and the ``validation dependency``.  \r\n&#128221; **My pom.xml:**\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&#128512; I solved the problem, I replaced ``jakarta.validation-api`` for ``spring-boot-starter-validation``.  \r\n&#128221; **My pom.xml:**\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>😤 I encountered the problem when I launched my tests for the first time.<br />\nThe problem comes from an incompatibility between the <code>test dependency</code> and the <code>validation dependency</code>.<br />\n📝 <strong>My pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n   &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n   &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>😀 I solved the problem, I replaced <code>jakarta.validation-api</code> for <code>spring-boot-starter-validation</code>.<br />\n📝 <strong>My pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7943305,"reputation":65,"user_id":5996561,"display_name":"Fadel K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664349343,"creation_date":1664349343,"answer_id":73877570,"question_id":26637800,"body_markdown":"Include jakarta.validation-api within your project jar file , and that will force Tomcat to use it. in pom.xml add  scope provided  as follows:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;    \r\n    &lt;/dependency&gt;\r\n\r\ngood luck.\r\n","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>Include jakarta.validation-api within your project jar file , and that will force Tomcat to use it. in pom.xml add  scope provided  as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;    \n&lt;/dependency&gt;\n</code></pre>\n<p>good luck.</p>\n"},{"tags":[],"owner":{"account_id":17582586,"reputation":164,"user_id":12756065,"display_name":"Alberto Azinar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691348895,"creation_date":1691348895,"answer_id":76847423,"question_id":26637800,"body_markdown":"I faced this error upgrading a project to Spring boot 3.1.0, which does not use javax anymore but Jakarta.\r\n\r\nSolution was adding hibernate Validator dependency on your root pom.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nOriginal Answer is from [Manu Chahar][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76060529/12756065","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>I faced this error upgrading a project to Spring boot 3.1.0, which does not use javax anymore but Jakarta.</p>\n<p>Solution was adding hibernate Validator dependency on your root pom.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Original Answer is from <a href=\"https://stackoverflow.com/a/76060529/12756065\">Manu Chahar</a></p>\n"},{"tags":[],"owner":{"account_id":12514032,"reputation":614,"user_id":9108026,"display_name":"AissaDevLab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696439411,"creation_date":1696439411,"answer_id":77231656,"question_id":26637800,"body_markdown":"add this to your build.gradle:    \r\n\r\n\timplementation &#39;javax.validation:validation-api:2.0.1.Final&#39;","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>add this to your build.gradle:</p>\n<pre><code>implementation 'javax.validation:validation-api:2.0.1.Final'\n</code></pre>\n"}],"owner":{"account_id":2785073,"reputation":834,"user_id":2396712,"display_name":"Mudit Shukla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35590,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":30354406,"answer_count":8,"score":12,"last_activity_date":1696439411,"creation_date":1414606555,"question_id":26637800,"body_markdown":"I am trying to run a Spring MVC application in my local machine through Tomcat, but I am seeing:\r\n\r\n    NoClassDefFoundError: javax/validation/ValidatorFactory\r\n\r\nI have `validation-api-1.0.0.GA.jar` in webapp&#39;s lib folder. I am using Tomcat 7. Any guidance would be appreciated.\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/dispatcher-servlet.xml]; nested exception is java.lang.NoClassDefFoundError: javax/validation/ValidatorFactory\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:412)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:124)\r\n    \tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:93)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4887)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5381)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.lang.NoClassDefFoundError: javax/validation/ValidatorFactory\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:615)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\r\n    \tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1629)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n    \tat org.springframework.web.servlet.config.AnnotationDrivenBeanDefinitionParser.getValidator(AnnotationDrivenBeanDefinitionParser.java:159)\r\n    \tat org.springframework.web.servlet.config.AnnotationDrivenBeanDefinitionParser.parse(AnnotationDrivenBeanDefinitionParser.java:106)\r\n    \tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1438)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1428)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:184)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\r\n    \t... 23 more\r\n    Caused by: java.lang.ClassNotFoundException: javax.validation.ValidatorFactory\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n\r\nComplete set of jar files I am using is \r\n\r\n    antlr-2.7.6.jar\r\n    antlr-runtime-3.0.jar\r\n    aopalliance-1.0.jar\r\n    asm-3.3.1.jar\r\n    aspectjrt.jar\r\n    aspectjweaver-1.6.6.jar\r\n    cglib-2.2.2.jar\r\n    commons-beanutils-1.8.0.jar\r\n    commons-collections-3.2.1.jar\r\n    commons-digester-2.0.jar\r\n    commons-lang-2.3.jar\r\n    commons-logging-1.1.1.jar\r\n    displaytag-1.2.jar\r\n    dom.jar\r\n    dom4j.jar\r\n    hibernate-validator-4.2.0.Final.jar\r\n    hibernate-validator-annotation-processor-4.2.0.Final.jar\r\n    jackson-all-1.8.10.jar\r\n    jaxp-api.jar\r\n    jaxp-ri.jar\r\n    jaxrpc.jar\r\n    jdom.jar\r\n    jstl-1.2.jar\r\n    log4j-1.2.15.jar\r\n    ojdbc6.jar\r\n    org.springframework.aop-3.0.5.RELEASE.jar\r\n    org.springframework.asm-3.0.5.RELEASE.jar\r\n    org.springframework.aspects-3.0.5.RELEASE.jar\r\n    org.springframework.beans-3.0.5.RELEASE.jar\r\n    org.springframework.context-3.0.5.RELEASE.jar\r\n    org.springframework.context.support-3.0.5.RELEASE.jar\r\n    org.springframework.core-3.0.5.RELEASE.jar\r\n    org.springframework.expression-3.0.5.RELEASE.jar\r\n    org.springframework.jdbc-3.0.5.RELEASE.jar\r\n    org.springframework.transaction-3.0.5.RELEASE.jar\r\n    org.springframework.web-3.0.5.RELEASE.jar\r\n    org.springframework.web.servlet-3.0.5.RELEASE.jar\r\n    org.springframework.web.struts-3.0.5.RELEASE.jar\r\n    sax.jar\r\n    SecurityFilter.jar\r\n    slf4j-api-1.6.4.jar\r\n    slf4j-log4j12-1.6.4.jar\r\n    tiles-api-2.2.2.jar\r\n    tiles-core-2.2.2.jar\r\n    tiles-extras-2.2.2.jar\r\n    tiles-jsp-2.2.2.jar\r\n    tiles-servlet-2.2.2.jar\r\n    tiles-servlet-wildcard-2.2.2.jar\r\n    tiles-template-2.2.2.jar\r\n    validation-api-1.0.0.GA.jar\r\n\r\n ","title":"ClassNotFoundException: javax.validation.ValidatorFactory","body":"<p>I am trying to run a Spring MVC application in my local machine through Tomcat, but I am seeing:</p>\n\n<pre><code>NoClassDefFoundError: javax/validation/ValidatorFactory\n</code></pre>\n\n<p>I have <code>validation-api-1.0.0.GA.jar</code> in webapp's lib folder. I am using Tomcat 7. Any guidance would be appreciated.</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/dispatcher-servlet.xml]; nested exception is java.lang.NoClassDefFoundError: javax/validation/ValidatorFactory\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:412)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:124)\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:93)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4887)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5381)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.NoClassDefFoundError: javax/validation/ValidatorFactory\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:615)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1629)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at org.springframework.web.servlet.config.AnnotationDrivenBeanDefinitionParser.getValidator(AnnotationDrivenBeanDefinitionParser.java:159)\n    at org.springframework.web.servlet.config.AnnotationDrivenBeanDefinitionParser.parse(AnnotationDrivenBeanDefinitionParser.java:106)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1438)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1428)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:184)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\n    ... 23 more\nCaused by: java.lang.ClassNotFoundException: javax.validation.ValidatorFactory\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n</code></pre>\n\n<p>Complete set of jar files I am using is </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>antlr-2.7.6.jar\nantlr-runtime-3.0.jar\naopalliance-1.0.jar\nasm-3.3.1.jar\naspectjrt.jar\naspectjweaver-1.6.6.jar\ncglib-2.2.2.jar\ncommons-beanutils-1.8.0.jar\ncommons-collections-3.2.1.jar\ncommons-digester-2.0.jar\ncommons-lang-2.3.jar\ncommons-logging-1.1.1.jar\ndisplaytag-1.2.jar\ndom.jar\ndom4j.jar\nhibernate-validator-4.2.0.Final.jar\nhibernate-validator-annotation-processor-4.2.0.Final.jar\njackson-all-1.8.10.jar\njaxp-api.jar\njaxp-ri.jar\njaxrpc.jar\njdom.jar\njstl-1.2.jar\nlog4j-1.2.15.jar\nojdbc6.jar\norg.springframework.aop-3.0.5.RELEASE.jar\norg.springframework.asm-3.0.5.RELEASE.jar\norg.springframework.aspects-3.0.5.RELEASE.jar\norg.springframework.beans-3.0.5.RELEASE.jar\norg.springframework.context-3.0.5.RELEASE.jar\norg.springframework.context.support-3.0.5.RELEASE.jar\norg.springframework.core-3.0.5.RELEASE.jar\norg.springframework.expression-3.0.5.RELEASE.jar\norg.springframework.jdbc-3.0.5.RELEASE.jar\norg.springframework.transaction-3.0.5.RELEASE.jar\norg.springframework.web-3.0.5.RELEASE.jar\norg.springframework.web.servlet-3.0.5.RELEASE.jar\norg.springframework.web.struts-3.0.5.RELEASE.jar\nsax.jar\nSecurityFilter.jar\nslf4j-api-1.6.4.jar\nslf4j-log4j12-1.6.4.jar\ntiles-api-2.2.2.jar\ntiles-core-2.2.2.jar\ntiles-extras-2.2.2.jar\ntiles-jsp-2.2.2.jar\ntiles-servlet-2.2.2.jar\ntiles-servlet-wildcard-2.2.2.jar\ntiles-template-2.2.2.jar\nvalidation-api-1.0.0.GA.jar\n</code></pre>\n"},{"tags":["java","c#","winforms","decompiling"],"comments":[{"owner":{"account_id":957028,"reputation":15123,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1693581051,"post_id":77024241,"comment_id":135784380,"body_markdown":"My first idea would be to look into the sdk tools. Maybe you&#39;ll have to Process.Start some helper application?","body":"My first idea would be to look into the sdk tools. Maybe you&#39;ll have to Process.Start some helper application?"},{"owner":{"account_id":29346081,"reputation":5,"user_id":22484365,"display_name":"The Typholorian"},"score":0,"creation_date":1693581236,"post_id":77024241,"comment_id":135784413,"body_markdown":"How would I do that?","body":"How would I do that?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693581032,"creation_date":1693581032,"answer_id":77024254,"question_id":77024241,"body_markdown":"You will likely not find such functionality in C#. Thus I&#39;d search for &quot;java decompiler&quot;, find sites like\r\n- https://java-decompiler.github.io/\r\n- https://github.com/java-decompiler/jd-core\r\n\r\nand try to find a command line tool that you can invoke from C#.","title":"How do I decompile java .class files in my C# program?","body":"<p>You will likely not find such functionality in C#. Thus I'd search for &quot;java decompiler&quot;, find sites like</p>\n<ul>\n<li><a href=\"https://java-decompiler.github.io/\" rel=\"nofollow noreferrer\">https://java-decompiler.github.io/</a></li>\n<li><a href=\"https://github.com/java-decompiler/jd-core\" rel=\"nofollow noreferrer\">https://github.com/java-decompiler/jd-core</a></li>\n</ul>\n<p>and try to find a command line tool that you can invoke from C#.</p>\n"},{"tags":[],"owner":{"account_id":9580946,"reputation":26,"user_id":7115488,"display_name":"Shantanu Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696439382,"creation_date":1693582429,"answer_id":77024391,"question_id":77024241,"body_markdown":"You can maybe use https://github.com/fesh0r/fernflower and call the jar file as argument in c# process with class file path\r\n\r\n```c#\r\nProcessStartInfo startInfo = new ProcessStartInfo\r\n    {\r\n        FileName = &quot;java&quot;,\r\n        Arguments = $&quot;-jar \\&quot;{fernflowerPath}\\&quot; \\&quot;{classFilePath}\\&quot; \\&quot;{outputDirectory}\\&quot;&quot;,\r\n        RedirectStandardOutput = true,\r\n        UseShellExecute = false,\r\n        CreateNoWindow = true\r\n    };\r\n``` \r\nSomething like this","title":"How do I decompile java .class files in my C# program?","body":"<p>You can maybe use <a href=\"https://github.com/fesh0r/fernflower\" rel=\"nofollow noreferrer\">https://github.com/fesh0r/fernflower</a> and call the jar file as argument in c# process with class file path</p>\n<pre class=\"lang-cs prettyprint-override\"><code>ProcessStartInfo startInfo = new ProcessStartInfo\n    {\n        FileName = &quot;java&quot;,\n        Arguments = $&quot;-jar \\&quot;{fernflowerPath}\\&quot; \\&quot;{classFilePath}\\&quot; \\&quot;{outputDirectory}\\&quot;&quot;,\n        RedirectStandardOutput = true,\n        UseShellExecute = false,\n        CreateNoWindow = true\n    };\n</code></pre>\n<p>Something like this</p>\n"}],"owner":{"account_id":29346081,"reputation":5,"user_id":22484365,"display_name":"The Typholorian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696439382,"creation_date":1693580900,"question_id":77024241,"body_markdown":"So, I&#39;m making a C# code editor for Minecraft java edition modding. I want to add a decompile feature, like IntelliJ Idea has, so that I can re-create a mod&#39;s source code with just a few clicks. To clarify, I want a way to decompile **Java** .class files in my **C#** program. I&#39;ve done a bunch of research, and I can&#39;t find anything like that. I don&#39;t want to add a separate program to my program, since I want it to be integrated into my program. I have seen JD GUI, but again, that&#39;s java, and it doesn&#39;t look the best. Help please?","title":"How do I decompile java .class files in my C# program?","body":"<p>So, I'm making a C# code editor for Minecraft java edition modding. I want to add a decompile feature, like IntelliJ Idea has, so that I can re-create a mod's source code with just a few clicks. To clarify, I want a way to decompile <strong>Java</strong> .class files in my <strong>C#</strong> program. I've done a bunch of research, and I can't find anything like that. I don't want to add a separate program to my program, since I want it to be integrated into my program. I have seen JD GUI, but again, that's java, and it doesn't look the best. Help please?</p>\n"},{"tags":["java","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1535647894,"post_id":52101936,"comment_id":91154843,"body_markdown":"Short answer: Don&#39;t use `.*` in your package spec.","body":"Short answer: Don&#39;t use <code>.*</code> in your package spec."},{"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"score":0,"creation_date":1535650206,"post_id":52101936,"comment_id":91155902,"body_markdown":"yes I tried this way but it is then giving this error---&gt; Caused by: java.lang.IllegalArgumentException: Not a managed type: class com..model.User @chrylis","body":"yes I tried this way but it is then giving this error---&gt; Caused by: java.lang.IllegalArgumentException: Not a managed type: class com..model.User @chrylis"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1535692153,"post_id":52101936,"comment_id":91168198,"body_markdown":"The &#39;@Entity` annotation is the one from `javax....` not the one from Hibernatate, right? (Not sure it still exists, but better check).","body":"The &#39;@Entity` annotation is the one from <code>javax....</code> not the one from Hibernatate, right? (Not sure it still exists, but better check)."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1535692180,"post_id":52101936,"comment_id":91168203,"body_markdown":"You don&#39;t need `@Repository` on Spring Data Repositories.","body":"You don&#39;t need <code>@Repository</code> on Spring Data Repositories."},{"owner":{"account_id":4094017,"reputation":355,"user_id":3361311,"display_name":"Rashid"},"score":0,"creation_date":1633789010,"post_id":52101936,"comment_id":122856498,"body_markdown":"Add @Service annotation to your UserRepository interface.","body":"Add @Service annotation to your UserRepository interface."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1651490820,"post_id":52101936,"comment_id":127369324,"body_markdown":"I am facing the same issue with Couchbase operations , @Service did not help","body":"I am facing the same issue with Couchbase operations , @Service did not help"}],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1535647632,"creation_date":1535647632,"answer_id":52101998,"question_id":52101936,"body_markdown":"Your `@EnableJpaRepositories` annotation is wrong. You don&#39;t define the package where the repositories are found this way.\r\n\r\nAssuming that the package they reside is called:\r\n\r\n`foo.somepackage.repositories` then you annotation should be `@EnableJpaRepositories(&quot;foo.somepackage.repositories&quot;)`. \r\n\r\nTry correcting the annotation in order to properly and correctly scan your repositories package in order to bring them into context.","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>Your <code>@EnableJpaRepositories</code> annotation is wrong. You don't define the package where the repositories are found this way.</p>\n\n<p>Assuming that the package they reside is called:</p>\n\n<p><code>foo.somepackage.repositories</code> then you annotation should be <code>@EnableJpaRepositories(\"foo.somepackage.repositories\")</code>. </p>\n\n<p>Try correcting the annotation in order to properly and correctly scan your repositories package in order to bring them into context.</p>\n"},{"tags":[],"owner":{"account_id":2002547,"reputation":81,"user_id":1793218,"display_name":"lakshmanvvs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535685869,"creation_date":1535685869,"answer_id":52108036,"question_id":52101936,"body_markdown":"I think your code has to be organized under `com.xyz.abc.model` and the `@EnableJpaRepostiories` should work. \r\neg: `com.xyz.abc.repository`, `com.xyz.abc.service` ","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>I think your code has to be organized under <code>com.xyz.abc.model</code> and the <code>@EnableJpaRepostiories</code> should work. \neg: <code>com.xyz.abc.repository</code>, <code>com.xyz.abc.service</code> </p>\n"},{"tags":[],"owner":{"account_id":6682070,"reputation":821,"user_id":12512290,"display_name":"jayesh"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1578285457,"creation_date":1578285457,"answer_id":59606748,"question_id":52101936,"body_markdown":"Adding the following annotation in the main spring boot application class solved the issue in my case:\r\n\r\n@ComponentScan(&quot;com.myapp.repositories&quot;)","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>Adding the following annotation in the main spring boot application class solved the issue in my case:</p>\n\n<p>@ComponentScan(\"com.myapp.repositories\")</p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1603150296,"creation_date":1603052512,"answer_id":64417954,"question_id":52101936,"body_markdown":"Just put `AppointmentPaymentServiceImpl` and `UserRepository` in the same package which for me was `com.`\r\n","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>Just put <code>AppointmentPaymentServiceImpl</code> and <code>UserRepository</code> in the same package which for me was <code>com.</code></p>\n"},{"tags":[],"owner":{"account_id":13135321,"reputation":61,"user_id":9488508,"display_name":"Jilson P Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622435493,"creation_date":1622435493,"answer_id":67767941,"question_id":52101936,"body_markdown":"I had the same problem. I just copied the repositories from my working project to a new project and I got the same error consider defining a bean of type com.[packagename].repository.[repository-name]. Nothing above worked for me and later I did the following things:\r\n1. Removed the version of JPA dependancy in POM file (just removed the version tag)\r\n2. I was using Java 15 and when I created the SpringBoot project from start.spring.io, there was only 11 and 16 fava versions. So I selected 11 for my project. I changed that too in POM file\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;15&lt;/java.version&gt;  (it was 11 before)\r\n\t&lt;/properties&gt;\r\n3. Now I removed the @ComponentScan annotation in my main file, which was also a solution worked for me early.\r\n4. Just invalidate the cache and restart\r\n5. Type mvn clean install\r\n6. mvn clean spring-boot:run\r\nHope this work for you too\r\n","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>I had the same problem. I just copied the repositories from my working project to a new project and I got the same error consider defining a bean of type com.[packagename].repository.[repository-name]. Nothing above worked for me and later I did the following things:</p>\n<ol>\n<li><p>Removed the version of JPA dependancy in POM file (just removed the version tag)</p>\n</li>\n<li><p>I was using Java 15 and when I created the SpringBoot project from start.spring.io, there was only 11 and 16 fava versions. So I selected 11 for my project. I changed that too in POM file</p>\n \n     15  (it was 11 before)\n \n</li>\n<li><p>Now I removed the @ComponentScan annotation in my main file, which was also a solution worked for me early.</p>\n</li>\n<li><p>Just invalidate the cache and restart</p>\n</li>\n<li><p>Type mvn clean install</p>\n</li>\n<li><p>mvn clean spring-boot:run\nHope this work for you too</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16224731,"reputation":101,"user_id":11715400,"display_name":"Dhawal Kamdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672147027,"creation_date":1672147027,"answer_id":74929763,"question_id":52101936,"body_markdown":"Add any one of the following annotations to the main class of your spring boot application. Both of them worked for me.\r\n\r\n    @ComponentScan(&quot;com.abc.repository&quot;)\r\n\r\n&lt;!-- Comment inserted to render code *outside* the list --&gt;\r\n\r\n    @EnableAutoConfiguration","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>Add any one of the following annotations to the main class of your spring boot application. Both of them worked for me.</p>\n<pre><code>@ComponentScan(&quot;com.abc.repository&quot;)\n</code></pre>\n\n<pre><code>@EnableAutoConfiguration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495153,"reputation":317,"user_id":5027985,"display_name":"Pradeep Agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696439226,"creation_date":1696439226,"answer_id":77231636,"question_id":52101936,"body_markdown":"It&#39;s because you are using Spring Data JPA.\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nReplace it with Spring Boot Starter Data JPA. It has all the necessary dependencies to fix the repository loading issue.\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>It's because you are using Spring Data JPA.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Replace it with Spring Boot Starter Data JPA. It has all the necessary dependencies to fix the repository loading issue.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6611885,"reputation":454,"user_id":5106665,"display_name":"Ayush Srivastava"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75562,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":7,"score":22,"last_activity_date":1696439226,"creation_date":1535647353,"question_id":52101936,"body_markdown":"Hi I am doing JPA and Hibernate configuration using Java configuration in spring boot and I am stuck it at this error for hours.\r\nEven though I have declared the UserRepository as bean still it is not able to get the repository.\r\n    \r\n    package com.repository;\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\r\n\r\nMy service class which is using this repository:\r\n    \r\n    package com.service;\r\n\r\n    @Service\r\n    public class AppointmentPaymentServiceImpl implements AppointmentPaymentService {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n    ......\r\n    ......\r\n    }\r\n\r\nMy Database configuration:\r\n\r\n    package com.config;\r\n   \r\n    @Configuration\r\n    @PropertySource(value = { &quot;classpath:application.properties&quot; })\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(&quot;com.repository.*&quot;)\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class,HibernateJpaAutoConfiguration.class})\r\n    public class DBConfig {\r\n\r\n\t@Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n\tpublic String driver;\r\n\r\n\t@Value(&quot;${spring.datasource.url}&quot;)\r\n\tpublic String url;\r\n\r\n\t@Value(&quot;${spring.datasource.username}&quot;)\r\n\tpublic String username;\r\n\r\n\t@Value(&quot;${spring.datasource.password}&quot;)\r\n\tpublic String password;\r\n\r\n\t@Value(&quot;${spring.jpa.properties.hibernate.dialect}&quot;)\r\n\tpublic String dialect;\r\n\r\n\t@Value(&quot;${spring.jpa.hibernate.ddl-auto}&quot;)\r\n\tpublic String ddl;\r\n\r\n\t@Bean(name = &quot;dataSource&quot;)\r\n\tpublic DriverManagerDataSource dataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(driver);\r\n\t\tdataSource.setUrl(url);\r\n\t\tdataSource.setUsername(username);\r\n\t\tdataSource.setPassword(password);\r\n\r\n\t\treturn dataSource;\r\n\t}\r\n\r\n\t\r\n\t@Bean(name = &quot;sessionFactory&quot;)\r\n\tpublic LocalSessionFactoryBean hibernateSessionFactory(DataSource dataSource) {\r\n\t\tLocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n\t\tsessionFactory.setDataSource(dataSource());\r\n\t\tsessionFactory.setPackagesToScan(new String[] { &quot;com.model.*&quot; });\r\n\t\tsessionFactory.setHibernateProperties(hibernateProperties());\r\n\t\treturn sessionFactory;\r\n\t}\r\n\t\r\n\r\n\t@Bean\r\n\tHibernateTransactionManager transactionManagerHib(SessionFactory sessionFactory) {\r\n\t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n\t\ttransactionManager.setSessionFactory(sessionFactory);\r\n\t\treturn transactionManager;\r\n\t}\r\n\r\n\t/*@Bean\r\n\t@Qualifier(value = &quot;entityManager&quot;)\r\n\tpublic EntityManager entityManager(EntityManagerFactory entityManagerFactory) {\r\n\t\treturn entityManagerFactory.createEntityManager();\r\n\t}*/\r\n\t\r\n\t@Bean\r\n\tpublic PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\r\n\t\treturn new PersistenceExceptionTranslationPostProcessor();\r\n\t}\r\n\t\r\n\t@Bean\r\n\t public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t \r\n\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t vendorAdapter.setDatabase(Database.MYSQL);\r\n\t vendorAdapter.setGenerateDdl(true);\r\n\t \r\n\t LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n\t em.setDataSource(dataSource());\r\n\t em.setPackagesToScan(&quot;com.model.*&quot;);\r\n\tem.setJpaVendorAdapter(vendorAdapter);\r\n\t em.setJpaProperties(hibernateProperties());\r\n\t \r\n\t return em;\r\n\t}\r\n\t\r\n\t@Bean\r\n\t public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\r\n\t JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t transactionManager.setEntityManagerFactory(emf);\r\n\t\r\n\t return transactionManager;\r\n\t}\r\n\r\n\tProperties hibernateProperties() {\r\n\t\treturn new Properties() {\r\n\t\t\t{\r\n\t\t\t\tsetProperty(&quot;hibernate.hbm2ddl.auto&quot;, ddl);\r\n\t\t\t\tsetProperty(&quot;hibernate.connection.useUnicode&quot;, &quot;true&quot;);\r\n\t\t\t\tsetProperty(&quot;spring.jpa.hibernate.ddl-auto&quot;, ddl);\r\n\t\t\t\tsetProperty(&quot;hibernate.dialect&quot;, dialect);\r\n\t\t\t\tsetProperty(&quot;spring.jpa.properties.hibernate.dialect&quot;, dialect);\r\n\t\t\t\tsetProperty(&quot;hibernate.globally_quoted_identifiers&quot;, &quot;true&quot;);\r\n\t\t\t\tsetProperty(&quot;hibernate.connection.CharSet&quot;, &quot;utf8mb4&quot;);\r\n\t\t\t\tsetProperty(&quot;hibernate.connection.characterEncoding&quot;, &quot;utf8&quot;);\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n    }\r\n\r\nAnd this is my main class:\r\n\r\n    package com; \r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.*&quot;})\r\n    @EnableCaching\r\n    @Configuration\r\n    @PropertySource({&quot;classpath:logging.properties&quot;})\r\n    public class MainApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MainApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\nMy pom.xml contains these dependencies  for hibernate and jpa if I use only spring data jpa then hibernate-core 5.0.12.Final is imported by default which I do not want:\r\n     \r\n      &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        .\r\n        .\r\n        .\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n\r\n\r\nThe error:\r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Field userRepository in com.service.AppointmentPaymentServiceImpl required a bean of type &#39;com.repository.UserRepository&#39; that could not be found.\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration.\r\n\r\nMy User Entity:\r\n\r\n    package com.model;\r\n\r\n    @Entity\r\n    @Table(name = &quot;USER&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class User implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@NotNull\r\n\t@Column(name = &quot;city_id&quot;)\r\n\tprivate Long cityId;\r\n\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;age&quot;)\r\n\tprivate int age;\r\n\r\n\t@Column(name = &quot;locality&quot;)\r\n\tprivate String locality;\r\n\r\n\t@Column(name = &quot;gender&quot;)\r\n\tprivate String gender;\r\n\r\n    }\r\n","title":"Consider defining a bean of type &#39;com.repository.UserRepository&#39; in your configuration","body":"<p>Hi I am doing JPA and Hibernate configuration using Java configuration in spring boot and I am stuck it at this error for hours.\nEven though I have declared the UserRepository as bean still it is not able to get the repository.</p>\n\n<pre><code>package com.repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\n</code></pre>\n\n<p>My service class which is using this repository:</p>\n\n<pre><code>package com.service;\n\n@Service\npublic class AppointmentPaymentServiceImpl implements AppointmentPaymentService {\n\n@Autowired\nprivate UserRepository userRepository;\n......\n......\n}\n</code></pre>\n\n<p>My Database configuration:</p>\n\n<pre><code>package com.config;\n\n@Configuration\n@PropertySource(value = { \"classpath:application.properties\" })\n@EnableTransactionManagement\n@EnableJpaRepositories(\"com.repository.*\")\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class,HibernateJpaAutoConfiguration.class})\npublic class DBConfig {\n\n@Value(\"${spring.datasource.driver-class-name}\")\npublic String driver;\n\n@Value(\"${spring.datasource.url}\")\npublic String url;\n\n@Value(\"${spring.datasource.username}\")\npublic String username;\n\n@Value(\"${spring.datasource.password}\")\npublic String password;\n\n@Value(\"${spring.jpa.properties.hibernate.dialect}\")\npublic String dialect;\n\n@Value(\"${spring.jpa.hibernate.ddl-auto}\")\npublic String ddl;\n\n@Bean(name = \"dataSource\")\npublic DriverManagerDataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(driver);\n    dataSource.setUrl(url);\n    dataSource.setUsername(username);\n    dataSource.setPassword(password);\n\n    return dataSource;\n}\n\n\n@Bean(name = \"sessionFactory\")\npublic LocalSessionFactoryBean hibernateSessionFactory(DataSource dataSource) {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setDataSource(dataSource());\n    sessionFactory.setPackagesToScan(new String[] { \"com.model.*\" });\n    sessionFactory.setHibernateProperties(hibernateProperties());\n    return sessionFactory;\n}\n\n\n@Bean\nHibernateTransactionManager transactionManagerHib(SessionFactory sessionFactory) {\n    HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n    transactionManager.setSessionFactory(sessionFactory);\n    return transactionManager;\n}\n\n/*@Bean\n@Qualifier(value = \"entityManager\")\npublic EntityManager entityManager(EntityManagerFactory entityManagerFactory) {\n    return entityManagerFactory.createEntityManager();\n}*/\n\n@Bean\npublic PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\n    return new PersistenceExceptionTranslationPostProcessor();\n}\n\n@Bean\n public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n\nHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n vendorAdapter.setDatabase(Database.MYSQL);\n vendorAdapter.setGenerateDdl(true);\n\n LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n em.setDataSource(dataSource());\n em.setPackagesToScan(\"com.model.*\");\nem.setJpaVendorAdapter(vendorAdapter);\n em.setJpaProperties(hibernateProperties());\n\n return em;\n}\n\n@Bean\n public PlatformTransactionManager transactionManager(EntityManagerFactory emf){\n JpaTransactionManager transactionManager = new JpaTransactionManager();\n transactionManager.setEntityManagerFactory(emf);\n\n return transactionManager;\n}\n\nProperties hibernateProperties() {\n    return new Properties() {\n        {\n            setProperty(\"hibernate.hbm2ddl.auto\", ddl);\n            setProperty(\"hibernate.connection.useUnicode\", \"true\");\n            setProperty(\"spring.jpa.hibernate.ddl-auto\", ddl);\n            setProperty(\"hibernate.dialect\", dialect);\n            setProperty(\"spring.jpa.properties.hibernate.dialect\", dialect);\n            setProperty(\"hibernate.globally_quoted_identifiers\", \"true\");\n            setProperty(\"hibernate.connection.CharSet\", \"utf8mb4\");\n            setProperty(\"hibernate.connection.characterEncoding\", \"utf8\");\n\n        }\n    };\n}\n\n}\n</code></pre>\n\n<p>And this is my main class:</p>\n\n<pre><code>package com; \n\n@SpringBootApplication\n@ComponentScan(basePackages = { \"com.*\"})\n@EnableCaching\n@Configuration\n@PropertySource({\"classpath:logging.properties\"})\npublic class MainApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(MainApplication.class, args);\n}\n\n}\n</code></pre>\n\n<p>My pom.xml contains these dependencies  for hibernate and jpa if I use only spring data jpa then hibernate-core 5.0.12.Final is imported by default which I do not want:</p>\n\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    .\n    .\n    .\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.10.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userRepository in com.service.AppointmentPaymentServiceImpl required a bean of type 'com.repository.UserRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.repository.UserRepository' in your configuration.\n</code></pre>\n\n<p>My User Entity:</p>\n\n<pre><code>package com.model;\n\n@Entity\n@Table(name = \"USER\")\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue\n@Column(name = \"id\")\nprivate Long id;\n\n@NotNull\n@Column(name = \"city_id\")\nprivate Long cityId;\n\n@Column(name = \"name\")\nprivate String name;\n\n@Column(name = \"age\")\nprivate int age;\n\n@Column(name = \"locality\")\nprivate String locality;\n\n@Column(name = \"gender\")\nprivate String gender;\n\n}\n</code></pre>\n"},{"tags":["java","android","sql-server","odbc"],"answers":[{"tags":[],"owner":{"account_id":50175,"reputation":176,"user_id":149570,"display_name":"Yuriy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309319098,"creation_date":1309319098,"answer_id":6515531,"question_id":6515441,"body_markdown":"It is in general good idea to expose your database to the Internet via a strictly defined service interface. This is much better from a security standpoint and http requests are simpler (more reliable) than persistent tcp/ip connections, when on the phone.","title":"How to make an ODBC connection in Android?","body":"<p>It is in general good idea to expose your database to the Internet via a strictly defined service interface. This is much better from a security standpoint and http requests are simpler (more reliable) than persistent tcp/ip connections, when on the phone.</p>\n"},{"tags":[],"owner":{"account_id":416903,"reputation":1118,"user_id":792583,"display_name":"Nick Gorham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309336547,"creation_date":1309336547,"answer_id":6517798,"question_id":6515441,"body_markdown":"We (Easysoft) haven&#39;t tried it on Android, but in theory a JDBC-ODBC bridge that supports network connections between the client and the server would allow you to do what you want. JDBC on Android to ODBC on a windows machine and then to the MS Access ODBC driver.","title":"How to make an ODBC connection in Android?","body":"<p>We (Easysoft) haven't tried it on Android, but in theory a JDBC-ODBC bridge that supports network connections between the client and the server would allow you to do what you want. JDBC on Android to ODBC on a windows machine and then to the MS Access ODBC driver.</p>\n"},{"tags":[],"owner":{"account_id":769577,"reputation":46,"user_id":806939,"display_name":"Garry M. Biggs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309538846,"creation_date":1309538846,"answer_id":6550855,"question_id":6515441,"body_markdown":"I can state that the [Multi-tier JDBC to ODBC Bridge][1], from [OpenLink Software][2], does in fact work on Android..\r\n\r\n(I believe only Android 2.3+ supports JDBC though...)\r\n\r\n  [1]: http://uda.openlinksw.com/jdbc-odbc-mt/\r\n  [2]: http://www.openlinksw.com","title":"How to make an ODBC connection in Android?","body":"<p>I can state that the <a href=\"http://uda.openlinksw.com/jdbc-odbc-mt/\" rel=\"nofollow\">Multi-tier JDBC to ODBC Bridge</a>, from <a href=\"http://www.openlinksw.com\" rel=\"nofollow\">OpenLink Software</a>, does in fact work on Android..</p>\n\n<p>(I believe only Android 2.3+ supports JDBC though...)</p>\n"},{"tags":[],"owner":{"account_id":1570520,"reputation":623,"user_id":1458308,"accept_rate":40,"display_name":"Richard Spencer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339752642,"creation_date":1339752642,"answer_id":11048058,"question_id":6515441,"body_markdown":"The [Easysoft JDBC-ODBC Bridge][1] works fine on Android 2.1 and above. If anyone wants to give it a try get a trial of the software and email Easysoft Support ( support@easysoft.com ) if you need assistance.\r\n\r\n\r\n  [1]: http://www.easysoft.com/products/data_access/jdbc_odbc_bridge/index.html\r\n","title":"How to make an ODBC connection in Android?","body":"<p>The <a href=\"http://www.easysoft.com/products/data_access/jdbc_odbc_bridge/index.html\" rel=\"nofollow\">Easysoft JDBC-ODBC Bridge</a> works fine on Android 2.1 and above. If anyone wants to give it a try get a trial of the software and email Easysoft Support ( support@easysoft.com ) if you need assistance.</p>\n"}],"owner":{"account_id":352403,"reputation":2543,"user_id":689476,"accept_rate":83,"display_name":"camelCaseD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1696439105,"creation_date":1309318012,"question_id":6515441,"body_markdown":"I am wondering if there is a way to make an ODBC connection to a sql azure database through android. What I am trying to do is make an app that lists farmer info for a coffee company Ex(Name, Cupping, etc). That info is stored on a sql-server database. If it is possible what info would I need in order to make a connection Ex(DNS, username, password). If it is not possible I have another idea to making a connection through an httprequest to a php file that makes a ODBC connection to the database.\r\n\r\n&lt;b&gt;Edits&lt;/b&gt;:\r\n&lt;p&gt;&lt;ul&gt;&lt;li&gt;What data is in the database&lt;/li&gt;&lt;li&gt;The type of database has been changed&lt;/li&gt;&lt;li&gt;Tag changed from ms-access to sql-server&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;","title":"How to make an ODBC connection in Android?","body":"<p>I am wondering if there is a way to make an ODBC connection to a sql azure database through android. What I am trying to do is make an app that lists farmer info for a coffee company Ex(Name, Cupping, etc). That info is stored on a sql-server database. If it is possible what info would I need in order to make a connection Ex(DNS, username, password). If it is not possible I have another idea to making a connection through an httprequest to a php file that makes a ODBC connection to the database.</p>\n\n<p><b>Edits</b>:</p>\n\n<p><ul><li>What data is in the database</li><li>The type of database has been changed</li><li>Tag changed from ms-access to sql-server</li></ul></p>\n"},{"tags":["java","json","jackson","bufferedimage"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1696326838,"post_id":77221147,"comment_id":136135556,"body_markdown":"You need to write code that does the serialization and deserialization of the `BufferedImage` as Jackson does not support this. For example here: https://www.baeldung.com/jackson-custom-serialization","body":"You need to write code that does the serialization and deserialization of the <code>BufferedImage</code> as Jackson does not support this. For example here: <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-custom-serialization</a>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1696327184,"post_id":77221147,"comment_id":136135617,"body_markdown":"Generally, using JSON for `BufferedImage` (de)serialization isn&#39;t a good idea. Instead use standard file formats like PNG or TIFF to store your images. And load/store them using `ImageIO`.","body":"Generally, using JSON for <code>BufferedImage</code> (de)serialization isn&#39;t a good idea. Instead use standard file formats like PNG or TIFF to store your images. And load/store them using <code>ImageIO</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696347988,"post_id":77221147,"comment_id":136139810,"body_markdown":"Add `@JsonIgnore` to your combatImage field.  You’re already initializing it from combatImagePath, so there’s no need to serialize the image itself.","body":"Add <code>@JsonIgnore</code> to your combatImage field.  You’re already initializing it from combatImagePath, so there’s no need to serialize the image itself."},{"owner":{"account_id":29124334,"reputation":19,"user_id":22311020,"display_name":"Alejandrol"},"score":0,"creation_date":1696350368,"post_id":77221147,"comment_id":136140318,"body_markdown":"Adding JsonIgnore to the combatImage doesn&#39;t work, also tried with the other Bufferedimages and still the same","body":"Adding JsonIgnore to the combatImage doesn&#39;t work, also tried with the other Bufferedimages and still the same"}],"answers":[{"tags":[],"owner":{"account_id":29124334,"reputation":19,"user_id":22311020,"display_name":"Alejandrol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696439044,"creation_date":1696439044,"answer_id":77231612,"question_id":77221147,"body_markdown":"Finally after tons of hours i found an alternative to fix it, if anyone is interested i leave here my aproach to the solution:\r\n\r\nI created a new Class with only the Json arguments i needed to enter like the stats, the combatImagePath and the String Arrays.\r\n\r\nI changed the monsterManager to be a monsterStatManager and finally in the constructor of the monsters i added a parameter of type monsterStat and assigned them normally. \r\n\r\n```\r\n    public shadowStandar(GamePanel gp,monsterData data) {\r\n        super(gp);\r\n        this.name = data.name;\r\n        this.stats.hp = data.hp;\r\n        this.stats.maxHp = this.stats.hp;\r\n        this.stats.str = data.str;\r\n        this.stats.agi = data.agi;\r\n        this.stats.mag = data.mag;\r\n        this.stats.vit = data.vit;\r\n        this.xpGiven = data.xpGiven;\r\n        this.attackType = data.attackType;\r\n        this.combatImagePath = data.combatImagePath;\r\n        this.resistances = data.resistances;\r\n        this.weaknesses = data.weaknesses;\r\n        this.nulls = data.nulls;\r\n        this.repells = data.repells;\r\n        this.type = 2;\r\n        speed = 1;\r\n        getImage();\r\n    }\r\n```\r\nmonsterData for Json class:\r\n```\r\n    // Constructor predeterminado sin argumentos\r\n    public monsterData() {\r\n    }\r\n\r\n    // Constructor con argumentos anotado con @JsonCreator\r\n    @JsonCreator\r\n    public monsterData(\r\n            @JsonProperty(&quot;name&quot;) String name,\r\n            @JsonProperty(&quot;health&quot;) int health,\r\n            @JsonProperty(&quot;str&quot;) int str,\r\n            @JsonProperty(&quot;agi&quot;) int agi,\r\n            @JsonProperty(&quot;mag&quot;) int mag,\r\n            @JsonProperty(&quot;vit&quot;) int vit,\r\n            @JsonProperty(&quot;xpGiven&quot;) int xpGiven,\r\n            @JsonProperty(&quot;attackType&quot;) String attackType,\r\n            @JsonProperty(&quot;combatImagePath&quot;) String combatImagePath,\r\n            @JsonProperty(&quot;weaknesses&quot;) String[] weaknesses,\r\n            @JsonProperty(&quot;resistances&quot;) String[] resistances,\r\n            @JsonProperty(&quot;nulls&quot;) String[] nulls,\r\n            @JsonProperty(&quot;repells&quot;) String[] repells\r\n    ) {\r\n        this.name = name;\r\n        this.hp = health;\r\n        this.maxHp = this.hp;\r\n        this.str = str;\r\n        this.agi = agi;\r\n        this.mag = mag;\r\n        this.vit = vit;\r\n        this.xpGiven = xpGiven;\r\n        this.attackType = attackType;\r\n        this.combatImagePath = combatImagePath;\r\n\r\n        this.weaknesses = weaknesses;\r\n        this.resistances = resistances;\r\n        this.nulls = nulls;\r\n        this.repells = repells;\r\n    }\r\n}\r\n```","title":"Error serializing/deserializing BufferedImage using Jackson","body":"<p>Finally after tons of hours i found an alternative to fix it, if anyone is interested i leave here my aproach to the solution:</p>\n<p>I created a new Class with only the Json arguments i needed to enter like the stats, the combatImagePath and the String Arrays.</p>\n<p>I changed the monsterManager to be a monsterStatManager and finally in the constructor of the monsters i added a parameter of type monsterStat and assigned them normally.</p>\n<pre><code>    public shadowStandar(GamePanel gp,monsterData data) {\n        super(gp);\n        this.name = data.name;\n        this.stats.hp = data.hp;\n        this.stats.maxHp = this.stats.hp;\n        this.stats.str = data.str;\n        this.stats.agi = data.agi;\n        this.stats.mag = data.mag;\n        this.stats.vit = data.vit;\n        this.xpGiven = data.xpGiven;\n        this.attackType = data.attackType;\n        this.combatImagePath = data.combatImagePath;\n        this.resistances = data.resistances;\n        this.weaknesses = data.weaknesses;\n        this.nulls = data.nulls;\n        this.repells = data.repells;\n        this.type = 2;\n        speed = 1;\n        getImage();\n    }\n</code></pre>\n<p>monsterData for Json class:</p>\n<pre><code>    // Constructor predeterminado sin argumentos\n    public monsterData() {\n    }\n\n    // Constructor con argumentos anotado con @JsonCreator\n    @JsonCreator\n    public monsterData(\n            @JsonProperty(&quot;name&quot;) String name,\n            @JsonProperty(&quot;health&quot;) int health,\n            @JsonProperty(&quot;str&quot;) int str,\n            @JsonProperty(&quot;agi&quot;) int agi,\n            @JsonProperty(&quot;mag&quot;) int mag,\n            @JsonProperty(&quot;vit&quot;) int vit,\n            @JsonProperty(&quot;xpGiven&quot;) int xpGiven,\n            @JsonProperty(&quot;attackType&quot;) String attackType,\n            @JsonProperty(&quot;combatImagePath&quot;) String combatImagePath,\n            @JsonProperty(&quot;weaknesses&quot;) String[] weaknesses,\n            @JsonProperty(&quot;resistances&quot;) String[] resistances,\n            @JsonProperty(&quot;nulls&quot;) String[] nulls,\n            @JsonProperty(&quot;repells&quot;) String[] repells\n    ) {\n        this.name = name;\n        this.hp = health;\n        this.maxHp = this.hp;\n        this.str = str;\n        this.agi = agi;\n        this.mag = mag;\n        this.vit = vit;\n        this.xpGiven = xpGiven;\n        this.attackType = attackType;\n        this.combatImagePath = combatImagePath;\n\n        this.weaknesses = weaknesses;\n        this.resistances = resistances;\n        this.nulls = nulls;\n        this.repells = repells;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29124334,"reputation":19,"user_id":22311020,"display_name":"Alejandrol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696439044,"creation_date":1696325982,"question_id":77221147,"body_markdown":"The Problem I am having is the following one.\r\nI am trying to handle all the enemys of my game in a Json File, when I try to load them, i get an error from Buffered Image class. I can More or less Understand it is because of Serialization and Deserialization, but I can&#39;t manage to figure out how to fix it because its my first time using Jackson in Java.\r\n\r\n\r\nI tried the following code and i expected it to work like a normal Jackson constructor loader.\r\n```public class MonsterManager {\r\n    private static MonsterManager instance;\r\n    private ArrayList&lt;shadowStandar&gt; monsters;\r\n\r\n    private MonsterManager() {\r\n        loadMonstersFromFile(&quot;res/Jsons/monsters.json&quot;); // Ajusta la ruta seg&#250;n la ubicaci&#243;n de tu archivo JSON\r\n    }\r\n\r\n    public static MonsterManager getInstance() {\r\n        if (instance == null) {\r\n            instance = new MonsterManager();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private void loadMonstersFromFile(String filePath) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        try {\r\n            monsters = objectMapper.readValue(new File(filePath), new TypeReference&lt;ArrayList&lt;shadowStandar&gt;&gt;() {});\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            // Manejar excepciones apropiadamente\r\n        }\r\n    }\r\n\r\n    public ArrayList&lt;shadowStandar&gt; getMonsters() {\r\n        return monsters;\r\n    }\r\n}\r\n```\r\nMonsterClass:\r\n```\r\npublic class shadowStandar extends Entity {\r\n\r\n    BufferedImage walkDown3,walkDown4,walkUp3,walkUp4,walkLeft3,walkLeft4,walkRight3,walkRight4;\r\n\r\n    public int xpGiven;\r\n    private String attackType;\r\n    public BufferedImage combatImage;\r\n\r\n    public shadowStandar(GamePanel gp) {\r\n        super(gp);\r\n    }\r\n\r\n\r\n    @JsonCreator\r\n    public shadowStandar(\r\n            @JsonProperty(&quot;gp&quot;) GamePanel gp,\r\n            @JsonProperty(&quot;name&quot;) String name,\r\n            @JsonProperty(&quot;health&quot;) int health,\r\n            @JsonProperty(&quot;str&quot;) int str,\r\n            @JsonProperty(&quot;agi&quot;) int agi,\r\n            @JsonProperty(&quot;mag&quot;) int mag,\r\n            @JsonProperty(&quot;vit&quot;) int vit,\r\n            @JsonProperty(&quot;xpGiven&quot;) int xpGiven,\r\n            @JsonProperty(&quot;attackType&quot;) String attackType,\r\n            @JsonProperty(&quot;combatImagePath&quot;) String combatImagePath,\r\n            @JsonProperty(&quot;weaknesses&quot;) String[] weaknesses,\r\n            @JsonProperty(&quot;resistances&quot;) String[] resistances,\r\n            @JsonProperty(&quot;nulls&quot;) String[] nulls,\r\n            @JsonProperty(&quot;repells&quot;) String[] repells\r\n    ) {\r\n        super(gp);\r\n        type = 2;\r\n        this.name = name;\r\n        this.stats.hp = health;\r\n        this.stats.maxHp = this.stats.hp;\r\n        this.stats.str = str;\r\n        this.stats.agi = agi;\r\n        this.stats.mag = mag;\r\n        this.stats.vit = vit;\r\n        this.xpGiven = xpGiven;\r\n        this.attackType = attackType;\r\n        speed = 1;\r\n        loadCombatImage(combatImagePath); // Cargar la imagen de combate espec&#237;fica\r\n        getImage(); // Cargar las im&#225;genes del mundo\r\n\r\n        this.weaknesses = weaknesses;\r\n        this.resistances = resistances;\r\n        this.nulls = nulls;\r\n        this.repells = repells;\r\n    }\r\n\r\n\r\n\r\n    public String getAttackType(){\r\n        return attackType;\r\n    }\r\n\r\n    public int getPhysAttack(int playerEndurance,int attackerStat){\r\n        return 5*(int)(Math.sqrt(((double) attackerStat/playerEndurance)*randomFactor()));\r\n    }\r\n\r\n\r\n    public void loadCombatImage(String combatImagePath){\r\n        combatImage = setUp(combatImagePath);\r\n    }\r\n\r\n```\r\nI got the following error:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `java.awt.image.BufferedImage`: Failed to call `setAccess()` on Field &#39;colorModel&#39; (of class `java.awt.image.BufferedImage`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private java.awt.image.ColorModel java.awt.image.BufferedImage.colorModel accessible: module java.desktop does not &quot;opens java.awt.image&quot; to unnamed module @385c9627\r\n     at [Source: (File); line: 1, column: 1]\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1893)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder._handleBadAccess(BeanDeserializerBuilder.java:620)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder._fixAccess(BeanDeserializerBuilder.java:537)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder.build(BeanDeserializerBuilder.java:384)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:295)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:151)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.findNonContextualValueDeserializer(DeserializationContext.java:644)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:539)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:294)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:621)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:188)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:28)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleSecondaryContextualization(DeserializationContext.java:867)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:659)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4956)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4826)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3657)\r\n    \tat monster.MonsterManager.loadMonstersFromFile(MonsterManager.java:28)\r\n    \tat monster.MonsterManager.&lt;init&gt;(MonsterManager.java:15)\r\n    \tat monster.MonsterManager.getInstance(MonsterManager.java:20)\r\n    \tat main.GamePanel.&lt;init&gt;(GamePanel.java:51)\r\n    \tat main.Main.main(Main.java:14)\r\n    Caused by: java.lang.IllegalArgumentException: Failed to call `setAccess()` on Field &#39;colorModel&#39; (of class `java.awt.image.BufferedImage`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private java.awt.image.ColorModel java.awt.image.BufferedImage.colorModel accessible: module java.desktop does not &quot;opens java.awt.image&quot; to unnamed module @385c9627\r\n    \tat com.fasterxml.jackson.databind.util.ClassUtil.checkAndFixAccess(ClassUtil.java:1008)\r\n    \tat com.fasterxml.jackson.databind.deser.impl.FieldProperty.fixAccess(FieldProperty.java:104)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder._fixAccess(BeanDeserializerBuilder.java:535)\r\n    \t... 26 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.awt.image.ColorModel java.awt.image.BufferedImage.colorModel accessible: module java.desktop does not &quot;opens java.awt.image&quot; to unnamed module @385c9627\r\n    \tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n    \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:181)\r\n    \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:175)\r\n    \tat com.fasterxml.jackson.databind.util.ClassUtil.checkAndFixAccess(ClassUtil.java:995)\r\n    \t... 28 more\r\n\r\n\r\n","title":"Error serializing/deserializing BufferedImage using Jackson","body":"<p>The Problem I am having is the following one.\nI am trying to handle all the enemys of my game in a Json File, when I try to load them, i get an error from Buffered Image class. I can More or less Understand it is because of Serialization and Deserialization, but I can't manage to figure out how to fix it because its my first time using Jackson in Java.</p>\n<p>I tried the following code and i expected it to work like a normal Jackson constructor loader.</p>\n<pre><code>    private static MonsterManager instance;\n    private ArrayList&lt;shadowStandar&gt; monsters;\n\n    private MonsterManager() {\n        loadMonstersFromFile(&quot;res/Jsons/monsters.json&quot;); // Ajusta la ruta según la ubicación de tu archivo JSON\n    }\n\n    public static MonsterManager getInstance() {\n        if (instance == null) {\n            instance = new MonsterManager();\n        }\n        return instance;\n    }\n\n    private void loadMonstersFromFile(String filePath) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            monsters = objectMapper.readValue(new File(filePath), new TypeReference&lt;ArrayList&lt;shadowStandar&gt;&gt;() {});\n        } catch (IOException e) {\n            e.printStackTrace();\n            // Manejar excepciones apropiadamente\n        }\n    }\n\n    public ArrayList&lt;shadowStandar&gt; getMonsters() {\n        return monsters;\n    }\n}\n</code></pre>\n<p>MonsterClass:</p>\n<pre><code>public class shadowStandar extends Entity {\n\n    BufferedImage walkDown3,walkDown4,walkUp3,walkUp4,walkLeft3,walkLeft4,walkRight3,walkRight4;\n\n    public int xpGiven;\n    private String attackType;\n    public BufferedImage combatImage;\n\n    public shadowStandar(GamePanel gp) {\n        super(gp);\n    }\n\n\n    @JsonCreator\n    public shadowStandar(\n            @JsonProperty(&quot;gp&quot;) GamePanel gp,\n            @JsonProperty(&quot;name&quot;) String name,\n            @JsonProperty(&quot;health&quot;) int health,\n            @JsonProperty(&quot;str&quot;) int str,\n            @JsonProperty(&quot;agi&quot;) int agi,\n            @JsonProperty(&quot;mag&quot;) int mag,\n            @JsonProperty(&quot;vit&quot;) int vit,\n            @JsonProperty(&quot;xpGiven&quot;) int xpGiven,\n            @JsonProperty(&quot;attackType&quot;) String attackType,\n            @JsonProperty(&quot;combatImagePath&quot;) String combatImagePath,\n            @JsonProperty(&quot;weaknesses&quot;) String[] weaknesses,\n            @JsonProperty(&quot;resistances&quot;) String[] resistances,\n            @JsonProperty(&quot;nulls&quot;) String[] nulls,\n            @JsonProperty(&quot;repells&quot;) String[] repells\n    ) {\n        super(gp);\n        type = 2;\n        this.name = name;\n        this.stats.hp = health;\n        this.stats.maxHp = this.stats.hp;\n        this.stats.str = str;\n        this.stats.agi = agi;\n        this.stats.mag = mag;\n        this.stats.vit = vit;\n        this.xpGiven = xpGiven;\n        this.attackType = attackType;\n        speed = 1;\n        loadCombatImage(combatImagePath); // Cargar la imagen de combate específica\n        getImage(); // Cargar las imágenes del mundo\n\n        this.weaknesses = weaknesses;\n        this.resistances = resistances;\n        this.nulls = nulls;\n        this.repells = repells;\n    }\n\n\n\n    public String getAttackType(){\n        return attackType;\n    }\n\n    public int getPhysAttack(int playerEndurance,int attackerStat){\n        return 5*(int)(Math.sqrt(((double) attackerStat/playerEndurance)*randomFactor()));\n    }\n\n\n    public void loadCombatImage(String combatImagePath){\n        combatImage = setUp(combatImagePath);\n    }\n\n</code></pre>\n<p>I got the following error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `java.awt.image.BufferedImage`: Failed to call `setAccess()` on Field 'colorModel' (of class `java.awt.image.BufferedImage`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private java.awt.image.ColorModel java.awt.image.BufferedImage.colorModel accessible: module java.desktop does not &quot;opens java.awt.image&quot; to unnamed module @385c9627\n at [Source: (File); line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1893)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder._handleBadAccess(BeanDeserializerBuilder.java:620)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder._fixAccess(BeanDeserializerBuilder.java:537)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder.build(BeanDeserializerBuilder.java:384)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:295)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:151)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findNonContextualValueDeserializer(DeserializationContext.java:644)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:539)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:294)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:621)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:188)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleSecondaryContextualization(DeserializationContext.java:867)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:659)\n    at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4956)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4826)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3657)\n    at monster.MonsterManager.loadMonstersFromFile(MonsterManager.java:28)\n    at monster.MonsterManager.&lt;init&gt;(MonsterManager.java:15)\n    at monster.MonsterManager.getInstance(MonsterManager.java:20)\n    at main.GamePanel.&lt;init&gt;(GamePanel.java:51)\n    at main.Main.main(Main.java:14)\nCaused by: java.lang.IllegalArgumentException: Failed to call `setAccess()` on Field 'colorModel' (of class `java.awt.image.BufferedImage`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private java.awt.image.ColorModel java.awt.image.BufferedImage.colorModel accessible: module java.desktop does not &quot;opens java.awt.image&quot; to unnamed module @385c9627\n    at com.fasterxml.jackson.databind.util.ClassUtil.checkAndFixAccess(ClassUtil.java:1008)\n    at com.fasterxml.jackson.databind.deser.impl.FieldProperty.fixAccess(FieldProperty.java:104)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBuilder._fixAccess(BeanDeserializerBuilder.java:535)\n    ... 26 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.awt.image.ColorModel java.awt.image.BufferedImage.colorModel accessible: module java.desktop does not &quot;opens java.awt.image&quot; to unnamed module @385c9627\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:181)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:175)\n    at com.fasterxml.jackson.databind.util.ClassUtil.checkAndFixAccess(ClassUtil.java:995)\n    ... 28 more\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696438677,"creation_date":1415359290,"answer_id":26800134,"question_id":26800100,"body_markdown":"`3722304989` is higher than the [max number][1] that can be held by an int variable. That&#39;s why you get an [integer overflow][2], and the result becomes negative. That&#39;s also the reason why `Integer.parseInt(&quot;dddddddd&quot;,16)` throws an exception.\r\n\r\nIf you change your `val` variable and the return type of the method to long, you&#39;ll get the expected result.\r\n\r\nYou can also use `Long.parseLong(&quot;dddddddd&quot;,16)`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\r\n  [2]: https://en.m.wikipedia.org/wiki/Integer_overflow","title":"hexadecimal to decimal conversion in java","body":"<p><code>3722304989</code> is higher than the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\">max number</a> that can be held by an int variable. That's why you get an <a href=\"https://en.m.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">integer overflow</a>, and the result becomes negative. That's also the reason why <code>Integer.parseInt(&quot;dddddddd&quot;,16)</code> throws an exception.</p>\n<p>If you change your <code>val</code> variable and the return type of the method to long, you'll get the expected result.</p>\n<p>You can also use <code>Long.parseLong(&quot;dddddddd&quot;,16)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1046659,"reputation":2023,"user_id":1051496,"accept_rate":65,"display_name":"BlueLettuce16"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415360741,"creation_date":1415360741,"answer_id":26800529,"question_id":26800100,"body_markdown":"Did you try this?\r\n\r\n    System.out.println(Long.parseLong(&quot;dddddddd&quot;, 16));\r\n\r\nYou get number format exception becouse it&#39;s to big value for Integer after conversion, try to remove one &quot;d&quot; and it should work with Integer.parseInt or parse to Long as I showed you above.","title":"hexadecimal to decimal conversion in java","body":"<p>Did you try this?</p>\n\n<pre><code>System.out.println(Long.parseLong(\"dddddddd\", 16));\n</code></pre>\n\n<p>You get number format exception becouse it's to big value for Integer after conversion, try to remove one \"d\" and it should work with Integer.parseInt or parse to Long as I showed you above.</p>\n"},{"tags":[],"owner":{"account_id":5295503,"reputation":41,"user_id":4226778,"display_name":"Vipul Tewari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415361860,"creation_date":1415361860,"answer_id":26800886,"question_id":26800100,"body_markdown":"Conversion of Hexadecimal value for &quot;dddddddd&quot; is exceeding the range for Integer value range as used in your example. Below code is giving the correct value:\r\n\r\npackage StackOverflow;\r\n\r\nimport java.util.*;\r\n\r\npublic class HexaToDecimal {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\t\r\n    \r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tSystem.out.print(&quot;Provide Hexadecimal Input:&quot;);\r\n\t\t\r\n\t\tScanner userInput = new Scanner(System.in);\r\n\t\t\r\n\t\tString inputValue = userInput.nextLine();\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//actual conversion of hex to Decimal\r\n\t\t\t\r\n\t\t\tLong outputDec = Long.parseLong(inputValue,16);\r\n\t\t\tSystem.out.print(&quot;Decimal Equivalent : &quot; +outputDec);\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tcatch(NumberFormatException ne)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Invalid Input&quot;);\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\tuserInput.close();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n                                       ","title":"hexadecimal to decimal conversion in java","body":"<p>Conversion of Hexadecimal value for \"dddddddd\" is exceeding the range for Integer value range as used in your example. Below code is giving the correct value:</p>\n\n<p>package StackOverflow;</p>\n\n<p>import java.util.*;</p>\n\n<p>public class HexaToDecimal {</p>\n\n<pre><code>/**\n * @param args\n */\n\n\npublic static void main(String[] args) \n{\n    // TODO Auto-generated method stub\n\n    System.out.print(\"Provide Hexadecimal Input:\");\n\n    Scanner userInput = new Scanner(System.in);\n\n    String inputValue = userInput.nextLine();\n\n    try\n    {\n        //actual conversion of hex to Decimal\n\n        Long outputDec = Long.parseLong(inputValue,16);\n        System.out.print(\"Decimal Equivalent : \" +outputDec);       \n\n    }\n\n    catch(NumberFormatException ne)\n    {\n        System.out.println(\"Invalid Input\");\n    }\n    finally\n    {\n        userInput.close();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":2010750,"reputation":424,"user_id":1799232,"accept_rate":60,"display_name":"Dingling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":26800134,"answer_count":3,"score":0,"last_activity_date":1696438677,"creation_date":1415359181,"question_id":26800100,"body_markdown":"I have a `String` containing hexadecimal number `&quot;dddddddd&quot;` and currently I am using the method `int hex_to_int(String s)` to convert it into `int decimalValue`:\r\n\r\n        public static int hex_to_int(String s) \r\n        {\r\n\t        String digits = &quot;0123456789ABCDEF&quot;;\r\n\t        s = s.toUpperCase();\r\n\t        int val = 0;\r\n\t        for (int i = 0; i &lt; s.length(); i++) {\r\n\t            char c = s.charAt(i);\r\n\t            int d = digits.indexOf(c);\r\n\t            val = 16*val + d;\r\n\t        }\r\n\t        return val;\r\n\t    }\r\n\r\nwhen I do `int decimalValue = hex_to_int(&quot;dddddddd&quot;);` it gives me this decimalValue `-572662307` whereas hexString `&quot;dddddddd&quot;` should be `3722304989` in decimal.\r\nI also tried `int decimalValue = Integer.parseInt(&quot;dddddddd&quot;,16);` this gave me `NumberFormatException`.","title":"hexadecimal to decimal conversion in java","body":"<p>I have a <code>String</code> containing hexadecimal number <code>\"dddddddd\"</code> and currently I am using the method <code>int hex_to_int(String s)</code> to convert it into <code>int decimalValue</code>:</p>\n\n<pre><code>    public static int hex_to_int(String s) \n    {\n        String digits = \"0123456789ABCDEF\";\n        s = s.toUpperCase();\n        int val = 0;\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            int d = digits.indexOf(c);\n            val = 16*val + d;\n        }\n        return val;\n    }\n</code></pre>\n\n<p>when I do <code>int decimalValue = hex_to_int(\"dddddddd\");</code> it gives me this decimalValue <code>-572662307</code> whereas hexString <code>\"dddddddd\"</code> should be <code>3722304989</code> in decimal.\nI also tried <code>int decimalValue = Integer.parseInt(\"dddddddd\",16);</code> this gave me <code>NumberFormatException</code>.</p>\n"},{"tags":["java","math","collision-detection","lwjgl","triangle"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1696432958,"post_id":77229946,"comment_id":136152882,"body_markdown":"&quot;I&#39;m still looking for a more simple, practical and efficient solution&quot; more than what, though? I don&#39;t see a description of what you already found and tried in your post. As asking for books, resources, etc. is [off topic on Stackoverflow](/help/on-topic), you should probably talk a bit about [what you already tried](/help/how-to-ask), ideally with code that shows off what you have now that isn&#39;t working the way you want it to, and a discussion of what you already did/searched for/etc. to try to improve that.","body":"&quot;I&#39;m still looking for a more simple, practical and efficient solution&quot; more than what, though? I don&#39;t see a description of what you already found and tried in your post. As asking for books, resources, etc. is <a href=\"/help/on-topic\">off topic on Stackoverflow</a>, you should probably talk a bit about <a href=\"/help/how-to-ask\">what you already tried</a>, ideally with code that shows off what you have now that isn&#39;t working the way you want it to, and a discussion of what you already did/searched for/etc. to try to improve that."},{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1696447933,"post_id":77229946,"comment_id":136155817,"body_markdown":"https://stackoverflow.com/a/61310663/3871028","body":"<a href=\"https://stackoverflow.com/a/61310663/3871028\">stackoverflow.com/a/61310663/3871028</a>"}],"owner":{"account_id":28779521,"reputation":47,"user_id":22041411,"display_name":"notwhale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696438030,"creation_date":1696425594,"question_id":77229946,"body_markdown":"I am currently working on a lwjgl project where I need to detect collisions between 3D triangles. I&#39;m using OpenGL, and I&#39;m seeking guidance on the most efficient and accurate way to achieve this.\r\n\r\nTo give you some context, I have a set of triangles defined by their vertices in 3D space, and I need to check for collisions between them.\r\n\r\nI&#39;m wondering if there are simpe and optimized algorithms that I can leverage to make this collision detection process. Additionally, if anyone has experience or knowledge regarding this specific problem, I&#39;d greatly appreciate any insights or resources you can provide.\r\n\r\nI have done some research on this topic for example this algorithm: https://cis.temple.edu/~lakaemper/courses/cis350_2004/etc/moeller_triangle.pdf, but still looking for a simpler, more practical and efficient solution. Any recommendations or code samples would be very helpful.","title":"Detecting 3D Triangle-Triangle Collisions in java","body":"<p>I am currently working on a lwjgl project where I need to detect collisions between 3D triangles. I'm using OpenGL, and I'm seeking guidance on the most efficient and accurate way to achieve this.</p>\n<p>To give you some context, I have a set of triangles defined by their vertices in 3D space, and I need to check for collisions between them.</p>\n<p>I'm wondering if there are simpe and optimized algorithms that I can leverage to make this collision detection process. Additionally, if anyone has experience or knowledge regarding this specific problem, I'd greatly appreciate any insights or resources you can provide.</p>\n<p>I have done some research on this topic for example this algorithm: <a href=\"https://cis.temple.edu/%7Elakaemper/courses/cis350_2004/etc/moeller_triangle.pdf\" rel=\"nofollow noreferrer\">https://cis.temple.edu/~lakaemper/courses/cis350_2004/etc/moeller_triangle.pdf</a>, but still looking for a simpler, more practical and efficient solution. Any recommendations or code samples would be very helpful.</p>\n"},{"tags":["java","ssl","ip","certificate"],"comments":[{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1576222063,"post_id":29157861,"comment_id":104836517,"body_markdown":"For Spring Boot `RestTemplate` see https://stackoverflow.com/a/59317106/548473","body":"For Spring Boot <code>RestTemplate</code> see <a href=\"https://stackoverflow.com/a/59317106/548473\">stackoverflow.com/a/59317106/548473</a>"},{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":1,"creation_date":1618406884,"post_id":29157861,"comment_id":118591704,"body_markdown":"I have this problem in Docker because the IP addresses are randomly assigned to the container. Does anybody have a solution for this situation?","body":"I have this problem in Docker because the IP addresses are randomly assigned to the container. Does anybody have a solution for this situation?"}],"answers":[{"tags":[],"owner":{"account_id":1484273,"reputation":981,"user_id":1392842,"accept_rate":30,"display_name":"Liu guanghua"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1596260393,"creation_date":1426817955,"answer_id":29158302,"question_id":29157861,"body_markdown":"Your certificate should include that ip value as a subject alternative name value (of type IPAddress : key=7).\r\n\r\n[http://web.archive.org/web/20160201235032/http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching][1]\r\n\r\n\r\n  [1]: http://web.archive.org/web/20160201235032/http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>Your certificate should include that ip value as a subject alternative name value (of type IPAddress : key=7).</p>\n<p><a href=\"http://web.archive.org/web/20160201235032/http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching\" rel=\"noreferrer\">http://web.archive.org/web/20160201235032/http://www.jroller.com/hasant/entry/no_subject_alternative_names_matching</a></p>\n"},{"tags":[],"owner":{"account_id":7812311,"reputation":2813,"user_id":5908154,"accept_rate":10,"display_name":"Abhishek Galoda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538645611,"creation_date":1538645611,"answer_id":52643473,"question_id":29157861,"body_markdown":"The reason, we get above error is that CN(Common name) defined in your certificate is not matching with the domain the application is running on.\r\nFor e.g, In your certificate, the CN name is defined as www.example.com or an IP but you may be running the application say a URL which is like http://localhost:8080/api\r\n\r\nSo to fix the above error simply use one of the below approaches\r\n\r\nRun the application on the same ‘CN’, as defined in your certificates.\r\n\r\nOR\r\n\r\nAlong with CN name you can add Subject alt names in your certificate, which is like adding more than one domain in the certificate. Link below describes the process of adding multiple domains(subject-alt-name) to jks file and also to a certificate.\r\n\r\nFollow this link: [Learn how to add subject alt names and resolve the above error][1]\r\n\r\n\r\n  [1]: http://www.littlebigextra.com/how-to-add-subject-alt-names-or-multiple-domains-in-a-key-store-and-self-signed-certificate/","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>The reason, we get above error is that CN(Common name) defined in your certificate is not matching with the domain the application is running on.\nFor e.g, In your certificate, the CN name is defined as www.example.com or an IP but you may be running the application say a URL which is like <a href=\"http://localhost:8080/api\" rel=\"nofollow noreferrer\">http://localhost:8080/api</a></p>\n\n<p>So to fix the above error simply use one of the below approaches</p>\n\n<p>Run the application on the same ‘CN’, as defined in your certificates.</p>\n\n<p>OR</p>\n\n<p>Along with CN name you can add Subject alt names in your certificate, which is like adding more than one domain in the certificate. Link below describes the process of adding multiple domains(subject-alt-name) to jks file and also to a certificate.</p>\n\n<p>Follow this link: <a href=\"http://www.littlebigextra.com/how-to-add-subject-alt-names-or-multiple-domains-in-a-key-store-and-self-signed-certificate/\" rel=\"nofollow noreferrer\">Learn how to add subject alt names and resolve the above error</a></p>\n"},{"tags":[],"owner":{"account_id":2154086,"reputation":2201,"user_id":1909708,"display_name":"Himadri Pant"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1543290311,"creation_date":1543279046,"answer_id":53491151,"question_id":29157861,"body_markdown":"The reason why this fails is because the hostname of the target endpoint and the certificate common name (`CN` in certification `Subject` does not match). \r\n\r\nFor e.g., from a JVM, when trying to connect to an IP address (`WW.XX.YY.ZZ`) and not the DNS name (https://stackoverflow.com), the HTTPS connection will fail because the certificate stored in the java truststore `cacerts` expects common name to match the target address. \r\n\r\nTo mitigate this HostnameVerifier needs to be verify the connection despite the mismatch\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#HostnameVerifier\r\n\r\n        HttpsURLConnection urlConnection = (HttpsURLConnection) new URL(&quot;https://test.test/api&quot;).openConnection();\r\n        urlConnection.setSSLSocketFactory(buildSocketFactory());\r\n        urlConnection.setDoOutput(true);\r\n        urlConnection.setRequestMethod(&quot;get&quot;);\r\n        urlConnection.setHostnameVerifier(new HostnameVerifier() {\r\n            @Override\r\n            public boolean verify(String hostname, SSLSession sslSession) {\r\n                return true;\r\n            }\r\n        });\r\n        urlConnection.getOutputStream();","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>The reason why this fails is because the hostname of the target endpoint and the certificate common name (<code>CN</code> in certification <code>Subject</code> does not match). </p>\n\n<p>For e.g., from a JVM, when trying to connect to an IP address (<code>WW.XX.YY.ZZ</code>) and not the DNS name (<a href=\"https://stackoverflow.com\">https://stackoverflow.com</a>), the HTTPS connection will fail because the certificate stored in the java truststore <code>cacerts</code> expects common name to match the target address. </p>\n\n<p>To mitigate this HostnameVerifier needs to be verify the connection despite the mismatch\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#HostnameVerifier\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#HostnameVerifier</a></p>\n\n<pre><code>    HttpsURLConnection urlConnection = (HttpsURLConnection) new URL(\"https://test.test/api\").openConnection();\n    urlConnection.setSSLSocketFactory(buildSocketFactory());\n    urlConnection.setDoOutput(true);\n    urlConnection.setRequestMethod(\"get\");\n    urlConnection.setHostnameVerifier(new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostname, SSLSession sslSession) {\n            return true;\n        }\n    });\n    urlConnection.getOutputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14204637,"reputation":470,"user_id":11375887,"display_name":"Jonathan Mendoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564065849,"creation_date":1564065849,"answer_id":57204698,"question_id":29157861,"body_markdown":"# Execute the following steps\n\n1- Modify the file: /etc/ssl/openssl.cnf, for example:\n\n    subjectAltName=DNS:api.electoralsystem\n\n2- Generate private key\n\n    jmendoza@jmendoza:~$ openssl genrsa -aes256 -out electoralsystem-cakey.pem 2048 -alias electoralsystem-cakey.pem\n    Generating RSA private key, 2048 bit long modulus\n    ....................+++++\n    .......................................+++++\n    e is 65537 (0x010001)\n    Enter pass phrase for electoralsystem-cakey.pem:\n    Verifying - Enter pass phrase for electoralsystem-cakey.pem:\n\n\n3- Generate cacert x509\n\n    jmendoza@jmendoza:~$ openssl req -new -x509 -sha256 -key electoralsystem-cakey.pem -days 365 -out electoralsystem-cacert.pem \n    Enter pass phrase for electoralsystem-cakey.pem:\n    You are about to be asked to enter information that will be incorporated\n    into your certificate request.\n    What you are about to enter is what is called a Distinguished Name or a DN.\n    There are quite a few fields but you can leave some blank\n    For some fields there will be a default value,\n    If you enter &#39;.&#39;, the field will be left blank.\n    -----\n    Country Name (2 letter code) [AU]:VE\n    State or Province Name (full name) [Some-State]:CARACAS\n    Locality Name (eg, city) []:CARACAS\n    Organization Name (eg, company) [Internet Widgits Pty Ltd]:JMENDOZA\n    Organizational Unit Name (eg, section) []:TI\n    Common Name (e.g. server FQDN or YOUR name) []:api.electoralsystem\n    Email Address []:xxxx@gmail.com \n\n\n[openssl x509 -in electoralsystem-cacert.pem -text][1]\n\n4- Generate keystore pkcs12\n\n    jmendoza@jmendoza:~$ openssl pkcs12 -export -in electoralsystem-cacert.pem -inkey electoralsystem-cakey.pem -out electoralsystem-store.p12 -name &quot;electoralsystem-store&quot; \n    Enter pass phrase for electoralsystem-cakey.pem:\n    Enter Export Password:\n    Verifying - Enter Export Password:\n\n5- If you need it, convert the PKCS12 keystore to JKS keytstore using keytool command \n\n    jmendoza@jmendoza:~$ keytool -importkeystore -destkeystore electoralsystem-store.jks -deststorepass jmendoza -srckeystore electoralsystem-store.p12 -srcstoretype PKCS12 -srcstorepass jmendoza -alias electoralsystem-store\n    Importando el almac&#233;n de claves de electoralsystem-store.p12 a electoralsystem-store.jks...\n\n\n6- On the client, import certificate in keytstore \n\n    jmendoza@jmendoza:~$ keytool -importcert -file electoralsystem-cacert.pem -keystore ldap-server-smmt.jks \n    Introduzca la contrase&#241;a del almac&#233;n de claves:\n\n[Import certificate in keytstore][2]\n\n\nInvoke API - https://api.electoralsystem:8081/yyyy/xxxxx\n\n7- Configure certificates on the api server\n\n[Configure certificates on the api server][3]\n\n8- Summary generated files\n\n    jmendoza@jmendoza:~$ ls -lt\n    total 1332\n    -rw-rw-r--  1 jmendoza jmendoza    2482 jul 25 10:15  ldap-server-smmt.jks\n    -rw-r--r--  1 jmendoza jmendoza    2442 jul 25 10:04  electoralsystem-store.jks\n    -rw-------  1 jmendoza jmendoza    2792 jul 25 10:01  electoralsystem-store.p12\n    -rw-r--r--  1 jmendoza jmendoza    1509 jul 25 09:45  electoralsystem-cacert.pem\n    -rw-------  1 jmendoza jmendoza    1766 jul 25 09:38  electoralsystem-cakey.pem\n\n\nNote: configure DNS api.electoralsystem on the client&#39;s docker or server\n\n\n  [1]: https://i.stack.imgur.com/1o7rT.png\n  [2]: https://i.stack.imgur.com/JV5oJ.png\n  [3]: https://i.stack.imgur.com/y0FXL.png","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<h1>Execute the following steps</h1>\n<p>1- Modify the file: /etc/ssl/openssl.cnf, for example:</p>\n<pre><code>subjectAltName=DNS:api.electoralsystem\n</code></pre>\n<p>2- Generate private key</p>\n<pre><code>jmendoza@jmendoza:~$ openssl genrsa -aes256 -out electoralsystem-cakey.pem 2048 -alias electoralsystem-cakey.pem\nGenerating RSA private key, 2048 bit long modulus\n....................+++++\n.......................................+++++\ne is 65537 (0x010001)\nEnter pass phrase for electoralsystem-cakey.pem:\nVerifying - Enter pass phrase for electoralsystem-cakey.pem:\n</code></pre>\n<p>3- Generate cacert x509</p>\n<pre><code>jmendoza@jmendoza:~$ openssl req -new -x509 -sha256 -key electoralsystem-cakey.pem -days 365 -out electoralsystem-cacert.pem \nEnter pass phrase for electoralsystem-cakey.pem:\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [AU]:VE\nState or Province Name (full name) [Some-State]:CARACAS\nLocality Name (eg, city) []:CARACAS\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:JMENDOZA\nOrganizational Unit Name (eg, section) []:TI\nCommon Name (e.g. server FQDN or YOUR name) []:api.electoralsystem\nEmail Address []:xxxx@gmail.com \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1o7rT.png\" rel=\"nofollow noreferrer\">openssl x509 -in electoralsystem-cacert.pem -text</a></p>\n<p>4- Generate keystore pkcs12</p>\n<pre><code>jmendoza@jmendoza:~$ openssl pkcs12 -export -in electoralsystem-cacert.pem -inkey electoralsystem-cakey.pem -out electoralsystem-store.p12 -name &quot;electoralsystem-store&quot; \nEnter pass phrase for electoralsystem-cakey.pem:\nEnter Export Password:\nVerifying - Enter Export Password:\n</code></pre>\n<p>5- If you need it, convert the PKCS12 keystore to JKS keytstore using keytool command</p>\n<pre><code>jmendoza@jmendoza:~$ keytool -importkeystore -destkeystore electoralsystem-store.jks -deststorepass jmendoza -srckeystore electoralsystem-store.p12 -srcstoretype PKCS12 -srcstorepass jmendoza -alias electoralsystem-store\nImportando el almacén de claves de electoralsystem-store.p12 a electoralsystem-store.jks...\n</code></pre>\n<p>6- On the client, import certificate in keytstore</p>\n<pre><code>jmendoza@jmendoza:~$ keytool -importcert -file electoralsystem-cacert.pem -keystore ldap-server-smmt.jks \nIntroduzca la contraseña del almacén de claves:\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JV5oJ.png\" rel=\"nofollow noreferrer\">Import certificate in keytstore</a></p>\n<p>Invoke API - <a href=\"https://api.electoralsystem:8081/yyyy/xxxxx\" rel=\"nofollow noreferrer\">https://api.electoralsystem:8081/yyyy/xxxxx</a></p>\n<p>7- Configure certificates on the api server</p>\n<p><a href=\"https://i.stack.imgur.com/y0FXL.png\" rel=\"nofollow noreferrer\">Configure certificates on the api server</a></p>\n<p>8- Summary generated files</p>\n<pre><code>jmendoza@jmendoza:~$ ls -lt\ntotal 1332\n-rw-rw-r--  1 jmendoza jmendoza    2482 jul 25 10:15  ldap-server-smmt.jks\n-rw-r--r--  1 jmendoza jmendoza    2442 jul 25 10:04  electoralsystem-store.jks\n-rw-------  1 jmendoza jmendoza    2792 jul 25 10:01  electoralsystem-store.p12\n-rw-r--r--  1 jmendoza jmendoza    1509 jul 25 09:45  electoralsystem-cacert.pem\n-rw-------  1 jmendoza jmendoza    1766 jul 25 09:38  electoralsystem-cakey.pem\n</code></pre>\n<p>Note: configure DNS api.electoralsystem on the client's docker or server</p>\n"},{"tags":[],"owner":{"account_id":10640901,"reputation":617,"user_id":7835969,"display_name":"Manishoaham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599982898,"creation_date":1599982898,"answer_id":63868362,"question_id":29157861,"body_markdown":"I have resolved the said\r\n\r\n&gt; javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address\r\n\r\nerror by adding one alternative subject name (DNS) in the server certificate (having CN=example.com) which after prints the part of certificate as below:\r\n\r\n    Subject Alternative Name:\r\n    DNS: example.com\r\n\r\nI used KeyExplorer on windows for generating my server certificate. You can follow [this link][1] for adding alternative subject names (follow the only part for adding it).\r\n\r\n\r\n  [1]: https://support.microfocus.com/kb/doc.php?id=7023489","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>I have resolved the said</p>\n<blockquote>\n<p>javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address</p>\n</blockquote>\n<p>error by adding one alternative subject name (DNS) in the server certificate (having CN=example.com) which after prints the part of certificate as below:</p>\n<pre><code>Subject Alternative Name:\nDNS: example.com\n</code></pre>\n<p>I used KeyExplorer on windows for generating my server certificate. You can follow <a href=\"https://support.microfocus.com/kb/doc.php?id=7023489\" rel=\"nofollow noreferrer\">this link</a> for adding alternative subject names (follow the only part for adding it).</p>\n"},{"tags":[],"owner":{"account_id":11720698,"reputation":1,"user_id":8579761,"display_name":"Raj kiran M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1620370393,"creation_date":1620370393,"answer_id":67430252,"question_id":29157861,"body_markdown":"Instead of using ip address as your url.\r\nYou can try using FQDN in the url","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>Instead of using ip address as your url.\nYou can try using FQDN in the url</p>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647637330,"creation_date":1647637330,"answer_id":71533167,"question_id":29157861,"body_markdown":"I was having the same problem so sharing my experience. These values should be same.\r\n\r\nTake the CN value of the certificate and save into /etc/hosts and try to access it with this URI. It will work\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ocu3Y.jpg","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>I was having the same problem so sharing my experience. These values should be same.</p>\n<p>Take the CN value of the certificate and save into /etc/hosts and try to access it with this URI. It will work</p>\n<p><a href=\"https://i.stack.imgur.com/Ocu3Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ocu3Y.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11533061,"reputation":149,"user_id":8451437,"display_name":"Juan hernan jaime arias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663861391,"creation_date":1663861391,"answer_id":73817414,"question_id":29157861,"body_markdown":"1. import .cert using keytool (java): \r\n```\r\n- listar: keytool -list -v -keystore cacerts\r\n- importar: keytool -importcert -file your-cert.crt -keystore cacerts -alias &quot;ldap cert&quot;\r\n```\r\n2. Verify JAVA_HOME is the same as keytool under you run the code \r\n3. The hostname or domain in your .cert must be equals as the domain server \r\n4. you must be valid a cert using a tool to confirm the name of the .cert, for example, this is a command using windows:\r\n\r\n    ```- CheckSSLCert.exe yourserverip [port]```\r\n\r\n5. the code: \r\n\r\n```\r\npublic DirContext dirContext(String currentPassword, String distinguishedName) throws Exception {\r\n        log.info(&quot;getConnection configuration&quot;);\r\n        try {\r\n            Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\r\n            String keystore = System.getProperty(&quot;java.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;lib&quot; + System.getProperty(&quot;file.separator&quot;) + &quot;security&quot; + System.getProperty(&quot;file.separator&quot;) + &quot;cacerts&quot;;\r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, keystore);\r\n            env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n            env.put(Context.PROVIDER_URL, &quot;ldaps://yourserverldap.hostname:636&quot;);\r\n            env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n            env.put(Context.SECURITY_PRINCIPAL, &quot;your ldap user&quot;);\r\n            env.put(Context.SECURITY_CREDENTIALS, &quot;your pass&quot;);\r\n            env.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);\r\n            return new InitialDirContext(env);\r\n        } catch (Exception e) {\r\n\t\t\tlog.info(&quot;error &quot; + e.getMessage());\r\n            throw e;\r\n        }\r\n    }\r\n```","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<ol>\n<li>import .cert using keytool (java):</li>\n</ol>\n<pre><code>- listar: keytool -list -v -keystore cacerts\n- importar: keytool -importcert -file your-cert.crt -keystore cacerts -alias &quot;ldap cert&quot;\n</code></pre>\n<ol start=\"2\">\n<li><p>Verify JAVA_HOME is the same as keytool under you run the code</p>\n</li>\n<li><p>The hostname or domain in your .cert must be equals as the domain server</p>\n</li>\n<li><p>you must be valid a cert using a tool to confirm the name of the .cert, for example, this is a command using windows:</p>\n<p><code>- CheckSSLCert.exe yourserverip [port]</code></p>\n</li>\n<li><p>the code:</p>\n</li>\n</ol>\n<pre><code>public DirContext dirContext(String currentPassword, String distinguishedName) throws Exception {\n        log.info(&quot;getConnection configuration&quot;);\n        try {\n            Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\n            String keystore = System.getProperty(&quot;java.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;lib&quot; + System.getProperty(&quot;file.separator&quot;) + &quot;security&quot; + System.getProperty(&quot;file.separator&quot;) + &quot;cacerts&quot;;\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, keystore);\n            env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n            env.put(Context.PROVIDER_URL, &quot;ldaps://yourserverldap.hostname:636&quot;);\n            env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n            env.put(Context.SECURITY_PRINCIPAL, &quot;your ldap user&quot;);\n            env.put(Context.SECURITY_CREDENTIALS, &quot;your pass&quot;);\n            env.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);\n            return new InitialDirContext(env);\n        } catch (Exception e) {\n            log.info(&quot;error &quot; + e.getMessage());\n            throw e;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4250271,"reputation":205,"user_id":3477571,"accept_rate":43,"display_name":"Mirhawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696437990,"creation_date":1696437990,"answer_id":77231497,"question_id":29157861,"body_markdown":"I had the same issue while accessing the API via IP address.\r\nSo if you are in a position like me where you cannot make much changes in the code or the certificate itself, then you can simply add the CN name in your host file.\r\nSo in windows operating system, I edited the following file\r\n\r\n    C:\\Windows\\System32\\drivers\\etc\\hosts\r\n\r\nand added following entry in it\r\n\r\n    10.10.10.10    xyz.domain.com\r\nThe domain name can be found in the CN in the certificate by hitting the the IP address in the browser.\r\n[![enter image description here][1]][1]\r\n\r\nIf the CN name is like *.domain.com, then you can set the domain name as per your convenience such as abc.domain.com\r\n\r\nBut as per my opinion, this should be done only for local testing. The production environments should have the proper domain- address called instead of an IP address.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WfWV2.png","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>I had the same issue while accessing the API via IP address.\nSo if you are in a position like me where you cannot make much changes in the code or the certificate itself, then you can simply add the CN name in your host file.\nSo in windows operating system, I edited the following file</p>\n<pre><code>C:\\Windows\\System32\\drivers\\etc\\hosts\n</code></pre>\n<p>and added following entry in it</p>\n<pre><code>10.10.10.10    xyz.domain.com\n</code></pre>\n<p>The domain name can be found in the CN in the certificate by hitting the the IP address in the browser.\n<a href=\"https://i.stack.imgur.com/WfWV2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WfWV2.png\" alt=\"enter image description here\" /></a></p>\n<p>If the CN name is like *.domain.com, then you can set the domain name as per your convenience such as abc.domain.com</p>\n<p>But as per my opinion, this should be done only for local testing. The production environments should have the proper domain- address called instead of an IP address.</p>\n"}],"owner":{"account_id":2125148,"reputation":662,"user_id":1887530,"accept_rate":40,"display_name":"joz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167244,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":29158302,"answer_count":9,"score":19,"last_activity_date":1696437990,"creation_date":1426814440,"question_id":29157861,"body_markdown":"I&#39;m trying to implement a selfsigned certificate into my webserver, and it&#39;s working already with firefox and chrome (both from the server itself and from a remote machine)... but I can&#39;t get it to work with java. I&#39;ve already created a keystore file that contains my certificate, but every time I try to connect to the Server it gives me a SSLHandshakeException: `javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address 192.168.178.71 found`\r\n\r\nThe code I&#39;m using for this test is: \r\n\r\n    public static void main(String[] args) {\r\n    \t\t System.setProperty(&quot;javax.net.ssl.keyStore&quot;,                    HTTPStest.class.getResource(&quot;keystore.jks&quot;).getFile());\r\n    \t\t    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,           &quot;lead&quot;); \r\n    \t\tURL url;\r\n    \t\t    InputStream is = null;\r\n    \t\t    BufferedReader br;\r\n    \t\t    String line;\r\n    \r\n    \t\t    try {\r\n    \t\t        url = new URL(&quot;https://192.168.178.71/&quot;);\r\n    \t\t        is = url.openStream();  // throws an IOException\r\n    \t\t        br = new BufferedReader(new InputStreamReader(is));\r\n    \r\n    \t\t        while ((line = br.readLine()) != null) {\r\n    \t\t            System.out.println(line);\r\n    \t\t        }\r\n    \t\t    } catch (MalformedURLException mue) {\r\n    \t\t         mue.printStackTrace();\r\n    \t\t    } catch (IOException ioe) {\r\n    \t\t         ioe.printStackTrace();\r\n    \t\t    } finally {\r\n    \t\t        try {\r\n    \t\t            if (is != null) is.close();\r\n    \t\t        } catch (IOException ioe) {\r\n    \t\t            // nothing to see here\r\n    \t\t        }\r\n    \t\t    }\r\n    \r\n    \t}\r\n\r\nAnd when checking my certificate with openssl it gives me this:\r\n\r\n     Certificate:\r\n        Data:\r\n            Version: 3 (0x2)\r\n            Serial Number: 2 (0x2)\r\n        Signature Algorithm: sha256WithRSAEncryption\r\n            Issuer: C=DE, ST=BY, L=MU, O=LEAD, CN=LEAD CA/emailAddress=test@gmail.com\r\n            Validity\r\n                Not Before: Mar 20 00:55:13 2015 GMT\r\n                Not After : Mar 17 00:55:13 2025 GMT\r\n            Subject: C=DE, ST=BY, L=BE, CN=192.168.178.71\r\n            Subject Public Key Info:\r\n                Public Key Algorithm: rsaEncryption\r\n                    Public-Key: (2048 bit)\r\n                    Modulus:\r\n                        00:ed:9b:27:2b:ab:7d:88:48:a3:21:54:98:24:be:\r\n                        2d:72:4a:de:9c:05:de:95:3a:01:d5:46:09:d2:9c:\r\n                        9f:29:b0:12:0c:86:28:88:51:a3:b9:c9:93:33:3c:\r\n                        8a:5c:f2:fe:49:e2:1e:9e:5a:4b:fb:63:41:9a:13:\r\n                        e5:bc:03:77:a0:5e:f2:b1:1f:db:f9:a4:03:07:8c:\r\n                        41:54:8c:bc:2e:da:cd:72:67:5b:2f:d5:83:fd:d0:\r\n                        bf:ea:bb:49:e0:21:2f:b3:f2:51:57:7c:81:d2:4b:\r\n                        91:12:73:13:6a:29:3b:59:90:2d:8d:50:cc:2b:f2:\r\n                        76:a8:41:ac:0a:11:8b:63:3b:d4:5c:91:5c:1e:41:\r\n                        33:6f:3e:fe:ed:f4:c3:26:77:d9:e2:0b:2c:09:5c:\r\n                        20:31:09:59:19:5c:15:75:eb:15:ef:b8:d8:7d:a2:\r\n                        2d:f4:f8:7f:3a:7c:e0:ad:c0:3b:86:1e:4f:b1:b9:\r\n                        c3:60:f8:fa:3c:5a:5a:72:bf:f9:95:c3:d4:8d:2b:\r\n                        22:3f:f8:a2:37:b3:c2:16:fa:9e:2d:f9:b5:78:6d:\r\n                        4f:88:95:84:12:f3:f5:c2:09:9f:51:ed:73:da:4d:\r\n                        9b:c3:2f:99:6d:d7:e9:f3:e0:c4:8b:73:09:25:1f:\r\n                        93:5c:dc:d7:fa:5c:47:59:ff:70:70:09:72:4a:8c:\r\n                        3f:c5\r\n                    Exponent: 65537 (0x10001)\r\n            X509v3 extensions:\r\n                X509v3 Subject Key Identifier: \r\n                    FD:5F:79:74:31:E3:12:22:50:F8:C5:BE:A7:45:8B:10:65:8F:FC:A8\r\n                X509v3 Authority Key Identifier: \r\n                    keyid:C5:2F:3A:53:A7:AF:96:E2:25:09:46:8A:11:B6:B9:5D:79:55:04:D9\r\n    \r\n                X509v3 Basic Constraints: \r\n                    CA:FALSE\r\n                X509v3 Key Usage: \r\n                    Digital Signature, Key Encipherment\r\n                X509v3 Subject Alternative Name: \r\n                    DNS:192.168.178.71, DNS:www.example.com, DNS:mail.example.com, DNS:ftp.example.com\r\n                Netscape Comment: \r\n                    OpenSSL Generated Certificate\r\n        Signature Algorithm: sha256WithRSAEncryption\r\n             7a:17:44:18:8e:31:11:b9:0a:fc:bf:d2:61:2f:16:24:56:24:\r\n             11:04:9e:2e:dc:65:d1:31:12:af:3d:ff:57:80:6b:45:70:f2:\r\n             e3:d8:2d:dd:d1:1d:05:ba:2e:92:d1:80:e8:93:0c:02:b2:47:\r\n             d1:5c:10:54:cb:4d:e5:52:f4:1d:c4:d2:26:a5:8e:4c:a3:44:\r\n             c0:6a:1d:74:27:89:6f:f4:dc:90:cc:3b:59:50:b7:38:5b:31:\r\n             da:21:01:d4:e6:4f:7a:23:23:d5:c5:61:29:32:1a:1e:bb:f9:\r\n             e1:3b:4f:a9:d8:d6:1d:f5:cf:15:04:18:8b:77:28:44:ef:ae:\r\n             33:8c:1e:72:d6:8c:c4:cc:7c:17:b8:f4:e5:d0:34:4f:d5:3d:\r\n             d7:59:4d:40:f3:42:1e:0c:26:98:73:98:a5:c2:d9:ea:2b:2a:\r\n             05:c3:f5:0b:e1:b6:d7:91:4a:09:15:21:1b:bc:d1:96:5e:bd:\r\n             47:9f:ab:27:e9:44:fc:00:e1:49:e4:74:1b:48:ff:56:01:03:\r\n             e7:9b:d2:bc:0a:53:39:95:52:5f:de:d8:fe:10:e8:53:5f:b4:\r\n             de:18:2d:50:a4:12:f8:48:37:66:4b:e1:18:21:69:ce:f3:0d:\r\n             2f:3d:03:22:bf:f6:91:3f:23:0b:58:4f:5f:be:82:67:ab:65:\r\n             98:15:e0:78:33:c6:50:38:39:42:ac:a5:bd:13:16:ca:58:64:\r\n             ce:a7:e8:88:e8:2f:eb:d5:7e:9e:75:51:da:50:b4:41:d1:83:\r\n             a8:a8:a3:18:25:b8:87:9d:c8:18:a0:db:7a:57:b1:31:e3:34:\r\n             a8:92:b7:4b:75:c4:34:09:3d:a2:de:69:b2:d5:2f:9e:97:b7:\r\n             c8:b5:df:8a:a8:d8:e2:b0:96:9e:56:39:40:c5:64:bf:fb:b2:\r\n             b8:cb:e1:29:24:a7:ce:00:34:d6:a9:11:c4:bf:8e:ae:c8:5c:\r\n             50:38:42:b9:15:9e:db:6b:00:ff:93:e8:0a:d3:00:13:0a:31:\r\n             3b:cc:93:ad:92:09:9d:97:dd:42:28:07:43:91:39:86:2e:54:\r\n             97:4a:a6:57:96:07:69:90:62:58:eb:0b:39:44:05:74:ad:f5:\r\n             bc:6a:41:5e:79:dd:27:99:32:67:c3:82:14:df:4b:44:a9:7e:\r\n             63:29:4e:c3:a3:ef:fa:1d:14:da:54:77:fb:6c:d8:c6:cc:5f:\r\n             99:06:38:f0:2c:78:41:f7:a1:5a:d6:29:1d:5f:df:f9:3b:7b:\r\n             cf:9f:73:f3:6c:b4:cf:0b:8e:39:7a:f1:35:3e:8d:66:12:4f:\r\n             f4:b1:04:6c:1f:d6:27:75:91:43:82:a4:74:a8:77:84:f9:ca:\r\n             14:71:8a:ac:da:3b:39:2d\r\n\r\nCan anyone help me solve this problem? I know that I could just go for a hostname, but I would like to have it work this way too","title":"Java CertificateException &quot;No subject alternative names matching IP address ... found&quot;","body":"<p>I'm trying to implement a selfsigned certificate into my webserver, and it's working already with firefox and chrome (both from the server itself and from a remote machine)... but I can't get it to work with java. I've already created a keystore file that contains my certificate, but every time I try to connect to the Server it gives me a SSLHandshakeException: <code>javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address 192.168.178.71 found</code></p>\n\n<p>The code I'm using for this test is: </p>\n\n<pre><code>public static void main(String[] args) {\n         System.setProperty(\"javax.net.ssl.keyStore\",                    HTTPStest.class.getResource(\"keystore.jks\").getFile());\n            System.setProperty(\"javax.net.ssl.keyStorePassword\",           \"lead\"); \n        URL url;\n            InputStream is = null;\n            BufferedReader br;\n            String line;\n\n            try {\n                url = new URL(\"https://192.168.178.71/\");\n                is = url.openStream();  // throws an IOException\n                br = new BufferedReader(new InputStreamReader(is));\n\n                while ((line = br.readLine()) != null) {\n                    System.out.println(line);\n                }\n            } catch (MalformedURLException mue) {\n                 mue.printStackTrace();\n            } catch (IOException ioe) {\n                 ioe.printStackTrace();\n            } finally {\n                try {\n                    if (is != null) is.close();\n                } catch (IOException ioe) {\n                    // nothing to see here\n                }\n            }\n\n    }\n</code></pre>\n\n<p>And when checking my certificate with openssl it gives me this:</p>\n\n<pre><code> Certificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number: 2 (0x2)\n    Signature Algorithm: sha256WithRSAEncryption\n        Issuer: C=DE, ST=BY, L=MU, O=LEAD, CN=LEAD CA/emailAddress=test@gmail.com\n        Validity\n            Not Before: Mar 20 00:55:13 2015 GMT\n            Not After : Mar 17 00:55:13 2025 GMT\n        Subject: C=DE, ST=BY, L=BE, CN=192.168.178.71\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n                Public-Key: (2048 bit)\n                Modulus:\n                    00:ed:9b:27:2b:ab:7d:88:48:a3:21:54:98:24:be:\n                    2d:72:4a:de:9c:05:de:95:3a:01:d5:46:09:d2:9c:\n                    9f:29:b0:12:0c:86:28:88:51:a3:b9:c9:93:33:3c:\n                    8a:5c:f2:fe:49:e2:1e:9e:5a:4b:fb:63:41:9a:13:\n                    e5:bc:03:77:a0:5e:f2:b1:1f:db:f9:a4:03:07:8c:\n                    41:54:8c:bc:2e:da:cd:72:67:5b:2f:d5:83:fd:d0:\n                    bf:ea:bb:49:e0:21:2f:b3:f2:51:57:7c:81:d2:4b:\n                    91:12:73:13:6a:29:3b:59:90:2d:8d:50:cc:2b:f2:\n                    76:a8:41:ac:0a:11:8b:63:3b:d4:5c:91:5c:1e:41:\n                    33:6f:3e:fe:ed:f4:c3:26:77:d9:e2:0b:2c:09:5c:\n                    20:31:09:59:19:5c:15:75:eb:15:ef:b8:d8:7d:a2:\n                    2d:f4:f8:7f:3a:7c:e0:ad:c0:3b:86:1e:4f:b1:b9:\n                    c3:60:f8:fa:3c:5a:5a:72:bf:f9:95:c3:d4:8d:2b:\n                    22:3f:f8:a2:37:b3:c2:16:fa:9e:2d:f9:b5:78:6d:\n                    4f:88:95:84:12:f3:f5:c2:09:9f:51:ed:73:da:4d:\n                    9b:c3:2f:99:6d:d7:e9:f3:e0:c4:8b:73:09:25:1f:\n                    93:5c:dc:d7:fa:5c:47:59:ff:70:70:09:72:4a:8c:\n                    3f:c5\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Subject Key Identifier: \n                FD:5F:79:74:31:E3:12:22:50:F8:C5:BE:A7:45:8B:10:65:8F:FC:A8\n            X509v3 Authority Key Identifier: \n                keyid:C5:2F:3A:53:A7:AF:96:E2:25:09:46:8A:11:B6:B9:5D:79:55:04:D9\n\n            X509v3 Basic Constraints: \n                CA:FALSE\n            X509v3 Key Usage: \n                Digital Signature, Key Encipherment\n            X509v3 Subject Alternative Name: \n                DNS:192.168.178.71, DNS:www.example.com, DNS:mail.example.com, DNS:ftp.example.com\n            Netscape Comment: \n                OpenSSL Generated Certificate\n    Signature Algorithm: sha256WithRSAEncryption\n         7a:17:44:18:8e:31:11:b9:0a:fc:bf:d2:61:2f:16:24:56:24:\n         11:04:9e:2e:dc:65:d1:31:12:af:3d:ff:57:80:6b:45:70:f2:\n         e3:d8:2d:dd:d1:1d:05:ba:2e:92:d1:80:e8:93:0c:02:b2:47:\n         d1:5c:10:54:cb:4d:e5:52:f4:1d:c4:d2:26:a5:8e:4c:a3:44:\n         c0:6a:1d:74:27:89:6f:f4:dc:90:cc:3b:59:50:b7:38:5b:31:\n         da:21:01:d4:e6:4f:7a:23:23:d5:c5:61:29:32:1a:1e:bb:f9:\n         e1:3b:4f:a9:d8:d6:1d:f5:cf:15:04:18:8b:77:28:44:ef:ae:\n         33:8c:1e:72:d6:8c:c4:cc:7c:17:b8:f4:e5:d0:34:4f:d5:3d:\n         d7:59:4d:40:f3:42:1e:0c:26:98:73:98:a5:c2:d9:ea:2b:2a:\n         05:c3:f5:0b:e1:b6:d7:91:4a:09:15:21:1b:bc:d1:96:5e:bd:\n         47:9f:ab:27:e9:44:fc:00:e1:49:e4:74:1b:48:ff:56:01:03:\n         e7:9b:d2:bc:0a:53:39:95:52:5f:de:d8:fe:10:e8:53:5f:b4:\n         de:18:2d:50:a4:12:f8:48:37:66:4b:e1:18:21:69:ce:f3:0d:\n         2f:3d:03:22:bf:f6:91:3f:23:0b:58:4f:5f:be:82:67:ab:65:\n         98:15:e0:78:33:c6:50:38:39:42:ac:a5:bd:13:16:ca:58:64:\n         ce:a7:e8:88:e8:2f:eb:d5:7e:9e:75:51:da:50:b4:41:d1:83:\n         a8:a8:a3:18:25:b8:87:9d:c8:18:a0:db:7a:57:b1:31:e3:34:\n         a8:92:b7:4b:75:c4:34:09:3d:a2:de:69:b2:d5:2f:9e:97:b7:\n         c8:b5:df:8a:a8:d8:e2:b0:96:9e:56:39:40:c5:64:bf:fb:b2:\n         b8:cb:e1:29:24:a7:ce:00:34:d6:a9:11:c4:bf:8e:ae:c8:5c:\n         50:38:42:b9:15:9e:db:6b:00:ff:93:e8:0a:d3:00:13:0a:31:\n         3b:cc:93:ad:92:09:9d:97:dd:42:28:07:43:91:39:86:2e:54:\n         97:4a:a6:57:96:07:69:90:62:58:eb:0b:39:44:05:74:ad:f5:\n         bc:6a:41:5e:79:dd:27:99:32:67:c3:82:14:df:4b:44:a9:7e:\n         63:29:4e:c3:a3:ef:fa:1d:14:da:54:77:fb:6c:d8:c6:cc:5f:\n         99:06:38:f0:2c:78:41:f7:a1:5a:d6:29:1d:5f:df:f9:3b:7b:\n         cf:9f:73:f3:6c:b4:cf:0b:8e:39:7a:f1:35:3e:8d:66:12:4f:\n         f4:b1:04:6c:1f:d6:27:75:91:43:82:a4:74:a8:77:84:f9:ca:\n         14:71:8a:ac:da:3b:39:2d\n</code></pre>\n\n<p>Can anyone help me solve this problem? I know that I could just go for a hostname, but I would like to have it work this way too</p>\n"},{"tags":["java","mongodb","quarkus","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":25817177,"reputation":11,"user_id":19556938,"display_name":"Gero Mendy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696437770,"creation_date":1696437770,"answer_id":77231466,"question_id":77231004,"body_markdown":"I learnt how to.\r\nYou can apply aggregations through the MongoCollection interfact, using Bsons to set the parameters:\r\n\r\n    List&lt;Bson&gt; params = new ArrayList&lt;&gt;();\r\n    params.add(\r\n      Aggregates.group(\r\n        &quot;$groupId&quot;, new BsonField (\r\n          &quot;itemName&quot;, new Document(&quot;$push&quot;,&quot;$$ROOT&quot;)\r\n        )\r\n      )\r\n    );\r\n    MyClass.mongoCollection()\r\n      .aggregate( params )\r\n      .toCollection();","title":"Java - Quarkus framework. Panache MongoDB. How to aggregate from code","body":"<p>I learnt how to.\nYou can apply aggregations through the MongoCollection interfact, using Bsons to set the parameters:</p>\n<pre><code>List&lt;Bson&gt; params = new ArrayList&lt;&gt;();\nparams.add(\n  Aggregates.group(\n    &quot;$groupId&quot;, new BsonField (\n      &quot;itemName&quot;, new Document(&quot;$push&quot;,&quot;$$ROOT&quot;)\n    )\n  )\n);\nMyClass.mongoCollection()\n  .aggregate( params )\n  .toCollection();\n</code></pre>\n"}],"owner":{"account_id":25817177,"reputation":11,"user_id":19556938,"display_name":"Gero Mendy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696437770,"creation_date":1696433953,"question_id":77231004,"body_markdown":"Using Panache MongoDB, how can you apply the group keyword from code?\r\n(Small edit: I want to ask how to apply an *aggregation* in general, I need *group* in my specific case, but I couldn&#39;t find any aggregation from code)\r\n\r\n\r\n\r\n[The documentation](https://quarkus.io/guides/mongodb-panache) doesn&#39;t include any example of this, or any complex query for that matter.\r\n\r\nSo, if I had an entity:\r\n\r\n```\r\npublic class myClass extends PanacheMongoEntity{\r\n  String groupId;\r\n  String uuid;\r\n  String otherField;\r\n}\r\n```\r\n\r\nHow could I get them split in different collections based on *groupId*.\r\n\r\nFor reference, I want to translate this query to in-Java code\r\n(&#39;$$ROOT&#39; saving the entirety of the object in every collection, as shown in the [MongoDB documentation](https://www.mongodb.com/docs/upcoming/reference/operator/aggregation/group/#std-label-accumulators-group). This query was generated with MongoBD Compass):\r\n\r\n```\r\ndb.getCollection(&#39;collection&#39;).aggregate(\r\n  [\r\n    {\r\n      $group: {\r\n        _id: &#39;$groupId&#39;,\r\n        collection: { $push: &#39;$$ROOT&#39; }\r\n      }\r\n    }\r\n  ],\r\n  { maxTimeMS: 60000, allowDiskUse: true }\r\n);\r\n```","title":"Java - Quarkus framework. Panache MongoDB. How to aggregate from code","body":"<p>Using Panache MongoDB, how can you apply the group keyword from code?\n(Small edit: I want to ask how to apply an <em>aggregation</em> in general, I need <em>group</em> in my specific case, but I couldn't find any aggregation from code)</p>\n<p><a href=\"https://quarkus.io/guides/mongodb-panache\" rel=\"nofollow noreferrer\">The documentation</a> doesn't include any example of this, or any complex query for that matter.</p>\n<p>So, if I had an entity:</p>\n<pre><code>public class myClass extends PanacheMongoEntity{\n  String groupId;\n  String uuid;\n  String otherField;\n}\n</code></pre>\n<p>How could I get them split in different collections based on <em>groupId</em>.</p>\n<p>For reference, I want to translate this query to in-Java code\n('$$ROOT' saving the entirety of the object in every collection, as shown in the <a href=\"https://www.mongodb.com/docs/upcoming/reference/operator/aggregation/group/#std-label-accumulators-group\" rel=\"nofollow noreferrer\">MongoDB documentation</a>. This query was generated with MongoBD Compass):</p>\n<pre><code>db.getCollection('collection').aggregate(\n  [\n    {\n      $group: {\n        _id: '$groupId',\n        collection: { $push: '$$ROOT' }\n      }\n    }\n  ],\n  { maxTimeMS: 60000, allowDiskUse: true }\n);\n</code></pre>\n"},{"tags":["java","encryption","character","treemap"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1696435319,"post_id":77231127,"comment_id":136153404,"body_markdown":"Map has a `get(Object key)` method to avoid looping on each entry an comparing each key manually. \nPlease edit your question to expliain what doesn&#39;t work as you expect","body":"Map has a <code>get(Object key)</code> method to avoid looping on each entry an comparing each key manually.  Please edit your question to expliain what doesn&#39;t work as you expect"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1696435517,"post_id":77231127,"comment_id":136153454,"body_markdown":"side note: have you though about what would happen if you try to decrypt a message without encrypting it first ?","body":"side note: have you though about what would happen if you try to decrypt a message without encrypting it first ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696435650,"post_id":77231127,"comment_id":136153481,"body_markdown":"A `TreeMap` sorts his content, so you encoded message is sorted by the characters. The encrypted message looks like `IJaelov` if you only print the keys whithout encrypting it","body":"A <code>TreeMap</code> sorts his content, so you encoded message is sorted by the characters. The encrypted message looks like <code>IJaelov</code> if you only print the keys whithout encrypting it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696436043,"post_id":77231127,"comment_id":136153562,"body_markdown":"You can&#39;t add arbitrary values to `char`s and expect them to encode/decode properly. You&#39;ve basically got a Caesar cipher without wrapping. You need it","body":"You can&#39;t add arbitrary values to <code>char</code>s and expect them to encode/decode properly. You&#39;ve basically got a Caesar cipher without wrapping. You need it"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696436066,"creation_date":1696436066,"answer_id":77231254,"question_id":77231127,"body_markdown":"The `TreeMap` sorts the entries into alphabetically order (first upper case letter than lower case letters. Thats why you get an unexpetect result.\r\n\r\n\r\nThe returned encrypted message is the encryption of *IJaelov* which you also get back.\r\n\r\n\r\nIterate over the strings will help you:\r\n\r\n    public class EncryptionDecryption {\r\n        private static int key = 12;\r\n        private static Map&lt;Character, Character&gt; encryptedText = new TreeMap&lt;&gt;();\r\n        private static Map &lt;Character, Character&gt; decryptedText = new TreeMap&lt;&gt;();\r\n\r\n        public static String encrypton(String messageToEncode) {\r\n            for(int i = 0; i &lt; messageToEncode.length(); i++) {\r\n\r\n                encryptedText.put(messageToEncode.charAt(i), (char) (messageToEncode.charAt(i) + key));\r\n                decryptedText.put((char) (messageToEncode.charAt(i) + key), messageToEncode.charAt(i));\r\n            }\r\n\r\n            StringBuilder sb =  new StringBuilder();\r\n            for(int j = 0; j&lt;messageToEncode.length();j++) {\r\n                sb.append(encryptedText.get(messageToEncode.charAt(j)));\r\n            }\r\n            String encryptedMessage = sb.toString();\r\n            return encryptedMessage;\r\n        }\r\n\r\n        public static String decryption(String messageToDecode) {\r\n            StringBuilder sb =  new StringBuilder();\r\n\r\n            for (int i = 0; i &lt; messageToDecode.length(); i++) {\r\n                    sb.append(decryptedText.get(messageToDecode.charAt(i)));\r\n            }\r\n\r\n            String decryptedMessage = sb.toString();\r\n            return decryptedMessage;\r\n        }\r\n   }\r\n\r\nBTW: You should learn how to debug your code, which is very helpful in such cases.","title":"I am tryng to create a simple Cypher program for my assigment but it doesn&#39;t worK","body":"<p>The <code>TreeMap</code> sorts the entries into alphabetically order (first upper case letter than lower case letters. Thats why you get an unexpetect result.</p>\n<p>The returned encrypted message is the encryption of <em>IJaelov</em> which you also get back.</p>\n<p>Iterate over the strings will help you:</p>\n<pre><code>public class EncryptionDecryption {\n    private static int key = 12;\n    private static Map&lt;Character, Character&gt; encryptedText = new TreeMap&lt;&gt;();\n    private static Map &lt;Character, Character&gt; decryptedText = new TreeMap&lt;&gt;();\n\n    public static String encrypton(String messageToEncode) {\n        for(int i = 0; i &lt; messageToEncode.length(); i++) {\n\n            encryptedText.put(messageToEncode.charAt(i), (char) (messageToEncode.charAt(i) + key));\n            decryptedText.put((char) (messageToEncode.charAt(i) + key), messageToEncode.charAt(i));\n        }\n\n        StringBuilder sb =  new StringBuilder();\n        for(int j = 0; j&lt;messageToEncode.length();j++) {\n            sb.append(encryptedText.get(messageToEncode.charAt(j)));\n        }\n        String encryptedMessage = sb.toString();\n        return encryptedMessage;\n    }\n\n    public static String decryption(String messageToDecode) {\n        StringBuilder sb =  new StringBuilder();\n\n        for (int i = 0; i &lt; messageToDecode.length(); i++) {\n                sb.append(decryptedText.get(messageToDecode.charAt(i)));\n        }\n\n        String decryptedMessage = sb.toString();\n        return decryptedMessage;\n    }\n</code></pre>\n<p>}</p>\n<p>BTW: You should learn how to debug your code, which is very helpful in such cases.</p>\n"}],"owner":{"account_id":29155784,"reputation":3,"user_id":22335595,"display_name":"Vincent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77231254,"answer_count":1,"score":-1,"last_activity_date":1696437277,"creation_date":1696434894,"question_id":77231127,"body_markdown":"I want to create a message, be able to encode it with a key and decode it with 2 functions : encode and decode. I do not understand why it doesn&#39;t work.\r\n\r\nI tried to shift my character with a number key. I put the characters in a TreeMAp so that it stays in order. I tried with 1 TreeMap and it didn&#39;t work so I decided to create 2 Treemaps eventually where I use one character as the key and the encrypted message as the value, for the first and vice versa for the the decrypted message as the treeMAp. The method decryption should give me the value of the decrypted TreeMAp if the key corespond to the character of the encrypted message. \r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String message = &quot;I love Java&quot;;\r\n        String encodedMessage = EncryptionDecryption.encrypton(message);\r\n        String decodedMessage = EncryptionDecryption.decryption(encodedMessage);\r\n        System.out.println(message);\r\n        System.out.println(encodedMessage);\r\n        System.out.println(decodedMessage);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nimport java.util.Map;\r\nimport java.util.TreeMap;\r\n\r\npublic class EncryptionDecryption {\r\n    private static int key = 12;\r\n    private static Map &lt;Character, Character&gt; encryptedText = new TreeMap&lt;&gt;();\r\n    private static Map &lt;Character, Character&gt; decryptedText = new TreeMap&lt;&gt;();\r\n\r\n    public static String encrypton(String messageToEncode) {\r\n        for(int i = 0; i &lt; messageToEncode.length(); i++) {\r\n            \r\n            encryptedText.put(messageToEncode.charAt(i), (char) (messageToEncode.charAt(i) + key));\r\n            decryptedText.put((char) (messageToEncode.charAt(i) + key), messageToEncode.charAt(i));\r\n        }\r\n\r\n        StringBuilder sb =  new StringBuilder();\r\n        for(Map.Entry&lt;Character, Character&gt; x : encryptedText.entrySet()) {\r\n            sb.append(x.getValue());\r\n        }\r\n        String encryptedMessage = sb.toString();\r\n        return encryptedMessage;\r\n    }\r\n\r\n    public static String decryption(String messageToDecode) {\r\n        StringBuilder sb =  new StringBuilder();\r\n\r\n        for(Map.Entry&lt;Character, Character&gt; x : decryptedText.entrySet()) {\r\n            for (int i = 0; i &lt; messageToDecode.length(); i++) {\r\n                if (messageToDecode.charAt(i) == x.getKey()) {\r\n                    sb.append(x.getValue());\r\n                }\r\n            }\r\n        }\r\n\r\n        String decryptedMessage = sb.toString();\r\n        return decryptedMessage;\r\n    }\r\n}\r\n\r\n```\r\nedit : thanks for the answers. I tried with a HashMap. It didn&#39;t work. It gives me : \r\n\r\n I love Java\r\n\r\n,mqUVx{\r\n\r\n aevIJlo\r\n        ","title":"I am tryng to create a simple Cypher program for my assigment but it doesn&#39;t worK","body":"<p>I want to create a message, be able to encode it with a key and decode it with 2 functions : encode and decode. I do not understand why it doesn't work.</p>\n<p>I tried to shift my character with a number key. I put the characters in a TreeMAp so that it stays in order. I tried with 1 TreeMap and it didn't work so I decided to create 2 Treemaps eventually where I use one character as the key and the encrypted message as the value, for the first and vice versa for the the decrypted message as the treeMAp. The method decryption should give me the value of the decrypted TreeMAp if the key corespond to the character of the encrypted message.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String message = &quot;I love Java&quot;;\n        String encodedMessage = EncryptionDecryption.encrypton(message);\n        String decodedMessage = EncryptionDecryption.decryption(encodedMessage);\n        System.out.println(message);\n        System.out.println(encodedMessage);\n        System.out.println(decodedMessage);\n    }\n}\n</code></pre>\n<pre><code>import java.util.Map;\nimport java.util.TreeMap;\n\npublic class EncryptionDecryption {\n    private static int key = 12;\n    private static Map &lt;Character, Character&gt; encryptedText = new TreeMap&lt;&gt;();\n    private static Map &lt;Character, Character&gt; decryptedText = new TreeMap&lt;&gt;();\n\n    public static String encrypton(String messageToEncode) {\n        for(int i = 0; i &lt; messageToEncode.length(); i++) {\n            \n            encryptedText.put(messageToEncode.charAt(i), (char) (messageToEncode.charAt(i) + key));\n            decryptedText.put((char) (messageToEncode.charAt(i) + key), messageToEncode.charAt(i));\n        }\n\n        StringBuilder sb =  new StringBuilder();\n        for(Map.Entry&lt;Character, Character&gt; x : encryptedText.entrySet()) {\n            sb.append(x.getValue());\n        }\n        String encryptedMessage = sb.toString();\n        return encryptedMessage;\n    }\n\n    public static String decryption(String messageToDecode) {\n        StringBuilder sb =  new StringBuilder();\n\n        for(Map.Entry&lt;Character, Character&gt; x : decryptedText.entrySet()) {\n            for (int i = 0; i &lt; messageToDecode.length(); i++) {\n                if (messageToDecode.charAt(i) == x.getKey()) {\n                    sb.append(x.getValue());\n                }\n            }\n        }\n\n        String decryptedMessage = sb.toString();\n        return decryptedMessage;\n    }\n}\n\n</code></pre>\n<p>edit : thanks for the answers. I tried with a HashMap. It didn't work. It gives me :</p>\n<p>I love Java</p>\n<p>,mqUVx{</p>\n<p>aevIJlo</p>\n"},{"tags":["java","openpdf"],"answers":[{"tags":[],"owner":{"account_id":20591962,"reputation":185,"user_id":17852207,"display_name":"Neil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696437184,"creation_date":1696437184,"answer_id":77231411,"question_id":77228948,"body_markdown":"I figured it out.  I had to change my goals to ```clean compile package install:install```","title":"Openpdf maven install gives error, but compile step was successful","body":"<p>I figured it out.  I had to change my goals to <code>clean compile package install:install</code></p>\n"}],"owner":{"account_id":20591962,"reputation":185,"user_id":17852207,"display_name":"Neil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77231411,"answer_count":1,"score":0,"last_activity_date":1696437184,"creation_date":1696416863,"question_id":77228948,"body_markdown":"I am trying to install an open pdf build locally using Eclipse.\r\n\r\nI cloned the GIT repo to a local folder and opened the project.\r\n\r\nI set up a run configuration with these maven targets: ```clean compile package```\r\n\r\nEverything seems to have gone well, these lines output at the end:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for OpenPDF - Free and Open PDF 1.3.31-SNAPSHOT:\r\n[INFO] \r\n[INFO] OpenPDF - Free and Open PDF ........................ SUCCESS [  0.750 s]\r\n[INFO] openpdf ............................................ SUCCESS [ 25.441 s]\r\n[INFO] pdf-swing .......................................... SUCCESS [  3.820 s]\r\n[INFO] pdf-toolbox ........................................ SUCCESS [  8.198 s]\r\n[INFO] openpdf-fonts-extra ................................ SUCCESS [  3.043 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nNow, I want to install the packages to my local Maven repository, so I changed the targets to ```clean compile package install```\r\nI received an error that it could not find a GPG key, so I added a gpg.skip parameter to my run config:\r\n[![enter image description here][1]][1]\r\n\r\nBut now, I get what seems to be an unrelated compilation error:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (compile-java-9) on project openpdf: Compilation failure Compilation failure: \r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[7,24] package is empty or does not exist: com.lowagie.bouncycastle\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[8,24] package is empty or does not exist: com.lowagie.text\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[9,29] package is empty or does not exist: com.lowagie.text.alignment\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[10,29] package is empty or does not exist: com.lowagie.text.error_messages\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[11,29] package is empty or does not exist: com.lowagie.text.exceptions\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[12,29] package is empty or does not exist: com.lowagie.text.factories\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[13,29] package is empty or does not exist: com.lowagie.text.html\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[14,34] package is empty or does not exist: com.lowagie.text.html.simpleparser\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[15,29] package is empty or does not exist: com.lowagie.text.pdf\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[16,33] package is empty or does not exist: com.lowagie.text.pdf.codec\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[17,39] package is empty or does not exist: com.lowagie.text.pdf.codec.wmf\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[18,33] package is empty or does not exist: com.lowagie.text.pdf.collection\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[19,33] package is empty or does not exist: com.lowagie.text.pdf.crypto\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[20,33] package is empty or does not exist: com.lowagie.text.pdf.draw\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[21,33] package is empty or does not exist: com.lowagie.text.pdf.events\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[22,33] package is empty or does not exist: com.lowagie.text.pdf.fonts\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[23,39] package is empty or does not exist: com.lowagie.text.pdf.fonts.cmaps\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[24,33] package is empty or does not exist: com.lowagie.text.pdf.hyphenation\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[25,33] package is empty or does not exist: com.lowagie.text.pdf.interfaces\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[26,33] package is empty or does not exist: com.lowagie.text.pdf.internal\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[27,33] package is empty or does not exist: com.lowagie.text.pdf.parser\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[28,29] package is empty or does not exist: com.lowagie.text.utils\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[29,29] package is empty or does not exist: com.lowagie.text.xml\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[30,33] package is empty or does not exist: com.lowagie.text.xml.simpleparser\r\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[31,33] package is empty or does not exist: com.lowagie.text.xml.xmp\r\n```\r\n\r\nAny ideas what went wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0dl10.png","title":"Openpdf maven install gives error, but compile step was successful","body":"<p>I am trying to install an open pdf build locally using Eclipse.</p>\n<p>I cloned the GIT repo to a local folder and opened the project.</p>\n<p>I set up a run configuration with these maven targets: <code>clean compile package</code></p>\n<p>Everything seems to have gone well, these lines output at the end:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for OpenPDF - Free and Open PDF 1.3.31-SNAPSHOT:\n[INFO] \n[INFO] OpenPDF - Free and Open PDF ........................ SUCCESS [  0.750 s]\n[INFO] openpdf ............................................ SUCCESS [ 25.441 s]\n[INFO] pdf-swing .......................................... SUCCESS [  3.820 s]\n[INFO] pdf-toolbox ........................................ SUCCESS [  8.198 s]\n[INFO] openpdf-fonts-extra ................................ SUCCESS [  3.043 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Now, I want to install the packages to my local Maven repository, so I changed the targets to <code>clean compile package install</code>\nI received an error that it could not find a GPG key, so I added a gpg.skip parameter to my run config:\n<a href=\"https://i.stack.imgur.com/0dl10.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dl10.png\" alt=\"enter image description here\" /></a></p>\n<p>But now, I get what seems to be an unrelated compilation error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (compile-java-9) on project openpdf: Compilation failure Compilation failure: \n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[7,24] package is empty or does not exist: com.lowagie.bouncycastle\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[8,24] package is empty or does not exist: com.lowagie.text\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[9,29] package is empty or does not exist: com.lowagie.text.alignment\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[10,29] package is empty or does not exist: com.lowagie.text.error_messages\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[11,29] package is empty or does not exist: com.lowagie.text.exceptions\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[12,29] package is empty or does not exist: com.lowagie.text.factories\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[13,29] package is empty or does not exist: com.lowagie.text.html\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[14,34] package is empty or does not exist: com.lowagie.text.html.simpleparser\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[15,29] package is empty or does not exist: com.lowagie.text.pdf\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[16,33] package is empty or does not exist: com.lowagie.text.pdf.codec\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[17,39] package is empty or does not exist: com.lowagie.text.pdf.codec.wmf\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[18,33] package is empty or does not exist: com.lowagie.text.pdf.collection\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[19,33] package is empty or does not exist: com.lowagie.text.pdf.crypto\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[20,33] package is empty or does not exist: com.lowagie.text.pdf.draw\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[21,33] package is empty or does not exist: com.lowagie.text.pdf.events\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[22,33] package is empty or does not exist: com.lowagie.text.pdf.fonts\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[23,39] package is empty or does not exist: com.lowagie.text.pdf.fonts.cmaps\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[24,33] package is empty or does not exist: com.lowagie.text.pdf.hyphenation\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[25,33] package is empty or does not exist: com.lowagie.text.pdf.interfaces\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[26,33] package is empty or does not exist: com.lowagie.text.pdf.internal\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[27,33] package is empty or does not exist: com.lowagie.text.pdf.parser\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[28,29] package is empty or does not exist: com.lowagie.text.utils\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[29,29] package is empty or does not exist: com.lowagie.text.xml\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[30,33] package is empty or does not exist: com.lowagie.text.xml.simpleparser\n[ERROR] /C:/OneDrive/Dev/OpenPDF/openpdf/src/main/java9/module-info.java:[31,33] package is empty or does not exist: com.lowagie.text.xml.xmp\n</code></pre>\n<p>Any ideas what went wrong?</p>\n"},{"tags":["java","collections","concurrency","iterator","copyonwritearraylist"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1537717220,"post_id":52467653,"comment_id":91877104,"body_markdown":"You&#39;re never calling any method on an Iterator or ListIterator.","body":"You&#39;re never calling any method on an Iterator or ListIterator."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1537717269,"post_id":52467653,"comment_id":91877118,"body_markdown":"You are calling `remove` on the `CopyOnWriteArrayList`, not on an iterator as the text you quoted mentions. And it&#39;s `UnsupportedOperationException`, not `UpsupportedOperationException`.","body":"You are calling <code>remove</code> on the <code>CopyOnWriteArrayList</code>, not on an iterator as the text you quoted mentions. And it&#39;s <code>UnsupportedOperationException</code>, not <code>UpsupportedOperationException</code>."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1695736183,"creation_date":1537717250,"answer_id":52467684,"question_id":52467653,"body_markdown":"You&#39;re calling `remove` **on the list itself**, which is fine. The documentation states that calling `remove` **on the list&#39;s iterator** would throw an `UpsupportedOperationException`. E.g.:\r\n\r\n    Iterator&lt;Integer&gt; iter = list.iterator();\r\n    while (iter.hasNext()) {\r\n        Integer item = iter.next(); \r\n        System.out.println(item + &quot; &quot;);\r\n        iter.remove(); // Will throw an UnsupportedOperationException\r\n    }","title":"UnsupportedOperationException while iterating over CopyOnWriteArrayList","body":"<p>You're calling <code>remove</code> <strong>on the list itself</strong>, which is fine. The documentation states that calling <code>remove</code> <strong>on the list's iterator</strong> would throw an <code>UpsupportedOperationException</code>. E.g.:</p>\n<pre><code>Iterator&lt;Integer&gt; iter = list.iterator();\nwhile (iter.hasNext()) {\n    Integer item = iter.next(); \n    System.out.println(item + &quot; &quot;);\n    iter.remove(); // Will throw an UnsupportedOperationException\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696436761,"creation_date":1616309841,"answer_id":66729650,"question_id":52467653,"body_markdown":"It looks good with Mureinik&#39;s answer. However, if you deep dive into this -\r\n\r\n**If using `ArrayList`**\r\n - Use `for` loop and list `remove(current_index)` method, it works fine.\r\n\r\nAnd with `iterator` approach -\r\n - Use iterator `remove()` method instead of list `remove()`, it works fine\r\n - Throws `ConcurrentModificationException` if use list `remove()` method\r\n\r\n**If in multi-threaded environment -**\r\n\r\nUse `CopyOnWriteArrayList`\r\n - With list `remove(current_element)` it works fine\r\n - With `Iterator` or `ListIterator` `remove()` method, it throws `UnsupportedOperationException`\r\n\r\nTake a look at below example -\r\n\r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    public class AvoidCMEExample {\r\n       public static void main(String args[]) {\r\n        \tList&lt;String&gt; listOfBooks = new ArrayList&lt;&gt;();  \r\n           listOfBooks.add(&quot;Programming Pearls&quot;);\r\n           listOfBooks.add(&quot;Clean Code&quot;);\r\n           listOfBooks.add(&quot;Effective Java&quot;);\r\n           listOfBooks.add(&quot;Code Complete&quot;);\r\n           System.out.println(&quot;List before : &quot; + listOfBooks);\r\n           /*for(int i=0; i&lt;listOfBooks.size(); i++){\r\n               String book = listOfBooks.get(i);\r\n               if(book.contains(&quot;Programming&quot;)){\r\n                   System.out.println(&quot;Removing &quot; + book);\r\n                   listOfBooks.remove(i); // works fine\r\n               }\r\n           }*/\r\n           Iterator&lt;String&gt; itr = listOfBooks.iterator();\r\n           while(itr.hasNext()){\r\n           \t\tString book = itr.next();\r\n                if(book.contains(&quot;Programming&quot;)){\r\n                   System.out.println(&quot;Removing &quot; + book);\r\n                   //listOfBooks.remove(book); // will throw CME\r\n                   itr.remove(); // using iterator remove(), it works fine\r\n               }\r\n           }\r\n           System.out.println(&quot;List after : &quot; + listOfBooks);\r\n           \r\n           List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;(); \r\n           list.add(&quot;B&quot;); list.add(&quot;W&quot;); list.add(&quot;Q&quot;); list.add(&quot;S&quot;);\r\n           System.out.println(&quot;\\n\\nList before : &quot; + list);\r\n           Iterator&lt;String&gt; itr1 = list.iterator();\r\n           while(itr1.hasNext()){\r\n           \t\tString book = itr1.next();\r\n                if(book.contains(&quot;Q&quot;)){\r\n                   System.out.println(&quot;Removing &quot; + book);\r\n                   list.remove(book); // works fine on list object remove()\r\n                   itr1.remove(); // throws UnsupportedOperationException on iterator, ListIterator obj\r\n               }\r\n           }\r\n           System.out.println(&quot;List after : &quot; + list);       \r\n       }\r\n    }\r\n\r\n","title":"UnsupportedOperationException while iterating over CopyOnWriteArrayList","body":"<p>It looks good with Mureinik's answer. However, if you deep dive into this -</p>\n<p><strong>If using <code>ArrayList</code></strong></p>\n<ul>\n<li>Use <code>for</code> loop and list <code>remove(current_index)</code> method, it works fine.</li>\n</ul>\n<p>And with <code>iterator</code> approach -</p>\n<ul>\n<li>Use iterator <code>remove()</code> method instead of list <code>remove()</code>, it works fine</li>\n<li>Throws <code>ConcurrentModificationException</code> if use list <code>remove()</code> method</li>\n</ul>\n<p><strong>If in multi-threaded environment -</strong></p>\n<p>Use <code>CopyOnWriteArrayList</code></p>\n<ul>\n<li>With list <code>remove(current_element)</code> it works fine</li>\n<li>With <code>Iterator</code> or <code>ListIterator</code> <code>remove()</code> method, it throws <code>UnsupportedOperationException</code></li>\n</ul>\n<p>Take a look at below example -</p>\n<pre><code>import java.util.*;\nimport java.util.concurrent.*;\npublic class AvoidCMEExample {\n   public static void main(String args[]) {\n        List&lt;String&gt; listOfBooks = new ArrayList&lt;&gt;();  \n       listOfBooks.add(&quot;Programming Pearls&quot;);\n       listOfBooks.add(&quot;Clean Code&quot;);\n       listOfBooks.add(&quot;Effective Java&quot;);\n       listOfBooks.add(&quot;Code Complete&quot;);\n       System.out.println(&quot;List before : &quot; + listOfBooks);\n       /*for(int i=0; i&lt;listOfBooks.size(); i++){\n           String book = listOfBooks.get(i);\n           if(book.contains(&quot;Programming&quot;)){\n               System.out.println(&quot;Removing &quot; + book);\n               listOfBooks.remove(i); // works fine\n           }\n       }*/\n       Iterator&lt;String&gt; itr = listOfBooks.iterator();\n       while(itr.hasNext()){\n            String book = itr.next();\n            if(book.contains(&quot;Programming&quot;)){\n               System.out.println(&quot;Removing &quot; + book);\n               //listOfBooks.remove(book); // will throw CME\n               itr.remove(); // using iterator remove(), it works fine\n           }\n       }\n       System.out.println(&quot;List after : &quot; + listOfBooks);\n       \n       List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;(); \n       list.add(&quot;B&quot;); list.add(&quot;W&quot;); list.add(&quot;Q&quot;); list.add(&quot;S&quot;);\n       System.out.println(&quot;\\n\\nList before : &quot; + list);\n       Iterator&lt;String&gt; itr1 = list.iterator();\n       while(itr1.hasNext()){\n            String book = itr1.next();\n            if(book.contains(&quot;Q&quot;)){\n               System.out.println(&quot;Removing &quot; + book);\n               list.remove(book); // works fine on list object remove()\n               itr1.remove(); // throws UnsupportedOperationException on iterator, ListIterator obj\n           }\n       }\n       System.out.println(&quot;List after : &quot; + list);       \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":179063,"reputation":12273,"user_id":411449,"accept_rate":63,"display_name":"skip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2041,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52467684,"answer_count":2,"score":3,"last_activity_date":1696436761,"creation_date":1537717039,"question_id":52467653,"body_markdown":"I came across the following statement in a book:\r\n\r\n&gt;Any mutating methods called on a copy-on-write-based `Iterator` or `ListIterator` (such as add, set or remove) will throw an `UnsupportedOperationException`.\r\n\r\nBut when I run the following code, it works just fine and doesn&#39;t throw the `UnsupportedOperationException`.\r\n\r\n    List&lt;Integer&gt; list = new CopyOnWriteArrayList&lt;&gt;(Arrays.asList(4, 3, 52));\r\n    System.out.println(&quot;Before &quot; + list);\r\n    for (Integer item : list) {\r\n    \tSystem.out.println(item + &quot; &quot;);\r\n    \tlist.remove(item);\r\n    }\r\n    System.out.println(&quot;After &quot; + list);\r\n\r\nThe code above gives the following result:\r\n\r\n    Before [4, 3, 52]\r\n    4 \r\n    3 \r\n    52 \r\n    After []\r\n\r\nWhy am I not getting the exception while I am modifying the given `list` using the `remove` method?","title":"UnsupportedOperationException while iterating over CopyOnWriteArrayList","body":"<p>I came across the following statement in a book:</p>\n\n<blockquote>\n  <p>Any mutating methods called on a copy-on-write-based <code>Iterator</code> or <code>ListIterator</code> (such as add, set or remove) will throw an <code>UnsupportedOperationException</code>.</p>\n</blockquote>\n\n<p>But when I run the following code, it works just fine and doesn't throw the <code>UnsupportedOperationException</code>.</p>\n\n<pre><code>List&lt;Integer&gt; list = new CopyOnWriteArrayList&lt;&gt;(Arrays.asList(4, 3, 52));\nSystem.out.println(\"Before \" + list);\nfor (Integer item : list) {\n    System.out.println(item + \" \");\n    list.remove(item);\n}\nSystem.out.println(\"After \" + list);\n</code></pre>\n\n<p>The code above gives the following result:</p>\n\n<pre><code>Before [4, 3, 52]\n4 \n3 \n52 \nAfter []\n</code></pre>\n\n<p>Why am I not getting the exception while I am modifying the given <code>list</code> using the <code>remove</code> method?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696314972,"post_id":77220105,"comment_id":136133555,"body_markdown":"If I understand correctly, all you want is to deserialize a JSON object to a specific subclass based on a property in that JSON object. Then I have good news: Many JSON libraries offer that feature out of the box! For example, Jackson has the `JsonTypeInfo` and `JsonSubTypes` annotations to manage that.","body":"If I understand correctly, all you want is to deserialize a JSON object to a specific subclass based on a property in that JSON object. Then I have good news: Many JSON libraries offer that feature out of the box! For example, Jackson has the <code>JsonTypeInfo</code> and <code>JsonSubTypes</code> annotations to manage that."},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1696315224,"post_id":77220105,"comment_id":136133591,"body_markdown":"HI! Thank you for your comment!\n\nRight, but what If I don&#39;t have access to those libraries. But actually, let&#39;s say I do have access to the libraries, how does one specify the construction of a specific class in a class? I hope my question makes sense. Like how do I specify create subclass One?","body":"HI! Thank you for your comment!  Right, but what If I don&#39;t have access to those libraries. But actually, let&#39;s say I do have access to the libraries, how does one specify the construction of a specific class in a class? I hope my question makes sense. Like how do I specify create subclass One?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696315392,"post_id":77220105,"comment_id":136133614,"body_markdown":"That&#39;s a very different question. But the short answer is: you can create instances from a `Class` using the `newInstance` method: `One.class.newInstance()`","body":"That&#39;s a very different question. But the short answer is: you can create instances from a <code>Class</code> using the <code>newInstance</code> method: <code>One.class.newInstance()</code>"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1696316859,"post_id":77220105,"comment_id":136133864,"body_markdown":"Right, I tried this but it didnt work\n\n    public &lt;T&gt; SubClass constructClass(String className, String identifier, String seqId, int questNo, boolean answerText) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n        Class&lt;?&gt; clazz = Class.forName(className);\n        Class parameters[] = new Class[]{String.class, Integer.class, Object.class};\n        Constructor&lt;?&gt; constructor = String.class.getConstructor(parameters);\n        return (SubClass) constructor.newInstance(parameters);\n    }","body":"Right, I tried this but it didnt work      public &lt;T&gt; SubClass constructClass(String className, String identifier, String seqId, int questNo, boolean answerText) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {         Class&lt;?&gt; clazz = Class.forName(className);         Class parameters[] = new Class[]{String.class, Integer.class, Object.class};         Constructor&lt;?&gt; constructor = String.class.getConstructor(parameters);         return (SubClass) constructor.newInstance(parameters);     }"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1696316880,"post_id":77220105,"comment_id":136133868,"body_markdown":"actually let me put that in the post","body":"actually let me put that in the post"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1696319365,"post_id":77220105,"comment_id":136134235,"body_markdown":"Parametrized Type T of SubClass is not used, so update your question if you use it, or delete the parametrized type.","body":"Parametrized Type T of SubClass is not used, so update your question if you use it, or delete the parametrized type."},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1696320351,"post_id":77220105,"comment_id":136134419,"body_markdown":"Hi Paul, thank you for your comment. I have removed the parametrized type and added some code to the post to show what im doing but still can&#39;t get it work. Would you have any idea what I would be doing wrong?","body":"Hi Paul, thank you for your comment. I have removed the parametrized type and added some code to the post to show what im doing but still can&#39;t get it work. Would you have any idea what I would be doing wrong?"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1696320439,"post_id":77220105,"comment_id":136134429,"body_markdown":"Whith latest versions of java you can format your JSson in a human-readable way using text blocks even in java. If you don&#39;t mind I would edit this.","body":"Whith latest versions of java you can format your JSson in a human-readable way using text blocks even in java. If you don&#39;t mind I would edit this."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1696321228,"post_id":77220105,"comment_id":136134563,"body_markdown":"Using metaclass is overkill in this case, it&#39;s a classical case of Json deserialization, you can use Jackson with standard classes. Your question is a little too broad between the hashmap and you json, we can&#39;t understand the relation between theses 2. To make it short: concentrate your question on json deserialisation, and i&#39;m sure there is already an answer for that https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects","body":"Using metaclass is overkill in this case, it&#39;s a classical case of Json deserialization, you can use Jackson with standard classes. Your question is a little too broad between the hashmap and you json, we can&#39;t understand the relation between theses 2. To make it short: concentrate your question on json deserialisation, and i&#39;m sure there is already an answer for that <a href=\"https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects\" title=\"how to use jackson to deserialise an array of objects\">stackoverflow.com/questions/6349421/&hellip;</a>"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1696322580,"post_id":77220105,"comment_id":136134770,"body_markdown":"Hi Pdem, thank you for you comment. I see, i will edit. The main issue I&#39;m trying to tackle is trying to find a way to use the reflection new instance to generate specific subclasses, but I can&#39;t seem to get it right.","body":"Hi Pdem, thank you for you comment. I see, i will edit. The main issue I&#39;m trying to tackle is trying to find a way to use the reflection new instance to generate specific subclasses, but I can&#39;t seem to get it right."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696323321,"post_id":77220105,"comment_id":136134901,"body_markdown":"Please include the definitions for your subclasses. Do you actually have classes named `one`, `two`, etc?","body":"Please include the definitions for your subclasses. Do you actually have classes named <code>one</code>, <code>two</code>, etc?"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1696324308,"post_id":77220105,"comment_id":136135111,"body_markdown":"Hi Tim, thank you for your comment. I do have them named one, two, etc. Well, the holding class consists of 4 subclasses, and they are named one,two,three,etc. I&#39;m having issues like, figuring a way to have a function construct specific subclass(one or two or three) and pass in the parameters to construct","body":"Hi Tim, thank you for your comment. I do have them named one, two, etc. Well, the holding class consists of 4 subclasses, and they are named one,two,three,etc. I&#39;m having issues like, figuring a way to have a function construct specific subclass(one or two or three) and pass in the parameters to construct"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1696324857,"post_id":77220105,"comment_id":136135206,"body_markdown":"*The holding class consists of 4 subclasses, the subclasses being the same kind of class","body":"*The holding class consists of 4 subclasses, the subclasses being the same kind of class"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1696505015,"post_id":77220105,"comment_id":136163008,"body_markdown":"Your use of terms is wrong. You don’t have a subclass or well, to be formally correct, your two classes are subclasses of `java.lang.Object` which is irrelevant here. You just have two ordinary classes. And `HoldingClass` does not “consists of 4 subclasses”, it just has four fields of type `SubClass`, which is a bad name as the purpose of the class is not do be a subclass (and it’s not a subclass of anything special). And there’s no recognizable reason in your posted code to use Reflection at all. You can simply use `SubClass instance = new SubClass(identifier, seqId, questNo, answerText);`","body":"Your use of terms is wrong. You don’t have a subclass or well, to be formally correct, your two classes are subclasses of <code>java.lang.Object</code> which is irrelevant here. You just have two ordinary classes. And <code>HoldingClass</code> does not “consists of 4 subclasses”, it just has four fields of type <code>SubClass</code>, which is a bad name as the purpose of the class is not do be a subclass (and it’s not a subclass of anything special). And there’s no recognizable reason in your posted code to use Reflection at all. You can simply use <code>SubClass instance = new SubClass(identifier, seqId, questNo, answerText);</code>"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696436674,"creation_date":1696435978,"answer_id":77231247,"question_id":77220105,"body_markdown":"I think you don&#39;t need reflection for this...\r\nLook at this JUnit test:\r\n\r\nHoldingClass:\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class HoldingClass {\r\n    \t\r\n        private SubClass one;\r\n        private SubClass two;\r\n        private SubClass three;\r\n        private SubClass four;\r\n        \r\n    }\r\n\r\nSubClass:\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SubClass {\r\n    \t\r\n        private String identifier;\r\n        private String seqId;\r\n        private int questNo;\r\n        boolean answerText;\r\n        private int invoId = 1;\r\n        \r\n    }\r\n\r\nTestClass:\r\n\r\n    package com.paulmarcelinbejan.stackoverflow;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.BiConsumer;\r\n    \r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class StackOverflow {\r\n    \r\n    \tMap&lt;String, String&gt; dictionary = new HashMap&lt;&gt;();\r\n    \t\r\n    \tList&lt;SubClass&gt; subClasses;\r\n    \t\r\n    \tMap&lt;String, BiConsumer&lt;HoldingClass, SubClass&gt;&gt; actions = new HashMap&lt;&gt;();\r\n    \t\r\n    \t@BeforeEach\r\n    \tvoid setUp() throws IOException {\r\n    \t\t\r\n    \t\tactions.put(&quot;one&quot;, (holdingClass, subClass) -&gt; holdingClass.setOne(subClass));\r\n    \t\tactions.put(&quot;two&quot;, (holdingClass, subClass) -&gt; holdingClass.setTwo(subClass));\r\n    \t\tactions.put(&quot;three&quot;, (holdingClass, subClass) -&gt; holdingClass.setThree(subClass));\r\n    \t\tactions.put(&quot;four&quot;, (holdingClass, subClass) -&gt; holdingClass.setFour(subClass));\r\n    \t\t\r\n    \t\tdictionary.put(&quot;blue&quot;, &quot;two&quot;);\r\n    \t\tdictionary.put(&quot;black&quot;, &quot;one&quot;);\r\n    \t\tdictionary.put(&quot;red&quot;, &quot;three&quot;);\r\n    \t\tdictionary.put(&quot;green&quot;, &quot;four&quot;);\r\n    \t\t\r\n    \t\tsubClasses = readListFromFile(JSON_FILE, SubClass.class);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tvoid testHowToUseReflectionInJavaToDynamicallyCreateClasses() {\r\n    \t\tHoldingClass holdingClass = new HoldingClass();\r\n    \r\n    \t\tfor(SubClass subClass : subClasses) {\r\n    \t\t\tString dictionaryValue = dictionary.get(subClass.getIdentifier());\r\n    \t\t\tactions.get(dictionaryValue).accept(holdingClass, subClass);\r\n    \t\t}\r\n    \t\t\r\n    \t\tassertNotNull(holdingClass.getOne());\r\n    \t\tassertNotNull(holdingClass.getTwo());\r\n    \t\tassertNotNull(holdingClass.getThree());\r\n    \t\tassertNotNull(holdingClass.getFour());\r\n    \t}\r\n    \t\r\n    \tprivate static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n    \t\r\n    \tprivate static final File JSON_FILE = new File(&quot;src/test/resources/SubClasses.json&quot;);\r\n    \t\r\n    \tprivate static &lt;R&gt; List&lt;R&gt; readListFromFile(final File file, final Class&lt;R&gt; contentClass) throws IOException {\r\n    \t\treturn OBJECT_MAPPER.readValue(file, OBJECT_MAPPER.getTypeFactory().constructCollectionType(ArrayList.class, contentClass));\r\n    \t}\r\n    \t\r\n    }\r\n\r\nLet me know if I didn&#39;t understand the question well.\r\n","title":"How to use reflection in Java to dynamically create classes?","body":"<p>I think you don't need reflection for this...\nLook at this JUnit test:</p>\n<p>HoldingClass:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class HoldingClass {\n    \n    private SubClass one;\n    private SubClass two;\n    private SubClass three;\n    private SubClass four;\n    \n}\n</code></pre>\n<p>SubClass:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SubClass {\n    \n    private String identifier;\n    private String seqId;\n    private int questNo;\n    boolean answerText;\n    private int invoId = 1;\n    \n}\n</code></pre>\n<p>TestClass:</p>\n<pre><code>package com.paulmarcelinbejan.stackoverflow;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.BiConsumer;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class StackOverflow {\n\n    Map&lt;String, String&gt; dictionary = new HashMap&lt;&gt;();\n    \n    List&lt;SubClass&gt; subClasses;\n    \n    Map&lt;String, BiConsumer&lt;HoldingClass, SubClass&gt;&gt; actions = new HashMap&lt;&gt;();\n    \n    @BeforeEach\n    void setUp() throws IOException {\n        \n        actions.put(&quot;one&quot;, (holdingClass, subClass) -&gt; holdingClass.setOne(subClass));\n        actions.put(&quot;two&quot;, (holdingClass, subClass) -&gt; holdingClass.setTwo(subClass));\n        actions.put(&quot;three&quot;, (holdingClass, subClass) -&gt; holdingClass.setThree(subClass));\n        actions.put(&quot;four&quot;, (holdingClass, subClass) -&gt; holdingClass.setFour(subClass));\n        \n        dictionary.put(&quot;blue&quot;, &quot;two&quot;);\n        dictionary.put(&quot;black&quot;, &quot;one&quot;);\n        dictionary.put(&quot;red&quot;, &quot;three&quot;);\n        dictionary.put(&quot;green&quot;, &quot;four&quot;);\n        \n        subClasses = readListFromFile(JSON_FILE, SubClass.class);\n    }\n    \n    @Test\n    void testHowToUseReflectionInJavaToDynamicallyCreateClasses() {\n        HoldingClass holdingClass = new HoldingClass();\n\n        for(SubClass subClass : subClasses) {\n            String dictionaryValue = dictionary.get(subClass.getIdentifier());\n            actions.get(dictionaryValue).accept(holdingClass, subClass);\n        }\n        \n        assertNotNull(holdingClass.getOne());\n        assertNotNull(holdingClass.getTwo());\n        assertNotNull(holdingClass.getThree());\n        assertNotNull(holdingClass.getFour());\n    }\n    \n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n    \n    private static final File JSON_FILE = new File(&quot;src/test/resources/SubClasses.json&quot;);\n    \n    private static &lt;R&gt; List&lt;R&gt; readListFromFile(final File file, final Class&lt;R&gt; contentClass) throws IOException {\n        return OBJECT_MAPPER.readValue(file, OBJECT_MAPPER.getTypeFactory().constructCollectionType(ArrayList.class, contentClass));\n    }\n    \n}\n</code></pre>\n<p>Let me know if I didn't understand the question well.</p>\n"}],"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696436674,"creation_date":1696314675,"question_id":77220105,"body_markdown":"I have a holding class, that only has member attributes of &#39;subclasses&#39;. All the holding class&#39;s attributes are the same subclass type, but just have different variable names. \r\n\r\nThe holding class will receive a JSON object with attributes like idNo, some text, and an identifier. This identifier will point to the specific subclass that will have its attributes created. \r\n\r\nSo three parts here\r\n 1. Holding class with attributes of sub classes\r\n 2. JSON Array\r\n 3. HashMap that contains identifier to the name of the subclass like\r\n\r\nHashMap\r\n\r\n```java\r\ndictionary.put(&quot;blue&quot;, &quot;two&quot;);\r\ndictionary.put(&quot;black&quot;, &quot;one&quot;);\r\ndictionary.put(&quot;red&quot;, &quot;three&quot;);\r\ndictionary.put(&quot;green&quot;, &quot;four&quot;);\r\n```\r\n\r\nThe JSON array is something like\r\n\r\n  ```json\r\n  [{\r\n        &quot;identifier&quot;: &quot;blue&quot;,\r\n        &quot;invoId&quot;: 1,\r\n        &quot;questNo&quot;: 1,\r\n        &quot;seqId&quot;: &quot;1a&quot;,\r\n        &quot;answerText&quot;: 1\r\n    }, {\r\n        &quot;identifier&quot;: &quot;red&quot;,\r\n        &quot;invoId&quot;: 1,\r\n        &quot;questNo&quot;: 2,\r\n        &quot;seqId&quot;: &quot;2a&quot;,\r\n        &quot;answerText&quot;: 0\r\n    }, {\r\n        &quot;identifier&quot;: &quot;green&quot;,\r\n        &quot;invoId&quot;: 1,\r\n        &quot;questNo&quot;: 3,\r\n        &quot;seqId&quot;: &quot;3a&quot;,\r\n        &quot;answerText&quot;: 1\r\n    }, {\r\n        &quot;identifier&quot;: &quot;black&quot;,\r\n        &quot;invoId&quot;: 1,\r\n        &quot;questNo&quot;: 4,\r\n        &quot;seqId&quot;: &quot;4a&quot;\r\n    }\r\n  ]\r\n```\r\n\r\nAs you can see, the JSON array has a colour, the HashMap has a colour to a number, and that number specifies which subclass to construct.\r\n\r\nHolding class\r\n\r\n```java\r\npublic class HoldingClass {\r\n    private SubClass one;\r\n    private SubClass two;\r\n    private SubClass three;\r\n    private SubClass four;\r\n```\r\n\r\nSubclass\r\n\r\n```java\r\npublic class SubClass&lt;T&gt; {\r\n    private String identifier;\r\n    private String seqId;\r\n    private int questNo;\r\n    boolean answerText;\r\n    private int invoId = 1;\r\n```\r\n\r\nThe part I cannot figure out, is how to use reflection such that, it points to a specific subclass attribute in the holding class, then constructs that subclass of the specific array element&#39;s info.\r\n\r\nI tried this method, but it didn&#39;t seem to work:\r\n\r\n```java\r\npublic &lt;T&gt; SubClass constructClass(String className, String identifier, String seqId, int questNo, boolean answerText) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\r\n    Class&lt;?&gt; clazz = Class.forName(className);\r\n    Class parameters[] = new Class[]{String.class, Integer.class, Object.class};\r\n    Constructor&lt;?&gt; constructor = String.class.getConstructor(parameters);\r\n    return (SubClass) constructor.newInstance(parameters);\r\n}\r\n```\r\n\r\nI have this method to construct the classes\r\n\r\n```java\r\npublic void HoldingClass3(String subclassType, String identifier, String seqId, int questNo, boolean answerText) {\r\n    try {\r\n        Class&lt;?&gt; clazz = Class.forName(subclassType);\r\n        SubClass instance = (SubClass) clazz.getDeclaredConstructor(String.class, String.class, int.class, boolean.class)\r\n                .newInstance(identifier, seqId, questNo, answerText);\r\n        if (&quot;one&quot;.equals(subclassType)) {\r\n            one = instance;\r\n        } else if (&quot;two&quot;.equals(subclassType)) {\r\n            two = instance;\r\n        } else if (&quot;three&quot;.equals(subclassType)) {\r\n            three = instance;\r\n        } else if (&quot;four&quot;.equals(subclassType)) {\r\n            four = instance;\r\n        }\r\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I call the method such as\r\n\r\n```java\r\nholdingClass.HoldingClass3(&quot;one&quot;, &quot;hello&quot;, &quot;hello&quot;, 1, true);\r\n```\r\n\r\nI get this error\r\n\r\n```none\r\njava.lang.ClassNotFoundException: one\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:496)\r\n\tat java.base/java.lang.Class.forName(Class.java:475)\r\n\tat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:391)\r\n\tat java.base/java.lang.Class.forName(Class.java:382)\r\n\tat Reflection.HoldingClass.HoldingClass3(HoldingClass.java:43)\r\n\tat com.Nicolaus.Spring.Fundamentals.SpringFundamentalsApplication.main(SpringFundamentalsApplication.java:41)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\r\n\r\nProcess finished with exit code 0\r\n```\r\n","title":"How to use reflection in Java to dynamically create classes?","body":"<p>I have a holding class, that only has member attributes of 'subclasses'. All the holding class's attributes are the same subclass type, but just have different variable names.</p>\n<p>The holding class will receive a JSON object with attributes like idNo, some text, and an identifier. This identifier will point to the specific subclass that will have its attributes created.</p>\n<p>So three parts here</p>\n<ol>\n<li>Holding class with attributes of sub classes</li>\n<li>JSON Array</li>\n<li>HashMap that contains identifier to the name of the subclass like</li>\n</ol>\n<p>HashMap</p>\n<pre class=\"lang-java prettyprint-override\"><code>dictionary.put(&quot;blue&quot;, &quot;two&quot;);\ndictionary.put(&quot;black&quot;, &quot;one&quot;);\ndictionary.put(&quot;red&quot;, &quot;three&quot;);\ndictionary.put(&quot;green&quot;, &quot;four&quot;);\n</code></pre>\n<p>The JSON array is something like</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{\n      &quot;identifier&quot;: &quot;blue&quot;,\n      &quot;invoId&quot;: 1,\n      &quot;questNo&quot;: 1,\n      &quot;seqId&quot;: &quot;1a&quot;,\n      &quot;answerText&quot;: 1\n  }, {\n      &quot;identifier&quot;: &quot;red&quot;,\n      &quot;invoId&quot;: 1,\n      &quot;questNo&quot;: 2,\n      &quot;seqId&quot;: &quot;2a&quot;,\n      &quot;answerText&quot;: 0\n  }, {\n      &quot;identifier&quot;: &quot;green&quot;,\n      &quot;invoId&quot;: 1,\n      &quot;questNo&quot;: 3,\n      &quot;seqId&quot;: &quot;3a&quot;,\n      &quot;answerText&quot;: 1\n  }, {\n      &quot;identifier&quot;: &quot;black&quot;,\n      &quot;invoId&quot;: 1,\n      &quot;questNo&quot;: 4,\n      &quot;seqId&quot;: &quot;4a&quot;\n  }\n]\n</code></pre>\n<p>As you can see, the JSON array has a colour, the HashMap has a colour to a number, and that number specifies which subclass to construct.</p>\n<p>Holding class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HoldingClass {\n    private SubClass one;\n    private SubClass two;\n    private SubClass three;\n    private SubClass four;\n</code></pre>\n<p>Subclass</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SubClass&lt;T&gt; {\n    private String identifier;\n    private String seqId;\n    private int questNo;\n    boolean answerText;\n    private int invoId = 1;\n</code></pre>\n<p>The part I cannot figure out, is how to use reflection such that, it points to a specific subclass attribute in the holding class, then constructs that subclass of the specific array element's info.</p>\n<p>I tried this method, but it didn't seem to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; SubClass constructClass(String className, String identifier, String seqId, int questNo, boolean answerText) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n    Class&lt;?&gt; clazz = Class.forName(className);\n    Class parameters[] = new Class[]{String.class, Integer.class, Object.class};\n    Constructor&lt;?&gt; constructor = String.class.getConstructor(parameters);\n    return (SubClass) constructor.newInstance(parameters);\n}\n</code></pre>\n<p>I have this method to construct the classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void HoldingClass3(String subclassType, String identifier, String seqId, int questNo, boolean answerText) {\n    try {\n        Class&lt;?&gt; clazz = Class.forName(subclassType);\n        SubClass instance = (SubClass) clazz.getDeclaredConstructor(String.class, String.class, int.class, boolean.class)\n                .newInstance(identifier, seqId, questNo, answerText);\n        if (&quot;one&quot;.equals(subclassType)) {\n            one = instance;\n        } else if (&quot;two&quot;.equals(subclassType)) {\n            two = instance;\n        } else if (&quot;three&quot;.equals(subclassType)) {\n            three = instance;\n        } else if (&quot;four&quot;.equals(subclassType)) {\n            four = instance;\n        }\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>However, when I call the method such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>holdingClass.HoldingClass3(&quot;one&quot;, &quot;hello&quot;, &quot;hello&quot;, 1, true);\n</code></pre>\n<p>I get this error</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: one\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:496)\n    at java.base/java.lang.Class.forName(Class.java:475)\n    at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:391)\n    at java.base/java.lang.Class.forName(Class.java:382)\n    at Reflection.HoldingClass.HoldingClass3(HoldingClass.java:43)\n    at com.Nicolaus.Spring.Fundamentals.SpringFundamentalsApplication.main(SpringFundamentalsApplication.java:41)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1695839206,"post_id":77189667,"comment_id":136078954,"body_markdown":"“there is no mismatch between the client passed and from server…” How do you know that?","body":"“there is no mismatch between the client passed and from server…” How do you know that?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1695840955,"post_id":77189667,"comment_id":136079257,"body_markdown":"You can probably just debug the code in eclipse or something. although, i remember oracle was kind enough not to include the source code...","body":"You can probably just debug the code in eclipse or something. although, i remember oracle was kind enough not to include the source code..."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1695846997,"post_id":77189667,"comment_id":136080215,"body_markdown":"Is it possible your Oracle database uses SSL encryption? And the certificate installed on the server contains a distinguished name (DN) that does not match the hostname you are connecting to with the client?","body":"Is it possible your Oracle database uses SSL encryption? And the certificate installed on the server contains a distinguished name (DN) that does not match the hostname you are connecting to with the client?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1695851615,"post_id":77189667,"comment_id":136080903,"body_markdown":"Java was built from the ground up to properly support debugging. Use your IDE to debug the code, setting a break point at the method in question.","body":"Java was built from the ground up to properly support debugging. Use your IDE to debug the code, setting a break point at the method in question."},{"owner":{"account_id":2180236,"reputation":425,"user_id":1929905,"accept_rate":53,"display_name":"user1929905"},"score":0,"creation_date":1695898058,"post_id":77189667,"comment_id":136086545,"body_markdown":"The problem is i cant use IDE as i can run the code only on a unix box as there is a firewall restriction.how to debug in this case","body":"The problem is i cant use IDE as i can run the code only on a unix box as there is a firewall restriction.how to debug in this case"}],"answers":[{"tags":[],"owner":{"account_id":2180236,"reputation":425,"user_id":1929905,"accept_rate":53,"display_name":"user1929905"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696436430,"creation_date":1696436430,"answer_id":77231308,"question_id":77189667,"body_markdown":"use jdb to debug the program from command line\r\n\r\njdb -sourcepath src (if you have the source of jar/or try decompiled classes) yourclass","title":"To print a string inside a third party jar in java","body":"<p>use jdb to debug the program from command line</p>\n<p>jdb -sourcepath src (if you have the source of jar/or try decompiled classes) yourclass</p>\n"}],"owner":{"account_id":2180236,"reputation":425,"user_id":1929905,"accept_rate":53,"display_name":"user1929905"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696436430,"creation_date":1695835684,"question_id":77189667,"body_markdown":"I have a java program which uses ojdbc8.jar file.. I am getting &quot;Mismatch with the server cert DN&quot; while i connect to a database. Though there is no mismatch between the client passed and from server , i am getting this error.\r\nThere is a class DNVerfier inside ojdbc8.jar and a method verifyConfiguredDN() in it. I need to print the strings that are passed on to this method so that i can see where there is a mismatch..\r\n\r\nIs there any way i can print those values coming inside the jar using a sysout and how to do it? ","title":"To print a string inside a third party jar in java","body":"<p>I have a java program which uses ojdbc8.jar file.. I am getting &quot;Mismatch with the server cert DN&quot; while i connect to a database. Though there is no mismatch between the client passed and from server , i am getting this error.\nThere is a class DNVerfier inside ojdbc8.jar and a method verifyConfiguredDN() in it. I need to print the strings that are passed on to this method so that i can see where there is a mismatch..</p>\n<p>Is there any way i can print those values coming inside the jar using a sysout and how to do it?</p>\n"},{"tags":["java","smb"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1696435679,"post_id":77231163,"comment_id":136153486,"body_markdown":"SMB seems to disagree about your statements: `jcifs.smb.SmbAuthException: Access is denied` is pretty clear. What user are you running the java process as?","body":"SMB seems to disagree about your statements: <code>jcifs.smb.SmbAuthException: Access is denied</code> is pretty clear. What user are you running the java process as?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696436655,"post_id":77231163,"comment_id":136153669,"body_markdown":"`Files.write(Path.of(path, fileName), fileByte);` is simpler. Try it and tell us what parameters","body":"<code>Files.write(Path.of(path, fileName), fileByte);</code> is simpler. Try it and tell us what parameters"},{"owner":{"account_id":29158723,"reputation":1,"user_id":22337927,"display_name":"Fra"},"score":0,"creation_date":1696493275,"post_id":77231163,"comment_id":136160654,"body_markdown":"@f1sh as I said, the user I&#39;m logged with is the same running the service, and it has full control on the share I&#39;m trying to write into.","body":"@f1sh as I said, the user I&#39;m logged with is the same running the service, and it has full control on the share I&#39;m trying to write into."},{"owner":{"account_id":29158723,"reputation":1,"user_id":22337927,"display_name":"Fra"},"score":0,"creation_date":1696493373,"post_id":77231163,"comment_id":136160673,"body_markdown":"@g00se I tried this version of the first method          \n\n\tpublic static void saveFile (String path, String fileName, byte[] fileByte) throws Exception {\n\t\tFile outputfile = new File(path + fileName);\t\t\n\t\tif (!Files.exists(outputfile.toPath()));\n\t\t    Files.createDirectories(outputfile.toPath());\n\t\tFiles.write(outputfile.toPath(), fileByte);\n\t} \n              \nbut I&#39;m getting &quot;Unable to determine if root directory exists&quot;","body":"@g00se I tried this version of the first method            \tpublic static void saveFile (String path, String fileName, byte[] fileByte) throws Exception { \t\tFile outputfile = new File(path + fileName);\t\t \t\tif (!Files.exists(outputfile.toPath())); \t\t    Files.createDirectories(outputfile.toPath()); \t\tFiles.write(outputfile.toPath(), fileByte); \t}                 but I&#39;m getting &quot;Unable to determine if root directory exists&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696495643,"post_id":77231163,"comment_id":136161140,"body_markdown":"That&#39;s not what I asked","body":"That&#39;s not what I asked"}],"owner":{"account_id":29158723,"reputation":1,"user_id":22337927,"display_name":"Fra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696436403,"creation_date":1696435238,"question_id":77231163,"body_markdown":"I have a byte[] representing an .xml file which I have to save on a shared drive (mapped with F:/targetFolderName). Both my class and the shared drive are in Windows.\r\nI&#39;m 100% sure that the user I&#39;m logged in with has full control over the shared folder, and the service that runs my class is executed by that same user (also, I can manually access the shared drive and create/delete/modify folders and files).\r\n\r\n\r\n\r\nI tried this simpler method:\r\n\r\n    public static void saveFile (String path, String fileName, byte[] fileByte) throws Exception {\r\n    \t\tFile outputfile = new File(path + fileName);\r\n    \t\tOutputStream outputStream = new BufferedOutputStream(new  FileOutputStream(outputfile));\r\n    \t\toutputStream.write(fileByte);\r\n    \t\toutputStream.close();\r\n    \t}\r\n\r\nand another one, using smb and jcifs:\r\n\r\n```\r\npublic static void saveFile (byte[] file, String domain, String user, String password, String basePath, String fileName) throws Exception {\r\n\t\t\r\n\t\tif (fileName != null &amp;&amp; (!fileName.contains(&quot;.&quot;) || fileName.trim().length() &lt; 3)) throw new Exception(&quot;File name [&quot; + fileName + &quot;] not valid: must be in the form &#39;name.extension&#39;.&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (basePath.length() &lt; 7 || !basePath.substring(0, 6).equals(&quot;smb://&quot;)) basePath = &quot;smb://&quot; + basePath;\r\n\t\t\tString separator = System.getProperty(&quot;file.separator&quot;);\r\n\t\t\tif (!basePath.substring(basePath.length() - 1).equals(separator)) basePath += separator;\r\n\t\t\tif (domain == null) domain = &quot;DOMAIN&quot;;\r\n\t\t\t\r\n\t\t\tInputStream in = new ByteArrayInputStream(file);\r\n\t\t\tNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication (domain, user, password);\r\n\t\t\tSmbFile outFile = new SmbFile (basePath + fileName, auth);\r\n\t\t\tOutputStream out = outFile.getOutputStream();\r\n\t\t\t\r\n\t\t\tbyte[] buffer = new byte[10240];\r\n\t\t\tint len = 0;\r\n\t\t\twhile ((len = in.read (buffer)) &gt; 0) out.write (buffer, 0, len);\r\n\t\t\tout.close ();\r\n\t\t\tin.close ();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Ffile [&quot; +  basePath + fileName + &quot;] saved correctly.&quot;.replace(&quot;smb:&quot;, &quot;&quot;));\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow e;\r\n\t\t}\t\t\r\n\t}\r\n```\r\n\r\nboth throw an Exception, the forst one saying *java.nio.file.NoSuchFileException: F:/targetFolderName/fileName.xml*, the second one saying *jcifs.smb.SmbAuthException: Access is denied*.\r\nI assume that the first method is claiming that the path does not exist even if it does, because is missing some sort of permission, since the second Exception is so explicit\r\n\r\nAlso, if i try the first method and save the file locally in C:/randomFolder it works just fine.\r\n\r\nI tried using the assigned letter, the machine formal name, and the ip address in the path: same result.\r\n\r\nI&#39;m clueless at this point, what am I getting wrong?\r\n\r\n","title":"Access denied while writing a file on a shared drive","body":"<p>I have a byte[] representing an .xml file which I have to save on a shared drive (mapped with F:/targetFolderName). Both my class and the shared drive are in Windows.\nI'm 100% sure that the user I'm logged in with has full control over the shared folder, and the service that runs my class is executed by that same user (also, I can manually access the shared drive and create/delete/modify folders and files).</p>\n<p>I tried this simpler method:</p>\n<pre><code>public static void saveFile (String path, String fileName, byte[] fileByte) throws Exception {\n        File outputfile = new File(path + fileName);\n        OutputStream outputStream = new BufferedOutputStream(new  FileOutputStream(outputfile));\n        outputStream.write(fileByte);\n        outputStream.close();\n    }\n</code></pre>\n<p>and another one, using smb and jcifs:</p>\n<pre><code>public static void saveFile (byte[] file, String domain, String user, String password, String basePath, String fileName) throws Exception {\n        \n        if (fileName != null &amp;&amp; (!fileName.contains(&quot;.&quot;) || fileName.trim().length() &lt; 3)) throw new Exception(&quot;File name [&quot; + fileName + &quot;] not valid: must be in the form 'name.extension'.&quot;);\n        \n        try {\n            if (basePath.length() &lt; 7 || !basePath.substring(0, 6).equals(&quot;smb://&quot;)) basePath = &quot;smb://&quot; + basePath;\n            String separator = System.getProperty(&quot;file.separator&quot;);\n            if (!basePath.substring(basePath.length() - 1).equals(separator)) basePath += separator;\n            if (domain == null) domain = &quot;DOMAIN&quot;;\n            \n            InputStream in = new ByteArrayInputStream(file);\n            NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication (domain, user, password);\n            SmbFile outFile = new SmbFile (basePath + fileName, auth);\n            OutputStream out = outFile.getOutputStream();\n            \n            byte[] buffer = new byte[10240];\n            int len = 0;\n            while ((len = in.read (buffer)) &gt; 0) out.write (buffer, 0, len);\n            out.close ();\n            in.close ();\n            \n            System.out.println(&quot;Ffile [&quot; +  basePath + fileName + &quot;] saved correctly.&quot;.replace(&quot;smb:&quot;, &quot;&quot;));\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n            throw e;\n        }       \n    }\n</code></pre>\n<p>both throw an Exception, the forst one saying <em>java.nio.file.NoSuchFileException: F:/targetFolderName/fileName.xml</em>, the second one saying <em>jcifs.smb.SmbAuthException: Access is denied</em>.\nI assume that the first method is claiming that the path does not exist even if it does, because is missing some sort of permission, since the second Exception is so explicit</p>\n<p>Also, if i try the first method and save the file locally in C:/randomFolder it works just fine.</p>\n<p>I tried using the assigned letter, the machine formal name, and the ip address in the path: same result.</p>\n<p>I'm clueless at this point, what am I getting wrong?</p>\n"},{"tags":["java","gradle","javafx","jfoenix"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676841740,"post_id":75500930,"comment_id":133213977,"body_markdown":"I advise using [MaterialFX](https://github.com/palexdev/MaterialFX) instead, it seems less buggy than jfoenix, given the current question profile on StackOverflow.  Sample [usage via Maven](https://stackoverflow.com/questions/71931192/using-materialfx-in-intellij/71931282#71931282), but Gradle will be similar.","body":"I advise using <a href=\"https://github.com/palexdev/MaterialFX\" rel=\"nofollow noreferrer\">MaterialFX</a> instead, it seems less buggy than jfoenix, given the current question profile on StackOverflow.  Sample <a href=\"https://stackoverflow.com/questions/71931192/using-materialfx-in-intellij/71931282#71931282\">usage via Maven</a>, but Gradle will be similar."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676842359,"post_id":75500930,"comment_id":133214083,"body_markdown":"Your [linked project](https://github.com/sshahine/JFoenix/blob/master/jfoenix/build.gradle) uses something called [&quot;retrolambda](https://github.com/luontola/retrolambda), which &quot; lets you run Java 8 code with lambda expressions, method references and try-with-resources statements on Java 7, 6 or 5. It does this by transforming your Java 8 compiled bytecode so that it can run on an older Java runtime.&quot;.  I doubt you would want to do such a thing with a modern JavaFX distribution app.  Maybe investigate [gluon mobile instead](https://gluonhq.com/products/mobile/).","body":"Your <a href=\"https://github.com/sshahine/JFoenix/blob/master/jfoenix/build.gradle\" rel=\"nofollow noreferrer\">linked project</a> uses something called <a href=\"https://github.com/luontola/retrolambda\" rel=\"nofollow noreferrer\">&quot;retrolambda</a>, which &quot; lets you run Java 8 code with lambda expressions, method references and try-with-resources statements on Java 7, 6 or 5. It does this by transforming your Java 8 compiled bytecode so that it can run on an older Java runtime.&quot;.  I doubt you would want to do such a thing with a modern JavaFX distribution app.  Maybe investigate <a href=\"https://gluonhq.com/products/mobile/\" rel=\"nofollow noreferrer\">gluon mobile instead</a>."}],"answers":[{"tags":[],"owner":{"account_id":29598010,"reputation":1,"user_id":22684124,"display_name":"&#193;ngel Lucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696436360,"creation_date":1696435064,"answer_id":77231142,"question_id":75500930,"body_markdown":"You should put this arguments to jvm: \r\n\r\n`--add-opens java.base/java.lang.reflect=com.jfoenix  --add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix`\r\n\r\n\r\n ","title":"Error with JFXTextField from JFoenix: module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix","body":"<p>You should put this arguments to jvm:</p>\n<p><code>--add-opens java.base/java.lang.reflect=com.jfoenix  --add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix</code></p>\n"}],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696436360,"creation_date":1676817895,"question_id":75500930,"body_markdown":"I&#39;m using IntelliJ and Gradle with JavaFX and wanted to test the JFoenix package (https://github.com/sshahine/JFoenix).\r\n\r\nIf I drag and drop a JFXTextField with the SceneBuilder in my scene, the application doesn&#39;t start anymore. This problem occurs for example not for a JFXButton.\r\n\r\nTested Java 17 and 11, SceneBuilder 17 and 15 but the problem still occurs.\r\nAdding JVM Options like described here (https://github.com/bisq-network/bisq/pull/5835) doesn&#39;t help aswell.\r\n\r\nDoes anyone know how I can fix this problem?\r\n\r\nmodule-info.java:\r\n``` \r\nmodule test {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n\r\n    requires org.controlsfx.controls;\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires com.jfoenix;\r\n\r\n    opens ...\r\n    exports...\r\n}\r\n```\r\n\r\nThanks for any idea.\r\n\r\n\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make boolean java.lang.reflect.AccessibleObject.setAccessible0(boolean) accessible: module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:340)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:280)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:198)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:192)\r\n\tat com.jfoenix/com.jfoenix.adapters.ReflectionHelper.&lt;clinit&gt;(ReflectionHelper.java:48)\r\n\tat com.jfoenix/com.jfoenix.skins.JFXTextFieldSkin.&lt;init&gt;(JFXTextFieldSkin.java:59)\r\n\tat com.jfoenix/com.jfoenix.controls.JFXTextField.createDefaultSkin(JFXTextField.java:69)\r\n\tat javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:897)\r\n\tat javafx.controls/javafx.scene.control.Control.access$000(Control.java:83)\r\n\tat javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\r\n\tat javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1397)\r\n\tat javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\r\n\tat javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\r\n\tat javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\r\n\tat javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\r\n\tat javafx.graphics/javafx.scene.Scene.doCSSPass(Scene.java:569)\r\n\tat javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1745)\r\n\tat javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\r\n\tat javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\r\n\tat javafx.graphics/javafx.stage.Window$12.invalidated(Window.java:1086)\r\n\tat javafx.base/javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\r\n\tat javafx.base/javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\r\n\tat javafx.graphics/javafx.stage.Window.setShowing(Window.java:1174)\r\n\tat javafx.graphics/javafx.stage.Window.show(Window.java:1189)\r\n\tat javafx.graphics/javafx.stage.Stage.show(Stage.java:273)\r\n\tat com.github.devenrico.hospitalmanagement@1.0-SNAPSHOT/com.github.devenrico.hospitalmanagement.HelloApplication.start(HelloApplication.java:17)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.NullPointerException\r\n\tat com.jfoenix/com.jfoenix.skins.JFXTextFieldSkin.updateTextPos(JFXTextFieldSkin.java:109)\r\n\tat com.jfoenix/com.jfoenix.skins.JFXTextFieldSkin.layoutChildren(JFXTextFieldSkin.java:93)\r\n\tat javafx.controls/javafx.scene.control.Control.layoutChildren(Control.java:601)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1204)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Scene.doLayoutPass(Scene.java:576)\r\n\tat javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1748)\r\n\tat javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\r\n\tat javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\r\n\tat javafx.graphics/javafx.stage.Window$12.invalidated(Window.java:1086)\r\n\tat javafx.base/javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\r\n\tat javafx.base/javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\r\n\tat javafx.graphics/javafx.stage.Window.setShowing(Window.java:1174)\r\n\tat javafx.graphics/javafx.stage.Window.show(Window.java:1189)\r\n\tat javafx.graphics/javafx.stage.Stage.show(Stage.java:273)\r\n\tat com.github.devenrico.hospitalmanagement@1.0-SNAPSHOT/com.github.devenrico.hospitalmanagement.HelloApplication.start(HelloApplication.java:17)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more\r\nException running application com.github.devenrico.hospitalmanagement.HelloApplication\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\n15:27:09: Execution finished &#39;run --add-opens=java.base/java.lang.reflect=com.jfoenix&#39;.\r\n\r\n```\r\n","title":"Error with JFXTextField from JFoenix: module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix","body":"<p>I'm using IntelliJ and Gradle with JavaFX and wanted to test the JFoenix package (<a href=\"https://github.com/sshahine/JFoenix\" rel=\"nofollow noreferrer\">https://github.com/sshahine/JFoenix</a>).</p>\n<p>If I drag and drop a JFXTextField with the SceneBuilder in my scene, the application doesn't start anymore. This problem occurs for example not for a JFXButton.</p>\n<p>Tested Java 17 and 11, SceneBuilder 17 and 15 but the problem still occurs.\nAdding JVM Options like described here (<a href=\"https://github.com/bisq-network/bisq/pull/5835\" rel=\"nofollow noreferrer\">https://github.com/bisq-network/bisq/pull/5835</a>) doesn't help aswell.</p>\n<p>Does anyone know how I can fix this problem?</p>\n<p>module-info.java:</p>\n<pre><code>module test {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    requires org.controlsfx.controls;\n    requires org.kordamp.bootstrapfx.core;\n    requires com.jfoenix;\n\n    opens ...\n    exports...\n}\n</code></pre>\n<p>Thanks for any idea.</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make boolean java.lang.reflect.AccessibleObject.setAccessible0(boolean) accessible: module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:340)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:280)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:198)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:192)\n    at com.jfoenix/com.jfoenix.adapters.ReflectionHelper.&lt;clinit&gt;(ReflectionHelper.java:48)\n    at com.jfoenix/com.jfoenix.skins.JFXTextFieldSkin.&lt;init&gt;(JFXTextFieldSkin.java:59)\n    at com.jfoenix/com.jfoenix.controls.JFXTextField.createDefaultSkin(JFXTextField.java:69)\n    at javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:897)\n    at javafx.controls/javafx.scene.control.Control.access$000(Control.java:83)\n    at javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\n    at javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\n    at javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1397)\n    at javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\n    at javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\n    at javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\n    at javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\n    at javafx.graphics/javafx.scene.Scene.doCSSPass(Scene.java:569)\n    at javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1745)\n    at javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\n    at javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\n    at javafx.graphics/javafx.stage.Window$12.invalidated(Window.java:1086)\n    at javafx.base/javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\n    at javafx.base/javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\n    at javafx.graphics/javafx.stage.Window.setShowing(Window.java:1174)\n    at javafx.graphics/javafx.stage.Window.show(Window.java:1189)\n    at javafx.graphics/javafx.stage.Stage.show(Stage.java:273)\n    at com.github.devenrico.hospitalmanagement@1.0-SNAPSHOT/com.github.devenrico.hospitalmanagement.HelloApplication.start(HelloApplication.java:17)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.NullPointerException\n    at com.jfoenix/com.jfoenix.skins.JFXTextFieldSkin.updateTextPos(JFXTextFieldSkin.java:109)\n    at com.jfoenix/com.jfoenix.skins.JFXTextFieldSkin.layoutChildren(JFXTextFieldSkin.java:93)\n    at javafx.controls/javafx.scene.control.Control.layoutChildren(Control.java:601)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1204)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Scene.doLayoutPass(Scene.java:576)\n    at javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1748)\n    at javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\n    at javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\n    at javafx.graphics/javafx.stage.Window$12.invalidated(Window.java:1086)\n    at javafx.base/javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\n    at javafx.base/javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\n    at javafx.graphics/javafx.stage.Window.setShowing(Window.java:1174)\n    at javafx.graphics/javafx.stage.Window.show(Window.java:1189)\n    at javafx.graphics/javafx.stage.Stage.show(Stage.java:273)\n    at com.github.devenrico.hospitalmanagement@1.0-SNAPSHOT/com.github.devenrico.hospitalmanagement.HelloApplication.start(HelloApplication.java:17)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more\nException running application com.github.devenrico.hospitalmanagement.HelloApplication\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk-11.0.13\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n15:27:09: Execution finished 'run --add-opens=java.base/java.lang.reflect=com.jfoenix'.\n\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka","consumer"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696436187,"creation_date":1696436187,"answer_id":77231276,"question_id":77230660,"body_markdown":"1. 2.7.x is no longer supported; upgrade to a supported version (2.9.12 or later) and report back if you still see a problem. Otherwise, DEBUG logging might help you. https://spring.io/projects/spring-kafka#support\r\n\r\n2. You would have to put each listener in its own class to have multiple DLT handlers.","title":"Consumer not listen message from retry topic","body":"<ol>\n<li><p>2.7.x is no longer supported; upgrade to a supported version (2.9.12 or later) and report back if you still see a problem. Otherwise, DEBUG logging might help you. <a href=\"https://spring.io/projects/spring-kafka#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka#support</a></p>\n</li>\n<li><p>You would have to put each listener in its own class to have multiple DLT handlers.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26345002,"reputation":29,"user_id":20003532,"display_name":"javaLearnMushigi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77231276,"answer_count":1,"score":0,"last_activity_date":1696436187,"creation_date":1696431102,"question_id":77230660,"body_markdown":"I use Spring-Kafka 2.7.7 with @RetryableTopic to re-process messages from my two topics, ***MyTopic1*** and ***MyTopic2***, after some time\r\n\r\n    @RetryableTopic(\r\n    \tattempts =&quot;3&quot;,\r\n    \tbackoff = @Backoff(delay=1000),\r\n    \tautoCreateTopics = &quot;false&quot;)\r\n    )\r\n    @KafkaListener(topics = &quot;myTopic1&quot;,\r\n    public void processMessage(MyPojo1 message) {\r\n       // ... message processing\r\n    }\r\n    \r\n    @RetryableTopic(attempts =&quot;3&quot;,\r\n    \t\t\t\tbackoff = @Backoff(delay=1000),\r\n    \t\t\t\tautoCreateTopics = &quot;false&quot;))\r\n    @KafkaListener(topics = &quot;myTopic2&quot;)\r\n    public void processMessage(MyPojo2 message) {\r\n       // ... message processing\r\n    }\r\n    \r\n    @DltHandler\r\n    public void DltHandler1(MyPojo1 message) {\r\n    \t// ... message processing\r\n    }\r\n    \r\n    @DltHandler\r\n    public void DltHandler1(MyPojo2 message) {\r\n    \t// ... message processing\r\n    }\r\n\r\nI have Retry-Mytopic1-0, Retry-Mytopic1-1, Retry-Mytopic1-2, MyTopic1-DLT and Topic for MyTopic2\r\nBut I have two problems\r\n\r\n 1. After writing a message to the Topik Retry-Mytopic1-0, I get a\r\n    message:\r\n    \r\n    *Seek to Current AFTER Exception; NESSTED Exception is\r\n    org.springframework.kafka.listenerexecitationfailedException:\r\n    Listener Failed; NESSTED Exception is\r\n    org.springframework.kafka.listener.kafkabackoffexception: Partition\r\n    0 from Topic Retry-Mytopic1-0 is not Ready for Consumption, Backing OFF\r\n    For Approx. 990 Millis.*\r\n    \r\n    And that&#39;s right, the consumer saw that the processing time did not\r\n    occur But in the future, processing does not occur, on this\r\n    information message everything ends\r\n 2. How can I configure @dlthandler for each DLT-Topic? After all, they\r\n    get different DTO in the input","title":"Consumer not listen message from retry topic","body":"<p>I use Spring-Kafka 2.7.7 with @RetryableTopic to re-process messages from my two topics, <em><strong>MyTopic1</strong></em> and <em><strong>MyTopic2</strong></em>, after some time</p>\n<pre><code>@RetryableTopic(\n    attempts =&quot;3&quot;,\n    backoff = @Backoff(delay=1000),\n    autoCreateTopics = &quot;false&quot;)\n)\n@KafkaListener(topics = &quot;myTopic1&quot;,\npublic void processMessage(MyPojo1 message) {\n   // ... message processing\n}\n\n@RetryableTopic(attempts =&quot;3&quot;,\n                backoff = @Backoff(delay=1000),\n                autoCreateTopics = &quot;false&quot;))\n@KafkaListener(topics = &quot;myTopic2&quot;)\npublic void processMessage(MyPojo2 message) {\n   // ... message processing\n}\n\n@DltHandler\npublic void DltHandler1(MyPojo1 message) {\n    // ... message processing\n}\n\n@DltHandler\npublic void DltHandler1(MyPojo2 message) {\n    // ... message processing\n}\n</code></pre>\n<p>I have Retry-Mytopic1-0, Retry-Mytopic1-1, Retry-Mytopic1-2, MyTopic1-DLT and Topic for MyTopic2\nBut I have two problems</p>\n<ol>\n<li><p>After writing a message to the Topik Retry-Mytopic1-0, I get a\nmessage:</p>\n<p><em>Seek to Current AFTER Exception; NESSTED Exception is\norg.springframework.kafka.listenerexecitationfailedException:\nListener Failed; NESSTED Exception is\norg.springframework.kafka.listener.kafkabackoffexception: Partition\n0 from Topic Retry-Mytopic1-0 is not Ready for Consumption, Backing OFF\nFor Approx. 990 Millis.</em></p>\n<p>And that's right, the consumer saw that the processing time did not\noccur But in the future, processing does not occur, on this\ninformation message everything ends</p>\n</li>\n<li><p>How can I configure @dlthandler for each DLT-Topic? After all, they\nget different DTO in the input</p>\n</li>\n</ol>\n"},{"tags":["java","byte-buddy"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":1,"creation_date":1696767233,"post_id":77230980,"comment_id":136192928,"body_markdown":"This should work. From the top of my head: switch the application order?","body":"This should work. From the top of my head: switch the application order?"},{"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"score":0,"creation_date":1696783504,"post_id":77230980,"comment_id":136194525,"body_markdown":"@RafaelWinterhalter it really helped! I don&#39;t understand the `visit()` javadoc then: `are applied on top of another in their registration order.` . Maybe my English is bad","body":"@RafaelWinterhalter it really helped! I don&#39;t understand the <code>visit()</code> javadoc then: <code>are applied on top of another in their registration order.</code> . Maybe my English is bad"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1696836891,"post_id":77230980,"comment_id":136198940,"body_markdown":"It&#39;s not that clear as it uses ASM concepts. I&#39;ll see to rewrite this.","body":"It&#39;s not that clear as it uses ASM concepts. I&#39;ll see to rewrite this."}],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696434920,"creation_date":1696433786,"question_id":77230980,"body_markdown":"I&#39;d like to call a private method of a hot-swapped class from an inlined `@OnMethodEnter` code block. Since the private method is inaccessible from the advice code at compile time I created a static stub method `stubFoo(Aaa)` with the same signature as the instance method `Aaa.foo()` . Then I tried using `MemberSubstitution` to replace calls to `stubFoo()` with the private method `foo()`, but it only replaces the calls in the original code, not in the inlined code.\r\n\r\nHow do I convince Byte Buddy to generate code that calls `this.foo()`?\r\n\r\nExpected output:\r\n\r\n```\r\nfoo: 10\r\ncalling original operate...\r\nfoo: 10\r\n```\r\n\r\nActual output\r\n\r\n```\r\nstubFoo: 10\r\ncalling original operate...\r\nfoo: 10\r\n```\r\n_\r\n```\r\npublic class TestBB2 {\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n        final int a = 1;\r\n        final int b = 2;\r\n        final Aaa aaa2 = new Aaa() {\r\n\r\n            @Override\r\n            public int operate(final int a, final int b) {\r\n                final int res = super.operate(a, b);\r\n                return res + (a * b);\r\n            }\r\n        };\r\n        aaa2.number = 10;\r\n\r\n        ByteBuddyAgent.install();\r\n\r\n        testRedefine(a, b, aaa2);\r\n    }\r\n\r\n    private static void testRedefine(final int a, final int b, final Aaa aaa2)\r\n                                                                               throws NoSuchMethodException {\r\n\r\n        final Method mtdOperate = Aaa.class.getDeclaredMethod(&quot;operate&quot;, int.class, int.class);\r\n        final Method mtdFoo = Aaa.class.getDeclaredMethod(&quot;foo&quot;);\r\n        final Method mtdStubFoo = MyAdviceInterceptor.class.getDeclaredMethod(&quot;stubFoo&quot;, Aaa.class);\r\n\r\n        new ByteBuddy()\r\n            .redefine(Aaa.class)\r\n            .visit(\r\n                new AsmVisitorWrapper.ForDeclaredMethods()\r\n                    .method(ElementMatchers.anyOf(mtdOperate), Advice.to(MyAdviceInterceptor.class)\r\n                    //\r\n\r\n                    ))\r\n            //\r\n            .visit(\r\n                MemberSubstitution\r\n                    .strict()\r\n                    .method(ElementMatchers.anyOf(mtdStubFoo))\r\n                    .replaceWith(mtdFoo)\r\n                    .on(ElementMatchers.anyOf(mtdOperate)))\r\n            //\r\n            .make()\r\n            .load(Aaa.class.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\r\n\r\n        System.out.println(aaa2.operate(a, b));\r\n    }\r\n\r\n    public static class Aaa {\r\n\r\n        private int number;\r\n\r\n        public int operate(final int a, final int b) {\r\n            System.out.println(&quot;calling original operate...&quot;);\r\n            MyAdviceInterceptor.stubFoo(this);\r\n            return number + a + b;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        private void foo() {\r\n            System.out.println(&quot;foo: &quot; + this.number);\r\n        }\r\n    }\r\n\r\n    private static class MyAdviceInterceptor {\r\n\r\n        static void stubFoo(final Aaa _this) {\r\n            System.out.println(&quot;stubFoo: &quot; + _this.number);\r\n        }\r\n\r\n        @Advice.OnMethodEnter\r\n        static void operate4(\r\n                @Advice.Argument(value = 0, readOnly = false) int a,\r\n                final int b,\r\n                @Advice.This final Aaa _this,\r\n                @Advice.Local(&quot;span&quot;) Object span1) {\r\n            span1 = &quot;abc&quot;;\r\n            System.out.println(&quot;redefined2 entering operate...: &quot; + a + &quot; &quot; + b);\r\n            a = 44;\r\n            stubFoo(_this);\r\n            // _this.foo();\r\n        }\r\n\r\n        @Advice.OnMethodExit\r\n        static void operate5(\r\n                @Advice.Return(readOnly = false) int value,\r\n                @Advice.Argument(value = 0, readOnly = false) final int a,\r\n                @Advice.Local(&quot;span&quot;) final Object span,\r\n                @Advice.FieldValue(value = &quot;number&quot;) final int number) {\r\n            System.out\r\n                .println(\r\n                    &quot;redefined2 exiting operate... &quot; + value + &quot; &quot; + a + &quot; &quot; + span + &quot; &quot; + number);\r\n            value = value + 1;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n","title":"Call a private method from an inlined Advice","body":"<p>I'd like to call a private method of a hot-swapped class from an inlined <code>@OnMethodEnter</code> code block. Since the private method is inaccessible from the advice code at compile time I created a static stub method <code>stubFoo(Aaa)</code> with the same signature as the instance method <code>Aaa.foo()</code> . Then I tried using <code>MemberSubstitution</code> to replace calls to <code>stubFoo()</code> with the private method <code>foo()</code>, but it only replaces the calls in the original code, not in the inlined code.</p>\n<p>How do I convince Byte Buddy to generate code that calls <code>this.foo()</code>?</p>\n<p>Expected output:</p>\n<pre><code>foo: 10\ncalling original operate...\nfoo: 10\n</code></pre>\n<p>Actual output</p>\n<pre><code>stubFoo: 10\ncalling original operate...\nfoo: 10\n</code></pre>\n<p>_</p>\n<pre><code>public class TestBB2 {\n\n    public static void main(final String[] args) throws Exception {\n        final int a = 1;\n        final int b = 2;\n        final Aaa aaa2 = new Aaa() {\n\n            @Override\n            public int operate(final int a, final int b) {\n                final int res = super.operate(a, b);\n                return res + (a * b);\n            }\n        };\n        aaa2.number = 10;\n\n        ByteBuddyAgent.install();\n\n        testRedefine(a, b, aaa2);\n    }\n\n    private static void testRedefine(final int a, final int b, final Aaa aaa2)\n                                                                               throws NoSuchMethodException {\n\n        final Method mtdOperate = Aaa.class.getDeclaredMethod(&quot;operate&quot;, int.class, int.class);\n        final Method mtdFoo = Aaa.class.getDeclaredMethod(&quot;foo&quot;);\n        final Method mtdStubFoo = MyAdviceInterceptor.class.getDeclaredMethod(&quot;stubFoo&quot;, Aaa.class);\n\n        new ByteBuddy()\n            .redefine(Aaa.class)\n            .visit(\n                new AsmVisitorWrapper.ForDeclaredMethods()\n                    .method(ElementMatchers.anyOf(mtdOperate), Advice.to(MyAdviceInterceptor.class)\n                    //\n\n                    ))\n            //\n            .visit(\n                MemberSubstitution\n                    .strict()\n                    .method(ElementMatchers.anyOf(mtdStubFoo))\n                    .replaceWith(mtdFoo)\n                    .on(ElementMatchers.anyOf(mtdOperate)))\n            //\n            .make()\n            .load(Aaa.class.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\n\n        System.out.println(aaa2.operate(a, b));\n    }\n\n    public static class Aaa {\n\n        private int number;\n\n        public int operate(final int a, final int b) {\n            System.out.println(&quot;calling original operate...&quot;);\n            MyAdviceInterceptor.stubFoo(this);\n            return number + a + b;\n        }\n\n        @SuppressWarnings(&quot;unused&quot;)\n        private void foo() {\n            System.out.println(&quot;foo: &quot; + this.number);\n        }\n    }\n\n    private static class MyAdviceInterceptor {\n\n        static void stubFoo(final Aaa _this) {\n            System.out.println(&quot;stubFoo: &quot; + _this.number);\n        }\n\n        @Advice.OnMethodEnter\n        static void operate4(\n                @Advice.Argument(value = 0, readOnly = false) int a,\n                final int b,\n                @Advice.This final Aaa _this,\n                @Advice.Local(&quot;span&quot;) Object span1) {\n            span1 = &quot;abc&quot;;\n            System.out.println(&quot;redefined2 entering operate...: &quot; + a + &quot; &quot; + b);\n            a = 44;\n            stubFoo(_this);\n            // _this.foo();\n        }\n\n        @Advice.OnMethodExit\n        static void operate5(\n                @Advice.Return(readOnly = false) int value,\n                @Advice.Argument(value = 0, readOnly = false) final int a,\n                @Advice.Local(&quot;span&quot;) final Object span,\n                @Advice.FieldValue(value = &quot;number&quot;) final int number) {\n            System.out\n                .println(\n                    &quot;redefined2 exiting operate... &quot; + value + &quot; &quot; + a + &quot; &quot; + span + &quot; &quot; + number);\n            value = value + 1;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696433205,"post_id":77230893,"comment_id":136152946,"body_markdown":"Your debug window is empty because there&#39;s no code running in debug mode. Start your app first, then something will appear.","body":"Your debug window is empty because there&#39;s no code running in debug mode. Start your app first, then something will appear."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696433244,"post_id":77230893,"comment_id":136152961,"body_markdown":"... why does this question read like a forwarded email?","body":"... why does this question read like a forwarded email?"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1696433927,"post_id":77230893,"comment_id":136153126,"body_markdown":"@Jorn It looks like the question was generated by the AI Assistant.","body":"@Jorn It looks like the question was generated by the AI Assistant."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1696434031,"post_id":77230893,"comment_id":136153148,"body_markdown":"The screenshot shows you do not have any debug session active. Call stack appears once you start a debug configuration and it&#39;s stopped on the breakpoint. You have hints in the debug window how to do it. You can find more details here: https://www.jetbrains.com/help/idea/debugging-your-first-java-application.html. Does it help?","body":"The screenshot shows you do not have any debug session active. Call stack appears once you start a debug configuration and it&#39;s stopped on the breakpoint. You have hints in the debug window how to do it. You can find more details here: <a href=\"https://www.jetbrains.com/help/idea/debugging-your-first-java-application.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. Does it help?"},{"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"score":0,"creation_date":1696434498,"post_id":77230893,"comment_id":136153234,"body_markdown":"No, the debug already started, the code stopped in the breakpoint, I will attach the screenshot of the Service window.  Th text is corrected to avoid using AI help","body":"No, the debug already started, the code stopped in the breakpoint, I will attach the screenshot of the Service window.  Th text is corrected to avoid using AI help"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1696434656,"post_id":77230893,"comment_id":136153261,"body_markdown":"With the Services view, you can find it here: https://i.imgur.com/BpHqEor.png. If you don&#39;t see it, restore the default layout: https://i.imgur.com/Q9hOG7z.png.","body":"With the Services view, you can find it here: <a href=\"https://i.imgur.com/BpHqEor.png\" rel=\"nofollow noreferrer\">i.imgur.com/BpHqEor.png</a>. If you don&#39;t see it, restore the default layout: <a href=\"https://i.imgur.com/Q9hOG7z.png\" rel=\"nofollow noreferrer\">i.imgur.com/Q9hOG7z.png</a>."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696434878,"creation_date":1696434878,"answer_id":77231125,"question_id":77230893,"body_markdown":"You collapsed the **Threads** view. Drag here to expand it back or [restore the layout][1]:\r\n\r\n[![expand here][2]][2]\r\n\r\n\r\n  [1]: https://i.imgur.com/Q9hOG7z.png\r\n  [2]: https://i.stack.imgur.com/9Aj9C.png","title":"How to Locate Call Stack Window in IntelliJ IDEA 2023.2.2 (Ultimate Edition)","body":"<p>You collapsed the <strong>Threads</strong> view. Drag here to expand it back or <a href=\"https://i.imgur.com/Q9hOG7z.png\" rel=\"nofollow noreferrer\">restore the layout</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/9Aj9C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Aj9C.png\" alt=\"expand here\" /></a></p>\n"}],"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77231125,"answer_count":1,"score":0,"last_activity_date":1696434878,"creation_date":1696433049,"question_id":77230893,"body_markdown":"I&#39;m currently using IntelliJ IDEA 2023.2.2 (Ultimate Edition), and I&#39;m having trouble locating the Call Stack window. When I access the debug window, it appears to be empty. I&#39;ve attached a screenshot for reference.\r\nI am also attaching the screenshot with the Service window opened.  \r\n\r\nIn your responses, please avoid assuming that I can easily locate icons and instead provide instructions starting from the menu. If you still refer to icons, then a screenshot is appreciated.\r\n\r\nThank you for your assistance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![Service Window][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fSR1S.png\r\n  [2]: https://i.stack.imgur.com/Zloex.png","title":"How to Locate Call Stack Window in IntelliJ IDEA 2023.2.2 (Ultimate Edition)","body":"<p>I'm currently using IntelliJ IDEA 2023.2.2 (Ultimate Edition), and I'm having trouble locating the Call Stack window. When I access the debug window, it appears to be empty. I've attached a screenshot for reference.\nI am also attaching the screenshot with the Service window opened.</p>\n<p>In your responses, please avoid assuming that I can easily locate icons and instead provide instructions starting from the menu. If you still refer to icons, then a screenshot is appreciated.</p>\n<p>Thank you for your assistance.</p>\n<p><a href=\"https://i.stack.imgur.com/fSR1S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fSR1S.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Zloex.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zloex.png\" alt=\"Service Window\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":4882255,"reputation":371,"user_id":3935670,"accept_rate":20,"display_name":"tsingh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696434814,"creation_date":1696434491,"question_id":77231079,"body_markdown":"I have a to read and insert data in two CSV files. Each CSV represent a category of data. the data in CSV is not delta but a whole snapshot. Example on file is for temporary employees and other one is for permanent employees. if there is error in the temporary employe data CSV nothing in database should change.\r\nCurrently i have the step defined as below. The inserts inside the chuck size are transactional. Example if the chunk size is 50 and if there is error in the 50 row currently being processed all of them will be rolled back.\r\n\r\n\r\n  \r\n\r\n      @Bean\r\n        \tpublic Job dBatchJob(final JobCompletionNotificationListener listener, final Step dBatchStep)\r\n        \t{\r\n        \t\treturn jobBuilderFactory.get(BATCH_JOB_NAME).incrementer(new RunIdIncrementer())\r\n        \t\t\t\t.listener(listener).flow(dBatchStep).end().build();\r\n        \t}\r\n      \r\n    @Bean\r\n    \tpublic Step dBatchStep(final ClassifierCompositeItemWriter&lt;DPrice&gt; classifierCompositeItemWriter)\r\n    \t{\r\n        stepBuilderFactory.get(BATCH_STEP_NAME).\r\n            \t\t\t\t.&lt;DPrice, DPrice&gt; chunk(chunkSize).reader(multiResourceItemReader()).processor(processor())\r\n            \t\t\t\t.writer(classifierCompositeItemWriter)\r\n                  .listener(dSkipListener).listener(dRetryListener).listener(dStepListener).build();\r\n        }\r\n    \t\r\n\r\n How to make all the rows in CSV part of one transaction not just the ones part of chunk","title":"Spring boot insert whole file in a transaction","body":"<p>I have a to read and insert data in two CSV files. Each CSV represent a category of data. the data in CSV is not delta but a whole snapshot. Example on file is for temporary employees and other one is for permanent employees. if there is error in the temporary employe data CSV nothing in database should change.\nCurrently i have the step defined as below. The inserts inside the chuck size are transactional. Example if the chunk size is 50 and if there is error in the 50 row currently being processed all of them will be rolled back.</p>\n<pre><code>  @Bean\n        public Job dBatchJob(final JobCompletionNotificationListener listener, final Step dBatchStep)\n        {\n            return jobBuilderFactory.get(BATCH_JOB_NAME).incrementer(new RunIdIncrementer())\n                    .listener(listener).flow(dBatchStep).end().build();\n        }\n  \n@Bean\n    public Step dBatchStep(final ClassifierCompositeItemWriter&lt;DPrice&gt; classifierCompositeItemWriter)\n    {\n    stepBuilderFactory.get(BATCH_STEP_NAME).\n                        .&lt;DPrice, DPrice&gt; chunk(chunkSize).reader(multiResourceItemReader()).processor(processor())\n                        .writer(classifierCompositeItemWriter)\n              .listener(dSkipListener).listener(dRetryListener).listener(dStepListener).build();\n    }\n    \n</code></pre>\n<p>How to make all the rows in CSV part of one transaction not just the ones part of chunk</p>\n"},{"tags":["java","file","stream","filereader","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":3,"up_vote_count":74,"is_accepted":true,"score":71,"last_activity_date":1540693598,"creation_date":1258441057,"answer_id":1747061,"question_id":1747040,"body_markdown":"The API reference for [BufferedWriter][1] and [PrintWriter][2] detail the differences.\r\n\r\nThe main reason to use the PrintWriter is to get access to the printXXX methods like println().  You can essentially use a PrintWriter to write to a file just like you would use System.out to write to the console.\r\n\r\nA BufferedWriter is an efficient way to write to a file (or anything else), as it will buffer the characters in Java memory before (probably, depending on the implementation) dropping to C to do the writing to the file.\r\n\r\nThere is no such concept as a &quot;PrintReader&quot;; the closest you will get is probably [java.util.Scanner][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/BufferedWriter.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintWriter.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>The API reference for <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/BufferedWriter.html\" rel=\"noreferrer\">BufferedWriter</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintWriter.html\" rel=\"noreferrer\">PrintWriter</a> detail the differences.</p>\n\n<p>The main reason to use the PrintWriter is to get access to the printXXX methods like println().  You can essentially use a PrintWriter to write to a file just like you would use System.out to write to the console.</p>\n\n<p>A BufferedWriter is an efficient way to write to a file (or anything else), as it will buffer the characters in Java memory before (probably, depending on the implementation) dropping to C to do the writing to the file.</p>\n\n<p>There is no such concept as a \"PrintReader\"; the closest you will get is probably <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html\" rel=\"noreferrer\">java.util.Scanner</a>.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438159,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1427163432,"creation_date":1258441446,"answer_id":1747092,"question_id":1747040,"body_markdown":"`PrintWriter` gives more methods (`println`), but the most important (and worrying) difference to be aware of is that **it swallows exceptions**.\r\n\r\nYou can call `checkError` later on to see whether any errors have occurred, but typically you&#39;d use `PrintWriter` for things like writing to the console - or in &quot;quick &#39;n dirty&quot; apps where you don&#39;t want to be bothered by exceptions (and where long-term reliability isn&#39;t an issue).\r\n\r\nI&#39;m not sure why the &quot;extra formatting abilities&quot; and &quot;don&#39;t swallow exceptions&quot; aspects are bundled into the same class - formatting is obviously useful in many places where you *don&#39;t* want exceptions to be swallowed. It would be nice to see `BufferedWriter` get the same abilities at some point...","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p><code>PrintWriter</code> gives more methods (<code>println</code>), but the most important (and worrying) difference to be aware of is that <strong>it swallows exceptions</strong>.</p>\n\n<p>You can call <code>checkError</code> later on to see whether any errors have occurred, but typically you'd use <code>PrintWriter</code> for things like writing to the console - or in \"quick 'n dirty\" apps where you don't want to be bothered by exceptions (and where long-term reliability isn't an issue).</p>\n\n<p>I'm not sure why the \"extra formatting abilities\" and \"don't swallow exceptions\" aspects are bundled into the same class - formatting is obviously useful in many places where you <em>don't</em> want exceptions to be swallowed. It would be nice to see <code>BufferedWriter</code> get the same abilities at some point...</p>\n"},{"tags":[],"owner":{"account_id":21808,"reputation":10725,"user_id":2660952,"accept_rate":76,"display_name":"Kai Huppmann"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1258441652,"creation_date":1258441652,"answer_id":1747103,"question_id":1747040,"body_markdown":"As said in TofuBeer&#39;s answer both have their specialties. To take the full advantage of PrintWriter (or any other writer) but also use buffered writing you can wrap the BufferedWriter with the needed one like this:\r\n \r\n\r\n    PrintWriter writer = new PrintWriter(\r\n                             new BufferedWriter (\r\n                                 new FileWriter(&quot;somFile.txt&quot;)));","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>As said in TofuBeer's answer both have their specialties. To take the full advantage of PrintWriter (or any other writer) but also use buffered writing you can wrap the BufferedWriter with the needed one like this:</p>\n\n<pre><code>PrintWriter writer = new PrintWriter(\n                         new BufferedWriter (\n                             new FileWriter(\"somFile.txt\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":879182,"reputation":393,"user_id":206690,"display_name":"Lioda"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1258442135,"creation_date":1258442135,"answer_id":1747128,"question_id":1747040,"body_markdown":"PrintWriter just exposes the print methods on any Writer in character mode.\r\n\r\nBufferedWriter is more efficient than , according to its buffered methods.\r\nAnd it comes with a newLine() method, depending of your system platform, to manipulate text files correctly.\r\n\r\n\r\nThe BufferedReader permits to read a text from file, with bytes converted in characters. It allows to read line by line.\r\n\r\nThere is no PrintReader, you have to choose another Reader implementation according to the format of your input.","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>PrintWriter just exposes the print methods on any Writer in character mode.</p>\n\n<p>BufferedWriter is more efficient than , according to its buffered methods.\nAnd it comes with a newLine() method, depending of your system platform, to manipulate text files correctly.</p>\n\n<p>The BufferedReader permits to read a text from file, with bytes converted in characters. It allows to read line by line.</p>\n\n<p>There is no PrintReader, you have to choose another Reader implementation according to the format of your input.</p>\n"},{"tags":[],"owner":{"account_id":2809869,"reputation":892,"user_id":3180409,"accept_rate":50,"display_name":"AjayLohani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390202757,"creation_date":1390201272,"answer_id":21227967,"question_id":1747040,"body_markdown":"I think that the reason behind using PrintWriter is already mentioned above but one of the important reason is you an pass a file object directly to the PrintWriter constructor which makes it easy to use it.\r\n\r\n    File file=new File(“newfile.txt”);\r\n    PrintWriter pw=new PrintWriter(file);","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>I think that the reason behind using PrintWriter is already mentioned above but one of the important reason is you an pass a file object directly to the PrintWriter constructor which makes it easy to use it.</p>\n\n<pre><code>File file=new File(“newfile.txt”);\nPrintWriter pw=new PrintWriter(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4394923,"reputation":550,"user_id":3582295,"display_name":"Rohit Goyal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402655006,"creation_date":1402655006,"answer_id":24203131,"question_id":1747040,"body_markdown":"In general, a Writer sends its output immediately to the underlying character or byte stream. Unless prompt output is required, it is advisable to wrap a BufferedWriter around any Writer whose write() operations may be costly, such as FileWriters and OutputStreamWriters. For example,\r\n\r\nNote: Text content in the code blocks is automatically word-wrapped\r\n\r\n` PrintWriter out =\r\n         new PrintWriter(new BufferedWriter(new FileWriter(&quot;foo.out&quot;)));  `\r\n\r\nwill buffer the PrintWriter&#39;s output to the file. Without buffering, each invocation of a print() method would cause characters to be converted into bytes that would then be written immediately to the file, which can be very inefficient. ","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>In general, a Writer sends its output immediately to the underlying character or byte stream. Unless prompt output is required, it is advisable to wrap a BufferedWriter around any Writer whose write() operations may be costly, such as FileWriters and OutputStreamWriters. For example,</p>\n\n<p>Note: Text content in the code blocks is automatically word-wrapped</p>\n\n<p><code>PrintWriter out =\n         new PrintWriter(new BufferedWriter(new FileWriter(\"foo.out\")));</code></p>\n\n<p>will buffer the PrintWriter's output to the file. Without buffering, each invocation of a print() method would cause characters to be converted into bytes that would then be written immediately to the file, which can be very inefficient. </p>\n"},{"tags":[],"owner":{"account_id":8877089,"reputation":1,"user_id":6628839,"display_name":"Vidyut Singhai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494850940,"creation_date":1494850940,"answer_id":43979444,"question_id":1747040,"body_markdown":"BufferedWriter - Writes text to an output character stream, buffering characters from a character stream.\r\nPrintWriter - Prints formatted representations of objects to a text output stream.  ","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>BufferedWriter - Writes text to an output character stream, buffering characters from a character stream.\nPrintWriter - Prints formatted representations of objects to a text output stream.  </p>\n"},{"tags":[],"owner":{"account_id":8156898,"reputation":41,"user_id":6142175,"display_name":"Syed Maqsood"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537479180,"creation_date":1537479180,"answer_id":52433624,"question_id":1747040,"body_markdown":"**PrintWriter** is the most enhanced Writer to write Character data to a file.\r\n \r\nThe main advantage of PrintWriter over FileWriter and BufferedWriter is:\r\n\r\n1. PrintWriter can communicate directly with the file, and can communicate via some Writer object also.\r\n\r\n`PrintWriter printwriter = new PrintWriter(&quot;blah.txt&quot;);`\r\n \r\n(or)\r\n\r\n    FileWriter filewriter = new FileWriter(&quot;blah.txt&quot;);\r\n    PrintWriter printwiter = new PrintWriter(filewriter);\r\n\r\n\r\n\r\n2. We can write any type of Primitive data directly to the file (because we have additional overloaded versions of PrintWriter methods i.e., print() and println()).\r\n\r\n    `printwriter.print(65); //65`    \r\n    `bufferedwriter.write(65); //A`    \r\n    `printwriter.println(true); //true`\r\n\r\n\r\n","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p><strong>PrintWriter</strong> is the most enhanced Writer to write Character data to a file.</p>\n\n<p>The main advantage of PrintWriter over FileWriter and BufferedWriter is:</p>\n\n<ol>\n<li>PrintWriter can communicate directly with the file, and can communicate via some Writer object also.</li>\n</ol>\n\n<p><code>PrintWriter printwriter = new PrintWriter(\"blah.txt\");</code></p>\n\n<p>(or)</p>\n\n<pre><code>FileWriter filewriter = new FileWriter(\"blah.txt\");\nPrintWriter printwiter = new PrintWriter(filewriter);\n</code></pre>\n\n<ol start=\"2\">\n<li><p>We can write any type of Primitive data directly to the file (because we have additional overloaded versions of PrintWriter methods i.e., print() and println()).</p>\n\n<p><code>printwriter.print(65); //65</code><br>\n<code>bufferedwriter.write(65); //A</code><br>\n<code>printwriter.println(true); //true</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29597949,"reputation":1,"user_id":22684074,"display_name":"Indal Gir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696434713,"creation_date":1696434516,"answer_id":77231082,"question_id":1747040,"body_markdown":"FileWriter and BufferedWriter need an new line separator for each line, just imagine having to write 100 lines whereas PrintWriter has the println() method that does that. Most importantly, FileWriter and BufferedWriter can write char and String data types ONLY whereas PrintWriter can also write int, double, and boolean data types","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>FileWriter and BufferedWriter need an new line separator for each line, just imagine having to write 100 lines whereas PrintWriter has the println() method that does that. Most importantly, FileWriter and BufferedWriter can write char and String data types ONLY whereas PrintWriter can also write int, double, and boolean data types</p>\n"}],"owner":{"account_id":55779,"reputation":16052,"user_id":167114,"accept_rate":85,"display_name":"i2ijeya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97136,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":1747061,"answer_count":9,"score":107,"last_activity_date":1696434713,"creation_date":1258440751,"question_id":1747040,"body_markdown":"Please look through code below: \r\n\r\n    // A.class\r\n    File file = new File(&quot;blah.txt&quot;);\r\n    FileWriter fileWriter = new FileWriter(file);\r\n    PrintWriter printWriter = new PrintWriter(fileWriter);\r\n\r\n    // B.class\r\n    File file = new File(&quot;blah.txt&quot;);\r\n    FileWriter fileWriter = new FileWriter(file);\r\n    BufferedWriter bWriter = new BufferedWriter(fileWriter);\r\n\r\nWhat is the difference between these two methods?\r\n\r\nWhen should we use PrintWriter over BufferedWriter?","title":"Difference between java.io.PrintWriter and java.io.BufferedWriter?","body":"<p>Please look through code below: </p>\n\n<pre><code>// A.class\nFile file = new File(\"blah.txt\");\nFileWriter fileWriter = new FileWriter(file);\nPrintWriter printWriter = new PrintWriter(fileWriter);\n\n// B.class\nFile file = new File(\"blah.txt\");\nFileWriter fileWriter = new FileWriter(file);\nBufferedWriter bWriter = new BufferedWriter(fileWriter);\n</code></pre>\n\n<p>What is the difference between these two methods?</p>\n\n<p>When should we use PrintWriter over BufferedWriter?</p>\n"},{"tags":["java","json","jsonpath"],"owner":{"account_id":1214811,"reputation":142,"user_id":1182625,"display_name":"user1182625"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696434687,"creation_date":1696434370,"question_id":77231060,"body_markdown":"I have an issue. When JSONPATH v 2.8.0 created an expression from parameter expression I lost a dot.\r\n\r\nExample of JSON:\r\n\r\n    {\r\n        &quot;el1&quot;: [\r\n\t\t{&quot;attr&quot;: &quot;value1&quot;},\r\n\t\t{&quot;attr&quot;: &quot;value2&quot;}\r\n        ],\r\n        &quot;el2&quot;: false\r\n    }\r\n\r\nMy code:\r\n\r\n    JsonPath.read(JSON, &quot;$..el1.attr&quot;));\r\n\r\nBut somehow jsonpath turn it into:\r\n\r\n\r\n     $..[&#39;el1&#39;][&#39;attr&#39;]\r\n\r\nAnd it should be:\r\n\r\n\r\n    $..[&#39;el1&#39;].[&#39;attr&#39;]\r\n\r\nBut I don&#39;t know why it isn&#39;t.\r\n","title":"Java jsonpath lost dot in the expression","body":"<p>I have an issue. When JSONPATH v 2.8.0 created an expression from parameter expression I lost a dot.</p>\n<p>Example of JSON:</p>\n<pre><code>{\n    &quot;el1&quot;: [\n    {&quot;attr&quot;: &quot;value1&quot;},\n    {&quot;attr&quot;: &quot;value2&quot;}\n    ],\n    &quot;el2&quot;: false\n}\n</code></pre>\n<p>My code:</p>\n<pre><code>JsonPath.read(JSON, &quot;$..el1.attr&quot;));\n</code></pre>\n<p>But somehow jsonpath turn it into:</p>\n<pre><code> $..['el1']['attr']\n</code></pre>\n<p>And it should be:</p>\n<pre><code>$..['el1'].['attr']\n</code></pre>\n<p>But I don't know why it isn't.</p>\n"},{"tags":["java","maven","input","binary","byte"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1696418410,"post_id":77229034,"comment_id":136149649,"body_markdown":"You have some fundamental problems of understanding (probably). Firstly, you need to state what *and how* you do your input. Bear in mind that 49 and 48 are the decimal ASCII values of 1 and 0. Each of your two binary strings takes *8 bytes* and *NOT bits*","body":"You have some fundamental problems of understanding (probably). Firstly, you need to state what <i>and how</i> you do your input. Bear in mind that 49 and 48 are the decimal ASCII values of 1 and 0. Each of your two binary strings takes <i>8 bytes</i> and <i>NOT bits</i>"},{"owner":{"account_id":16609816,"reputation":517,"user_id":12003189,"display_name":"NoamiA"},"score":0,"creation_date":1696420726,"post_id":77229034,"comment_id":136150116,"body_markdown":"so how can I read input as bits","body":"so how can I read input as bits"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696421183,"post_id":77229034,"comment_id":136150199,"body_markdown":"Well you didn&#39;t answer my question, so I can&#39;t advise","body":"Well you didn&#39;t answer my question, so I can&#39;t advise"},{"owner":{"account_id":16609816,"reputation":517,"user_id":12003189,"display_name":"NoamiA"},"score":0,"creation_date":1696421260,"post_id":77229034,"comment_id":136150214,"body_markdown":"i am getting this from file with a binary data","body":"i am getting this from file with a binary data"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1696421507,"post_id":77229034,"comment_id":136150270,"body_markdown":"You mean a text file with ones and zeros? If so, how is it formatted","body":"You mean a text file with ones and zeros? If so, how is it formatted"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696432006,"post_id":77229034,"comment_id":136152690,"body_markdown":"“I am getting this input 10010011 00000001” —Is that the output you are currently getting, or is that the output you want to get?","body":"“I am getting this input 10010011 00000001” —Is that the output you are currently getting, or is that the output you want to get?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696433678,"post_id":77229034,"comment_id":136153068,"body_markdown":"@VGR, afaics what is going on is the equivalent of `echo  &#39;10010011 00000001&#39; | java Main`. A file could be involved in providing that input","body":"@VGR, afaics what is going on is the equivalent of <code>echo  &#39;10010011 00000001&#39; | java Main</code>. A file could be involved in providing that input"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696434233,"post_id":77229034,"comment_id":136153183,"body_markdown":"@g00se Ah, I see now. Noami wants to convert each sequence of eight ASCII binary digits to a byte value.","body":"@g00se Ah, I see now. Noami wants to convert each sequence of eight ASCII binary digits to a byte value."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696434541,"creation_date":1696434541,"answer_id":77231085,"question_id":77229034,"body_markdown":"You probably need something like this, based on your *i am getting this from file with a binary data*\r\n```\r\n    public static byte[] parseBitsFile(String path) throws IOException {\r\n        String s = Files.readString(Path.of(path)).replaceAll(&quot;[^01]&quot;, &quot;&quot;);\r\n        byte[] result = new byte[s.length() / 8];\r\n        StringReader sr = new StringReader(s);\r\n        char[] byteVal = new char[8];\r\n        int ix = 0;\r\n        while(sr.read(byteVal) &gt; -1) {\r\n            result[ix++] = (byte)Integer.parseInt(String.valueOf(byteVal), 2);\r\n        }\r\n        return result;\r\n    }\r\n```\r\nThe above assumes reading the whole file into memory is not a problem","title":"java read binary input as 49,48","body":"<p>You probably need something like this, based on your <em>i am getting this from file with a binary data</em></p>\n<pre><code>    public static byte[] parseBitsFile(String path) throws IOException {\n        String s = Files.readString(Path.of(path)).replaceAll(&quot;[^01]&quot;, &quot;&quot;);\n        byte[] result = new byte[s.length() / 8];\n        StringReader sr = new StringReader(s);\n        char[] byteVal = new char[8];\n        int ix = 0;\n        while(sr.read(byteVal) &gt; -1) {\n            result[ix++] = (byte)Integer.parseInt(String.valueOf(byteVal), 2);\n        }\n        return result;\n    }\n</code></pre>\n<p>The above assumes reading the whole file into memory is not a problem</p>\n"}],"owner":{"account_id":16609816,"reputation":517,"user_id":12003189,"display_name":"NoamiA"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696434541,"creation_date":1696417578,"question_id":77229034,"body_markdown":"I am getting this input 10010011 00000001\r\nwith:\r\n\r\n    byte[] binaryInput = new byte[1024];\r\n    int bytesReadinput = System.in.read(binaryInput);\r\n    \r\n    // Create a ByteArrayInputStream object for the binary input.\r\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(binaryInput, 0, bytesReadinput);\r\n\r\nwhy java get the input as 49,48,48,49,48,48,49,49,32,48,48,48,48,48,48,48,49\r\n\r\nand how can I change it to the actual binary value? 0x93 0x01 ?","title":"java read binary input as 49,48","body":"<p>I am getting this input 10010011 00000001\nwith:</p>\n<pre><code>byte[] binaryInput = new byte[1024];\nint bytesReadinput = System.in.read(binaryInput);\n\n// Create a ByteArrayInputStream object for the binary input.\nByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(binaryInput, 0, bytesReadinput);\n</code></pre>\n<p>why java get the input as 49,48,48,49,48,48,49,49,32,48,48,48,48,48,48,48,49</p>\n<p>and how can I change it to the actual binary value? 0x93 0x01 ?</p>\n"},{"tags":["java","spring","soap","cxf","ws-addressing"],"owner":{"account_id":10076139,"reputation":11,"user_id":7448201,"display_name":"A. Gurey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696434447,"creation_date":1696434447,"question_id":77231068,"body_markdown":"How can I change this soap request:\r\n\r\n```\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Header&gt;\r\n        &lt;Action xmlns=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;http://example.com/schemas/sumServiceInterface1.0&lt;/Action&gt;\r\n        &lt;MessageID xmlns=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;urn:uuid:1ae430f4-98e2-4fbd-b037-166b389eba35&lt;/MessageID&gt;\r\n    &lt;/soap:Header&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;ns2:sum xmlns:ns2=&quot;http://example.com/schemas/sumServiceInterface1.0&quot;&gt;\r\n            &lt;firstNum&gt;5&lt;/firstNum&gt;\r\n            &lt;secondNum&gt;3&lt;/secondNum&gt;\r\n        &lt;/ns2:sum&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\nto\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n   xmlns:ns2=&quot;http://example.com/schemas/sumServiceInterface1.0&quot;&gt;\r\n   &lt;soapenv:Header xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n      &lt;wsa:Action&gt;http://example.com/schemas/sumServiceInterface1.0/sum&lt;/wsa:Action&gt;\r\n      &lt;wsa:MessageID&gt;uuid:6291605f-3892-4e26-8868-4bc13b90211d&lt;/wsa:MessageID&gt;\r\n   &lt;/soapenv:Header&gt;\r\n   &lt;soapenv:Body&gt;\r\n      &lt;ns2:sum&gt;\r\n         &lt;firstNum&gt;5&lt;/firstNum&gt;\r\n         &lt;secondNum&gt;3&lt;/secondNum&gt;\r\n      &lt;/ns2:sum&gt;\r\n   &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\nthe soap client is written in Spring + Apache CXF\r\nIn the first request, target namespace **&quot;http://example.com/schemas/sumServiceInterface1.0&quot;** is in the Body tag while in the second request, it is in the Envelope tag.\r\nAslo in the first request, the namespace of WS-Addressing **&quot;http://www.w3.org/2005/08/addressing&quot;** is in both Action and MessageID tags while it is in the Header tag in the second request\r\n","title":"How to control the position of namespaces in java soap request","body":"<p>How can I change this soap request:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Header&gt;\n        &lt;Action xmlns=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;http://example.com/schemas/sumServiceInterface1.0&lt;/Action&gt;\n        &lt;MessageID xmlns=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;urn:uuid:1ae430f4-98e2-4fbd-b037-166b389eba35&lt;/MessageID&gt;\n    &lt;/soap:Header&gt;\n    &lt;soap:Body&gt;\n        &lt;ns2:sum xmlns:ns2=&quot;http://example.com/schemas/sumServiceInterface1.0&quot;&gt;\n            &lt;firstNum&gt;5&lt;/firstNum&gt;\n            &lt;secondNum&gt;3&lt;/secondNum&gt;\n        &lt;/ns2:sum&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n   xmlns:ns2=&quot;http://example.com/schemas/sumServiceInterface1.0&quot;&gt;\n   &lt;soapenv:Header xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n      &lt;wsa:Action&gt;http://example.com/schemas/sumServiceInterface1.0/sum&lt;/wsa:Action&gt;\n      &lt;wsa:MessageID&gt;uuid:6291605f-3892-4e26-8868-4bc13b90211d&lt;/wsa:MessageID&gt;\n   &lt;/soapenv:Header&gt;\n   &lt;soapenv:Body&gt;\n      &lt;ns2:sum&gt;\n         &lt;firstNum&gt;5&lt;/firstNum&gt;\n         &lt;secondNum&gt;3&lt;/secondNum&gt;\n      &lt;/ns2:sum&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>the soap client is written in Spring + Apache CXF\nIn the first request, target namespace <strong>&quot;http://example.com/schemas/sumServiceInterface1.0&quot;</strong> is in the Body tag while in the second request, it is in the Envelope tag.\nAslo in the first request, the namespace of WS-Addressing <strong>&quot;http://www.w3.org/2005/08/addressing&quot;</strong> is in both Action and MessageID tags while it is in the Header tag in the second request</p>\n"},{"tags":["java","html","mysql","fusioncharts"],"comments":[{"owner":{"account_id":8038080,"reputation":751,"user_id":6060606,"display_name":"Chris Satchell"},"score":0,"creation_date":1579356925,"post_id":59801285,"comment_id":105743381,"body_markdown":"Could you provide a few more details, like the table structure, what the schema should look like, any code you&#39;ve written, etc.?","body":"Could you provide a few more details, like the table structure, what the schema should look like, any code you&#39;ve written, etc.?"},{"owner":{"account_id":3664961,"reputation":661,"user_id":3053677,"display_name":"Dip686"},"score":0,"creation_date":1579356984,"post_id":59801285,"comment_id":105743395,"body_markdown":"FusionTime takes data in an Array of array format. No matter what your database is, you need to generate the data in an array of array format. Mostly all the UI libraries follows the same standard. Write a script that can generate your sql data to the expected format in a file.","body":"FusionTime takes data in an Array of array format. No matter what your database is, you need to generate the data in an array of array format. Mostly all the UI libraries follows the same standard. Write a script that can generate your sql data to the expected format in a file."},{"owner":{"account_id":8754244,"reputation":41,"user_id":12737539,"display_name":"CJU"},"score":0,"creation_date":1579357047,"post_id":59801285,"comment_id":105743413,"body_markdown":"Thanks for your reply Chris. Here is a link to the tutorial to create a time-series using the data and schema: https://www.fusioncharts.com/dev/fusiontime/getting-started/create-your-first-chart-in-fusiontime. My issue is to get the SQL data from my table into this format. It has 420 rows and around 100 columns. I just want to select two columns however.","body":"Thanks for your reply Chris. Here is a link to the tutorial to create a time-series using the data and schema: <a href=\"https://www.fusioncharts.com/dev/fusiontime/getting-started/create-your-first-chart-in-fusiontime\" rel=\"nofollow noreferrer\">fusioncharts.com/dev/fusiontime/getting-started/&hellip;</a>. My issue is to get the SQL data from my table into this format. It has 420 rows and around 100 columns. I just want to select two columns however."},{"owner":{"account_id":8754244,"reputation":41,"user_id":12737539,"display_name":"CJU"},"score":0,"creation_date":1579357164,"post_id":59801285,"comment_id":105743452,"body_markdown":"Thank you Dip686. I will try and research how to do this","body":"Thank you Dip686. I will try and research how to do this"},{"owner":{"account_id":10012407,"reputation":855,"user_id":7404858,"display_name":"Zapdos13"},"score":0,"creation_date":1579582100,"post_id":59801285,"comment_id":105804185,"body_markdown":"@CJU Which server-side technology are you using? is it java?","body":"@CJU Which server-side technology are you using? is it java?"}],"answers":[{"tags":[],"owner":{"account_id":18759249,"reputation":1,"user_id":13678557,"display_name":"Daniel Francisco de la Cruz Mo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594185435,"creation_date":1594158467,"answer_id":62784419,"question_id":59801285,"body_markdown":"ft needs a json, you must write a file from php type json\r\n\r\nlike this\r\n.....\r\n\r\n     $result = json_encode($dataIngGast, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE |JSON_NUMERIC_CHECK | JSON_PRETTY_PRINT);\r\n             //echo $result;\r\n             \r\n             $arquivo = &quot;column-line-combination-data-gasto-ingreso-finanzas.json&quot;;\r\n             $fp = fopen($arquivo, &quot;a+&quot;);\r\n             fwrite($fp, $result);\r\n             \r\n    fclose($fp);\r\n\r\n","title":"Fusion Charts FusionTime making a time-series chart from mySQL","body":"<p>ft needs a json, you must write a file from php type json</p>\n<p>like this\n.....</p>\n<pre><code> $result = json_encode($dataIngGast, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE |JSON_NUMERIC_CHECK | JSON_PRETTY_PRINT);\n         //echo $result;\n         \n         $arquivo = &quot;column-line-combination-data-gasto-ingreso-finanzas.json&quot;;\n         $fp = fopen($arquivo, &quot;a+&quot;);\n         fwrite($fp, $result);\n         \nfclose($fp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25547265,"reputation":142,"user_id":19332369,"display_name":"Aman Saraswat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696434109,"creation_date":1696434109,"answer_id":77231025,"question_id":59801285,"body_markdown":"You can refer the document to implement the case it would help you out-\r\n\r\n 1. Establish the connection with MySQL Database using the hostname, username, password and database name.\r\n 2. Execute the query to get the list of players from DB and store them in a variable.\r\n 3. Iterate over the result set to build an array of maps where each map consists of two keys namely: label and value. \r\n\r\nhttps://www.fusioncharts.com/dev/using-with-server-side-languages/tutorials/php-mysql-charts\r\n\r\n    &lt;?php\r\n        //address of the server where db is installed\r\n        $servername = &quot;localhost&quot;;\r\n        //username to connect to the db\r\n        //the default value is root\r\n        $username = &quot;root&quot;;\r\n        //password to connect to the db\r\n        //this is the value you specified during installation of WAMP stack\r\n        $password = &quot;password&quot;;\r\n        //name of the db under which the table is created\r\n        $dbName = &quot;test&quot;;\r\n        //establishing the connection to the db.\r\n        $conn = new mysqli($servername, $username, $password, $dbName);\r\n        //checking if there were any error during the last connection attempt\r\n        if ($conn-&gt;connect_error) {\r\n          die(&quot;Connection failed: &quot; . $conn-&gt;connect_error);\r\n        }\r\n    ?&gt;\r\n\r\nAlso refer this - https://www.fusioncharts.com/blog/javascript-charts-using-php-and-mysql-with-fusioncharts-xt-part-2/\r\n","title":"Fusion Charts FusionTime making a time-series chart from mySQL","body":"<p>You can refer the document to implement the case it would help you out-</p>\n<ol>\n<li>Establish the connection with MySQL Database using the hostname, username, password and database name.</li>\n<li>Execute the query to get the list of players from DB and store them in a variable.</li>\n<li>Iterate over the result set to build an array of maps where each map consists of two keys namely: label and value.</li>\n</ol>\n<p><a href=\"https://www.fusioncharts.com/dev/using-with-server-side-languages/tutorials/php-mysql-charts\" rel=\"nofollow noreferrer\">https://www.fusioncharts.com/dev/using-with-server-side-languages/tutorials/php-mysql-charts</a></p>\n<pre><code>&lt;?php\n    //address of the server where db is installed\n    $servername = &quot;localhost&quot;;\n    //username to connect to the db\n    //the default value is root\n    $username = &quot;root&quot;;\n    //password to connect to the db\n    //this is the value you specified during installation of WAMP stack\n    $password = &quot;password&quot;;\n    //name of the db under which the table is created\n    $dbName = &quot;test&quot;;\n    //establishing the connection to the db.\n    $conn = new mysqli($servername, $username, $password, $dbName);\n    //checking if there were any error during the last connection attempt\n    if ($conn-&gt;connect_error) {\n      die(&quot;Connection failed: &quot; . $conn-&gt;connect_error);\n    }\n?&gt;\n</code></pre>\n<p>Also refer this - <a href=\"https://www.fusioncharts.com/blog/javascript-charts-using-php-and-mysql-with-fusioncharts-xt-part-2/\" rel=\"nofollow noreferrer\">https://www.fusioncharts.com/blog/javascript-charts-using-php-and-mysql-with-fusioncharts-xt-part-2/</a></p>\n"}],"owner":{"account_id":8754244,"reputation":41,"user_id":12737539,"display_name":"CJU"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696434109,"creation_date":1579355809,"question_id":59801285,"body_markdown":"I am a beginner at all things coding but need some help with Fusion Charts if anyone can help. \r\n\r\nI have followed along with tutorials already for Fusion Charts linking it to MySQL database and displaying a chart with no issues. \r\n\r\nHowever, I would like to display a time-series chart, which uses FusionTime. This requires the data to be in a Datatable. &quot; FusionTime accepts data in rows and columns as a Datatable&quot;.\r\n\r\nI cannot find any examples online for taking SQL data and converting into a datatable with data and schema which it seems to require. This is different from the way fusioncharts works. \r\n\r\nhttps://www.fusioncharts.com/dev/fusiontime/getting-started/create-your-first-chart-in-fusiontime\r\n\r\nMy SQL database contains many tables and many columns within it, so will need to select the appropriate column to display. \r\n\r\nI would appreciate any advice anyone can provide. The main problem is I don&#39;t know how to get the SQL database into a data and schema file to display with fusiontime. This is to display on a webpage hosted locally.\r\n\r\nMany thanks for any time you can provide to help with this","title":"Fusion Charts FusionTime making a time-series chart from mySQL","body":"<p>I am a beginner at all things coding but need some help with Fusion Charts if anyone can help. </p>\n\n<p>I have followed along with tutorials already for Fusion Charts linking it to MySQL database and displaying a chart with no issues. </p>\n\n<p>However, I would like to display a time-series chart, which uses FusionTime. This requires the data to be in a Datatable. \" FusionTime accepts data in rows and columns as a Datatable\".</p>\n\n<p>I cannot find any examples online for taking SQL data and converting into a datatable with data and schema which it seems to require. This is different from the way fusioncharts works. </p>\n\n<p><a href=\"https://www.fusioncharts.com/dev/fusiontime/getting-started/create-your-first-chart-in-fusiontime\" rel=\"nofollow noreferrer\">https://www.fusioncharts.com/dev/fusiontime/getting-started/create-your-first-chart-in-fusiontime</a></p>\n\n<p>My SQL database contains many tables and many columns within it, so will need to select the appropriate column to display. </p>\n\n<p>I would appreciate any advice anyone can provide. The main problem is I don't know how to get the SQL database into a data and schema file to display with fusiontime. This is to display on a webpage hosted locally.</p>\n\n<p>Many thanks for any time you can provide to help with this</p>\n"},{"tags":["java","command-line-interface","command-line-arguments","apache-commons-cli","picocli"],"answers":[{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1594329944,"creation_date":1594329147,"answer_id":62823795,"question_id":62799744,"body_markdown":"I think that it is time to forget [Apache Commons CLI][1] and mark it as a deprecated library. Okay, if you have only a few command-line arguments then you can use it, otherwise better not to use. Fact that this Apache project was updated recently (17 February 2019), but still many features are missing from it and a little bit painful to work with Apache Commons CLI library.\r\n\r\nThe [picocli][2] project looks like a better candidate for parsing command line parameters. It is a quite intuitive library, easy to use, and has a nice and comprehensive [documentation][3] as well. I think that a middle rated tool with perfect documentation is better than a shiny project without any documentation. \r\n\r\nAnyway `picocli` is a very nice library with perfect documentation, so I give double plus-plus to it :)\r\n\r\n**This is how I covered my use cases with `picocli`:**\r\n\r\n    import picocli.CommandLine;\r\n    import picocli.CommandLine.ArgGroup;\r\n    import picocli.CommandLine.Command;\r\n    import picocli.CommandLine.Option;\r\n    import picocli.CommandLine.Parameters;\r\n    \r\n    @Command(name = &quot;SqlRunner&quot;,\r\n            sortOptions = false,\r\n            usageHelpWidth = 100,\r\n            description = &quot;SQL command line tool. It executes the given SQL and show the result on the standard output.\\n&quot;,\r\n            parameterListHeading = &quot;General options:\\n&quot;,\r\n            footerHeading = &quot;\\nPlease report issues at arnold.somogyi@gmail.com.&quot;,\r\n            footer = &quot;\\nDocumentation, source code: https://github.com/zappee/sql-runner.git&quot;)\r\n    public class SqlRunner implements Runnable {\r\n    \r\n        /**\r\n         * Definition of the general command line options.\r\n         */\r\n        @Option(names = {&quot;-?&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this help and exit.&quot;)\r\n        private boolean help;\r\n    \r\n        @Option(names = {&quot;-d&quot;, &quot;--dialect&quot;}, defaultValue = &quot;oracle&quot;, showDefaultValue = CommandLine.Help.Visibility.ALWAYS, description = &quot;Supported SQL dialects: oracle.&quot;)\r\n        private static String dialect;\r\n    \r\n        @ArgGroup(exclusive = true, multiplicity = &quot;1&quot;, heading = &quot;\\nProvide a JDBC URL:\\n&quot;)\r\n        MainArgGroup mainArgGroup;\r\n    \r\n        /**\r\n         * Two exclusive parameter groups:\r\n         *    (1) JDBC URL parameter\r\n         *    (2) Custom connection parameters\r\n         */\r\n        static class MainArgGroup {\r\n            /**\r\n             * JDBC URL option (only one parameter).\r\n             */\r\n            @Option(names = {&quot;-j&quot;, &quot;--jdbcUrl&quot;}, arity = &quot;1&quot;, description = &quot;JDBC URL, example: jdbc:oracle:&lt;drivertype&gt;:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;.&quot;)\r\n            private static String jdbcUrl;\r\n    \r\n            /**\r\n             * Custom connection parameter group.\r\n             */\r\n            @ArgGroup(exclusive = false, multiplicity = &quot;1&quot;, heading = &quot;\\nCustom configuration:\\n&quot;)\r\n            CustomConfigurationGroup customConfigurationGroup;\r\n        }\r\n    \r\n        /**\r\n         * Definition of the SQL which will be executed.\r\n         */\r\n        @Parameters(index = &quot;0&quot;, arity = &quot;1&quot;, description = &quot;SQL to be executed. Example: &#39;select 1 from dual&#39;&quot;)\r\n        String sql;\r\n    \r\n        /**\r\n         * Custom connection parameters.\r\n         */\r\n        static class CustomConfigurationGroup {\r\n            @Option(names = {&quot;-h&quot;, &quot;--host&quot;}, required = true, description = &quot;Name of the database server.&quot;)\r\n            private static String host;\r\n    \r\n            @Option(names = {&quot;-p&quot;, &quot;--port&quot;}, required = true, description = &quot;Number of the port where the server listens for requests.&quot;)\r\n            private static String port;\r\n    \r\n            @Option(names = {&quot;-s&quot;, &quot;--sid&quot;}, required = true, description = &quot;Name of the particular database on the server. Also known as the SID in Oracle terminology.&quot;)\r\n            private static String sid;\r\n    \r\n            @Option(names = {&quot;-U&quot;, &quot;--user&quot;}, required = true, description = &quot;Name for the login.&quot;)\r\n            private static String user;\r\n    \r\n            @Option(names = {&quot;-P&quot;, &quot;--password&quot;}, required = true, description = &quot;Password for the connecting user.&quot;)\r\n            private static String password;\r\n        }\r\n    \r\n        /**\r\n         * The entry point of the executable JAR.\r\n         *\r\n         * @param args command line parameters\r\n         */\r\n        public static void main(String[] args) {\r\n            CommandLine cmd = new CommandLine(new SqlRunner());\r\n            int exitCode = cmd.execute(args);\r\n            System.exit(exitCode);\r\n        }\r\n    \r\n        /**\r\n         * It is used to create a thread.\r\n         */\r\n        @Override\r\n        public void run() {\r\n            int exitCode = 0; //executeMyStaff();\r\n            System.exit(exitCode);\r\n        }\r\n    }\r\n\r\n**And this is how the generated help looks like:**\r\n\r\n    $ java -jar target/sql-runner-1.0-shaded.jar --help\r\n    Usage: SqlRunner [-?] [-d=&lt;dialect&gt;] (-j=&lt;jdbcUrl&gt; | (-h=&lt;host&gt; -p=&lt;port&gt; -s=&lt;sid&gt; -U=&lt;user&gt;\r\n                     -P=&lt;password&gt;)) &lt;sql&gt;\r\n    SQL command line tool. It executes the given SQL and show the result on the standard output.\r\n    \r\n    General settings:\r\n          &lt;sql&gt;                 SQL to be executed. Example: &#39;select 1 from dual&#39;\r\n      -?, --help                Display this help and exit.\r\n      -d, --dialect=&lt;dialect&gt;   Supported SQL dialects: oracle.\r\n                                  Default: oracle\r\n    \r\n    Custom configuration:\r\n      -h, --host=&lt;host&gt;         Name of the database server.\r\n      -p, --port=&lt;port&gt;         Number of the port where the server listens for requests.\r\n      -s, --sid=&lt;sid&gt;           Name of the particular database on the server. Also known as the SID in\r\n                                  Oracle terminology.\r\n      -U, --user=&lt;user&gt;         Name for the login.\r\n      -P, --password=&lt;password&gt; Password for the connecting user.\r\n    \r\n    Provide a JDBC URL:\r\n      -j, --jdbcUrl=&lt;jdbcUrl&gt;   JDBC URL, example: jdbc:oracle:&lt;drivertype&gt;:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;.\r\n    \r\n    Please report issues at arnold.somogyi@gmail.com.\r\n    Documentation, source code: https://github.com/zappee/sql-runner.git\r\n\r\n\r\nThis look is much better than the Apache CLI generated help.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-cli/\r\n  [2]: https://github.com/remkop/picocli\r\n  [3]: https://picocli.info/\r\n\r\n\r\n","title":"Two exclusive OptionGroup with Apache Commons CLI","body":"<p>I think that it is time to forget <a href=\"https://commons.apache.org/proper/commons-cli/\" rel=\"nofollow noreferrer\">Apache Commons CLI</a> and mark it as a deprecated library. Okay, if you have only a few command-line arguments then you can use it, otherwise better not to use. Fact that this Apache project was updated recently (17 February 2019), but still many features are missing from it and a little bit painful to work with Apache Commons CLI library.</p>\n<p>The <a href=\"https://github.com/remkop/picocli\" rel=\"nofollow noreferrer\">picocli</a> project looks like a better candidate for parsing command line parameters. It is a quite intuitive library, easy to use, and has a nice and comprehensive <a href=\"https://picocli.info/\" rel=\"nofollow noreferrer\">documentation</a> as well. I think that a middle rated tool with perfect documentation is better than a shiny project without any documentation.</p>\n<p>Anyway <code>picocli</code> is a very nice library with perfect documentation, so I give double plus-plus to it :)</p>\n<p><strong>This is how I covered my use cases with <code>picocli</code>:</strong></p>\n<pre><code>import picocli.CommandLine;\nimport picocli.CommandLine.ArgGroup;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Option;\nimport picocli.CommandLine.Parameters;\n\n@Command(name = &quot;SqlRunner&quot;,\n        sortOptions = false,\n        usageHelpWidth = 100,\n        description = &quot;SQL command line tool. It executes the given SQL and show the result on the standard output.\\n&quot;,\n        parameterListHeading = &quot;General options:\\n&quot;,\n        footerHeading = &quot;\\nPlease report issues at arnold.somogyi@gmail.com.&quot;,\n        footer = &quot;\\nDocumentation, source code: https://github.com/zappee/sql-runner.git&quot;)\npublic class SqlRunner implements Runnable {\n\n    /**\n     * Definition of the general command line options.\n     */\n    @Option(names = {&quot;-?&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this help and exit.&quot;)\n    private boolean help;\n\n    @Option(names = {&quot;-d&quot;, &quot;--dialect&quot;}, defaultValue = &quot;oracle&quot;, showDefaultValue = CommandLine.Help.Visibility.ALWAYS, description = &quot;Supported SQL dialects: oracle.&quot;)\n    private static String dialect;\n\n    @ArgGroup(exclusive = true, multiplicity = &quot;1&quot;, heading = &quot;\\nProvide a JDBC URL:\\n&quot;)\n    MainArgGroup mainArgGroup;\n\n    /**\n     * Two exclusive parameter groups:\n     *    (1) JDBC URL parameter\n     *    (2) Custom connection parameters\n     */\n    static class MainArgGroup {\n        /**\n         * JDBC URL option (only one parameter).\n         */\n        @Option(names = {&quot;-j&quot;, &quot;--jdbcUrl&quot;}, arity = &quot;1&quot;, description = &quot;JDBC URL, example: jdbc:oracle:&lt;drivertype&gt;:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;.&quot;)\n        private static String jdbcUrl;\n\n        /**\n         * Custom connection parameter group.\n         */\n        @ArgGroup(exclusive = false, multiplicity = &quot;1&quot;, heading = &quot;\\nCustom configuration:\\n&quot;)\n        CustomConfigurationGroup customConfigurationGroup;\n    }\n\n    /**\n     * Definition of the SQL which will be executed.\n     */\n    @Parameters(index = &quot;0&quot;, arity = &quot;1&quot;, description = &quot;SQL to be executed. Example: 'select 1 from dual'&quot;)\n    String sql;\n\n    /**\n     * Custom connection parameters.\n     */\n    static class CustomConfigurationGroup {\n        @Option(names = {&quot;-h&quot;, &quot;--host&quot;}, required = true, description = &quot;Name of the database server.&quot;)\n        private static String host;\n\n        @Option(names = {&quot;-p&quot;, &quot;--port&quot;}, required = true, description = &quot;Number of the port where the server listens for requests.&quot;)\n        private static String port;\n\n        @Option(names = {&quot;-s&quot;, &quot;--sid&quot;}, required = true, description = &quot;Name of the particular database on the server. Also known as the SID in Oracle terminology.&quot;)\n        private static String sid;\n\n        @Option(names = {&quot;-U&quot;, &quot;--user&quot;}, required = true, description = &quot;Name for the login.&quot;)\n        private static String user;\n\n        @Option(names = {&quot;-P&quot;, &quot;--password&quot;}, required = true, description = &quot;Password for the connecting user.&quot;)\n        private static String password;\n    }\n\n    /**\n     * The entry point of the executable JAR.\n     *\n     * @param args command line parameters\n     */\n    public static void main(String[] args) {\n        CommandLine cmd = new CommandLine(new SqlRunner());\n        int exitCode = cmd.execute(args);\n        System.exit(exitCode);\n    }\n\n    /**\n     * It is used to create a thread.\n     */\n    @Override\n    public void run() {\n        int exitCode = 0; //executeMyStaff();\n        System.exit(exitCode);\n    }\n}\n</code></pre>\n<p><strong>And this is how the generated help looks like:</strong></p>\n<pre><code>$ java -jar target/sql-runner-1.0-shaded.jar --help\nUsage: SqlRunner [-?] [-d=&lt;dialect&gt;] (-j=&lt;jdbcUrl&gt; | (-h=&lt;host&gt; -p=&lt;port&gt; -s=&lt;sid&gt; -U=&lt;user&gt;\n                 -P=&lt;password&gt;)) &lt;sql&gt;\nSQL command line tool. It executes the given SQL and show the result on the standard output.\n\nGeneral settings:\n      &lt;sql&gt;                 SQL to be executed. Example: 'select 1 from dual'\n  -?, --help                Display this help and exit.\n  -d, --dialect=&lt;dialect&gt;   Supported SQL dialects: oracle.\n                              Default: oracle\n\nCustom configuration:\n  -h, --host=&lt;host&gt;         Name of the database server.\n  -p, --port=&lt;port&gt;         Number of the port where the server listens for requests.\n  -s, --sid=&lt;sid&gt;           Name of the particular database on the server. Also known as the SID in\n                              Oracle terminology.\n  -U, --user=&lt;user&gt;         Name for the login.\n  -P, --password=&lt;password&gt; Password for the connecting user.\n\nProvide a JDBC URL:\n  -j, --jdbcUrl=&lt;jdbcUrl&gt;   JDBC URL, example: jdbc:oracle:&lt;drivertype&gt;:@//&lt;host&gt;:&lt;port&gt;/&lt;database&gt;.\n\nPlease report issues at arnold.somogyi@gmail.com.\nDocumentation, source code: https://github.com/zappee/sql-runner.git\n</code></pre>\n<p>This look is much better than the Apache CLI generated help.</p>\n"},{"tags":[],"owner":{"account_id":226652,"reputation":3525,"user_id":487812,"accept_rate":59,"display_name":"the_new_mr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696434074,"creation_date":1696434074,"answer_id":77231021,"question_id":62799744,"body_markdown":"Option groups are for defining groups of arguments where *one of* them must be specified.\r\n\r\n    Option optionA = new Option(&quot;a&quot;, &quot;aaa&quot;, true, &quot;Description for A&quot;);\r\n    Option optionB = new Option(&quot;b&quot;, &quot;bbb&quot;, true, &quot;Description for B&quot;);\r\n    Option optionC = new Option(&quot;c&quot;, &quot;ccc&quot;, true, &quot;Description for C&quot;);\r\n\r\n    OptionGroup optionsGroup = new OptionGroup();\r\n    optionsGroup.addOption(optionA);\r\n    optionsGroup.addOption(optionB);\r\n\r\n    options = new Options();\r\n    options.addOptionGroup(optionsGroup);\r\n        \r\n    options.addOption(optionC);\r\n\r\nIn the example above, one must specify one of either option A *or* option B but **NOT** both.","title":"Two exclusive OptionGroup with Apache Commons CLI","body":"<p>Option groups are for defining groups of arguments where <em>one of</em> them must be specified.</p>\n<pre><code>Option optionA = new Option(&quot;a&quot;, &quot;aaa&quot;, true, &quot;Description for A&quot;);\nOption optionB = new Option(&quot;b&quot;, &quot;bbb&quot;, true, &quot;Description for B&quot;);\nOption optionC = new Option(&quot;c&quot;, &quot;ccc&quot;, true, &quot;Description for C&quot;);\n\nOptionGroup optionsGroup = new OptionGroup();\noptionsGroup.addOption(optionA);\noptionsGroup.addOption(optionB);\n\noptions = new Options();\noptions.addOptionGroup(optionsGroup);\n    \noptions.addOption(optionC);\n</code></pre>\n<p>In the example above, one must specify one of either option A <em>or</em> option B but <strong>NOT</strong> both.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62823795,"answer_count":2,"score":2,"last_activity_date":1696434074,"creation_date":1594227193,"question_id":62799744,"body_markdown":"I am building a command-line Java application and I have a problem with parsing the command line parameters with Apache Commons CLI.\r\n\r\nI am trying to cover my scenario where I need to have two exclusive command-line param groups with long (-`-abc`) and short (`-a`) arguments as well.\r\n\r\n**Use case 1**\r\n - short params: `-d oracle -j jdbc:oracle:thin:@//host:port/databa`\r\n - same but with long params: `-dialect oracle -jdbcUrl jdbc:oracle:thin:@//host:port/databa`\r\n\r\n**Use case 2:**\r\n - short params: `-d oracle -h host -p 1521 -s database -U user -P pwd`\r\n - same but with long params: `-dialect oracle -host host -port 1521 -sid database -user user -password pwd`\r\n\r\nSo I created two `OptionGroup` with the proper `Option` items:\r\n\r\n    OptionGroup jdbcUrlGroup = new OptionGroup();\r\n    jdbcUrlGroup.setRequired(true);\r\n    jdbcUrlGroup.addOption(jdbcUrl);\r\n\r\nsecond group:\r\n\r\n    OptionGroup customConfigurationGroup = new OptionGroup();\r\n    customConfigurationGroup.setRequired(true);\r\n    customConfigurationGroup.addOption(host);\r\n    customConfigurationGroup.addOption(port);\r\n    customConfigurationGroup.addOption(sid);\r\n    customConfigurationGroup.addOption(user);\r\n    customConfigurationGroup.addOption(password);\r\n\r\nThen I build the `Options` object this way:\r\n\r\n    Options options = new Options();\r\n    options.addOptionGroup(jdbcUrlGroup);\r\n    options.addOptionGroup(customConfigurationGroup);\r\n    options.addOption(dialect);\r\n\r\nBut this does not work because it expects to define both groups.\r\n\r\nThis is how the dialect `Option` is defined:\r\n\r\n    Option dialect = Option\r\n            .builder(&quot;d&quot;)\r\n            .longOpt(&quot;dialect&quot;)\r\n            .required(false)\r\n            .hasArg()\r\n            .argName(&quot;DIALECT&quot;)\r\n            .desc(&quot;supported SQL dialects: oracle. Default value: oracle&quot;)\r\n            .build();\r\n\r\nThe other mandatory `Option` definitions look similar except this one property:\r\n\r\n    .required(true)\r\n\r\n\r\n**Result:**\r\n\r\n - `-d oracle`: Missing required options: [-j ...], [-h ..., -p ..., -s ..., -U ..., -P ...]\r\n - `-d oracle -jdbcUrl xxx`: Missing required option: [-h ..., -p ..., -s ..., -U ..., -P ...]\r\n - `-d oracle -h yyy`: Missing required option: [-j ...]\r\n\r\n\r\nBut what I want is the following: if the JDBC URL is provided then the host, port, etc, params are not needed or the opposite.\r\n","title":"Two exclusive OptionGroup with Apache Commons CLI","body":"<p>I am building a command-line Java application and I have a problem with parsing the command line parameters with Apache Commons CLI.</p>\n<p>I am trying to cover my scenario where I need to have two exclusive command-line param groups with long (-<code>-abc</code>) and short (<code>-a</code>) arguments as well.</p>\n<p><strong>Use case 1</strong></p>\n<ul>\n<li>short params: <code>-d oracle -j jdbc:oracle:thin:@//host:port/databa</code></li>\n<li>same but with long params: <code>-dialect oracle -jdbcUrl jdbc:oracle:thin:@//host:port/databa</code></li>\n</ul>\n<p><strong>Use case 2:</strong></p>\n<ul>\n<li>short params: <code>-d oracle -h host -p 1521 -s database -U user -P pwd</code></li>\n<li>same but with long params: <code>-dialect oracle -host host -port 1521 -sid database -user user -password pwd</code></li>\n</ul>\n<p>So I created two <code>OptionGroup</code> with the proper <code>Option</code> items:</p>\n<pre><code>OptionGroup jdbcUrlGroup = new OptionGroup();\njdbcUrlGroup.setRequired(true);\njdbcUrlGroup.addOption(jdbcUrl);\n</code></pre>\n<p>second group:</p>\n<pre><code>OptionGroup customConfigurationGroup = new OptionGroup();\ncustomConfigurationGroup.setRequired(true);\ncustomConfigurationGroup.addOption(host);\ncustomConfigurationGroup.addOption(port);\ncustomConfigurationGroup.addOption(sid);\ncustomConfigurationGroup.addOption(user);\ncustomConfigurationGroup.addOption(password);\n</code></pre>\n<p>Then I build the <code>Options</code> object this way:</p>\n<pre><code>Options options = new Options();\noptions.addOptionGroup(jdbcUrlGroup);\noptions.addOptionGroup(customConfigurationGroup);\noptions.addOption(dialect);\n</code></pre>\n<p>But this does not work because it expects to define both groups.</p>\n<p>This is how the dialect <code>Option</code> is defined:</p>\n<pre><code>Option dialect = Option\n        .builder(&quot;d&quot;)\n        .longOpt(&quot;dialect&quot;)\n        .required(false)\n        .hasArg()\n        .argName(&quot;DIALECT&quot;)\n        .desc(&quot;supported SQL dialects: oracle. Default value: oracle&quot;)\n        .build();\n</code></pre>\n<p>The other mandatory <code>Option</code> definitions look similar except this one property:</p>\n<pre><code>.required(true)\n</code></pre>\n<p><strong>Result:</strong></p>\n<ul>\n<li><code>-d oracle</code>: Missing required options: [-j ...], [-h ..., -p ..., -s ..., -U ..., -P ...]</li>\n<li><code>-d oracle -jdbcUrl xxx</code>: Missing required option: [-h ..., -p ..., -s ..., -U ..., -P ...]</li>\n<li><code>-d oracle -h yyy</code>: Missing required option: [-j ...]</li>\n</ul>\n<p>But what I want is the following: if the JDBC URL is provided then the host, port, etc, params are not needed or the opposite.</p>\n"},{"tags":["java","authentication","vert.x","mutiny"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696434241,"post_id":77230991,"comment_id":136153185,"body_markdown":"I&#39;m not familiar with Vert.x so I can&#39;t tell where the error is exactly, but I can tell you what the problem is: You are modifying some aspect of the response (e.g. status code, headers, cookies) *after* you have started sending the body. That&#39;s not possible with HTTP, the status and headers *must* be sent first. So the framework is telling you you can&#39;t do that.","body":"I&#39;m not familiar with Vert.x so I can&#39;t tell where the error is exactly, but I can tell you what the problem is: You are modifying some aspect of the response (e.g. status code, headers, cookies) <i>after</i> you have started sending the body. That&#39;s not possible with HTTP, the status and headers <i>must</i> be sent first. So the framework is telling you you can&#39;t do that."},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1696434354,"post_id":77230991,"comment_id":136153203,"body_markdown":"Thanks, But I used the same method for other endpoints and it worked","body":"Thanks, But I used the same method for other endpoints and it worked"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696433850,"creation_date":1696433850,"question_id":77230991,"body_markdown":"I&#39;m working on a Vert.x project using Mutiny APIs for asynchronous operations. I want to authenticate a user and also secure the endpoints, I created a CustomAuthicationProvider from Vert.x AuthCommon, it takes in a phone number and password as credentials. when I test the endpoint it throws the exception\r\n\r\n&gt; [ntloop-thread-1] c.a.a.h.CustomAuthenticationProvider     : User Logged in\r\n2023-10-04T16:15:35.936+01:00  INFO 9919 --- [ntloop-thread-1] c.a.a.controller.LoginController         : User Logged intrue\r\n[-- Mutiny had to drop the following exception --]\r\nException received by: io.smallrye.mutiny.infrastructure.Infrastructure.handleDroppedException(Infrastructure.java:295)\r\njava.lang.IllegalStateException: Response head already sent\r\n\tat io.vertx.core.http.impl.Http1xServerResponse.checkHeadWritten(Http1xServerResponse.java:709)\r\n\tat io.vertx.core.http.impl.Http1xServerResponse.setStatusCode(Http1xServerResponse.java:149)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.checkHandleNoMatch(RoutingContextImpl.java:156)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:142)\r\n\r\nBut from the logs, the user is logged in. Below is my code\r\n\r\nCustomAuthenticationProvider\r\n```\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\r\n    private final PgPool pgPool;\r\n\r\n    public CustomAuthenticationProvider(PgPool pgPool) {\r\n        this.pgPool = pgPool;\r\n    }\r\n\r\n    @Override\r\n    public void authenticate(JsonObject jsonObject, Handler&lt;AsyncResult&lt;User&gt;&gt; handler) {\r\n\r\n        String phoneNumber = jsonObject.getString(&quot;phoneNumber&quot;);\r\n        String password = jsonObject.getString(&quot;password&quot;);\r\n\r\n        pgPool.withConnection(conn -&gt;\r\n                conn.prepare(&quot;SELECT p.phoneNumber, p.password FROM Users p WHERE p.phoneNumber = $1 AND p.password = $2&quot;)\r\n                        .flatMap(preparedStatement -&gt;\r\n                                preparedStatement.query().execute(Tuple.of(phoneNumber, password))\r\n                        )\r\n                        .map(rowSet -&gt; {\r\n                            if (rowSet.rowCount() == 1) {\r\n                                return rowSet.iterator().next();\r\n                            }\r\n                            return null;\r\n                        })\r\n        )\r\n                .subscribe()\r\n                .with(\r\n                row -&gt; {\r\n                    if (row != null) {\r\n                        User user = new UserImpl();\r\n\r\n                        LOGGER.info(&quot;User Logged in&quot;);\r\n                        handler.handle(Future.succeededFuture(user));\r\n                    } else {\r\n                        LOGGER.info(&quot;Invalid credentials&quot;);\r\n                        handler.handle(Future.failedFuture(&quot;Invalid credentials&quot;));\r\n                    }\r\n                },\r\n                error -&gt; {\r\n                    LOGGER.error(&quot;Authentication failed with error: &quot; + error.getMessage());\r\n                    handler.handle(Future.failedFuture(error.getMessage()));\r\n                }\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nLoginController\r\n```\r\npublic class LoginController implements Function&lt;RoutingContext, Uni&lt;Void&gt;&gt; {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(LoginController.class);\r\n    private static final String CONTENT = &quot;content-type&quot;;\r\n    private static final String JSON_TYPE = &quot;application/json&quot;;\r\n    private final CustomAuthenticationProvider customAuthenticationProvider;\r\n\r\n    @Autowired\r\n    public LoginController(Router router, CustomAuthenticationProvider customAuthenticationProvider) {\r\n        this.customAuthenticationProvider = customAuthenticationProvider;\r\n        router.post(&quot;/login&quot;)\r\n                .handler(BodyHandler.create())\r\n                .respond(this);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public Uni&lt;Void&gt; apply(RoutingContext ctx) {\r\n        JsonObject credentials = JsonObject.mapFrom(ctx.body().asPojo(LoginData.class));\r\n\r\n\r\n        customAuthenticationProvider.authenticate(credentials, res -&gt; {\r\n\r\n            if (res.succeeded()) {\r\n\r\n                LOGGER.info(&quot;User Logged in&quot; + res.succeeded());\r\n                ctx.getDelegate().next();\r\n                ctx.getDelegate().response()\r\n                        .setStatusCode(200)\r\n                        .putHeader(CONTENT, JSON_TYPE)\r\n                        .end(new JsonObject().put(&quot;Success&quot;, &quot;Login in successful&quot;).encode());\r\n\r\n\r\n            } else {\r\n                LOGGER.info(&quot;Authentication failed with error&quot; + res.cause().getMessage());\r\n                ctx.getDelegate().response()\r\n                        .setStatusCode(401)\r\n                        .putHeader(CONTENT, JSON_TYPE)\r\n                        .end(new JsonObject().put(&quot;error&quot;, &quot;Authentication failed&quot;).encodePrettily());\r\n\r\n            }\r\n        });\r\n\r\n        return Uni.createFrom().nullItem();\r\n    }\r\n}\r\n```\r\nWhen I remove ctx.response() and ctx.next() from the code it runs smoothly and the logs display logged in but Postman returns 204 no response. when I tried to use the return statement for ctx.response() the method succeeded() cannot be resolved. What is the best way to implement this? I want a simple way to implement this and not with the JWT Auth provider because I&#39;m not using JWT for this project.","title":"java.lang.IllegalStateException: Response head already sent Vert.x","body":"<p>I'm working on a Vert.x project using Mutiny APIs for asynchronous operations. I want to authenticate a user and also secure the endpoints, I created a CustomAuthicationProvider from Vert.x AuthCommon, it takes in a phone number and password as credentials. when I test the endpoint it throws the exception</p>\n<blockquote>\n<p>[ntloop-thread-1] c.a.a.h.CustomAuthenticationProvider     : User Logged in\n2023-10-04T16:15:35.936+01:00  INFO 9919 --- [ntloop-thread-1] c.a.a.controller.LoginController         : User Logged intrue\n[-- Mutiny had to drop the following exception --]\nException received by: io.smallrye.mutiny.infrastructure.Infrastructure.handleDroppedException(Infrastructure.java:295)\njava.lang.IllegalStateException: Response head already sent\nat io.vertx.core.http.impl.Http1xServerResponse.checkHeadWritten(Http1xServerResponse.java:709)\nat io.vertx.core.http.impl.Http1xServerResponse.setStatusCode(Http1xServerResponse.java:149)\nat io.vertx.ext.web.impl.RoutingContextImpl.checkHandleNoMatch(RoutingContextImpl.java:156)\nat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:142)</p>\n</blockquote>\n<p>But from the logs, the user is logged in. Below is my code</p>\n<p>CustomAuthenticationProvider</p>\n<pre><code>public class CustomAuthenticationProvider implements AuthenticationProvider {\n\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\n    private final PgPool pgPool;\n\n    public CustomAuthenticationProvider(PgPool pgPool) {\n        this.pgPool = pgPool;\n    }\n\n    @Override\n    public void authenticate(JsonObject jsonObject, Handler&lt;AsyncResult&lt;User&gt;&gt; handler) {\n\n        String phoneNumber = jsonObject.getString(&quot;phoneNumber&quot;);\n        String password = jsonObject.getString(&quot;password&quot;);\n\n        pgPool.withConnection(conn -&gt;\n                conn.prepare(&quot;SELECT p.phoneNumber, p.password FROM Users p WHERE p.phoneNumber = $1 AND p.password = $2&quot;)\n                        .flatMap(preparedStatement -&gt;\n                                preparedStatement.query().execute(Tuple.of(phoneNumber, password))\n                        )\n                        .map(rowSet -&gt; {\n                            if (rowSet.rowCount() == 1) {\n                                return rowSet.iterator().next();\n                            }\n                            return null;\n                        })\n        )\n                .subscribe()\n                .with(\n                row -&gt; {\n                    if (row != null) {\n                        User user = new UserImpl();\n\n                        LOGGER.info(&quot;User Logged in&quot;);\n                        handler.handle(Future.succeededFuture(user));\n                    } else {\n                        LOGGER.info(&quot;Invalid credentials&quot;);\n                        handler.handle(Future.failedFuture(&quot;Invalid credentials&quot;));\n                    }\n                },\n                error -&gt; {\n                    LOGGER.error(&quot;Authentication failed with error: &quot; + error.getMessage());\n                    handler.handle(Future.failedFuture(error.getMessage()));\n                }\n        );\n    }\n}\n</code></pre>\n<p>LoginController</p>\n<pre><code>public class LoginController implements Function&lt;RoutingContext, Uni&lt;Void&gt;&gt; {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(LoginController.class);\n    private static final String CONTENT = &quot;content-type&quot;;\n    private static final String JSON_TYPE = &quot;application/json&quot;;\n    private final CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Autowired\n    public LoginController(Router router, CustomAuthenticationProvider customAuthenticationProvider) {\n        this.customAuthenticationProvider = customAuthenticationProvider;\n        router.post(&quot;/login&quot;)\n                .handler(BodyHandler.create())\n                .respond(this);\n\n\n    }\n\n    @Override\n    public Uni&lt;Void&gt; apply(RoutingContext ctx) {\n        JsonObject credentials = JsonObject.mapFrom(ctx.body().asPojo(LoginData.class));\n\n\n        customAuthenticationProvider.authenticate(credentials, res -&gt; {\n\n            if (res.succeeded()) {\n\n                LOGGER.info(&quot;User Logged in&quot; + res.succeeded());\n                ctx.getDelegate().next();\n                ctx.getDelegate().response()\n                        .setStatusCode(200)\n                        .putHeader(CONTENT, JSON_TYPE)\n                        .end(new JsonObject().put(&quot;Success&quot;, &quot;Login in successful&quot;).encode());\n\n\n            } else {\n                LOGGER.info(&quot;Authentication failed with error&quot; + res.cause().getMessage());\n                ctx.getDelegate().response()\n                        .setStatusCode(401)\n                        .putHeader(CONTENT, JSON_TYPE)\n                        .end(new JsonObject().put(&quot;error&quot;, &quot;Authentication failed&quot;).encodePrettily());\n\n            }\n        });\n\n        return Uni.createFrom().nullItem();\n    }\n}\n</code></pre>\n<p>When I remove ctx.response() and ctx.next() from the code it runs smoothly and the logs display logged in but Postman returns 204 no response. when I tried to use the return statement for ctx.response() the method succeeded() cannot be resolved. What is the best way to implement this? I want a simple way to implement this and not with the JWT Auth provider because I'm not using JWT for this project.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","rocksdb"],"comments":[{"owner":{"account_id":1935131,"reputation":14716,"user_id":1743580,"display_name":"miguno"},"score":0,"creation_date":1493799638,"post_id":43742423,"comment_id":74550895,"body_markdown":"This is odd.  For reference, I ran the `mvn test` suite of Confluent&#39;s Kafka Streams demo apps (https://github.com/confluentinc/examples) on Windows 10 w/ Oracle JDK 1.8 yesterday, and (with one exception due to a Kafka broker bug on Windows = unrelated to Kafka Streams) everything worked out of the box.  Perhaps you can provide more detail about your environment (Windows version, Java version, etc.), the exact version of Kafka Streams you are using, and the code so that it&#39;s easier to reproduce?","body":"This is odd.  For reference, I ran the <code>mvn test</code> suite of Confluent&#39;s Kafka Streams demo apps (<a href=\"https://github.com/confluentinc/examples\" rel=\"nofollow noreferrer\">github.com/confluentinc/examples</a>) on Windows 10 w/ Oracle JDK 1.8 yesterday, and (with one exception due to a Kafka broker bug on Windows = unrelated to Kafka Streams) everything worked out of the box.  Perhaps you can provide more detail about your environment (Windows version, Java version, etc.), the exact version of Kafka Streams you are using, and the code so that it&#39;s easier to reproduce?"},{"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"score":1,"creation_date":1493802576,"post_id":43742423,"comment_id":74552777,"body_markdown":"I think I found the problem. In my local Maven repository I had two versions of RocksDB, version 4.4.1 and 5.0.1 (which is the one used by Kafka Streams 0.10.2 I&#39;m using). I deleted the 4.4.1 version and the problem went away. The strange thing is that Maven was using the old version of the library..","body":"I think I found the problem. In my local Maven repository I had two versions of RocksDB, version 4.4.1 and 5.0.1 (which is the one used by Kafka Streams 0.10.2 I&#39;m using). I deleted the 4.4.1 version and the problem went away. The strange thing is that Maven was using the old version of the library.."},{"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"score":0,"creation_date":1493826687,"post_id":43742423,"comment_id":74570855,"body_markdown":"Nope, the problem is again there. It was not showing off because I had no messages in the broker (they were deleted by the Kafka deletion job).\n\nI will update my question with the required information","body":"Nope, the problem is again there. It was not showing off because I had no messages in the broker (they were deleted by the Kafka deletion job).  I will update my question with the required information"},{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1493868011,"post_id":43742423,"comment_id":74587639,"body_markdown":"See also http://stackoverflow.com/questions/41291996/executing-kafka-stream-example-with-eclipse-fails-with-unsatisfiedlinkerror-for/41308528?noredirect=1#comment74549064_41308528","body":"See also <a href=\"http://stackoverflow.com/questions/41291996/executing-kafka-stream-example-with-eclipse-fails-with-unsatisfiedlinkerror-for/41308528?noredirect=1#comment74549064_41308528\" title=\"executing kafka stream example with eclipse fails with unsatisfiedlinkerror for\">stackoverflow.com/questions/41291996/&hellip;</a>"},{"owner":{"account_id":1041208,"reputation":528,"user_id":5866591,"accept_rate":50,"display_name":"Mudit bhaintwal"},"score":0,"creation_date":1498145482,"post_id":43742423,"comment_id":76390305,"body_markdown":"@gvdm - is this issue resolved? I am getting exactly same issue. strange thing same setup is working in another similar machine.","body":"@gvdm - is this issue resolved? I am getting exactly same issue. strange thing same setup is working in another similar machine."},{"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"score":0,"creation_date":1498146028,"post_id":43742423,"comment_id":76390720,"body_markdown":"HI @Mudit. Nope, when I need to develop on Kafka Streams I use a Linux machine and everything works","body":"HI @Mudit. Nope, when I need to develop on Kafka Streams I use a Linux machine and everything works"},{"owner":{"account_id":1041208,"reputation":528,"user_id":5866591,"accept_rate":50,"display_name":"Mudit bhaintwal"},"score":0,"creation_date":1498146936,"post_id":43742423,"comment_id":76391394,"body_markdown":"It&#39;s very strange that Kafka still not have support for Windows!!! Have you tried with cygwin also.","body":"It&#39;s very strange that Kafka still not have support for Windows!!! Have you tried with cygwin also."},{"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"score":0,"creation_date":1498202207,"post_id":43742423,"comment_id":76412831,"body_markdown":"No but the problem is the compilation with Maven in a Windows environment. I think that Cygwin would not do the trick in this case","body":"No but the problem is the compilation with Maven in a Windows environment. I think that Cygwin would not do the trick in this case"}],"answers":[{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493754816,"creation_date":1493754816,"answer_id":43746163,"question_id":43742423,"body_markdown":"You are missing some native libraries that the rocksdb dll depends on. See https://github.com/facebook/rocksdb/issues/1302\r\n\r\n","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>You are missing some native libraries that the rocksdb dll depends on. See <a href=\"https://github.com/facebook/rocksdb/issues/1302\" rel=\"nofollow noreferrer\">https://github.com/facebook/rocksdb/issues/1302</a></p>\n"},{"tags":[],"owner":{"account_id":7328654,"reputation":4105,"user_id":5582307,"accept_rate":100,"display_name":"David Corral"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1515408715,"creation_date":1515408715,"answer_id":48148781,"question_id":43742423,"body_markdown":"Recently I came through this problem too. I managed to solve this in two steps:\r\n\r\n 1. Delete all `librocksdbjni[...].dll` files from `C:\\Users\\[your_user]\\AppData\\Local\\Temp` folder.\r\n 2. Add maven dependency for `rocksdb` in your project, this works for me:  https://mvnrepository.com/artifact/org.rocksdb/rocksdbjni/5.0.1\r\n\r\n\r\nCompile your Kafka Stream App and run it. It should work!","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>Recently I came through this problem too. I managed to solve this in two steps:</p>\n\n<ol>\n<li>Delete all <code>librocksdbjni[...].dll</code> files from <code>C:\\Users\\[your_user]\\AppData\\Local\\Temp</code> folder.</li>\n<li>Add maven dependency for <code>rocksdb</code> in your project, this works for me:  <a href=\"https://mvnrepository.com/artifact/org.rocksdb/rocksdbjni/5.0.1\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.rocksdb/rocksdbjni/5.0.1</a></li>\n</ol>\n\n<p>Compile your Kafka Stream App and run it. It should work!</p>\n"},{"tags":[],"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530773876,"creation_date":1516361894,"answer_id":48340251,"question_id":43742423,"body_markdown":"I updated my kafka-streams project to the latest released version 1.0.0.\r\n\r\nThis version suffers of [this][1] bug but after patching it and uploading this patched version on the internal Artifactory server we were able to execute our kafka-streams agent both on Windows and on Linux.\r\nThe next versions 1.0.1 and 1.1.0 will have this bug fix so as soon as one of these versions will be released we will switch to them instead of the patched version.\r\n\r\nTo sum up the Kafka guys solved this bug with the 1.0.0 release. \r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/KAFKA-6167","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>I updated my kafka-streams project to the latest released version 1.0.0.</p>\n\n<p>This version suffers of <a href=\"https://issues.apache.org/jira/browse/KAFKA-6167\" rel=\"nofollow noreferrer\">this</a> bug but after patching it and uploading this patched version on the internal Artifactory server we were able to execute our kafka-streams agent both on Windows and on Linux.\nThe next versions 1.0.1 and 1.1.0 will have this bug fix so as soon as one of these versions will be released we will switch to them instead of the patched version.</p>\n\n<p>To sum up the Kafka guys solved this bug with the 1.0.0 release. </p>\n"},{"tags":[],"owner":{"account_id":6496784,"reputation":2573,"user_id":5029143,"accept_rate":82,"display_name":"SeaBiscuit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579515918,"creation_date":1579515918,"answer_id":59821290,"question_id":43742423,"body_markdown":"My problem was permissions in `/tmp/` directory (CentOS)\r\n\r\nrockdb uses \r\n    \r\n    java.io.tmpdir \r\nsystem property internally to decide where to place `librocksdbjni`file,  usually something like this `/tmp/librocksdbjni2925599838907625983.so`\r\n\r\nSolved by setting different tempdir property with appropriate permissions in kafka-streams app.\r\n\r\n    System.setProperty(&quot;java.io.tmpdir&quot;, &quot;/opt/kafka-streams/tmp&quot;);\r\n\r\n","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>My problem was permissions in <code>/tmp/</code> directory (CentOS)</p>\n\n<p>rockdb uses </p>\n\n<pre><code>java.io.tmpdir \n</code></pre>\n\n<p>system property internally to decide where to place <code>librocksdbjni</code>file,  usually something like this <code>/tmp/librocksdbjni2925599838907625983.so</code></p>\n\n<p>Solved by setting different tempdir property with appropriate permissions in kafka-streams app.</p>\n\n<pre><code>System.setProperty(\"java.io.tmpdir\", \"/opt/kafka-streams/tmp\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6289085,"reputation":100,"user_id":4887345,"display_name":"Akhil K Kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589960892,"creation_date":1589960892,"answer_id":61907749,"question_id":43742423,"body_markdown":"I had same issue while using jdk 1.8. It got resolved when I changed it to jre.","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>I had same issue while using jdk 1.8. It got resolved when I changed it to jre.</p>\n"},{"tags":[],"owner":{"account_id":9105893,"reputation":311,"user_id":6776354,"display_name":"Naga Venkata Pradeep Namburi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596715308,"creation_date":1596715308,"answer_id":63283175,"question_id":43742423,"body_markdown":"Faced similar issue in Mac. As per this link, https://github.com/facebook/rocksdb/issues/5064 issue is related to older libc installed in my version of Mac OS (10.11.6).","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>Faced similar issue in Mac. As per this link, <a href=\"https://github.com/facebook/rocksdb/issues/5064\" rel=\"nofollow noreferrer\">https://github.com/facebook/rocksdb/issues/5064</a> issue is related to older libc installed in my version of Mac OS (10.11.6).</p>\n"},{"tags":[],"owner":{"account_id":1091571,"reputation":17212,"user_id":1086117,"accept_rate":56,"display_name":"DarVar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696433675,"creation_date":1696433675,"answer_id":77230969,"question_id":43742423,"body_markdown":"I had this issue when using a distroless JRE image for my KStreams container application.\r\n\r\nI switched from `mcr.microsoft.com/openjdk/jdk:11-distroless` to `mcr.microsoft.com/openjdk/jdk:11-ubuntu` and it went away","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>I had this issue when using a distroless JRE image for my KStreams container application.</p>\n<p>I switched from <code>mcr.microsoft.com/openjdk/jdk:11-distroless</code> to <code>mcr.microsoft.com/openjdk/jdk:11-ubuntu</code> and it went away</p>\n"}],"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9351,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48340251,"answer_count":7,"score":9,"last_activity_date":1696433675,"creation_date":1493740892,"question_id":43742423,"body_markdown":"I&#39;m writing a Kafka Streams application on my development Windows machine.\r\nIf I try to use the `leftJoin` and `branch` features of Kafka Streams I get the error below when executing the jar application:\r\n\r\n    Exception in thread &quot;StreamThread-1&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\user\\AppData\\Local\\Temp\\librocksdbjni325337723194862275.dll: Can&#39;t find dependent libraries\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)\r\n    \tat java.lang.Runtime.load0(Runtime.java:809)\r\n    \tat java.lang.System.load(System.java:1086)\r\n    \tat org.rocksdb.NativeLibraryLoader.loadLibraryFromJar(NativeLibraryLoader.java:78)\r\n    \tat org.rocksdb.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:56)\r\n    \tat org.rocksdb.RocksDB.loadLibrary(RocksDB.java:64)\r\n    \tat org.rocksdb.RocksDB.&lt;clinit&gt;(RocksDB.java:35)\r\n    \tat org.rocksdb.Options.&lt;clinit&gt;(Options.java:22)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBStore.openDB(RocksDBStore.java:115)\r\n    \tat org.apache.kafka.streams.state.internals.Segment.openDB(Segment.java:38)\r\n    \tat org.apache.kafka.streams.state.internals.Segments.getOrCreateSegment(Segments.java:75)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBSegmentedBytesStore.put(RocksDBSegmentedBytesStore.java:72)\r\n    \tat org.apache.kafka.streams.state.internals.ChangeLoggingSegmentedBytesStore.put(ChangeLoggingSegmentedBytesStore.java:54)\r\n    \tat org.apache.kafka.streams.state.internals.MeteredSegmentedBytesStore.put(MeteredSegmentedBytesStore.java:101)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBWindowStore.put(RocksDBWindowStore.java:109)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBWindowStore.put(RocksDBWindowStore.java:101)\r\n    \tat org.apache.kafka.streams.kstream.internals.KStreamJoinWindow$KStreamJoinWindowProcessor.process(KStreamJoinWindow.java:65)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorNode$1.run(ProcessorNode.java:48)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamsMetricsImpl.measureLatencyNs(StreamsMetricsImpl.java:188)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:134)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:83)\r\n    \tat org.apache.kafka.streams.kstream.internals.KStreamFlatMapValues$KStreamFlatMapValuesProcessor.process(KStreamFlatMapValues.java:43)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorNode$1.run(ProcessorNode.java:48)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamsMetricsImpl.measureLatencyNs(StreamsMetricsImpl.java:188)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:134)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:83)\r\n    \tat org.apache.kafka.streams.kstream.internals.KStreamFilter$KStreamFilterProcessor.process(KStreamFilter.java:44)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorNode$1.run(ProcessorNode.java:48)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamsMetricsImpl.measureLatencyNs(StreamsMetricsImpl.java:188)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:134)\r\n    \tat org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:83)\r\n    \tat org.apache.kafka.streams.processor.internals.SourceNode.process(SourceNode.java:70)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamTask.process(StreamTask.java:197)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:641)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:368)\r\n\r\nIt seems like Kafka does not find a DLL, but wait...I&#39;m developing a Java application!\r\n\r\nWhat could be the problem? And why this error doesn&#39;t show off if I try to do simpler streaming operations like only a `filter`?\r\n\r\nUPDATE:\r\n\r\nThis problem raises only when a message is present in the broker. I&#39;m using Kafka Streams version 0.10.2.1.\r\n\r\nThis is the piece of code which raises the problem\r\n\r\n    public class KafkaStreamsMainClass {\r\n    \r\n    \tprivate KafkaStreamsMainClass() {\r\n    \t}\r\n    \r\n    \tpublic static void main(final String[] args) throws Exception {\r\n    \t\tProperties streamsConfiguration = new Properties();\r\n    \t\tstreamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;kafka-streams&quot;);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka-server:9092&quot;);\r\n    \t\tstreamsConfiguration.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;schema-registry:8082&quot;);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.KEY_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\r\n    \t\tstreamsConfiguration.put(StreamsConfig.VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\r\n    \t\tKStreamBuilder builder = new KStreamBuilder();\r\n    \t\tKStream&lt;GenericRecord, GenericRecord&gt; sourceStream = builder.stream(SOURCE_TOPIC);\r\n    \t\t\r\n    \t\tKStream&lt;GenericRecord, GenericRecord&gt; finishedFiltered = sourceStream\r\n    \t\t\t\t.filter((GenericRecord key, GenericRecord value) -&gt; value.get(&quot;endTime&quot;) != null);\r\n    \r\n    \t\tKStream&lt;GenericRecord, GenericRecord&gt;[] branchedStreams = sourceStream\r\n    \t\t\t\t.filter((GenericRecord key, GenericRecord value) -&gt; value.get(&quot;endTime&quot;) == null)\r\n    \t\t\t\t.branch((GenericRecord key, GenericRecord value) -&gt; value.get(&quot;firstField&quot;) != null,\r\n    \t\t\t\t\t\t(GenericRecord key, GenericRecord value) -&gt; value.get(&quot;secondField&quot;) != null);\r\n    \r\n    \t\tbranchedStreams[0] = finishedFiltered.join(branchedStreams[0],\r\n    \t\t\t\t(GenericRecord value1, GenericRecord value2) -&gt; {\r\n    \t\t\t\t\treturn value1;\r\n    \t\t\t\t}, JoinWindows.of(TimeUnit.SECONDS.toMillis(2)));\r\n    \r\n    \t\tbranchedStreams[1] = finishedFiltered.join(branchedStreams[1],\r\n    \t\t\t\t(GenericRecord value1, GenericRecord value2) -&gt; {\r\n    \t\t\t\t\treturn value1;\r\n    \t\t\t\t}, JoinWindows.of(TimeUnit.SECONDS.toMillis(2)));\r\n    \r\n    \t\tKafkaStreams streams = new KafkaStreams(builder, streamsConfiguration);\r\n    \t\tstreams.setUncaughtExceptionHandler((Thread thread, Throwable throwable) -&gt; {\r\n    \t\t\tthrowable.printStackTrace();\r\n    \t\t});\r\n    \t\tstreams.start();\r\n    \r\n    \t\tRuntime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nI opened the `rocksdbjni-5.0.1.jar` archive downloaded by Maven and it includes the `librocksdbjni-win64.dll` library. It seems that it is trying to retrieve the library from the outside of the RocksDB instead from the inner.\r\n\r\n\r\nI&#39;m developing on a Windows 7 machine.\r\n\r\nHave you ever experienced this problem?","title":"UnsatisfiedLinkError on Lib rocks DB dll when developing with Kafka Streams","body":"<p>I'm writing a Kafka Streams application on my development Windows machine.\nIf I try to use the <code>leftJoin</code> and <code>branch</code> features of Kafka Streams I get the error below when executing the jar application:</p>\n\n<pre><code>Exception in thread \"StreamThread-1\" java.lang.UnsatisfiedLinkError: C:\\Users\\user\\AppData\\Local\\Temp\\librocksdbjni325337723194862275.dll: Can't find dependent libraries\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)\n    at java.lang.Runtime.load0(Runtime.java:809)\n    at java.lang.System.load(System.java:1086)\n    at org.rocksdb.NativeLibraryLoader.loadLibraryFromJar(NativeLibraryLoader.java:78)\n    at org.rocksdb.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:56)\n    at org.rocksdb.RocksDB.loadLibrary(RocksDB.java:64)\n    at org.rocksdb.RocksDB.&lt;clinit&gt;(RocksDB.java:35)\n    at org.rocksdb.Options.&lt;clinit&gt;(Options.java:22)\n    at org.apache.kafka.streams.state.internals.RocksDBStore.openDB(RocksDBStore.java:115)\n    at org.apache.kafka.streams.state.internals.Segment.openDB(Segment.java:38)\n    at org.apache.kafka.streams.state.internals.Segments.getOrCreateSegment(Segments.java:75)\n    at org.apache.kafka.streams.state.internals.RocksDBSegmentedBytesStore.put(RocksDBSegmentedBytesStore.java:72)\n    at org.apache.kafka.streams.state.internals.ChangeLoggingSegmentedBytesStore.put(ChangeLoggingSegmentedBytesStore.java:54)\n    at org.apache.kafka.streams.state.internals.MeteredSegmentedBytesStore.put(MeteredSegmentedBytesStore.java:101)\n    at org.apache.kafka.streams.state.internals.RocksDBWindowStore.put(RocksDBWindowStore.java:109)\n    at org.apache.kafka.streams.state.internals.RocksDBWindowStore.put(RocksDBWindowStore.java:101)\n    at org.apache.kafka.streams.kstream.internals.KStreamJoinWindow$KStreamJoinWindowProcessor.process(KStreamJoinWindow.java:65)\n    at org.apache.kafka.streams.processor.internals.ProcessorNode$1.run(ProcessorNode.java:48)\n    at org.apache.kafka.streams.processor.internals.StreamsMetricsImpl.measureLatencyNs(StreamsMetricsImpl.java:188)\n    at org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:134)\n    at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:83)\n    at org.apache.kafka.streams.kstream.internals.KStreamFlatMapValues$KStreamFlatMapValuesProcessor.process(KStreamFlatMapValues.java:43)\n    at org.apache.kafka.streams.processor.internals.ProcessorNode$1.run(ProcessorNode.java:48)\n    at org.apache.kafka.streams.processor.internals.StreamsMetricsImpl.measureLatencyNs(StreamsMetricsImpl.java:188)\n    at org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:134)\n    at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:83)\n    at org.apache.kafka.streams.kstream.internals.KStreamFilter$KStreamFilterProcessor.process(KStreamFilter.java:44)\n    at org.apache.kafka.streams.processor.internals.ProcessorNode$1.run(ProcessorNode.java:48)\n    at org.apache.kafka.streams.processor.internals.StreamsMetricsImpl.measureLatencyNs(StreamsMetricsImpl.java:188)\n    at org.apache.kafka.streams.processor.internals.ProcessorNode.process(ProcessorNode.java:134)\n    at org.apache.kafka.streams.processor.internals.ProcessorContextImpl.forward(ProcessorContextImpl.java:83)\n    at org.apache.kafka.streams.processor.internals.SourceNode.process(SourceNode.java:70)\n    at org.apache.kafka.streams.processor.internals.StreamTask.process(StreamTask.java:197)\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:641)\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:368)\n</code></pre>\n\n<p>It seems like Kafka does not find a DLL, but wait...I'm developing a Java application!</p>\n\n<p>What could be the problem? And why this error doesn't show off if I try to do simpler streaming operations like only a <code>filter</code>?</p>\n\n<p>UPDATE:</p>\n\n<p>This problem raises only when a message is present in the broker. I'm using Kafka Streams version 0.10.2.1.</p>\n\n<p>This is the piece of code which raises the problem</p>\n\n<pre><code>public class KafkaStreamsMainClass {\n\n    private KafkaStreamsMainClass() {\n    }\n\n    public static void main(final String[] args) throws Exception {\n        Properties streamsConfiguration = new Properties();\n        streamsConfiguration.put(StreamsConfig.APPLICATION_ID_CONFIG, \"kafka-streams\");\n        streamsConfiguration.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"kafka-server:9092\");\n        streamsConfiguration.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, \"schema-registry:8082\");\n        streamsConfiguration.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\n        streamsConfiguration.put(StreamsConfig.CACHE_MAX_BYTES_BUFFERING_CONFIG, 0);\n        streamsConfiguration.put(StreamsConfig.KEY_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\n        streamsConfiguration.put(StreamsConfig.VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\n        KStreamBuilder builder = new KStreamBuilder();\n        KStream&lt;GenericRecord, GenericRecord&gt; sourceStream = builder.stream(SOURCE_TOPIC);\n\n        KStream&lt;GenericRecord, GenericRecord&gt; finishedFiltered = sourceStream\n                .filter((GenericRecord key, GenericRecord value) -&gt; value.get(\"endTime\") != null);\n\n        KStream&lt;GenericRecord, GenericRecord&gt;[] branchedStreams = sourceStream\n                .filter((GenericRecord key, GenericRecord value) -&gt; value.get(\"endTime\") == null)\n                .branch((GenericRecord key, GenericRecord value) -&gt; value.get(\"firstField\") != null,\n                        (GenericRecord key, GenericRecord value) -&gt; value.get(\"secondField\") != null);\n\n        branchedStreams[0] = finishedFiltered.join(branchedStreams[0],\n                (GenericRecord value1, GenericRecord value2) -&gt; {\n                    return value1;\n                }, JoinWindows.of(TimeUnit.SECONDS.toMillis(2)));\n\n        branchedStreams[1] = finishedFiltered.join(branchedStreams[1],\n                (GenericRecord value1, GenericRecord value2) -&gt; {\n                    return value1;\n                }, JoinWindows.of(TimeUnit.SECONDS.toMillis(2)));\n\n        KafkaStreams streams = new KafkaStreams(builder, streamsConfiguration);\n        streams.setUncaughtExceptionHandler((Thread thread, Throwable throwable) -&gt; {\n            throwable.printStackTrace();\n        });\n        streams.start();\n\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n    }\n\n}\n</code></pre>\n\n<p>I opened the <code>rocksdbjni-5.0.1.jar</code> archive downloaded by Maven and it includes the <code>librocksdbjni-win64.dll</code> library. It seems that it is trying to retrieve the library from the outside of the RocksDB instead from the inner.</p>\n\n<p>I'm developing on a Windows 7 machine.</p>\n\n<p>Have you ever experienced this problem?</p>\n"},{"tags":["java","javac","bytecode","signature"],"comments":[{"owner":{"account_id":14114847,"reputation":113,"user_id":10202693,"display_name":"Павел"},"score":0,"creation_date":1696433761,"post_id":77230952,"comment_id":136153087,"body_markdown":"but in other user defined classes no clone method in bytecode","body":"but in other user defined classes no clone method in bytecode"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1696435253,"post_id":77230952,"comment_id":136153392,"body_markdown":"I believe this always happens when you narrow a return type in an override.","body":"I believe this always happens when you narrow a return type in an override."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1696435719,"post_id":77230952,"comment_id":136153493,"body_markdown":"This happens because for the Java Compiler two methods with the same argument types but different return types are the same method (i.e. the Java Compiler doesn&#39;t differentiate methods solely by return type), but for the JVM (which executes the compiled code) these are different methods (i.e. for the JVM they **are** different methods).","body":"This happens because for the Java Compiler two methods with the same argument types but different return types are the same method (i.e. the Java Compiler doesn&#39;t differentiate methods solely by return type), but for the JVM (which executes the compiled code) these are different methods (i.e. for the JVM they <b>are</b> different methods)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696438804,"post_id":77230952,"comment_id":136154093,"body_markdown":"@Jorn No it isn’t. That’s not an inherited method. It is put there by the compiler, into this bytecode.","body":"@Jorn No it isn’t. That’s not an inherited method. It is put there by the compiler, into this bytecode."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696490022,"post_id":77230952,"comment_id":136160059,"body_markdown":"@Jorn since Java&#160;5, you can override a method with a more specific return type.","body":"@Jorn since Java 5, you can override a method with a more specific return type."}],"owner":{"account_id":14114847,"reputation":113,"user_id":10202693,"display_name":"Павел"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696435568,"answer_count":0,"score":0,"last_activity_date":1696433477,"creation_date":1696433477,"question_id":77230952,"body_markdown":"Let&#39;s look at the following example.\r\n\r\n```    \r\npublic class T1 implements Cloneable {\r\n    private T1(T1 g) {}\r\n\r\n    public T1 clone() { return new T1(this); }\r\n}\r\n```\r\n\r\nThere are two clone methods in a bytecode.\r\n\r\n```\r\n$ javac T1.java\r\n$ javap -s T1\r\nCompiled from &quot;T1.java&quot;\r\npublic class T1 implements java.lang.Cloneable {\r\n  public T1 clone();\r\n    descriptor: ()LT1;\r\n\r\n  public java.lang.Object clone() throws java.lang.CloneNotSupportedException;\r\n    descriptor: ()Ljava/lang/Object;\r\n}\r\n```\r\n\r\nThese two methods have different result type and the same input signature. If I try to add a second method to code I will get a compile time error.\r\n\r\n```\r\n    public T1     clone() { return new T1(this); }\r\n    public Object clone() { return null; }\r\n...\r\n$ java T1.java\r\nT1.java:7: error: method clone() is already defined in class T1\r\n    public Object clone() { return (null); }\r\n```\r\n\r\nSo why javac adds the second method? And how java links methods with the same input signature?","title":"Why javac adds clone-method and how java separates and links methods with same signature?","body":"<p>Let's look at the following example.</p>\n<pre><code>public class T1 implements Cloneable {\n    private T1(T1 g) {}\n\n    public T1 clone() { return new T1(this); }\n}\n</code></pre>\n<p>There are two clone methods in a bytecode.</p>\n<pre><code>$ javac T1.java\n$ javap -s T1\nCompiled from &quot;T1.java&quot;\npublic class T1 implements java.lang.Cloneable {\n  public T1 clone();\n    descriptor: ()LT1;\n\n  public java.lang.Object clone() throws java.lang.CloneNotSupportedException;\n    descriptor: ()Ljava/lang/Object;\n}\n</code></pre>\n<p>These two methods have different result type and the same input signature. If I try to add a second method to code I will get a compile time error.</p>\n<pre><code>    public T1     clone() { return new T1(this); }\n    public Object clone() { return null; }\n...\n$ java T1.java\nT1.java:7: error: method clone() is already defined in class T1\n    public Object clone() { return (null); }\n</code></pre>\n<p>So why javac adds the second method? And how java links methods with the same input signature?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696433277,"post_id":77230887,"comment_id":136152967,"body_markdown":"Even if you have nothing in `&lt;build&gt;&lt;/build&gt;`, you could have some misconfigured plugin in some parent pom.  Check with `mvn help:effective-pom`.","body":"Even if you have nothing in <code>&lt;build&gt;&lt;&#47;build&gt;</code>, you could have some misconfigured plugin in some parent pom.  Check with <code>mvn help:effective-pom</code>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1696439520,"post_id":77230887,"comment_id":136154240,"body_markdown":"You should follow convention over configuration and use the default directory location which means `src/main/resources/`etc. etc. Why have you decided to go a different path? (https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html) Please also show the full pom file ...","body":"You should follow convention over configuration and use the default directory location which means <code>src&#47;main&#47;resources&#47;</code>etc. etc. Why have you decided to go a different path? (<a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>) Please also show the full pom file ..."}],"owner":{"account_id":1067089,"reputation":65,"user_id":6058424,"display_name":"Ahmet Sevki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696433016,"creation_date":1696433016,"question_id":77230887,"body_markdown":"I have a `src` folder that has `resources/META-INF` under it. \r\n\r\nIf I do `mvn clean process-resources`, I can see all files under `META-INF` ending up in `target/classes/META-INF` folder. \r\n\r\nHowever after this if I do compile `mvn compile`, those files are gone. As if almost, `mvn compile` is overwriting the `target` folder.\r\n\r\nSo, I need to do `mvn clean compile compile` if I want those resource files to end up in target folder. This way, the second compile will not do anything because says `Nothing to compile - all classes are up to date`.\r\n\r\nThis happens even if I have nothing in `&lt;build&gt;&lt;/build&gt;`.","title":"mvn compile phase is deleting the resources copied in process-resources phase","body":"<p>I have a <code>src</code> folder that has <code>resources/META-INF</code> under it.</p>\n<p>If I do <code>mvn clean process-resources</code>, I can see all files under <code>META-INF</code> ending up in <code>target/classes/META-INF</code> folder.</p>\n<p>However after this if I do compile <code>mvn compile</code>, those files are gone. As if almost, <code>mvn compile</code> is overwriting the <code>target</code> folder.</p>\n<p>So, I need to do <code>mvn clean compile compile</code> if I want those resource files to end up in target folder. This way, the second compile will not do anything because says <code>Nothing to compile - all classes are up to date</code>.</p>\n<p>This happens even if I have nothing in <code>&lt;build&gt;&lt;/build&gt;</code>.</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1696258977,"post_id":77216507,"comment_id":136126791,"body_markdown":"With only 8 threads in a thread pool, it&#39;s possible that you just run out of threads.  Once all threads are in use, there aren&#39;t any more.  Could you arrange to dump the state of the thread pool, so we can see where all the threads are executing?  A debugger might help with this, as they can do that dynamically.","body":"With only 8 threads in a thread pool, it&#39;s possible that you just run out of threads.  Once all threads are in use, there aren&#39;t any more.  Could you arrange to dump the state of the thread pool, so we can see where all the threads are executing?  A debugger might help with this, as they can do that dynamically."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1696259178,"post_id":77216507,"comment_id":136126831,"body_markdown":"Thanks for the hint. I am starting to believe that as well. But everytime the transaction completes, the Thread should be done =&gt; closed? Do i have to free threadpool resources manually? I&#39;ll try to get state info about the threadpool. might take a sec... ;)","body":"Thanks for the hint. I am starting to believe that as well. But everytime the transaction completes, the Thread should be done =&gt; closed? Do i have to free threadpool resources manually? I&#39;ll try to get state info about the threadpool. might take a sec... ;)"},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1696260182,"post_id":77216507,"comment_id":136127065,"body_markdown":"Just added stateinfo to the log, but it seems as there should be plenty of available threads, as the active count is zero when running into stuckness.","body":"Just added stateinfo to the log, but it seems as there should be plenty of available threads, as the active count is zero when running into stuckness."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1696264008,"post_id":77216507,"comment_id":136127784,"body_markdown":"Note that `new ObjectInputStream(input)` and `new ObjectOutputStream(output)` calls cause read and write to the underlying stream, so will block if the other side of the communication isn&#39;t processing. You haven&#39;t shown enough code of client + server to tell, nor stack traces which might help.","body":"Note that <code>new ObjectInputStream(input)</code> and <code>new ObjectOutputStream(output)</code> calls cause read and write to the underlying stream, so will block if the other side of the communication isn&#39;t processing. You haven&#39;t shown enough code of client + server to tell, nor stack traces which might help."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696294581,"post_id":77216507,"comment_id":136131951,"body_markdown":"Please provide code in the question as a [mre]. Otherwise, all anyone can do is guess.","body":"Please provide code in the question as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Otherwise, all anyone can do is guess."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1696341982,"post_id":77216507,"comment_id":136138503,"body_markdown":"Sorry, but I can&#39;t provide the neede minimal reproducible example, as it is part of a bigger framework. I am fine with just guesses, which I can invest on further. I have done some further research now and it looks like the thread just stops executing in the middle of the code (everytime on a different line). It does not throw any Throwable and just stops. I&#39;ve already increased the usabel cores/threads on the machine, but no difference. The code just stops running. Never have seen this behaviour before.","body":"Sorry, but I can&#39;t provide the neede minimal reproducible example, as it is part of a bigger framework. I am fine with just guesses, which I can invest on further. I have done some further research now and it looks like the thread just stops executing in the middle of the code (everytime on a different line). It does not throw any Throwable and just stops. I&#39;ve already increased the usabel cores/threads on the machine, but no difference. The code just stops running. Never have seen this behaviour before."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696438925,"post_id":77216507,"comment_id":136154121,"body_markdown":"You must create the object output stream before the object input stream, at both ends. Otherwise you can get a deadlock. It has nothing to to with the executor.","body":"You must create the object output stream before the object input stream, at both ends. Otherwise you can get a deadlock. It has nothing to to with the executor."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1696439564,"post_id":77216507,"comment_id":136154254,"body_markdown":"@user207421 you&#39;ve seen my answer below?","body":"@user207421 you&#39;ve seen my answer below?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696459117,"post_id":77216507,"comment_id":136157416,"body_markdown":"Sure. Doesn&#39;t change what I said. Seen it many times. @DuncG said the same thing, also correct. See the Javadoc.","body":"Sure. Doesn&#39;t change what I said. Seen it many times. @DuncG said the same thing, also correct. See the Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696432914,"creation_date":1696432914,"answer_id":77230877,"question_id":77216507,"body_markdown":"I think I figured it out: the thread on serverside did some printing to stdout (good old System.out.println) and apparentely if you start a java process via \r\n\r\n    Runtime.getRuntime().exec(cmd);\r\n\r\n, which the server side started like, then there seems to be a limit to what can be printed to stdout? So after a while it just stopped running on the printout line. Found this with the jstack tool and after removing the &quot;logging&quot; to stdout completely all went through without issues :) So after all there was never an issue with the socket connection, just some weirdness when running a java process via java and using System.out.println...","title":"sockets acting weird in combination with threadpoolexecutor","body":"<p>I think I figured it out: the thread on serverside did some printing to stdout (good old System.out.println) and apparentely if you start a java process via</p>\n<pre><code>Runtime.getRuntime().exec(cmd);\n</code></pre>\n<p>, which the server side started like, then there seems to be a limit to what can be printed to stdout? So after a while it just stopped running on the printout line. Found this with the jstack tool and after removing the &quot;logging&quot; to stdout completely all went through without issues :) So after all there was never an issue with the socket connection, just some weirdness when running a java process via java and using System.out.println...</p>\n"}],"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696432914,"creation_date":1696258538,"question_id":77216507,"body_markdown":"I have a really confusing situation here. I have two sides (client/server) and try to send data between them via sockets/objectoutputstream/objectinputstream. I have something like this:\r\n\r\nSERVER:\r\n\r\n    public static void main (String[] a){\r\n        ThreadPoolExecutor transactionThreadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(8);\r\n        serverSocket = new ServerSocket(portNum);\r\n        serverSocket.setSoTimeout(Constants.CONTROL_SERVERSOCKET_SOTIMEOUT);\r\n        while (true){\r\n          try {\r\n            transactionThreadPoolExecutor.submit(new Transaction(dataSource, serverSocket.accept()));\r\n          }catch(SocketTimeoutException e) {\r\n    \t\t\t\t\tLogger.logInfoSysOutEncapsulated(&quot;default Socket Timeout reached!&quot;, getClass());\r\n    \t  }\r\n        }\r\n    }\r\n\r\nTRANSACTION implements Runnable:\r\n\r\n    ...\r\n    public Transaction(ConduitDataSource source, Socket socket){\r\n    ...\r\n        Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;)opening on port: &quot; + socket.getLocalPort() + &quot;...&quot;, getClass());\r\n    ...\r\n    }\r\n    ...\r\n    @Override\r\n    \tpublic void run() {\r\n    \t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) running!&quot;, getClass());\r\n    \t\tInputStream input = null;\r\n    \t\tOutputStream output = null;\r\n    \t\tObjectInputStream objectInput = null;\r\n    \t\tObjectOutputStream objectOutput = null;\r\n    \t\ttry {\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating inputstream...&quot;, getClass());\r\n    \t\t\tinput = socket.getInputStream();\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating outputstream...&quot;, getClass());\r\n    \t\t\toutput = socket.getOutputStream();\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating objectInputstream...&quot;, getClass());\r\n    \t\t\tobjectInput = new ObjectInputStream(input);\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating objectOutputstream...&quot;, getClass());\r\n    \t\t\tobjectOutput = new ObjectOutputStream(output);\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) stream&#39;s ready. reading transaction id...&quot;, getClass());\r\n    \t\t\ttransactionId = 02.10.23-04:23:55@com.ffleuchten.conduit.peripheral.utils.ConduitConnector: (18801883-15c9-457f-960d-17a57c4e97ee)objectoutputstream created: java.io.ObjectOutputStream@7de62196(UUID) objectInput.readObject();\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) stream&#39;s ready. reading transaction type...&quot;, getClass());\r\n    \t\t\ttransactionType = objectInput.readByte();\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) reading transaction params...&quot;, getClass());\r\n    \t\t\tparameters = (Map&lt;String, Object&gt;)objectInput.readObject();\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) reading transaction expected fields...&quot;, getClass());\r\n    \t\t\tfields = (List&lt;String&gt;)objectInput.readObject();\r\n    \t\t\tResultSet result = null;\r\n    \t\t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) TransactionType: &quot; + transactionType, getClass());\r\n    \t\t\tswitch(transactionType) {\r\n    ...\r\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) writing result: &quot; + result, getClass());\r\n    \t    objectOutput.writeObject(result);\r\n    \t    objectOutput.flush();\r\n    \t\tLogger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) transaction complete!&quot;, getClass());\r\n\r\nCLIENT:\r\n\r\n    ...\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)opening socket connection to &quot; + Constants.getGatewayHostAddress() + &quot;@&quot; + port, ConduitConnector.class);\r\n    socket = new Socket(Constants.getGatewayHostAddress(), port);\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)socket created!&quot;, java.io.ObjectOutputStream@7de62196or.class);\r\n   \toutput = socket.getOutputStream();\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)outputstream created:&quot; + output, ConduitConnector.class);\r\n    input = socket.getInputStream();\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)inputstream created: &quot; + input, ConduitConnector.class);\r\n    objectOutput = new ObjectOutputStream(output);\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)objectoutputstream created: &quot; + objectOutput, ConduitConnector.class);\r\n    objectInput = new ObjectInputStream(input);\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)objectinputstream created: &quot; + objectInput, ConduitConnector.class);\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)waiting for transaction response...&quot;, ConduitConnector.class);\r\n    result = (ResultSet) objectInput.readObject();\r\n    Logger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)transaction complete!&quot;, ConduitConnector.class);\r\n        ...\r\n\r\nSo basically what should happen is, that every time the client opens a connection it should start a new thread at serverside handling the communication via the Transaction class.\r\nBut it gets stuck on creating the objectinputstream.\r\n\r\nAccording to the log files, the last line on the Server side is:\r\n\r\n    02.10.23-04:23:55@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined))opening on port: 33209...\r\n\r\nSo this states it is in the constructor of the Transaction class and should proceed with running the run() method. But it never does. The Client side get&#39;s stuck where last log line is:\r\n\r\n    02.10.23-04:23:55@com.ffleuchten.conduit.peripheral.utils.ConduitConnector: (18801883-15c9-457f-960d-17a57c4e97ee)objectoutputstream created: java.io.ObjectOutputStream@7de62196\r\n\r\nwhich tells me, that it is right before creating the objectinputstream, which it never does.\r\n\r\nFunny thing is: 45 transactions are handled correct(counting the transaction complete lines in the log). But the 46th transaction get&#39;s stuck. btw: all the transactions do the same on server side.\r\n\r\nSo what&#39;s happening here? Does anyone has any suggestions on why this is happening? It feels like the treadpoolexecutor never executes the Transaction run method. But if so, why does the client get stuck on creating the objectinputstream then? shouldn&#39;t it stop when client is trying to receive data from the (not executing) server side?\r\nI am out of ideas about this one. Any help is highly appreciated ;)\r\n\r\nas mentioned in the comments I added some status info about the threadpoolexecutor to the logs. I can now see, that it should be fine before it get&#39;s stuck(at the same position as always, before creating the objectinputstream):\r\n\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: conduit listening on port: 40423...\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool active count: 0...\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool completed task count: 41...\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool task count: 42...\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool queue size: 1...\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) running!\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) creating inputstream...\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) creating outputstream...\r\n    02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) creating objectInputstream...","title":"sockets acting weird in combination with threadpoolexecutor","body":"<p>I have a really confusing situation here. I have two sides (client/server) and try to send data between them via sockets/objectoutputstream/objectinputstream. I have something like this:</p>\n<p>SERVER:</p>\n<pre><code>public static void main (String[] a){\n    ThreadPoolExecutor transactionThreadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(8);\n    serverSocket = new ServerSocket(portNum);\n    serverSocket.setSoTimeout(Constants.CONTROL_SERVERSOCKET_SOTIMEOUT);\n    while (true){\n      try {\n        transactionThreadPoolExecutor.submit(new Transaction(dataSource, serverSocket.accept()));\n      }catch(SocketTimeoutException e) {\n                    Logger.logInfoSysOutEncapsulated(&quot;default Socket Timeout reached!&quot;, getClass());\n      }\n    }\n}\n</code></pre>\n<p>TRANSACTION implements Runnable:</p>\n<pre><code>...\npublic Transaction(ConduitDataSource source, Socket socket){\n...\n    Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;)opening on port: &quot; + socket.getLocalPort() + &quot;...&quot;, getClass());\n...\n}\n...\n@Override\n    public void run() {\n        Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) running!&quot;, getClass());\n        InputStream input = null;\n        OutputStream output = null;\n        ObjectInputStream objectInput = null;\n        ObjectOutputStream objectOutput = null;\n        try {\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating inputstream...&quot;, getClass());\n            input = socket.getInputStream();\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating outputstream...&quot;, getClass());\n            output = socket.getOutputStream();\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating objectInputstream...&quot;, getClass());\n            objectInput = new ObjectInputStream(input);\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) creating objectOutputstream...&quot;, getClass());\n            objectOutput = new ObjectOutputStream(output);\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) stream's ready. reading transaction id...&quot;, getClass());\n            transactionId = 02.10.23-04:23:55@com.ffleuchten.conduit.peripheral.utils.ConduitConnector: (18801883-15c9-457f-960d-17a57c4e97ee)objectoutputstream created: java.io.ObjectOutputStream@7de62196(UUID) objectInput.readObject();\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) stream's ready. reading transaction type...&quot;, getClass());\n            transactionType = objectInput.readByte();\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) reading transaction params...&quot;, getClass());\n            parameters = (Map&lt;String, Object&gt;)objectInput.readObject();\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) reading transaction expected fields...&quot;, getClass());\n            fields = (List&lt;String&gt;)objectInput.readObject();\n            ResultSet result = null;\n            Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) TransactionType: &quot; + transactionType, getClass());\n            switch(transactionType) {\n...\n        Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) writing result: &quot; + result, getClass());\n        objectOutput.writeObject(result);\n        objectOutput.flush();\n        Logger.logInfoSysOutEncapsulated(&quot;Transaction (&quot; + this.toString() + &quot;) transaction complete!&quot;, getClass());\n</code></pre>\n<p>CLIENT:</p>\n<pre><code>...\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)opening socket connection to &quot; + Constants.getGatewayHostAddress() + &quot;@&quot; + port, ConduitConnector.class);\nsocket = new Socket(Constants.getGatewayHostAddress(), port);\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)socket created!&quot;, java.io.ObjectOutputStream@7de62196or.class);\noutput = socket.getOutputStream();\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)outputstream created:&quot; + output, ConduitConnector.class);\ninput = socket.getInputStream();\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)inputstream created: &quot; + input, ConduitConnector.class);\nobjectOutput = new ObjectOutputStream(output);\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)objectoutputstream created: &quot; + objectOutput, ConduitConnector.class);\nobjectInput = new ObjectInputStream(input);\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)objectinputstream created: &quot; + objectInput, ConduitConnector.class);\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)waiting for transaction response...&quot;, ConduitConnector.class);\nresult = (ResultSet) objectInput.readObject();\nLogger.logInfoSysOutEncapsulated(&quot;(&quot; + transactionId + &quot;)transaction complete!&quot;, ConduitConnector.class);\n    ...\n</code></pre>\n<p>So basically what should happen is, that every time the client opens a connection it should start a new thread at serverside handling the communication via the Transaction class.\nBut it gets stuck on creating the objectinputstream.</p>\n<p>According to the log files, the last line on the Server side is:</p>\n<pre><code>02.10.23-04:23:55@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined))opening on port: 33209...\n</code></pre>\n<p>So this states it is in the constructor of the Transaction class and should proceed with running the run() method. But it never does. The Client side get's stuck where last log line is:</p>\n<pre><code>02.10.23-04:23:55@com.ffleuchten.conduit.peripheral.utils.ConduitConnector: (18801883-15c9-457f-960d-17a57c4e97ee)objectoutputstream created: java.io.ObjectOutputStream@7de62196\n</code></pre>\n<p>which tells me, that it is right before creating the objectinputstream, which it never does.</p>\n<p>Funny thing is: 45 transactions are handled correct(counting the transaction complete lines in the log). But the 46th transaction get's stuck. btw: all the transactions do the same on server side.</p>\n<p>So what's happening here? Does anyone has any suggestions on why this is happening? It feels like the treadpoolexecutor never executes the Transaction run method. But if so, why does the client get stuck on creating the objectinputstream then? shouldn't it stop when client is trying to receive data from the (not executing) server side?\nI am out of ideas about this one. Any help is highly appreciated ;)</p>\n<p>as mentioned in the comments I added some status info about the threadpoolexecutor to the logs. I can now see, that it should be fine before it get's stuck(at the same position as always, before creating the objectinputstream):</p>\n<pre><code>02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: conduit listening on port: 40423...\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool active count: 0...\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool completed task count: 41...\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool task count: 42...\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Conduit: threadpool queue size: 1...\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) running!\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) creating inputstream...\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) creating outputstream...\n02.10.23-05:20:26@com.ffleuchten.conduit.core.Transaction: Transaction (TRANSACTION(null):undefined)) creating objectInputstream...\n</code></pre>\n"},{"tags":["java","android","android-notifications","android-8.0-oreo","android-settings"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1528383413,"post_id":50743398,"comment_id":88496408,"body_markdown":"If channel can enable/disable by third party app . Then what&#39;s the use case of having a channel ? You can not change the channel priority.","body":"If channel can enable/disable by third party app . Then what&#39;s the use case of having a channel ? You can not change the channel priority."},{"owner":{"account_id":5431272,"reputation":835,"user_id":4322067,"accept_rate":52,"display_name":"Kenenisa Bekele"},"score":0,"creation_date":1528384027,"post_id":50743398,"comment_id":88496849,"body_markdown":"You might only be able to manipulate your own app&#39;s channels. Not the other apps. It looks like it is possible to disable them programatically, setting the importance to NONE","body":"You might only be able to manipulate your own app&#39;s channels. Not the other apps. It looks like it is possible to disable them programatically, setting the importance to NONE"}],"answers":[{"tags":[],"owner":{"account_id":2985716,"reputation":1744,"user_id":2534612,"accept_rate":50,"display_name":"Jarvis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528381516,"creation_date":1528381516,"answer_id":50743730,"question_id":50743398,"body_markdown":"You can&#39;t change channel importance programmatically without deleting the channel.\r\n\r\nBecause user may have changed the importance manually.\r\n\r\nTo achieve this programmatically to get channel and create new channel with new id.\r\ndelete the old channel.\r\n **Your changes will not reflect if create channel with previous id**\r\n\r\nfor reference check WhatsApp application try to change the ringtone from application and see in channel at bottom left *x channel is deleted message*","title":"Enable notification channels programmatically","body":"<p>You can't change channel importance programmatically without deleting the channel.</p>\n\n<p>Because user may have changed the importance manually.</p>\n\n<p>To achieve this programmatically to get channel and create new channel with new id.\ndelete the old channel.\n <strong>Your changes will not reflect if create channel with previous id</strong></p>\n\n<p>for reference check WhatsApp application try to change the ringtone from application and see in channel at bottom left <em>x channel is deleted message</em></p>\n"},{"tags":[],"owner":{"account_id":1401135,"reputation":5161,"user_id":1329901,"accept_rate":44,"display_name":"Egis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696432003,"creation_date":1696432003,"answer_id":77230777,"question_id":50743398,"body_markdown":"When a notification channel is disabled, all you can do is ask the user to enable it. You can navigate the user directly to the channel settings screen.\r\n\r\n    fun openNotificationChannelSettings(context: Context, channelId: String) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val intent = Intent(Settings.ACTION_CHANNEL_NOTIFICATION_SETTINGS)\r\n            intent.putExtra(Settings.EXTRA_APP_PACKAGE, context.packageName)\r\n            intent.putExtra(Settings.EXTRA_CHANNEL_ID, channelId)\r\n            context.startActivity(intent)\r\n        }\r\n    }","title":"Enable notification channels programmatically","body":"<p>When a notification channel is disabled, all you can do is ask the user to enable it. You can navigate the user directly to the channel settings screen.</p>\n<pre><code>fun openNotificationChannelSettings(context: Context, channelId: String) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        val intent = Intent(Settings.ACTION_CHANNEL_NOTIFICATION_SETTINGS)\n        intent.putExtra(Settings.EXTRA_APP_PACKAGE, context.packageName)\n        intent.putExtra(Settings.EXTRA_CHANNEL_ID, channelId)\n        context.startActivity(intent)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5431272,"reputation":835,"user_id":4322067,"accept_rate":52,"display_name":"Kenenisa Bekele"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2695,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696432003,"creation_date":1528380586,"question_id":50743398,"body_markdown":"I am able to check if the channel is enabled/disabled with\r\n\r\n    NotificationChannel channel = manager.getNotificationChannel(channelId);\r\n    boolean isEnabled = channel.getImportance() != IMPORTANCE_NONE;\r\n\r\nBut if the channel is not enabled then I would like to enable it by setting it to IMPORTANCE_HIGH\r\n\r\n    if (!isEnabled) {\r\n    channel.setImportance(NotificationManager.IMPORTANCE_HIGH);\r\n    manager.createNotificationChannel(channel);\r\n    }\r\n\r\n\r\nThe problem is that the channel is not updated, it only works if I tried to disable it with IMPORTANCE_NONE in case it is enabled, but not the way around.\r\n\r\nI have tried to delete the channel and create a new one with a different id, that works, but not creating a new one with the same id. \r\n\r\nHow to get around this?\r\n","title":"Enable notification channels programmatically","body":"<p>I am able to check if the channel is enabled/disabled with</p>\n\n<pre><code>NotificationChannel channel = manager.getNotificationChannel(channelId);\nboolean isEnabled = channel.getImportance() != IMPORTANCE_NONE;\n</code></pre>\n\n<p>But if the channel is not enabled then I would like to enable it by setting it to IMPORTANCE_HIGH</p>\n\n<pre><code>if (!isEnabled) {\nchannel.setImportance(NotificationManager.IMPORTANCE_HIGH);\nmanager.createNotificationChannel(channel);\n}\n</code></pre>\n\n<p>The problem is that the channel is not updated, it only works if I tried to disable it with IMPORTANCE_NONE in case it is enabled, but not the way around.</p>\n\n<p>I have tried to delete the channel and create a new one with a different id, that works, but not creating a new one with the same id. </p>\n\n<p>How to get around this?</p>\n"},{"tags":["java","ogg"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696432192,"post_id":77230765,"comment_id":136152727,"body_markdown":"So if I get you correctly, you are calculating the duration by dividing the file size by the bitrate? But you are already reading metadata from the same file. So why would you expect an accurate answer?","body":"So if I get you correctly, you are calculating the duration by dividing the file size by the bitrate? But you are already reading metadata from the same file. So why would you expect an accurate answer?"},{"owner":{"account_id":15092485,"reputation":41,"user_id":11591225,"display_name":"Fabio grossi"},"score":0,"creation_date":1696432303,"post_id":77230765,"comment_id":136152750,"body_markdown":"Also tried excluding the metadata in the calculation (less than a kB), ad as you can imagine the result doesn&#39;t change. I&#39;m not expecting any accurate answer, but a 20 seconds error is too much.","body":"Also tried excluding the metadata in the calculation (less than a kB), ad as you can imagine the result doesn&#39;t change. I&#39;m not expecting any accurate answer, but a 20 seconds error is too much."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1696432675,"post_id":77230765,"comment_id":136152817,"body_markdown":"`bitrate stored in a 64bit value starting at the 48th byte` just no, ogg is container format, it can contain multiple streams encoded by different codes, also different parts of stream can have different bitrates, so there is no way current approach work, you need to properly parse it","body":"<code>bitrate stored in a 64bit value starting at the 48th byte</code> just no, ogg is container format, it can contain multiple streams encoded by different codes, also different parts of stream can have different bitrates, so there is no way current approach work, you need to properly parse it"},{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1696433172,"post_id":77230765,"comment_id":136152937,"body_markdown":"Does this solution help? https://stackoverflow.com/questions/20794204/how-to-determine-length-of-ogg-file Note that it has the same caveats about encoding and multiple streams that Ilya Bursov mentioned","body":"Does this solution help? <a href=\"https://stackoverflow.com/questions/20794204/how-to-determine-length-of-ogg-file\" title=\"how to determine length of ogg file\">stackoverflow.com/questions/20794204/&hellip;</a> Note that it has the same caveats about encoding and multiple streams that Ilya Bursov mentioned"},{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1696433259,"post_id":77230765,"comment_id":136152965,"body_markdown":"https://stackoverflow.com/search?q=%5Bjava%5D+%5Bogg%5D+length may also help. If these do not answer your question, make an edit to your question explaining any test cases or other cirucmstances. If you can edit and add a link to a few test files of known lengths that would help too","body":"<a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+%5Bogg%5D+length\">stackoverflow.com/search?q=%5Bjava%5D+%5Bogg%5D+length</a> may also help. If these do not answer your question, make an edit to your question explaining any test cases or other cirucmstances. If you can edit and add a link to a few test files of known lengths that would help too"},{"owner":{"account_id":15092485,"reputation":41,"user_id":11591225,"display_name":"Fabio grossi"},"score":0,"creation_date":1696433414,"post_id":77230765,"comment_id":136153006,"body_markdown":"Using the code in the thread i get this number 33738.5, and the track&#39;s duration should be 123 seconds","body":"Using the code in the thread i get this number 33738.5, and the track&#39;s duration should be 123 seconds"},{"owner":{"account_id":15092485,"reputation":41,"user_id":11591225,"display_name":"Fabio grossi"},"score":0,"creation_date":1696433604,"post_id":77230765,"comment_id":136153052,"body_markdown":"Okay it seems to work. I changed the first two variables&#39; type from int to long","body":"Okay it seems to work. I changed the first two variables&#39; type from int to long"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696437843,"post_id":77230765,"comment_id":136153908,"body_markdown":"Duration covered [here](https://stackoverflow.com/questions/20794204/how-to-determine-length-of-ogg-file#:~:text=The%20quickest%20way%20to%20do,per%20channel%20in%20the%20file).\n)","body":"Duration covered <a href=\"https://stackoverflow.com/questions/20794204/how-to-determine-length-of-ogg-file#:~:text=The%20quickest%20way%20to%20do,per%20channel%20in%20the%20file\">here</a>. )"}],"owner":{"account_id":15092485,"reputation":41,"user_id":11591225,"display_name":"Fabio grossi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1696431940,"creation_date":1696431940,"question_id":77230765,"body_markdown":"I wrote the following code to determine the duration of an OGG (Vorbis) file.\r\n\r\n    public static long calculateDuration(final File file) throws IOException {\r\n        long fileSize = (Files.size(file.toPath())); // Bytes\r\n        byte[] nominalBitrateBytes = {0, 0, 0, 0, 0, 0, 0, 0};\r\n        try (RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;r&quot;)) {\r\n            for (int i = 0; i &lt; 8; i++) {\r\n                randomAccessFile.seek(48L + i);\r\n                nominalBitrateBytes[i] = randomAccessFile.readByte();\r\n            }\r\n        }\r\n        long nominalBitrate = ByteBuffer.wrap(nominalBitrateBytes).order(ByteOrder.LITTLE_ENDIAN).getLong();\r\n        return fileSize / (nominalBitrate / 8);\r\n    }\r\n\r\nWith this I&#39;m reading the filesize with java.nio library and the nominal bitrate that I found out it&#39;s stored in a 64bit value starting at the 48th byte in the music file.\r\n\r\nThe problem is sometimes that the value comes out wrong and sometimes is actually accurate. For example I took a music file with a duration of 3.55min. The code outputs 227 seconds, which is near 235 of the track. As a second attempt I processed a 2.03min track, and the software&#39;s guess was 102 seconds, that is too far low (should be 123). By trying to do this calculations by hand it turns out the same values as the software (taking the filesize  with explorer.exe and the bitrate with HxD)","title":"Find the duration of an OGG music file in java","body":"<p>I wrote the following code to determine the duration of an OGG (Vorbis) file.</p>\n<pre><code>public static long calculateDuration(final File file) throws IOException {\n    long fileSize = (Files.size(file.toPath())); // Bytes\n    byte[] nominalBitrateBytes = {0, 0, 0, 0, 0, 0, 0, 0};\n    try (RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;r&quot;)) {\n        for (int i = 0; i &lt; 8; i++) {\n            randomAccessFile.seek(48L + i);\n            nominalBitrateBytes[i] = randomAccessFile.readByte();\n        }\n    }\n    long nominalBitrate = ByteBuffer.wrap(nominalBitrateBytes).order(ByteOrder.LITTLE_ENDIAN).getLong();\n    return fileSize / (nominalBitrate / 8);\n}\n</code></pre>\n<p>With this I'm reading the filesize with java.nio library and the nominal bitrate that I found out it's stored in a 64bit value starting at the 48th byte in the music file.</p>\n<p>The problem is sometimes that the value comes out wrong and sometimes is actually accurate. For example I took a music file with a duration of 3.55min. The code outputs 227 seconds, which is near 235 of the track. As a second attempt I processed a 2.03min track, and the software's guess was 102 seconds, that is too far low (should be 123). By trying to do this calculations by hand it turns out the same values as the software (taking the filesize  with explorer.exe and the bitrate with HxD)</p>\n"},{"tags":["java","google-app-engine","oauth-2.0","google-shared-contacts"],"answers":[{"tags":[],"owner":{"account_id":5744747,"reputation":1838,"user_id":4742188,"accept_rate":79,"display_name":"Khalil M"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1565940679,"creation_date":1501598816,"answer_id":45441031,"question_id":45437557,"body_markdown":"You need to go through the verification process before you launch your app. This new process came recently to protect user&#39;s data. You can start the verification by submitting this [form][1] but before it is recommended to follow steps [here][2] \r\n\r\n\r\n  [1]: https://support.google.com/code/contact/oauth_app_verification\r\n  [2]: https://support.google.com/cloud/answer/7454865","title":"This app isn&#39;t verified This app hasn&#39;t been verified by Google yet. Only proceed if you know and trust the developer","body":"<p>You need to go through the verification process before you launch your app. This new process came recently to protect user's data. You can start the verification by submitting this <a href=\"https://support.google.com/code/contact/oauth_app_verification\" rel=\"noreferrer\">form</a> but before it is recommended to follow steps <a href=\"https://support.google.com/cloud/answer/7454865\" rel=\"noreferrer\">here</a> </p>\n"}],"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75515,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":1,"score":40,"last_activity_date":1696431876,"creation_date":1501589779,"question_id":45437557,"body_markdown":"Hi I have developed an web application using google app engine, for `google shared domain contact`, Its working fine when I am running it in the localhost but when I deploy that application into google app engine it showing warning screen before user conforming for consent(as shown in the image).\r\n\r\n[![error message before consent][1]][1]\r\n\r\nI am using 2 scope `http://www.google.com/m8/feeds/contacts/` and `https://www.googleapis.com/auth/userinfo.email`. when I try to add a user information in the google shared contact I am getting a exception message as `www.google.com`. How can I resolve the problem? am i need to verify my application in the `oauth_app_verification`. Can any one solve this?\r\n\r\n\r\nThank you.,\r\n\r\n  [1]: https://i.stack.imgur.com/bjBX1.png","title":"This app isn&#39;t verified This app hasn&#39;t been verified by Google yet. Only proceed if you know and trust the developer","body":"<p>Hi I have developed an web application using google app engine, for <code>google shared domain contact</code>, Its working fine when I am running it in the localhost but when I deploy that application into google app engine it showing warning screen before user conforming for consent(as shown in the image).</p>\n\n<p><a href=\"https://i.stack.imgur.com/bjBX1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bjBX1.png\" alt=\"error message before consent\"></a></p>\n\n<p>I am using 2 scope <code>http://www.google.com/m8/feeds/contacts/</code> and <code>https://www.googleapis.com/auth/userinfo.email</code>. when I try to add a user information in the google shared contact I am getting a exception message as <code>www.google.com</code>. How can I resolve the problem? am i need to verify my application in the <code>oauth_app_verification</code>. Can any one solve this?</p>\n\n<p>Thank you.,</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1696342237,"post_id":77221762,"comment_id":136138569,"body_markdown":"Spring Boot starters all depend upon [`spring-boot-starter-logging`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging/3.1.4). Unless you exclude it (check `mvn dependency:tree`) you&#39;ll have Logback on your classpath. Spring Boot is configured to prefer Logback over Log4j Core.","body":"Spring Boot starters all depend upon <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging/3.1.4\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-logging</code></a>. Unless you exclude it (check <code>mvn dependency:tree</code>) you&#39;ll have Logback on your classpath. Spring Boot is configured to prefer Logback over Log4j Core."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1696342389,"post_id":77221762,"comment_id":136138600,"body_markdown":"Check also [Ralph&#39;s answer](https://stackoverflow.com/q/62915965/11748454).","body":"Check also <a href=\"https://stackoverflow.com/q/62915965/11748454\">Ralph&#39;s answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":24045358,"reputation":42,"user_id":18024421,"display_name":"Vasiliy Volk"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1696333587,"creation_date":1696333587,"answer_id":77221974,"question_id":77221762,"body_markdown":"Try using:\r\n\r\n    org.slf4j.Logger\r\n\r\nAccordingly, the configuration file:\r\n\r\n    logback-spring.xml","title":"log4j2.xml is not recognised by Spring Boot","body":"<p>Try using:</p>\n<pre><code>org.slf4j.Logger\n</code></pre>\n<p>Accordingly, the configuration file:</p>\n<pre><code>logback-spring.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696431514,"creation_date":1696337023,"answer_id":77222373,"question_id":77221762,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.11&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nTry adding these 3 dependencies.\r\n\r\nCreate a variable in java file\r\n\r\n    private final Logger logRefInJava = LoggerFactory.getLogger(&quot;logRefInJava&quot;);\r\n\r\nAnd then write a log using above variable\r\n\r\n    logRefInJava.info(&quot;This is an info log&quot;);\r\n\r\nlogback.xml in `main/resources`. You can create as many files as you want. Just different variables and accordingly give a reference  into logback.xml.\r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;loggerName&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n            &lt;file&gt;logs/logFileName.json&lt;/file&gt;\r\n            &lt;append&gt;true&lt;/append&gt;\r\n            &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;logRefInJava&quot; level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;loggerName&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level=&quot;debug&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nLet me know how it goes and we can discuss further. Alternatively you can share your git repository where we can work on it.","title":"log4j2.xml is not recognised by Spring Boot","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.4.11&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;version&gt;1.4.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n    &lt;version&gt;1.4.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Try adding these 3 dependencies.</p>\n<p>Create a variable in java file</p>\n<pre><code>private final Logger logRefInJava = LoggerFactory.getLogger(&quot;logRefInJava&quot;);\n</code></pre>\n<p>And then write a log using above variable</p>\n<pre><code>logRefInJava.info(&quot;This is an info log&quot;);\n</code></pre>\n<p>logback.xml in <code>main/resources</code>. You can create as many files as you want. Just different variables and accordingly give a reference  into logback.xml.</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;loggerName&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;logs/logFileName.json&lt;/file&gt;\n        &lt;append&gt;true&lt;/append&gt;\n        &lt;immediateFlush&gt;true&lt;/immediateFlush&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;logRefInJava&quot; level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;loggerName&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M\\(%line\\) - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;debug&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Let me know how it goes and we can discuss further. Alternatively you can share your git repository where we can work on it.</p>\n"}],"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77221974,"answer_count":2,"score":0,"last_activity_date":1696431514,"creation_date":1696331745,"question_id":77221762,"body_markdown":"I am trying to create logs using the log4j-core Maven dependency in Spring Boot. When I try to use below code in application.properties, error logs are generated \r\n\r\napplication.properties : \r\n```\r\n# Set the logging level for Spring Framework to ERROR\r\nlogging.level.com.crystalbi.push_notifications = INFO\r\n\r\n# Define the log file location and log pattern\r\nlogging.file.name = errorlogs/error-logs.log \r\nlogging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\r\nlogging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\r\nlogging.logback.rollingpolicy.max-file-size = 1GB\r\n```\r\nWhen I do the same with the XML file, it&#39;s not working.\r\n\r\nMy goal is to create two separate log files. One where I can store my error logs (in errorlogs folder) and my general logs (in generallogs folder). when I create a log4j2.xml file and try to run my server again to test the file, there are no logs stored in any of the folders. What exactly am I doing wrong here? \r\n\r\nmy Log4j2.xml: \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;!-- General Logs Appender --&gt;\r\n        &lt;RollingFile name=&quot;GeneralLog&quot; fileName=&quot;generalLogs/app.log&quot; filePattern=&quot;generalLogs/app-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/RollingFile&gt;\r\n        \r\n        &lt;!-- Error Logs Appender --&gt;\r\n        &lt;RollingFile name=&quot;ErrorLog&quot; fileName=&quot;errorlogs/error.log&quot; filePattern=&quot;errorlogs/error-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Filters&gt;\r\n                &lt;ThresholdFilter level=&quot;ERROR&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n            &lt;/Filters&gt;\r\n        &lt;/RollingFile&gt;\r\n        \r\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    \r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.mkyong&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;GeneralLog&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.springframework.boot&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;ErrorLog&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;ERROR&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;GeneralLog&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;ErrorLog&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n\r\nMy Maven dependency: \r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI expect to get the logs in their respective folders, but it won&#39;t work, and I don&#39;t know why. I am using Spring Boot 3.1.3. I am new to this logging concept and have never worked with this.","title":"log4j2.xml is not recognised by Spring Boot","body":"<p>I am trying to create logs using the log4j-core Maven dependency in Spring Boot. When I try to use below code in application.properties, error logs are generated</p>\n<p>application.properties :</p>\n<pre><code># Set the logging level for Spring Framework to ERROR\nlogging.level.com.crystalbi.push_notifications = INFO\n\n# Define the log file location and log pattern\nlogging.file.name = errorlogs/error-logs.log \nlogging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\nlogging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\nlogging.logback.rollingpolicy.max-file-size = 1GB\n</code></pre>\n<p>When I do the same with the XML file, it's not working.</p>\n<p>My goal is to create two separate log files. One where I can store my error logs (in errorlogs folder) and my general logs (in generallogs folder). when I create a log4j2.xml file and try to run my server again to test the file, there are no logs stored in any of the folders. What exactly am I doing wrong here?</p>\n<p>my Log4j2.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;!-- General Logs Appender --&gt;\n        &lt;RollingFile name=&quot;GeneralLog&quot; fileName=&quot;generalLogs/app.log&quot; filePattern=&quot;generalLogs/app-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/RollingFile&gt;\n        \n        &lt;!-- Error Logs Appender --&gt;\n        &lt;RollingFile name=&quot;ErrorLog&quot; fileName=&quot;errorlogs/error.log&quot; filePattern=&quot;errorlogs/error-%d{yyyy-MM-dd}-%i.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Filters&gt;\n                &lt;ThresholdFilter level=&quot;ERROR&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n            &lt;/Filters&gt;\n        &lt;/RollingFile&gt;\n        \n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    \n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.mkyong&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;GeneralLog&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.springframework.boot&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;ErrorLog&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;ERROR&quot;&gt;\n            &lt;AppenderRef ref=&quot;GeneralLog&quot;/&gt;\n            &lt;AppenderRef ref=&quot;ErrorLog&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>My Maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I expect to get the logs in their respective folders, but it won't work, and I don't know why. I am using Spring Boot 3.1.3. I am new to this logging concept and have never worked with this.</p>\n"},{"tags":["java","drools"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1696263022,"post_id":77216973,"comment_id":136127615,"body_markdown":"You almost certainly want to spend some time pruning your code down to [mcve] form (and mostly _not_ so you can put it in your post, that&#39;s a bonus if you&#39;re still stuck at the end, but because forcing yourself to try to reproduce the problem with almost no code, and hardcoded inputs, almost always makes you discover what&#39;s really going on, answering your own question)","body":"You almost certainly want to spend some time pruning your code down to <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> form (and mostly <i>not</i> so you can put it in your post, that&#39;s a bonus if you&#39;re still stuck at the end, but because forcing yourself to try to reproduce the problem with almost no code, and hardcoded inputs, almost always makes you discover what&#39;s really going on, answering your own question)"}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696267644,"creation_date":1696267644,"answer_id":77217398,"question_id":77216973,"body_markdown":"Your simplified example rules do not show the issue you are seeing.\r\n\r\nThey&#39;re very nice, mutually exclusive rules. That means that, given a single input (eg. `Applicant{ experienceInYears: X }` ), at most one rule will ever fire. This is because if X is 5, then only &quot;myRule3&quot; is valid; same as if X is 15, only &quot;myRule2&quot; meets the criteria; and so on.\r\n\r\nFor the 3 example rules you&#39;ve shown, given only these rules and a given input, you will only ever see up to 1 value in the global. Note that if the experienceInYears is not 5, 10, or 15, the global list would be expected to be empty (or, at least, as empty as it was prior to firing the rules.)\r\n\r\n---\r\n\r\nBuried in your post is this seemingly innocuous secondary question:\r\n\r\n&gt; In my code, I&#39;m creating a new KieSession each time I execute the rules. However, could the use of global variables in the when clause, combined with concurrent rule execution, be causing this unexpected behavior?\r\n\r\nYour example rules don&#39;t show this, but if this is what your real rules are doing -- this is clearly the issue.\r\n\r\n**Never** reference the global in your when clause.\r\n\r\nGlobals are not facts; updates to them are not visible to the engine. If you modify `Applicant`, you can call `update($applicant)` and the drools engine will reevaluate the rule matches based on the new state of the inputs and you&#39;ll see new rules firing (or not, as depends on the state of the working memory.) You cannot call `update( myList )`. \r\n\r\nYou can put new items in the global all you&#39;d like, but you must not attempt to reference its state.","title":"Unexpected drools behaviour","body":"<p>Your simplified example rules do not show the issue you are seeing.</p>\n<p>They're very nice, mutually exclusive rules. That means that, given a single input (eg. <code>Applicant{ experienceInYears: X }</code> ), at most one rule will ever fire. This is because if X is 5, then only &quot;myRule3&quot; is valid; same as if X is 15, only &quot;myRule2&quot; meets the criteria; and so on.</p>\n<p>For the 3 example rules you've shown, given only these rules and a given input, you will only ever see up to 1 value in the global. Note that if the experienceInYears is not 5, 10, or 15, the global list would be expected to be empty (or, at least, as empty as it was prior to firing the rules.)</p>\n<hr />\n<p>Buried in your post is this seemingly innocuous secondary question:</p>\n<blockquote>\n<p>In my code, I'm creating a new KieSession each time I execute the rules. However, could the use of global variables in the when clause, combined with concurrent rule execution, be causing this unexpected behavior?</p>\n</blockquote>\n<p>Your example rules don't show this, but if this is what your real rules are doing -- this is clearly the issue.</p>\n<p><strong>Never</strong> reference the global in your when clause.</p>\n<p>Globals are not facts; updates to them are not visible to the engine. If you modify <code>Applicant</code>, you can call <code>update($applicant)</code> and the drools engine will reevaluate the rule matches based on the new state of the inputs and you'll see new rules firing (or not, as depends on the state of the working memory.) You cannot call <code>update( myList )</code>.</p>\n<p>You can put new items in the global all you'd like, but you must not attempt to reference its state.</p>\n"}],"owner":{"account_id":21319754,"reputation":63,"user_id":15693120,"display_name":"msdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696431500,"creation_date":1696262803,"question_id":77216973,"body_markdown":"I&#39;m experiencing unexpected behavior with Drools rules. I have a global variable, myList, which is a collection. I&#39;m modifying this list based on conditions in the when clause of my rules. However, when multiple rules run simultaneously, I&#39;m getting unexpected results.\r\n\r\nHere&#39;s a simplified example of my rules:\r\n\r\n\r\n```\r\nglobal Collection myList\r\n\r\nrule &quot;myRule1&quot;\r\nwhen\r\n    Applicant(experienceInYears == 10)\r\nthen\r\n    myList.add(&quot;level7&quot;);\r\nend\r\n```\r\n```\r\nglobal Collection myList\r\n\r\nrule &quot;myRule2&quot;\r\nwhen\r\n    Applicant(experienceInYears == 15)\r\nthen\r\n    myList.add(&quot;level8&quot;);\r\nend\r\n```\r\n```\r\nglobal Collection myList\r\n\r\nrule &quot;myRule3&quot;\r\nwhen\r\n    Applicant(experienceInYears == 5)\r\nthen\r\n    myList.add(&quot;level3&quot;);\r\nend\r\n```\r\n\r\nThe rules are triggered by different inputs, and in one scenario, a rule ran successfully for experienceInYears = 5, adding &quot;level3&quot; to myList.\r\n\r\nHowever, when a subsequent rule ran for experienceInYears = 15, I expected &quot;level8&quot; to be added to myList, but it still contained &quot;level3&quot;. These rules ran almost simultaneously. \r\n\r\nIn my code, I&#39;m creating a new KieSession each time I execute the rules. However, could the use of global variables in the when clause, combined with concurrent rule execution, be causing this unexpected behavior?\r\n\r\nHere&#39;s a snippet of my code:\r\n\r\n```\r\npublic void executeRules(DomainEventRulesProvider rulesProvider, Object fact, Map&lt;String, Object&gt; globals) throws RuleEvaluationException {\r\n    // Create a new KieSession each time\r\n    final KieContainer kieContainer = droolsKieContainerProvider.getKieContainer(rulesProvider);\r\n    final KieSession session = kieContainer.newKieSession();\r\n\r\n   CloseableKieSession closeableSession = new CloseableKieSession(session);\r\n        final KieSession kieSession = closeableSession.getSession();\r\n        if(globals != null) {\r\n            globals.forEach((key, val) -&gt; {\r\n                if (val == null) {\r\n                    throw new IllegalArgumentException(&quot;Null value passed for global variable: &quot; + key);\r\n                }\r\n                kieSession.setGlobal(key, val);\r\n            });\r\n        }\r\n        setupFactAndFireAllRules(fact, kieSession);\r\n}\r\n\r\n// Set up the fact and fire all rules\r\nprivate void setupFactAndFireAllRules(Object fact, KieSession kieSession) {\r\n    kieSession.insert(fact);\r\n    kieSession.fireAllRules();\r\n}\r\n```\r\n\r\nI&#39;m using Drools with a singleton KieContainer, but I create a new KieSession for each execution of the function. In this function, I check if my globals map is null; it&#39;s essentially a map with a string key and a list value. The list is supposed to be modified by Drools rules. \r\n\r\nI suspect that concurrent rule execution may be the cause of the unexpected behavior. Any insights or suggestions on how to handle this issue would be greatly appreciated.\r\n\r\n\r\nIs there any way I can test the concurrent execution of these rules and find a root cause in case such errors occur\r\n\r\n```\r\n public KieContainer getKieContainer(@NonNull final RulesProvider rulesProvider) {\r\n        if (containerCache.containsKey(rulesProvider.getKieBaseName())) {\r\n            return containerCache.get(rulesProvider.getKieBaseName());\r\n        }\r\n\r\n        final KieServices ks = KieServices.Factory.get();\r\n        final KieRepository kr = ks.getRepository();\r\n        final KieFileSystem kfs = ks.newKieFileSystem();\r\n        final KieModuleModel km = ks.newKieModuleModel();\r\n        final List&lt;Resource&gt; rules = rulesProvider.getRules();\r\n        rules.forEach(kfs::write);\r\n        km.newKieBaseModel(rulesProvider.getKieBaseName())\r\n                .newKieSessionModel(rulesProvider.getKieSessionName())\r\n                .setDefault(true);\r\n        kfs.writeKModuleXML(km.toXML());\r\n\r\n        final KieBuilder kb = ks.newKieBuilder(kfs);\r\n        kb.buildAll();\r\n        if (kb.getResults().hasMessages(Message.Level.ERROR)) {\r\n            throw new KieContainerBuildException(&quot;Build Errors:\\n&quot; + kb.getResults().toString());\r\n        }\r\n\r\n        final KieContainer container = ks.newKieContainer(kr.getDefaultReleaseId());\r\n        containerCache.put(rulesProvider.getKieBaseName(), container);\r\n        log.info(&quot;KieContainer created for : {}&quot;, rulesProvider.getKieBaseName());\r\n        return container;\r\n    }\r\n```\r\n\r\n\r\n","title":"Unexpected drools behaviour","body":"<p>I'm experiencing unexpected behavior with Drools rules. I have a global variable, myList, which is a collection. I'm modifying this list based on conditions in the when clause of my rules. However, when multiple rules run simultaneously, I'm getting unexpected results.</p>\n<p>Here's a simplified example of my rules:</p>\n<pre><code>global Collection myList\n\nrule &quot;myRule1&quot;\nwhen\n    Applicant(experienceInYears == 10)\nthen\n    myList.add(&quot;level7&quot;);\nend\n</code></pre>\n<pre><code>global Collection myList\n\nrule &quot;myRule2&quot;\nwhen\n    Applicant(experienceInYears == 15)\nthen\n    myList.add(&quot;level8&quot;);\nend\n</code></pre>\n<pre><code>global Collection myList\n\nrule &quot;myRule3&quot;\nwhen\n    Applicant(experienceInYears == 5)\nthen\n    myList.add(&quot;level3&quot;);\nend\n</code></pre>\n<p>The rules are triggered by different inputs, and in one scenario, a rule ran successfully for experienceInYears = 5, adding &quot;level3&quot; to myList.</p>\n<p>However, when a subsequent rule ran for experienceInYears = 15, I expected &quot;level8&quot; to be added to myList, but it still contained &quot;level3&quot;. These rules ran almost simultaneously.</p>\n<p>In my code, I'm creating a new KieSession each time I execute the rules. However, could the use of global variables in the when clause, combined with concurrent rule execution, be causing this unexpected behavior?</p>\n<p>Here's a snippet of my code:</p>\n<pre><code>public void executeRules(DomainEventRulesProvider rulesProvider, Object fact, Map&lt;String, Object&gt; globals) throws RuleEvaluationException {\n    // Create a new KieSession each time\n    final KieContainer kieContainer = droolsKieContainerProvider.getKieContainer(rulesProvider);\n    final KieSession session = kieContainer.newKieSession();\n\n   CloseableKieSession closeableSession = new CloseableKieSession(session);\n        final KieSession kieSession = closeableSession.getSession();\n        if(globals != null) {\n            globals.forEach((key, val) -&gt; {\n                if (val == null) {\n                    throw new IllegalArgumentException(&quot;Null value passed for global variable: &quot; + key);\n                }\n                kieSession.setGlobal(key, val);\n            });\n        }\n        setupFactAndFireAllRules(fact, kieSession);\n}\n\n// Set up the fact and fire all rules\nprivate void setupFactAndFireAllRules(Object fact, KieSession kieSession) {\n    kieSession.insert(fact);\n    kieSession.fireAllRules();\n}\n</code></pre>\n<p>I'm using Drools with a singleton KieContainer, but I create a new KieSession for each execution of the function. In this function, I check if my globals map is null; it's essentially a map with a string key and a list value. The list is supposed to be modified by Drools rules.</p>\n<p>I suspect that concurrent rule execution may be the cause of the unexpected behavior. Any insights or suggestions on how to handle this issue would be greatly appreciated.</p>\n<p>Is there any way I can test the concurrent execution of these rules and find a root cause in case such errors occur</p>\n<pre><code> public KieContainer getKieContainer(@NonNull final RulesProvider rulesProvider) {\n        if (containerCache.containsKey(rulesProvider.getKieBaseName())) {\n            return containerCache.get(rulesProvider.getKieBaseName());\n        }\n\n        final KieServices ks = KieServices.Factory.get();\n        final KieRepository kr = ks.getRepository();\n        final KieFileSystem kfs = ks.newKieFileSystem();\n        final KieModuleModel km = ks.newKieModuleModel();\n        final List&lt;Resource&gt; rules = rulesProvider.getRules();\n        rules.forEach(kfs::write);\n        km.newKieBaseModel(rulesProvider.getKieBaseName())\n                .newKieSessionModel(rulesProvider.getKieSessionName())\n                .setDefault(true);\n        kfs.writeKModuleXML(km.toXML());\n\n        final KieBuilder kb = ks.newKieBuilder(kfs);\n        kb.buildAll();\n        if (kb.getResults().hasMessages(Message.Level.ERROR)) {\n            throw new KieContainerBuildException(&quot;Build Errors:\\n&quot; + kb.getResults().toString());\n        }\n\n        final KieContainer container = ks.newKieContainer(kr.getDefaultReleaseId());\n        containerCache.put(rulesProvider.getKieBaseName(), container);\n        log.info(&quot;KieContainer created for : {}&quot;, rulesProvider.getKieBaseName());\n        return container;\n    }\n</code></pre>\n"},{"tags":["java","spring","azure","azureservicebus","spring-jms"],"owner":{"account_id":17191106,"reputation":21,"user_id":12444856,"display_name":"Pavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696431421,"creation_date":1696431421,"question_id":77230704,"body_markdown":"I am running into an issue where, listener session closing abruptly and connection not restored and no error code. Didn&#39;t find a good solution. below is exception log\r\n\r\n``` 2023-10-03 21:41:40.521  WARN 1 --- [ontainer#0-4019] o.m.pooled.jms.JmsPoolSession            : Caught exception trying rollback() when putting session back into the pool, will invalidate. javax.jms.IllegalStateException: The Session is closed\r\n\r\njavax.jms.IllegalStateException: The Session is closed\r\n\tat org.apache.qpid.jms.JmsSession.checkClosed(JmsSession.java:1101) ~[qpid-jms-client-0.53.0.jar!/:na]\r\n\tat org.apache.qpid.jms.JmsSession.rollback(JmsSession.java:263) ~[qpid-jms-client-0.53.0.jar!/:na]\r\n\tat org.messaginghub.pooled.jms.JmsPoolSession.close(JmsPoolSession.java:112) ~[pooled-jms-1.2.4.jar!/:na]\r\n\tat org.springframework.jms.support.JmsUtils.closeSession(JmsUtils.java:109) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.clearResources(DefaultMessageListenerContainer.java:1289) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1135) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n\r\n2023-10-03 21:41:40.521  WARN 1 --- [ontainer#0-4019] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination &#39;carton-status-update&#39; - trying to recover. Cause: The MessageConsumer is closed\r\n2023-10-03 21:41:40.525  WARN 1 --- [ontainer#0-4019] o.m.pooled.jms.JmsPoolSession            : Caught exception trying rollback() when putting session back into the pool, will invalidate. javax.jms.IllegalStateException: The Session is closed\r\n\r\njavax.jms.IllegalStateException: The Session is closed\r\n\tat org.apache.qpid.jms.JmsSession.checkClosed(JmsSession.java:1101) ~[qpid-jms-client-0.53.0.jar!/:na]\r\n\tat org.apache.qpid.jms.JmsSession.rollback(JmsSession.java:263) ~[qpid-jms-client-0.53.0.jar!/:na]\r\n\tat org.messaginghub.pooled.jms.JmsPoolSession.close(JmsPoolSession.java:112) ~[pooled-jms-1.2.4.jar!/:na]\r\n\tat org.messaginghub.pooled.jms.JmsPoolConnection.cleanupAllLoanedSessions(JmsPoolConnection.java:269) ~[pooled-jms-1.2.4.jar!/:na]\r\n\tat org.messaginghub.pooled.jms.JmsPoolConnection.close(JmsPoolConnection.java:80) ~[pooled-jms-1.2.4.jar!/:na]\r\n\tat org.springframework.jms.connection.ConnectionFactoryUtils.releaseConnection(ConnectionFactoryUtils.java:81) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat org.springframework.jms.listener.AbstractJmsListeningContainer.refreshSharedConnection(AbstractJmsListeningContainer.java:394) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer.refreshConnectionUntilSuccessful(DefaultMessageListenerContainer.java:985) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer.recoverAfterListenerSetupFailure(DefaultMessageListenerContainer.java:959) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1146) ~[spring-jms-5.3.27.jar!/:5.3.27]\r\n\tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na] \r\n\r\n```\r\n\r\nBelow is my JMS listener annotation in my spring boot service\r\n\r\n        @JmsListener(destination = TOPIC_NAME, containerFactory = &quot;topicJmsListenerContainerFactory&quot;, subscription = SUBSCRIPTION_NAME, concurrency=&quot;15-20&quot;)\r\n\r\n\r\nRestore is not happening only where concurrency parameter is configured\r\n\r\nPlease help if there is something to do to automatically restore the session when concurrency is configured.\r\n\r\nPS: Following another similar question posted and replied by @[peter-pan][1] in below link\r\nhttps://stackoverflow.com/questions/37038803/azure-service-bus-queue-setup-of-jms-message-listener-invoker-failed-for-desti\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4989676/peter-pan","title":"Microsoft Azure Service Bus Session closed and not restored","body":"<p>I am running into an issue where, listener session closing abruptly and connection not restored and no error code. Didn't find a good solution. below is exception log</p>\n<pre><code>\njavax.jms.IllegalStateException: The Session is closed\n    at org.apache.qpid.jms.JmsSession.checkClosed(JmsSession.java:1101) ~[qpid-jms-client-0.53.0.jar!/:na]\n    at org.apache.qpid.jms.JmsSession.rollback(JmsSession.java:263) ~[qpid-jms-client-0.53.0.jar!/:na]\n    at org.messaginghub.pooled.jms.JmsPoolSession.close(JmsPoolSession.java:112) ~[pooled-jms-1.2.4.jar!/:na]\n    at org.springframework.jms.support.JmsUtils.closeSession(JmsUtils.java:109) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.clearResources(DefaultMessageListenerContainer.java:1289) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1135) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n\n2023-10-03 21:41:40.521  WARN 1 --- [ontainer#0-4019] o.s.j.l.DefaultMessageListenerContainer  : Setup of JMS message listener invoker failed for destination 'carton-status-update' - trying to recover. Cause: The MessageConsumer is closed\n2023-10-03 21:41:40.525  WARN 1 --- [ontainer#0-4019] o.m.pooled.jms.JmsPoolSession            : Caught exception trying rollback() when putting session back into the pool, will invalidate. javax.jms.IllegalStateException: The Session is closed\n\njavax.jms.IllegalStateException: The Session is closed\n    at org.apache.qpid.jms.JmsSession.checkClosed(JmsSession.java:1101) ~[qpid-jms-client-0.53.0.jar!/:na]\n    at org.apache.qpid.jms.JmsSession.rollback(JmsSession.java:263) ~[qpid-jms-client-0.53.0.jar!/:na]\n    at org.messaginghub.pooled.jms.JmsPoolSession.close(JmsPoolSession.java:112) ~[pooled-jms-1.2.4.jar!/:na]\n    at org.messaginghub.pooled.jms.JmsPoolConnection.cleanupAllLoanedSessions(JmsPoolConnection.java:269) ~[pooled-jms-1.2.4.jar!/:na]\n    at org.messaginghub.pooled.jms.JmsPoolConnection.close(JmsPoolConnection.java:80) ~[pooled-jms-1.2.4.jar!/:na]\n    at org.springframework.jms.connection.ConnectionFactoryUtils.releaseConnection(ConnectionFactoryUtils.java:81) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at org.springframework.jms.listener.AbstractJmsListeningContainer.refreshSharedConnection(AbstractJmsListeningContainer.java:394) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer.refreshConnectionUntilSuccessful(DefaultMessageListenerContainer.java:985) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer.recoverAfterListenerSetupFailure(DefaultMessageListenerContainer.java:959) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1146) ~[spring-jms-5.3.27.jar!/:5.3.27]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na] \n\n</code></pre>\n<p>Below is my JMS listener annotation in my spring boot service</p>\n<pre><code>    @JmsListener(destination = TOPIC_NAME, containerFactory = &quot;topicJmsListenerContainerFactory&quot;, subscription = SUBSCRIPTION_NAME, concurrency=&quot;15-20&quot;)\n</code></pre>\n<p>Restore is not happening only where concurrency parameter is configured</p>\n<p>Please help if there is something to do to automatically restore the session when concurrency is configured.</p>\n<p>PS: Following another similar question posted and replied by @<a href=\"https://stackoverflow.com/users/4989676/peter-pan\">peter-pan</a> in below link\n<a href=\"https://stackoverflow.com/questions/37038803/azure-service-bus-queue-setup-of-jms-message-listener-invoker-failed-for-desti\">Azure Service bus Queue - Setup of JMS message listener invoker failed for destination exception</a></p>\n"},{"tags":["java","elasticsearch","javafx"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696417678,"post_id":77228714,"comment_id":136149494,"body_markdown":"`cluster.name` in your client configuration should match the one in your server configuration, i.e. `VarmerES`","body":"<code>cluster.name</code> in your client configuration should match the one in your server configuration, i.e. <code>VarmerES</code>"},{"owner":{"account_id":29595290,"reputation":1,"user_id":22681935,"display_name":"LiRoNa"},"score":0,"creation_date":1696420011,"post_id":77228714,"comment_id":136149960,"body_markdown":"Sorry I uploaded the wrong image, fixed it on the post.","body":"Sorry I uploaded the wrong image, fixed it on the post."},{"owner":{"account_id":29595290,"reputation":1,"user_id":22681935,"display_name":"LiRoNa"},"score":0,"creation_date":1696420029,"post_id":77228714,"comment_id":136149965,"body_markdown":"I did connect to the VarmerES and still the same error.","body":"I did connect to the VarmerES and still the same error."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696426756,"post_id":77228714,"comment_id":136151400,"body_markdown":"The exception originates in your `MainFormController` class (see the root cause in the stack trace). It may help to post relevant code from there.","body":"The exception originates in your <code>MainFormController</code> class (see the root cause in the stack trace). It may help to post relevant code from there."}],"answers":[{"tags":[],"owner":{"account_id":29595290,"reputation":1,"user_id":22681935,"display_name":"LiRoNa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696431390,"creation_date":1696431390,"answer_id":77230699,"question_id":77228714,"body_markdown":"After many test we found out that even that the elasticsearch port is 9200 we need to access it via java in port 9300.\r\nseems to work for TransportClient on version 6.4.2\r\n","title":"ElasticSearch JAVAFX and JAVA, NoNodeAvailable NoNodeAvailableException[None of the configured nodes are available","body":"<p>After many test we found out that even that the elasticsearch port is 9200 we need to access it via java in port 9300.\nseems to work for TransportClient on version 6.4.2</p>\n"}],"owner":{"account_id":29595290,"reputation":1,"user_id":22681935,"display_name":"LiRoNa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696431390,"creation_date":1696414757,"question_id":77228714,"body_markdown":"I saw many answers to my problem but none of them helped, so I&#39;m trying to find some help.\r\nI&#39;m facing this problem for a few weeks now :/\r\n\r\nI&#39;m trying to run Java code that creates ElasticSearch connection and try to load FXML file.\r\n\r\nElasticSearch version: 6.4.2 (I know it is old, but this is the version my code support).\r\nruns of port 9200 in localhost, seems to work just fine.\r\nI hava 1 node.\r\nRuns as service.\r\n\r\nJava: 1.8 (Very old code).\r\n\r\n[enter image description here](https://i.stack.imgur.com/arRe8.png)\r\n\r\n```\r\n# ======================== Elasticsearch Configuration =========================\r\n#\r\n# NOTE: Elasticsearch comes with reasonable defaults for most settings.\r\n#       Before you set out to tweak and tune the configuration, make sure you\r\n#       understand what are you trying to accomplish and the consequences.\r\n#\r\n# The primary way of configuring a node is via this file. This template lists\r\n# the most important settings you may want to configure for a production cluster.\r\n#\r\n# Please consult the documentation for further information on configuration options:\r\n# https://www.elastic.co/guide/en/elasticsearch/reference/index.html\r\n#\r\n# ---------------------------------- Cluster -----------------------------------\r\n#\r\n# Use a descriptive name for your cluster:\r\n#\r\ncluster.name: VarmerES\r\n#\r\n# ------------------------------------ Node ------------------------------------\r\n#\r\n# Use a descriptive name for the node:\r\n#\r\nnode.name: varmer\r\n#\r\n# Add custom attributes to the node:\r\n#\r\n#node.attr.rack: r1\r\n#\r\n# ----------------------------------- Paths ------------------------------------\r\n#\r\n# Path to directory where to store the data (separate multiple locations by comma):\r\n#\r\n#path.data: /path/to/data\r\n#\r\n# Path to log files:\r\n#\r\n#path.logs: /path/to/logs\r\n#\r\n# ----------------------------------- Memory -----------------------------------\r\n#\r\n# Lock the memory on startup:\r\n#\r\n#bootstrap.memory_lock: true\r\n#\r\n# Make sure that the heap size is set to about half the memory available\r\n# on the system and that the owner of the process is allowed to use this\r\n# limit.\r\n#\r\n# Elasticsearch performs poorly when the system is swapping the memory.\r\n#\r\n# ---------------------------------- Network -----------------------------------\r\n#\r\n# Set the bind address to a specific IP (IPv4 or IPv6):\r\n#\r\n#network.host: 192.168.0.1\r\n#\r\n# Set a custom port for HTTP:\r\n#\r\n#http.port: 9200\r\n#\r\n# For more information, consult the network module documentation.\r\n#\r\n# --------------------------------- Discovery ----------------------------------\r\n#\r\n# Pass an initial list of hosts to perform discovery when new node is started:\r\n# The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]\r\n#\r\n#discovery.zen.ping.unicast.hosts: [&quot;host1&quot;, &quot;host2&quot;]\r\n#\r\n# Prevent the &quot;split brain&quot; by configuring the majority of nodes (total number of master-eligible nodes / 2 + 1):\r\n#\r\n#discovery.zen.minimum_master_nodes: \r\n#\r\n# For more information, consult the zen discovery module documentation.\r\n#\r\n# ---------------------------------- Gateway -----------------------------------\r\n#\r\n# Block initial recovery after a full cluster restart until N nodes are started:\r\n#\r\n#gateway.recover_after_nodes: 3\r\n#\r\n# For more information, consult the gateway module documentation.\r\n#\r\n# ---------------------------------- Various -----------------------------------\r\n#\r\n# Require explicit names when deleting indices:\r\n#\r\n#action.destructive_requires_name: true\r\n\r\n```\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/VdfMs.png)\r\n\r\nElasticSearch Configuration:\r\n\r\n\r\nMy code which creates the ElasticSearch connection:\r\n\r\n     public void initSever() throws IOException {\r\n        // TODO Auto-generated constructor stub\r\n        Settings settings = Settings.builder().put(&quot;cluster.name&quot;, &quot;VarmerES&quot;)\r\n                .put(&quot;client.transport.ignore_cluster_name&quot;, true)\r\n                // .put(&quot;node.client&quot;, true)\r\n                .put(&quot;client.transport.sniff&quot;, true).build();\r\n\r\n        client = new PreBuiltTransportClient(settings)\r\n                .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;localhost&quot;), 9200));\r\n        System.out.println(&quot;Elastic Search Ready- client: &quot; + client);\r\n    }\r\n\r\nThe error I&#39;m getting:\r\n\r\n```\r\njavafx.fxml.LoadException: \r\n/C:/Varmer/target/classes/MainForm.fxml\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2435)\r\n\tat gui.ScreensController.loadScreen(ScreensController.java:69)\r\n\tat gui.Main.start(Main.java:41)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:175)\r\n\tat java.base/java.lang.Thread.run(Thread.java:844)\r\nCaused by: NoNodeAvailableException[None of the configured nodes are available: [{#transport#-1}{ed6tM9UkTCWZyAXklViE4Q}{localhost}{127.0.0.1:9200}]]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:349)\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:247)\r\n\tat org.elasticsearch.client.transport.TransportProxyClient.execute(TransportProxyClient.java:60)\r\n\tat org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:381)\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:407)\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:396)\r\n\tat org.elasticsearch.client.support.AbstractClient$IndicesAdmin.execute(AbstractClient.java:1254)\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:46)\r\n\tat org.elasticsearch.action.ActionRequestBuilder.get(ActionRequestBuilder.java:53)\r\n\tat storageUtils.ESUtils.loadSimWSimType(ESUtils.java:817)\r\n\tat gui.MainFormController.loadSimWeightsSimType(MainFormController.java:518)\r\n\tat gui.MainFormController.initialize(MainFormController.java:188)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2573)\r\n\t... 13 more\r\n```\r\n\r\nthis is my JavaFX function which fails on myloader.load():\r\n\r\n    public boolean loadScreen(String name, String resource)\r\n    {\r\n        try\r\n        {\r\n            URL res=Thread.currentThread().getContextClassLoader().getResource(resource);\r\n            System.out.println(Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;));\r\n            FXMLLoader myloader = new FXMLLoader (res);\r\n            Parent loadScreen = myloader.load();\r\n            ControlledScreen myScreenController = myloader.getController();\r\n            myScreenController.setScreenParent(this);\r\n            addScreen(name, loadScreen);\r\n            return true;\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\nIf any more data needed I will provide, \r\nThank you.\r\n\r\n\r\nI tried to establish connection to elasticsearch.\r\n","title":"ElasticSearch JAVAFX and JAVA, NoNodeAvailable NoNodeAvailableException[None of the configured nodes are available","body":"<p>I saw many answers to my problem but none of them helped, so I'm trying to find some help.\nI'm facing this problem for a few weeks now :/</p>\n<p>I'm trying to run Java code that creates ElasticSearch connection and try to load FXML file.</p>\n<p>ElasticSearch version: 6.4.2 (I know it is old, but this is the version my code support).\nruns of port 9200 in localhost, seems to work just fine.\nI hava 1 node.\nRuns as service.</p>\n<p>Java: 1.8 (Very old code).</p>\n<p><a href=\"https://i.stack.imgur.com/arRe8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code># ======================== Elasticsearch Configuration =========================\n#\n# NOTE: Elasticsearch comes with reasonable defaults for most settings.\n#       Before you set out to tweak and tune the configuration, make sure you\n#       understand what are you trying to accomplish and the consequences.\n#\n# The primary way of configuring a node is via this file. This template lists\n# the most important settings you may want to configure for a production cluster.\n#\n# Please consult the documentation for further information on configuration options:\n# https://www.elastic.co/guide/en/elasticsearch/reference/index.html\n#\n# ---------------------------------- Cluster -----------------------------------\n#\n# Use a descriptive name for your cluster:\n#\ncluster.name: VarmerES\n#\n# ------------------------------------ Node ------------------------------------\n#\n# Use a descriptive name for the node:\n#\nnode.name: varmer\n#\n# Add custom attributes to the node:\n#\n#node.attr.rack: r1\n#\n# ----------------------------------- Paths ------------------------------------\n#\n# Path to directory where to store the data (separate multiple locations by comma):\n#\n#path.data: /path/to/data\n#\n# Path to log files:\n#\n#path.logs: /path/to/logs\n#\n# ----------------------------------- Memory -----------------------------------\n#\n# Lock the memory on startup:\n#\n#bootstrap.memory_lock: true\n#\n# Make sure that the heap size is set to about half the memory available\n# on the system and that the owner of the process is allowed to use this\n# limit.\n#\n# Elasticsearch performs poorly when the system is swapping the memory.\n#\n# ---------------------------------- Network -----------------------------------\n#\n# Set the bind address to a specific IP (IPv4 or IPv6):\n#\n#network.host: 192.168.0.1\n#\n# Set a custom port for HTTP:\n#\n#http.port: 9200\n#\n# For more information, consult the network module documentation.\n#\n# --------------------------------- Discovery ----------------------------------\n#\n# Pass an initial list of hosts to perform discovery when new node is started:\n# The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]\n#\n#discovery.zen.ping.unicast.hosts: [&quot;host1&quot;, &quot;host2&quot;]\n#\n# Prevent the &quot;split brain&quot; by configuring the majority of nodes (total number of master-eligible nodes / 2 + 1):\n#\n#discovery.zen.minimum_master_nodes: \n#\n# For more information, consult the zen discovery module documentation.\n#\n# ---------------------------------- Gateway -----------------------------------\n#\n# Block initial recovery after a full cluster restart until N nodes are started:\n#\n#gateway.recover_after_nodes: 3\n#\n# For more information, consult the gateway module documentation.\n#\n# ---------------------------------- Various -----------------------------------\n#\n# Require explicit names when deleting indices:\n#\n#action.destructive_requires_name: true\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VdfMs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ElasticSearch Configuration:</p>\n<p>My code which creates the ElasticSearch connection:</p>\n<pre><code> public void initSever() throws IOException {\n    // TODO Auto-generated constructor stub\n    Settings settings = Settings.builder().put(&quot;cluster.name&quot;, &quot;VarmerES&quot;)\n            .put(&quot;client.transport.ignore_cluster_name&quot;, true)\n            // .put(&quot;node.client&quot;, true)\n            .put(&quot;client.transport.sniff&quot;, true).build();\n\n    client = new PreBuiltTransportClient(settings)\n            .addTransportAddress(new TransportAddress(InetAddress.getByName(&quot;localhost&quot;), 9200));\n    System.out.println(&quot;Elastic Search Ready- client: &quot; + client);\n}\n</code></pre>\n<p>The error I'm getting:</p>\n<pre><code>javafx.fxml.LoadException: \n/C:/Varmer/target/classes/MainForm.fxml\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2435)\n    at gui.ScreensController.loadScreen(ScreensController.java:69)\n    at gui.Main.start(Main.java:41)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:175)\n    at java.base/java.lang.Thread.run(Thread.java:844)\nCaused by: NoNodeAvailableException[None of the configured nodes are available: [{#transport#-1}{ed6tM9UkTCWZyAXklViE4Q}{localhost}{127.0.0.1:9200}]]\n    at org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:349)\n    at org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:247)\n    at org.elasticsearch.client.transport.TransportProxyClient.execute(TransportProxyClient.java:60)\n    at org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:381)\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:407)\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:396)\n    at org.elasticsearch.client.support.AbstractClient$IndicesAdmin.execute(AbstractClient.java:1254)\n    at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:46)\n    at org.elasticsearch.action.ActionRequestBuilder.get(ActionRequestBuilder.java:53)\n    at storageUtils.ESUtils.loadSimWSimType(ESUtils.java:817)\n    at gui.MainFormController.loadSimWeightsSimType(MainFormController.java:518)\n    at gui.MainFormController.initialize(MainFormController.java:188)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2573)\n    ... 13 more\n</code></pre>\n<p>this is my JavaFX function which fails on myloader.load():</p>\n<pre><code>public boolean loadScreen(String name, String resource)\n{\n    try\n    {\n        URL res=Thread.currentThread().getContextClassLoader().getResource(resource);\n        System.out.println(Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;));\n        FXMLLoader myloader = new FXMLLoader (res);\n        Parent loadScreen = myloader.load();\n        ControlledScreen myScreenController = myloader.getController();\n        myScreenController.setScreenParent(this);\n        addScreen(name, loadScreen);\n        return true;\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n<p>If any more data needed I will provide,\nThank you.</p>\n<p>I tried to establish connection to elasticsearch.</p>\n"},{"tags":["java","fluent"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1696431282,"post_id":77230554,"comment_id":136152526,"body_markdown":"I may be missing something, but wouldn&#39;t you also have a plain Java getter/setter class called `Message`?  Your `MessageCreator` class would create a `Message` instance and your `MessagePublisher` class would consume and process a `Message` instance.  Some other controlling class would create an instance of `MessageCreator` and `MessagePublisher`.","body":"I may be missing something, but wouldn&#39;t you also have a plain Java getter/setter class called <code>Message</code>?  Your <code>MessageCreator</code> class would create a <code>Message</code> instance and your <code>MessagePublisher</code> class would consume and process a <code>Message</code> instance.  Some other controlling class would create an instance of <code>MessageCreator</code> and <code>MessagePublisher</code>."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1696432975,"post_id":77230554,"comment_id":136152886,"body_markdown":"Yes, I could do that but I would like to have it fluent so one method follows another without interruption.","body":"Yes, I could do that but I would like to have it fluent so one method follows another without interruption."}],"answers":[{"tags":[],"owner":{"account_id":9661155,"reputation":104,"user_id":22683654,"display_name":"Roma S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696431385,"creation_date":1696431385,"answer_id":77230698,"question_id":77230554,"body_markdown":"You can use inner class for MessageSender:  \r\n  \r\n**MessageSender.java:**  \r\n```java\r\npublic class MessageSender {\r\n  private MessagePublisher messagePublisher;\r\n  public void setPublisher(MessagePublisher publisher) {\r\n    this.messagePublisher = publisher;\r\n  }\r\n  public static void main(String[] args) {\r\n    MessageSender messageSender = new MessageSender();\r\n    messageSender.setPublisher(new MessagePublisher());\r\n    messageSender.newMessage()\r\n      .withDestination(&quot;DEST&quot;)\r\n      .withMsg(&quot;message&quot;)\r\n      .publish();\r\n  }\r\n\r\n  public MessageBuilder newMessage() {\r\n    return new MessageBuilder();\r\n  }\r\n\r\n  class MessageBuilder {\r\n    private Message message = new Message();\r\n\r\n    public MessageBuilder withMsg(String msg) {\r\n      message.setMsg(msg);\r\n      return this;\r\n    }\r\n\r\n    public MessageBuilder withDestination(String destination) {\r\n      message.setDestination(destination);\r\n      return this;\r\n    }\r\n\r\n    public void publish() {\r\n      messagePublisher.publish(message);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**MessagePublisher.java:**  \r\n```java\r\npublic class MessagePublisher {\r\n  public void publish(Message message) {\r\n    System.out.println(\r\n      String.format(\r\n        &quot;Message to be sent: Msg=%s, Dest=%s&quot;, \r\n        message.getMsg(),\r\n        message.getDestination()\r\n      )\r\n    );\r\n  }\r\n}\r\n```  \r\n**Message.java:**\r\n```java\r\npublic class Message {\r\n  private String msg;\r\n  private String destination;\r\n\r\n  public void setMsg(String msg) {\r\n    this.msg = msg;\r\n  }\r\n\r\n  public void setDestination(String destination) {\r\n    this.destination = destination;\r\n  }\r\n\r\n  public String getMsg() {return this.msg;}\r\n  public String getDestination() {return this.destination;}\r\n}\r\n```","title":"Fluent Inteface for Message Sender","body":"<p>You can use inner class for MessageSender:</p>\n<p><strong>MessageSender.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MessageSender {\n  private MessagePublisher messagePublisher;\n  public void setPublisher(MessagePublisher publisher) {\n    this.messagePublisher = publisher;\n  }\n  public static void main(String[] args) {\n    MessageSender messageSender = new MessageSender();\n    messageSender.setPublisher(new MessagePublisher());\n    messageSender.newMessage()\n      .withDestination(&quot;DEST&quot;)\n      .withMsg(&quot;message&quot;)\n      .publish();\n  }\n\n  public MessageBuilder newMessage() {\n    return new MessageBuilder();\n  }\n\n  class MessageBuilder {\n    private Message message = new Message();\n\n    public MessageBuilder withMsg(String msg) {\n      message.setMsg(msg);\n      return this;\n    }\n\n    public MessageBuilder withDestination(String destination) {\n      message.setDestination(destination);\n      return this;\n    }\n\n    public void publish() {\n      messagePublisher.publish(message);\n    }\n  }\n}\n</code></pre>\n<p><strong>MessagePublisher.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MessagePublisher {\n  public void publish(Message message) {\n    System.out.println(\n      String.format(\n        &quot;Message to be sent: Msg=%s, Dest=%s&quot;, \n        message.getMsg(),\n        message.getDestination()\n      )\n    );\n  }\n}\n</code></pre>\n<p><strong>Message.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Message {\n  private String msg;\n  private String destination;\n\n  public void setMsg(String msg) {\n    this.msg = msg;\n  }\n\n  public void setDestination(String destination) {\n    this.destination = destination;\n  }\n\n  public String getMsg() {return this.msg;}\n  public String getDestination() {return this.destination;}\n}\n</code></pre>\n"}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77230698,"answer_count":1,"score":1,"last_activity_date":1696431385,"creation_date":1696430249,"question_id":77230554,"body_markdown":"I would like to create fluent API for message sender. Lets take simple example.\r\n\r\n```java\r\nmessageSender.newMessage()\r\n    .withSomeField(&quot;some value&quot;)\r\n\t.withAnotherField(&quot;some value&quot;)\r\n.publish();\r\n```\r\n\r\nI have clases `messagePublisher` and `message`. `messagePublisher` has method `publish(message)`. How I can wrap this all together to achieve the fluent way as described above?\r\n\r\nI have came up with solution where I have class &#39;messageSender&#39; which contains instance of &#39;messagePublisher&#39; and use it to publish message. When I call `messageSender.newMessage()` it will return `messageBuilder` but this `messageBuilder` needs to have reference to messageSender, so I am than able to call the publish() method. I do not like that `messageBuilder` has reverence to `messageSender` but I am not sure how to do it differently.\r\n\r\nThanks in advance for any help or suggestions!","title":"Fluent Inteface for Message Sender","body":"<p>I would like to create fluent API for message sender. Lets take simple example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>messageSender.newMessage()\n    .withSomeField(&quot;some value&quot;)\n    .withAnotherField(&quot;some value&quot;)\n.publish();\n</code></pre>\n<p>I have clases <code>messagePublisher</code> and <code>message</code>. <code>messagePublisher</code> has method <code>publish(message)</code>. How I can wrap this all together to achieve the fluent way as described above?</p>\n<p>I have came up with solution where I have class 'messageSender' which contains instance of 'messagePublisher' and use it to publish message. When I call <code>messageSender.newMessage()</code> it will return <code>messageBuilder</code> but this <code>messageBuilder</code> needs to have reference to messageSender, so I am than able to call the publish() method. I do not like that <code>messageBuilder</code> has reverence to <code>messageSender</code> but I am not sure how to do it differently.</p>\n<p>Thanks in advance for any help or suggestions!</p>\n"},{"tags":["java","javac","internal"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1288580429,"post_id":4065401,"comment_id":4369280,"body_markdown":"What errors are you getting exactly? I can compile against `sun.awt.*` just fine with javac 1.6.0_22 (on the Mac, though).","body":"What errors are you getting exactly? I can compile against <code>sun.awt.*</code> just fine with javac 1.6.0_22 (on the Mac, though)."},{"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"score":0,"creation_date":1288628301,"post_id":4065401,"comment_id":4374736,"body_markdown":"I&#39;m doing some experiments with Swing/AWT and have to access their internals.","body":"I&#39;m doing some experiments with Swing/AWT and have to access their internals."},{"owner":{"account_id":3427592,"reputation":2988,"user_id":2872951,"display_name":"jlevy"},"score":0,"creation_date":1434408118,"post_id":4065401,"comment_id":49755626,"body_markdown":"The same issue applies to other classes like SOAP implementations in com.sun.xml.internal.messaging.saaj.util.* and the same ignore.symbol.file trick (top answer below) is a work-around. Adding this comment here to help folks searching for this problem in that context.","body":"The same issue applies to other classes like SOAP implementations in com.sun.xml.internal.messaging.saaj.util.* and the same ignore.symbol.file trick (top answer below) is a work-around. Adding this comment here to help folks searching for this problem in that context."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288585972,"creation_date":1288585972,"answer_id":4066653,"question_id":4065401,"body_markdown":"Normally, this only produces a Warning message; e.g.\r\n\r\n    [javac] /media/disk/opensso2/opensso/products/federation/openfm/source/com/sun/identity/wss/xmlsig/WSSSignatureProvider.java:46: warning: com.sun.org.apache.xpath.internal.XPathAPI is Sun proprietary API and may be removed in a future release\r\n    [javac] import com.sun.org.apache.xpath.internal.XPathAPI;\r\n\r\nPerhaps you have told the Java compiler to treat warnings as errors.","title":"Using internal sun classes with javac","body":"<p>Normally, this only produces a Warning message; e.g.</p>\n\n<pre><code>[javac] /media/disk/opensso2/opensso/products/federation/openfm/source/com/sun/identity/wss/xmlsig/WSSSignatureProvider.java:46: warning: com.sun.org.apache.xpath.internal.XPathAPI is Sun proprietary API and may be removed in a future release\n[javac] import com.sun.org.apache.xpath.internal.XPathAPI;\n</code></pre>\n\n<p>Perhaps you have told the Java compiler to treat warnings as errors.</p>\n"},{"tags":[],"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1288627713,"creation_date":1288627713,"answer_id":4070685,"question_id":4065401,"body_markdown":"I have found the answer myself.\r\n\r\nWhen javac is compiling code it doesn&#39;t link against `rt.jar` by default.\r\nInstead it uses special symbol file `lib/ct.sym` with class stubs.\r\n\r\nSurprisingly this file contains many but not all of internal sun classes.\r\nIn my case one of those more-internal-than-usual classes was `sun.awt.event.IgnorePaintEvent`.\r\n\r\nAnd the answer to my question is: `javac -XDignore.symbol.file`\r\n\r\nThat&#39;s what javac uses for compiling `rt.jar`.","title":"Using internal sun classes with javac","body":"<p>I have found the answer myself.</p>\n\n<p>When javac is compiling code it doesn't link against <code>rt.jar</code> by default.\nInstead it uses special symbol file <code>lib/ct.sym</code> with class stubs.</p>\n\n<p>Surprisingly this file contains many but not all of internal sun classes.\nIn my case one of those more-internal-than-usual classes was <code>sun.awt.event.IgnorePaintEvent</code>.</p>\n\n<p>And the answer to my question is: <code>javac -XDignore.symbol.file</code></p>\n\n<p>That's what javac uses for compiling <code>rt.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":371476,"reputation":35019,"user_id":720030,"display_name":"karmakaze"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1528381299,"creation_date":1432696210,"answer_id":30472473,"question_id":4065401,"body_markdown":"In addition to the answer by @marcin-wisnicki if you&#39;re using Maven, [note that the compiler plugin will silently drop any -XD flags][1], unless you also specify\r\n`&lt;fork&gt;true&lt;/fork&gt;`: e.g.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-XDignore.symbol.file&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;/configuration&gt;\r\n                ...\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs","title":"Using internal sun classes with javac","body":"<p>In addition to the answer by @marcin-wisnicki if you're using Maven, <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs\" rel=\"noreferrer\">note that the compiler plugin will silently drop any -XD flags</a>, unless you also specify\n<code>&lt;fork&gt;true&lt;/fork&gt;</code>: e.g.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-XDignore.symbol.file&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n            &lt;/configuration&gt;\n            ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64443,"reputation":2523,"user_id":190223,"accept_rate":83,"display_name":"juancn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484755203,"creation_date":1484755203,"answer_id":41723899,"question_id":4065401,"body_markdown":"There&#39;s a better solution. First add the option to javac `-XDenableSunApiLintControl` and then use `@SupressWarnings(&quot;sunapi&quot;)` in your code.\r\n\r\n\r\n","title":"Using internal sun classes with javac","body":"<p>There's a better solution. First add the option to javac <code>-XDenableSunApiLintControl</code> and then use <code>@SupressWarnings(\"sunapi\")</code> in your code.</p>\n"},{"tags":[],"owner":{"account_id":1438051,"reputation":1225,"user_id":3344049,"display_name":"Kamiel Ahmadpour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640338364,"creation_date":1640338364,"answer_id":70471462,"question_id":4065401,"body_markdown":"If you are using Gradle, you need to use these options\r\n\r\n    compileJava {\r\n        // enable using internal libraries\r\n        options.fork = true\r\n        options.forkOptions.executable = &#39;javac&#39;\r\n        options.compilerArgs &lt;&lt; &#39;-XDignore.symbol.file&#39; }\r\n\r\n","title":"Using internal sun classes with javac","body":"<p>If you are using Gradle, you need to use these options</p>\n<pre><code>compileJava {\n    // enable using internal libraries\n    options.fork = true\n    options.forkOptions.executable = 'javac'\n    options.compilerArgs &lt;&lt; '-XDignore.symbol.file' }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18528975,"reputation":1,"user_id":13500217,"display_name":"Orifjon Yunusjanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646195384,"creation_date":1646195384,"answer_id":71317485,"question_id":4065401,"body_markdown":"Another way is change jdk.\r\n\r\nIn my case project java version 1.8. I used from  jdk 11. Therefore This error has found in my project. So I changed my jdk from 11 to 1.8. It has worked for me.","title":"Using internal sun classes with javac","body":"<p>Another way is change jdk.</p>\n<p>In my case project java version 1.8. I used from  jdk 11. Therefore This error has found in my project. So I changed my jdk from 11 to 1.8. It has worked for me.</p>\n"},{"tags":[],"owner":{"account_id":155395,"reputation":3034,"user_id":372019,"display_name":"gesellix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668715524,"creation_date":1668715524,"answer_id":74481472,"question_id":4065401,"body_markdown":"Adding to the [answer][2] by [@kamiel-ahmadpour][1]: I had to set the `javaHome` when running Gradle&#39;s compile tasks via IntelliJ. My config now looks like this written in Kotlin DSL:\r\n\r\n    tasks.withType&lt;JavaCompile&gt; {\r\n        options.isFork = true\r\n        options.forkOptions.executable = &quot;javac&quot;\r\n        options.forkOptions.javaHome = file(System.getProperty(&quot;java.home&quot;))\r\n        options.compilerArgs.add(&quot;-XDignore.symbol.file&quot;)\r\n    }\r\n\r\nWithout the `javaHome` the build would fail with errors like:\r\n\r\n    ... error: package javax.xml.bind.annotation does not exist\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n                                ^\r\n\r\nRunning Gradle tasks from the terminal doesn&#39;t need the explicitly configured `javaHome` and I didn&#39;t find the actual cause for the different behaviour, yet.\r\n\r\nEnvironment:\r\n- Java 8\r\n- Gradle 7.5.1\r\n- IntelliJ 2022.2.3\r\n\r\n[1]: https://stackoverflow.com/users/3344049/kamiel-ahmadpour\r\n[2]: https://stackoverflow.com/a/70471462/372019","title":"Using internal sun classes with javac","body":"<p>Adding to the <a href=\"https://stackoverflow.com/a/70471462/372019\">answer</a> by <a href=\"https://stackoverflow.com/users/3344049/kamiel-ahmadpour\">@kamiel-ahmadpour</a>: I had to set the <code>javaHome</code> when running Gradle's compile tasks via IntelliJ. My config now looks like this written in Kotlin DSL:</p>\n<pre><code>tasks.withType&lt;JavaCompile&gt; {\n    options.isFork = true\n    options.forkOptions.executable = &quot;javac&quot;\n    options.forkOptions.javaHome = file(System.getProperty(&quot;java.home&quot;))\n    options.compilerArgs.add(&quot;-XDignore.symbol.file&quot;)\n}\n</code></pre>\n<p>Without the <code>javaHome</code> the build would fail with errors like:</p>\n<pre><code>... error: package javax.xml.bind.annotation does not exist\nimport javax.xml.bind.annotation.XmlAccessType;\n                            ^\n</code></pre>\n<p>Running Gradle tasks from the terminal doesn't need the explicitly configured <code>javaHome</code> and I didn't find the actual cause for the different behaviour, yet.</p>\n<p>Environment:</p>\n<ul>\n<li>Java 8</li>\n<li>Gradle 7.5.1</li>\n<li>IntelliJ 2022.2.3</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696431173,"creation_date":1696431173,"answer_id":77230664,"question_id":4065401,"body_markdown":"In case of Ant building, add arg into javac:\r\n\r\n    &lt;javac&gt;\r\n    &lt;compilerarg value=&quot;-XDignore.symbol.file&quot; /&gt;\r\n    &lt;/javac&gt;","title":"Using internal sun classes with javac","body":"<p>In case of Ant building, add arg into javac:</p>\n<pre><code>&lt;javac&gt;\n&lt;compilerarg value=&quot;-XDignore.symbol.file&quot; /&gt;\n&lt;/javac&gt;\n</code></pre>\n"}],"owner":{"account_id":198643,"reputation":4561,"user_id":443422,"accept_rate":52,"display_name":"Marcin Wisnicki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43233,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":4070685,"answer_count":8,"score":54,"last_activity_date":1696431173,"creation_date":1288562927,"question_id":4065401,"body_markdown":"Is there a way to disable restrictions of javac 1.6.0_22 that prevent me from using JRE internal classes like `sun.awt.event.*` ?\r\n\r\nI&#39;m **not** looking for:\r\n\r\n1. an explanation why it is forbidden.\r\n1. suggestion to use different classes\r\n1. suggestion to use reflection\r\n1. suggestion to use ecj/eclipse\r\n\r\nI just want to know if it is possible or not, and if it is then how.","title":"Using internal sun classes with javac","body":"<p>Is there a way to disable restrictions of javac 1.6.0_22 that prevent me from using JRE internal classes like <code>sun.awt.event.*</code> ?</p>\n\n<p>I'm <strong>not</strong> looking for:</p>\n\n<ol>\n<li>an explanation why it is forbidden.</li>\n<li>suggestion to use different classes</li>\n<li>suggestion to use reflection</li>\n<li>suggestion to use ecj/eclipse</li>\n</ol>\n\n<p>I just want to know if it is possible or not, and if it is then how.</p>\n"},{"tags":["java","android","kotlin","android-studio"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1695155950,"post_id":77135484,"comment_id":135985553,"body_markdown":"Well, you are not passing &quot;Android framework package&quot;. You pass an abstraction of &quot;AlarmScheduler&quot;. This is the way - I mean, can you see any &quot;.android&quot; package reference in the (presumably) use case?","body":"Well, you are not passing &quot;Android framework package&quot;. You pass an abstraction of &quot;AlarmScheduler&quot;. This is the way - I mean, can you see any &quot;.android&quot; package reference in the (presumably) use case?"},{"owner":{"account_id":22058127,"reputation":21,"user_id":16321270,"display_name":"RubyFlash"},"score":0,"creation_date":1695194938,"post_id":77135484,"comment_id":135989894,"body_markdown":"@TheLibrarian, Maybe I understood your anwer wrong but if you talk about AlarmScheduler then it&#39;s in Domain layer but I&#39;m asking about AndroidAlarmScheduler which have android logic (like Intent). Cuz it&#39;s seems wrong to place it inside Data layer","body":"@TheLibrarian, Maybe I understood your anwer wrong but if you talk about AlarmScheduler then it&#39;s in Domain layer but I&#39;m asking about AndroidAlarmScheduler which have android logic (like Intent). Cuz it&#39;s seems wrong to place it inside Data layer"}],"answers":[{"tags":[],"owner":{"account_id":22058127,"reputation":21,"user_id":16321270,"display_name":"RubyFlash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696430958,"creation_date":1696430958,"answer_id":77230635,"question_id":77135484,"body_markdown":"It&#39;s hard to give a good answer to my question and as I managed to understand you are free to do whatever you want. But I found a good example how you can manage your project structure and also this project contain an example where you can pass your Alarm manager in logic in project.\r\nHere is a link: https://github.com/tolgaprm/Mova-MovieApp/tree/main.\r\nEnjoy!\r\nIf somebody will give better answer I will change the answer of question.","title":"Could Data layer contain objects and logic from android framework packages","body":"<p>It's hard to give a good answer to my question and as I managed to understand you are free to do whatever you want. But I found a good example how you can manage your project structure and also this project contain an example where you can pass your Alarm manager in logic in project.\nHere is a link: <a href=\"https://github.com/tolgaprm/Mova-MovieApp/tree/main\" rel=\"nofollow noreferrer\">https://github.com/tolgaprm/Mova-MovieApp/tree/main</a>.\nEnjoy!\nIf somebody will give better answer I will change the answer of question.</p>\n"}],"owner":{"account_id":22058127,"reputation":21,"user_id":16321270,"display_name":"RubyFlash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77230635,"answer_count":1,"score":2,"last_activity_date":1696430958,"creation_date":1695133850,"question_id":77135484,"body_markdown":"I&#39;m trying to make an app with Clean Architecture. I want to press button from my activity and start scheduler to check if week have passed.\r\n\r\nSo I have AlarmScheduler interface (which i want to pass in Domain layer) that contain only one function \r\n```\r\ninterface AlarmScheduler {\r\n    fun schedule(someString: String)\r\n}\r\n```\r\nAnd also I have implementation (which I want to pass in Data layer) AndroidAlarmSchedulerImpl\r\nCode looks like this:\r\n```\r\nclass AndroidAlarmScheduler(\r\n    private val context: Context,\r\n): AlarmScheduler {\r\n\r\n    private val alarmManager = context.getSystemService(AlarmManager::class.java)\r\n\r\n    @SuppressLint(&quot;ScheduleExactAlarm&quot;)\r\n    override fun schedule(someString: String) {\r\n        val intent = Intent(context, AlarmReceiver::class.java).apply {\r\n            this.putExtra(ALARM_INTENT_STRING_EXTRA, someString)\r\n        }\r\n\r\n        val calendar = Calendar.getInstance()\r\n        calendar.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY)\r\n        calendar.set(Calendar.HOUR_OF_DAY, 7)\r\n        calendar.set(Calendar.MINUTE, 0)\r\n\r\n        alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            calendar.timeInMillis,\r\n            PendingIntent.getBroadcast(\r\n                context,\r\n                0,\r\n                intent,\r\n                PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n        )\r\n    }\r\n}\r\n```\r\nThe problem is could I pass android framework logic outside presentation layer? If you know any solutions please describe it.","title":"Could Data layer contain objects and logic from android framework packages","body":"<p>I'm trying to make an app with Clean Architecture. I want to press button from my activity and start scheduler to check if week have passed.</p>\n<p>So I have AlarmScheduler interface (which i want to pass in Domain layer) that contain only one function</p>\n<pre><code>interface AlarmScheduler {\n    fun schedule(someString: String)\n}\n</code></pre>\n<p>And also I have implementation (which I want to pass in Data layer) AndroidAlarmSchedulerImpl\nCode looks like this:</p>\n<pre><code>class AndroidAlarmScheduler(\n    private val context: Context,\n): AlarmScheduler {\n\n    private val alarmManager = context.getSystemService(AlarmManager::class.java)\n\n    @SuppressLint(&quot;ScheduleExactAlarm&quot;)\n    override fun schedule(someString: String) {\n        val intent = Intent(context, AlarmReceiver::class.java).apply {\n            this.putExtra(ALARM_INTENT_STRING_EXTRA, someString)\n        }\n\n        val calendar = Calendar.getInstance()\n        calendar.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY)\n        calendar.set(Calendar.HOUR_OF_DAY, 7)\n        calendar.set(Calendar.MINUTE, 0)\n\n        alarmManager.setExactAndAllowWhileIdle(\n            AlarmManager.RTC_WAKEUP,\n            calendar.timeInMillis,\n            PendingIntent.getBroadcast(\n                context,\n                0,\n                intent,\n                PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE\n            )\n        )\n    }\n}\n</code></pre>\n<p>The problem is could I pass android framework logic outside presentation layer? If you know any solutions please describe it.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","cucumber-jvm","cucumber-java"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1695983733,"post_id":77200424,"comment_id":136098875,"body_markdown":"*&quot;...i found, that you should be able to add a step-timeout...&quot;* Where did you find it?","body":"<i>&quot;...i found, that you should be able to add a step-timeout...&quot;</i> Where did you find it?"},{"owner":{"account_id":15275840,"reputation":3,"user_id":11021598,"display_name":"Tobi"},"score":0,"creation_date":1695989191,"post_id":77200424,"comment_id":136099862,"body_markdown":"https://stackoverflow.com/questions/47456589/cucumber-stopping-execution-after-time-in-steps","body":"<a href=\"https://stackoverflow.com/questions/47456589/cucumber-stopping-execution-after-time-in-steps\" title=\"cucumber stopping execution after time in steps\">stackoverflow.com/questions/47456589/&hellip;</a>"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1695991643,"post_id":77200424,"comment_id":136100279,"body_markdown":"You might want to check [this comment](https://stackoverflow.com/questions/47456589/cucumber-stopping-execution-after-time-in-steps#comment109219531_47456590) posted to that same answer. It seems [that option was removed](https://cucumber.io/blog/open-source/announcing-cucumber-jvm-v5-0-0-rc1/).","body":"You might want to check <a href=\"https://stackoverflow.com/questions/47456589/cucumber-stopping-execution-after-time-in-steps#comment109219531_47456590\">this comment</a> posted to that same answer. It seems <a href=\"https://cucumber.io/blog/open-source/announcing-cucumber-jvm-v5-0-0-rc1/\" rel=\"nofollow noreferrer\">that option was removed</a>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1696025625,"post_id":77200424,"comment_id":136106108,"body_markdown":"You can write your on function to do this. All you need to do is update your step definition method to take one additional (`int`) parameter and handle this yourself. I have done it many times.","body":"You can write your on function to do this. All you need to do is update your step definition method to take one additional (<code>int</code>) parameter and handle this yourself. I have done it many times."},{"owner":{"account_id":3507053,"reputation":825,"user_id":3309403,"accept_rate":100,"display_name":"Lynxi"},"score":0,"creation_date":1696316112,"post_id":77200424,"comment_id":136133723,"body_markdown":"Does this answer your question? [Cucumber Stopping Execution after Time in Steps](https://stackoverflow.com/questions/47456589/cucumber-stopping-execution-after-time-in-steps)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47456589/cucumber-stopping-execution-after-time-in-steps\">Cucumber Stopping Execution after Time in Steps</a>"},{"owner":{"account_id":15275840,"reputation":3,"user_id":11021598,"display_name":"Tobi"},"score":0,"creation_date":1696403357,"post_id":77200424,"comment_id":136146534,"body_markdown":"@hfontanez wouldn&#39;t it be more pratctial to overwrite the original Method (Then/ When...) ?","body":"@hfontanez wouldn&#39;t it be more pratctial to overwrite the original Method (Then/ When...) ?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1696428303,"post_id":77200424,"comment_id":136151775,"body_markdown":"@Tobi that&#39;s what I meant when I said &quot;write your own function.&quot; Just pass an _int_ parameter and handle the timeout yourself. I have done this many times.","body":"@Tobi that&#39;s what I meant when I said &quot;write your own function.&quot; Just pass an <i>int</i> parameter and handle the timeout yourself. I have done this many times."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1696428560,"post_id":77200424,"comment_id":136151837,"body_markdown":"@Lynxi No, that doesn&#39;t answer the question. In fact, the question the OP is asking is why that precise link doesn&#39;t work for him. User lealcedeiro pointed out that in the comment section of that linked answer, it was mention that this notation is no longer supported. In the future, please be more careful when suggest a question to be closed as a duplicate.","body":"@Lynxi No, that doesn&#39;t answer the question. In fact, the question the OP is asking is why that precise link doesn&#39;t work for him. User lealcedeiro pointed out that in the comment section of that linked answer, it was mention that this notation is no longer supported. In the future, please be more careful when suggest a question to be closed as a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696430359,"creation_date":1696430359,"answer_id":77230574,"question_id":77200424,"body_markdown":"In the question linked in the comments as a possible solution to this issue, it was posted that &quot;*since Cucumber-JVM 5.x this is no longer available*.&quot; The link given as a reference is https://cucumber.io/blog/open-source/announcing-cucumber-jvm-v5-0-0-rc1/ ***Removing Timeout*** section.\r\n\r\nIn the past, I have used the following pattern to implement handling of timeouts on my end.\r\n\r\n\r\n1) Create a step that takes an additional parameter (int) to specify the timeout to be used.\r\n2) Create a base-case step to use a default timeout. From here, I call the method created in step 1 above, passing a default timeout value.\r\n\r\nBasically, I use ***Method Overloading*** to handle this.\r\n\r\n\r\n```\r\n// specific timeout case\r\n@When(&quot;I do something {int}&quot;)\r\npublic void doSomething(int timeout) {\r\n    // do whatever\r\n}\r\n\r\n// base (default) case\r\n@When(&quot;I do something&quot;)\r\npublic void doSomething() {\r\n    doSomething(500);\r\n}\r\n```\r\n\r\nThis should be very simple to implement and you should be able to use your existing method by simply removing the `timeout` parameter inside the `@When` tag.","title":"Unable to set timeout for cucumber steps in java","body":"<p>In the question linked in the comments as a possible solution to this issue, it was posted that &quot;<em>since Cucumber-JVM 5.x this is no longer available</em>.&quot; The link given as a reference is <a href=\"https://cucumber.io/blog/open-source/announcing-cucumber-jvm-v5-0-0-rc1/\" rel=\"nofollow noreferrer\">https://cucumber.io/blog/open-source/announcing-cucumber-jvm-v5-0-0-rc1/</a> <em><strong>Removing Timeout</strong></em> section.</p>\n<p>In the past, I have used the following pattern to implement handling of timeouts on my end.</p>\n<ol>\n<li>Create a step that takes an additional parameter (int) to specify the timeout to be used.</li>\n<li>Create a base-case step to use a default timeout. From here, I call the method created in step 1 above, passing a default timeout value.</li>\n</ol>\n<p>Basically, I use <em><strong>Method Overloading</strong></em> to handle this.</p>\n<pre><code>// specific timeout case\n@When(&quot;I do something {int}&quot;)\npublic void doSomething(int timeout) {\n    // do whatever\n}\n\n// base (default) case\n@When(&quot;I do something&quot;)\npublic void doSomething() {\n    doSomething(500);\n}\n</code></pre>\n<p>This should be very simple to implement and you should be able to use your existing method by simply removing the <code>timeout</code> parameter inside the <code>@When</code> tag.</p>\n"}],"owner":{"account_id":15275840,"reputation":3,"user_id":11021598,"display_name":"Tobi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696430359,"creation_date":1695975784,"question_id":77200424,"body_markdown":"currently we have our test-steps implemented via\r\n\r\n```io.cucumber.java.en.Then;```\r\n\r\n```@Then(&quot;do something&quot;)```\r\n\r\nafter some resarch i found, that you should be able to add a step-timeout like this:\r\n\r\n```@Then(value = &quot;do something&quot;, timeout = 5000)```\r\n\r\nBut this is not possible (cannot resolve method timeout)\r\n\r\nDo you have any idea how to fix this?\r\n","title":"Unable to set timeout for cucumber steps in java","body":"<p>currently we have our test-steps implemented via</p>\n<p><code>io.cucumber.java.en.Then;</code></p>\n<p><code>@Then(&quot;do something&quot;)</code></p>\n<p>after some resarch i found, that you should be able to add a step-timeout like this:</p>\n<p><code>@Then(value = &quot;do something&quot;, timeout = 5000)</code></p>\n<p>But this is not possible (cannot resolve method timeout)</p>\n<p>Do you have any idea how to fix this?</p>\n"},{"tags":["java","spring-cloud-gateway","elastic-apm"],"comments":[{"owner":{"account_id":87418,"reputation":296,"user_id":242414,"accept_rate":75,"display_name":"Slava Schmidt"},"score":0,"creation_date":1699340728,"post_id":77230544,"comment_id":136516010,"body_markdown":"I observe same behaviour with spring 3.1.5 and elastic-arm 1.43.0. Were you able to figure out what is missing?","body":"I observe same behaviour with spring 3.1.5 and elastic-arm 1.43.0. Were you able to figure out what is missing?"},{"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"score":0,"creation_date":1699359131,"post_id":77230544,"comment_id":136519191,"body_markdown":"Unfortunately not yet","body":"Unfortunately not yet"}],"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696430185,"creation_date":1696430185,"question_id":77230544,"body_markdown":"I&#39;m using spring boot 3 and  spring cloud gateway and I want to trace api using elastic apm but there is problem with tracing api using elastic apm.\r\n\r\nElastic apm can not recognize transactions.\r\n\r\nmy dependencies :\r\n\r\n```\r\n\timplementation &#39;co.elastic.apm:apm-agent-api:1.43.0&#39;\r\n\timplementation &#39;co.elastic.apm:apm-agent-attach:1.43.0&#39;‍‍‍\r\n```\r\n\r\nElastic apm config:\r\n\r\n```\r\n  apm:\r\n    server_url: ${ELASTIC_APM_SERVER_URL:http://localhost:8200}\r\n    secret_token: ${ELASTIC_APM_SECRET_TOKEN:xxxx}\r\n    environment: ${ELASTIC_APM_ENVIRONMENT:dev}\r\n    log_level: ${ELASTIC_APM_LOG_LEVEL:DEBUG}\r\n    application_packages: ir.zarebin.browser.edge\r\n    transaction_sample_rate: ${ELASTIC_APM_TRANSACTION_SAMPLE_RATE:0.5}\r\n    service_name: edge\r\n    recording: ${ELASTIC_APM_RECORDING:true}\r\n    use_path_as_transaction_name: true\r\n    enable_experimental_instrumentations: ${ELASTIC_APM_ENABLE_EXPERIMENTAL_INSTRUMENTATIONS:true}\r\n```\r\n\r\nI also attach elastic apm agent to current jvm.\r\n\r\n```\r\nElasticApmAttacher.attach(elasticApm.apm());\r\n```\r\n\r\nrouteLocator config:\r\n\r\n```\r\n RouteLocator gateway(RouteLocatorBuilder builder, JwtExtractorFilter jwtExtractorFilter) {\r\n        return builder.routes()\r\n                .route(r -&gt; r.path(&quot;/auth/login&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/login&quot;))\r\n                .route(r -&gt; r.path(&quot;/auth/verifyOtp&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/verifyOtp&quot;))\r\n                .build\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/Z2hrP.png\r\n\r\nI&#39;m using spring boot 3 and  spring cloud gateway and I want to trace api using elastic apm but there is problem with tracing api using elastic apm.\r\n\r\nElastic apm can not recognize transactions.\r\n\r\nmy dependencies :\r\n\r\n```\r\n\timplementation &#39;co.elastic.apm:apm-agent-api:1.43.0&#39;\r\n\timplementation &#39;co.elastic.apm:apm-agent-attach:1.43.0&#39;‍‍‍\r\n```\r\n\r\nElastic apm config:\r\n\r\n```\r\n  apm:\r\n    server_url: ${ELASTIC_APM_SERVER_URL:http://localhost:8200}\r\n    secret_token: ${ELASTIC_APM_SECRET_TOKEN:xxxx}\r\n    environment: ${ELASTIC_APM_ENVIRONMENT:dev}\r\n    log_level: ${ELASTIC_APM_LOG_LEVEL:DEBUG}\r\n    application_packages: ir.zarebin.browser.edge\r\n    transaction_sample_rate: ${ELASTIC_APM_TRANSACTION_SAMPLE_RATE:0.5}\r\n    service_name: edge\r\n    recording: ${ELASTIC_APM_RECORDING:true}\r\n    use_path_as_transaction_name: true\r\n    enable_experimental_instrumentations: ${ELASTIC_APM_ENABLE_EXPERIMENTAL_INSTRUMENTATIONS:true}\r\n```\r\n\r\nI also attach elastic apm agent to current jvm.\r\n\r\n```\r\nElasticApmAttacher.attach(elasticApm.apm());\r\n```\r\n\r\nrouteLocator config:\r\n\r\n```\r\n RouteLocator gateway(RouteLocatorBuilder builder, JwtExtractorFilter jwtExtractorFilter) {\r\n        return builder.routes()\r\n                .route(r -&gt; r.path(&quot;/auth/login&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/login&quot;))\r\n                .route(r -&gt; r.path(&quot;/auth/verifyOtp&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/verifyOtp&quot;))\r\n                .build\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/Z2hrP.png","title":"spring cloud gateway elastic apm","body":"<p>I'm using spring boot 3 and  spring cloud gateway and I want to trace api using elastic apm but there is problem with tracing api using elastic apm.</p>\n<p>Elastic apm can not recognize transactions.</p>\n<p>my dependencies :</p>\n<pre><code>    implementation 'co.elastic.apm:apm-agent-api:1.43.0'\n    implementation 'co.elastic.apm:apm-agent-attach:1.43.0'‍‍‍\n</code></pre>\n<p>Elastic apm config:</p>\n<pre><code>  apm:\n    server_url: ${ELASTIC_APM_SERVER_URL:http://localhost:8200}\n    secret_token: ${ELASTIC_APM_SECRET_TOKEN:xxxx}\n    environment: ${ELASTIC_APM_ENVIRONMENT:dev}\n    log_level: ${ELASTIC_APM_LOG_LEVEL:DEBUG}\n    application_packages: ir.zarebin.browser.edge\n    transaction_sample_rate: ${ELASTIC_APM_TRANSACTION_SAMPLE_RATE:0.5}\n    service_name: edge\n    recording: ${ELASTIC_APM_RECORDING:true}\n    use_path_as_transaction_name: true\n    enable_experimental_instrumentations: ${ELASTIC_APM_ENABLE_EXPERIMENTAL_INSTRUMENTATIONS:true}\n</code></pre>\n<p>I also attach elastic apm agent to current jvm.</p>\n<pre><code>ElasticApmAttacher.attach(elasticApm.apm());\n</code></pre>\n<p>routeLocator config:</p>\n<pre><code> RouteLocator gateway(RouteLocatorBuilder builder, JwtExtractorFilter jwtExtractorFilter) {\n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/auth/login&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/login&quot;))\n                .route(r -&gt; r.path(&quot;/auth/verifyOtp&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/verifyOtp&quot;))\n                .build\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Z2hrP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2hrP.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using spring boot 3 and  spring cloud gateway and I want to trace api using elastic apm but there is problem with tracing api using elastic apm.</p>\n<p>Elastic apm can not recognize transactions.</p>\n<p>my dependencies :</p>\n<pre><code>    implementation 'co.elastic.apm:apm-agent-api:1.43.0'\n    implementation 'co.elastic.apm:apm-agent-attach:1.43.0'‍‍‍\n</code></pre>\n<p>Elastic apm config:</p>\n<pre><code>  apm:\n    server_url: ${ELASTIC_APM_SERVER_URL:http://localhost:8200}\n    secret_token: ${ELASTIC_APM_SECRET_TOKEN:xxxx}\n    environment: ${ELASTIC_APM_ENVIRONMENT:dev}\n    log_level: ${ELASTIC_APM_LOG_LEVEL:DEBUG}\n    application_packages: ir.zarebin.browser.edge\n    transaction_sample_rate: ${ELASTIC_APM_TRANSACTION_SAMPLE_RATE:0.5}\n    service_name: edge\n    recording: ${ELASTIC_APM_RECORDING:true}\n    use_path_as_transaction_name: true\n    enable_experimental_instrumentations: ${ELASTIC_APM_ENABLE_EXPERIMENTAL_INSTRUMENTATIONS:true}\n</code></pre>\n<p>I also attach elastic apm agent to current jvm.</p>\n<pre><code>ElasticApmAttacher.attach(elasticApm.apm());\n</code></pre>\n<p>routeLocator config:</p>\n<pre><code> RouteLocator gateway(RouteLocatorBuilder builder, JwtExtractorFilter jwtExtractorFilter) {\n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/auth/login&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/login&quot;))\n                .route(r -&gt; r.path(&quot;/auth/verifyOtp&quot;).filters(gatewayFilterSpec -&gt; gatewayFilterSpec.filter(jwtExtractorFilter.apply())).uri(&quot;forward:/verifyOtp&quot;))\n                .build\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Z2hrP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2hrP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-stream","biginteger"],"comments":[{"owner":{"account_id":27317635,"reputation":737,"user_id":20831888,"display_name":"Kozydot"},"score":4,"creation_date":1696050298,"post_id":77205731,"comment_id":136107554,"body_markdown":"You&#39;ll need to convert your integers to `BigInteger` before summing them.","body":"You&#39;ll need to convert your integers to <code>BigInteger</code> before summing them."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696051869,"post_id":77205731,"comment_id":136107639,"body_markdown":"Yup.  The code is currently computing the sum using `int` / `Integer` arithmetic and **then** converting the result to a `BigInteger`.  That&#39;s too late to avoid the overflow.","body":"Yup.  The code is currently computing the sum using <code>int</code> / <code>Integer</code> arithmetic and <b>then</b> converting the result to a <code>BigInteger</code>.  That&#39;s too late to avoid the overflow."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696052000,"post_id":77205731,"comment_id":136107646,"body_markdown":"(For the record ... with those input values you could do the computation using `long` / `Long` rather than `BigInteger` and still get the right answers.)","body":"(For the record ... with those input values you could do the computation using <code>long</code> / <code>Long</code> rather than <code>BigInteger</code> and still get the right answers.)"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696069639,"creation_date":1696069639,"answer_id":77206608,"question_id":77205731,"body_markdown":"The problem is that when you create `totalSum`, the overflow already happened as you summed the integers as `int`, which means the result is also an `int`. Only then does your code convert this overflowed result to a `BigInteger`.\r\n\r\nInstead you need to do the calculation using `BigInteger`:\r\n\r\n```\r\nBigInteger totalSum = sorted.stream()\r\n        .reduce(BigInteger.ZERO, \r\n                (sum, value) -&gt; sum.add(BigInteger.valueOf(value)),\r\n                BigInteger::add);\r\n```\r\n\r\nWhich is equivalent to doing:\r\n\r\n```\r\nBigInteger totalSum = sorted.stream()\r\n        .map(v -&gt; BigInteger.valueOf(v.longValue()))\r\n        .reduce(BigInteger.ZERO, BigInteger::add);\r\n```","title":"How to prevent overflow when calculating min &amp; max sum of the elements by excluding one element in the list","body":"<p>The problem is that when you create <code>totalSum</code>, the overflow already happened as you summed the integers as <code>int</code>, which means the result is also an <code>int</code>. Only then does your code convert this overflowed result to a <code>BigInteger</code>.</p>\n<p>Instead you need to do the calculation using <code>BigInteger</code>:</p>\n<pre><code>BigInteger totalSum = sorted.stream()\n        .reduce(BigInteger.ZERO, \n                (sum, value) -&gt; sum.add(BigInteger.valueOf(value)),\n                BigInteger::add);\n</code></pre>\n<p>Which is equivalent to doing:</p>\n<pre><code>BigInteger totalSum = sorted.stream()\n        .map(v -&gt; BigInteger.valueOf(v.longValue()))\n        .reduce(BigInteger.ZERO, BigInteger::add);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696115178,"creation_date":1696115178,"answer_id":77208715,"question_id":77205731,"body_markdown":"&gt; _&quot;... Why is it resulting in negative values even after using BigInteger, and how should it be handled? ...&quot;_\r\n\r\nUtilize the _[map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function))_ method to parse the _stream_ as _BigInteger_ values.\\\r\nAnd, the _[reduce](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator))_ method to total the elements.\r\n\r\n```java\r\nList&lt;Integer&gt; sorted = new ArrayList&lt;&gt;(arr);\r\nCollections.sort(sorted);\r\nBigInteger min\r\n    = sorted.stream()\r\n            .limit(sorted.size() - 1)\r\n            .map(x -&gt; new BigInteger(String.valueOf(x)))\r\n            .reduce(BigInteger::add)\r\n            .get();\r\nBigInteger max\r\n    = sorted.stream()\r\n            .skip(1)\r\n            .map(x -&gt; new BigInteger(String.valueOf(x)))\r\n            .reduce(BigInteger::add)\r\n            .get();\r\nSystem.out.println(min + &quot; &quot;+max);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n10 14\r\n```","title":"How to prevent overflow when calculating min &amp; max sum of the elements by excluding one element in the list","body":"<blockquote>\n<p><em>&quot;... Why is it resulting in negative values even after using BigInteger, and how should it be handled? ...&quot;</em></p>\n</blockquote>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\">map</a></em> method to parse the <em>stream</em> as <em>BigInteger</em> values.<br />\nAnd, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">reduce</a></em> method to total the elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; sorted = new ArrayList&lt;&gt;(arr);\nCollections.sort(sorted);\nBigInteger min\n    = sorted.stream()\n            .limit(sorted.size() - 1)\n            .map(x -&gt; new BigInteger(String.valueOf(x)))\n            .reduce(BigInteger::add)\n            .get();\nBigInteger max\n    = sorted.stream()\n            .skip(1)\n            .map(x -&gt; new BigInteger(String.valueOf(x)))\n            .reduce(BigInteger::add)\n            .get();\nSystem.out.println(min + &quot; &quot;+max);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>10 14\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696430156,"creation_date":1696430156,"answer_id":77230538,"question_id":77205731,"body_markdown":"As said by others, converting the value to `BigInteger` after the data loss happened, will not solve your problem. The operation itself has to be performed using a larger data type than `int`.\r\n\r\nBut sorting the list, just to get minimum and maximum, also is very inefficient. There is a built-in operation, `summaryStatistics()`, which performs all necessary operations at once, getting mimimum, maximum, and the sum. It uses `long` for summing, which is sufficient to process all ordinary collections which can not have more than 2&#179;&#185; elements.\r\n\r\n```java\r\npublic static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n    IntSummaryStatistics s = arr.stream()\r\n            .mapToInt(Integer::intValue).summaryStatistics();\r\n    long totalSum = s.getSum();\r\n    long minSum = totalSum - s.getMax();\r\n    long maxSum = totalSum - s.getMin();\r\n    System.out.println(minSum + &quot; &quot; + maxSum);\r\n}\r\n```\r\n\r\nNote further that there is no reason to use boxed `Integer` or `Long` objects here.\r\n","title":"How to prevent overflow when calculating min &amp; max sum of the elements by excluding one element in the list","body":"<p>As said by others, converting the value to <code>BigInteger</code> after the data loss happened, will not solve your problem. The operation itself has to be performed using a larger data type than <code>int</code>.</p>\n<p>But sorting the list, just to get minimum and maximum, also is very inefficient. There is a built-in operation, <code>summaryStatistics()</code>, which performs all necessary operations at once, getting mimimum, maximum, and the sum. It uses <code>long</code> for summing, which is sufficient to process all ordinary collections which can not have more than 2³¹ elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    IntSummaryStatistics s = arr.stream()\n            .mapToInt(Integer::intValue).summaryStatistics();\n    long totalSum = s.getSum();\n    long minSum = totalSum - s.getMax();\n    long maxSum = totalSum - s.getMin();\n    System.out.println(minSum + &quot; &quot; + maxSum);\n}\n</code></pre>\n<p>Note further that there is no reason to use boxed <code>Integer</code> or <code>Long</code> objects here.</p>\n"}],"owner":{"account_id":29567398,"reputation":1,"user_id":22660445,"display_name":"Jahnavi Achanta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696430156,"creation_date":1696050097,"question_id":77205731,"body_markdown":"I need to find the minimum and maximum values that can be calculated by summing exactly (size - 1) elements in the arrays\r\n\r\nExample:\\\r\narr = [1,2,3,4,5] minSum = 1+2+3+4 = 10 , maxSum = 2+3+4+5 = 14\r\n\r\nInitially, I wrote the following code\r\n\r\n```\r\npublic static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n    List&lt;Integer&gt; sorted = arr.stream().sorted().collect(Collectors.toList());\r\n    Integer totalSum = sorted.stream().mapToInt(Integer::intValue).sum();\r\n    Integer minSum = totalSum - sorted.get(sorted.size()-1);\r\n    Integer maxSum = totalSum - sorted.get(0);\r\n    System.out.println(minSum + &quot; &quot;+maxSum);\r\n}\r\n```\r\n\r\nFor the simple test cases, it is working as expected, but then for the numbers with higher value it is overflowing and resulting in negative values, so I used BigInteger.\r\n\r\n```\r\npublic static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n    List&lt;Integer&gt; sorted = arr.stream().sorted().collect(Collectors.toList());\r\n    BigInteger totalSum = BigInteger.valueOf(sorted.stream().mapToInt(Integer::intValue).sum());\r\n    BigInteger minSum = totalSum.subtract(BigInteger.valueOf(sorted.get(sorted.size()-1)));\r\n    BigInteger maxSum = totalSum.subtract(BigInteger.valueOf(sorted.get(0)));\r\n    System.out.println(minSum + &quot; &quot;+maxSum);\r\n}\r\n```\r\n \r\nEven then, it is resulting in negative values \r\n\r\nInput : 793810624 895642170 685903712 623789054 468592370\r\n\r\nOutput : -1722871536 -1295821736\r\n\r\nWhy is it resulting in negative values even after using BigInteger, and how should it be handled?\r\n\r\n","title":"How to prevent overflow when calculating min &amp; max sum of the elements by excluding one element in the list","body":"<p>I need to find the minimum and maximum values that can be calculated by summing exactly (size - 1) elements in the arrays</p>\n<p>Example:<br />\narr = [1,2,3,4,5] minSum = 1+2+3+4 = 10 , maxSum = 2+3+4+5 = 14</p>\n<p>Initially, I wrote the following code</p>\n<pre><code>public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    List&lt;Integer&gt; sorted = arr.stream().sorted().collect(Collectors.toList());\n    Integer totalSum = sorted.stream().mapToInt(Integer::intValue).sum();\n    Integer minSum = totalSum - sorted.get(sorted.size()-1);\n    Integer maxSum = totalSum - sorted.get(0);\n    System.out.println(minSum + &quot; &quot;+maxSum);\n}\n</code></pre>\n<p>For the simple test cases, it is working as expected, but then for the numbers with higher value it is overflowing and resulting in negative values, so I used BigInteger.</p>\n<pre><code>public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    List&lt;Integer&gt; sorted = arr.stream().sorted().collect(Collectors.toList());\n    BigInteger totalSum = BigInteger.valueOf(sorted.stream().mapToInt(Integer::intValue).sum());\n    BigInteger minSum = totalSum.subtract(BigInteger.valueOf(sorted.get(sorted.size()-1)));\n    BigInteger maxSum = totalSum.subtract(BigInteger.valueOf(sorted.get(0)));\n    System.out.println(minSum + &quot; &quot;+maxSum);\n}\n</code></pre>\n<p>Even then, it is resulting in negative values</p>\n<p>Input : 793810624 895642170 685903712 623789054 468592370</p>\n<p>Output : -1722871536 -1295821736</p>\n<p>Why is it resulting in negative values even after using BigInteger, and how should it be handled?</p>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"owner":{"account_id":21408909,"reputation":1,"user_id":15769586,"display_name":"Mohamm&#233;d Mazroui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696430063,"creation_date":1696430063,"question_id":77230529,"body_markdown":"I have a Spring Boot controller class where one of the methods, establishConnection, takes a Principal as a parameter. Inside this method, I&#39;m trying to access some JWT claims from the principal using JwtAuthenticationToken. However, when I write a unit test for this method and use the @WithMockUser annotation, the principal generated in the test context is of type UsernamePasswordAuthenticationToken, not JwtAuthenticationToken. This causes issues in my test.\r\n\r\nHere&#39;s a simplified version of my controller method:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;stream/visite&quot;)\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class VisiteStreamController {\r\n\r\n    private final VisiteStreamManager visitesStreamManager;\r\n\r\n    @GetMapping(produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;ServerSentEvent&lt;Long&gt;&gt; establishConnection(Principal principal) {\r\n        // Attempt to access JWT claims, but the principal is of type UsernamePasswordAuthenticationToken.\r\n        String guerite = ((JwtAuthenticationToken) principal).getTokenAttributes().get(&quot;guerite&quot;).toString();\r\n        // Rest of the method...\r\n    }\r\n}\r\n```\r\nAnd here&#39;s my test method:\r\n\r\n```\r\n@Test\r\n@WithMockUser\r\npublic void testEstablishConnection() {\r\n    String gueriteHeaderValue = &quot;your-guerite-value&quot;;\r\n\r\n    // Perform the test...\r\n}\r\n```\r\nI&#39;m using Spring Boot 2.4.2 and Java 8. How can I configure the test so that the Principal in the test context is of type JwtAuthenticationToken rather than UsernamePasswordAuthenticationToken?\r\n\r\n\r\n\r\n\r\n\r\nI tried some codes found on the Internet but nothing worked","title":"Principal Cast to JwtAuthenticationToken (cas Exception)","body":"<p>I have a Spring Boot controller class where one of the methods, establishConnection, takes a Principal as a parameter. Inside this method, I'm trying to access some JWT claims from the principal using JwtAuthenticationToken. However, when I write a unit test for this method and use the @WithMockUser annotation, the principal generated in the test context is of type UsernamePasswordAuthenticationToken, not JwtAuthenticationToken. This causes issues in my test.</p>\n<p>Here's a simplified version of my controller method:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;stream/visite&quot;)\n@RequiredArgsConstructor\n@Slf4j\npublic class VisiteStreamController {\n\n    private final VisiteStreamManager visitesStreamManager;\n\n    @GetMapping(produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;ServerSentEvent&lt;Long&gt;&gt; establishConnection(Principal principal) {\n        // Attempt to access JWT claims, but the principal is of type UsernamePasswordAuthenticationToken.\n        String guerite = ((JwtAuthenticationToken) principal).getTokenAttributes().get(&quot;guerite&quot;).toString();\n        // Rest of the method...\n    }\n}\n</code></pre>\n<p>And here's my test method:</p>\n<pre><code>@Test\n@WithMockUser\npublic void testEstablishConnection() {\n    String gueriteHeaderValue = &quot;your-guerite-value&quot;;\n\n    // Perform the test...\n}\n</code></pre>\n<p>I'm using Spring Boot 2.4.2 and Java 8. How can I configure the test so that the Principal in the test context is of type JwtAuthenticationToken rather than UsernamePasswordAuthenticationToken?</p>\n<p>I tried some codes found on the Internet but nothing worked</p>\n"},{"tags":["java","spring","azure","servicebus"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1462399611,"post_id":37038803,"comment_id":61627777,"body_markdown":"Q: So what do the logs on the Azure side say?  Your Spring/QPid logs merely say &quot;I timed out trying to communicate&quot;.  This is the &quot;result&quot; of the problem.  You need to find the *CAUSE*. It sounds like you need to look at 1) Your Azure service, and 2) your network communications between AZure and QPid...  Besides looking at the logs and/or instrumenting your Azure service, you might also want to take a [Wireshark](https://www.wireshark.org/download.html) trace.","body":"Q: So what do the logs on the Azure side say?  Your Spring/QPid logs merely say &quot;I timed out trying to communicate&quot;.  This is the &quot;result&quot; of the problem.  You need to find the <i>CAUSE</i>. It sounds like you need to look at 1) Your Azure service, and 2) your network communications between AZure and QPid...  Besides looking at the logs and/or instrumenting your Azure service, you might also want to take a <a href=\"https://www.wireshark.org/download.html\" rel=\"nofollow noreferrer\">Wireshark</a> trace."},{"owner":{"account_id":8146279,"reputation":11,"user_id":6134844,"display_name":"pkumar"},"score":0,"creation_date":1462738995,"post_id":37038803,"comment_id":61750936,"body_markdown":"Sorry for late response. Can you please advise how I can get logs of Service Bus queue on Azure.I can only see a link for Operation Logs on the namespace which are not available.Please note that message listener is running on Azure VM. I&#39;ve updated my DMLC configuration.","body":"Sorry for late response. Can you please advise how I can get logs of Service Bus queue on Azure.I can only see a link for Operation Logs on the namespace which are not available.Please note that message listener is running on Azure VM. I&#39;ve updated my DMLC configuration."},{"owner":{"account_id":3937608,"reputation":483,"user_id":3253428,"accept_rate":20,"display_name":"anonymous"},"score":0,"creation_date":1489668302,"post_id":37038803,"comment_id":72778174,"body_markdown":"@pkumar Where you able to resolve this issue?","body":"@pkumar Where you able to resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462442328,"creation_date":1462442328,"answer_id":37047608,"question_id":37038803,"body_markdown":"I&#39;m not sure what reason caused the issue without any codes. \r\n\r\nHowever, there is an offical document [`Service Bus messaging exceptions`][1] that lists some exceptions generated by the Microsoft Azure Service Bus messaging APIs, and the section [`Exception types`][2] lists messaging exception types, and their causes, and notes suggested action you can take. I think you can refer to it for inspecting your issue.\r\n\r\nAccording to the exception information `Unknown endpoint`, per my exception, I think the reason might be in the configuration for the AMQP connection with QPID. I searched for the possible reason, and got the helpful link https://mail-archives.apache.org/mod_mbox/qpid-users/201009.mbox/%3CAANLkTimNsHx3BeXCuYxbPOo+_3+vpH-Eu0AQcJfA07Oe@mail.gmail.com%3E. Hope it help.\r\n\r\nCould you share the key codes for investaging the issue?\r\n\r\nAny concern, please feel free to let me know.\r\n\r\n\r\n  [1]: https://azure.microsoft.com/en-us/documentation/articles/service-bus-messaging-exceptions/\r\n  [2]: https://azure.microsoft.com/en-us/documentation/articles/service-bus-messaging-exceptions/#exception-types","title":"Azure Service bus Queue - Setup of JMS message listener invoker failed for destination exception","body":"<p>I'm not sure what reason caused the issue without any codes. </p>\n\n<p>However, there is an offical document <a href=\"https://azure.microsoft.com/en-us/documentation/articles/service-bus-messaging-exceptions/\" rel=\"nofollow\"><code>Service Bus messaging exceptions</code></a> that lists some exceptions generated by the Microsoft Azure Service Bus messaging APIs, and the section <a href=\"https://azure.microsoft.com/en-us/documentation/articles/service-bus-messaging-exceptions/#exception-types\" rel=\"nofollow\"><code>Exception types</code></a> lists messaging exception types, and their causes, and notes suggested action you can take. I think you can refer to it for inspecting your issue.</p>\n\n<p>According to the exception information <code>Unknown endpoint</code>, per my exception, I think the reason might be in the configuration for the AMQP connection with QPID. I searched for the possible reason, and got the helpful link <a href=\"https://mail-archives.apache.org/mod_mbox/qpid-users/201009.mbox/%3CAANLkTimNsHx3BeXCuYxbPOo+_3+vpH-Eu0AQcJfA07Oe@mail.gmail.com%3E\" rel=\"nofollow\">https://mail-archives.apache.org/mod_mbox/qpid-users/201009.mbox/%3CAANLkTimNsHx3BeXCuYxbPOo+_3+vpH-Eu0AQcJfA07Oe@mail.gmail.com%3E</a>. Hope it help.</p>\n\n<p>Could you share the key codes for investaging the issue?</p>\n\n<p>Any concern, please feel free to let me know.</p>\n"}],"owner":{"account_id":8146279,"reputation":11,"user_id":6134844,"display_name":"pkumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1822,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696429929,"creation_date":1462399078,"question_id":37038803,"body_markdown":"I&#39;m able to connect and consume messages from Azure service bus queue. But following error is appearing randomly while message processing is in progress. After the error appears it looks like either the messages are not getting consumed further or they are pushed to DLQ. Restarting listener application is causing the same exception to appear.\r\n\r\nI&#39;m using Spring DefaultMessageListenerContainer with Apache Qpid\r\n\r\n&gt; 2016-05-05 01:49:36.303 WARN 14716 — [nerContainer-61]\r\n&gt; o.s.j.l.DefaultMessageListenerContainer : Setup of JMS message\r\n&gt; listener invoker failed for destination\r\n&gt; &#39;org.apache.qpid.amqp_1_0.jms.impl.QueueImpl@5f61cba7&#39; - trying to\r\n&gt; recover. Cause: Timeout waiting for attach\r\n&gt; \r\n&gt; Unknown endpoint\r\n&gt; Transfer{handle=0,deliveryId=36,deliveryTag=P\\xb8)T\\xd9\\xea%A\\x95\\xe5Fj]\\x91\\x00\\x15,messageFormat=0,more=false,batchable=true}\r\n&gt; Unknown endpoint\r\n&gt; Transfer{handle=0,deliveryId=36,deliveryTag=\\xdc\\x9b\\x9d\\xf5\\x817\\x9bO\\x97.\\x19\\xeam&lt;\\x00\\x81,messageFormat=0,more=false,batchable=true}\r\n&gt; \r\n&gt; javax.jms.IllegalStateException: Closed at\r\n&gt; org.apache.qpid.amqp_1_0.jms.impl.SessionImpl.checkClosed(SessionImpl.java:326)\r\n&gt; at\r\n&gt; org.apache.qpid.amqp_1_0.jms.impl.SessionImpl.getTransacted(SessionImpl.java:222)\r\n&gt; at\r\n&gt; org.springframework.jms.listener.AbstractMessageListenerContainer.commitIfNecessary(AbstractMessageListenerContainer.java:757)\r\n&gt; at\r\n&gt; org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:665)\r\n&gt; at\r\n&gt; org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:315)\r\n&gt; at\r\n&gt; org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:253)\r\n&gt; at\r\n&gt; org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1158)\r\n&gt; at\r\n&gt; org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1052)\r\n&gt; at java.lang.Thread.run(Unknown Source)\r\n\r\nUPDATED:\r\n\r\n\t`public DefaultMessageListenerContainer messageListenerContainer() throws NamingException {\r\n\t    DefaultMessageListenerContainer messageListenerContainer = new DefaultMessageListenerContainer();\r\n\t    messageListenerContainer.setConnectionFactory(connectionFactory());\r\n\t    Destination queue = (Destination) context.lookup(&quot;STORAGE_NEW_QUEUE&quot;);\r\n\t    messageListenerContainer.setDestination(queue);\r\n\t    messageListenerContainer.setConcurrency(concurrency);\r\n\t    messageListenerContainer.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n\t    messageListenerContainer.setCacheLevel(DefaultMessageListenerContainer.CACHE_SESSION);\r\n            messageListenerContainer.setErrorHandler(new EDIMessageErrorHandler());\r\n\t    MessageListenerAdapter adapter = new MessageListenerAdapter();\r\n\t    adapter.setDelegate(new EDIMessageListener());\r\n\t    adapter.setDefaultListenerMethod(&quot;onMessage&quot;);\r\n\t    messageListenerContainer.setMessageListener(adapter);\r\n\t    return messageListenerContainer;\r\n\t}`\r\nPlease advise on what could be the issue.\r\n\r\nThanks","title":"Azure Service bus Queue - Setup of JMS message listener invoker failed for destination exception","body":"<p>I'm able to connect and consume messages from Azure service bus queue. But following error is appearing randomly while message processing is in progress. After the error appears it looks like either the messages are not getting consumed further or they are pushed to DLQ. Restarting listener application is causing the same exception to appear.</p>\n\n<p>I'm using Spring DefaultMessageListenerContainer with Apache Qpid</p>\n\n<blockquote>\n  <p>2016-05-05 01:49:36.303 WARN 14716 — [nerContainer-61]\n  o.s.j.l.DefaultMessageListenerContainer : Setup of JMS message\n  listener invoker failed for destination\n  'org.apache.qpid.amqp_1_0.jms.impl.QueueImpl@5f61cba7' - trying to\n  recover. Cause: Timeout waiting for attach</p>\n  \n  <p>Unknown endpoint\n  Transfer{handle=0,deliveryId=36,deliveryTag=P\\xb8)T\\xd9\\xea%A\\x95\\xe5Fj]\\x91\\x00\\x15,messageFormat=0,more=false,batchable=true}\n  Unknown endpoint\n  Transfer{handle=0,deliveryId=36,deliveryTag=\\xdc\\x9b\\x9d\\xf5\\x817\\x9bO\\x97.\\x19\\xeam&lt;\\x00\\x81,messageFormat=0,more=false,batchable=true}</p>\n  \n  <p>javax.jms.IllegalStateException: Closed at\n  org.apache.qpid.amqp_1_0.jms.impl.SessionImpl.checkClosed(SessionImpl.java:326)\n  at\n  org.apache.qpid.amqp_1_0.jms.impl.SessionImpl.getTransacted(SessionImpl.java:222)\n  at\n  org.springframework.jms.listener.AbstractMessageListenerContainer.commitIfNecessary(AbstractMessageListenerContainer.java:757)\n  at\n  org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:665)\n  at\n  org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:315)\n  at\n  org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:253)\n  at\n  org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1158)\n  at\n  org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1052)\n  at java.lang.Thread.run(Unknown Source)</p>\n</blockquote>\n\n<p>UPDATED:</p>\n\n<pre><code>`public DefaultMessageListenerContainer messageListenerContainer() throws NamingException {\n    DefaultMessageListenerContainer messageListenerContainer = new DefaultMessageListenerContainer();\n    messageListenerContainer.setConnectionFactory(connectionFactory());\n    Destination queue = (Destination) context.lookup(\"STORAGE_NEW_QUEUE\");\n    messageListenerContainer.setDestination(queue);\n    messageListenerContainer.setConcurrency(concurrency);\n    messageListenerContainer.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n    messageListenerContainer.setCacheLevel(DefaultMessageListenerContainer.CACHE_SESSION);\n        messageListenerContainer.setErrorHandler(new EDIMessageErrorHandler());\n    MessageListenerAdapter adapter = new MessageListenerAdapter();\n    adapter.setDelegate(new EDIMessageListener());\n    adapter.setDefaultListenerMethod(\"onMessage\");\n    messageListenerContainer.setMessageListener(adapter);\n    return messageListenerContainer;\n}`\n</code></pre>\n\n<p>Please advise on what could be the issue.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":14,"creation_date":1285991936,"post_id":3844307,"comment_id":4084117,"body_markdown":"Your both package examples are the same. Don&#39;t you mean `properties.files` for `2`?","body":"Your both package examples are the same. Don&#39;t you mean <code>properties.files</code> for <code>2</code>?"}],"answers":[{"tags":[],"owner":{"account_id":61571,"reputation":912,"user_id":183419,"accept_rate":86,"display_name":"bUg."},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1493732305,"creation_date":1285991647,"answer_id":3844313,"question_id":3844307,"body_markdown":"try `.\\properties\\files\\ListStopWords.txt`","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>try <code>.\\properties\\files\\ListStopWords.txt</code></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":209,"is_accepted":true,"score":208,"last_activity_date":1562928092,"creation_date":1285991801,"answer_id":3844316,"question_id":3844307,"body_markdown":"If it&#39;s already in the classpath, then just obtain it from the classpath instead of from the disk file system. Don&#39;t fiddle with relative paths in `java.io.File`. They are dependent on the current working directory over which you have totally no control from inside the Java code.\r\n\r\nAssuming that `ListStopWords.txt` is in the same package as your `FileLoader` class, then do:\r\n\r\n    URL url = getClass().getResource(&quot;ListStopWords.txt&quot;);\r\n    File file = new File(url.getPath());\r\n\r\nOr if all you&#39;re ultimately after is actually an `InputStream` of it:\r\n\r\n    InputStream input = getClass().getResourceAsStream(&quot;ListStopWords.txt&quot;);\r\n\r\nThis is certainly preferred over creating a `new File()` because the `url` may not necessarily represent a disk file system path, but it could also represent virtual file system path (which may happen when the JAR is expanded into memory instead of into a temp folder on disk file system) or even a network path which are both not per definition digestable by `File` constructor.\r\n\r\nIf the file is -as the package name hints- is *actually* a fullworthy [properties file][1] (containing `key=value` lines) with just the &quot;wrong&quot; extension, then you could feed the `InputStream` immediately to the [`load()`][2] method.\r\n\r\n    Properties properties = new Properties();\r\n    properties.load(getClass().getResourceAsStream(&quot;ListStopWords.txt&quot;));\r\n\r\nNote: when you&#39;re trying to access it from inside `static` context, then use `FileLoader.class` (or whatever `YourClass.class`) instead of `getClass()` in above examples. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/properties.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/Properties.html#load%28java.io.InputStream%29","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>If it's already in the classpath, then just obtain it from the classpath instead of from the disk file system. Don't fiddle with relative paths in <code>java.io.File</code>. They are dependent on the current working directory over which you have totally no control from inside the Java code.</p>\n\n<p>Assuming that <code>ListStopWords.txt</code> is in the same package as your <code>FileLoader</code> class, then do:</p>\n\n<pre><code>URL url = getClass().getResource(\"ListStopWords.txt\");\nFile file = new File(url.getPath());\n</code></pre>\n\n<p>Or if all you're ultimately after is actually an <code>InputStream</code> of it:</p>\n\n<pre><code>InputStream input = getClass().getResourceAsStream(\"ListStopWords.txt\");\n</code></pre>\n\n<p>This is certainly preferred over creating a <code>new File()</code> because the <code>url</code> may not necessarily represent a disk file system path, but it could also represent virtual file system path (which may happen when the JAR is expanded into memory instead of into a temp folder on disk file system) or even a network path which are both not per definition digestable by <code>File</code> constructor.</p>\n\n<p>If the file is -as the package name hints- is <em>actually</em> a fullworthy <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/properties.html\" rel=\"noreferrer\">properties file</a> (containing <code>key=value</code> lines) with just the \"wrong\" extension, then you could feed the <code>InputStream</code> immediately to the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Properties.html#load%28java.io.InputStream%29\" rel=\"noreferrer\"><code>load()</code></a> method.</p>\n\n<pre><code>Properties properties = new Properties();\nproperties.load(getClass().getResourceAsStream(\"ListStopWords.txt\"));\n</code></pre>\n\n<p>Note: when you're trying to access it from inside <code>static</code> context, then use <code>FileLoader.class</code> (or whatever <code>YourClass.class</code>) instead of <code>getClass()</code> in above examples. </p>\n"},{"tags":[],"owner":{"account_id":121574,"reputation":11440,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1548683378,"creation_date":1285992497,"answer_id":3844347,"question_id":3844307,"body_markdown":"\tInputStream in = FileLoader.class.getResourceAsStream(&quot;&lt;relative path from this class to the file to be read&gt;&quot;);\r\n\ttry {\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n\t\tString line = null;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t}\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<pre><code>InputStream in = FileLoader.class.getResourceAsStream(\"&lt;relative path from this class to the file to be read&gt;\");\ntry {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    String line = null;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2801670,"reputation":479,"user_id":2409818,"display_name":"santhosh"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1452180331,"creation_date":1369230167,"answer_id":16693391,"question_id":3844307,"body_markdown":"The following line can be used if we want to specify the relative path of the file.\r\n\r\n    File file = new File(&quot;./properties/files/ListStopWords.txt&quot;);  \r\n\r\n","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>The following line can be used if we want to specify the relative path of the file.</p>\n\n<pre><code>File file = new File(\"./properties/files/ListStopWords.txt\");  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2069336,"reputation":392,"user_id":1844138,"accept_rate":36,"display_name":"arun_kk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652613917,"creation_date":1369740960,"answer_id":16791072,"question_id":3844307,"body_markdown":"If you are trying to call `getClass()` from Static method or static block, the you can do the following way.\r\n\r\nYou can call `getClass()` on the `Properties` object you are loading into.\r\n\r\n        public static Properties pathProperties = null;\r\n        \r\n        static { \r\n            pathProperties = new Properties();\r\n            String pathPropertiesFile = &quot;/file.xml&quot;;\r\n    //      Now go for getClass() method\r\n            InputStream paths = pathProperties.getClass().getResourceAsStream(pathPropertiesFile);\r\n        }\r\n\r\n","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>If you are trying to call <code>getClass()</code> from Static method or static block, the you can do the following way.</p>\n<p>You can call <code>getClass()</code> on the <code>Properties</code> object you are loading into.</p>\n<pre><code>    public static Properties pathProperties = null;\n    \n    static { \n        pathProperties = new Properties();\n        String pathPropertiesFile = &quot;/file.xml&quot;;\n//      Now go for getClass() method\n        InputStream paths = pathProperties.getClass().getResourceAsStream(pathPropertiesFile);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234031,"reputation":606,"user_id":499929,"display_name":"iamallama"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1384508487,"creation_date":1384508487,"answer_id":19997943,"question_id":3844307,"body_markdown":"While the answer provided by BalusC works for this case, it will break when the file path contains spaces because in a URL, these are being converted to %20 which is not a valid file name. If you construct the File object using a URI rather than a String, whitespaces will be handled correctly:\r\n\r\n    URL url = getClass().getResource(&quot;ListStopWords.txt&quot;);\r\n    File file = new File(url.toURI());","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>While the answer provided by BalusC works for this case, it will break when the file path contains spaces because in a URL, these are being converted to %20 which is not a valid file name. If you construct the File object using a URI rather than a String, whitespaces will be handled correctly:</p>\n\n<pre><code>URL url = getClass().getResource(\"ListStopWords.txt\");\nFile file = new File(url.toURI());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":324179,"reputation":1359,"user_id":644618,"accept_rate":50,"display_name":"Samrat"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1619038816,"creation_date":1478880590,"answer_id":40551904,"question_id":3844307,"body_markdown":"The relative path works in Java using the `.` specifier.\r\n\r\n - `.` means same folder as the currently running context.\r\n - `..` means the parent folder of the currently running context.\r\n\r\nSo the question is how do you know the path where the Java is currently looking?\r\n\r\nDo a small experiment\r\n\r\n       File directory = new File(&quot;./&quot;);\r\n       System.out.println(directory.getAbsolutePath());\r\n\r\n\r\nObserve the output, you will come to know the current directory where Java is looking. From there, simply use the `./` specifier to locate your file.\r\n\r\nFor example if the output is \r\n\r\n&gt; G:\\JAVA8Ws\\MyProject\\content\\.\r\n\r\nand your file is present in the folder &quot;MyProject&quot; simply use \r\n\r\n    File resourceFile = new File(&quot;../myFile.txt&quot;);\r\n\r\nHope this helps.\r\n \r\n\r\n\r\n","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>The relative path works in Java using the <code>.</code> specifier.</p>\n<ul>\n<li><code>.</code> means same folder as the currently running context.</li>\n<li><code>..</code> means the parent folder of the currently running context.</li>\n</ul>\n<p>So the question is how do you know the path where the Java is currently looking?</p>\n<p>Do a small experiment</p>\n<pre><code>   File directory = new File(&quot;./&quot;);\n   System.out.println(directory.getAbsolutePath());\n</code></pre>\n<p>Observe the output, you will come to know the current directory where Java is looking. From there, simply use the <code>./</code> specifier to locate your file.</p>\n<p>For example if the output is</p>\n<blockquote>\n<p>G:\\JAVA8Ws\\MyProject\\content.</p>\n</blockquote>\n<p>and your file is present in the folder &quot;MyProject&quot; simply use</p>\n<pre><code>File resourceFile = new File(&quot;../myFile.txt&quot;);\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":10473521,"reputation":11,"user_id":7720752,"display_name":"KR N"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1489951094,"creation_date":1489949715,"answer_id":42890792,"question_id":3844307,"body_markdown":"If text file is not being read, try using a more closer absolute path (if you wish \r\nyou could use complete absolute path,) like this:\r\n\r\n    FileInputStream fin=new FileInputStream(&quot;\\\\Dash\\\\src\\\\RS\\\\Test.txt&quot;);\r\n\r\nassume that the absolute path is:\r\n\r\n    C:\\\\Folder1\\\\Folder2\\\\Dash\\\\src\\\\RS\\\\Test.txt","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>If text file is not being read, try using a more closer absolute path (if you wish \nyou could use complete absolute path,) like this:</p>\n\n<pre><code>FileInputStream fin=new FileInputStream(\"\\\\Dash\\\\src\\\\RS\\\\Test.txt\");\n</code></pre>\n\n<p>assume that the absolute path is:</p>\n\n<pre><code>C:\\\\Folder1\\\\Folder2\\\\Dash\\\\src\\\\RS\\\\Test.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7492501,"reputation":882,"user_id":5693713,"accept_rate":92,"display_name":"sver"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1491546503,"creation_date":1491546503,"answer_id":43271117,"question_id":3844307,"body_markdown":"I wanted to parse &#39;command.json&#39; inside src/main/&lt;package&gt;/js/Simulator.java. For that I copied json file in src folder and gave the absolute path like this :\r\n\r\n    Object obj  = parser.parse(new FileReader(&quot;./src/command.json&quot;));","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>I wanted to parse 'command.json' inside src/main//js/Simulator.java. For that I copied json file in src folder and gave the absolute path like this :</p>\n\n<pre><code>Object obj  = parser.parse(new FileReader(\"./src/command.json\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14090972,"reputation":597,"user_id":10179301,"display_name":"abdev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550814062,"creation_date":1550814062,"answer_id":54820721,"question_id":3844307,"body_markdown":"I could have commented but I have less rep for that.\r\nSamrat&#39;s answer did the job for me. It&#39;s better to see the current directory path through the following code.\r\n\r\n        File directory = new File(&quot;./&quot;);\r\n        System.out.println(directory.getAbsolutePath());\r\n\r\nI simply used it to rectify an issue I was facing in my project. Be sure to use ./ to back to the parent directory of the current directory.\r\n\r\n        ./test/conf/appProperties/keystore ","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>I could have commented but I have less rep for that.\nSamrat's answer did the job for me. It's better to see the current directory path through the following code.</p>\n\n<pre><code>    File directory = new File(\"./\");\n    System.out.println(directory.getAbsolutePath());\n</code></pre>\n\n<p>I simply used it to rectify an issue I was facing in my project. Be sure to use ./ to back to the parent directory of the current directory.</p>\n\n<pre><code>    ./test/conf/appProperties/keystore \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1330960,"reputation":1383,"user_id":1274890,"display_name":"R Sun"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1570373028,"creation_date":1570372360,"answer_id":58258264,"question_id":3844307,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nAssuming you want to read from `resources` directory in `FileSystem` class.\r\n \r\n    String file = &quot;dummy.txt&quot;;\r\n    var path = Paths.get(&quot;src/com/company/fs/resources/&quot;, file);\r\n    System.out.println(path);\r\n\r\n    System.out.println(Files.readString(path));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j5vEk.png\r\n\r\n**Note:** Leading `.` is not needed.","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p><a href=\"https://i.stack.imgur.com/j5vEk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j5vEk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Assuming you want to read from <code>resources</code> directory in <code>FileSystem</code> class.</p>\n\n<pre><code>String file = \"dummy.txt\";\nvar path = Paths.get(\"src/com/company/fs/resources/\", file);\nSystem.out.println(path);\n\nSystem.out.println(Files.readString(path));\n</code></pre>\n\n<p><strong>Note:</strong> Leading <code>.</code> is not needed.</p>\n"},{"tags":[],"owner":{"account_id":14888517,"reputation":237,"user_id":10750980,"display_name":"J.Luan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585171762,"creation_date":1585171762,"answer_id":60857660,"question_id":3844307,"body_markdown":"For me actually the problem is the File object&#39;s class path is from `&lt;project folder path&gt; or ./src`, so use `File file = new File(&quot;./src/xxx.txt&quot;);` solved my problem\r\n","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>For me actually the problem is the File object's class path is from <code>&lt;project folder path&gt; or ./src</code>, so use <code>File file = new File(\"./src/xxx.txt\");</code> solved my problem</p>\n"},{"tags":[],"owner":{"account_id":18527899,"reputation":1,"user_id":13499397,"display_name":"user13499397"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588948656,"creation_date":1588948656,"answer_id":61681599,"question_id":3844307,"body_markdown":"String basePath = new File(&quot;myFile.txt&quot;).getAbsolutePath();\r\nthis basepath you can use as the correct path of your file","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>String basePath = new File(\"myFile.txt\").getAbsolutePath();\nthis basepath you can use as the correct path of your file</p>\n"},{"tags":[],"owner":{"account_id":21351652,"reputation":23,"user_id":15721090,"display_name":"Check"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619011374,"creation_date":1619011374,"answer_id":67196797,"question_id":3844307,"body_markdown":"For me it worked with -\r\n        \r\n        String token = &quot;&quot;;\r\n        File fileName = new File(&quot;filename.txt&quot;).getAbsoluteFile();\r\n        Scanner inFile = null;\r\n\t\ttry {\r\n\t\t\tinFile = new Scanner(fileName);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\twhile( inFile.hasNext() )\r\n\t\t{\r\n\t\t    String temp = inFile.next( );  \r\n\t\t    token = token + temp;\r\n\t\t}\r\n        inFile.close(); \r\n        \r\n        System.out.println(&quot;file contents&quot; +token);","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>For me it worked with -</p>\n<pre><code>    String token = &quot;&quot;;\n    File fileName = new File(&quot;filename.txt&quot;).getAbsoluteFile();\n    Scanner inFile = null;\n    try {\n        inFile = new Scanner(fileName);\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    while( inFile.hasNext() )\n    {\n        String temp = inFile.next( );  \n        token = token + temp;\n    }\n    inFile.close(); \n    \n    System.out.println(&quot;file contents&quot; +token);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22393614,"reputation":1,"user_id":16605221,"display_name":"Sundararajan S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628257252,"creation_date":1628229893,"answer_id":68676855,"question_id":3844307,"body_markdown":"if you want to load property file from resources folder which is available inside src folder, use this\r\n\r\n```java\r\nString resourceFile = &quot;resources/db.properties&quot;;\r\nInputStream resourceStream = ClassLoader.getSystemClassLoader().getResourceAsStream(resourceFile);\r\nProperties p=new Properties();  \r\np.load(resourceStream);  \r\n      \r\n    System.out.println(p.getProperty(&quot;db&quot;)); \r\n```\r\ndb.properties files contains key and value `db=sybase`\r\n\r\n ","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>if you want to load property file from resources folder which is available inside src folder, use this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String resourceFile = &quot;resources/db.properties&quot;;\nInputStream resourceStream = ClassLoader.getSystemClassLoader().getResourceAsStream(resourceFile);\nProperties p=new Properties();  \np.load(resourceStream);  \n      \n    System.out.println(p.getProperty(&quot;db&quot;)); \n</code></pre>\n<p>db.properties files contains key and value <code>db=sybase</code></p>\n"},{"tags":[],"owner":{"account_id":25746919,"reputation":9,"user_id":19499999,"display_name":"xiaoqiang deng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679462841,"creation_date":1679462841,"answer_id":75808700,"question_id":3844307,"body_markdown":"May be your sturcture is like this [enter image description here][1]\r\nmain\r\n - java\r\n   - filesystem\r\n     - FileLoader.java\r\n   - resource\r\n     - 1.txt\r\n\r\nAnd you can get the file 1.txt through some methods, here are some cases\r\n```java\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        //1 you can use Path class\r\n        Path path = Paths.get(&quot;src/main/java/resource/1.txt&quot;);\r\n        System.out.println(path.toAbsolutePath());\r\n        // and you can convert path to a file , then you ge file object.\r\n        File file = path.toFile();\r\n        System.out.println(&quot; ------------- 2  ----------------&quot;);\r\n        //2 get file object through File Class ,  and you need to use b scheme\r\n        File a = new File(&quot;/&quot;);\r\n        File b = new File(&quot;src/main/java/resource/1.txt&quot;);\r\n        File c = new File(&quot;./&quot;);\r\n        File d = new File(&quot;.&quot;);\r\n        System.out.println(a.getAbsolutePath());\r\n        System.out.println(b.getAbsolutePath());\r\n        System.out.println(c.getAbsolutePath());\r\n        System.out.println(d.getAbsolutePath());\r\n\r\n        System.out.println(&quot; \\n\\n------------- 3  ----------------&quot;);\r\n\r\n\r\n        //3.  the right answer is put your resource file into resources folder(path is &lt;Your_Project&gt;/src/main/resources)\r\n        // and when your project compiled , the files of resources will be added into target/classes folder\r\n        // and you can get file through your Class\r\n\r\n        URL e = Demo.class.getResource(&quot;/2.txt&quot;);\r\n        URL f = Demo.class.getResource(&quot; 2.txt&quot;);\r\n        System.out.println(e.getPath());\r\n//        System.out.println(f.getPath());  your will get a nullPointException here ，detailed information you can get in getResource Method\r\n\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gO3Ue.png","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>May be your sturcture is like this [enter image description here][1]\nmain</p>\n<ul>\n<li>java\n<ul>\n<li>filesystem\n<ul>\n<li>FileLoader.java</li>\n</ul>\n</li>\n<li>resource\n<ul>\n<li>1.txt</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>And you can get the file 1.txt through some methods, here are some cases</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo {\n    public static void main(String[] args) {\n        //1 you can use Path class\n        Path path = Paths.get(&quot;src/main/java/resource/1.txt&quot;);\n        System.out.println(path.toAbsolutePath());\n        // and you can convert path to a file , then you ge file object.\n        File file = path.toFile();\n        System.out.println(&quot; ------------- 2  ----------------&quot;);\n        //2 get file object through File Class ,  and you need to use b scheme\n        File a = new File(&quot;/&quot;);\n        File b = new File(&quot;src/main/java/resource/1.txt&quot;);\n        File c = new File(&quot;./&quot;);\n        File d = new File(&quot;.&quot;);\n        System.out.println(a.getAbsolutePath());\n        System.out.println(b.getAbsolutePath());\n        System.out.println(c.getAbsolutePath());\n        System.out.println(d.getAbsolutePath());\n\n        System.out.println(&quot; \\n\\n------------- 3  ----------------&quot;);\n\n\n        //3.  the right answer is put your resource file into resources folder(path is &lt;Your_Project&gt;/src/main/resources)\n        // and when your project compiled , the files of resources will be added into target/classes folder\n        // and you can get file through your Class\n\n        URL e = Demo.class.getResource(&quot;/2.txt&quot;);\n        URL f = Demo.class.getResource(&quot; 2.txt&quot;);\n        System.out.println(e.getPath());\n//        System.out.println(f.getPath());  your will get a nullPointException here ，detailed information you can get in getResource Method\n\n    }\n}\n\n\n  [1]: https://i.stack.imgur.com/gO3Ue.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27444698,"reputation":1,"user_id":20938714,"display_name":"Langdon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696429628,"creation_date":1696349588,"answer_id":77223905,"question_id":3844307,"body_markdown":"This option is defininitely the best:\r\n\r\n```java\r\nURL url = getClass().getResource(&quot;ListStopWords.txt&quot;);\r\nFile file = new File(url.getPath());\r\n```\r\n\r\nWorked great for me!  \r\nHowever, it translates `&quot; &quot;` to `&quot;%20&quot;`, this is a problem.  ","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>This option is defininitely the best:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = getClass().getResource(&quot;ListStopWords.txt&quot;);\nFile file = new File(url.getPath());\n</code></pre>\n<p>Worked great for me!<br />\nHowever, it translates <code>&quot; &quot;</code> to <code>&quot;%20&quot;</code>, this is a problem.</p>\n"}],"owner":{"account_id":128783,"reputation":2327,"user_id":326878,"accept_rate":84,"display_name":"tiendv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721785,"favorite_count":0,"down_vote_count":0,"up_vote_count":153,"accepted_answer_id":3844316,"answer_count":17,"score":153,"last_activity_date":1696429628,"creation_date":1285991441,"question_id":3844307,"body_markdown":"I have a project with 2 packages: \r\n\r\n 1. `tkorg.idrs.core.searchengines`\r\n 2. `tkorg.idrs.core.searchengines`\r\n\r\nIn package (2) I have a text file `ListStopWords.txt`, in package (1) I have a class `FileLoadder`. Here is code in `FileLoader`:\r\n\r\n    File file = new File(&quot;properties\\\\files\\\\ListStopWords.txt&quot;);\r\n\r\nBut I have this error:\r\n\r\n&gt; The system cannot find the path specified\r\n\r\nCan you give a solution to fix it?","title":"How to read file from relative path in Java project? java.io.File cannot find the path specified","body":"<p>I have a project with 2 packages:</p>\n<ol>\n<li><code>tkorg.idrs.core.searchengines</code></li>\n<li><code>tkorg.idrs.core.searchengines</code></li>\n</ol>\n<p>In package (2) I have a text file <code>ListStopWords.txt</code>, in package (1) I have a class <code>FileLoadder</code>. Here is code in <code>FileLoader</code>:</p>\n<pre><code>File file = new File(&quot;properties\\\\files\\\\ListStopWords.txt&quot;);\n</code></pre>\n<p>But I have this error:</p>\n<blockquote>\n<p>The system cannot find the path specified</p>\n</blockquote>\n<p>Can you give a solution to fix it?</p>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1696438199,"post_id":77230451,"comment_id":136153973,"body_markdown":"I don&#39;t know I would suggest changing this at runtime. Things like a jandex index wouldn&#39;t see these changes. What are you trying to achieve by adding `SomeDto.class` to the annotation? Maybe there is another way to achieve the end result.","body":"I don&#39;t know I would suggest changing this at runtime. Things like a jandex index wouldn&#39;t see these changes. What are you trying to achieve by adding <code>SomeDto.class</code> to the annotation? Maybe there is another way to achieve the end result."},{"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"score":0,"creation_date":1696489592,"post_id":77230451,"comment_id":136159973,"body_markdown":"As I wrote I was trying to do it on runtime using Javaasist but get finally not updated classes but new classes like CheckedDto1, CheckedDto2, CheckedDto3 (I run the app on Wildfly). I put here only an simple example but generally I want to add schema annotation to interfaces automatically to get well documented API.","body":"As I wrote I was trying to do it on runtime using Javaasist but get finally not updated classes but new classes like CheckedDto1, CheckedDto2, CheckedDto3 (I run the app on Wildfly). I put here only an simple example but generally I want to add schema annotation to interfaces automatically to get well documented API."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1696509601,"post_id":77230451,"comment_id":136163957,"body_markdown":"Is there a reason you can&#39;t do it at compile time? If you can, then you could use an annotation processor to generate meta-data of some sort.","body":"Is there a reason you can&#39;t do it at compile time? If you can, then you could use an annotation processor to generate meta-data of some sort."},{"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"score":0,"creation_date":1696573707,"post_id":77230451,"comment_id":136172985,"body_markdown":"Yes, there is a reason. I need to do it in runtime.","body":"Yes, there is a reason. I need to do it in runtime."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1696611861,"post_id":77230451,"comment_id":136180241,"body_markdown":"I&#39;m not sure how achievable it would be. It&#39;s very difficult, if not impossible?, to update annotation metadata at runtime. You could set it for an instant, but likely not have it done globaly.","body":"I&#39;m not sure how achievable it would be. It&#39;s very difficult, if not impossible?, to update annotation metadata at runtime. You could set it for an instant, but likely not have it done globaly."}],"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696429565,"creation_date":1696429565,"question_id":77230451,"body_markdown":"The problem to solve is to add some annotation to interfaces of annotated types (in Runtime). For example:\r\n\r\nBefore\r\n\r\n    @DomainDTO\r\n    public class SomeDto implements CheckedDto { ... }\r\n\r\n    public intereface CheckedDto { ... }\r\n\r\nAfter (Runtime)\r\n\r\n    @RegisteredDTO(dto = {SomeDto.class)\r\n    public intereface CheckedDto { ... }\r\n\r\nI was trying to use JBoss portable extension and observe annotated type:\r\n\r\n    &lt; T &gt; void processAnnotatedType( @Observes ProcessAnnotatedType&lt; T &gt; event, BeanManager beanManager )\r\n    {\r\n        Class&lt; T &gt; javaClass = event.getAnnotatedType()\r\n            .getJavaClass();\r\n        if( javaClass.isAnnotationPresent( DomainDTO.class ) )\r\n        {\r\n            // get intefaces of SomeDto\r\n    \r\n            // create instance of annotation RegisteredDTO\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nI know how to add annotations to oberved annotated type (using `AnnotatedTypeBuilder&lt; T &gt;`)  but don&#39;t know how to add annotation to interface `CheckedDto`. I was trying to use `Javaasit` with `ByteBuddyAgent` but it doesn&#39;t work for me on JBoss.\r\n\r\nDoes anyone know how to solve this? ","title":"JBoss portable extension o annotate intefaces of annotated classes","body":"<p>The problem to solve is to add some annotation to interfaces of annotated types (in Runtime). For example:</p>\n<p>Before</p>\n<pre><code>@DomainDTO\npublic class SomeDto implements CheckedDto { ... }\n\npublic intereface CheckedDto { ... }\n</code></pre>\n<p>After (Runtime)</p>\n<pre><code>@RegisteredDTO(dto = {SomeDto.class)\npublic intereface CheckedDto { ... }\n</code></pre>\n<p>I was trying to use JBoss portable extension and observe annotated type:</p>\n<pre><code>&lt; T &gt; void processAnnotatedType( @Observes ProcessAnnotatedType&lt; T &gt; event, BeanManager beanManager )\n{\n    Class&lt; T &gt; javaClass = event.getAnnotatedType()\n        .getJavaClass();\n    if( javaClass.isAnnotationPresent( DomainDTO.class ) )\n    {\n        // get intefaces of SomeDto\n\n        // create instance of annotation RegisteredDTO\n\n    }\n\n}\n</code></pre>\n<p>I know how to add annotations to oberved annotated type (using <code>AnnotatedTypeBuilder&lt; T &gt;</code>)  but don't know how to add annotation to interface <code>CheckedDto</code>. I was trying to use <code>Javaasit</code> with <code>ByteBuddyAgent</code> but it doesn't work for me on JBoss.</p>\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["java","spring","jackson","websphere","open-liberty"],"answers":[{"tags":[],"owner":{"account_id":17969296,"reputation":11,"user_id":13058471,"display_name":"Ryan Golden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696428994,"creation_date":1696346504,"answer_id":77223575,"question_id":77204358,"body_markdown":"IBM has an Application Migration Toolkit for Application Binaries (binary scanner). This tool was made to scan applications and create a report on migration issues including a migration from WebSphere 8.5 to Open Liberty. This tool helps with other migration scenarios too such as changing java versions. \r\n\r\nBy scanning the application with the binary scanner you may get closer to finding the issue that arose from your platform migration (See: *[Migration Toolkit for Application Binaries][1]*)\r\n\r\nSee also: *[Documentation][2]*\r\n\r\n\r\n  [1]: http://ibm.biz/WAMT4AppBinaries\r\n  [2]: https://www.ibm.com/docs/SSRQNQ/applicationBinaryMigration/overview.html","title":"Serialization error when switching from Websphere App Server to Open Liberty","body":"<p>IBM has an Application Migration Toolkit for Application Binaries (binary scanner). This tool was made to scan applications and create a report on migration issues including a migration from WebSphere 8.5 to Open Liberty. This tool helps with other migration scenarios too such as changing java versions.</p>\n<p>By scanning the application with the binary scanner you may get closer to finding the issue that arose from your platform migration (See: <em><a href=\"http://ibm.biz/WAMT4AppBinaries\" rel=\"nofollow noreferrer\">Migration Toolkit for Application Binaries</a></em>)</p>\n<p>See also: <em><a href=\"https://www.ibm.com/docs/SSRQNQ/applicationBinaryMigration/overview.html\" rel=\"nofollow noreferrer\">Documentation</a></em></p>\n"}],"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696428994,"creation_date":1696015234,"question_id":77204358,"body_markdown":"I&#39;m moving a java 8 app from WAS 8.5 to Open Liberty 23.   The app runs but gets the exception below when some data is being serialized in one of the REST controllers.  No code or library changes were made.  the only difference is that im trying to now run the app from the eclipse open liberty plugin instead of the myeclipse WAS plugin.\r\n\r\nim not clear where to even look for this issue.  It looks like spring is maybe not using the same jackson version?  Note, the same code works fine in WAS. And why would I get an error like this when serializing?\r\n\r\nA couple thoughts:\r\n\r\n - I&#39;m assuming the servlet jar is different.  I see  javax.servlet.http.HttpServlet.service in the stack trace, which is why I mention this.  I was a little confused about where the servlet jar was coming from with Open Liberty.  the OL eclipse plugin did not seem to include this.\r\n - WAS has parent first class loaders as described here - https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-class-loaders-server.  WAS has some jackson classes  - https://stackoverflow.com/questions/31412784/jackson-version-with-websphere-8-5-5.  I don&#39;t think this is the issue because my app has jackson 2.11 &amp; WAS had jackson 1.6.2.  The jackson package names changed between these releases so my app should be using the same jackson classes in both WAS &amp; OL.\r\n\r\nAny ideas?\r\n\r\n    org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: com.apps.models.Image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:207)\r\n    \tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:180)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:189)\r\n    \tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:69)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1258)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:746)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\r\n    \tat com.test.apps.filters.SessionValidationFilter.doFilter(SessionValidationFilter.java:56)\r\n    \tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n    \tat com.test.apps.filters.Log4JFilter.doFilter(Log4JFilter.java:62)\r\n    \tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5049)\r\n    \tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:314)\r\n    \tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\r\n    \tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\r\n    \tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1159)\r\n    \tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:428)\r\n    \tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:387)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:958)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1047)\r\n    \tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: com.fasterxml.jackson.databind.JsonMappingException: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;datagroup&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:232)\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:211)\r\n    \tat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:209)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:124)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:63)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:21)\r\n    \tat com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:180)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.se\r\n    rialize(BeanSerializer.java:143)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:120)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:1727)\r\n    \tat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:204)\r\n    \t... 48 more\r\n    Caused by: java.lang.ClassCastException: com.test.apps.models.image cannot be cast to java.lang.Integer\r\n    \tat com.fasterxml.jackson.databind.ser.std.NumberSerializers$IntegerSerializer.serialize(NumberSerializers.java:61)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:118)","title":"Serialization error when switching from Websphere App Server to Open Liberty","body":"<p>I'm moving a java 8 app from WAS 8.5 to Open Liberty 23.   The app runs but gets the exception below when some data is being serialized in one of the REST controllers.  No code or library changes were made.  the only difference is that im trying to now run the app from the eclipse open liberty plugin instead of the myeclipse WAS plugin.</p>\n<p>im not clear where to even look for this issue.  It looks like spring is maybe not using the same jackson version?  Note, the same code works fine in WAS. And why would I get an error like this when serializing?</p>\n<p>A couple thoughts:</p>\n<ul>\n<li>I'm assuming the servlet jar is different.  I see  javax.servlet.http.HttpServlet.service in the stack trace, which is why I mention this.  I was a little confused about where the servlet jar was coming from with Open Liberty.  the OL eclipse plugin did not seem to include this.</li>\n<li>WAS has parent first class loaders as described here - <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-class-loaders-server\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-class-loaders-server</a>.  WAS has some jackson classes  - <a href=\"https://stackoverflow.com/questions/31412784/jackson-version-with-websphere-8-5-5\">Jackson Version with WebSphere 8.5.5</a>.  I don't think this is the issue because my app has jackson 2.11 &amp; WAS had jackson 1.6.2.  The jackson package names changed between these releases so my app should be using the same jackson classes in both WAS &amp; OL.</li>\n</ul>\n<p>Any ideas?</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: com.apps.models.Image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0])\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:207)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:180)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:189)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:69)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1258)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:746)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\n    at com.test.apps.filters.SessionValidationFilter.doFilter(SessionValidationFilter.java:56)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.test.apps.filters.Log4JFilter.doFilter(Log4JFilter.java:62)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\n    at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5049)\n    at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:314)\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\n    at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1159)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:428)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:387)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\n    at com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:958)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1047)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;datagroup&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:232)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:211)\n    at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:209)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:124)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:63)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:21)\n    at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:180)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.se\nrialize(BeanSerializer.java:143)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:120)\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:1727)\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:204)\n    ... 48 more\nCaused by: java.lang.ClassCastException: com.test.apps.models.image cannot be cast to java.lang.Integer\n    at com.fasterxml.jackson.databind.ser.std.NumberSerializers$IntegerSerializer.serialize(NumberSerializers.java:61)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:118)\n</code></pre>\n"},{"tags":["java","android","ssl","x509certificate","truststore"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1468778960,"post_id":38423875,"comment_id":64255356,"body_markdown":"Your requirement is not secure, and it also doesn&#39;t readily allow for certificate renewal or rekeying without source code changes. Rethink. You should use a keystore. That&#39;s what it&#39;s for,","body":"Your requirement is not secure, and it also doesn&#39;t readily allow for certificate renewal or rekeying without source code changes. Rethink. You should use a keystore. That&#39;s what it&#39;s for,"},{"owner":{"account_id":4031203,"reputation":47,"user_id":3317225,"accept_rate":50,"display_name":"user3317225"},"score":0,"creation_date":1468780431,"post_id":38423875,"comment_id":64255796,"body_markdown":"I understand the security implications, the keys and certificate originate from a byte array received over a secure TCP connection at application boot so I&#39;m not worried about rekeying or RE risks. I&#39;d like to keep everything strictly in memory.","body":"I understand the security implications, the keys and certificate originate from a byte array received over a secure TCP connection at application boot so I&#39;m not worried about rekeying or RE risks. I&#39;d like to keep everything strictly in memory."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29615,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696428675,"creation_date":1468782765,"answer_id":38424989,"question_id":38423875,"body_markdown":"The easiest way is to still use a keystore, but instead of reading one from disk, create one on the fly:\r\n\r\n    ByteArrayInputStream is = new FileInputStream(certificateString);\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    keyStore.load(is, clientCertPassword.toCharArray());\r\n    \r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;X509&quot;);\r\n    kmf.init(keyStore, clientCertPassword.toCharArray());\r\n    KeyManager[] keyManagers = kmf.getKeyManagers();\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(keyManagers, null, null);\r\n\r\nFor a full example of using a self-signed client certificate in an Android app (with a matching self-signed server certificate), you can take a look at a blog post that I did a back in 2013: http://chariotsolutions.com/blog/post/https-with-client-certificates-on","title":"Using a PrivateKey, PublicKey and Certificate objects to setup an SSLContext","body":"<p>The easiest way is to still use a keystore, but instead of reading one from disk, create one on the fly:</p>\n<pre><code>ByteArrayInputStream is = new FileInputStream(certificateString);\nKeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\nkeyStore.load(is, clientCertPassword.toCharArray());\n\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;X509&quot;);\nkmf.init(keyStore, clientCertPassword.toCharArray());\nKeyManager[] keyManagers = kmf.getKeyManagers();\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(keyManagers, null, null);\n</code></pre>\n<p>For a full example of using a self-signed client certificate in an Android app (with a matching self-signed server certificate), you can take a look at a blog post that I did a back in 2013: <a href=\"http://chariotsolutions.com/blog/post/https-with-client-certificates-on\" rel=\"nofollow noreferrer\">http://chariotsolutions.com/blog/post/https-with-client-certificates-on</a></p>\n"}],"owner":{"account_id":4031203,"reputation":47,"user_id":3317225,"accept_rate":50,"display_name":"user3317225"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3841,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38424989,"answer_count":1,"score":4,"last_activity_date":1696428675,"creation_date":1468775740,"question_id":38423875,"body_markdown":"I have valid PrivateKey, PublicKey and Certificate objects created that I need to be able to use to create an SSLContext for use with a HttpsURLConnection. The reason I need to do it this way is because a requirement is to store the private key, public key and certificate as text within string variables. I have included a short excerpt of the code I&#39;m using.\r\n\r\n    PrivateKey privKey = loadPrivateKey(&quot;REDACTED&quot;);\r\n    PublicKey publicKey = loadPublicKey(&quot;REDACTED&quot;);\r\n    X509Certificate cert = convertToX509Certificate(&quot;REDACTED&quot;);\r\n\r\nsslContext = ???\r\n    \r\n    \r\n         URL obj = new URL(&quot;https://www.example.com/WS&quot;);\r\n         HttpsURLConnection connection = (HttpsURLConnection) obj.openConnection();\r\n\r\n\r\n         connection.setSSLSocketFactory(sslContext.getSocketFactory());\r\n    \r\n\r\n     public static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\r\n            byte[] data = Base64.decode(stored, 0).toString().getBytes();;\r\n            X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\r\n            KeyFactory fact = KeyFactory.getInstance(&quot;DSA&quot;);\r\n            return fact.generatePublic(spec);\r\n        }\r\n    \r\n    \r\n        public static PrivateKey loadPrivateKey(String key64) throws GeneralSecurityException {\r\n            byte[] clear = Base64.decode(key64, 0).toString().getBytes();\r\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(clear);\r\n            KeyFactory fact = KeyFactory.getInstance(&quot;DSA&quot;);\r\n            PrivateKey priv = fact.generatePrivate(keySpec);\r\n            Arrays.fill(clear, (byte) 0);\r\n            return priv;\r\n        }\r\n    \r\n        public X509Certificate convertToX509Certificate(String pem) throws CertificateException, IOException {\r\n            X509Certificate cert = null;\r\n            StringReader reader = new StringReader(pem);\r\n            PEMReader pr = new PEMReader(reader);\r\n            cert = (X509Certificate)pr.readObject();\r\n            return cert;\r\n        }","title":"Using a PrivateKey, PublicKey and Certificate objects to setup an SSLContext","body":"<p>I have valid PrivateKey, PublicKey and Certificate objects created that I need to be able to use to create an SSLContext for use with a HttpsURLConnection. The reason I need to do it this way is because a requirement is to store the private key, public key and certificate as text within string variables. I have included a short excerpt of the code I'm using.</p>\n\n<pre><code>PrivateKey privKey = loadPrivateKey(\"REDACTED\");\nPublicKey publicKey = loadPublicKey(\"REDACTED\");\nX509Certificate cert = convertToX509Certificate(\"REDACTED\");\n</code></pre>\n\n<p>sslContext = ???</p>\n\n<pre><code>     URL obj = new URL(\"https://www.example.com/WS\");\n     HttpsURLConnection connection = (HttpsURLConnection) obj.openConnection();\n\n\n     connection.setSSLSocketFactory(sslContext.getSocketFactory());\n\n\n public static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\n        byte[] data = Base64.decode(stored, 0).toString().getBytes();;\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\n        KeyFactory fact = KeyFactory.getInstance(\"DSA\");\n        return fact.generatePublic(spec);\n    }\n\n\n    public static PrivateKey loadPrivateKey(String key64) throws GeneralSecurityException {\n        byte[] clear = Base64.decode(key64, 0).toString().getBytes();\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(clear);\n        KeyFactory fact = KeyFactory.getInstance(\"DSA\");\n        PrivateKey priv = fact.generatePrivate(keySpec);\n        Arrays.fill(clear, (byte) 0);\n        return priv;\n    }\n\n    public X509Certificate convertToX509Certificate(String pem) throws CertificateException, IOException {\n        X509Certificate cert = null;\n        StringReader reader = new StringReader(pem);\n        PEMReader pr = new PEMReader(reader);\n        cert = (X509Certificate)pr.readObject();\n        return cert;\n    }\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696430862,"post_id":77230293,"comment_id":136152425,"body_markdown":"If you&#39;re using reflection to access that field anyway, might as well reassign it with a new map that&#39;s not empty","body":"If you&#39;re using reflection to access that field anyway, might as well reassign it with a new map that&#39;s not empty"},{"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"score":0,"creation_date":1696573996,"post_id":77230293,"comment_id":136173027,"body_markdown":"To do it by reflection you need to use illegal access to the field which will be denied in a future release (Java 18+)","body":"To do it by reflection you need to use illegal access to the field which will be denied in a future release (Java 18+)"}],"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696428221,"creation_date":1696428221,"question_id":77230293,"body_markdown":"I&#39;I&#39;m testing a code written according to this article:\r\n \r\nhttps://rationaleemotions.wordpress.com/2016/05/27/changing-annotation-values-at-runtime/\r\n\r\nand it works for a case when class has at least one annotation at the class level. In case of scenario when I&#39;m adding annotetion to class which is not annotated at all I got `UnsupportedOperationException` due to the fact that:\r\n\r\n    Object annotationData = method.invoke(clazzToLookFor);\r\n\r\nreturn `Class:AnnotationData` with a field &#39;`annotation`&#39; which is an `emptyMap`. (if tha class is already annotated by at least one annotation it is a `LinkedHashMap`)\r\n\r\nDoes anyone know how to solve it?\r\n\r\n\r\n\r\n\r\n","title":"Adding annotation to not annotated type in a programmatically way","body":"<p>I'I'm testing a code written according to this article:</p>\n<p><a href=\"https://rationaleemotions.wordpress.com/2016/05/27/changing-annotation-values-at-runtime/\" rel=\"nofollow noreferrer\">https://rationaleemotions.wordpress.com/2016/05/27/changing-annotation-values-at-runtime/</a></p>\n<p>and it works for a case when class has at least one annotation at the class level. In case of scenario when I'm adding annotetion to class which is not annotated at all I got <code>UnsupportedOperationException</code> due to the fact that:</p>\n<pre><code>Object annotationData = method.invoke(clazzToLookFor);\n</code></pre>\n<p>return <code>Class:AnnotationData</code> with a field '<code>annotation</code>' which is an <code>emptyMap</code>. (if tha class is already annotated by at least one annotation it is a <code>LinkedHashMap</code>)</p>\n<p>Does anyone know how to solve it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9862,"page":143,"page_size":100}
