{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1647279439,"post_id":71471930,"comment_id":126326539,"body_markdown":"Why are you calling `finish()` in `onCreate()`? If you close an activity before it is created, then the activity is entirely useless. You either need to call `finish()` from some other function, such as a button click handler, or you need to use something other than an activity to do what you want.","body":"Why are you calling <code>finish()</code> in <code>onCreate()</code>? If you close an activity before it is created, then the activity is entirely useless. You either need to call <code>finish()</code> from some other function, such as a button click handler, or you need to use something other than an activity to do what you want."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1647280094,"post_id":71471930,"comment_id":126326760,"body_markdown":"@Code-Apprentice There are times where finish in onCreate is appropriate.  For example, if your app requires you to be logged in, one way of doing this is to launch the LoginActivity.  Then the login activity would look for a pre-existing login, and if one is found launch the MainActivity and finish itself before showing.  Generally activities like this are doing conditional launches of other activities, and are referenced from outside the main activity (such as the launcher, or a simplified handler activity for a class of URLs).  It&#39;s definitely not unheard of to do this.","body":"@Code-Apprentice There are times where finish in onCreate is appropriate.  For example, if your app requires you to be logged in, one way of doing this is to launch the LoginActivity.  Then the login activity would look for a pre-existing login, and if one is found launch the MainActivity and finish itself before showing.  Generally activities like this are doing conditional launches of other activities, and are referenced from outside the main activity (such as the launcher, or a simplified handler activity for a class of URLs).  It&#39;s definitely not unheard of to do this."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647280177,"post_id":71471930,"comment_id":126326785,"body_markdown":"Of course generally activities like I described above don&#39;t set a UI unless they aren&#39;t finished, so they don&#39;t flash one.","body":"Of course generally activities like I described above don&#39;t set a UI unless they aren&#39;t finished, so they don&#39;t flash one."},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1647282303,"post_id":71471930,"comment_id":126327520,"body_markdown":"This is the third screen. I just did it to test the finish. In my second screen I ask for permissions and then I need to close the activity, I know how to do this. I just have this problem of having an activity still visible even after the finish.","body":"This is the third screen. I just did it to test the finish. In my second screen I ask for permissions and then I need to close the activity, I know how to do this. I just have this problem of having an activity still visible even after the finish."},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1647283564,"post_id":71471930,"comment_id":126327946,"body_markdown":"I saw that only on Android 11 it is showing the activity even after finishing.","body":"I saw that only on Android 11 it is showing the activity even after finishing."}],"answers":[{"tags":[],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647619369,"creation_date":1647619369,"answer_id":71529909,"question_id":71471930,"body_markdown":"putting this in the manifest solved it for me\r\n\r\n    android:excludeFromRecents=&quot;true&quot;","title":"activity still appears after using finish","body":"<p>putting this in the manifest solved it for me</p>\n<pre><code>android:excludeFromRecents=&quot;true&quot;\n</code></pre>\n"}],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71529909,"answer_count":1,"score":0,"last_activity_date":1647619369,"creation_date":1647279273,"question_id":71471930,"body_markdown":"Activity does not finish after the finish\r\n\r\n    public class ThirdActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_third);\r\n    \r\n            Log.d(&quot;TAG&quot;, &quot;onCreate ThirdActivity.............................................&quot;);\r\n    \r\n            finish();\r\n        }\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uWpk0.png","title":"activity still appears after using finish","body":"<p>Activity does not finish after the finish</p>\n<pre><code>public class ThirdActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_third);\n\n        Log.d(&quot;TAG&quot;, &quot;onCreate ThirdActivity.............................................&quot;);\n\n        finish();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uWpk0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":12928869,"reputation":1426,"user_id":9348534,"display_name":"DynasticSponge"},"score":0,"creation_date":1595128917,"post_id":62975855,"comment_id":111365520,"body_markdown":"&lt;quote&gt;I&#39;m trying to draw a half arrow in Java and continuously get the same error upon running the code. &lt;/quote&gt;    What error?","body":"&lt;quote&gt;I&#39;m trying to draw a half arrow in Java and continuously get the same error upon running the code. &lt;/quote&gt;    What error?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1595138309,"post_id":62975855,"comment_id":111366899,"body_markdown":"Welcome to Stack Overflow! Please help us help you by explaining *exactly* what happens when you try running the code (for example, if an error occurs, copy and paste the *complete* error message, formatted as code) and how that is different from what you expect to happen. It would also help to give some indication of where your changes are in this code, compared to &quot;the given program&quot; which we can&#39;t see here.","body":"Welcome to Stack Overflow! Please help us help you by explaining <i>exactly</i> what happens when you try running the code (for example, if an error occurs, copy and paste the <i>complete</i> error message, formatted as code) and how that is different from what you expect to happen. It would also help to give some indication of where your changes are in this code, compared to &quot;the given program&quot; which we can&#39;t see here."}],"answers":[{"tags":[],"owner":{"account_id":7771245,"reputation":46,"user_id":5880726,"display_name":"Vijay prasath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595129994,"creation_date":1595129994,"answer_id":62975988,"question_id":62975855,"body_markdown":"Your code seems to be running fine (here&#39;s it running on a code runnier: https://code.sololearn.com/c6Ww6ZpVv6vI/#java), what error are you getting?","title":"Drawing a half arrow using loops in Java","body":"<p>Your code seems to be running fine (here's it running on a code runnier: <a href=\"https://code.sololearn.com/c6Ww6ZpVv6vI/#java\" rel=\"nofollow noreferrer\">https://code.sololearn.com/c6Ww6ZpVv6vI/#java</a>), what error are you getting?</p>\n"},{"tags":[],"owner":{"account_id":24290166,"reputation":11,"user_id":18235343,"display_name":"Tybomb21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647619310,"creation_date":1647619310,"answer_id":71529889,"question_id":62975855,"body_markdown":"You just had some print line problems and other white space issues between the &quot;:&quot;\r\n\r\n    import java.util.Scanner; \r\n\r\n    public class DrawHalfArrow {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n         int arrowBaseHeight;\r\n          int arrowBaseWidth;\r\n          int arrowHeadWidth;\r\n\r\n\r\n          System.out.println(&quot;Enter arrow base height:&quot;);\r\n        \r\n          arrowBaseHeight = scnr.nextInt();\r\n\r\n          System.out.println(&quot;Enter arrow base width:&quot;);\r\n     \r\n          arrowBaseWidth = scnr.nextInt();\r\n\r\n          System.out.println(&quot;Enter arrow head width:&quot;);\r\n       \r\n          arrowHeadWidth = scnr.nextInt();\r\n      \r\n          while (arrowHeadWidth &lt;= arrowBaseWidth) {\r\n              System.out.println(&quot;Enter arrow head width:&quot;);\r\n              arrowHeadWidth = scnr.nextInt();\r\n          }\r\n\r\n          System.out.println();\r\n          for (int i = 0; i &lt; arrowBaseHeight; i++) {\r\n              for (int j = 0; j &lt; arrowBaseWidth; j++) {\r\n                  System.out.print(&quot;*&quot;);\r\n              }\r\n              System.out.println();\r\n          }\r\n\r\n          for (int i = arrowHeadWidth; i &gt; 0; i--) {\r\n              for (int j = 0; j &lt; i; j++) {\r\n                  System.out.print(&quot;*&quot;);\r\n              } \r\n              System.out.println();\r\n          }\r\n       }\r\n    }\r\n","title":"Drawing a half arrow using loops in Java","body":"<p>You just had some print line problems and other white space issues between the &quot;:&quot;</p>\n<pre><code>import java.util.Scanner; \n\npublic class DrawHalfArrow {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n     int arrowBaseHeight;\n      int arrowBaseWidth;\n      int arrowHeadWidth;\n\n\n      System.out.println(&quot;Enter arrow base height:&quot;);\n    \n      arrowBaseHeight = scnr.nextInt();\n\n      System.out.println(&quot;Enter arrow base width:&quot;);\n \n      arrowBaseWidth = scnr.nextInt();\n\n      System.out.println(&quot;Enter arrow head width:&quot;);\n   \n      arrowHeadWidth = scnr.nextInt();\n  \n      while (arrowHeadWidth &lt;= arrowBaseWidth) {\n          System.out.println(&quot;Enter arrow head width:&quot;);\n          arrowHeadWidth = scnr.nextInt();\n      }\n\n      System.out.println();\n      for (int i = 0; i &lt; arrowBaseHeight; i++) {\n          for (int j = 0; j &lt; arrowBaseWidth; j++) {\n              System.out.print(&quot;*&quot;);\n          }\n          System.out.println();\n      }\n\n      for (int i = arrowHeadWidth; i &gt; 0; i--) {\n          for (int j = 0; j &lt; i; j++) {\n              System.out.print(&quot;*&quot;);\n          } \n          System.out.println();\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":19109794,"reputation":1,"user_id":13956045,"display_name":"Noah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647619310,"creation_date":1595128390,"question_id":62975855,"body_markdown":"I&#39;m trying to draw a half arrow in Java and continuously get the same error upon running the code. I&#39;m not sure what I am doing wrong and any assistance would be great. \r\n\r\nInstructions: This program outputs a downwards facing arrow composed of a rectangle and a right triangle. The arrow dimensions are defined by user specified arrow base height, arrow base width, and arrow head width.\r\n\r\n(1) Modify the given program to use a loop to output an arrow base of height arrowBaseHeight. (1 pt)\r\n\r\n\r\n\r\n(2) Modify the given program to use a loop to output an arrow base of width arrowBaseWidth. Use a nested loop in which the inner loop draws the *’s, and the outer loop iterates a number of times equal to the height of the arrow base. (1 pt)\r\n\r\n\r\n\r\n(3) Modify the given program to use a loop to output an arrow head of width arrowHeadWidth. Use a nested loop in which the inner loop draws the *’s, and the outer loop iterates a number of times equal to the height of the arrow head. (2 pts)\r\n\r\n\r\n\r\n(4) Modify the given program to only accept an arrow head width that is larger than the arrow base width. Use a loop to continue prompting the user for an arrow head width until the value is larger than the arrow base width. (1 pt)\r\n\r\n\r\nExample output for arrowBaseHeight = 5, arrowBaseWidth = 2, and arrowHeadWidth = 4:\r\n\r\nEnter arrow base height: 5\r\nEnter arrow base width: 2\r\nEnter arrow head width: 4\r\n**\r\n**\r\n**\r\n**\r\n**\r\n****\r\n***\r\n**\r\n*\r\nMy code: \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DrawHalfArrow {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            int arrowBaseHeight;\r\n            int arrowBaseWidth;\r\n            int arrowHeadWidth;\r\n    \r\n            System.out.print(&quot;Enter arrow base height: &quot;);\r\n            arrowBaseHeight = scnr.nextInt();\r\n    \r\n            System.out.print(&quot;Enter arrow base width: &quot;);\r\n            arrowBaseWidth = scnr.nextInt();\r\n    \r\n            System.out.print(&quot;Enter arrow head width: &quot;);\r\n            arrowHeadWidth = scnr.nextInt();\r\n            while (arrowHeadWidth &lt;= arrowBaseWidth) {\r\n                System.out.print(&quot;Enter arrow head width: &quot;);\r\n                arrowHeadWidth = scnr.nextInt();\r\n            }\r\n    \r\n            System.out.println();\r\n            for (int i = 0; i &lt; arrowBaseHeight; i++) {\r\n                for (int j = 0; j &lt; arrowBaseWidth; j++) {\r\n                    System.out.print(&quot;*&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n    \r\n            for (int i = arrowHeadWidth; i &gt; 0; i--) {\r\n                for (int j = 0; j &lt; i; j++) {\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n","title":"Drawing a half arrow using loops in Java","body":"<p>I'm trying to draw a half arrow in Java and continuously get the same error upon running the code. I'm not sure what I am doing wrong and any assistance would be great.</p>\n<p>Instructions: This program outputs a downwards facing arrow composed of a rectangle and a right triangle. The arrow dimensions are defined by user specified arrow base height, arrow base width, and arrow head width.</p>\n<p>(1) Modify the given program to use a loop to output an arrow base of height arrowBaseHeight. (1 pt)</p>\n<p>(2) Modify the given program to use a loop to output an arrow base of width arrowBaseWidth. Use a nested loop in which the inner loop draws the *’s, and the outer loop iterates a number of times equal to the height of the arrow base. (1 pt)</p>\n<p>(3) Modify the given program to use a loop to output an arrow head of width arrowHeadWidth. Use a nested loop in which the inner loop draws the *’s, and the outer loop iterates a number of times equal to the height of the arrow head. (2 pts)</p>\n<p>(4) Modify the given program to only accept an arrow head width that is larger than the arrow base width. Use a loop to continue prompting the user for an arrow head width until the value is larger than the arrow base width. (1 pt)</p>\n<p>Example output for arrowBaseHeight = 5, arrowBaseWidth = 2, and arrowHeadWidth = 4:</p>\n<p>Enter arrow base height: 5\nEnter arrow base width: 2\nEnter arrow head width: 4\n**\n**\n**\n**\n**</p>\n<hr />\n<hr />\n<p>**\n*\nMy code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class DrawHalfArrow {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int arrowBaseHeight;\n        int arrowBaseWidth;\n        int arrowHeadWidth;\n\n        System.out.print(&quot;Enter arrow base height: &quot;);\n        arrowBaseHeight = scnr.nextInt();\n\n        System.out.print(&quot;Enter arrow base width: &quot;);\n        arrowBaseWidth = scnr.nextInt();\n\n        System.out.print(&quot;Enter arrow head width: &quot;);\n        arrowHeadWidth = scnr.nextInt();\n        while (arrowHeadWidth &lt;= arrowBaseWidth) {\n            System.out.print(&quot;Enter arrow head width: &quot;);\n            arrowHeadWidth = scnr.nextInt();\n        }\n\n        System.out.println();\n        for (int i = 0; i &lt; arrowBaseHeight; i++) {\n            for (int j = 0; j &lt; arrowBaseWidth; j++) {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n\n        for (int i = arrowHeadWidth; i &gt; 0; i--) {\n            for (int j = 0; j &lt; i; j++) {\n                System.out.print(&quot;*&quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1454336293,"post_id":35132704,"comment_id":57985198,"body_markdown":"&quot;successfuly pressed key F12&quot; will be printed whether or not the `action.sendKeys()` call manages to do it or not (suceeds or fails)","body":"&quot;successfuly pressed key F12&quot; will be printed whether or not the <code>action.sendKeys()</code> call manages to do it or not (suceeds or fails)"},{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1454337387,"post_id":35132704,"comment_id":57986078,"body_markdown":"Also, what do you expect to happen on the site? You&#39;re closing the browser (almost) immediately after, without any waiting.","body":"Also, what do you expect to happen on the site? You&#39;re closing the browser (almost) immediately after, without any waiting."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1454346701,"post_id":35132704,"comment_id":57992576,"body_markdown":"F12 opens the dev console. I haven&#39;t tried this but you might be able to check the viewport size before and after F12 is pressed and make sure there is a size difference to detect whether the dev console opened or not. I&#39;m not sure there&#39;s another way to determine if it opened.","body":"F12 opens the dev console. I haven&#39;t tried this but you might be able to check the viewport size before and after F12 is pressed and make sure there is a size difference to detect whether the dev console opened or not. I&#39;m not sure there&#39;s another way to determine if it opened."}],"answers":[{"tags":[],"owner":{"account_id":1243507,"reputation":1135,"user_id":1205503,"accept_rate":75,"display_name":"Abdul Hameed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500465700,"creation_date":1454364098,"answer_id":35141236,"question_id":35132704,"body_markdown":"Can you try pressing `F12` on body of the website? I used below java junit code and it opened google and pressed `F12`. \r\n\r\n    @Test\r\n    public void Test_Google_FireFox() throws Exception {\r\n        driver = new FirefoxDriver();\r\n        driver.manage().window().maximize();\r\n        baseUrl = &quot;https://www.google.com&quot;;\r\n        driver.get(baseUrl);\r\n        driver.findElement(By.xpath(&quot;/html/body&quot;)).sendKeys(Keys.F12);\r\nOR,\r\n\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.F12);\r\n\r\nOR,\t\t\r\n\r\n    driver.findElement(By.tagName(&quot;body&quot;)).sendKeys(Keys.F12);\r\n        \r\n    }","title":"Pressing &quot;F12&quot; key directly through Selenium","body":"<p>Can you try pressing <code>F12</code> on body of the website? I used below java junit code and it opened google and pressed <code>F12</code>. </p>\n\n<pre><code>@Test\npublic void Test_Google_FireFox() throws Exception {\n    driver = new FirefoxDriver();\n    driver.manage().window().maximize();\n    baseUrl = \"https://www.google.com\";\n    driver.get(baseUrl);\n    driver.findElement(By.xpath(\"/html/body\")).sendKeys(Keys.F12);\n</code></pre>\n\n<p>OR,</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.F12);\n</code></pre>\n\n<p>OR,     </p>\n\n<pre><code>driver.findElement(By.tagName(\"body\")).sendKeys(Keys.F12);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8879641,"reputation":21,"user_id":6630345,"display_name":"Senoyodha Brennaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469390047,"creation_date":1469390047,"answer_id":38556134,"question_id":35132704,"body_markdown":"I think you forgot to add the perform method.\r\nSo it should be:\r\n\r\n    Actions action = new Actions(driver);\r\n    action.sendKeys(Keys.F12);\r\n    action.perform();\r\n\r\nor\r\n\r\n    Actions action = new Actions(driver);\r\n    action.sendKeys(Keys.F12).perform();","title":"Pressing &quot;F12&quot; key directly through Selenium","body":"<p>I think you forgot to add the perform method.\nSo it should be:</p>\n\n<pre><code>Actions action = new Actions(driver);\naction.sendKeys(Keys.F12);\naction.perform();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Actions action = new Actions(driver);\naction.sendKeys(Keys.F12).perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500466895,"creation_date":1500466895,"answer_id":45190452,"question_id":35132704,"body_markdown":"**For pressing F12**: The following Selenium Java code using Robot could work both in Firefox and Chrome:\r\n\r\n    driver.get(&quot;https://www.google.com/&quot;);\r\n    Robot robot = new Robot();\r\n    robot.keyPress(KeyEvent.VK_F12);\r\n    robot.keyRelease(KeyEvent.VK_F12);","title":"Pressing &quot;F12&quot; key directly through Selenium","body":"<p><strong>For pressing F12</strong>: The following Selenium Java code using Robot could work both in Firefox and Chrome:</p>\n\n<pre><code>driver.get(\"https://www.google.com/\");\nRobot robot = new Robot();\nrobot.keyPress(KeyEvent.VK_F12);\nrobot.keyRelease(KeyEvent.VK_F12);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7527385,"reputation":2083,"user_id":5717031,"accept_rate":17,"display_name":"Mike ASP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647618803,"creation_date":1528840492,"answer_id":50826381,"question_id":35132704,"body_markdown":"VS 2017 , Selenium v 3.12.1 ,C# , Firefox V 60.0.2 , Chrome V 66 , Nunit v3.10.1 , Gecko Driver v 20.1 , chrome driver v 2.4\r\n\r\nI tried to search for Firefox but did not success but I do get solution for Chrome v66\r\n        \r\nPlease provide profile like this: \r\n\r\n    options.AddArguments(&quot;--auto-open-devtools-for-tabs&quot;);\r\n        \r\nThis is the chrome driver implementation:\r\n        \r\n        \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.AddArgument(&quot;--start-maximized&quot;);\r\n    options.AddArguments(&quot;disable-infobars&quot;);\r\n    options.AddArguments(&quot;--disable-notifications&quot;);\r\n    options.AddArguments(&quot;--auto-open-devtools-for-tabs&quot;);\r\n    driver = new ChromeDriver(DrivePath, options, TimeSpan.FromSeconds(100));\r\n        \r\n        \r\nyou may have a look here as well: https://peter.sh/experiments/chromium-command-line-switches/\r\n    \r\n    \r\nBelow commands are NOT working, this is issue with Geckodriver so Gecko team has to provide some solution or fix for that :\r\n    \r\n    driver.FindElement(By.CssSelector(&quot;body&quot;)).SendKeys(Keys.F12);\r\n    \r\n    Actions action = new Actions(driver); action.SendKeys(Keys.F12); action.Perform();\r\n    \r\n    Actions action = new Actions(driver); action .KeyDown(Keys.Control).SendKeys(Keys.F12).KeyUp(Keys.Control).Perform();\r\n    \r\n    Actions action = new Actions(driver); action.SendKeys(Keys.F12); action.Click();","title":"Pressing &quot;F12&quot; key directly through Selenium","body":"<p>VS 2017 , Selenium v 3.12.1 ,C# , Firefox V 60.0.2 , Chrome V 66 , Nunit v3.10.1 , Gecko Driver v 20.1 , chrome driver v 2.4</p>\n<p>I tried to search for Firefox but did not success but I do get solution for Chrome v66</p>\n<p>Please provide profile like this:</p>\n<pre><code>options.AddArguments(&quot;--auto-open-devtools-for-tabs&quot;);\n    \n</code></pre>\n<p>This is the chrome driver implementation:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.AddArgument(&quot;--start-maximized&quot;);\noptions.AddArguments(&quot;disable-infobars&quot;);\noptions.AddArguments(&quot;--disable-notifications&quot;);\noptions.AddArguments(&quot;--auto-open-devtools-for-tabs&quot;);\ndriver = new ChromeDriver(DrivePath, options, TimeSpan.FromSeconds(100));\n    \n    \n</code></pre>\n<p>you may have a look here as well: <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></p>\n<p>Below commands are NOT working, this is issue with Geckodriver so Gecko team has to provide some solution or fix for that :</p>\n<pre><code>driver.FindElement(By.CssSelector(&quot;body&quot;)).SendKeys(Keys.F12);\n\nActions action = new Actions(driver); action.SendKeys(Keys.F12); action.Perform();\n\nActions action = new Actions(driver); action .KeyDown(Keys.Control).SendKeys(Keys.F12).KeyUp(Keys.Control).Perform();\n\nActions action = new Actions(driver); action.SendKeys(Keys.F12); action.Click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17498786,"reputation":31,"user_id":12689527,"display_name":"Patrick Pope"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578660832,"creation_date":1578660832,"answer_id":59682116,"question_id":35132704,"body_markdown":"I have been trying to use C# selenium to automatically open browsers with the devtools console open. To date (January 2020) My experience with C# is\r\n**Chrome**  `options.AddArguments(&quot;--auto-open-devtools-for-tabs&quot;);`\r\n**Firefox** `options.AddArgument(&quot;-devtools&quot;);`\r\n**IE11**  no command line options but you can use `driver.FindElement(By.Id(&quot;body&quot;)).SendKeys(Keys.F12);` after the browsers is open\r\n**Edge** I have not been able to find any way to do this automatically, so selecting the browser and pressing F12 will have to suffice. \r\n\r\nThanks to the other contributors who helped me get this far\r\n","title":"Pressing &quot;F12&quot; key directly through Selenium","body":"<p>I have been trying to use C# selenium to automatically open browsers with the devtools console open. To date (January 2020) My experience with C# is\n<strong>Chrome</strong>  <code>options.AddArguments(\"--auto-open-devtools-for-tabs\");</code>\n<strong>Firefox</strong> <code>options.AddArgument(\"-devtools\");</code>\n<strong>IE11</strong>  no command line options but you can use <code>driver.FindElement(By.Id(\"body\")).SendKeys(Keys.F12);</code> after the browsers is open\n<strong>Edge</strong> I have not been able to find any way to do this automatically, so selecting the browser and pressing F12 will have to suffice. </p>\n\n<p>Thanks to the other contributors who helped me get this far</p>\n"}],"owner":{"account_id":7126090,"reputation":315,"user_id":5448976,"accept_rate":0,"display_name":"naazneen3264"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16877,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1647618803,"creation_date":1454335927,"question_id":35132704,"body_markdown":"Below is my scenario :\r\n\r\n1. Open the URL (http://google.com)&lt;br&gt;\r\n2. Press &quot;F12&quot; key\r\n\r\nI have tried below lines of code :\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\t\tWebDriver driver=new FirefoxDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(&quot;http://google.com&quot;);\r\n\t\t\r\n        String CurrentURL= driver.getCurrentUrl();\r\n        System.out.println(&quot;Current URL is : &quot; + CurrentURL);\r\n        \r\n        Actions action = new Actions(driver);\r\n        action.sendKeys(Keys.F12);\r\n    \r\n        System.out.println(&quot;successfuly pressed key F12&quot;);\r\n        driver.close();\r\n\t}\r\n\t\r\n\r\nIt is printing &quot;successfuly pressed key F12&quot; on the console. But, I don&#39;t see &#39;F12&#39; being pressed on website.\r\n\r\nPlease can anyone help me out of this ?\r\n\r\nThanks in advance.","title":"Pressing &quot;F12&quot; key directly through Selenium","body":"<p>Below is my scenario :</p>\n\n<ol>\n<li>Open the URL (<a href=\"http://google.com\" rel=\"nofollow noreferrer\">http://google.com</a>)<br></li>\n<li>Press \"F12\" key</li>\n</ol>\n\n<p>I have tried below lines of code :</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n    WebDriver driver=new FirefoxDriver();\n    driver.manage().window().maximize();\n    driver.get(\"http://google.com\");\n\n    String CurrentURL= driver.getCurrentUrl();\n    System.out.println(\"Current URL is : \" + CurrentURL);\n\n    Actions action = new Actions(driver);\n    action.sendKeys(Keys.F12);\n\n    System.out.println(\"successfuly pressed key F12\");\n    driver.close();\n}\n</code></pre>\n\n<p>It is printing \"successfuly pressed key F12\" on the console. But, I don't see 'F12' being pressed on website.</p>\n\n<p>Please can anyone help me out of this ?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"score":0,"creation_date":1647608635,"post_id":71527310,"comment_id":126419543,"body_markdown":"Why not using [`countMatches()`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#countMatches-java.lang.CharSequence-java.lang.CharSequence-) for every word in your list ?","body":"Why not using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#countMatches-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>countMatches()</code></a> for every word in your list ?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647609543,"post_id":71527310,"comment_id":126419878,"body_markdown":"_In my example, the score would be 2 because &quot;this&quot; and &quot;is&quot; occur in the text_ Wouldn&#39;t the score be 4 since both _This_ and _is_ occur twice in the text?","body":"<i>In my example, the score would be 2 because &quot;this&quot; and &quot;is&quot; occur in the text</i> Wouldn&#39;t the score be 4 since both <i>This</i> and <i>is</i> occur twice in the text?"},{"owner":{"account_id":24120104,"reputation":78,"user_id":18089412,"display_name":"EustassX"},"score":0,"creation_date":1647764431,"post_id":71527310,"comment_id":126449319,"body_markdown":"@Abra is right.","body":"@Abra is right."}],"answers":[{"tags":[],"owner":{"account_id":18924081,"reputation":64,"user_id":13807582,"display_name":"Hiten Tandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647618711,"creation_date":1647608790,"answer_id":71527506,"question_id":71527310,"body_markdown":"You can use split method, to convert string to Array of Strings, sort it, and then you can binary search the elements of list in the array this has been implemented in the given code.\r\n\r\n\r\n    String[] wordsArr =  &quot;This is some random text. This is some random text.&quot;.toLowerCase().split(&quot; &quot;);\r\n    List&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\r\n    int count = 0;\r\n    Arrays.sort(wordsArr);\r\n    for(String word: words)\r\n        if(Arrays.binarySearch( wordsArr, word )&gt;-1)\r\n             count++;\r\n\r\n  Another good approach can be to use a TreeSet, this one I got inspiration from @Abra\r\n\r\n    String[] wordsArr =  &quot;This is some random text. This is some random text.&quot;.toLowerCase().split(&quot; &quot;);\r\n    List&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\r\n    TreeSet&lt;String&gt; setOfWords = new TreeSet&lt;String&gt;(Arrays.asList(wordsArr));\r\n    int count = 0;\r\n    for(String word: words)\r\n        if(setOfWord.contains(word))\r\n            count++;\r\n\r\nBoth these methods have a Time Complexity of O(Nlog(M)), N being the size of words array, M being the size of wordsArr or setOfWords, However do be careful, using this method since this does have one flaw, which is quite obvious, It doesn&#39;t account for periods, thus, if you were to search for &quot;text&quot;, it won&#39;t be found, because, The set/array contains &quot;text.&quot;.  You can get around that by removing all the punctuations from your initial text and searched text, however, if you do want it to be accurate then, you can set the regex string in split() to be &quot;[^a-zA-Z]&quot; this will split your String around non alphabetical characters. ","title":"Count occurrence of multiple substrings","body":"<p>You can use split method, to convert string to Array of Strings, sort it, and then you can binary search the elements of list in the array this has been implemented in the given code.</p>\n<pre><code>String[] wordsArr =  &quot;This is some random text. This is some random text.&quot;.toLowerCase().split(&quot; &quot;);\nList&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\nint count = 0;\nArrays.sort(wordsArr);\nfor(String word: words)\n    if(Arrays.binarySearch( wordsArr, word )&gt;-1)\n         count++;\n</code></pre>\n<p>Another good approach can be to use a TreeSet, this one I got inspiration from @Abra</p>\n<pre><code>String[] wordsArr =  &quot;This is some random text. This is some random text.&quot;.toLowerCase().split(&quot; &quot;);\nList&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\nTreeSet&lt;String&gt; setOfWords = new TreeSet&lt;String&gt;(Arrays.asList(wordsArr));\nint count = 0;\nfor(String word: words)\n    if(setOfWord.contains(word))\n        count++;\n</code></pre>\n<p>Both these methods have a Time Complexity of O(Nlog(M)), N being the size of words array, M being the size of wordsArr or setOfWords, However do be careful, using this method since this does have one flaw, which is quite obvious, It doesn't account for periods, thus, if you were to search for &quot;text&quot;, it won't be found, because, The set/array contains &quot;text.&quot;.  You can get around that by removing all the punctuations from your initial text and searched text, however, if you do want it to be accurate then, you can set the regex string in split() to be &quot;[^a-zA-Z]&quot; this will split your String around non alphabetical characters.</p>\n"},{"tags":[],"owner":{"account_id":24601090,"reputation":1,"user_id":18503962,"display_name":"NoMoreThan10IQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647608921,"creation_date":1647608921,"answer_id":71527538,"question_id":71527310,"body_markdown":"The fastest way would be to map each words of the text.\r\n\r\nTherefore for each word in the words that you are searching for, you just have to look up for the keys in the hashmap.\r\n\r\nGiven your text has n word and your words has m words\r\nThe solution would take O(n+m) instead of O(n*m)","title":"Count occurrence of multiple substrings","body":"<p>The fastest way would be to map each words of the text.</p>\n<p>Therefore for each word in the words that you are searching for, you just have to look up for the keys in the hashmap.</p>\n<p>Given your text has n word and your words has m words\nThe solution would take O(n+m) instead of O(n*m)</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647610187,"creation_date":1647610187,"answer_id":71527782,"question_id":71527310,"body_markdown":"How about the following:\r\n\r\n    String text = &quot;This is some random text. This is some random text.&quot;;\r\n    text = text.toLowerCase();\r\n    String[] tokens = text.split(&quot;\\\\PL+&quot;);\r\n    java.util.Set&lt;String&gt; source = new java.util.HashSet&lt;&gt;();\r\n    for (String token : tokens) {\r\n        source.add(token);\r\n    }\r\n    java.util.List&lt;String&gt; words = java.util.Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\r\n    source.retainAll(words);\r\n    int score = source.size();\r\n\r\n* Split `text` into words.\r\n* Add the words to a `Set` so that each word appears only once. Hence `Set` will contain the word *this* only once despite the fact that the word *this* appears twice in `text`.\r\n* After calling method `retainAll`, the `Set` only contains words that are in the `words` list. Hence your `score` is the number of elements in the `Set`.\r\n","title":"Count occurrence of multiple substrings","body":"<p>How about the following:</p>\n<pre><code>String text = &quot;This is some random text. This is some random text.&quot;;\ntext = text.toLowerCase();\nString[] tokens = text.split(&quot;\\\\PL+&quot;);\njava.util.Set&lt;String&gt; source = new java.util.HashSet&lt;&gt;();\nfor (String token : tokens) {\n    source.add(token);\n}\njava.util.List&lt;String&gt; words = java.util.Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\nsource.retainAll(words);\nint score = source.size();\n</code></pre>\n<ul>\n<li>Split <code>text</code> into words.</li>\n<li>Add the words to a <code>Set</code> so that each word appears only once. Hence <code>Set</code> will contain the word <em>this</em> only once despite the fact that the word <em>this</em> appears twice in <code>text</code>.</li>\n<li>After calling method <code>retainAll</code>, the <code>Set</code> only contains words that are in the <code>words</code> list. Hence your <code>score</code> is the number of elements in the <code>Set</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647613177,"creation_date":1647613177,"answer_id":71528455,"question_id":71527310,"body_markdown":"This is a case where regex is your friend:\r\n\r\n\r\n    public static Map&lt;String, Integer&gt; countTokens(String src, List&lt;String&gt; tokens) {\r\n\t\tMap&lt;String, Integer&gt; countMap = new HashMap&lt;&gt;();\r\n\t\tString end = &quot;(\\\\s|$)&quot;; //trap whitespace or the end of the string.\r\n\t\tString start = &quot;(^|\\\\s)&quot;; //trap for whitespace or the start of a the string\r\n\t\t//iterate through your tokens\r\n\t\tfor (String token : tokens) {\r\n            //create a pattern, note the case insensitive flag\r\n\t\t\tPattern pattern = Pattern.compile(start+token+end, Pattern.CASE_INSENSITIVE);\r\n\t\t\tMatcher matcher = pattern.matcher(src);\r\n\t\t\tint cnt = 0;\r\n            //count your matches.\r\n\t\t\twhile(matcher.find()) {\r\n\t\t\t\tcnt++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcountMap.put(token, cnt);\r\n\t\t}\r\n\t\t\r\n\t\treturn countMap;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString text = &quot;This is some random text. This is some random text.&quot;;\r\n\t\tList&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\r\n\t\t\r\n\t\tfor (Entry&lt;String, Integer&gt; entry : countTokens(text, words).entrySet()) {\r\n\t\t\tSystem.out.println(entry);\r\n\t\t}\r\n    }\r\n\r\nIf you want to find tokens within token, like &quot;is&quot; within &quot;this&quot;, simply remove the start and end regex.","title":"Count occurrence of multiple substrings","body":"<p>This is a case where regex is your friend:</p>\n<pre><code>public static Map&lt;String, Integer&gt; countTokens(String src, List&lt;String&gt; tokens) {\n    Map&lt;String, Integer&gt; countMap = new HashMap&lt;&gt;();\n    String end = &quot;(\\\\s|$)&quot;; //trap whitespace or the end of the string.\n    String start = &quot;(^|\\\\s)&quot;; //trap for whitespace or the start of a the string\n    //iterate through your tokens\n    for (String token : tokens) {\n        //create a pattern, note the case insensitive flag\n        Pattern pattern = Pattern.compile(start+token+end, Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(src);\n        int cnt = 0;\n        //count your matches.\n        while(matcher.find()) {\n            cnt++;\n        }\n        \n        countMap.put(token, cnt);\n    }\n    \n    return countMap;\n}\n\n\npublic static void main(String[] args) throws IOException {\n    String text = &quot;This is some random text. This is some random text.&quot;;\n    List&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\n    \n    for (Entry&lt;String, Integer&gt; entry : countTokens(text, words).entrySet()) {\n        System.out.println(entry);\n    }\n}\n</code></pre>\n<p>If you want to find tokens within token, like &quot;is&quot; within &quot;this&quot;, simply remove the start and end regex.</p>\n"}],"owner":{"account_id":24120104,"reputation":78,"user_id":18089412,"display_name":"EustassX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71527782,"answer_count":4,"score":1,"last_activity_date":1647618711,"creation_date":1647607935,"question_id":71527310,"body_markdown":"I want to count the occurrence of multiple substrings in a string.\r\nI am able to do so by using the following code:\r\n\r\n    int score = 0;\r\n    String text = &quot;This is some random text. This is some random text.&quot;;\r\n    List&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\r\n    for (String word : words) {\r\n        if(StringUtils.containsIgnoreCase(text, word)){\r\n            score += 1;\r\n        }\r\n    }\r\n\r\nMy algorithm increases the score by +1 for each word from my &quot;words&quot; list that occurs in the text.\r\nIn my example, the score would be 2 because &quot;this&quot; and &quot;is&quot; occur in the text.\r\n\r\nHowever, my code has to loop through the text for each string in my list.\r\nIs there a faster way to do this?","title":"Count occurrence of multiple substrings","body":"<p>I want to count the occurrence of multiple substrings in a string.\nI am able to do so by using the following code:</p>\n<pre><code>int score = 0;\nString text = &quot;This is some random text. This is some random text.&quot;;\nList&lt;String&gt; words = Arrays.asList(&quot;this&quot;, &quot;is&quot;, &quot;for&quot;, &quot;stackoverflow&quot;);\nfor (String word : words) {\n    if(StringUtils.containsIgnoreCase(text, word)){\n        score += 1;\n    }\n}\n</code></pre>\n<p>My algorithm increases the score by +1 for each word from my &quot;words&quot; list that occurs in the text.\nIn my example, the score would be 2 because &quot;this&quot; and &quot;is&quot; occur in the text.</p>\n<p>However, my code has to loop through the text for each string in my list.\nIs there a faster way to do this?</p>\n"},{"tags":["java","gradle","build","jar","manifest"],"comments":[{"owner":{"account_id":23472062,"reputation":1,"user_id":17525428,"display_name":"beatHunteR"},"score":0,"creation_date":1638033880,"post_id":70136804,"comment_id":123982070,"body_markdown":"JAR contains MANIFEST.MF (like in my post) and all compiled .class files in root","body":"JAR contains MANIFEST.MF (like in my post) and all compiled .class files in root"},{"owner":{"account_id":23472062,"reputation":1,"user_id":17525428,"display_name":"beatHunteR"},"score":0,"creation_date":1638034354,"post_id":70136804,"comment_id":123982203,"body_markdown":"tried `java -cp ZoneNewsDiscordBot-1.0-SNAPSHOT.jar Main`. got the same problem `Error: Could not find or load main class Main`","body":"tried <code>java -cp ZoneNewsDiscordBot-1.0-SNAPSHOT.jar Main</code>. got the same problem <code>Error: Could not find or load main class Main</code>"},{"owner":{"account_id":23472062,"reputation":1,"user_id":17525428,"display_name":"beatHunteR"},"score":0,"creation_date":1638035190,"post_id":70136804,"comment_id":123982417,"body_markdown":"files in JAR: META-INF folder (contains `MANIFEST.MF` like in my post); `applications.properties`, `Main.class`, `NewsGenerator.class`, `Resources$1.class`, `Resourses.class`, `Test.class` (my temp class for some test things,  i do not think that the problem is in it)","body":"files in JAR: META-INF folder (contains <code>MANIFEST.MF</code> like in my post); <code>applications.properties</code>, <code>Main.class</code>, <code>NewsGenerator.class</code>, <code>Resources$1.class</code>, <code>Resourses.class</code>, <code>Test.class</code> (my temp class for some test things,  i do not think that the problem is in it)"},{"owner":{"account_id":23472062,"reputation":1,"user_id":17525428,"display_name":"beatHunteR"},"score":0,"creation_date":1638035340,"post_id":70136804,"comment_id":123982454,"body_markdown":"when i tried to use `javap` terminal says me that it doesn&#39;t know `javap`-command. same with `javac`-command, by the way","body":"when i tried to use <code>javap</code> terminal says me that it doesn&#39;t know <code>javap</code>-command. same with <code>javac</code>-command, by the way"},{"owner":{"account_id":23472062,"reputation":1,"user_id":17525428,"display_name":"beatHunteR"},"score":0,"creation_date":1638035425,"post_id":70136804,"comment_id":123982472,"body_markdown":"No-no-no. In META-INF folder is only `MANIFEST.MF` file. `applications.properties`, `Main.class`, `NewsGenerator.class`, `Resources$1.class`, `Resourses.class`, `Test.class` is in ROOT","body":"No-no-no. In META-INF folder is only <code>MANIFEST.MF</code> file. <code>applications.properties</code>, <code>Main.class</code>, <code>NewsGenerator.class</code>, <code>Resources$1.class</code>, <code>Resourses.class</code>, <code>Test.class</code> is in ROOT"}],"answers":[{"tags":[],"owner":{"account_id":23461805,"reputation":66,"user_id":17516567,"display_name":"SeungHwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638033798,"creation_date":1638032316,"answer_id":70136916,"question_id":70136804,"body_markdown":"i solved it like this\r\n\r\nThis occurs because the class name including the package name is not written in the mainClassName entry of the build.gradle file.\r\n\r\nEX)\r\n\r\n1.\r\n\r\n```\r\npackage example.sphinx;\r\n\r\n\r\npublic class ExampleMain {\r\n  \r\n}\r\n```\r\n\r\n\r\n```\r\nplugin : &#39;java&#39;\r\n \r\nmainClassName = &#39;example.sphinx.ExampleClass&#39;\r\n```\r\n\r\n\r\n\r\n2.Adding the application\r\n```\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &#39;application&#39;\r\n}\r\n```\r\n","title":"Gradle: &quot;Error: Could not find or load main class Main&quot;. Can&#39;t run file after build via Gradle","body":"<p>i solved it like this</p>\n<p>This occurs because the class name including the package name is not written in the mainClassName entry of the build.gradle file.</p>\n<p>EX)</p>\n<p>1.</p>\n<pre><code>package example.sphinx;\n\n\npublic class ExampleMain {\n  \n}\n</code></pre>\n<pre><code>plugin : 'java'\n \nmainClassName = 'example.sphinx.ExampleClass'\n</code></pre>\n<p>2.Adding the application</p>\n<pre><code>plugins {\n  id 'java'\n  id 'application'\n}\n</code></pre>\n"}],"owner":{"account_id":23472062,"reputation":1,"user_id":17525428,"display_name":"beatHunteR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647618493,"creation_date":1638031407,"question_id":70136804,"body_markdown":"Stack Overflow\r\n\r\nFaced a problem while building java app using Gradle.\r\nAfter building the jar file, when trying to run it with\r\n\r\n    java -jar ZoneNewsDiscordBot-1.0-SNAPSHOT.jar\r\n\r\ngot this in terminal\r\n\r\n    Error: Could not find or load main class Main\r\n\r\n**My project file&#39;s**\r\n[hierarchy][1]\r\n\r\n    - ...\r\n    - .idea\r\n    - build\r\n        - classes\r\n            - java\r\n                - main\r\n                    - Main.class\r\n                    - NewsGenerator.class\r\n                    - Resources.class\r\n        - libs\r\n            - ZoneNewsDiscordBot-1.0-SNAPSHOT.jar\r\n        - resources\r\n            - main\r\n                - META-INF\r\n                    MANIFEST.MF\r\n                - application.properties\r\n        - tmp\r\n            - compileJava\r\n            - jar \r\n                - MANIFEST.MF\r\n    - gradle\r\n    - img\r\n    - input\r\n    - out\r\n    - src\r\n        - main\r\n            - java\r\n                - Main.java\r\n                - NewsGenerator.java\r\n                - Resources.java\r\n    - build.gradle\r\n    - gradlew\r\n    - gradlew.bat\r\n    - ...\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n     \r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &quot;Main&quot;\r\n            )\r\n        }\r\n    }\r\n     \r\n    group &#39;com.ZoneNewsDiscordBot&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n     \r\n    sourceCompatibility = 1.8\r\n     \r\n    repositories {\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n     \r\n    dependencies {\r\n        implementation &quot;joda-time:joda-time:2.2&quot;\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        compile &#39;net.dv8tion:JDA:4.2.0_214&#39;\r\n     \r\n        //for JSON parsing\r\n        compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.11.3&#39;\r\n        compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: &#39;2.11.3&#39;\r\n        compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-annotations&#39;, version: &#39;2.11.3&#39;\r\n     \r\n     \r\n        //for uploading pictures from Web Page\r\n        compile group: &#39;net.sourceforge.htmlunit&#39;, name: &#39;htmlunit&#39;, version: &#39;2.45.0&#39;\r\n     \r\n        //for working with Instagram\r\n        compile group: &#39;com.restfb&#39;, name: &#39;restfb&#39;, version: &#39;3.13.0&#39;\r\n        implementation &#39;com.github.instagram4j:instagram4j:2.0.3&#39;\r\n        compile group: &#39;org.brunocvcunha.instagram4j&#39;, name: &#39;instagram4j&#39;, version: &#39;1.14&#39;\r\n        \r\n        task stage(dependsOn: [&#39;build&#39;, &#39;clean&#39;])\r\n        build.mustRunAfter clean\r\n    }\r\n\r\nI tried to check MANIFEST.MF and got this&lt;br&gt;\r\n**MANIFEST.MF**\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: Main\r\n\r\nBuilded JAR-file (`ZoneNewsDiscordBot-1.0-SNAPSHOT.jar`) contains next files:\r\n\r\n    - META-INF (folder)\r\n        - MANIFEST.MF\r\n    - application.properties\r\n    - Main.class\r\n    - NewsGenerator.class\r\n    - Resourses$1.class\r\n    - Resourses.class\r\n    - Test.class \r\n\r\n`Test.class` is my temp class for some test things, I do not think that the problem is in it.\r\n\r\nI cannot understand what the problem is. I has written right paths... Why it cannot find Main class?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7y3Oi.png","title":"Gradle: &quot;Error: Could not find or load main class Main&quot;. Can&#39;t run file after build via Gradle","body":"<p>Stack Overflow</p>\n<p>Faced a problem while building java app using Gradle.\nAfter building the jar file, when trying to run it with</p>\n<pre><code>java -jar ZoneNewsDiscordBot-1.0-SNAPSHOT.jar\n</code></pre>\n<p>got this in terminal</p>\n<pre><code>Error: Could not find or load main class Main\n</code></pre>\n<p><strong>My project file's</strong>\n<a href=\"https://i.stack.imgur.com/7y3Oi.png\" rel=\"nofollow noreferrer\">hierarchy</a></p>\n<pre><code>- ...\n- .idea\n- build\n    - classes\n        - java\n            - main\n                - Main.class\n                - NewsGenerator.class\n                - Resources.class\n    - libs\n        - ZoneNewsDiscordBot-1.0-SNAPSHOT.jar\n    - resources\n        - main\n            - META-INF\n                MANIFEST.MF\n            - application.properties\n    - tmp\n        - compileJava\n        - jar \n            - MANIFEST.MF\n- gradle\n- img\n- input\n- out\n- src\n    - main\n        - java\n            - Main.java\n            - NewsGenerator.java\n            - Resources.java\n- build.gradle\n- gradlew\n- gradlew.bat\n- ...\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n}\n \njar {\n    manifest {\n        attributes(\n                'Main-Class': &quot;Main&quot;\n        )\n    }\n}\n \ngroup 'com.ZoneNewsDiscordBot'\nversion '1.0-SNAPSHOT'\n \nsourceCompatibility = 1.8\n \nrepositories {\n    mavenCentral()\n    jcenter()\n}\n \ndependencies {\n    implementation &quot;joda-time:joda-time:2.2&quot;\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile 'net.dv8tion:JDA:4.2.0_214'\n \n    //for JSON parsing\n    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.11.3'\n    compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.11.3'\n    compile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.11.3'\n \n \n    //for uploading pictures from Web Page\n    compile group: 'net.sourceforge.htmlunit', name: 'htmlunit', version: '2.45.0'\n \n    //for working with Instagram\n    compile group: 'com.restfb', name: 'restfb', version: '3.13.0'\n    implementation 'com.github.instagram4j:instagram4j:2.0.3'\n    compile group: 'org.brunocvcunha.instagram4j', name: 'instagram4j', version: '1.14'\n    \n    task stage(dependsOn: ['build', 'clean'])\n    build.mustRunAfter clean\n}\n</code></pre>\n<p>I tried to check MANIFEST.MF and got this<br>\n<strong>MANIFEST.MF</strong></p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: Main\n</code></pre>\n<p>Builded JAR-file (<code>ZoneNewsDiscordBot-1.0-SNAPSHOT.jar</code>) contains next files:</p>\n<pre><code>- META-INF (folder)\n    - MANIFEST.MF\n- application.properties\n- Main.class\n- NewsGenerator.class\n- Resourses$1.class\n- Resourses.class\n- Test.class \n</code></pre>\n<p><code>Test.class</code> is my temp class for some test things, I do not think that the problem is in it.</p>\n<p>I cannot understand what the problem is. I has written right paths... Why it cannot find Main class?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1647351141,"post_id":71483119,"comment_id":126345151,"body_markdown":"You&#39;re assuming that the relational operators support `Number` operands; they don&#39;t.","body":"You&#39;re assuming that the relational operators support <code>Number</code> operands; they don&#39;t."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1647351292,"post_id":71483119,"comment_id":126345224,"body_markdown":"maybe help [Comparing Numbers in Java](https://stackoverflow.com/a/15111857/1518100)","body":"maybe help <a href=\"https://stackoverflow.com/a/15111857/1518100\">Comparing Numbers in Java</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647353218,"post_id":71483119,"comment_id":126346125,"body_markdown":"`arr[0] == val` compiles and checks whether the two references are references to *the same object*. It probably is not what you want.","body":"<code>arr[0] == val</code> compiles and checks whether the two references are references to <i>the same object</i>. It probably is not what you want."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647356369,"creation_date":1647351247,"answer_id":71483159,"question_id":71483119,"body_markdown":"&gt; What am I doing wrong?\r\n\r\nYou&#39;re assuming that the relational operators support `Number` operands; they don&#39;t. Only `Number`s that box primitive types (e.g. `Integer`, `Long`) do; others such as `BigInteger` don&#39;t.\r\n\r\nYou can add an additional bound to `T` to require it to be `Comparable`:\r\n\r\n```\r\n&lt;T extends Number &amp; Comparable&lt;T&gt;&gt;\r\n```\r\n\r\nAnd you can pass in any types that are both `Number`s _and_ are `Comparable`: this includes `Integer`, `Long`, `BigInteger` etc.\r\n\r\nThen you can use:\r\n\r\n```\r\narr[0].compareTo(val) &gt; 0\r\n```\r\n\r\n(but you might care to watch out for nulls).\r\n\r\nAlso, you shouldn&#39;t be using `==` and `!=` to check for equality/inequality: use `equals` instead:\r\n\r\n```\r\narr[0].equals(val)  // Instead of ==\r\n!arr[0].equals(val) // Instead of !=\r\n```\r\n\r\nYou can, alternatively, use `arr[0].compareTo(val) ==/!= 0`. That may be better, in fact, because e.g. `BigInteger` and `BigDecimal` have equals methods that consider scale, so `[1.00].equals([1.0])` is false, whereas `[1.00].compareTo([1.0]) == 0` is true. Ultimately, it depends on what you&#39;re trying to achieve as to which way to choose.","title":"Java generics method fails on number comparison","body":"<blockquote>\n<p>What am I doing wrong?</p>\n</blockquote>\n<p>You're assuming that the relational operators support <code>Number</code> operands; they don't. Only <code>Number</code>s that box primitive types (e.g. <code>Integer</code>, <code>Long</code>) do; others such as <code>BigInteger</code> don't.</p>\n<p>You can add an additional bound to <code>T</code> to require it to be <code>Comparable</code>:</p>\n<pre><code>&lt;T extends Number &amp; Comparable&lt;T&gt;&gt;\n</code></pre>\n<p>And you can pass in any types that are both <code>Number</code>s <em>and</em> are <code>Comparable</code>: this includes <code>Integer</code>, <code>Long</code>, <code>BigInteger</code> etc.</p>\n<p>Then you can use:</p>\n<pre><code>arr[0].compareTo(val) &gt; 0\n</code></pre>\n<p>(but you might care to watch out for nulls).</p>\n<p>Also, you shouldn't be using <code>==</code> and <code>!=</code> to check for equality/inequality: use <code>equals</code> instead:</p>\n<pre><code>arr[0].equals(val)  // Instead of ==\n!arr[0].equals(val) // Instead of !=\n</code></pre>\n<p>You can, alternatively, use <code>arr[0].compareTo(val) ==/!= 0</code>. That may be better, in fact, because e.g. <code>BigInteger</code> and <code>BigDecimal</code> have equals methods that consider scale, so <code>[1.00].equals([1.0])</code> is false, whereas <code>[1.00].compareTo([1.0]) == 0</code> is true. Ultimately, it depends on what you're trying to achieve as to which way to choose.</p>\n"},{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1647351317,"creation_date":1647351317,"answer_id":71483179,"question_id":71483119,"body_markdown":"Try it this way:\r\n\r\n    public static &lt;T extends Number&gt; int[] where(T[] arr, T val) {\r\n        if (arr == null || arr.length == 0) return null;\r\n\r\n        boolean boo1 = arr[0] == val; //Compiles happily, as does &quot;!=&quot;\r\n        boolean boo2 = arr[0].intValue() &gt; val.intValue();\r\n        // Or doubleValue()\r\n\r\n        return null;\r\n    }","title":"Java generics method fails on number comparison","body":"<p>Try it this way:</p>\n<pre><code>public static &lt;T extends Number&gt; int[] where(T[] arr, T val) {\n    if (arr == null || arr.length == 0) return null;\n\n    boolean boo1 = arr[0] == val; //Compiles happily, as does &quot;!=&quot;\n    boolean boo2 = arr[0].intValue() &gt; val.intValue();\n    // Or doubleValue()\n\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":20130643,"reputation":67,"user_id":14763038,"display_name":"mkemper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71483159,"answer_count":2,"score":0,"last_activity_date":1647618416,"creation_date":1647351050,"question_id":71483119,"body_markdown":"See the tiny method below. The `boo1 = ...` line goes fine, probably as it does object ID comparison. The second `boo2 = ...` line gives a compile error &quot;Operator `&gt;` cannot be applied to T,T&quot;. I don&#39;t understand why. After all `T extends Number` (as you can see in the method signature), so comparisons like `&gt;` should be possible. What am I doing wrong?\r\n\r\n\r\n    public static &lt;T extends Number&gt; int[] where(T[] arr, T val) {\r\n            if (arr == null || arr.length == 0) return null;\r\n    \r\n            boolean boo1 = arr[0] == val; //Compiles happily, as does &quot;!=&quot;\r\n            boolean boo2 = arr[0] &gt; val;  //Doesn&#39;t compile (nor does &quot;&gt;=&quot;, &quot;&lt;&quot;, &quot;&lt;=&quot;\r\n    \r\n            return null;\r\n        }\r\n\r\n","title":"Java generics method fails on number comparison","body":"<p>See the tiny method below. The <code>boo1 = ...</code> line goes fine, probably as it does object ID comparison. The second <code>boo2 = ...</code> line gives a compile error &quot;Operator <code>&gt;</code> cannot be applied to T,T&quot;. I don't understand why. After all <code>T extends Number</code> (as you can see in the method signature), so comparisons like <code>&gt;</code> should be possible. What am I doing wrong?</p>\n<pre><code>public static &lt;T extends Number&gt; int[] where(T[] arr, T val) {\n        if (arr == null || arr.length == 0) return null;\n\n        boolean boo1 = arr[0] == val; //Compiles happily, as does &quot;!=&quot;\n        boolean boo2 = arr[0] &gt; val;  //Doesn't compile (nor does &quot;&gt;=&quot;, &quot;&lt;&quot;, &quot;&lt;=&quot;\n\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","testing","junit","quarkus"],"comments":[{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1647617311,"post_id":71529380,"comment_id":126423066,"body_markdown":"Please share your code","body":"Please share your code"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1647617914,"post_id":71529380,"comment_id":126423344,"body_markdown":"I think you are mixing JUnit4 &amp; JUnit5 annotations. [@Disabled](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html) should be used to ignore a test with JUnit5. Also, I would try to exclude the JUnit4 dependencies from the build.","body":"I think you are mixing JUnit4 &amp; JUnit5 annotations. <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html\" rel=\"nofollow noreferrer\">@Disabled</a> should be used to ignore a test with JUnit5. Also, I would try to exclude the JUnit4 dependencies from the build."}],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647617950,"creation_date":1647617950,"answer_id":71529548,"question_id":71529380,"body_markdown":"You can use `@Disabled` annotation\r\n\r\nYou can also conditionally run tests with [assumptions](https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/Assumptions.html).","title":"How to ignore a quarkus test","body":"<p>You can use <code>@Disabled</code> annotation</p>\n<p>You can also conditionally run tests with <a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/Assumptions.html\" rel=\"nofollow noreferrer\">assumptions</a>.</p>\n"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4545,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647618107,"creation_date":1647617164,"question_id":71529380,"body_markdown":"I am testing my Quarkus application, and I would like to ignore some of my tests.\r\n\r\nThe test class is annotated with `@io.quarkus.test.junit.QuarkusTest`, and each method with `@org.junit.jupiter.api.Test`\r\n\r\nI&#39;m trying to use the `@org.junit.Ignore` annotation, but it&#39;s not working, the ignored tests are executed anyway.\r\n\r\nThis is the code:\r\n\r\n    @QuarkusTest\r\n    @TestHTTPEndpoint(MyResource::class)\r\n    class MyResourceTest {\r\n    \r\n        @Test\r\n        @Ignore\r\n        fun `to be ignored`() {\r\n            assertTrue(false)\r\n        }\r\n    }\r\n\r\n\r\nDoes anyone know how can I achieve this?","title":"How to ignore a quarkus test","body":"<p>I am testing my Quarkus application, and I would like to ignore some of my tests.</p>\n<p>The test class is annotated with <code>@io.quarkus.test.junit.QuarkusTest</code>, and each method with <code>@org.junit.jupiter.api.Test</code></p>\n<p>I'm trying to use the <code>@org.junit.Ignore</code> annotation, but it's not working, the ignored tests are executed anyway.</p>\n<p>This is the code:</p>\n<pre><code>@QuarkusTest\n@TestHTTPEndpoint(MyResource::class)\nclass MyResourceTest {\n\n    @Test\n    @Ignore\n    fun `to be ignored`() {\n        assertTrue(false)\n    }\n}\n</code></pre>\n<p>Does anyone know how can I achieve this?</p>\n"},{"tags":["java","matrix"],"comments":[{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":0,"creation_date":1647611286,"post_id":71527872,"comment_id":126420541,"body_markdown":"something like this would printout your matrix   `for(int i = 0; i &lt;N; i++){\n        for(int j = 0; j &lt; M; j++){\n            System.out.print(matrix[i][j] + &quot; &quot;);\n        }\n       System.out.println();\n    }`","body":"something like this would printout your matrix   <code>for(int i = 0; i &lt;N; i++){         for(int j = 0; j &lt; M; j++){             System.out.print(matrix[i][j] + &quot; &quot;);         }        System.out.println();     }</code>"},{"owner":{"account_id":22974063,"reputation":55,"user_id":17101970,"display_name":"mano19"},"score":0,"creation_date":1647613098,"post_id":71527872,"comment_id":126421361,"body_markdown":"I understand that, but I would like to print out the result what I get after the transpone or after the difference.","body":"I understand that, but I would like to print out the result what I get after the transpone or after the difference."}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647616897,"creation_date":1647616897,"answer_id":71529321,"question_id":71527872,"body_markdown":"You have defined a lot of functions in basicsMatrix that you can use here.\r\n\r\nHowever there are some changes that you need to make. In your add, difference and transpose methods, you define something but you never save the result. I would recommend something like this:\r\n\r\n    public double[][] transzponalas(double[][] matrix1){\r\n        double[][] transpose = new double[M][N];\r\n        for(int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; M; j++) {\r\n                transpose[j][i] = matrix1[i][j];\r\n            }\r\n        }\r\n        return transpose;\r\n    }\r\n    public double[][] add(double[][] matrix1,double[][] matrix2){\r\n        double[][] osszeadas = new double[N][M];\r\n        for(int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; M; j++) {\r\n                osszeadas[i][j] = (matrix1[i][j] + matrix2[i][j]);\r\n            }\r\n        }\r\n        return osszeadas;\r\n    }\r\n    public double[][] difference(int matrix1[][], int matrix2[][]){\r\n        double[][] kivonas = new double[N][M];\r\n        for(int i = 0; i &lt;= N; i++){\r\n            for(int j = 0; j &lt;= M; j++){\r\n                kivonas[i][j] = matrix1[i][j] - matrix2[i][j];\r\n            }\r\n        }\r\n        return kivonas;\r\n    }\r\n\r\n\r\nAll these functions now return a matrix that you can print out.\r\n\r\nNow you just print you matrices. Something like this should work.\r\n\r\n    System.out.println(matrixtostring(transzponalas(matrix1)));\r\n    System.out.println(matrixtostring(add(matrix1,matrix2)));\r\n    System.out.println(matrixtostring(difference(matrix1,matrix2)));\r\n","title":"How can I print out the result matrix in my java code?","body":"<p>You have defined a lot of functions in basicsMatrix that you can use here.</p>\n<p>However there are some changes that you need to make. In your add, difference and transpose methods, you define something but you never save the result. I would recommend something like this:</p>\n<pre><code>public double[][] transzponalas(double[][] matrix1){\n    double[][] transpose = new double[M][N];\n    for(int i = 0; i &lt; N; i++) {\n        for (int j = 0; j &lt; M; j++) {\n            transpose[j][i] = matrix1[i][j];\n        }\n    }\n    return transpose;\n}\npublic double[][] add(double[][] matrix1,double[][] matrix2){\n    double[][] osszeadas = new double[N][M];\n    for(int i = 0; i &lt; N; i++) {\n        for (int j = 0; j &lt; M; j++) {\n            osszeadas[i][j] = (matrix1[i][j] + matrix2[i][j]);\n        }\n    }\n    return osszeadas;\n}\npublic double[][] difference(int matrix1[][], int matrix2[][]){\n    double[][] kivonas = new double[N][M];\n    for(int i = 0; i &lt;= N; i++){\n        for(int j = 0; j &lt;= M; j++){\n            kivonas[i][j] = matrix1[i][j] - matrix2[i][j];\n        }\n    }\n    return kivonas;\n}\n</code></pre>\n<p>All these functions now return a matrix that you can print out.</p>\n<p>Now you just print you matrices. Something like this should work.</p>\n<pre><code>System.out.println(matrixtostring(transzponalas(matrix1)));\nSystem.out.println(matrixtostring(add(matrix1,matrix2)));\nSystem.out.println(matrixtostring(difference(matrix1,matrix2)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647618051,"creation_date":1647617606,"answer_id":71529480,"question_id":71527872,"body_markdown":"Looking at the question description.\r\n\r\n&quot;Create a basics.Matrix class (using a two-dimensional array of real numbers as a matrix) that has the following operations: construct an M &#215; N zero matrix, construct an M &#215; N matrix using an M &#215; N array, create an N &#215; N dimensional unit matrix ( the result matrix should be a return value), the matrix transposed resp. calculating the sum and difference of two matrices, representing the matrix as a string (use java.lang.StringBuilder to generate the text).\r\n\r\nAlso create a main program (Main.java) that tests these operations!&quot;\r\n\r\nI suspect that you are supposed to create a class that calls functions on itself. In other words the basicsMatrix will become your matrix.\r\n\r\nFor example, the transzponalas method would become\r\n\r\n    public void transzponalas(){\r\n        double[][] transpose = new double[M][N];\r\n        for(int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; M; j++) {\r\n                transpose[j][i] = this.matrix[i][j];\r\n            }\r\n        }\r\n        int tmp = this.M\r\n        this.M = this.N\r\n        this.N = tmp\r\n        this.matrix = transpose;\r\n    }\r\n\r\nThis way, you change the matrix that is inside your basicsMatrix. You should make sure that you understand the assignment correctly.","title":"How can I print out the result matrix in my java code?","body":"<p>Looking at the question description.</p>\n<p>&quot;Create a basics.Matrix class (using a two-dimensional array of real numbers as a matrix) that has the following operations: construct an M × N zero matrix, construct an M × N matrix using an M × N array, create an N × N dimensional unit matrix ( the result matrix should be a return value), the matrix transposed resp. calculating the sum and difference of two matrices, representing the matrix as a string (use java.lang.StringBuilder to generate the text).</p>\n<p>Also create a main program (Main.java) that tests these operations!&quot;</p>\n<p>I suspect that you are supposed to create a class that calls functions on itself. In other words the basicsMatrix will become your matrix.</p>\n<p>For example, the transzponalas method would become</p>\n<pre><code>public void transzponalas(){\n    double[][] transpose = new double[M][N];\n    for(int i = 0; i &lt; N; i++) {\n        for (int j = 0; j &lt; M; j++) {\n            transpose[j][i] = this.matrix[i][j];\n        }\n    }\n    int tmp = this.M\n    this.M = this.N\n    this.N = tmp\n    this.matrix = transpose;\n}\n</code></pre>\n<p>This way, you change the matrix that is inside your basicsMatrix. You should make sure that you understand the assignment correctly.</p>\n"}],"owner":{"account_id":22974063,"reputation":55,"user_id":17101970,"display_name":"mano19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647618051,"creation_date":1647610638,"question_id":71527872,"body_markdown":"Create a basics.Matrix class (using a two-dimensional array of real numbers as a matrix) that has the following operations: construct an M &#215; N zero matrix, construct an M &#215; N matrix using an M &#215; N array, create an N &#215; N dimensional unit matrix ( the result matrix should be a return value), the matrix transposed resp. calculating the sum and difference of two matrices, representing the matrix as a string (use java.lang.StringBuilder to generate the text).\r\n\r\nAlso create a main program (Main.java) that tests these operations! \r\n\r\nMy problem is in my basicsMatrixMain.java code, that I do not know how can I print out thre results I get from difference or transpone. Can anybody help me to solve it ?\r\n\r\n```\r\npublic class basicsMatrix {\r\n    private final int N;             \r\n    private final int M;             \r\n    private final double[][] matrix;  \r\n\r\n    public basicsMatrix(int M, int N) {\r\n        this.N = N;\r\n        this.M = M;\r\n        matrix = new double[M][N]; \r\n    }\r\n\r\n    public basicsMatrix(double[][] matrix) {\r\n        M = matrix.length;\r\n        N = matrix[0].length;\r\n        this.matrix = new double[N][M];\r\n        for (int i = 0; i &lt; M; i++)\r\n            for (int j = 0; j &lt; N; j++)\r\n                    this.matrix[i][j] = matrix[i][j];\r\n    }\r\n\r\n    public void transzponalas(double[][] matrix1){\r\n        double[][] transpose = new double[M][N];\r\n        for(int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; M; j++) {\r\n                transpose[j][i] = matrix1[i][j];\r\n            }\r\n        }\r\n    }\r\n    public void add(double[][] matrix1,double[][] matrix2){\r\n        double[][] osszeadas = new double[N][M];\r\n        for(int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; M; j++) {\r\n                osszeadas[i][j] = (matrix1[i][j] + matrix2[i][j]);\r\n            }\r\n        }\r\n    }\r\n    public void difference(int matrix1[][], int matrix2[][]){\r\n        double[][] kivonas = new double[N][M];\r\n        for(int i = 0; i &lt;= N; i++){\r\n            for(int j = 0; j &lt;= M; j++){\r\n                kivonas[i][j] = matrix1[i][j] - matrix2[i][j];\r\n            }\r\n        }\r\n    }\r\n    public String matrixtostring(double[][] matrix1){\r\n \r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; M; j++) {\r\n                sb.append(matrix1);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class basicsMatrixMain {\r\n    public static void main(String[] args) {\r\n        int N = 2;\r\n        int M = 3;\r\n        double[][] matrix1 = { {2, 3, 4}, {5, 2, 3} };\r\n        double[][] matrix2 = { {-4, 5, 3}, {5, 6, 3} };\r\n\r\n\r\n    System.out.println(&quot;\\n&quot;);\r\n    System.out.print(&quot;Difference:&quot;);\r\n    for(int i = 0; i &lt;= N; i++){\r\n        for(int j = 0; j &lt;= M; j++){\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n}\r\n```","title":"How can I print out the result matrix in my java code?","body":"<p>Create a basics.Matrix class (using a two-dimensional array of real numbers as a matrix) that has the following operations: construct an M × N zero matrix, construct an M × N matrix using an M × N array, create an N × N dimensional unit matrix ( the result matrix should be a return value), the matrix transposed resp. calculating the sum and difference of two matrices, representing the matrix as a string (use java.lang.StringBuilder to generate the text).</p>\n<p>Also create a main program (Main.java) that tests these operations!</p>\n<p>My problem is in my basicsMatrixMain.java code, that I do not know how can I print out thre results I get from difference or transpone. Can anybody help me to solve it ?</p>\n<pre><code>public class basicsMatrix {\n    private final int N;             \n    private final int M;             \n    private final double[][] matrix;  \n\n    public basicsMatrix(int M, int N) {\n        this.N = N;\n        this.M = M;\n        matrix = new double[M][N]; \n    }\n\n    public basicsMatrix(double[][] matrix) {\n        M = matrix.length;\n        N = matrix[0].length;\n        this.matrix = new double[N][M];\n        for (int i = 0; i &lt; M; i++)\n            for (int j = 0; j &lt; N; j++)\n                    this.matrix[i][j] = matrix[i][j];\n    }\n\n    public void transzponalas(double[][] matrix1){\n        double[][] transpose = new double[M][N];\n        for(int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; M; j++) {\n                transpose[j][i] = matrix1[i][j];\n            }\n        }\n    }\n    public void add(double[][] matrix1,double[][] matrix2){\n        double[][] osszeadas = new double[N][M];\n        for(int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; M; j++) {\n                osszeadas[i][j] = (matrix1[i][j] + matrix2[i][j]);\n            }\n        }\n    }\n    public void difference(int matrix1[][], int matrix2[][]){\n        double[][] kivonas = new double[N][M];\n        for(int i = 0; i &lt;= N; i++){\n            for(int j = 0; j &lt;= M; j++){\n                kivonas[i][j] = matrix1[i][j] - matrix2[i][j];\n            }\n        }\n    }\n    public String matrixtostring(double[][] matrix1){\n \n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; M; j++) {\n                sb.append(matrix1);\n            }\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n<pre><code>public class basicsMatrixMain {\n    public static void main(String[] args) {\n        int N = 2;\n        int M = 3;\n        double[][] matrix1 = { {2, 3, 4}, {5, 2, 3} };\n        double[][] matrix2 = { {-4, 5, 3}, {5, 6, 3} };\n\n\n    System.out.println(&quot;\\n&quot;);\n    System.out.print(&quot;Difference:&quot;);\n    for(int i = 0; i &lt;= N; i++){\n        for(int j = 0; j &lt;= M; j++){\n            System.out.println();\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","log4j2","java-11"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1647662292,"post_id":71529208,"comment_id":126433028,"body_markdown":"Please add the versions of Spring and Log4j2 used. Is the `log4j2.properties` file read twice? On older Spring Boot releases Spring didn&#39;t support the `*.properties` format (cf. [this answer](https://stackoverflow.com/a/69743682/11748454)).","body":"Please add the versions of Spring and Log4j2 used. Is the <code>log4j2.properties</code> file read twice? On older Spring Boot releases Spring didn&#39;t support the <code>*.properties</code> format (cf. <a href=\"https://stackoverflow.com/a/69743682/11748454\">this answer</a>)."},{"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"score":0,"creation_date":1647885637,"post_id":71529208,"comment_id":126479038,"body_markdown":"version for spring boot is 2.6.3","body":"version for spring boot is 2.6.3"},{"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"score":0,"creation_date":1653646974,"post_id":71529208,"comment_id":127906694,"body_markdown":"okay , just use logging.config=classpath:log4j2-dev.properties in application properties file as per env. solved issue for me.","body":"okay , just use logging.config=classpath:log4j2-dev.properties in application properties file as per env. solved issue for me."}],"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647618004,"creation_date":1647616416,"question_id":71529208,"body_markdown":"my log4j.properties\r\n\r\n    status=error\r\n    name=PropertiesConfig\r\n    filters=threshold\r\n    filter.threshold.type=ThresholdFilter\r\n    filter.threshold.level=debug\r\n    appenders=console,rolling\r\n    appender.console.type=Console\r\n    appender.console.name=STDOUT\r\n    appender.console.layout.type=PatternLayout\r\n    appender.console.layout.pattern=%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS}{GMT+0}|%-5p|%c{1}|%M|%L|%replace{%m}{\\r}{ }%n\r\n    # Rotate log file\r\n    appender.rolling.type=RollingFile\r\n    appender.rolling.name=LogToRollingFile\r\n    appender.rolling.fileName=/var/logs/app.log\r\n    appender.rolling.filePattern=/var/logs/backup/app-%d{MM-dd-yyyy}-%i.log\r\n    appender.rolling.layout.type=PatternLayout\r\n    appender.rolling.layout.pattern=%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS}{GMT+0}|%-5p|%c{1}|%M|%L|%replace{%m}{\\r}{ }%n\r\n    appender.rolling.policies.type=Policies\r\n    appender.rolling.policies.time.type=TimeBasedTriggeringPolicy\r\n    appender.rolling.policies.size.type=SizeBasedTriggeringPolicy\r\n    appender.rolling.policies.size.size=100MB\r\n    appender.rolling.strategy.type=DefaultRolloverStrategy\r\n    appender.rolling.strategy.max=5\r\n    #loggers = rolling\r\n    rootLogger.level=info\r\n    rootLogger.appenderRefs=stdout\r\n    rootLogger.appenderRef.stdout.ref=STDOUT\r\n    #logger.appenderRefs=rolling\r\n    rootLogger.appenderRef.rolling.ref=LogToRollingFile\r\n\r\n\r\n\r\nDependecies :\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nLog4 file is getting picked and i can see logs getting printed in the desired format, but file appender is not working .\r\n\r\nwhat is being missed by me ?","title":"Logs not written to a log file : Spring boot and log4j.properties","body":"<p>my log4j.properties</p>\n<pre><code>status=error\nname=PropertiesConfig\nfilters=threshold\nfilter.threshold.type=ThresholdFilter\nfilter.threshold.level=debug\nappenders=console,rolling\nappender.console.type=Console\nappender.console.name=STDOUT\nappender.console.layout.type=PatternLayout\nappender.console.layout.pattern=%d{yyyy-MM-dd'T'HH:mm:ss.SSS}{GMT+0}|%-5p|%c{1}|%M|%L|%replace{%m}{\\r}{ }%n\n# Rotate log file\nappender.rolling.type=RollingFile\nappender.rolling.name=LogToRollingFile\nappender.rolling.fileName=/var/logs/app.log\nappender.rolling.filePattern=/var/logs/backup/app-%d{MM-dd-yyyy}-%i.log\nappender.rolling.layout.type=PatternLayout\nappender.rolling.layout.pattern=%d{yyyy-MM-dd'T'HH:mm:ss.SSS}{GMT+0}|%-5p|%c{1}|%M|%L|%replace{%m}{\\r}{ }%n\nappender.rolling.policies.type=Policies\nappender.rolling.policies.time.type=TimeBasedTriggeringPolicy\nappender.rolling.policies.size.type=SizeBasedTriggeringPolicy\nappender.rolling.policies.size.size=100MB\nappender.rolling.strategy.type=DefaultRolloverStrategy\nappender.rolling.strategy.max=5\n#loggers = rolling\nrootLogger.level=info\nrootLogger.appenderRefs=stdout\nrootLogger.appenderRef.stdout.ref=STDOUT\n#logger.appenderRefs=rolling\nrootLogger.appenderRef.rolling.ref=LogToRollingFile\n</code></pre>\n<p>Dependecies :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Log4 file is getting picked and i can see logs getting printed in the desired format, but file appender is not working .</p>\n<p>what is being missed by me ?</p>\n"},{"tags":["java","sql","postgresql","triggers"],"comments":[{"owner":{"account_id":19718605,"reputation":37,"user_id":14437487,"display_name":"FST"},"score":0,"creation_date":1647617639,"post_id":71529197,"comment_id":126423231,"body_markdown":"For the sake of brevity, i omitted some definition parts. Now i put the complete code.","body":"For the sake of brevity, i omitted some definition parts. Now i put the complete code."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647617839,"creation_date":1647617839,"answer_id":71529524,"question_id":71529197,"body_markdown":"The part: `SELECT NEW.ShowDate INTO var1 FROM SHOWS;` makes no sense. You are reading **all** rows from the table `shows` in order to store the value of one variable (`new.showdate`)  into another variable (`var1`). And obviously the SELECT won&#39;t return any rows if the table is empty which means that `var1` will be null.\r\n\r\nBut there is no need to read anything from the table shows as you have access to the currently inserted rows through the `new` record. \r\n\r\nSo you probably want something like this: \r\n\r\n```\r\nCREATE FUNCTION public.filmnonuscito()\r\n    RETURNS trigger\r\n    LANGUAGE plpgsql\r\n    COST 100\r\n    VOLATILE NOT LEAKPROOF\r\nAS $BODY$\r\nDECLARE\r\n  var2 DATE;\r\nBEGIN \r\n\r\n  SELECT ReleaseDate \r\n     INTO var2\r\n  FROM FILM\r\n  WHERE CodF=NEW.CodF;\r\n\r\n  IF NEW.showdate &lt; var2 \r\n  THEN \r\n    RAISE EXCEPTION &#39;Can&#39;t add a show of a movie still not released.&#39;;\r\n  END IF;\r\n\r\n  RETURN NEW;\r\nEND;\r\n$BODY$;\r\n```\r\n\r\nNote that this doesn&#39;t handle the situation if there is no such film at all. You might want to add a `null` check to take care of that, e.g. `if NEW.showdate &lt; var2 or var2 is null ...`","title":"Why in Postgres, with an empty table, if I use BEFORE INSERT, the :NEW: variable is NULL?","body":"<p>The part: <code>SELECT NEW.ShowDate INTO var1 FROM SHOWS;</code> makes no sense. You are reading <strong>all</strong> rows from the table <code>shows</code> in order to store the value of one variable (<code>new.showdate</code>)  into another variable (<code>var1</code>). And obviously the SELECT won't return any rows if the table is empty which means that <code>var1</code> will be null.</p>\n<p>But there is no need to read anything from the table shows as you have access to the currently inserted rows through the <code>new</code> record.</p>\n<p>So you probably want something like this:</p>\n<pre><code>CREATE FUNCTION public.filmnonuscito()\n    RETURNS trigger\n    LANGUAGE plpgsql\n    COST 100\n    VOLATILE NOT LEAKPROOF\nAS $BODY$\nDECLARE\n  var2 DATE;\nBEGIN \n\n  SELECT ReleaseDate \n     INTO var2\n  FROM FILM\n  WHERE CodF=NEW.CodF;\n\n  IF NEW.showdate &lt; var2 \n  THEN \n    RAISE EXCEPTION 'Can't add a show of a movie still not released.';\n  END IF;\n\n  RETURN NEW;\nEND;\n$BODY$;\n</code></pre>\n<p>Note that this doesn't handle the situation if there is no such film at all. You might want to add a <code>null</code> check to take care of that, e.g. <code>if NEW.showdate &lt; var2 or var2 is null ...</code></p>\n"}],"owner":{"account_id":19718605,"reputation":37,"user_id":14437487,"display_name":"FST"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71529524,"answer_count":1,"score":0,"last_activity_date":1647617839,"creation_date":1647616373,"question_id":71529197,"body_markdown":"I&#39;m developing a Cinema Database in PostgreSQL. \r\nI have a Trigger which, before I insert a new show, checks if the date of the show is prior the movie&#39;s release date (for example, adding today a show of Avatar 2).\r\nHere&#39;s the code:\r\n```\r\nCREATE TRIGGER beforereleasedate\r\n    BEFORE INSERT\r\n    ON public.shows\r\n    FOR EACH ROW\r\n    EXECUTE PROCEDURE public.filmnotreleased();\r\n\r\n\r\n\r\nCREATE FUNCTION public.filmnotreleased()\r\n    RETURNS trigger\r\n    LANGUAGE &#39;plpgsql&#39;\r\n    COST 100\r\n    VOLATILE NOT LEAKPROOF\r\nAS $BODY$\r\nDECLARE\r\n\r\nvar1 DATE;\r\nvar2 DATE;\r\n\r\nBEGIN \r\n\r\nSELECT NEW.ShowDate INTO var1\r\nFROM SHOWS;\r\n\r\nSELECT ReleaseDate INTO var2\r\nFROM FILM\r\nWHERE CodF=NEW.CodF;\r\n\r\nIF var1&lt;var2 \r\nTHEN \r\nRAISE EXCEPTION &#39;Can&#39;t add a show of a movie still not released.&#39;;\r\nEND IF;\r\n\r\nRETURN NEW;\r\nEND;\r\n$BODY$;\r\n\r\nALTER FUNCTION public.filmnotreleased()\r\n    OWNER TO postgres;\r\n```\r\n\r\nThing is, if the SHOWS table is empty, var1 is NULL. Already checked with a &#39;raise notice&#39;. The strange part is, this ONLY occurs if the table is empty. So, whatever date i use, the first insert will be wrong. After that, the trigger works properly, and var1 is no longer NULL, but has the value i just inserted.\r\n\r\nAny help?","title":"Why in Postgres, with an empty table, if I use BEFORE INSERT, the :NEW: variable is NULL?","body":"<p>I'm developing a Cinema Database in PostgreSQL.\nI have a Trigger which, before I insert a new show, checks if the date of the show is prior the movie's release date (for example, adding today a show of Avatar 2).\nHere's the code:</p>\n<pre><code>CREATE TRIGGER beforereleasedate\n    BEFORE INSERT\n    ON public.shows\n    FOR EACH ROW\n    EXECUTE PROCEDURE public.filmnotreleased();\n\n\n\nCREATE FUNCTION public.filmnotreleased()\n    RETURNS trigger\n    LANGUAGE 'plpgsql'\n    COST 100\n    VOLATILE NOT LEAKPROOF\nAS $BODY$\nDECLARE\n\nvar1 DATE;\nvar2 DATE;\n\nBEGIN \n\nSELECT NEW.ShowDate INTO var1\nFROM SHOWS;\n\nSELECT ReleaseDate INTO var2\nFROM FILM\nWHERE CodF=NEW.CodF;\n\nIF var1&lt;var2 \nTHEN \nRAISE EXCEPTION 'Can't add a show of a movie still not released.';\nEND IF;\n\nRETURN NEW;\nEND;\n$BODY$;\n\nALTER FUNCTION public.filmnotreleased()\n    OWNER TO postgres;\n</code></pre>\n<p>Thing is, if the SHOWS table is empty, var1 is NULL. Already checked with a 'raise notice'. The strange part is, this ONLY occurs if the table is empty. So, whatever date i use, the first insert will be wrong. After that, the trigger works properly, and var1 is no longer NULL, but has the value i just inserted.</p>\n<p>Any help?</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647615299,"creation_date":1647615299,"answer_id":71528926,"question_id":71528707,"body_markdown":"In your solution you are swapping the elements in place, which shuffles them from the initial order. That&#39;s why you don&#39;t have the same ordering at the end. I&#39;m not sure if there is another way apart from having a second array to keep the sorted elements, while at the same time iterating over the original one like so:\r\n\r\n    public static void main(String[] args) {\r\n        int[] numbers = new int[]{1, 2, 3, 4, 5, 6};\r\n        int[] result = new int[numbers.length];\r\n        int b = 0;\r\n        int current = 0;\r\n        for (int i = 0; i &lt; 3; i++) { //3 groups\r\n            for (int j = 0; j &lt; numbers.length; j++) {\r\n                if (numbers[j] % 3 == i) { //reminder should be 0,1 or 2\r\n                    result[current] = numbers[j];\r\n                    current++;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(Arrays.toString(result));\r\n    }\r\n\r\nOutput: `[3, 6, 1, 4, 2, 5]`","title":"How to sort array based on multiples of 3 using Java","body":"<p>In your solution you are swapping the elements in place, which shuffles them from the initial order. That's why you don't have the same ordering at the end. I'm not sure if there is another way apart from having a second array to keep the sorted elements, while at the same time iterating over the original one like so:</p>\n<pre><code>public static void main(String[] args) {\n    int[] numbers = new int[]{1, 2, 3, 4, 5, 6};\n    int[] result = new int[numbers.length];\n    int b = 0;\n    int current = 0;\n    for (int i = 0; i &lt; 3; i++) { //3 groups\n        for (int j = 0; j &lt; numbers.length; j++) {\n            if (numbers[j] % 3 == i) { //reminder should be 0,1 or 2\n                result[current] = numbers[j];\n                current++;\n            }\n        }\n    }\n\n    System.out.println(Arrays.toString(result));\n}\n</code></pre>\n<p>Output: <code>[3, 6, 1, 4, 2, 5]</code></p>\n"},{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647615371,"creation_date":1647615371,"answer_id":71528952,"question_id":71528707,"body_markdown":"I would create a new array of the same size and then place the elements in the correct order. For example like this:\r\n```\r\nint[] array = {1, 2, 3, 4, 5, 6};\r\nint[] sorted = new int[array.length];\r\nint counter = 0;\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    for (int j = 0; j &lt; array.length; j++) {\r\n        if (array[j] % 3 == i) {\r\n            sorted[counter] = array[j];\r\n            counter++;\r\n        }\r\n    }\r\n}\r\nSystem.out.println(Arrays.toString(sorted));\r\n```\r\nOutput:\r\n```\r\n[3, 6, 1, 4, 2, 5]\r\n```\r\nAlternatively, you can use Java 8 features to reduce the amount of code like this:\r\n```\r\nint[] array = {1, 2, 3, 4, 5, 6};\r\nint[] sorted = Arrays.stream(array).boxed().sorted(Comparator.comparingInt(a -&gt; (a % 3))).mapToInt(i -&gt; i).toArray();\r\n```\r\nOutput:\r\n```\r\n[3, 6, 1, 4, 2, 5]\r\n```","title":"How to sort array based on multiples of 3 using Java","body":"<p>I would create a new array of the same size and then place the elements in the correct order. For example like this:</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5, 6};\nint[] sorted = new int[array.length];\nint counter = 0;\nfor (int i = 0; i &lt; 3; i++) {\n    for (int j = 0; j &lt; array.length; j++) {\n        if (array[j] % 3 == i) {\n            sorted[counter] = array[j];\n            counter++;\n        }\n    }\n}\nSystem.out.println(Arrays.toString(sorted));\n</code></pre>\n<p>Output:</p>\n<pre><code>[3, 6, 1, 4, 2, 5]\n</code></pre>\n<p>Alternatively, you can use Java 8 features to reduce the amount of code like this:</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5, 6};\nint[] sorted = Arrays.stream(array).boxed().sorted(Comparator.comparingInt(a -&gt; (a % 3))).mapToInt(i -&gt; i).toArray();\n</code></pre>\n<p>Output:</p>\n<pre><code>[3, 6, 1, 4, 2, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647616680,"creation_date":1647616081,"answer_id":71529119,"question_id":71528707,"body_markdown":"You can use an `IntStream` and a `Comparator` to sort the stream:\r\n\r\n    int[] arr = {1, 2, 3, 4, 5, 6};\r\n\r\n    int[] arrSorted = IntStream.of(arr).boxed()\r\n            .sorted(Comparator.comparingInt(i -&gt; i % 3))\r\n            .mapToInt(Integer::intValue)\r\n            .toArray();\r\n\r\n    System.out.println(Arrays.toString(arrSorted));\r\n\r\nOutput:\r\n\r\n    [3, 6, 1, 4, 2, 5]\r\n\r\n**Note**: From `IntStream.of()` javadoc: \r\n&gt; Returns a **sequential ordered** stream whose elements are the specified\r\n&gt; values.\r\n\r\n","title":"How to sort array based on multiples of 3 using Java","body":"<p>You can use an <code>IntStream</code> and a <code>Comparator</code> to sort the stream:</p>\n<pre><code>int[] arr = {1, 2, 3, 4, 5, 6};\n\nint[] arrSorted = IntStream.of(arr).boxed()\n        .sorted(Comparator.comparingInt(i -&gt; i % 3))\n        .mapToInt(Integer::intValue)\n        .toArray();\n\nSystem.out.println(Arrays.toString(arrSorted));\n</code></pre>\n<p>Output:</p>\n<pre><code>[3, 6, 1, 4, 2, 5]\n</code></pre>\n<p><strong>Note</strong>: From <code>IntStream.of()</code> javadoc:</p>\n<blockquote>\n<p>Returns a <strong>sequential ordered</strong> stream whose elements are the specified\nvalues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647616722,"creation_date":1647616722,"answer_id":71529274,"question_id":71528707,"body_markdown":"Using stream and comparator\r\n\r\n    int[] array = {1, 2, 3, 4, 5, 6};\r\n    List&lt;Integer&gt; lst = Arrays.stream(array)\r\n      .boxed()\r\n      .sorted(Comparator.comparingInt(o -&gt; o % 3))\r\n      .collect(Collectors.toList());\r\n\r\n    System.out.println(lst);","title":"How to sort array based on multiples of 3 using Java","body":"<p>Using stream and comparator</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5, 6};\nList&lt;Integer&gt; lst = Arrays.stream(array)\n  .boxed()\n  .sorted(Comparator.comparingInt(o -&gt; o % 3))\n  .collect(Collectors.toList());\n\nSystem.out.println(lst);\n</code></pre>\n"}],"owner":{"account_id":19382184,"reputation":163,"user_id":14173197,"display_name":"sherin_a27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71529274,"answer_count":4,"score":1,"last_activity_date":1647617630,"creation_date":1647614333,"question_id":71528707,"body_markdown":"I have an array like this one-\r\n\r\n{1, 2, 3, 4, 5, 6}\r\n\r\nI want to sort it in the order of multiples of 3 with remainders 0, 1 and 2. (the first group is multiples of 3, the second one is multiples of 3 with remainder 1 and the last one is multiples of 3 with remainder 2) and I want to preserve the order in which elements appear in the array.\r\nThe result should be -\r\n{3, 6, 1, 4, 2, 5}\r\n\r\nI have this code-\r\n\r\n    int current = 0;\r\n    int b = 0;\r\n    for (int i = 0; i &lt; 3; i++) { //3 groups\r\n        for (int j = current; j &lt; numbers.length; j++) {\r\n            if (numbers[j] % 3 == i) { //reminder should be 0,1 or 2\r\n                b = numbers[j];\r\n                numbers[j] = numbers[current];\r\n                numbers[current] = b;\r\n                current++;\r\n            }\r\n        }\r\n    }\r\n\r\nBut this code does not preserve the order in which elements appear in the array. The result I got is-\r\n\r\n{3, 6, 1, 4, 5, 2}\r\n\r\nBut I want the result to be like {3, 6, 1, 4, 2, 5}. How can I achieve this?","title":"How to sort array based on multiples of 3 using Java","body":"<p>I have an array like this one-</p>\n<p>{1, 2, 3, 4, 5, 6}</p>\n<p>I want to sort it in the order of multiples of 3 with remainders 0, 1 and 2. (the first group is multiples of 3, the second one is multiples of 3 with remainder 1 and the last one is multiples of 3 with remainder 2) and I want to preserve the order in which elements appear in the array.\nThe result should be -\n{3, 6, 1, 4, 2, 5}</p>\n<p>I have this code-</p>\n<pre><code>int current = 0;\nint b = 0;\nfor (int i = 0; i &lt; 3; i++) { //3 groups\n    for (int j = current; j &lt; numbers.length; j++) {\n        if (numbers[j] % 3 == i) { //reminder should be 0,1 or 2\n            b = numbers[j];\n            numbers[j] = numbers[current];\n            numbers[current] = b;\n            current++;\n        }\n    }\n}\n</code></pre>\n<p>But this code does not preserve the order in which elements appear in the array. The result I got is-</p>\n<p>{3, 6, 1, 4, 5, 2}</p>\n<p>But I want the result to be like {3, 6, 1, 4, 2, 5}. How can I achieve this?</p>\n"},{"tags":["java","interface","dart","flutter"],"answers":[{"tags":[],"owner":{"account_id":2475977,"reputation":66430,"user_id":2156621,"display_name":"lrn"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1554096953,"creation_date":1554096953,"answer_id":55448619,"question_id":55448065,"body_markdown":"There is no such feature in Dart. In order to implement an interface, you have to declare a class.\r\n\r\nThe alternatives is to define the API to accept individual functions instead of a single object, or to declare a helper class which takes the behavior of the necessary methods as constructor arguments. \r\n\r\nExample:\r\n \r\n    class _UserSignupInterface extends _SignupSelectUsernamePageState\r\n        implements UserSignupInterface {\r\n      void Function(_UserSingupInterface self) _onSuccess;\r\n      void Function(_UserSingupInterface self) _onError;\r\n      _UserSignupInterface(this._onSuccess, this._onError);\r\n    \r\n      @override\r\n      void onSuccess() { \r\n        _onSuccess(this);\r\n      }\r\n    \r\n      @override\r\n      void onError() {\r\n        _onError(this);\r\n      }\r\n    }\r\n\r\nThen you can call it as:\r\n  \r\n    ... _UserSignupInterface((self) { \r\n        self._navigateToUserPage();\r\n    }, (self) {\r\n      self.setState(() {\r\n        self._isSignupClickable = true;\r\n      });\r\n    })\r\n\r\nIt&#39;s not as pretty as Java, admittedly.","title":"How to implement interface in-line instead of using a class in Dart/Flutter?","body":"<p>There is no such feature in Dart. In order to implement an interface, you have to declare a class.</p>\n\n<p>The alternatives is to define the API to accept individual functions instead of a single object, or to declare a helper class which takes the behavior of the necessary methods as constructor arguments. </p>\n\n<p>Example:</p>\n\n<pre><code>class _UserSignupInterface extends _SignupSelectUsernamePageState\n    implements UserSignupInterface {\n  void Function(_UserSingupInterface self) _onSuccess;\n  void Function(_UserSingupInterface self) _onError;\n  _UserSignupInterface(this._onSuccess, this._onError);\n\n  @override\n  void onSuccess() { \n    _onSuccess(this);\n  }\n\n  @override\n  void onError() {\n    _onError(this);\n  }\n}\n</code></pre>\n\n<p>Then you can call it as:</p>\n\n<pre><code>... _UserSignupInterface((self) { \n    self._navigateToUserPage();\n}, (self) {\n  self.setState(() {\n    self._isSignupClickable = true;\n  });\n})\n</code></pre>\n\n<p>It's not as pretty as Java, admittedly.</p>\n"},{"tags":[],"owner":{"account_id":381503,"reputation":3141,"user_id":736196,"accept_rate":96,"display_name":"kinghomer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578999974,"creation_date":1578999974,"answer_id":59732534,"question_id":55448065,"body_markdown":"I think you are looking for anonymous class in Dart, but it&#39;s not supported.\r\n\r\nIf i understood well what you are trying to do, you can achieve something similar by passing function as parameter in this way:\r\n\r\n    enum ResultLogin { OK, ERROR }\r\n\r\n    class Login {\r\n       Function _listener; // generic function\r\n\r\n       Login(listener) {\r\n          _listener = listener;\r\n       }\r\n\r\n       void run(){\r\n          ResultLogin result = *DO_YOUR_LOGIN_FUNCTION*;\r\n          _listener(result);\r\n       }\r\n    }   \r\n\r\n    class Main {\r\n        void doLogin(){\r\n            Login myLogin = new Login((ResultLogin result){\r\n                    switch(result){\r\n\r\n                       case OK:\r\n                          print(&quot;OK&quot;);\r\n                         break;\r\n\r\n                       case ERROR:\r\n                          print(&quot;ERROR&quot;);\r\n                         break;\r\n\r\n                       default:\r\n                         break;\r\n                    }\r\n                }\r\n            );\r\n            \r\n        }\r\n    }\r\n\r\nIn this way you can handle your result and refresh some widget state according to your needs.","title":"How to implement interface in-line instead of using a class in Dart/Flutter?","body":"<p>I think you are looking for anonymous class in Dart, but it's not supported.</p>\n\n<p>If i understood well what you are trying to do, you can achieve something similar by passing function as parameter in this way:</p>\n\n<pre><code>enum ResultLogin { OK, ERROR }\n\nclass Login {\n   Function _listener; // generic function\n\n   Login(listener) {\n      _listener = listener;\n   }\n\n   void run(){\n      ResultLogin result = *DO_YOUR_LOGIN_FUNCTION*;\n      _listener(result);\n   }\n}   \n\nclass Main {\n    void doLogin(){\n        Login myLogin = new Login((ResultLogin result){\n                switch(result){\n\n                   case OK:\n                      print(\"OK\");\n                     break;\n\n                   case ERROR:\n                      print(\"ERROR\");\n                     break;\n\n                   default:\n                     break;\n                }\n            }\n        );\n\n    }\n}\n</code></pre>\n\n<p>In this way you can handle your result and refresh some widget state according to your needs.</p>\n"},{"tags":[],"owner":{"account_id":10945532,"reputation":4337,"user_id":8043806,"display_name":"Giddy Naya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640776088,"creation_date":1640776088,"answer_id":70518561,"question_id":55448065,"body_markdown":"I know this question already has an answer but I would like to add a more neater implementation close to ```Java inline interface``` which I normally use.\r\n\r\n**First, we have the class which acts as our interface:**\r\n\r\n    class HttpRequestCallback {\r\n      /// Called when http request is completed\r\n      final void Function() onCompleted;\r\n    \r\n      /// Called when http request is successful\r\n      ///  * [message] is a dynamic object returned by the http server response\r\n      final void Function(dynamic message) onSuccess;\r\n    \r\n      /// Called when http request fail\r\n      ///  * [message] is a dynamic object returned by the http server response\r\n      final void Function(dynamic message) onError;\r\n    \r\n      HttpRequestCallback(\r\n          {required this.onCompleted,\r\n          required this.onSuccess,\r\n          required this.onError});\r\n    }\r\n\r\n**Secondly, we have a function that expects the interface as parameter:**\r\n\r\n  \r\n\r\n    Future&lt;void&gt; login(LoginModel model, {HttpRequestCallback? callback}) async {\r\n        var response = await httpClient.doPost(app_constants.ApiEndpoints.Login,\r\n            body: model.toJson());\r\n        // Api request completed\r\n        callback?.onCompleted();\r\n\r\n        if (response.success) {\r\n          // Api request successful\r\n          callback?.onSuccess(LoginResponseModel.fromJson(\r\n              response.message as Map&lt;String, dynamic&gt;));\r\n        } else {\r\n          // Api request failed\r\n          callback?.onError(response.message);\r\n        }\r\n      }\r\n\r\n**Finally, we call the function passing our interface as an argument:**\r\n\r\n    ...\r\n    apiService.login(loginModel,\r\n        callback: HttpRequestCallback(\r\n           onCompleted: () {\r\n            //...\r\n           },\r\n           onSuccess: (message) {\r\n            //...\r\n           },\r\n           onError: (message) {\r\n            //...\r\n           }\r\n        ));\r\n    ...","title":"How to implement interface in-line instead of using a class in Dart/Flutter?","body":"<p>I know this question already has an answer but I would like to add a more neater implementation close to <code>Java inline interface</code> which I normally use.</p>\n<p><strong>First, we have the class which acts as our interface:</strong></p>\n<pre><code>class HttpRequestCallback {\n  /// Called when http request is completed\n  final void Function() onCompleted;\n\n  /// Called when http request is successful\n  ///  * [message] is a dynamic object returned by the http server response\n  final void Function(dynamic message) onSuccess;\n\n  /// Called when http request fail\n  ///  * [message] is a dynamic object returned by the http server response\n  final void Function(dynamic message) onError;\n\n  HttpRequestCallback(\n      {required this.onCompleted,\n      required this.onSuccess,\n      required this.onError});\n}\n</code></pre>\n<p><strong>Secondly, we have a function that expects the interface as parameter:</strong></p>\n<pre><code>Future&lt;void&gt; login(LoginModel model, {HttpRequestCallback? callback}) async {\n    var response = await httpClient.doPost(app_constants.ApiEndpoints.Login,\n        body: model.toJson());\n    // Api request completed\n    callback?.onCompleted();\n\n    if (response.success) {\n      // Api request successful\n      callback?.onSuccess(LoginResponseModel.fromJson(\n          response.message as Map&lt;String, dynamic&gt;));\n    } else {\n      // Api request failed\n      callback?.onError(response.message);\n    }\n  }\n</code></pre>\n<p><strong>Finally, we call the function passing our interface as an argument:</strong></p>\n<pre><code>...\napiService.login(loginModel,\n    callback: HttpRequestCallback(\n       onCompleted: () {\n        //...\n       },\n       onSuccess: (message) {\n        //...\n       },\n       onError: (message) {\n        //...\n       }\n    ));\n...\n</code></pre>\n"}],"owner":{"account_id":12064419,"reputation":2083,"user_id":8822128,"accept_rate":100,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6752,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55448619,"answer_count":3,"score":4,"last_activity_date":1647617456,"creation_date":1554092463,"question_id":55448065,"body_markdown":"Is there any way to implement an interface in dart/flutter without having to use a class?\r\n\r\nCurrently, how I implement it is with the code below\r\n\r\n    class _UserSignupInterface extends _SignupSelectUsernamePageState\r\n        implements UserSignupInterface {\r\n      @override\r\n      void onSuccess() {\r\n        _navigateToUserPage();\r\n      }\r\n    \r\n      @override\r\n      void onError() {\r\n        setState(() {\r\n          _isSignupClickable = true;\r\n        });\r\n      }\r\n    }\r\n    \r\n    _attemptSignup() {\r\n      UserSingleton userSingletonInstance = UserSingleton().getInstance();\r\n      UserSignupInterface _userSignupInterface = _UserSignupInterface();\r\n    \r\n      UserSingleton().getInstance().user.username = _username;\r\n    \r\n      UserLoginController.attemptSignup(_userSignupInterface,\r\n          userSingletonInstance.user, userSingletonInstance.userDetail, _groupID);\r\n    }\r\n    \r\nHowever, I would like to implement these interface methods without having to use a class, just as I would in java. Something that would look like the code below.\r\n\r\n    UserController.attemptSignup(context, new UserSignupRequest() {\r\n                @Override\r\n                public void onSuccess(User user, UserDetail userDetail, Group group) {\r\n                    btnContinueWithFacebook.setEnabled(true);\r\n                    Intent intent = new Intent(context, ScoopActivity.class);\r\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \r\n                    progressBar.setVisibility(View.GONE);\r\n                    startActivity(intent);\r\n                }\r\n    \r\n                @Override\r\n                public void onFail() {\r\n                    Log.d(APP.TAG, &quot;Signup request has failed&quot;);\r\n                    btnContinueWithFacebook.setEnabled(true);\r\n                    progressBar.setVisibility(View.GONE);\r\n                    /**\r\n                     * TODO:: Notify user of signup attempt failure\r\n                     */\r\n                }\r\n            }, user, userDetail, group_id);","title":"How to implement interface in-line instead of using a class in Dart/Flutter?","body":"<p>Is there any way to implement an interface in dart/flutter without having to use a class?</p>\n\n<p>Currently, how I implement it is with the code below</p>\n\n<pre><code>class _UserSignupInterface extends _SignupSelectUsernamePageState\n    implements UserSignupInterface {\n  @override\n  void onSuccess() {\n    _navigateToUserPage();\n  }\n\n  @override\n  void onError() {\n    setState(() {\n      _isSignupClickable = true;\n    });\n  }\n}\n\n_attemptSignup() {\n  UserSingleton userSingletonInstance = UserSingleton().getInstance();\n  UserSignupInterface _userSignupInterface = _UserSignupInterface();\n\n  UserSingleton().getInstance().user.username = _username;\n\n  UserLoginController.attemptSignup(_userSignupInterface,\n      userSingletonInstance.user, userSingletonInstance.userDetail, _groupID);\n}\n</code></pre>\n\n<p>However, I would like to implement these interface methods without having to use a class, just as I would in java. Something that would look like the code below.</p>\n\n<pre><code>UserController.attemptSignup(context, new UserSignupRequest() {\n            @Override\n            public void onSuccess(User user, UserDetail userDetail, Group group) {\n                btnContinueWithFacebook.setEnabled(true);\n                Intent intent = new Intent(context, ScoopActivity.class);\n                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n\n                progressBar.setVisibility(View.GONE);\n                startActivity(intent);\n            }\n\n            @Override\n            public void onFail() {\n                Log.d(APP.TAG, \"Signup request has failed\");\n                btnContinueWithFacebook.setEnabled(true);\n                progressBar.setVisibility(View.GONE);\n                /**\n                 * TODO:: Notify user of signup attempt failure\n                 */\n            }\n        }, user, userDetail, group_id);\n</code></pre>\n"},{"tags":["java","jbpm","kie","drools-kie-server","kie-server"],"answers":[{"tags":[],"owner":{"account_id":10369866,"reputation":113,"user_id":7647850,"display_name":"S.R"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1607577304,"creation_date":1607577304,"answer_id":65228861,"question_id":64914002,"body_markdown":"```\r\nAfter a month I found some APIS which we can use to perform operation on user, like add/update/delete/get users, groups and roles.\r\nbase url: http://localhost:8080/business-central/rest/\r\n\r\n[GET] /roles – Get a list of all roles\r\n\r\n[GET] /users – Get a list of all users\r\n\r\n[GET] /groups – Get groups\r\n\r\n[GET] /users/{userName}/groups – Get a list of groups assigned to a user\r\n\r\n[GET] /users/{userName}/roles — Gets a list of roles assigned to a user\r\n\r\n[POST] /users Creates users\r\n\r\n[Post] /users/{userName}/changePassword – Changes user password\r\n\r\n[POST] /groups — Creates groups\r\n\r\n[POST] /users/{userName}/groups – Overrides the user assigned groups with new values\r\n\r\n[POST] /users/{userName}/roles – Overrides the user assigned roles with new values\r\n\r\n[Post] /groups/{groupName}/permissions – Updates permissions for a group\r\n\r\n[Post] /roles/{roleName}/permissions – Updates permissions for a role\r\n\r\n[GET] /groups/{groupName}/permissions –Get all permissions for a group\r\n\r\n[GET] /roles/{roleName}/permissions –Get all permissions for a role\r\n\r\n[GET] /users/{userName}/permissions –Get all permissions for a user\r\n\r\n[DELETE] /users/{userName} – Deletes a given user\r\n\r\n[DELETE] /groups/{groupName} Deletes a given groups\r\n```","title":"How to create a user by API or Programmatically in jbpm rhpam BPMN kie-server","body":"<pre><code>After a month I found some APIS which we can use to perform operation on user, like add/update/delete/get users, groups and roles.\nbase url: http://localhost:8080/business-central/rest/\n\n[GET] /roles – Get a list of all roles\n\n[GET] /users – Get a list of all users\n\n[GET] /groups – Get groups\n\n[GET] /users/{userName}/groups – Get a list of groups assigned to a user\n\n[GET] /users/{userName}/roles — Gets a list of roles assigned to a user\n\n[POST] /users Creates users\n\n[Post] /users/{userName}/changePassword – Changes user password\n\n[POST] /groups — Creates groups\n\n[POST] /users/{userName}/groups – Overrides the user assigned groups with new values\n\n[POST] /users/{userName}/roles – Overrides the user assigned roles with new values\n\n[Post] /groups/{groupName}/permissions – Updates permissions for a group\n\n[Post] /roles/{roleName}/permissions – Updates permissions for a role\n\n[GET] /groups/{groupName}/permissions –Get all permissions for a group\n\n[GET] /roles/{roleName}/permissions –Get all permissions for a role\n\n[GET] /users/{userName}/permissions –Get all permissions for a user\n\n[DELETE] /users/{userName} – Deletes a given user\n\n[DELETE] /groups/{groupName} Deletes a given groups\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6823,"reputation":53,"user_id":11594,"display_name":"TuxmAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647617377,"creation_date":1647617377,"answer_id":71529428,"question_id":64914002,"body_markdown":"You can find more info about REST API to manage users on the Red Hat site:\r\n\r\nhttps://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.8/html-single/interacting_with_red_hat_process_automation_manager_using_kie_apis/index#security-management-rest-api-con_kie-apis\r\n\r\nbut I have a concern about changing roles for users. In my jBPM install, any change in role (eg. adding process-admin to an user or removing it)  is effective only after a service restart.","title":"How to create a user by API or Programmatically in jbpm rhpam BPMN kie-server","body":"<p>You can find more info about REST API to manage users on the Red Hat site:</p>\n<p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.8/html-single/interacting_with_red_hat_process_automation_manager_using_kie_apis/index#security-management-rest-api-con_kie-apis\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_process_automation_manager/7.8/html-single/interacting_with_red_hat_process_automation_manager_using_kie_apis/index#security-management-rest-api-con_kie-apis</a></p>\n<p>but I have a concern about changing roles for users. In my jBPM install, any change in role (eg. adding process-admin to an user or removing it)  is effective only after a service restart.</p>\n"}],"owner":{"account_id":10369866,"reputation":113,"user_id":7647850,"display_name":"S.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65228861,"answer_count":2,"score":2,"last_activity_date":1647617377,"creation_date":1605796989,"question_id":64914002,"body_markdown":"I have one application, whenever someone signup in my application, then that user should be created in jbpm. So that whenever new tasks are added he can approve it. I am using rhpam jbpm business-central which is running on localhost. ```http://localhost:8080/business-central/kie-wb.jsp```\r\nI have googled how to create a user using API, swagger, or Programmatically So that as soon as the new user gets registered in my application that the user will be created in jbpm. But not found anything about it. Can you please help me?","title":"How to create a user by API or Programmatically in jbpm rhpam BPMN kie-server","body":"<p>I have one application, whenever someone signup in my application, then that user should be created in jbpm. So that whenever new tasks are added he can approve it. I am using rhpam jbpm business-central which is running on localhost. <code>http://localhost:8080/business-central/kie-wb.jsp</code>\nI have googled how to create a user using API, swagger, or Programmatically So that as soon as the new user gets registered in my application that the user will be created in jbpm. But not found anything about it. Can you please help me?</p>\n"},{"tags":["java","jackson","json-deserialization"],"comments":[{"owner":{"account_id":417927,"reputation":801,"user_id":794191,"accept_rate":83,"display_name":"Aarowaim"},"score":1,"creation_date":1395707595,"post_id":22623126,"comment_id":34451273,"body_markdown":"What does your deserializer look like? It seems like you may simply be getting  deserializing in the wrong order. It might also be that the JSON isn&#39;t in the order you are expecting.","body":"What does your deserializer look like? It seems like you may simply be getting  deserializing in the wrong order. It might also be that the JSON isn&#39;t in the order you are expecting."},{"owner":{"account_id":417927,"reputation":801,"user_id":794191,"accept_rate":83,"display_name":"Aarowaim"},"score":1,"creation_date":1395708473,"post_id":22623126,"comment_id":34451547,"body_markdown":"Hmmm, then either the JSON is out of order, or their implementation of `readValue` has the side effect of not always remaining in order. Clearly you do need them to remain in order, but aside from writing a custom deserializer, I don&#39;t think there&#39;s a way to overcome this. I used the GSON library for my deserialization and it was pretty easy to write deserializers. Not really sure if you have the option of trying a different library (it depends how much code you&#39;ve written)","body":"Hmmm, then either the JSON is out of order, or their implementation of <code>readValue</code> has the side effect of not always remaining in order. Clearly you do need them to remain in order, but aside from writing a custom deserializer, I don&#39;t think there&#39;s a way to overcome this. I used the GSON library for my deserialization and it was pretty easy to write deserializers. Not really sure if you have the option of trying a different library (it depends how much code you&#39;ve written)"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1395739853,"post_id":22623126,"comment_id":34463075,"body_markdown":"I checked it also and for me `Jackson` deserialize it as you expect. Do you use any custom deserializer or something like that? Maybe you, accidentally, are changing order in this list after deserializing, are n&#39;t you?","body":"I checked it also and for me <code>Jackson</code> deserialize it as you expect. Do you use any custom deserializer or something like that? Maybe you, accidentally, are changing order in this list after deserializing, are n&#39;t you?"},{"owner":{"account_id":1654407,"reputation":153,"user_id":1524322,"display_name":"Sensei"},"score":0,"creation_date":1395779325,"post_id":22623126,"comment_id":34490475,"body_markdown":"This was a misunderstanding in my end. Order is always retained during array deserialization which is the concept that drives ObjectMapper. According to this [blog](http://www.cowtowncoder.com/blog/archives/2009/01/entry_153.html), ObjectMapper implements a Tree Model to represent the incoming Json. Tree Model, like DOM, offers reliable one on one mapping between column and its values.","body":"This was a misunderstanding in my end. Order is always retained during array deserialization which is the concept that drives ObjectMapper. According to this <a href=\"http://www.cowtowncoder.com/blog/archives/2009/01/entry_153.html\" rel=\"nofollow noreferrer\">blog</a>, ObjectMapper implements a Tree Model to represent the incoming Json. Tree Model, like DOM, offers reliable one on one mapping between column and its values."}],"answers":[{"tags":[],"owner":{"account_id":8032726,"reputation":134,"user_id":6057036,"display_name":"Francesco Lo Cascio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647617080,"creation_date":1459332380,"answer_id":36305617,"question_id":22623126,"body_markdown":"Jackson mapper fill the ArrayList maintaining the order of JSON. If you want a different order you can use the annotation @JsonPropertyOrder. \r\n\r\n(https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonPropertyOrder.html)","title":"deserialization of a json array to a list and retaining the array order from json within list","body":"<p>Jackson mapper fill the ArrayList maintaining the order of JSON. If you want a different order you can use the annotation @JsonPropertyOrder.</p>\n<p>(<a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonPropertyOrder.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonPropertyOrder.html</a>)</p>\n"}],"owner":{"account_id":1654407,"reputation":153,"user_id":1524322,"display_name":"Sensei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9359,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36305617,"answer_count":1,"score":4,"last_activity_date":1647617080,"creation_date":1395706452,"question_id":22623126,"body_markdown":"I have the following json that is mapped to a POJO using Jackson mapper. How do I retain the order of array columns from json during deserialization ? What annotation should I use ?\r\n\r\nJSON:\r\n\r\n\r\n    {\r\n    &quot;columnNames&quot;: [\r\n       &quot;FirstName&quot;,\r\n\t   &quot;LastName&quot;,\r\n\t   &quot;UserName&quot;\r\n    ],\r\n    &quot;values&quot;: [\r\n        [\r\n\t\t\t&quot;John&quot;,\r\n\t\t\t&quot;Smith&quot;,\r\n\t\t\t&quot;jsmith&quot;\r\n        ],\r\n        [\r\n\t\t\t&quot;Tim&quot;,\r\n\t\t\t&quot;Cook&quot;,\r\n\t\t\t&quot;tcook&quot;\r\n        ]\r\n\t]\r\n}\r\n\r\n\r\nPOJO:\r\n\r\n    public class Data implements Serializable {\r\n\r\n    private List&lt;String&gt; columnNames = new ArrayList&lt;String&gt;();\r\n\r\n    private List&lt;ArrayList&lt;String&gt;&gt; values = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n\r\n    public List&lt;String&gt; getColumnNames() {\r\n        return columnNames;\r\n    }\r\n\r\n    public void setColumnNames(List&lt;String&gt; columnNames) {\r\n        this.columnNames = columnNames;\r\n    }\r\n\r\n    public List&lt;ArrayList&lt;String&gt;&gt; getValues() {\r\n        return values;\r\n    }\r\n\r\n    public void setValues(List&lt;ArrayList&lt;String&gt;&gt; values) {\r\n        this.values = values;\r\n    }\r\n\r\n}\r\n\r\n- Expected getColumnNames(): {&quot;FirstName&quot;,&quot;LastName&quot;,&quot;UserName&quot;}\r\n- Actual getColumnNames():   {&quot;UserName&quot;,&quot;FirstName&quot;,&quot;LastName&quot;}\r\n\r\nI am new to Jackson mapping so any help is appreciated.","title":"deserialization of a json array to a list and retaining the array order from json within list","body":"<p>I have the following json that is mapped to a POJO using Jackson mapper. How do I retain the order of array columns from json during deserialization ? What annotation should I use ?</p>\n\n<p>JSON:</p>\n\n<pre><code>{\n\"columnNames\": [\n   \"FirstName\",\n   \"LastName\",\n   \"UserName\"\n],\n\"values\": [\n    [\n        \"John\",\n        \"Smith\",\n        \"jsmith\"\n    ],\n    [\n        \"Tim\",\n        \"Cook\",\n        \"tcook\"\n    ]\n]\n</code></pre>\n\n<p>}</p>\n\n<p>POJO:</p>\n\n<pre><code>public class Data implements Serializable {\n\nprivate List&lt;String&gt; columnNames = new ArrayList&lt;String&gt;();\n\nprivate List&lt;ArrayList&lt;String&gt;&gt; values = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n\npublic List&lt;String&gt; getColumnNames() {\n    return columnNames;\n}\n\npublic void setColumnNames(List&lt;String&gt; columnNames) {\n    this.columnNames = columnNames;\n}\n\npublic List&lt;ArrayList&lt;String&gt;&gt; getValues() {\n    return values;\n}\n\npublic void setValues(List&lt;ArrayList&lt;String&gt;&gt; values) {\n    this.values = values;\n}\n</code></pre>\n\n<p>}</p>\n\n<ul>\n<li>Expected getColumnNames(): {\"FirstName\",\"LastName\",\"UserName\"}</li>\n<li>Actual getColumnNames():   {\"UserName\",\"FirstName\",\"LastName\"}</li>\n</ul>\n\n<p>I am new to Jackson mapping so any help is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560358412,"creation_date":1560358412,"answer_id":56567034,"question_id":56566847,"body_markdown":"You normally set that on the `Query` object before triggering the fetch:\r\n\r\n    entityManager.createQuery(&quot;...&quot;)\r\n           .setMaxResults(1)\r\n           .getResultList();\r\n\r\nWith the use of Spring Data Jpa syntax you would use something like:\r\n\r\n    Optional&lt;Test&gt; findFirstByOrderByDateDesc();\r\n\r\nOr using `Pageable`:\r\n\r\n    Page&lt;Test&gt; test = repository.findAll(\r\n        PageRequest.of(0, 1, Sort.by(Sort.Direction.DESC, &quot;date&quot;)));","title":"How can I obtain the first row from a SELECT operation using JPQL?","body":"<p>You normally set that on the <code>Query</code> object before triggering the fetch:</p>\n\n<pre><code>entityManager.createQuery(\"...\")\n       .setMaxResults(1)\n       .getResultList();\n</code></pre>\n\n<p>With the use of Spring Data Jpa syntax you would use something like:</p>\n\n<pre><code>Optional&lt;Test&gt; findFirstByOrderByDateDesc();\n</code></pre>\n\n<p>Or using <code>Pageable</code>:</p>\n\n<pre><code>Page&lt;Test&gt; test = repository.findAll(\n    PageRequest.of(0, 1, Sort.by(Sort.Direction.DESC, \"date\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8780443,"reputation":1478,"user_id":6564213,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1560362837,"creation_date":1560362837,"answer_id":56568049,"question_id":56566847,"body_markdown":"In spring jpa you can do something like this\r\n```java\r\nFoo findTopByOrderByDateDesc(); //This will return 1st item\r\n\r\nList&lt;Foo&gt; findTop10ByOrderByDateDesc(); //This will return top 10 item\r\n```\r\n\r\nFor reference [Spring Jpa Doc](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/)","title":"How can I obtain the first row from a SELECT operation using JPQL?","body":"<p>In spring jpa you can do something like this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Foo findTopByOrderByDateDesc(); //This will return 1st item\n\nList&lt;Foo&gt; findTop10ByOrderByDateDesc(); //This will return top 10 item\n</code></pre>\n\n<p>For reference <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"noreferrer\">Spring Jpa Doc</a></p>\n"},{"tags":[],"owner":{"account_id":14923922,"reputation":51,"user_id":10775384,"display_name":"yyiu1933"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1560416149,"creation_date":1560416149,"answer_id":56576879,"question_id":56566847,"body_markdown":"Mostly common\r\n```\r\nFoo findFirstByOrderByDateDESC();\r\n```\r\nUsing **@Query** with `nativeQuery = true`\r\n```\r\n@Query(value=&quot;SELECT 1 * FROM &quot;TableName&quot; ORDER BY &quot;DATE in db&quot; DESC LIMIT 1&quot;, nativeQuery = true)\r\nFoo findFirstByOrderByDateDESC(Long id); // name can be random\r\n```","title":"How can I obtain the first row from a SELECT operation using JPQL?","body":"<p>Mostly common</p>\n\n<pre><code>Foo findFirstByOrderByDateDESC();\n</code></pre>\n\n<p>Using <strong>@Query</strong> with <code>nativeQuery = true</code></p>\n\n<pre><code>@Query(value=\"SELECT 1 * FROM \"TableName\" ORDER BY \"DATE in db\" DESC LIMIT 1\", nativeQuery = true)\nFoo findFirstByOrderByDateDESC(Long id); // name can be random\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629213855,"creation_date":1624343490,"answer_id":68078572,"question_id":56566847,"body_markdown":"In [Spring Data JPA](https://www.baeldung.com/jpa-limit-query-results), use the keywords **first** or **top**, both are semantically the same, i prefer **top**, because there are 2 less letters to type ;-).\r\n\r\n&gt; Foo find**Top**ByOrderByDateDesc(); //Top 1 assumed&lt;br&gt;\r\n&gt; Foo find**First**ByOrderByDateDesc(); //First 1 assumed\r\n\r\nIf you want to find the first X rows, where X is a number, use:\r\n\r\n&gt; List\\&lt;Foo&gt; find**TopX**ByOrderByDateDesc();&lt;br&gt; \r\n&gt; List\\&lt;Foo&gt; find**FirstX**ByOrderByDateDesc();\r\n\r\nIf you want to remember to deal with null returns, wrap the result in an `Optional`:\r\n\r\n&gt; **Optional**\\&lt;Foo&gt; findTopByOrderByDateDesc();&lt;br&gt; \r\n&gt; **Optional**\\&lt;Foo&gt; findFirstByOrderByDateDesc();&lt;br&gt; ","title":"How can I obtain the first row from a SELECT operation using JPQL?","body":"<p>In <a href=\"https://www.baeldung.com/jpa-limit-query-results\" rel=\"nofollow noreferrer\">Spring Data JPA</a>, use the keywords <strong>first</strong> or <strong>top</strong>, both are semantically the same, i prefer <strong>top</strong>, because there are 2 less letters to type ;-).</p>\n<blockquote>\n<p>Foo find<strong>Top</strong>ByOrderByDateDesc(); //Top 1 assumed<br>\nFoo find<strong>First</strong>ByOrderByDateDesc(); //First 1 assumed</p>\n</blockquote>\n<p>If you want to find the first X rows, where X is a number, use:</p>\n<blockquote>\n<p>List&lt;Foo&gt; find<strong>TopX</strong>ByOrderByDateDesc();<br>\nList&lt;Foo&gt; find<strong>FirstX</strong>ByOrderByDateDesc();</p>\n</blockquote>\n<p>If you want to remember to deal with null returns, wrap the result in an <code>Optional</code>:</p>\n<blockquote>\n<p><strong>Optional</strong>&lt;Foo&gt; findTopByOrderByDateDesc();<br>\n<strong>Optional</strong>&lt;Foo&gt; findFirstByOrderByDateDesc();<br></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19997926,"reputation":121,"user_id":14657558,"display_name":"Steve McCollom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647617025,"creation_date":1647617025,"answer_id":71529351,"question_id":56566847,"body_markdown":"The question specifically asks how to do it in JPQL. The answer is that you can&#39;t. You either need to use a JPA query derived from a method name (as in jumping_monkey&#39;s answer) or use a native query.","title":"How can I obtain the first row from a SELECT operation using JPQL?","body":"<p>The question specifically asks how to do it in JPQL. The answer is that you can't. You either need to use a JPA query derived from a method name (as in jumping_monkey's answer) or use a native query.</p>\n"}],"owner":{"account_id":15857583,"reputation":361,"user_id":11441578,"display_name":"Iv&#225;n S&#225;nchez Castellanos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44026,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1647617025,"creation_date":1560357528,"question_id":56566847,"body_markdown":"I have a database with data about some tests, I want to order them decently using their attribute DATE and take only the first one of all of them. I mean, the equivalent TOP 1 of SQL in JPQL.\r\n\r\nThanks for your help!","title":"How can I obtain the first row from a SELECT operation using JPQL?","body":"<p>I have a database with data about some tests, I want to order them decently using their attribute DATE and take only the first one of all of them. I mean, the equivalent TOP 1 of SQL in JPQL.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","garbage-collection","jvm"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647619566,"post_id":71528953,"comment_id":126424049,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647616681,"creation_date":1647616681,"answer_id":71529263,"question_id":71528953,"body_markdown":"The &quot;live&quot; option forces a full collection, which then also attempts to shrink the total amount of memory reserved for the heap. Automatic GC avoids performing full collections, and so the reserved memory won&#39;t necessarily go down. The exact behavior varies by which GC you&#39;re using (G1 is the default) and any additional settings you may have provided.","title":"How come jmap -live triggers a GC while it never triggers in the application itself?","body":"<p>The &quot;live&quot; option forces a full collection, which then also attempts to shrink the total amount of memory reserved for the heap. Automatic GC avoids performing full collections, and so the reserved memory won't necessarily go down. The exact behavior varies by which GC you're using (G1 is the default) and any additional settings you may have provided.</p>\n"}],"owner":{"account_id":6392437,"reputation":3,"user_id":4958064,"display_name":"Nejc Robnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647616681,"creation_date":1647615371,"question_id":71528953,"body_markdown":"We are running the java application that is used as supervision system intended to run 24/7. We had some memory issues so I&#39;ve made a jmap dump that I can analyze it. After I made the second dump with live flag, the GC was ran in the application also and it&#39;s memory usage was low again (the process is running for 6 months now). So my question is how come the GC wasn&#39;t run by the process itself in the meantime if then after the jmap dump it could perform a GC, the process was running normally after that and it&#39;s memory usage was ok?\r\n\r\nOpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1) is the version.","title":"How come jmap -live triggers a GC while it never triggers in the application itself?","body":"<p>We are running the java application that is used as supervision system intended to run 24/7. We had some memory issues so I've made a jmap dump that I can analyze it. After I made the second dump with live flag, the GC was ran in the application also and it's memory usage was low again (the process is running for 6 months now). So my question is how come the GC wasn't run by the process itself in the meantime if then after the jmap dump it could perform a GC, the process was running normally after that and it's memory usage was ok?</p>\n<p>OpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1) is the version.</p>\n"},{"tags":["java","android","android-gallery"],"answers":[{"tags":[],"owner":{"account_id":3580957,"reputation":387,"user_id":2989198,"accept_rate":40,"display_name":"Sambhaji Karad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547203997,"creation_date":1547203997,"answer_id":54145054,"question_id":54144821,"body_markdown":"This is not possible.\r\n[https://developer.android.com/reference/android/content/Intent.html#EXTRA_ALLOW_MULTIPLE][1]\r\n\r\nYou&#39;ll have to manually check the returned data to see if it&#39;s more than 10 items, and if so, show a Toast \r\n\r\n  [1]: https://developer.android.com/reference/android/content/Intent.html#EXTRA_ALLOW_MULTIPLE","title":"How to limit multiple image selection from the gallery?","body":"<p>This is not possible.\n<a href=\"https://developer.android.com/reference/android/content/Intent.html#EXTRA_ALLOW_MULTIPLE\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent.html#EXTRA_ALLOW_MULTIPLE</a></p>\n\n<p>You'll have to manually check the returned data to see if it's more than 10 items, and if so, show a Toast </p>\n"},{"tags":[],"owner":{"account_id":13794143,"reputation":822,"user_id":9955739,"display_name":"Kevin Kurien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547205936,"creation_date":1547205936,"answer_id":54145585,"question_id":54144821,"body_markdown":"put this in your build.gradle(app) \r\n\r\n     compile &#39;com.github.esafirm.android-image-picker:imagepicker:1.5.0&#39;\r\n    compile &#39;com.github.esafirm.android-image-picker:rximagepicker:1.5.0&#39; \r\n\r\nand this in your activity \r\n\r\n    private void pickImage() {\r\n        ImagePicker.create(UploadPhotosActivity.this)\r\n                .showCamera(false)\r\n                .limit(3)\r\n                .imageTitle(getString(R.string.select_image))\r\n                .folderTitle(getString(R.string.folder))\r\n                .theme(R.style.ImagePickerTheme)\r\n                .start(RC_CODE_PICKER);\r\n    } \r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n         if (requestCode == RC_CODE_PICKER) {\r\n                Log.d(&quot;===uploadPhoto&quot;, &quot;gallery : &quot; + data);\r\n                imagesList = (ArrayList&lt;Image&gt;) ImagePicker.getImages(data);\r\n                Intent intent = new Intent(UploadPhotosActivity.this, ImageCropperActivity.class);\r\n                intent.putExtra(ImageCropperActivity.EXTRA_VIEW_PORT_RATIO, imagesList);\r\n                startActivity(intent);\r\n            }\r\n        } else {\r\n            Intent returnIntent = new Intent();\r\n            setResult(Activity.RESULT_CANCELED, returnIntent);\r\n            finish();\r\n        }\r\n    }\r\n\r\n ","title":"How to limit multiple image selection from the gallery?","body":"<p>put this in your build.gradle(app) </p>\n\n<pre><code> compile 'com.github.esafirm.android-image-picker:imagepicker:1.5.0'\ncompile 'com.github.esafirm.android-image-picker:rximagepicker:1.5.0' \n</code></pre>\n\n<p>and this in your activity </p>\n\n<pre><code>private void pickImage() {\n    ImagePicker.create(UploadPhotosActivity.this)\n            .showCamera(false)\n            .limit(3)\n            .imageTitle(getString(R.string.select_image))\n            .folderTitle(getString(R.string.folder))\n            .theme(R.style.ImagePickerTheme)\n            .start(RC_CODE_PICKER);\n} \n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n     if (requestCode == RC_CODE_PICKER) {\n            Log.d(\"===uploadPhoto\", \"gallery : \" + data);\n            imagesList = (ArrayList&lt;Image&gt;) ImagePicker.getImages(data);\n            Intent intent = new Intent(UploadPhotosActivity.this, ImageCropperActivity.class);\n            intent.putExtra(ImageCropperActivity.EXTRA_VIEW_PORT_RATIO, imagesList);\n            startActivity(intent);\n        }\n    } else {\n        Intent returnIntent = new Intent();\n        setResult(Activity.RESULT_CANCELED, returnIntent);\n        finish();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12135295,"reputation":2146,"user_id":8860931,"accept_rate":64,"display_name":"3iL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647616299,"creation_date":1552046540,"answer_id":55062858,"question_id":54144821,"body_markdown":"You can get the count of `ClipData` when selecting multiple images from and gallery and if that count is greater than 3 you can notify the user about it.\r\n\r\nYou can do something like this after selecting images from gallery:\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            if(resultCode == RESULT_OK || resultCode != RESULT_CANCELED){\r\n                  ClipData clipData = data.getClipData();\r\n                  if(clipData.getItemCount() &gt; 3){\r\n                       //notify user here...\r\n                  }\r\n            }\r\n    }","title":"How to limit multiple image selection from the gallery?","body":"<p>You can get the count of <code>ClipData</code> when selecting multiple images from and gallery and if that count is greater than 3 you can notify the user about it.</p>\n<p>You can do something like this after selecting images from gallery:</p>\n<pre><code>protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if(resultCode == RESULT_OK || resultCode != RESULT_CANCELED){\n              ClipData clipData = data.getClipData();\n              if(clipData.getItemCount() &gt; 3){\n                   //notify user here...\n              }\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":2601685,"reputation":47,"user_id":9354035,"display_name":"Heisenberg."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4429,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55062858,"answer_count":3,"score":0,"last_activity_date":1647616299,"creation_date":1547203135,"question_id":54144821,"body_markdown":"I have implemented adding multiple image selection from the gallery in my project. However, I want to limit the user so he/she can select only 3 images from the gallery.\r\n\r\nI have implemented selecting multiple images from the gallery like this:\r\n\r\n     `Intent intent = new Intent();\r\n            intent.setType(&quot;image/*&quot;);\r\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n            intent.setAction(Intent.ACTION_GET_CONTENT);\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), 1);`\r\n\r\nHow can I achieve this?\r\n\r\nThanks.\r\n\r\n","title":"How to limit multiple image selection from the gallery?","body":"<p>I have implemented adding multiple image selection from the gallery in my project. However, I want to limit the user so he/she can select only 3 images from the gallery.</p>\n\n<p>I have implemented selecting multiple images from the gallery like this:</p>\n\n<pre><code> `Intent intent = new Intent();\n        intent.setType(\"image/*\");\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        intent.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), 1);`\n</code></pre>\n\n<p>How can I achieve this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1647542642,"post_id":71515974,"comment_id":126403646,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\n[Please do not upload images of code/errors when asking a question.](https://meta.stackoverflow.com/q/285551)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/71515974/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. <a href=\"https://meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"}],"answers":[{"tags":[],"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647616227,"creation_date":1647539207,"answer_id":71516866,"question_id":71515974,"body_markdown":"`.doOnError` does not &quot;swallow&quot; Exceptions, it just executes a side-effect when one is emitted. You can use `onErrorResumeNext` to replace an Exception with some other `Flowable` of your choice, which will keep the Exception from being propagated downstream.\r\n\r\nBut keep in mind that even if you do that, the upstream `Flowable` will still be terminated, because it will have emitted an error, which is a terminal signal. So in your example above, replacing `doOnError` with `onErrorResumeNext` will not keep the `Flowable` returned by `getTransactions` from ceasing to emit new items. Keeping the `getTransactions` `Flowable` emitting when it encounters an Exception would require changing its internal implementation. Even then, it may not be possible, depending on the specifics of the Exception it hit.","title":"RxJava - How to &quot;swallow&quot; an Observer runtime Exception using doOnError() callback","body":"<p><code>.doOnError</code> does not &quot;swallow&quot; Exceptions, it just executes a side-effect when one is emitted. You can use <code>onErrorResumeNext</code> to replace an Exception with some other <code>Flowable</code> of your choice, which will keep the Exception from being propagated downstream.</p>\n<p>But keep in mind that even if you do that, the upstream <code>Flowable</code> will still be terminated, because it will have emitted an error, which is a terminal signal. So in your example above, replacing <code>doOnError</code> with <code>onErrorResumeNext</code> will not keep the <code>Flowable</code> returned by <code>getTransactions</code> from ceasing to emit new items. Keeping the <code>getTransactions</code> <code>Flowable</code> emitting when it encounters an Exception would require changing its internal implementation. Even then, it may not be possible, depending on the specifics of the Exception it hit.</p>\n"}],"owner":{"account_id":3953828,"reputation":29,"user_id":3263102,"display_name":"Liav Ezer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647616227,"creation_date":1647534932,"question_id":71515974,"body_markdown":"While coding an RxJava POC program i’m facing a Runtime Exception as shown below.\r\n\r\nThanks to @akarnokd (in this [post][1]) i was able to intercept the error on my doOnError() callback existing on the Flowable object.\r\n\r\nThe problem is that even if i intercepts its process i cant really &quot;swallow&quot; (ignore) it and its effectively shutting down the stream from the Observable to my Observer.\r\n\r\nHere is the Exception followed by the code:\r\n\r\n&gt; io.reactivex.exceptions.OnErrorNotImplementedException: The exception was not handled due to missing onError handler in the subscribe() method call. Further reading: https://github.com/ReactiveX/RxJava/wiki/Error-Handling | io.grpc.StatusRuntimeException: INTERNAL: RST_STREAM closed stream. HTTP/2 error code: INTERNAL_ERROR\r\nat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\r\nat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\r\nat io.reactivex.internal.subscribers.LambdaSubscriber.onError(LambdaSubscriber.java:79)\r\nat io.reactivex.internal.operators.flowable.FlowableFlattenIterable$FlattenIterableSubscriber.checkTerminated(FlowableFlattenIterable.java:395)\r\nat io.reactivex.internal.operators.flowable.FlowableFlattenIterable$FlattenIterableSubscriber.drain(FlowableFlattenIterable.java:255)\r\nat io.reactivex.internal.operators.flowable.FlowableFlattenIterable$FlattenIterableSubscriber.onError(FlowableFlattenIterable.java:181)\r\nat io.reactivex.internal.subscribers.BasicFuseableSubscriber.onError(BasicFuseableSubscriber.java:101)\r\nat com.daml.grpc.adapter.client.rs.BufferingResponseObserver.lambda$onError$3(BufferingResponseObserver.java:81)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe runtime exception is thrown due to the below condition (found during debugging of the Exception&#39;s flow)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71497550/rxjava-error-handling-how-to-add-error-callback-on-flowable-stream\r\n  [2]: https://i.stack.imgur.com/JEHiI.png\r\n  [3]: https://i.stack.imgur.com/CZyLd.png","title":"RxJava - How to &quot;swallow&quot; an Observer runtime Exception using doOnError() callback","body":"<p>While coding an RxJava POC program i’m facing a Runtime Exception as shown below.</p>\n<p>Thanks to @akarnokd (in this <a href=\"https://stackoverflow.com/questions/71497550/rxjava-error-handling-how-to-add-error-callback-on-flowable-stream\">post</a>) i was able to intercept the error on my doOnError() callback existing on the Flowable object.</p>\n<p>The problem is that even if i intercepts its process i cant really &quot;swallow&quot; (ignore) it and its effectively shutting down the stream from the Observable to my Observer.</p>\n<p>Here is the Exception followed by the code:</p>\n<blockquote>\n<p>io.reactivex.exceptions.OnErrorNotImplementedException: The exception was not handled due to missing onError handler in the subscribe() method call. Further reading: <a href=\"https://github.com/ReactiveX/RxJava/wiki/Error-Handling\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxJava/wiki/Error-Handling</a> | io.grpc.StatusRuntimeException: INTERNAL: RST_STREAM closed stream. HTTP/2 error code: INTERNAL_ERROR\nat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\nat io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\nat io.reactivex.internal.subscribers.LambdaSubscriber.onError(LambdaSubscriber.java:79)\nat io.reactivex.internal.operators.flowable.FlowableFlattenIterable$FlattenIterableSubscriber.checkTerminated(FlowableFlattenIterable.java:395)\nat io.reactivex.internal.operators.flowable.FlowableFlattenIterable$FlattenIterableSubscriber.drain(FlowableFlattenIterable.java:255)\nat io.reactivex.internal.operators.flowable.FlowableFlattenIterable$FlattenIterableSubscriber.onError(FlowableFlattenIterable.java:181)\nat io.reactivex.internal.subscribers.BasicFuseableSubscriber.onError(BasicFuseableSubscriber.java:101)\nat com.daml.grpc.adapter.client.rs.BufferingResponseObserver.lambda$onError$3(BufferingResponseObserver.java:81)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:834)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/JEHiI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JEHiI.png\" alt=\"enter image description here\" /></a></p>\n<p>The runtime exception is thrown due to the below condition (found during debugging of the Exception's flow)</p>\n<p><a href=\"https://i.stack.imgur.com/CZyLd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZyLd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio","google-maps"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643298983,"post_id":70761714,"comment_id":125307684,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":24579056,"reputation":21,"user_id":18484476,"display_name":"LANAH PHENG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647615006,"creation_date":1647447902,"answer_id":71500748,"question_id":70761714,"body_markdown":"For me, it was because I used the wrong import.\r\n\r\nTry using the right one:\r\n\r\n    import com.google.android.gms.location.LocationRequest;","title":".create method not working with LocationRequest();","body":"<p>For me, it was because I used the wrong import.</p>\n<p>Try using the right one:</p>\n<pre><code>import com.google.android.gms.location.LocationRequest;\n</code></pre>\n"}],"owner":{"account_id":23980439,"reputation":11,"user_id":17967963,"display_name":"spider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647615006,"creation_date":1642536078,"question_id":70761714,"body_markdown":" private LocationRequest mlocationrequest;    // initialziation\r\n\r\nmlocationrequest= LocationRequest.create();    // here causing error\r\n\r\n[screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3UkhC.png","title":".create method not working with LocationRequest();","body":"<p>private LocationRequest mlocationrequest;    // initialziation</p>\n<p>mlocationrequest= LocationRequest.create();    // here causing error</p>\n<p><a href=\"https://i.stack.imgur.com/3UkhC.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"},{"tags":["java","sonarqube","code-analysis","sonarlint","java-17"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":6,"creation_date":1647618003,"post_id":71528775,"comment_id":126423389,"body_markdown":"According to https://community.sonarsource.com/t/will-java-16-and-17-be-supported-in-sonarqube-8-9-lts/47535 Java 17 is only supported in the 9.x versions. And if you read the announcement for [Sonarqube 9.3](https://www.sonarqube.org/sonarqube-9-3/) it seems that you need version 9.3.","body":"According to <a href=\"https://community.sonarsource.com/t/will-java-16-and-17-be-supported-in-sonarqube-8-9-lts/47535\" rel=\"nofollow noreferrer\">community.sonarsource.com/t/&hellip;</a> Java 17 is only supported in the 9.x versions. And if you read the announcement for <a href=\"https://www.sonarqube.org/sonarqube-9-3/\" rel=\"nofollow noreferrer\">Sonarqube 9.3</a> it seems that you need version 9.3."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1664867742,"post_id":71528775,"comment_id":130562548,"body_markdown":"This most probably will also make coverage reports not be generated","body":"This most probably will also make coverage reports not be generated"}],"owner":{"account_id":23024708,"reputation":344,"user_id":17145156,"display_name":"AceneKASDI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8999,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1647614633,"creation_date":1647614633,"question_id":71528775,"body_markdown":"I have some inconsistent warnings and code smells when scanning the code written with Java 17 LTS, below some warnings :\r\n\r\n- When I migrate my classes to record, I see my imports tagged as unused within the code (**Remove this unused import &#39;java.util.List&#39;**)\r\n\r\nI&#39;m wondering if I need to upgrade the sonarqube version (currently, I&#39;m in tag: 8.9.5-developer) to version 9.3, will this save my issues ?\r\nAnyone have already faced these issues ?\r\n\r\nThanx","title":"Migrate Sonarqube to support Java 17","body":"<p>I have some inconsistent warnings and code smells when scanning the code written with Java 17 LTS, below some warnings :</p>\n<ul>\n<li>When I migrate my classes to record, I see my imports tagged as unused within the code (<strong>Remove this unused import 'java.util.List'</strong>)</li>\n</ul>\n<p>I'm wondering if I need to upgrade the sonarqube version (currently, I'm in tag: 8.9.5-developer) to version 9.3, will this save my issues ?\nAnyone have already faced these issues ?</p>\n<p>Thanx</p>\n"},{"tags":["java","null","integer"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1647614670,"post_id":71528736,"comment_id":126421982,"body_markdown":"You can&#39;t uninitialise a variable. You can set it to null, but it needs to be a reference type (such as `Integer`) instead of a primitive type (such as `int`).","body":"You can&#39;t uninitialise a variable. You can set it to null, but it needs to be a reference type (such as <code>Integer</code>) instead of a primitive type (such as <code>int</code>)."},{"owner":{"account_id":15178274,"reputation":31,"user_id":10952332,"display_name":"Brandon Nova"},"score":0,"creation_date":1647614892,"post_id":71528736,"comment_id":126422075,"body_markdown":"Thanks so much for the quick response. I&#39;m going to try initializing as an Integer type instead.","body":"Thanks so much for the quick response. I&#39;m going to try initializing as an Integer type instead."}],"owner":{"account_id":15178274,"reputation":31,"user_id":10952332,"display_name":"Brandon Nova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1647614964,"answer_count":0,"score":0,"last_activity_date":1647614531,"creation_date":1647614467,"question_id":71528736,"body_markdown":"For example I made an integer `i`:\r\n\r\n```\r\nint i = 100;\r\n```\r\n\r\nNow I want to assign a value, as if I did:\r\n\r\n```\r\nint i;\r\n```\r\n\r\nWhat do I need to write in order to make my integer null (0 is not null)? `null` does not work for some reason.","title":"Delete value for previously assigned int field","body":"<p>For example I made an integer <code>i</code>:</p>\n<pre><code>int i = 100;\n</code></pre>\n<p>Now I want to assign a value, as if I did:</p>\n<pre><code>int i;\n</code></pre>\n<p>What do I need to write in order to make my integer null (0 is not null)? <code>null</code> does not work for some reason.</p>\n"},{"tags":["java","dictionary","readability"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1408691259,"post_id":25441340,"comment_id":39693639,"body_markdown":"Is this overkill for you: `final Map.Entry&lt;Integer, String&gt; singleEntry = (new HashMap&lt;Integer, String&gt;()).entrySet().iterator().next();`?","body":"Is this overkill for you: <code>final Map.Entry&lt;Integer, String&gt; singleEntry = (new HashMap&lt;Integer, String&gt;()).entrySet().iterator().next();</code>?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1408691329,"post_id":25441340,"comment_id":39693675,"body_markdown":"The normal use-case for a Map are multiple key=value. Yours is an exception and need some code that seems to be too much.","body":"The normal use-case for a Map are multiple key=value. Yours is an exception and need some code that seems to be too much."},{"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"score":0,"creation_date":1408691352,"post_id":25441340,"comment_id":39693687,"body_markdown":"No since it&#39;s not part of map&#39;s contract: 1) map can hold the same value for multiple keys, no reason why it should make any exceptions 2) internally it would have to iterate over all values anyway, again no reason to maintain a reverse index","body":"No since it&#39;s not part of map&#39;s contract: 1) map can hold the same value for multiple keys, no reason why it should make any exceptions 2) internally it would have to iterate over all values anyway, again no reason to maintain a reverse index"},{"owner":{"account_id":378197,"reputation":2055,"user_id":730769,"accept_rate":74,"display_name":"Silver Quettier"},"score":0,"creation_date":1408691454,"post_id":25441340,"comment_id":39693751,"body_markdown":"@Smutje Not exactly overkill, but maybe not very readable. I&#39;ll go with this and add a comment if there is no &quot;magic trick&quot; that I did not know about. :)","body":"@Smutje Not exactly overkill, but maybe not very readable. I&#39;ll go with this and add a comment if there is no &quot;magic trick&quot; that I did not know about. :)"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1408691578,"post_id":25441340,"comment_id":39693808,"body_markdown":"Wrap the map with a lightweight Object that has the methods `getKey()`  and `getVal()` and implement them anyway you want (i.e. `map.keySet().toArray()[0]` etc). It&#39;ll be both readable and easy to maintain.","body":"Wrap the map with a lightweight Object that has the methods <code>getKey()</code>  and <code>getVal()</code> and implement them anyway you want (i.e. <code>map.keySet().toArray()[0]</code> etc). It&#39;ll be both readable and easy to maintain."},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1408691614,"post_id":25441340,"comment_id":39693824,"body_markdown":"On a different angle, probably it is feasible to treat a return size of 1 exactly as a return size of &gt; 1 which would make the distinction obsolete?","body":"On a different angle, probably it is feasible to treat a return size of 1 exactly as a return size of &gt; 1 which would make the distinction obsolete?"},{"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"score":1,"creation_date":1408691803,"post_id":25441340,"comment_id":39693932,"body_markdown":"If your Map has only one key (and always is this way), it isn&#39;t probably the better structure to store your data","body":"If your Map has only one key (and always is this way), it isn&#39;t probably the better structure to store your data"},{"owner":{"account_id":3618474,"reputation":1861,"user_id":3017818,"accept_rate":100,"display_name":"Daniel"},"score":1,"creation_date":1408692502,"post_id":25441340,"comment_id":39694310,"body_markdown":"Have you checked this [post](http://stackoverflow.com/questions/1509391/how-to-get-the-one-entry-from-hashmap-without-iterating) by the way??","body":"Have you checked this <a href=\"http://stackoverflow.com/questions/1509391/how-to-get-the-one-entry-from-hashmap-without-iterating\">post</a> by the way??"}],"answers":[{"tags":[],"owner":{"account_id":176645,"reputation":7093,"user_id":407466,"accept_rate":63,"display_name":"Akos K"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1408691430,"creation_date":1408691430,"answer_id":25441439,"question_id":25441340,"body_markdown":"If you need both key/value then try something like this:\r\n\r\n    Entry&lt;Long, AccessPermission&gt; onlyEntry = map.entrySet().iterator().next();\r\n    onlyEntry.getKey();\r\n    onlyEntry.getValue();","title":"Access to the key-value pair of a Map with one element in Java","body":"<p>If you need both key/value then try something like this:</p>\n\n<pre><code>Entry&lt;Long, AccessPermission&gt; onlyEntry = map.entrySet().iterator().next();\nonlyEntry.getKey();\nonlyEntry.getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4580482,"reputation":436,"user_id":3717646,"display_name":"user3717646"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408693187,"creation_date":1408691607,"answer_id":25441498,"question_id":25441340,"body_markdown":"There is a method called ` keySet()` to get set of keys. read this [thread][1].\r\n\r\n    else {\r\n        A leKey=map.keySet().iterator().next();\r\n        \r\n        B leValue; = map.get(leKey); // This actually exists. Any Daft Punk reference was non-intentional.\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10462819/get-keys-from-hashmap-in-java","title":"Access to the key-value pair of a Map with one element in Java","body":"<p>There is a method called <code>keySet()</code> to get set of keys. read this <a href=\"https://stackoverflow.com/questions/10462819/get-keys-from-hashmap-in-java\">thread</a>.</p>\n\n<pre><code>else {\n    A leKey=map.keySet().iterator().next();\n\n    B leValue; = map.get(leKey); // This actually exists. Any Daft Punk reference was non-intentional.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321619,"reputation":422,"user_id":640552,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408692402,"creation_date":1408692101,"answer_id":25441632,"question_id":25441340,"body_markdown":"You can use [TreeMap][1] or [ConcurrentSkipListMap][2].\r\n\r\n    TreeMap&lt;String, String&gt; myMap = new TreeMap&lt;String, String&gt;();\r\n    String firstKey   = myMap.firstEntry().getKey();\r\n    String firstValue = myMap.firstEntry().getValue();\r\n\r\nAnother way to use this:\r\n\r\n    String firstKey   = myMap.firstKey();\r\n    String firstValue = myMap.get(myMap.firstKey());\r\n\r\nThis can work as an alternate solution.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html","title":"Access to the key-value pair of a Map with one element in Java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow\">TreeMap</a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow\">ConcurrentSkipListMap</a>.</p>\n\n<pre><code>TreeMap&lt;String, String&gt; myMap = new TreeMap&lt;String, String&gt;();\nString firstKey   = myMap.firstEntry().getKey();\nString firstValue = myMap.firstEntry().getValue();\n</code></pre>\n\n<p>Another way to use this:</p>\n\n<pre><code>String firstKey   = myMap.firstKey();\nString firstValue = myMap.get(myMap.firstKey());\n</code></pre>\n\n<p>This can work as an alternate solution.</p>\n"},{"tags":[],"owner":{"account_id":16983748,"reputation":36,"user_id":12285013,"display_name":"Bharath Kalyan S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647614330,"creation_date":1647611075,"answer_id":71527970,"question_id":25441340,"body_markdown":"   Using for-each loop and var :\r\n\r\n    for(var entry : map.entrySet()){\r\n       A key = entry.getKey();\r\n       B value = entry.getValue();\r\n    }\r\n\r\n","title":"Access to the key-value pair of a Map with one element in Java","body":"<p>Using for-each loop and var :</p>\n<pre><code>for(var entry : map.entrySet()){\n   A key = entry.getKey();\n   B value = entry.getValue();\n}\n</code></pre>\n"}],"owner":{"account_id":378197,"reputation":2055,"user_id":730769,"accept_rate":74,"display_name":"Silver Quettier"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8824,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25441439,"answer_count":4,"score":2,"last_activity_date":1647614330,"creation_date":1408691018,"question_id":25441340,"body_markdown":"A method of mine returns a `Map&lt;A,B&gt;`. In some clearly identified cases, the map only contains one key-value pair, effectively only being a wrapper for the two objects.\r\n\r\nIs there an efficient / elegant / clear way to access both the key and the value? It seems overkill to iterate over the one-element entry set. I&#39;m looking for somehing that would lower the brain power required for people who will maintain this, along the lines of:\r\n\r\n    (...)\r\n    // Only one result.\r\n    else {\r\n        A leKey = map.getKey(whicheverYouWantThereIsOnlyOne); // Is there something like this?\r\n        B leValue = map.get(leKey); // This actually exists. Any Daft Punk reference was non-intentional.\r\n    }\r\n\r\n----------\r\n\r\n**Edit:** I ended up going with @akoskm solution&#39;s below. In the end, the only satisfying way of doing this without iteration was with a `TreeMap`, and the overhead made that unreasonable. \r\n\r\nIt turns out there is not always a silver bullet, especially as this would be a very small rabbit to kill with it.","title":"Access to the key-value pair of a Map with one element in Java","body":"<p>A method of mine returns a <code>Map&lt;A,B&gt;</code>. In some clearly identified cases, the map only contains one key-value pair, effectively only being a wrapper for the two objects.</p>\n\n<p>Is there an efficient / elegant / clear way to access both the key and the value? It seems overkill to iterate over the one-element entry set. I'm looking for somehing that would lower the brain power required for people who will maintain this, along the lines of:</p>\n\n<pre><code>(...)\n// Only one result.\nelse {\n    A leKey = map.getKey(whicheverYouWantThereIsOnlyOne); // Is there something like this?\n    B leValue = map.get(leKey); // This actually exists. Any Daft Punk reference was non-intentional.\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong> I ended up going with @akoskm solution's below. In the end, the only satisfying way of doing this without iteration was with a <code>TreeMap</code>, and the overhead made that unreasonable. </p>\n\n<p>It turns out there is not always a silver bullet, especially as this would be a very small rabbit to kill with it.</p>\n"},{"tags":["java","keycloak","openid-connect"],"comments":[{"owner":{"account_id":11973659,"reputation":1295,"user_id":8761466,"display_name":"bsaverino"},"score":0,"creation_date":1590787702,"post_id":62094007,"comment_id":109824135,"body_markdown":"Normally this work is done for you by the Keycloak adapter, cf. https://www.keycloak.org/docs/latest/securing_apps/#java-adapters. You have everything at your disposal (and authentication is automatically handled generally - that&#39;s one goal) when your adapter is integrated to your application and correctly configured.","body":"Normally this work is done for you by the Keycloak adapter, cf. <a href=\"https://www.keycloak.org/docs/latest/securing_apps/#java-adapters\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/securing_apps/#java-adapters</a>. You have everything at your disposal (and authentication is automatically handled generally - that&#39;s one goal) when your adapter is integrated to your application and correctly configured."},{"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"score":0,"creation_date":1590789186,"post_id":62094007,"comment_id":109824519,"body_markdown":"Thanks - is there some kind of documentation e.g. a sample project with dependencies that shows how to use the Java adapters. Right now I&#39;m just pulling in various Jars and not really sure if I am doing the right thing e.g. implementation &#39;org.keycloak:keycloak-core:10.0.1&#39;\n  implementation &#39;org.keycloak:keycloak-admin-client:10.0.1&#39;","body":"Thanks - is there some kind of documentation e.g. a sample project with dependencies that shows how to use the Java adapters. Right now I&#39;m just pulling in various Jars and not really sure if I am doing the right thing e.g. implementation &#39;org.keycloak:keycloak-core:10.0.1&#39;   implementation &#39;org.keycloak:keycloak-admin-client:10.0.1&#39;"},{"owner":{"account_id":11973659,"reputation":1295,"user_id":8761466,"display_name":"bsaverino"},"score":0,"creation_date":1590791871,"post_id":62094007,"comment_id":109825233,"body_markdown":"It depends on which adapter you choose. What kind of application are you securing? Or have you found the more suitable adapter already? Generally you will need https://mvnrepository.com/artifact/org.keycloak/keycloak-adapter-core. Then you add more dependencies according to your needs (i.e. admin-client -&gt; if you are using Keycloak Admin CLI, keycloak-authz-client if you are using Keycloak Authorization Services). There is extended documentation on these components.","body":"It depends on which adapter you choose. What kind of application are you securing? Or have you found the more suitable adapter already? Generally you will need <a href=\"https://mvnrepository.com/artifact/org.keycloak/keycloak-adapter-core\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.keycloak/keycloak-adapter-cor&zwnj;&#8203;e</a>. Then you add more dependencies according to your needs (i.e. admin-client -&gt; if you are using Keycloak Admin CLI, keycloak-authz-client if you are using Keycloak Authorization Services). There is extended documentation on these components."},{"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"score":0,"creation_date":1591015109,"post_id":62094007,"comment_id":109887833,"body_markdown":"Thanks very much for the pointer to keycloak-adapter-core - I did some googling but could not find the documentation for that library (although I&#39;ve found docs for the other components).","body":"Thanks very much for the pointer to keycloak-adapter-core - I did some googling but could not find the documentation for that library (although I&#39;ve found docs for the other components)."},{"owner":{"account_id":11973659,"reputation":1295,"user_id":8761466,"display_name":"bsaverino"},"score":0,"creation_date":1591815757,"post_id":62094007,"comment_id":110203548,"body_markdown":"I&#39;m not sure about what more do you need. Everything is in the official Keycloak documentation. Starting from the adapters doc you will know which one to choose and how to install/integrate it into your apps. Then you just need to configure the adapter often based on a JSON document. All parameters and properties of the configuration are described throughout the official Keycloak docs. Usually you will find there everything you need. https://www.keycloak.org/docs/latest/. Enjoy","body":"I&#39;m not sure about what more do you need. Everything is in the official Keycloak documentation. Starting from the adapters doc you will know which one to choose and how to install/integrate it into your apps. Then you just need to configure the adapter often based on a JSON document. All parameters and properties of the configuration are described throughout the official Keycloak docs. Usually you will find there everything you need. <a href=\"https://www.keycloak.org/docs/latest/\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest</a>. Enjoy"},{"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"score":0,"creation_date":1591816212,"post_id":62094007,"comment_id":110203795,"body_markdown":"No worries - thanks I was able to figure it out","body":"No worries - thanks I was able to figure it out"},{"owner":{"account_id":11973659,"reputation":1295,"user_id":8761466,"display_name":"bsaverino"},"score":0,"creation_date":1591821458,"post_id":62094007,"comment_id":110206229,"body_markdown":"Great :) Now the fun can start ^^","body":"Great :) Now the fun can start ^^"}],"answers":[{"tags":[],"owner":{"account_id":114504,"reputation":748,"user_id":301049,"display_name":"Rots"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647614234,"creation_date":1647610570,"answer_id":71527860,"question_id":62094007,"body_markdown":"With Keycloak 16.1.1 jar libraries, this is what worked for me (although it does pull the public keys off the server behind the scenes):\r\n\r\n    import org.keycloak.adapters.KeycloakDeployment;\r\n    import org.keycloak.adapters.KeycloakDeploymentBuilder;\r\n    import org.keycloak.adapters.rotation.AdapterTokenVerifier;\r\n    ...\r\n\r\n    KeycloakDeployment depl = KeycloakDeploymentBuilder.build(...);\r\n    String tokenToVerify = ...;\r\n\r\n    try{\r\n        var tok = AdapterTokenVerifier.verifyToken(tokenToVerify, depl);\r\n        // passed\r\n        tok.getPreferredUsername(); // user name\r\n        tok.getSubject();           // keycloak user id\r\n    }\r\n    catch( VerificationException e){\r\n        // failed\r\n    }","title":"How to validate JWT token in Keycloak using Java SDK?","body":"<p>With Keycloak 16.1.1 jar libraries, this is what worked for me (although it does pull the public keys off the server behind the scenes):</p>\n<pre><code>import org.keycloak.adapters.KeycloakDeployment;\nimport org.keycloak.adapters.KeycloakDeploymentBuilder;\nimport org.keycloak.adapters.rotation.AdapterTokenVerifier;\n...\n\nKeycloakDeployment depl = KeycloakDeploymentBuilder.build(...);\nString tokenToVerify = ...;\n\ntry{\n    var tok = AdapterTokenVerifier.verifyToken(tokenToVerify, depl);\n    // passed\n    tok.getPreferredUsername(); // user name\n    tok.getSubject();           // keycloak user id\n}\ncatch( VerificationException e){\n    // failed\n}\n</code></pre>\n"}],"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647614234,"creation_date":1590783475,"question_id":62094007,"body_markdown":"I’m pretty savvy with OAuth 2/OIDC but new to Keycloak. I have a need to authenticate a user given a JWT token. \r\n\r\nNormally I’d hit the ```userInfo``` endpoint but in the Java SDK I don’t see a way to do that?\r\nIs there such a method call and/or a local library call that will just let me validate the JWT token string (so I don’t have to pull the public keys remotely to verify the signature?)\r\n\r\n\r\n","title":"How to validate JWT token in Keycloak using Java SDK?","body":"<p>I’m pretty savvy with OAuth 2/OIDC but new to Keycloak. I have a need to authenticate a user given a JWT token. </p>\n\n<p>Normally I’d hit the <code>userInfo</code> endpoint but in the Java SDK I don’t see a way to do that?\nIs there such a method call and/or a local library call that will just let me validate the JWT token string (so I don’t have to pull the public keys remotely to verify the signature?)</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1647614070,"post_id":71528610,"comment_id":126421720,"body_markdown":"You read `getAnswerFromUser` before your loop, and you do not update it inside your loop.","body":"You read <code>getAnswerFromUser</code> before your loop, and you do not update it inside your loop."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1647614070,"post_id":71528610,"comment_id":126421721,"body_markdown":"If the answer is incorrect, you just need to let the user enter a new answer and assign it to `getAnswerFromUser` inside the loop","body":"If the answer is incorrect, you just need to let the user enter a new answer and assign it to <code>getAnswerFromUser</code> inside the loop"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1647614408,"post_id":71528610,"comment_id":126421855,"body_markdown":"Besides writing programs, you should also learn how to use your IDE&#39;s debugging features, e.g. single-stepping your program. Then you&#39;ll see that, after the initial input it never again gets to a statement where it tries to read a fresh input, but keeps looping.","body":"Besides writing programs, you should also learn how to use your IDE&#39;s debugging features, e.g. single-stepping your program. Then you&#39;ll see that, after the initial input it never again gets to a statement where it tries to read a fresh input, but keeps looping."}],"answers":[{"tags":[],"owner":{"account_id":3211463,"reputation":638,"user_id":2711384,"display_name":"Zag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647614114,"creation_date":1647614114,"answer_id":71528658,"question_id":71528610,"body_markdown":"You are not actually getting a new answer from the user inside your loop.  You are only getting it once, in the line where you define the variable getAnswerFromUser.  You need to actually get a new answer.  I suggest putting it into a separate method to keep that step clean from the step where you use that answer.","title":"Nested if statement with While loop stuck","body":"<p>You are not actually getting a new answer from the user inside your loop.  You are only getting it once, in the line where you define the variable getAnswerFromUser.  You need to actually get a new answer.  I suggest putting it into a separate method to keep that step clean from the step where you use that answer.</p>\n"}],"owner":{"account_id":23631644,"reputation":3,"user_id":17663284,"display_name":"Xecutieve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71528658,"answer_count":1,"score":-2,"last_activity_date":1647614114,"creation_date":1647613904,"question_id":71528610,"body_markdown":"The code is for multiple choice question. If the answer is incorrect, the user should try until they find the right answer. When the answer is correct, there is no problem, but if it is wrong then it gets stuck, and it is keep saying &quot;Your answer is incorrect!&quot;. What should I do?\r\n```\r\nimport java.util.*;\r\n\r\npublic class Question {\r\n\r\n    public static void main(String[] args) {\r\n  \r\n        System.out.println();\r\n        System.out.println(&quot;Question 1&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;What is 2+2?&quot;);\r\n        System.out.println(&quot;A. 2&quot;);\r\n        System.out.println(&quot;B. 4&quot;);\r\n        System.out.println(&quot;C. 6&quot;);\r\n        System.out.println(&quot;D. 8&quot;);\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        char getAnswerFromUser = input.next().charAt(0);\r\n        char answer = &#39;B&#39;;\r\n\r\n        boolean isAnswerTrue = false;\r\n\r\n     \r\n        while(!isAnswerTrue) {\r\n            if(getAnswerFromUser == answer ) {\r\n                System.out.println(&quot;Your answer is correct!&quot;);\r\n                    isAnswerTrue = true;\r\n            } else{\r\n                System.out.println(&quot;Your answer is incorrect!&quot;);\r\n                isAnswerTrue = false;\r\n            }       \r\n        }\r\n    }   \r\n}\r\n```","title":"Nested if statement with While loop stuck","body":"<p>The code is for multiple choice question. If the answer is incorrect, the user should try until they find the right answer. When the answer is correct, there is no problem, but if it is wrong then it gets stuck, and it is keep saying &quot;Your answer is incorrect!&quot;. What should I do?</p>\n<pre><code>import java.util.*;\n\npublic class Question {\n\n    public static void main(String[] args) {\n  \n        System.out.println();\n        System.out.println(&quot;Question 1&quot;);\n        System.out.println();\n        System.out.println(&quot;What is 2+2?&quot;);\n        System.out.println(&quot;A. 2&quot;);\n        System.out.println(&quot;B. 4&quot;);\n        System.out.println(&quot;C. 6&quot;);\n        System.out.println(&quot;D. 8&quot;);\n\n        Scanner input = new Scanner(System.in);\n        char getAnswerFromUser = input.next().charAt(0);\n        char answer = 'B';\n\n        boolean isAnswerTrue = false;\n\n     \n        while(!isAnswerTrue) {\n            if(getAnswerFromUser == answer ) {\n                System.out.println(&quot;Your answer is correct!&quot;);\n                    isAnswerTrue = true;\n            } else{\n                System.out.println(&quot;Your answer is incorrect!&quot;);\n                isAnswerTrue = false;\n            }       \n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1523426504,"post_id":49767526,"comment_id":86550345,"body_markdown":"share your code please ? and tag language also..","body":"share your code please ? and tag language also.."},{"owner":{"account_id":13339897,"reputation":23,"user_id":9628446,"display_name":"Selenium Query"},"score":0,"creation_date":1523428624,"post_id":49767526,"comment_id":86551352,"body_markdown":"public String getCurrentDay (){\n        //Create a Calendar Object\n\t\tselenium.setSpeed(&quot;2000&quot;);\n        Calendar calendar = Calendar.getInstance(TimeZone.getDefault());\n \n        //Get Current Day as a number\n       int todayInt = calendar.get(Calendar.DAY_OF_MONTH);\n        System.out.println(&quot;Today Int: &quot; + todayInt +&quot;\\n&quot;);\n \n        //Integer to String Conversion\n        String todayStr = Integer.toString(todayInt);\n        System.out.println(&quot;Today Str: &quot; + todayStr + &quot;\\n&quot;);\n \n        return todayStr;\n    }","body":"public String getCurrentDay (){         //Create a Calendar Object \t\tselenium.setSpeed(&quot;2000&quot;);         Calendar calendar = Calendar.getInstance(TimeZone.getDefault());           //Get Current Day as a number        int todayInt = calendar.get(Calendar.DAY_OF_MONTH);         System.out.println(&quot;Today Int: &quot; + todayInt +&quot;\\n&quot;);           //Integer to String Conversion         String todayStr = Integer.toString(todayInt);         System.out.println(&quot;Today Str: &quot; + todayStr + &quot;\\n&quot;);           return todayStr;     }"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523427360,"creation_date":1523427360,"answer_id":49767765,"question_id":49767526,"body_markdown":"The ancient versions of _Selenium_ of-coarse had a method as **`setSpeed()`** but this method had been deprecated long back. `setSpeed()` was used to control the speed of each step of your _Automation Script_. As the purpose of _Automated Testing_ is to reduce the _Validation Time_ so setting the speed of each line of your script execution through `setSpeed()` was contradictory. Hence `setSpeed()` was deprecated.\r\n\r\nIncase you want to wait for a certain condition you can use either [**Implicit Wait**](https://docs.seleniumhq.org/docs/04_webdriver_advanced.jsp#implicit-waits) or [**Explicit Wait**](https://docs.seleniumhq.org/docs/04_webdriver_advanced.jsp#explicit-waits) i.e. [**WebDriverWait**](http://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html) Class in-conjunction with [**ExpectedConditions**](http://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html).","title":"Error &quot;Multiple markers at this line - Syntax error on token &quot; returned when using selenium.setSpeed()","body":"<p>The ancient versions of <em>Selenium</em> of-coarse had a method as <strong><code>setSpeed()</code></strong> but this method had been deprecated long back. <code>setSpeed()</code> was used to control the speed of each step of your <em>Automation Script</em>. As the purpose of <em>Automated Testing</em> is to reduce the <em>Validation Time</em> so setting the speed of each line of your script execution through <code>setSpeed()</code> was contradictory. Hence <code>setSpeed()</code> was deprecated.</p>\n\n<p>Incase you want to wait for a certain condition you can use either <a href=\"https://docs.seleniumhq.org/docs/04_webdriver_advanced.jsp#implicit-waits\" rel=\"nofollow noreferrer\"><strong>Implicit Wait</strong></a> or <a href=\"https://docs.seleniumhq.org/docs/04_webdriver_advanced.jsp#explicit-waits\" rel=\"nofollow noreferrer\"><strong>Explicit Wait</strong></a> i.e. <a href=\"http://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\"><strong>WebDriverWait</strong></a> Class in-conjunction with <a href=\"http://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\"><strong>ExpectedConditions</strong></a>.</p>\n"},{"tags":[],"owner":{"account_id":24601864,"reputation":1,"user_id":18504637,"display_name":"Khushadi Sima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647614098,"creation_date":1647614098,"answer_id":71528657,"question_id":49767526,"body_markdown":"Scanner input will not work if you try to use it at the beginning of a class. It will show syntax errors like this. \r\n(Multiple markers at this line\r\n\t- Syntax error, insert &quot;)&quot; to complete MethodDeclaration)\r\nThe solution is: You have to use Scanner input within the main method().","title":"Error &quot;Multiple markers at this line - Syntax error on token &quot; returned when using selenium.setSpeed()","body":"<p>Scanner input will not work if you try to use it at the beginning of a class. It will show syntax errors like this.\n(Multiple markers at this line\n- Syntax error, insert &quot;)&quot; to complete MethodDeclaration)\nThe solution is: You have to use Scanner input within the main method().</p>\n"}],"owner":{"account_id":13339897,"reputation":23,"user_id":9628446,"display_name":"Selenium Query"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49767765,"answer_count":2,"score":1,"last_activity_date":1647614098,"creation_date":1523426258,"question_id":49767526,"body_markdown":"When I included `selenium.setSpeed(&quot;2000&quot;);` inside my void main i got the syntax error &quot;selenium cannot be resolved&quot;\r\n\r\nWhen I placed it outside my void main and inside my class I got the error :\r\n\r\n    &quot;Multiple markers at this line - Syntax error on token &quot;,&quot;, &lt; expected - Syntax error, insert &quot;SimpleName&quot; to complete QualifiedName - Syntax error on token &quot;.&quot;, @ expected after this token - Syntax error, insert &quot;)&quot; to complete MethodDeclaration - Syntax error, insert &quot;Identifier (&quot; to complete MethodHeaderName&quot;\r\n\r\nPlease do help me resolve this issue.","title":"Error &quot;Multiple markers at this line - Syntax error on token &quot; returned when using selenium.setSpeed()","body":"<p>When I included <code>selenium.setSpeed(\"2000\");</code> inside my void main i got the syntax error \"selenium cannot be resolved\"</p>\n\n<p>When I placed it outside my void main and inside my class I got the error :</p>\n\n<pre><code>\"Multiple markers at this line - Syntax error on token \",\", &lt; expected - Syntax error, insert \"SimpleName\" to complete QualifiedName - Syntax error on token \".\", @ expected after this token - Syntax error, insert \")\" to complete MethodDeclaration - Syntax error, insert \"Identifier (\" to complete MethodHeaderName\"\n</code></pre>\n\n<p>Please do help me resolve this issue.</p>\n"},{"tags":["java","angular","typescript","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":21558904,"reputation":107,"user_id":15893723,"display_name":"Jay Morelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647601399,"creation_date":1647601399,"answer_id":71526095,"question_id":71526074,"body_markdown":"You need to use the @RequestParam annotation.\r\n\r\nhttps://www.baeldung.com/spring-request-param","title":"How to return of the params to the backend (springBoot)?","body":"<p>You need to use the @RequestParam annotation.</p>\n<p><a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a></p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647614058,"creation_date":1647601962,"answer_id":71526194,"question_id":71526074,"body_markdown":"You could wrap your two parameter in a dto\r\n\r\n```java\r\n@PostMapping(value = &quot;/api/v1/upload-file&quot;)\r\npublic String uploadFile(@RequestBody EncodedFile file)\r\n{\r\n\r\n}\r\n\r\nrecord EncodedFile(String fileName, String fileAsBase64) {}\r\n```\r\n\r\nAnd you better version your api.","title":"How to return of the params to the backend (springBoot)?","body":"<p>You could wrap your two parameter in a dto</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/api/v1/upload-file&quot;)\npublic String uploadFile(@RequestBody EncodedFile file)\n{\n\n}\n\nrecord EncodedFile(String fileName, String fileAsBase64) {}\n</code></pre>\n<p>And you better version your api.</p>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647606339,"creation_date":1647606339,"answer_id":71527003,"question_id":71526074,"body_markdown":"you function have to be as the following:\r\n\r\n    @PostMapping(value =&quot;/api/uploadFile&quot;)\r\n    public String uploadFile(@RequestParam String fileName, @RequestParam String fileAsBase64) {   \r\n    }\r\n\r\nOR you can put any name but you have to put the matched name within the annotation:\r\n\r\n    @PostMapping(value =&quot;/api/uploadFile&quot;)\r\n    public String uploadFile(@RequestParam(name = &quot;fileName&quot;) String name, @RequestParam(name = &quot;fileAsBase64&quot;) String file) {   \r\n    }\r\n\r\n\r\n","title":"How to return of the params to the backend (springBoot)?","body":"<p>you function have to be as the following:</p>\n<pre><code>@PostMapping(value =&quot;/api/uploadFile&quot;)\npublic String uploadFile(@RequestParam String fileName, @RequestParam String fileAsBase64) {   \n}\n</code></pre>\n<p>OR you can put any name but you have to put the matched name within the annotation:</p>\n<pre><code>@PostMapping(value =&quot;/api/uploadFile&quot;)\npublic String uploadFile(@RequestParam(name = &quot;fileName&quot;) String name, @RequestParam(name = &quot;fileAsBase64&quot;) String file) {   \n}\n</code></pre>\n"}],"owner":{"account_id":24565949,"reputation":23,"user_id":18473103,"display_name":"dareen_04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1647614058,"creation_date":1647601324,"question_id":71526074,"body_markdown":"I am sending 2 params from the front end in the service below : \r\n\r\n    uploadFile(fileName: string, fileAsBase64:string): Observable&lt;any&gt; {\r\n        let params = new HttpParams();\r\n        params = params.append(&#39;fileName&#39;, fileName);\r\n        params=params.append(&#39;fileAsBase64 &#39;,fileAsBase64 )\r\n    \r\n        return  this.http.post(&#39;/api/uploadFile&#39;, params, { responseType: &#39;text&#39; });\r\n      }\r\n\r\nBut I receive  only one paramaters: \r\n`fileName=test`\r\n`fileAsBase64=null ` \r\n\r\n    @PostMapping(value =&quot;/api/uploadFile&quot;)\r\n    public String uploadFile(@RequestBody String name , String fileAsBase64) {\r\n       \r\n    }","title":"How to return of the params to the backend (springBoot)?","body":"<p>I am sending 2 params from the front end in the service below :</p>\n<pre><code>uploadFile(fileName: string, fileAsBase64:string): Observable&lt;any&gt; {\n    let params = new HttpParams();\n    params = params.append('fileName', fileName);\n    params=params.append('fileAsBase64 ',fileAsBase64 )\n\n    return  this.http.post('/api/uploadFile', params, { responseType: 'text' });\n  }\n</code></pre>\n<p>But I receive  only one paramaters:\n<code>fileName=test</code>\n<code>fileAsBase64=null </code></p>\n<pre><code>@PostMapping(value =&quot;/api/uploadFile&quot;)\npublic String uploadFile(@RequestBody String name , String fileAsBase64) {\n   \n}\n</code></pre>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646657536,"post_id":71381308,"comment_id":126170186,"body_markdown":"In the method `getTimesTable()` you need to start iteration from index `0` not `1`. And don&#39;t subtract one here `timesTable[i-1]`. Change it to `timesTable[i]  = number * (i + 1);`","body":"In the method <code>getTimesTable()</code> you need to start iteration from index <code>0</code> not <code>1</code>. And don&#39;t subtract one here <code>timesTable[i-1]</code>. Change it to <code>timesTable[i]  = number * (i + 1);</code>"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1646657684,"post_id":71381308,"comment_id":126170251,"body_markdown":"You currently iterate from `1` to `size - 1`. That&#39;s one iteration missing. You need to iterate up to `size`. So `i &lt;= size` instead of `i &lt; size`.","body":"You currently iterate from <code>1</code> to <code>size - 1</code>. That&#39;s one iteration missing. You need to iterate up to <code>size</code>. So <code>i &lt;= size</code> instead of <code>i &lt; size</code>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646658624,"post_id":71381308,"comment_id":126170640,"body_markdown":"@AlexanderIvanchenko there is nothing wrong with iterating over an array starting with one.","body":"@AlexanderIvanchenko there is nothing wrong with iterating over an array starting with one."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646658738,"post_id":71381308,"comment_id":126170681,"body_markdown":"@maloomeister forget the OP being a student, there is nothing wrong to iterate over an array starting with 1.","body":"@maloomeister forget the OP being a student, there is nothing wrong to iterate over an array starting with 1."},{"owner":{"account_id":1019341,"reputation":5528,"user_id":1030169,"display_name":"jmoerdyk"},"score":0,"creation_date":1647449889,"post_id":71381308,"comment_id":126376233,"body_markdown":"Please don&#39;t vandalize your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/) license, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed, and thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](https://stackoverflow.com/help/what-to-do-instead-of-deleting-question).","body":"Please don&#39;t vandalize your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0</a> license, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed, and thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"https://stackoverflow.com/help/what-to-do-instead-of-deleting-question\">How does deleting work?</a>."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646657967,"creation_date":1646657967,"answer_id":71381444,"question_id":71381308,"body_markdown":"In the population loop, you are iterating from 1 rather than 0 but you do not offset the terminal condition.  I would rewrite you loop to follow the standard pattern rather than trying to bake in the offset.  So...\r\n\r\n    for (int index = 0 ; index &lt; size ; ++index) { ... }\r\n\r\nThis will allow the index to line up naturally in the assignment.  Apply the offset in the calcuation.\r\n\r\n    timesTable[index] = number * (index + 1);\r\n\r\nSo you get...\r\n\r\n    private static int[] getTimesTable(int size, int number) {\r\n      int[] timesTable = new int[size];\r\n      for (int i = 0; i &lt; size; i++) {\r\n        timesTable[i]  = number * (i+1);\r\n      }\r\n      return timesTable;\r\n    } \r\n","title":"Multiplication array using methods","body":"<p>In the population loop, you are iterating from 1 rather than 0 but you do not offset the terminal condition.  I would rewrite you loop to follow the standard pattern rather than trying to bake in the offset.  So...</p>\n<pre><code>for (int index = 0 ; index &lt; size ; ++index) { ... }\n</code></pre>\n<p>This will allow the index to line up naturally in the assignment.  Apply the offset in the calcuation.</p>\n<pre><code>timesTable[index] = number * (index + 1);\n</code></pre>\n<p>So you get...</p>\n<pre><code>private static int[] getTimesTable(int size, int number) {\n  int[] timesTable = new int[size];\n  for (int i = 0; i &lt; size; i++) {\n    timesTable[i]  = number * (i+1);\n  }\n  return timesTable;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646658105,"creation_date":1646658105,"answer_id":71381481,"question_id":71381308,"body_markdown":"You have a classic &quot;off by one&quot; error.\r\n\r\nIf you start at 1, then you INCLUDE the size, and have to subtract one to get the Index:\r\n\r\n     for (int i = 1; i &lt;= size; i++)\r\n     {\r\n         timesTable[i - 1]  = number * i;\r\n     }\r\n\r\nIf you start at 0, then you EXCLUDE the size, and have to add one when you multiply:\r\n\r\n     for (int i = 0; i &lt; size; i++)\r\n     {\r\n         timesTable[i]  = number * (i + 1);\r\n     }\r\n\r\nYou&#39;re going to have people swear up and down that one is correct and the other is wrong. This is down to preference. Do what &quot;makes sense&quot; to you.","title":"Multiplication array using methods","body":"<p>You have a classic &quot;off by one&quot; error.</p>\n<p>If you start at 1, then you INCLUDE the size, and have to subtract one to get the Index:</p>\n<pre><code> for (int i = 1; i &lt;= size; i++)\n {\n     timesTable[i - 1]  = number * i;\n }\n</code></pre>\n<p>If you start at 0, then you EXCLUDE the size, and have to add one when you multiply:</p>\n<pre><code> for (int i = 0; i &lt; size; i++)\n {\n     timesTable[i]  = number * (i + 1);\n }\n</code></pre>\n<p>You're going to have people swear up and down that one is correct and the other is wrong. This is down to preference. Do what &quot;makes sense&quot; to you.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646658803,"creation_date":1646658396,"answer_id":71381549,"question_id":71381308,"body_markdown":"You are having an *off-by-one* error. Since you want to have an array of 12 answers, starting with 1, your loop range has to be from 1 to 12 ***inclusive***. Therefore:\r\n\r\n```\r\n private static int [] getTimesTable(int size, int number)\r\n {\r\n     int[] timesTable = new int[size];\r\n     \r\n     for (int i = 1; i &lt;= (size); i++)\r\n     {\r\n         timesTable[i-1]  = number * i;\r\n     }\r\n     return timesTable;\r\n } \r\n```\r\nThe reason why your last index was zero, is because numeric array indexes are initialized to zero after instantiation (`new int[size]`).","title":"Multiplication array using methods","body":"<p>You are having an <em>off-by-one</em> error. Since you want to have an array of 12 answers, starting with 1, your loop range has to be from 1 to 12 <em><strong>inclusive</strong></em>. Therefore:</p>\n<pre><code> private static int [] getTimesTable(int size, int number)\n {\n     int[] timesTable = new int[size];\n     \n     for (int i = 1; i &lt;= (size); i++)\n     {\n         timesTable[i-1]  = number * i;\n     }\n     return timesTable;\n } \n</code></pre>\n<p>The reason why your last index was zero, is because numeric array indexes are initialized to zero after instantiation (<code>new int[size]</code>).</p>\n"}],"owner":{"display_name":"user18397761"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1647613758,"creation_date":1646657304,"question_id":71381308,"body_markdown":"I&#39;m new to coding and have been set a challenge of creating an method that prints out a multiplication array. \r\n\r\nMy code is as follows...\r\n\r\n        public class TimesTableArray\r\n    \r\n    {\r\n     public static void main(String[] args)\r\n     {\r\n     int size = 12;\r\n     int number = 3;\r\n     }\r\n     \r\n     \r\n     private static int [] getTimesTable(int size, int number)\r\n     {\r\n    \t int[] timesTable = new int[size];\r\n    \t \r\n    \t for (int i = 0; i &lt; size; i++)\r\n    \t {\r\n    \t\t timesTable[i]  = number * (i +1);\r\n    \t }\r\n    \t return timesTable;\r\n     }   \r\n    }\r\n\r\n\r\nI get the following output...\r\n\r\n    3\r\n    6\r\n    9\r\n    12\r\n    15\r\n    18\r\n    21\r\n    24\r\n    27\r\n    30\r\n    33\r\n    0\r\n\r\nI need the 12th item to read 36, not 0. I know it&#39;s to do with the index reads from 0 to 11, but I don&#39;t know how to amend my code to make this so.  \r\n\r\nPlease could someone guide me on how to do this?\r\n","title":"Multiplication array using methods","body":"<p>I'm new to coding and have been set a challenge of creating an method that prints out a multiplication array.</p>\n<p>My code is as follows...</p>\n<pre><code>    public class TimesTableArray\n\n{\n public static void main(String[] args)\n {\n int size = 12;\n int number = 3;\n }\n \n \n private static int [] getTimesTable(int size, int number)\n {\n     int[] timesTable = new int[size];\n     \n     for (int i = 0; i &lt; size; i++)\n     {\n         timesTable[i]  = number * (i +1);\n     }\n     return timesTable;\n }   \n}\n</code></pre>\n<p>I get the following output...</p>\n<pre><code>3\n6\n9\n12\n15\n18\n21\n24\n27\n30\n33\n0\n</code></pre>\n<p>I need the 12th item to read 36, not 0. I know it's to do with the index reads from 0 to 11, but I don't know how to amend my code to make this so.</p>\n<p>Please could someone guide me on how to do this?</p>\n"},{"tags":["java","android-recyclerview","scroll","android-gridlayout"],"answers":[{"tags":[],"owner":{"account_id":19742156,"reputation":31,"user_id":14455374,"display_name":"T_TR_ZCS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647613706,"creation_date":1647613706,"answer_id":71528567,"question_id":71524511,"body_markdown":"Looking for similar problems I finally found the solution to my problem:\r\n[The result of my problem was][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38182223/recyclerview-wrong-position-set-onbindviewholder","title":"RecyclerView with GridLayoutManager change disposition of sorted item after scroll","body":"<p>Looking for similar problems I finally found the solution to my problem:\n<a href=\"https://stackoverflow.com/questions/38182223/recyclerview-wrong-position-set-onbindviewholder\">The result of my problem was</a></p>\n"}],"owner":{"account_id":19742156,"reputation":31,"user_id":14455374,"display_name":"T_TR_ZCS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647613706,"creation_date":1647593701,"question_id":71524511,"body_markdown":"I have a problem with recyclerview with inside items with string time text (08.03 , 08.09, ..., 10.51...). Initially the list of times is sort but when the user scroll the gridLayout the item lost the sorted ordination.\r\n\r\nTimeAdapter:\r\n```\r\npublic class TimeAdapter extends RecyclerView.Adapter&lt;TimeAdapter.ViewHolder&gt; {\r\n    private List&lt;Appointments&gt; appointments;\r\n    private Context context;\r\n    public TextView textTime;\r\n    Fragment fragment;\r\n    UserViewModel viewModel;\r\n\r\n\r\n    public TimeAdapter(Context context, List&lt;Appointments&gt; appointments, Fragment myfrag, UserViewModel viewModel) {\r\n        this.appointments = appointments;\r\n        this.context = context;\r\n        this.fragment = myfrag;\r\n        this.viewModel = viewModel;\r\n    }\r\n    \r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        \r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            textTime = (TextView) itemView.findViewById(R.id.text_time);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public TimeAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        Context context = parent.getContext();\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n\r\n        //appointments = sortAppointments(appointments);\r\n        View appView = inflater.inflate(R.layout.time_button_item_layout, parent, false);\r\n\r\n        ViewHolder viewHolder = new ViewHolder(appView);\r\n        return viewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(TimeAdapter.ViewHolder viewHolder, int position) {\r\n       \r\n        Appointments app = appointments.get(position);\r\n        TextView textView = this.textTime;\r\n        textView.setText(app.time);\r\n\r\n        for(Appointment singleAppointment:app.appointmentList){\r\n            \r\n                \r\n            textView.setOnClickListener(new View.OnClickListener() {\r\n\r\n                 @Override\r\n                 public void onClick(View v) {\r\n                   \r\n                    showConfirmationDialog(app.time);\r\n\r\n                 }\r\n            });\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return appointments.size();\r\n    }\r\n```\r\n\r\nI have try to use a method for sorting (sortAppointments) but after scroll nothing change.\r\n\r\n```\r\n\r\n    public List&lt;Appointments&gt; sortAppointments(List&lt;Appointments&gt; dayAppointments) {\r\n\r\n        Collections.sort(dayAppointments, new Comparator&lt;Appointments&gt;() {\r\n            @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n            @Override\r\n            public int compare(Appointments first, Appointments second) {\r\n                try {\r\n                    Date time_first = new SimpleDateFormat(&quot;hh.mm&quot;).parse(first.time);\r\n                     Date time_second = new SimpleDateFormat(&quot;hh.mm&quot;).parse(second.time);\r\n                     if(time_first != null &amp;&amp; time_second != null) {\r\n                         return time_first.compareTo(time_second);\r\n                     }else{\r\n                         return 0;\r\n                     }\r\n                } catch (ParseException e) {\r\n                    return 0;\r\n                }\r\n            }\r\n        });\r\n\r\n        return dayAppointments;\r\n    }\r\n}\r\n\r\n```\r\nMy Layout \r\n```\r\n &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/recyclerView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                app:layoutManager=&quot;GridLayoutManager&quot;\r\n                app:spanCount=&quot;4&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/calendarView&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n```\r\nand item\r\n\r\n```\r\n&lt;TextView\r\n        android:id=&quot;@+id/text_time&quot;\r\n        android:background=&quot;@drawable/time_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        android:paddingLeft=&quot;16dp&quot;\r\n        android:paddingRight=&quot;16dp&quot;\r\n        android:paddingTop=&quot;10dp&quot;\r\n        android:paddingBottom=&quot;10dp&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:fontFamily=&quot;sans-serif-condensed&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        /&gt;\r\n```\r\n\r\nFor understand better the problem attach a little video:\r\n\r\n [Video problem](https://youtu.be/c8lThqQSU2A) \r\n \r\nThanks for help\r\n","title":"RecyclerView with GridLayoutManager change disposition of sorted item after scroll","body":"<p>I have a problem with recyclerview with inside items with string time text (08.03 , 08.09, ..., 10.51...). Initially the list of times is sort but when the user scroll the gridLayout the item lost the sorted ordination.</p>\n<p>TimeAdapter:</p>\n<pre><code>public class TimeAdapter extends RecyclerView.Adapter&lt;TimeAdapter.ViewHolder&gt; {\n    private List&lt;Appointments&gt; appointments;\n    private Context context;\n    public TextView textTime;\n    Fragment fragment;\n    UserViewModel viewModel;\n\n\n    public TimeAdapter(Context context, List&lt;Appointments&gt; appointments, Fragment myfrag, UserViewModel viewModel) {\n        this.appointments = appointments;\n        this.context = context;\n        this.fragment = myfrag;\n        this.viewModel = viewModel;\n    }\n    \n    public class ViewHolder extends RecyclerView.ViewHolder {\n        \n        public ViewHolder(View itemView) {\n            super(itemView);\n            textTime = (TextView) itemView.findViewById(R.id.text_time);\n        }\n    }\n\n    @Override\n    public TimeAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        Context context = parent.getContext();\n        LayoutInflater inflater = LayoutInflater.from(context);\n\n        //appointments = sortAppointments(appointments);\n        View appView = inflater.inflate(R.layout.time_button_item_layout, parent, false);\n\n        ViewHolder viewHolder = new ViewHolder(appView);\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(TimeAdapter.ViewHolder viewHolder, int position) {\n       \n        Appointments app = appointments.get(position);\n        TextView textView = this.textTime;\n        textView.setText(app.time);\n\n        for(Appointment singleAppointment:app.appointmentList){\n            \n                \n            textView.setOnClickListener(new View.OnClickListener() {\n\n                 @Override\n                 public void onClick(View v) {\n                   \n                    showConfirmationDialog(app.time);\n\n                 }\n            });\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return appointments.size();\n    }\n</code></pre>\n<p>I have try to use a method for sorting (sortAppointments) but after scroll nothing change.</p>\n<pre><code>\n    public List&lt;Appointments&gt; sortAppointments(List&lt;Appointments&gt; dayAppointments) {\n\n        Collections.sort(dayAppointments, new Comparator&lt;Appointments&gt;() {\n            @SuppressLint(&quot;SimpleDateFormat&quot;)\n            @Override\n            public int compare(Appointments first, Appointments second) {\n                try {\n                    Date time_first = new SimpleDateFormat(&quot;hh.mm&quot;).parse(first.time);\n                     Date time_second = new SimpleDateFormat(&quot;hh.mm&quot;).parse(second.time);\n                     if(time_first != null &amp;&amp; time_second != null) {\n                         return time_first.compareTo(time_second);\n                     }else{\n                         return 0;\n                     }\n                } catch (ParseException e) {\n                    return 0;\n                }\n            }\n        });\n\n        return dayAppointments;\n    }\n}\n\n</code></pre>\n<p>My Layout</p>\n<pre><code> &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recyclerView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                app:layoutManager=&quot;GridLayoutManager&quot;\n                app:spanCount=&quot;4&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/calendarView&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n</code></pre>\n<p>and item</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/text_time&quot;\n        android:background=&quot;@drawable/time_button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;8dp&quot;\n        android:paddingLeft=&quot;16dp&quot;\n        android:paddingRight=&quot;16dp&quot;\n        android:paddingTop=&quot;10dp&quot;\n        android:paddingBottom=&quot;10dp&quot;\n        android:textSize=&quot;18sp&quot;\n        android:fontFamily=&quot;sans-serif-condensed&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/white&quot;\n        /&gt;\n</code></pre>\n<p>For understand better the problem attach a little video:</p>\n<p><a href=\"https://youtu.be/c8lThqQSU2A\" rel=\"nofollow noreferrer\">Video problem</a></p>\n<p>Thanks for help</p>\n"},{"tags":["java","pdfclown"],"answers":[{"tags":[],"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1382869537,"creation_date":1382869537,"answer_id":19617011,"question_id":18739542,"body_markdown":"I never actually solved this problem but I did work out an alternative.  On each page I iterated over all the form elements and changed their names by adding &quot;[x]&quot; where the &#39;x&#39; is the page number.  This made each pages form elements unique.","title":"PDF Clown, AcroForms with same field names","body":"<p>I never actually solved this problem but I did work out an alternative.  On each page I iterated over all the form elements and changed their names by adding \"[x]\" where the 'x' is the page number.  This made each pages form elements unique.</p>\n"},{"tags":[],"owner":{"account_id":4537479,"reputation":11,"user_id":3686255,"display_name":"Strahinja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455891684,"creation_date":1455891684,"answer_id":35507523,"question_id":18739542,"body_markdown":"I couldn&#39;t solve my problem using Your method no matter what I tried. All of the fields on every page ended up with the same name. The resulting file needed to have 150 copies of the first page. My approach is different, create 150 PDFs containing only first page and run this code on every single one of them. \r\n\r\n    public override void Run()\r\n    {\r\n      // 1. Magic...\r\n      string resourcePath = System.IO.Path.GetFullPath(&quot;../../../../main/res/samples/input/&quot; + &quot;pdf&quot;);\r\n\r\n      // Get the list of available PDF files\r\n      string[] filePaths = System.IO.Directory.GetFiles(resourcePath + System.IO.Path.DirectorySeparatorChar, &quot;*.pdf&quot;);\r\n\r\n      // Cycle through files\r\n      for (int index = 0; index &lt; filePaths.Length; index++)\r\n      {\r\n          using (File file = new File(filePaths[index]))\r\n          {\r\n              Document document = file.Document;\r\n\r\n              // 2. Get the acroform!\r\n              Form form = document.Form;\r\n              foreach (Page page in form.Document.Pages)\r\n              {\r\n                  foreach (var s in page.Document.Form.Fields.Values)\r\n                  {\r\n                      s.Name = s.FullName + index.ToString();\r\n                  }\r\n\r\n              }\r\n              Serialize(file, file + index.ToString(), SerializationModeEnum.Incremental);\r\n\r\n          }\r\n      }\r\n    }\r\nAfter that just combine them in one single file with Adobe Acrobat DC. This code was modified a little bit from PDFClown samples.","title":"PDF Clown, AcroForms with same field names","body":"<p>I couldn't solve my problem using Your method no matter what I tried. All of the fields on every page ended up with the same name. The resulting file needed to have 150 copies of the first page. My approach is different, create 150 PDFs containing only first page and run this code on every single one of them. </p>\n\n<pre><code>public override void Run()\n{\n  // 1. Magic...\n  string resourcePath = System.IO.Path.GetFullPath(\"../../../../main/res/samples/input/\" + \"pdf\");\n\n  // Get the list of available PDF files\n  string[] filePaths = System.IO.Directory.GetFiles(resourcePath + System.IO.Path.DirectorySeparatorChar, \"*.pdf\");\n\n  // Cycle through files\n  for (int index = 0; index &lt; filePaths.Length; index++)\n  {\n      using (File file = new File(filePaths[index]))\n      {\n          Document document = file.Document;\n\n          // 2. Get the acroform!\n          Form form = document.Form;\n          foreach (Page page in form.Document.Pages)\n          {\n              foreach (var s in page.Document.Form.Fields.Values)\n              {\n                  s.Name = s.FullName + index.ToString();\n              }\n\n          }\n          Serialize(file, file + index.ToString(), SerializationModeEnum.Incremental);\n\n      }\n  }\n}\n</code></pre>\n\n<p>After that just combine them in one single file with Adobe Acrobat DC. This code was modified a little bit from PDFClown samples.</p>\n"},{"tags":[],"owner":{"account_id":24601710,"reputation":96,"user_id":18504506,"display_name":"Emmanuel Herrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647613593,"creation_date":1647613593,"answer_id":71528540,"question_id":18739542,"body_markdown":"A little late but here is a workaround I found. I noticed that if you manually edit the text in the first field, the other fields start displaying correctly. You can do this with JavaScript to achieve the same effect. \r\n\r\n \r\n\r\n    Document pdfDocument = pdfFile.Document;\r\n    Form form = pdfDocument.Form;\r\n    StringBuilder js = new StringBuilder();\r\n    js.Append(&quot;function duplicateFieldFix(fieldName){var originalText = this.getField(fieldName).value;var newText = originalText + &#39; &#39;;this.getField(fieldName).value = newText;this.getField(fieldName).value = originalText;}&quot;);\r\n    if (form != null &amp;&amp; form.Exists()) {\r\n    \tforeach(Field field in form.Fields.Values) {\r\n    \t\tstring fieldName = field.Name;\r\n    \t\tif (formData != null &amp;&amp; fieldName != null &amp;&amp; fieldName.Length &gt; 0 &amp;&amp; formData.ContainsKey(fieldName)) {\r\n    \t\t\tfield.Value = formData[fieldName];\r\n    \t\t\tjs.Append($&quot;duplicateFieldFix(&#39;{fieldName}&#39;);&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tpdfDocument.Actions.OnOpen = new JavaScript(pdfDocument, js.ToString());\r\n    }\r\n\r\n\r\n\r\n","title":"PDF Clown, AcroForms with same field names","body":"<p>A little late but here is a workaround I found. I noticed that if you manually edit the text in the first field, the other fields start displaying correctly. You can do this with JavaScript to achieve the same effect.</p>\n<pre><code>Document pdfDocument = pdfFile.Document;\nForm form = pdfDocument.Form;\nStringBuilder js = new StringBuilder();\njs.Append(&quot;function duplicateFieldFix(fieldName){var originalText = this.getField(fieldName).value;var newText = originalText + ' ';this.getField(fieldName).value = newText;this.getField(fieldName).value = originalText;}&quot;);\nif (form != null &amp;&amp; form.Exists()) {\n    foreach(Field field in form.Fields.Values) {\n        string fieldName = field.Name;\n        if (formData != null &amp;&amp; fieldName != null &amp;&amp; fieldName.Length &gt; 0 &amp;&amp; formData.ContainsKey(fieldName)) {\n            field.Value = formData[fieldName];\n            js.Append($&quot;duplicateFieldFix('{fieldName}');&quot;);\n        }\n    }\n    pdfDocument.Actions.OnOpen = new JavaScript(pdfDocument, js.ToString());\n}\n</code></pre>\n"}],"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19617011,"answer_count":3,"score":0,"last_activity_date":1647613593,"creation_date":1378897752,"question_id":18739542,"body_markdown":"I have made a number of single page Forms with Open Office and exported them to PDF documents.\r\n\r\nI my application I open up the a number of these pdf documents, fill in the form elements and combine them and save.\r\n\r\nIn am printing out a List&lt;MyObject&gt; onto each row of a particular form.  The trouble is that if the list exceeds the size of the page, I need to duplicate the page and append the rest of the items on the remaining page.\r\n\r\nThere appears to be a problem having multiple field names on a document with the same name, only the first field has a value, subsequent fields with the same name are blank.\r\n\r\n\r\nThe code is something like this, I dont have the exact code with me right now.\r\n\r\n\t\t\torg.pdfclown.files.File output = new org.pdfclown.files.File();\r\n\t\t\tPageManager pageManager = new PageManager(output.getDocument());\r\n\t\t\t\r\n\t\t\tfor(org.pdfclown.files.File pdfPage : pdfPages) {\r\n\t\t\t\t\r\n\t\t\t\t//fill in the form element ...\r\n\t\t\t\tpdfPage.getDocument().getForm().getFields().get(&quot;some_field&quot;).setValue(&quot;something&quot;);\r\n\t\t\t\t\r\n\t\t\t\tpageManager.add(pdfPage.getDocument());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tjava.io.File temp = Files.createTempFile(&quot;Test&quot;, &quot;.pdf&quot;).toFile();\r\n\t\t\toutput.save(temp, SerializationModeEnum.Standard);\r\n\r\n\r\nI noticed that when I export from OpenOffice there is a checkbox to allow duplicate form names.  Has anyone had this issue before? Is there something in the API that allows duplicate form names to display with different values?","title":"PDF Clown, AcroForms with same field names","body":"<p>I have made a number of single page Forms with Open Office and exported them to PDF documents.</p>\n\n<p>I my application I open up the a number of these pdf documents, fill in the form elements and combine them and save.</p>\n\n<p>In am printing out a List onto each row of a particular form.  The trouble is that if the list exceeds the size of the page, I need to duplicate the page and append the rest of the items on the remaining page.</p>\n\n<p>There appears to be a problem having multiple field names on a document with the same name, only the first field has a value, subsequent fields with the same name are blank.</p>\n\n<p>The code is something like this, I dont have the exact code with me right now.</p>\n\n<pre><code>        org.pdfclown.files.File output = new org.pdfclown.files.File();\n        PageManager pageManager = new PageManager(output.getDocument());\n\n        for(org.pdfclown.files.File pdfPage : pdfPages) {\n\n            //fill in the form element ...\n            pdfPage.getDocument().getForm().getFields().get(\"some_field\").setValue(\"something\");\n\n            pageManager.add(pdfPage.getDocument());\n        }\n\n        java.io.File temp = Files.createTempFile(\"Test\", \".pdf\").toFile();\n        output.save(temp, SerializationModeEnum.Standard);\n</code></pre>\n\n<p>I noticed that when I export from OpenOffice there is a checkbox to allow duplicate form names.  Has anyone had this issue before? Is there something in the API that allows duplicate form names to display with different values?</p>\n"},{"tags":["java","multithreading","future","java-threads","callable"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1647436452,"post_id":71497351,"comment_id":126370180,"body_markdown":"What do you mean with &quot;the program halts&quot;? In any case, given none of your tasks are interruptible, they will continue running until they are done. The cancellation performed by `invokeAny` will not have any effect unless it performs a blocking operation or if it actively checks `Thread.interrupted()` (or does anything else that allows for interruption).","body":"What do you mean with &quot;the program halts&quot;? In any case, given none of your tasks are interruptible, they will continue running until they are done. The cancellation performed by <code>invokeAny</code> will not have any effect unless it performs a blocking operation or if it actively checks <code>Thread.interrupted()</code> (or does anything else that allows for interruption)."},{"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"score":0,"creation_date":1647468199,"post_id":71497351,"comment_id":126382339,"body_markdown":"@MarkRotteveel, with &quot;the program halts&quot; I was trying to say &quot;executor service cannot be shutdown although I call `shutDownNow()` at the end&quot;. That&#39;s a good point for me to investigate further, I need to look for what makes a task _interruptable_.","body":"@MarkRotteveel, with &quot;the program halts&quot; I was trying to say &quot;executor service cannot be shutdown although I call <code>shutDownNow()</code> at the end&quot;. That&#39;s a good point for me to investigate further, I need to look for what makes a task <i>interruptable</i>."},{"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"score":0,"creation_date":1647468317,"post_id":71497351,"comment_id":126382360,"body_markdown":"@SolomonSlow, actually I was not expecting `invokeAny()` to shutdown, I was expecting after I ran `invokeAny()` I would be able to run `executorService.shutDown()` and the program would end successfully - but it does not end. I was expecting this because I understood `invokeAny()` returns the first result so it was OK to cancel any remaining task and shut down the executor by calling `shutDown()` on it.","body":"@SolomonSlow, actually I was not expecting <code>invokeAny()</code> to shutdown, I was expecting after I ran <code>invokeAny()</code> I would be able to run <code>executorService.shutDown()</code> and the program would end successfully - but it does not end. I was expecting this because I understood <code>invokeAny()</code> returns the first result so it was OK to cancel any remaining task and shut down the executor by calling <code>shutDown()</code> on it."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1647483722,"post_id":71497351,"comment_id":126385065,"body_markdown":"OK, I misunderstood.","body":"OK, I misunderstood."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647613537,"creation_date":1647437377,"answer_id":71497943,"question_id":71497351,"body_markdown":"As Mark Rotteveel wrote in his comment:\r\n\r\nThe `naiveFibonacci` task is not interruptible. It does not call any methods that check the interrupted state of the thread nor does `fibonacciNaive()` method itself check the interrupted state of the thread.\r\n\r\nIf you want to make `fibonacciNaive()` method interruptible you could change it to:\r\n\r\n    private static long fibonacciNaive(int n) throws InterruptedException {\r\n        if (n == 0 || n == 1) return n;\r\n\r\n        if (Thread.interrupted()) {\r\n            log(&quot;interrupt detected&quot;);\r\n            throw new InterruptedException();\r\n        }\r\n\r\n        return fibonacciNaive(n - 1) + fibonacciNaive(n - 2);\r\n    }\r\n\r\nAnd with that change the `naiveFibonacci` task will be stopped as soon as `optimizedFibonacci` produces a result.\r\n\r\nChanged: as Holger commented, using `Thread.interrupted()` is preferable over `Thread.currentThread().isInterrupted()` since the code in the `if` statement is going the handle the interruption.","title":"Why ExecutorService is not shutdown after invokeAny returns a result?","body":"<p>As Mark Rotteveel wrote in his comment:</p>\n<p>The <code>naiveFibonacci</code> task is not interruptible. It does not call any methods that check the interrupted state of the thread nor does <code>fibonacciNaive()</code> method itself check the interrupted state of the thread.</p>\n<p>If you want to make <code>fibonacciNaive()</code> method interruptible you could change it to:</p>\n<pre><code>private static long fibonacciNaive(int n) throws InterruptedException {\n    if (n == 0 || n == 1) return n;\n\n    if (Thread.interrupted()) {\n        log(&quot;interrupt detected&quot;);\n        throw new InterruptedException();\n    }\n\n    return fibonacciNaive(n - 1) + fibonacciNaive(n - 2);\n}\n</code></pre>\n<p>And with that change the <code>naiveFibonacci</code> task will be stopped as soon as <code>optimizedFibonacci</code> produces a result.</p>\n<p>Changed: as Holger commented, using <code>Thread.interrupted()</code> is preferable over <code>Thread.currentThread().isInterrupted()</code> since the code in the <code>if</code> statement is going the handle the interruption.</p>\n"}],"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71497943,"answer_count":1,"score":1,"last_activity_date":1647613537,"creation_date":1647434814,"question_id":71497351,"body_markdown":"As I was experimenting with Future and Callable in Java, I had a result I cannot make sense of with my current understanding. **The below scenario is for demonstration purposes only.** \r\n\r\nFrom my understanding, when a collection of `Callable`s are submitted to an `ExecutorService` via an `invokeAny()` call, `ExecutorService` returns the first result it gets out of them. After the retrieval of the result, I call `executorService.shutDown()` which I expected to shutDown the executorService as it already return a result. However, for the below scenario the program halts. I have also tried calling `executorService.shutDownNow()` but no luck.\r\n\r\nI&#39;ve tried the same example using two methods that only sleeps the their thread for `1000` and `5000` seconds respectively, and after the first one is done sleeping `executorService.shutDown()` worked as expected. \r\n\r\nMy only guess is that `shutDown()` or `shutDownNow()` cannot interrupt an already executing thread just like `cancel(mayInterruptIfRunning=true)` does.\r\n\r\nCould someone please explain what&#39;s going on here, am I guessing this correctly?\r\n\r\nHere&#39;s the example:\r\n```java\r\npublic class InvokeAnyExample {\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException, TimeoutException {\r\n        int N = 50; // If I set N = 10, program exits successfully.\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\r\n\r\n        Callable&lt;Long&gt; naiveFibonacci = () -&gt; {\r\n            log(&quot;Naive Fibonacci&quot;);\r\n            long result = fibonacciNaive(N);\r\n            log(&quot;Naive Fibonacci Finished&quot;);\r\n            return result;\r\n        };\r\n\r\n        Callable&lt;Long&gt; optimizedFibonacci = () -&gt; {\r\n            log(&quot;Optimized Fibonacci&quot;);\r\n            long[] cache = new long[1000];\r\n            Arrays.fill(cache, -1);\r\n            long result = fibonacciOptimized(N, cache);\r\n            log(&quot;Optimized Fibonacci Finished&quot;);\r\n            return result;\r\n        };\r\n\r\n        Long result = executorService.invokeAny(Arrays.asList(naiveFibonacci, optimizedFibonacci), 5, TimeUnit.SECONDS);\r\n        log(String.valueOf(result));\r\n\r\n        executorService.shutdown();\r\n//        executorService.shutdownNow();\r\n    }\r\n\r\n    private static long fibonacciNaive(int n) {\r\n        if (n == 0 || n == 1) return n;\r\n\r\n        return fibonacciNaive(n - 1) + fibonacciNaive(n - 2);\r\n    }\r\n\r\n    private static long fibonacciOptimized(int n, long[] cache) {\r\n        if (n == 0 || n == 1) return n;\r\n        if (cache[n] != -1) return cache[n];\r\n\r\n        long result = fibonacciOptimized(n - 1, cache) + fibonacciOptimized(n - 2, cache);\r\n        cache[n] = result;\r\n\r\n        return result;\r\n    }\r\n\r\n    private static void log(String message) {\r\n        String prefix = Thread.currentThread().getName();\r\n        System.out.println(String.format(&quot;In Thread (%s) : %s&quot;, prefix, message));\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the output:\r\n\r\n```\r\nIn Thread (pool-1-thread-2) : Optimized Fibonacci\r\nIn Thread (pool-1-thread-1) : Naive Fibonacci\r\nIn Thread (pool-1-thread-2) : Optimized Fibonacci Finished\r\nIn Thread (main) : 12586269025\r\n--- PROGRAM HALTS\r\n```","title":"Why ExecutorService is not shutdown after invokeAny returns a result?","body":"<p>As I was experimenting with Future and Callable in Java, I had a result I cannot make sense of with my current understanding. <strong>The below scenario is for demonstration purposes only.</strong></p>\n<p>From my understanding, when a collection of <code>Callable</code>s are submitted to an <code>ExecutorService</code> via an <code>invokeAny()</code> call, <code>ExecutorService</code> returns the first result it gets out of them. After the retrieval of the result, I call <code>executorService.shutDown()</code> which I expected to shutDown the executorService as it already return a result. However, for the below scenario the program halts. I have also tried calling <code>executorService.shutDownNow()</code> but no luck.</p>\n<p>I've tried the same example using two methods that only sleeps the their thread for <code>1000</code> and <code>5000</code> seconds respectively, and after the first one is done sleeping <code>executorService.shutDown()</code> worked as expected.</p>\n<p>My only guess is that <code>shutDown()</code> or <code>shutDownNow()</code> cannot interrupt an already executing thread just like <code>cancel(mayInterruptIfRunning=true)</code> does.</p>\n<p>Could someone please explain what's going on here, am I guessing this correctly?</p>\n<p>Here's the example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InvokeAnyExample {\n    public static void main(String[] args) throws ExecutionException, InterruptedException, TimeoutException {\n        int N = 50; // If I set N = 10, program exits successfully.\n\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\n\n        Callable&lt;Long&gt; naiveFibonacci = () -&gt; {\n            log(&quot;Naive Fibonacci&quot;);\n            long result = fibonacciNaive(N);\n            log(&quot;Naive Fibonacci Finished&quot;);\n            return result;\n        };\n\n        Callable&lt;Long&gt; optimizedFibonacci = () -&gt; {\n            log(&quot;Optimized Fibonacci&quot;);\n            long[] cache = new long[1000];\n            Arrays.fill(cache, -1);\n            long result = fibonacciOptimized(N, cache);\n            log(&quot;Optimized Fibonacci Finished&quot;);\n            return result;\n        };\n\n        Long result = executorService.invokeAny(Arrays.asList(naiveFibonacci, optimizedFibonacci), 5, TimeUnit.SECONDS);\n        log(String.valueOf(result));\n\n        executorService.shutdown();\n//        executorService.shutdownNow();\n    }\n\n    private static long fibonacciNaive(int n) {\n        if (n == 0 || n == 1) return n;\n\n        return fibonacciNaive(n - 1) + fibonacciNaive(n - 2);\n    }\n\n    private static long fibonacciOptimized(int n, long[] cache) {\n        if (n == 0 || n == 1) return n;\n        if (cache[n] != -1) return cache[n];\n\n        long result = fibonacciOptimized(n - 1, cache) + fibonacciOptimized(n - 2, cache);\n        cache[n] = result;\n\n        return result;\n    }\n\n    private static void log(String message) {\n        String prefix = Thread.currentThread().getName();\n        System.out.println(String.format(&quot;In Thread (%s) : %s&quot;, prefix, message));\n    }\n}\n</code></pre>\n<p>Here's the output:</p>\n<pre><code>In Thread (pool-1-thread-2) : Optimized Fibonacci\nIn Thread (pool-1-thread-1) : Naive Fibonacci\nIn Thread (pool-1-thread-2) : Optimized Fibonacci Finished\nIn Thread (main) : 12586269025\n--- PROGRAM HALTS\n</code></pre>\n"},{"tags":["java","gradle","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647329708,"creation_date":1647329708,"answer_id":71478441,"question_id":71476832,"body_markdown":" 1. Looking at [gradle-wrapper.properties][1] it should be Gradle 6.7\r\n 2. Since [JMeter 3.2][2] you need [Java 8][3] to run (and compile) JMeter, lower versions won&#39;t work for sure, higher versions might not work \r\n 3. I cannot reproduce your issue using the latest stable build of JMeter 5.4.3 from its downloads page:\r\n\r\n    [![enter image description here][4]][4]\r\n\r\nReferences:\r\n\r\n - [Gradle Command-Line][5]\r\n - [Building JMeter][6]\r\n - [Build instructions][7]\r\n\r\n\r\n  [1]: https://github.com/apache/jmeter/blob/rel/v5.4.3/gradle/wrapper/gradle-wrapper.properties#L21\r\n  [2]: https://www.blazemeter.com/blog/whats-new-jmeter-32/\r\n  [3]: https://openjdk.java.net/projects/jdk8/\r\n  [4]: https://i.stack.imgur.com/mP0PG.png\r\n  [5]: https://github.com/apache/jmeter/blob/master/gradle.md\r\n  [6]: https://jmeter.apache.org/building.html\r\n  [7]: https://github.com/apache/jmeter#build-instructions","title":"IDEA Gradle build Jmeter5.4.3 &quot;A problem occurred configuring project &#39;:buildSrc&#39;. &gt; Self-suppression not permitted&quot;","body":"<ol>\n<li><p>Looking at <a href=\"https://github.com/apache/jmeter/blob/rel/v5.4.3/gradle/wrapper/gradle-wrapper.properties#L21\" rel=\"nofollow noreferrer\">gradle-wrapper.properties</a> it should be Gradle 6.7</p>\n</li>\n<li><p>Since <a href=\"https://www.blazemeter.com/blog/whats-new-jmeter-32/\" rel=\"nofollow noreferrer\">JMeter 3.2</a> you need <a href=\"https://openjdk.java.net/projects/jdk8/\" rel=\"nofollow noreferrer\">Java 8</a> to run (and compile) JMeter, lower versions won't work for sure, higher versions might not work</p>\n</li>\n<li><p>I cannot reproduce your issue using the latest stable build of JMeter 5.4.3 from its downloads page:</p>\n<p><a href=\"https://i.stack.imgur.com/mP0PG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mP0PG.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>References:</p>\n<ul>\n<li><a href=\"https://github.com/apache/jmeter/blob/master/gradle.md\" rel=\"nofollow noreferrer\">Gradle Command-Line</a></li>\n<li><a href=\"https://jmeter.apache.org/building.html\" rel=\"nofollow noreferrer\">Building JMeter</a></li>\n<li><a href=\"https://github.com/apache/jmeter#build-instructions\" rel=\"nofollow noreferrer\">Build instructions</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21295892,"reputation":11,"user_id":15672458,"display_name":"Littlehorse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647613483,"creation_date":1647571503,"answer_id":71521938,"question_id":71476832,"body_markdown":"https://stackoverflow.com/questions/69100485/fail-to-build-jmeter-using-gradlew-exception-self-suppression-not-permitted。\r\n\r\nI refer to this sentence in the link above  “Add -PchecksumIgnore to ./gradlew build can skip this step”\r\n\r\nI will try use this  “./gradlew build -PchecksumIgnore --info”\r\n\r\n\r\nOH，Thank goodness it seems to work, it&#39;s being built now. . Waiting for the final result to be successful. . .\r\nIt took me almost 2 days to search for the cause of this problem. Finally found an effective solution between the lines.\r\n\r\nsorry ,I have a new problem. . .build fails again。\r\n\r\nend。。。。\r\n\r\nkeep trying today。\r\n\r\n1 try this \r\n“ git clean -fdx”\r\n\r\n2 then this\r\n“./gradlew clean  -PchecksumIgnore --info”\r\n\r\nit outputs xians BUILD SUCCESSFUL!!!\r\n\r\n3 OK,next,try again this.\r\n“./gradlew runGui -PchecksumIgnore --info”\r\n\r\nOH,I finally edited and launched jmeter GUI successfully\r\n\r\n\r\nWell, now just command line gradle can succeed. I don&#39;t know if the IDEA import will be successful.\r\n\r\nI will try IDEA import。\r\n   \r\nsorry，IDEA import Still getting the same error。\r\n\r\n    A problem occurred configuring project &#39;:buildSrc&#39;.\r\n&gt; Self-suppression not permitted\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project &#39;:buildSrc&#39;.\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: java.lang.IllegalArgumentException: Self-suppression not permitted\r\n\r\n\r\nnow is 2022/3/18 I am come back .\r\n\r\nin idea 2021.3.2  import jmeter5.4.3\r\n1 I have Gradle setup in IDEA\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2 Then I found that I can run the command in IDEA here\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KJSDh.png\r\n  [2]: https://i.stack.imgur.com/Su7nn.png\r\n  [3]: https://i.stack.imgur.com/rWW4v.png\r\n\r\ncan run successfully。\r\n\r\nWe can also try the command here \r\n./gradlew build -PchecksumIgnore --info","title":"IDEA Gradle build Jmeter5.4.3 &quot;A problem occurred configuring project &#39;:buildSrc&#39;. &gt; Self-suppression not permitted&quot;","body":"<p><a href=\"https://stackoverflow.com/questions/69100485/fail-to-build-jmeter-using-gradlew-exception-self-suppression-not-permitted%E3%80%82\">https://stackoverflow.com/questions/69100485/fail-to-build-jmeter-using-gradlew-exception-self-suppression-not-permitted。</a></p>\n<p>I refer to this sentence in the link above  “Add -PchecksumIgnore to ./gradlew build can skip this step”</p>\n<p>I will try use this  “./gradlew build -PchecksumIgnore --info”</p>\n<p>OH，Thank goodness it seems to work, it's being built now. . Waiting for the final result to be successful. . .\nIt took me almost 2 days to search for the cause of this problem. Finally found an effective solution between the lines.</p>\n<p>sorry ,I have a new problem. . .build fails again。</p>\n<p>end。。。。</p>\n<p>keep trying today。</p>\n<p>1 try this\n“ git clean -fdx”</p>\n<p>2 then this\n“./gradlew clean  -PchecksumIgnore --info”</p>\n<p>it outputs xians BUILD SUCCESSFUL!!!</p>\n<p>3 OK,next,try again this.\n“./gradlew runGui -PchecksumIgnore --info”</p>\n<p>OH,I finally edited and launched jmeter GUI successfully</p>\n<p>Well, now just command line gradle can succeed. I don't know if the IDEA import will be successful.</p>\n<p>I will try IDEA import。</p>\n<p>sorry，IDEA import Still getting the same error。</p>\n<pre><code>A problem occurred configuring project ':buildSrc'.\n</code></pre>\n<blockquote>\n<p>Self-suppression not permitted</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':buildSrc'.\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: java.lang.IllegalArgumentException: Self-suppression not permitted</p>\n</li>\n</ul>\n<p>now is 2022/3/18 I am come back .</p>\n<p>in idea 2021.3.2  import jmeter5.4.3\n1 I have Gradle setup in IDEA\n<a href=\"https://i.stack.imgur.com/KJSDh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KJSDh.png\" alt=\"enter image description here\" /></a></p>\n<p>2 Then I found that I can run the command in IDEA here\n<a href=\"https://i.stack.imgur.com/Su7nn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Su7nn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rWW4v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rWW4v.png\" alt=\"enter image description here\" /></a></p>\n<p>can run successfully。</p>\n<p>We can also try the command here\n./gradlew build -PchecksumIgnore --info</p>\n"}],"owner":{"account_id":21295892,"reputation":11,"user_id":15672458,"display_name":"Littlehorse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647613483,"creation_date":1647316146,"question_id":71476832,"body_markdown":"一 、Use IDEA Import\r\n  1  apache-jmeter-5.4.3_src.zip   \r\n  2  Gradle 7.4.1\r\n  2  IntelliJ IDEA 2021.3.2 (Ultimate Edition)  \r\n  3  The IDEA of new - &gt;\r\n\r\n-&gt; Projects from existing sources\r\n\r\n-&gt; Import project -&gt; Import project from external model -&gt;Gradle\r\n\r\n\r\n  \r\n\r\n    A problem occurred configuring project &#39;:buildSrc&#39;.\r\n&gt; Self-suppression not permitted\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project &#39;:buildSrc&#39;.\r\n\t\r\nCaused by: java.lang.IllegalArgumentException: Self-suppression not permitted\r\n\r\n\r\n二  ./gradlew runGui --info\r\n\r\n    E:\\Gitworkspace\\apache-jmeter-5.4.3 ❯ ./gradlew runGui --info\r\nDownloading key 2c7b12f2a511e325 for org.slf4j:slf4j-api:1.7.2@jar.asc (attempt 2 of 40, 162.213.33.9, https://keyserver.ubuntu.com)\r\nDownloading key 6449005f96bc97a3 for de.undercouch:gradle-download-task:4.0.2@jar.asc (attempt 2 of 40, 162.213.33.8, https://keyserver.ubuntu.com)\r\nDownloading key bcf4173966770193 for org.jetbrains:annotations:13.0@jar.asc (attempt 3 of 40, 37.218.245.50, hkp://keys.openpgp.org)\r\nchecksum-dependency elapsed time: 136495ms, configurations processed: 4\r\n    SHA-512 computation time: 1ms (goes in parallel, it might exceed wall-clock time), files processed: 1, processed: 0MiB, skipped: 63MiB\r\n    PGP signature resolution time: 43174ms (wall-clock), resolution requests: 3, signatures resolved: 42\r\n    PGP key resolution time: 30004ms (wall-clock), resolution requests: 3, download time: 210006ms (goes in parallel, it might exceed wall-clock time), keys downloaded: 12\r\n        PGP signature verification time: 0ms (goes in parallel, it might exceed wall-clock time), files processed: 0, processed: 0MiB, skipped: 0MiB\r\nSaving updated checksum.xml as E:\\Gitworkspace\\apache-jmeter-5.4.3\\buildSrc\\build\\checksum\\checksum.xml\r\nchecksum-dependency elapsed time: 0ms, configurations processed: 0 (add -PchecksumTimingsPrint to print detailed timings)\r\nSaving updated checksum.xml as E:\\Gitworkspace\\apache-jmeter-5.4.3\\build\\checksum\\checksum.xml\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:buildSrc&#39;.\r\n&gt; Self-suppression not permitted\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 8m 13s\r\n\r\n\r\n三、./gradlew clean\r\n\r\n    E:\\Gitworkspace\\apache-jmeter-5.4.3 ❯ ./gradlew clean\r\nchecksum-dependency elapsed time: 30080ms, configurations processed: 4\r\n    SHA-512 computation time: 0ms (goes in parallel, it might exceed wall-clock time), files processed: 1, processed: 0MiB, skipped: 63MiB\r\n    PGP signature resolution time: 14ms (wall-clock), resolution requests: 3, signatures resolved: 42\r\n    PGP key resolution time: 30006ms (wall-clock), resolution requests: 3, download time: 240016ms (goes in parallel, it might exceed wall-clock time), keys downloaded: 11\r\n        PGP signature verification time: 27ms (goes in parallel, it might exceed wall-clock time), files processed: 1, processed: 0MiB, skipped: 0MiB\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:buildSrc&#39;.\r\n&gt; Self-suppression not permitted\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 34s","title":"IDEA Gradle build Jmeter5.4.3 &quot;A problem occurred configuring project &#39;:buildSrc&#39;. &gt; Self-suppression not permitted&quot;","body":"<p>一 、Use IDEA Import\n1  apache-jmeter-5.4.3_src.zip<br />\n2  Gradle 7.4.1\n2  IntelliJ IDEA 2021.3.2 (Ultimate Edition)<br />\n3  The IDEA of new - &gt;</p>\n<p>-&gt; Projects from existing sources</p>\n<p>-&gt; Import project -&gt; Import project from external model -&gt;Gradle</p>\n<pre><code>A problem occurred configuring project ':buildSrc'.\n</code></pre>\n<blockquote>\n<p>Self-suppression not permitted</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':buildSrc'.</p>\n</li>\n</ul>\n<p>Caused by: java.lang.IllegalArgumentException: Self-suppression not permitted</p>\n<p>二  ./gradlew runGui --info</p>\n<pre><code>E:\\Gitworkspace\\apache-jmeter-5.4.3 ❯ ./gradlew runGui --info\n</code></pre>\n<p>Downloading key 2c7b12f2a511e325 for org.slf4j:slf4j-api:1.7.2@jar.asc (attempt 2 of 40, 162.213.33.9, <a href=\"https://keyserver.ubuntu.com\" rel=\"nofollow noreferrer\">https://keyserver.ubuntu.com</a>)\nDownloading key 6449005f96bc97a3 for de.undercouch:gradle-download-task:4.0.2@jar.asc (attempt 2 of 40, 162.213.33.8, <a href=\"https://keyserver.ubuntu.com\" rel=\"nofollow noreferrer\">https://keyserver.ubuntu.com</a>)\nDownloading key bcf4173966770193 for org.jetbrains:annotations:13.0@jar.asc (attempt 3 of 40, 37.218.245.50, hkp://keys.openpgp.org)\nchecksum-dependency elapsed time: 136495ms, configurations processed: 4\nSHA-512 computation time: 1ms (goes in parallel, it might exceed wall-clock time), files processed: 1, processed: 0MiB, skipped: 63MiB\nPGP signature resolution time: 43174ms (wall-clock), resolution requests: 3, signatures resolved: 42\nPGP key resolution time: 30004ms (wall-clock), resolution requests: 3, download time: 210006ms (goes in parallel, it might exceed wall-clock time), keys downloaded: 12\nPGP signature verification time: 0ms (goes in parallel, it might exceed wall-clock time), files processed: 0, processed: 0MiB, skipped: 0MiB\nSaving updated checksum.xml as E:\\Gitworkspace\\apache-jmeter-5.4.3\\buildSrc\\build\\checksum\\checksum.xml\nchecksum-dependency elapsed time: 0ms, configurations processed: 0 (add -PchecksumTimingsPrint to print detailed timings)\nSaving updated checksum.xml as E:\\Gitworkspace\\apache-jmeter-5.4.3\\build\\checksum\\checksum.xml</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring project ':buildSrc'.</li>\n</ul>\n<blockquote>\n<p>Self-suppression not permitted</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 8m 13s</p>\n<p>三、./gradlew clean</p>\n<pre><code>E:\\Gitworkspace\\apache-jmeter-5.4.3 ❯ ./gradlew clean\n</code></pre>\n<p>checksum-dependency elapsed time: 30080ms, configurations processed: 4\nSHA-512 computation time: 0ms (goes in parallel, it might exceed wall-clock time), files processed: 1, processed: 0MiB, skipped: 63MiB\nPGP signature resolution time: 14ms (wall-clock), resolution requests: 3, signatures resolved: 42\nPGP key resolution time: 30006ms (wall-clock), resolution requests: 3, download time: 240016ms (goes in parallel, it might exceed wall-clock time), keys downloaded: 11\nPGP signature verification time: 27ms (goes in parallel, it might exceed wall-clock time), files processed: 1, processed: 0MiB, skipped: 0MiB</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring project ':buildSrc'.</li>\n</ul>\n<blockquote>\n<p>Self-suppression not permitted</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 34s</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":16950664,"reputation":384,"user_id":12260268,"display_name":"Tim Chiang"},"score":0,"creation_date":1647596989,"post_id":71524816,"comment_id":126415711,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need.  Thank you.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need.  Thank you."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647597509,"post_id":71524816,"comment_id":126415909,"body_markdown":"&quot;but I can&#39;t&quot; doesn&#39;t provide enough information so we can help. Please show us what you have tried and what the problem is.","body":"&quot;but I can&#39;t&quot; doesn&#39;t provide enough information so we can help. Please show us what you have tried and what the problem is."},{"owner":{"account_id":22501663,"reputation":1,"user_id":16697883,"display_name":"Max"},"score":0,"creation_date":1647600943,"post_id":71524816,"comment_id":126417100,"body_markdown":"@AlexMamo update","body":"@AlexMamo update"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647601649,"post_id":71524816,"comment_id":126417358,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":22501663,"reputation":1,"user_id":16697883,"display_name":"Max"},"score":0,"creation_date":1647602165,"post_id":71524816,"comment_id":126417536,"body_markdown":"@AlexMamo  new list should be created with the name &quot;Bridge&quot; and the numbers 1, 2,3 ... in &quot;new kay&quot; picture","body":"@AlexMamo  new list should be created with the name &quot;Bridge&quot; and the numbers 1, 2,3 ... in &quot;new kay&quot; picture"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1647613446,"post_id":71524816,"comment_id":126421482,"body_markdown":"The code looks fine at first glance, but it&#39;s hard to be certain without also seeing the `data_Users` class. You might also want to test `myData.setValue(true);` to see if that simpler instruction works.","body":"The code looks fine at first glance, but it&#39;s hard to be certain without also seeing the <code>data_Users</code> class. You might also want to test <code>myData.setValue(true);</code> to see if that simpler instruction works."},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1647889660,"post_id":71524816,"comment_id":126480406,"body_markdown":"This question is already solved?","body":"This question is already solved?"},{"owner":{"account_id":22501663,"reputation":1,"user_id":16697883,"display_name":"Max"},"score":0,"creation_date":1648026399,"post_id":71524816,"comment_id":126517100,"body_markdown":"the issue remained unresolved. I still haven&#39;t figured out how to reconnect to another database (project) firebase. so I just created a duplicate of the android studio project and connected already in the new project to the database","body":"the issue remained unresolved. I still haven&#39;t figured out how to reconnect to another database (project) firebase. so I just created a duplicate of the android studio project and connected already in the new project to the database"}],"owner":{"account_id":22501663,"reputation":1,"user_id":16697883,"display_name":"Max"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647613328,"creation_date":1647595367,"question_id":71524816,"body_markdown":"there is a project with a map. The API is there, everything works. I want to connect to firebase. but I can&#39;t. as I understand it, the fact is that I have a map and there is my own API, and another one in firebase. I did a test project with reading data from the database and everything works there. does not work in the map project.\r\n[firebase][1]\r\ngoogle-services.json download.\r\n\r\ninput class:\r\n\r\n\r\n    public class data_dev extends AppCompatActivity{\r\n    \r\n        private DatabaseReference myData;   //подключение к firebase\r\n        private String USER_KEY=&quot;Bridge&quot;;     //ключ. имя первого уровня\r\n        Intent intent;\r\n        final int limit_index_csv = 5;   //для таблицы. до какого элемента считать. 2385\r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            setContentView(R.layout.data_dev);\r\n            myData= FirebaseDatabase.getInstance().getReference(USER_KEY);  //объявил данные\r\n        }\r\n        public void OnClickSave_data(View view){\r\n            //прием\r\n            intent = getIntent();\r\n    \r\n            String id = myData.getKey();\r\n            int i=0;\r\n\r\n            data_Users dataus1=new data_Users(id,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;);\r\n            myData.push().setValue(dataus1);\r\n        }\r\n    }\r\nlist with new key does not appear. should appear here &quot;Bridge&quot;\r\n[new kay][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dswaW.png\r\n  [2]: https://i.stack.imgur.com/8RqeB.png","title":"Android studio firebase + map","body":"<p>there is a project with a map. The API is there, everything works. I want to connect to firebase. but I can't. as I understand it, the fact is that I have a map and there is my own API, and another one in firebase. I did a test project with reading data from the database and everything works there. does not work in the map project.\n<a href=\"https://i.stack.imgur.com/dswaW.png\" rel=\"nofollow noreferrer\">firebase</a>\ngoogle-services.json download.</p>\n<p>input class:</p>\n<pre><code>public class data_dev extends AppCompatActivity{\n\n    private DatabaseReference myData;   //подключение к firebase\n    private String USER_KEY=&quot;Bridge&quot;;     //ключ. имя первого уровня\n    Intent intent;\n    final int limit_index_csv = 5;   //для таблицы. до какого элемента считать. 2385\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.data_dev);\n        myData= FirebaseDatabase.getInstance().getReference(USER_KEY);  //объявил данные\n    }\n    public void OnClickSave_data(View view){\n        //прием\n        intent = getIntent();\n\n        String id = myData.getKey();\n        int i=0;\n\n        data_Users dataus1=new data_Users(id,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;);\n        myData.push().setValue(dataus1);\n    }\n}\n</code></pre>\n<p>list with new key does not appear. should appear here &quot;Bridge&quot;\n<a href=\"https://i.stack.imgur.com/8RqeB.png\" rel=\"nofollow noreferrer\">new kay</a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":4144,"reputation":62748,"user_id":6144,"accept_rate":63,"display_name":"scunliffe"},"score":0,"creation_date":1647542659,"post_id":71517446,"comment_id":126403652,"body_markdown":"Do you just need to get the price, without the units e.g. no &quot;$&quot;?","body":"Do you just need to get the price, without the units e.g. no &quot;$&quot;?"},{"owner":{"account_id":24592844,"reputation":11,"user_id":18496464,"display_name":"AravPriya Diya"},"score":0,"creation_date":1647543264,"post_id":71517446,"comment_id":126403860,"body_markdown":"yess @scunliffe","body":"yess @scunliffe"}],"owner":{"account_id":24592844,"reputation":11,"user_id":18496464,"display_name":"AravPriya Diya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647613286,"creation_date":1647542210,"question_id":71517446,"body_markdown":"Creating a chrome driver instance\r\nLoading it with amazon url\r\nSearching with one plus 9 pro option \r\nSelecting the first result and adding it to cart.\r\nWhen I use getAttribute(&quot;innertext&quot;) to retrieve price from the cart.\r\nSelenium returns $###.## instead of actual price.\r\nCan any one help me to get actual price instead of $###.##\r\nAdding sample code.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\npublic class AmazonOnePlus {\r\n    ChromeDriver driver;\r\n    \r\n\tvoid initializeChrome() {\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t}\r\n\t    \r\n\tvoid openAmazonAndSearch() {\r\n\t\tdriver.get(&quot;https://www.amazon.in/&quot;);\r\n\t\tdriver.findElement(By.id(&quot;twotabsearchtextbox&quot;)).sendKeys(&quot;One Plus 9 pro&quot;, Keys.ENTER);\r\n\t}\r\n\t\r\n\r\n\tpublic void clickImg() {\r\n\t  driver.navigate().refresh();\r\n\t  String firstImg = &quot;//div[@class=&#39;sg-col-inner&#39;]//span/ancestor::div[@class=&#39;a-section&#39;]/div//img&quot;;\r\n\t  \r\n    \t\r\n\t  // open the link in new tab, Keys.Chord string passed to sendKeys\r\n\t  driver.findElements(By.xpath(firstImg)).get(0).click();\r\n\t  \r\n\t   // hold all window handles in array list\r\n\t   ArrayList&lt;String&gt; newTb = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t   \r\n\t   // switch to new tab\r\n\t   driver.switchTo().window(newTb.get(1));\r\n\t   \r\n\t}\r\n\t\r\n\tvoid getSubTotal(AmazonOnePlus a) {\r\n\t\tdriver.findElement(By.id(&quot;add-to-cart-button&quot;)).click();\r\n\t\tString subtotal = driver.findElement(By.id(&quot;attach-accessory-cart-subtotal&quot;)).getAttribute(&quot;innerText&quot;);\r\n\t\tSystem.out.println(&quot;subsss  &quot;+subtotal);\r\n\t\tdriver.quit();\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n      AmazonOnePlus am = new AmazonOnePlus();\r\n      am.initializeChrome();\r\n      am.openAmazonAndSearch();\r\n      am.clickImg();\r\n      am.getSubTotal(am);\r\n\t}\r\n\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jlGfq.png","title":"Selenium returns $###.## number format instead of actual value","body":"<p>Creating a chrome driver instance\nLoading it with amazon url\nSearching with one plus 9 pro option\nSelecting the first result and adding it to cart.\nWhen I use getAttribute(&quot;innertext&quot;) to retrieve price from the cart.\nSelenium returns $###.## instead of actual price.\nCan any one help me to get actual price instead of $###.##\nAdding sample code.</p>\n<p>public class AmazonOnePlus {\nChromeDriver driver;</p>\n<pre><code>void initializeChrome() {\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n}\n    \nvoid openAmazonAndSearch() {\n    driver.get(&quot;https://www.amazon.in/&quot;);\n    driver.findElement(By.id(&quot;twotabsearchtextbox&quot;)).sendKeys(&quot;One Plus 9 pro&quot;, Keys.ENTER);\n}\n\n\npublic void clickImg() {\n  driver.navigate().refresh();\n  String firstImg = &quot;//div[@class='sg-col-inner']//span/ancestor::div[@class='a-section']/div//img&quot;;\n  \n    \n  // open the link in new tab, Keys.Chord string passed to sendKeys\n  driver.findElements(By.xpath(firstImg)).get(0).click();\n  \n   // hold all window handles in array list\n   ArrayList&lt;String&gt; newTb = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n   \n   // switch to new tab\n   driver.switchTo().window(newTb.get(1));\n   \n}\n\nvoid getSubTotal(AmazonOnePlus a) {\n    driver.findElement(By.id(&quot;add-to-cart-button&quot;)).click();\n    String subtotal = driver.findElement(By.id(&quot;attach-accessory-cart-subtotal&quot;)).getAttribute(&quot;innerText&quot;);\n    System.out.println(&quot;subsss  &quot;+subtotal);\n    driver.quit();\n    \n}\n\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n  AmazonOnePlus am = new AmazonOnePlus();\n  am.initializeChrome();\n  am.openAmazonAndSearch();\n  am.clickImg();\n  am.getSubTotal(am);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","google-bigquery","partitioning"],"comments":[{"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"score":0,"creation_date":1647512647,"post_id":71494288,"comment_id":126391990,"body_markdown":"Have you follow the following example on google documentation about [partitioned tables](https://cloud.google.com/bigquery/docs/creating-partitioned-tables#create_a_time-unit_column-partitioned_table)?","body":"Have you follow the following example on google documentation about <a href=\"https://cloud.google.com/bigquery/docs/creating-partitioned-tables#create_a_time-unit_column-partitioned_table\" rel=\"nofollow noreferrer\">partitioned tables</a>?"}],"answers":[{"tags":[],"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647613183,"creation_date":1647514365,"answer_id":71511087,"question_id":71494288,"body_markdown":"Week is not supported at the moment. According to the official java documentation about [TimePartitioning Types](https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/com/google/cloud/bigquery/TimePartitioning.Type.html):\r\n\r\n&gt; The supported types are DAY, HOUR, MONTH, and YEAR, which will generate one partition per day, hour, month, and year, respectively. When the interval is not specified, the default behavior is DAY.\r\n\r\nAlso, what is your bigquery library version? latest version supports MONTH, old versions (&lt;= v1.117.3) DAY/HOUR only. \r\n\r\n**Note**: You can check the current code for `TimePartitioning.java` of the bigquery library on the official [github project page](https://github.com/googleapis/java-bigquery/blob/main/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/TimePartitioning.java).\r\n\r\nAs mention in the comment, There is a good code sample on the official google page to create a partitioned table. Please check the page about [Create a time-unit column-partitioned table](https://cloud.google.com/bigquery/docs/creating-partitioned-tables#create_a_time-unit_column-partitioned_table). Also, an alternative to partitioned tables would be `sharded tables` but I don&#39;t think its as optimal as partitioned tables as documented on [Partitioning versus sharding](https://cloud.google.com/bigquery/docs/partitioned-tables#dt_partition_shard). \r\n\r\nAs a final note, you can request a feature request on [issue tracker](https://issuetracker.google.com/issues/new?component=187149&amp;template=1162685) for an update to the current library or leave an open issue on the current [github project](https://github.com/googleapis/java-bigquery/issues).","title":"creating time partition by week","body":"<p>Week is not supported at the moment. According to the official java documentation about <a href=\"https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/com/google/cloud/bigquery/TimePartitioning.Type.html\" rel=\"nofollow noreferrer\">TimePartitioning Types</a>:</p>\n<blockquote>\n<p>The supported types are DAY, HOUR, MONTH, and YEAR, which will generate one partition per day, hour, month, and year, respectively. When the interval is not specified, the default behavior is DAY.</p>\n</blockquote>\n<p>Also, what is your bigquery library version? latest version supports MONTH, old versions (&lt;= v1.117.3) DAY/HOUR only.</p>\n<p><strong>Note</strong>: You can check the current code for <code>TimePartitioning.java</code> of the bigquery library on the official <a href=\"https://github.com/googleapis/java-bigquery/blob/main/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/TimePartitioning.java\" rel=\"nofollow noreferrer\">github project page</a>.</p>\n<p>As mention in the comment, There is a good code sample on the official google page to create a partitioned table. Please check the page about <a href=\"https://cloud.google.com/bigquery/docs/creating-partitioned-tables#create_a_time-unit_column-partitioned_table\" rel=\"nofollow noreferrer\">Create a time-unit column-partitioned table</a>. Also, an alternative to partitioned tables would be <code>sharded tables</code> but I don't think its as optimal as partitioned tables as documented on <a href=\"https://cloud.google.com/bigquery/docs/partitioned-tables#dt_partition_shard\" rel=\"nofollow noreferrer\">Partitioning versus sharding</a>.</p>\n<p>As a final note, you can request a feature request on <a href=\"https://issuetracker.google.com/issues/new?component=187149&amp;template=1162685\" rel=\"nofollow noreferrer\">issue tracker</a> for an update to the current library or leave an open issue on the current <a href=\"https://github.com/googleapis/java-bigquery/issues\" rel=\"nofollow noreferrer\">github project</a>.</p>\n"}],"owner":{"account_id":14246565,"reputation":1481,"user_id":10291435,"display_name":"Mee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647613183,"creation_date":1647421651,"question_id":71494288,"body_markdown":"I am trying to build partitioned big query table, previously it was  built using time partitioning type ```DAY```, but I want to change it to ```week```, I simply changed ```Day``` into ```WEEEk``` but got compilation error:\r\n```\r\ncannot find symbol\r\n  symbol:   variable WEEk\r\n  location: class com.google.cloud.bigquery.TimePartitioning.Type\r\n```\r\nthe code used:\r\n```\r\nTimePartitioning.newBuilder(TimePartitioning.Type.DAY)\r\n                                                    .setField(&quot;partition_year_month_day&quot;) //  name of the column used for partitioning\r\n                                                    .build();\r\n                                    StandardTableDefinition tableDefinition = StandardTableDefinition.newBuilder()\r\n                                            .setSchema(schema)\r\n                                            .setTimePartitioning(partitioning)\r\n                                            .build();\r\n                                    TableInfo tableInfo = TableInfo.of(tableId, tableDefinition);\r\n\r\n                                    bigquery.create(tableInfo);\r\n```\r\nAny idea how to make it partitioned by week? I understand that TYPE can be set to month, hour based on this link: https://googleapis.dev/python/bigquery/latest/generated/google.cloud.bigquery.table.TimePartitioning.html\r\nbut is there a way to do partition into week?\r\nUPDATE:\r\nI tried to do partitioning by month and I got the same error:\r\n```\r\ncannot find symbol\r\n[ERROR]   symbol:   variable MONTH\r\n[ERROR]   location: class com.google.cloud.bigquery.TimePartitioning.Type\r\n\r\n```","title":"creating time partition by week","body":"<p>I am trying to build partitioned big query table, previously it was  built using time partitioning type <code>DAY</code>, but I want to change it to <code>week</code>, I simply changed <code>Day</code> into <code>WEEEk</code> but got compilation error:</p>\n<pre><code>cannot find symbol\n  symbol:   variable WEEk\n  location: class com.google.cloud.bigquery.TimePartitioning.Type\n</code></pre>\n<p>the code used:</p>\n<pre><code>TimePartitioning.newBuilder(TimePartitioning.Type.DAY)\n                                                    .setField(&quot;partition_year_month_day&quot;) //  name of the column used for partitioning\n                                                    .build();\n                                    StandardTableDefinition tableDefinition = StandardTableDefinition.newBuilder()\n                                            .setSchema(schema)\n                                            .setTimePartitioning(partitioning)\n                                            .build();\n                                    TableInfo tableInfo = TableInfo.of(tableId, tableDefinition);\n\n                                    bigquery.create(tableInfo);\n</code></pre>\n<p>Any idea how to make it partitioned by week? I understand that TYPE can be set to month, hour based on this link: <a href=\"https://googleapis.dev/python/bigquery/latest/generated/google.cloud.bigquery.table.TimePartitioning.html\" rel=\"nofollow noreferrer\">https://googleapis.dev/python/bigquery/latest/generated/google.cloud.bigquery.table.TimePartitioning.html</a>\nbut is there a way to do partition into week?\nUPDATE:\nI tried to do partitioning by month and I got the same error:</p>\n<pre><code>cannot find symbol\n[ERROR]   symbol:   variable MONTH\n[ERROR]   location: class com.google.cloud.bigquery.TimePartitioning.Type\n\n</code></pre>\n"},{"tags":["java","maven","heroku","google-sheets"],"answers":[{"tags":[],"owner":{"account_id":6974758,"reputation":956,"user_id":5349869,"display_name":"raviiii1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647584905,"creation_date":1647584905,"answer_id":71523189,"question_id":71523152,"body_markdown":"`Address already in use` -- the address here usually mean `PORT`.\r\n\r\nIt seems an application is already running on `Heroku` on port `8080`, so try changing the port and redeploy and you should be fine.","title":"&quot;java.io.IOException: java.net.BindException: Address already in use&quot; in Java Maven Heroku App","body":"<p><code>Address already in use</code> -- the address here usually mean <code>PORT</code>.</p>\n<p>It seems an application is already running on <code>Heroku</code> on port <code>8080</code>, so try changing the port and redeploy and you should be fine.</p>\n"},{"tags":[],"owner":{"account_id":24597796,"reputation":3,"user_id":18500982,"display_name":"Artillery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647613093,"creation_date":1647613093,"answer_id":71528434,"question_id":71523152,"body_markdown":"I used -1 in setPort, this value automatically connects the application to an unused port.\r\n\r\nThis is the code that works now.\r\n\r\n\r\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n        InputStream in = ProcessGoogleSheets.class.getResourceAsStream(CREDENTIALS_FINAL_PATH);\r\n        if (in == null) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FINAL_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(-1).build();\r\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    }","title":"&quot;java.io.IOException: java.net.BindException: Address already in use&quot; in Java Maven Heroku App","body":"<p>I used -1 in setPort, this value automatically connects the application to an unused port.</p>\n<p>This is the code that works now.</p>\n<pre><code>private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n    InputStream in = ProcessGoogleSheets.class.getResourceAsStream(CREDENTIALS_FINAL_PATH);\n    if (in == null) {\n        throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FINAL_PATH);\n    }\n    GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n            .setAccessType(&quot;offline&quot;)\n            .build();\n    LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(-1).build();\n    return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24597796,"reputation":3,"user_id":18500982,"display_name":"Artillery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71523189,"answer_count":2,"score":0,"last_activity_date":1647613093,"creation_date":1647584512,"question_id":71523152,"body_markdown":"I am trying to pull data from google sheets using their API and my code works from my local machine. However, after deploying it in Heroku, I get this error. This is the part of the code that I suspected to fail when deployed in Heroku.\r\n\r\n```\r\nprivate static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n        InputStream in = ProcessGoogleSheets.class.getResourceAsStream(CREDENTIALS_FINAL_PATH);\r\n        if (in == null) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FINAL_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();\r\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    }\r\n```\r\n\r\nThis is the log returned by Heroku.\r\n```\r\n2022-03-18T06:12:02.088566+00:00 app[web.1]: Mar 18, 2022 6:12:02 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n2022-03-18T06:12:02.088574+00:00 app[web.1]: SEVERE: Servlet.service() for servlet [GetTrackOrderData] in context with path [] threw exception\r\n2022-03-18T06:12:02.088574+00:00 app[web.1]: java.io.IOException: java.net.BindException: Address already in use\r\n2022-03-18T06:12:02.088575+00:00 app[web.1]: at com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver.getRedirectUri(LocalServerReceiver.java:127)\r\n2022-03-18T06:12:02.088576+00:00 app[web.1]: at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:121)\r\n2022-03-18T06:12:02.088576+00:00 app[web.1]: at com.servlets.ProcessGoogleSheets.getCredentials(ProcessGoogleSheets.java:46)\r\n2022-03-18T06:12:02.088577+00:00 app[web.1]: at com.servlets.ProcessGoogleSheets.getData(ProcessGoogleSheets.java:51)\r\n2022-03-18T06:12:02.088577+00:00 app[web.1]: at com.servlets.GetTrackOrderData.processRequest(GetTrackOrderData.java:20)\r\n2022-03-18T06:12:02.088578+00:00 app[web.1]: at com.servlets.GetTrackOrderData.doPost(GetTrackOrderData.java:68)\r\n2022-03-18T06:12:02.088578+00:00 app[web.1]: at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n2022-03-18T06:12:02.088578+00:00 app[web.1]: at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n2022-03-18T06:12:02.088579+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n2022-03-18T06:12:02.088579+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-03-18T06:12:02.088579+00:00 app[web.1]: at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n2022-03-18T06:12:02.088580+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n2022-03-18T06:12:02.088580+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n2022-03-18T06:12:02.088580+00:00 app[web.1]: at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n2022-03-18T06:12:02.088583+00:00 app[web.1]: at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n2022-03-18T06:12:02.088583+00:00 app[web.1]: at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\r\n2022-03-18T06:12:02.088583+00:00 app[web.1]: at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n2022-03-18T06:12:02.088584+00:00 app[web.1]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2022-03-18T06:12:02.088584+00:00 app[web.1]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2022-03-18T06:12:02.088584+00:00 app[web.1]: at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n2022-03-18T06:12:02.088585+00:00 app[web.1]: at java.lang.Thread.run(Thread.java:750)\r\n2022-03-18T06:12:02.088586+00:00 app[web.1]: Caused by: java.net.BindException: Address already in use\r\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.Net.bind0(Native Method)\r\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.Net.bind(Net.java:461)\r\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.Net.bind(Net.java:453)\r\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:222)\r\n2022-03-18T06:12:02.088588+00:00 app[web.1]: at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:85)\r\n2022-03-18T06:12:02.088588+00:00 app[web.1]: at org.eclipse.jetty.server.nio.SelectChannelConnector.open(SelectChannelConnector.java:187)\r\n2022-03-18T06:12:02.088588+00:00 app[web.1]: at org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:316)\r\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.server.nio.SelectChannelConnector.doStart(SelectChannelConnector.java:265)\r\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.server.Server.doStart(Server.java:293)\r\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\r\n2022-03-18T06:12:02.088590+00:00 app[web.1]: at com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver.getRedirectUri(LocalServerReceiver.java:123)\r\n2022-03-18T06:12:02.088591+00:00 app[web.1]: ... 28 more\r\n2022-03-18T06:12:02.088591+00:00 app[web.1]:\r\n```\r\nAny ideas to fix this? Thanks in advance.","title":"&quot;java.io.IOException: java.net.BindException: Address already in use&quot; in Java Maven Heroku App","body":"<p>I am trying to pull data from google sheets using their API and my code works from my local machine. However, after deploying it in Heroku, I get this error. This is the part of the code that I suspected to fail when deployed in Heroku.</p>\n<pre><code>private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        InputStream in = ProcessGoogleSheets.class.getResourceAsStream(CREDENTIALS_FINAL_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FINAL_PATH);\n        }\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8080).build();\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    }\n</code></pre>\n<p>This is the log returned by Heroku.</p>\n<pre><code>2022-03-18T06:12:02.088566+00:00 app[web.1]: Mar 18, 2022 6:12:02 AM org.apache.catalina.core.StandardWrapperValve invoke\n2022-03-18T06:12:02.088574+00:00 app[web.1]: SEVERE: Servlet.service() for servlet [GetTrackOrderData] in context with path [] threw exception\n2022-03-18T06:12:02.088574+00:00 app[web.1]: java.io.IOException: java.net.BindException: Address already in use\n2022-03-18T06:12:02.088575+00:00 app[web.1]: at com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver.getRedirectUri(LocalServerReceiver.java:127)\n2022-03-18T06:12:02.088576+00:00 app[web.1]: at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:121)\n2022-03-18T06:12:02.088576+00:00 app[web.1]: at com.servlets.ProcessGoogleSheets.getCredentials(ProcessGoogleSheets.java:46)\n2022-03-18T06:12:02.088577+00:00 app[web.1]: at com.servlets.ProcessGoogleSheets.getData(ProcessGoogleSheets.java:51)\n2022-03-18T06:12:02.088577+00:00 app[web.1]: at com.servlets.GetTrackOrderData.processRequest(GetTrackOrderData.java:20)\n2022-03-18T06:12:02.088578+00:00 app[web.1]: at com.servlets.GetTrackOrderData.doPost(GetTrackOrderData.java:68)\n2022-03-18T06:12:02.088578+00:00 app[web.1]: at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n2022-03-18T06:12:02.088578+00:00 app[web.1]: at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n2022-03-18T06:12:02.088579+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n2022-03-18T06:12:02.088579+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-03-18T06:12:02.088579+00:00 app[web.1]: at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n2022-03-18T06:12:02.088580+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n2022-03-18T06:12:02.088580+00:00 app[web.1]: at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n2022-03-18T06:12:02.088580+00:00 app[web.1]: at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n2022-03-18T06:12:02.088581+00:00 app[web.1]: at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n2022-03-18T06:12:02.088582+00:00 app[web.1]: at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n2022-03-18T06:12:02.088583+00:00 app[web.1]: at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n2022-03-18T06:12:02.088583+00:00 app[web.1]: at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\n2022-03-18T06:12:02.088583+00:00 app[web.1]: at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n2022-03-18T06:12:02.088584+00:00 app[web.1]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2022-03-18T06:12:02.088584+00:00 app[web.1]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2022-03-18T06:12:02.088584+00:00 app[web.1]: at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n2022-03-18T06:12:02.088585+00:00 app[web.1]: at java.lang.Thread.run(Thread.java:750)\n2022-03-18T06:12:02.088586+00:00 app[web.1]: Caused by: java.net.BindException: Address already in use\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.Net.bind0(Native Method)\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.Net.bind(Net.java:461)\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.Net.bind(Net.java:453)\n2022-03-18T06:12:02.088587+00:00 app[web.1]: at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:222)\n2022-03-18T06:12:02.088588+00:00 app[web.1]: at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:85)\n2022-03-18T06:12:02.088588+00:00 app[web.1]: at org.eclipse.jetty.server.nio.SelectChannelConnector.open(SelectChannelConnector.java:187)\n2022-03-18T06:12:02.088588+00:00 app[web.1]: at org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:316)\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.server.nio.SelectChannelConnector.doStart(SelectChannelConnector.java:265)\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.server.Server.doStart(Server.java:293)\n2022-03-18T06:12:02.088589+00:00 app[web.1]: at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)\n2022-03-18T06:12:02.088590+00:00 app[web.1]: at com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver.getRedirectUri(LocalServerReceiver.java:123)\n2022-03-18T06:12:02.088591+00:00 app[web.1]: ... 28 more\n2022-03-18T06:12:02.088591+00:00 app[web.1]:\n</code></pre>\n<p>Any ideas to fix this? Thanks in advance.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1647608642,"post_id":71527434,"comment_id":126419545,"body_markdown":"there is no multi base inheritence in Java. You will have to switch to interfaces.","body":"there is no multi base inheritence in Java. You will have to switch to interfaces."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647610003,"post_id":71527434,"comment_id":126420068,"body_markdown":"@Antoniossss inheritance, even of interfaces, is not the correct way to solve this problem.","body":"@Antoniossss inheritance, even of interfaces, is not the correct way to solve this problem."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647615505,"post_id":71527434,"comment_id":126422315,"body_markdown":"@kaley did you get a chance to read my answer? Do you understand the concept?","body":"@kaley did you get a chance to read my answer? Do you understand the concept?"}],"answers":[{"tags":[],"owner":{"account_id":20104169,"reputation":3,"user_id":14742073,"display_name":"KALAGA Serge Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647609640,"creation_date":1647609381,"answer_id":71527624,"question_id":71527434,"body_markdown":"Imagine that you have a class A and you want to extend a class B of class A,\r\nVois l&#39;exemple suivante :\r\n\r\n    class A {\r\n        String a = &quot;Hello world&quot;;\r\n    }\r\n\r\n   \r\n\r\n    class B extends A {\r\n        void m () {\r\n            System.out.println (a);\r\n        }\r\n    }\r\n\r\nClass B will have access to all the attributes of class A.","title":"Subclass inherit superclass and add attributes","body":"<p>Imagine that you have a class A and you want to extend a class B of class A,\nVois l'exemple suivante :</p>\n<pre><code>class A {\n    String a = &quot;Hello world&quot;;\n}\n\n\n\nclass B extends A {\n    void m () {\n        System.out.println (a);\n    }\n}\n</code></pre>\n<p>Class B will have access to all the attributes of class A.</p>\n"},{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647609917,"creation_date":1647609917,"answer_id":71527721,"question_id":71527434,"body_markdown":"Just create your class dog and make it extends the Animal class:\r\n\r\n    public class Animal {\r\n        public Leg leg;\r\n    }\r\n    \r\n    public class Dog extends Animal {\r\n        // dog have also leg from superclass\r\n        //add dog attributes here\r\n    }","title":"Subclass inherit superclass and add attributes","body":"<p>Just create your class dog and make it extends the Animal class:</p>\n<pre><code>public class Animal {\n    public Leg leg;\n}\n\npublic class Dog extends Animal {\n    // dog have also leg from superclass\n    //add dog attributes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647612926,"creation_date":1647609971,"answer_id":71527739,"question_id":71527434,"body_markdown":"Contrary to the suggestion in the comments, this problem should not be solved through inheritance. Yes, even implementing an interface is consider &quot;soft&quot; inheritance and will not work without incurring in unnecessary, &quot;dangerous&quot; modifications to existing code. A class should not extend another simply to gain access to some a dependency contained in another class. I know that it sounds confusing. I would like to share this Stack Overflow answer where I explain and illustrate in detail the concept of [Dependency Injection][1]; which is what you need to solve this problem.\r\n\r\nIn your example, the `Animal` class possesses an attribute `Leg` that doesn&#39;t contain &quot;hair&quot;. Along comes a new class `Dog` that needs a different kind of `Leg` that contains &quot;hair&quot; instead of &quot;toes&quot;. Therefore, this is an incorrect use of inheritance. What you need to do instead is inject the &quot;hairy-leg&quot; behavior to the already existing `Animal` class rather than create a new class only to exhibit a different behavior. For example:\r\n\r\n```\r\npublic class Animal {\r\n    Behavior behavior;\r\n    public void addBehavior(Behavior behavior) {\r\n        this.behavior = behavior;\r\n    }\r\n\r\n    public void displayBehavior() {\r\n        behavior.wiggle();\r\n    }\r\n}\r\n```\r\nYou could create an entire family of &quot;behaviors&quot; that could be injected to a particular animal instance. For this example, I will create only two behaviors.\r\n```\r\npublic interface Behavior {\r\n    void wiggle();\r\n}\r\n```\r\n```\r\npublic class HairyLegBehavior implements Behavior {\r\n    @Override\r\n    public void wiggle() {\r\n        System.out.println(&quot;The wind is wiggling the hair on my legs&quot;);\r\n    }\r\n}\r\n\r\npublic class ToeBehavior implements Behavior {\r\n    @Override\r\n    public void wiggle() {\r\n        System.out.println(&quot;I&#39;m wiggling my toes&quot;);\r\n    }\r\n}\r\n```\r\nThen, you simply &quot;inject&quot; the desired behavior to each instance.\r\n```\r\nAnimal dog = new Animal();\r\nAnimal man = new Animal();\r\ndog.addBehavior(new HairyLegBehavior());\r\nman.addBehavior(new ToeBehavior());\r\ndog.displayBehavior();\r\nman.displayBehavior();\r\n```\r\nNotice that this approach accomplishes the same goal without the need of unnecessary  inheritance chains. Other benefits of this approach:\r\n\r\n 1. Observes the Open/Close principle: Dependency Injection when done properly, extends the capabilities of your code without the need to modify existing capabilities. In the OP&#39;s example, the requirement of the `Dog` class would have needed modifying the `Leg` class to allow adding &quot;hair&quot; to it. This could impact the existing `Animal` class, which could be undesirable. This change would require more testing of `Animal` to ensure the change would not interfere with any existing functions (to name one negative aspect of this change).\r\n 2. Coding to interfaces: Making `Behavior` an interface, allows the code to adopt new behavior seamlessly. In the linked example, I mentioned how games like Apex Legends and Skyrim have this concept of &quot;skins&quot;, where you can add attributes to characters on the fly. Although I do not know for certain how this was implemented, it seems this is done thru a common interface using a &quot;Strategy&quot; for applying overlays to the characters by EXPANDING the &quot;skins&quot; rather than creating new characters with different attributes.\r\n\r\nIn theory, you could have a set of behaviors of a mapping of behaviors to the `Animal` class to inject each instance with different types of behaviors. For example: eating behavior, walking behavior, sound behavior, sleep behavior, etc. \r\n\r\nIn conclusion, this is why some of you have heard the following expression or idea: ***Prefer composition over inheritance***.\r\n\r\n  [1]: https://stackoverflow.com/a/70980856/2851311","title":"Subclass inherit superclass and add attributes","body":"<p>Contrary to the suggestion in the comments, this problem should not be solved through inheritance. Yes, even implementing an interface is consider &quot;soft&quot; inheritance and will not work without incurring in unnecessary, &quot;dangerous&quot; modifications to existing code. A class should not extend another simply to gain access to some a dependency contained in another class. I know that it sounds confusing. I would like to share this Stack Overflow answer where I explain and illustrate in detail the concept of <a href=\"https://stackoverflow.com/a/70980856/2851311\">Dependency Injection</a>; which is what you need to solve this problem.</p>\n<p>In your example, the <code>Animal</code> class possesses an attribute <code>Leg</code> that doesn't contain &quot;hair&quot;. Along comes a new class <code>Dog</code> that needs a different kind of <code>Leg</code> that contains &quot;hair&quot; instead of &quot;toes&quot;. Therefore, this is an incorrect use of inheritance. What you need to do instead is inject the &quot;hairy-leg&quot; behavior to the already existing <code>Animal</code> class rather than create a new class only to exhibit a different behavior. For example:</p>\n<pre><code>public class Animal {\n    Behavior behavior;\n    public void addBehavior(Behavior behavior) {\n        this.behavior = behavior;\n    }\n\n    public void displayBehavior() {\n        behavior.wiggle();\n    }\n}\n</code></pre>\n<p>You could create an entire family of &quot;behaviors&quot; that could be injected to a particular animal instance. For this example, I will create only two behaviors.</p>\n<pre><code>public interface Behavior {\n    void wiggle();\n}\n</code></pre>\n<pre><code>public class HairyLegBehavior implements Behavior {\n    @Override\n    public void wiggle() {\n        System.out.println(&quot;The wind is wiggling the hair on my legs&quot;);\n    }\n}\n\npublic class ToeBehavior implements Behavior {\n    @Override\n    public void wiggle() {\n        System.out.println(&quot;I'm wiggling my toes&quot;);\n    }\n}\n</code></pre>\n<p>Then, you simply &quot;inject&quot; the desired behavior to each instance.</p>\n<pre><code>Animal dog = new Animal();\nAnimal man = new Animal();\ndog.addBehavior(new HairyLegBehavior());\nman.addBehavior(new ToeBehavior());\ndog.displayBehavior();\nman.displayBehavior();\n</code></pre>\n<p>Notice that this approach accomplishes the same goal without the need of unnecessary  inheritance chains. Other benefits of this approach:</p>\n<ol>\n<li>Observes the Open/Close principle: Dependency Injection when done properly, extends the capabilities of your code without the need to modify existing capabilities. In the OP's example, the requirement of the <code>Dog</code> class would have needed modifying the <code>Leg</code> class to allow adding &quot;hair&quot; to it. This could impact the existing <code>Animal</code> class, which could be undesirable. This change would require more testing of <code>Animal</code> to ensure the change would not interfere with any existing functions (to name one negative aspect of this change).</li>\n<li>Coding to interfaces: Making <code>Behavior</code> an interface, allows the code to adopt new behavior seamlessly. In the linked example, I mentioned how games like Apex Legends and Skyrim have this concept of &quot;skins&quot;, where you can add attributes to characters on the fly. Although I do not know for certain how this was implemented, it seems this is done thru a common interface using a &quot;Strategy&quot; for applying overlays to the characters by EXPANDING the &quot;skins&quot; rather than creating new characters with different attributes.</li>\n</ol>\n<p>In theory, you could have a set of behaviors of a mapping of behaviors to the <code>Animal</code> class to inject each instance with different types of behaviors. For example: eating behavior, walking behavior, sound behavior, sleep behavior, etc.</p>\n<p>In conclusion, this is why some of you have heard the following expression or idea: <em><strong>Prefer composition over inheritance</strong></em>.</p>\n"}],"owner":{"account_id":12600402,"reputation":13,"user_id":9163345,"display_name":"Kaley"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71527739,"answer_count":3,"score":0,"last_activity_date":1647612926,"creation_date":1647608461,"question_id":71527434,"body_markdown":"I have two classes that looks like this\r\n\r\n    public class Animal {\r\n    \tpublic Leg leg;\r\n    }\r\n    public class Leg {\r\n    \tpublic Toe toe;\r\n    }\r\n\r\nNow, I would like to have a new class called Dog to extend class animal and I would like to add Hair on the class Leg. How to extend the class to make it work?","title":"Subclass inherit superclass and add attributes","body":"<p>I have two classes that looks like this</p>\n<pre><code>public class Animal {\n    public Leg leg;\n}\npublic class Leg {\n    public Toe toe;\n}\n</code></pre>\n<p>Now, I would like to have a new class called Dog to extend class animal and I would like to add Hair on the class Leg. How to extend the class to make it work?</p>\n"},{"tags":["java","android","background-process","android-sensors","sensormanager"],"answers":[{"tags":[],"owner":{"account_id":7361187,"reputation":91,"user_id":5604419,"display_name":"Olaf Achthoven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647612741,"creation_date":1647612741,"answer_id":71528345,"question_id":71527902,"body_markdown":"The reason it stops is quite easy, you stop listening in the onPause method. If you want to have the steps count in the background, you would need to implement a service. But seeing the rest of the code, maybe work on something simpler first. With Android optimizing battery usage, you will have a lot to take care of to have your service run in the background.\r\n\r\nNot sure what you are trying to do, but you are defining your own SharedPreferences implementation. Normally you would call something like:\r\n```\r\nfinal SharedPreferences prefs = context.getSharedPreferences(&quot;filename&quot;, MODE_PRIVATE);\r\n```","title":"Java - Android - Pedometer Doesn&#39;t count steps when the app is running in the background","body":"<p>The reason it stops is quite easy, you stop listening in the onPause method. If you want to have the steps count in the background, you would need to implement a service. But seeing the rest of the code, maybe work on something simpler first. With Android optimizing battery usage, you will have a lot to take care of to have your service run in the background.</p>\n<p>Not sure what you are trying to do, but you are defining your own SharedPreferences implementation. Normally you would call something like:</p>\n<pre><code>final SharedPreferences prefs = context.getSharedPreferences(&quot;filename&quot;, MODE_PRIVATE);\n</code></pre>\n"}],"owner":{"account_id":21267156,"reputation":1,"user_id":15647228,"display_name":"mmt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":791,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647612741,"creation_date":1647610792,"question_id":71527902,"body_markdown":"My problem is that my pedometer only counts the steps when I have the app open.\r\n\r\nAs soon as I leave the app, it stops counting.\r\n\r\nThe goal of the Android app is that the steps are counted as long as the app is in the foreground or in the background.\r\n\r\nWhat do I have to do to make it work when the app is in the background?\r\n\r\n\r\n    \r\n    package com.example.mysmartnutrition;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.content.pm.PackageManager;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.hardware.Sensor;\r\n    import android.hardware.SensorEvent;\r\n    import android.hardware.SensorEventListener;\r\n    import android.hardware.SensorManager;\r\n    import android.os.Bundle;\r\n    import android.preference.PreferenceManager;\r\n    import android.view.View;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    \r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements SensorEventListener {\r\n    \r\n        // Objects from the activity_main.xml file\r\n        private FloatingActionButton addButton;\r\n        private Button addBreakfast;\r\n        private Button addLunch;\r\n        private Button addDinner;\r\n        private TextView tvStepCounter;\r\n    \r\n        private SensorManager sensorManager;\r\n        private Sensor stepCounterSensor;\r\n        private boolean isStepCounterPresent;\r\n        private int stepCount = 0;\r\n        private int stepsOfToday = 0;\r\n        public int dayStep = 0;\r\n        /* private List&lt;Integer&gt; savedStepsList = new List&lt;Integer&gt;() {\r\n            @Override\r\n            public int size() {\r\n                return 0;\r\n            }\r\n    \r\n            @Override\r\n            public boolean isEmpty() {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean contains(@Nullable Object o) {\r\n                return false;\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public Iterator&lt;Integer&gt; iterator() {\r\n                return null;\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public Object[] toArray() {\r\n                return new Object[0];\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public &lt;T&gt; T[] toArray(@NonNull T[] a) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public boolean add(Integer integer) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean remove(@Nullable Object o) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean containsAll(@NonNull Collection&lt;?&gt; c) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean addAll(@NonNull Collection&lt;? extends Integer&gt; c) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean addAll(int index, @NonNull Collection&lt;? extends Integer&gt; c) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean removeAll(@NonNull Collection&lt;?&gt; c) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean retainAll(@NonNull Collection&lt;?&gt; c) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public void clear() {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public Integer get(int index) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public Integer set(int index, Integer element) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public void add(int index, Integer element) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public Integer remove(int index) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public int indexOf(@Nullable Object o) {\r\n                return 0;\r\n            }\r\n    \r\n            @Override\r\n            public int lastIndexOf(@Nullable Object o) {\r\n                return 0;\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public ListIterator&lt;Integer&gt; listIterator() {\r\n                return null;\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public ListIterator&lt;Integer&gt; listIterator(int index) {\r\n                return null;\r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public List&lt;Integer&gt; subList(int fromIndex, int toIndex) {\r\n                return null;\r\n            }\r\n        }; */\r\n    \r\n        public String savedDate;\r\n        public String notSavedDate;\r\n    \r\n        public SharedPreferences sharedPreferences = new SharedPreferences() {\r\n            @Override\r\n            public Map&lt;String, ?&gt; getAll() {\r\n                return null;\r\n            }\r\n    \r\n            @Nullable\r\n            @Override\r\n            public String getString(String key, @Nullable String defValue) {\r\n                return null;\r\n            }\r\n    \r\n            @Nullable\r\n            @Override\r\n            public Set&lt;String&gt; getStringSet(String key, @Nullable Set&lt;String&gt; defValues) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public int getInt(String key, int defValue) {\r\n                return 0;\r\n            }\r\n    \r\n            @Override\r\n            public long getLong(String key, long defValue) {\r\n                return 0;\r\n            }\r\n    \r\n            @Override\r\n            public float getFloat(String key, float defValue) {\r\n                return 0;\r\n            }\r\n    \r\n            @Override\r\n            public boolean getBoolean(String key, boolean defValue) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean contains(String key) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public Editor edit() {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public void registerOnSharedPreferenceChangeListener(OnSharedPreferenceChangeListener listener) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void unregisterOnSharedPreferenceChangeListener(OnSharedPreferenceChangeListener listener) {\r\n    \r\n            }\r\n        };\r\n        public SharedPreferences.Editor editor = new SharedPreferences.Editor() {\r\n            @Override\r\n            public SharedPreferences.Editor putString(String key, @Nullable String value) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public SharedPreferences.Editor putStringSet(String key, @Nullable Set&lt;String&gt; values) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public SharedPreferences.Editor putInt(String key, int value) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public SharedPreferences.Editor putLong(String key, long value) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public SharedPreferences.Editor putFloat(String key, float value) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public SharedPreferences.Editor putBoolean(String key, boolean value) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public SharedPreferences.Editor remove(String key) {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public SharedPreferences.Editor clear() {\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            public boolean commit() {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public void apply() {\r\n    \r\n            }\r\n        };\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            if(ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_DENIED){ //ask for permission\r\n                requestPermissions(new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, 0);\r\n            }\r\n    \r\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n    \r\n            sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n    \r\n            addButton = findViewById(R.id.fab);\r\n            addBreakfast = findViewById(R.id.add_product_breakfast);\r\n            addLunch = findViewById(R.id.add_product_lunch);\r\n            addDinner = findViewById(R.id.add_product_dinner);\r\n            tvStepCounter = findViewById(R.id.stepCounter);\r\n    \r\n            addButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(MainActivity.this, AddProduct.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            addBreakfast.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(MainActivity.this, AddProduct.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            addLunch.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(MainActivity.this, AddProduct.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            addDinner.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(MainActivity.this, AddProduct.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            if(sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER) != null) {\r\n                stepCounterSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n                isStepCounterPresent = true;\r\n            } else {\r\n                tvStepCounter.setText(&quot;Step counter sensor is not present&quot;);\r\n                isStepCounterPresent = false;\r\n            }\r\n    \r\n            savedDate = String.valueOf(java.time.LocalDate.now());\r\n    \r\n            SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\r\n            database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\r\n            dayStep = 0;\r\n            getData();\r\n            //Toast.makeText(getApplicationContext(), &quot; &quot; + savedDate + &quot; &quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    \r\n    \r\n    \r\n        public void pushStepsToDB(int dayStep){\r\n            SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\r\n            database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\r\n            String CONTACTS_TABLE_NAME = &quot;steps&quot;;\r\n            database.execSQL(&quot;UPDATE &quot;+CONTACTS_TABLE_NAME+&quot; SET stepCounter = &quot;+&quot;&#39;&quot;+ dayStep +&quot;&#39; &quot;+ &quot;WHERE date = &quot;+&quot;&#39;&quot;+savedDate+&quot;&#39;&quot;);\r\n            database.close();\r\n            //Toast.makeText(getApplicationContext(), &quot; &quot; + &quot;succesful&quot; + &quot; &quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        public void getData(){\r\n            savedDate = String.valueOf(java.time.LocalDate.now());\r\n            if(checkIsEntryAlreadyInDB() == true){\r\n                SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\r\n                Cursor cursor = database.rawQuery(&quot;select * from steps where date = &#39;&quot; + savedDate + &quot;&#39;&quot;, null);\r\n                cursor.moveToFirst();\r\n                String date = cursor.getString(0);\r\n                dayStep = Integer.valueOf(cursor.getString(1));\r\n                String kcal = cursor.getString(2);\r\n                cursor.close();\r\n                database.close();\r\n            }\r\n            else{\r\n                SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\r\n                database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\r\n                database.execSQL(&quot;insert into steps values(&#39;&quot; + savedDate + &quot;&#39;, &#39;0&#39;, &#39;0&#39;)&quot;);\r\n                database.close();\r\n                Toast.makeText(getApplicationContext(), &quot; &quot; + &quot;Entry not found but generated&quot; + &quot; &quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n    \r\n    \r\n            //Toast.makeText(getApplicationContext(), &quot; &quot; + dayStep + &quot; step&quot; + &quot; &quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n        }\r\n    \r\n        public boolean checkIsEntryAlreadyInDB(){\r\n            SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\r\n            Cursor cursor = database.rawQuery(&quot;select * from steps where date = &#39;&quot; + savedDate + &quot;&#39;&quot;, null);\r\n            if(cursor.getCount() &lt;= 0){\r\n                cursor.close();\r\n                return false;\r\n            }\r\n            cursor.close();\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void onSensorChanged(SensorEvent event) {\r\n            if(event.sensor == stepCounterSensor) {\r\n                stepCount = (int) event.values[0];\r\n                savedDate = String.valueOf(java.time.LocalDate.now());\r\n                SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\r\n                database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\r\n                dayStep = 0;\r\n                getData();\r\n                dayStep ++;\r\n                pushStepsToDB(dayStep);\r\n                tvStepCounter.setText(String.valueOf(dayStep));\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            if(sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER) != null) {\r\n                sensorManager.registerListener(this, stepCounterSensor, SensorManager.SENSOR_DELAY_UI);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            if(sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER) != null) {\r\n                sensorManager.unregisterListener(this, stepCounterSensor);\r\n            }\r\n        }\r\n    \r\n    \r\n    }","title":"Java - Android - Pedometer Doesn&#39;t count steps when the app is running in the background","body":"<p>My problem is that my pedometer only counts the steps when I have the app open.</p>\n<p>As soon as I leave the app, it stops counting.</p>\n<p>The goal of the Android app is that the steps are counted as long as the app is in the foreground or in the background.</p>\n<p>What do I have to do to make it work when the app is in the background?</p>\n<pre><code>package com.example.mysmartnutrition;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class MainActivity extends AppCompatActivity implements SensorEventListener {\n\n    // Objects from the activity_main.xml file\n    private FloatingActionButton addButton;\n    private Button addBreakfast;\n    private Button addLunch;\n    private Button addDinner;\n    private TextView tvStepCounter;\n\n    private SensorManager sensorManager;\n    private Sensor stepCounterSensor;\n    private boolean isStepCounterPresent;\n    private int stepCount = 0;\n    private int stepsOfToday = 0;\n    public int dayStep = 0;\n    /* private List&lt;Integer&gt; savedStepsList = new List&lt;Integer&gt;() {\n        @Override\n        public int size() {\n            return 0;\n        }\n\n        @Override\n        public boolean isEmpty() {\n            return false;\n        }\n\n        @Override\n        public boolean contains(@Nullable Object o) {\n            return false;\n        }\n\n        @NonNull\n        @Override\n        public Iterator&lt;Integer&gt; iterator() {\n            return null;\n        }\n\n        @NonNull\n        @Override\n        public Object[] toArray() {\n            return new Object[0];\n        }\n\n        @NonNull\n        @Override\n        public &lt;T&gt; T[] toArray(@NonNull T[] a) {\n            return null;\n        }\n\n        @Override\n        public boolean add(Integer integer) {\n            return false;\n        }\n\n        @Override\n        public boolean remove(@Nullable Object o) {\n            return false;\n        }\n\n        @Override\n        public boolean containsAll(@NonNull Collection&lt;?&gt; c) {\n            return false;\n        }\n\n        @Override\n        public boolean addAll(@NonNull Collection&lt;? extends Integer&gt; c) {\n            return false;\n        }\n\n        @Override\n        public boolean addAll(int index, @NonNull Collection&lt;? extends Integer&gt; c) {\n            return false;\n        }\n\n        @Override\n        public boolean removeAll(@NonNull Collection&lt;?&gt; c) {\n            return false;\n        }\n\n        @Override\n        public boolean retainAll(@NonNull Collection&lt;?&gt; c) {\n            return false;\n        }\n\n        @Override\n        public void clear() {\n\n        }\n\n        @Override\n        public Integer get(int index) {\n            return null;\n        }\n\n        @Override\n        public Integer set(int index, Integer element) {\n            return null;\n        }\n\n        @Override\n        public void add(int index, Integer element) {\n\n        }\n\n        @Override\n        public Integer remove(int index) {\n            return null;\n        }\n\n        @Override\n        public int indexOf(@Nullable Object o) {\n            return 0;\n        }\n\n        @Override\n        public int lastIndexOf(@Nullable Object o) {\n            return 0;\n        }\n\n        @NonNull\n        @Override\n        public ListIterator&lt;Integer&gt; listIterator() {\n            return null;\n        }\n\n        @NonNull\n        @Override\n        public ListIterator&lt;Integer&gt; listIterator(int index) {\n            return null;\n        }\n\n        @NonNull\n        @Override\n        public List&lt;Integer&gt; subList(int fromIndex, int toIndex) {\n            return null;\n        }\n    }; */\n\n    public String savedDate;\n    public String notSavedDate;\n\n    public SharedPreferences sharedPreferences = new SharedPreferences() {\n        @Override\n        public Map&lt;String, ?&gt; getAll() {\n            return null;\n        }\n\n        @Nullable\n        @Override\n        public String getString(String key, @Nullable String defValue) {\n            return null;\n        }\n\n        @Nullable\n        @Override\n        public Set&lt;String&gt; getStringSet(String key, @Nullable Set&lt;String&gt; defValues) {\n            return null;\n        }\n\n        @Override\n        public int getInt(String key, int defValue) {\n            return 0;\n        }\n\n        @Override\n        public long getLong(String key, long defValue) {\n            return 0;\n        }\n\n        @Override\n        public float getFloat(String key, float defValue) {\n            return 0;\n        }\n\n        @Override\n        public boolean getBoolean(String key, boolean defValue) {\n            return false;\n        }\n\n        @Override\n        public boolean contains(String key) {\n            return false;\n        }\n\n        @Override\n        public Editor edit() {\n            return null;\n        }\n\n        @Override\n        public void registerOnSharedPreferenceChangeListener(OnSharedPreferenceChangeListener listener) {\n\n        }\n\n        @Override\n        public void unregisterOnSharedPreferenceChangeListener(OnSharedPreferenceChangeListener listener) {\n\n        }\n    };\n    public SharedPreferences.Editor editor = new SharedPreferences.Editor() {\n        @Override\n        public SharedPreferences.Editor putString(String key, @Nullable String value) {\n            return null;\n        }\n\n        @Override\n        public SharedPreferences.Editor putStringSet(String key, @Nullable Set&lt;String&gt; values) {\n            return null;\n        }\n\n        @Override\n        public SharedPreferences.Editor putInt(String key, int value) {\n            return null;\n        }\n\n        @Override\n        public SharedPreferences.Editor putLong(String key, long value) {\n            return null;\n        }\n\n        @Override\n        public SharedPreferences.Editor putFloat(String key, float value) {\n            return null;\n        }\n\n        @Override\n        public SharedPreferences.Editor putBoolean(String key, boolean value) {\n            return null;\n        }\n\n        @Override\n        public SharedPreferences.Editor remove(String key) {\n            return null;\n        }\n\n        @Override\n        public SharedPreferences.Editor clear() {\n            return null;\n        }\n\n        @Override\n        public boolean commit() {\n            return false;\n        }\n\n        @Override\n        public void apply() {\n\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if(ContextCompat.checkSelfPermission(this,\n                Manifest.permission.ACTIVITY_RECOGNITION) == PackageManager.PERMISSION_DENIED){ //ask for permission\n            requestPermissions(new String[]{Manifest.permission.ACTIVITY_RECOGNITION}, 0);\n        }\n\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n\n        addButton = findViewById(R.id.fab);\n        addBreakfast = findViewById(R.id.add_product_breakfast);\n        addLunch = findViewById(R.id.add_product_lunch);\n        addDinner = findViewById(R.id.add_product_dinner);\n        tvStepCounter = findViewById(R.id.stepCounter);\n\n        addButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, AddProduct.class);\n                startActivity(intent);\n            }\n        });\n\n        addBreakfast.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, AddProduct.class);\n                startActivity(intent);\n            }\n        });\n\n        addLunch.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, AddProduct.class);\n                startActivity(intent);\n            }\n        });\n\n        addDinner.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, AddProduct.class);\n                startActivity(intent);\n            }\n        });\n\n        if(sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER) != null) {\n            stepCounterSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n            isStepCounterPresent = true;\n        } else {\n            tvStepCounter.setText(&quot;Step counter sensor is not present&quot;);\n            isStepCounterPresent = false;\n        }\n\n        savedDate = String.valueOf(java.time.LocalDate.now());\n\n        SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\n        database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\n        dayStep = 0;\n        getData();\n        //Toast.makeText(getApplicationContext(), &quot; &quot; + savedDate + &quot; &quot;, Toast.LENGTH_LONG).show();\n    }\n\n\n\n    public void pushStepsToDB(int dayStep){\n        SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\n        database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\n        String CONTACTS_TABLE_NAME = &quot;steps&quot;;\n        database.execSQL(&quot;UPDATE &quot;+CONTACTS_TABLE_NAME+&quot; SET stepCounter = &quot;+&quot;'&quot;+ dayStep +&quot;' &quot;+ &quot;WHERE date = &quot;+&quot;'&quot;+savedDate+&quot;'&quot;);\n        database.close();\n        //Toast.makeText(getApplicationContext(), &quot; &quot; + &quot;succesful&quot; + &quot; &quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    public void getData(){\n        savedDate = String.valueOf(java.time.LocalDate.now());\n        if(checkIsEntryAlreadyInDB() == true){\n            SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\n            Cursor cursor = database.rawQuery(&quot;select * from steps where date = '&quot; + savedDate + &quot;'&quot;, null);\n            cursor.moveToFirst();\n            String date = cursor.getString(0);\n            dayStep = Integer.valueOf(cursor.getString(1));\n            String kcal = cursor.getString(2);\n            cursor.close();\n            database.close();\n        }\n        else{\n            SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\n            database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\n            database.execSQL(&quot;insert into steps values('&quot; + savedDate + &quot;', '0', '0')&quot;);\n            database.close();\n            Toast.makeText(getApplicationContext(), &quot; &quot; + &quot;Entry not found but generated&quot; + &quot; &quot;, Toast.LENGTH_SHORT).show();\n\n        }\n\n\n        //Toast.makeText(getApplicationContext(), &quot; &quot; + dayStep + &quot; step&quot; + &quot; &quot;, Toast.LENGTH_SHORT).show();\n\n    }\n\n    public boolean checkIsEntryAlreadyInDB(){\n        SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\n        Cursor cursor = database.rawQuery(&quot;select * from steps where date = '&quot; + savedDate + &quot;'&quot;, null);\n        if(cursor.getCount() &lt;= 0){\n            cursor.close();\n            return false;\n        }\n        cursor.close();\n        return true;\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n        if(event.sensor == stepCounterSensor) {\n            stepCount = (int) event.values[0];\n            savedDate = String.valueOf(java.time.LocalDate.now());\n            SQLiteDatabase database = openOrCreateDatabase(&quot;mysmartnutrition.db&quot;, MODE_PRIVATE, null);\n            database.execSQL(&quot;create table if not exists steps(date text, stepCounter integer, kcalBurned integer)&quot;);\n            dayStep = 0;\n            getData();\n            dayStep ++;\n            pushStepsToDB(dayStep);\n            tvStepCounter.setText(String.valueOf(dayStep));\n        }\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if(sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER) != null) {\n            sensorManager.registerListener(this, stepCounterSensor, SensorManager.SENSOR_DELAY_UI);\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        if(sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER) != null) {\n            sensorManager.unregisterListener(this, stepCounterSensor);\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","kotlin","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647612626,"post_id":71528103,"comment_id":126421165,"body_markdown":"`authentication` is shared state in a singleton... Don&#39;t share state as that is dangerous.","body":"<code>authentication</code> is shared state in a singleton... Don&#39;t share state as that is dangerous."},{"owner":{"display_name":"user17526539"},"score":0,"creation_date":1647613393,"post_id":71528103,"comment_id":126421462,"body_markdown":"thank you @M.Deinum for your reply. but how to have access to the information of each authenticated user? I needed to do this because I have a lot of endpoints, and I thought this is a solution to get user info without extra work on each request","body":"thank you @M.Deinum for your reply. but how to have access to the information of each authenticated user? I needed to do this because I have a lot of endpoints, and I thought this is a solution to get user info without extra work on each request"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647677478,"post_id":71528103,"comment_id":126434797,"body_markdown":"Well ditch your custom solution and use a proven solution like Spring Security, Apache Shiro which all have that already tackled (and more).","body":"Well ditch your custom solution and use a proven solution like Spring Security, Apache Shiro which all have that already tackled (and more)."}],"answers":[{"tags":[],"owner":{"account_id":24601540,"reputation":1,"user_id":18504361,"display_name":"JONATHAN RICCARDI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647612366,"creation_date":1647612366,"answer_id":71528256,"question_id":71528103,"body_markdown":"authFromHeader have to be declared in lateinit","title":"Spring : Autowired object conflicted between users","body":"<p>authFromHeader have to be declared in lateinit</p>\n"}],"owner":{"display_name":"user17526539"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647612366,"creation_date":1647611652,"question_id":71528103,"body_markdown":"I am creating a backend application using spring boot, whose users authenticate using a JWT.\r\n\r\nwhen I validate the user&#39;s jwt (using a filter), I parse its content into an object that I named &quot;authentication&quot;, containing the user&#39;s id, name, role...\r\n\r\nafter creating this object with user data, I autowire it, so that I use it to any class (service, controller...)\r\n\r\nMost of the time I have no problem with it. but sometimes I find that this object contains another user&#39;s information.\r\n\r\nI thought that each user has access to an object containing his information, and if this object does not contain information then he will have an empty object, and not an object of the other users\r\n\r\nCan this reasoning create a conflict? and how to solve it?\r\n\r\nThis is my filter class\r\n\r\n\r\n    @Component\r\n    class AuthenticationFilter : Filter, Ordered\r\n    {\r\n    \t@Autowired\r\n    \tprivate lateinit var jwtUtils : JwtUtils\r\n    \t\r\n    \t@Autowired\r\n    \tprivate lateinit var beanFactory : AutowireCapableBeanFactory\r\n    \t\r\n    \t@Autowired\r\n    \tprivate lateinit var authentication : Authentication\r\n    \t\r\n    \t\r\n    \t\r\n    \toverride fun doFilter(request : ServletRequest, response : ServletResponse, chain : FilterChain)\r\n    \t{\r\n    \t\tif (request is HttpServletRequest)\r\n    \t\t{\r\n    \t\t\tval authFromHeader : Authentication? = getAuthenticatedUser(request)\r\n    \t\t\t\r\n    \t\t\tif (authFromHeader != null)\r\n    \t\t\t{\r\n    \t\t\t\tauthentication.id = authFromHeader.id\r\n    \t\t\t\tauthentication.name = authFromHeader.name\r\n    \t\t\t\tauthentication.role = authFromHeader.role\r\n    \t\t\t\tauthentication.level = authFromHeader.level\r\n    \t\t\t\t\r\n    \t\t\t\tbeanFactory.autowireBean(authentication)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tchain.doFilter(request, response)\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate fun getAuthenticatedUser(request : HttpServletRequest) : Authentication?\r\n    \t{\r\n    \t\treturn try\r\n    \t\t{\r\n    \t\t\tval jwtToken : String? = request.getHeader(HttpHeaders.AUTHORIZATION)\r\n    \t\t\t\r\n    \t\t\tjwtUtils.getAuthentication(jwtToken)!!\r\n    \t\t}\r\n    \t\tcatch (exception : Exception)\r\n    \t\t{\r\n    \t\t\tnull\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \toverride fun getOrder() : Int\r\n    \t{\r\n    \t\treturn Ordered.HIGHEST_PRECEDENCE\r\n    \t}\r\n    }","title":"Spring : Autowired object conflicted between users","body":"<p>I am creating a backend application using spring boot, whose users authenticate using a JWT.</p>\n<p>when I validate the user's jwt (using a filter), I parse its content into an object that I named &quot;authentication&quot;, containing the user's id, name, role...</p>\n<p>after creating this object with user data, I autowire it, so that I use it to any class (service, controller...)</p>\n<p>Most of the time I have no problem with it. but sometimes I find that this object contains another user's information.</p>\n<p>I thought that each user has access to an object containing his information, and if this object does not contain information then he will have an empty object, and not an object of the other users</p>\n<p>Can this reasoning create a conflict? and how to solve it?</p>\n<p>This is my filter class</p>\n<pre><code>@Component\nclass AuthenticationFilter : Filter, Ordered\n{\n    @Autowired\n    private lateinit var jwtUtils : JwtUtils\n    \n    @Autowired\n    private lateinit var beanFactory : AutowireCapableBeanFactory\n    \n    @Autowired\n    private lateinit var authentication : Authentication\n    \n    \n    \n    override fun doFilter(request : ServletRequest, response : ServletResponse, chain : FilterChain)\n    {\n        if (request is HttpServletRequest)\n        {\n            val authFromHeader : Authentication? = getAuthenticatedUser(request)\n            \n            if (authFromHeader != null)\n            {\n                authentication.id = authFromHeader.id\n                authentication.name = authFromHeader.name\n                authentication.role = authFromHeader.role\n                authentication.level = authFromHeader.level\n                \n                beanFactory.autowireBean(authentication)\n            }\n        }\n        \n        chain.doFilter(request, response)\n    }\n    \n    \n    private fun getAuthenticatedUser(request : HttpServletRequest) : Authentication?\n    {\n        return try\n        {\n            val jwtToken : String? = request.getHeader(HttpHeaders.AUTHORIZATION)\n            \n            jwtUtils.getAuthentication(jwtToken)!!\n        }\n        catch (exception : Exception)\n        {\n            null\n        }\n    }\n    \n    \n    override fun getOrder() : Int\n    {\n        return Ordered.HIGHEST_PRECEDENCE\n    }\n}\n</code></pre>\n"},{"tags":["java","android","char"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1584341643,"post_id":60701485,"comment_id":107397167,"body_markdown":"a char can only be a single char, if you want a variable with several chars, create a String","body":"a char can only be a single char, if you want a variable with several chars, create a String"},{"owner":{"account_id":17490281,"reputation":381,"user_id":12682566,"display_name":"Bad Boy"},"score":0,"creation_date":1584341771,"post_id":60701485,"comment_id":107397214,"body_markdown":"@Stultuske  please add more details.","body":"@Stultuske  please add more details."},{"owner":{"account_id":17505229,"reputation":359,"user_id":12694610,"display_name":"Silverfang"},"score":0,"creation_date":1584341820,"post_id":60701485,"comment_id":107397226,"body_markdown":"either use a char array or string to save mutiple char","body":"either use a char array or string to save mutiple char"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1584341826,"post_id":60701485,"comment_id":107397231,"body_markdown":"&#39;\\uD83C\\uDD50&#39;  -&gt; these are several chars. a char -&gt; the type says it itself, can only contain one","body":"&#39;\\uD83C\\uDD50&#39;  -&gt; these are several chars. a char -&gt; the type says it itself, can only contain one"},{"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"score":0,"creation_date":1584342215,"post_id":60701485,"comment_id":107397338,"body_markdown":"What do you want to have?@Marsad Maqsood","body":"What do you want to have?@Marsad Maqsood"},{"owner":{"account_id":17490281,"reputation":381,"user_id":12682566,"display_name":"Bad Boy"},"score":0,"creation_date":1584342356,"post_id":60701485,"comment_id":107397376,"body_markdown":"@MohammadMoeinGolchin simple I want to get output &#127312;","body":"@MohammadMoeinGolchin simple I want to get output 🅐"},{"owner":{"account_id":17490281,"reputation":381,"user_id":12682566,"display_name":"Bad Boy"},"score":0,"creation_date":1584342402,"post_id":60701485,"comment_id":107397393,"body_markdown":"and I don&#39;t know how to do this","body":"and I don&#39;t know how to do this"},{"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"score":0,"creation_date":1584342459,"post_id":60701485,"comment_id":107397403,"body_markdown":"Why don&#39;t you write ch = &#39;A&#39; instead of ch = &#39;\\uD83C\\uDD50&#39;? It will work","body":"Why don&#39;t you write ch = &#39;A&#39; instead of ch = &#39;\\uD83C\\uDD50&#39;? It will work"},{"owner":{"account_id":17490281,"reputation":381,"user_id":12682566,"display_name":"Bad Boy"},"score":0,"creation_date":1584342532,"post_id":60701485,"comment_id":107397430,"body_markdown":"I am trying to convert A into &#127312; (stylish text)","body":"I am trying to convert A into 🅐 (stylish text)"},{"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"score":0,"creation_date":1584342790,"post_id":60701485,"comment_id":107397488,"body_markdown":"\\uD83C\\uDD50 has come from where?","body":"\\uD83C\\uDD50 has come from where?"},{"owner":{"account_id":17490281,"reputation":381,"user_id":12682566,"display_name":"Bad Boy"},"score":0,"creation_date":1584342810,"post_id":60701485,"comment_id":107397493,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/209693/discussion-between-marsad-maqsood-and-mohammadmoeingolchin).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/209693/discussion-between-marsad-maqsood-and-mohammadmoeingolchin\">continue this discussion in chat</a>."},{"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"score":0,"creation_date":1584377308,"post_id":60701485,"comment_id":107412796,"body_markdown":"Don&#39;t you check my answer as correct? If you have problem yet, ask another question@Marsad Maqsood","body":"Don&#39;t you check my answer as correct? If you have problem yet, ask another question@Marsad Maqsood"},{"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"score":0,"creation_date":1584418082,"post_id":60701485,"comment_id":107423815,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/209737/discussion-between-mohammadmoeingolchin-and-marsad-maqsood).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/209737/discussion-between-mohammadmoeingolchin-and-marsad-maqsood\">continue this discussion in chat</a>."},{"owner":{"account_id":17490281,"reputation":381,"user_id":12682566,"display_name":"Bad Boy"},"score":0,"creation_date":1584434830,"post_id":60701485,"comment_id":107428357,"body_markdown":"@MohammadMoeinGolchin ok","body":"@MohammadMoeinGolchin ok"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1648641405,"post_id":60701485,"comment_id":126674952,"body_markdown":"The problem is your first representation is a single character and you want to replace it with two characters. You cannot replace it with `StringBuilder.setCharAt`. You could use StringBuilder.insert to add the extra character. Your method also needs to return a char[] instead of a char.","body":"The problem is your first representation is a single character and you want to replace it with two characters. You cannot replace it with <code>StringBuilder.setCharAt</code>. You could use StringBuilder.insert to add the extra character. Your method also needs to return a char[] instead of a char."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1648641433,"post_id":60701485,"comment_id":126674961,"body_markdown":"`char ch = a;` why would you do this?","body":"<code>char ch = a;</code> why would you do this?"}],"answers":[{"tags":[],"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1584345235,"creation_date":1584345235,"answer_id":60702144,"question_id":60701485,"body_markdown":"You can&#39;t write more than one character in &#39; &#39;. You have defined ch as character so\r\nyou can&#39;t give string to it\r\nYou should define another variable as string and give \\uD83C\\uDD50 to it.\r\nfor example:\r\n\r\n    var a:String\r\n    a=&quot;\\uD83C\\uDD50&quot;","title":"To many characters in character literal (surrogate characters)","body":"<p>You can't write more than one character in ' '. You have defined ch as character so\nyou can't give string to it\nYou should define another variable as string and give \\uD83C\\uDD50 to it.\nfor example:</p>\n\n<pre><code>var a:String\na=\"\\uD83C\\uDD50\"\n</code></pre>\n"}],"owner":{"account_id":17490281,"reputation":381,"user_id":12682566,"display_name":"Bad Boy"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1584395164,"answer_count":1,"score":2,"last_activity_date":1647612150,"creation_date":1584341560,"question_id":60701485,"body_markdown":"I&#39;m facing this error\r\n&gt; To many caracters in character literal.\r\n\r\nI know a [similar][1] question was already answered. Plz help me with this because that answer does not work for me.\r\n\r\nHere is my code\r\n```java\r\ncase 1:\r\n\r\n        for (int charOne = 0; charOne &lt;= strBld.length() - 1; charOne++) {\r\n                char a = strBld.charAt(charOne);\r\n                char newCh = getCharOne(a);\r\n                strBld.setCharAt(charOne, newCh);\r\n        }\r\n\r\n        break;\r\n```\r\n\r\nThis is working fine.\r\n\r\n```\r\n\r\n    private char getCharOne(char a){\r\n        char ch = a;\r\n    \r\n        if (ch == &#39;B&#39; || ch == &#39;b&#39;) {\r\n            ch = &#39;๒&#39;;\r\n        }\r\n\r\n        return ch;\r\n\r\n    }\r\n\r\n```\r\nBut now I want to use this (surrogate characters)\r\n\r\n&#127312; \r\n\r\nwhen i paste it converts into    \\uD83C\\uDD50  this format and an error shown To many characters in character literal\r\n\r\n```\r\n\r\n    private char getCharOne(char a){\r\n        char ch = a;\r\n        if (ch == &#39;A&#39; || ch == &#39;a&#39;) {\r\n            ch = &#39;\\uD83C\\uDD50&#39;;\r\n        }\r\n\r\n        return ch;\r\n    }\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59737816/too-many-characters-in-character-literal-error","title":"To many characters in character literal (surrogate characters)","body":"<p>I'm facing this error</p>\n<blockquote>\n<p>To many caracters in character literal.</p>\n</blockquote>\n<p>I know a <a href=\"https://stackoverflow.com/questions/59737816/too-many-characters-in-character-literal-error\">similar</a> question was already answered. Plz help me with this because that answer does not work for me.</p>\n<p>Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>case 1:\n\n        for (int charOne = 0; charOne &lt;= strBld.length() - 1; charOne++) {\n                char a = strBld.charAt(charOne);\n                char newCh = getCharOne(a);\n                strBld.setCharAt(charOne, newCh);\n        }\n\n        break;\n</code></pre>\n<p>This is working fine.</p>\n<pre><code>\n    private char getCharOne(char a){\n        char ch = a;\n    \n        if (ch == 'B' || ch == 'b') {\n            ch = '๒';\n        }\n\n        return ch;\n\n    }\n\n</code></pre>\n<p>But now I want to use this (surrogate characters)</p>\n<p>🅐</p>\n<p>when i paste it converts into    \\uD83C\\uDD50  this format and an error shown To many characters in character literal</p>\n<pre><code>\n    private char getCharOne(char a){\n        char ch = a;\n        if (ch == 'A' || ch == 'a') {\n            ch = '\\uD83C\\uDD50';\n        }\n\n        return ch;\n    }\n\n</code></pre>\n"},{"tags":["java","spring","cglib"],"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647612088,"creation_date":1647608584,"question_id":71527462,"body_markdown":"I have an application with a huge amount of beans and I have a problem - I have tried to isolate it here in this example but unfortunately it works as expected but still I&#39;m posting the example as I would like to know whether my expectation is correct:\r\n \r\n```\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\n\r\n@Configuration\r\n@PropertySource(&quot;classpath:foo.properties&quot;)\r\npublic class PropertiesWithJavaConfig {\r\n\r\n   static class Service1 {\r\n      private final String fooParam;\r\n\r\n      public Service1(String fooParam) {\r\n         this.fooParam = fooParam;\r\n      }\r\n   }\r\n\r\n   static class Service2 {\r\n      public Service2(Service1 service1) {\r\n      }\r\n   }\r\n\r\n   @Bean\r\n   public Service2 service2() {\r\n      System.out.println(&quot;create service2&quot;);\r\n      Service1 s1 = service1(null);\r\n      return new Service2(s1);\r\n   }\r\n\r\n   @Bean\r\n   public Service1 service1(@Value(&quot;${foo}&quot;) String fooParam) {\r\n      System.out.println(&quot;create service1: fooParam=&quot; + fooParam);\r\n      return new Service1(fooParam);\r\n   }\r\n\r\n   public static void main(String[] args) {\r\n      ApplicationContext ctx = new AnnotationConfigApplicationContext(PropertiesWithJavaConfig.class);\r\n   }\r\n}\r\n```\r\nExecuting the above gives me:\r\n```\r\ncreate service2\r\ncreate service1: fooParam=bar\r\n```\r\nfoo.properties file contents are:\r\n```\r\nfoo=bar\r\n```\r\n\r\nSo as you can see the output - spring magic does work - even that service2 bean method calls service1 with null argument - it receives the right argument which is taken from the properties file.\r\n\r\nIn contrast in my application the bean method is called with null argument instead with the proper value obtained from the properties file. This seems like a bug to me?\r\nWhat do you think?\r\n\r\nI have made a workaround by replacing the param as a field :\r\n```\r\n...\r\n   @Value(&quot;${foo}&quot;) String fooParam;\r\n\r\n   @Bean\r\n   public Service1 service1() {\r\n      System.out.println(&quot;create service1: fooParam=&quot; + fooParam);\r\n      return new Service1(fooParam);\r\n   }\r\n...\r\n```","title":"Calling a @Bean annotated method in Spring java configuration with dummy param values","body":"<p>I have an application with a huge amount of beans and I have a problem - I have tried to isolate it here in this example but unfortunately it works as expected but still I'm posting the example as I would like to know whether my expectation is correct:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\n\n@Configuration\n@PropertySource(&quot;classpath:foo.properties&quot;)\npublic class PropertiesWithJavaConfig {\n\n   static class Service1 {\n      private final String fooParam;\n\n      public Service1(String fooParam) {\n         this.fooParam = fooParam;\n      }\n   }\n\n   static class Service2 {\n      public Service2(Service1 service1) {\n      }\n   }\n\n   @Bean\n   public Service2 service2() {\n      System.out.println(&quot;create service2&quot;);\n      Service1 s1 = service1(null);\n      return new Service2(s1);\n   }\n\n   @Bean\n   public Service1 service1(@Value(&quot;${foo}&quot;) String fooParam) {\n      System.out.println(&quot;create service1: fooParam=&quot; + fooParam);\n      return new Service1(fooParam);\n   }\n\n   public static void main(String[] args) {\n      ApplicationContext ctx = new AnnotationConfigApplicationContext(PropertiesWithJavaConfig.class);\n   }\n}\n</code></pre>\n<p>Executing the above gives me:</p>\n<pre><code>create service2\ncreate service1: fooParam=bar\n</code></pre>\n<p>foo.properties file contents are:</p>\n<pre><code>foo=bar\n</code></pre>\n<p>So as you can see the output - spring magic does work - even that service2 bean method calls service1 with null argument - it receives the right argument which is taken from the properties file.</p>\n<p>In contrast in my application the bean method is called with null argument instead with the proper value obtained from the properties file. This seems like a bug to me?\nWhat do you think?</p>\n<p>I have made a workaround by replacing the param as a field :</p>\n<pre><code>...\n   @Value(&quot;${foo}&quot;) String fooParam;\n\n   @Bean\n   public Service1 service1() {\n      System.out.println(&quot;create service1: fooParam=&quot; + fooParam);\n      return new Service1(fooParam);\n   }\n...\n</code></pre>\n"},{"tags":["java","android","api","gradle","emulation"],"comments":[{"owner":{"account_id":21511170,"reputation":136,"user_id":15853851,"display_name":"marco"},"score":0,"creation_date":1647611380,"post_id":71528005,"comment_id":126420588,"body_markdown":"It work because ```minSdkVersion```is 26. It may not work as it should, but work.","body":"It work because <code>minSdkVersion</code>is 26. It may not work as it should, but work."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647612030,"creation_date":1647612030,"answer_id":71528187,"question_id":71528005,"body_markdown":"&gt; I am using BiometricManager\r\n\r\nNo, you are not... at least, not the one that you linked to. You linked to `android.hardware.biometrics.BiometricsManager`. Your code uses `androidx.biometrics.BiometricsManager`. Those are not the same class. The Jetpack (`androidx`) edition will have code that tries to support older devices gracefully.\r\n","title":"Why is code introduced in API 29 working on an emulator running API 26?","body":"<blockquote>\n<p>I am using BiometricManager</p>\n</blockquote>\n<p>No, you are not... at least, not the one that you linked to. You linked to <code>android.hardware.biometrics.BiometricsManager</code>. Your code uses <code>androidx.biometrics.BiometricsManager</code>. Those are not the same class. The Jetpack (<code>androidx</code>) edition will have code that tries to support older devices gracefully.</p>\n"}],"owner":{"account_id":21902380,"reputation":13,"user_id":16187903,"display_name":"Jake Dove"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71528187,"answer_count":1,"score":1,"last_activity_date":1647612030,"creation_date":1647611246,"question_id":71528005,"body_markdown":"I am using [BiometricManager][1] (Introduced in Api 29) in a project with a minSdkVersion of 26. \r\n\r\nTo my surprise, the project is compiling and running, I would have expected this to throw an error at buildtime. Am I missing something? Will this cause issues on release?\r\n\r\nGradle:\r\n\r\n        defaultConfig {\r\n     \r\n        minSdkVersion 26\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\nClass:\r\n\r\n \r\n\r\n           import androidx.biometric.BiometricManager;\r\n           import androidx.biometric.BiometricPrompt;\r\n    \r\n          \r\n    public BiometricPromptClass(Activity activity) {\r\n        this.context = activity.getBaseContext();\r\n        this.activity = activity;\r\n    }\r\n    \r\n    public int getDeviceBiometricStatus(){\r\n        return getBiometricManager().canAuthenticate(BiometricManager.Authenticators.BIOMETRIC_WEAK);\r\n    }\r\n\r\n    public boolean CheckIfCanAuthenticate() {\r\n        if (getDeviceBiometricStatus() == BiometricManager.BIOMETRIC_SUCCESS) {\r\n            return true;\r\n        } else {\r\n            failureCode = getDeviceBiometricStatus();\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/hardware/biometrics/BiometricManager#canAuthenticate(int)","title":"Why is code introduced in API 29 working on an emulator running API 26?","body":"<p>I am using <a href=\"https://developer.android.com/reference/android/hardware/biometrics/BiometricManager#canAuthenticate(int)\" rel=\"nofollow noreferrer\">BiometricManager</a> (Introduced in Api 29) in a project with a minSdkVersion of 26.</p>\n<p>To my surprise, the project is compiling and running, I would have expected this to throw an error at buildtime. Am I missing something? Will this cause issues on release?</p>\n<p>Gradle:</p>\n<pre><code>    defaultConfig {\n \n    minSdkVersion 26\n    targetSdkVersion 31\n    versionCode 1\n    versionName &quot;1.0&quot;\n</code></pre>\n<p>Class:</p>\n<pre><code>       import androidx.biometric.BiometricManager;\n       import androidx.biometric.BiometricPrompt;\n\n      \npublic BiometricPromptClass(Activity activity) {\n    this.context = activity.getBaseContext();\n    this.activity = activity;\n}\n\npublic int getDeviceBiometricStatus(){\n    return getBiometricManager().canAuthenticate(BiometricManager.Authenticators.BIOMETRIC_WEAK);\n}\n\npublic boolean CheckIfCanAuthenticate() {\n    if (getDeviceBiometricStatus() == BiometricManager.BIOMETRIC_SUCCESS) {\n        return true;\n    } else {\n        failureCode = getDeviceBiometricStatus();\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","class","object","hashmap"],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647611762,"creation_date":1647611762,"answer_id":71528130,"question_id":71527342,"body_markdown":"Not exactly an answer, but anyway...\r\n\r\nEven if it were possible, you SHOULD NOT DO IT. The behaviour of an instance should not depend on how it is used. The variable name holding the instance is a property of the instance&#39;s user and not the instance. And by the way, which name would you return if the instance is referenced by two variables?\r\n\r\nAnd then, variable naming should not affect a program&#39;s behaviour. You should always reserve the possibility of refactoring (your IDE surely has a &quot;Rename variable&quot; refactoring). Having your program reason about variable names breaks that possibility and makes it silently fail when using this (otherwise completely safe) refactoring.\r\n\r\nIf, in a variable `a` you need an instance that behaves differently from one in variable `b`, supply some distiguishing information when constructing the instances.\r\n\r\nBetter ask yourself why you want to ask **the instance** about information not belonging to itself, but to its environment (you wouldn&#39;t ask a person in which drawer some local administration keeps his files - if important, you&#39;d ask the administration).\r\n\r\nDesign your software architecture in such a way that the behaviour of an instance only depends on its contents. If you need an information, ask the instance that naturally owns this information. Everything else will only give you headaches.","title":"Create a public method inside the class to get the variable name of the instance of that class","body":"<p>Not exactly an answer, but anyway...</p>\n<p>Even if it were possible, you SHOULD NOT DO IT. The behaviour of an instance should not depend on how it is used. The variable name holding the instance is a property of the instance's user and not the instance. And by the way, which name would you return if the instance is referenced by two variables?</p>\n<p>And then, variable naming should not affect a program's behaviour. You should always reserve the possibility of refactoring (your IDE surely has a &quot;Rename variable&quot; refactoring). Having your program reason about variable names breaks that possibility and makes it silently fail when using this (otherwise completely safe) refactoring.</p>\n<p>If, in a variable <code>a</code> you need an instance that behaves differently from one in variable <code>b</code>, supply some distiguishing information when constructing the instances.</p>\n<p>Better ask yourself why you want to ask <strong>the instance</strong> about information not belonging to itself, but to its environment (you wouldn't ask a person in which drawer some local administration keeps his files - if important, you'd ask the administration).</p>\n<p>Design your software architecture in such a way that the behaviour of an instance only depends on its contents. If you need an information, ask the instance that naturally owns this information. Everything else will only give you headaches.</p>\n"}],"owner":{"account_id":16660327,"reputation":183,"user_id":12040452,"display_name":"coding girl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647611762,"creation_date":1647608106,"question_id":71527342,"body_markdown":"Is there a way to create a public method inside a class that can return the variable name used to declare an instance of that class outside that class?\r\n\r\nA very [similar question][1] has been posted 10 years ago and the answer was that there is no such way. I am wondering if there is a possible way that has been developed over the time.\r\n\r\nHere is an example of the Class:\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\n\r\npublic class Class {\r\n\r\n    private ArrayList&lt;Array&gt; elements; //Array is some other class\r\n\r\n    public Class() {\r\n        elements = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public String getInstanceName() {\r\n\r\n        Field[] fields = this.getClass().getDeclaredFields();\r\n        return fields[0].getName(); // returns &quot;elements&quot;\r\n    } \r\n```\r\nSo, outside the class I would declare the instance of Class and treat it as value in a HashMap\r\n\r\n```\r\npublic class SomeOtherClass {\r\n   private HashMap&lt;String, Class&gt; classes\r\n      classes = new HashMap&lt;&gt;();\r\n      Class abc = new Class();\r\n      String someKey = &quot;Abc&quot;;\r\n      classes.put(someKey, abc);\r\n   \r\n```\r\n\r\nand the statement below would desirably return the string &#39;abc&#39;\r\n\r\n```       \r\nSystem.out.println(classes.get(someKey).getName());\r\n```\r\nHowever the print statement would return the String &quot;elements&quot;\r\n\r\n  [1]: https://stackoverflow.com/questions/5921314/getting-the-instance-name-of-a-class-instance-within-the-class","title":"Create a public method inside the class to get the variable name of the instance of that class","body":"<p>Is there a way to create a public method inside a class that can return the variable name used to declare an instance of that class outside that class?</p>\n<p>A very <a href=\"https://stackoverflow.com/questions/5921314/getting-the-instance-name-of-a-class-instance-within-the-class\">similar question</a> has been posted 10 years ago and the answer was that there is no such way. I am wondering if there is a possible way that has been developed over the time.</p>\n<p>Here is an example of the Class:</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.ArrayList;\n\npublic class Class {\n\n    private ArrayList&lt;Array&gt; elements; //Array is some other class\n\n    public Class() {\n        elements = new ArrayList&lt;&gt;();\n    }\n\n    public String getInstanceName() {\n\n        Field[] fields = this.getClass().getDeclaredFields();\n        return fields[0].getName(); // returns &quot;elements&quot;\n    } \n</code></pre>\n<p>So, outside the class I would declare the instance of Class and treat it as value in a HashMap</p>\n<pre><code>public class SomeOtherClass {\n   private HashMap&lt;String, Class&gt; classes\n      classes = new HashMap&lt;&gt;();\n      Class abc = new Class();\n      String someKey = &quot;Abc&quot;;\n      classes.put(someKey, abc);\n   \n</code></pre>\n<p>and the statement below would desirably return the string 'abc'</p>\n<pre><code>System.out.println(classes.get(someKey).getName());\n</code></pre>\n<p>However the print statement would return the String &quot;elements&quot;</p>\n"},{"tags":["java","spring","spring-boot","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520347316,"creation_date":1520347316,"answer_id":49133448,"question_id":49129095,"body_markdown":"Yeah... You will need to share your project with us. It&#39;s simple variant to let us to reproduce and play to determine the reason. \r\n\r\nRight now I can&#39;t reproduce it with very simple Spring Boot app:\r\n\r\n    @SpringBootApplication\r\n    public class So49129095Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So49129095Application.class, args);\r\n    \t}\r\n    }\r\n    \r\n    @Component\r\n    public class MyListener {\r\n    \r\n    \t@RabbitListener(id = &quot;response_queue&quot;, queuesToDeclare = @Queue(&quot;response&quot;))\r\n    \tpublic void processOrder(Object payload) {\r\n    \r\n    \t}\r\n    \r\n    }\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = {So49129095Application.class, So49129095ApplicationTests.RabbitMQTestConfig.class})\r\n    public class So49129095ApplicationTests {\r\n    \r\n        @Rule\r\n        public BrokerRunning brokerRunning = BrokerRunning.isRunning();\r\n\r\n    \t@Autowired\r\n    \tprivate RabbitListenerTestHarness harness;\r\n    \r\n    \t@Test\r\n    \tpublic void testMyListener() {\r\n    \r\n    \t}\r\n    \r\n    \t@Configuration\r\n    \t@RabbitListenerTest\r\n    \tpublic static class RabbitMQTestConfig {\r\n    \r\n    \t\t@Autowired\r\n    \t\tMyListener myListener;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nSeems for me I didn&#39;t miss any of your points how to configure that all together.","title":"Using spring-rabbit-test for Junit","body":"<p>Yeah... You will need to share your project with us. It's simple variant to let us to reproduce and play to determine the reason. </p>\n\n<p>Right now I can't reproduce it with very simple Spring Boot app:</p>\n\n<pre><code>@SpringBootApplication\npublic class So49129095Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So49129095Application.class, args);\n    }\n}\n\n@Component\npublic class MyListener {\n\n    @RabbitListener(id = \"response_queue\", queuesToDeclare = @Queue(\"response\"))\n    public void processOrder(Object payload) {\n\n    }\n\n}\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {So49129095Application.class, So49129095ApplicationTests.RabbitMQTestConfig.class})\npublic class So49129095ApplicationTests {\n\n    @Rule\n    public BrokerRunning brokerRunning = BrokerRunning.isRunning();\n\n    @Autowired\n    private RabbitListenerTestHarness harness;\n\n    @Test\n    public void testMyListener() {\n\n    }\n\n    @Configuration\n    @RabbitListenerTest\n    public static class RabbitMQTestConfig {\n\n        @Autowired\n        MyListener myListener;\n\n    }\n\n}\n</code></pre>\n\n<p>Seems for me I didn't miss any of your points how to configure that all together.</p>\n"},{"tags":[],"owner":{"account_id":23098975,"reputation":99,"user_id":17208643,"display_name":"hrabrica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647611562,"creation_date":1647611562,"answer_id":71528087,"question_id":49129095,"body_markdown":"This happens when you register 2 listeners with same id. \r\n\r\nMost likely you had a class with listener defined and then you manually created another bean (possibly mocked) of the same class.","title":"Using spring-rabbit-test for Junit","body":"<p>This happens when you register 2 listeners with same id.</p>\n<p>Most likely you had a class with listener defined and then you manually created another bean (possibly mocked) of the same class.</p>\n"}],"owner":{"account_id":13079650,"reputation":182,"user_id":9450587,"display_name":"Kency Kurian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10193,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1647611562,"creation_date":1520333663,"question_id":49129095,"body_markdown":"I am trying to write a test case for rabbitMq listener. I tried using spring-rabbit-test and got the below error while running tests:\r\n\r\n\r\n&gt; Error starting ApplicationContext. To display the conditions report\r\n&gt; re-run your application with &#39;debug&#39; enabled. 2018-03-06 17:10:50.113\r\n&gt; ERROR 14239 --- [           main] o.s.boot.SpringApplication          \r\n&gt; : Application run failed\r\n&gt; \r\n&gt; java.lang.IllegalStateException: Another endpoint is already\r\n&gt; registered with id &#39;response_queue&#39;\r\n&gt;         at org.springframework.util.Assert.state(Assert.java:73) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n&gt;         at org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry.registerListenerContainer(RabbitListenerEndpointRegistry.java:151)\r\n&gt; ~[spring-rabbit-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n\r\nI was following [https://docs.spring.io/spring-amqp/reference/htmlsingle/#testing] and in the example they have shared it does not have an @Component for the listeners in ideal case that will be a component.\r\n\r\nNow my test class also tries to get the listener resultin in the error mentioned above.\r\n\r\nCan someone help me?\r\n\r\n**Test configuration**\r\n\r\n&gt;     @Configuration    \r\n&gt;     @RabbitListenerTest\r\n&gt;     public class RabbitMQTestConfig {\r\n&gt;         @Autowired\r\n&gt;         MyListener myListener;\r\n&gt;     }\r\n\r\n**Test**\r\n\r\n&gt;     @ActiveProfiles(&quot;test&quot;)\r\n&gt;     @RunWith(SpringRunner.class)\r\n&gt;     @SpringBootTest\r\n&gt;     public class RabbitMQTest {\r\n&gt; \r\n&gt;         @Rule\r\n&gt;         public BrokerRunning brokerRunning = BrokerRunning.isRunning();\r\n&gt; \r\n&gt;         @Autowired\r\n&gt;         private RabbitListenerTestHarness harness;\r\n&gt; \r\n&gt;         @Test\r\n&gt;         public void testMyListener() {\r\n&gt; \r\n&gt;         }\r\n&gt;    }\r\n\r\n**Listener**\r\n\r\n&gt;     @Component\r\n&gt;     public class MyListener {\r\n&gt; \r\n&gt;     @Autowired\r\n&gt;     MyService myService;\r\n&gt; \r\n&gt; \r\n&gt;     @RabbitListener(id = &quot;response_queue&quot;, queues = &quot;response&quot;)\r\n&gt;         public void processOrder(SomeResponse someResponse) {\r\n&gt;             myService.process(someResponse);\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n","title":"Using spring-rabbit-test for Junit","body":"<p>I am trying to write a test case for rabbitMq listener. I tried using spring-rabbit-test and got the below error while running tests:</p>\n\n<blockquote>\n  <p>Error starting ApplicationContext. To display the conditions report\n  re-run your application with 'debug' enabled. 2018-03-06 17:10:50.113\n  ERROR 14239 --- [           main] o.s.boot.SpringApplication<br>\n  : Application run failed</p>\n  \n  <p>java.lang.IllegalStateException: Another endpoint is already\n  registered with id 'response_queue'\n          at org.springframework.util.Assert.state(Assert.java:73) ~[spring-core-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n          at org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry.registerListenerContainer(RabbitListenerEndpointRegistry.java:151)\n  ~[spring-rabbit-2.0.2.RELEASE.jar:2.0.2.RELEASE]</p>\n</blockquote>\n\n<p>I was following [<a href=\"https://docs.spring.io/spring-amqp/reference/htmlsingle/#testing]\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/htmlsingle/#testing]</a> and in the example they have shared it does not have an @Component for the listeners in ideal case that will be a component.</p>\n\n<p>Now my test class also tries to get the listener resultin in the error mentioned above.</p>\n\n<p>Can someone help me?</p>\n\n<p><strong>Test configuration</strong></p>\n\n<blockquote>\n<pre><code>@Configuration    \n@RabbitListenerTest\npublic class RabbitMQTestConfig {\n    @Autowired\n    MyListener myListener;\n}\n</code></pre>\n</blockquote>\n\n<p><strong>Test</strong></p>\n\n<blockquote>\n<pre><code>@ActiveProfiles(\"test\")\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class RabbitMQTest {\n\n    @Rule\n    public BrokerRunning brokerRunning = BrokerRunning.isRunning();\n\n    @Autowired\n    private RabbitListenerTestHarness harness;\n\n    @Test\n    public void testMyListener() {\n\n    }\n</code></pre>\n  \n  <p>}</p>\n</blockquote>\n\n<p><strong>Listener</strong></p>\n\n<blockquote>\n<pre><code>@Component\npublic class MyListener {\n\n@Autowired\nMyService myService;\n\n\n@RabbitListener(id = \"response_queue\", queues = \"response\")\n    public void processOrder(SomeResponse someResponse) {\n        myService.process(someResponse);\n    }\n}\n</code></pre>\n</blockquote>\n"},{"tags":["java","loops","for-loop","input","while-loop"],"comments":[{"owner":{"account_id":14488140,"reputation":1434,"user_id":10465344,"display_name":"Vinay Hegde"},"score":0,"creation_date":1588310319,"post_id":61537142,"comment_id":108853888,"body_markdown":"Does this answer your question? [How to loop user input until an integer is inputted?](https://stackoverflow.com/questions/19130217/how-to-loop-user-input-until-an-integer-is-inputted)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19130217/how-to-loop-user-input-until-an-integer-is-inputted\">How to loop user input until an integer is inputted?</a>"},{"owner":{"account_id":16681985,"reputation":604,"user_id":12056821,"display_name":"JenilDave"},"score":0,"creation_date":1588310389,"post_id":61537142,"comment_id":108853896,"body_markdown":"@Eva Klein, did you check this post https://stackoverflow.com/questions/25277286/exception-handling-with-scanner-nextint-vs-scanner-nextline","body":"@Eva Klein, did you check this post <a href=\"https://stackoverflow.com/questions/25277286/exception-handling-with-scanner-nextint-vs-scanner-nextline\" title=\"exception handling with scanner nextint vs scanner nextline\">stackoverflow.com/questions/25277286/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18020055,"reputation":481,"user_id":13097536,"display_name":"L&#234; Ho&#224;ng Dững"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588310668,"creation_date":1588310668,"answer_id":61537257,"question_id":61537142,"body_markdown":"\r\nLet&#39;s add a loop, take the value as String and check if it is a number:\r\n\r\n    String sizeString;\r\n    int size;\r\n    Scanner s = new Scanner(System.in);\r\n    do {\r\n            System.out.print(&quot;Enter the number of students: &quot;);\r\n            sizeString = s.nextLine();\r\n\r\n    } while (!(sizeString.matches(&quot;[0-9]+&quot;) &amp;&amp; sizeString.length() &gt; 0));\r\n    size = Integer.parseInt(sizeString);","title":"How to loop a user input until integer is entered?","body":"<p>Let's add a loop, take the value as String and check if it is a number:</p>\n\n<pre><code>String sizeString;\nint size;\nScanner s = new Scanner(System.in);\ndo {\n        System.out.print(\"Enter the number of students: \");\n        sizeString = s.nextLine();\n\n} while (!(sizeString.matches(\"[0-9]+\") &amp;&amp; sizeString.length() &gt; 0));\nsize = Integer.parseInt(sizeString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1588311187,"creation_date":1588311187,"answer_id":61537330,"question_id":61537142,"body_markdown":"try this\r\n\r\n\r\n\r\n\r\n\r\n    public int[] createArrays(Scanner s) {\r\n        int size;\r\n        System.out.print(&quot;Enter the number of students: &quot;);\r\n        \r\n        while(true) {\r\n        \ttry {\r\n        \t\t  size = Integer.parseInt(s.nextLine());\r\n        \t\t  break;\r\n        \t}catch (NumberFormatException e) {\r\n        \t\tSystem.out.println();\r\n        \t\tSystem.out.println(&quot;You have entered wrong number&quot;);\r\n        \t\tSystem.out.print(&quot;Enter again the number of students: &quot;);\r\n    \t\t\tcontinue;\r\n    \t\t}\r\n        }\r\n        \r\n        int scores[] = new int[size];\r\n        System.out.println(&quot;Enter &quot; + size + &quot; scores:&quot;);\r\n        for (int i = 0; i &lt; size; i++) {\r\n          scores[i]=getValidInt(s,&quot;Score &quot; + (i + 1) + &quot;: &quot;);\r\n        }\r\n        return scores;\r\n    }","title":"How to loop a user input until integer is entered?","body":"<p>try this</p>\n\n<pre><code>public int[] createArrays(Scanner s) {\n    int size;\n    System.out.print(\"Enter the number of students: \");\n\n    while(true) {\n        try {\n              size = Integer.parseInt(s.nextLine());\n              break;\n        }catch (NumberFormatException e) {\n            System.out.println();\n            System.out.println(\"You have entered wrong number\");\n            System.out.print(\"Enter again the number of students: \");\n            continue;\n        }\n    }\n\n    int scores[] = new int[size];\n    System.out.println(\"Enter \" + size + \" scores:\");\n    for (int i = 0; i &lt; size; i++) {\n      scores[i]=getValidInt(s,\"Score \" + (i + 1) + \": \");\n    }\n    return scores;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13761995,"reputation":337,"user_id":9931494,"display_name":"Bradley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588313157,"creation_date":1588313157,"answer_id":61537653,"question_id":61537142,"body_markdown":"Try catching the exception and handling it until you get the desired input. \r\n    \r\n\r\n \r\n\r\n    int numberOfStudents;\r\n        \r\n    while(true)\r\n    {\r\n        try {\r\n            System.out.print(&quot;Enter the number of student: &quot;);\r\n            numberOfStudents = Integer.parseInt(s.next());\r\n            break;\r\n        }\r\n        catch(NumberFormatException e) {\r\n            System.out.println(&quot;You have not entered an Integer!&quot;);\r\n        }\r\n    }\r\n\r\n    //Then assign numberOfStudents to the score array\r\n    int scores[] = new int[numberOfStudents]","title":"How to loop a user input until integer is entered?","body":"<p>Try catching the exception and handling it until you get the desired input. </p>\n\n<pre><code>int numberOfStudents;\n\nwhile(true)\n{\n    try {\n        System.out.print(\"Enter the number of student: \");\n        numberOfStudents = Integer.parseInt(s.next());\n        break;\n    }\n    catch(NumberFormatException e) {\n        System.out.println(\"You have not entered an Integer!\");\n    }\n}\n\n//Then assign numberOfStudents to the score array\nint scores[] = new int[numberOfStudents]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24601501,"reputation":1,"user_id":18504324,"display_name":"Dulantha Madushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647611474,"creation_date":1647611474,"answer_id":71528062,"question_id":61537142,"body_markdown":"int no1 = 0;\r\n\r\nScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t    try {\r\n\t\t    \tSystem.out.print(&quot;Number 1: &quot;);\r\n\t\t    \tno1 = Integer.parseInt(scanner.next());\r\n\t\t        break;\r\n\t\t    }\r\n\t\t    catch(NumberFormatException e) {\r\n\t\t        System.out.println(&quot;..You have not entered valid value!&quot;);\r\n\t\t    }\r\n\t\t}","title":"How to loop a user input until integer is entered?","body":"<p>int no1 = 0;</p>\n<p>Scanner scanner = new Scanner(System.in);</p>\n<pre><code>    while(true)\n    {\n        try {\n            System.out.print(&quot;Number 1: &quot;);\n            no1 = Integer.parseInt(scanner.next());\n            break;\n        }\n        catch(NumberFormatException e) {\n            System.out.println(&quot;..You have not entered valid value!&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":18457402,"reputation":3,"user_id":13445788,"display_name":"Lora Croft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61537330,"answer_count":4,"score":0,"last_activity_date":1647611474,"creation_date":1588309782,"question_id":61537142,"body_markdown":"I want to run an interactive program where a user is prompted to enter a number of students. If the user inputs a letter or other character besides a whole number, they should be asked again (&quot;Enter the number of students: &quot;)\r\n\r\nI have the following code:\r\n\r\n    public int[] createArrays(Scanner s) {\r\n        int size;\r\n        System.out.print(&quot;Enter the number of students: &quot;);\r\n        size = s.nextInt();** \r\n        int scores[] = new int[size];\r\n        System.out.println(&quot;Enter &quot; + size + &quot; scores:&quot;);\r\n        for (int i = 0; i &lt; size; i++) {\r\n          scores[i]=getValidInt(s,&quot;Score &quot; + (i + 1) + &quot;: &quot;);\r\n        }\r\n        return scores;\r\n    }\r\n\r\nHow can I create a loop for this?","title":"How to loop a user input until integer is entered?","body":"<p>I want to run an interactive program where a user is prompted to enter a number of students. If the user inputs a letter or other character besides a whole number, they should be asked again (\"Enter the number of students: \")</p>\n\n<p>I have the following code:</p>\n\n<pre><code>public int[] createArrays(Scanner s) {\n    int size;\n    System.out.print(\"Enter the number of students: \");\n    size = s.nextInt();** \n    int scores[] = new int[size];\n    System.out.println(\"Enter \" + size + \" scores:\");\n    for (int i = 0; i &lt; size; i++) {\n      scores[i]=getValidInt(s,\"Score \" + (i + 1) + \": \");\n    }\n    return scores;\n}\n</code></pre>\n\n<p>How can I create a loop for this?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647635636,"post_id":71527926,"comment_id":126429159,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647611234,"creation_date":1647611234,"answer_id":71528002,"question_id":71527926,"body_markdown":"You could define a configuration with your bean and being explicit\r\n\r\n```java\r\n@Configuration\r\npublic class Configuration\r\n{\r\n\t@Bean\r\n\tpublic MyInterface myBean()\r\n\t{\r\n\t\tnew ConcreteImplementationOfMyInterface();\r\n\t}\r\n\r\n}\r\n```","title":"Spring Java Config: all beans are created despite constructor only requiring certain beans","body":"<p>You could define a configuration with your bean and being explicit</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Configuration\n{\n    @Bean\n    public MyInterface myBean()\n    {\n        new ConcreteImplementationOfMyInterface();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24601333,"reputation":9,"user_id":18504177,"display_name":"javanewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647611234,"creation_date":1647610878,"question_id":71527926,"body_markdown":"I have an interface and several different classes that extend the interface which take different constructor arguments (e.g. a String and an int, or two Strings and an int). I also have a Config class that creates the beans to inject into the constructor. The bean names match the parameter names (I have also tried using the @Qualifier annotation). However, when an instance of a class is created it looks as though Spring is creating instances of all beans even though the constructor may only require 2 or 3 arguments. \r\n\r\nBecause the beans are created via a method that reads a file line by line and alters the line once the appropriate text has been read, the beans being created do not contain the right String or int. I can&#39;t change this method.\r\n\r\nIs there a way to call the constructor and specify which beans are created? \r\n\r\nI can&#39;t post the code as this is part of an assignment.\r\n\r\nThanks!","title":"Spring Java Config: all beans are created despite constructor only requiring certain beans","body":"<p>I have an interface and several different classes that extend the interface which take different constructor arguments (e.g. a String and an int, or two Strings and an int). I also have a Config class that creates the beans to inject into the constructor. The bean names match the parameter names (I have also tried using the @Qualifier annotation). However, when an instance of a class is created it looks as though Spring is creating instances of all beans even though the constructor may only require 2 or 3 arguments.</p>\n<p>Because the beans are created via a method that reads a file line by line and alters the line once the appropriate text has been read, the beans being created do not contain the right String or int. I can't change this method.</p>\n<p>Is there a way to call the constructor and specify which beans are created?</p>\n<p>I can't post the code as this is part of an assignment.</p>\n<p>Thanks!</p>\n"},{"tags":["java","serversocket","rsocket","rsocket-java"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647611056,"creation_date":1647611056,"answer_id":71527967,"question_id":71384753,"body_markdown":"You can leverage the *RSocket* protocol defined **metadata** and more explicitly the [`Routing` extension metadata][1].\r\n\r\nYour server implementation would be updated to respond based on the particular request routing metadata value dynamically switching responders:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class ServerExample {\r\n    \r\n        public static void main(String[] args) {\r\n            Hooks.onErrorDropped(e -&gt; {\r\n            });\r\n            final String userRoute = &quot;/user&quot;; // this defines one of the route values\r\n            final String organizationRoute = &quot;/organization&quot;; // this defines another route value\r\n            RSocket handler = new RSocket() {\r\n                @Override\r\n                public Mono&lt;Payload&gt; requestResponse(Payload payload) {\r\n                    final String route;\r\n                    if (payload.hasMetadata()) { // check if you have compulsory metadata\r\n                        route = new RoutingMetadata(payload.metadata().slice()).iterator().next(); // read the routing metadata value\r\n                    } else {\r\n                        throw new IllegalStateException();\r\n                    }\r\n                    switch (route) { // based on the route value, you can respond accordingly\r\n                        case userRoute: {\r\n                            System.out.println(&quot;RequestResponse for route &quot; + route + &quot;: &quot; + payload.getDataUtf8());\r\n                            return Mono.just(DefaultPayload.create(&quot;Echo for: User&quot;));\r\n                        }\r\n                        case organizationRoute: {\r\n                            System.out.println(&quot;RequestResponse for route &quot; + route + &quot;: &quot; + payload.getDataUtf8());\r\n                            return Mono.just(DefaultPayload.create(&quot;Echo for: Organization&quot;));\r\n                        }\r\n                        default: return Mono.just(DefaultPayload.create(&quot;Unsupported route&quot;));\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public Flux&lt;Payload&gt; requestStream(Payload payload) {\r\n                    System.out.println(&quot;RequestStream: &quot; + payload.getDataUtf8());\r\n                    return Flux.just(&quot;First&quot;, &quot;Second&quot;).map(DefaultPayload::create);\r\n                }\r\n    \r\n                @Override\r\n                public Mono&lt;Void&gt; fireAndForget(Payload payload) {\r\n                    System.out.println(&quot;FireAndForget: &quot; + payload.getDataUtf8());\r\n                    return Mono.empty();\r\n                }\r\n            };\r\n            RSocketServer.create(SocketAcceptor.with(handler))\r\n                    .bindNow(TcpServerTransport.create(&quot;localhost&quot;, 7000))\r\n                    .onClose()\r\n                    .doOnSubscribe(subscription -&gt; System.out.println(&quot;RSocket Server listen on tcp://localhost:7000&quot;))\r\n                    .block();\r\n        }\r\n    }\r\n\r\nWithin the client implementation, you need to provide the encoded `routing` metadata as follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class ClientExample {\r\n    \r\n        public static void main(String[] args) {\r\n            Mono&lt;RSocket&gt; source =\r\n                    RSocketConnector.create()\r\n                            .reconnect(Retry.backoff(50, Duration.ofMillis(500)))\r\n                            .connect(TcpClientTransport.create(&quot;localhost&quot;, 7000));\r\n            // User route request\r\n            ByteBuf userRouteMetadata = TaggingMetadataCodec.createRoutingMetadata(\r\n                            UnpooledByteBufAllocator.DEFAULT,\r\n                            Collections.singletonList(&quot;/user&quot;)\r\n                    )\r\n                    .getContent();\r\n    \r\n            RSocketClient.from(source)\r\n                    .requestResponse(Mono.just(DefaultPayload.create(Unpooled.buffer().writeBytes(&quot;Requesting user resource&quot;.getBytes()), userRouteMetadata)))\r\n                    .doOnSubscribe(s -&gt; logger.info(&quot;Executing Request&quot;))\r\n                    .doOnNext(\r\n                            d -&gt; {\r\n                                logger.info(&quot;Received response data {}&quot;, d.getDataUtf8());\r\n                                d.release();\r\n                            })\r\n                    .repeat(5)\r\n                    .blockLast();\r\n    \r\n            // Organization route request\r\n            ByteBuf organizationRouteMetadata = TaggingMetadataCodec.createRoutingMetadata(\r\n                            UnpooledByteBufAllocator.DEFAULT,\r\n                            Collections.singletonList(&quot;/organization&quot;)\r\n                    )\r\n                    .getContent();\r\n            RSocketClient.from(source)\r\n                    .requestResponse(Mono.just(DefaultPayload.create(Unpooled.buffer().writeBytes(&quot;Requesting organization resource&quot;.getBytes()), organizationRouteMetadata)))\r\n                    .doOnSubscribe(s -&gt; logger.info(&quot;Executing Request&quot;))\r\n                    .doOnNext(\r\n                            d -&gt; {\r\n                                logger.info(&quot;Received response data {}&quot;, d.getDataUtf8());\r\n                                d.release();\r\n                            })\r\n                    .repeat(5)\r\n                    .blockLast();\r\n        }\r\n    }\r\n\r\n&gt; As you can note from this sample, the implementation is fairly complex and will grow in complexity as your implementation gathers more requirements. Special attention must be paid to proper `ByteBuf` manipulation as this can badly hurt your application memory and you can easily leak one of these by retaining a reference hence the need to rely on a solid implementation as the one provided by Spring.\r\n\r\n\r\n  [1]: https://github.com/rsocket/rsocket/blob/master/Extensions/Routing.md","title":"How to create RSocket request endpoints without using Spring Library in Java?","body":"<p>You can leverage the <em>RSocket</em> protocol defined <strong>metadata</strong> and more explicitly the <a href=\"https://github.com/rsocket/rsocket/blob/master/Extensions/Routing.md\" rel=\"nofollow noreferrer\"><code>Routing</code> extension metadata</a>.</p>\n<p>Your server implementation would be updated to respond based on the particular request routing metadata value dynamically switching responders:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServerExample {\n\n    public static void main(String[] args) {\n        Hooks.onErrorDropped(e -&gt; {\n        });\n        final String userRoute = &quot;/user&quot;; // this defines one of the route values\n        final String organizationRoute = &quot;/organization&quot;; // this defines another route value\n        RSocket handler = new RSocket() {\n            @Override\n            public Mono&lt;Payload&gt; requestResponse(Payload payload) {\n                final String route;\n                if (payload.hasMetadata()) { // check if you have compulsory metadata\n                    route = new RoutingMetadata(payload.metadata().slice()).iterator().next(); // read the routing metadata value\n                } else {\n                    throw new IllegalStateException();\n                }\n                switch (route) { // based on the route value, you can respond accordingly\n                    case userRoute: {\n                        System.out.println(&quot;RequestResponse for route &quot; + route + &quot;: &quot; + payload.getDataUtf8());\n                        return Mono.just(DefaultPayload.create(&quot;Echo for: User&quot;));\n                    }\n                    case organizationRoute: {\n                        System.out.println(&quot;RequestResponse for route &quot; + route + &quot;: &quot; + payload.getDataUtf8());\n                        return Mono.just(DefaultPayload.create(&quot;Echo for: Organization&quot;));\n                    }\n                    default: return Mono.just(DefaultPayload.create(&quot;Unsupported route&quot;));\n                }\n            }\n\n            @Override\n            public Flux&lt;Payload&gt; requestStream(Payload payload) {\n                System.out.println(&quot;RequestStream: &quot; + payload.getDataUtf8());\n                return Flux.just(&quot;First&quot;, &quot;Second&quot;).map(DefaultPayload::create);\n            }\n\n            @Override\n            public Mono&lt;Void&gt; fireAndForget(Payload payload) {\n                System.out.println(&quot;FireAndForget: &quot; + payload.getDataUtf8());\n                return Mono.empty();\n            }\n        };\n        RSocketServer.create(SocketAcceptor.with(handler))\n                .bindNow(TcpServerTransport.create(&quot;localhost&quot;, 7000))\n                .onClose()\n                .doOnSubscribe(subscription -&gt; System.out.println(&quot;RSocket Server listen on tcp://localhost:7000&quot;))\n                .block();\n    }\n}\n</code></pre>\n<p>Within the client implementation, you need to provide the encoded <code>routing</code> metadata as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClientExample {\n\n    public static void main(String[] args) {\n        Mono&lt;RSocket&gt; source =\n                RSocketConnector.create()\n                        .reconnect(Retry.backoff(50, Duration.ofMillis(500)))\n                        .connect(TcpClientTransport.create(&quot;localhost&quot;, 7000));\n        // User route request\n        ByteBuf userRouteMetadata = TaggingMetadataCodec.createRoutingMetadata(\n                        UnpooledByteBufAllocator.DEFAULT,\n                        Collections.singletonList(&quot;/user&quot;)\n                )\n                .getContent();\n\n        RSocketClient.from(source)\n                .requestResponse(Mono.just(DefaultPayload.create(Unpooled.buffer().writeBytes(&quot;Requesting user resource&quot;.getBytes()), userRouteMetadata)))\n                .doOnSubscribe(s -&gt; logger.info(&quot;Executing Request&quot;))\n                .doOnNext(\n                        d -&gt; {\n                            logger.info(&quot;Received response data {}&quot;, d.getDataUtf8());\n                            d.release();\n                        })\n                .repeat(5)\n                .blockLast();\n\n        // Organization route request\n        ByteBuf organizationRouteMetadata = TaggingMetadataCodec.createRoutingMetadata(\n                        UnpooledByteBufAllocator.DEFAULT,\n                        Collections.singletonList(&quot;/organization&quot;)\n                )\n                .getContent();\n        RSocketClient.from(source)\n                .requestResponse(Mono.just(DefaultPayload.create(Unpooled.buffer().writeBytes(&quot;Requesting organization resource&quot;.getBytes()), organizationRouteMetadata)))\n                .doOnSubscribe(s -&gt; logger.info(&quot;Executing Request&quot;))\n                .doOnNext(\n                        d -&gt; {\n                            logger.info(&quot;Received response data {}&quot;, d.getDataUtf8());\n                            d.release();\n                        })\n                .repeat(5)\n                .blockLast();\n    }\n}\n</code></pre>\n<blockquote>\n<p>As you can note from this sample, the implementation is fairly complex and will grow in complexity as your implementation gathers more requirements. Special attention must be paid to proper <code>ByteBuf</code> manipulation as this can badly hurt your application memory and you can easily leak one of these by retaining a reference hence the need to rely on a solid implementation as the one provided by Spring.</p>\n</blockquote>\n"}],"owner":{"account_id":2411246,"reputation":4423,"user_id":2106260,"accept_rate":25,"display_name":"Rajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647611056,"creation_date":1646672825,"question_id":71384753,"body_markdown":"I want to create RSocket request endpoints using plan Java RSocket SDK and without using Spring Framework. I was able to create a sample request with the help of the below code snippet. This works only for the request `tcp://localhost:7000`. But I want to create different endpoints similar to [this][1].\r\n\r\n\r\n    public class ServerExample {\r\n        public static void main(String[] args) {\r\n            Hooks.onErrorDropped(e -&gt; {});\r\n            RSocket handler = new RSocket() {\r\n                @Override\r\n                public Mono&lt;Payload&gt; requestResponse(Payload payload) {\r\n                    System.out.println(&quot;RequestResponse: &quot; + payload.getDataUtf8());\r\n                    return Mono.just(payload);\r\n                }\r\n    \r\n                @Override\r\n                public Flux&lt;Payload&gt; requestStream(Payload payload) {\r\n                    System.out.println(&quot;RequestStream: &quot; + payload.getDataUtf8());\r\n                    return Flux.just(&quot;First&quot;, &quot;Second&quot;).map(DefaultPayload::create);\r\n                }\r\n    \r\n                @Override\r\n                public Mono&lt;Void&gt; fireAndForget(Payload payload) {\r\n                    System.out.println(&quot;FireAndForget: &quot; + payload.getDataUtf8());\r\n                    return Mono.empty();\r\n                }\r\n            };\r\n            RSocketServer.create(SocketAcceptor.with(handler))\r\n                    .bindNow(TcpServerTransport.create(&quot;localhost&quot;, 7000))\r\n                    .onClose()\r\n                    .doOnSubscribe(subscription -&gt; System.out.println(&quot;RSocket Server listen on tcp://localhost:7000&quot;))\r\n                    .block();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/03/02/getting-started-with-rsocket-spring-boot-server","title":"How to create RSocket request endpoints without using Spring Library in Java?","body":"<p>I want to create RSocket request endpoints using plan Java RSocket SDK and without using Spring Framework. I was able to create a sample request with the help of the below code snippet. This works only for the request <code>tcp://localhost:7000</code>. But I want to create different endpoints similar to <a href=\"https://spring.io/blog/2020/03/02/getting-started-with-rsocket-spring-boot-server\" rel=\"nofollow noreferrer\">this</a>.</p>\n<pre><code>public class ServerExample {\n    public static void main(String[] args) {\n        Hooks.onErrorDropped(e -&gt; {});\n        RSocket handler = new RSocket() {\n            @Override\n            public Mono&lt;Payload&gt; requestResponse(Payload payload) {\n                System.out.println(&quot;RequestResponse: &quot; + payload.getDataUtf8());\n                return Mono.just(payload);\n            }\n\n            @Override\n            public Flux&lt;Payload&gt; requestStream(Payload payload) {\n                System.out.println(&quot;RequestStream: &quot; + payload.getDataUtf8());\n                return Flux.just(&quot;First&quot;, &quot;Second&quot;).map(DefaultPayload::create);\n            }\n\n            @Override\n            public Mono&lt;Void&gt; fireAndForget(Payload payload) {\n                System.out.println(&quot;FireAndForget: &quot; + payload.getDataUtf8());\n                return Mono.empty();\n            }\n        };\n        RSocketServer.create(SocketAcceptor.with(handler))\n                .bindNow(TcpServerTransport.create(&quot;localhost&quot;, 7000))\n                .onClose()\n                .doOnSubscribe(subscription -&gt; System.out.println(&quot;RSocket Server listen on tcp://localhost:7000&quot;))\n                .block();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","converters"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647611010,"creation_date":1647608479,"answer_id":71527436,"question_id":71526841,"body_markdown":"The `Converter`-API has no way of doing this. The best solution is to execute some logic within your controller. The easiest way of doing so is by using the `Optional` API.\r\n\r\n```java\r\n@GetMapping\r\npublic void handleRelease(@RequestParam Optional&lt;Release&gt; release) {\r\n    Release actualRelease = release.orElse(Release.DEV);\r\n}\r\n```\r\n\r\nThe benefit of this is that it&#39;s clean and you no longer need to add the `required = false` parameter because that&#39;s implied since we use `Optional`. The drawback is that you would have to do so in very controller method.\r\n\r\n---\r\n\r\nAnother option is to use a different conversion method. Spring MVC supports conversions for both the `Converter`-API and by the using `PropertyEditor`-API.\r\n\r\nIn stead of creating a converter, you have to define a `PropertyEditor`:\r\n\r\n```java\r\npublic class ReleasePropertyEditorSupport extends PropertyEditorSupport {\r\n    @Override\r\n    public void setValue(Object value) {\r\n        super.setValue(value == null ? Release.DEV : value);\r\n    }\r\n\r\n    @Override\r\n    public void setAsText(String text) throws IllegalArgumentException {\r\n        setValue(Release.parse(text));\r\n    }\r\n}\r\n````\r\n\r\nThe `setAsText()` method does the conversion, but as with the converters, it isn&#39;t invoked when value is `null`.\r\nTo handle custom `null` conversions, you can use a custom `setValue()` setter.\r\n\r\nTo register the property editor, you have to use a `WebDataBinder`. This can be done by adding the following method to a controller or a controller advice:\r\n\r\n```java\r\n@InitBinder\r\npublic void initializeBinder(WebDataBinder dataBinder) {\r\n    dataBinder.registerCustomEditor(Release.class, new ReleasePropertyEditorSupport());\r\n}\r\n```","title":"How do I register a Spring converter for null values?","body":"<p>The <code>Converter</code>-API has no way of doing this. The best solution is to execute some logic within your controller. The easiest way of doing so is by using the <code>Optional</code> API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic void handleRelease(@RequestParam Optional&lt;Release&gt; release) {\n    Release actualRelease = release.orElse(Release.DEV);\n}\n</code></pre>\n<p>The benefit of this is that it's clean and you no longer need to add the <code>required = false</code> parameter because that's implied since we use <code>Optional</code>. The drawback is that you would have to do so in very controller method.</p>\n<hr />\n<p>Another option is to use a different conversion method. Spring MVC supports conversions for both the <code>Converter</code>-API and by the using <code>PropertyEditor</code>-API.</p>\n<p>In stead of creating a converter, you have to define a <code>PropertyEditor</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReleasePropertyEditorSupport extends PropertyEditorSupport {\n    @Override\n    public void setValue(Object value) {\n        super.setValue(value == null ? Release.DEV : value);\n    }\n\n    @Override\n    public void setAsText(String text) throws IllegalArgumentException {\n        setValue(Release.parse(text));\n    }\n}\n</code></pre>\n<p>The <code>setAsText()</code> method does the conversion, but as with the converters, it isn't invoked when value is <code>null</code>.\nTo handle custom <code>null</code> conversions, you can use a custom <code>setValue()</code> setter.</p>\n<p>To register the property editor, you have to use a <code>WebDataBinder</code>. This can be done by adding the following method to a controller or a controller advice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InitBinder\npublic void initializeBinder(WebDataBinder dataBinder) {\n    dataBinder.registerCustomEditor(Release.class, new ReleasePropertyEditorSupport());\n}\n</code></pre>\n"}],"owner":{"account_id":19173164,"reputation":119,"user_id":14006438,"display_name":"Liam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647611010,"creation_date":1647605465,"question_id":71526841,"body_markdown":"My Spring Boot project has a handler with the following request parameter:\r\n\r\n```\r\n@RequestParam(value = &quot;release&quot;, required = false) Release release\r\n```\r\n\r\n`Release` is an enum I have defined. I have a method, Release.parse(), which converts Strings to Releases. I register it in a `@Configuration` class that implements `WebMvcConfigurer`:\r\n\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(String.class, Release.class, Release::parse);\r\n    }\r\n\r\n\r\nThis works fine for non-null values, but I want this method to be called even when no query parameter is parsed (so I can map null to Release.DEVELOP).\r\n\r\nThe documentation for Spring type conversion says that &quot;For each call to convert(S), the source argument is guaranteed to be NOT null.&quot;\r\n\r\nSo how do I set up a converter for when the argument IS null?\r\n\r\nn.b. I can&#39;t do this using `defaultValue` in my `@RequestParam` annotation, as this requires a String (and doesn&#39;t allow static values, so I can&#39;t just read from my Release.DEVELOP enum).\r\n","title":"How do I register a Spring converter for null values?","body":"<p>My Spring Boot project has a handler with the following request parameter:</p>\n<pre><code>@RequestParam(value = &quot;release&quot;, required = false) Release release\n</code></pre>\n<p><code>Release</code> is an enum I have defined. I have a method, Release.parse(), which converts Strings to Releases. I register it in a <code>@Configuration</code> class that implements <code>WebMvcConfigurer</code>:</p>\n<pre><code>@Override\npublic void addFormatters(FormatterRegistry registry) {\n    registry.addConverter(String.class, Release.class, Release::parse);\n}\n</code></pre>\n<p>This works fine for non-null values, but I want this method to be called even when no query parameter is parsed (so I can map null to Release.DEVELOP).</p>\n<p>The documentation for Spring type conversion says that &quot;For each call to convert(S), the source argument is guaranteed to be NOT null.&quot;</p>\n<p>So how do I set up a converter for when the argument IS null?</p>\n<p>n.b. I can't do this using <code>defaultValue</code> in my <code>@RequestParam</code> annotation, as this requires a String (and doesn't allow static values, so I can't just read from my Release.DEVELOP enum).</p>\n"},{"tags":["java","arrays","if-statement","while-loop","do-while"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647611337,"post_id":71527591,"comment_id":126420567,"body_markdown":"[Edit] your question and post ten sample numbers as well as the averages you expect to get from those ten numbers. Do you want the average of all those whose grade was between 60 to 89?","body":"<a href=\"https://stackoverflow.com/posts/71527591/edit\">Edit</a> your question and post ten sample numbers as well as the averages you expect to get from those ten numbers. Do you want the average of all those whose grade was between 60 to 89?"}],"answers":[{"tags":[],"owner":{"account_id":24135617,"reputation":1,"user_id":18102597,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647610915,"creation_date":1647610915,"answer_id":71527936,"question_id":71527591,"body_markdown":"You can simply add three variables which store the number of grades between 1 to 59, 60 to 89 and 90 to 100 and increment them in the for loop. For example:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class EhsanNp {\r\n\r\n    int lowGrades;\r\n    int middleGrades;\r\n    int highGrades;\r\n\r\n    public EhsanNp() {\r\n        lowGrades = 0;\r\n        middleGrades = 0;\r\n        highGrades = 0;\r\n        String getStr = getUserNums();\r\n        double result = userAvg(getStr);\r\n        printAverage(result, getStr);\r\n        \r\n    }\r\n\r\n    public String getUserNums() {\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter ten numbers separated by spaces: &quot;);\r\n        return in.nextLine();\r\n    }\r\n\r\n    public static double userAvg(String str) {\r\n        String[] arr = str.split(&quot; &quot;);\r\n        double sum = 0.0;\r\n        double average = 0.0;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            sum += Integer.parseInt(arr[i]);\r\n            if (Integer.parseInt(arr[i]) &gt;= 1 &amp;&amp; Integer.parseInt(arr[i]) &lt;= 59) {\r\n                lowGrades++;\r\n            }\r\n            else if (Integer.parseInt(arr[i]) &gt;= 60 &amp;&amp; Integer.parseInt(arr[i]) &lt;= 89) {\r\n                middleGrades++;\r\n            }\r\n            else {\r\n                highGrades++;\r\n            }\r\n        }\r\n        if (arr.length &gt; 0) {\r\n            average = sum / arr.length;\r\n        }\r\n\r\n        return average; // how do I get the program to count what to divide by since user can input 5- 10?\r\n    }\r\n\r\n    public static void printAverage(double average, String userNumInput) {\r\n        System.out.printf(&quot;The average of the numbers &quot; + userNumInput + &quot;is %.2f&quot;, average);\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new EhsanNp();\r\n\r\n    }\r\n}\r\n```\r\n\r\nThen you can do whatever you want with the variables like displaying them for example.","title":"Receive average scores and check the number of scores in a range | Java","body":"<p>You can simply add three variables which store the number of grades between 1 to 59, 60 to 89 and 90 to 100 and increment them in the for loop. For example:</p>\n<pre><code>import java.util.Scanner;\n\npublic class EhsanNp {\n\n    int lowGrades;\n    int middleGrades;\n    int highGrades;\n\n    public EhsanNp() {\n        lowGrades = 0;\n        middleGrades = 0;\n        highGrades = 0;\n        String getStr = getUserNums();\n        double result = userAvg(getStr);\n        printAverage(result, getStr);\n        \n    }\n\n    public String getUserNums() {\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Please enter ten numbers separated by spaces: &quot;);\n        return in.nextLine();\n    }\n\n    public static double userAvg(String str) {\n        String[] arr = str.split(&quot; &quot;);\n        double sum = 0.0;\n        double average = 0.0;\n        for (int i = 0; i &lt; arr.length; i++) {\n            sum += Integer.parseInt(arr[i]);\n            if (Integer.parseInt(arr[i]) &gt;= 1 &amp;&amp; Integer.parseInt(arr[i]) &lt;= 59) {\n                lowGrades++;\n            }\n            else if (Integer.parseInt(arr[i]) &gt;= 60 &amp;&amp; Integer.parseInt(arr[i]) &lt;= 89) {\n                middleGrades++;\n            }\n            else {\n                highGrades++;\n            }\n        }\n        if (arr.length &gt; 0) {\n            average = sum / arr.length;\n        }\n\n        return average; // how do I get the program to count what to divide by since user can input 5- 10?\n    }\n\n    public static void printAverage(double average, String userNumInput) {\n        System.out.printf(&quot;The average of the numbers &quot; + userNumInput + &quot;is %.2f&quot;, average);\n\n    }\n\n    public static void main(String[] args) {\n        new EhsanNp();\n\n    }\n}\n</code></pre>\n<p>Then you can do whatever you want with the variables like displaying them for example.</p>\n"}],"owner":{"account_id":17935765,"reputation":1,"user_id":13032128,"display_name":"Ehsan Np"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647610915,"creation_date":1647609218,"question_id":71527591,"body_markdown":"Write a java program that reads the grades of 10 students, which is from 1 to 100, from the entrance, specifying that the scores of some people are from 90 to 100, some people are from 60 to 89 and some people are from 1 to 59. The program should print the average scores at the end.\r\nThis is code for average, how can i add else and if or while to review how much numbers are in range 1 to 59 or 60 to 89 or 90 to 100?\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class EhsanNp {\r\n    \r\n        public EhsanNp() {\r\n            String getStr = getUserNums();\r\n            double result = userAvg(getStr);\r\n            printAverage(result, getStr);\r\n    \r\n        }\r\n    \r\n        public String getUserNums() {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter ten numbers separated by spaces: &quot;);\r\n            return in.nextLine();\r\n        }\r\n    \r\n        public static double userAvg(String str) {\r\n            String[] arr = str.split(&quot; &quot;);\r\n            double sum = 0.0;\r\n            double average = 0.0;\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                sum += Integer.parseInt(arr[i]);\r\n            }\r\n            if (arr.length &gt; 0) {\r\n                average = sum / arr.length;\r\n            }\r\n    \r\n            return average; // how do I get the program to count what to divide by since user can input 5- 10?\r\n        }\r\n    \r\n        public static void printAverage(double average, String userNumInput) {\r\n            System.out.printf(&quot;The average of the numbers &quot; + userNumInput + &quot;is %.2f&quot;, average);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new EhsanNp();\r\n    \r\n        }\r\n    }","title":"Receive average scores and check the number of scores in a range | Java","body":"<p>Write a java program that reads the grades of 10 students, which is from 1 to 100, from the entrance, specifying that the scores of some people are from 90 to 100, some people are from 60 to 89 and some people are from 1 to 59. The program should print the average scores at the end.\nThis is code for average, how can i add else and if or while to review how much numbers are in range 1 to 59 or 60 to 89 or 90 to 100?</p>\n<pre><code>import java.util.Scanner;\n\npublic class EhsanNp {\n\n    public EhsanNp() {\n        String getStr = getUserNums();\n        double result = userAvg(getStr);\n        printAverage(result, getStr);\n\n    }\n\n    public String getUserNums() {\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Please enter ten numbers separated by spaces: &quot;);\n        return in.nextLine();\n    }\n\n    public static double userAvg(String str) {\n        String[] arr = str.split(&quot; &quot;);\n        double sum = 0.0;\n        double average = 0.0;\n        for (int i = 0; i &lt; arr.length; i++) {\n            sum += Integer.parseInt(arr[i]);\n        }\n        if (arr.length &gt; 0) {\n            average = sum / arr.length;\n        }\n\n        return average; // how do I get the program to count what to divide by since user can input 5- 10?\n    }\n\n    public static void printAverage(double average, String userNumInput) {\n        System.out.printf(&quot;The average of the numbers &quot; + userNumInput + &quot;is %.2f&quot;, average);\n\n    }\n\n    public static void main(String[] args) {\n        new EhsanNp();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","playframework","playframework-2.0","playframework-2.3"],"answers":[{"tags":[],"owner":{"account_id":2276761,"reputation":2798,"user_id":2002817,"accept_rate":78,"display_name":"wwkudu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1422599955,"creation_date":1422596052,"answer_id":28229823,"question_id":28227194,"body_markdown":"I work in Scala, not Java. But you I think you need your input id and name fields to match your form field names. It uses those to bind. You don&#39;t show your UserWeightsForm, but you could try something like:\r\n\r\n        &lt;input type=&quot;number&quot; name=&#39;sampleSize&#39; id=&quot;sampleSize&quot; value=&quot;@UserWeightsForm(&quot;sampleSize&quot;).value.getOrElse(&quot;0&quot;)&quot;&gt;&lt;br/&gt;\r\n        &lt;input type=&quot;number&quot; name=&#39;misSampleSize&#39; id=&quot;misSampleSize&quot; value=&quot;@UserWeightsForm(&quot;misSampleSize&quot;).value.getOrElse(&quot;0&quot;)&quot;&gt;&lt;br/&gt;\r\n\r\nI also use a &quot;getOrElse&quot; on the value in case (error perhaps) there is no value. ","title":"play framework&#39;s input text value always passes 0","body":"<p>I work in Scala, not Java. But you I think you need your input id and name fields to match your form field names. It uses those to bind. You don't show your UserWeightsForm, but you could try something like:</p>\n\n<pre><code>    &lt;input type=\"number\" name='sampleSize' id=\"sampleSize\" value=\"@UserWeightsForm(\"sampleSize\").value.getOrElse(\"0\")\"&gt;&lt;br/&gt;\n    &lt;input type=\"number\" name='misSampleSize' id=\"misSampleSize\" value=\"@UserWeightsForm(\"misSampleSize\").value.getOrElse(\"0\")\"&gt;&lt;br/&gt;\n</code></pre>\n\n<p>I also use a \"getOrElse\" on the value in case (error perhaps) there is no value. </p>\n"}],"owner":{"account_id":2778814,"reputation":1045,"user_id":2391790,"accept_rate":70,"display_name":"unlimitednzt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28229823,"answer_count":1,"score":1,"last_activity_date":1647610597,"creation_date":1422577354,"question_id":28227194,"body_markdown":"I&#39;ve been working on a play form for a couple of days and am extremely frustrated. I went through the documentation and used the &quot;Play with Java&quot; book, and created a userWeights model class:\r\n\r\n    public class UserWeights {\r\n        \tpublic HashMap&lt;ServicesWeights, Float&gt; userWeights = new HashMap&lt;&gt;();\r\n        \t@Constraints.Required\r\n        \tpublic String user;\r\n        \t@Constraints.Required\r\n        \tpublic String password;\r\n        \tpublic int sampleSize;\r\n        \tpublic int misSampleSize;\r\n    } \r\n\r\nMy controller:\r\n\r\n    public class Application extends Controller {\r\n    \r\n    \tprivate static final Form&lt;UserWeights&gt; userWeightsForm = Form.form(UserWeights.class);\r\n    \r\n    \tpublic static Result index() {\r\n    \t\treturn ok(index.render(&quot;Your new application is ready.&quot;));\r\n    \t}\r\n    \r\n    \tpublic static Result finder () {\r\n    \r\n    \t\treturn ok(finder.render(userWeightsForm));\r\n    \t}\r\n    \r\n    \tpublic static Result runWithUserInput () {\r\n    \t\tForm&lt;UserWeights&gt; boundForm = userWeightsForm.bindFromRequest();\r\n\r\n    \t\tif (boundForm.hasErrors()) { \r\n    \t\t\treturn badRequest(index.render(&quot;FAIL&quot;));\r\n    \t\t}\r\n    \t\tUserWeights weights = boundForm.get(); \r\n\r\n    \t\tif (weights.checkboxChoices.get(0) != null &amp;&amp; weights.checkboxChoices.get(0).equals(&quot;1&quot;)) {\r\n    \t\t\trunMethodA();\r\n    \t\t} else if (weights.checkboxChoices.get(1) != null &amp;&amp; weights.checkboxChoices.get(1).equals(&quot;2&quot;)) {\r\n    \t\t\trunMethodB();\r\n    \t\t} \r\n    \t\t\r\n    \t    return TODO;\r\n    \t}\r\n\r\nAnd the view:\r\n\r\n    @(UserWeightsForm: Form[UserWeights]) \r\n    @import helper._ \r\n    @import helper.twitterBootstrap._ \r\n    \r\n    @main(&quot;finder&quot;) {\r\n    &lt;h1&gt;Please fill the required fields&lt;/h1&gt;\r\n    @helper.form(action = routes.Application.runWithUserInput(), &#39;enctype -&gt; &quot;multipart/form-data&quot;) {\r\n    &lt;fieldset&gt;\r\n    \t&lt;legend&gt;Finder&lt;/legend&gt;\r\n    \t@helper.inputText(UserWeightsForm(&quot;user&quot;),&#39;_label -&gt; &quot;User&quot;)\r\n    \t@helper.inputPassword(UserWeightsForm(&quot;password&quot;), &#39;_label -&gt; &quot;Password&quot;)\r\n    \t&lt;br/&gt;\r\n     \t\t&lt;label for=&quot;checkboxInput&quot;&gt;Input Type:&lt;/label&gt;&lt;br/&gt;\r\n    \r\n     \t\t&lt;span class=&quot;buttonSet&quot; id=&quot;checkboxInput&quot;&gt;\t\r\n     \t    &lt;input type = &quot;checkbox&quot; id = &quot;genericCheckbox&quot; name = &#39;checkboxChoices[0]&#39; value = &quot;1&quot;&gt;\r\n     \t    &lt;label for = &quot;genericCheckbox&quot;&gt;Generic Sample&lt;/label&gt;\r\n     \t    &lt;input type  =  &quot;number&quot; name  =  &#39;UserWeightsForm(&quot;sampleSize&quot;)&#39; id  =  &quot;genericInput&quot; value = &quot;@UserWeightsForm(&quot;sampleSize&quot;).value&quot;&gt;&lt;br/&gt;\r\n      \t    &lt;input type = &quot;checkbox&quot; id = &quot;misCheckbox&quot; name = &#39;checkboxChoices[1]&#39; value = &quot;2&quot;&gt;\r\n    \t    &lt;label for = &quot;misCheckbox&quot;&gt;MisSample&lt;/label&gt;\r\n    \t    &lt;input type  =  &quot;number&quot; name  =  &#39;UserWeightsForm(&quot;misSampleSize&quot;)&#39; id  =  &quot;misInput&quot; value = &quot;@UserWeightsForm(&quot;misSampleSize&quot;).value&quot;&gt;&lt;br/&gt;\r\n     \t\t&lt;/span&gt;\r\n\r\nWhat I want - if the first checkbox is selected, the user will fill in the `sampleSize` text input field, and that value will be bounded to the form, while the `misSampleSize` field will be blank/zero/whatever (in this case I&#39;m not using it anyway). And vice versa.\r\n\r\nThe problem - when I check the checkbox and fill in the `sample` text input, it binds the value 0 to the form.\r\n\r\nI&#39;ve tried setting the `value` in the `input` tag to null, removing it completely and using the template helper (I prefer to avoid it because it&#39;s not as flexible). I can&#39;t understand why the number I enter into the text field is ignored, and my programs considers it to be 0.\r\n\r\nSo **question 1**: How do I stop the 0 value being populated?\r\n\r\n**question 2** How can I send a value for one of the text fields (`sampleSize` or `misSampleSize`), and leave the other one empty, without getting form errors?\r\n\r\nThanks!","title":"play framework&#39;s input text value always passes 0","body":"<p>I've been working on a play form for a couple of days and am extremely frustrated. I went through the documentation and used the \"Play with Java\" book, and created a userWeights model class:</p>\n\n<pre><code>public class UserWeights {\n        public HashMap&lt;ServicesWeights, Float&gt; userWeights = new HashMap&lt;&gt;();\n        @Constraints.Required\n        public String user;\n        @Constraints.Required\n        public String password;\n        public int sampleSize;\n        public int misSampleSize;\n} \n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>public class Application extends Controller {\n\n    private static final Form&lt;UserWeights&gt; userWeightsForm = Form.form(UserWeights.class);\n\n    public static Result index() {\n        return ok(index.render(\"Your new application is ready.\"));\n    }\n\n    public static Result finder () {\n\n        return ok(finder.render(userWeightsForm));\n    }\n\n    public static Result runWithUserInput () {\n        Form&lt;UserWeights&gt; boundForm = userWeightsForm.bindFromRequest();\n\n        if (boundForm.hasErrors()) { \n            return badRequest(index.render(\"FAIL\"));\n        }\n        UserWeights weights = boundForm.get(); \n\n        if (weights.checkboxChoices.get(0) != null &amp;&amp; weights.checkboxChoices.get(0).equals(\"1\")) {\n            runMethodA();\n        } else if (weights.checkboxChoices.get(1) != null &amp;&amp; weights.checkboxChoices.get(1).equals(\"2\")) {\n            runMethodB();\n        } \n\n        return TODO;\n    }\n</code></pre>\n\n<p>And the view:</p>\n\n<pre><code>@(UserWeightsForm: Form[UserWeights]) \n@import helper._ \n@import helper.twitterBootstrap._ \n\n@main(\"finder\") {\n&lt;h1&gt;Please fill the required fields&lt;/h1&gt;\n@helper.form(action = routes.Application.runWithUserInput(), 'enctype -&gt; \"multipart/form-data\") {\n&lt;fieldset&gt;\n    &lt;legend&gt;Finder&lt;/legend&gt;\n    @helper.inputText(UserWeightsForm(\"user\"),'_label -&gt; \"User\")\n    @helper.inputPassword(UserWeightsForm(\"password\"), '_label -&gt; \"Password\")\n    &lt;br/&gt;\n        &lt;label for=\"checkboxInput\"&gt;Input Type:&lt;/label&gt;&lt;br/&gt;\n\n        &lt;span class=\"buttonSet\" id=\"checkboxInput\"&gt; \n        &lt;input type = \"checkbox\" id = \"genericCheckbox\" name = 'checkboxChoices[0]' value = \"1\"&gt;\n        &lt;label for = \"genericCheckbox\"&gt;Generic Sample&lt;/label&gt;\n        &lt;input type  =  \"number\" name  =  'UserWeightsForm(\"sampleSize\")' id  =  \"genericInput\" value = \"@UserWeightsForm(\"sampleSize\").value\"&gt;&lt;br/&gt;\n        &lt;input type = \"checkbox\" id = \"misCheckbox\" name = 'checkboxChoices[1]' value = \"2\"&gt;\n        &lt;label for = \"misCheckbox\"&gt;MisSample&lt;/label&gt;\n        &lt;input type  =  \"number\" name  =  'UserWeightsForm(\"misSampleSize\")' id  =  \"misInput\" value = \"@UserWeightsForm(\"misSampleSize\").value\"&gt;&lt;br/&gt;\n        &lt;/span&gt;\n</code></pre>\n\n<p>What I want - if the first checkbox is selected, the user will fill in the <code>sampleSize</code> text input field, and that value will be bounded to the form, while the <code>misSampleSize</code> field will be blank/zero/whatever (in this case I'm not using it anyway). And vice versa.</p>\n\n<p>The problem - when I check the checkbox and fill in the <code>sample</code> text input, it binds the value 0 to the form.</p>\n\n<p>I've tried setting the <code>value</code> in the <code>input</code> tag to null, removing it completely and using the template helper (I prefer to avoid it because it's not as flexible). I can't understand why the number I enter into the text field is ignored, and my programs considers it to be 0.</p>\n\n<p>So <strong>question 1</strong>: How do I stop the 0 value being populated?</p>\n\n<p><strong>question 2</strong> How can I send a value for one of the text fields (<code>sampleSize</code> or <code>misSampleSize</code>), and leave the other one empty, without getting form errors?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mocking","mockito","powermock"],"comments":[{"owner":{"account_id":970219,"reputation":777,"user_id":2003273,"display_name":"Christopher Roscoe"},"score":1,"creation_date":1371721818,"post_id":17206527,"comment_id":24930008,"body_markdown":"Maybe this information helps: https://code.google.com/p/mockito/wiki/FAQ#Is_Mockito_thread-safe?","body":"Maybe this information helps: <a href=\"https://code.google.com/p/mockito/wiki/FAQ#Is_Mockito_thread-safe\" rel=\"nofollow noreferrer\">code.google.com/p/mockito/wiki/FAQ#Is_Mockito_thread-safe</a>?"}],"answers":[{"tags":[],"owner":{"account_id":2157242,"reputation":15454,"user_id":1912167,"accept_rate":80,"display_name":"Tom Verelst"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1452527092,"creation_date":1371743338,"answer_id":17218166,"question_id":17206527,"body_markdown":"It is very likely that the `Runnable` hasn&#39;t been executed yet by the `asyncTaskExecutor` when you verify the invocation, resulting in a verification error in your unit test.\r\n\r\nThe best way to fix this is to join on the generated thread and wait for execution before verifying the invocations.\r\n\r\nIf you cannot get the instance of the thread, a possible work around is to mock the `asyncTaskExecutor` and implement it so it will execute the runnable directly.\r\n\r\n    private ExecutorService executor;\r\n    \r\n    @Before\r\n    public void setup() {\r\n        executor = mock(ExecutorService.class);\r\n        implementAsDirectExecutor(executor);\r\n    }\r\n    \r\n    protected void implementAsDirectExecutor(ExecutorService executor) {\r\n        doAnswer(new Answer&lt;Object&gt;() {\r\n            public Object answer(InvocationOnMock invocation) throws Exception {\r\n                ((Runnable) invocation.getArguments()[0]).run();\r\n                return null;\r\n            }\r\n        }).when(executor).submit(any(Runnable.class));\r\n    }","title":"Is it possible to verify a mock method running in different thread in Mockito?","body":"<p>It is very likely that the <code>Runnable</code> hasn't been executed yet by the <code>asyncTaskExecutor</code> when you verify the invocation, resulting in a verification error in your unit test.</p>\n\n<p>The best way to fix this is to join on the generated thread and wait for execution before verifying the invocations.</p>\n\n<p>If you cannot get the instance of the thread, a possible work around is to mock the <code>asyncTaskExecutor</code> and implement it so it will execute the runnable directly.</p>\n\n<pre><code>private ExecutorService executor;\n\n@Before\npublic void setup() {\n    executor = mock(ExecutorService.class);\n    implementAsDirectExecutor(executor);\n}\n\nprotected void implementAsDirectExecutor(ExecutorService executor) {\n    doAnswer(new Answer&lt;Object&gt;() {\n        public Object answer(InvocationOnMock invocation) throws Exception {\n            ((Runnable) invocation.getArguments()[0]).run();\n            return null;\n        }\n    }).when(executor).submit(any(Runnable.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58777,"reputation":3458,"user_id":175950,"accept_rate":71,"display_name":"Francis Martens"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1484731090,"creation_date":1414333360,"answer_id":26573973,"question_id":17206527,"body_markdown":"I had the same issue and played around with the timeout argument\r\nhttp://javadoc.io/page/org.mockito/mockito-core/latest/org/mockito/Mockito.html#22\r\nbut with argument 0 like in \r\n\r\n\r\n    verify(someClass, timeout(0)).someMethod(any(someParameter.class));\r\n\r\n\r\nAnd it works.  I assume that the testing thread yields, and therefore the other thread has an opportunity to do its work, calling the mocks appropriately.\r\nStill it smells like a hack.\r\n\r\n\r\n\r\n","title":"Is it possible to verify a mock method running in different thread in Mockito?","body":"<p>I had the same issue and played around with the timeout argument\n<a href=\"http://javadoc.io/page/org.mockito/mockito-core/latest/org/mockito/Mockito.html#22\" rel=\"noreferrer\">http://javadoc.io/page/org.mockito/mockito-core/latest/org/mockito/Mockito.html#22</a>\nbut with argument 0 like in </p>\n\n<pre><code>verify(someClass, timeout(0)).someMethod(any(someParameter.class));\n</code></pre>\n\n<p>And it works.  I assume that the testing thread yields, and therefore the other thread has an opportunity to do its work, calling the mocks appropriately.\nStill it smells like a hack.</p>\n"},{"tags":[],"owner":{"account_id":11808821,"reputation":156,"user_id":8640698,"display_name":"RobinFood"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1554384717,"creation_date":1554384717,"answer_id":55517285,"question_id":17206527,"body_markdown":"To further iterate upon Tom&#39;s answer - using Java 8 Lambdas you can now use the following code for mocking the Executor, which is slightly more concise:\r\n\r\n        doAnswer((Answer&lt;Void&gt;)invocation -&gt; {\r\n            ((Runnable)invocation.getArgument(0)).run();\r\n            return null;\r\n        }).when(executorService).submit(any(Runnable.class));\r\n","title":"Is it possible to verify a mock method running in different thread in Mockito?","body":"<p>To further iterate upon Tom's answer - using Java 8 Lambdas you can now use the following code for mocking the Executor, which is slightly more concise:</p>\n\n<pre><code>    doAnswer((Answer&lt;Void&gt;)invocation -&gt; {\n        ((Runnable)invocation.getArgument(0)).run();\n        return null;\n    }).when(executorService).submit(any(Runnable.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11168034,"reputation":274,"user_id":8196030,"display_name":"Mosheer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647610047,"creation_date":1647578404,"answer_id":71522545,"question_id":17206527,"body_markdown":"It took me hours to figure what is going on! I simply added Thread.sleep after calling the method under test and before calling verify. This will guarantee that the created threads finish before calling verify method. \r\n\r\n    @Test\r\n    void testVerifyWorksForCodeRunsInThreads() {\r\n        //given: \r\n    \r\n        //when:\r\n        //call the method under test which runs threads\r\n        Thread.sleep(200);//MUST HAVE THIS BEFORE CALLING VERIFY TO MAKE SURE THE CREATED THREADS FINISH. Set the time based on how long your task would take\r\n    \r\n        //then: \r\n        verify(.......\r\n    }\r\n\r\n  \r\n  \r\n\r\n\r\n","title":"Is it possible to verify a mock method running in different thread in Mockito?","body":"<p>It took me hours to figure what is going on! I simply added Thread.sleep after calling the method under test and before calling verify. This will guarantee that the created threads finish before calling verify method.</p>\n<pre><code>@Test\nvoid testVerifyWorksForCodeRunsInThreads() {\n    //given: \n\n    //when:\n    //call the method under test which runs threads\n    Thread.sleep(200);//MUST HAVE THIS BEFORE CALLING VERIFY TO MAKE SURE THE CREATED THREADS FINISH. Set the time based on how long your task would take\n\n    //then: \n    verify(.......\n}\n</code></pre>\n"}],"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37628,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":17218166,"answer_count":4,"score":34,"last_activity_date":1647610047,"creation_date":1371709074,"question_id":17206527,"body_markdown":"I have a method like the following, \r\n\r\n    public void generateCSVFile(final Date billingDate) {\r\n        asyncTaskExecutor.execute(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    accessService.generateCSVFile(billingDate);\r\n                } catch (Exception e) {\r\n                    LOG.error(e.getMessage());\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nI have mocked:\r\n\r\n    PowerMockito.doNothing().when(accessService).generateCSVFile(billingDate);\r\n\r\nBut when I verify:\r\n\r\n    verify(rbmPublicViewAccessService, timeout(100).times(1)).generateCSVFile(billingDate);\r\n\r\nIt gives me as not invoked. Is this because it is invoked via separate thread, and is it possible to verify the methods called in different thread?","title":"Is it possible to verify a mock method running in different thread in Mockito?","body":"<p>I have a method like the following, </p>\n\n<pre><code>public void generateCSVFile(final Date billingDate) {\n    asyncTaskExecutor.execute(new Runnable() {\n        public void run() {\n            try {\n                accessService.generateCSVFile(billingDate);\n            } catch (Exception e) {\n                LOG.error(e.getMessage());\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>I have mocked:</p>\n\n<pre><code>PowerMockito.doNothing().when(accessService).generateCSVFile(billingDate);\n</code></pre>\n\n<p>But when I verify:</p>\n\n<pre><code>verify(rbmPublicViewAccessService, timeout(100).times(1)).generateCSVFile(billingDate);\n</code></pre>\n\n<p>It gives me as not invoked. Is this because it is invoked via separate thread, and is it possible to verify the methods called in different thread?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1647550271,"post_id":71518864,"comment_id":126406213,"body_markdown":"Please read [ask] and post a [mcve].  How are we supposed to know what this is supposed to do?","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  How are we supposed to know what this is supposed to do?"},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1647550483,"post_id":71518864,"comment_id":126406288,"body_markdown":"Iterating backwards over the array and then subtracting one from the index makes this very difficult to read. However, I think the issue might be that the loop condition should be `&gt;=1`.","body":"Iterating backwards over the array and then subtracting one from the index makes this very difficult to read. However, I think the issue might be that the loop condition should be <code>&gt;=1</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647550508,"creation_date":1647550508,"answer_id":71518934,"question_id":71518864,"body_markdown":"When a for loop &#39;loops&#39;, java _first_ executes the &#39;incrementor&#39; expression (here, `i--`), and _then_ checks the condition (here, `i &gt; 1`), and will abort the loop then and tehre if the condition no longer holds.\r\n\r\nThus, eventually i is 2, you check `names[i - 1]` (and java is 0-indexed, so `names[1]` returns the __second character__). Then, i is decremented to 1, __and the loop ends__.\r\n\r\nThus, this code fails to count the first character if it is blank.\r\n\r\nSimply make that `i &gt; 0` to fix it.","title":"I have a logical error code and I can not find","body":"<p>When a for loop 'loops', java <em>first</em> executes the 'incrementor' expression (here, <code>i--</code>), and <em>then</em> checks the condition (here, <code>i &gt; 1</code>), and will abort the loop then and tehre if the condition no longer holds.</p>\n<p>Thus, eventually i is 2, you check <code>names[i - 1]</code> (and java is 0-indexed, so <code>names[1]</code> returns the <strong>second character</strong>). Then, i is decremented to 1, <strong>and the loop ends</strong>.</p>\n<p>Thus, this code fails to count the first character if it is blank.</p>\n<p>Simply make that <code>i &gt; 0</code> to fix it.</p>\n"},{"tags":[],"owner":{"account_id":22789266,"reputation":301,"user_id":16943869,"display_name":"Saheed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647550854,"creation_date":1647550854,"answer_id":71518991,"question_id":71518864,"body_markdown":"You&#39;re actually writing your loop wrongly.\r\nPerhaps your question isn&#39;t clear enough\r\n\r\nIt should be this way i guess.\r\n\r\n    public static int nameCheck(char[] names){ int blankCount = 0;\r\n     for (int i = 0; i &gt; names.length; i--) {\r\n      if (names[i-1] == &#39; &#39;) {\r\n            blankCount++;\r\n    }        \r\n    }\r\n    return blankCount;\r\n    }","title":"I have a logical error code and I can not find","body":"<p>You're actually writing your loop wrongly.\nPerhaps your question isn't clear enough</p>\n<p>It should be this way i guess.</p>\n<pre><code>public static int nameCheck(char[] names){ int blankCount = 0;\n for (int i = 0; i &gt; names.length; i--) {\n  if (names[i-1] == ' ') {\n        blankCount++;\n}        \n}\nreturn blankCount;\n}\n</code></pre>\n"}],"owner":{"account_id":24593916,"reputation":11,"user_id":18497391,"display_name":"joshamada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1647551019,"answer_count":2,"score":-1,"last_activity_date":1647609873,"creation_date":1647550133,"question_id":71518864,"body_markdown":"I have a logical error code and I can not find out where it would be happy to solve the code\r\n\r\n```\r\npublic static int nameCheck(char[] names) {\r\n    int blankCount = 0;\r\n    for (int i = names.length; i &gt; 1; i--) {\r\n        if (names[i - 1] == &#39; &#39;) {\r\n            blankCount++;\r\n        }\r\n    }\r\n    return blankCount;\r\n}\r\n```","title":"I have a logical error code and I can not find","body":"<p>I have a logical error code and I can not find out where it would be happy to solve the code</p>\n<pre><code>public static int nameCheck(char[] names) {\n    int blankCount = 0;\n    for (int i = names.length; i &gt; 1; i--) {\n        if (names[i - 1] == ' ') {\n            blankCount++;\n        }\n    }\n    return blankCount;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","jwt","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":3337626,"reputation":318,"user_id":8459810,"display_name":"Dragan Velkovski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647609262,"creation_date":1647609262,"answer_id":71527598,"question_id":71518177,"body_markdown":"You should configure Filter and send the token in the header from the FE. Once you have the token in the filter you can parse and validate\r\n\r\n     @Override\r\n        public void doFilter(\r\n          ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            String token = request.getHeader(&quot;Authorization&quot;);\r\n            // validate and parse token\r\n            HttpServletRequest req = (HttpServletRequest) request;\r\n            HttpServletResponse res = (HttpServletResponse) response;\r\n            LOG.info(\r\n              &quot;Logging Request  {} : {}&quot;, req.getMethod(), \r\n              req.getRequestURI());\r\n            chain.doFilter(request, response);\r\n            LOG.info(\r\n              &quot;Logging Response :{}&quot;, \r\n              res.getContentType());\r\n        }\r\n    \r\n\r\nhttps://www.baeldung.com/spring-boot-add-filter\r\n\r\nhttps://www.baeldung.com/spring-security-custom-filter\r\n\r\nhttps://spring.io/guides/topicals/spring-security-architecture\r\n\r\n","title":"Integrating Spring Security with AWS Cognito","body":"<p>You should configure Filter and send the token in the header from the FE. Once you have the token in the filter you can parse and validate</p>\n<pre><code> @Override\n    public void doFilter(\n      ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        String token = request.getHeader(&quot;Authorization&quot;);\n        // validate and parse token\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n        LOG.info(\n          &quot;Logging Request  {} : {}&quot;, req.getMethod(), \n          req.getRequestURI());\n        chain.doFilter(request, response);\n        LOG.info(\n          &quot;Logging Response :{}&quot;, \n          res.getContentType());\n    }\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-add-filter</a></p>\n<p><a href=\"https://www.baeldung.com/spring-security-custom-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-custom-filter</a></p>\n<p><a href=\"https://spring.io/guides/topicals/spring-security-architecture\" rel=\"nofollow noreferrer\">https://spring.io/guides/topicals/spring-security-architecture</a></p>\n"}],"owner":{"account_id":13016040,"reputation":887,"user_id":11421485,"display_name":"Richard Robinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647609262,"creation_date":1647546180,"question_id":71518177,"body_markdown":"I&#39;m building the backend for a system which uses AWS Cognito in a Spring Boot project. For some of my API requests, I want them to be authenticated using a bearer token the client passes with the AWS Cognito user&#39;s JWT.\r\n\r\nI have the following class to validate and parse it:\r\n\r\n```java\r\npublic class Auth {\r\n    record CanonicalAuthToken(String token, UUID uuid, String username) {}\r\n\r\n    public static Optional&lt;CanonicalAuthToken&gt; validateAndExtractToken(String token, String jwksUrl, String jwtTokenIssuer) {\r\n        var decodedJwtToken = JWT.decode(token);\r\n        var kid = decodedJwtToken.getKeyId();\r\n\r\n        try {\r\n\r\n            var http = new UrlJwkProvider(new URL(jwksUrl));\r\n            // Let&#39;s cache the result from Cognito for the default of 10 hours\r\n            var provider = new GuavaCachedJwkProvider(http);\r\n\r\n            var jwk = provider.get(kid);\r\n\r\n            var algorithm = com.auth0.jwt.algorithms.Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\r\n            var verifier = JWT.require(algorithm)\r\n                    .withIssuer(jwtTokenIssuer)\r\n                    .build();\r\n\r\n            var decoded = verifier.verify(token);\r\n\r\n            return Optional.of(new CanonicalAuthToken(decoded.getToken(), UUID.fromString(decoded.getSubject()), decoded.getClaim(&quot;username&quot;).asString()));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return Optional.empty();\r\n    }\r\n\r\n    private Auth() {}\r\n}\r\n```\r\n\r\nHowever, this really only works when manually calling it within the body of each endpoint implementation. Instead, I want to take advantage of Spring&#39;s built-in Security mechanism to act as middleware for the authentication.\r\n\r\nI did find several solutions, all of which include about half a dozen classes. However, none of these allow me to actually access the decoded JWT in the endpoint implementation itself (specifically, I want to access the `sub` field so that I can access the user&#39;s UUID and match it in the database).\r\n\r\nAll the resources I&#39;ve been able to find so far are somewhat relevant and helpful, however I still can&#39;t find a way to accomplish this specific goal and I&#39;m not really sure what to even Google.\r\n\r\nAny help is appreciated, thanks!","title":"Integrating Spring Security with AWS Cognito","body":"<p>I'm building the backend for a system which uses AWS Cognito in a Spring Boot project. For some of my API requests, I want them to be authenticated using a bearer token the client passes with the AWS Cognito user's JWT.</p>\n<p>I have the following class to validate and parse it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Auth {\n    record CanonicalAuthToken(String token, UUID uuid, String username) {}\n\n    public static Optional&lt;CanonicalAuthToken&gt; validateAndExtractToken(String token, String jwksUrl, String jwtTokenIssuer) {\n        var decodedJwtToken = JWT.decode(token);\n        var kid = decodedJwtToken.getKeyId();\n\n        try {\n\n            var http = new UrlJwkProvider(new URL(jwksUrl));\n            // Let's cache the result from Cognito for the default of 10 hours\n            var provider = new GuavaCachedJwkProvider(http);\n\n            var jwk = provider.get(kid);\n\n            var algorithm = com.auth0.jwt.algorithms.Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\n            var verifier = JWT.require(algorithm)\n                    .withIssuer(jwtTokenIssuer)\n                    .build();\n\n            var decoded = verifier.verify(token);\n\n            return Optional.of(new CanonicalAuthToken(decoded.getToken(), UUID.fromString(decoded.getSubject()), decoded.getClaim(&quot;username&quot;).asString()));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return Optional.empty();\n    }\n\n    private Auth() {}\n}\n</code></pre>\n<p>However, this really only works when manually calling it within the body of each endpoint implementation. Instead, I want to take advantage of Spring's built-in Security mechanism to act as middleware for the authentication.</p>\n<p>I did find several solutions, all of which include about half a dozen classes. However, none of these allow me to actually access the decoded JWT in the endpoint implementation itself (specifically, I want to access the <code>sub</code> field so that I can access the user's UUID and match it in the database).</p>\n<p>All the resources I've been able to find so far are somewhat relevant and helpful, however I still can't find a way to accomplish this specific goal and I'm not really sure what to even Google.</p>\n<p>Any help is appreciated, thanks!</p>\n"},{"tags":["java","nexus3"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1647509659,"post_id":71509721,"comment_id":126390912,"body_markdown":"If it is a `jar` file, why are you accepting `json` ?? ;)","body":"If it is a <code>jar</code> file, why are you accepting <code>json</code> ?? ;)"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1647509760,"post_id":71509721,"comment_id":126390952,"body_markdown":"Also you dont need `Content-Type` header, as you are not sending any body which might cause server to respond differently","body":"Also you dont need <code>Content-Type</code> header, as you are not sending any body which might cause server to respond differently"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1647513021,"post_id":71509721,"comment_id":126392125,"body_markdown":"right - question upated - same error","body":"right - question upated - same error"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1647521429,"post_id":71509721,"comment_id":126394949,"body_markdown":"I was accepting json just in case the rest api returns an error in json format instead of the jar file","body":"I was accepting json just in case the rest api returns an error in json format instead of the jar file"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1647604751,"post_id":71509721,"comment_id":126418338,"body_markdown":"@Antoniossss the same link that produces a FileNotFoundException in the console works in a browser if I copy/paste it, provided that I&#39;m properly logged in. Any ideas?","body":"@Antoniossss the same link that produces a FileNotFoundException in the console works in a browser if I copy/paste it, provided that I&#39;m properly logged in. Any ideas?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1647607715,"post_id":71509721,"comment_id":126419237,"body_markdown":"not really no, you would have to share actual link. Looks like it should work as is. Douyble check  that credentials are correct. You can try to use invalid credentials to see if it would generate different response","body":"not really no, you would have to share actual link. Looks like it should work as is. Douyble check  that credentials are correct. You can try to use invalid credentials to see if it would generate different response"}],"answers":[{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647608701,"creation_date":1647608701,"answer_id":71527492,"question_id":71509721,"body_markdown":"The `Basic` authentication in `Authorization` header worked for me.\r\n\r\n```java\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString nexus3Url = args[0];\r\n\t\tString nexus3User = args[1];\r\n\t\tString nexus3Password = args[2];\r\n\r\n\t\tURL url = new URL(nexus3Url\r\n\t\t\t\t+ &quot;/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources&quot;);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\tString auth = nexus3User + &quot;:&quot; + nexus3Password;\r\n\t\tbyte[] encodedAuth = Base64.getEncoder().encode(auth.getBytes(StandardCharsets.UTF_8));\r\n\t\tString authHeaderValue = &quot;Basic &quot; + new String(encodedAuth);\r\n\t\tconnection.setRequestProperty(&quot;Authorization&quot;, authHeaderValue);\r\n\t\tconnection.setInstanceFollowRedirects(true);\r\n\t\tconnection.setConnectTimeout(5000);\r\n\t\tconnection.setReadTimeout(10000);\r\n\t\tFile file = new File(&quot;activemq-broker-5.16.2-sources.jar&quot;);\r\n\t\ttry (InputStream in = connection.getInputStream()) {\r\n\t\t\tFiles.copy(in, file.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\t\t}\r\n\t}\r\n```","title":"Download works with curl but not with Java program","body":"<p>The <code>Basic</code> authentication in <code>Authorization</code> header worked for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws Exception {\n        String nexus3Url = args[0];\n        String nexus3User = args[1];\n        String nexus3Password = args[2];\n\n        URL url = new URL(nexus3Url\n                + &quot;/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources&quot;);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        String auth = nexus3User + &quot;:&quot; + nexus3Password;\n        byte[] encodedAuth = Base64.getEncoder().encode(auth.getBytes(StandardCharsets.UTF_8));\n        String authHeaderValue = &quot;Basic &quot; + new String(encodedAuth);\n        connection.setRequestProperty(&quot;Authorization&quot;, authHeaderValue);\n        connection.setInstanceFollowRedirects(true);\n        connection.setConnectTimeout(5000);\n        connection.setReadTimeout(10000);\n        File file = new File(&quot;activemq-broker-5.16.2-sources.jar&quot;);\n        try (InputStream in = connection.getInputStream()) {\n            Files.copy(in, file.toPath(), StandardCopyOption.REPLACE_EXISTING);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71527492,"answer_count":1,"score":0,"last_activity_date":1647608847,"creation_date":1647508568,"question_id":71509721,"body_markdown":"I&#39;m having trouble downloading an artifact from Nexus 3 with a Java program.\r\nIt works fine with curl but not with this Java program. There might be some differences that make the download fail.\r\n\r\nThis curl command works:\r\n\r\n    curl -u user:password -k -L -X GET &quot;https://somecompany.com:8443/nexus/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources&quot; -H &quot;accept: application/json&quot; -o activemq-broker-5.16.2-sources.jar\r\n\r\nHowever, this Java program fails:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.InputStream;\r\nimport java.net.Authenticator;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.PasswordAuthentication;\r\nimport java.net.URL;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.StandardCopyOption;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString nexus3Url = args[0];\r\n\t\tString nexus3User = args[1];\r\n\t\tString nexus3Password = args[2];\r\n\r\n\t\tURL url = new URL(nexus3Url\r\n\t\t\t\t+ &quot;/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources&quot;);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\tconnection.setAuthenticator(new Authenticator() {\r\n\t\t\t@Override\r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\treturn new PasswordAuthentication(nexus3User, nexus3Password.toCharArray());\r\n\t\t\t}\r\n\t\t});\r\n\t\tconnection.setInstanceFollowRedirects(true);\r\n\t\tconnection.setConnectTimeout(5000);\r\n\t\tconnection.setReadTimeout(10000);\r\n\r\n\t\tFile file = new File(&quot;activemq-broker-5.16.2-sources.jar&quot;);\r\n\t\ttry (InputStream in = connection.getInputStream()) {\r\n\t\t\tFiles.copy(in, file.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe error is `FileNotFoundException` :\r\n\r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: https://somecompany.com:8443/nexus/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n    \tat Main.main(Main.java:33)\r\n\r\n","title":"Download works with curl but not with Java program","body":"<p>I'm having trouble downloading an artifact from Nexus 3 with a Java program.\nIt works fine with curl but not with this Java program. There might be some differences that make the download fail.</p>\n<p>This curl command works:</p>\n<pre><code>curl -u user:password -k -L -X GET &quot;https://somecompany.com:8443/nexus/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources&quot; -H &quot;accept: application/json&quot; -o activemq-broker-5.16.2-sources.jar\n</code></pre>\n<p>However, this Java program fails:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.InputStream;\nimport java.net.Authenticator;\nimport java.net.HttpURLConnection;\nimport java.net.PasswordAuthentication;\nimport java.net.URL;\nimport java.nio.file.Files;\nimport java.nio.file.StandardCopyOption;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String nexus3Url = args[0];\n        String nexus3User = args[1];\n        String nexus3Password = args[2];\n\n        URL url = new URL(nexus3Url\n                + &quot;/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources&quot;);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setAuthenticator(new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(nexus3User, nexus3Password.toCharArray());\n            }\n        });\n        connection.setInstanceFollowRedirects(true);\n        connection.setConnectTimeout(5000);\n        connection.setReadTimeout(10000);\n\n        File file = new File(&quot;activemq-broker-5.16.2-sources.jar&quot;);\n        try (InputStream in = connection.getInputStream()) {\n            Files.copy(in, file.toPath(), StandardCopyOption.REPLACE_EXISTING);\n        }\n    }\n}\n</code></pre>\n<p>The error is <code>FileNotFoundException</code> :</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: https://somecompany.com:8443/nexus/service/rest/v1/search/assets/download?group=org.apache.activemq&amp;name=activemq-broker&amp;version=5.16.2&amp;maven.classifier=sources\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at Main.main(Main.java:33)\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":16501074,"reputation":222,"user_id":13541158,"display_name":"Karamveer Gahlot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647607465,"creation_date":1647607465,"answer_id":71527213,"question_id":71526966,"body_markdown":"    public String appendChars(String string) {\r\n    \r\n    \tint expectedSize = 32;\r\n    \t// 32 zeros string\r\n    \tString zeros = &quot;00000000000000000000000000000000&quot;;\r\n    \tint inputLength = string.length();\r\n    \r\n    \t// append and return\r\n    \tif (inputLength &lt; expectedSize) {\r\n    \t\tstring = zeros.substring(0, expectedSize - inputLength) + string;\r\n    \t}\r\n    \r\n    \treturn string;\r\n    \r\n    }\r\n\r\ncan do something like this","title":"How to add extra numbers in textbox automatically","body":"<pre><code>public String appendChars(String string) {\n\n    int expectedSize = 32;\n    // 32 zeros string\n    String zeros = &quot;00000000000000000000000000000000&quot;;\n    int inputLength = string.length();\n\n    // append and return\n    if (inputLength &lt; expectedSize) {\n        string = zeros.substring(0, expectedSize - inputLength) + string;\n    }\n\n    return string;\n\n}\n</code></pre>\n<p>can do something like this</p>\n"}],"owner":{"display_name":"user18213355"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647608830,"creation_date":1647606149,"question_id":71526966,"body_markdown":"i am trying to make a textbox that has its limit of 32 characters.\r\n\r\nIf someone enters value like 1234 the program must add 26 Zeros infront example\r\n\r\n    0000...1234\r\n\r\nI have made the limit for 32 characters in xml\r\n\r\n    android:maxLength=&quot;32&quot;\r\n\r\n","title":"How to add extra numbers in textbox automatically","body":"<p>i am trying to make a textbox that has its limit of 32 characters.</p>\n<p>If someone enters value like 1234 the program must add 26 Zeros infront example</p>\n<pre><code>0000...1234\n</code></pre>\n<p>I have made the limit for 32 characters in xml</p>\n<pre><code>android:maxLength=&quot;32&quot;\n</code></pre>\n"},{"tags":["java","eclipse","java.lang.class"],"comments":[{"owner":{"account_id":164909,"reputation":14734,"user_id":387981,"accept_rate":88,"display_name":"Matteo"},"score":0,"creation_date":1379751427,"post_id":18930418,"comment_id":27951362,"body_markdown":"Are you asking what a String is (http://docs.oracle.com/javase/6/docs/api/java/lang/String.html) or how it is implemented internally?","body":"Are you asking what a String is (<a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/String.html</a>) or how it is implemented internally?"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1379751473,"creation_date":1379751473,"answer_id":18930468,"question_id":18930418,"body_markdown":"In your code replace:\r\n\r\n    .getConstructor(new Class[] { java/lang/String }) ...\r\n\r\nWith:\r\n\r\n    getConstructor(new Class[] { String.class }) ...\r\n\r\nThe notation `java/lang/String` is an internal representation of the name of the class `String`. No need to explicitly `import java.lang.*;`, it is imported implicitly.","title":"What kind of structure java/lang/String in java?","body":"<p>In your code replace:</p>\n\n<pre><code>.getConstructor(new Class[] { java/lang/String }) ...\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>getConstructor(new Class[] { String.class }) ...\n</code></pre>\n\n<p>The notation <code>java/lang/String</code> is an internal representation of the name of the class <code>String</code>. No need to explicitly <code>import java.lang.*;</code>, it is imported implicitly.</p>\n"},{"tags":[],"owner":{"account_id":1057674,"reputation":12774,"user_id":1060037,"display_name":"Jayamohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379751614,"creation_date":1379751614,"answer_id":18930492,"question_id":18930418,"body_markdown":"The **java/lang/** is being added by your decompiler(not sure which decompiler you are using).\r\nIf you want to compile your source. Delete all the `java/lang/` in the src. No need to import anything java.lang is imported by default.","title":"What kind of structure java/lang/String in java?","body":"<p>The <strong>java/lang/</strong> is being added by your decompiler(not sure which decompiler you are using).\nIf you want to compile your source. Delete all the <code>java/lang/</code> in the src. No need to import anything java.lang is imported by default.</p>\n"}],"owner":{"account_id":3038444,"reputation":609,"user_id":2576015,"accept_rate":45,"display_name":"Duaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1379762487,"accepted_answer_id":18930468,"answer_count":2,"score":-4,"last_activity_date":1647608811,"creation_date":1379751196,"question_id":18930418,"body_markdown":"I decompiles one file, using [Java Decompiler][1]\r\n\r\n\r\n  [1]: http://www.javadecompilers.com\r\n\r\nI found such line in my code, as below\r\n\r\n       arg = remoteActionArgument.getDataType().getJavaDataType().getConstructor(new Class[] {\r\n                        java/lang/String\r\n                    }).newInstance(new Object[] {\r\n                        strArg\r\n                    });\r\n\r\nHere, I see like this ***java/lang/String***\r\n\r\nI am unable to understand it, what exactly this structure is.\r\n\r\nAny Suggestion?\r\n\r\n\r\nI tried following things\r\n\r\n*** 1. import java.lang.*;****\r\n\r\n\r\n***2.Change within this line to know where is call but I find nothing except such code, another classfile***\r\n\r\n    package org.itolab.morihit.clinkx;\r\n    \r\n    import java.util.*;\r\n    \r\n    public abstract class UPnPDataType extends Enum\r\n    {\r\n    \r\n        public static final UPnPDataType UI1;\r\n        public static final UPnPDataType UI2;\r\n        public static final UPnPDataType UI4;\r\n        public static final UPnPDataType I1;\r\n        public static final UPnPDataType I2;\r\n        public static final UPnPDataType I4;\r\n        public static final UPnPDataType INT;\r\n        public static final UPnPDataType R4;\r\n        public static final UPnPDataType R8;\r\n        public static final UPnPDataType NUMBER;\r\n        public static final UPnPDataType FIXED_14_4;\r\n        public static final UPnPDataType FLOAT;\r\n        public static final UPnPDataType CHAR;\r\n        public static final UPnPDataType STRING;\r\n        public static final UPnPDataType DATE;\r\n        public static final UPnPDataType DATETIME;\r\n        public static final UPnPDataType DATETIME_TZ;\r\n        public static final UPnPDataType TIME;\r\n        public static final UPnPDataType TIME_TZ;\r\n        public static final UPnPDataType BOOLEAN;\r\n        public static final UPnPDataType BIN_BASE64;\r\n        public static final UPnPDataType BIN_HEX;\r\n        public static final UPnPDataType URI;\r\n        public static final UPnPDataType UUID;\r\n        private static final Map map;\r\n        private final String name;\r\n        private static final UPnPDataType $VALUES[];\r\n    \r\n        public static UPnPDataType[] values()\r\n        {\r\n            return (UPnPDataType[])$VALUES.clone();\r\n        }\r\n    \r\n        public static UPnPDataType valueOf(String name)\r\n        {\r\n            return (UPnPDataType)Enum.valueOf(org/itolab/morihit/clinkx/UPnPDataType, name);\r\n        }\r\n    \r\n        static UPnPDataType get(String name)\r\n        {\r\n            return (UPnPDataType)map.get(name);\r\n        }\r\n    \r\n        private UPnPDataType(String s, int i, String name)\r\n        {\r\n            super(s, i);\r\n            this.name = name;\r\n        }\r\n    \r\n        public String toString()\r\n        {\r\n            return name;\r\n        }\r\n    \r\n        public Class getJavaDataType()\r\n        {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    \r\n        abstract Object upnpStringToJavaObject(String s);\r\n    \r\n        abstract String javaObjectToUpnpString(Object obj);\r\n    \r\n        static Object booleanUpnpStringToJavaObject(String value)\r\n        {\r\n            if(value == null || value.equals(&quot;0&quot;))\r\n            {\r\n                return Boolean.FALSE;\r\n            } else\r\n            {\r\n                return Boolean.TRUE;\r\n            }\r\n        }\r\n    \r\n        static String booleanJavaObjectToUpnpString(Object value)\r\n        {\r\n            if(value == null || java/lang/Boolean != value.getClass() || value.equals(Boolean.FALSE))\r\n            {\r\n                return &quot;0&quot;;\r\n            } else\r\n            {\r\n                return &quot;1&quot;;\r\n            }\r\n        }\r\n    \r\n        static Object integerUpnpStringToJavaObject(String value)\r\n        {\r\n            return new Integer(value);\r\n            NumberFormatException e;\r\n            e;\r\n            return Integer.valueOf(0);\r\n        }\r\n    \r\n        static String integerJavaObjectToUpnpString(Object value)\r\n        {\r\n            if(value == null || java/lang/Integer != value.getClass())\r\n            {\r\n                return &quot;0&quot;;\r\n            } else\r\n            {\r\n                return value.toString();\r\n            }\r\n        }\r\n    \r\n        static Object longUpnpStringToJavaObject(String value)\r\n        {\r\n            return new Long(value);\r\n            NumberFormatException e;\r\n            e;\r\n            return Long.valueOf(0L);\r\n        }\r\n    \r\n        static String longJavaObjectToUpnpString(Object value)\r\n        {\r\n            if(value == null || java/lang/Long != value.getClass())\r\n            {\r\n                return &quot;0&quot;;\r\n            } else\r\n            {\r\n                return value.toString();\r\n            }\r\n        }\r\n    \r\n        static Object floatUpnpStringToJavaObject(String value)\r\n        {\r\n            return new Float(value);\r\n            NumberFormatException e;\r\n            e;\r\n            return new Float(0.0F);\r\n        }\r\n    \r\n        static String floatJavaObjectToUpnpString(Object value)\r\n        {\r\n            if(value == null || java/lang/Float != value.getClass())\r\n            {\r\n                return &quot;0.0&quot;;\r\n            } else\r\n            {\r\n                return value.toString();\r\n            }\r\n        }\r\n    \r\n        static Object doubleUpnpStringToJavaObject(String value)\r\n        {\r\n            return new Double(value);\r\n            NumberFormatException e;\r\n            e;\r\n            return new Double(0.0D);\r\n        }\r\n    \r\n        static String doubleJavaObjectToUpnpString(Object value)\r\n        {\r\n            if(value == null || java/lang/Double != value.getClass())\r\n            {\r\n                return &quot;0.0&quot;;\r\n            } else\r\n            {\r\n                return value.toString();\r\n            }\r\n        }\r\n    \r\n        static Object characterUpnpStringToJavaObject(String value)\r\n        {\r\n            if(value == null || value.length() != 1)\r\n            {\r\n                return Character.valueOf(&#39;\\0&#39;);\r\n            } else\r\n            {\r\n                return Character.valueOf(value.charAt(0));\r\n            }\r\n        }\r\n    \r\n        static String characterJavaObjectToUpnpString(Object value)\r\n        {\r\n            if(value == null || java/lang/Character != value.getClass())\r\n            {\r\n                return &quot;\\0&quot;;\r\n            } else\r\n            {\r\n                return value.toString();\r\n            }\r\n        }\r\n    \r\n    \r\n        static \r\n        {\r\n            UI1 = new UPnPDataType(&quot;UI1&quot;, 0, &quot;ui1&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Integer;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return integerUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return integerJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            UI2 = new UPnPDataType(&quot;UI2&quot;, 1, &quot;ui2&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Integer;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return integerUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return integerJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            UI4 = new UPnPDataType(&quot;UI4&quot;, 2, &quot;ui4&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Long;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return longUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return longJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            I1 = new UPnPDataType(&quot;I1&quot;, 3, &quot;i1&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Integer;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return integerUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return integerJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            I2 = new UPnPDataType(&quot;I2&quot;, 4, &quot;i2&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Integer;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return integerUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return integerJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            I4 = new UPnPDataType(&quot;I4&quot;, 5, &quot;i4&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Integer;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return integerUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return integerJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            INT = new UPnPDataType(&quot;INT&quot;, 6, &quot;int&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Integer;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return integerUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return integerJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            R4 = new UPnPDataType(&quot;R4&quot;, 7, &quot;r4&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Float;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return floatUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return floatJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            R8 = new UPnPDataType(&quot;R8&quot;, 8, &quot;r8&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Double;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return doubleUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return doubleJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            NUMBER = new UPnPDataType(&quot;NUMBER&quot;, 9, &quot;number&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Double;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return doubleUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return doubleJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            FIXED_14_4 = new UPnPDataType(&quot;FIXED_14_4&quot;, 10, &quot;fixed.14.4&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Double;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return doubleUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return doubleJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            FLOAT = new UPnPDataType(&quot;FLOAT&quot;, 11, &quot;float&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Float;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return floatUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return floatJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            CHAR = new UPnPDataType(&quot;CHAR&quot;, 12, &quot;char&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Character;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return characterUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return characterJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            STRING = new UPnPDataType(&quot;STRING&quot;, 13, &quot;string&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/String;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    if(value == null)\r\n                    {\r\n                        return &quot;&quot;;\r\n                    } else\r\n                    {\r\n                        return value;\r\n                    }\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    if(value == null || java/lang/String != value.getClass())\r\n                    {\r\n                        return &quot;&quot;;\r\n                    } else\r\n                    {\r\n                        return (String)value;\r\n                    }\r\n                }\r\n    \r\n            };\r\n            DATE = new UPnPDataType(&quot;DATE&quot;, 14, &quot;date&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/util/Date;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n            };\r\n            DATETIME = new UPnPDataType(&quot;DATETIME&quot;, 15, &quot;dateTime&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/util/Date;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n            };\r\n            DATETIME_TZ = new UPnPDataType(&quot;DATETIME_TZ&quot;, 16, &quot;dateTime.tz&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/util/Date;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n            };\r\n            TIME = new UPnPDataType(&quot;TIME&quot;, 17, &quot;time&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Long;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n            };\r\n            TIME_TZ = new UPnPDataType(&quot;TIME_TZ&quot;, 18, &quot;time.tz&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Long;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n            };\r\n            BOOLEAN = new UPnPDataType(&quot;BOOLEAN&quot;, 19, &quot;boolean&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/Boolean;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    return booleanUpnpStringToJavaObject(value);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    return booleanJavaObjectToUpnpString(value);\r\n                }\r\n    \r\n            };\r\n            BIN_BASE64 = new UPnPDataType(&quot;BIN_BASE64&quot;, 20, &quot;bin.base64&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return (new byte[0]).getClass();\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n            };\r\n            BIN_HEX = new UPnPDataType(&quot;BIN_HEX&quot;, 21, &quot;bin.hex&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return (new byte[0]).getClass();\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    throw new RuntimeException(&quot;not implemented yet&quot;);\r\n                }\r\n    \r\n            };\r\n            URI = new UPnPDataType(&quot;URI&quot;, 22, &quot;uri&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/String;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    if(value == null)\r\n                    {\r\n                        return &quot;&quot;;\r\n                    } else\r\n                    {\r\n                        return value;\r\n                    }\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    if(value == null || java/lang/String != value.getClass())\r\n                    {\r\n                        return &quot;&quot;;\r\n                    } else\r\n                    {\r\n                        return (String)value;\r\n                    }\r\n                }\r\n    \r\n            };\r\n            UUID = new UPnPDataType(&quot;UUID&quot;, 23, &quot;uuid&quot;) {\r\n    \r\n                public Class getJavaDataType()\r\n                {\r\n                    return java/lang/String;\r\n                }\r\n    \r\n                Object upnpStringToJavaObject(String value)\r\n                {\r\n                    if(value == null)\r\n                    {\r\n                        return &quot;&quot;;\r\n                    } else\r\n                    {\r\n                        return value;\r\n                    }\r\n                }\r\n    \r\n                String javaObjectToUpnpString(Object value)\r\n                {\r\n                    if(value == null || java/lang/String != value.getClass())\r\n                    {\r\n                        return &quot;&quot;;\r\n                    } else\r\n                    {\r\n                        return (String)value;\r\n                    }\r\n                }\r\n    \r\n            };\r\n            $VALUES = (new UPnPDataType[] {\r\n                UI1, UI2, UI4, I1, I2, I4, INT, R4, R8, NUMBER, \r\n                FIXED_14_4, FLOAT, CHAR, STRING, DATE, DATETIME, DATETIME_TZ, TIME, TIME_TZ, BOOLEAN, \r\n                BIN_BASE64, BIN_HEX, URI, UUID\r\n            });\r\n            Map _map = new HashMap();\r\n            UPnPDataType arr$[] = values();\r\n            int len$ = arr$.length;\r\n            for(int i$ = 0; i$ &lt; len$; i$++)\r\n            {\r\n                UPnPDataType type = arr$[i$];\r\n                _map.put(type.toString(), type);\r\n            }\r\n    \r\n            map = Collections.unmodifiableMap(_map);\r\n        }\r\n    }\r\n\r\n***How such java/lang/.... structure is in java, HELP NEEDED***\r\n\r\nThanks","title":"What kind of structure java/lang/String in java?","body":"<p>I decompiles one file, using <a href=\"http://www.javadecompilers.com\" rel=\"nofollow noreferrer\">Java Decompiler</a></p>\n<p>I found such line in my code, as below</p>\n<pre><code>   arg = remoteActionArgument.getDataType().getJavaDataType().getConstructor(new Class[] {\n                    java/lang/String\n                }).newInstance(new Object[] {\n                    strArg\n                });\n</code></pre>\n<p>Here, I see like this <em><strong>java/lang/String</strong></em></p>\n<p>I am unable to understand it, what exactly this structure is.</p>\n<p>Any Suggestion?</p>\n<p>I tried following things</p>\n<p>*** 1. import java.lang.<em>;</em>***</p>\n<p><em><strong>2.Change within this line to know where is call but I find nothing except such code, another classfile</strong></em></p>\n<pre><code>package org.itolab.morihit.clinkx;\n\nimport java.util.*;\n\npublic abstract class UPnPDataType extends Enum\n{\n\n    public static final UPnPDataType UI1;\n    public static final UPnPDataType UI2;\n    public static final UPnPDataType UI4;\n    public static final UPnPDataType I1;\n    public static final UPnPDataType I2;\n    public static final UPnPDataType I4;\n    public static final UPnPDataType INT;\n    public static final UPnPDataType R4;\n    public static final UPnPDataType R8;\n    public static final UPnPDataType NUMBER;\n    public static final UPnPDataType FIXED_14_4;\n    public static final UPnPDataType FLOAT;\n    public static final UPnPDataType CHAR;\n    public static final UPnPDataType STRING;\n    public static final UPnPDataType DATE;\n    public static final UPnPDataType DATETIME;\n    public static final UPnPDataType DATETIME_TZ;\n    public static final UPnPDataType TIME;\n    public static final UPnPDataType TIME_TZ;\n    public static final UPnPDataType BOOLEAN;\n    public static final UPnPDataType BIN_BASE64;\n    public static final UPnPDataType BIN_HEX;\n    public static final UPnPDataType URI;\n    public static final UPnPDataType UUID;\n    private static final Map map;\n    private final String name;\n    private static final UPnPDataType $VALUES[];\n\n    public static UPnPDataType[] values()\n    {\n        return (UPnPDataType[])$VALUES.clone();\n    }\n\n    public static UPnPDataType valueOf(String name)\n    {\n        return (UPnPDataType)Enum.valueOf(org/itolab/morihit/clinkx/UPnPDataType, name);\n    }\n\n    static UPnPDataType get(String name)\n    {\n        return (UPnPDataType)map.get(name);\n    }\n\n    private UPnPDataType(String s, int i, String name)\n    {\n        super(s, i);\n        this.name = name;\n    }\n\n    public String toString()\n    {\n        return name;\n    }\n\n    public Class getJavaDataType()\n    {\n        throw new UnsupportedOperationException();\n    }\n\n    abstract Object upnpStringToJavaObject(String s);\n\n    abstract String javaObjectToUpnpString(Object obj);\n\n    static Object booleanUpnpStringToJavaObject(String value)\n    {\n        if(value == null || value.equals(&quot;0&quot;))\n        {\n            return Boolean.FALSE;\n        } else\n        {\n            return Boolean.TRUE;\n        }\n    }\n\n    static String booleanJavaObjectToUpnpString(Object value)\n    {\n        if(value == null || java/lang/Boolean != value.getClass() || value.equals(Boolean.FALSE))\n        {\n            return &quot;0&quot;;\n        } else\n        {\n            return &quot;1&quot;;\n        }\n    }\n\n    static Object integerUpnpStringToJavaObject(String value)\n    {\n        return new Integer(value);\n        NumberFormatException e;\n        e;\n        return Integer.valueOf(0);\n    }\n\n    static String integerJavaObjectToUpnpString(Object value)\n    {\n        if(value == null || java/lang/Integer != value.getClass())\n        {\n            return &quot;0&quot;;\n        } else\n        {\n            return value.toString();\n        }\n    }\n\n    static Object longUpnpStringToJavaObject(String value)\n    {\n        return new Long(value);\n        NumberFormatException e;\n        e;\n        return Long.valueOf(0L);\n    }\n\n    static String longJavaObjectToUpnpString(Object value)\n    {\n        if(value == null || java/lang/Long != value.getClass())\n        {\n            return &quot;0&quot;;\n        } else\n        {\n            return value.toString();\n        }\n    }\n\n    static Object floatUpnpStringToJavaObject(String value)\n    {\n        return new Float(value);\n        NumberFormatException e;\n        e;\n        return new Float(0.0F);\n    }\n\n    static String floatJavaObjectToUpnpString(Object value)\n    {\n        if(value == null || java/lang/Float != value.getClass())\n        {\n            return &quot;0.0&quot;;\n        } else\n        {\n            return value.toString();\n        }\n    }\n\n    static Object doubleUpnpStringToJavaObject(String value)\n    {\n        return new Double(value);\n        NumberFormatException e;\n        e;\n        return new Double(0.0D);\n    }\n\n    static String doubleJavaObjectToUpnpString(Object value)\n    {\n        if(value == null || java/lang/Double != value.getClass())\n        {\n            return &quot;0.0&quot;;\n        } else\n        {\n            return value.toString();\n        }\n    }\n\n    static Object characterUpnpStringToJavaObject(String value)\n    {\n        if(value == null || value.length() != 1)\n        {\n            return Character.valueOf('\\0');\n        } else\n        {\n            return Character.valueOf(value.charAt(0));\n        }\n    }\n\n    static String characterJavaObjectToUpnpString(Object value)\n    {\n        if(value == null || java/lang/Character != value.getClass())\n        {\n            return &quot;\\0&quot;;\n        } else\n        {\n            return value.toString();\n        }\n    }\n\n\n    static \n    {\n        UI1 = new UPnPDataType(&quot;UI1&quot;, 0, &quot;ui1&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Integer;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return integerUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return integerJavaObjectToUpnpString(value);\n            }\n\n        };\n        UI2 = new UPnPDataType(&quot;UI2&quot;, 1, &quot;ui2&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Integer;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return integerUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return integerJavaObjectToUpnpString(value);\n            }\n\n        };\n        UI4 = new UPnPDataType(&quot;UI4&quot;, 2, &quot;ui4&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Long;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return longUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return longJavaObjectToUpnpString(value);\n            }\n\n        };\n        I1 = new UPnPDataType(&quot;I1&quot;, 3, &quot;i1&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Integer;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return integerUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return integerJavaObjectToUpnpString(value);\n            }\n\n        };\n        I2 = new UPnPDataType(&quot;I2&quot;, 4, &quot;i2&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Integer;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return integerUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return integerJavaObjectToUpnpString(value);\n            }\n\n        };\n        I4 = new UPnPDataType(&quot;I4&quot;, 5, &quot;i4&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Integer;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return integerUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return integerJavaObjectToUpnpString(value);\n            }\n\n        };\n        INT = new UPnPDataType(&quot;INT&quot;, 6, &quot;int&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Integer;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return integerUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return integerJavaObjectToUpnpString(value);\n            }\n\n        };\n        R4 = new UPnPDataType(&quot;R4&quot;, 7, &quot;r4&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Float;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return floatUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return floatJavaObjectToUpnpString(value);\n            }\n\n        };\n        R8 = new UPnPDataType(&quot;R8&quot;, 8, &quot;r8&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Double;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return doubleUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return doubleJavaObjectToUpnpString(value);\n            }\n\n        };\n        NUMBER = new UPnPDataType(&quot;NUMBER&quot;, 9, &quot;number&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Double;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return doubleUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return doubleJavaObjectToUpnpString(value);\n            }\n\n        };\n        FIXED_14_4 = new UPnPDataType(&quot;FIXED_14_4&quot;, 10, &quot;fixed.14.4&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Double;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return doubleUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return doubleJavaObjectToUpnpString(value);\n            }\n\n        };\n        FLOAT = new UPnPDataType(&quot;FLOAT&quot;, 11, &quot;float&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Float;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return floatUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return floatJavaObjectToUpnpString(value);\n            }\n\n        };\n        CHAR = new UPnPDataType(&quot;CHAR&quot;, 12, &quot;char&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Character;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return characterUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return characterJavaObjectToUpnpString(value);\n            }\n\n        };\n        STRING = new UPnPDataType(&quot;STRING&quot;, 13, &quot;string&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/String;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                if(value == null)\n                {\n                    return &quot;&quot;;\n                } else\n                {\n                    return value;\n                }\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                if(value == null || java/lang/String != value.getClass())\n                {\n                    return &quot;&quot;;\n                } else\n                {\n                    return (String)value;\n                }\n            }\n\n        };\n        DATE = new UPnPDataType(&quot;DATE&quot;, 14, &quot;date&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/util/Date;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n        };\n        DATETIME = new UPnPDataType(&quot;DATETIME&quot;, 15, &quot;dateTime&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/util/Date;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n        };\n        DATETIME_TZ = new UPnPDataType(&quot;DATETIME_TZ&quot;, 16, &quot;dateTime.tz&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/util/Date;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n        };\n        TIME = new UPnPDataType(&quot;TIME&quot;, 17, &quot;time&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Long;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n        };\n        TIME_TZ = new UPnPDataType(&quot;TIME_TZ&quot;, 18, &quot;time.tz&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Long;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n        };\n        BOOLEAN = new UPnPDataType(&quot;BOOLEAN&quot;, 19, &quot;boolean&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/Boolean;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                return booleanUpnpStringToJavaObject(value);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                return booleanJavaObjectToUpnpString(value);\n            }\n\n        };\n        BIN_BASE64 = new UPnPDataType(&quot;BIN_BASE64&quot;, 20, &quot;bin.base64&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return (new byte[0]).getClass();\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n        };\n        BIN_HEX = new UPnPDataType(&quot;BIN_HEX&quot;, 21, &quot;bin.hex&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return (new byte[0]).getClass();\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                throw new RuntimeException(&quot;not implemented yet&quot;);\n            }\n\n        };\n        URI = new UPnPDataType(&quot;URI&quot;, 22, &quot;uri&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/String;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                if(value == null)\n                {\n                    return &quot;&quot;;\n                } else\n                {\n                    return value;\n                }\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                if(value == null || java/lang/String != value.getClass())\n                {\n                    return &quot;&quot;;\n                } else\n                {\n                    return (String)value;\n                }\n            }\n\n        };\n        UUID = new UPnPDataType(&quot;UUID&quot;, 23, &quot;uuid&quot;) {\n\n            public Class getJavaDataType()\n            {\n                return java/lang/String;\n            }\n\n            Object upnpStringToJavaObject(String value)\n            {\n                if(value == null)\n                {\n                    return &quot;&quot;;\n                } else\n                {\n                    return value;\n                }\n            }\n\n            String javaObjectToUpnpString(Object value)\n            {\n                if(value == null || java/lang/String != value.getClass())\n                {\n                    return &quot;&quot;;\n                } else\n                {\n                    return (String)value;\n                }\n            }\n\n        };\n        $VALUES = (new UPnPDataType[] {\n            UI1, UI2, UI4, I1, I2, I4, INT, R4, R8, NUMBER, \n            FIXED_14_4, FLOAT, CHAR, STRING, DATE, DATETIME, DATETIME_TZ, TIME, TIME_TZ, BOOLEAN, \n            BIN_BASE64, BIN_HEX, URI, UUID\n        });\n        Map _map = new HashMap();\n        UPnPDataType arr$[] = values();\n        int len$ = arr$.length;\n        for(int i$ = 0; i$ &lt; len$; i$++)\n        {\n            UPnPDataType type = arr$[i$];\n            _map.put(type.toString(), type);\n        }\n\n        map = Collections.unmodifiableMap(_map);\n    }\n}\n</code></pre>\n<p><em><strong>How such java/lang/.... structure is in java, HELP NEEDED</strong></em></p>\n<p>Thanks</p>\n"},{"tags":["java","opengl","libgdx"],"comments":[{"owner":{"account_id":2818986,"reputation":42617,"user_id":2423205,"display_name":"Andon M. Coleman"},"score":0,"creation_date":1400609269,"post_id":23759731,"comment_id":36546334,"body_markdown":"More importantly, it leads to *undefined behavior*. GL has a name for this sort of situation, and it is &quot;feedback loop.&quot; On newer NV hardware you can use Texture Barriers and Geometry Shaders to sensibly read and write into the same buffer, or Image Load/Store and Memory Barriers in GL4+. But otherwise, this is undefined and those artifacts you describe are the end-result.","body":"More importantly, it leads to <i>undefined behavior</i>. GL has a name for this sort of situation, and it is &quot;feedback loop.&quot; On newer NV hardware you can use Texture Barriers and Geometry Shaders to sensibly read and write into the same buffer, or Image Load/Store and Memory Barriers in GL4+. But otherwise, this is undefined and those artifacts you describe are the end-result."}],"answers":[{"tags":[],"owner":{"account_id":26657,"reputation":1991,"user_id":69584,"accept_rate":83,"display_name":"Cristina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1400589939,"creation_date":1400589939,"answer_id":23760239,"question_id":23759731,"body_markdown":"Your problem comes from having dependent processing steps in your pipeline. \r\n\r\n&gt; render the root Sprite into an FBO, (the background and all the\r\n&gt; entities)\r\n&gt;\r\n&gt; render a &quot;swirl&quot;-effect \r\n\r\nThen you are using the same FBO to do:\r\n\r\n&gt; render a bloom-effect\r\n\r\nIf your GPU driver has not finished processing everything you are overwriting  in the bloom effect everything you have done in the swirl effect step.\r\n\r\nThe best way to go about it is to break up your pipeline in independent stages, even if that implies using more than one FBO.\r\n\r\nFrom my point of view **if you don&#39;t need the original FBO and if all of the effects need as input the same texture size**:\r\n\r\n&gt;     Render the scene in FBO A.\r\n&gt;     Render Swirl effect in FBO B.\r\n&gt;     Render Bloom in FBO A using the color texture from FBO B.\r\n&gt;     Render Vertical Blur in FBO B using the color texture from FBO A.\r\n&gt;     ....\r\n\r\n\r\n\r\n","title":"Using a single FrameBuffer for multiple Shader effects leads to artifacts","body":"<p>Your problem comes from having dependent processing steps in your pipeline. </p>\n\n<blockquote>\n  <p>render the root Sprite into an FBO, (the background and all the\n  entities)</p>\n  \n  <p>render a \"swirl\"-effect </p>\n</blockquote>\n\n<p>Then you are using the same FBO to do:</p>\n\n<blockquote>\n  <p>render a bloom-effect</p>\n</blockquote>\n\n<p>If your GPU driver has not finished processing everything you are overwriting  in the bloom effect everything you have done in the swirl effect step.</p>\n\n<p>The best way to go about it is to break up your pipeline in independent stages, even if that implies using more than one FBO.</p>\n\n<p>From my point of view <strong>if you don't need the original FBO and if all of the effects need as input the same texture size</strong>:</p>\n\n<blockquote>\n<pre><code>Render the scene in FBO A.\nRender Swirl effect in FBO B.\nRender Bloom in FBO A using the color texture from FBO B.\nRender Vertical Blur in FBO B using the color texture from FBO A.\n....\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400589965,"creation_date":1400589965,"answer_id":23760247,"question_id":23759731,"body_markdown":"OpenGL ES does not support reading and writing to the same texture simultaneously, which is what you&#39;re doing in the first example. You need two FBO&#39;s that you can ping pong between.\r\n\r\n    Texture fbo1, fbo2;\r\n    \r\n    ...\r\n    \r\n    bloom.setTexture(fbo1);\r\n    bloom.setTarget(fbo2);\r\n    \r\n    blurH.setTexture(fbo2);\r\n    blurH.setTarget(fbo1);\r\n    \r\n    ...","title":"Using a single FrameBuffer for multiple Shader effects leads to artifacts","body":"<p>OpenGL ES does not support reading and writing to the same texture simultaneously, which is what you're doing in the first example. You need two FBO's that you can ping pong between.</p>\n\n<pre><code>Texture fbo1, fbo2;\n\n...\n\nbloom.setTexture(fbo1);\nbloom.setTarget(fbo2);\n\nblurH.setTexture(fbo2);\nblurH.setTarget(fbo1);\n\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14842923,"reputation":1,"user_id":10719102,"display_name":"Tann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647608674,"creation_date":1647608674,"answer_id":71527487,"question_id":23759731,"body_markdown":"I had a very similar issue and I&#39;m so glad I found this topic, it was a pain and I was trying to debug my glsl code for so long...\r\n\r\nI was doing cellular automata calculations using a recursive shader with a single buffer, which suffers from the same problem. The artefacts I had with libgdx were:\r\n\r\n- Diagonal artefact line from bottom left to top right\r\n- Horizontal/vertical artefact lines every 256px\r\n\r\nI fixed it by swapping the buffers each frame\r\n\r\n    private void swapBuffers() {\r\n        FrameBuffer tmp = buffer1;\r\n        buffer1 = buffer2;\r\n        buffer2 = tmp;\r\n    }","title":"Using a single FrameBuffer for multiple Shader effects leads to artifacts","body":"<p>I had a very similar issue and I'm so glad I found this topic, it was a pain and I was trying to debug my glsl code for so long...</p>\n<p>I was doing cellular automata calculations using a recursive shader with a single buffer, which suffers from the same problem. The artefacts I had with libgdx were:</p>\n<ul>\n<li>Diagonal artefact line from bottom left to top right</li>\n<li>Horizontal/vertical artefact lines every 256px</li>\n</ul>\n<p>I fixed it by swapping the buffers each frame</p>\n<pre><code>private void swapBuffers() {\n    FrameBuffer tmp = buffer1;\n    buffer1 = buffer2;\n    buffer2 = tmp;\n}\n</code></pre>\n"}],"owner":{"account_id":2916976,"reputation":679,"user_id":2499946,"accept_rate":55,"display_name":"user2499946"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23760239,"answer_count":3,"score":0,"last_activity_date":1647608674,"creation_date":1400588556,"question_id":23759731,"body_markdown":"I am using libGDX and have created my own Sprite-class and renderer (which uses libGDX&#39;s SpriteBatch under the hood). The renderer is quite &quot;smart&quot;, it sorts the sprites by layer/shader/texture/blend, and the sprites can contain children.\r\n\r\nNow I am trying to add support for FrameBuffers and I have a little problem.\r\n\r\nI am trying to add multiple post-processing effects via shaders, to the &quot;root&quot; sprite in my game.\r\n\r\n1. render the root Sprite into an FBO, (the background and all the entities)\r\n2. render a &quot;swirl&quot;-effect to the same FBO\r\n3. render a bloom-effect to the same FBO\r\n4. render a horizontal blur to the same FBO\r\n5. render a vertical blur to the same FBO\r\n6. render the final result of the FBO into the screen via a Sprite\r\n\r\nThis all is achieved quite simply, each effect has its own Sprite-object. They are layered via setLayer(int), and textures/FBOs/shaders are set via setTexture(Texture) / setTarget(Texture) / setShader(Shader).\r\n\r\nI attempted and want to use the SAME Texture as a result and a target.\r\ne.g.:\r\n\r\n    Texture fbo = Video.newTarget();\r\n    \r\n    ...\r\n    \r\n    bloom.setTexture(fbo);\r\n    bloom.setTarget(fbo);\r\n    \r\n    blurH.setTexture(fbo);\r\n    blurH.setTarget(fbo);\r\n    \r\n    ....\r\n\r\nIf I use the same FBO in this way, I can see some strange artifacts in the final image that are hard to describe. I either get some strange lines somewhere in the texture, or simply some weird distortions.\r\n\r\nIf I create a separate FBO for each effect, everything works just fine.\r\n\r\ne.g:\r\n\r\n    Texture fbo1, fbo2, fbo3, fbo4;\r\n    \r\n    ...\r\n    \r\n    bloom.setTexture(fbo1);\r\n    bloom.setTarget(fbo2);\r\n    \r\n    blurH.setTexture(fbo2);\r\n    blurH.setTarget(fbo3);\r\n    \r\n    ...\r\n\r\nI&#39;d really like to avoid this if possible, as it leads to messy code, and hurts performance.\r\n\r\nI am really not that well-versed in OpenGL/GLSL (I don&#39;t even quite understand the rendering pipeline... :), however, does anyone have any ideas what might cause these artifacts from my explanation?\r\n\r\nI also thought of having two FBOs and &quot;ping-pong&quot; between them, but for some reason all I see is black.. for now.. :) I&#39;ll have to experiment more with that.\r\n","title":"Using a single FrameBuffer for multiple Shader effects leads to artifacts","body":"<p>I am using libGDX and have created my own Sprite-class and renderer (which uses libGDX's SpriteBatch under the hood). The renderer is quite \"smart\", it sorts the sprites by layer/shader/texture/blend, and the sprites can contain children.</p>\n\n<p>Now I am trying to add support for FrameBuffers and I have a little problem.</p>\n\n<p>I am trying to add multiple post-processing effects via shaders, to the \"root\" sprite in my game.</p>\n\n<ol>\n<li>render the root Sprite into an FBO, (the background and all the entities)</li>\n<li>render a \"swirl\"-effect to the same FBO</li>\n<li>render a bloom-effect to the same FBO</li>\n<li>render a horizontal blur to the same FBO</li>\n<li>render a vertical blur to the same FBO</li>\n<li>render the final result of the FBO into the screen via a Sprite</li>\n</ol>\n\n<p>This all is achieved quite simply, each effect has its own Sprite-object. They are layered via setLayer(int), and textures/FBOs/shaders are set via setTexture(Texture) / setTarget(Texture) / setShader(Shader).</p>\n\n<p>I attempted and want to use the SAME Texture as a result and a target.\ne.g.:</p>\n\n<pre><code>Texture fbo = Video.newTarget();\n\n...\n\nbloom.setTexture(fbo);\nbloom.setTarget(fbo);\n\nblurH.setTexture(fbo);\nblurH.setTarget(fbo);\n\n....\n</code></pre>\n\n<p>If I use the same FBO in this way, I can see some strange artifacts in the final image that are hard to describe. I either get some strange lines somewhere in the texture, or simply some weird distortions.</p>\n\n<p>If I create a separate FBO for each effect, everything works just fine.</p>\n\n<p>e.g:</p>\n\n<pre><code>Texture fbo1, fbo2, fbo3, fbo4;\n\n...\n\nbloom.setTexture(fbo1);\nbloom.setTarget(fbo2);\n\nblurH.setTexture(fbo2);\nblurH.setTarget(fbo3);\n\n...\n</code></pre>\n\n<p>I'd really like to avoid this if possible, as it leads to messy code, and hurts performance.</p>\n\n<p>I am really not that well-versed in OpenGL/GLSL (I don't even quite understand the rendering pipeline... :), however, does anyone have any ideas what might cause these artifacts from my explanation?</p>\n\n<p>I also thought of having two FBOs and \"ping-pong\" between them, but for some reason all I see is black.. for now.. :) I'll have to experiment more with that.</p>\n"},{"tags":["java","spring","httpclient","resttemplate"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1647525448,"post_id":71513221,"comment_id":126396654,"body_markdown":"Try this : DefaultHttpRequestRetryHandler retryHandler = new DefaultHttpRequestRetryHandler(0, false);\n((AbstractHttpClient)httpClient).setHttpRequestRetryHandler(retryHandler);","body":"Try this : DefaultHttpRequestRetryHandler retryHandler = new DefaultHttpRequestRetryHandler(0, false); ((AbstractHttpClient)httpClient).setHttpRequestRetryHandler(&zwnj;&#8203;retryHandler);"},{"owner":{"account_id":8033267,"reputation":111,"user_id":6057376,"accept_rate":50,"display_name":"SirWinning"},"score":0,"creation_date":1647603263,"post_id":71513221,"comment_id":126417885,"body_markdown":"Tried above, getting actual error: org.apache.http.impl.client.InternalHttpClient cannot be cast to org.apache.http.impl.client.AbstractHttpClient","body":"Tried above, getting actual error: org.apache.http.impl.client.InternalHttpClient cannot be cast to org.apache.http.impl.client.AbstractHttpClient"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1647604031,"post_id":71513221,"comment_id":126418126,"body_markdown":"Ok, I didn&#39;t noticed that AbsactHttlClient is depracated. Setting retry hadler when creating httpclient shoud do the work. Can you post code you used for retryHandler?","body":"Ok, I didn&#39;t noticed that AbsactHttlClient is depracated. Setting retry hadler when creating httpclient shoud do the work. Can you post code you used for retryHandler?"},{"owner":{"account_id":8033267,"reputation":111,"user_id":6057376,"accept_rate":50,"display_name":"SirWinning"},"score":0,"creation_date":1647608734,"post_id":71513221,"comment_id":126419583,"body_markdown":"I added an &quot;Edit&quot; to above. Found a solution by changing the DnsResolver to return only 1 ip (it was returning all associated IPs). Also posted code for retryHandler, which just always returns false","body":"I added an &quot;Edit&quot; to above. Found a solution by changing the DnsResolver to return only 1 ip (it was returning all associated IPs). Also posted code for retryHandler, which just always returns false"}],"owner":{"account_id":8033267,"reputation":111,"user_id":6057376,"accept_rate":50,"display_name":"SirWinning"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647608654,"creation_date":1647524040,"question_id":71513221,"body_markdown":"I am trying to disable some default behavior from the apache http client in a spring application.\r\nSeems like the socket connection is being retried two more times upon failing.\r\n\r\nI have extracted below from logs:\r\n```\r\n[2022-02-23 14:58:47.490]   [DEBUG] [org.apache.http.impl.conn.PoolingHttpClientConnectionManager] [AsyncComparatorThread - 6]    - Connection request: [route: {s}-&gt;  &lt;URL&gt;[total available: 0; route allocated: 0 of 5; total allocated: 0 of 10]\r\n[2022-02-23 14:58:47.490]   [DEBUG] [org.apache.http.impl.conn.PoolingHttpClientConnectionManager] [AsyncComparatorThread - 6]    - Connection leased: [id: 937][route: {s}-&gt;  &lt;URL&gt;[total available: 0; route allocated: 1 of 5; total allocated: 1 of 10]\r\n[2022-02-23 14:58:47.490]   [DEBUG] [org.apache.http.impl.execchain.MainClientExec] [AsyncComparatorThread - 6]    - Opening connection {s}-&gt;  &lt;URL&gt;:2350\r\n[2022-02-23 14:58:47.508]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connecting to   &lt;URL 1&gt;:2350\r\n[2022-02-23 14:58:47.508]   [DEBUG] [org.apache.http.conn.ssl.SSLConnectionSocketFactory] [AsyncComparatorThread - 6]    - Connecting socket to   &lt;URL 1&gt;:2350 with timeout 2000\r\n[2022-02-23 14:58:49.510]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connect to   &lt;URL 1&gt;:2350 timed out. Connection will be retried using another IP address\r\n[2022-02-23 14:58:49.510]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connecting to   &lt;URL 2&gt;\r\n[2022-02-23 14:58:49.510]   [DEBUG] [org.apache.http.conn.ssl.SSLConnectionSocketFactory] [AsyncComparatorThread - 6]    - Connecting socket to   &lt;URL 2&gt; with timeout 2000\r\n[2022-02-23 14:58:51.512]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connect to   &lt;URL 2&gt; timed out. Connection will be retried using another IP address\r\n[2022-02-23 14:58:51.512]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connecting to   &lt;URL 3&gt;\r\n[2022-02-23 14:58:51.512]   [DEBUG] [org.apache.http.conn.ssl.SSLConnectionSocketFactory] [AsyncComparatorThread - 6]    - Connecting socket to   &lt;URL 3&gt; with timeout 2000\r\n[2022-02-23 14:58:53.515]   [DEBUG] [org.apache.http.impl.conn.DefaultManagedHttpClientConnection] [AsyncComparatorThread - 6]    - http-outgoing-937: Shutdown connection\r\n[2022-02-23 14:58:53.515]   [DEBUG] [org.apache.http.impl.execchain.MainClientExec] [AsyncComparatorThread - 6]    - Connection discarded\r\n```\r\n\r\nYou can see in the logs the 2 retry attempts. I want to disable this behavior and have only 1 try, but I am not sure which setting to use.\r\n\r\nI have tried several approaches, first by making an HttpClient with disabledAutoRetries like:\r\n```\r\nHttpClientBuilder.create().disableAutomaticRetries().build();\r\n```\r\nDidn&#39;t work. \r\nThen I tried to implement a custom RequestRetryHandler to return false always:\r\n```\r\nHttpClientBuilder.create().disableAutomaticRetries().setRetryHandler(retryHandler).build();\r\n```\r\nThis also didn&#39;t work.\r\n\r\nAny idea how I can disable this behavior ?\r\nNote:\r\nI am using only the defaults. Here is rest template configuration:\r\n```\r\n HttpComponentsClientHttpRequestFactory requestFactory =\r\n        new HttpComponentsClientHttpRequestFactory();\r\n    requestFactory.setConnectTimeout(connectionTimeout);\r\n    requestFactory.setReadTimeout(readTimeout);\r\n    return new RestTemplate(requestFactory);\r\n```\r\n\r\n**EDIT**:\r\nManaged to find the culprit for this behaviour. Inspecting the class DefaultHttpClientConnectionOperator, I noticed connection is done in a for loop, looping over InetAddress array, which is an output of the DnsResolver. In the default DnsResolver, it returns an array of all IPs associated with host.\r\nHere is the loop:\r\n```\r\nfor(int i = 0; i &lt; addresses.length; ++i) {\r\n                InetAddress address = addresses[i];\r\n                boolean last = i == addresses.length - 1;\r\n                Socket sock = sf.createSocket(context);\r\n                sock.setSoTimeout(socketConfig.getSoTimeout());\r\n                sock.setReuseAddress(socketConfig.isSoReuseAddress());\r\n                sock.setTcpNoDelay(socketConfig.isTcpNoDelay());\r\n                sock.setKeepAlive(socketConfig.isSoKeepAlive());\r\n                ...\r\n                ...\r\n                conn.bind(sock);\r\n                ...\r\n }\r\n```\r\nHere is the DefaultDnsResolver:\r\n```\r\npublic InetAddress[] resolve(String host) throws UnknownHostException {\r\n        return InetAddress.getAllByName(host);\r\n    }\r\n```\r\n\r\nI got rid of the retries from the log by replacing the DefaultDnsResolver with a custom one that fetches only 1 IP:\r\n```\r\n@Configuration\r\npublic class HttpClientConfiguration {\r\n\r\n  @Bean\r\n  public HttpRequestRetryHandler requestRetryHandler() {\r\n    return ((exception, executionCount, context) -&gt; false);\r\n  }\r\n\r\n  @Bean\r\n  public DnsResolver dnsResolver() {\r\n    return ((s -&gt; new InetAddress[] {InetAddress.getByName(s)}));\r\n  }\r\n}\r\n```\r\nThis way, only 1 connection is performed.\r\nIn my case, the host had 3 associated IPs hence having 3 connection retries. Could anyone elaborate if changing this behavior can result in failed connections, who knows the details of InetAddress.getByName() method?","title":"Spring Apache disable socket connection retry attempts","body":"<p>I am trying to disable some default behavior from the apache http client in a spring application.\nSeems like the socket connection is being retried two more times upon failing.</p>\n<p>I have extracted below from logs:</p>\n<pre><code>[2022-02-23 14:58:47.490]   [DEBUG] [org.apache.http.impl.conn.PoolingHttpClientConnectionManager] [AsyncComparatorThread - 6]    - Connection request: [route: {s}-&gt;  &lt;URL&gt;[total available: 0; route allocated: 0 of 5; total allocated: 0 of 10]\n[2022-02-23 14:58:47.490]   [DEBUG] [org.apache.http.impl.conn.PoolingHttpClientConnectionManager] [AsyncComparatorThread - 6]    - Connection leased: [id: 937][route: {s}-&gt;  &lt;URL&gt;[total available: 0; route allocated: 1 of 5; total allocated: 1 of 10]\n[2022-02-23 14:58:47.490]   [DEBUG] [org.apache.http.impl.execchain.MainClientExec] [AsyncComparatorThread - 6]    - Opening connection {s}-&gt;  &lt;URL&gt;:2350\n[2022-02-23 14:58:47.508]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connecting to   &lt;URL 1&gt;:2350\n[2022-02-23 14:58:47.508]   [DEBUG] [org.apache.http.conn.ssl.SSLConnectionSocketFactory] [AsyncComparatorThread - 6]    - Connecting socket to   &lt;URL 1&gt;:2350 with timeout 2000\n[2022-02-23 14:58:49.510]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connect to   &lt;URL 1&gt;:2350 timed out. Connection will be retried using another IP address\n[2022-02-23 14:58:49.510]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connecting to   &lt;URL 2&gt;\n[2022-02-23 14:58:49.510]   [DEBUG] [org.apache.http.conn.ssl.SSLConnectionSocketFactory] [AsyncComparatorThread - 6]    - Connecting socket to   &lt;URL 2&gt; with timeout 2000\n[2022-02-23 14:58:51.512]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connect to   &lt;URL 2&gt; timed out. Connection will be retried using another IP address\n[2022-02-23 14:58:51.512]   [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] [AsyncComparatorThread - 6]    - Connecting to   &lt;URL 3&gt;\n[2022-02-23 14:58:51.512]   [DEBUG] [org.apache.http.conn.ssl.SSLConnectionSocketFactory] [AsyncComparatorThread - 6]    - Connecting socket to   &lt;URL 3&gt; with timeout 2000\n[2022-02-23 14:58:53.515]   [DEBUG] [org.apache.http.impl.conn.DefaultManagedHttpClientConnection] [AsyncComparatorThread - 6]    - http-outgoing-937: Shutdown connection\n[2022-02-23 14:58:53.515]   [DEBUG] [org.apache.http.impl.execchain.MainClientExec] [AsyncComparatorThread - 6]    - Connection discarded\n</code></pre>\n<p>You can see in the logs the 2 retry attempts. I want to disable this behavior and have only 1 try, but I am not sure which setting to use.</p>\n<p>I have tried several approaches, first by making an HttpClient with disabledAutoRetries like:</p>\n<pre><code>HttpClientBuilder.create().disableAutomaticRetries().build();\n</code></pre>\n<p>Didn't work.\nThen I tried to implement a custom RequestRetryHandler to return false always:</p>\n<pre><code>HttpClientBuilder.create().disableAutomaticRetries().setRetryHandler(retryHandler).build();\n</code></pre>\n<p>This also didn't work.</p>\n<p>Any idea how I can disable this behavior ?\nNote:\nI am using only the defaults. Here is rest template configuration:</p>\n<pre><code> HttpComponentsClientHttpRequestFactory requestFactory =\n        new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setConnectTimeout(connectionTimeout);\n    requestFactory.setReadTimeout(readTimeout);\n    return new RestTemplate(requestFactory);\n</code></pre>\n<p><strong>EDIT</strong>:\nManaged to find the culprit for this behaviour. Inspecting the class DefaultHttpClientConnectionOperator, I noticed connection is done in a for loop, looping over InetAddress array, which is an output of the DnsResolver. In the default DnsResolver, it returns an array of all IPs associated with host.\nHere is the loop:</p>\n<pre><code>for(int i = 0; i &lt; addresses.length; ++i) {\n                InetAddress address = addresses[i];\n                boolean last = i == addresses.length - 1;\n                Socket sock = sf.createSocket(context);\n                sock.setSoTimeout(socketConfig.getSoTimeout());\n                sock.setReuseAddress(socketConfig.isSoReuseAddress());\n                sock.setTcpNoDelay(socketConfig.isTcpNoDelay());\n                sock.setKeepAlive(socketConfig.isSoKeepAlive());\n                ...\n                ...\n                conn.bind(sock);\n                ...\n }\n</code></pre>\n<p>Here is the DefaultDnsResolver:</p>\n<pre><code>public InetAddress[] resolve(String host) throws UnknownHostException {\n        return InetAddress.getAllByName(host);\n    }\n</code></pre>\n<p>I got rid of the retries from the log by replacing the DefaultDnsResolver with a custom one that fetches only 1 IP:</p>\n<pre><code>@Configuration\npublic class HttpClientConfiguration {\n\n  @Bean\n  public HttpRequestRetryHandler requestRetryHandler() {\n    return ((exception, executionCount, context) -&gt; false);\n  }\n\n  @Bean\n  public DnsResolver dnsResolver() {\n    return ((s -&gt; new InetAddress[] {InetAddress.getByName(s)}));\n  }\n}\n</code></pre>\n<p>This way, only 1 connection is performed.\nIn my case, the host had 3 associated IPs hence having 3 connection retries. Could anyone elaborate if changing this behavior can result in failed connections, who knows the details of InetAddress.getByName() method?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1571119103,"post_id":58387865,"comment_id":103123066,"body_markdown":"Maybe linked to this bug report [BCEL-300](https://issues.apache.org/jira/browse/BCEL-300). If this is not related to your problem please provide a bit more information. Like: Which Java version do you use locally/on the server?","body":"Maybe linked to this bug report <a href=\"https://issues.apache.org/jira/browse/BCEL-300\" rel=\"nofollow noreferrer\">BCEL-300</a>. If this is not related to your problem please provide a bit more information. Like: Which Java version do you use locally/on the server?"},{"owner":{"account_id":5882871,"reputation":67,"user_id":4631741,"display_name":"javaUser"},"score":0,"creation_date":1571131651,"post_id":58387865,"comment_id":103129241,"body_markdown":"@SubOptimal Java version is 1.7. The server is also having the same java version","body":"@SubOptimal Java version is 1.7. The server is also having the same java version"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1571142222,"post_id":58387865,"comment_id":103134838,"body_markdown":"In case the server runs with Java 7 you might have another problem as `jaxb-api-2.3.1.jar` contains class-files for Java 8. Except the file `module-info.class` which is compiled for Java 9 (the reason for the `ClassFormatException`).","body":"In case the server runs with Java 7 you might have another problem as <code>jaxb-api-2.3.1.jar</code> contains class-files for Java 8. Except the file <code>module-info.class</code> which is compiled for Java 9 (the reason for the <code>ClassFormatException</code>)."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1571144410,"post_id":58387865,"comment_id":103136150,"body_markdown":"You also need to check which BCEL version is used on the server, as the one installed does not yet support Java 9 class files.","body":"You also need to check which BCEL version is used on the server, as the one installed does not yet support Java 9 class files."}],"answers":[{"tags":[],"owner":{"account_id":20559915,"reputation":11,"user_id":15090651,"display_name":"赵锐斌"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611742681,"creation_date":1611742681,"answer_id":65917063,"question_id":58387865,"body_markdown":"this is a tomcat bug\r\n\r\nIt is not that &quot;Tomcat should skip or ..&quot;. It is that the underlying byte code parsing library (Apache Commons BCEL) does not know what is the meaning of entries with code &quot;19&quot; in a constant pool.\r\n\r\nIt knows what &quot;18&quot; means (CONSTANT_InvokeDynamic), bot not about &quot;19&quot;.\r\n\r\nhttp://svn.apache.org/viewvc/commons/proper/bcel/tags/BCEL_6_0/src/main/java/org/apache/bcel/classfile/Constant.java?view=markup#l127\r\n\r\nhttp://svn.apache.org/viewvc/commons/proper/bcel/tags/BCEL_6_0/src/main/java/org/apache/bcel/Const.java?view=markup#l280\r\n\r\n\r\nThis needs\r\n- a reference to a class file format specification (JVM specification) for the actual meaning of that code and\r\n\r\nI expect the specs to be published here, but there is none for Java 9 yet:\r\nhttp://docs.oracle.com/javase/specs/\r\n\r\n- a bug report against BCEL library.\r\n\r\nhttp://commons.apache.org/proper/commons-bcel/\r\n\r\nhttps://bz.apache.org/bugzilla/show_bug.cgi?id=60688\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W5wX4.png","title":"I am getting this error Unable to process Jar entry [module-info.class] from jar","body":"<p>this is a tomcat bug</p>\n<p>It is not that &quot;Tomcat should skip or ..&quot;. It is that the underlying byte code parsing library (Apache Commons BCEL) does not know what is the meaning of entries with code &quot;19&quot; in a constant pool.</p>\n<p>It knows what &quot;18&quot; means (CONSTANT_InvokeDynamic), bot not about &quot;19&quot;.</p>\n<p><a href=\"http://svn.apache.org/viewvc/commons/proper/bcel/tags/BCEL_6_0/src/main/java/org/apache/bcel/classfile/Constant.java?view=markup#l127\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc/commons/proper/bcel/tags/BCEL_6_0/src/main/java/org/apache/bcel/classfile/Constant.java?view=markup#l127</a></p>\n<p><a href=\"http://svn.apache.org/viewvc/commons/proper/bcel/tags/BCEL_6_0/src/main/java/org/apache/bcel/Const.java?view=markup#l280\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc/commons/proper/bcel/tags/BCEL_6_0/src/main/java/org/apache/bcel/Const.java?view=markup#l280</a></p>\n<p>This needs</p>\n<ul>\n<li>a reference to a class file format specification (JVM specification) for the actual meaning of that code and</li>\n</ul>\n<p>I expect the specs to be published here, but there is none for Java 9 yet:\n<a href=\"http://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/specs/</a></p>\n<ul>\n<li>a bug report against BCEL library.</li>\n</ul>\n<p><a href=\"http://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-bcel/</a></p>\n<p><a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=60688\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=60688</a></p>\n<p><a href=\"https://i.stack.imgur.com/W5wX4.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":1311937,"reputation":1459,"user_id":1259763,"accept_rate":73,"display_name":"Federico Alvarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647608312,"creation_date":1647608312,"answer_id":71527393,"question_id":58387865,"body_markdown":"In my case updating Tomcat did the trick, went from 8 to 9, but others said that 8.6 was enough. So I assume 赵锐斌 was right and it is indeed a Tomcat 8 bug.\r\n\r\nSource: https://programmer.group/unable-to-process-jar-entry-module-info-class-from-jar.html","title":"I am getting this error Unable to process Jar entry [module-info.class] from jar","body":"<p>In my case updating Tomcat did the trick, went from 8 to 9, but others said that 8.6 was enough. So I assume 赵锐斌 was right and it is indeed a Tomcat 8 bug.</p>\n<p>Source: <a href=\"https://programmer.group/unable-to-process-jar-entry-module-info-class-from-jar.html\" rel=\"nofollow noreferrer\">https://programmer.group/unable-to-process-jar-entry-module-info-class-from-jar.html</a></p>\n"}],"owner":{"account_id":5882871,"reputation":67,"user_id":4631741,"display_name":"javaUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5057,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656325546,"answer_count":2,"score":0,"last_activity_date":1647608312,"creation_date":1571117927,"question_id":58387865,"body_markdown":"SEVERE: Unable to process Jar entry [module-info.class] from Jar [jar:file:/appdata/apache-tomcat-7.0.47/webapps/~/WEB-INF/lib/jaxb-api-2.3.1.jar\r\n\r\n    org.apache.tomcat.util.bcel.classfile.ClassFormatException: Invalid byte tag in constant pool: 19```\r\n\tat org.apache.tomcat.util.bcel.classfile.Constant.readConstant(Constant.java:133)\r\n\tat org.apache.tomcat.util.bcel.classfile.ConstantPool.&lt;init&gt;(ConstantPool.java:60)\r\n\r\nApplication is built on SpringBoot using maven. I am getting this error while deploying in dev server which is a linux machine.\r\nIt is working fine in my local windows machine.\r\nDependencies in pom.xml is as below\r\n\r\n```&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n\t\t&lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt; \r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt; \r\n\t\t\t&lt;artifactId&gt;tomcat7-websocket&lt;/artifactId&gt; &lt;version&gt;7.0.47&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; \r\n\t\t\t&lt;/dependency&gt; --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.0.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n","title":"I am getting this error Unable to process Jar entry [module-info.class] from jar","body":"<p>SEVERE: Unable to process Jar entry [module-info.class] from Jar [jar:file:/appdata/apache-tomcat-7.0.47/webapps/~/WEB-INF/lib/jaxb-api-2.3.1.jar</p>\n\n<pre><code>org.apache.tomcat.util.bcel.classfile.ClassFormatException: Invalid byte tag in constant pool: 19```\nat org.apache.tomcat.util.bcel.classfile.Constant.readConstant(Constant.java:133)\nat org.apache.tomcat.util.bcel.classfile.ConstantPool.&lt;init&gt;(ConstantPool.java:60)\n</code></pre>\n\n<p>Application is built on SpringBoot using maven. I am getting this error while deploying in dev server which is a linux machine.\nIt is working fine in my local windows machine.\nDependencies in pom.xml is as below</p>\n\n<pre><code>        &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt; \n            &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt; \n            &lt;artifactId&gt;tomcat7-websocket&lt;/artifactId&gt; &lt;version&gt;7.0.47&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; \n            &lt;/dependency&gt; --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-util&lt;/artifactId&gt;\n            &lt;version&gt;9.0.22&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","kotlinx.serialization","kmongo"],"owner":{"account_id":12015117,"reputation":156,"user_id":8790528,"display_name":"EyedPeas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647608290,"creation_date":1647523378,"question_id":71513057,"body_markdown":"I am trying to serialize a MongoDB ObjectId using a Kotlin, Spring Boot, KMongo and Kotlinx. \r\nThe problem is, that the ObjectId is getting serialized as timestamp:\r\nExpected Result:\r\n```json\r\n{&quot;name&quot;:&quot;Game 1&quot;,&quot;url&quot;:&quot;game1.url&quot;,&quot;id&quot;:&quot;62332fc4112cd3545bc129ef&quot;}\r\n```\r\nActual Result: \r\n```json\r\n{\r\n  &quot;name&quot; : &quot;Game 1&quot;,\r\n  &quot;url&quot; : &quot;game1.url&quot;,\r\n  &quot;id&quot; : {\r\n    &quot;id&quot; : {\r\n      &quot;timestamp&quot; : 1647521732,\r\n      &quot;date&quot; : &quot;2022-03-17T12:55:32.000+00:00&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nI tried many different approaches (e.g. [this one recommended by KMongo][1]) but they didn&#39;t work.\r\nAny suggestions where the error might be?\r\n\r\n\r\n----------\r\n\r\n\r\n### GamesController ###\r\n```kotlin\r\n@RestController\r\nclass GamesController(private val gamesService: GamesService) {\r\n\r\n    @PostMapping(&quot;/games&quot;)\r\n    fun addGame(@RequestBody addGameRequest: AddGameRequest): Game {\r\n        return = gamesService.addGame(addGameRequest)\r\n    }\r\n}\r\n\r\n```\r\n### AddGameRequest ###\r\n```kotlin\r\ndata class AddGameRequest(@JsonProperty(&quot;name&quot;) val name: String, @JsonProperty(&quot;url&quot;) val url: String)\r\n```\r\n\r\n### GamesService ###\r\n```kotlin\r\n@Service\r\nclass GamesService(\r\n    mongoDBClient: MongoDBClient,\r\n    @Value(&quot;\\${gamesservice.collectionname}&quot;) final val collectionName: String\r\n) {\r\n    var gamesCollection: MongoCollection&lt;Game&gt; = mongoDBClient.gamesBlogDB.getCollection&lt;Game&gt;(collectionName)\r\n\r\n    fun addGame(addGameRequest: AddGameRequest): Game {\r\n        val newGame = Game(addGameRequest.name, addGameRequest.url)\r\n        val result = newGame.apply { gamesCollection.insertOne(newGame) }\r\n        return result\r\n    }\r\n}\r\n```\r\n### Game ###\r\n```kotlin\r\n@Serializable\r\ndata class Game(\r\n    var name: String,\r\n    var url: String,\r\n    @SerialName(&quot;_id&quot;) @Serializable(with = ObjectIdAsStringSerializer::class) var id: Id&lt;Game&gt; = newId()\r\n) : RepresentationModel&lt;Game&gt;()\r\n\r\n```\r\n\r\n### ObjectIdAsStringSerializer ###\r\n```kotlin\r\nobject ObjectIdAsStringSerializer : KSerializer&lt;Id&lt;Game&gt;&gt; {\r\n    override val descriptor: SerialDescriptor\r\n        get() = PrimitiveSerialDescriptor(&quot;Id&lt;Game&gt;&quot;, PrimitiveKind.STRING)\r\n\r\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n    override fun deserialize(decoder: Decoder): Id&lt;Game&gt; {\r\n        return IdGenerator.defaultGenerator.create(decoder.decodeString()) as Id&lt;Game&gt;\r\n    }\r\n\r\n    override fun serialize(encoder: Encoder, value: Id&lt;Game&gt;) {\r\n        encoder.encodeString(value.toString())\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://litote.org/kmongo/object-mapping/#id-json-kotlinx-serialization","title":"How to correctly serialize an mongoDB ObjectId with kotlinx","body":"<p>I am trying to serialize a MongoDB ObjectId using a Kotlin, Spring Boot, KMongo and Kotlinx.\nThe problem is, that the ObjectId is getting serialized as timestamp:\nExpected Result:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;name&quot;:&quot;Game 1&quot;,&quot;url&quot;:&quot;game1.url&quot;,&quot;id&quot;:&quot;62332fc4112cd3545bc129ef&quot;}\n</code></pre>\n<p>Actual Result:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; : &quot;Game 1&quot;,\n  &quot;url&quot; : &quot;game1.url&quot;,\n  &quot;id&quot; : {\n    &quot;id&quot; : {\n      &quot;timestamp&quot; : 1647521732,\n      &quot;date&quot; : &quot;2022-03-17T12:55:32.000+00:00&quot;\n    }\n  }\n}\n</code></pre>\n<p>I tried many different approaches (e.g. <a href=\"https://litote.org/kmongo/object-mapping/#id-json-kotlinx-serialization\" rel=\"nofollow noreferrer\">this one recommended by KMongo</a>) but they didn't work.\nAny suggestions where the error might be?</p>\n<hr />\n<h3>GamesController</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RestController\nclass GamesController(private val gamesService: GamesService) {\n\n    @PostMapping(&quot;/games&quot;)\n    fun addGame(@RequestBody addGameRequest: AddGameRequest): Game {\n        return = gamesService.addGame(addGameRequest)\n    }\n}\n\n</code></pre>\n<h3>AddGameRequest</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class AddGameRequest(@JsonProperty(&quot;name&quot;) val name: String, @JsonProperty(&quot;url&quot;) val url: String)\n</code></pre>\n<h3>GamesService</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\nclass GamesService(\n    mongoDBClient: MongoDBClient,\n    @Value(&quot;\\${gamesservice.collectionname}&quot;) final val collectionName: String\n) {\n    var gamesCollection: MongoCollection&lt;Game&gt; = mongoDBClient.gamesBlogDB.getCollection&lt;Game&gt;(collectionName)\n\n    fun addGame(addGameRequest: AddGameRequest): Game {\n        val newGame = Game(addGameRequest.name, addGameRequest.url)\n        val result = newGame.apply { gamesCollection.insertOne(newGame) }\n        return result\n    }\n}\n</code></pre>\n<h3>Game</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Serializable\ndata class Game(\n    var name: String,\n    var url: String,\n    @SerialName(&quot;_id&quot;) @Serializable(with = ObjectIdAsStringSerializer::class) var id: Id&lt;Game&gt; = newId()\n) : RepresentationModel&lt;Game&gt;()\n\n</code></pre>\n<h3>ObjectIdAsStringSerializer</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object ObjectIdAsStringSerializer : KSerializer&lt;Id&lt;Game&gt;&gt; {\n    override val descriptor: SerialDescriptor\n        get() = PrimitiveSerialDescriptor(&quot;Id&lt;Game&gt;&quot;, PrimitiveKind.STRING)\n\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\n    override fun deserialize(decoder: Decoder): Id&lt;Game&gt; {\n        return IdGenerator.defaultGenerator.create(decoder.decodeString()) as Id&lt;Game&gt;\n    }\n\n    override fun serialize(encoder: Encoder, value: Id&lt;Game&gt;) {\n        encoder.encodeString(value.toString())\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","cron"],"comments":[{"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"score":0,"creation_date":1647600166,"post_id":71524015,"comment_id":126416799,"body_markdown":"It is weird that they run one after another. Are you sure your method doesn&#39;t call itself in some case?","body":"It is weird that they run one after another. Are you sure your method doesn&#39;t call itself in some case?"},{"owner":{"account_id":20601921,"reputation":23,"user_id":15123042,"display_name":"Daniel"},"score":0,"creation_date":1647601104,"post_id":71524015,"comment_id":126417151,"body_markdown":"Yeah, I have checked multiple times. These two methods &quot;blockAppUsers()&quot; and &quot;checkEmailAddresses&quot; are not called by me, only by spring through the annotation.","body":"Yeah, I have checked multiple times. These two methods &quot;blockAppUsers()&quot; and &quot;checkEmailAddresses&quot; are not called by me, only by spring through the annotation."}],"answers":[{"tags":[],"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647603698,"creation_date":1647602502,"answer_id":71526292,"question_id":71524015,"body_markdown":"Check carefully logs when initializing application. \r\n\r\nMost likely, your scheduler been is initialized twice. \r\nOne of the reasons may be extending from `SpringBootServletInitializer` - it may initialize beans once for WebApplicationContext, and once more for Servlet context.\r\n\r\n[source][1]\r\n\r\nP.S. to give you the solution I would need acces to whole src code, as it may even be an extra starter dependency in pom \r\n\r\n  [1]: https://stackoverflow.com/questions/14242310/java-spring-scheduled-tasks-executing-twice","title":"Java Spring @Scheduled Cron Task","body":"<p>Check carefully logs when initializing application.</p>\n<p>Most likely, your scheduler been is initialized twice.\nOne of the reasons may be extending from <code>SpringBootServletInitializer</code> - it may initialize beans once for WebApplicationContext, and once more for Servlet context.</p>\n<p><a href=\"https://stackoverflow.com/questions/14242310/java-spring-scheduled-tasks-executing-twice\">source</a></p>\n<p>P.S. to give you the solution I would need acces to whole src code, as it may even be an extra starter dependency in pom</p>\n"}],"owner":{"account_id":20601921,"reputation":23,"user_id":15123042,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1737,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71526292,"answer_count":1,"score":2,"last_activity_date":1647608276,"creation_date":1647590808,"question_id":71524015,"body_markdown":"I am currently bumping into an issue whilst using the @Scheduled (cron) annotation in Spring. \r\n\r\n```@Scheduled(cron = &quot;0 0 3 * * MON-FRI&quot;, zone = &quot;Europe/Berlin&quot;)```\r\n\r\nThis task executes every day at 3 o&#39;clock in the morning (Monday-Friday):\r\n- 03:00:00,278 - 03:00:08,269\r\n- 03:00:08,269 - 03:00:15,451\r\n\r\nMy question is, why does this task execute twice? I have stated that it should only run at minute &quot;0&quot; and &quot;0&quot; seconds, but this seems off (see execution times).\r\nI have two such tasks and both have this issue. Is there anybody that may know the reason on why this is happening and how to avoid it?\r\n\r\nI am using Spring Boot Version ```2.1.6```. Note: will be upgrading to Version ```2.7``` soon.\r\n\r\nEdit:\r\n\r\nMy scheduler class: \r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\n@Log4j2\r\npublic class LdapTask {\r\n\r\n\tprivate final IAppUserService appUserService;\r\n\t\r\n\tprivate final IEmployeeService employeeService;\r\n\t\r\n\t//second, minute, hour, day of month, month, day(s) of week\r\n\t@Scheduled(cron = &quot;0 0 3 * * MON-FRI&quot;, zone = &quot;Europe/Berlin&quot;)\r\n\tpublic void blockAppUsers() {\r\n\t\t/* Logic here */\r\n\t}\r\n\t\r\n\t@Scheduled(cron = &quot;0 20 3 * * MON-FRI&quot;)\r\n\tpublic void checkEmailAddresses() {\r\n\t\t/* Logic here */\r\n\t}\r\n}\r\n```\r\n\r\nApplication (Entry for this application):\r\n```\r\n@SpringBootApplication(exclude = MultipartAutoConfiguration.class)\r\n@EntityScan(basePackages = &quot;...&quot;)\r\n@EnableScheduling\r\npublic class Application extends SpringBootServletInitializer {\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(Application.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t SpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nAnswer for my problem:\r\n\r\nI replaced the overridden method ```configure``` from ```SpringBootServletInitializer``` body with this: \r\n```\r\n@Override\r\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(Application.class, LdapTask.class);\r\n}\r\n```\r\ninstead of: \r\n```\r\n@Override\r\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n}\r\n```\r\n\r\nand removing the ```@Component``` Annotation in the ```LdapTask``` Class.\r\n\r\nAs the answer of this post hinted, spring was actually creating two instances of the ApplicationContext, which executed this method twice.","title":"Java Spring @Scheduled Cron Task","body":"<p>I am currently bumping into an issue whilst using the @Scheduled (cron) annotation in Spring.</p>\n<p><code>@Scheduled(cron = &quot;0 0 3 * * MON-FRI&quot;, zone = &quot;Europe/Berlin&quot;)</code></p>\n<p>This task executes every day at 3 o'clock in the morning (Monday-Friday):</p>\n<ul>\n<li>03:00:00,278 - 03:00:08,269</li>\n<li>03:00:08,269 - 03:00:15,451</li>\n</ul>\n<p>My question is, why does this task execute twice? I have stated that it should only run at minute &quot;0&quot; and &quot;0&quot; seconds, but this seems off (see execution times).\nI have two such tasks and both have this issue. Is there anybody that may know the reason on why this is happening and how to avoid it?</p>\n<p>I am using Spring Boot Version <code>2.1.6</code>. Note: will be upgrading to Version <code>2.7</code> soon.</p>\n<p>Edit:</p>\n<p>My scheduler class:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\n@Log4j2\npublic class LdapTask {\n\n    private final IAppUserService appUserService;\n    \n    private final IEmployeeService employeeService;\n    \n    //second, minute, hour, day of month, month, day(s) of week\n    @Scheduled(cron = &quot;0 0 3 * * MON-FRI&quot;, zone = &quot;Europe/Berlin&quot;)\n    public void blockAppUsers() {\n        /* Logic here */\n    }\n    \n    @Scheduled(cron = &quot;0 20 3 * * MON-FRI&quot;)\n    public void checkEmailAddresses() {\n        /* Logic here */\n    }\n}\n</code></pre>\n<p>Application (Entry for this application):</p>\n<pre><code>@SpringBootApplication(exclude = MultipartAutoConfiguration.class)\n@EntityScan(basePackages = &quot;...&quot;)\n@EnableScheduling\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n    \n    public static void main(String[] args) {\n         SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Answer for my problem:</p>\n<p>I replaced the overridden method <code>configure</code> from <code>SpringBootServletInitializer</code> body with this:</p>\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class, LdapTask.class);\n}\n</code></pre>\n<p>instead of:</p>\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n}\n</code></pre>\n<p>and removing the <code>@Component</code> Annotation in the <code>LdapTask</code> Class.</p>\n<p>As the answer of this post hinted, spring was actually creating two instances of the ApplicationContext, which executed this method twice.</p>\n"},{"tags":["java","android-studio","date","datetime"],"answers":[{"tags":[],"owner":{"account_id":2325826,"reputation":13961,"user_id":2040375,"accept_rate":98,"display_name":"Majid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548478085,"creation_date":1548478085,"answer_id":54375734,"question_id":54375721,"body_markdown":"Use this:\r\n\r\n    String input = &quot;24/04/2019&quot;;\r\n    String output = input.substring(0,input.lastIndexOf(&quot;/&quot;));","title":"How to Remove year(yyyy) in date(dd/mm/yyyy)","body":"<p>Use this:</p>\n\n<pre><code>String input = \"24/04/2019\";\nString output = input.substring(0,input.lastIndexOf(\"/\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1548486563,"creation_date":1548478141,"answer_id":54375738,"question_id":54375721,"body_markdown":"You can get the substring from index 0 to 4:\r\n\r\n    String input = &quot;24/04/2019&quot;;\r\n    String output = input.substring(0, 5);","title":"How to Remove year(yyyy) in date(dd/mm/yyyy)","body":"<p>You can get the substring from index 0 to 4:</p>\n\n<pre><code>String input = \"24/04/2019\";\nString output = input.substring(0, 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548484368,"creation_date":1548482587,"answer_id":54376073,"question_id":54375721,"body_markdown":"# tl;dr\r\n\r\n    MonthDay                     // Represent a month &amp; day-of-month, without a year.\r\n    .from(                       // Extract a `MonthDay` from a `LocalDate`, omitting the year but keeping the month and day-of-month.\r\n        LocalDate                // Represent a date-only value, without time-of-day and without time zone.\r\n        .parse(                  // Parse a string to get a `LocalDate`.\r\n            &quot;24/04/2019&quot; ,       // FYI, better to use standard ISO 8601 formats rather than devising a custom format such as this.\r\n            DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; )  // Match the formatting pattern of your input strings.\r\n        )                        // Returns a `LocalDate`. \r\n    )                            // Returns a `MonthDay`.\r\n    .format(                     // Generate a `String` with text representing the value of this `MonthDay` object.\r\n        DateTimeFormatter.ofPattern( &quot;dd/MM&quot; ) \r\n    )                            // Returns a `String`.\r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt;24/04\r\n\r\n\r\n# `LocalDate` &amp; `MonthDay`\r\n\r\nJava comes built-in with classes for this work:\r\n\r\n - [`LocalDate`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html)&lt;br /&gt;Represents a date-only value without time-of-day and without [time zone](https://en.wikipedia.org/wiki/Time_zone) or [offset-from-UTC](https://en.wikipedia.org/wiki/UTC_offset).\r\n - [`MonthDay`][2]&lt;br /&gt;Represents a day in a month, generically speaking, without a year. \r\n\r\nParse your input strings to get `LocalDate` objects. Define a formatting pattern to match the input format.\r\n\r\n    String input = &quot;24/04/2019&quot; ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uuuu&quot; ) ;\r\n\r\nParse.\r\n\r\n    LocalDate ld = LocalDate.parse( input , f ) ;\r\n\r\nGenerate a string in standard [ISO 8601][3] format, YYYY-MM-DD. I strongly encourage you to use these formats when exchanging date-time values as text, rather than devising your own custom formats. \r\n\r\nThe *java.time* classes uses these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern.\r\n\r\n    String output = ld.toString() ; \r\n\r\n&gt;2019-04-24\r\n\r\nExtract just the month and day, while leaving out the year.\r\n\r\n    MonthDay md = MonthDay.from( ld ) ;  // Extract the month &amp; day-of-month, but omit the year.\r\n\r\n[Generate a string][4] in standard ISO 8601 format. The format uses double hyphens in front to indicate the missing year.\r\n\r\n    String output = md.toString():\r\n\r\n&gt;--04-24\r\n\r\nYou can parse this value as well.\r\n\r\n    MonthDay md = MonthDay.parse( &quot;--04-24&quot; ) ;\r\n\r\nYou can get back to a `LocalDate` by specifying a year.\r\n\r\n    LocalDate ld = md.atYear( 2019 ) ;  // Generate a `LocalDate` by specifying a year to go with the month &amp; day.\r\n\r\n&gt;not for output only I want to perform addition or apply for loop on that date.\r\n\r\nStudy the JavaDoc for both classes. Many handy methods are offered. \r\n\r\nYou can compare with `isBefore` and `isAfter`. \r\n\r\nYou can do math, adding or subtracting spans-of-time. You can adjust, such as jumping to a specific day-of-month. Note that the *java.time* classes follow the [immutable objects][5] pattern. So rather than changing (“mutating”) the original, a second object is created with values based on the original.\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://ideone.com/evCOhN\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/MonthDay.html\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/MonthDay.html#toString()\r\n  [5]: https://en.wikipedia.org/wiki/Immutable_object","title":"How to Remove year(yyyy) in date(dd/mm/yyyy)","body":"<h1>tl;dr</h1>\n\n<pre><code>MonthDay                     // Represent a month &amp; day-of-month, without a year.\n.from(                       // Extract a `MonthDay` from a `LocalDate`, omitting the year but keeping the month and day-of-month.\n    LocalDate                // Represent a date-only value, without time-of-day and without time zone.\n    .parse(                  // Parse a string to get a `LocalDate`.\n        \"24/04/2019\" ,       // FYI, better to use standard ISO 8601 formats rather than devising a custom format such as this.\n        DateTimeFormatter.ofPattern( \"dd/MM/uuuu\" )  // Match the formatting pattern of your input strings.\n    )                        // Returns a `LocalDate`. \n)                            // Returns a `MonthDay`.\n.format(                     // Generate a `String` with text representing the value of this `MonthDay` object.\n    DateTimeFormatter.ofPattern( \"dd/MM\" ) \n)                            // Returns a `String`.\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/evCOhN\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>24/04</p>\n</blockquote>\n\n<h1><code>LocalDate</code> &amp; <code>MonthDay</code></h1>\n\n<p>Java comes built-in with classes for this work:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a><br />Represents a date-only value without time-of-day and without <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> or <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a>.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/MonthDay.html\" rel=\"noreferrer\"><code>MonthDay</code></a><br />Represents a day in a month, generically speaking, without a year. </li>\n</ul>\n\n<p>Parse your input strings to get <code>LocalDate</code> objects. Define a formatting pattern to match the input format.</p>\n\n<pre><code>String input = \"24/04/2019\" ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( \"dd/MM/uuuu\" ) ;\n</code></pre>\n\n<p>Parse.</p>\n\n<pre><code>LocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n\n<p>Generate a string in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format, YYYY-MM-DD. I strongly encourage you to use these formats when exchanging date-time values as text, rather than devising your own custom formats. </p>\n\n<p>The <em>java.time</em> classes uses these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern.</p>\n\n<pre><code>String output = ld.toString() ; \n</code></pre>\n\n<blockquote>\n  <p>2019-04-24</p>\n</blockquote>\n\n<p>Extract just the month and day, while leaving out the year.</p>\n\n<pre><code>MonthDay md = MonthDay.from( ld ) ;  // Extract the month &amp; day-of-month, but omit the year.\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/MonthDay.html#toString()\" rel=\"noreferrer\">Generate a string</a> in standard ISO 8601 format. The format uses double hyphens in front to indicate the missing year.</p>\n\n<pre><code>String output = md.toString():\n</code></pre>\n\n<blockquote>\n  <p>--04-24</p>\n</blockquote>\n\n<p>You can parse this value as well.</p>\n\n<pre><code>MonthDay md = MonthDay.parse( \"--04-24\" ) ;\n</code></pre>\n\n<p>You can get back to a <code>LocalDate</code> by specifying a year.</p>\n\n<pre><code>LocalDate ld = md.atYear( 2019 ) ;  // Generate a `LocalDate` by specifying a year to go with the month &amp; day.\n</code></pre>\n\n<blockquote>\n  <p>not for output only I want to perform addition or apply for loop on that date.</p>\n</blockquote>\n\n<p>Study the JavaDoc for both classes. Many handy methods are offered. </p>\n\n<p>You can compare with <code>isBefore</code> and <code>isAfter</code>. </p>\n\n<p>You can do math, adding or subtracting spans-of-time. You can adjust, such as jumping to a specific day-of-month. Note that the <em>java.time</em> classes follow the <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"noreferrer\">immutable objects</a> pattern. So rather than changing (“mutating”) the original, a second object is created with values based on the original.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":6305110,"reputation":200,"user_id":4898405,"display_name":"Ramesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548780766,"creation_date":1548780766,"answer_id":54425952,"question_id":54375721,"body_markdown":"You may also try with string split logic as below.\n\n    String date=&quot;24/04/2019&quot;;\n    \n    String [ ] ddyymm=date.split(&quot;/&quot;);\n    \n     String output=ddyymm[0]+&quot;/&quot;+ddmmyy[1];","title":"How to Remove year(yyyy) in date(dd/mm/yyyy)","body":"<p>You may also try with string split logic as below.</p>\n\n<pre><code>String date=\"24/04/2019\";\n\nString [ ] ddyymm=date.split(\"/\");\n\n String output=ddyymm[0]+\"/\"+ddmmyy[1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17321389,"reputation":101,"user_id":12546784,"display_name":"3ameration"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647608222,"creation_date":1647608222,"answer_id":71527370,"question_id":54375721,"body_markdown":"I&#39;m using the following code to cover all cases where the year may come at the begginning \r\n\r\n\r\n    var dateFormat = deviceDateFormat.replace(&quot;(?i)y&quot;.toRegex(), &quot;&quot;)\r\n    if (!dateFormat.first().isLetter()) dateFormat = dateFormat.drop(1)\r\n    if (!dateFormat[dateFormat.length - 1].isLetter()) dateFormat = dateFormat.dropLast(1)\r\n    println(dateFormat)\r\n\r\n","title":"How to Remove year(yyyy) in date(dd/mm/yyyy)","body":"<p>I'm using the following code to cover all cases where the year may come at the begginning</p>\n<pre><code>var dateFormat = deviceDateFormat.replace(&quot;(?i)y&quot;.toRegex(), &quot;&quot;)\nif (!dateFormat.first().isLetter()) dateFormat = dateFormat.drop(1)\nif (!dateFormat[dateFormat.length - 1].isLetter()) dateFormat = dateFormat.dropLast(1)\nprintln(dateFormat)\n</code></pre>\n"}],"owner":{"account_id":15203028,"reputation":127,"user_id":10970394,"display_name":"John dahat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3234,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":54375738,"answer_count":5,"score":6,"last_activity_date":1647608222,"creation_date":1548477978,"question_id":54375721,"body_markdown":"I have below dates,\r\n\r\n    24/04/2019\r\n    \r\n    13/05/2019\r\n    \r\n    12/04/2019\r\n\r\nI want to remove the year and convert these dates into following format,\r\n\r\n    24/04\r\n    \r\n    13/05\r\n    \r\n    12/04\r\n\r\nThis not for output only I want to perform addition or apply for loop on that date.","title":"How to Remove year(yyyy) in date(dd/mm/yyyy)","body":"<p>I have below dates,</p>\n\n<pre><code>24/04/2019\n\n13/05/2019\n\n12/04/2019\n</code></pre>\n\n<p>I want to remove the year and convert these dates into following format,</p>\n\n<pre><code>24/04\n\n13/05\n\n12/04\n</code></pre>\n\n<p>This not for output only I want to perform addition or apply for loop on that date.</p>\n"},{"tags":["java","jpa","merge","entitymanager"],"comments":[{"owner":{"account_id":53083,"reputation":2629,"user_id":158680,"accept_rate":100,"display_name":"Dick Chesterwood"},"score":0,"creation_date":1413395542,"post_id":26388848,"comment_id":41431365,"body_markdown":"Can you post your full JPA session (from the start to the close of the EntityManager, and the salient parts of your Entity class (ie the ID property and any relationships).","body":"Can you post your full JPA session (from the start to the close of the EntityManager, and the salient parts of your Entity class (ie the ID property and any relationships)."},{"owner":{"account_id":4471699,"reputation":776,"user_id":3638066,"accept_rate":71,"display_name":"Rika"},"score":0,"creation_date":1413396178,"post_id":26388848,"comment_id":41431656,"body_markdown":"It has been edited. I use persistence context, so closing and commiting is unnecessary.","body":"It has been edited. I use persistence context, so closing and commiting is unnecessary."},{"owner":{"account_id":3271176,"reputation":8031,"user_id":2754530,"display_name":"wypieprz"},"score":0,"creation_date":1413400551,"post_id":26388848,"comment_id":41433891,"body_markdown":"To make it clear - you are using transaction-scoped container-managed persistence context. What value gives you `boolean isManaged = entityManager.contains(mergedEntity);` if placed in the middle of merge and remove lines? btw. for the sake of clarity it would be good to paste a proper and compilable code (you have doubled `trialUserElement1`) and split the code snippet into two classes (managing bean annotated with `@PersistenceContext` and entity bean annotated with `@Entity`).","body":"To make it clear - you are using transaction-scoped container-managed persistence context. What value gives you <code>boolean isManaged = entityManager.contains(mergedEntity);</code> if placed in the middle of merge and remove lines? btw. for the sake of clarity it would be good to paste a proper and compilable code (you have doubled <code>trialUserElement1</code>) and split the code snippet into two classes (managing bean annotated with <code>@PersistenceContext</code> and entity bean annotated with <code>@Entity</code>)."}],"answers":[{"tags":[],"owner":{"account_id":53083,"reputation":2629,"user_id":158680,"accept_rate":100,"display_name":"Dick Chesterwood"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413396738,"creation_date":1413396738,"answer_id":26389294,"question_id":26388848,"body_markdown":"This is bit of a shot in the dark as I can&#39;t run your code, and these types of problems can turn out to be a bit complex. But rest assured that it should be fine to merge and then delete. I suspect it may be related to your many to one associated entities.\r\n\r\nAt the point where the transaction commits, the remove is being cascaded to the linked entities. \r\n\r\nEven though the merge is redundant for your parent entity, I think the merge is being cascaded to the child entities, which have been deleted, hence the exception.\r\n\r\nTry changing your cascade rules - pull it back to CascadeType.MERGE (for all three) and see if you still get the exception. Or change to CascadeType.DELETE, this will prevent the necessary merge being cascaded.","title":"Why am I getting deleted instance passed to merge, when merging the entity first","body":"<p>This is bit of a shot in the dark as I can't run your code, and these types of problems can turn out to be a bit complex. But rest assured that it should be fine to merge and then delete. I suspect it may be related to your many to one associated entities.</p>\n\n<p>At the point where the transaction commits, the remove is being cascaded to the linked entities. </p>\n\n<p>Even though the merge is redundant for your parent entity, I think the merge is being cascaded to the child entities, which have been deleted, hence the exception.</p>\n\n<p>Try changing your cascade rules - pull it back to CascadeType.MERGE (for all three) and see if you still get the exception. Or change to CascadeType.DELETE, this will prevent the necessary merge being cascaded.</p>\n"},{"tags":[],"owner":{"account_id":3737679,"reputation":1882,"user_id":3116666,"display_name":"uaiHebert"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1413431282,"creation_date":1413431282,"answer_id":26395905,"question_id":26388848,"body_markdown":"The JPA SPEC says that:\r\n\r\n&gt; 3.2.7.1 Merging Detached Entity State\r\n\r\n&gt;&gt;If X is a removed entity instance, an IllegalArgumentException will be thrown by the\r\nmerge operation (or the transaction commit will fail).\r\n\r\nThat is why you cannot merge a deleted entity.","title":"Why am I getting deleted instance passed to merge, when merging the entity first","body":"<p>The JPA SPEC says that:</p>\n\n<blockquote>\n  <p>3.2.7.1 Merging Detached Entity State</p>\n  \n  <blockquote>\n    <p>If X is a removed entity instance, an IllegalArgumentException will be thrown by the\n    merge operation (or the transaction commit will fail).</p>\n  </blockquote>\n</blockquote>\n\n<p>That is why you cannot merge a deleted entity.</p>\n"},{"tags":[],"owner":{"account_id":3900842,"reputation":490,"user_id":3228745,"accept_rate":44,"display_name":"Spyna"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1496067685,"creation_date":1496067685,"answer_id":44244788,"question_id":26388848,"body_markdown":"You can have this error when you run some code into a transaction, when you commit at the end og the method.\r\nWhen using spring in a method or class annotated with \r\n\r\n    @Transactional\r\n\r\nThis happens because you first delete the object (without committing) and then try to update it.\r\n\r\nthis code will generate the exception: \r\n\r\n \r\n\r\n        @Transactional\r\n        myethod(){\r\n          dao.delete(myObject);\r\n          myObject.setProperty(&quot;some value&quot;);\r\n          dao.save();  \r\n        }\r\n\r\n   \r\nTo avoid the error you should not delete and then save in the same transaction.\r\n","title":"Why am I getting deleted instance passed to merge, when merging the entity first","body":"<p>You can have this error when you run some code into a transaction, when you commit at the end og the method.\nWhen using spring in a method or class annotated with </p>\n\n<pre><code>@Transactional\n</code></pre>\n\n<p>This happens because you first delete the object (without committing) and then try to update it.</p>\n\n<p>this code will generate the exception: </p>\n\n<pre><code>    @Transactional\n    myethod(){\n      dao.delete(myObject);\n      myObject.setProperty(\"some value\");\n      dao.save();  \n    }\n</code></pre>\n\n<p>To avoid the error you should not delete and then save in the same transaction.</p>\n"},{"tags":[],"owner":{"account_id":5865743,"reputation":2651,"user_id":4619784,"display_name":"Hany Sakr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647608007,"creation_date":1647608007,"answer_id":71527324,"question_id":26388848,"body_markdown":"I faced the same issue, I discovered that during the update of the parent entity I was using cascade delete annotation at the child entity, so when I tried to delete this child, it triggered the cascade delete for the parent. then got this error.\r\nTo resolve the issue just remove the cascade delete from the child entity.","title":"Why am I getting deleted instance passed to merge, when merging the entity first","body":"<p>I faced the same issue, I discovered that during the update of the parent entity I was using cascade delete annotation at the child entity, so when I tried to delete this child, it triggered the cascade delete for the parent. then got this error.\nTo resolve the issue just remove the cascade delete from the child entity.</p>\n"}],"owner":{"account_id":4471699,"reputation":776,"user_id":3638066,"accept_rate":71,"display_name":"Rika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45669,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1647608007,"creation_date":1413395209,"question_id":26388848,"body_markdown":"I believe the entity that I wish to delete, is a managed entity. But, regardless, why is merging it then removing it giving me the following error:\r\n\r\n**deleted instance passed to merge**\r\n\r\nSomeone said on stackoverflow that merge should be ignored if it is a managed entity. So why is this not being ignored? \r\n\r\nThe way I wish to delete it is like so:\r\n\r\n    TrialUser mergedEntity = em.merge(tu);\r\n    em.remove(mergedEntity);\r\n\r\nBut this errors, but if I get rid of the first line it seems to work fine. But I want it the other way because that is consistent with the rest of the code.\r\n\r\n\r\nEDIT:\r\n\r\n\t@PersistenceContext(unitName = &quot;UnitName&quot;)\r\n\tprotected EntityManager entityManager;\r\n\r\n         @Table(name=&quot;TRIAL_USER&quot;)\r\n\r\n         @Id\r\n         private BigDecimal id;\r\n\r\n         @ManyToOne(cascade= {CascadeType.ALL }, fetch=FetchType.EAGER)\r\n         @JoinColumn(name=&quot;TRIAL_USER_CLASS_ID3&quot;)\r\n\t     private TrialUserElement trialUserElement3;\r\n\r\n\t@ManyToOne(cascade= {CascadeType.ALL }, fetch=FetchType.EAGER)\r\n\t@JoinColumn(name=&quot;TRIAL_USER_CLASS_ID1&quot;)\r\n\tprivate TrialUserElement trialUserElement1;\r\n\r\n\r\n\t@ManyToOne(cascade= {CascadeType.ALL }, fetch=FetchType.EAGER)\r\n\t@JoinColumn(name=&quot;TRIAL_USER_CLASS_ID2&quot;)\r\n\tprivate TrialUserElement trialUserElement2;\r\n\r\n","title":"Why am I getting deleted instance passed to merge, when merging the entity first","body":"<p>I believe the entity that I wish to delete, is a managed entity. But, regardless, why is merging it then removing it giving me the following error:</p>\n\n<p><strong>deleted instance passed to merge</strong></p>\n\n<p>Someone said on stackoverflow that merge should be ignored if it is a managed entity. So why is this not being ignored? </p>\n\n<p>The way I wish to delete it is like so:</p>\n\n<pre><code>TrialUser mergedEntity = em.merge(tu);\nem.remove(mergedEntity);\n</code></pre>\n\n<p>But this errors, but if I get rid of the first line it seems to work fine. But I want it the other way because that is consistent with the rest of the code.</p>\n\n<p>EDIT:</p>\n\n<pre><code>@PersistenceContext(unitName = \"UnitName\")\nprotected EntityManager entityManager;\n\n     @Table(name=\"TRIAL_USER\")\n\n     @Id\n     private BigDecimal id;\n\n     @ManyToOne(cascade= {CascadeType.ALL }, fetch=FetchType.EAGER)\n     @JoinColumn(name=\"TRIAL_USER_CLASS_ID3\")\n     private TrialUserElement trialUserElement3;\n\n@ManyToOne(cascade= {CascadeType.ALL }, fetch=FetchType.EAGER)\n@JoinColumn(name=\"TRIAL_USER_CLASS_ID1\")\nprivate TrialUserElement trialUserElement1;\n\n\n@ManyToOne(cascade= {CascadeType.ALL }, fetch=FetchType.EAGER)\n@JoinColumn(name=\"TRIAL_USER_CLASS_ID2\")\nprivate TrialUserElement trialUserElement2;\n</code></pre>\n"},{"tags":["java","android","firebase-cloud-messaging","android-service"],"answers":[{"tags":[],"owner":{"account_id":11539118,"reputation":86,"user_id":8455487,"display_name":"Rohit Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647607775,"creation_date":1647607775,"answer_id":71527276,"question_id":71526968,"body_markdown":"First of all keep a flag in your `SharedPreferences` for `ChatActivity` to know if it&#39;s open or not.\r\n\r\nNow inside `ChatActivity` set this flag `true` in `onResume()` and `false` in `onStop()`. Like this: \r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        AppPreferences.getInstance().setBoolean(&quot;IS_CHAT_ACTIVITY&quot;, true);\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        AppPreferences.getInstance().setBoolean(&quot;IS_CHAT_ACTIVITY&quot;, true);\r\n    }\r\n\r\nIf you don&#39;t know anything about `SharedPreferences` check [This Tutorial][1].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/shared-preferences-in-android-with-examples/\r\n\r\nNow in your `FCM Service` class, you have `onMessageReceived()` callback, which is triggered every time a notification comes.\r\n\r\nNow Do this in your `onMessageReceived()` callback:\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        if(remoteMessage.getNotification() != null) {\r\n            if (AppPreferences.getInstance().getBoolean(&quot;IS_CHAT_ACTIVITY&quot;, false)) {\r\n                //Do Nothing, Ignore Notification\r\n            } else {\r\n                //Write code to show notification here\r\n                //Show Notification\r\n                generateNotification(remoteMessage.getNotification());\r\n            }\r\n        }\r\n    }\r\nThat&#39;s it, that&#39;s how you can prevent the notification while you’re on `ChatActivity`.","title":"How to disable FCM on spesific activity Android","body":"<p>First of all keep a flag in your <code>SharedPreferences</code> for <code>ChatActivity</code> to know if it's open or not.</p>\n<p>Now inside <code>ChatActivity</code> set this flag <code>true</code> in <code>onResume()</code> and <code>false</code> in <code>onStop()</code>. Like this:</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    AppPreferences.getInstance().setBoolean(&quot;IS_CHAT_ACTIVITY&quot;, true);\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    AppPreferences.getInstance().setBoolean(&quot;IS_CHAT_ACTIVITY&quot;, true);\n}\n</code></pre>\n<p>If you don't know anything about <code>SharedPreferences</code> check <a href=\"https://www.geeksforgeeks.org/shared-preferences-in-android-with-examples/\" rel=\"nofollow noreferrer\">This Tutorial</a>.</p>\n<p>Now in your <code>FCM Service</code> class, you have <code>onMessageReceived()</code> callback, which is triggered every time a notification comes.</p>\n<p>Now Do this in your <code>onMessageReceived()</code> callback:</p>\n<pre><code>@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    if(remoteMessage.getNotification() != null) {\n        if (AppPreferences.getInstance().getBoolean(&quot;IS_CHAT_ACTIVITY&quot;, false)) {\n            //Do Nothing, Ignore Notification\n        } else {\n            //Write code to show notification here\n            //Show Notification\n            generateNotification(remoteMessage.getNotification());\n        }\n    }\n}\n</code></pre>\n<p>That's it, that's how you can prevent the notification while you’re on <code>ChatActivity</code>.</p>\n"}],"owner":{"account_id":19335838,"reputation":63,"user_id":14136448,"display_name":"Aditya Rizqi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647607775,"creation_date":1647606158,"question_id":71526968,"body_markdown":"i want to ask about FCM. I have an FCM service that is running as it should this is my code \r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;ch1&quot;)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentTitle(getString(R.string.app_name))\r\n                .setContentText(remoteMessage.getNotification().getBody())\r\n                .setAutoCancel(true)\r\n                .setContentIntent(pendingIntent);\r\n\r\n        NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE);\r\n            NotificationChannel channel = new NotificationChannel(&quot;ch1&quot;,\r\n                    getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n            channel.enableLights(true);\r\n            channel.enableVibration(true);\r\n            mNotificationManager.createNotificationChannel(channel);\r\n        }\r\n        mNotificationManager.notify(0, notificationBuilder.build());\r\n\r\nbut i want to disable this notification on spesific activity, for example i have ChatActivity. where if i get notificatin on this activity, the fcm service is not showing a notification. I have tried implement this code but still not work\r\n\r\n    if(!(this.getApplicationContext() instanceof ChatActivity)){\r\n       //build the notification\r\n    }\r\n\r\n\r\nanyone have solution for my problem? thank you.","title":"How to disable FCM on spesific activity Android","body":"<p>i want to ask about FCM. I have an FCM service that is running as it should this is my code</p>\n<pre><code>    Intent intent = new Intent(this, MainActivity.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;ch1&quot;)\n            .setSmallIcon(R.mipmap.ic_launcher)\n            .setContentTitle(getString(R.string.app_name))\n            .setContentText(remoteMessage.getNotification().getBody())\n            .setAutoCancel(true)\n            .setContentIntent(pendingIntent);\n\n    NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE);\n        NotificationChannel channel = new NotificationChannel(&quot;ch1&quot;,\n                getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n        channel.enableLights(true);\n        channel.enableVibration(true);\n        mNotificationManager.createNotificationChannel(channel);\n    }\n    mNotificationManager.notify(0, notificationBuilder.build());\n</code></pre>\n<p>but i want to disable this notification on spesific activity, for example i have ChatActivity. where if i get notificatin on this activity, the fcm service is not showing a notification. I have tried implement this code but still not work</p>\n<pre><code>if(!(this.getApplicationContext() instanceof ChatActivity)){\n   //build the notification\n}\n</code></pre>\n<p>anyone have solution for my problem? thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","multivalue"],"comments":[{"owner":{"account_id":60064,"reputation":12550,"user_id":179529,"accept_rate":60,"display_name":"Guy"},"score":0,"creation_date":1374043684,"post_id":17663695,"comment_id":25779166,"body_markdown":"http://aws.typepad.com/aws/2013/04/local-secondary-indexes-for-amazon-dynamodb.html","body":"<a href=\"http://aws.typepad.com/aws/2013/04/local-secondary-indexes-for-amazon-dynamodb.html\" rel=\"nofollow noreferrer\">aws.typepad.com/aws/2013/04/&hellip;</a>"},{"owner":{"account_id":2074554,"reputation":2139,"user_id":1848286,"accept_rate":80,"display_name":"DGolberg"},"score":0,"creation_date":1374044824,"post_id":17663695,"comment_id":25779777,"body_markdown":"Sorry, that&#39;s not even close to what I was asking for and I already know about secondary indexes.","body":"Sorry, that&#39;s not even close to what I was asking for and I already know about secondary indexes."},{"owner":{"account_id":20681,"reputation":1498,"user_id":49678,"accept_rate":77,"display_name":"alexandroid"},"score":0,"creation_date":1483727892,"post_id":17663695,"comment_id":70230245,"body_markdown":"I think your problem suggests that your schema needs to be different. If you repeatedly need to query 2 hash keys then perhaps that should be a special hash key on its own (duplicating the data from both states).","body":"I think your problem suggests that your schema needs to be different. If you repeatedly need to query 2 hash keys then perhaps that should be a special hash key on its own (duplicating the data from both states)."},{"owner":{"account_id":1116645,"reputation":1415,"user_id":1105832,"display_name":"JanM"},"score":0,"creation_date":1629108880,"post_id":17663695,"comment_id":121590920,"body_markdown":"You could construct a derived attribute which would label items with assigned and processing states as true and then create a sparse index on that attribute. This will allow you to retrieve the results you want efficiently and in one query. Your problem sounds very similar to the example of sparse index usage in DynamoDB best practices documentation. Check the example use-case in https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-indexes-general-sparse-indexes.html","body":"You could construct a derived attribute which would label items with assigned and processing states as true and then create a sparse index on that attribute. This will allow you to retrieve the results you want efficiently and in one query. Your problem sounds very similar to the example of sparse index usage in DynamoDB best practices documentation. Check the example use-case in <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-indexes-general-sparse-indexes.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/developerguide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":476048,"reputation":7235,"user_id":886749,"accept_rate":77,"display_name":"Cory Kendall"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1374727147,"creation_date":1374726602,"answer_id":17849022,"question_id":17663695,"body_markdown":"No, as of today there is no way to send multiple queries in the same request.  If you&#39;re concerned about latency, you could make multiple requests simultaneously in different threads.  This would require the same amount of network bandwidth as a &quot;dual query&quot; would if Dynamo offered it (assuming you&#39;re making 2, not hundreds).","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>No, as of today there is no way to send multiple queries in the same request.  If you're concerned about latency, you could make multiple requests simultaneously in different threads.  This would require the same amount of network bandwidth as a \"dual query\" would if Dynamo offered it (assuming you're making 2, not hundreds).</p>\n"},{"tags":[],"owner":{"account_id":1515013,"reputation":3769,"user_id":1416224,"accept_rate":92,"display_name":"rpmartz"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1392647670,"creation_date":1392647670,"answer_id":21831760,"question_id":17663695,"body_markdown":"You might have a look at `BatchGetItem` operation or the `batchLoad()` method of the `DynamoDBMapper`.  Although a little different than a query in that it&#39;s not a query with an `OR` condition on the hash key, it will allow you to accomplish (generally) the same thing.  Here is the [language agnostic documentation](http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchGetItem.html) and here is the [Javadoc](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html?com/amazonaws/services/dynamodb/AmazonDynamoDB.html).","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>You might have a look at <code>BatchGetItem</code> operation or the <code>batchLoad()</code> method of the <code>DynamoDBMapper</code>.  Although a little different than a query in that it's not a query with an <code>OR</code> condition on the hash key, it will allow you to accomplish (generally) the same thing.  Here is the <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchGetItem.html\" rel=\"nofollow\">language agnostic documentation</a> and here is the <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html?com/amazonaws/services/dynamodb/AmazonDynamoDB.html\" rel=\"nofollow\">Javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":2098945,"reputation":1617,"user_id":1867080,"display_name":"Vasanth Umapathy"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1394742025,"creation_date":1394742025,"answer_id":22390006,"question_id":17663695,"body_markdown":"Amazon API doesn&#39;t support multiple hashkey filter but you can use HASH KEY + RANGE KEY filter to get the results using batchGetItem method .. \r\n\r\nhttp://docs.aws.amazon.com/amazondynamodb/latest/developerguide/batch-operation-lowlevel-java.html#LowLevelJavaBatchGet","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>Amazon API doesn't support multiple hashkey filter but you can use HASH KEY + RANGE KEY filter to get the results using batchGetItem method .. </p>\n\n<p><a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/batch-operation-lowlevel-java.html#LowLevelJavaBatchGet\" rel=\"nofollow\">http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/batch-operation-lowlevel-java.html#LowLevelJavaBatchGet</a></p>\n"},{"tags":[],"owner":{"account_id":2562606,"reputation":81,"user_id":2223434,"display_name":"Aybat"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1407752340,"creation_date":1401444416,"answer_id":23952008,"question_id":17663695,"body_markdown":"There is no way to query by multiple hash keys, but, as of April 2014, you can use QueryFilter so you can filter by non key fields in addition to hash key fields.\r\n\r\nIn a blog post on 24 April 2014, AWS announced the release of the &quot;QueryFilter&quot; option:\r\n\r\n&gt; With today&#39;s release, we are extending this model with support for **query filtering on non-key attributes**. You can now include a **QueryFilter** as part of a call to the Query function. The filter is applied after the key-based retrieval and before the results are returned to you. Filtering in this manner can reduce the amount of data returned to your application while also simplifying and streamlining your code\r\n\r\nCheck this out there\r\nhttp://aws.amazon.com/blogs/aws/improved-queries-and-updates-for-dynamodb/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed:+AmazonWebServicesBlog+%28Amazon+Web+Services+Blog%29","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>There is no way to query by multiple hash keys, but, as of April 2014, you can use QueryFilter so you can filter by non key fields in addition to hash key fields.</p>\n\n<p>In a blog post on 24 April 2014, AWS announced the release of the \"QueryFilter\" option:</p>\n\n<blockquote>\n  <p>With today's release, we are extending this model with support for <strong>query filtering on non-key attributes</strong>. You can now include a <strong>QueryFilter</strong> as part of a call to the Query function. The filter is applied after the key-based retrieval and before the results are returned to you. Filtering in this manner can reduce the amount of data returned to your application while also simplifying and streamlining your code</p>\n</blockquote>\n\n<p>Check this out there\n<a href=\"http://aws.amazon.com/blogs/aws/improved-queries-and-updates-for-dynamodb/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed:+AmazonWebServicesBlog+%28Amazon+Web+Services+Blog%29\" rel=\"noreferrer\">http://aws.amazon.com/blogs/aws/improved-queries-and-updates-for-dynamodb/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed:+AmazonWebServicesBlog+%28Amazon+Web+Services+Blog%29</a></p>\n"},{"tags":[],"owner":{"account_id":3134755,"reputation":31,"user_id":2651504,"display_name":"deverton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527363012,"creation_date":1527363012,"answer_id":50546360,"question_id":17663695,"body_markdown":"Try this in C#. I think it&#39;s similar in Java. *UserId* it`s the hask key.\r\n\r\n            var table = Table.LoadTable(DynamoClient, &quot;YourTableName&quot;);\r\n            var batchGet = table.CreateBatchGet();\r\n            batchGet.AddKey(new Dictionary&lt;string, DynamoDBEntry&gt;() { { &quot;UserId&quot;, 123 } });\r\n            batchGet.AddKey(new Dictionary&lt;string, DynamoDBEntry&gt;() { { &quot;UserId&quot;, 456 } });\r\n            batchGet.Execute();\r\n            var results = batchGet.Results;","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>Try this in C#. I think it's similar in Java. <em>UserId</em> it`s the hask key.</p>\n\n<pre><code>        var table = Table.LoadTable(DynamoClient, \"YourTableName\");\n        var batchGet = table.CreateBatchGet();\n        batchGet.AddKey(new Dictionary&lt;string, DynamoDBEntry&gt;() { { \"UserId\", 123 } });\n        batchGet.AddKey(new Dictionary&lt;string, DynamoDBEntry&gt;() { { \"UserId\", 456 } });\n        batchGet.Execute();\n        var results = batchGet.Results;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1602559858,"creation_date":1602524004,"answer_id":64322653,"question_id":17663695,"body_markdown":"Sharing my working answer for posterity. As of Oct 2020, there is a way to query multiple hash keys using a single query using `aws-java-sdk-dynamodb-1.11.813.jar`. I had the same requirement where I had to select items based on multiple hash keys(partition keys), and you can relate the requirement with the RDMS scenario, similar to the query `select * from photo where id in (&#39;id1&#39;,&#39;id2&#39;,&#39;id3&#39;)`, here id is the primary key of the `photo` table.\r\n\r\n***Code Snippet***\r\n\r\n - **DynamoDB entity**\r\n\r\n```\r\npackage com.test.demo.dynamodb.entity;\r\n\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.io.Serializable;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@lombok.Data\r\n@DynamoDBTable(tableName = &quot;test_photos&quot;)\r\n@Builder\r\npublic class Photo implements Serializable {\r\n    @DynamoDBHashKey\r\n    private String id;\r\n    private String title;\r\n    private String url;\r\n    private String thumbnailUrl;\r\n}\r\n\r\n```\r\n\r\n - **DynamoDB Repository Class**\r\n\r\n```\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.KeyPair;\r\nimport com.test.demo.dynamodb.entity.Photo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\n@Repository\r\npublic class PhotoRepository {\r\n\r\n    @Autowired\r\n    private DynamoDBMapper dynamoDBMapper = null;\r\n\r\n    public List&lt;Photo&gt; findByIds(Collection&lt;String&gt; photoIds) {\r\n        //Constructing `KeyPair` instance and setting the HashKey,\r\n        // in this example I have only hash key,\r\n        // if you have RangeKey(Sort) you can set that also here using KeyPair#withRangeKey\r\n\r\n        List&lt;KeyPair&gt; keyPairs = photoIds.stream()\r\n                                         .map(id -&gt; new KeyPair().withHashKey(id))\r\n                                         .collect(Collectors.toList());\r\n\r\n        //Creating Map where Key as Class&lt;?&gt; and value as a list of created keyPairs \r\n        //you can also directly use batchLoad(List&lt;Photo&gt; itemsToGet), the only constraint \r\n        //is if you didn&#39;t specify the Type as key and simply using the \r\n        //DynamoDBMapper#batchLoad(Iterable&lt;? extends Object&gt; itemsToGet)\r\n        //then the Type of Iterable should have annotated with @DynamoDBTable\r\n\r\n\r\n        Map&lt;Class&lt;?&gt;, List&lt;KeyPair&gt;&gt; keyPairForTable = new HashMap&lt;&gt;();\r\n        keyPairForTable.put(Photo.class, keyPairs);\r\n        Map&lt;String, List&lt;Object&gt;&gt; listMap = dynamoDBMapper.batchLoad(keyPairForTable);\r\n\r\n        //result map contains key as dynamoDBtable name of Photo.class\r\n        //entity(test_photo) and values as matching results of given ids\r\n\r\n        String tableName = dynamoDBMapper.generateCreateTableRequest(Photo.class)\r\n                                         .getTableName();\r\n        return listMap.get(tableName).stream()\r\n                                     .map(e -&gt; (Photo) e)\r\n                                     .collect(Collectors.toList());\r\n    }\r\n}\r\n\r\n```\r\n\r\n - **Test Class**\r\n\r\n```\r\n\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\r\nimport com.amazonaws.services.dynamodbv2.document.DynamoDB;\r\nimport com.amazonaws.services.dynamodbv2.document.Table;\r\nimport com.amazonaws.services.dynamodbv2.document.TableCollection;\r\nimport com.amazonaws.services.dynamodbv2.model.CreateTableRequest;\r\nimport com.amazonaws.services.dynamodbv2.model.ListTablesRequest;\r\nimport com.amazonaws.services.dynamodbv2.model.ListTablesResult;\r\nimport com.amazonaws.services.dynamodbv2.model.ProvisionedThroughput;\r\nimport com.test.demo.dynamodb.Application;\r\nimport com.test.demo.dynamodb.entity.Photo;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = Application.class,\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class DynamoDBFindByIdsITest {\r\n\r\n    @Autowired\r\n    private DynamoDBMapper dynamoDBMapper = null;\r\n\r\n    @Autowired\r\n    private DynamoDB dynamoDB = null;\r\n\r\n    @Autowired\r\n    private PhotoRepository photoRepository = null;\r\n\r\n\r\n    @Test\r\n    void findByIdsTest() throws InterruptedException {\r\n        //Creating dynamodb table if not already exists\r\n        createDataTableIfNotExists(&quot;test&quot;, Photo.class);\r\n        int size = 5;\r\n        //creating dummy entries for test and persisting and collecting it to\r\n        //validate with results\r\n        List&lt;Photo&gt; photos = IntStream.range(0, size)\r\n                .mapToObj(e -&gt; UUID.randomUUID().toString())\r\n                .map(id -&gt;\r\n                        Photo.builder()\r\n                                .id(id)\r\n                                .title(&quot;Dummy title&quot;)\r\n                                .url(&quot;http://photos.info/&quot; + id)\r\n                                .thumbnailUrl(&quot;http://photos.info/thumbnails/&quot; + id)\r\n                                .build()\r\n                ).peek(dynamoDBMapper::save)\r\n                .collect(Collectors.toList());\r\n\r\n        //calling findByIds with the Collection of HashKey ids (Partition Key Ids)\r\n        Set&lt;String&gt; photoIds = photos.stream()\r\n                .map(Photo::getId)\r\n                .collect(Collectors.toSet());\r\n        List&lt;Photo&gt; photosResultSet = photoRepository.findByIds(photoIds);\r\n\r\n        Assertions.assertEquals(size, photosResultSet.size());\r\n\r\n        //validating returned photoIds with the created Ids\r\n        Set&lt;String&gt; resultedPhotoIds = photosResultSet.stream()\r\n                .map(Photo::getId)\r\n                .collect(Collectors.toSet());\r\n        Assertions.assertTrue(photoIds.containsAll(resultedPhotoIds));\r\n    }\r\n\r\n    public &lt;T&gt; void createDataTableIfNotExists(String tablePrefix, Class&lt;T&gt; clazz)\r\n            throws InterruptedException {\r\n        ListTablesRequest listTablesRequest = new ListTablesRequest();\r\n        listTablesRequest.setExclusiveStartTableName(tablePrefix);\r\n        TableCollection&lt;ListTablesResult&gt; tables = dynamoDB.listTables();\r\n        List&lt;String&gt; tablesList = new ArrayList&lt;&gt;();\r\n        tables.forEach((tableResult) -&gt; {\r\n            tablesList.add(tableResult.getTableName());\r\n        });\r\n        String tableName = dynamoDBMapper.generateCreateTableRequest(clazz).getTableName();\r\n        if (!tablesList.contains(tableName)) {\r\n            CreateTableRequest tableRequest = dynamoDBMapper.generateCreateTableRequest(clazz);\r\n            tableRequest.withProvisionedThroughput(new ProvisionedThroughput(5L, 5L));\r\n            Table table = dynamoDB.createTable(tableRequest);\r\n            table.waitForActive();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>Sharing my working answer for posterity. As of Oct 2020, there is a way to query multiple hash keys using a single query using <code>aws-java-sdk-dynamodb-1.11.813.jar</code>. I had the same requirement where I had to select items based on multiple hash keys(partition keys), and you can relate the requirement with the RDMS scenario, similar to the query <code>select * from photo where id in ('id1','id2','id3')</code>, here id is the primary key of the <code>photo</code> table.</p>\n<p><em><strong>Code Snippet</strong></em></p>\n<ul>\n<li><strong>DynamoDB entity</strong></li>\n</ul>\n<pre><code>package com.test.demo.dynamodb.entity;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.NoArgsConstructor;\n\nimport java.io.Serializable;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@lombok.Data\n@DynamoDBTable(tableName = &quot;test_photos&quot;)\n@Builder\npublic class Photo implements Serializable {\n    @DynamoDBHashKey\n    private String id;\n    private String title;\n    private String url;\n    private String thumbnailUrl;\n}\n\n</code></pre>\n<ul>\n<li><strong>DynamoDB Repository Class</strong></li>\n</ul>\n<pre><code>import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\nimport com.amazonaws.services.dynamodbv2.datamodeling.KeyPair;\nimport com.test.demo.dynamodb.entity.Photo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\n@Repository\npublic class PhotoRepository {\n\n    @Autowired\n    private DynamoDBMapper dynamoDBMapper = null;\n\n    public List&lt;Photo&gt; findByIds(Collection&lt;String&gt; photoIds) {\n        //Constructing `KeyPair` instance and setting the HashKey,\n        // in this example I have only hash key,\n        // if you have RangeKey(Sort) you can set that also here using KeyPair#withRangeKey\n\n        List&lt;KeyPair&gt; keyPairs = photoIds.stream()\n                                         .map(id -&gt; new KeyPair().withHashKey(id))\n                                         .collect(Collectors.toList());\n\n        //Creating Map where Key as Class&lt;?&gt; and value as a list of created keyPairs \n        //you can also directly use batchLoad(List&lt;Photo&gt; itemsToGet), the only constraint \n        //is if you didn't specify the Type as key and simply using the \n        //DynamoDBMapper#batchLoad(Iterable&lt;? extends Object&gt; itemsToGet)\n        //then the Type of Iterable should have annotated with @DynamoDBTable\n\n\n        Map&lt;Class&lt;?&gt;, List&lt;KeyPair&gt;&gt; keyPairForTable = new HashMap&lt;&gt;();\n        keyPairForTable.put(Photo.class, keyPairs);\n        Map&lt;String, List&lt;Object&gt;&gt; listMap = dynamoDBMapper.batchLoad(keyPairForTable);\n\n        //result map contains key as dynamoDBtable name of Photo.class\n        //entity(test_photo) and values as matching results of given ids\n\n        String tableName = dynamoDBMapper.generateCreateTableRequest(Photo.class)\n                                         .getTableName();\n        return listMap.get(tableName).stream()\n                                     .map(e -&gt; (Photo) e)\n                                     .collect(Collectors.toList());\n    }\n}\n\n</code></pre>\n<ul>\n<li><strong>Test Class</strong></li>\n</ul>\n<pre><code>\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\nimport com.amazonaws.services.dynamodbv2.document.DynamoDB;\nimport com.amazonaws.services.dynamodbv2.document.Table;\nimport com.amazonaws.services.dynamodbv2.document.TableCollection;\nimport com.amazonaws.services.dynamodbv2.model.CreateTableRequest;\nimport com.amazonaws.services.dynamodbv2.model.ListTablesRequest;\nimport com.amazonaws.services.dynamodbv2.model.ListTablesResult;\nimport com.amazonaws.services.dynamodbv2.model.ProvisionedThroughput;\nimport com.test.demo.dynamodb.Application;\nimport com.test.demo.dynamodb.entity.Photo;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.UUID;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = Application.class,\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class DynamoDBFindByIdsITest {\n\n    @Autowired\n    private DynamoDBMapper dynamoDBMapper = null;\n\n    @Autowired\n    private DynamoDB dynamoDB = null;\n\n    @Autowired\n    private PhotoRepository photoRepository = null;\n\n\n    @Test\n    void findByIdsTest() throws InterruptedException {\n        //Creating dynamodb table if not already exists\n        createDataTableIfNotExists(&quot;test&quot;, Photo.class);\n        int size = 5;\n        //creating dummy entries for test and persisting and collecting it to\n        //validate with results\n        List&lt;Photo&gt; photos = IntStream.range(0, size)\n                .mapToObj(e -&gt; UUID.randomUUID().toString())\n                .map(id -&gt;\n                        Photo.builder()\n                                .id(id)\n                                .title(&quot;Dummy title&quot;)\n                                .url(&quot;http://photos.info/&quot; + id)\n                                .thumbnailUrl(&quot;http://photos.info/thumbnails/&quot; + id)\n                                .build()\n                ).peek(dynamoDBMapper::save)\n                .collect(Collectors.toList());\n\n        //calling findByIds with the Collection of HashKey ids (Partition Key Ids)\n        Set&lt;String&gt; photoIds = photos.stream()\n                .map(Photo::getId)\n                .collect(Collectors.toSet());\n        List&lt;Photo&gt; photosResultSet = photoRepository.findByIds(photoIds);\n\n        Assertions.assertEquals(size, photosResultSet.size());\n\n        //validating returned photoIds with the created Ids\n        Set&lt;String&gt; resultedPhotoIds = photosResultSet.stream()\n                .map(Photo::getId)\n                .collect(Collectors.toSet());\n        Assertions.assertTrue(photoIds.containsAll(resultedPhotoIds));\n    }\n\n    public &lt;T&gt; void createDataTableIfNotExists(String tablePrefix, Class&lt;T&gt; clazz)\n            throws InterruptedException {\n        ListTablesRequest listTablesRequest = new ListTablesRequest();\n        listTablesRequest.setExclusiveStartTableName(tablePrefix);\n        TableCollection&lt;ListTablesResult&gt; tables = dynamoDB.listTables();\n        List&lt;String&gt; tablesList = new ArrayList&lt;&gt;();\n        tables.forEach((tableResult) -&gt; {\n            tablesList.add(tableResult.getTableName());\n        });\n        String tableName = dynamoDBMapper.generateCreateTableRequest(clazz).getTableName();\n        if (!tablesList.contains(tableName)) {\n            CreateTableRequest tableRequest = dynamoDBMapper.generateCreateTableRequest(clazz);\n            tableRequest.withProvisionedThroughput(new ProvisionedThroughput(5L, 5L));\n            Table table = dynamoDB.createTable(tableRequest);\n            table.waitForActive();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9587987,"reputation":91,"user_id":7119977,"display_name":"Mikhail Poplavkov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1647607460,"creation_date":1647607460,"answer_id":71527212,"question_id":17663695,"body_markdown":"Sharing my openings as of today.\r\n\r\n# GetItem, Query, Scan\r\nUsing normal DynamoDB operations you&#39;re allowed to query either only one hash key per request (using `GetItem` or `Query` operations) or all hash keys at once (using the `Scan` operation).\r\n\r\n# BatchGetItem\r\nYou can utilize the `BatchGetItem` operation, but it requires you to specify a full primary key (including the range key if you have one).\r\n\r\n# PartiQL\r\nSince recently you can also use [PartiQL][1] - a query language supported by AWS to query DynamoDB tables. Using it, you can query several hash keys, using, for example, the `IN` operator:\r\n```sql\r\nSELECT * FROM  &quot;table_name&quot; WHERE &quot;status&quot; IN [&#39;assigned&#39;, &#39;processing&#39;];\r\n```\r\nI used PartiQL in my Python code, not Java, so that I cannot provide implementation details. But it should be quite easy to find since you know that you need yo use PartiQL. I&#39;ll leave here a [reference][2] for Python, just in case.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.html\r\n  [2]: https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb.html#DynamoDB.Client.execute_statement","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>Sharing my openings as of today.</p>\n<h1>GetItem, Query, Scan</h1>\n<p>Using normal DynamoDB operations you're allowed to query either only one hash key per request (using <code>GetItem</code> or <code>Query</code> operations) or all hash keys at once (using the <code>Scan</code> operation).</p>\n<h1>BatchGetItem</h1>\n<p>You can utilize the <code>BatchGetItem</code> operation, but it requires you to specify a full primary key (including the range key if you have one).</p>\n<h1>PartiQL</h1>\n<p>Since recently you can also use <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.html\" rel=\"noreferrer\">PartiQL</a> - a query language supported by AWS to query DynamoDB tables. Using it, you can query several hash keys, using, for example, the <code>IN</code> operator:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM  &quot;table_name&quot; WHERE &quot;status&quot; IN ['assigned', 'processing'];\n</code></pre>\n<p>I used PartiQL in my Python code, not Java, so that I cannot provide implementation details. But it should be quite easy to find since you know that you need yo use PartiQL. I'll leave here a <a href=\"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb.html#DynamoDB.Client.execute_statement\" rel=\"noreferrer\">reference</a> for Python, just in case.</p>\n"}],"owner":{"account_id":2074554,"reputation":2139,"user_id":1848286,"accept_rate":80,"display_name":"DGolberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55402,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":17849022,"answer_count":7,"score":27,"last_activity_date":1647607460,"creation_date":1373921443,"question_id":17663695,"body_markdown":"Is there a way to query multiple hash keys using a single query in Amazon&#39;s AWS SDK for Java?  \r\n\r\nHere&#39;s my issue; I have a DB table for project statuses.  The Hash Key is the status of a project (ie: new, assigned, processing, or complete).  The range key is a set of project IDs.  Currently, I&#39;ve got a query setup to simply find all the projects listed as a status(hash) of &quot;assigned&quot; and another query set to look for a status of &quot;processing&quot;.  Is there a way to do this using a single query rather than sending multiple queries for each status I need to find?  Code below:\r\n\r\n    \r\n\t\tDynamoDBMapper mapper = new DynamoDBMapper(new AmazonDynamoDBClient(credentials));\r\n\t\tPStatus assignedStatus = new PStatus();\r\n\t\tassignedStatus.setStatus(&quot;assigned&quot;);\r\n\t\tPStatus processStatus = new PStatus();\r\n\t\tprocessStatus.setStatus(&quot;processing&quot;);\r\n\r\n\t\tDynamoDBQueryExpression&lt;PStatus&gt; queryAssigned = new DynamoDBQueryExpression&lt;PStatus&gt;().withHashKeyValues(assignedStatus);\r\n\t\tDynamoDBQueryExpression&lt;PStatus&gt; queryProcessing = new DynamoDBQueryExpression&lt;PStatus&gt;().withHashKeyValues(processStatus);\r\n\r\n\t\tList&lt;PStatus&gt; assigned = mapper.query(PStatus.class, queryAssigned);\r\n\t\tList&lt;PStatus&gt; process = mapper.query(PStatus.class, queryProcessing);\r\n\r\nSo basically, I&#39;d like to know if it&#39;s possible to eliminate the `queryAssigned` and `assigned` variables and handle both `assignedStatus` and `processStatus` via the same query, `process`, to find projects that are not new or complete.","title":"Is there a way to query multiple hash keys in DynamoDB?","body":"<p>Is there a way to query multiple hash keys using a single query in Amazon's AWS SDK for Java?  </p>\n\n<p>Here's my issue; I have a DB table for project statuses.  The Hash Key is the status of a project (ie: new, assigned, processing, or complete).  The range key is a set of project IDs.  Currently, I've got a query setup to simply find all the projects listed as a status(hash) of \"assigned\" and another query set to look for a status of \"processing\".  Is there a way to do this using a single query rather than sending multiple queries for each status I need to find?  Code below:</p>\n\n<pre><code>    DynamoDBMapper mapper = new DynamoDBMapper(new AmazonDynamoDBClient(credentials));\n    PStatus assignedStatus = new PStatus();\n    assignedStatus.setStatus(\"assigned\");\n    PStatus processStatus = new PStatus();\n    processStatus.setStatus(\"processing\");\n\n    DynamoDBQueryExpression&lt;PStatus&gt; queryAssigned = new DynamoDBQueryExpression&lt;PStatus&gt;().withHashKeyValues(assignedStatus);\n    DynamoDBQueryExpression&lt;PStatus&gt; queryProcessing = new DynamoDBQueryExpression&lt;PStatus&gt;().withHashKeyValues(processStatus);\n\n    List&lt;PStatus&gt; assigned = mapper.query(PStatus.class, queryAssigned);\n    List&lt;PStatus&gt; process = mapper.query(PStatus.class, queryProcessing);\n</code></pre>\n\n<p>So basically, I'd like to know if it's possible to eliminate the <code>queryAssigned</code> and <code>assigned</code> variables and handle both <code>assignedStatus</code> and <code>processStatus</code> via the same query, <code>process</code>, to find projects that are not new or complete.</p>\n"},{"tags":["java","spring","string","spring-boot","url"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1647607370,"post_id":71527171,"comment_id":126419102,"body_markdown":"move the StringBuilder inside the loop","body":"move the StringBuilder inside the loop"},{"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"score":0,"creation_date":1647607899,"post_id":71527171,"comment_id":126419305,"body_markdown":"Yeah it works now, when i moved string builder in for loop. However, is this a good practice? should i create new instance of string builder everytime i run though loop?","body":"Yeah it works now, when i moved string builder in for loop. However, is this a good practice? should i create new instance of string builder everytime i run though loop?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1647608393,"post_id":71527171,"comment_id":126419471,"body_markdown":"You shouldn&#39;t be using `StringBuilder` in a way like `new StringBuilder(&quot;foo&quot; + bar + &quot;bam&quot;)`. Notice that `&quot;foo&quot; + bar + &quot;bam&quot;` already creates a string which you are passing to StringBuilder. But to create such string compiler will need to generate code equivalent to something like `new StrinBuilder(new StringBuilder(&quot;foo&quot;).append(bar).append(&quot;bam&quot;).toString())` so two StringBuilder objects will be created which will be inefficient (the outer one is simply no longer needed). In short don&#39;t use concatenation operator `+` on StringBuilder, use `append` instead.","body":"You shouldn&#39;t be using <code>StringBuilder</code> in a way like <code>new StringBuilder(&quot;foo&quot; + bar + &quot;bam&quot;)</code>. Notice that <code>&quot;foo&quot; + bar + &quot;bam&quot;</code> already creates a string which you are passing to StringBuilder. But to create such string compiler will need to generate code equivalent to something like <code>new StrinBuilder(new StringBuilder(&quot;foo&quot;).append(bar).append(&quot;bam&quot;).toString())</code> so two StringBuilder objects will be created which will be inefficient (the outer one is simply no longer needed). In short don&#39;t use concatenation operator <code>+</code> on StringBuilder, use <code>append</code> instead."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1647608397,"post_id":71527171,"comment_id":126419472,"body_markdown":"Anyway we use StringBuilder in a loop when we want to dynamically *add* new value to string which is built. In your case you want to *replace* some content of string so using StringBuilder is not required. Simple `String currentURL = GAME_URL + &quot;/&quot; + (GAME_ID++) + &quot;?key=&quot; + API_KEY;` in a loop should be enough.","body":"Anyway we use StringBuilder in a loop when we want to dynamically <i>add</i> new value to string which is built. In your case you want to <i>replace</i> some content of string so using StringBuilder is not required. Simple <code>String currentURL = GAME_URL + &quot;&#47;&quot; + (GAME_ID++) + &quot;?key=&quot; + API_KEY;</code> in a loop should be enough."}],"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647607272,"creation_date":1647607272,"question_id":71527171,"body_markdown":"So I am trying to get the information from a specific API and copy it&#39;s data in my database (for test purposes). \r\nHere is my code so far: \r\n    \r\n    private static final String GAME_URL = &quot;https://api.rawg.io/api/games&quot;;\r\n    private static final String API_KEY = &quot;250b2de5e7734f638760ae2bad9bd29f&quot;;\r\n    private int GAME_ID = 1;\r\n    private StringBuilder URL = new StringBuilder(GAME_URL + &quot;/&quot; + GAME_ID + &quot;?key=&quot; + API_KEY);\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    private final GameService gameService;\r\n\r\n    public FetchGameApiService(GameService gameService) {\r\n        this.gameService = gameService;\r\n    }\r\n\r\n\r\n    @PostConstruct\r\n    public void getGameById(){\r\n        for (int i = 1; i &lt;= 100; i++) {\r\n            GameDto gameDto = restTemplate.getForObject(URL.toString(), GameDto.class);\r\n            if(!checkIfGameValidity(gameDto.getName())){\r\n                gameService.saveGame(gameDto);\r\n            }\r\n            GAME_ID++;\r\n        }\r\n    }\r\n\r\nIt seems interesting that for each loop the Game_ID is increasing, however the url always stays the same (instead of api/games/2 or api/games/3 it always stays api/games/1).\r\nMy question is the following: how can I fix this problem? does it have something to do with Strings? and also is this a proper way to loop though an api and store it in the  database? ","title":"Proper way to change URL address with loop","body":"<p>So I am trying to get the information from a specific API and copy it's data in my database (for test purposes).\nHere is my code so far:</p>\n<pre><code>private static final String GAME_URL = &quot;https://api.rawg.io/api/games&quot;;\nprivate static final String API_KEY = &quot;250b2de5e7734f638760ae2bad9bd29f&quot;;\nprivate int GAME_ID = 1;\nprivate StringBuilder URL = new StringBuilder(GAME_URL + &quot;/&quot; + GAME_ID + &quot;?key=&quot; + API_KEY);\n\n@Autowired\nprivate RestTemplate restTemplate;\n\nprivate final GameService gameService;\n\npublic FetchGameApiService(GameService gameService) {\n    this.gameService = gameService;\n}\n\n\n@PostConstruct\npublic void getGameById(){\n    for (int i = 1; i &lt;= 100; i++) {\n        GameDto gameDto = restTemplate.getForObject(URL.toString(), GameDto.class);\n        if(!checkIfGameValidity(gameDto.getName())){\n            gameService.saveGame(gameDto);\n        }\n        GAME_ID++;\n    }\n}\n</code></pre>\n<p>It seems interesting that for each loop the Game_ID is increasing, however the url always stays the same (instead of api/games/2 or api/games/3 it always stays api/games/1).\nMy question is the following: how can I fix this problem? does it have something to do with Strings? and also is this a proper way to loop though an api and store it in the  database?</p>\n"},{"tags":["java","spring-boot","aerospike"],"comments":[{"owner":{"account_id":355705,"reputation":2814,"user_id":4147181,"display_name":"Meher"},"score":0,"creation_date":1647379412,"post_id":71483324,"comment_id":126355706,"body_markdown":"Seems the client didn&#39;t connect to the cluster... Is(are) the seed(s) node(s) reachable? I am not Java developer and don&#39;t understand the @Autowired annotation, but how is the client object instantiated? You would have to have provided seed node(s) for it to find and connect to a cluster.","body":"Seems the client didn&#39;t connect to the cluster... Is(are) the seed(s) node(s) reachable? I am not Java developer and don&#39;t understand the @Autowired annotation, but how is the client object instantiated? You would have to have provided seed node(s) for it to find and connect to a cluster."},{"owner":{"account_id":21063912,"reputation":23,"user_id":15481702,"display_name":"PLalit"},"score":0,"creation_date":1647409256,"post_id":71483324,"comment_id":126360788,"body_markdown":"This is how client object is instantiated : new AerospikeClient(hostName,port);\n\nAlso cluster is empty exception occurs for few random requests.","body":"This is how client object is instantiated : new AerospikeClient(hostName,port);  Also cluster is empty exception occurs for few random requests."},{"owner":{"account_id":355705,"reputation":2814,"user_id":4147181,"display_name":"Meher"},"score":0,"creation_date":1647545250,"post_id":71483324,"comment_id":126404587,"body_markdown":"Make sure you do check the logs to see if the client is properly reaching the cluster every time the AerospikeClient object is instantiated.","body":"Make sure you do check the logs to see if the client is properly reaching the cluster every time the AerospikeClient object is instantiated."}],"answers":[{"tags":[],"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647607107,"creation_date":1647607107,"answer_id":71527136,"question_id":71483324,"body_markdown":"Not sure if thats exactly your case, but few years ago there was a similar case of &quot;Error -3: InvalidNode&quot; exception on few of the requests - after investigating the user found that it was a network issue (spikes caused 200Mbps while the network channel size they had was 100Mbps).\r\n\r\nyou can read about it here: https://discuss.aerospike.com/t/aerospike-c-client-error-code-3/4160/5","title":"Aerospike Java Client Error Message : Error -3,1,0,30000,0,2: Cluster is empty","body":"<p>Not sure if thats exactly your case, but few years ago there was a similar case of &quot;Error -3: InvalidNode&quot; exception on few of the requests - after investigating the user found that it was a network issue (spikes caused 200Mbps while the network channel size they had was 100Mbps).</p>\n<p>you can read about it here: <a href=\"https://discuss.aerospike.com/t/aerospike-c-client-error-code-3/4160/5\" rel=\"nofollow noreferrer\">https://discuss.aerospike.com/t/aerospike-c-client-error-code-3/4160/5</a></p>\n"}],"owner":{"account_id":21063912,"reputation":23,"user_id":15481702,"display_name":"PLalit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647607107,"creation_date":1647351897,"question_id":71483324,"body_markdown":"Reading record from aerospike gives cluster is empty exception.Also the error occurs for few requests. Operations(read/write) are working fine for most of the requests but few requests randomly gives this exception\r\n\r\ncom.aerospike.client.AerospikeException$InvalidNode: Error -3,1,0,30000,0,2: Cluster is empty\r\n\r\nI am using java client version 5.1.11\r\n\r\nBelow is the code to read :\r\n\r\nnew AerospikeClient(hostName,port);\r\n\r\n@Autowired\r\nprivate AerospikeClient client;\r\n\r\nclient.get(policy, key);","title":"Aerospike Java Client Error Message : Error -3,1,0,30000,0,2: Cluster is empty","body":"<p>Reading record from aerospike gives cluster is empty exception.Also the error occurs for few requests. Operations(read/write) are working fine for most of the requests but few requests randomly gives this exception</p>\n<p>com.aerospike.client.AerospikeException$InvalidNode: Error -3,1,0,30000,0,2: Cluster is empty</p>\n<p>I am using java client version 5.1.11</p>\n<p>Below is the code to read :</p>\n<p>new AerospikeClient(hostName,port);</p>\n<p>@Autowired\nprivate AerospikeClient client;</p>\n<p>client.get(policy, key);</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647603503,"post_id":71526244,"comment_id":126417966,"body_markdown":"This is consistent with ext4:  I can use a `mv` command in Linux on a file which has no write permissions (or has no permissions at all, in fact).  Putting the file in a directory which you cannot read or list may accomplish what you want.","body":"This is consistent with ext4:  I can use a <code>mv</code> command in Linux on a file which has no write permissions (or has no permissions at all, in fact).  Putting the file in a directory which you cannot read or list may accomplish what you want."}],"answers":[{"tags":[],"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647607061,"creation_date":1647607061,"answer_id":71527128,"question_id":71526244,"body_markdown":"Solution\r\n\r\nThis example demonstrates how to make a file read-only by using file.setReadOnly() and file.canWrite() methods of File class.\r\n\r\n    import java.io.File;\r\n    \r\n    public class Main {\r\n       public static void main(String[] args) {\r\n          File file = new File(&quot;C:/java.txt&quot;);\r\n          System.out.println(file.setReadOnly());\r\n          System.out.println(file.canWrite());\r\n       }\r\n    }\r\n\r\nResult\r\n\r\nThe above code sample will produce the following result.To test the example,first create a file &#39;java.txt&#39; in &#39;C&#39; drive.\r\n\r\ntrue\r\n\r\nfalse","title":"Files.move on a unwritable file throws AccessDeniedException on Windows but not Linux","body":"<p>Solution</p>\n<p>This example demonstrates how to make a file read-only by using file.setReadOnly() and file.canWrite() methods of File class.</p>\n<pre><code>import java.io.File;\n\npublic class Main {\n   public static void main(String[] args) {\n      File file = new File(&quot;C:/java.txt&quot;);\n      System.out.println(file.setReadOnly());\n      System.out.println(file.canWrite());\n   }\n}\n</code></pre>\n<p>Result</p>\n<p>The above code sample will produce the following result.To test the example,first create a file 'java.txt' in 'C' drive.</p>\n<p>true</p>\n<p>false</p>\n"}],"owner":{"account_id":20456749,"reputation":391,"user_id":15010215,"display_name":"clueless waffle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1647607061,"creation_date":1647602250,"question_id":71526244,"body_markdown":"I am currently using `Files.move(src, dest, StandardCopyOption.REPLACE_EXISTING)`. My unit test passes on Windows but fails on Linux:\r\n```java\r\nvoid test() throws IOException {\r\n  FIle unwritableFile = new File(TEST_DIR, UNWRITABLE_FILE);\r\n  unwritableFile.createNewFile();\r\n  unwritableFile.setReadOnly();\r\n  // execute method that calls Files.move\r\n```\r\nWhy is AccessDeniedException not being thrown on Linux? How do I create an unwritable file for both OS such that it throws on both OSes?","title":"Files.move on a unwritable file throws AccessDeniedException on Windows but not Linux","body":"<p>I am currently using <code>Files.move(src, dest, StandardCopyOption.REPLACE_EXISTING)</code>. My unit test passes on Windows but fails on Linux:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void test() throws IOException {\n  FIle unwritableFile = new File(TEST_DIR, UNWRITABLE_FILE);\n  unwritableFile.createNewFile();\n  unwritableFile.setReadOnly();\n  // execute method that calls Files.move\n</code></pre>\n<p>Why is AccessDeniedException not being thrown on Linux? How do I create an unwritable file for both OS such that it throws on both OSes?</p>\n"},{"tags":["java","loops","average"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1647604335,"post_id":71526515,"comment_id":126418207,"body_markdown":"You have an average calculation there already. What problem are you observing with the code you have posted?","body":"You have an average calculation there already. What problem are you observing with the code you have posted?"}],"answers":[{"tags":[],"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647604899,"creation_date":1647604899,"answer_id":71526749,"question_id":71526515,"body_markdown":"The problem is that you do an extra \r\n\r\n    inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\r\n        number = Integer.parseInt(inputString);\r\n\r\nat the beginning. You don&#39;t count that in a sum. That&#39;s why you get unexpected results.\r\n\r\nThe fix would be:\r\n\r\n1. replace the declarations line with:\r\n\r\n    int number = 0, largestNumber, smallestNumber, amountOfNumbers;\r\n2. Remove \r\n\r\n    inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\r\n        number = Integer.parseInt(inputString);\r\nThat go before the loop\r\n3. Replace `for (amountOfNumbers = 0` with `for (amountOfNumbers = 1`","title":"A Java program with a loop that allows the user to enter a series of integers, then displays the smallest and largest numbers + the average","body":"<p>The problem is that you do an extra</p>\n<pre><code>inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\n    number = Integer.parseInt(inputString);\n</code></pre>\n<p>at the beginning. You don't count that in a sum. That's why you get unexpected results.</p>\n<p>The fix would be:</p>\n<ol>\n<li><p>replace the declarations line with:</p>\n<p>int number = 0, largestNumber, smallestNumber, amountOfNumbers;</p>\n</li>\n<li><p>Remove</p>\n<p>inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\nnumber = Integer.parseInt(inputString);\nThat go before the loop</p>\n</li>\n<li><p>Replace <code>for (amountOfNumbers = 0</code> with <code>for (amountOfNumbers = 1</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647607010,"creation_date":1647606705,"answer_id":71527064,"question_id":71526515,"body_markdown":"&gt;This is my first CS course\r\n\r\nThen allow me to show you a different way to do your assignment.\r\n\r\n* Don&#39;t use [JOptionPane][1] to get input from the user. Use a [Scanner][2] instead.\r\n* Rather than use a `for` loop, use a [do-while][3] loop.\r\n* Usually you declare variables when you need to use them so no need to declare all the variables at the start of the method. However, be aware of [variable scope][4].\r\n\r\n(Notes after the code.)\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LargestSmallest {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner stdin = new Scanner(System.in);\r\n        int largestNumber = Integer.MIN_VALUE;\r\n        int smallestNumber = Integer.MAX_VALUE;\r\n        int number;\r\n        double sum = 0;\r\n        int amountOfNumbers = 0;\r\n        do {\r\n            System.out.print(&quot;Enter an integer, or enter -99 to stop: &quot;);\r\n            number = stdin.nextInt();\r\n            if (number == -99) {\r\n                break;\r\n            }\r\n            if (number &gt; largestNumber) {\r\n                largestNumber = number;\r\n            }\r\n            if (number &lt; smallestNumber) {\r\n                smallestNumber = number;  \r\n            }\r\n            sum += number;\r\n            amountOfNumbers++;\r\n        } while (number != -99);\r\n\r\n        if (amountOfNumbers &gt; 0) {\r\n            double average = sum / amountOfNumbers;\r\n            System.out.printf(&quot;The smallest number is: %d.%n&quot;, smallestNumber);\r\n            System.out.printf(&quot;The largest number is: %d.%n&quot;, largestNumber);\r\n            System.out.printf(&quot;The average of all numbers is: %.4f.%n&quot;, average);\r\n        }\r\n    }\r\n}\r\n```\r\n* `largestNumber` is initialized to the smallest possible number so that it will be assigned the first entered number which must be larger than `largestNumber`.\r\n* Similarly, `smallestNumber` is initialized to the largest possible number.\r\n* If the first value entered is -99 then `amountOfNumbers` is zero and dividing by zero throws [ArithmeticException][5] (but maybe you haven&#39;t learned about [exceptions][6] yet). Hence, after the `do-while` loop, there is a check to see whether at least one number (that isn&#39;t -99) was entered.\r\n* You don&#39;t need to use [printf][7] to display the results. I&#39;m just showing you that option.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ArithmeticException.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\r\n  [7]: https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"A Java program with a loop that allows the user to enter a series of integers, then displays the smallest and largest numbers + the average","body":"<blockquote>\n<p>This is my first CS course</p>\n</blockquote>\n<p>Then allow me to show you a different way to do your assignment.</p>\n<ul>\n<li>Don't use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">JOptionPane</a> to get input from the user. Use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a> instead.</li>\n<li>Rather than use a <code>for</code> loop, use a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">do-while</a> loop.</li>\n<li>Usually you declare variables when you need to use them so no need to declare all the variables at the start of the method. However, be aware of <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">variable scope</a>.</li>\n</ul>\n<p>(Notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LargestSmallest {\n\n    public static void main(String[] args) {\n        Scanner stdin = new Scanner(System.in);\n        int largestNumber = Integer.MIN_VALUE;\n        int smallestNumber = Integer.MAX_VALUE;\n        int number;\n        double sum = 0;\n        int amountOfNumbers = 0;\n        do {\n            System.out.print(&quot;Enter an integer, or enter -99 to stop: &quot;);\n            number = stdin.nextInt();\n            if (number == -99) {\n                break;\n            }\n            if (number &gt; largestNumber) {\n                largestNumber = number;\n            }\n            if (number &lt; smallestNumber) {\n                smallestNumber = number;  \n            }\n            sum += number;\n            amountOfNumbers++;\n        } while (number != -99);\n\n        if (amountOfNumbers &gt; 0) {\n            double average = sum / amountOfNumbers;\n            System.out.printf(&quot;The smallest number is: %d.%n&quot;, smallestNumber);\n            System.out.printf(&quot;The largest number is: %d.%n&quot;, largestNumber);\n            System.out.printf(&quot;The average of all numbers is: %.4f.%n&quot;, average);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li><code>largestNumber</code> is initialized to the smallest possible number so that it will be assigned the first entered number which must be larger than <code>largestNumber</code>.</li>\n<li>Similarly, <code>smallestNumber</code> is initialized to the largest possible number.</li>\n<li>If the first value entered is -99 then <code>amountOfNumbers</code> is zero and dividing by zero throws <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ArithmeticException.html\" rel=\"nofollow noreferrer\">ArithmeticException</a> (but maybe you haven't learned about <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">exceptions</a> yet). Hence, after the <code>do-while</code> loop, there is a check to see whether at least one number (that isn't -99) was entered.</li>\n<li>You don't need to use <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"nofollow noreferrer\">printf</a> to display the results. I'm just showing you that option.</li>\n</ul>\n"}],"owner":{"account_id":24600156,"reputation":7,"user_id":18503134,"display_name":"ja_ray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8506,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1647607010,"creation_date":1647603579,"question_id":71526515,"body_markdown":"I&#39;ve got an assignment that requires me to use a loop in a program that asks the user to enter a series of integers, then displays the smallest and largest numbers AND gives an average. I&#39;m able to write the code that allows the user to enter however many integers they like, then displays the smallest and largest number entered. What stumps me is calculating the average based on their input. Can anyone help? I&#39;m sorry if my code is a little janky. This is my first CS course and I&#39;m by no means an expert.\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\nimport java.io.*;\r\n\r\npublic class LargestSmallest \r\n{\r\n    public static void main(String[] args)    \r\n    \r\n    {\r\n        int number, largestNumber, smallestNumber, amountOfNumbers;\r\n        double sum, average;\r\n        String inputString;\r\n\r\n        inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\r\n        number = Integer.parseInt(inputString);\r\n\r\n        largestNumber = number;\r\n        smallestNumber = number;\r\n\r\n        sum = 0;\r\n\r\n        for (amountOfNumbers = 1; number != -99; amountOfNumbers++)\r\n            {\r\n                inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\r\n                number = Integer.parseInt(inputString);\r\n                \r\n\r\n                if (number == -99)\r\n                    break;\r\n                if (number &gt; largestNumber)\r\n                    largestNumber = number;\r\n                if (number &lt; smallestNumber)\r\n                    smallestNumber = number;  \r\n                \r\n                sum += number;\r\n            }\r\n\r\n            average = sum / amountOfNumbers;\r\n\r\n        JOptionPane.showMessageDialog(null, &quot;The smallest number is: &quot; + smallestNumber + &quot;.&quot;);\r\n\r\n        JOptionPane.showMessageDialog(null, &quot;The largest number is: &quot; + largestNumber + &quot;.&quot;);\r\n\r\n        JOptionPane.showMessageDialog(null, &quot;The average off all numbers is: &quot; + average + &quot;.&quot;);\r\n\r\n\r\n    }\r\n}\r\n```","title":"A Java program with a loop that allows the user to enter a series of integers, then displays the smallest and largest numbers + the average","body":"<p>I've got an assignment that requires me to use a loop in a program that asks the user to enter a series of integers, then displays the smallest and largest numbers AND gives an average. I'm able to write the code that allows the user to enter however many integers they like, then displays the smallest and largest number entered. What stumps me is calculating the average based on their input. Can anyone help? I'm sorry if my code is a little janky. This is my first CS course and I'm by no means an expert.</p>\n<pre><code>import javax.swing.JOptionPane;\nimport java.io.*;\n\npublic class LargestSmallest \n{\n    public static void main(String[] args)    \n    \n    {\n        int number, largestNumber, smallestNumber, amountOfNumbers;\n        double sum, average;\n        String inputString;\n\n        inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\n        number = Integer.parseInt(inputString);\n\n        largestNumber = number;\n        smallestNumber = number;\n\n        sum = 0;\n\n        for (amountOfNumbers = 1; number != -99; amountOfNumbers++)\n            {\n                inputString = JOptionPane.showInputDialog(&quot;Enter an integer, or enter -99 to stop.&quot;);\n                number = Integer.parseInt(inputString);\n                \n\n                if (number == -99)\n                    break;\n                if (number &gt; largestNumber)\n                    largestNumber = number;\n                if (number &lt; smallestNumber)\n                    smallestNumber = number;  \n                \n                sum += number;\n            }\n\n            average = sum / amountOfNumbers;\n\n        JOptionPane.showMessageDialog(null, &quot;The smallest number is: &quot; + smallestNumber + &quot;.&quot;);\n\n        JOptionPane.showMessageDialog(null, &quot;The largest number is: &quot; + largestNumber + &quot;.&quot;);\n\n        JOptionPane.showMessageDialog(null, &quot;The average off all numbers is: &quot; + average + &quot;.&quot;);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1238928958,"creation_date":1238928958,"answer_id":718746,"question_id":718742,"body_markdown":"Possible - yes.\r\n\r\nBut why on earth would you want to do such a thing? I see no reason whatsoever for a panel to have 500 components.","title":"Is it possible to add more than 500 components to a panel at runtime in Java?","body":"<p>Possible - yes.</p>\n\n<p>But why on earth would you want to do such a thing? I see no reason whatsoever for a panel to have 500 components.</p>\n"},{"tags":[],"owner":{"account_id":31179,"reputation":3051,"user_id":85418,"display_name":"Matthew Blackford"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238933075,"creation_date":1238933075,"answer_id":718844,"question_id":718742,"body_markdown":"Depending on what you are doing there are probably better alternatives. \r\n\r\nFor example JTables use a limited number of CellRenderers that draw themselves at multiple locations, giving the appearance of multiple components whilst dramatically reducing the memory usage (and increasing performance).\r\n\r\nCan you provide any more information on your particular situation?","title":"Is it possible to add more than 500 components to a panel at runtime in Java?","body":"<p>Depending on what you are doing there are probably better alternatives. </p>\n\n<p>For example JTables use a limited number of CellRenderers that draw themselves at multiple locations, giving the appearance of multiple components whilst dramatically reducing the memory usage (and increasing performance).</p>\n\n<p>Can you provide any more information on your particular situation?</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238935085,"creation_date":1238935085,"answer_id":718877,"question_id":718742,"body_markdown":"You may run into trouble on certain platforms if you are using heavyweight (AWT) components. The AWT component implementations may well be using OS/windowing system resources. On some platforms these may be limited. Back in the olden days, even NT 4 could have GDI problems across the system when an application attempted to create two many components (for instance, for each item in a tree).\r\n\r\nIn Swing, although lightweight, components are surprisingly large. Therefore, the renderer idiom is preferred for the likes of lists, trees and tables - see the API docs.","title":"Is it possible to add more than 500 components to a panel at runtime in Java?","body":"<p>You may run into trouble on certain platforms if you are using heavyweight (AWT) components. The AWT component implementations may well be using OS/windowing system resources. On some platforms these may be limited. Back in the olden days, even NT 4 could have GDI problems across the system when an application attempted to create two many components (for instance, for each item in a tree).</p>\n\n<p>In Swing, although lightweight, components are surprisingly large. Therefore, the renderer idiom is preferred for the likes of lists, trees and tables - see the API docs.</p>\n"}],"owner":{"display_name":"Sharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647606917,"creation_date":1238928796,"question_id":718742,"body_markdown":"Is it possible to add more than 500 components to a panel at runtime in Java?","title":"Is it possible to add more than 500 components to a panel at runtime in Java?","body":"<p>Is it possible to add more than 500 components to a panel at runtime in Java?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1647602101,"post_id":71525870,"comment_id":126417518,"body_markdown":"The best practices to always define all plugins you are using during your build...in a parent pom (corporate pom)...","body":"The best practices to always define all plugins you are using during your build...in a parent pom (corporate pom)..."}],"answers":[{"tags":[],"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647600910,"creation_date":1647600910,"answer_id":71525981,"question_id":71525870,"body_markdown":"If the version is not defined in the &lt;plugins&gt; or &lt;pluginManagement&gt; sections of your pom or parent pm. It will depend on the maven version you are using.","title":"Where is the default maven-release-plugin defined?","body":"<p>If the version is not defined in the  or  sections of your pom or parent pm. It will depend on the maven version you are using.</p>\n"},{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647601169,"creation_date":1647601169,"answer_id":71526044,"question_id":71525870,"body_markdown":"It&#39;s defined in one of the parent POMs, or in the [Super POM](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Super_POM), which is an implicit parent of every other POM. \r\n\r\nHere&#39;s how the Super POM looks like for Maven version 3.3.9: https://maven.apache.org/ref/3.3.9/maven-model-builder/super-pom.html\r\n\r\nthe relevant snippet: \r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\n","title":"Where is the default maven-release-plugin defined?","body":"<p>It's defined in one of the parent POMs, or in the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Super_POM\" rel=\"nofollow noreferrer\">Super POM</a>, which is an implicit parent of every other POM.</p>\n<p>Here's how the Super POM looks like for Maven version 3.3.9: <a href=\"https://maven.apache.org/ref/3.3.9/maven-model-builder/super-pom.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/ref/3.3.9/maven-model-builder/super-pom.html</a></p>\n<p>the relevant snippet:</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1914374,"reputation":915,"user_id":1727294,"accept_rate":12,"display_name":"klarki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71526044,"answer_count":2,"score":3,"last_activity_date":1647606718,"creation_date":1647600475,"question_id":71525870,"body_markdown":"`mvn:effective-pom` claims my project uses \r\n\r\n```          \r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n```\r\n\r\nbut nowhere in the project I have this defined. I tried grepping in the project dir and in the apache-maven dir for &quot;maven-release&quot; but it didn&#39;t find anything interesting.","title":"Where is the default maven-release-plugin defined?","body":"<p><code>mvn:effective-pom</code> claims my project uses</p>\n<pre><code>          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>but nowhere in the project I have this defined. I tried grepping in the project dir and in the apache-maven dir for &quot;maven-release&quot; but it didn't find anything interesting.</p>\n"},{"tags":["java","matlab","windows-10"],"comments":[{"owner":{"account_id":6542609,"reputation":1469,"user_id":5059545,"accept_rate":73,"display_name":"Neo"},"score":0,"creation_date":1552274603,"post_id":49001337,"comment_id":96933577,"body_markdown":"Did you find the solution for this problem?","body":"Did you find the solution for this problem?"},{"owner":{"account_id":6542609,"reputation":1469,"user_id":5059545,"accept_rate":73,"display_name":"Neo"},"score":1,"creation_date":1552283584,"post_id":49001337,"comment_id":96935337,"body_markdown":"I had tried and my solution is to remove Java 9 and install Java 8. It worked.","body":"I had tried and my solution is to remove Java 9 and install Java 8. It worked."},{"owner":{"account_id":5253074,"reputation":877,"user_id":4196680,"accept_rate":94,"display_name":"bot1131357"},"score":1,"creation_date":1552305970,"post_id":49001337,"comment_id":96945751,"body_markdown":"This was a year ago, and if I recalled correctly I ended up not using MATLAB for what I needed to do.","body":"This was a year ago, and if I recalled correctly I ended up not using MATLAB for what I needed to do."}],"answers":[{"tags":[],"owner":{"account_id":24600756,"reputation":1,"user_id":18503652,"display_name":"Daanzalm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647606307,"creation_date":1647606307,"answer_id":71526998,"question_id":49001337,"body_markdown":"Go to windows+r, the type: sysdm.cpl\r\nWhen this is opened click advanced and then go to environmetal settings.\r\nThen there should be a line saying JAVA_OPTION, click it and delete it.","title":"Using a different JVM for MATLAB on Windows","body":"<p>Go to windows+r, the type: sysdm.cpl\nWhen this is opened click advanced and then go to environmetal settings.\nThen there should be a line saying JAVA_OPTION, click it and delete it.</p>\n"}],"owner":{"account_id":5253074,"reputation":877,"user_id":4196680,"accept_rate":94,"display_name":"bot1131357"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647606307,"creation_date":1519706919,"question_id":49001337,"body_markdown":"I needed to access some java libraries in MATLAB, but the JVM is of an older version. I tried setting MATLAB_JAVA to the path of my current version `C:\\Program Files\\Java\\jre-9.0.4` but I get a fatal error on startup: \r\n\r\n&gt;Unable to start JVM because of an invalid Java option.\r\n\r\nHas anyone else experienced this? ","title":"Using a different JVM for MATLAB on Windows","body":"<p>I needed to access some java libraries in MATLAB, but the JVM is of an older version. I tried setting MATLAB_JAVA to the path of my current version <code>C:\\Program Files\\Java\\jre-9.0.4</code> but I get a fatal error on startup: </p>\n\n<blockquote>\n  <p>Unable to start JVM because of an invalid Java option.</p>\n</blockquote>\n\n<p>Has anyone else experienced this? </p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647606243,"creation_date":1647606243,"answer_id":71526981,"question_id":71526617,"body_markdown":"Three distinct problems\r\n- \r\n1. Usually there are Exceptions that are caused by the user or bad frontend programming, like supplying invalid IDs (entity not found exceptions etc)\r\n2. Then there&#39;s exceptions due to bad code. \r\n3. And finally, exceptions stemming from the infrastructure.\r\n\r\nReaction\r\n-\r\nFor error #1 you should echo back those exceptions to the frontend, by replying with a 4xx error / status code, or any other visual feedback to the user.\r\n\r\nThe other two are system errors that the programmer or hardware guys have to take care of. I usually catch those exceptions, then pack it into an email, and send it to the support groups and programmers, depending on the exception. I also echo that error back to the user, if possible with some clarifying message.\r\n\r\nExamples\r\n-\r\n1. Now in your case error #1 is harder to achieve. \r\n2. An example for Error #2 would be that `null` is passed as an argument, or that something inside `entity` does not like serialization. Those are cases the programmer needs to be informed of.\r\n3. For error #3 there&#39;s the &quot;disk full&quot; and &quot;database disconnected&quot; and other &quot;hardware-not-available&quot; problems. Those need to go to the maintenance group.\r\n\r\nStrategy\r\n-\r\n1. Put default calls like this in a library of your own\r\n2. Create custom exceptions to have at least one (base) class for the three cases. In the servlet context, you can also fit those Exceptions with an HTTP status code that should be returned to the frontend.\r\n3. Extend all the calls in the library to check for exceptions and throw one of your custom exceptions.\r\n4. On the highest level of implementation possible handle the exceptions. For servlets I have a `ErrorHandlingServlet extends HttpServlet` and each servlet of mine uses that, like in your case it would be `SaveUserServlet extends ErrorHandlingServlet` or something along that line. The `ErrorHandlingServlet` then sends an Email if necessary, and returns the HTTP status code included in the custom exception.\r\n\r\nPersonal Examples\r\n-\r\nI go as deep as having the normal `ParameterInvalidException`, `ParameterMissingException`, `EntityNotFoundException`.\r\nPlus I also have some very specific exceptions like `UsernameNotFoundException` (really depends on the scope of the app whether you wanna use that), or `InsufficientRightException` (HTTP 401), or `EntityStillAttachedException`.\r\n\r\nFacit\r\n-\r\nThere&#39;s a multitude of those you can cook up, and it&#39;s up to you to decide when to use and how to handle those.","title":"How must I handle database and JPA exceptions?","body":"<h2>Three distinct problems</h2>\n<ol>\n<li>Usually there are Exceptions that are caused by the user or bad frontend programming, like supplying invalid IDs (entity not found exceptions etc)</li>\n<li>Then there's exceptions due to bad code.</li>\n<li>And finally, exceptions stemming from the infrastructure.</li>\n</ol>\n<h2>Reaction</h2>\n<p>For error #1 you should echo back those exceptions to the frontend, by replying with a 4xx error / status code, or any other visual feedback to the user.</p>\n<p>The other two are system errors that the programmer or hardware guys have to take care of. I usually catch those exceptions, then pack it into an email, and send it to the support groups and programmers, depending on the exception. I also echo that error back to the user, if possible with some clarifying message.</p>\n<h2>Examples</h2>\n<ol>\n<li>Now in your case error #1 is harder to achieve.</li>\n<li>An example for Error #2 would be that <code>null</code> is passed as an argument, or that something inside <code>entity</code> does not like serialization. Those are cases the programmer needs to be informed of.</li>\n<li>For error #3 there's the &quot;disk full&quot; and &quot;database disconnected&quot; and other &quot;hardware-not-available&quot; problems. Those need to go to the maintenance group.</li>\n</ol>\n<h2>Strategy</h2>\n<ol>\n<li>Put default calls like this in a library of your own</li>\n<li>Create custom exceptions to have at least one (base) class for the three cases. In the servlet context, you can also fit those Exceptions with an HTTP status code that should be returned to the frontend.</li>\n<li>Extend all the calls in the library to check for exceptions and throw one of your custom exceptions.</li>\n<li>On the highest level of implementation possible handle the exceptions. For servlets I have a <code>ErrorHandlingServlet extends HttpServlet</code> and each servlet of mine uses that, like in your case it would be <code>SaveUserServlet extends ErrorHandlingServlet</code> or something along that line. The <code>ErrorHandlingServlet</code> then sends an Email if necessary, and returns the HTTP status code included in the custom exception.</li>\n</ol>\n<h2>Personal Examples</h2>\n<p>I go as deep as having the normal <code>ParameterInvalidException</code>, <code>ParameterMissingException</code>, <code>EntityNotFoundException</code>.\nPlus I also have some very specific exceptions like <code>UsernameNotFoundException</code> (really depends on the scope of the app whether you wanna use that), or <code>InsufficientRightException</code> (HTTP 401), or <code>EntityStillAttachedException</code>.</p>\n<h2>Facit</h2>\n<p>There's a multitude of those you can cook up, and it's up to you to decide when to use and how to handle those.</p>\n"}],"owner":{"account_id":1934567,"reputation":262,"user_id":1916013,"display_name":"Hendr&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71526981,"answer_count":1,"score":1,"last_activity_date":1647606243,"creation_date":1647604187,"question_id":71526617,"body_markdown":"Given the method below how should I deal with possible exceptions that may arise? I want to provide feedback at database level and JPA level. When a constraint violation is thrown, I want to know on what field. How would you handle exceptions of this method?\r\n\r\n    public static &lt;T&gt; void persist(T entity) {\r\n    \ttry {\r\n    \t\tem.getTransaction().begin();\r\n    \t\tem.persist(entity);\r\n    \t\tem.getTransaction().commit();\r\n    \t} finally {\r\n    \t\tif (em.getTransaction().isActive()) {\r\n    \t\t\tem.getTransaction().rollback();\r\n    \t\t}\r\n    \t}\r\n    }","title":"How must I handle database and JPA exceptions?","body":"<p>Given the method below how should I deal with possible exceptions that may arise? I want to provide feedback at database level and JPA level. When a constraint violation is thrown, I want to know on what field. How would you handle exceptions of this method?</p>\n<pre><code>public static &lt;T&gt; void persist(T entity) {\n    try {\n        em.getTransaction().begin();\n        em.persist(entity);\n        em.getTransaction().commit();\n    } finally {\n        if (em.getTransaction().isActive()) {\n            em.getTransaction().rollback();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":24553656,"reputation":11,"user_id":18462539,"display_name":"Vivek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647605907,"creation_date":1647605907,"question_id":71526910,"body_markdown":"    @Data\r\n    @Getter @Setter\r\n    public class S3UploadRequest {\r\n        private String fileName;\r\n        private String applicationName;\r\n        private String content;\r\n    \r\n    }\r\n    \r\n     @PostMapping(value = &quot;/writeFileToS3&quot;, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n        public @ResponseBody\r\n        ServiceResponse validateAndUploadFileToS3(@RequestBody S3UploadRequest requestParam,\r\n                                                  HttpServletRequest request,\r\n                                                  HttpServletResponse httpServletResponse){\r\n    /*method body*/\r\n    }\r\n    \r\nNow when I pass below json request:\r\n\r\n    {\r\n    &quot;fileName&quot; : &quot;abc&quot;,\r\n    &quot;applicationName&quot; : &quot;abc,\r\n    &quot;content&quot; : &quot;abc&quot;\r\n    }\r\nThis works fine.\r\n\r\n    \r\nNow, when I add an extra key,value pair in the request\r\n   \r\n\r\n     {\r\n        &quot;fileName&quot; : &quot;abc&quot;,\r\n        &quot;applicationName&quot; : &quot;abc,\r\n        &quot;content&quot; : &quot;abc&quot;,\r\n        &quot;extraKey&quot; : &quot;extraValue&quot;\r\n        }\r\nNow I want to throw 400 because there isnt any &quot;extraKey&quot; field defined in the bean but it neglects the additional key value pair which is &quot;extraKey&quot;:&quot;extraValue&quot; and ends the request with 200OK.\r\n\r\nHow can I achieve this?\r\n    \r\n  \r\n\r\n  Yes, I can do this by considering rawtype as input like \r\n  \r\n\r\n      public String method(@RequestBody Map&lt;String,String&gt; request){\r\n        }\r\n    \r\nNow I&#39;ll iterate Map and compare every key and throw Validation Exceptio with 400 status code for the keys which are not present in the map.\r\n    \r\n    \r\n   \r\n\r\n But how can I achieve the same thing using @RequestBody with Bean?\r\n\r\n\r\n\r\n\r\n","title":"Trying to throw 400 when there is an extra key value pair which is not defined in the @RequestBody bean","body":"<pre><code>@Data\n@Getter @Setter\npublic class S3UploadRequest {\n    private String fileName;\n    private String applicationName;\n    private String content;\n\n}\n\n @PostMapping(value = &quot;/writeFileToS3&quot;, produces = {MediaType.APPLICATION_JSON_VALUE})\n    public @ResponseBody\n    ServiceResponse validateAndUploadFileToS3(@RequestBody S3UploadRequest requestParam,\n                                              HttpServletRequest request,\n                                              HttpServletResponse httpServletResponse){\n/*method body*/\n}\n</code></pre>\n<p>Now when I pass below json request:</p>\n<pre><code>{\n&quot;fileName&quot; : &quot;abc&quot;,\n&quot;applicationName&quot; : &quot;abc,\n&quot;content&quot; : &quot;abc&quot;\n}\n</code></pre>\n<p>This works fine.</p>\n<p>Now, when I add an extra key,value pair in the request</p>\n<pre><code> {\n    &quot;fileName&quot; : &quot;abc&quot;,\n    &quot;applicationName&quot; : &quot;abc,\n    &quot;content&quot; : &quot;abc&quot;,\n    &quot;extraKey&quot; : &quot;extraValue&quot;\n    }\n</code></pre>\n<p>Now I want to throw 400 because there isnt any &quot;extraKey&quot; field defined in the bean but it neglects the additional key value pair which is &quot;extraKey&quot;:&quot;extraValue&quot; and ends the request with 200OK.</p>\n<p>How can I achieve this?</p>\n<p>Yes, I can do this by considering rawtype as input like</p>\n<pre><code>  public String method(@RequestBody Map&lt;String,String&gt; request){\n    }\n</code></pre>\n<p>Now I'll iterate Map and compare every key and throw Validation Exceptio with 400 status code for the keys which are not present in the map.</p>\n<p>But how can I achieve the same thing using @RequestBody with Bean?</p>\n"},{"tags":["java","matrix"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1647584710,"post_id":71522645,"comment_id":126412468,"body_markdown":"Is the input `String` always 30 characters?  What is the purpose of your program?  Do you have to produce the chart or just the final result?","body":"Is the input <code>String</code> always 30 characters?  What is the purpose of your program?  Do you have to produce the chart or just the final result?"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":1,"creation_date":1647587867,"post_id":71522645,"comment_id":126413115,"body_markdown":"@GilbertLeBlanc Why not just assume that the string is not always 30 characters? Why does it matter what the purpose of the program is? Ivan didn&#39;t ask for the chart to be produced, I believe it was just to aid the reader.","body":"@GilbertLeBlanc Why not just assume that the string is not always 30 characters? Why does it matter what the purpose of the program is? Ivan didn&#39;t ask for the chart to be produced, I believe it was just to aid the reader."}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647605427,"creation_date":1647587723,"answer_id":71523535,"question_id":71522645,"body_markdown":"I see at the bottom you have two for-loops that loop over the matrix. All we need to do in order to achieve the algorithm you&#39;re asking for is to loop over the matrix but with the dimensions flipped. Then check if it&#39;s time to add a space by using modulus. Try out this function, let me know if you have any questions.\r\n\r\n    public static String getGroups(String[][] matrix, int groupSize) {\r\n\t\tString output = &quot;&quot;;\r\n\t\tint matrixWidth = matrix.length;\r\n\t\tint matrixHeight = matrix[0].length;\r\n\t\t\r\n\t\tint k = 0;\r\n        for (int i = 0; i &lt; matrixHeight; i++) {\r\n            for (int j = 0; j &lt; matrixWidth; j++) {\r\n            \tk++;\r\n            \toutput += matrix[j][i];\r\n            \tif(k % groupSize == 0) output += &quot; &quot;;\r\n            }\r\n        }\r\n        \r\n        return output;\r\n\t}\r\n\r\nAll you need to do is call getGroups, pass in matrixA and pass in a groupSize of 5. This is what it would look like: `System.out.println(getGroups(matrixA, 5));`\r\n\r\nAlso a heads up, you&#39;re missing a double-quotation mark (&quot;) on this line `matrixA[0][10] = h&quot;;` \r\n\r\nThis means the complete code should look like this:\r\n\r\n    public static void main(String[] args) {\r\n        String[][] matrixA;\r\n        matrixA = new String[2][15];\r\n\r\n        matrixA[0][0] = &quot;i&quot;;\r\n        matrixA[0][1] = &quot;l&quot;;\r\n        matrixA[0][2] = &quot;o&quot;;\r\n        matrixA[0][3] = &quot;v&quot;;\r\n        matrixA[0][4] = &quot;e&quot;;\r\n        matrixA[0][5] = &quot;m&quot;;\r\n        matrixA[0][6] = &quot;y&quot;;\r\n        matrixA[0][7] = &quot;m&quot;;\r\n        matrixA[0][8] = &quot;o&quot;;\r\n        matrixA[0][9] = &quot;t&quot;;\r\n        matrixA[0][10] = &quot;h&quot;;\r\n        matrixA[0][11] = &quot;e&quot;;\r\n        matrixA[0][12] = &quot;r&quot;;\r\n        matrixA[0][13] = &quot;v&quot;;\r\n        matrixA[0][14] = &quot;e&quot;;\r\n        matrixA[1][0] = &quot;r&quot;;\r\n        matrixA[1][1] = &quot;y&quot;;\r\n        matrixA[1][2] = &quot;b&quot;;\r\n        matrixA[1][3] = &quot;i&quot;;\r\n        matrixA[1][4] = &quot;g&quot;;\r\n        matrixA[1][5] = &quot;a&quot;;\r\n        matrixA[1][6] = &quot;n&quot;;\r\n        matrixA[1][7] = &quot;d&quot;;\r\n        matrixA[1][8] = &quot;l&quot;;\r\n        matrixA[1][9] = &quot;o&quot;;\r\n        matrixA[1][10] = &quot;v&quot;;\r\n        matrixA[1][11] = &quot;e&quot;;\r\n        matrixA[1][12] = &quot;c&quot;;\r\n        matrixA[1][13] = &quot;a&quot;;\r\n        matrixA[1][14] = &quot;r&quot;;\r\n\r\n        for (int i = 0; i &lt; matrixA.length; i++) {\r\n            for (int j = 0; j &lt; matrixA[i].length; j++) {\r\n                System.out.print(matrixA[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        \r\n        System.out.println(getGroups(matrixA, 5));\r\n    }\r\n\r\n    public static String getGroups(String[][] matrix, int groupSize) {\r\n\t\tString output = &quot;&quot;;\r\n\t\tint matrixWidth = matrix.length;\r\n\t\tint matrixHeight = matrix[0].length;\r\n\t\t\r\n\t\tint k = 0;\r\n        for (int i = 0; i &lt; matrixHeight; i++) {\r\n            for (int j = 0; j &lt; matrixWidth; j++) {\r\n            \tk++;\r\n            \toutput += matrix[j][i];\r\n            \tif(k % groupSize == 0) output += &quot; &quot;;\r\n            }\r\n        }\r\n        \r\n        return output;\r\n\t}","title":"Encryption of text using a matrix","body":"<p>I see at the bottom you have two for-loops that loop over the matrix. All we need to do in order to achieve the algorithm you're asking for is to loop over the matrix but with the dimensions flipped. Then check if it's time to add a space by using modulus. Try out this function, let me know if you have any questions.</p>\n<pre><code>public static String getGroups(String[][] matrix, int groupSize) {\n    String output = &quot;&quot;;\n    int matrixWidth = matrix.length;\n    int matrixHeight = matrix[0].length;\n    \n    int k = 0;\n    for (int i = 0; i &lt; matrixHeight; i++) {\n        for (int j = 0; j &lt; matrixWidth; j++) {\n            k++;\n            output += matrix[j][i];\n            if(k % groupSize == 0) output += &quot; &quot;;\n        }\n    }\n    \n    return output;\n}\n</code></pre>\n<p>All you need to do is call getGroups, pass in matrixA and pass in a groupSize of 5. This is what it would look like: <code>System.out.println(getGroups(matrixA, 5));</code></p>\n<p>Also a heads up, you're missing a double-quotation mark (&quot;) on this line <code>matrixA[0][10] = h&quot;;</code></p>\n<p>This means the complete code should look like this:</p>\n<pre><code>public static void main(String[] args) {\n    String[][] matrixA;\n    matrixA = new String[2][15];\n\n    matrixA[0][0] = &quot;i&quot;;\n    matrixA[0][1] = &quot;l&quot;;\n    matrixA[0][2] = &quot;o&quot;;\n    matrixA[0][3] = &quot;v&quot;;\n    matrixA[0][4] = &quot;e&quot;;\n    matrixA[0][5] = &quot;m&quot;;\n    matrixA[0][6] = &quot;y&quot;;\n    matrixA[0][7] = &quot;m&quot;;\n    matrixA[0][8] = &quot;o&quot;;\n    matrixA[0][9] = &quot;t&quot;;\n    matrixA[0][10] = &quot;h&quot;;\n    matrixA[0][11] = &quot;e&quot;;\n    matrixA[0][12] = &quot;r&quot;;\n    matrixA[0][13] = &quot;v&quot;;\n    matrixA[0][14] = &quot;e&quot;;\n    matrixA[1][0] = &quot;r&quot;;\n    matrixA[1][1] = &quot;y&quot;;\n    matrixA[1][2] = &quot;b&quot;;\n    matrixA[1][3] = &quot;i&quot;;\n    matrixA[1][4] = &quot;g&quot;;\n    matrixA[1][5] = &quot;a&quot;;\n    matrixA[1][6] = &quot;n&quot;;\n    matrixA[1][7] = &quot;d&quot;;\n    matrixA[1][8] = &quot;l&quot;;\n    matrixA[1][9] = &quot;o&quot;;\n    matrixA[1][10] = &quot;v&quot;;\n    matrixA[1][11] = &quot;e&quot;;\n    matrixA[1][12] = &quot;c&quot;;\n    matrixA[1][13] = &quot;a&quot;;\n    matrixA[1][14] = &quot;r&quot;;\n\n    for (int i = 0; i &lt; matrixA.length; i++) {\n        for (int j = 0; j &lt; matrixA[i].length; j++) {\n            System.out.print(matrixA[i][j] + &quot;\\t&quot;);\n        }\n        System.out.println();\n    }\n    \n    System.out.println(getGroups(matrixA, 5));\n}\n\npublic static String getGroups(String[][] matrix, int groupSize) {\n    String output = &quot;&quot;;\n    int matrixWidth = matrix.length;\n    int matrixHeight = matrix[0].length;\n    \n    int k = 0;\n    for (int i = 0; i &lt; matrixHeight; i++) {\n        for (int j = 0; j &lt; matrixWidth; j++) {\n            k++;\n            output += matrix[j][i];\n            if(k % groupSize == 0) output += &quot; &quot;;\n        }\n    }\n    \n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647600068,"creation_date":1647599436,"answer_id":71525650,"question_id":71522645,"body_markdown":"@IvanKolisnik, To process the string you specified: `i love my mother very big and love car` and use the **`getGroups()`** method provided by **@MorganS42** you would need to do something like this:\r\n\r\n***Create the Matrix (like the sample you had shown)***\r\n\r\n    String strg = &quot;i love my mother very big and love car&quot;;\r\n    strg = strg.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;); // Remove all whitespaces!\r\n    int columns = strg.length() / 2;\r\n    String[][] matrix = new String[2][columns];\r\n\r\n    int indexer = 0;\r\n    for (int row = 0; row &lt; matrix.length; row++) {\r\n        for (int column = 0; column &lt; matrix[row].length; column++) {\r\n            matrix[row][column] = Character.toString(strg.charAt(indexer));\r\n            indexer++;\r\n        }\r\n    }\r\n\r\n    // Display Current Generated Matrix...\r\n    for (int i = 0; i &lt; matrix.length; i++) {\r\n        for (int j = 0; j &lt; matrix[i].length; j++) {\r\n            if (matrix[i][j].isEmpty()) {\r\n                break;\r\n            }\r\n            System.out.print(matrix[i][j]);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    System.out.println();\r\n\r\n***Display the encrypted line (as per your specs):***\r\n\r\n    /* Get the desired grouping from the generated \r\n       matrix and displsy it to console...     */\r\n    String encryptedString = getGroups(matrix, 5);\r\n    System.out.println(encryptedString);\r\n     \r\n***Output to console should be***:\r\n\r\n```\r\nilovemymotherve\r\nrybigandlovecar\r\n\r\nirlyo bvieg maynm dolto hveer cvaer\r\n```\r\n\r\nConsequently...if the string to encrypt was:\r\n\r\n    I love my mother very big but I love my car bigger!\r\n\r\nThe console output would be:\r\n\r\n```\r\nIlovemymotherverybig\r\nbutIlovemycarbigger!\r\n\r\nIbluo tvIel moyvm eomty hcear rvbei rgygb eirg! \r\n```","title":"Encryption of text using a matrix","body":"<p>@IvanKolisnik, To process the string you specified: <code>i love my mother very big and love car</code> and use the <strong><code>getGroups()</code></strong> method provided by <strong>@MorganS42</strong> you would need to do something like this:</p>\n<p><em><strong>Create the Matrix (like the sample you had shown)</strong></em></p>\n<pre><code>String strg = &quot;i love my mother very big and love car&quot;;\nstrg = strg.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;); // Remove all whitespaces!\nint columns = strg.length() / 2;\nString[][] matrix = new String[2][columns];\n\nint indexer = 0;\nfor (int row = 0; row &lt; matrix.length; row++) {\n    for (int column = 0; column &lt; matrix[row].length; column++) {\n        matrix[row][column] = Character.toString(strg.charAt(indexer));\n        indexer++;\n    }\n}\n\n// Display Current Generated Matrix...\nfor (int i = 0; i &lt; matrix.length; i++) {\n    for (int j = 0; j &lt; matrix[i].length; j++) {\n        if (matrix[i][j].isEmpty()) {\n            break;\n        }\n        System.out.print(matrix[i][j]);\n    }\n    System.out.println();\n}\n\nSystem.out.println();\n</code></pre>\n<p><em><strong>Display the encrypted line (as per your specs):</strong></em></p>\n<pre><code>/* Get the desired grouping from the generated \n   matrix and displsy it to console...     */\nString encryptedString = getGroups(matrix, 5);\nSystem.out.println(encryptedString);\n \n</code></pre>\n<p><em><strong>Output to console should be</strong></em>:</p>\n<pre><code>ilovemymotherve\nrybigandlovecar\n\nirlyo bvieg maynm dolto hveer cvaer\n</code></pre>\n<p>Consequently...if the string to encrypt was:</p>\n<pre><code>I love my mother very big but I love my car bigger!\n</code></pre>\n<p>The console output would be:</p>\n<pre><code>Ilovemymotherverybig\nbutIlovemycarbigger!\n\nIbluo tvIel moyvm eomty hcear rvbei rgygb eirg! \n</code></pre>\n"}],"owner":{"account_id":24338231,"reputation":17,"user_id":18275983,"display_name":"Ivan Kolisnik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71523535,"answer_count":2,"score":1,"last_activity_date":1647605718,"creation_date":1647579591,"question_id":71522645,"body_markdown":"[![скрин][1]][1][![scrreen[![\\]][2]][2][2]][2]I need to give it a look like the one on the screen, but I&#39;m sure I did it wrong.\r\nThe point is that there is a string str, in this case it is (i love my mother very big and love car) and after entering this string in the matrix you need to divide it into groups of 5 letters.\r\nThe result should be as follows (irlyo bvieg maynm dolto hveer cvaer).\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\r\n        String[][] matrixA;\r\n        matrixA = new String[2][15];\r\n\r\n        matrixA[0][0] = &quot;i&quot;;\r\n        matrixA[0][1] = &quot;l&quot;;\r\n        matrixA[0][2] = &quot;o&quot;;\r\n        matrixA[0][3] = &quot;v&quot;;\r\n        matrixA[0][4] = &quot;e&quot;;\r\n        matrixA[0][5] = &quot;m&quot;;\r\n        matrixA[0][6] = &quot;y&quot;;\r\n        matrixA[0][7] = &quot;m&quot;;\r\n        matrixA[0][8] = &quot;o&quot;;\r\n        matrixA[0][9] = &quot;t&quot;;\r\n        matrixA[0][10] = &quot;h&quot;;\r\n        matrixA[0][11] = &quot;e&quot;;\r\n        matrixA[0][12] = &quot;r&quot;;\r\n        matrixA[0][13] = &quot;v&quot;;\r\n        matrixA[0][14] = &quot;e&quot;;\r\n        matrixA[1][0] = &quot;r&quot;;\r\n        matrixA[1][1] = &quot;y&quot;;\r\n        matrixA[1][2] = &quot;b&quot;;\r\n        matrixA[1][3] = &quot;i&quot;;\r\n        matrixA[1][4] = &quot;g&quot;;\r\n        matrixA[1][5] = &quot;a&quot;;\r\n        matrixA[1][6] = &quot;n&quot;;\r\n        matrixA[1][7] = &quot;d&quot;;\r\n        matrixA[1][8] = &quot;l&quot;;\r\n        matrixA[1][9] = &quot;o&quot;;\r\n        matrixA[1][10] = &quot;v&quot;;\r\n        matrixA[1][11] = &quot;e&quot;;\r\n        matrixA[1][12] = &quot;c&quot;;\r\n        matrixA[1][13] = &quot;a&quot;;\r\n        matrixA[1][14] = &quot;r&quot;;\r\n\r\n\r\n        for (int i = 0; i &lt; matrixA.length; i++) {\r\n            for (int j = 0; j &lt; matrixA[i].length; j++) {\r\n                System.out.print(matrixA[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/wmKAa.png","title":"Encryption of text using a matrix","body":"<p>[![скрин][1]][1][<img src=\"https://i.stack.imgur.com/wmKAa.png\" alt=\"scrreen]2\" />I need to give it a look like the one on the screen, but I'm sure I did it wrong.\nThe point is that there is a string str, in this case it is (i love my mother very big and love car) and after entering this string in the matrix you need to divide it into groups of 5 letters.\nThe result should be as follows (irlyo bvieg maynm dolto hveer cvaer).</p>\n<pre><code>public static void main(String[] args) {\n\n\n        String[][] matrixA;\n        matrixA = new String[2][15];\n\n        matrixA[0][0] = &quot;i&quot;;\n        matrixA[0][1] = &quot;l&quot;;\n        matrixA[0][2] = &quot;o&quot;;\n        matrixA[0][3] = &quot;v&quot;;\n        matrixA[0][4] = &quot;e&quot;;\n        matrixA[0][5] = &quot;m&quot;;\n        matrixA[0][6] = &quot;y&quot;;\n        matrixA[0][7] = &quot;m&quot;;\n        matrixA[0][8] = &quot;o&quot;;\n        matrixA[0][9] = &quot;t&quot;;\n        matrixA[0][10] = &quot;h&quot;;\n        matrixA[0][11] = &quot;e&quot;;\n        matrixA[0][12] = &quot;r&quot;;\n        matrixA[0][13] = &quot;v&quot;;\n        matrixA[0][14] = &quot;e&quot;;\n        matrixA[1][0] = &quot;r&quot;;\n        matrixA[1][1] = &quot;y&quot;;\n        matrixA[1][2] = &quot;b&quot;;\n        matrixA[1][3] = &quot;i&quot;;\n        matrixA[1][4] = &quot;g&quot;;\n        matrixA[1][5] = &quot;a&quot;;\n        matrixA[1][6] = &quot;n&quot;;\n        matrixA[1][7] = &quot;d&quot;;\n        matrixA[1][8] = &quot;l&quot;;\n        matrixA[1][9] = &quot;o&quot;;\n        matrixA[1][10] = &quot;v&quot;;\n        matrixA[1][11] = &quot;e&quot;;\n        matrixA[1][12] = &quot;c&quot;;\n        matrixA[1][13] = &quot;a&quot;;\n        matrixA[1][14] = &quot;r&quot;;\n\n\n        for (int i = 0; i &lt; matrixA.length; i++) {\n            for (int j = 0; j &lt; matrixA[i].length; j++) {\n                System.out.print(matrixA[i][j] + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","caching","redis","internationalization"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1647606756,"post_id":71526847,"comment_id":126418931,"body_markdown":"can&#39;t you change your code to separate the translating part and the caching part? Like caching a key and then calling your i18n translator","body":"can&#39;t you change your code to separate the translating part and the caching part? Like caching a key and then calling your i18n translator"}],"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1647605485,"creation_date":1647605485,"question_id":71526847,"body_markdown":"We&#39;ve recently implemented i18n in our web services and we&#39;re using `@Cacheable` annotation to cache the call results in Redis. \r\n\r\nThe cache doesn&#39;t work when we try to test the web services by sending various `Accept-Language` header values. However, **when we clear the cache**, the web service returns a correct response that corresponds to the `Accept-Language` value that we&#39;ve sent. \r\n\r\nIs there a simple way to make `@Cacheable` i18n aware?\r\n\r\nNote that we&#39;ve already thought of a solution which is to send the `Accept-Language` header value from the Controller to the Service methods that are being cached, but we&#39;re not sure if this is a good practice as it will make our code hard to read and maintain.","title":"Is there a simple way to make @Cacheable i18n aware?","body":"<p>We've recently implemented i18n in our web services and we're using <code>@Cacheable</code> annotation to cache the call results in Redis.</p>\n<p>The cache doesn't work when we try to test the web services by sending various <code>Accept-Language</code> header values. However, <strong>when we clear the cache</strong>, the web service returns a correct response that corresponds to the <code>Accept-Language</code> value that we've sent.</p>\n<p>Is there a simple way to make <code>@Cacheable</code> i18n aware?</p>\n<p>Note that we've already thought of a solution which is to send the <code>Accept-Language</code> header value from the Controller to the Service methods that are being cached, but we're not sure if this is a good practice as it will make our code hard to read and maintain.</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1647597686,"post_id":71525038,"comment_id":126415962,"body_markdown":"is your port open for incoming connections?","body":"is your port open for incoming connections?"},{"owner":{"account_id":21330293,"reputation":13,"user_id":16393572,"display_name":"Michael"},"score":0,"creation_date":1647597961,"post_id":71525038,"comment_id":126416050,"body_markdown":"@JAMSHAID yes, port is open","body":"@JAMSHAID yes, port is open"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1647598921,"post_id":71525038,"comment_id":126416387,"body_markdown":"Is what you show here wrapped in a `services:` block, or is this the entire `docker-compose.yml` file?","body":"Is what you show here wrapped in a <code>services:</code> block, or is this the entire <code>docker-compose.yml</code> file?"},{"owner":{"account_id":21330293,"reputation":13,"user_id":16393572,"display_name":"Michael"},"score":0,"creation_date":1647600153,"post_id":71525038,"comment_id":126416793,"body_markdown":"@DavidMaze it&#39;s entire docker-compose.yml file","body":"@DavidMaze it&#39;s entire docker-compose.yml file"}],"answers":[{"tags":[],"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647597735,"creation_date":1647597735,"answer_id":71525311,"question_id":71525038,"body_markdown":"You didnt specify the network. With `hostname: webservice-server` you just setting the host name inside the `webapp` container. You should have a network so that diffrent container could see each other. If you don&#39;t want to create network for each container, just use `networks: default aliases`","title":"java.net.UnknownHostException: Name or service not known","body":"<p>You didnt specify the network. With <code>hostname: webservice-server</code> you just setting the host name inside the <code>webapp</code> container. You should have a network so that diffrent container could see each other. If you don't want to create network for each container, just use <code>networks: default aliases</code></p>\n"},{"tags":[],"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647604560,"creation_date":1647601113,"answer_id":71526025,"question_id":71525038,"body_markdown":"Your `docker-compose.yml` file is missing a `version:` line and a `services:` wrapper.  This makes it an obsolete [version 1 Compose file](https://web.archive.org/web/20210302145052/https://docs.docker.com/compose/compose-file/compose-file-v1/) that doesn&#39;t set up Docker networking for you.  Very current tools will have trouble running it because they&#39;ll interpret the file as the fourth-generation [Compose specification](https://github.com/compose-spec/compose-spec/blob/master/spec.md).\r\n\r\nAt the top level, add a `version:` declaring what version to use (I tend to use the most recent non-&quot;specification&quot; version 3.8) and wrapping the declarations you have now in `services:`:\r\n\r\n```yaml\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  webapp:\r\n    build:\r\n      context: .\r\n      dockerfile: ServerDockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n\r\n  webservices_test_client:\r\n    build:\r\n      context: .\r\n      dockerfile: TestsDockerfile\r\n    depends_on:\r\n      - webapp\r\n```\r\n\r\nYou do not need to declare `networks:`, `container_name:`, or `hostname:`.  In a version 2 or 3 Compose file, Compose sets these things up for you, and the Compose service names like `webapp` will be usable as host names to call between containers.  [Networking in Compose](https://docs.docker.com/compose/networking/) in the Docker documentation has further details.","title":"java.net.UnknownHostException: Name or service not known","body":"<p>Your <code>docker-compose.yml</code> file is missing a <code>version:</code> line and a <code>services:</code> wrapper.  This makes it an obsolete <a href=\"https://web.archive.org/web/20210302145052/https://docs.docker.com/compose/compose-file/compose-file-v1/\" rel=\"nofollow noreferrer\">version 1 Compose file</a> that doesn't set up Docker networking for you.  Very current tools will have trouble running it because they'll interpret the file as the fourth-generation <a href=\"https://github.com/compose-spec/compose-spec/blob/master/spec.md\" rel=\"nofollow noreferrer\">Compose specification</a>.</p>\n<p>At the top level, add a <code>version:</code> declaring what version to use (I tend to use the most recent non-&quot;specification&quot; version 3.8) and wrapping the declarations you have now in <code>services:</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.8'\nservices:\n  webapp:\n    build:\n      context: .\n      dockerfile: ServerDockerfile\n    ports:\n      - &quot;8080:8080&quot;\n\n  webservices_test_client:\n    build:\n      context: .\n      dockerfile: TestsDockerfile\n    depends_on:\n      - webapp\n</code></pre>\n<p>You do not need to declare <code>networks:</code>, <code>container_name:</code>, or <code>hostname:</code>.  In a version 2 or 3 Compose file, Compose sets these things up for you, and the Compose service names like <code>webapp</code> will be usable as host names to call between containers.  <a href=\"https://docs.docker.com/compose/networking/\" rel=\"nofollow noreferrer\">Networking in Compose</a> in the Docker documentation has further details.</p>\n"}],"owner":{"account_id":21330293,"reputation":13,"user_id":16393572,"display_name":"Michael"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71526025,"answer_count":2,"score":1,"last_activity_date":1647604560,"creation_date":1647596543,"question_id":71525038,"body_markdown":"My docker-compose file:\r\n```\r\nwebapp:\r\n    container_name: webapp\r\n    hostname: webservice-server\r\n    build:\r\n      context: .\r\n      dockerfile: ServerDockerfile // ServerDockerfile starts tomcat\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n\r\nwebservices_test_client:\r\n    build:\r\n      context: .\r\n      dockerfile: TestsDockerfile\r\n    depends_on:\r\n      - webapp\r\n\r\n```\r\n\r\nWhen I try to send request to &quot;http://webservice-server:8080/&quot; via Apache HttpClient from tests in container webservices_test_client I am getting UnknownHostException. \r\n```\r\nHttpGet httpGet = new HttpGet(&quot;http://webservice-server:8080/&quot;);\r\nHttpResponse httpResponse = httpClient.execute(httpGet);\r\n```\r\nWhat&#39;s wrong? Thanks for answers.","title":"java.net.UnknownHostException: Name or service not known","body":"<p>My docker-compose file:</p>\n<pre><code>webapp:\n    container_name: webapp\n    hostname: webservice-server\n    build:\n      context: .\n      dockerfile: ServerDockerfile // ServerDockerfile starts tomcat\n    ports:\n      - &quot;8080:8080&quot;\n\nwebservices_test_client:\n    build:\n      context: .\n      dockerfile: TestsDockerfile\n    depends_on:\n      - webapp\n\n</code></pre>\n<p>When I try to send request to &quot;http://webservice-server:8080/&quot; via Apache HttpClient from tests in container webservices_test_client I am getting UnknownHostException.</p>\n<pre><code>HttpGet httpGet = new HttpGet(&quot;http://webservice-server:8080/&quot;);\nHttpResponse httpResponse = httpClient.execute(httpGet);\n</code></pre>\n<p>What's wrong? Thanks for answers.</p>\n"},{"tags":["java","intellij-idea","discord","discord-jda"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1645778254,"post_id":71258294,"comment_id":125965772,"body_markdown":"Your Java class file must have the same name as the class: `testbotgradle`. Also, the naming guidelines recommend using upper case for first class name letter ([CamelCase notation](https://wikipedia.org/wiki/CamelCase)).","body":"Your Java class file must have the same name as the class: <code>testbotgradle</code>. Also, the naming guidelines recommend using upper case for first class name letter (<a href=\"https://wikipedia.org/wiki/CamelCase\" rel=\"nofollow noreferrer\">CamelCase notation</a>)."},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1645831178,"post_id":71258294,"comment_id":125982911,"body_markdown":"You need to remove the `new` before `JDABuilder`. You are calling a static method, not a constructor.","body":"You need to remove the <code>new</code> before <code>JDABuilder</code>. You are calling a static method, not a constructor."}],"owner":{"account_id":24369607,"reputation":1,"user_id":18302776,"display_name":"coolerapfel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647604416,"creation_date":1645737055,"question_id":71258294,"body_markdown":"build.gradle\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    implementation(&quot;net.dv8tion:JDA:5.0.0-alpha.8&quot;)\r\n\r\n\r\n}\r\n\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n``` \r\nbot.java\r\n```\r\npackage Main;\r\nimport net.dv8tion.jda.api.JDABuilder;\r\n        ;\r\n\r\n\r\npublic class testbotgradle {\r\n    public static void  main(String[] args) throws LoginException {\r\n        JDABuilder jda = new JDABuilder.createDefault(&quot;my tocen&quot;);\r\n        jda.setActivity(Ativity.playing(&quot;test&quot;));\r\n                jda.setStatus(OnlineStatus.ONLINE);\r\n        jda.build();\r\n    }\r\n }\r\n```\r\nthrows\r\n\r\njava.lang.ClassNotFoundException: bot\r\n\r\nAlso seams like Java cant import the JDA package but I have no idea why. I have installed the dependencies. They are in the same project. Im using IntellijIDEA","title":"Discord JDA wont import JDABuilder","body":"<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n    implementation(&quot;net.dv8tion:JDA:5.0.0-alpha.8&quot;)\n\n\n}\n\n\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>bot.java</p>\n<pre><code>package Main;\nimport net.dv8tion.jda.api.JDABuilder;\n        ;\n\n\npublic class testbotgradle {\n    public static void  main(String[] args) throws LoginException {\n        JDABuilder jda = new JDABuilder.createDefault(&quot;my tocen&quot;);\n        jda.setActivity(Ativity.playing(&quot;test&quot;));\n                jda.setStatus(OnlineStatus.ONLINE);\n        jda.build();\n    }\n }\n</code></pre>\n<p>throws</p>\n<p>java.lang.ClassNotFoundException: bot</p>\n<p>Also seams like Java cant import the JDA package but I have no idea why. I have installed the dependencies. They are in the same project. Im using IntellijIDEA</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3251293,"reputation":2956,"user_id":2741462,"accept_rate":75,"display_name":"Bhuwan Prasad Upadhyay"},"score":0,"creation_date":1446941098,"post_id":33589226,"comment_id":54954574,"body_markdown":"Please verify inside D:\\Maven\\bin there is mvn.bat exist or not.","body":"Please verify inside D:\\Maven\\bin there is mvn.bat exist or not."},{"owner":{"account_id":3251293,"reputation":2956,"user_id":2741462,"accept_rate":75,"display_name":"Bhuwan Prasad Upadhyay"},"score":0,"creation_date":1446941154,"post_id":33589226,"comment_id":54954584,"body_markdown":"Make sure you have your maven bin directory in the path and the JAVA_HOME property set","body":"Make sure you have your maven bin directory in the path and the JAVA_HOME property set"},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":0,"creation_date":1446942800,"post_id":33589226,"comment_id":54954899,"body_markdown":"This is a Windows path issue, not a Maven issue.  What does echo %PATH% return?","body":"This is a Windows path issue, not a Maven issue.  What does echo %PATH% return?"},{"owner":{"account_id":5801852,"reputation":1520,"user_id":4575793,"display_name":"Cadoiz"},"score":0,"creation_date":1631538872,"post_id":33589226,"comment_id":122241587,"body_markdown":"You can consider [this related Q/A](https://stackoverflow.com/q/17432809/4575793).\nBe aware that (at least for recent Windows) there is a difference between user (above) and system environment variables such as `path`. [Screenshot here](https://i.stack.imgur.com/zHtTQ.png)","body":"You can consider <a href=\"https://stackoverflow.com/q/17432809/4575793\">this related Q/A</a>. Be aware that (at least for recent Windows) there is a difference between user (above) and system environment variables such as <code>path</code>. <a href=\"https://i.stack.imgur.com/zHtTQ.png\" rel=\"nofollow noreferrer\">Screenshot here</a>"}],"answers":[{"tags":[],"owner":{"account_id":3251293,"reputation":2956,"user_id":2741462,"accept_rate":75,"display_name":"Bhuwan Prasad Upadhyay"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1446944500,"creation_date":1446941600,"answer_id":33589319,"question_id":33589226,"body_markdown":"Don&#39;t put extra space in your path after D:\\Maven\\bin; in D:\\Maven\\bin; D:\\Program Files\\NodeJS; Please don&#39;t make any space in path variable.\r\n\r\nNormally, To set mvn in command line in windows :\r\n\r\n 1. Set JAVA_HOME property in system environment  \r\n    eg. `JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_65`\r\n 2. Set M2_HOME property in system environment          \r\n    eg. `M2_HOME=D:\\apache-maven-3.3.3`\r\n 3. Finally add maven to PATH   \r\n\r\n    `;%M2_HOME%\\bin;` add this at the end of PATH property of system environment\r\n\r\nNow Try `mvn -version` \r\n\r\n\r\n","title":"&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file error in Windows 10","body":"<p>Don't put extra space in your path after D:\\Maven\\bin; in D:\\Maven\\bin; D:\\Program Files\\NodeJS; Please don't make any space in path variable.</p>\n\n<p>Normally, To set mvn in command line in windows :</p>\n\n<ol>\n<li>Set JAVA_HOME property in system environment<br>\neg. <code>JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_65</code></li>\n<li>Set M2_HOME property in system environment<br>\neg. <code>M2_HOME=D:\\apache-maven-3.3.3</code></li>\n<li><p>Finally add maven to PATH   </p>\n\n<p><code>;%M2_HOME%\\bin;</code> add this at the end of PATH property of system environment</p></li>\n</ol>\n\n<p>Now Try <code>mvn -version</code> </p>\n"},{"tags":[],"owner":{"account_id":6739145,"reputation":276,"user_id":5192875,"display_name":"Rahul Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539410596,"creation_date":1539410596,"answer_id":52790014,"question_id":33589226,"body_markdown":"Try to put full maven path upto bin like &quot;**C:\\Users\\ABC\\Downloads\\maven-2.0.5-bin\\maven-2.0.5\\bin**&quot; directly into path variable of os, then you will be able to understand where problem exists.","title":"&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file error in Windows 10","body":"<p>Try to put full maven path upto bin like \"<strong>C:\\Users\\ABC\\Downloads\\maven-2.0.5-bin\\maven-2.0.5\\bin</strong>\" directly into path variable of os, then you will be able to understand where problem exists.</p>\n"},{"tags":[],"owner":{"account_id":17302935,"reputation":169,"user_id":12532291,"display_name":"Vignesh Ravichandran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647604251,"creation_date":1647604251,"answer_id":71526632,"question_id":33589226,"body_markdown":"One mistake I did was, There will two environment variables section\r\n\r\nOne can be accessed via admin while the other one doesn&#39;t require any.\r\nPlease specify the paths in the second place \r\n\r\nIt will work for sure., also try `echo %M2_HOME%` to check whether you have configured correctly..before jumping to `mvn install`\r\n\r\nHope this helps for someone who has to use admin rights ","title":"&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file error in Windows 10","body":"<p>One mistake I did was, There will two environment variables section</p>\n<p>One can be accessed via admin while the other one doesn't require any.\nPlease specify the paths in the second place</p>\n<p>It will work for sure., also try <code>echo %M2_HOME%</code> to check whether you have configured correctly..before jumping to <code>mvn install</code></p>\n<p>Hope this helps for someone who has to use admin rights</p>\n"}],"owner":{"account_id":6017058,"reputation":5034,"user_id":4725496,"accept_rate":94,"display_name":"Boris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42113,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33589319,"answer_count":3,"score":3,"last_activity_date":1647604251,"creation_date":1446940592,"question_id":33589226,"body_markdown":"I have read similar questions about this problem but it is not working anyways.\r\n\r\n**I&#39;ve extracted maven 3.3.3 to D:\\Maven (Java already installed and works fine) then added 2 system variables:**\r\n\r\n| Variable| Value|\r\n| -------- | -------------- |\r\n| `M2`| `%M2_HOME%\\bin`|\r\n| `M2_HOME` | `D:\\Maven`            |\r\n\r\n\r\n**I&#39;ve also appended next in the path:**\r\n\r\n`%M2%`\r\n\r\nBut it is still not working. \r\n\r\nI can execute `mvn -version` from the `D:\\Maven\\bin` but can&#39;t do this from another directory.","title":"&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file error in Windows 10","body":"<p>I have read similar questions about this problem but it is not working anyways.</p>\n<p><strong>I've extracted maven 3.3.3 to D:\\Maven (Java already installed and works fine) then added 2 system variables:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Variable</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>M2</code></td>\n<td><code>%M2_HOME%\\bin</code></td>\n</tr>\n<tr>\n<td><code>M2_HOME</code></td>\n<td><code>D:\\Maven</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>I've also appended next in the path:</strong></p>\n<p><code>%M2%</code></p>\n<p>But it is still not working.</p>\n<p>I can execute <code>mvn -version</code> from the <code>D:\\Maven\\bin</code> but can't do this from another directory.</p>\n"},{"tags":["java","math","factorial"],"comments":[{"owner":{"account_id":197763,"reputation":1000,"user_id":442036,"accept_rate":92,"display_name":"ivorykoder"},"score":0,"creation_date":1286796352,"post_id":3905658,"comment_id":4162367,"body_markdown":"Use BigInteger man! Know your Language first. \\m/","body":"Use BigInteger man! Know your Language first. \\m/"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1647613768,"post_id":3905658,"comment_id":126421611,"body_markdown":"You should be using ln(gamma) function and memoization.  gamma(n+1) = n!.","body":"You should be using ln(gamma) function and memoization.  gamma(n+1) = n!."}],"answers":[{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1286797064,"creation_date":1286795718,"answer_id":3905674,"question_id":3905658,"body_markdown":"There&#39;s no way you can fit `500!` on a 32-bit `int`.\r\n\r\nFor calculations involving large numbers, consider using a `double` or a [`BigInteger`][1], depending on whether you want an approximate or an exact answer.\r\n\r\n(Actually, for `500!`, even a `double` would not be enough: `Double.MAX_VALUE` is 1.7976931348623157E+308, which will &quot;only&quot; let you go up to `170!`)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html","title":"factorial method doesn&#39;t work well!","body":"<p>There's no way you can fit <code>500!</code> on a 32-bit <code>int</code>.</p>\n\n<p>For calculations involving large numbers, consider using a <code>double</code> or a <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html\" rel=\"nofollow\"><code>BigInteger</code></a>, depending on whether you want an approximate or an exact answer.</p>\n\n<p>(Actually, for <code>500!</code>, even a <code>double</code> would not be enough: <code>Double.MAX_VALUE</code> is 1.7976931348623157E+308, which will \"only\" let you go up to <code>170!</code>)</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286795984,"creation_date":1286795984,"answer_id":3905701,"question_id":3905658,"body_markdown":"[Grodriguez is right][1] - this is almost certainly caused by integer overflow.\r\n\r\nIf you test your method with more modest inputs it appears to return the right output:\r\n\r\n    public static void main(String[] args) {\r\n       Demo obj = new Demo();\r\n       for (int i = 0; i &lt; 10; i++)\r\n          System.out.println(i + &quot;! = &quot; + obj.factorial(i));\r\n    } \r\n\r\n`500!` is **massive**; when testing your function, starting with smaller inputs would be prudent.\r\n\r\n  [1]: https://stackoverflow.com/questions/3905658/factorial-method-doesnt-work-well/3905674#3905674","title":"factorial method doesn&#39;t work well!","body":"<p><a href=\"https://stackoverflow.com/questions/3905658/factorial-method-doesnt-work-well/3905674#3905674\">Grodriguez is right</a> - this is almost certainly caused by integer overflow.</p>\n\n<p>If you test your method with more modest inputs it appears to return the right output:</p>\n\n<pre><code>public static void main(String[] args) {\n   Demo obj = new Demo();\n   for (int i = 0; i &lt; 10; i++)\n      System.out.println(i + \"! = \" + obj.factorial(i));\n} \n</code></pre>\n\n<p><code>500!</code> is <strong>massive</strong>; when testing your function, starting with smaller inputs would be prudent.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1647603765,"creation_date":1286796009,"answer_id":3905704,"question_id":3905658,"body_markdown":"Since `500!` equals `1220136825991110068701238785423046926253574342803192842192413588385845373153881997605496447502203281863013616477148203584163378722078177200480785205159329285477907571939330603772960859086270429174547882424912726344305670173270769461062802310452644218878789465754777149863494367781037644274033827365397471386477878495438489595537537990423241061271326984327745715546309977202781014561081188373709531016356324432987029563896628911658974769572087926928871281780070265174507768410719624390394322536422605234945850129918571501248706961568141625359056693423813008856249246891564126775654481886506593847951775360894005745238940335798476363944905313062323749066445048824665075946735862074637925184200459369692981022263971952597190945217823331756934581508552332820762820023402626907898342451712006207714640979456116127629145951237229913340169552363850942885592018727433795173014586357570828355780158735432768888680120399882384702151467605445407663535984174430480128938313896881639487469658817504506926365338175055478128640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000` you can&#39;t fit it into an `int` (which ranges up to `2147483647`).\r\n\r\n- Using an `int` you can only store up to `12!`.\r\n- Using a `long` you&#39;ll get up to `20!`\r\n- Using a `double` you&#39;ll get up to `170!`.\r\n- By convention 0! equals 1;\r\n\r\nHere is a solution using `BigInteger`:\r\n\r\n    public static BigInteger factorial(int i) {\r\n        if (i == 0) {\r\n            return BigInteger.ONE;\r\n        }\r\n        BigInteger n = BigInteger.valueOf(i);\r\n        while (--i &gt; 0) {\r\n            n = n.multiply(BigInteger.valueOf(i));\r\n        }\r\n        return n;\r\n    }\r\n","title":"factorial method doesn&#39;t work well!","body":"<p>Since <code>500!</code> equals <code>1220136825991110068701238785423046926253574342803192842192413588385845373153881997605496447502203281863013616477148203584163378722078177200480785205159329285477907571939330603772960859086270429174547882424912726344305670173270769461062802310452644218878789465754777149863494367781037644274033827365397471386477878495438489595537537990423241061271326984327745715546309977202781014561081188373709531016356324432987029563896628911658974769572087926928871281780070265174507768410719624390394322536422605234945850129918571501248706961568141625359056693423813008856249246891564126775654481886506593847951775360894005745238940335798476363944905313062323749066445048824665075946735862074637925184200459369692981022263971952597190945217823331756934581508552332820762820023402626907898342451712006207714640979456116127629145951237229913340169552363850942885592018727433795173014586357570828355780158735432768888680120399882384702151467605445407663535984174430480128938313896881639487469658817504506926365338175055478128640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</code> you can't fit it into an <code>int</code> (which ranges up to <code>2147483647</code>).</p>\n<ul>\n<li>Using an <code>int</code> you can only store up to <code>12!</code>.</li>\n<li>Using a <code>long</code> you'll get up to <code>20!</code></li>\n<li>Using a <code>double</code> you'll get up to <code>170!</code>.</li>\n<li>By convention 0! equals 1;</li>\n</ul>\n<p>Here is a solution using <code>BigInteger</code>:</p>\n<pre><code>public static BigInteger factorial(int i) {\n    if (i == 0) {\n        return BigInteger.ONE;\n    }\n    BigInteger n = BigInteger.valueOf(i);\n    while (--i &gt; 0) {\n        n = n.multiply(BigInteger.valueOf(i));\n    }\n    return n;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286796150,"creation_date":1286796150,"answer_id":3905722,"question_id":3905658,"body_markdown":"`500!` is ***way*** too big to fit a long, or double.  \r\nYou would have to use other techniques to get this.\r\n\r\nBut first, what kind of program needs `500!`?","title":"factorial method doesn&#39;t work well!","body":"<p><code>500!</code> is <strong><em>way</em></strong> too big to fit a long, or double.<br>\nYou would have to use other techniques to get this.</p>\n\n<p>But first, what kind of program needs <code>500!</code>?</p>\n"},{"tags":[],"owner":{"account_id":60641,"reputation":25396,"user_id":181106,"accept_rate":81,"display_name":"uckelman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1286802375,"creation_date":1286802375,"answer_id":3906458,"question_id":3905658,"body_markdown":"There are two things you should be looking into if you need to calculate the factorial function:\r\n\r\n1) [Memoization](http://en.wikipedia.org/wiki/Memoization). This will dramatically speed up your calculations, since the factorial function has a recursive definition. What you do is cache previous calculations, so when you ask for `k!`, you can get it in one step by calculating `k*((k-1)!)` if you have `(k-1)!` cached.\r\n\r\n2) [Stirling&#39;s approximation](http://en.wikipedia.org/wiki/Stirling%27s_approximation). If you need to calculate large factorials, you can approximate them very rapidly this way, and with guaranteed bounds on the error, so you can tell whether the approximation will be acceptably close for your application.\r\n\r\nIf you do neither of these, you will find that there is some relatively small `k` for which you simply can&#39;t calculate `k!` in a reasonable amount of time.","title":"factorial method doesn&#39;t work well!","body":"<p>There are two things you should be looking into if you need to calculate the factorial function:</p>\n\n<p>1) <a href=\"http://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow\">Memoization</a>. This will dramatically speed up your calculations, since the factorial function has a recursive definition. What you do is cache previous calculations, so when you ask for <code>k!</code>, you can get it in one step by calculating <code>k*((k-1)!)</code> if you have <code>(k-1)!</code> cached.</p>\n\n<p>2) <a href=\"http://en.wikipedia.org/wiki/Stirling%27s_approximation\" rel=\"nofollow\">Stirling's approximation</a>. If you need to calculate large factorials, you can approximate them very rapidly this way, and with guaranteed bounds on the error, so you can tell whether the approximation will be acceptably close for your application.</p>\n\n<p>If you do neither of these, you will find that there is some relatively small <code>k</code> for which you simply can't calculate <code>k!</code> in a reasonable amount of time.</p>\n"},{"tags":[],"owner":{"account_id":214034,"reputation":1497,"user_id":467764,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286804369,"creation_date":1286804369,"answer_id":3906750,"question_id":3905658,"body_markdown":"There are some very nice optimization for the implementation of factorizations: see for instance [luschny.de][1] for a nice implementation of them in Java. Some require more mathematical insight then others... Have fun with the library :-) \r\n\r\n\r\n  [1]: http://www.luschny.de/math/factorial/download.html","title":"factorial method doesn&#39;t work well!","body":"<p>There are some very nice optimization for the implementation of factorizations: see for instance <a href=\"http://www.luschny.de/math/factorial/download.html\" rel=\"nofollow\">luschny.de</a> for a nice implementation of them in Java. Some require more mathematical insight then others... Have fun with the library :-) </p>\n"}],"owner":{"account_id":216781,"reputation":3014,"user_id":472221,"accept_rate":75,"display_name":"user472221"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2490,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3905704,"answer_count":6,"score":6,"last_activity_date":1647603765,"creation_date":1286795567,"question_id":3905658,"body_markdown":"this is a factorial method but it prints 0 in the console please help me thanks\r\n\r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            Demo obj = new Demo();\r\n            System.out.println(obj.factorial(500));\r\n        }\r\n    \r\n        public int factorial(int n) {\r\n            int fact = 1;\r\n           \r\n            for (int i = 2; i &lt;= n; i++) {\r\n                fact= fact*i;\r\n            }\r\n            return fact;\r\n        }\r\n\r\nEDITED:will return Infinity! \r\n\r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            Demo obj = new Demo();\r\n            System.out.println(obj.factorial(500));\r\n        }\r\n    \r\n        public double  factorial(long n) {\r\n           double fact = 1;\r\n           \r\n            for (int i = 2; i &lt;= n; i++) {\r\n                fact= fact*i;\r\n            }\r\n            return fact;\r\n        }\r\n    }","title":"factorial method doesn&#39;t work well!","body":"<p>Hi\nthis is a factorial method but it prints 0 in the console please help me thanks</p>\n\n<pre><code>public class Demo {\n\n    public static void main(String[] args) {\n        Demo obj = new Demo();\n        System.out.println(obj.factorial(500));\n    }\n\n    public int factorial(int n) {\n        int fact = 1;\n\n        for (int i = 2; i &lt;= n; i++) {\n            fact= fact*i;\n        }\n        return fact;\n    }\n</code></pre>\n\n<p>EDITED:will return Infinity! </p>\n\n<pre><code>public class Demo {\n\n    public static void main(String[] args) {\n        Demo obj = new Demo();\n        System.out.println(obj.factorial(500));\n    }\n\n    public double  factorial(long n) {\n       double fact = 1;\n\n        for (int i = 2; i &lt;= n; i++) {\n            fact= fact*i;\n        }\n        return fact;\n    }\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1647508032,"post_id":71509596,"comment_id":126390329,"body_markdown":"Do you know how to write an if statement? Or a switch?","body":"Do you know how to write an if statement? Or a switch?"},{"owner":{"account_id":23470115,"reputation":43,"user_id":17523737,"display_name":"Heyy"},"score":0,"creation_date":1647508557,"post_id":71509596,"comment_id":126390540,"body_markdown":"yes I know but I actually don&#39;t know what to put in it... I first thought of putting this.color.equals(...), but that doesn&#39;t seem to work","body":"yes I know but I actually don&#39;t know what to put in it... I first thought of putting this.color.equals(...), but that doesn&#39;t seem to work"}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647603536,"creation_date":1647508782,"answer_id":71509756,"question_id":71509596,"body_markdown":"If this element is RED, you want to return YELLOW; otherwise you want to return RED. So\r\n\r\n    public enum Color {\r\n        RED, YELLOW;\r\n        public Color opposite() {\r\n            if (this==Color.RED) {\r\n                return Color.YELLOW;\r\n            }\r\n            return Color.RED;\r\n        }\r\n    }\r\n\r\nThe `opposite()` method can be written more concisely as:\r\n\r\n    public Color opposite() {\r\n        return (this==Color.RED ? Color.YELLOW : Color.RED);\r\n    }\r\n\r\nor, if you want to allow for more enum values, as:\r\n\r\n    public Color opposite() {\r\n        switch (this) {\r\n            case RED: return Color.YELLOW;\r\n            case YELLOW: return Color.RED;\r\n            // other possible values\r\n        }\r\n        // required for compiler\r\n        return null;\r\n    }\r\n\r\nAs [Holger suggests](https://stackoverflow.com/questions/71509596/how-to-create-enum-method/71509756?noredirect=1#comment126403009_71509756), Java 12 onwards supports [switch expressions](https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html), which offer a cleaner alternative:\r\n\r\n    public Color opposite() {\r\n        return switch (this) {\r\n            case RED -&gt; Color.YELLOW;\r\n            case YELLOW -&gt; Color.RED;\r\n        };\r\n    }","title":"How to create enum method","body":"<p>If this element is RED, you want to return YELLOW; otherwise you want to return RED. So</p>\n<pre><code>public enum Color {\n    RED, YELLOW;\n    public Color opposite() {\n        if (this==Color.RED) {\n            return Color.YELLOW;\n        }\n        return Color.RED;\n    }\n}\n</code></pre>\n<p>The <code>opposite()</code> method can be written more concisely as:</p>\n<pre><code>public Color opposite() {\n    return (this==Color.RED ? Color.YELLOW : Color.RED);\n}\n</code></pre>\n<p>or, if you want to allow for more enum values, as:</p>\n<pre><code>public Color opposite() {\n    switch (this) {\n        case RED: return Color.YELLOW;\n        case YELLOW: return Color.RED;\n        // other possible values\n    }\n    // required for compiler\n    return null;\n}\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/questions/71509596/how-to-create-enum-method/71509756?noredirect=1#comment126403009_71509756\">Holger suggests</a>, Java 12 onwards supports <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch expressions</a>, which offer a cleaner alternative:</p>\n<pre><code>public Color opposite() {\n    return switch (this) {\n        case RED -&gt; Color.YELLOW;\n        case YELLOW -&gt; Color.RED;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647509861,"creation_date":1647509861,"answer_id":71510031,"question_id":71509596,"body_markdown":"Try using **switch** for this.\r\n\r\n   \r\n\r\n     public class Main {\r\n        enum Color {\r\n            RED,\r\n            YELLOW;\r\n        }\r\n        public static void main(String[] args) {\r\n        }\r\n        public Color opposite() {\r\n            Color myColor = Color.RED;\r\n            return switch (myColor) {\r\n                case RED -&gt; Color.YELLOW;\r\n                case YELLOW -&gt; Color.RED;\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\nIf you prefer to use **if statement** instead of switch. You can try this instead \r\n\r\n    public Color opposite() {\r\n            Color myColor = Color.RED;\r\n            if (myColor == Color.RED) {\r\n                return Color.YELLOW;\r\n            } else  if (myColor == Color.YELLOW) {\r\n                return Color.RED;\r\n            }\r\n            return null;\r\n        }","title":"How to create enum method","body":"<p>Try using <strong>switch</strong> for this.</p>\n<pre><code> public class Main {\n    enum Color {\n        RED,\n        YELLOW;\n    }\n    public static void main(String[] args) {\n    }\n    public Color opposite() {\n        Color myColor = Color.RED;\n        return switch (myColor) {\n            case RED -&gt; Color.YELLOW;\n            case YELLOW -&gt; Color.RED;\n        };\n    }\n\n}\n</code></pre>\n<p>If you prefer to use <strong>if statement</strong> instead of switch. You can try this instead</p>\n<pre><code>public Color opposite() {\n        Color myColor = Color.RED;\n        if (myColor == Color.RED) {\n            return Color.YELLOW;\n        } else  if (myColor == Color.YELLOW) {\n            return Color.RED;\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":23470115,"reputation":43,"user_id":17523737,"display_name":"Heyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71509756,"answer_count":2,"score":2,"last_activity_date":1647603536,"creation_date":1647507899,"question_id":71509596,"body_markdown":"I have this enum : ```public enum Color { RED, YELLOW; }```.\r\nAnd I want to create a method that returns the opposite color of the actual one. So if I have RED, my method returns YELLOW. But I don&#39;t know the process to follow to do that. \r\nFirst step : ```public Color opposite() { return ??? }```","title":"How to create enum method","body":"<p>I have this enum : <code>public enum Color { RED, YELLOW; }</code>.\nAnd I want to create a method that returns the opposite color of the actual one. So if I have RED, my method returns YELLOW. But I don't know the process to follow to do that.\nFirst step : <code>public Color opposite() { return ??? }</code></p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":1,"creation_date":1647598557,"post_id":71524762,"comment_id":126416252,"body_markdown":"Please rewrite your question to be more readable. Also, please ask only one question at a time.","body":"Please rewrite your question to be more readable. Also, please ask only one question at a time."}],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647603159,"creation_date":1647603159,"answer_id":71526433,"question_id":71524762,"body_markdown":"So, I think the main question is how to format your double with a Euro sign. For this, you can simply set the currency `NumberFormat` should use:\r\n```\r\nNumberFormat format = NumberFormat.getCurrencyInstance();\r\nCurrency currency = Currency.getInstance(&quot;EUR&quot;);\r\nformat.setCurrency(currency);\r\n\r\nSystem.out.println(format.format(40.27));\r\n```\r\nOutput:\r\n```\r\n€40.27\r\n```\r\nThis method only adds the € sign, but does not change the decimal point or anything else. Alternatively, you can also use the format of a specific country. For example France:\r\n```\r\nNumberFormat france = NumberFormat.getCurrencyInstance(Locale.FRANCE);\r\nSystem.out.println(france.format(40.27));\r\n```\r\nOutput:\r\n```\r\n40,27&#160;€\r\n```","title":"How to remove $ mark and add € mark to number format in android studio","body":"<p>So, I think the main question is how to format your double with a Euro sign. For this, you can simply set the currency <code>NumberFormat</code> should use:</p>\n<pre><code>NumberFormat format = NumberFormat.getCurrencyInstance();\nCurrency currency = Currency.getInstance(&quot;EUR&quot;);\nformat.setCurrency(currency);\n\nSystem.out.println(format.format(40.27));\n</code></pre>\n<p>Output:</p>\n<pre><code>€40.27\n</code></pre>\n<p>This method only adds the € sign, but does not change the decimal point or anything else. Alternatively, you can also use the format of a specific country. For example France:</p>\n<pre><code>NumberFormat france = NumberFormat.getCurrencyInstance(Locale.FRANCE);\nSystem.out.println(france.format(40.27));\n</code></pre>\n<p>Output:</p>\n<pre><code>40,27 €\n</code></pre>\n"}],"owner":{"account_id":23356086,"reputation":134,"user_id":17429040,"display_name":"ayeshchanaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647603159,"creation_date":1647595008,"question_id":71524762,"body_markdown":"The belove code give me $00.00 format number and and i want €00,00 like this. \r\nWHat i really want is , when User type on EditeText it should like bigin €00,09 like this .\r\nAnd another problem is if i enter numbers and delete fastly the app crash.\r\nAny one know how to solve this?\r\n\r\n\r\n\r\n    public class MoneyTextWatcher implements TextWatcher {\r\n        private final WeakReference&lt;EditText&gt; editTextWeakReference;\r\n    \r\n        public MoneyTextWatcher(EditText mEditText) {\r\n            editTextWeakReference = new WeakReference&lt;EditText&gt;(mEditText);\r\n        }\r\n    \r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n    \r\n           EditText editTex = editTextWeakReference.get();\r\n            if(!s.toString().equals(editTex.getText())) {\r\n                editTex.removeTextChangedListener(this);\r\n                String cleanString = s.toString().replaceAll(&quot;[€,.]&quot;, &quot;&quot;);\r\n                double parsed = Double.parseDouble(cleanString.replaceAll(&quot;[^\\\\d]&quot;, &quot;&quot;));\r\n                String formatted = NumberFormat.getCurrencyInstance().format((parsed / 100));\r\n                editTex.setText(formatted);\r\n                editTex.setSelection(formatted.length());\r\n    \r\n                editTex.addTextChangedListener(this);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n    \r\n        }\r\n    \r\n    \r\n        }\r\n    }","title":"How to remove $ mark and add € mark to number format in android studio","body":"<p>The belove code give me $00.00 format number and and i want €00,00 like this.\nWHat i really want is , when User type on EditeText it should like bigin €00,09 like this .\nAnd another problem is if i enter numbers and delete fastly the app crash.\nAny one know how to solve this?</p>\n<pre><code>public class MoneyTextWatcher implements TextWatcher {\n    private final WeakReference&lt;EditText&gt; editTextWeakReference;\n\n    public MoneyTextWatcher(EditText mEditText) {\n        editTextWeakReference = new WeakReference&lt;EditText&gt;(mEditText);\n    }\n\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n    }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n       EditText editTex = editTextWeakReference.get();\n        if(!s.toString().equals(editTex.getText())) {\n            editTex.removeTextChangedListener(this);\n            String cleanString = s.toString().replaceAll(&quot;[€,.]&quot;, &quot;&quot;);\n            double parsed = Double.parseDouble(cleanString.replaceAll(&quot;[^\\\\d]&quot;, &quot;&quot;));\n            String formatted = NumberFormat.getCurrencyInstance().format((parsed / 100));\n            editTex.setText(formatted);\n            editTex.setSelection(formatted.length());\n\n            editTex.addTextChangedListener(this);\n\n    }\n\n    @Override\n    public void afterTextChanged(Editable s) {\n\n    }\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-firestore","collections"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1645091362,"post_id":71153681,"comment_id":125780401,"body_markdown":"&quot;never let me save&quot; doesn&#39;t provide enough information. What exactly happens?","body":"&quot;never let me save&quot; doesn&#39;t provide enough information. What exactly happens?"},{"owner":{"account_id":24284809,"reputation":11,"user_id":18230726,"display_name":"libo Zou"},"score":0,"creation_date":1645116683,"post_id":71153681,"comment_id":125791273,"body_markdown":"I am not sure, but I put the same information as other people who are able to creat, but just not working for me. The photo is in the link, if it helps.","body":"I am not sure, but I put the same information as other people who are able to creat, but just not working for me. The photo is in the link, if it helps."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1645116957,"post_id":71153681,"comment_id":125791396,"body_markdown":"Have you tried to name the collection in English?","body":"Have you tried to name the collection in English?"},{"owner":{"account_id":24284809,"reputation":11,"user_id":18230726,"display_name":"libo Zou"},"score":0,"creation_date":1645119071,"post_id":71153681,"comment_id":125792286,"body_markdown":"yes I use english as the name of the collection, and i try to use english as my default language, but none of them let me save, the button is just grey and unclickable.","body":"yes I use english as the name of the collection, and i try to use english as my default language, but none of them let me save, the button is just grey and unclickable."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1645119172,"post_id":71153681,"comment_id":125792327,"body_markdown":"Have you tried to use another browser like Internet Explorer?","body":"Have you tried to use another browser like Internet Explorer?"},{"owner":{"account_id":24284809,"reputation":11,"user_id":18230726,"display_name":"libo Zou"},"score":1,"creation_date":1645119457,"post_id":71153681,"comment_id":125792444,"body_markdown":"I tried edge, firefox and chrome, but have no luck.......","body":"I tried edge, firefox and chrome, but have no luck......."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1645124486,"post_id":71153681,"comment_id":125794195,"body_markdown":"Give it a try and write directly to the Firebase team. When you get an answer, write here, so other future visitors can benefit.","body":"Give it a try and write directly to the Firebase team. When you get an answer, write here, so other future visitors can benefit."},{"owner":{"account_id":15489018,"reputation":65,"user_id":12172751,"display_name":"BalaRohan"},"score":0,"creation_date":1647602261,"post_id":71153681,"comment_id":126417563,"body_markdown":"Same problem for me too, i think it has something to do with security rules, im not sure but yeah. im trying to change the firestore rules from production to testing, ill get back to u asap and tell if it works","body":"Same problem for me too, i think it has something to do with security rules, im not sure but yeah. im trying to change the firestore rules from production to testing, ill get back to u asap and tell if it works"}],"answers":[{"tags":[],"owner":{"account_id":15489018,"reputation":65,"user_id":12172751,"display_name":"BalaRohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647602957,"creation_date":1647602957,"answer_id":71526386,"question_id":71153681,"body_markdown":"So I had the same issue, when i initialized the firestore, it defaulted to  production mode. And when i was trying to create a new collection, the button to save is greyed out. So i thought it has something to do with the security rules, so i changed from production mode to testing mode. You can change it by going to CloudFirestore&gt;Rules&gt;Edit rules\r\n\r\nProduction mode:\r\n```\r\nrules_version = &#39;2&#39;;\r\nservice cloud.firestore {\r\n  match /databases/{database}/documents {\r\n    match /{document=**} {\r\n          allow read, write: if false;\r\n    }\r\n  }\r\n```\r\n\r\nTesting mode:\r\n```\r\nrules_version = &#39;2&#39;;\r\nservice cloud.firestore {\r\n  match /databases/{database}/documents {\r\n    match /{document=**} {\r\n      allow read, write: if\r\n             request.time &lt; timestamp.date(2021, 18, 4);\r\n           }\r\n    }\r\n  }\r\n```","title":"I can&#39;t click the save button when creating a new collection in Cloud Firestore","body":"<p>So I had the same issue, when i initialized the firestore, it defaulted to  production mode. And when i was trying to create a new collection, the button to save is greyed out. So i thought it has something to do with the security rules, so i changed from production mode to testing mode. You can change it by going to CloudFirestore&gt;Rules&gt;Edit rules</p>\n<p>Production mode:</p>\n<pre><code>rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n          allow read, write: if false;\n    }\n  }\n</code></pre>\n<p>Testing mode:</p>\n<pre><code>rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if\n             request.time &lt; timestamp.date(2021, 18, 4);\n           }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":24284809,"reputation":11,"user_id":18230726,"display_name":"libo Zou"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647602957,"creation_date":1645081083,"question_id":71153681,"body_markdown":"[image][1]\r\n\r\n\r\nI try to creat a collection in cloud firestore, but it never let me save even if I put the same information as other people who are able to creat. The photo is in the link, if it helps. I try turning off my antivirus, and switching from Chrome to Firefox, but having no luck. Can anyone help with this problem, I&#39;ll be grateful!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UwGR5.png","title":"I can&#39;t click the save button when creating a new collection in Cloud Firestore","body":"<p><a href=\"https://i.stack.imgur.com/UwGR5.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I try to creat a collection in cloud firestore, but it never let me save even if I put the same information as other people who are able to creat. The photo is in the link, if it helps. I try turning off my antivirus, and switching from Chrome to Firefox, but having no luck. Can anyone help with this problem, I'll be grateful!</p>\n"},{"tags":["java","memory-management","jvm","out-of-memory","metaspace"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1647607723,"post_id":71526373,"comment_id":126419243,"body_markdown":"This symptom is consistent with a memory leak. I would take a heap dump and analyze if I were you, to pinpoint the problem.","body":"This symptom is consistent with a memory leak. I would take a heap dump and analyze if I were you, to pinpoint the problem."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1647855560,"post_id":71526373,"comment_id":126467143,"body_markdown":"Go through all options and ask yourself about each “Do I actually know what it does and why it has been specified for my application?” and if not, remove it. Afterwards, run the software again and if encountering a problem then, ask a question.","body":"Go through all options and ask yourself about each “Do I actually know what it does and why it has been specified for my application?” and if not, remove it. Afterwards, run the software again and if encountering a problem then, ask a question."}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647602896,"creation_date":1647602896,"question_id":71526373,"body_markdown":"I have set MaxMetaspaceSize to 3072m;  MaxHeap Size=11g and HeapSize=1024m.\r\n\r\nCan anyone suggest what is problem with this settings on server\r\n\r\n    -d64 -XX:ThreadStackSize=256m -XX:NewRatio=2 -XX:+UseStringDeduplication -XX:+UseG1GC -XX:MaxMetaspaceSize=3072m\r\n\r\nWe usually get Metaspace issue and we restart the Wildfly server everytime; but after 6 hours we get metaspace again.\r\n\r\nThere are 40 projects deployed which are using these setting. (Each project has around 5 to 10 classes only) and mostly are schedulers (Connect DB and create file to SFTP OR hit Rest api and update some DB). \r\n\r\nMostly fire once during night and a few fire in like 30 minutes. In one integration, we need to load 2,00,000 data in memory and integration runs fine.\r\n\r\nIs there issue in metaspace settings? Should i increase?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oiFE3.png","title":"MaxMetaspaceSize=3072m and MaxHeap Size=11g and HeapSize=1024m and still out of memory:Metaspace","body":"<p>I have set MaxMetaspaceSize to 3072m;  MaxHeap Size=11g and HeapSize=1024m.</p>\n<p>Can anyone suggest what is problem with this settings on server</p>\n<pre><code>-d64 -XX:ThreadStackSize=256m -XX:NewRatio=2 -XX:+UseStringDeduplication -XX:+UseG1GC -XX:MaxMetaspaceSize=3072m\n</code></pre>\n<p>We usually get Metaspace issue and we restart the Wildfly server everytime; but after 6 hours we get metaspace again.</p>\n<p>There are 40 projects deployed which are using these setting. (Each project has around 5 to 10 classes only) and mostly are schedulers (Connect DB and create file to SFTP OR hit Rest api and update some DB).</p>\n<p>Mostly fire once during night and a few fire in like 30 minutes. In one integration, we need to load 2,00,000 data in memory and integration runs fine.</p>\n<p>Is there issue in metaspace settings? Should i increase?\n<a href=\"https://i.stack.imgur.com/oiFE3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oiFE3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","design-patterns","reactor"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1647524108,"post_id":71512825,"comment_id":126396091,"body_markdown":"`Mono` is not a value - it&#39;s a promise of a value some time in the future. You can&#39;t directly covnert `Mono&lt;String&gt;` to anything that you need *right now* - but you could convert `Mono&lt;String&gt;` into `Mono&lt;Rocket&gt;` that would resolve some time in the future, when `Mono&lt;String&gt;` is resolved.","body":"<code>Mono</code> is not a value - it&#39;s a promise of a value some time in the future. You can&#39;t directly covnert <code>Mono&lt;String&gt;</code> to anything that you need <i>right now</i> - but you could convert <code>Mono&lt;String&gt;</code> into <code>Mono&lt;Rocket&gt;</code> that would resolve some time in the future, when <code>Mono&lt;String&gt;</code> is resolved."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1647524932,"post_id":71512825,"comment_id":126396420,"body_markdown":"Yes, just wanted to suggest the same: instead of using reactive types in the builder, do the opposite: use builder in the reactive operators. Then you got a `Mono&lt;Rocket&gt;` in the end when you subscribe.","body":"Yes, just wanted to suggest the same: instead of using reactive types in the builder, do the opposite: use builder in the reactive operators. Then you got a <code>Mono&lt;Rocket&gt;</code> in the end when you subscribe."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647582183,"creation_date":1647582183,"answer_id":71522893,"question_id":71512825,"body_markdown":"One way to combine builder with reactive API is the following\r\n\r\n```\r\nMono.just(Rocket.builder())\r\n\t\t.flatMap(builder -&gt;\r\n\t\t\t\tengineCollector()\r\n\t\t\t\t\t\t.map(builder::engine)\r\n\t\t\t\t\t\t.thenReturn(builder)\r\n\t\t)\r\n\t\t.flatMap(builder -&gt;\r\n\t\t\t\tfuelCollector()\r\n\t\t\t\t\t\t.map(builder::fuel)\r\n\t\t\t\t\t\t.thenReturn(builder)\r\n\t\t)\r\n\t\t.map(builder -&gt; builder.build());\r\n```\r\n\r\nwhere\r\n\r\n```\r\n@Builder\r\nclass Rocket {\r\n\tprivate String engine;\r\n\tprivate String fuel;\r\n}\r\n\r\nMono&lt;String&gt; engineCollector() {\r\n...\r\n}\r\n\t\r\nMono&lt;String&gt; fuelCollector() {\r\n...\r\n}\r\n```","title":"Builder pattern with Reactor mono","body":"<p>One way to combine builder with reactive API is the following</p>\n<pre><code>Mono.just(Rocket.builder())\n        .flatMap(builder -&gt;\n                engineCollector()\n                        .map(builder::engine)\n                        .thenReturn(builder)\n        )\n        .flatMap(builder -&gt;\n                fuelCollector()\n                        .map(builder::fuel)\n                        .thenReturn(builder)\n        )\n        .map(builder -&gt; builder.build());\n</code></pre>\n<p>where</p>\n<pre><code>@Builder\nclass Rocket {\n    private String engine;\n    private String fuel;\n}\n\nMono&lt;String&gt; engineCollector() {\n...\n}\n    \nMono&lt;String&gt; fuelCollector() {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647602896,"creation_date":1647602896,"answer_id":71526372,"question_id":71512825,"body_markdown":"As I said, in the comment, trying to convert `Mono` into something that is is not a reactive type kind of flies in the face of using reactive programming to begin with.\r\n\r\nAccording to reactive paradigm, you shouldn&#39;t try to create `Rocket` when you have `Mono&lt;Engine&gt;` and `Mono&lt;FuelTank&gt;`. You should be creating a `Mono&lt;Rocket&gt;`, instead.\r\n\r\nNow, the code (note, that I would use the actual nominal types instead of just strings, for readability purposes). I personally would prefer the [Mono::zip][0] operation for most of cases you describe. For the case of just two values, you would not even need the builder:\r\n\r\n    public class Rocket {\r\n        ....\r\n        public Rocket(Engine engine, FuelTank fuel) {\r\n            ....\r\n        }\r\n        ....\r\n    }\r\n\r\n    Mono&lt;Engine&gt; engine = repo.getRocketEngine();\r\n    Mono&lt;FuelTank&gt; tank = repo.getRocketFuelTank();\r\n\r\n    Mono&lt;Rocket&gt; rocket = Mono.zip(engine, tank, Rocket::new);\r\n\r\nWhen you do have more than two properties, this becomes a little more involved, but still pretty straigntforward. For example, consider that your rocket has three parts: `NoseCone`, `Engine`, and `FuelTank`, instead of two. Well, the `Mono::zip` [has us covered][1] with overrides that produce tuples, having arity of [up to eight][2]:\r\n\r\n    Mono&lt;NoseCone&gt; cone = repo.getRocketNoseCone();\r\n    Mono&lt;Engine&gt; engine = repo.getRocketEngine();\r\n    Mono&lt;FuelTank&gt; tank = repo.getRocketFuelTank();\r\n\r\n    Mono&lt;Tuple3&lt;NoseCone, Engine, FuelTank&gt;&gt; builderStage1 = Mono.zip(cone, engine, tank);\r\n\r\n    Mono&lt;Rocket&gt; rocket = builderStage1.map(tuple -&gt; {\r\n        NoseCone coneValue = tuple.getT1();\r\n        Engine engineValue = tuple.getT2();\r\n        FuelTank tankValue = tuple.getT3();\r\n\r\n        return Rocket.builder()\r\n            .engine(engineValue)\r\n            .fuel(tankValue)\r\n            .noseCone(coneValue)\r\n            .build();\r\n    });\r\n\r\nOr, to shorten the last few lines of code a little bit and get rid of ugly long type signatures:\r\n\r\n    Mono&lt;Rocket&gt; rocket = Mono.zip(cone, engine, tank).map(tuple -&gt; Rocket.builder()\r\n        .noseCone(tuple.getT1())\r\n        .engine(tuple.getT2())\r\n        .fuel(tuple.getT3))\r\n        .build()\r\n    );\r\n\r\n[0]:https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-java.util.function.BiFunction-\r\n[1]:https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-\r\n[2]:https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-","title":"Builder pattern with Reactor mono","body":"<p>As I said, in the comment, trying to convert <code>Mono</code> into something that is is not a reactive type kind of flies in the face of using reactive programming to begin with.</p>\n<p>According to reactive paradigm, you shouldn't try to create <code>Rocket</code> when you have <code>Mono&lt;Engine&gt;</code> and <code>Mono&lt;FuelTank&gt;</code>. You should be creating a <code>Mono&lt;Rocket&gt;</code>, instead.</p>\n<p>Now, the code (note, that I would use the actual nominal types instead of just strings, for readability purposes). I personally would prefer the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Mono::zip</a> operation for most of cases you describe. For the case of just two values, you would not even need the builder:</p>\n<pre><code>public class Rocket {\n    ....\n    public Rocket(Engine engine, FuelTank fuel) {\n        ....\n    }\n    ....\n}\n\nMono&lt;Engine&gt; engine = repo.getRocketEngine();\nMono&lt;FuelTank&gt; tank = repo.getRocketFuelTank();\n\nMono&lt;Rocket&gt; rocket = Mono.zip(engine, tank, Rocket::new);\n</code></pre>\n<p>When you do have more than two properties, this becomes a little more involved, but still pretty straigntforward. For example, consider that your rocket has three parts: <code>NoseCone</code>, <code>Engine</code>, and <code>FuelTank</code>, instead of two. Well, the <code>Mono::zip</code> <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-\" rel=\"nofollow noreferrer\">has us covered</a> with overrides that produce tuples, having arity of <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-reactor.core.publisher.Mono-\" rel=\"nofollow noreferrer\">up to eight</a>:</p>\n<pre><code>Mono&lt;NoseCone&gt; cone = repo.getRocketNoseCone();\nMono&lt;Engine&gt; engine = repo.getRocketEngine();\nMono&lt;FuelTank&gt; tank = repo.getRocketFuelTank();\n\nMono&lt;Tuple3&lt;NoseCone, Engine, FuelTank&gt;&gt; builderStage1 = Mono.zip(cone, engine, tank);\n\nMono&lt;Rocket&gt; rocket = builderStage1.map(tuple -&gt; {\n    NoseCone coneValue = tuple.getT1();\n    Engine engineValue = tuple.getT2();\n    FuelTank tankValue = tuple.getT3();\n\n    return Rocket.builder()\n        .engine(engineValue)\n        .fuel(tankValue)\n        .noseCone(coneValue)\n        .build();\n});\n</code></pre>\n<p>Or, to shorten the last few lines of code a little bit and get rid of ugly long type signatures:</p>\n<pre><code>Mono&lt;Rocket&gt; rocket = Mono.zip(cone, engine, tank).map(tuple -&gt; Rocket.builder()\n    .noseCone(tuple.getT1())\n    .engine(tuple.getT2())\n    .fuel(tuple.getT3))\n    .build()\n);\n</code></pre>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647602896,"creation_date":1647522364,"question_id":71512825,"body_markdown":"I have a rocket class. I want to instantiate a rocket object via builder. I need to get some state from database via reactive repository, but reactive repository returns either Mono or Flux. How do I properly inject state to the builder with Mono and Flux. Here&#39;s what I have tried.\r\n\r\n    public class Rocket {\r\n    \r\n      private String engine;\r\n      private String fuel;\r\n    \r\n      public Rocket(Builder builder) {\r\n        engine = builder.getEngine();\r\n        fuel = builder.getFuel();\r\n      }\r\n    \r\n      public static class Builder {\r\n    \r\n        private String engine;\r\n        protected Mono&lt;String&gt; engineCollector;\r\n    \r\n        private String fuel;\r\n        protected Mono&lt;String&gt; fuelCollector;\r\n    \r\n        public Builder() {\r\n        }\r\n    \r\n        protected Builder setEngine(Mono&lt;String&gt; engineCollector) {\r\n          this.engineCollector = engineCollector.doOnNext((collect) -&gt; {\r\n            this.engine = collect;\r\n          });\r\n          return this;\r\n        }\r\n    \r\n        private Builder setFuel(Mono&lt;String&gt; fuelCollector) {\r\n          this.fuelCollector = fuelCollector.doOnNext((collect) -&gt; {\r\n            this.engine = collect;\r\n          });\r\n          return this;\r\n        }\r\n    \r\n        public String getEngine() {\r\n          return this.engine;\r\n        }\r\n    \r\n        public String getFuel() {\r\n          return this.fuel;\r\n        }\r\n    \r\n        public Rocket build() {\r\n          return engineCollector\r\n            .flatMap(s -&gt; fuelCollector)\r\n            .then(Mono.just(new Rocket(this)))\r\n            .block();\r\n        }\r\n      }\r\n    }\r\n\r\nIs this approach good or bad what&#39;s the proper way ","title":"Builder pattern with Reactor mono","body":"<p>I have a rocket class. I want to instantiate a rocket object via builder. I need to get some state from database via reactive repository, but reactive repository returns either Mono or Flux. How do I properly inject state to the builder with Mono and Flux. Here's what I have tried.</p>\n<pre><code>public class Rocket {\n\n  private String engine;\n  private String fuel;\n\n  public Rocket(Builder builder) {\n    engine = builder.getEngine();\n    fuel = builder.getFuel();\n  }\n\n  public static class Builder {\n\n    private String engine;\n    protected Mono&lt;String&gt; engineCollector;\n\n    private String fuel;\n    protected Mono&lt;String&gt; fuelCollector;\n\n    public Builder() {\n    }\n\n    protected Builder setEngine(Mono&lt;String&gt; engineCollector) {\n      this.engineCollector = engineCollector.doOnNext((collect) -&gt; {\n        this.engine = collect;\n      });\n      return this;\n    }\n\n    private Builder setFuel(Mono&lt;String&gt; fuelCollector) {\n      this.fuelCollector = fuelCollector.doOnNext((collect) -&gt; {\n        this.engine = collect;\n      });\n      return this;\n    }\n\n    public String getEngine() {\n      return this.engine;\n    }\n\n    public String getFuel() {\n      return this.fuel;\n    }\n\n    public Rocket build() {\n      return engineCollector\n        .flatMap(s -&gt; fuelCollector)\n        .then(Mono.just(new Rocket(this)))\n        .block();\n    }\n  }\n}\n</code></pre>\n<p>Is this approach good or bad what's the proper way</p>\n"},{"tags":["java","groovy","jmeter"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":1,"creation_date":1647601627,"post_id":71525859,"comment_id":126417349,"body_markdown":"`{\\n    \\&quot;contact\\&quot;:\\&quot;9876543210\\&quot;\\n}` as input for Groovy, produces the same hash as in https://coding.tools/md5","body":"<code>{\\n    \\&quot;contact\\&quot;:\\&quot;9876543210\\&quot;\\n}</code> as input for Groovy, produces the same hash as in <a href=\"https://coding.tools/md5\" rel=\"nofollow noreferrer\">coding.tools/md5</a>"},{"owner":{"account_id":5664711,"reputation":479,"user_id":4481179,"display_name":"SAIR"},"score":0,"creation_date":1647601830,"post_id":71525859,"comment_id":126417419,"body_markdown":"@ShaharT Yes. So how should I convert the plain input shown in question into formatted input that you have asked? Any other function for that?","body":"@ShaharT Yes. So how should I convert the plain input shown in question into formatted input that you have asked? Any other function for that?"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647602602,"creation_date":1647602602,"answer_id":71526310,"question_id":71525859,"body_markdown":"If you use something simple like `foo` you will see that your &quot;Standard website&quot; and JSR223 PreProcessor are generating the same value. \r\n\r\nThe question is how does your &quot;Standard website&quot; handle line [breaks][1] and other non-printable characters like [whitespaces][2] or [tabs][3] \r\n\r\nSo my expectation is that you should be asking your API developers regarding the request format, my expectation is that JMeter&#39;s checksum is correct. \r\n\r\nYou can look [here][4] for Groovy&#39;s implementation\r\n\r\nMore information on Groovy scripting in JMeter: [Apache Groovy - Why and How You Should Use It][5]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Line_break\r\n  [2]: https://en.wikipedia.org/wiki/Whitespace_character\r\n  [3]: https://en.wikipedia.org/wiki/Tab_key#Tab_characters\r\n  [4]: https://github.com/apache/groovy/blob/e6ce56fc27e7640664946eb1a99bdee6fb63547e/src/main/java/org/codehaus/groovy/runtime/EncodingGroovyMethods.java#L377\r\n  [5]: https://www.blazemeter.com/blog/groovy-new-black","title":"I am not able to work with Groovy JMeter function the value returned by MD5 function is not matching the standard values","body":"<p>If you use something simple like <code>foo</code> you will see that your &quot;Standard website&quot; and JSR223 PreProcessor are generating the same value.</p>\n<p>The question is how does your &quot;Standard website&quot; handle line <a href=\"https://en.wikipedia.org/wiki/Line_break\" rel=\"nofollow noreferrer\">breaks</a> and other non-printable characters like <a href=\"https://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">whitespaces</a> or <a href=\"https://en.wikipedia.org/wiki/Tab_key#Tab_characters\" rel=\"nofollow noreferrer\">tabs</a></p>\n<p>So my expectation is that you should be asking your API developers regarding the request format, my expectation is that JMeter's checksum is correct.</p>\n<p>You can look <a href=\"https://github.com/apache/groovy/blob/e6ce56fc27e7640664946eb1a99bdee6fb63547e/src/main/java/org/codehaus/groovy/runtime/EncodingGroovyMethods.java#L377\" rel=\"nofollow noreferrer\">here</a> for Groovy's implementation</p>\n<p>More information on Groovy scripting in JMeter: <a href=\"https://www.blazemeter.com/blog/groovy-new-black\" rel=\"nofollow noreferrer\">Apache Groovy - Why and How You Should Use It</a></p>\n"}],"owner":{"account_id":5664711,"reputation":479,"user_id":4481179,"display_name":"SAIR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71526310,"answer_count":1,"score":0,"last_activity_date":1647602602,"creation_date":1647600423,"question_id":71525859,"body_markdown":" 1. Value returned from JMeter JSR223 Sampler using **.md5()** function.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n 2. MD5 value for same payload generated on Standard website\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI think I am not able to parse it properly? Can someone please tell me where the problem is and how to fix it.\r\n\r\nThanks a lot in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/LEHIm.png\r\n  [2]: https://i.stack.imgur.com/DKcgE.jpg","title":"I am not able to work with Groovy JMeter function the value returned by MD5 function is not matching the standard values","body":"<ol>\n<li>Value returned from JMeter JSR223 Sampler using <strong>.md5()</strong> function.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/LEHIm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LEHIm.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>MD5 value for same payload generated on Standard website</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/DKcgE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKcgE.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I think I am not able to parse it properly? Can someone please tell me where the problem is and how to fix it.</p>\n<p>Thanks a lot in advance!</p>\n"},{"tags":["javascript","java","web-worker","asyncfileupload","shared-worker"],"comments":[{"owner":{"account_id":429869,"reputation":1763,"user_id":812991,"display_name":"will Farrell"},"score":0,"creation_date":1688439451,"post_id":51366780,"comment_id":135070968,"body_markdown":"Did you ever find out how this approach can work or find another cross-browser solution?","body":"Did you ever find out how this approach can work or find another cross-browser solution?"}],"owner":{"account_id":6336600,"reputation":91,"user_id":4919826,"display_name":"Manpreet Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1647602120,"creation_date":1531760429,"question_id":51366780,"body_markdown":"I want to do background upload of files which does not impact the primary usage of the page once the upload of files has started being processed. \r\n\r\nIn addition to this we want to be able to navigate away from the page performing the upload to other pages in the application without interrupting the upload.\r\n\r\nI have implemented it using Web worker/SharedWorker to send file object to server using XMLHTTPRequest post request in background. It works fine while upload is initiated and no navigation to other page. but on navigating to page2.html after starting the upload from page1.html, request.getPart() returns null on server side and upload fails.\r\n \r\n**Does task submitted using sharedWorker stops/halts on navigation to other page in same domain ?**\r\n\r\nWhy does request.getPart() return null on navigating to other page since sharedWorker must still be running on navigating to other page in same domain ?\r\n\r\nStructure of my application is:\r\n\r\n 1. main.html - has multipart form and creates sharedworker thread to upload form\r\n 2. worker.js - sends file object to server using XMLHTTPRequest post request.\r\n 3. server - HTTP servlet processes the post request and saves the file \r\n\r\nHow can we achieve following functionality :\r\n\r\n - initiate an upload from main page using background\r\n   SharedWorker/WebWorker\r\n - navigate to other page2 in same domain\r\n - navigate back to main page and get status of upload from SharedWorker/WebWorker\r\n\r\n\r\nAny links/suggestions will be highly appreciable.\r\n\r\nThanks,\r\nManpreet","title":"file upload using shared web worker with page navigation","body":"<p>I want to do background upload of files which does not impact the primary usage of the page once the upload of files has started being processed. </p>\n\n<p>In addition to this we want to be able to navigate away from the page performing the upload to other pages in the application without interrupting the upload.</p>\n\n<p>I have implemented it using Web worker/SharedWorker to send file object to server using XMLHTTPRequest post request in background. It works fine while upload is initiated and no navigation to other page. but on navigating to page2.html after starting the upload from page1.html, request.getPart() returns null on server side and upload fails.</p>\n\n<p><strong>Does task submitted using sharedWorker stops/halts on navigation to other page in same domain ?</strong></p>\n\n<p>Why does request.getPart() return null on navigating to other page since sharedWorker must still be running on navigating to other page in same domain ?</p>\n\n<p>Structure of my application is:</p>\n\n<ol>\n<li>main.html - has multipart form and creates sharedworker thread to upload form</li>\n<li>worker.js - sends file object to server using XMLHTTPRequest post request.</li>\n<li>server - HTTP servlet processes the post request and saves the file </li>\n</ol>\n\n<p>How can we achieve following functionality :</p>\n\n<ul>\n<li>initiate an upload from main page using background\nSharedWorker/WebWorker</li>\n<li>navigate to other page2 in same domain</li>\n<li>navigate back to main page and get status of upload from SharedWorker/WebWorker</li>\n</ul>\n\n<p>Any links/suggestions will be highly appreciable.</p>\n\n<p>Thanks,\nManpreet</p>\n"},{"tags":["java","deserialization","avro","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":12567914,"reputation":21,"user_id":9143109,"display_name":"Cereal Killer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647601535,"creation_date":1647601535,"answer_id":71526121,"question_id":70250899,"body_markdown":"I managed to deserialize this kind of bytes to decimal using this way:\r\n\r\n    LogicalTypes.Decimal decimalType = LogicalTypes.decimal(precision, scale);\r\n    BigDecimal bigDecimal = new Conversion.DecimalConversion().fromBytes((ByteBuffer) decimalInBytes, schema, decimalType);\r\n\r\nThis decimalInBytes is actually from GenericRecord when we do .get(&quot;totalAmount&quot;) from the instance of GenericRecord of your payload.","title":"Bytes avro type not deserializing with kafka confluent GenericAvroDeserializer","body":"<p>I managed to deserialize this kind of bytes to decimal using this way:</p>\n<pre><code>LogicalTypes.Decimal decimalType = LogicalTypes.decimal(precision, scale);\nBigDecimal bigDecimal = new Conversion.DecimalConversion().fromBytes((ByteBuffer) decimalInBytes, schema, decimalType);\n</code></pre>\n<p>This decimalInBytes is actually from GenericRecord when we do .get(&quot;totalAmount&quot;) from the instance of GenericRecord of your payload.</p>\n"}],"owner":{"account_id":6881862,"reputation":541,"user_id":5288331,"accept_rate":50,"display_name":"Digital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647601535,"creation_date":1638818877,"question_id":70250899,"body_markdown":"I&#39;m using `io.confluent.kafka.streams.serdes.avro.GenericAvroDeserializer` to deserialize Kafka `Message&lt;Bytes&gt;` with \r\nkafka &quot;`value.deserializer`&quot; configured as `org.apache.kafka.common.serialization.BytesDeserializer` but the `GenericAvroDeserializer` \r\nnot deserializing the avro payload with below type\r\n\r\n   \r\n\r\n    {\r\n          &quot;name&quot;: &quot;totalAmount&quot;,\r\n          &quot;type&quot;: [\r\n        \t&quot;null&quot;,\r\n        \t{\r\n        \t  &quot;logicalType&quot;: &quot;decimal&quot;,\r\n        \t  &quot;precision&quot;: 13,\r\n        \t  &quot;scale&quot;: 2,\r\n        \t  &quot;type&quot;: &quot;bytes&quot;\r\n        \t}\r\n          ]\r\n        }\r\n\r\nThe resulted deserialized payload for attribute &quot;`amount`&quot; as below\r\n\r\n    &quot;amount&quot;: {&quot;bytes&quot;: &quot;\\u0001C&quot;}\r\n\r\nI see the internal implementation of AbstractKafkaAvroDeserializer as \r\n\r\n    if (schema.getType().equals(Type.BYTES)) {\r\n    \tbyte[] bytes = new byte[length];\r\n    \tbuffer.get(bytes, 0, length);\r\n    \tresult = bytes;\r\n    }\r\n\r\nis there any way to properly deserialize the payload using `io.confluent.kafka.streams.serdes.avro.GenericAvroDeserializer` \r\nwith avro type as bytes","title":"Bytes avro type not deserializing with kafka confluent GenericAvroDeserializer","body":"<p>I'm using <code>io.confluent.kafka.streams.serdes.avro.GenericAvroDeserializer</code> to deserialize Kafka <code>Message&lt;Bytes&gt;</code> with\nkafka &quot;<code>value.deserializer</code>&quot; configured as <code>org.apache.kafka.common.serialization.BytesDeserializer</code> but the <code>GenericAvroDeserializer</code>\nnot deserializing the avro payload with below type</p>\n<pre><code>{\n      &quot;name&quot;: &quot;totalAmount&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n          &quot;logicalType&quot;: &quot;decimal&quot;,\n          &quot;precision&quot;: 13,\n          &quot;scale&quot;: 2,\n          &quot;type&quot;: &quot;bytes&quot;\n        }\n      ]\n    }\n</code></pre>\n<p>The resulted deserialized payload for attribute &quot;<code>amount</code>&quot; as below</p>\n<pre><code>&quot;amount&quot;: {&quot;bytes&quot;: &quot;\\u0001C&quot;}\n</code></pre>\n<p>I see the internal implementation of AbstractKafkaAvroDeserializer as</p>\n<pre><code>if (schema.getType().equals(Type.BYTES)) {\n    byte[] bytes = new byte[length];\n    buffer.get(bytes, 0, length);\n    result = bytes;\n}\n</code></pre>\n<p>is there any way to properly deserialize the payload using <code>io.confluent.kafka.streams.serdes.avro.GenericAvroDeserializer</code>\nwith avro type as bytes</p>\n"},{"tags":["java","spring-data-jpa","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":170241,"reputation":853,"user_id":396812,"accept_rate":38,"display_name":"Mark Gargan"},"score":0,"creation_date":1557225453,"post_id":54537046,"comment_id":98685181,"body_markdown":"I was looking for exactly this this morning, I don&#39;t believe it&#39;s done because it&#39;s regarded as a security risk by exposing your entire model on the frontend. The insistance on a DTO Layer forces you to consider what parts of your model are for user consumption, Name, DOB that kinda thing versus internal systems stuff such as roles and whotnot. Still... I can&#39;t believe that this hasn&#39;t been done and some form of exposure mechanism included in swagger contract just to say, don&#39;t expose this field to the frontend?","body":"I was looking for exactly this this morning, I don&#39;t believe it&#39;s done because it&#39;s regarded as a security risk by exposing your entire model on the frontend. The insistance on a DTO Layer forces you to consider what parts of your model are for user consumption, Name, DOB that kinda thing versus internal systems stuff such as roles and whotnot. Still... I can&#39;t believe that this hasn&#39;t been done and some form of exposure mechanism included in swagger contract just to say, don&#39;t expose this field to the frontend?"},{"owner":{"account_id":1184687,"reputation":10227,"user_id":1158895,"accept_rate":83,"display_name":"Brady"},"score":0,"creation_date":1557744367,"post_id":54537046,"comment_id":98855098,"body_markdown":"I ended up having to modify the Swagger code-gen code. It turned out to be more complicated than originally though since you have to define at least OneToMany, Embedded, and Embedable annotations, which is not trivial, if not impossible to do in a generic manner. I have a branch created with specific model class names.","body":"I ended up having to modify the Swagger code-gen code. It turned out to be more complicated than originally though since you have to define at least OneToMany, Embedded, and Embedable annotations, which is not trivial, if not impossible to do in a generic manner. I have a branch created with specific model class names."}],"answers":[{"tags":[],"owner":{"account_id":4527536,"reputation":121,"user_id":3678928,"display_name":"Kiskit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551013740,"creation_date":1551013740,"answer_id":54852201,"question_id":54537046,"body_markdown":"So I&#39;m actually asking myself the same question.\r\nI found an example but the guy is simply re-defining his POJOs and providing a way to adapt the generated ones to the handwritten ones. Tedious and not evolutive.\r\n\r\nGlobally this could be hard because I&#39;m not sure there is a way in your swagger to decide which POJO will be JPA enabled and maybe you don&#39;t want them all in your DB (?) Also, how to you tag the id in swagger?\r\nIf you know of such a way, you can always modify the mustache (pojo.mustache I guess) to give you the annotations you&#39;re missing.\r\n","title":"How to generate Swagger codegen Java models as JPA Entities","body":"<p>So I'm actually asking myself the same question.\nI found an example but the guy is simply re-defining his POJOs and providing a way to adapt the generated ones to the handwritten ones. Tedious and not evolutive.</p>\n\n<p>Globally this could be hard because I'm not sure there is a way in your swagger to decide which POJO will be JPA enabled and maybe you don't want them all in your DB (?) Also, how to you tag the id in swagger?\nIf you know of such a way, you can always modify the mustache (pojo.mustache I guess) to give you the annotations you're missing.</p>\n"},{"tags":[],"owner":{"account_id":1565607,"reputation":625,"user_id":1454647,"display_name":"mthomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573598097,"creation_date":1573596162,"answer_id":58827351,"question_id":54537046,"body_markdown":"While the right way to solve this surely is an extension of swagger-codegen (probably with the introduction of some kind of include/exclude config), I got away with a fairly simply post-processing of the generated files.\r\n\r\nIn contrast to the OP I use *Gradle* instead of *Maven* and leveraged its extended filtering functionality. For Maven it is probably necessary to run a Groovy-script by way of the Groovy-Maven-Plugin, since Maven only supports placeholder substitution (as does Ant, so using the AntRun-Plugin would also not work).\r\n\r\nI used a simple heuristic to only include entities with an id - the logic is as follows:\r\n\r\n* for all Java-files containing an ID-field\r\n * include import statement for `javax.persistence.*` after the package declaration\r\n * add the `@Entity`-annotation before the class definition\r\n * for the ID-field, add the annotations `@Id` and `@GeneratedValue`\r\n * (based on field names, other annotations - `@OneToMany` etc. - may be added as well)\r\n\r\nGradle-users may find the following task useful as a start:\r\n\r\n    task generateJpaAnnotations(type: Copy) {\r\n        from &quot;${swaggerSources.&lt;modelName&gt;.code.outputDir}/src/main/java&quot;\r\n        into &quot;&lt;output dir&gt;\r\n        include &#39;**/*.java&#39;\r\n    \r\n        eachFile {\r\n            if (it.file.text.contains(&quot;private Long id&quot;)) {\r\n                filter { line -&gt; line.contains(&#39;package&#39;) ? &quot;$line\\nimport javax.persistence.*;&quot; : line }\r\n                filter { line -&gt; line.contains(&#39;public class&#39;) ? &quot;@Entity\\n$line&quot; : line }\r\n                filter { line -&gt; line.contains(&#39;private Long id&#39;) ? &quot;@Id\\n@GeneratedValue(strategy=GenerationType.AUTO)\\n$line&quot; : line }        }\r\n        }\r\n    }","title":"How to generate Swagger codegen Java models as JPA Entities","body":"<p>While the right way to solve this surely is an extension of swagger-codegen (probably with the introduction of some kind of include/exclude config), I got away with a fairly simply post-processing of the generated files.</p>\n\n<p>In contrast to the OP I use <em>Gradle</em> instead of <em>Maven</em> and leveraged its extended filtering functionality. For Maven it is probably necessary to run a Groovy-script by way of the Groovy-Maven-Plugin, since Maven only supports placeholder substitution (as does Ant, so using the AntRun-Plugin would also not work).</p>\n\n<p>I used a simple heuristic to only include entities with an id - the logic is as follows:</p>\n\n<ul>\n<li>for all Java-files containing an ID-field\n\n<ul>\n<li>include import statement for <code>javax.persistence.*</code> after the package declaration</li>\n<li>add the <code>@Entity</code>-annotation before the class definition</li>\n<li>for the ID-field, add the annotations <code>@Id</code> and <code>@GeneratedValue</code></li>\n<li>(based on field names, other annotations - <code>@OneToMany</code> etc. - may be added as well)</li>\n</ul></li>\n</ul>\n\n<p>Gradle-users may find the following task useful as a start:</p>\n\n<pre><code>task generateJpaAnnotations(type: Copy) {\n    from \"${swaggerSources.&lt;modelName&gt;.code.outputDir}/src/main/java\"\n    into \"&lt;output dir&gt;\n    include '**/*.java'\n\n    eachFile {\n        if (it.file.text.contains(\"private Long id\")) {\n            filter { line -&gt; line.contains('package') ? \"$line\\nimport javax.persistence.*;\" : line }\n            filter { line -&gt; line.contains('public class') ? \"@Entity\\n$line\" : line }\n            filter { line -&gt; line.contains('private Long id') ? \"@Id\\n@GeneratedValue(strategy=GenerationType.AUTO)\\n$line\" : line }        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3687880,"reputation":146,"user_id":3071256,"display_name":"Mathieu D"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1647601286,"creation_date":1647601286,"answer_id":71526062,"question_id":54537046,"body_markdown":"A PR has recently been merged fixing your issue : https://github.com/OpenAPITools/openapi-generator/pull/11775\r\n\r\nYou need to upgrade your Maven plugin to use the latest version (currently unreleased, only snapshot is available)\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\r\n        ...\r\n    &lt;/plugin&gt;\r\n\r\nThe configuration might be slightly different.\r\n\r\nThen you need to add x-class-extra-annotation and x-field-extra-annotation in your spec.\r\n\r\nFor instance for the Pet Clinic:\r\n\r\n      schemas:\r\n        Pet:\r\n          type: object\r\n          x-class-extra-annotation: &quot;@javax.persistence.Entity&quot;\r\n          required:\r\n            - id\r\n            - name\r\n          properties:\r\n            id:\r\n              type: integer\r\n              format: int64\r\n              x-field-extra-annotation: &quot;@javax.persistence.Id&quot;\r\n            name:\r\n              type: string\r\n            tag:\r\n              type: string","title":"How to generate Swagger codegen Java models as JPA Entities","body":"<p>A PR has recently been merged fixing your issue : <a href=\"https://github.com/OpenAPITools/openapi-generator/pull/11775\" rel=\"noreferrer\">https://github.com/OpenAPITools/openapi-generator/pull/11775</a></p>\n<p>You need to upgrade your Maven plugin to use the latest version (currently unreleased, only snapshot is available)</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0-SNAPSHOT&lt;/version&gt;\n    ...\n&lt;/plugin&gt;\n</code></pre>\n<p>The configuration might be slightly different.</p>\n<p>Then you need to add x-class-extra-annotation and x-field-extra-annotation in your spec.</p>\n<p>For instance for the Pet Clinic:</p>\n<pre><code>  schemas:\n    Pet:\n      type: object\n      x-class-extra-annotation: &quot;@javax.persistence.Entity&quot;\n      required:\n        - id\n        - name\n      properties:\n        id:\n          type: integer\n          format: int64\n          x-field-extra-annotation: &quot;@javax.persistence.Id&quot;\n        name:\n          type: string\n        tag:\n          type: string\n</code></pre>\n"}],"owner":{"account_id":1184687,"reputation":10227,"user_id":1158895,"accept_rate":83,"display_name":"Brady"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11301,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1647601286,"creation_date":1549378260,"question_id":54537046,"body_markdown":"I am using Swagger codegen to create Java models to be used in a Spring REST server, and would like to know how to get Swagger to declare each model as a JPA entity.\r\n\r\nI generate the code with the `swagger-codegen-maven-plugin` as follows:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;inputSpec&gt;${project.basedir}/src/main/openApi/Rack.json&lt;/inputSpec&gt;\r\n                    &lt;language&gt;spring&lt;/language&gt;\r\n                    &lt;groupId&gt;com.me&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;rest-server&lt;/artifactId&gt;\r\n                    &lt;apiPackage&gt;com.me.rest.api&lt;/apiPackage&gt;\r\n                    &lt;modelPackage&gt;com.me.rest.model&lt;/modelPackage&gt;\r\n                    &lt;invokerPackage&gt;com.me.rest.invoker&lt;/invokerPackage&gt;\r\n                    &lt;configOptions&gt;\r\n                        &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\r\n                        &lt;java8&gt;true&lt;/java8&gt;\r\n                        &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                    &lt;/configOptions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAs I have it now, this is the abbreviated java code that gets generated:\r\n\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.SpringCodegen&quot;, date = &quot;...&quot;)\r\n    \r\n    public class Rack   {\r\n      @JsonProperty(&quot;id&quot;)\r\n      private Long id = null;\r\n    \r\n      @JsonProperty(&quot;name&quot;)\r\n      private String name = null;\r\n    \r\n      ...\r\n    }\r\n\r\nHow do I get Swagger to add the @Entity and @Id JPA annotations, as follows?\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n\r\n    @Entity\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.SpringCodegen&quot;, date = &quot;...&quot;)\r\n    \r\n    public class Rack   {\r\n      @Id\r\n      @JsonProperty(&quot;id&quot;)\r\n      private Long id = null;\r\n    \r\n      @JsonProperty(&quot;name&quot;)\r\n      private String name = null;\r\n    \r\n      ...\r\n    }\r\n\r\nThis way, all I would have to do to get Spring to automatically expose these generated classes as REST APIs, would be to add the following to my `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen I could create the JPA repositories with Spring-Data, as follows:\r\n\r\n    public interface RackRepository extends CrudRepository&lt;Rack, Long&gt; {\r\n    }\r\n\r\n","title":"How to generate Swagger codegen Java models as JPA Entities","body":"<p>I am using Swagger codegen to create Java models to be used in a Spring REST server, and would like to know how to get Swagger to declare each model as a JPA entity.</p>\n\n<p>I generate the code with the <code>swagger-codegen-maven-plugin</code> as follows:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;${project.basedir}/src/main/openApi/Rack.json&lt;/inputSpec&gt;\n                &lt;language&gt;spring&lt;/language&gt;\n                &lt;groupId&gt;com.me&lt;/groupId&gt;\n                &lt;artifactId&gt;rest-server&lt;/artifactId&gt;\n                &lt;apiPackage&gt;com.me.rest.api&lt;/apiPackage&gt;\n                &lt;modelPackage&gt;com.me.rest.model&lt;/modelPackage&gt;\n                &lt;invokerPackage&gt;com.me.rest.invoker&lt;/invokerPackage&gt;\n                &lt;configOptions&gt;\n                    &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\n                    &lt;java8&gt;true&lt;/java8&gt;\n                    &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>As I have it now, this is the abbreviated java code that gets generated:</p>\n\n<pre><code>@Validated\n@javax.annotation.Generated(value = \"io.swagger.codegen.languages.SpringCodegen\", date = \"...\")\n\npublic class Rack   {\n  @JsonProperty(\"id\")\n  private Long id = null;\n\n  @JsonProperty(\"name\")\n  private String name = null;\n\n  ...\n}\n</code></pre>\n\n<p>How do I get Swagger to add the @Entity and @Id JPA annotations, as follows?</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\n@Validated\n@javax.annotation.Generated(value = \"io.swagger.codegen.languages.SpringCodegen\", date = \"...\")\n\npublic class Rack   {\n  @Id\n  @JsonProperty(\"id\")\n  private Long id = null;\n\n  @JsonProperty(\"name\")\n  private String name = null;\n\n  ...\n}\n</code></pre>\n\n<p>This way, all I would have to do to get Spring to automatically expose these generated classes as REST APIs, would be to add the following to my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then I could create the JPA repositories with Spring-Data, as follows:</p>\n\n<pre><code>public interface RackRepository extends CrudRepository&lt;Rack, Long&gt; {\n}\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"comments":[{"owner":{"account_id":3591643,"reputation":75,"user_id":2997560,"accept_rate":60,"display_name":"Mehdi Abdolmaleki"},"score":0,"creation_date":1647270960,"post_id":71469232,"comment_id":126323220,"body_markdown":"Do you use Spring? Which version of Java do you use?","body":"Do you use Spring? Which version of Java do you use?"},{"owner":{"account_id":3694693,"reputation":11,"user_id":3076408,"display_name":"user3076408"},"score":1,"creation_date":1647325854,"post_id":71469232,"comment_id":126336480,"body_markdown":"@MehdiAbdolmaleki Thanks a lot for your response. Using spring boot 1.5.19.RELEASE and spring-boot-starter-quartz 2.1.5.RELEASE","body":"@MehdiAbdolmaleki Thanks a lot for your response. Using spring boot 1.5.19.RELEASE and spring-boot-starter-quartz 2.1.5.RELEASE"},{"owner":{"account_id":3694693,"reputation":11,"user_id":3076408,"display_name":"user3076408"},"score":0,"creation_date":1647600546,"post_id":71469232,"comment_id":126416950,"body_markdown":"@MehdiAbdolmaleki can see above code ? provide comments","body":"@MehdiAbdolmaleki can see above code ? provide comments"},{"owner":{"account_id":3591643,"reputation":75,"user_id":2997560,"accept_rate":60,"display_name":"Mehdi Abdolmaleki"},"score":0,"creation_date":1647679534,"post_id":71469232,"comment_id":126435080,"body_markdown":"You can&#39;t use @EventListener on any methods, because it needs a parameter that is the same type as event type. For example, ApplicationReadyEvent.","body":"You can&#39;t use @EventListener on any methods, because it needs a parameter that is the same type as event type. For example, ApplicationReadyEvent."},{"owner":{"account_id":3591643,"reputation":75,"user_id":2997560,"accept_rate":60,"display_name":"Mehdi Abdolmaleki"},"score":0,"creation_date":1647680207,"post_id":71469232,"comment_id":126435212,"body_markdown":"You should call your quartz scheduler from the method that is an event.","body":"You should call your quartz scheduler from the method that is an event."}],"answers":[{"tags":[],"owner":{"account_id":3591643,"reputation":75,"user_id":2997560,"accept_rate":60,"display_name":"Mehdi Abdolmaleki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647327530,"creation_date":1647327530,"answer_id":71478111,"question_id":71469232,"body_markdown":"You can use an event like this:\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void doingSomething() {\r\n    \r\n    }","title":"how to make Quartz job start after spring boot app is up","body":"<p>You can use an event like this:</p>\n<pre><code>@EventListener(ApplicationReadyEvent.class)\npublic void doingSomething() {\n\n}\n</code></pre>\n"}],"owner":{"account_id":3694693,"reputation":11,"user_id":3076408,"display_name":"user3076408"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647600494,"creation_date":1647267560,"question_id":71469232,"body_markdown":"    @Component\r\n    @DisallowConcurrentExecution\r\n    public class UploadCronJob extends QuartzJobBean {\r\n    \r\n    \t@EventListener(ApplicationReadyEvent.class)\r\n    \t@Override\r\n    \tprotected void executeInternal(JobExecutionContext context) throws JobExecutionException {\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n    im getting below error is that anyother way to schedule after application start\r\nException in thread &quot;SimpleAsyncTaskExecutor-180&quot; java.lang.IllegalStateException: argument type mismatch","title":"how to make Quartz job start after spring boot app is up","body":"<pre><code>@Component\n@DisallowConcurrentExecution\npublic class UploadCronJob extends QuartzJobBean {\n\n    @EventListener(ApplicationReadyEvent.class)\n    @Override\n    protected void executeInternal(JobExecutionContext context) throws JobExecutionException {\n        \n    }\n}\n\nim getting below error is that anyother way to schedule after application start\n</code></pre>\n<p>Exception in thread &quot;SimpleAsyncTaskExecutor-180&quot; java.lang.IllegalStateException: argument type mismatch</p>\n"},{"tags":["java","graphql","keycloak","quarkus"],"answers":[{"tags":[],"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647506154,"creation_date":1647506154,"answer_id":71509240,"question_id":71500950,"body_markdown":"Not sure if you&#39;re using a dynamic or typesafe client, so I&#39;ll describe both.\r\n\r\nFor both types, if you have a key that doesn&#39;t change during the life of the application, you can configure that by adding a configuration property like this:\r\n`quarkus.smallrye-graphql-client.CLIENT_NAME.header.HEADER_NAME=HEADER_VALUE`\r\n(see https://quarkus.io/guides/all-config#quarkus-smallrye-graphql-client_quarkus-smallrye-graphql-client-smallrye-graphql-client)\r\n\r\nIf the value can change over time, I would probably recommend using the programmatic builder instead of using a statically configured client, like this:\r\n```\r\nDynamicGraphQLClientBuilder.newBuilder()\r\n   .header(&quot;KEY&quot;, &quot;VALUE&quot;) // obtain the correct value from Keycloak and pass it here\r\n.... \r\n```\r\nand build a new client instance if the value changes.\r\n\r\nFor typesafe clients, an annotation-based way is described in https://smallrye.io/smallrye-graphql/1.4.3/typesafe-client-headers/\r\n\r\nI don&#39;t know much about Keycloak though so I can&#39;t comment on the way how you obtain the header value from it.\r\nLet me know some of this works for you","title":"Quarkus GraphQL Client with Keycloak","body":"<p>Not sure if you're using a dynamic or typesafe client, so I'll describe both.</p>\n<p>For both types, if you have a key that doesn't change during the life of the application, you can configure that by adding a configuration property like this:\n<code>quarkus.smallrye-graphql-client.CLIENT_NAME.header.HEADER_NAME=HEADER_VALUE</code>\n(see <a href=\"https://quarkus.io/guides/all-config#quarkus-smallrye-graphql-client_quarkus-smallrye-graphql-client-smallrye-graphql-client\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/all-config#quarkus-smallrye-graphql-client_quarkus-smallrye-graphql-client-smallrye-graphql-client</a>)</p>\n<p>If the value can change over time, I would probably recommend using the programmatic builder instead of using a statically configured client, like this:</p>\n<pre><code>DynamicGraphQLClientBuilder.newBuilder()\n   .header(&quot;KEY&quot;, &quot;VALUE&quot;) // obtain the correct value from Keycloak and pass it here\n.... \n</code></pre>\n<p>and build a new client instance if the value changes.</p>\n<p>For typesafe clients, an annotation-based way is described in <a href=\"https://smallrye.io/smallrye-graphql/1.4.3/typesafe-client-headers/\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-graphql/1.4.3/typesafe-client-headers/</a></p>\n<p>I don't know much about Keycloak though so I can't comment on the way how you obtain the header value from it.\nLet me know some of this works for you</p>\n"},{"tags":[],"owner":{"account_id":9743608,"reputation":43,"user_id":7224280,"display_name":"Cryptor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647599674,"creation_date":1647594906,"answer_id":71524744,"question_id":71500950,"body_markdown":"There doesn&#39;t seem to be a dynamic way of adding keycloak headers to the call.\r\n\r\nI found a solution, to at least work as long as the token is valid.\r\n\r\nFor this I&#39;m using a Client Class, which has an Interface Object of the GraphQL client and injects the header inside the constructor.I will need to add some code to renew the token, but it&#39;s enough to work with it right now :)\r\n\r\nFor those who want some code:\r\n```\r\n@Singleton\r\npublic class Client {\r\n\r\n    public IClient client;\r\n\r\n    public Client(JsonWebToken accessToken) {\r\n        client = TypesafeGraphQLClientBuilder.newBuilder()\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken.getRawToken())\r\n                .build(IClient.class);\r\n    }\r\n}\r\n```\r\n\r\nWith this the Client can be build like shown at the Quarkus Guides :)\r\n","title":"Quarkus GraphQL Client with Keycloak","body":"<p>There doesn't seem to be a dynamic way of adding keycloak headers to the call.</p>\n<p>I found a solution, to at least work as long as the token is valid.</p>\n<p>For this I'm using a Client Class, which has an Interface Object of the GraphQL client and injects the header inside the constructor.I will need to add some code to renew the token, but it's enough to work with it right now :)</p>\n<p>For those who want some code:</p>\n<pre><code>@Singleton\npublic class Client {\n\n    public IClient client;\n\n    public Client(JsonWebToken accessToken) {\n        client = TypesafeGraphQLClientBuilder.newBuilder()\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken.getRawToken())\n                .build(IClient.class);\n    }\n}\n</code></pre>\n<p>With this the Client can be build like shown at the Quarkus Guides :)</p>\n"}],"owner":{"account_id":9743608,"reputation":43,"user_id":7224280,"display_name":"Cryptor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71509240,"answer_count":2,"score":2,"last_activity_date":1647599674,"creation_date":1647448653,"question_id":71500950,"body_markdown":"I&#39;m trying this for days right now and I&#39;m not sure if i missed something.\r\n\r\nI have a Quarkus GraphQL Service , like here : https://quarkus.io/guides/smallrye-graphql\r\n\r\nAnd I have setup Keycloak to secure it.\r\n\r\nNow I wanted to create a client with Qute and GraphQL Smallrye client like here : https://quarkus.io/guides/smallrye-graphql-client\r\n\r\nThe client can connect to the service, but I always get an  &quot;Data Fetching Error: io.quarkus.security.UnauthorizedException&quot;.\r\n\r\nIt seems like the GraphQL client is not sending the headers correctly or it doesn&#39;t send any ...\r\n\r\nDoes anyone know how I can tell the client to send the Authorization header from keycloak with every call?\r\n\r\nPS: I tested it with a short react frontend and there it&#39;s working, so it seems to be an graphql client issue with the headers... Some ideas?","title":"Quarkus GraphQL Client with Keycloak","body":"<p>I'm trying this for days right now and I'm not sure if i missed something.</p>\n<p>I have a Quarkus GraphQL Service , like here : <a href=\"https://quarkus.io/guides/smallrye-graphql\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/smallrye-graphql</a></p>\n<p>And I have setup Keycloak to secure it.</p>\n<p>Now I wanted to create a client with Qute and GraphQL Smallrye client like here : <a href=\"https://quarkus.io/guides/smallrye-graphql-client\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/smallrye-graphql-client</a></p>\n<p>The client can connect to the service, but I always get an  &quot;Data Fetching Error: io.quarkus.security.UnauthorizedException&quot;.</p>\n<p>It seems like the GraphQL client is not sending the headers correctly or it doesn't send any ...</p>\n<p>Does anyone know how I can tell the client to send the Authorization header from keycloak with every call?</p>\n<p>PS: I tested it with a short react frontend and there it's working, so it seems to be an graphql client issue with the headers... Some ideas?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"score":0,"creation_date":1647543050,"post_id":71510914,"comment_id":126403776,"body_markdown":"Could you provide your full `build.gradle` code and project layout?","body":"Could you provide your full <code>build.gradle</code> code and project layout?"}],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647599309,"creation_date":1647599309,"answer_id":71525627,"question_id":71510914,"body_markdown":"From the official doc https://docs.gradle.org/7.4.1/userguide/custom_tasks.html#sec:custom_tasks_standalone_project, its `build.gradle` is very simple.\r\n\r\n```\r\nplugins {\r\n    id &#39;groovy&#39;\r\n    // id &#39;java&#39; &lt;----- use this if written in Java\r\n}\r\n\r\ndependencies {\r\n    implementation gradleApi()\r\n}\r\n```\r\n\r\nYou don&#39;t have to specify `org.gradle:api` in `dependencies{}` nor `mavenCentral()` in `repositories{}`. The one you found in https://mvnrepository.com is a very old version. I guess they host the JARs themselves.","title":"Couldn&#39;t find org.gradle.api dependency","body":"<p>From the official doc <a href=\"https://docs.gradle.org/7.4.1/userguide/custom_tasks.html#sec:custom_tasks_standalone_project\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.4.1/userguide/custom_tasks.html#sec:custom_tasks_standalone_project</a>, its <code>build.gradle</code> is very simple.</p>\n<pre><code>plugins {\n    id 'groovy'\n    // id 'java' &lt;----- use this if written in Java\n}\n\ndependencies {\n    implementation gradleApi()\n}\n</code></pre>\n<p>You don't have to specify <code>org.gradle:api</code> in <code>dependencies{}</code> nor <code>mavenCentral()</code> in <code>repositories{}</code>. The one you found in <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">https://mvnrepository.com</a> is a very old version. I guess they host the JARs themselves.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647599309,"creation_date":1647513568,"question_id":71510914,"body_markdown":"I try to use DefaultTask and can&#39;t add the `org.gradle.api.*` dependency.\r\n\r\nI added dependency from the https://mvnrepository.com/artifact/org.gradle/api/1.0:\r\n```gradle\r\n    // https://mvnrepository.com/artifact/org.gradle/api\r\n    implementation group: &#39;org.gradle&#39;, name: &#39;api&#39;, version: &#39;1.0&#39;\r\n```\r\nbut the project still does not &quot;see&quot; org.gradle... library:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n`gradle build` execution result:\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not find org.gradle:api:1.0.\r\n     Searched in the following locations:\r\n       - https://repo.maven.apache.org/maven2/org/gradle/api/1.0/api-1.0.pom\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/bvZQr.png\r\n\r\n\r\nFull build.gradle:\r\n\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ntest{\r\n    testLogging.showStandardStreams = true\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-email\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-email&#39;, version: &#39;1.5&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.gradle/api\r\n    implementation group: &#39;org.gradle&#39;, name: &#39;api&#39;, version: &#39;1.0&#39;\r\n}\r\n```\r\n\r\n**Why has the dependency doesn&#39;t been found?**\r\n","title":"Couldn&#39;t find org.gradle.api dependency","body":"<p>I try to use DefaultTask and can't add the <code>org.gradle.api.*</code> dependency.</p>\n<p>I added dependency from the <a href=\"https://mvnrepository.com/artifact/org.gradle/api/1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.gradle/api/1.0</a>:</p>\n<pre><code>    // https://mvnrepository.com/artifact/org.gradle/api\n    implementation group: 'org.gradle', name: 'api', version: '1.0'\n</code></pre>\n<p>but the project still does not &quot;see&quot; org.gradle... library:</p>\n<p><a href=\"https://i.stack.imgur.com/bvZQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bvZQr.png\" alt=\"enter image description here\" /></a></p>\n<p><code>gradle build</code> execution result:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find org.gradle:api:1.0.\n     Searched in the following locations:\n       - https://repo.maven.apache.org/maven2/org/gradle/api/1.0/api-1.0.pom\n\n</code></pre>\n<p>Full build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ntest{\n    testLogging.showStandardStreams = true\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-email\n    implementation group: 'org.apache.commons', name: 'commons-email', version: '1.5'\n\n    // https://mvnrepository.com/artifact/org.gradle/api\n    implementation group: 'org.gradle', name: 'api', version: '1.0'\n}\n</code></pre>\n<p><strong>Why has the dependency doesn't been found?</strong></p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":4,"up_vote_count":4,"is_accepted":true,"score":0,"last_activity_date":1263178105,"creation_date":1263150880,"answer_id":2038201,"question_id":2038169,"body_markdown":"I think the answer to your question is that if you are writing a database neutral application using JDBC, then you need to use database neutral names, and not things that require special escaping per database vendor.\r\n\r\nThere is nothing I know of in the JDBC which supports that. A ORM product will deal with such things.\r\n\r\nEdit: If you are writing an ORM, then I would think need a seperate SQL generation class for each supported database, just to handle the various syntax involved, so you would have to write that. You can certainly look at the source code of the various open source ORM&#39;s out there and see how they handle it.","title":"How to quote/escape identifiers such as column names with JDBC?","body":"<p>I think the answer to your question is that if you are writing a database neutral application using JDBC, then you need to use database neutral names, and not things that require special escaping per database vendor.</p>\n\n<p>There is nothing I know of in the JDBC which supports that. A ORM product will deal with such things.</p>\n\n<p>Edit: If you are writing an ORM, then I would think need a seperate SQL generation class for each supported database, just to handle the various syntax involved, so you would have to write that. You can certainly look at the source code of the various open source ORM's out there and see how they handle it.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1263158691,"creation_date":1263158691,"answer_id":2038692,"question_id":2038169,"body_markdown":"Have a look at  \r\n\r\n    DatabaseMetaData.getIdentifierQuoteString()\r\n\r\nI never used it but it sounds good :-)   \r\n\r\n`getExtraNameCharacters()` could also be of some help","title":"How to quote/escape identifiers such as column names with JDBC?","body":"<p>Have a look at  </p>\n\n<pre><code>DatabaseMetaData.getIdentifierQuoteString()\n</code></pre>\n\n<p>I never used it but it sounds good :-)   </p>\n\n<p><code>getExtraNameCharacters()</code> could also be of some help</p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1647599073,"creation_date":1605549803,"answer_id":64863308,"question_id":2038169,"body_markdown":"Since Java 9, the [`Statement`][1] interface provides various methods for engine-specific quoting:\r\n\r\n- `enquoteIdentifier` for SQL identifiers (e.g. schema, table, column names)\r\n- `enquoteLiteral` for string literals (e.g. char, varchar, text literals)\r\n- `enquoteNCharLiteral` for National Character Set literals\r\n\r\n```java\r\nStatement stmt = connection.createStatement();\r\nString query = String.format(\r\n        &quot;SELECT id FROM %s WHERE name = %s&quot;,\r\n        stmt.enquoteIdentifier(&quot;table&quot;, false),\r\n        stmt.enquoteLiteral(&quot;it&#39;s&quot;));\r\nResultSet resultSet = stmt.executeQuery(query);\r\n```\r\n\r\nHowever, whenever possible (i.e. for values in data queries), use prepared statements instead.\r\n\r\n```java\r\nStatement stmtFormat = connection.createStatement();\r\nString query = String.format(\r\n        &quot;SELECT id FROM %s WHERE name = ?&quot;, \r\n        stmtFormat.enquoteIdentifier(&quot;table&quot;, false);\r\nPreparedStatement stmt = connection.prepareStatement(query);\r\nstmt.setString(1, &quot;it&#39;s&quot;);\r\nResultSet resultSet = stmt.executeQuery();\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html","title":"How to quote/escape identifiers such as column names with JDBC?","body":"<p>Since Java 9, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Statement.html\" rel=\"nofollow noreferrer\"><code>Statement</code></a> interface provides various methods for engine-specific quoting:</p>\n<ul>\n<li><code>enquoteIdentifier</code> for SQL identifiers (e.g. schema, table, column names)</li>\n<li><code>enquoteLiteral</code> for string literals (e.g. char, varchar, text literals)</li>\n<li><code>enquoteNCharLiteral</code> for National Character Set literals</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Statement stmt = connection.createStatement();\nString query = String.format(\n        &quot;SELECT id FROM %s WHERE name = %s&quot;,\n        stmt.enquoteIdentifier(&quot;table&quot;, false),\n        stmt.enquoteLiteral(&quot;it's&quot;));\nResultSet resultSet = stmt.executeQuery(query);\n</code></pre>\n<p>However, whenever possible (i.e. for values in data queries), use prepared statements instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Statement stmtFormat = connection.createStatement();\nString query = String.format(\n        &quot;SELECT id FROM %s WHERE name = ?&quot;, \n        stmtFormat.enquoteIdentifier(&quot;table&quot;, false);\nPreparedStatement stmt = connection.prepareStatement(query);\nstmt.setString(1, &quot;it's&quot;);\nResultSet resultSet = stmt.executeQuery();\n</code></pre>\n"}],"owner":{"account_id":60183,"reputation":4029,"user_id":179864,"accept_rate":67,"display_name":"aditsu quit because SE is EVIL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8330,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2038201,"answer_count":3,"score":13,"last_activity_date":1647599073,"creation_date":1263150282,"question_id":2038169,"body_markdown":"Different database servers use different ways to quote and escape identifiers.\r\n\r\nE.g. &quot;foo bar&quot; vs \\`foo bar\\` vs [foo bar], or &quot;10&quot;&quot;&quot; vs &quot;10\\&quot;&quot;, or identifiers such as FooBar or array need to be quoted for some databases but not for others.\r\n\r\nIs there any API method that performs the quoting/escaping correctly for a given database connection? Or any alternative solution?","title":"How to quote/escape identifiers such as column names with JDBC?","body":"<p>Different database servers use different ways to quote and escape identifiers.</p>\n\n<p>E.g. \"foo bar\" vs `foo bar` vs [foo bar], or \"10\"\"\" vs \"10\\\"\", or identifiers such as FooBar or array need to be quoted for some databases but not for others.</p>\n\n<p>Is there any API method that performs the quoting/escaping correctly for a given database connection? Or any alternative solution?</p>\n"},{"tags":["java","spring","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647598901,"creation_date":1647598901,"answer_id":71525536,"question_id":71525456,"body_markdown":"You should use `SpringExtension`.\r\n\r\nYou could also check [this post][1] to understand the differences between `MockitoExtension` and `SpringExtension`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61433806/junit-5-with-spring-boot-when-to-use-extendwith-spring-or-mockito","title":"Application context is always null","body":"<p>You should use <code>SpringExtension</code>.</p>\n<p>You could also check <a href=\"https://stackoverflow.com/questions/61433806/junit-5-with-spring-boot-when-to-use-extendwith-spring-or-mockito\">this post</a> to understand the differences between <code>MockitoExtension</code> and <code>SpringExtension</code></p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647598901,"creation_date":1647598444,"question_id":71525456,"body_markdown":"I am using JUnit5, with sureFire version:\r\n\r\n    &lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\r\n\r\nand code\r\n\r\n        @ExtendWith(MockitoExtension.class)\r\n        @ContextConfiguration(classes =....ContextConfiguration.class)\r\n        @TestPropertySource({&quot;classpath:application-${env:dev}.properties&quot;, &quot;classpath:app-${env:dev}.properties&quot;})\r\n        class TestRunner{\r\n           @Test\r\n           void testService(){\r\n             BeanUtils.getBean(...);\r\n           }\r\n        }\r\n\r\n\r\n    @Service\r\n    public class BeanUtil implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext context;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            context = applicationContext; // NOSONAR\r\n        }\r\n    \r\n        /**\r\n         * Use this method to manually autowire Spring Beans into classes that are not managed by Spring.\r\n         *\r\n         * @param beanClass - Class type of the required bean.\r\n         **/\r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\r\n            return context.getBean(beanClass);\r\n        }\r\n    }\r\n\r\nMy ContextConfigurationClass has `@ComponentScan` directed to `BeanUtils` class, but the `ApplicationContext` is always null, not autowired.\r\n\r\nI am using `@ExtendWith(MockitoExtension.class)` cuz i am also mocking in the test.\r\n\r\n\r\nWhat `JUnit5`extension do i need to use in order to init it?\r\n","title":"Application context is always null","body":"<p>I am using JUnit5, with sureFire version:</p>\n<pre><code>&lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\n</code></pre>\n<p>and code</p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\n    @ContextConfiguration(classes =....ContextConfiguration.class)\n    @TestPropertySource({&quot;classpath:application-${env:dev}.properties&quot;, &quot;classpath:app-${env:dev}.properties&quot;})\n    class TestRunner{\n       @Test\n       void testService(){\n         BeanUtils.getBean(...);\n       }\n    }\n\n\n@Service\npublic class BeanUtil implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext; // NOSONAR\n    }\n\n    /**\n     * Use this method to manually autowire Spring Beans into classes that are not managed by Spring.\n     *\n     * @param beanClass - Class type of the required bean.\n     **/\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; beanClass) {\n        return context.getBean(beanClass);\n    }\n}\n</code></pre>\n<p>My ContextConfigurationClass has <code>@ComponentScan</code> directed to <code>BeanUtils</code> class, but the <code>ApplicationContext</code> is always null, not autowired.</p>\n<p>I am using <code>@ExtendWith(MockitoExtension.class)</code> cuz i am also mocking in the test.</p>\n<p>What <code>JUnit5</code>extension do i need to use in order to init it?</p>\n"},{"tags":["java","stream","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1647269286,"post_id":71469593,"comment_id":126322484,"body_markdown":"Probably it&#39;s because `toList` returns an unmodifiable list, whereas `collect(Collectors.toList())` returns a modifiable `ArrayList` instead, but I&#39;m only guessing. See [here](https://stackoverflow.com/questions/65969919/differences-of-java-16s-stream-tolist-and-stream-collectcollectors-tolist) for reference","body":"Probably it&#39;s because <code>toList</code> returns an unmodifiable list, whereas <code>collect(Collectors.toList())</code> returns a modifiable <code>ArrayList</code> instead, but I&#39;m only guessing. See <a href=\"https://stackoverflow.com/questions/65969919/differences-of-java-16s-stream-tolist-and-stream-collectcollectors-tolist\">here</a> for reference"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1647269319,"post_id":71469593,"comment_id":126322497,"body_markdown":"Huh that&#39;s weird. Is it not aware of what&#39;s new in Java 16? What if you change `toList()` to `collect(Collectors.toList())`? Does that work?","body":"Huh that&#39;s weird. Is it not aware of what&#39;s new in Java 16? What if you change <code>toList()</code> to <code>collect(Collectors.toList())</code>? Does that work?"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1647269447,"post_id":71469593,"comment_id":126322538,"body_markdown":"@Sweeper  I thought so hence I tried to change it to `input.stream().map(String::toLowerCase).collect(Collectors.toList())` but If I do that then I get another issue `&quot;Stream.toList()&quot; method should be used instead of &quot;collectors&quot; when unmodifiable list needed` and it informs me to use `toList`. It will give me one or another issue.","body":"@Sweeper  I thought so hence I tried to change it to <code>input.stream().map(String::toLowerCase).collect(Collectors.t&zwnj;&#8203;oList())</code> but If I do that then I get another issue <code>&quot;Stream.toList()&quot; method should be used instead of &quot;collectors&quot; when unmodifiable list needed</code> and it informs me to use <code>toList</code>. It will give me one or another issue."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1647269579,"post_id":71469593,"comment_id":126322601,"body_markdown":"Is that the warning from your IDE or also a Sonar issue? If it&#39;s from the IDE, then it looks like there&#39;s some discrepancies in the rules. This seems like a false positive to me, so maybe it would be best to just suppress the Sonar warning?","body":"Is that the warning from your IDE or also a Sonar issue? If it&#39;s from the IDE, then it looks like there&#39;s some discrepancies in the rules. This seems like a false positive to me, so maybe it would be best to just suppress the Sonar warning?"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1647270168,"post_id":71469593,"comment_id":126322854,"body_markdown":"@QBrute Thanks a lot for your response. Sure will do the same. I have one more small doubt regarding the SonarLint, I have posted the same at the bottom of this question above. If possible can you please have a look and provide some suggestion?","body":"@QBrute Thanks a lot for your response. Sure will do the same. I have one more small doubt regarding the SonarLint, I have posted the same at the bottom of this question above. If possible can you please have a look and provide some suggestion?"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1647598683,"post_id":71469593,"comment_id":126416295,"body_markdown":"@QBrute The issue is not coming from the IDE Problems rather my organization&#39;s SonarQube deployment. It&#39;s throwing as `bug`. I have added a screenshot of it in the question. Can you please once check and let me know how can I fix it?","body":"@QBrute The issue is not coming from the IDE Problems rather my organization&#39;s SonarQube deployment. It&#39;s throwing as <code>bug</code>. I have added a screenshot of it in the question. Can you please once check and let me know how can I fix it?"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647598789,"creation_date":1647269031,"question_id":71469593,"body_markdown":"I have a few simple Java Streams in my code for these Streams SonarQube/Sonarlint shows as Noncompliant with the message:\r\n```\r\nRefactor the code so this stream pipeline is used.\r\n```\r\n\r\nFollowing are my Java Methods/Streams:\r\n```\r\nprivate static List&lt;String&gt; format(List&lt;String&gt; input) {\r\n    return input.stream().map(i -&gt; DomainName + &quot;/path/file-&quot; + i).toList();\r\n}\r\n```\r\n\r\nAnother Noncompliant code sample is:\r\n```\r\nprivate static List&lt;String&gt; format1(List&lt;String&gt; input) {\r\n    return input.stream().map(String::toLowerCase).toList();\r\n}\r\n```\r\n\r\nI believe these are simple Java Streams and they are working as expected for my requirement so not sure what&#39;s wrong with this. Can someone please explain what&#39;s wrong with this and how to fix the SonarQube issue?\r\n\r\nFollowing is the Bug which is thrown by SonarQube:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Another Clarification**\r\n\r\nWhich of the below is good to use as per Sonar and coding perspective?\r\n\r\nI am currently creating a List something like this: \r\n```\r\nfinal List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n```\r\n\r\n\r\n**Update**\r\n\r\nSo SonarCube tells me to declare it as `var` so is it good to change it to \r\n1. `var myList = new ArrayList&lt;&gt;();` or \r\n2. `final var myList = new ArrayList&lt;&gt;();`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9uTYG.png","title":"Why SonarQube shows this as Noncompliant code (Refactor the code so this stream pipeline is used.)?","body":"<p>I have a few simple Java Streams in my code for these Streams SonarQube/Sonarlint shows as Noncompliant with the message:</p>\n<pre><code>Refactor the code so this stream pipeline is used.\n</code></pre>\n<p>Following are my Java Methods/Streams:</p>\n<pre><code>private static List&lt;String&gt; format(List&lt;String&gt; input) {\n    return input.stream().map(i -&gt; DomainName + &quot;/path/file-&quot; + i).toList();\n}\n</code></pre>\n<p>Another Noncompliant code sample is:</p>\n<pre><code>private static List&lt;String&gt; format1(List&lt;String&gt; input) {\n    return input.stream().map(String::toLowerCase).toList();\n}\n</code></pre>\n<p>I believe these are simple Java Streams and they are working as expected for my requirement so not sure what's wrong with this. Can someone please explain what's wrong with this and how to fix the SonarQube issue?</p>\n<p>Following is the Bug which is thrown by SonarQube:\n<a href=\"https://i.stack.imgur.com/9uTYG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9uTYG.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Another Clarification</strong></p>\n<p>Which of the below is good to use as per Sonar and coding perspective?</p>\n<p>I am currently creating a List something like this:</p>\n<pre><code>final List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n</code></pre>\n<p><strong>Update</strong></p>\n<p>So SonarCube tells me to declare it as <code>var</code> so is it good to change it to</p>\n<ol>\n<li><code>var myList = new ArrayList&lt;&gt;();</code> or</li>\n<li><code>final var myList = new ArrayList&lt;&gt;();</code></li>\n</ol>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647603698,"post_id":71525461,"comment_id":126418033,"body_markdown":"You can delete any file you want without requesting any further permission if you use saf. If you manage to call createDeleteRequest with all uries for your files the user only has to confirm the delete once. You talk about a limitation but what do you mean. One confirmation is all the user has to give.","body":"You can delete any file you want without requesting any further permission if you use saf. If you manage to call createDeleteRequest with all uries for your files the user only has to confirm the delete once. You talk about a limitation but what do you mean. One confirmation is all the user has to give."},{"owner":{"account_id":13928146,"reputation":65,"user_id":10459304,"display_name":"Sami"},"score":0,"creation_date":1647608231,"post_id":71525461,"comment_id":126419419,"body_markdown":"@blackapps Thanks for the reply. My issue is caused by the inability to handle accept/cancel dialogs of `MediaStore.createDeleteRequest` I want to handle the accept or cancel with two different approaches. If the user accepts, I would refresh the UI and update my internal lists while the delete is being carried out. `MediaStore.createDeleteRequest` doesn&#39;t allow me to check that. Also, there is the nuisance of having to rely on `onActivityResult` which would force me to clutter my app design which I do not want. That is why I am looking for alternative using the SAF. Thanks again.","body":"@blackapps Thanks for the reply. My issue is caused by the inability to handle accept/cancel dialogs of <code>MediaStore.createDeleteRequest</code> I want to handle the accept or cancel with two different approaches. If the user accepts, I would refresh the UI and update my internal lists while the delete is being carried out. <code>MediaStore.createDeleteRequest</code> doesn&#39;t allow me to check that. Also, there is the nuisance of having to rely on <code>onActivityResult</code> which would force me to clutter my app design which I do not want. That is why I am looking for alternative using the SAF. Thanks again."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647625994,"post_id":71525461,"comment_id":126426426,"body_markdown":"`while the delete is being carried out.` There is no while. This is executed very fast. And you can update the gui afterwards in onActivityResult. I have no idea where you are against.","body":"<code>while the delete is being carried out.</code> There is no while. This is executed very fast. And you can update the gui afterwards in onActivityResult. I have no idea where you are against."},{"owner":{"account_id":13928146,"reputation":65,"user_id":10459304,"display_name":"Sami"},"score":0,"creation_date":1647626944,"post_id":71525461,"comment_id":126426715,"body_markdown":"@blackapps It is not fast when you have many items to remove. I want my users to be able to see the up to date UI directly after the delete instead of seeing the action of refreshing it being carried out after the delete. Also, as I have mentioned before, `onActivityResult` is not favorable for me because of the way the app is designed. That is why I am looking into SAF. Thanks for your time.","body":"@blackapps It is not fast when you have many items to remove. I want my users to be able to see the up to date UI directly after the delete instead of seeing the action of refreshing it being carried out after the delete. Also, as I have mentioned before, <code>onActivityResult</code> is not favorable for me because of the way the app is designed. That is why I am looking into SAF. Thanks for your time."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647632827,"post_id":71525461,"comment_id":126428495,"body_markdown":"1000 files in less than two seconds. What do you wanna update. Its blistery fast. You can never do that yourself that fast using saf. One file per second about.","body":"1000 files in less than two seconds. What do you wanna update. Its blistery fast. You can never do that yourself that fast using saf. One file per second about."}],"owner":{"account_id":13928146,"reputation":65,"user_id":10459304,"display_name":"Sami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647598471,"creation_date":1647598471,"question_id":71525461,"body_markdown":"I am moving from file API to SAF for Android 11+ devices only (I will continue using the file API for previous systems). I have learned that I can ask the user to select a folder/directory using SAF (`ACTION_OPEN_DOCUMENT_TREE`) then persist it so I no longer have to ask the user for access to the folder/directory he picked. Now, I am facing a design issue where I cannot use `MediaStore.createDeleteRequest()` for batch deletion on Android 11+ design. I need to be able to detect user allowing or cancelling deletion on `MediaStore.createDeleteRequest()` but it seems to be not possible to do. My question is. Is it possible to use the persisted uri to batch delete files within the persisted uri without asking the user for permission to delete each file one by one and thus bypassing the limitation of `MediaStore.createDeleteRequest()`\r\n","title":"Batch delete after persisting uri chosen by user in ACTION_OPEN_DOCUMENT_TREE","body":"<p>I am moving from file API to SAF for Android 11+ devices only (I will continue using the file API for previous systems). I have learned that I can ask the user to select a folder/directory using SAF (<code>ACTION_OPEN_DOCUMENT_TREE</code>) then persist it so I no longer have to ask the user for access to the folder/directory he picked. Now, I am facing a design issue where I cannot use <code>MediaStore.createDeleteRequest()</code> for batch deletion on Android 11+ design. I need to be able to detect user allowing or cancelling deletion on <code>MediaStore.createDeleteRequest()</code> but it seems to be not possible to do. My question is. Is it possible to use the persisted uri to batch delete files within the persisted uri without asking the user for permission to delete each file one by one and thus bypassing the limitation of <code>MediaStore.createDeleteRequest()</code></p>\n"},{"tags":["java","spring-boot","jetty","servlet-3.0","vaadin-flow"],"comments":[{"owner":{"account_id":266915,"reputation":2035,"user_id":554760,"display_name":"Magnus"},"score":0,"creation_date":1647529865,"post_id":70096266,"comment_id":126398739,"body_markdown":"I have the exact same issue... @markus did you ever found a solution?","body":"I have the exact same issue... @markus did you ever found a solution?"}],"answers":[{"tags":[],"owner":{"account_id":4059918,"reputation":1722,"user_id":3336733,"display_name":"Artur Signell"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637758891,"creation_date":1637758891,"answer_id":70096576,"question_id":70096266,"body_markdown":"It works also in a packaged jar, exactly as you describe. You can test by doing e.g.\r\n```\r\nnpx @vaadin/cli init hello-resources\r\ncd hello-resources\r\necho &quot;Hello&quot; &gt; src/main/resources/META-INF/resources/asd.txt\r\nmvn\r\n```\r\n\r\nNow http://localhost:8080/asd.txt returns &quot;Hello&quot;\r\n\r\n```\r\nmvn clean package -Pproduction\r\njava -jar target/hello-resources-1.0-SNAPSHOT.jar\r\n```\r\n\r\nNow http://localhost:8080/asd.txt also returns &quot;Hello&quot;\r\n","title":"Serve static ressources in vaadin","body":"<p>It works also in a packaged jar, exactly as you describe. You can test by doing e.g.</p>\n<pre><code>npx @vaadin/cli init hello-resources\ncd hello-resources\necho &quot;Hello&quot; &gt; src/main/resources/META-INF/resources/asd.txt\nmvn\n</code></pre>\n<p>Now http://localhost:8080/asd.txt returns &quot;Hello&quot;</p>\n<pre><code>mvn clean package -Pproduction\njava -jar target/hello-resources-1.0-SNAPSHOT.jar\n</code></pre>\n<p>Now http://localhost:8080/asd.txt also returns &quot;Hello&quot;</p>\n"},{"tags":[],"owner":{"account_id":266915,"reputation":2035,"user_id":554760,"display_name":"Magnus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647598431,"creation_date":1647598431,"answer_id":71525452,"question_id":70096266,"body_markdown":"I had this issue but upgrading to Vaadin 23 and Spring boot 2.5.3 solved the issue for me.\r\n","title":"Serve static ressources in vaadin","body":"<p>I had this issue but upgrading to Vaadin 23 and Spring boot 2.5.3 solved the issue for me.</p>\n"}],"owner":{"account_id":5621250,"reputation":521,"user_id":4451012,"display_name":"markus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1647598431,"creation_date":1637757681,"question_id":70096266,"body_markdown":"I want some static resources to be served via HTTP by a vaadin14/spring-boot server.\r\n\r\nAs I understand from this [blog post][1], there is a convention that all resources placed in `META-INF/resources`(and some other places) will be served as static content (web fragments)\r\n\r\nAs an example, i place the following file in:\r\n\r\n`src/main/resources/META-INF/resources/asd.txt`\r\n \r\nand maven puts it into JAR as expected:\r\n\r\n`META-INF/resources/asd.txt` \r\n\r\nWhen I ask for `localhost:8080/asd.txt` the results differ, depending on how the app was started:\r\n* IDE/eclipse: works (Start the Application.main() method)\r\n* packaged jar: the vaadin router picks up the request and thells me that there is no route available.\r\n\r\nHow do i tell vaadin/jetty (or whom ever?) to also serve this static repo when packaged?\r\n\r\nWe are using vaadin 14.7.0 with spring-boot-starter-parent 2.4.5\r\n\r\n\r\n  [1]: https://vaadin.com/blog/vaadin-10-and-static-resources","title":"Serve static ressources in vaadin","body":"<p>I want some static resources to be served via HTTP by a vaadin14/spring-boot server.</p>\n<p>As I understand from this <a href=\"https://vaadin.com/blog/vaadin-10-and-static-resources\" rel=\"nofollow noreferrer\">blog post</a>, there is a convention that all resources placed in <code>META-INF/resources</code>(and some other places) will be served as static content (web fragments)</p>\n<p>As an example, i place the following file in:</p>\n<p><code>src/main/resources/META-INF/resources/asd.txt</code></p>\n<p>and maven puts it into JAR as expected:</p>\n<p><code>META-INF/resources/asd.txt</code></p>\n<p>When I ask for <code>localhost:8080/asd.txt</code> the results differ, depending on how the app was started:</p>\n<ul>\n<li>IDE/eclipse: works (Start the Application.main() method)</li>\n<li>packaged jar: the vaadin router picks up the request and thells me that there is no route available.</li>\n</ul>\n<p>How do i tell vaadin/jetty (or whom ever?) to also serve this static repo when packaged?</p>\n<p>We are using vaadin 14.7.0 with spring-boot-starter-parent 2.4.5</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647466475,"creation_date":1647466475,"answer_id":71504511,"question_id":71501872,"body_markdown":"This is not an appropriate architecture for using Amazon SQS. Your processes should _not_ be trying to find a specific message from an Amazon SQS queue.\r\n\r\nYou should find a different architecture for this message-passing task. Some ideas:\r\n\r\n- Create a message in Amazon S3 with an &#39;expected&#39; Key. Have the each thread look for that object as a return message. (This is effectively using Amazon S3 as a Key-Value Store.)\r\n- Have a single Lambda function retrieve messages from SQS and update a database (or S3 as above). Then, have the threads consult the database instead of SQS.","title":"Processing specific AWS SQS messages in specific threads","body":"<p>This is not an appropriate architecture for using Amazon SQS. Your processes should <em>not</em> be trying to find a specific message from an Amazon SQS queue.</p>\n<p>You should find a different architecture for this message-passing task. Some ideas:</p>\n<ul>\n<li>Create a message in Amazon S3 with an 'expected' Key. Have the each thread look for that object as a return message. (This is effectively using Amazon S3 as a Key-Value Store.)</li>\n<li>Have a single Lambda function retrieve messages from SQS and update a database (or S3 as above). Then, have the threads consult the database instead of SQS.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647538368,"creation_date":1647538368,"answer_id":71516697,"question_id":71501872,"body_markdown":"I think you need to put something in between SQS and your threads. Like a DynamoDB table. You could have a Lambda function that processes **all** the SQS messages and just translates them into DynamoDB records. Then your different threads could easily check for the specific records they are interested in using a DynamoDB query.\r\n\r\nJust because Textract mandates that you use SQS doesn&#39;t mean the final step in your architecture has to read those messages directly from SQS. In this case SQS is just a message bus that can integrate with other services in AWS, and those services are your building blocks you can use to create the architecture you need.","title":"Processing specific AWS SQS messages in specific threads","body":"<p>I think you need to put something in between SQS and your threads. Like a DynamoDB table. You could have a Lambda function that processes <strong>all</strong> the SQS messages and just translates them into DynamoDB records. Then your different threads could easily check for the specific records they are interested in using a DynamoDB query.</p>\n<p>Just because Textract mandates that you use SQS doesn't mean the final step in your architecture has to read those messages directly from SQS. In this case SQS is just a message bus that can integrate with other services in AWS, and those services are your building blocks you can use to create the architecture you need.</p>\n"}],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647598351,"creation_date":1647452248,"question_id":71501872,"body_markdown":"The Java application posts async jobs to AWS and gets back a JobID. When the async job is finished, a message will appear in an SQS queue with that JobID. *Each JobID is handled by a different thread.* Each of those threads also polls SQS for messages until it finds the message which contains its JobID. Additionally, the application is distributed into multiple services so there can&#39;t be a single SQS processor.\r\n\r\nI saw that SQS returns a maximum of 10 messages and after they are returned, a visibility timeout is applied so that they are not re-sent to other consumers. However, my consumers are the threads that want to consume *only a single message* and let the rest be consumed by other threads. Should I set the visibility timeout to 0? Will this make it so all consumers get the same set of 10 messages on every request? What&#39;s the best way for each consumer to sift through all the messages and find the one it wants?\r\n\r\nTL;DR: SQS has 100 messages and there are 100 consumers, one for each message. How should I go about having each consumer find the message it wants (based on a JobID).\r\n\r\nEDIT: I know that this is **not** an appropriate usage of SQS and I&#39;d be very glad to not use it at all but our main integration is with Amazon Textract for which it is mandatory to use SQS for its asynchronous operations. Each Textract request is processed by a different thread which means that they each need to get back a specific SQS message, consumers are not universal. Not to mention the possibility of a clustered environment for which I&#39;d like to avoid having to do any synchronization...\r\n\r\nEDIT 2: This is for an on-premises, Setup.exe based, dev-hands-off application where we want to minimize the amount of unneeded AWS services used (both for cost and for customer setup/maintenance reasons) as well as the use of external components, again to minimize customer deployment/maintenance/servers. I understand that we are living in the world of microservices but there are still applications that want to benefit from intelligent services without being cloud-native themselves.","title":"Processing specific AWS SQS messages in specific threads","body":"<p>The Java application posts async jobs to AWS and gets back a JobID. When the async job is finished, a message will appear in an SQS queue with that JobID. <em>Each JobID is handled by a different thread.</em> Each of those threads also polls SQS for messages until it finds the message which contains its JobID. Additionally, the application is distributed into multiple services so there can't be a single SQS processor.</p>\n<p>I saw that SQS returns a maximum of 10 messages and after they are returned, a visibility timeout is applied so that they are not re-sent to other consumers. However, my consumers are the threads that want to consume <em>only a single message</em> and let the rest be consumed by other threads. Should I set the visibility timeout to 0? Will this make it so all consumers get the same set of 10 messages on every request? What's the best way for each consumer to sift through all the messages and find the one it wants?</p>\n<p>TL;DR: SQS has 100 messages and there are 100 consumers, one for each message. How should I go about having each consumer find the message it wants (based on a JobID).</p>\n<p>EDIT: I know that this is <strong>not</strong> an appropriate usage of SQS and I'd be very glad to not use it at all but our main integration is with Amazon Textract for which it is mandatory to use SQS for its asynchronous operations. Each Textract request is processed by a different thread which means that they each need to get back a specific SQS message, consumers are not universal. Not to mention the possibility of a clustered environment for which I'd like to avoid having to do any synchronization...</p>\n<p>EDIT 2: This is for an on-premises, Setup.exe based, dev-hands-off application where we want to minimize the amount of unneeded AWS services used (both for cost and for customer setup/maintenance reasons) as well as the use of external components, again to minimize customer deployment/maintenance/servers. I understand that we are living in the world of microservices but there are still applications that want to benefit from intelligent services without being cloud-native themselves.</p>\n"},{"tags":["java","groovy","spock"],"answers":[{"tags":[],"owner":{"account_id":1209967,"reputation":828,"user_id":1178726,"accept_rate":30,"display_name":"Andreas Andreou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647598286,"creation_date":1647598286,"answer_id":71525418,"question_id":71524453,"body_markdown":"Well this was silly, \r\n\r\nLike I mentioned I am using java modules and it seems that I need to export the packages that contain the classes I want to test.\r\n\r\n```\r\nmodule com.pittacode.apihelper {\r\n    requires jdk.crypto.ec; // needed for ssl communication\r\n    requires org.slf4j;\r\n    requires java.net.http;\r\n    requires java.sql;\r\n    requires com.google.gson;\r\n    requires json.path;\r\n    requires org.apache.logging.log4j;\r\n    requires com.fasterxml.jackson.databind;\r\n\r\n    exports com.pittacode.apihelper;\r\n    exports com.pittacode.apihelper.json; // &lt;-- this is the missing line\r\n}\r\n```","title":"Trying to run a test for a java class in Spock framework but I get this weird error about the constructor","body":"<p>Well this was silly,</p>\n<p>Like I mentioned I am using java modules and it seems that I need to export the packages that contain the classes I want to test.</p>\n<pre><code>module com.pittacode.apihelper {\n    requires jdk.crypto.ec; // needed for ssl communication\n    requires org.slf4j;\n    requires java.net.http;\n    requires java.sql;\n    requires com.google.gson;\n    requires json.path;\n    requires org.apache.logging.log4j;\n    requires com.fasterxml.jackson.databind;\n\n    exports com.pittacode.apihelper;\n    exports com.pittacode.apihelper.json; // &lt;-- this is the missing line\n}\n</code></pre>\n"}],"owner":{"account_id":1209967,"reputation":828,"user_id":1178726,"accept_rate":30,"display_name":"Andreas Andreou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647598286,"creation_date":1647593402,"question_id":71524453,"body_markdown":"This is the error I get when I try to create the class under test\r\n\r\n    Could not find matching constructor for: com.pittacode.apihelper.json.JsonObjectFlattener()\r\n    groovy.lang.GroovyRuntimeException: Could not find matching constructor for: com.pittacode.apihelper.json.JsonObjectFlattener() at com.pittacode.apihelper.json.JsonObjectFlattenerTest.flatten json object with one nested object(JsonObjectFlattenerTest.groovy:12)\r\n\r\nThis is my test class\r\n\r\n```\r\npackage com.pittacode.apihelper.json\r\n\r\nimport com.google.gson.JsonObject\r\nimport com.google.gson.JsonParser\r\nimport spock.lang.Specification\r\n\r\nclass JsonObjectFlattenerTest extends Specification {\r\n\r\n    def classUnderTest = new JsonObjectFlattener()\r\n\r\n    def &quot;flatten json object with one nested object&quot;() {\r\n        given:\r\n        def jsonString = &quot;&quot;&quot;\r\n{\r\n  &quot;1-1&quot;: 11,\r\n  &quot;1-2&quot;: {\r\n    &quot;2-1&quot;: &quot;21&quot;\r\n  },\r\n  &quot;1-3&quot;: 13\r\n}\r\n&quot;&quot;&quot;\r\n        def jsonObject = JsonParser.parseString(json).getAsJsonObject()\r\n\r\n        when:\r\n        JsonObject result = classUnderTest.flatten(jsonObject)\r\n\r\n        then:\r\n        result.keySet().containsAll([&quot;1-1&quot;, &quot;1-2&quot;, &quot;1-3&quot;, &quot;2-1&quot;])\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have a gradle project with one subproject and a module-info.java\r\n\r\n```\r\nplugins {\r\n    id &quot;groovy&quot;\r\n    id &quot;application&quot;\r\n    id &quot;org.beryx.jlink&quot; version &quot;2.25.0&quot;\r\n    id &quot;org.javamodularity.moduleplugin&quot; version &quot;1.8.10&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    log4jVersion = &quot;2.17.2&quot;\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;com.jayway.jsonpath:json-path:2.7.0&quot;) {\r\n        exclude group: &quot;com.fasterxml.jackson.core&quot;\r\n        exclude group: &quot;com.google.gson&quot;\r\n    }\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.2&quot;)\r\n    implementation(&quot;com.google.code.gson:gson:2.9.0&quot;)\r\n\r\n    implementation(&quot;org.apache.logging.log4j:log4j-api:${log4jVersion}&quot;)\r\n    runtimeOnly(&quot;org.apache.logging.log4j:log4j-core:${log4jVersion}&quot;)\r\n    annotationProcessor(&quot;org.apache.logging.log4j:log4j-core:${log4jVersion}&quot;)\r\n    runtimeOnly(&quot;org.apache.logging.log4j:log4j-slf4j-impl:${log4jVersion}&quot;)\r\n\r\n\r\n    testImplementation(&quot;org.codehaus.groovy:groovy:3.0.9&quot;)\r\n    testImplementation(&quot;org.spockframework:spock-core:2.0-groovy-3.0&quot;)\r\n}\r\n\r\napplication {\r\n    mainClass = &quot;com.pittacode.apihelper.Runner&quot;\r\n    mainModule = &quot;com.pittacode.apihelper&quot;\r\n}\r\n\r\ntasks.named(&quot;test&quot;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    forceMerge &quot;log4j&quot;, &quot;jackson&quot;\r\n//    options = [&quot;--bind-services&quot;] // makes jre bigger but has everything, good way to test stuff\r\n    launcher {\r\n        name = &quot;apihelper&quot;\r\n        jvmArgs = [&quot;-Dlog4j.configurationFile=./log4j2.xml&quot;, &quot;-Dlog4j2.debug=false&quot;]\r\n    }\r\n    jpackage {\r\n        if (org.gradle.internal.os.OperatingSystem.current().windows) {\r\n            installerOptions += [&quot;--win-per-user-install&quot;, &quot;--win-dir-chooser&quot;, &quot;--win-menu&quot;, &quot;--win-shortcut&quot;]\r\n            imageOptions += [&quot;--win-console&quot;]\r\n        }\r\n    }\r\n}\r\n\r\ntasks.jlink.doLast {\r\n    copy {\r\n        from(&quot;src/main/resources&quot;)\r\n        into(&quot;$buildDir/image/bin&quot;)\r\n    }\r\n}\r\n```\r\n\r\nThis is the class\r\n\r\n```\r\npackage com.pittacode.apihelper.json;\r\n\r\nimport com.google.gson.JsonObject;\r\n\r\npublic final class JsonObjectFlattener {\r\n\r\n    public JsonObjectFlattener() {\r\n    }\r\n\r\n    public JsonObject flatten(JsonObject o) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nThe weird thing is that in another specification class if I try to initiate another object (unrelated) it seems to create it just fine. That one has parameters so I tried adding some in the flattener as well but didn&#39;t seem to make a difference","title":"Trying to run a test for a java class in Spock framework but I get this weird error about the constructor","body":"<p>This is the error I get when I try to create the class under test</p>\n<pre><code>Could not find matching constructor for: com.pittacode.apihelper.json.JsonObjectFlattener()\ngroovy.lang.GroovyRuntimeException: Could not find matching constructor for: com.pittacode.apihelper.json.JsonObjectFlattener() at com.pittacode.apihelper.json.JsonObjectFlattenerTest.flatten json object with one nested object(JsonObjectFlattenerTest.groovy:12)\n</code></pre>\n<p>This is my test class</p>\n<pre><code>package com.pittacode.apihelper.json\n\nimport com.google.gson.JsonObject\nimport com.google.gson.JsonParser\nimport spock.lang.Specification\n\nclass JsonObjectFlattenerTest extends Specification {\n\n    def classUnderTest = new JsonObjectFlattener()\n\n    def &quot;flatten json object with one nested object&quot;() {\n        given:\n        def jsonString = &quot;&quot;&quot;\n{\n  &quot;1-1&quot;: 11,\n  &quot;1-2&quot;: {\n    &quot;2-1&quot;: &quot;21&quot;\n  },\n  &quot;1-3&quot;: 13\n}\n&quot;&quot;&quot;\n        def jsonObject = JsonParser.parseString(json).getAsJsonObject()\n\n        when:\n        JsonObject result = classUnderTest.flatten(jsonObject)\n\n        then:\n        result.keySet().containsAll([&quot;1-1&quot;, &quot;1-2&quot;, &quot;1-3&quot;, &quot;2-1&quot;])\n    }\n}\n\n</code></pre>\n<p>I have a gradle project with one subproject and a module-info.java</p>\n<pre><code>plugins {\n    id &quot;groovy&quot;\n    id &quot;application&quot;\n    id &quot;org.beryx.jlink&quot; version &quot;2.25.0&quot;\n    id &quot;org.javamodularity.moduleplugin&quot; version &quot;1.8.10&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    log4jVersion = &quot;2.17.2&quot;\n}\n\ndependencies {\n    implementation(&quot;com.jayway.jsonpath:json-path:2.7.0&quot;) {\n        exclude group: &quot;com.fasterxml.jackson.core&quot;\n        exclude group: &quot;com.google.gson&quot;\n    }\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.2&quot;)\n    implementation(&quot;com.google.code.gson:gson:2.9.0&quot;)\n\n    implementation(&quot;org.apache.logging.log4j:log4j-api:${log4jVersion}&quot;)\n    runtimeOnly(&quot;org.apache.logging.log4j:log4j-core:${log4jVersion}&quot;)\n    annotationProcessor(&quot;org.apache.logging.log4j:log4j-core:${log4jVersion}&quot;)\n    runtimeOnly(&quot;org.apache.logging.log4j:log4j-slf4j-impl:${log4jVersion}&quot;)\n\n\n    testImplementation(&quot;org.codehaus.groovy:groovy:3.0.9&quot;)\n    testImplementation(&quot;org.spockframework:spock-core:2.0-groovy-3.0&quot;)\n}\n\napplication {\n    mainClass = &quot;com.pittacode.apihelper.Runner&quot;\n    mainModule = &quot;com.pittacode.apihelper&quot;\n}\n\ntasks.named(&quot;test&quot;) {\n    useJUnitPlatform()\n}\n\njlink {\n    forceMerge &quot;log4j&quot;, &quot;jackson&quot;\n//    options = [&quot;--bind-services&quot;] // makes jre bigger but has everything, good way to test stuff\n    launcher {\n        name = &quot;apihelper&quot;\n        jvmArgs = [&quot;-Dlog4j.configurationFile=./log4j2.xml&quot;, &quot;-Dlog4j2.debug=false&quot;]\n    }\n    jpackage {\n        if (org.gradle.internal.os.OperatingSystem.current().windows) {\n            installerOptions += [&quot;--win-per-user-install&quot;, &quot;--win-dir-chooser&quot;, &quot;--win-menu&quot;, &quot;--win-shortcut&quot;]\n            imageOptions += [&quot;--win-console&quot;]\n        }\n    }\n}\n\ntasks.jlink.doLast {\n    copy {\n        from(&quot;src/main/resources&quot;)\n        into(&quot;$buildDir/image/bin&quot;)\n    }\n}\n</code></pre>\n<p>This is the class</p>\n<pre><code>package com.pittacode.apihelper.json;\n\nimport com.google.gson.JsonObject;\n\npublic final class JsonObjectFlattener {\n\n    public JsonObjectFlattener() {\n    }\n\n    public JsonObject flatten(JsonObject o) {\n        return null;\n    }\n}\n</code></pre>\n<p>The weird thing is that in another specification class if I try to initiate another object (unrelated) it seems to create it just fine. That one has parameters so I tried adding some in the flattener as well but didn't seem to make a difference</p>\n"},{"tags":["java","list","linked-list","counter"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1647597230,"post_id":71524626,"comment_id":126415813,"body_markdown":"Did you try to implement it yourself? Read [How to ask good question](https://stackoverflow.com/help/how-to-ask) and [How to ask homework questions](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions). SO is not code/homework writing service","body":"Did you try to implement it yourself? Read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask good question</a> and <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How to ask homework questions</a>. SO is not code/homework writing service"}],"answers":[{"tags":[],"owner":{"account_id":16618904,"reputation":21,"user_id":12009828,"display_name":"maingroon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647594868,"creation_date":1647594868,"answer_id":71524734,"question_id":71524626,"body_markdown":"You can try it:\r\n\r\n    public int countEvenNumbers(Node node) {\r\n        return countEventNumber(node, 0);\r\n    }\r\n\r\n    private int countEvenNumbers(Node node, int count) {\r\n        if (node.data % 2 == 0) {\r\n            count++;\r\n        }\r\n        if (node.next == null) {\r\n            return count;\r\n        }\r\n        return countEvenNumbers(node.next, count);\r\n    }","title":"Count Even number in aLinkedList(java)","body":"<p>You can try it:</p>\n<pre><code>public int countEvenNumbers(Node node) {\n    return countEventNumber(node, 0);\n}\n\nprivate int countEvenNumbers(Node node, int count) {\n    if (node.data % 2 == 0) {\n        count++;\n    }\n    if (node.next == null) {\n        return count;\n    }\n    return countEvenNumbers(node.next, count);\n}\n</code></pre>\n"}],"owner":{"account_id":21387082,"reputation":1,"user_id":15751869,"display_name":"Saif Yousif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1647598212,"creation_date":1647594296,"question_id":71524626,"body_markdown":"Q1- Consider a linked list implemented using the Node class below.\r\n Implement the method:\r\n\r\n    public int countEvenNumbers(Node firstNode){} //This method counts the number of even numbers in the linked list\r\n\r\nwhose first node is firstNode. The implemented method shall be a recursive method. Here, firstNode references the first node in the linked list.\r\n\r\n    class Node {\r\n        int data;\r\n        Node next;\r\n    \r\n        Node(int i){\r\n            this(i, null);\r\n        }\r\n    \r\n        Node(int i, Node n){\r\n            data = i;\r\n            next = n;\r\n        }\r\n    }\r\n\r\n","title":"Count Even number in aLinkedList(java)","body":"<p>Q1- Consider a linked list implemented using the Node class below.\nImplement the method:</p>\n<pre><code>public int countEvenNumbers(Node firstNode){} //This method counts the number of even numbers in the linked list\n</code></pre>\n<p>whose first node is firstNode. The implemented method shall be a recursive method. Here, firstNode references the first node in the linked list.</p>\n<pre><code>class Node {\n    int data;\n    Node next;\n\n    Node(int i){\n        this(i, null);\n    }\n\n    Node(int i, Node n){\n        data = i;\n        next = n;\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","checkstyle"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1483094699,"post_id":41394848,"comment_id":69991458,"body_markdown":"Could you provide the checkstyle configuration you&#39;re using?","body":"Could you provide the checkstyle configuration you&#39;re using?"},{"owner":{"account_id":9153618,"reputation":123,"user_id":6807259,"display_name":"sssvip"},"score":0,"creation_date":1483095142,"post_id":41394848,"comment_id":69991690,"body_markdown":"[https://i.stack.imgur.com/BE4An.jpg](https://i.stack.imgur.com/BE4An.jpg) thank you","body":"<a href=\"https://i.stack.imgur.com/BE4An.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BE4An.jpg</a> thank you"}],"answers":[{"tags":[],"owner":{"account_id":4232566,"reputation":1533,"user_id":3464596,"display_name":"Hrabosch"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1647597987,"creation_date":1483094954,"answer_id":41394964,"question_id":41394848,"body_markdown":"EDIT: There is better solution since I wrote that answer -&gt; use `maxErrors=0` as **xxSwordy** mentioned here https://stackoverflow.com/a/57141028/3464596.\r\n\r\nHere is PR: https://github.com/gradle/gradle/pull/3901\r\n\r\n\r\nThere is possible to do it for errors by:\r\n\r\n`ignoreFailures = false`\r\n\r\nFor warnings, there **IS NOT POSSIBLE** to do that, see [this][1] ticket.\r\n\r\nFrom their old Jira and new GitHub issue comments there is one workaround:\r\n\r\n    tasks.withType(Checkstyle).each { checkstyleTask -&gt;\r\n        checkstyleTask.doLast {\r\n            reports.all { report -&gt;\r\n                def outputFile = report.destination\r\n                if (outputFile.exists() &amp;&amp; outputFile.text.contains(&quot;&lt;error &quot;)) {\r\n                    throw new GradleException(&quot;There were checkstyle warnings! For more info check $outputFile&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**So answer is: This is not possible by default and there is still opened ticket for that.** If you really WANT IT, you can try to participate and try to fix it, Gradle is opensource and it depends on developers :)\r\n  [1]: https://github.com/gradle/gradle/issues/881","title":"gradle checkstyle just output warn, but build sucess","body":"<p>EDIT: There is better solution since I wrote that answer -&gt; use <code>maxErrors=0</code> as <strong>xxSwordy</strong> mentioned here <a href=\"https://stackoverflow.com/a/57141028/3464596\">https://stackoverflow.com/a/57141028/3464596</a>.</p>\n<p>Here is PR: <a href=\"https://github.com/gradle/gradle/pull/3901\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/pull/3901</a></p>\n<p>There is possible to do it for errors by:</p>\n<p><code>ignoreFailures = false</code></p>\n<p>For warnings, there <strong>IS NOT POSSIBLE</strong> to do that, see [this][1] ticket.</p>\n<p>From their old Jira and new GitHub issue comments there is one workaround:</p>\n<pre><code>tasks.withType(Checkstyle).each { checkstyleTask -&gt;\n    checkstyleTask.doLast {\n        reports.all { report -&gt;\n            def outputFile = report.destination\n            if (outputFile.exists() &amp;&amp; outputFile.text.contains(&quot;&lt;error &quot;)) {\n                throw new GradleException(&quot;There were checkstyle warnings! For more info check $outputFile&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>So answer is: This is not possible by default and there is still opened ticket for that.</strong> If you really WANT IT, you can try to participate and try to fix it, Gradle is opensource and it depends on developers :)\n[1]: <a href=\"https://github.com/gradle/gradle/issues/881\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/881</a></p>\n"},{"tags":[],"owner":{"account_id":916096,"reputation":131,"user_id":948864,"display_name":"Ugo Uchegbu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1498817489,"creation_date":1498817489,"answer_id":44843985,"question_id":41394848,"body_markdown":"The default severity level for checkstyle violations is a warning. If you want the build to fail change the severity value from warning to error in your checkstyle.xml configuration. Any subsequent build will now fail if a violation exists.\r\n\r\n    &lt;property name=&quot;severity&quot; value=&quot;error&quot;/&gt;\r\n\r\n","title":"gradle checkstyle just output warn, but build sucess","body":"<p>The default severity level for checkstyle violations is a warning. If you want the build to fail change the severity value from warning to error in your checkstyle.xml configuration. Any subsequent build will now fail if a violation exists.</p>\n\n<pre><code>&lt;property name=\"severity\" value=\"error\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2628234,"reputation":745,"user_id":2274823,"display_name":"gargaroff"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1563780473,"creation_date":1563780473,"answer_id":57141028,"question_id":41394848,"body_markdown":"Sorry for grave-digging but I just stumbled across this while trying to achieve the same thing. Turns out that this has now been implemented, but requires a tiny configuration change.\r\n\r\nSo for any future adventures finding their way here: in your `build.gradle` to the following:\r\n\r\n    checkstyle {\r\n      ignoreFailures = false\r\n      maxWarnings = 0\r\n    }\r\n\r\nThis will then cause your builds to fail on Checkstyle errors.","title":"gradle checkstyle just output warn, but build sucess","body":"<p>Sorry for grave-digging but I just stumbled across this while trying to achieve the same thing. Turns out that this has now been implemented, but requires a tiny configuration change.</p>\n\n<p>So for any future adventures finding their way here: in your <code>build.gradle</code> to the following:</p>\n\n<pre><code>checkstyle {\n  ignoreFailures = false\n  maxWarnings = 0\n}\n</code></pre>\n\n<p>This will then cause your builds to fail on Checkstyle errors.</p>\n"}],"owner":{"account_id":9153618,"reputation":123,"user_id":6807259,"display_name":"sssvip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11349,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41394964,"answer_count":3,"score":12,"last_activity_date":1647597987,"creation_date":1483094496,"question_id":41394848,"body_markdown":"as you can see the checkstyle warn,but the build of this time is still success. why? I want it faild. please help.\r\n\r\n\r\n    D:\\MyData\\xxxx&gt;gradle clean checkstyleMain\r\n    :clean\r\n    :compileJava\r\n    :processResources\r\n    :classes\r\n    :checkstyleMain\r\n    [ant:checkstyle] [WARN] D:\\MyData\\xxxx.java:218:18: Member name &#39;Aource&#39; \r\n    must match pattern &#39;^[a-z][a-z0-9][a-zA-Z0-9]*$&#39;. [MemberName]\r\n   \r\n    BUILD SUCCESSFUL\r\n\r\n    Total time: 4.966 secs\r\n```\r\n    \r\nsee the img: [https://i.stack.imgur.com/7IbRM.jpg](https://i.stack.imgur.com/7IbRM.jpg)\r\n\r\n\r\nsee the checkstyle.xml: [https://i.stack.imgur.com/BE4An.jpg](https://i.stack.imgur.com/BE4An.jpg)","title":"gradle checkstyle just output warn, but build sucess","body":"<p>as you can see the checkstyle warn,but the build of this time is still success. why? I want it faild. please help.</p>\n\n<pre><code>D:\\MyData\\xxxx&gt;gradle clean checkstyleMain\n:clean\n:compileJava\n:processResources\n:classes\n:checkstyleMain\n[ant:checkstyle] [WARN] D:\\MyData\\xxxx.java:218:18: Member name 'Aource' \nmust match pattern '^[a-z][a-z0-9][a-zA-Z0-9]*$'. [MemberName]\n\nBUILD SUCCESSFUL\n\nTotal time: 4.966 secs\n</code></pre>\n\n<p>```</p>\n\n<p>see the img: <a href=\"https://i.stack.imgur.com/7IbRM.jpg\" rel=\"noreferrer\">https://i.stack.imgur.com/7IbRM.jpg</a></p>\n\n<p>see the checkstyle.xml: <a href=\"https://i.stack.imgur.com/BE4An.jpg\" rel=\"noreferrer\">https://i.stack.imgur.com/BE4An.jpg</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8486,"page":1506,"page_size":100}
