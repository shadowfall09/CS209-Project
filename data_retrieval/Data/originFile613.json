{"items":[{"tags":["java","encryption","cryptography","rsa"],"answers":[{"comments":[{"owner":{"account_id":276507,"reputation":16077,"user_id":569976,"accept_rate":68,"display_name":"neubert"},"score":5,"creation_date":1474088662,"post_id":32166210,"comment_id":66399291,"body_markdown":"I was playing around with the BouncyCastle crypto provider and BouncyCastle appears to operate differently with regard to `RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING`. ie. while Java&#39;s default crypto provider uses sha1 as the MGF hash bouncycastle appears to use sha256. This should probably be independently verified but that&#39;s the way it appears to me..","body":"I was playing around with the BouncyCastle crypto provider and BouncyCastle appears to operate differently with regard to <code>RSA&#47;ECB&#47;OAEPWITHSHA-256ANDMGF1PADDING</code>. ie. while Java&#39;s default crypto provider uses sha1 as the MGF hash bouncycastle appears to use sha256. This should probably be independently verified but that&#39;s the way it appears to me.."},{"owner":{"account_id":289517,"reputation":17358,"user_id":590531,"accept_rate":91,"display_name":"peceps"},"score":5,"creation_date":1479332208,"post_id":32166210,"comment_id":68517614,"body_markdown":"I just verified this, sun.security.rsa.RSAPadding when used with OAEP SHA256, uses SHA1 for the MGF1 function, bouncy castle uses SHA256 for both, that&#39;s why they are not compatible.","body":"I just verified this, sun.security.rsa.RSAPadding when used with OAEP SHA256, uses SHA1 for the MGF1 function, bouncy castle uses SHA256 for both, that&#39;s why they are not compatible."},{"owner":{"account_id":289517,"reputation":17358,"user_id":590531,"accept_rate":91,"display_name":"peceps"},"score":0,"creation_date":1479742067,"post_id":32166210,"comment_id":68674395,"body_markdown":"@MaartenBodewes I also had a look at OpenSSL implementation, there SHA256 is not currently supported but it can be with a simple modification. There also the same hash function is used for both, so if the modification is made, it is compatible with bouncy castle.","body":"@MaartenBodewes I also had a look at OpenSSL implementation, there SHA256 is not currently supported but it can be with a simple modification. There also the same hash function is used for both, so if the modification is made, it is compatible with bouncy castle."},{"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"score":3,"creation_date":1544174316,"post_id":32166210,"comment_id":94190697,"body_markdown":"WebCrypto uses it for both too. Thanks - this had me stumped.","body":"WebCrypto uses it for both too. Thanks - this had me stumped."},{"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"score":1,"creation_date":1554371046,"post_id":32166210,"comment_id":97730321,"body_markdown":"The code example above works only with bouncy castle provider. SunJCE does not support padding &quot;OAEPPadding&quot; (at least not JDK7). Maybe you add this as side-note.","body":"The code example above works only with bouncy castle provider. SunJCE does not support padding &quot;OAEPPadding&quot; (at least not JDK7). Maybe you add this as side-note."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1554376766,"post_id":32166210,"comment_id":97733867,"body_markdown":"@Heri Would something like &quot;**don&#39;t use runtimes that are out of support for almost 4 years and counting, especially not for security related applications**&quot; suite you? Seriously though, I&#39;ll make some kind of note about OAEP support. By the way: are you sure? [This document](https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Cipher) does list the algorithm.","body":"@Heri Would something like &quot;<b>don&#39;t use runtimes that are out of support for almost 4 years and counting, especially not for security related applications</b>&quot; suite you? Seriously though, I&#39;ll make some kind of note about OAEP support. By the way: are you sure? <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Cipher\" rel=\"nofollow noreferrer\">This document</a> does list the algorithm."},{"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"score":1,"creation_date":1554793886,"post_id":32166210,"comment_id":97871137,"body_markdown":"@MaartenBodewes: Of course you are right. But you should not underestimate the laziness of the industry (&quot;never change a running system&quot;). I have no influence what java version our customers apply. And: yes I am sure: a &#180;&#180;Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;)&#180;&#180; yields a NoSuchAlgorithmException both in Oracle 1.7.0_75 as in OpenJDK 1.7.0-u80. Only after adding BC-Provider the cipher gets initialized.","body":"@MaartenBodewes: Of course you are right. But you should not underestimate the laziness of the industry (&quot;never change a running system&quot;). I have no influence what java version our customers apply. And: yes I am sure: a &#180;&#180;Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;)&#180;&#180; yields a NoSuchAlgorithmException both in Oracle 1.7.0_75 as in OpenJDK 1.7.0-u80. Only after adding BC-Provider the cipher gets initialized."},{"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"score":0,"creation_date":1554795074,"post_id":32166210,"comment_id":97871780,"body_markdown":"@MaartenBodewes: BTW: The section &quot;Implementation Requirements&quot; of your linked official document (link see above) does not list this transformation string, although the &quot;Cipher Algorithm Padding&quot; does.","body":"@MaartenBodewes: BTW: The section &quot;Implementation Requirements&quot; of your linked official document (link see above) does not list this transformation string, although the &quot;Cipher Algorithm Padding&quot; does."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1554798773,"post_id":32166210,"comment_id":97873705,"body_markdown":"The implementation requirements section is rather minimal, the Sun / Oracle providers provide way more algorithms than that. Sometimes however the spec. precedes the implementation (like it should). Even then, the algorithms often get back-ported. But, it seems, not in this case. Anyway, I guess with the comments it is clear that JDK 1.7 is not supported. Gotta run, will still adjust the answer text, thanks for the info.","body":"The implementation requirements section is rather minimal, the Sun / Oracle providers provide way more algorithms than that. Sometimes however the spec. precedes the implementation (like it should). Even then, the algorithms often get back-ported. But, it seems, not in this case. Anyway, I guess with the comments it is clear that JDK 1.7 is not supported. Gotta run, will still adjust the answer text, thanks for the info."},{"owner":{"account_id":40168,"reputation":7421,"user_id":116301,"accept_rate":89,"display_name":"GuiSim"},"score":0,"creation_date":1558012764,"post_id":32166210,"comment_id":98965682,"body_markdown":"I spent the whole day trying to understand why I couldn&#39;t get my payload to decrypt in WebCrypto. Using BouncyCastle works! Such an obscure and hard to catch error.","body":"I spent the whole day trying to understand why I couldn&#39;t get my payload to decrypt in WebCrypto. Using BouncyCastle works! Such an obscure and hard to catch error."},{"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"score":0,"creation_date":1568991399,"post_id":32166210,"comment_id":102463954,"body_markdown":"@MaartenBodewes Why do you say &quot;Note that the hash chosen doesn&#39;t have that much impact on the security of OAEP&quot;?","body":"@MaartenBodewes Why do you say &quot;Note that the hash chosen doesn&#39;t have that much impact on the security of OAEP&quot;?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1568991995,"post_id":32166210,"comment_id":102464296,"body_markdown":"@mad_fox Basically you&#39;re not worried about collision resistance or length extension attacks within MGF1 (the function used for the padding internally), so you&#39;d get the full 160 bits + of security even when using SHA-1. Of course, you&#39;d want to use an unbroken hash function throughout your code as attacks get better, but security wise you should not be overly worried. If one of your runtimes only supports SHA-1 then it might be beneficial to stick to that.","body":"@mad_fox Basically you&#39;re not worried about collision resistance or length extension attacks within MGF1 (the function used for the padding internally), so you&#39;d get the full 160 bits + of security even when using SHA-1. Of course, you&#39;d want to use an unbroken hash function throughout your code as attacks get better, but security wise you should not be overly worried. If one of your runtimes only supports SHA-1 then it might be beneficial to stick to that."},{"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"score":0,"creation_date":1568993072,"post_id":32166210,"comment_id":102464879,"body_markdown":"@MaartenBodewes I took a look at this paper https://eprint.iacr.org/2006/223.pdf  to better understand why I should not be worried about collision resistance. Based on that, my understanding is that the only requirement of the hashing algorithm used is that &quot;the masking hash function is fully zero with only a negligible probability&quot;.  To simplify, it means that if the chances of the hash being generated are almost zero, the hashing algorithm is allowed. So the odds of this are something like 1/2^160. Does that sound about right?","body":"@MaartenBodewes I took a look at this paper <a href=\"https://eprint.iacr.org/2006/223.pdf\" rel=\"nofollow noreferrer\">eprint.iacr.org/2006/223.pdf</a>  to better understand why I should not be worried about collision resistance. Based on that, my understanding is that the only requirement of the hashing algorithm used is that &quot;the masking hash function is fully zero with only a negligible probability&quot;.  To simplify, it means that if the chances of the hash being generated are almost zero, the hashing algorithm is allowed. So the odds of this are something like 1/2^160. Does that sound about right?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1673264108,"post_id":32166210,"comment_id":132451589,"body_markdown":"The paper states &quot;Despite these pathological examples, we conjecture that\nthe security properties necessary for the hash function are very minimal. Notably, our conjecture implies that collision resistance and preimage resistance are not actually necessary properties for the hash function in RSA-OAEP&quot; which is great because SHA-1 is broken when it comes to collision resistance.","body":"The paper states &quot;Despite these pathological examples, we conjecture that the security properties necessary for the hash function are very minimal. Notably, our conjecture implies that collision resistance and preimage resistance are not actually necessary properties for the hash function in RSA-OAEP&quot; which is great because SHA-1 is broken when it comes to collision resistance."}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":14,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1677617551,"creation_date":1440329683,"answer_id":32166210,"question_id":32161720,"body_markdown":"OAEP uses a separate hash invocation to hash a (usually empty) label as well as a parameter to MGF1 (mask generation function), used for most of the OAEP padding.\r\n\r\nThe hash doesn&#39;t have that much impact on the security of OAEP, and for that reason it may be left to this default. Most libraries however use the same hash algorithm for MGF-1 and the hashing of the (always empty) label. Java however defaults to MGF1.\r\n\r\nWe can easily test this by comparing the standard Java Cipher instantiated using `&quot;OAEPWITHSHA-256ANDMGF1PADDING&quot;` against one instantiated using `&quot;OAEPPadding&quot;` and `OAEPParameterSpec`: \r\n\r\n\t// --- we need a key pair to test encryption/decryption\r\n\tKeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n\tkpg.initialize(1024); // speedy generation, but not secure anymore\r\n\tKeyPair kp = kpg.generateKeyPair();\r\n\tRSAPublicKey pubkey = (RSAPublicKey) kp.getPublic();\r\n\tRSAPrivateKey privkey = (RSAPrivateKey) kp.getPrivate();\r\n\t\r\n\t// --- encrypt given algorithm string\r\n\tCipher oaepFromAlgo = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n\toaepFromAlgo.init(Cipher.ENCRYPT_MODE, pubkey);\r\n\tbyte[] ct = oaepFromAlgo.doFinal(&quot;owlstead&quot;.getBytes(StandardCharsets.UTF_8));\r\n\t\t\r\n\t// --- decrypt given OAEPParameterSpec\r\n\tCipher oaepFromInit = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\r\n\tOAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new MGF1ParameterSpec(&quot;SHA-1&quot;), PSpecified.DEFAULT);\r\n\toaepFromInit.init(Cipher.DECRYPT_MODE, privkey, oaepParams);\r\n\tbyte[] pt = oaepFromInit.doFinal(ct);\r\n\tSystem.out.println(new String(pt, StandardCharsets.UTF_8));\r\n\r\nThe code will fail with a padding related exception if you substitute `&quot;SHA-256&quot;` for the MGF1 as parameter, showing that SHA-1 is indeed the default.\r\n\r\nThe reason why the long algorithm string is needed is compatibility with other `Cipher` algorithms. Code written for, for instance `&quot;RSA/ECB/PKCS1Padding&quot;` doesn&#39;t use any parameters; without the longer string OAEP can therefore not function as drop in replacement.\r\n\r\n---\r\n\r\nThe mode of operation `&quot;ECB&quot;` doesn&#39;t mean anything in this context, it should have been `&quot;None&quot;` or it should have been left out completely. You can only encrypt a single block using the RSA implementation of the SunRSA provider.\r\n\r\nIf you want to encrypt more data, create a random (AES) symmetric key and encrypt that using OAEP. Then use the AES key to encrypt your specific data. This is called a hybrid cryptosystem as it uses both asymmetric and symmetric primitives to encrypt data.\r\n\r\n---\r\n\r\nNote that OAEP is not supported in JDK 7 (1.7) or earlier. OAEP is included in the implementation requirements for Java runtimes [since Java 8](https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#impl): \r\n\r\n - `RSA/ECB/OAEPWithSHA-1AndMGF1Padding` (1024, 2048)\r\n - `RSA/ECB/OAEPWithSHA-256AndMGF1Padding` (1024, 2048)\r\n\r\nSome protocols may require you to use SHA-256 or SHA-512 within the padding, as SHA-1 is being deprecated for most use - even if it is not directly vulnerable for this kind of purpose. Neither SHA-224 or SHA-384 make any sense as those are versions of SHA-256 and SHA-512 with a reduced output size, and therefore require more calls to create the padding, without providing any security benefit (and yes, testing this does show a performance disadvantage).\r\n\r\n---\r\n\r\nIf you have an invalid OAEP ciphertext you should first make sure that the right &quot;default&quot; is being used for the label and MGF1.\r\n\r\nIt is impossible to wrong any library implementation for choosing their own default; in the end it is up to the protocol to define the hashes used.\r\n\r\nUnfortunately no mandatory default exists - which is especially a problem if protocol owners forget to fully specify a configuration for the algorithms.\r\n","title":"Breaking down RSA/ECB/OAEPWithSHA-256AndMGF1Padding","body":"<p>OAEP uses a separate hash invocation to hash a (usually empty) label as well as a parameter to MGF1 (mask generation function), used for most of the OAEP padding.</p>\n<p>The hash doesn't have that much impact on the security of OAEP, and for that reason it may be left to this default. Most libraries however use the same hash algorithm for MGF-1 and the hashing of the (always empty) label. Java however defaults to MGF1.</p>\n<p>We can easily test this by comparing the standard Java Cipher instantiated using <code>&quot;OAEPWITHSHA-256ANDMGF1PADDING&quot;</code> against one instantiated using <code>&quot;OAEPPadding&quot;</code> and <code>OAEPParameterSpec</code>:</p>\n<pre><code>// --- we need a key pair to test encryption/decryption\nKeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\nkpg.initialize(1024); // speedy generation, but not secure anymore\nKeyPair kp = kpg.generateKeyPair();\nRSAPublicKey pubkey = (RSAPublicKey) kp.getPublic();\nRSAPrivateKey privkey = (RSAPrivateKey) kp.getPrivate();\n\n// --- encrypt given algorithm string\nCipher oaepFromAlgo = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\noaepFromAlgo.init(Cipher.ENCRYPT_MODE, pubkey);\nbyte[] ct = oaepFromAlgo.doFinal(&quot;owlstead&quot;.getBytes(StandardCharsets.UTF_8));\n    \n// --- decrypt given OAEPParameterSpec\nCipher oaepFromInit = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\nOAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new MGF1ParameterSpec(&quot;SHA-1&quot;), PSpecified.DEFAULT);\noaepFromInit.init(Cipher.DECRYPT_MODE, privkey, oaepParams);\nbyte[] pt = oaepFromInit.doFinal(ct);\nSystem.out.println(new String(pt, StandardCharsets.UTF_8));\n</code></pre>\n<p>The code will fail with a padding related exception if you substitute <code>&quot;SHA-256&quot;</code> for the MGF1 as parameter, showing that SHA-1 is indeed the default.</p>\n<p>The reason why the long algorithm string is needed is compatibility with other <code>Cipher</code> algorithms. Code written for, for instance <code>&quot;RSA/ECB/PKCS1Padding&quot;</code> doesn't use any parameters; without the longer string OAEP can therefore not function as drop in replacement.</p>\n<hr />\n<p>The mode of operation <code>&quot;ECB&quot;</code> doesn't mean anything in this context, it should have been <code>&quot;None&quot;</code> or it should have been left out completely. You can only encrypt a single block using the RSA implementation of the SunRSA provider.</p>\n<p>If you want to encrypt more data, create a random (AES) symmetric key and encrypt that using OAEP. Then use the AES key to encrypt your specific data. This is called a hybrid cryptosystem as it uses both asymmetric and symmetric primitives to encrypt data.</p>\n<hr />\n<p>Note that OAEP is not supported in JDK 7 (1.7) or earlier. OAEP is included in the implementation requirements for Java runtimes <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#impl\" rel=\"nofollow noreferrer\">since Java 8</a>:</p>\n<ul>\n<li><code>RSA/ECB/OAEPWithSHA-1AndMGF1Padding</code> (1024, 2048)</li>\n<li><code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code> (1024, 2048)</li>\n</ul>\n<p>Some protocols may require you to use SHA-256 or SHA-512 within the padding, as SHA-1 is being deprecated for most use - even if it is not directly vulnerable for this kind of purpose. Neither SHA-224 or SHA-384 make any sense as those are versions of SHA-256 and SHA-512 with a reduced output size, and therefore require more calls to create the padding, without providing any security benefit (and yes, testing this does show a performance disadvantage).</p>\n<hr />\n<p>If you have an invalid OAEP ciphertext you should first make sure that the right &quot;default&quot; is being used for the label and MGF1.</p>\n<p>It is impossible to wrong any library implementation for choosing their own default; in the end it is up to the protocol to define the hashes used.</p>\n<p>Unfortunately no mandatory default exists - which is especially a problem if protocol owners forget to fully specify a configuration for the algorithms.</p>\n"}],"owner":{"account_id":276507,"reputation":16077,"user_id":569976,"accept_rate":68,"display_name":"neubert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47504,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":32166210,"answer_count":1,"score":26,"last_activity_date":1677617551,"creation_date":1440285786,"question_id":32161720,"body_markdown":"Java has a mode called `RSA/ECB/OAEPWithSHA-256AndMGF1Padding`. What does that even mean?\r\n\r\n[RFC3447][1], *Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications Version 2.1*, section *7.1.2 Decryption operation* says Hash and MGF are both options for RSAES-OAEP-DECRYPT. MGF is it&#39;s own function, defined in *Section B.2.1 MGF1* and that has it&#39;s own Hash &quot;option&quot; as well.\r\n\r\nMaybe the Hash &quot;option&quot; in RSAES-OAEP-DECRYPT and MGF1 are supposed to be the same or maybe they&#39;re not, it is unclear to me. If they are then I guess when you have `RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING` that means sha256 should be used for both. But if they&#39;re not supposed to be the same then you could have sha256 used for RSAES-OAEP-DECRYPT and, for example, sha1 used for MGF1. And if that&#39;s the case then what function is sha256 supposed to be used for? And what hash algorithm is supposed to be used for the other function?\r\n\r\nAnd what does ECB mean in this context? ECB is a symmetric block cipher mode. Electronic Code Book. Maybe it&#39;s supposed to mean how Java deals with plaintext&#39;s that are larger than the modulo? Like maybe splits the plaintext into chunks that are as big as the modulo and then encrypts each one with RSA and concatenates them together? I&#39;m just guessing..\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3447#section-7.1.2","title":"Breaking down RSA/ECB/OAEPWithSHA-256AndMGF1Padding","body":"<p>Java has a mode called <code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code>. What does that even mean?</p>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc3447#section-7.1.2\" rel=\"noreferrer\">RFC3447</a>, <em>Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications Version 2.1</em>, section <em>7.1.2 Decryption operation</em> says Hash and MGF are both options for RSAES-OAEP-DECRYPT. MGF is it's own function, defined in <em>Section B.2.1 MGF1</em> and that has it's own Hash &quot;option&quot; as well.</p>\n<p>Maybe the Hash &quot;option&quot; in RSAES-OAEP-DECRYPT and MGF1 are supposed to be the same or maybe they're not, it is unclear to me. If they are then I guess when you have <code>RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING</code> that means sha256 should be used for both. But if they're not supposed to be the same then you could have sha256 used for RSAES-OAEP-DECRYPT and, for example, sha1 used for MGF1. And if that's the case then what function is sha256 supposed to be used for? And what hash algorithm is supposed to be used for the other function?</p>\n<p>And what does ECB mean in this context? ECB is a symmetric block cipher mode. Electronic Code Book. Maybe it's supposed to mean how Java deals with plaintext's that are larger than the modulo? Like maybe splits the plaintext into chunks that are as big as the modulo and then encrypts each one with RSA and concatenates them together? I'm just guessing..</p>\n"},{"tags":["java","performance","eclipse-scout"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1675702605,"post_id":75363201,"comment_id":132981397,"body_markdown":"Are you actually loading 10k - 50k rows from the database into some table to display? No wonder that would be slow, and probably hard to use. Look up pagination. If you are asking whether databases can have that may rows, then yes, they easily can, and you&#39;d need to add database name and version as well as table structure details to the question.","body":"Are you actually loading 10k - 50k rows from the database into some table to display? No wonder that would be slow, and probably hard to use. Look up pagination. If you are asking whether databases can have that may rows, then yes, they easily can, and you&#39;d need to add database name and version as well as table structure details to the question."},{"owner":{"account_id":11138059,"reputation":3,"user_id":8175728,"display_name":"Giorgio Piangatelli"},"score":0,"creation_date":1675759379,"post_id":75363201,"comment_id":132992605,"body_markdown":"Thanks for the comment, unfortunately Scout Java&#39;s Table Page, does not support pagination.","body":"Thanks for the comment, unfortunately Scout Java&#39;s Table Page, does not support pagination."}],"answers":[{"tags":[],"owner":{"account_id":27903489,"reputation":16,"user_id":21307240,"display_name":"kadom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677617474,"creation_date":1677617474,"answer_id":75597173,"question_id":75363201,"body_markdown":"The SqlService helper classes use reflection a lot. This is why they can be very inefficient in these cases.\r\nI gained a ~70% time improvement by changing from \r\n```\r\n\t\tSQL.selectInto(sqlString, new NVPair(&quot;page&quot;, pageData));\r\n```\r\nto\r\n```\r\n\t\tObject[][] result = SQL.select(sqlString);\r\n\t\tfor (Object[] line : result) {\r\n\t\t\tPersonTableRowData row = new PersonTableRowData();\r\n\t\t\tif (line[0]!=null) row.setId((Long)line[0]);\r\n\t\t\tif (line[1]!=null) row.setName((String)line[1]);\r\n\t\t\tif (line[2]!=null) row.setPhone((String)line[2]);\r\n            // ....\r\n\r\n\t\t\tpageData.addRow(row);\r\n\t\t}\r\n```\r\n\r\nOf course you loose flexibility here, like when changing the model you also have to your code here.","title":"Eclipse scout performance","body":"<p>The SqlService helper classes use reflection a lot. This is why they can be very inefficient in these cases.\nI gained a ~70% time improvement by changing from</p>\n<pre><code>        SQL.selectInto(sqlString, new NVPair(&quot;page&quot;, pageData));\n</code></pre>\n<p>to</p>\n<pre><code>        Object[][] result = SQL.select(sqlString);\n        for (Object[] line : result) {\n            PersonTableRowData row = new PersonTableRowData();\n            if (line[0]!=null) row.setId((Long)line[0]);\n            if (line[1]!=null) row.setName((String)line[1]);\n            if (line[2]!=null) row.setPhone((String)line[2]);\n            // ....\n\n            pageData.addRow(row);\n        }\n</code></pre>\n<p>Of course you loose flexibility here, like when changing the model you also have to your code here.</p>\n"}],"owner":{"account_id":11138059,"reputation":3,"user_id":8175728,"display_name":"Giorgio Piangatelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75597173,"answer_count":1,"score":0,"last_activity_date":1677617474,"creation_date":1675696760,"question_id":75363201,"body_markdown":"Good morning,\r\nI&#39;m using Scout Java version framework, with Oracle Java 17 e Tomcat 9.0.70 on Debian 11, when populating tables, TablePage, with many rows, 10,000-50,000 or more, from Postgresql database, cpu usage by Java, exceeds 100% and execution is slow.\r\n\r\nI&#39;ve made many attempts to optimize both Java and Tomcat with little success.\r\n\r\nWith ScoutJS, do I solve the problem?\r\nOr at least get a performance boost?\r\n\r\nAny suggestions are welcome.\r\n\r\nThanks for the attention.","title":"Eclipse scout performance","body":"<p>Good morning,\nI'm using Scout Java version framework, with Oracle Java 17 e Tomcat 9.0.70 on Debian 11, when populating tables, TablePage, with many rows, 10,000-50,000 or more, from Postgresql database, cpu usage by Java, exceeds 100% and execution is slow.</p>\n<p>I've made many attempts to optimize both Java and Tomcat with little success.</p>\n<p>With ScoutJS, do I solve the problem?\nOr at least get a performance boost?</p>\n<p>Any suggestions are welcome.</p>\n<p>Thanks for the attention.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677616661,"creation_date":1677616661,"answer_id":75597059,"question_id":75596347,"body_markdown":"Kafka maintains 2 pointers, committed offset and current position; they are unrelated, except that the position is set to the committed offset when a consumer first starts.\r\n\r\nNot acknowledging a record will not cause it to be redelivered because the position doesn&#39;t change.\r\n\r\nYou are catching the exceptions.\r\n\r\nYou need to throw the exception to the container; the default error handler will perform a seek to reposition the partition and redeliver the record.\r\n\r\nSee the documentation for Spring for Apache Kafka.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling","title":"Kafka Consumer not retrying a message that has been failed to process","body":"<p>Kafka maintains 2 pointers, committed offset and current position; they are unrelated, except that the position is set to the committed offset when a consumer first starts.</p>\n<p>Not acknowledging a record will not cause it to be redelivered because the position doesn't change.</p>\n<p>You are catching the exceptions.</p>\n<p>You need to throw the exception to the container; the default error handler will perform a seek to reposition the partition and redeliver the record.</p>\n<p>See the documentation for Spring for Apache Kafka.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75597059,"answer_count":1,"score":1,"last_activity_date":1677616661,"creation_date":1677611485,"question_id":75596347,"body_markdown":"I am writing a kafka consumer.I have set the Acknowledged property to manual. So whenever consumer failed to process the message I don&#39;t do ack. Now I want the consumer to process this failed message immediately, but it doesn&#39;t.\r\n\r\nThis is my consumer config class looks like.\r\n\r\n```\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAPSERVERS);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;${crmdsforecast.judjement-consumer-groupId}&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;earliest&quot; );\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        \r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactory&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n   \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.getContainerProperties().setAckOnError(false);\r\n        SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((record, exception) -&gt; {\r\n            System.out.println(&quot;Error while processing the record {}&quot;+  exception.getCause().getMessage());\r\n        }, new FixedBackOff(3000L, 2L));\r\n        factory.setErrorHandler(errorHandler);\r\n        \r\n        return factory;\r\n    }\r\n```\r\n\r\nMy Consumer method looks like this.\r\n```\r\n    @KafkaListener( containerFactory = &quot;kafkaListenerContainerFactory&quot;,id = &quot;${id}&quot;, topics = &quot;${topicname}&quot;)\r\n    public void consume(String message,Acknowledgment acknowledgment){\r\n        Dto payload = new Dto();\r\n        try{\r\n            payload = payloadDeserializer.convertIntoDtoObject(message);\r\n            \r\n            if(payload != null)\r\n                //Do Something;\r\n            \r\n            acknowledgment.acknowledge();\r\n        }\r\n        catch(JsonProcessingException e){\r\n            log.error(&quot;Error occured while Deserializing the String input {}&quot;,message);\r\n            acknowledgment.acknowledge();\r\n        }\r\n        catch(Exception e){\r\n            log.error(&quot;Some error occured while updating revenueLines {}&quot;,e.getMessage());\r\n            //Here I expect that if error comes consumer should reread the message.\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI tried multiple solution including `SeekToCurrentBatchErrorHandler`. I changed the containerFactory method to below. \r\n\r\n```\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n   \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        SeekToCurrentBatchErrorHandler errorHandler = new SeekToCurrentBatchErrorHandler();\r\n        errorHandler.setBackOff( new ExponentialBackOff(500L, 2L));\r\n        factory.setBatchErrorHandler(errorHandler);\r\n        factory.setBatchListener(true);\r\n        factory.setConsumerFactory(consumerFactory());\r\n        \r\n        return factory;\r\n    }\r\n```\r\n\r\nI also tried using `DefaultErrorHandler` but creating separate bean and setting up commonErrorHandler but it didn&#39;t work.\r\n\r\n```\r\n    @Bean\r\n    public DefaultErrorHandler errorHandler() {\r\n        BackOff fixedBackOff = new FixedBackOff(1000, 3);\r\n        DefaultErrorHandler errorHandler = new DefaultErrorHandler((consumerRecord, e) -&gt; {\r\n            System.out.println(String.format(&quot;consumed record %s because this exception was thrown&quot;,consumerRecord.toString(),e.getClass().getName()));\r\n        }, fixedBackOff);\r\n        errorHandler.addNotRetryableExceptions(NullPointerException.class);\r\n        return errorHandler;\r\n    }\r\n```\r\n\r\nCan anyone helps with this ?","title":"Kafka Consumer not retrying a message that has been failed to process","body":"<p>I am writing a kafka consumer.I have set the Acknowledged property to manual. So whenever consumer failed to process the message I don't do ack. Now I want the consumer to process this failed message immediately, but it doesn't.</p>\n<p>This is my consumer config class looks like.</p>\n<pre><code>    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAPSERVERS);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;${crmdsforecast.judjement-consumer-groupId}&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;earliest&quot; );\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        \n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactory&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n   \n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        factory.setConsumerFactory(consumerFactory());\n        factory.getContainerProperties().setAckOnError(false);\n        SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((record, exception) -&gt; {\n            System.out.println(&quot;Error while processing the record {}&quot;+  exception.getCause().getMessage());\n        }, new FixedBackOff(3000L, 2L));\n        factory.setErrorHandler(errorHandler);\n        \n        return factory;\n    }\n</code></pre>\n<p>My Consumer method looks like this.</p>\n<pre><code>    @KafkaListener( containerFactory = &quot;kafkaListenerContainerFactory&quot;,id = &quot;${id}&quot;, topics = &quot;${topicname}&quot;)\n    public void consume(String message,Acknowledgment acknowledgment){\n        Dto payload = new Dto();\n        try{\n            payload = payloadDeserializer.convertIntoDtoObject(message);\n            \n            if(payload != null)\n                //Do Something;\n            \n            acknowledgment.acknowledge();\n        }\n        catch(JsonProcessingException e){\n            log.error(&quot;Error occured while Deserializing the String input {}&quot;,message);\n            acknowledgment.acknowledge();\n        }\n        catch(Exception e){\n            log.error(&quot;Some error occured while updating revenueLines {}&quot;,e.getMessage());\n            //Here I expect that if error comes consumer should reread the message.\n        }\n    }\n</code></pre>\n<p>I tried multiple solution including <code>SeekToCurrentBatchErrorHandler</code>. I changed the containerFactory method to below.</p>\n<pre><code>    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n   \n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        SeekToCurrentBatchErrorHandler errorHandler = new SeekToCurrentBatchErrorHandler();\n        errorHandler.setBackOff( new ExponentialBackOff(500L, 2L));\n        factory.setBatchErrorHandler(errorHandler);\n        factory.setBatchListener(true);\n        factory.setConsumerFactory(consumerFactory());\n        \n        return factory;\n    }\n</code></pre>\n<p>I also tried using <code>DefaultErrorHandler</code> but creating separate bean and setting up commonErrorHandler but it didn't work.</p>\n<pre><code>    @Bean\n    public DefaultErrorHandler errorHandler() {\n        BackOff fixedBackOff = new FixedBackOff(1000, 3);\n        DefaultErrorHandler errorHandler = new DefaultErrorHandler((consumerRecord, e) -&gt; {\n            System.out.println(String.format(&quot;consumed record %s because this exception was thrown&quot;,consumerRecord.toString(),e.getClass().getName()));\n        }, fixedBackOff);\n        errorHandler.addNotRetryableExceptions(NullPointerException.class);\n        return errorHandler;\n    }\n</code></pre>\n<p>Can anyone helps with this ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1082198,"reputation":65,"user_id":1078867,"display_name":"Hossain Cyrus"},"score":0,"creation_date":1677615693,"post_id":75596833,"comment_id":133372379,"body_markdown":"you could have directly injected the constructor argument using @Value. Is there any particular reason why you are creating the Component using @Bean? Spring will take care of creating the CustomLogger bean and you can autowire it anywhere you like.","body":"you could have directly injected the constructor argument using @Value. Is there any particular reason why you are creating the Component using @Bean? Spring will take care of creating the CustomLogger bean and you can autowire it anywhere you like."},{"owner":{"account_id":3594779,"reputation":345,"user_id":2999870,"accept_rate":50,"display_name":"user2999870"},"score":0,"creation_date":1677616028,"post_id":75596833,"comment_id":133372474,"body_markdown":"@HossainCyrus CustomLogger will turned be a library that will be used by a couple of projects. So, I am not injecting into that class since I will be importing it into different projects.","body":"@HossainCyrus CustomLogger will turned be a library that will be used by a couple of projects. So, I am not injecting into that class since I will be importing it into different projects."}],"answers":[{"comments":[{"owner":{"account_id":3594779,"reputation":345,"user_id":2999870,"accept_rate":50,"display_name":"user2999870"},"score":0,"creation_date":1677616997,"post_id":75597019,"comment_id":133372697,"body_markdown":"Thank you so much. As you suggested, removing the @Component fixed the issue. I did not inject directly into CustomLogger as I&#39;ll eventually convert it into a library.","body":"Thank you so much. As you suggested, removing the @Component fixed the issue. I did not inject directly into CustomLogger as I&#39;ll eventually convert it into a library."}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677616385,"creation_date":1677616385,"answer_id":75597019,"question_id":75596833,"body_markdown":"This error is caused by the `CustomLogger` component.  By annotating this class as `@Component`, Spring is trying to create the bean but doesn&#39;t have a value it can inject in the constructor.  Since it appears that you have this value defined as a property, modify your `CustomLogger` component to look like this:\r\n\r\n    @Component\r\n    public class CustomLogger {\r\n      @Value(&quot;${my-env}&quot;)\r\n      private String env;\r\n\r\n      public CustomLogger() {}\r\n    }\r\n\r\nOr, since you&#39;re also constructing this bean in a configuration class, just drop `@Component` from `CustomLogger`","title":"Spring app error: expected at least 1 bean which qualifies as autowire candidate for this dependency","body":"<p>This error is caused by the <code>CustomLogger</code> component.  By annotating this class as <code>@Component</code>, Spring is trying to create the bean but doesn't have a value it can inject in the constructor.  Since it appears that you have this value defined as a property, modify your <code>CustomLogger</code> component to look like this:</p>\n<pre><code>@Component\npublic class CustomLogger {\n  @Value(&quot;${my-env}&quot;)\n  private String env;\n\n  public CustomLogger() {}\n}\n</code></pre>\n<p>Or, since you're also constructing this bean in a configuration class, just drop <code>@Component</code> from <code>CustomLogger</code></p>\n"}],"owner":{"account_id":3594779,"reputation":345,"user_id":2999870,"accept_rate":50,"display_name":"user2999870"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75597019,"answer_count":1,"score":0,"last_activity_date":1677616385,"creation_date":1677615034,"question_id":75596833,"body_markdown":"I am getting this error when I am trying to incorporate a Bean and Autowired for a custom logger for my spring project. Any help would be appreciated.\r\n\r\nCustomLogger.java:\r\n```\r\n@Component\r\npublic class CustomLogger {\r\n    public CustomLogger(String env) {}\r\n}\r\n// ... public void methods here\r\n```\r\n\r\nLoggerConfig.java:\r\n```\r\n@Configuration\r\npublic class LoggerConfig {\r\n    @Value(&quot;${my-env}&quot;)\r\n    String env;\r\n\r\n    @Bean\r\n    public CustomLogger myLogger {\r\n        return new CustomLogger(env);\r\n    }\r\n}\r\n```\r\n\r\nController.java:\r\n```\r\n@RestController\r\npublic class Controller {\r\n    @Autowired private CustomLogger myLogger; // Trying to inject object created in LoggerConfig class\r\n// GET mappings\r\n}\r\n```\r\n\r\nError:\r\n```Unsatisified dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.Stirng&#39; available: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}```","title":"Spring app error: expected at least 1 bean which qualifies as autowire candidate for this dependency","body":"<p>I am getting this error when I am trying to incorporate a Bean and Autowired for a custom logger for my spring project. Any help would be appreciated.</p>\n<p>CustomLogger.java:</p>\n<pre><code>@Component\npublic class CustomLogger {\n    public CustomLogger(String env) {}\n}\n// ... public void methods here\n</code></pre>\n<p>LoggerConfig.java:</p>\n<pre><code>@Configuration\npublic class LoggerConfig {\n    @Value(&quot;${my-env}&quot;)\n    String env;\n\n    @Bean\n    public CustomLogger myLogger {\n        return new CustomLogger(env);\n    }\n}\n</code></pre>\n<p>Controller.java:</p>\n<pre><code>@RestController\npublic class Controller {\n    @Autowired private CustomLogger myLogger; // Trying to inject object created in LoggerConfig class\n// GET mappings\n}\n</code></pre>\n<p>Error:\n<code>Unsatisified dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.Stirng' available: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}</code></p>\n"},{"tags":["java","maven","fork","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677621746,"post_id":75597004,"comment_id":133373852,"body_markdown":"Which version of maven-failsafe-plugin do you use? Why have you changed `&lt;reportsDirectory&gt;`??? stick with the conventions...","body":"Which version of maven-failsafe-plugin do you use? Why have you changed <code>&lt;reportsDirectory&gt;</code>??? stick with the conventions..."},{"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"score":0,"creation_date":1677691622,"post_id":75597004,"comment_id":133389441,"body_markdown":"@khmarbaise changed the reportsDirectory because as said I dont wanna use the target folder but a custom output folder","body":"@khmarbaise changed the reportsDirectory because as said I dont wanna use the target folder but a custom output folder"}],"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677616255,"creation_date":1677616255,"question_id":75597004,"body_markdown":"Hello everybody :) I am interested in running my maven tests in 8 forks because I have thousands of tests and it takes literally more than 6h hours to run them sequentially. I have therefore introduced the following configuration:\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;excludedGroups&gt;${it.test.excludedGroups}&lt;/excludedGroups&gt;\r\n                  &lt;groups&gt;${it.test.includedGroups}&lt;/groups&gt;\r\n                  &lt;forkCount&gt;8&lt;/forkCount&gt;\r\n                  &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                  &lt;reportsDirectory&gt;ghatarget/failsafe-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                      &lt;goal&gt;verify&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n\r\nHowever, when checking my maven tests I see the following error in every individual test but it doesnt log any meaningful error explaining why this error is being thrown:\r\n\r\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:228)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:131)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\r\n\r\nWould anyone maybe have an idea? I am really clueless as to what I am doing wrong. Could it been that I need some additional configuration? Thanks in advance :)\r\n","title":"Enabling maven surefire forkCount fails in at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)","body":"<p>Hello everybody :) I am interested in running my maven tests in 8 forks because I have thousands of tests and it takes literally more than 6h hours to run them sequentially. I have therefore introduced the following configuration:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;excludedGroups&gt;${it.test.excludedGroups}&lt;/excludedGroups&gt;\n              &lt;groups&gt;${it.test.includedGroups}&lt;/groups&gt;\n              &lt;forkCount&gt;8&lt;/forkCount&gt;\n              &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n              &lt;reportsDirectory&gt;ghatarget/failsafe-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>However, when checking my maven tests I see the following error in every individual test but it doesnt log any meaningful error explaining why this error is being thrown:</p>\n<pre><code>at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:228)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:131)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\n</code></pre>\n<p>Would anyone maybe have an idea? I am really clueless as to what I am doing wrong. Could it been that I need some additional configuration? Thanks in advance :)</p>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677614345,"post_id":75596615,"comment_id":133372013,"body_markdown":"Reminder that asking for [tutorials is off-topic](https://stackoverflow.com/help/on-topic). That said you may want to go through the Flutter codelab on [How to write at Flutter plugin](https://codelabs.developers.google.com/codelabs/write-flutter-plugin?hl=en#0) and review [Flutter platform channels](https://docs.flutter.dev/development/platform-integration/platform-channels)","body":"Reminder that asking for <a href=\"https://stackoverflow.com/help/on-topic\">tutorials is off-topic</a>. That said you may want to go through the Flutter codelab on <a href=\"https://codelabs.developers.google.com/codelabs/write-flutter-plugin?hl=en#0\" rel=\"nofollow noreferrer\">How to write at Flutter plugin</a> and review <a href=\"https://docs.flutter.dev/development/platform-integration/platform-channels\" rel=\"nofollow noreferrer\">Flutter platform channels</a>"},{"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"score":0,"creation_date":1677614532,"post_id":75596615,"comment_id":133372077,"body_markdown":"@MorrisonChang I&#39;m not asking for a tutorial. I&#39;ll re-write the question to be more specific","body":"@MorrisonChang I&#39;m not asking for a tutorial. I&#39;ll re-write the question to be more specific"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677614905,"post_id":75596615,"comment_id":133372169,"body_markdown":"If you are new to Android/Flutter, I would start with a Hello World Android app written in Java/Kotlin to access the Honeywell SDK methods. The doc if you scroll down appears to have an example. Once you understand what is required to get it working with Java/Kotlin then you can go through the links in my prior comment to get the Flutter side connected.","body":"If you are new to Android/Flutter, I would start with a Hello World Android app written in Java/Kotlin to access the Honeywell SDK methods. The doc if you scroll down appears to have an example. Once you understand what is required to get it working with Java/Kotlin then you can go through the links in my prior comment to get the Flutter side connected."},{"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"score":0,"creation_date":1677615297,"post_id":75596615,"comment_id":133372263,"body_markdown":"@MorrisonChang I&#39;m not new to Flutter/Android/Android Studio. I have been working in this space for many years. I simply haven&#39;t ever worked with an external `.jar` file inside a Flutter project, so I just need someone to explain how to start using a `.jar` library inside Flutter.","body":"@MorrisonChang I&#39;m not new to Flutter/Android/Android Studio. I have been working in this space for many years. I simply haven&#39;t ever worked with an external <code>.jar</code> file inside a Flutter project, so I just need someone to explain how to start using a <code>.jar</code> library inside Flutter."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1677615456,"post_id":75596615,"comment_id":133372323,"body_markdown":"Here is the thing. You can&#39;t &quot;just put in a `.jar` file&quot;. Flutter is platform agnostic you will need to write a platform channel to hook it up. Flutter doesn&#39;t know what APIs exist on the native Java/Kotlin side which connects to the jar files APIs. If you had a iOS library you would need to do the same thing.","body":"Here is the thing. You can&#39;t &quot;just put in a <code>.jar</code> file&quot;. Flutter is platform agnostic you will need to write a platform channel to hook it up. Flutter doesn&#39;t know what APIs exist on the native Java/Kotlin side which connects to the jar files APIs. If you had a iOS library you would need to do the same thing."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1677628770,"post_id":75596615,"comment_id":133375069,"body_markdown":"FYI the annoyance of creating binding between the Java to Dart side is being addressed by [jnigen](https://dart.dev/guides/libraries/java-interop) but still experimental with open lssues like [Support implementing Java interfaces with Dart classes](https://github.com/dart-lang/jnigen/issues/70)","body":"FYI the annoyance of creating binding between the Java to Dart side is being addressed by <a href=\"https://dart.dev/guides/libraries/java-interop\" rel=\"nofollow noreferrer\">jnigen</a> but still experimental with open lssues like <a href=\"https://github.com/dart-lang/jnigen/issues/70\" rel=\"nofollow noreferrer\">Support implementing Java interfaces with Dart classes</a>"},{"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"score":1,"creation_date":1677685340,"post_id":75596615,"comment_id":133387323,"body_markdown":"@MorrisonChang I actually found a flutter honeywell package that someone already wrote! And it works really well! Dropping it here for future readers: https://pub.dev/packages/honeywell_scanner. Thanks for all your help!","body":"@MorrisonChang I actually found a flutter honeywell package that someone already wrote! And it works really well! Dropping it here for future readers: <a href=\"https://pub.dev/packages/honeywell_scanner\" rel=\"nofollow noreferrer\">pub.dev/packages/honeywell_scanner</a>. Thanks for all your help!"}],"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677614621,"creation_date":1677613509,"question_id":75596615,"body_markdown":"On the Honeywell website they provided an Android SDK. I downloaded this SDK and imported the `.jar` file as a dependency in my project. I placed this file inside my project folder in `android/app/libs/Honeywell.jar`. How do I use the `BatteryManager` class? How would I do this in my `main.dart`?\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ihIkx.png\r\n  [2]: https://i.stack.imgur.com/XVpuZ.png","title":"Flutter: How do I use the BatteryManager class inside this .jar file?","body":"<p>On the Honeywell website they provided an Android SDK. I downloaded this SDK and imported the <code>.jar</code> file as a dependency in my project. I placed this file inside my project folder in <code>android/app/libs/Honeywell.jar</code>. How do I use the <code>BatteryManager</code> class? How would I do this in my <code>main.dart</code>?</p>\n<p><a href=\"https://i.stack.imgur.com/ihIkx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihIkx.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/XVpuZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XVpuZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","project-loom"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679053581,"post_id":75596771,"comment_id":133656068,"body_markdown":"The lack of preemptive task switching between virtual threads may add fuel to the flames but generally, every server will become unresponsive “if enough requests happen to be running CPU-bound code at once”. But submitting CPU intense jobs to any thread pool of your choice still is possible the same way as before. The great thing about the virtual threads is that you can simply `join()` on the task (or use any other form of blocking wait), instead of having to wrench your code into `then…` chains.","body":"The lack of preemptive task switching between virtual threads may add fuel to the flames but generally, every server will become unresponsive “if enough requests happen to be running CPU-bound code at once”. But submitting CPU intense jobs to any thread pool of your choice still is possible the same way as before. The great thing about the virtual threads is that you can simply <code>join()</code> on the task (or use any other form of blocking wait), instead of having to wrench your code into <code>then…</code> chains."}],"owner":{"account_id":4252864,"reputation":63,"user_id":9367377,"display_name":"tsutsu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1677614522,"creation_date":1677614522,"question_id":75596771,"body_markdown":"We have a Jetty webapp with a custom threadpool backed by Java19 virtual threads.\r\n\r\nThe business logic we run in response to a request is usually IO-bound (e.g. DB queries), so virtual threads have been a great win for us, allowing us to have many more IO-bound requests in-flight at once than would be possible using platform threads, while avoiding writing explicitly async code.\r\n\r\nBut some of our requests have CPU-bound computation sections. And if enough requests happen to be running CPU-bound code at once, our whole webapp will lock up and become unresponsive to new requests until one of these requests resolves.\r\n\r\nJava19&#39;s virtual-threading support is apparently implemented by having all virtual threads schedule onto a single JVM-global bounded-size ForkJoinPool backed by N underlying carrier threads.\r\n\r\nThis means that, if I start many virtual threads — and at least N of these threads have some long-running CPU-bound operation as part of them — then as soon as these N threads reach this CPU-bound part, the entire JVM-global virtual thread pool will lock up / become blocked, since all available carrier threads are in use by one of the virtual threads running CPU-bound code.\r\n\r\nWhat would be a best-practice, in designing an app that makes use of virtual threads as the top-level concurrency mechanism, if it has mixed IO-bound/CPU-bound workloads like this?","title":"How do I safely call CPU-bound code from within a Java19 virtual thread?","body":"<p>We have a Jetty webapp with a custom threadpool backed by Java19 virtual threads.</p>\n<p>The business logic we run in response to a request is usually IO-bound (e.g. DB queries), so virtual threads have been a great win for us, allowing us to have many more IO-bound requests in-flight at once than would be possible using platform threads, while avoiding writing explicitly async code.</p>\n<p>But some of our requests have CPU-bound computation sections. And if enough requests happen to be running CPU-bound code at once, our whole webapp will lock up and become unresponsive to new requests until one of these requests resolves.</p>\n<p>Java19's virtual-threading support is apparently implemented by having all virtual threads schedule onto a single JVM-global bounded-size ForkJoinPool backed by N underlying carrier threads.</p>\n<p>This means that, if I start many virtual threads — and at least N of these threads have some long-running CPU-bound operation as part of them — then as soon as these N threads reach this CPU-bound part, the entire JVM-global virtual thread pool will lock up / become blocked, since all available carrier threads are in use by one of the virtual threads running CPU-bound code.</p>\n<p>What would be a best-practice, in designing an app that makes use of virtual threads as the top-level concurrency mechanism, if it has mixed IO-bound/CPU-bound workloads like this?</p>\n"},{"tags":["java","regex","file","cross-platform"],"answers":[{"comments":[{"owner":{"account_id":7351,"reputation":36092,"user_id":12748,"display_name":"ShuggyCoUk"},"score":0,"creation_date":1247078685,"post_id":1099868,"comment_id":914553,"body_markdown":"+1 there are hacky ways to do it and write ways to do it. this is the right way and will save you much pain compared to splitting with &#39;/&#39;, &#39;\\&#39;, &lt;inset character for OS you totally forgot about here&gt;","body":"+1 there are hacky ways to do it and write ways to do it. this is the right way and will save you much pain compared to splitting with &#39;/&#39;, &#39;\\&#39;, &lt;inset character for OS you totally forgot about here&gt;"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1247078774,"post_id":1099868,"comment_id":914571,"body_markdown":"Yes, I striked the discouraged way. Sorry.","body":"Yes, I striked the discouraged way. Sorry."}],"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1362482942,"creation_date":1247078512,"answer_id":1099868,"question_id":1099859,"body_markdown":"Use `path.getParentFile()` repeatedly to get all components of a path.\r\n\r\n&lt;strike&gt;Discouraged way would be to `path.replaceAll(&quot;\\\\&quot;, &quot;/&quot;).split(&quot;/&quot;)`.&lt;/strike&gt;\r\n","title":"How to split a path platform independent?","body":"<p>Use <code>path.getParentFile()</code> repeatedly to get all components of a path.</p>\n\n<p><strike>Discouraged way would be to <code>path.replaceAll(\"\\\\\", \"/\").split(\"/\")</code>.</strike></p>\n"},{"comments":[{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":0,"creation_date":1613569753,"post_id":1100261,"comment_id":117114534,"body_markdown":"Question says cross platform, yours only works for windows.","body":"Question says cross platform, yours only works for windows."}],"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1247083434,"creation_date":1247083434,"answer_id":1100261,"question_id":1099859,"body_markdown":"What about \r\n\r\n    String[] subDirs = path.split(File.separator.replaceAll(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;));\r\n\r\n","title":"How to split a path platform independent?","body":"<p>What about </p>\n\n<pre><code>String[] subDirs = path.split(File.separator.replaceAll(\"\\\\\", \"\\\\\\\\\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1272534696,"creation_date":1272534696,"answer_id":2736278,"question_id":1099859,"body_markdown":"### Literalizing pattern strings\r\n\r\nWhenever you need to literalize an arbitrary`String` to be used as a regex pattern, use [`Pattern.quote`](http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#quote%28java.lang.String%29):\r\n\r\nFrom the API:\r\n\r\n&gt; `public static String quote(String s)`\r\n&gt;\r\n&gt;Returns a literal pattern `String` for the specified `String`. This method produces a `String` that can be used to create a `Pattern` that would match the string `s` as if it were a literal pattern.\r\nMetacharacters or escape sequences in the input sequence will be given no special meaning. \r\n&gt;\r\n&gt; **Parameters:** `s` - The string to be literalized   \r\n&gt; **Returns:** A literal string replacement\r\n\r\nThis means that you can do the following:\r\n\r\n    String[] subDirs = path.split(Pattern.quote(File.separator));\r\n\r\n---\r\n\r\n### Literalizing replacement strings\r\n\r\nIf you need to literalize an arbitrary replacement `String`, use [`Matcher.quoteReplacement`](http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29).\r\n\r\nFrom the API:\r\n\r\n&gt; `public static String quoteReplacement(String s)`\r\n\r\n&gt; Returns a literal replacement `String` for the specified `String`. This method produces a `String` that will work as a literal replacement `s` in the `appendReplacement` method of the `Matcher` class. The `String` produced will match the sequence of characters in `s` treated as a literal sequence. Slashes (`&#39;\\&#39;`) and dollar signs (`&#39;$&#39;`) will be given no special meaning.\r\n&gt;\r\n&gt; **Parameters:** `s` - The string to be literalized  \r\n&gt; **Returns:** A literal string replacement\r\n\r\nThis quoted replacement `String` is also useful in `String.replaceFirst` and `String.replaceAll`:\r\n\r\n&gt; Note that backslashes (`\\`) and dollar signs (`$`) in the replacement string may cause the results to be different than if it were being treated as a literal replacement string. Use `Matcher.quoteReplacement` to suppress the special meaning of these characters, if desired.\r\n\r\n---\r\n\r\n### Examples\r\n\r\n\t    System.out.println(\r\n\t    \t&quot;O.M.G.&quot;.replaceAll(&quot;.&quot;, &quot;!&quot;)\r\n\t    ); // prints &quot;!!!!!!&quot;\r\n\r\n\t    System.out.println(\r\n\t    \t&quot;O.M.G.&quot;.replaceAll(Pattern.quote(&quot;.&quot;), &quot;!&quot;)\r\n\t    ); // prints &quot;O!M!G!&quot;\r\n\t    \r\n\t    System.out.println(\r\n\t    \t&quot;Microsoft software&quot;.replaceAll(&quot;so&quot;, &quot;$0&quot;)\r\n\t    ); // prints &quot;Microsoft software&quot;\r\n\r\n\t    System.out.println(\r\n\t    \t&quot;Microsoft software&quot;.replaceAll(&quot;so&quot;, Matcher.quoteReplacement(&quot;$0&quot;))\r\n\t    ); // prints &quot;Micro$0ft $0ftware&quot;\r\n","title":"How to split a path platform independent?","body":"<h3>Literalizing pattern strings</h3>\n\n<p>Whenever you need to literalize an arbitrary<code>String</code> to be used as a regex pattern, use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#quote%28java.lang.String%29\" rel=\"noreferrer\"><code>Pattern.quote</code></a>:</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p><code>public static String quote(String s)</code></p>\n  \n  <p>Returns a literal pattern <code>String</code> for the specified <code>String</code>. This method produces a <code>String</code> that can be used to create a <code>Pattern</code> that would match the string <code>s</code> as if it were a literal pattern.\n  Metacharacters or escape sequences in the input sequence will be given no special meaning. </p>\n  \n  <p><strong>Parameters:</strong> <code>s</code> - The string to be literalized<br>\n  <strong>Returns:</strong> A literal string replacement</p>\n</blockquote>\n\n<p>This means that you can do the following:</p>\n\n<pre><code>String[] subDirs = path.split(Pattern.quote(File.separator));\n</code></pre>\n\n<hr>\n\n<h3>Literalizing replacement strings</h3>\n\n<p>If you need to literalize an arbitrary replacement <code>String</code>, use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29\" rel=\"noreferrer\"><code>Matcher.quoteReplacement</code></a>.</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p><code>public static String quoteReplacement(String s)</code></p>\n  \n  <p>Returns a literal replacement <code>String</code> for the specified <code>String</code>. This method produces a <code>String</code> that will work as a literal replacement <code>s</code> in the <code>appendReplacement</code> method of the <code>Matcher</code> class. The <code>String</code> produced will match the sequence of characters in <code>s</code> treated as a literal sequence. Slashes (<code>'\\'</code>) and dollar signs (<code>'$'</code>) will be given no special meaning.</p>\n  \n  <p><strong>Parameters:</strong> <code>s</code> - The string to be literalized<br>\n  <strong>Returns:</strong> A literal string replacement</p>\n</blockquote>\n\n<p>This quoted replacement <code>String</code> is also useful in <code>String.replaceFirst</code> and <code>String.replaceAll</code>:</p>\n\n<blockquote>\n  <p>Note that backslashes (<code>\\</code>) and dollar signs (<code>$</code>) in the replacement string may cause the results to be different than if it were being treated as a literal replacement string. Use <code>Matcher.quoteReplacement</code> to suppress the special meaning of these characters, if desired.</p>\n</blockquote>\n\n<hr>\n\n<h3>Examples</h3>\n\n<pre><code>    System.out.println(\n        \"O.M.G.\".replaceAll(\".\", \"!\")\n    ); // prints \"!!!!!!\"\n\n    System.out.println(\n        \"O.M.G.\".replaceAll(Pattern.quote(\".\"), \"!\")\n    ); // prints \"O!M!G!\"\n\n    System.out.println(\n        \"Microsoft software\".replaceAll(\"so\", \"$0\")\n    ); // prints \"Microsoft software\"\n\n    System.out.println(\n        \"Microsoft software\".replaceAll(\"so\", Matcher.quoteReplacement(\"$0\"))\n    ); // prints \"Micro$0ft $0ftware\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457449405,"creation_date":1457449405,"answer_id":35870844,"question_id":1099859,"body_markdown":"[java.nio.file.Path][1] implements `Iterable&lt;Path&gt;`, so you can do:\r\n\r\n\r\n    public static void showElements(Path p) {\r\n        List&lt;String&gt; nameElements = new ArrayList&lt;&gt;();\r\n        for (Path nameElement: p)\r\n            nameElements.add(nameElement.toFile().getName());\r\n        System.out.printf(&quot;For this file: [%s], the following elements were found: [%s]\\n&quot;\r\n                          , p.toAbsolutePath()\r\n                          , Joiner.on(&quot;, &quot;).join(nameElements));\r\n    }\r\n\r\nMethods [getNameCount][2] and [getName][3] can be used for a similar purpose.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getNameCount()\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)","title":"How to split a path platform independent?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"nofollow\">java.nio.file.Path</a> implements <code>Iterable&lt;Path&gt;</code>, so you can do:</p>\n\n<pre><code>public static void showElements(Path p) {\n    List&lt;String&gt; nameElements = new ArrayList&lt;&gt;();\n    for (Path nameElement: p)\n        nameElements.add(nameElement.toFile().getName());\n    System.out.printf(\"For this file: [%s], the following elements were found: [%s]\\n\"\n                      , p.toAbsolutePath()\n                      , Joiner.on(\", \").join(nameElements));\n}\n</code></pre>\n\n<p>Methods <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getNameCount()\" rel=\"nofollow\">getNameCount</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)\" rel=\"nofollow\">getName</a> can be used for a similar purpose.</p>\n"},{"tags":[],"owner":{"account_id":8093013,"reputation":405,"user_id":6098376,"display_name":"alniks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482486098,"creation_date":1482486098,"answer_id":41298877,"question_id":1099859,"body_markdown":"You can use Path interface:\r\n\r\n    Path p = Paths.get(pathStr);\r\n    for (int i = 0; i &lt; p.getNameCount(); i++) {\r\n        String name = p.getName(i).toString();\r\n        //do what you need with name;\r\n    }","title":"How to split a path platform independent?","body":"<p>You can use Path interface:</p>\n\n<pre><code>Path p = Paths.get(pathStr);\nfor (int i = 0; i &lt; p.getNameCount(); i++) {\n    String name = p.getName(i).toString();\n    //do what you need with name;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1118864,"reputation":6728,"user_id":1107608,"display_name":"Gergely Toth"},"score":0,"creation_date":1528453234,"post_id":50756470,"comment_id":88524370,"body_markdown":"Please add explanation why your code works and how does it solve the issues in the question","body":"Please add explanation why your code works and how does it solve the issues in the question"},{"owner":{"account_id":2538296,"reputation":2849,"user_id":2312605,"accept_rate":37,"display_name":"Ashish Ratan"},"score":0,"creation_date":1528459592,"post_id":50756470,"comment_id":88527898,"body_markdown":"If it gives a solution, please provide an explanation or the answer will be deleted.","body":"If it gives a solution, please provide an explanation or the answer will be deleted."}],"tags":[],"owner":{"account_id":123906,"reputation":989,"user_id":318673,"display_name":"sabujp"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528472177,"creation_date":1528446447,"answer_id":50756470,"question_id":1099859,"body_markdown":"Create an empty list and use forEach to iterate over the path elements inserting each one into the list for later use:\r\n\r\n    List&lt;String&gt; pathElements = new ArrayList&lt;&gt;();\r\n    Paths.get(&quot;/foo/bar/blah/baz&quot;).forEach(p -&gt; pathElements.add(p.toString()))\r\n\r\nAlso, if you need a specific path element use:\r\n\r\n    &lt;pathObject&gt;.getName(&lt;intIndex&gt;).toString() \r\n\r\nwhere `&lt;pathObject&gt;` is returned by a call to `Paths.get()`, and if you need multiple parts of the path returned in a string use:\r\n\r\n    &lt;pathObject&gt;.subPath(&lt;intStart&gt;, &lt;intEnd&gt;).toString()\r\n\r\nYou can get the total number of path elements (for use in `&lt;intEnd&gt;`) with:\r\n\r\n    &lt;pathObject&gt;.getNameCount()\r\n\r\nThere are other useful methods at the Java [Path][1] and [Paths][2] doc pages.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html","title":"How to split a path platform independent?","body":"<p>Create an empty list and use forEach to iterate over the path elements inserting each one into the list for later use:</p>\n\n<pre><code>List&lt;String&gt; pathElements = new ArrayList&lt;&gt;();\nPaths.get(\"/foo/bar/blah/baz\").forEach(p -&gt; pathElements.add(p.toString()))\n</code></pre>\n\n<p>Also, if you need a specific path element use:</p>\n\n<pre><code>&lt;pathObject&gt;.getName(&lt;intIndex&gt;).toString() \n</code></pre>\n\n<p>where <code>&lt;pathObject&gt;</code> is returned by a call to <code>Paths.get()</code>, and if you need multiple parts of the path returned in a string use:</p>\n\n<pre><code>&lt;pathObject&gt;.subPath(&lt;intStart&gt;, &lt;intEnd&gt;).toString()\n</code></pre>\n\n<p>You can get the total number of path elements (for use in <code>&lt;intEnd&gt;</code>) with:</p>\n\n<pre><code>&lt;pathObject&gt;.getNameCount()\n</code></pre>\n\n<p>There are other useful methods at the Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html\" rel=\"nofollow noreferrer\">Paths</a> doc pages.</p>\n"}],"owner":{"account_id":39531,"reputation":187648,"user_id":114066,"accept_rate":90,"display_name":"Janusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44514,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":1099868,"answer_count":6,"score":21,"last_activity_date":1677614484,"creation_date":1247078424,"question_id":1099859,"body_markdown":"I&#39;m using the following code to get an array with all sub directories from a given path. \r\n\r\n    String[] subDirs = path.split(File.separator); \r\n\r\nI need the array to check if certain folders are at the right place in this path.\r\nThis looked like a good solution until findBugs complains that File.separator is used as a regular expression. It seems that passing the windows file separator to a function that is building a regex from it is a bad idea because the backslash being an escape character. \r\n\r\nHow can I split the path in a cross platform way without using File.separator? \r\nOr is code like this okay?\r\n\r\n    String[] subDirs = path.split(&quot;/&quot;); \r\n","title":"How to split a path platform independent?","body":"<p>I'm using the following code to get an array with all sub directories from a given path. </p>\n\n<pre><code>String[] subDirs = path.split(File.separator); \n</code></pre>\n\n<p>I need the array to check if certain folders are at the right place in this path.\nThis looked like a good solution until findBugs complains that File.separator is used as a regular expression. It seems that passing the windows file separator to a function that is building a regex from it is a bad idea because the backslash being an escape character. </p>\n\n<p>How can I split the path in a cross platform way without using File.separator? \nOr is code like this okay?</p>\n\n<pre><code>String[] subDirs = path.split(\"/\"); \n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677622211,"post_id":75596762,"comment_id":133373963,"body_markdown":"By the way, `LocalDateTime` is the wrong class to record creation &amp; update timestamps. That class lacks the context of a time zone or offset-from-UTC. So that class cannot represent a moment, is not a point on the timeline. Use `java.time.Instant` instead.","body":"By the way, <code>LocalDateTime</code> is the wrong class to record creation &amp; update timestamps. That class lacks the context of a time zone or offset-from-UTC. So that class cannot represent a moment, is not a point on the timeline. Use <code>java.time.Instant</code> instead."}],"owner":{"account_id":27903170,"reputation":1,"user_id":21307005,"display_name":"lukke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677614457,"creation_date":1677614457,"question_id":75596762,"body_markdown":"I&#39;m using orm.xml file to map JPA entities.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@MappedSuperclass\r\npublic abstract class BaseClass {\r\n    @Column(updatable = false)\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n    @UpdateTimestamp\r\n    private LocalDateTime updatedAt;\r\n}\r\n```\r\n\r\n```\r\npublic class Person extends BaseClass {\r\n    private Long id;\r\n    private String name;\r\n    private String firstName;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime updatedAt;\r\n```\r\n\r\n\r\nI want to remove adnotations in BaseClass, any idea how to write @CreationTimestamp and @UpdateTimestamp in orm file?","title":"creationtimestamp addnotation in orm hibernate file","body":"<p>I'm using orm.xml file to map JPA entities.</p>\n<pre><code>@Getter\n@Setter\n@MappedSuperclass\npublic abstract class BaseClass {\n    @Column(updatable = false)\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<pre><code>public class Person extends BaseClass {\n    private Long id;\n    private String name;\n    private String firstName;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n</code></pre>\n<p>I want to remove adnotations in BaseClass, any idea how to write @CreationTimestamp and @UpdateTimestamp in orm file?</p>\n"},{"tags":["java","java-stream","guava"],"comments":[{"owner":{"account_id":26204,"reputation":1685,"user_id":67957,"accept_rate":80,"display_name":"Scott B"},"score":6,"creation_date":1427128300,"post_id":23003542,"comment_id":46640215,"body_markdown":"This is not a duplicate as the other question is indexing the Foo&#39;s by a property of theirs that is an arrays (Tags) instead of a property with a single value (id)","body":"This is not a duplicate as the other question is indexing the Foo&#39;s by a property of theirs that is an arrays (Tags) instead of a property with a single value (id)"},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":9,"creation_date":1499442994,"post_id":23003542,"comment_id":76925312,"body_markdown":"As of Guava 21.0, there is a builtin [Multimaps#toMultimap](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#toMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-) and [flatteningToMultimap](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#flatteningToMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-) methods that return collectors.","body":"As of Guava 21.0, there is a builtin <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#toMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">Multimaps#toMultimap</a> and <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#flatteningToMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">flatteningToMultimap</a> methods that return collectors."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1600451568,"post_id":23003542,"comment_id":113103123,"body_markdown":"Voting to reopen, as this is not a duplicate of the linked question.  This one is a straightforward use of the API (as mentioned in the accepted answer), while the other is more about transforming and flat mapping the values and not really about the actual collection itself.","body":"Voting to reopen, as this is not a duplicate of the linked question.  This one is a straightforward use of the API (as mentioned in the accepted answer), while the other is more about transforming and flat mapping the values and not really about the actual collection itself."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1626716343,"post_id":23003542,"comment_id":120963113,"body_markdown":"@DanielBickler Now that answers can be posted again since this question has been re-opened, I&#39;ve expanded your comment into a full answer: https://stackoverflow.com/a/68443128/1108305","body":"@DanielBickler Now that answers can be posted again since this question has been re-opened, I&#39;ve expanded your comment into a full answer: <a href=\"https://stackoverflow.com/a/68443128/1108305\">stackoverflow.com/a/68443128/1108305</a>"}],"answers":[{"comments":[{"owner":{"account_id":109557,"reputation":14553,"user_id":290213,"accept_rate":43,"display_name":"dkarp"},"score":6,"creation_date":1450931176,"post_id":23003630,"comment_id":56636430,"body_markdown":"`Multimaps.index` returns an *immutable* `Multimap`, which may not be what you want.","body":"<code>Multimaps.index</code> returns an <i>immutable</i> <code>Multimap</code>, which may not be what you want."},{"owner":{"account_id":1606795,"reputation":9608,"user_id":1486742,"display_name":"LeOn - Han Li"},"score":0,"creation_date":1458927670,"post_id":23003630,"comment_id":60081124,"body_markdown":"Agree, multimap itself is immutable, but it does NOT mean the objects contained in them automatically are. If we can get a reference to an object in an immutable collection, then there&#39;s nothing to stop us changing any mutable state on that object. So for some use-case, Multimaps.index is still good. My 2 cents.","body":"Agree, multimap itself is immutable, but it does NOT mean the objects contained in them automatically are. If we can get a reference to an object in an immutable collection, then there&#39;s nothing to stop us changing any mutable state on that object. So for some use-case, Multimaps.index is still good. My 2 cents."},{"owner":{"account_id":15120,"reputation":50844,"user_id":31615,"display_name":"Svante"},"score":9,"creation_date":1462906260,"post_id":23003630,"comment_id":61831320,"body_markdown":"An immutable multimap is exactly what you should want in most cases.","body":"An immutable multimap is exactly what you should want in most cases."},{"owner":{"account_id":30585,"reputation":13439,"user_id":83446,"accept_rate":100,"display_name":"Robert Massaioli"},"score":2,"creation_date":1478217336,"post_id":23003630,"comment_id":68076273,"body_markdown":"I wrote an ImmutableMultimapCollector: https://medium.com/@robertmassaioli/an-immutablemultimapcollector-for-guava-3f141f9040f#.m18fnmgwo","body":"I wrote an ImmutableMultimapCollector: <a href=\"https://medium.com/@robertmassaioli/an-immutablemultimapcollector-for-guava-3f141f9040f#.m18fnmgwo\" rel=\"nofollow noreferrer\">medium.com/@robertmassaioli/&hellip;</a>"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1626708549,"post_id":23003630,"comment_id":120960001,"body_markdown":"In addition to being immutable, it&#39;s worth noting that `Multimaps.index` returns a `ListMultimap`.  If you want a `SetMultimap`, you&#39;ll need another step to convert that value if you use `Multimaps.index`, e.g.: `ImmutableSetMultimap.copyOf(Multimaps.index(foos, Foo::getId))`.","body":"In addition to being immutable, it&#39;s worth noting that <code>Multimaps.index</code> returns a <code>ListMultimap</code>.  If you want a <code>SetMultimap</code>, you&#39;ll need another step to convert that value if you use <code>Multimaps.index</code>, e.g.: <code>ImmutableSetMultimap.copyOf(Multimaps.index(foos, Foo::getId))</code>."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1677662770,"post_id":23003630,"comment_id":133380335,"body_markdown":"All these are based on an existing map, which would require two iterations. One to create the original list and then iterate on it to create the grouping. Is there not a way to add to a map that will group on the go?","body":"All these are based on an existing map, which would require two iterations. One to create the original list and then iterate on it to create the grouping. Is there not a way to add to a map that will group on the go?"}],"tags":[],"owner":{"account_id":60971,"reputation":1988,"user_id":181913,"accept_rate":82,"display_name":"Burg"},"comment_count":6,"down_vote_count":1,"up_vote_count":120,"is_accepted":true,"score":119,"last_activity_date":1636351774,"creation_date":1397191170,"answer_id":23003630,"question_id":23003542,"body_markdown":"You can just use the Guava [`Multimaps`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html) factory:\r\n\r\n```lang-java\r\nImmutableMultimap&lt;String, Foo&gt; foosById = Multimaps.index(foos, Foo::getId);\r\n```\r\n\r\nor wrap a call to [`Multimaps.index`](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-) with a `Collector&lt;T, A, R&gt;` interface (shown below, in an unoptimized naive implementation).\r\n\r\n```lang-java\r\nMultimap&lt;String, Foo&gt; collect = foos.stream()\r\n        .collect(MultimapCollector.toMultimap(Foo::getId));\r\n```\r\n\r\nand the `Collector`:\r\n\r\n```lang-java\r\npublic class MultimapCollector&lt;T, K, V&gt; implements Collector&lt;T, Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; {\r\n\r\n\tprivate final Function&lt;T, K&gt; keyGetter;\r\n\tprivate final Function&lt;T, V&gt; valueGetter;\r\n\r\n\tpublic MultimapCollector(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\r\n\t\tthis.keyGetter = keyGetter;\r\n\t\tthis.valueGetter = valueGetter;\r\n\t}\r\n\r\n\tpublic static &lt;T, K, V&gt; MultimapCollector&lt;T, K, V&gt; toMultimap(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\r\n\t\treturn new MultimapCollector&lt;&gt;(keyGetter, valueGetter);\r\n\t}\r\n\r\n\tpublic static &lt;T, K, V&gt; MultimapCollector&lt;T, K, T&gt; toMultimap(Function&lt;T, K&gt; keyGetter) {\r\n\t\treturn new MultimapCollector&lt;&gt;(keyGetter, v -&gt; v);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Supplier&lt;Multimap&lt;K, V&gt;&gt; supplier() {\r\n\t\treturn ArrayListMultimap::create;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BiConsumer&lt;Multimap&lt;K, V&gt;, T&gt; accumulator() {\r\n\t\treturn (map, element) -&gt; map.put(keyGetter.apply(element), valueGetter.apply(element));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BinaryOperator&lt;Multimap&lt;K, V&gt;&gt; combiner() {\r\n\t\treturn (map1, map2) -&gt; {\r\n\t\t\tmap1.putAll(map2);\r\n\t\t\treturn map1;\r\n\t\t};\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Function&lt;Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; finisher() {\r\n\t\treturn map -&gt; map;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;Characteristics&gt; characteristics() {\r\n\t\treturn ImmutableSet.of(Characteristics.IDENTITY_FINISH);\r\n\t}\r\n}\r\n```","title":"Cleanest way to create a Guava Multimap from a Java 8 stream","body":"<p>You can just use the Guava <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html\" rel=\"noreferrer\"><code>Multimaps</code></a> factory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableMultimap&lt;String, Foo&gt; foosById = Multimaps.index(foos, Foo::getId);\n</code></pre>\n<p>or wrap a call to <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-\" rel=\"noreferrer\"><code>Multimaps.index</code></a> with a <code>Collector&lt;T, A, R&gt;</code> interface (shown below, in an unoptimized naive implementation).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multimap&lt;String, Foo&gt; collect = foos.stream()\n        .collect(MultimapCollector.toMultimap(Foo::getId));\n</code></pre>\n<p>and the <code>Collector</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultimapCollector&lt;T, K, V&gt; implements Collector&lt;T, Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; {\n\n    private final Function&lt;T, K&gt; keyGetter;\n    private final Function&lt;T, V&gt; valueGetter;\n\n    public MultimapCollector(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\n        this.keyGetter = keyGetter;\n        this.valueGetter = valueGetter;\n    }\n\n    public static &lt;T, K, V&gt; MultimapCollector&lt;T, K, V&gt; toMultimap(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\n        return new MultimapCollector&lt;&gt;(keyGetter, valueGetter);\n    }\n\n    public static &lt;T, K, V&gt; MultimapCollector&lt;T, K, T&gt; toMultimap(Function&lt;T, K&gt; keyGetter) {\n        return new MultimapCollector&lt;&gt;(keyGetter, v -&gt; v);\n    }\n\n    @Override\n    public Supplier&lt;Multimap&lt;K, V&gt;&gt; supplier() {\n        return ArrayListMultimap::create;\n    }\n\n    @Override\n    public BiConsumer&lt;Multimap&lt;K, V&gt;, T&gt; accumulator() {\n        return (map, element) -&gt; map.put(keyGetter.apply(element), valueGetter.apply(element));\n    }\n\n    @Override\n    public BinaryOperator&lt;Multimap&lt;K, V&gt;&gt; combiner() {\n        return (map1, map2) -&gt; {\n            map1.putAll(map2);\n            return map1;\n        };\n    }\n\n    @Override\n    public Function&lt;Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; finisher() {\n        return map -&gt; map;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return ImmutableSet.of(Characteristics.IDENTITY_FINISH);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1677662766,"post_id":68443128,"comment_id":133380333,"body_markdown":"All these are based on an existing map, which would require two iterations. One to create the original list and then iterate on it to create the grouping. Is there not a way to add to a map that will group on the go?","body":"All these are based on an existing map, which would require two iterations. One to create the original list and then iterate on it to create the grouping. Is there not a way to add to a map that will group on the go?"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1677687304,"post_id":68443128,"comment_id":133388033,"body_markdown":"@mjs The question was about creating a `Multimap` from a `Stream`, which these do directly.  Yes, you can definitely create a `HashMultimap` of the desired type and then add to it (for mutable maps), or create an immutable map containing the desired entries using a builder or a creator method.  See Guava&#39;s guide on this, [NewCollectionTypesExplained](https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap).","body":"@mjs The question was about creating a <code>Multimap</code> from a <code>Stream</code>, which these do directly.  Yes, you can definitely create a <code>HashMultimap</code> of the desired type and then add to it (for mutable maps), or create an immutable map containing the desired entries using a builder or a creator method.  See Guava&#39;s guide on this, <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap\" rel=\"nofollow noreferrer\">NewCollectionTypesExplained</a>."}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1677613639,"creation_date":1626708442,"answer_id":68443128,"question_id":23003542,"body_markdown":"Guava 21.0 introduced several methods that return [`Collector`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collector.html) instances which will convert a `Stream` into a `Multimap` grouped by the result of applying a function to its elements.  These methods are:\r\n\r\n| Method | Result |\r\n| --- | --- |\r\n| [`ImmutableListMultimap.toImmutableListMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)) | [`ImmutableListMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)) |\r\n| [`ImmutableSetMultimap.toImmutableSetMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html#toImmutableSetMultimap(java.util.function.Function,java.util.function.Function)) |&#160;[`ImmutableSetMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html) |\r\n| [`Multimaps.toMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html#toMultimap(java.util.function.Function,java.util.function.Function,java.util.function.Supplier)) | Value returned by the provided [`Supplier`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html) |\r\n\r\n```lang-java\r\nImmutableListMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\r\n        ImmutableListMultimap.toImmutableListMultimap(\r\n                Foo::getId, Function.identity()));\r\n```\r\n\r\n```lang-java\r\nImmutableSetMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\r\n        ImmutableSetMultimap.toImmutableSetMultimap(\r\n                Foo::getId, Function.identity()));\r\n```\r\n\r\n```lang-java\r\nHashMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\r\n        Multimaps.toMultimap(\r\n                Foo::getId, Function.identity(), HashMultimap::create)\r\n);\r\n```\r\n","title":"Cleanest way to create a Guava Multimap from a Java 8 stream","body":"<p>Guava 21.0 introduced several methods that return <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collector.html\" rel=\"noreferrer\"><code>Collector</code></a> instances which will convert a <code>Stream</code> into a <code>Multimap</code> grouped by the result of applying a function to its elements.  These methods are:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)\" rel=\"noreferrer\"><code>ImmutableListMultimap.toImmutableListMultimap</code></a></td>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)\" rel=\"noreferrer\"><code>ImmutableListMultimap</code></a></td>\n</tr>\n<tr>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html#toImmutableSetMultimap(java.util.function.Function,java.util.function.Function)\" rel=\"noreferrer\"><code>ImmutableSetMultimap.toImmutableSetMultimap</code></a></td>\n<td> <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html\" rel=\"noreferrer\"><code>ImmutableSetMultimap</code></a></td>\n</tr>\n<tr>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html#toMultimap(java.util.function.Function,java.util.function.Function,java.util.function.Supplier)\" rel=\"noreferrer\"><code>Multimaps.toMultimap</code></a></td>\n<td>Value returned by the provided <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html\" rel=\"noreferrer\"><code>Supplier</code></a></td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableListMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\n        ImmutableListMultimap.toImmutableListMultimap(\n                Foo::getId, Function.identity()));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableSetMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\n        ImmutableSetMultimap.toImmutableSetMultimap(\n                Foo::getId, Function.identity()));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>HashMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\n        Multimaps.toMultimap(\n                Foo::getId, Function.identity(), HashMultimap::create)\n);\n</code></pre>\n"}],"owner":{"account_id":26204,"reputation":1685,"user_id":67957,"accept_rate":80,"display_name":"Scott B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72188,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":23003630,"answer_count":2,"score":89,"last_activity_date":1677613639,"creation_date":1397190508,"question_id":23003542,"body_markdown":"I have a `List&lt;Foo&gt;` and want a `Multimap&lt;String, Foo&gt;` where we&#39;ve grouped the `Foo`&#39;s by their `getId()` function.\r\n\r\nI am using Java 8 and its almost awesome in that you can do:\r\n\r\n    List&lt;Foo&gt; foos = ...\r\n    Map&lt;String, List&lt;Foo&gt;&gt; foosById = foos.stream().collect(groupingBy(Foo::getId));\r\n\r\nHowever, I have a good amount of code that wants a `MultiMap&lt;String, Foo&gt;` so this doesnt save me anything and I&#39;m back to using a for-loop to create my `Multimap`. Is there a nice &quot;functional&quot; way that I am missing?","title":"Cleanest way to create a Guava Multimap from a Java 8 stream","body":"<p>I have a <code>List&lt;Foo&gt;</code> and want a <code>Multimap&lt;String, Foo&gt;</code> where we've grouped the <code>Foo</code>'s by their <code>getId()</code> function.</p>\n<p>I am using Java 8 and its almost awesome in that you can do:</p>\n<pre><code>List&lt;Foo&gt; foos = ...\nMap&lt;String, List&lt;Foo&gt;&gt; foosById = foos.stream().collect(groupingBy(Foo::getId));\n</code></pre>\n<p>However, I have a good amount of code that wants a <code>MultiMap&lt;String, Foo&gt;</code> so this doesnt save me anything and I'm back to using a for-loop to create my <code>Multimap</code>. Is there a nice &quot;functional&quot; way that I am missing?</p>\n"},{"tags":["java","javafx","treeview","javafx-8"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1677612897,"post_id":75596417,"comment_id":133371650,"body_markdown":"Don&#39;t you mean `return findTreeItemByName(...)` as your recursive step, and `return null;` if nothing is found? Off-topic: why do you have a `TreeItem&lt;Label&gt;`? The `TreeItem` should wrap data, not UI elements.","body":"Don&#39;t you mean <code>return findTreeItemByName(...)</code> as your recursive step, and <code>return null;</code> if nothing is found? Off-topic: why do you have a <code>TreeItem&lt;Label&gt;</code>? The <code>TreeItem</code> should wrap data, not UI elements."}],"answers":[{"comments":[{"owner":{"account_id":27730039,"reputation":3,"user_id":21168740,"display_name":"Michael"},"score":0,"creation_date":1677615991,"post_id":75596610,"comment_id":133372466,"body_markdown":"The first return in the if statement was supposed to return the found item and the second is if nothing is found return the original one which is the root. I&#39;ll give yours a go though thanks! And the TreeItem contains a label because the label has an onclick event action on it, that bit actually works ok I&#39;m not too bothered by that.","body":"The first return in the if statement was supposed to return the found item and the second is if nothing is found return the original one which is the root. I&#39;ll give yours a go though thanks! And the TreeItem contains a label because the label has an onclick event action on it, that bit actually works ok I&#39;m not too bothered by that."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1677617094,"post_id":75596610,"comment_id":133372720,"body_markdown":"@Michael *&quot;the TreeItem contains a label because the label has an onclick event action on it&quot;* You should register the listener with the tree cells. You should not have labels for every item in the tree, regardless of whether or not it is displayed. *&quot;I&#39;m not too bothered by that&quot;* You should be.","body":"@Michael <i>&quot;the TreeItem contains a label because the label has an onclick event action on it&quot;</i> You should register the listener with the tree cells. You should not have labels for every item in the tree, regardless of whether or not it is displayed. <i>&quot;I&#39;m not too bothered by that&quot;</i> You should be."},{"owner":{"account_id":27730039,"reputation":3,"user_id":21168740,"display_name":"Michael"},"score":0,"creation_date":1677617212,"post_id":75596610,"comment_id":133372743,"body_markdown":"But wouldn&#39;t that fire an onclick event when the tree item is expanded? The idea for this is that you can press the arrow to expand the treeitem or click the label to do another action.","body":"But wouldn&#39;t that fire an onclick event when the tree item is expanded? The idea for this is that you can press the arrow to expand the treeitem or click the label to do another action."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1677617993,"post_id":75596610,"comment_id":133372934,"body_markdown":"@Michael. I don&#39;t believe so. The internal handler for the expand button should consume the event, if the expand button is actually part of the cell.","body":"@Michael. I don&#39;t believe so. The internal handler for the expand button should consume the event, if the expand button is actually part of the cell."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677613468,"creation_date":1677613468,"answer_id":75596610,"question_id":75596417,"body_markdown":"I don&#39;t understand why you have a `TreeItem&lt;Label&gt;`. The intention is that `TreeItem` should wrap a piece of data, not a UI element.\r\n\r\nYour recursion is incorrectly implemented. If the correct `TreeItem` is not found in the immediate descendants of the supplied `TreeItem`, you then recursively search the descendants of those items, but don&#39;t do anything with the any result you find, instead returning the originally-supplied item.\r\n\r\nYou need something like this:\r\n\r\n    private static TreeItem&lt;String&gt; findTreeItemByName(TreeItem&lt;String&gt; parentTreeItem, String name) {\r\n        // if the supplied item is the one we&#39;re looking for, just return it:    \r\n        if (parentTreeItem.getValue().equals(name)) {\r\n            return parentTreeItem;\r\n        }    \r\n        // Recursively search child items and return one if found: \r\n        for (TreeItem&lt;String&gt; treeItem: parentTreeItem.getChildren()) {\r\n            TreeItem&lt;String&gt; item = findTreeItemByName(treeItem,name);\r\n            if (item != null) return item;\r\n        }\r\n        // We didn&#39;t find a match: return null:\r\n        return null;\r\n    }","title":"Javafx method for finding TreeItem by value returning null","body":"<p>I don't understand why you have a <code>TreeItem&lt;Label&gt;</code>. The intention is that <code>TreeItem</code> should wrap a piece of data, not a UI element.</p>\n<p>Your recursion is incorrectly implemented. If the correct <code>TreeItem</code> is not found in the immediate descendants of the supplied <code>TreeItem</code>, you then recursively search the descendants of those items, but don't do anything with the any result you find, instead returning the originally-supplied item.</p>\n<p>You need something like this:</p>\n<pre><code>private static TreeItem&lt;String&gt; findTreeItemByName(TreeItem&lt;String&gt; parentTreeItem, String name) {\n    // if the supplied item is the one we're looking for, just return it:    \n    if (parentTreeItem.getValue().equals(name)) {\n        return parentTreeItem;\n    }    \n    // Recursively search child items and return one if found: \n    for (TreeItem&lt;String&gt; treeItem: parentTreeItem.getChildren()) {\n        TreeItem&lt;String&gt; item = findTreeItemByName(treeItem,name);\n        if (item != null) return item;\n    }\n    // We didn't find a match: return null:\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":27730039,"reputation":3,"user_id":21168740,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596610,"answer_count":1,"score":0,"last_activity_date":1677613468,"creation_date":1677611961,"question_id":75596417,"body_markdown":"I have created a method for searching a JavaFX TreeView and returning the TreeItem that matches a given value but it returns a TreeView with a value of null. I have added a couple of sysouts and it does correctly find the TreeItem but it still returns an empty one.\r\n\r\n```Java\r\n    public void addDirToTree(Directory parentDir, Directory newDir) {\r\n        TreeItem&lt;Label&gt; parentTreeItem = findTreeItemByName(this.getRoot(),parentDir.getName());\r\n        System.out.println(parentTreeItem);\r\n        parentTreeItem.getChildren().add(createTreeItem(newDir));\r\n    }\r\n    \r\n    \r\n    private static TreeItem&lt;Label&gt; findTreeItemByName(TreeItem&lt;Label&gt; parentTreeItem, String name) {        \r\n        for (TreeItem&lt;Label&gt; treeItem: parentTreeItem.getChildren()) {\r\n            if (treeItem.getValue().getText().equals(name)) {\r\n                System.out.println(treeItem);\r\n                return treeItem;\r\n            }\r\n            findTreeItemByName(treeItem,name);\r\n        }\r\n        \r\n        return parentTreeItem;\r\n    }\r\n\r\n```\r\n\r\nOutput:\r\n```\r\nTreeItem [ value: Label@402c2e44[styleClass=label]&#39;new&#39; ]\r\nTreeItem [ value: null ]\r\n```\r\n\r\n\r\nThese methods are inside a class that extends TreeView which is why ```this.getRoot()``` is passed\r\n","title":"Javafx method for finding TreeItem by value returning null","body":"<p>I have created a method for searching a JavaFX TreeView and returning the TreeItem that matches a given value but it returns a TreeView with a value of null. I have added a couple of sysouts and it does correctly find the TreeItem but it still returns an empty one.</p>\n<pre><code>    public void addDirToTree(Directory parentDir, Directory newDir) {\n        TreeItem&lt;Label&gt; parentTreeItem = findTreeItemByName(this.getRoot(),parentDir.getName());\n        System.out.println(parentTreeItem);\n        parentTreeItem.getChildren().add(createTreeItem(newDir));\n    }\n    \n    \n    private static TreeItem&lt;Label&gt; findTreeItemByName(TreeItem&lt;Label&gt; parentTreeItem, String name) {        \n        for (TreeItem&lt;Label&gt; treeItem: parentTreeItem.getChildren()) {\n            if (treeItem.getValue().getText().equals(name)) {\n                System.out.println(treeItem);\n                return treeItem;\n            }\n            findTreeItemByName(treeItem,name);\n        }\n        \n        return parentTreeItem;\n    }\n\n</code></pre>\n<p>Output:</p>\n<pre><code>TreeItem [ value: Label@402c2e44[styleClass=label]'new' ]\nTreeItem [ value: null ]\n</code></pre>\n<p>These methods are inside a class that extends TreeView which is why <code>this.getRoot()</code> is passed</p>\n"},{"tags":["java","json","spring-boot","lang","httpexception"],"comments":[{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":0,"creation_date":1677612957,"post_id":75596496,"comment_id":133371665,"body_markdown":"Please post your request body. As per the exception you seem to be providing one or more objects as property values, instead of numbers","body":"Please post your request body. As per the exception you seem to be providing one or more objects as property values, instead of numbers"},{"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"score":0,"creation_date":1677613040,"post_id":75596496,"comment_id":133371689,"body_markdown":"{\n    &quot;orderDetails&quot;: {\n        &quot;EA1&quot;: 5,\n        &quot;BA1&quot;: 3\n    }\n}","body":"{     &quot;orderDetails&quot;: {         &quot;EA1&quot;: 5,         &quot;BA1&quot;: 3     } }"},{"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"score":0,"creation_date":1677613083,"post_id":75596496,"comment_id":133371699,"body_markdown":"@FlorianCramer this is the sample response I am sending to a database which I have already created in local and have these values","body":"@FlorianCramer this is the sample response I am sending to a database which I have already created in local and have these values"},{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":0,"creation_date":1677613249,"post_id":75596496,"comment_id":133371741,"body_markdown":"You specify the request body to be of type `Map&lt;String, Long&gt;`, so Jackson tries to deserialize `{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }` as `Long` (with `&quot;orderDetails&quot;` being the first and only key in the map). If you just send `{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }` it will work and be deserialize as a map with two entries `&quot;EA1&quot; -&gt; 5` and `&quot;BA1&quot; -&gt; 3`","body":"You specify the request body to be of type <code>Map&lt;String, Long&gt;</code>, so Jackson tries to deserialize <code>{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }</code> as <code>Long</code> (with <code>&quot;orderDetails&quot;</code> being the first and only key in the map). If you just send <code>{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }</code> it will work and be deserialize as a map with two entries <code>&quot;EA1&quot; -&gt; 5</code> and <code>&quot;BA1&quot; -&gt; 3</code>"},{"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"score":0,"creation_date":1677615826,"post_id":75596496,"comment_id":133372416,"body_markdown":"Hi @FlorianCramer that worked thank you but now I am not able to update in my database getting following error class java.util.ArrayList cannot be cast to class com.example.ecombackend.Entity.PartDetails (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.example.ecombackend.Entity.PartDetails is in unnamed module of loader &#39;app&#39;) Gettting this for the above backend code when hitting post api Can you give me some hints on this ? This is what i Found while debugging","body":"Hi @FlorianCramer that worked thank you but now I am not able to update in my database getting following error class java.util.ArrayList cannot be cast to class com.example.ecombackend.Entity.PartDetails (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.example.ecombackend.Entity.PartDetails is in unnamed module of loader &#39;app&#39;) Gettting this for the above backend code when hitting post api Can you give me some hints on this ? This is what i Found while debugging"}],"answers":[{"comments":[{"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"score":0,"creation_date":1677615769,"post_id":75596586,"comment_id":133372398,"body_markdown":"Hi @JohnWilliams that worked thank you but now I am not able to update in my database getting following error \n\nclass java.util.ArrayList cannot be cast to class com.example.ecombackend.Entity.PartDetails (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.example.ecombackend.Entity.PartDetails is in unnamed module of loader &#39;app&#39;) Gettting this for the above backend code when hitting post api\n\nCan you give me some hints on this ? This is what i Found while debugging.","body":"Hi @JohnWilliams that worked thank you but now I am not able to update in my database getting following error   class java.util.ArrayList cannot be cast to class com.example.ecombackend.Entity.PartDetails (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.example.ecombackend.Entity.PartDetails is in unnamed module of loader &#39;app&#39;) Gettting this for the above backend code when hitting post api  Can you give me some hints on this ? This is what i Found while debugging."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677616381,"post_id":75596586,"comment_id":133372556,"body_markdown":"PartDetails partStock = (PartDetails) partStockOptional is a problem, try  PartDetails partStock = partStockOptional.get(0);","body":"PartDetails partStock = (PartDetails) partStockOptional is a problem, try  PartDetails partStock = partStockOptional.get(0);"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677613305,"creation_date":1677613305,"answer_id":75596586,"question_id":75596496,"body_markdown":"Your body in Postman needs to be \r\n{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }\r\nnot\r\n{ &quot;orderDetails&quot;: { &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 } }","title":"Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>Your body in Postman needs to be\n{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }\nnot\n{ &quot;orderDetails&quot;: { &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 } }</p>\n"}],"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596586,"answer_count":1,"score":0,"last_activity_date":1677613305,"creation_date":1677612668,"question_id":75596496,"body_markdown":"Getting the following error while hitting the POST API call via postman for the following code.\r\n\r\nRequirement : Place an order given the list of &lt;component_id&gt;, and &lt;units&gt;. Consider that an order only implies reducing the current stock of each &lt;component_id&gt; by &lt;units&gt;.\r\n\r\nSpring Boot Application is Running fine just getting 400 Bad request in Postman and following in the console.\r\n\r\nError Log\r\n2023-03-01T00:43:19.065+05:30  WARN 53443 --- [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`)]\r\n\r\n\r\n\r\nFollowing are the details of my classes added:\r\n\r\n    **Controller Class**\r\n\r\n    @PostMapping(&quot;/shop/order&quot;)\r\n    public ResponseEntity&lt;String&gt; placeOrder(@RequestBody Map&lt;String, Long&gt; orderDetails) {\r\n        try {\r\n            partService.placeOrder(orderDetails);\r\n            return ResponseEntity.ok().body(&quot;Order placed successfully!&quot;);\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Failed to place order&quot;);\r\n        }\r\n    }\r\n\r\n**Repository class**\r\n\r\n        public interface PartRepository extends CrudRepository &lt; PartDetails, String &gt; {\r\n\r\n        @Query(&quot;SELECT p FROM PartDetails p WHERE p.carModelId = :carModelId&quot;)\r\n\r\n        List &lt; PartDetails &gt; findByCarModelId(String carModelId);\r\n\r\n        @Query(&quot;SELECT p FROM PartDetails p WHERE p.componentId = :componentId&quot;)\r\n\r\n        List &lt; PartDetails &gt; findByComponentId(String componentId);\r\n\r\n        **Service Class Logic**\r\n\r\n        @Transactional\r\n        public void placeOrder(Map &lt; String, Long &gt; orderDetails) {\r\n            for (Map.Entry &lt; String, Long &gt; entry: orderDetails.entrySet()) {\r\n                String componentId = entry.getKey();\r\n                Long unitInStock = entry.getValue();\r\n                List &lt; PartDetails &gt; partStockOptional = partRepository.findByComponentId(componentId);\r\n                // PartDetails partStock = partStockOptional.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Part stock not found with component ID: &quot; + componentId));\r\n                PartDetails partStock = (PartDetails) partStockOptional;\r\n                Long currentUnits = partStock.getUnitInStock();\r\n                if (currentUnits &lt; unitInStock) {\r\n                    throw new RuntimeException(&quot;Insufficient units in stock for component ID: &quot; + componentId);\r\n                }\r\n                partStock.setUnitInStock(currentUnits - unitInStock);\r\n                partRepository.save(partStock);\r\n            }\r\n        }\r\n\r\n        **Entity Class**\r\n\r\n        package com.example.ecombackend.Entity;\r\n\r\n        import jakarta.persistence.*;\r\n\r\n        @Entity\r\n        @Table\r\n        public class PartDetails {\r\n\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id;\r\n            @Column(name = &quot;car_model_id&quot;)\r\n            private String carModelId;\r\n            @Column\r\n            private String componentName;\r\n            @Column\r\n            private String componentId;\r\n            @Column(name = &quot;unit_in_stock&quot;)\r\n            private Long unitInStock;\r\n\r\n            public PartDetails() {}\r\n\r\n            public PartDetails(String carModelIds, String componentNames, String componentIds, Long unitInStocks) {\r\n                carModelId = carModelIds;\r\n                componentName = componentNames;\r\n                componentId = componentIds;\r\n                unitInStock = unitInStocks;\r\n            }\r\n\r\n            public Long getId() {\r\n                return id;\r\n            }\r\n\r\n            public void setId(Long id) {\r\n                this.id = id;\r\n            }\r\n\r\n            public String getCarModelId() {\r\n                return carModelId;\r\n            }\r\n\r\n            public String getComponentName() {\r\n                return componentName;\r\n            }\r\n\r\n            public String getComponentId() {\r\n                return componentId;\r\n            }\r\n\r\n            public Long getUnitInStock() {\r\n                return unitInStock;\r\n            }\r\n\r\n            public void setCarModelId(String carModelId) {\r\n                this.carModelId = carModelId;\r\n            }\r\n\r\n            public void setComponentName(String componentName) {\r\n                this.componentName = componentName;\r\n            }\r\n\r\n            public void setComponentId(String componentId) {\r\n                this.componentId = componentId;\r\n            }\r\n\r\n            public void setUnitInStock(Long unitInStock) {\r\n                this.unitInStock = unitInStock;\r\n            }\r\n\r\n        }\r\n`","title":"Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>Getting the following error while hitting the POST API call via postman for the following code.</p>\n<p>Requirement : Place an order given the list of &lt;component_id&gt;, and . Consider that an order only implies reducing the current stock of each &lt;component_id&gt; by .</p>\n<p>Spring Boot Application is Running fine just getting 400 Bad request in Postman and following in the console.</p>\n<p>Error Log\n2023-03-01T00:43:19.065+05:30  WARN 53443 --- [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type <code>java.lang.Long</code> from Object value (token <code>JsonToken.START_OBJECT</code>)]</p>\n<p>Following are the details of my classes added:</p>\n<pre><code>**Controller Class**\n\n@PostMapping(&quot;/shop/order&quot;)\npublic ResponseEntity&lt;String&gt; placeOrder(@RequestBody Map&lt;String, Long&gt; orderDetails) {\n    try {\n        partService.placeOrder(orderDetails);\n        return ResponseEntity.ok().body(&quot;Order placed successfully!&quot;);\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Failed to place order&quot;);\n    }\n}\n</code></pre>\n<p><strong>Repository class</strong></p>\n<pre><code>    public interface PartRepository extends CrudRepository &lt; PartDetails, String &gt; {\n\n    @Query(&quot;SELECT p FROM PartDetails p WHERE p.carModelId = :carModelId&quot;)\n\n    List &lt; PartDetails &gt; findByCarModelId(String carModelId);\n\n    @Query(&quot;SELECT p FROM PartDetails p WHERE p.componentId = :componentId&quot;)\n\n    List &lt; PartDetails &gt; findByComponentId(String componentId);\n\n    **Service Class Logic**\n\n    @Transactional\n    public void placeOrder(Map &lt; String, Long &gt; orderDetails) {\n        for (Map.Entry &lt; String, Long &gt; entry: orderDetails.entrySet()) {\n            String componentId = entry.getKey();\n            Long unitInStock = entry.getValue();\n            List &lt; PartDetails &gt; partStockOptional = partRepository.findByComponentId(componentId);\n            // PartDetails partStock = partStockOptional.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Part stock not found with component ID: &quot; + componentId));\n            PartDetails partStock = (PartDetails) partStockOptional;\n            Long currentUnits = partStock.getUnitInStock();\n            if (currentUnits &lt; unitInStock) {\n                throw new RuntimeException(&quot;Insufficient units in stock for component ID: &quot; + componentId);\n            }\n            partStock.setUnitInStock(currentUnits - unitInStock);\n            partRepository.save(partStock);\n        }\n    }\n\n    **Entity Class**\n\n    package com.example.ecombackend.Entity;\n\n    import jakarta.persistence.*;\n\n    @Entity\n    @Table\n    public class PartDetails {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        @Column(name = &quot;car_model_id&quot;)\n        private String carModelId;\n        @Column\n        private String componentName;\n        @Column\n        private String componentId;\n        @Column(name = &quot;unit_in_stock&quot;)\n        private Long unitInStock;\n\n        public PartDetails() {}\n\n        public PartDetails(String carModelIds, String componentNames, String componentIds, Long unitInStocks) {\n            carModelId = carModelIds;\n            componentName = componentNames;\n            componentId = componentIds;\n            unitInStock = unitInStocks;\n        }\n\n        public Long getId() {\n            return id;\n        }\n\n        public void setId(Long id) {\n            this.id = id;\n        }\n\n        public String getCarModelId() {\n            return carModelId;\n        }\n\n        public String getComponentName() {\n            return componentName;\n        }\n\n        public String getComponentId() {\n            return componentId;\n        }\n\n        public Long getUnitInStock() {\n            return unitInStock;\n        }\n\n        public void setCarModelId(String carModelId) {\n            this.carModelId = carModelId;\n        }\n\n        public void setComponentName(String componentName) {\n            this.componentName = componentName;\n        }\n\n        public void setComponentId(String componentId) {\n            this.componentId = componentId;\n        }\n\n        public void setUnitInStock(Long unitInStock) {\n            this.unitInStock = unitInStock;\n        }\n\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677425192,"post_id":75572984,"comment_id":133331131,"body_markdown":"Spring security core has no dependency on spring web. https://repo1.maven.org/maven2/org/springframework/security/spring-security-core/6.0.2/spring-security-core-6.0.2.pom","body":"Spring security core has no dependency on spring web. <a href=\"https://repo1.maven.org/maven2/org/springframework/security/spring-security-core/6.0.2/spring-security-core-6.0.2.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/springframework/security/&hellip;</a>"},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1677425288,"post_id":75572984,"comment_id":133331150,"body_markdown":"But I thought that core is only beans, without web stuff","body":"But I thought that core is only beans, without web stuff"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677425960,"post_id":75572984,"comment_id":133331251,"body_markdown":"Spring core != Spring security core","body":"Spring core != Spring security core"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677612779,"creation_date":1677430444,"answer_id":75573556,"question_id":75572984,"body_markdown":"It does not support out of the box but in theory it should work. But I would imagine you need some non trivial customization which is mainly about configuring `AuthorizationManager` and the related AOP advisors to scan all beans&#39; methods that are annotated with `@PreAuthorize` and etc. in order to create a AOP proxy around them.\r\n\r\nAnother important point need to consider is how can you identify who is the current user that is using the application for each request ? Do they still need some way to login ? As in the end, you also need some way to integrate with spring security to tell it who is the current user in order to do authorization.\r\n\r\nI would suggest you include `spring-mvc`, create an internal dummy URL endpoint such that you can leverage spring security to setup the `AuthorizationManager` and those AOP proxies for you. What remaining is to integrate the logic about how to identify an user when processing each request with spring security which essentially boil down to configuring the `SecurityContext` to hold the current user information. Something like:\r\n\r\n``` java\r\nSecurityContext context = SecurityContextHolder.createEmptyContext();\r\ncontext.setAuthentication(currentUser);\r\nSecurityContextHolder.setContext(context);\r\n```\r\n","title":"Is there a way to using Spring Security without Web(Spring boot, spring mvc)?","body":"<p>It does not support out of the box but in theory it should work. But I would imagine you need some non trivial customization which is mainly about configuring <code>AuthorizationManager</code> and the related AOP advisors to scan all beans' methods that are annotated with <code>@PreAuthorize</code> and etc. in order to create a AOP proxy around them.</p>\n<p>Another important point need to consider is how can you identify who is the current user that is using the application for each request ? Do they still need some way to login ? As in the end, you also need some way to integrate with spring security to tell it who is the current user in order to do authorization.</p>\n<p>I would suggest you include <code>spring-mvc</code>, create an internal dummy URL endpoint such that you can leverage spring security to setup the <code>AuthorizationManager</code> and those AOP proxies for you. What remaining is to integrate the logic about how to identify an user when processing each request with spring security which essentially boil down to configuring the <code>SecurityContext</code> to hold the current user information. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecurityContext context = SecurityContextHolder.createEmptyContext();\ncontext.setAuthentication(currentUser);\nSecurityContextHolder.setContext(context);\n</code></pre>\n"}],"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677612779,"creation_date":1677425079,"question_id":75572984,"body_markdown":"So, I want to use Spring Security for authorization in my application, I have users, groups and privileges for all. But, my application using just sockets, without web. So, I don&#39;t need to use Spring Boot or Spring MVC. \r\nCan I use Spring Security without it? How should I do it ?","title":"Is there a way to using Spring Security without Web(Spring boot, spring mvc)?","body":"<p>So, I want to use Spring Security for authorization in my application, I have users, groups and privileges for all. But, my application using just sockets, without web. So, I don't need to use Spring Boot or Spring MVC.\nCan I use Spring Security without it? How should I do it ?</p>\n"},{"tags":["java","spring-boot","jpa","annotations","entity"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677612998,"post_id":75596469,"comment_id":133371677,"body_markdown":"This question is because your query is returning entities in the result that have the same id value. You need to look at how the findAllByModule actually translates to SQL, but it can easily return the same entity multiple times if there are joins over any  *toMany relationships. Look at the entity relationships, turn on SQL logging and it should be clear what and why it is happening. You can also workaround the issue by querying with &#39;DISTINCT&#39; on the entity: &quot;Select distinct e from JobMetadataEntity e where e.module = :module&quot; which should have your JPA provider account for joins","body":"This question is because your query is returning entities in the result that have the same id value. You need to look at how the findAllByModule actually translates to SQL, but it can easily return the same entity multiple times if there are joins over any  *toMany relationships. Look at the entity relationships, turn on SQL logging and it should be clear what and why it is happening. You can also workaround the issue by querying with &#39;DISTINCT&#39; on the entity: &quot;Select distinct e from JobMetadataEntity e where e.module = :module&quot; which should have your JPA provider account for joins"},{"owner":{"account_id":2404898,"reputation":564,"user_id":2101649,"accept_rate":27,"display_name":"vs777"},"score":0,"creation_date":1677613864,"post_id":75596469,"comment_id":133371903,"body_markdown":"findAllByModule returns all the Fields from the underlying table defined in Entity class. And there are no any conditions in the query except &quot;module = &lt;passedParameter&gt;&quot;. And an ID field is not coming from the DB, there is NO ID column. My understanding every returned Entity must have new and unique ID.","body":"findAllByModule returns all the Fields from the underlying table defined in Entity class. And there are no any conditions in the query except &quot;module = &lt;passedParameter&gt;&quot;. And an ID field is not coming from the DB, there is NO ID column. My understanding every returned Entity must have new and unique ID."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677614507,"post_id":75596469,"comment_id":133372068,"body_markdown":"If your entity does not have any references (and the SQL doesn&#39;t have joins to other tables), then the issue is entirely in what the getId is returning - Your Collectors.toMap requires that each of these instances return a unique value from the getId method. If there is no id column, where is your getId value coming from? The query should fail as the SQL must be trying to select ID From the table, which you state doesn&#39;t exist. So what is it executing and what is it returning?","body":"If your entity does not have any references (and the SQL doesn&#39;t have joins to other tables), then the issue is entirely in what the getId is returning - Your Collectors.toMap requires that each of these instances return a unique value from the getId method. If there is no id column, where is your getId value coming from? The query should fail as the SQL must be trying to select ID From the table, which you state doesn&#39;t exist. So what is it executing and what is it returning?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677614964,"post_id":75596469,"comment_id":133372184,"body_markdown":"Also note, GeneratedValue(strategy = GenerationType.IDENTITY) requires the column to exist in the database. JPA will insert the entity, the database will then auto generate the column value, and JPA will lookup the value that was used to set it in the managed entity (so it can be indexed/cached on the value). The property marked as the ID within JPA must be unique, but it is on you, the application developer, to ensure it is so. There is no magic within JPA that ensures it- you can absolutely create tables that allow rows with duplicate data in them or mark some non-unique property as the ID.","body":"Also note, GeneratedValue(strategy = GenerationType.IDENTITY) requires the column to exist in the database. JPA will insert the entity, the database will then auto generate the column value, and JPA will lookup the value that was used to set it in the managed entity (so it can be indexed/cached on the value). The property marked as the ID within JPA must be unique, but it is on you, the application developer, to ensure it is so. There is no magic within JPA that ensures it- you can absolutely create tables that allow rows with duplicate data in them or mark some non-unique property as the ID."}],"owner":{"account_id":2404898,"reputation":564,"user_id":2101649,"accept_rate":27,"display_name":"vs777"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677612355,"creation_date":1677612355,"question_id":75596469,"body_markdown":"I inherited an implementation that throws :\r\n\r\n    ava.lang.IllegalStateException: Duplicate key\r\n\r\nwhen I am processing the results of the JPA call.\r\n\r\nMy Entity code is : \r\n\r\n    public class JobMetadataEntity implements Serializable {\r\n    \r\n        // This field is NOT a DB Column\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n\r\n        @Column(name = &quot;MODULE&quot;)\r\n        private String module;\r\n\r\nMy Repository code :\r\n\r\n    List&lt;JobMetadataEntity&gt; findAllByModule(String module);\r\n\r\nApplication code that throws an Exception :\r\n\r\n       Map&lt;Integer, JobMetadataEntity&gt; jobMetadataEntityMap = jobMetadataRepository.findAllByModule(&quot;MODULE_NAME&quot;)\r\n                            .stream().collect(Collectors.toMap(e -&gt; e.getId(), e -&gt; e));\r\n\r\nMy understanding the problem is with with adding an element to the Map :\r\n\r\n    Collectors.toMap(e -&gt; e.getId(), e -&gt; e)\r\n\r\nSomehow the generated  &quot;key&quot; is a duplicate. This code is being called multiple times and on  a few occasions it throws an Exception. My SpringBoot version is 2.7.6","title":"Why @GeneratedValue(strategy = GenerationType.IDENTITY) produces Duplicate Key exception","body":"<p>I inherited an implementation that throws :</p>\n<pre><code>ava.lang.IllegalStateException: Duplicate key\n</code></pre>\n<p>when I am processing the results of the JPA call.</p>\n<p>My Entity code is :</p>\n<pre><code>public class JobMetadataEntity implements Serializable {\n\n    // This field is NOT a DB Column\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;MODULE&quot;)\n    private String module;\n</code></pre>\n<p>My Repository code :</p>\n<pre><code>List&lt;JobMetadataEntity&gt; findAllByModule(String module);\n</code></pre>\n<p>Application code that throws an Exception :</p>\n<pre><code>   Map&lt;Integer, JobMetadataEntity&gt; jobMetadataEntityMap = jobMetadataRepository.findAllByModule(&quot;MODULE_NAME&quot;)\n                        .stream().collect(Collectors.toMap(e -&gt; e.getId(), e -&gt; e));\n</code></pre>\n<p>My understanding the problem is with with adding an element to the Map :</p>\n<pre><code>Collectors.toMap(e -&gt; e.getId(), e -&gt; e)\n</code></pre>\n<p>Somehow the generated  &quot;key&quot; is a duplicate. This code is being called multiple times and on  a few occasions it throws an Exception. My SpringBoot version is 2.7.6</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1677611039,"post_id":75596248,"comment_id":133371178,"body_markdown":"&quot;**an** error&quot;?","body":"&quot;<b>an</b> error&quot;?"},{"owner":{"account_id":25709549,"reputation":103,"user_id":19468319,"display_name":"zachjohn987"},"score":0,"creation_date":1677611315,"post_id":75596248,"comment_id":133371253,"body_markdown":"no &quot;the error&quot;.","body":"no &quot;the error&quot;."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1677611658,"post_id":75596248,"comment_id":133371333,"body_markdown":"I was asking what the error message is...","body":"I was asking what the error message is..."},{"owner":{"account_id":25709549,"reputation":103,"user_id":19468319,"display_name":"zachjohn987"},"score":0,"creation_date":1677611878,"post_id":75596248,"comment_id":133371379,"body_markdown":"Please see revision.","body":"Please see revision."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1677622636,"post_id":75596248,"comment_id":133374072,"body_markdown":"I would have thought this to be a duplicate. Yet I cannot find any existing Questions where &quot;cannot be resolved to a variable&quot; is caused by a lack of an `import`.","body":"I would have thought this to be a duplicate. Yet I cannot find any existing Questions where &quot;cannot be resolved to a variable&quot; is caused by a lack of an <code>import</code>."}],"answers":[{"tags":[],"owner":{"account_id":1850254,"reputation":448,"user_id":1676941,"accept_rate":100,"display_name":"Uday Shankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677612141,"creation_date":1677612141,"answer_id":75596439,"question_id":75596248,"body_markdown":"you need additional import\r\n\r\n    import java.nio.charset.StandardCharsets;","title":"Java - Error in While Calling StandardCharsets.UTF-8","body":"<p>you need additional import</p>\n<pre><code>import java.nio.charset.StandardCharsets;\n</code></pre>\n"}],"owner":{"account_id":25709549,"reputation":103,"user_id":19468319,"display_name":"zachjohn987"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75596439,"answer_count":1,"score":2,"last_activity_date":1677612141,"creation_date":1677610730,"question_id":75596248,"body_markdown":"I getting an error line under ```StandardCharsets```. I have imported it, so I am not sure why I am getting the ```StandardCharsets cannot be resolved to a variable``` error.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.file.Path;\r\n\r\npublic class Training\r\n{\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tScanner in = new Scanner(Path.of(&quot;text.txt&quot;),StandardCharsets.UTF_8);\r\n\t\t\r\n\t\tSystem.out.print(in);\r\n\t}\r\n}\r\n```\r\n\r\nI am expecting to print the data in the ```text.txt``` file.","title":"Java - Error in While Calling StandardCharsets.UTF-8","body":"<p>I getting an error line under <code>StandardCharsets</code>. I have imported it, so I am not sure why I am getting the <code>StandardCharsets cannot be resolved to a variable</code> error.</p>\n<pre><code>import java.util.*;\nimport java.nio.charset.Charset;\nimport java.nio.file.Path;\n\npublic class Training\n{\n    \n    public static void main(String[] args)\n    {\n        Scanner in = new Scanner(Path.of(&quot;text.txt&quot;),StandardCharsets.UTF_8);\n        \n        System.out.print(in);\n    }\n}\n</code></pre>\n<p>I am expecting to print the data in the <code>text.txt</code> file.</p>\n"},{"tags":["java","hibernate","jpa","quarkus"],"owner":{"account_id":27902813,"reputation":1,"user_id":21306719,"display_name":"M.F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677612074,"creation_date":1677612074,"question_id":75596431,"body_markdown":"I have a Quarkus PanacheEntityBase\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Translation&quot;)\r\npublic class Translation extends PanacheEntityBase {\r\n\r\n    @Id\r\n    public String key;\r\n\r\n    @Column\r\n    public String value;\r\n\r\n    @Transactional\r\n    public static Translation insert( final String translationId, final String translationLanguage) {\r\n\r\n        final String key = buildKey(translationId, translationLanguage);\r\n\r\n        final Optional&lt;Translation&gt; entryOpt = findByIdOptional(key);\r\n        final Translation entry;\r\n\r\n        if( entryOpt.isPresent()) {\r\n            entry = entryOpt.get();\r\n        } else {\r\n            entry = new Translation();\r\n            entry.key = key;\r\n        }\r\n\r\n        entry.value = someValueToCache();\r\n\r\n        return Translation.getEntityManager().merge(entry);\r\n    }\r\n\r\n    private static String buildKey(final String translationId, final String translationLanguage) {\r\n        return String.format(&quot;%s:%s&quot;, translationId, translationLanguage);\r\n    }\r\n}\r\n```\r\n\r\nWhile running this local with a PostgreSQL or Oracle I have no issues.\r\nHowever, when having deployed on a kubernetes environment with multiple containers dealing with concurrent requests I&#39;m having:\r\n\r\n\r\n```\r\nSQL Error: 1, SQLState: 23000\r\nORA-00001: unique constraint violated\r\nHHH000010: On release of batch it still contained JDBC statements\r\nARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; xxxxxx, org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization@xxxxxx &gt;: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n```\r\n\r\n\r\nI already tried to use persistAndFlush() and I&#39;m not able to reproduce this on a local env.","title":"Quarkus EntityManager.merge(T entity) throws org.hibernate.exception.ConstraintViolationException","body":"<p>I have a Quarkus PanacheEntityBase</p>\n<pre><code>@Entity\n@Table(name = &quot;Translation&quot;)\npublic class Translation extends PanacheEntityBase {\n\n    @Id\n    public String key;\n\n    @Column\n    public String value;\n\n    @Transactional\n    public static Translation insert( final String translationId, final String translationLanguage) {\n\n        final String key = buildKey(translationId, translationLanguage);\n\n        final Optional&lt;Translation&gt; entryOpt = findByIdOptional(key);\n        final Translation entry;\n\n        if( entryOpt.isPresent()) {\n            entry = entryOpt.get();\n        } else {\n            entry = new Translation();\n            entry.key = key;\n        }\n\n        entry.value = someValueToCache();\n\n        return Translation.getEntityManager().merge(entry);\n    }\n\n    private static String buildKey(final String translationId, final String translationLanguage) {\n        return String.format(&quot;%s:%s&quot;, translationId, translationLanguage);\n    }\n}\n</code></pre>\n<p>While running this local with a PostgreSQL or Oracle I have no issues.\nHowever, when having deployed on a kubernetes environment with multiple containers dealing with concurrent requests I'm having:</p>\n<pre><code>SQL Error: 1, SQLState: 23000\nORA-00001: unique constraint violated\nHHH000010: On release of batch it still contained JDBC statements\nARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; xxxxxx, org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization@xxxxxx &gt;: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n<p>I already tried to use persistAndFlush() and I'm not able to reproduce this on a local env.</p>\n"},{"tags":["java","instantiation","anylogic"],"answers":[{"comments":[{"owner":{"account_id":21215582,"reputation":35,"user_id":15603263,"display_name":"Mengzhang"},"score":0,"creation_date":1677716386,"post_id":75596314,"comment_id":133395243,"body_markdown":"Thank you very much for your reply. I tried your method and successfully built a  simple production system using functions and Agents: Source-&gt;Queue-&gt;Delay1-&gt;Delay2-&gt;Sink. But I still want to know if this process can be achieved by developing a Java Class in Anylogic or in external IDE. I have searched a lot of information but couldn&#39;t find the answer. Could you please let me know if my idea is feasible? Thank you very much for your professional knowledge.","body":"Thank you very much for your reply. I tried your method and successfully built a  simple production system using functions and Agents: Source-&gt;Queue-&gt;Delay1-&gt;Delay2-&gt;Sink. But I still want to know if this process can be achieved by developing a Java Class in Anylogic or in external IDE. I have searched a lot of information but couldn&#39;t find the answer. Could you please let me know if my idea is feasible? Thank you very much for your professional knowledge."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":1,"creation_date":1677738216,"post_id":75596314,"comment_id":133397902,"body_markdown":"You can code anything yourself. These building blocks are just helpers to avoid that. It gets tricky fast if you want to do time-based things, this is what agents are for....\n\nSuggest you come up with a specific problem that you are trying to solve.\n\nElse, just learn about Java coding and write Java classes, if you desire","body":"You can code anything yourself. These building blocks are just helpers to avoid that. It gets tricky fast if you want to do time-based things, this is what agents are for....  Suggest you come up with a specific problem that you are trying to solve.  Else, just learn about Java coding and write Java classes, if you desire"},{"owner":{"account_id":21215582,"reputation":35,"user_id":15603263,"display_name":"Mengzhang"},"score":0,"creation_date":1677762898,"post_id":75596314,"comment_id":133404293,"body_markdown":"Okay, I understand now and have a better understanding of the relationship between Java coding and building simulation models. Thank you very much for your answer. It has been very helpful to me.","body":"Okay, I understand now and have a better understanding of the relationship between Java coding and building simulation models. Thank you very much for your answer. It has been very helpful to me."}],"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677611168,"creation_date":1677611168,"answer_id":75596314,"question_id":75594354,"body_markdown":"If you want to &quot;agent-ify&quot; a Queue, create an agent type, drag in a queue, add ports to the left and right and instantiate that.\r\n\r\nOr (even simpler) drag a Queue on Main, right-click it and select &quot;Create flow chart block&quot;:\r\n[![enter image description here][1]][1]\r\n\r\nThere is no need to use Java classes for something like that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SEuuu.png","title":"How to instantiate and visualize elements in AnyLogic using a Java class?","body":"<p>If you want to &quot;agent-ify&quot; a Queue, create an agent type, drag in a queue, add ports to the left and right and instantiate that.</p>\n<p>Or (even simpler) drag a Queue on Main, right-click it and select &quot;Create flow chart block&quot;:\n<a href=\"https://i.stack.imgur.com/SEuuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SEuuu.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no need to use Java classes for something like that.</p>\n"}],"owner":{"account_id":21215582,"reputation":35,"user_id":15603263,"display_name":"Mengzhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596314,"answer_count":1,"score":0,"last_activity_date":1677611168,"creation_date":1677599524,"question_id":75594354,"body_markdown":"I would like to instantiate a simulation Elements in AnyLogic through a Java class and visualize them on the simulation workspace, such as generating an element from the Process Modeling Library, like &quot;Queue&quot;. I couldn&#39;t find the relevant constructor in the AnyLogic development documentation. I would like to ask if this idea can be realized? If so, could you please tell me how to do it and provide a simple demo? If not, could you please explain the reasons you know? Thank you very much for your answer.","title":"How to instantiate and visualize elements in AnyLogic using a Java class?","body":"<p>I would like to instantiate a simulation Elements in AnyLogic through a Java class and visualize them on the simulation workspace, such as generating an element from the Process Modeling Library, like &quot;Queue&quot;. I couldn't find the relevant constructor in the AnyLogic development documentation. I would like to ask if this idea can be realized? If so, could you please tell me how to do it and provide a simple demo? If not, could you please explain the reasons you know? Thank you very much for your answer.</p>\n"},{"tags":["java","android","ios","spring"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677611505,"post_id":75596298,"comment_id":133371292,"body_markdown":"If the app has registered for a custom URL scheme or regular URL you can open the URL from within the browser if it is installed. This way is it designed to work, without disclosing the installed apps.","body":"If the app has registered for a custom URL scheme or regular URL you can open the URL from within the browser if it is installed. This way is it designed to work, without disclosing the installed apps."},{"owner":{"account_id":16434762,"reputation":669,"user_id":11872619,"display_name":"vukojevicf"},"score":0,"creation_date":1677612318,"post_id":75596298,"comment_id":133371508,"body_markdown":"But what if I try to open custom URL scheme and the user does not have the app? What happens then and is it helpful for determining if I should send him to app/play store?","body":"But what if I try to open custom URL scheme and the user does not have the app? What happens then and is it helpful for determining if I should send him to app/play store?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677612385,"post_id":75596298,"comment_id":133371528,"body_markdown":"Nothing happens and the user continues to use the web site.","body":"Nothing happens and the user continues to use the web site."},{"owner":{"account_id":2441570,"reputation":109958,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1677612616,"post_id":75596298,"comment_id":133371592,"body_markdown":"Use a universal link, not a custom url scheme. A custom url scheme doesn&#39;t use https so nothing happens if the app isn&#39;t installed. With a universal link (which is just a regular https link) then the app opens to handle the link if it installed, otherwise they remain in the browser.","body":"Use a universal link, not a custom url scheme. A custom url scheme doesn&#39;t use https so nothing happens if the app isn&#39;t installed. With a universal link (which is just a regular https link) then the app opens to handle the link if it installed, otherwise they remain in the browser."},{"owner":{"account_id":16434762,"reputation":669,"user_id":11872619,"display_name":"vukojevicf"},"score":0,"creation_date":1677613898,"post_id":75596298,"comment_id":133371912,"body_markdown":"By ‘nothing happens’ you mean what exactly? In my rest app can I try to redirect using custom url scheme and detect ‘nothing happening’ and then open the play/app store link? Sorry this domain really isn’t my strong suit but I know we have custom url schemas in place","body":"By ‘nothing happens’ you mean what exactly? In my rest app can I try to redirect using custom url scheme and detect ‘nothing happening’ and then open the play/app store link? Sorry this domain really isn’t my strong suit but I know we have custom url schemas in place"},{"owner":{"account_id":2441570,"reputation":109958,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1677614529,"post_id":75596298,"comment_id":133372074,"body_markdown":"You would use a universal link like `https://our.domain.com/openourapp/`. If the app is installed then the user is prompted to open the app and then your app can do what it likes.  If the app isn&#39;t installed then the browser continues to that web page. On that page you can check the browser (Android or iOS) and redirect to the play store / App Store or whatever you like.","body":"You would use a universal link like <code>https:&#47;&#47;our.domain.com&#47;openourapp&#47;</code>. If the app is installed then the user is prompted to open the app and then your app can do what it likes.  If the app isn&#39;t installed then the browser continues to that web page. On that page you can check the browser (Android or iOS) and redirect to the play store / App Store or whatever you like."}],"owner":{"account_id":16434762,"reputation":669,"user_id":11872619,"display_name":"vukojevicf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677611076,"creation_date":1677611076,"question_id":75596298,"body_markdown":"I have Java REST server. Now when the request comes in and I detect user is using iOS or Android device, is there a way to check if they have app installed.\r\n\r\nI am trying to redirect them to app in case they do and app/play store if they don’t ","title":"Java: detect does user have app installed","body":"<p>I have Java REST server. Now when the request comes in and I detect user is using iOS or Android device, is there a way to check if they have app installed.</p>\n<p>I am trying to redirect them to app in case they do and app/play store if they don’t</p>\n"},{"tags":["java","netbeans","variable-assignment"],"comments":[{"owner":{"account_id":1264921,"reputation":1871,"user_id":1222425,"accept_rate":76,"display_name":"George Tomlinson"},"score":1,"creation_date":1384704363,"post_id":20032839,"comment_id":29833520,"body_markdown":"The type of a variable is only declared once.","body":"The type of a variable is only declared once."},{"owner":{"account_id":1235015,"reputation":379,"user_id":1198778,"accept_rate":20,"display_name":"user1198778"},"score":0,"creation_date":1384704432,"post_id":20032839,"comment_id":29833556,"body_markdown":"I know its already declared, I just want to change it, I don&#39;t want to manually go and type it in each file, I was hoping NetBeans can help me","body":"I know its already declared, I just want to change it, I don&#39;t want to manually go and type it in each file, I was hoping NetBeans can help me"},{"owner":{"account_id":1264921,"reputation":1871,"user_id":1222425,"accept_rate":76,"display_name":"George Tomlinson"},"score":0,"creation_date":1384704572,"post_id":20032839,"comment_id":29833612,"body_markdown":"I think you have to do it manually (using Ctrl + v). You can use Edit -&gt; Replace in Projects. Check &quot;whole words&quot;, &quot;match\ncase&quot;  and set file pattern to *.java to find the places it occurs.","body":"I think you have to do it manually (using Ctrl + v). You can use Edit -&gt; Replace in Projects. Check &quot;whole words&quot;, &quot;match case&quot;  and set file pattern to *.java to find the places it occurs."}],"answers":[{"tags":[],"owner":{"account_id":1264921,"reputation":1871,"user_id":1222425,"accept_rate":76,"display_name":"George Tomlinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384704706,"creation_date":1384704706,"answer_id":20032983,"question_id":20032839,"body_markdown":"I think you have to do it manually (using Ctrl + v). You can use Edit -&gt; Replace in Projects. Check &quot;whole words&quot;, &quot;match case&quot; and set file pattern to *.java to find the places it occurs. ","title":"How can I change the type of variable in the whole package with NetBeans?","body":"<p>I think you have to do it manually (using Ctrl + v). You can use Edit -> Replace in Projects. Check \"whole words\", \"match case\" and set file pattern to *.java to find the places it occurs. </p>\n"},{"tags":[],"owner":{"account_id":26614765,"reputation":1,"user_id":20234379,"display_name":"Kaervek N.V."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677610766,"creation_date":1677610766,"answer_id":75596253,"question_id":20032839,"body_markdown":"Find if you IDE has replacement option, in Netbeans it is Control + H, search for the type AND name of the variable (for example &quot;int myNumber&quot; including the space to be replaced by &quot;long myNumber&quot; (I am assuming you used the same spacing all along), click replace all, you would have to do this in each class and then maybe change the datatype for the methods with return, but might be faster than old copy-paste.\r\n\r\nOther solution:\r\nI found a fix in oracle that might fit in here too, credit to @Zds:\r\nDeclare the variable upstream of where you declared the original one with the desired type you want, then review the class and accept the suggestions from the IDE to update the datatype.\r\n\r\nThe thread with the best solution is here:\r\nhttps://stackoverflow.com/questions/5185480/how-to-refactor-variable-type-in-eclipse","title":"How can I change the type of variable in the whole package with NetBeans?","body":"<p>Find if you IDE has replacement option, in Netbeans it is Control + H, search for the type AND name of the variable (for example &quot;int myNumber&quot; including the space to be replaced by &quot;long myNumber&quot; (I am assuming you used the same spacing all along), click replace all, you would have to do this in each class and then maybe change the datatype for the methods with return, but might be faster than old copy-paste.</p>\n<p>Other solution:\nI found a fix in oracle that might fit in here too, credit to @Zds:\nDeclare the variable upstream of where you declared the original one with the desired type you want, then review the class and accept the suggestions from the IDE to update the datatype.</p>\n<p>The thread with the best solution is here:\n<a href=\"https://stackoverflow.com/questions/5185480/how-to-refactor-variable-type-in-eclipse\">How to refactor variable type in Eclipse?</a></p>\n"}],"owner":{"account_id":1235015,"reputation":379,"user_id":1198778,"accept_rate":20,"display_name":"user1198778"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677610766,"creation_date":1384704042,"question_id":20032839,"body_markdown":"I am programming in Java. I have a variable defines as `long` and it is working alright. I want to change it now so the variable everywhere thought the project is defined as `BigInteger`. Is there a way I can easily do this with NetBeans?","title":"How can I change the type of variable in the whole package with NetBeans?","body":"<p>I am programming in Java. I have a variable defines as <code>long</code> and it is working alright. I want to change it now so the variable everywhere thought the project is defined as <code>BigInteger</code>. Is there a way I can easily do this with NetBeans?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":3475620,"reputation":618,"user_id":2908898,"accept_rate":30,"display_name":"Serge"},"score":0,"creation_date":1654217628,"post_id":66132173,"comment_id":128044487,"body_markdown":"this was also the rootcause of my error using H2","body":"this was also the rootcause of my error using H2"}],"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1612939796,"creation_date":1612939796,"answer_id":66132173,"question_id":66132146,"body_markdown":"`user` is a [reserved keyword in postgresql][1]. Change your table name to something else, for example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\r\n  [1]: https://www.postgresql.org/docs/8.1/sql-keywords-appendix.html","title":"how to resolve error executing ddl commands in spring boot","body":"<p><code>user</code> is a <a href=\"https://www.postgresql.org/docs/8.1/sql-keywords-appendix.html\" rel=\"noreferrer\">reserved keyword in postgresql</a>. Change your table name to something else, for example:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n</code></pre>\n"}],"owner":{"account_id":17653774,"reputation":55,"user_id":12813770,"display_name":"D_J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4014,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66132173,"answer_count":1,"score":2,"last_activity_date":1677610659,"creation_date":1612939642,"question_id":66132146,"body_markdown":"Hi I am new to spring Boot and i created new project(Demo) using spring initilizr Project structure is Project : Maven Project Language : Java Spring Boot : 2.4.2 \r\n\r\napplication.propertites file is like  \r\n\r\n    server.port=8084   \r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/demodb  \r\n    spring.datasource.username=postgres spring.datasource.password=root \r\n    spring.jpa.hibernate.ddl-auto=update   \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect \r\n    spring.jpa.show-sql=true   \r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\nI have Created some classes and controllers : \r\n\r\nEntity\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;user_name&quot;)\r\n    private String userName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n}\r\n```\r\n\r\nRepository : \r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nService : \r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    public ResponseEntity addUser(JsonNode userData) {\r\n        User user  = objectMapper.convertValue(userData, User.class);\r\n        userRepository.save(user);\r\n        return ResponseEntity.ok(userData);\r\n    }\r\n```\r\n\r\nController : \r\n```\r\n@RestController\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @PostMapping(&quot;/adduser&quot;)\r\n    public ResponseEntity addUser(@RequestBody JsonNode userData){\r\n        return userService.addUser(userData);\r\n    }\r\n}\r\n```\r\n\r\nBut when i run the program i got error related to DB command : DLL command syntax error\r\nas i am new to this framework i am not sure why this error is ? here are logs i am getting \r\nerror logs : \r\n```\r\n2021-02-10 12:09:55.296  WARN 14681 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table user (id int4 not null, email varchar(255), user_name varchar(255), primary key (id))&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (id int4 not null, email varchar(255), user_name varchar(255), primary key (id))&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:559) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:504) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:277) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:316) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:469) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.3.jar:5.3.3]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.3.jar:5.3.3]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.3.jar:5.3.3]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.3.jar:5.3.3]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1847) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159) ~[spring-context-5.3.3.jar:5.3.3]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913) ~[spring-context-5.3.3.jar:5.3.3]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.3.jar:5.3.3]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.2.jar:2.4.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.2.jar:2.4.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.2.jar:2.4.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.2.jar:2.4.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.2.jar:2.4.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar:2.4.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.2.jar:2.4.2]\r\n\tat com.note.noteShare.NoteShareApplication.main(NoteShareApplication.java:10) ~[classes/:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;user&quot;\r\n  Position: 14\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n\t... 35 common frames omitted\r\n\r\n```","title":"how to resolve error executing ddl commands in spring boot","body":"<p>Hi I am new to spring Boot and i created new project(Demo) using spring initilizr Project structure is Project : Maven Project Language : Java Spring Boot : 2.4.2</p>\n<p>application.propertites file is like</p>\n<pre><code>server.port=8084   \nspring.datasource.url=jdbc:postgresql://localhost:5432/demodb  \nspring.datasource.username=postgres spring.datasource.password=root \nspring.jpa.hibernate.ddl-auto=update   \nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect \nspring.jpa.show-sql=true   \nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n</code></pre>\n<p>I have Created some classes and controllers :</p>\n<p>Entity</p>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;user_name&quot;)\n    private String userName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n}\n</code></pre>\n<p>Repository :</p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p>Service :</p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    public ResponseEntity addUser(JsonNode userData) {\n        User user  = objectMapper.convertValue(userData, User.class);\n        userRepository.save(user);\n        return ResponseEntity.ok(userData);\n    }\n</code></pre>\n<p>Controller :</p>\n<pre><code>@RestController\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @PostMapping(&quot;/adduser&quot;)\n    public ResponseEntity addUser(@RequestBody JsonNode userData){\n        return userService.addUser(userData);\n    }\n}\n</code></pre>\n<p>But when i run the program i got error related to DB command : DLL command syntax error\nas i am new to this framework i am not sure why this error is ? here are logs i am getting\nerror logs :</p>\n<pre><code>2021-02-10 12:09:55.296  WARN 14681 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table user (id int4 not null, email varchar(255), user_name varchar(255), primary key (id))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (id int4 not null, email varchar(255), user_name varchar(255), primary key (id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:559) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:504) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:277) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:316) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:469) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.3.jar:5.3.3]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.3.jar:5.3.3]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.3.jar:5.3.3]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.3.jar:5.3.3]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1847) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1159) ~[spring-context-5.3.3.jar:5.3.3]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913) ~[spring-context-5.3.3.jar:5.3.3]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.3.jar:5.3.3]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) ~[spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.4.2.jar:2.4.2]\n    at com.note.noteShare.NoteShareApplication.main(NoteShareApplication.java:10) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;user&quot;\n  Position: 14\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    ... 35 common frames omitted\n\n</code></pre>\n"},{"tags":["java","regex","jmeter"],"answers":[{"comments":[{"owner":{"account_id":18812851,"reputation":77,"user_id":13720679,"display_name":"sarjaana"},"score":0,"creation_date":1677618741,"post_id":75596217,"comment_id":133373092,"body_markdown":"I hadn&#39;t thought to use the __eval() function to all the request (apiRequestBody) but to use it for token variable only. That&#39;s why I didn&#39;t want to use it.\nAnyway I solved applying the function to all the request. Thanks a lot","body":"I hadn&#39;t thought to use the __eval() function to all the request (apiRequestBody) but to use it for token variable only. That&#39;s why I didn&#39;t want to use it. Anyway I solved applying the function to all the request. Thanks a lot"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677610570,"creation_date":1677610570,"answer_id":75596217,"question_id":75594500,"body_markdown":"The function you&#39;re looking for is [__eval()][1] and you should be using it in the [HTTP Request][2] sampler&#39;s &quot;Body Data&quot; tab as:\r\n\r\n    ${__eval(${apiRequestBody})}\r\n\r\n[![enter image description here][3]][3] \r\n\r\nI don&#39;t think you will be able to put the function into the CSV file. \r\n\r\n&gt;I can&#39;t use them in Jmeter\r\n\r\nWhy? The __eval() function is safe to use anywhere, it won&#39;t do any harm and corrupt anything. \r\n\r\nMore information: [Apache JMeter Functions - An Introduction][4]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/functions.html#__eval\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [3]: https://i.stack.imgur.com/OTR6p.png\r\n  [4]: https://www.blazemeter.com/blog/jmeter-functions","title":"jmeter resolve variables in csv at runtime","body":"<p>The function you're looking for is <a href=\"https://jmeter.apache.org/usermanual/functions.html#__eval\" rel=\"nofollow noreferrer\">__eval()</a> and you should be using it in the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> sampler's &quot;Body Data&quot; tab as:</p>\n<pre><code>${__eval(${apiRequestBody})}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OTR6p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OTR6p.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't think you will be able to put the function into the CSV file.</p>\n<blockquote>\n<p>I can't use them in Jmeter</p>\n</blockquote>\n<p>Why? The __eval() function is safe to use anywhere, it won't do any harm and corrupt anything.</p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/jmeter-functions\" rel=\"nofollow noreferrer\">Apache JMeter Functions - An Introduction</a></p>\n"}],"owner":{"account_id":18812851,"reputation":77,"user_id":13720679,"display_name":"sarjaana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596217,"answer_count":1,"score":0,"last_activity_date":1677610570,"creation_date":1677600213,"question_id":75594500,"body_markdown":"I have a jmeter script that takes in input a Load CSV Test Data having this content:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe &quot;generateToken&quot; first API retrieves a token and store it in the &quot;token&quot; JSON Extractor variable.\r\nThe &quot;myApiName&quot; second API sends in the body request the value of &quot;token&quot; via ${token} variable\r\n\r\nRunning the script, Jmeter does not resolve the ${token} placeholder in &quot;myApiName&quot; request:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve also used eval or evalVar or V functions in csv file without success. I can&#39;t use them in Jmeter.\r\nI&#39;m thinking to configure a Pre-Processor element to resolve all these occurrences using the replace mothod.\r\nFor example:\r\n\r\n    String s = &quot;${apiRequestBody}&quot;;\r\n    Pattern p = Pattern.compile(&quot;${.*?}&quot;);\r\n    Matcher m = p.matcher(s);  \r\n    if(m.find())\r\n       ${apiRequestBody}.replace(p, vars.get(&quot;p&quot;))\r\n\r\nPlease could you help me to find the correct code to resolve all the occurrences or suggest me another way to do that?\r\n\r\nThanks a lot in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/wCprU.png\r\n  [2]: https://i.stack.imgur.com/xeysX.png","title":"jmeter resolve variables in csv at runtime","body":"<p>I have a jmeter script that takes in input a Load CSV Test Data having this content:\n<a href=\"https://i.stack.imgur.com/wCprU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wCprU.png\" alt=\"enter image description here\" /></a></p>\n<p>The &quot;generateToken&quot; first API retrieves a token and store it in the &quot;token&quot; JSON Extractor variable.\nThe &quot;myApiName&quot; second API sends in the body request the value of &quot;token&quot; via ${token} variable</p>\n<p>Running the script, Jmeter does not resolve the ${token} placeholder in &quot;myApiName&quot; request:</p>\n<p><a href=\"https://i.stack.imgur.com/xeysX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeysX.png\" alt=\"enter image description here\" /></a></p>\n<p>I've also used eval or evalVar or V functions in csv file without success. I can't use them in Jmeter.\nI'm thinking to configure a Pre-Processor element to resolve all these occurrences using the replace mothod.\nFor example:</p>\n<pre><code>String s = &quot;${apiRequestBody}&quot;;\nPattern p = Pattern.compile(&quot;${.*?}&quot;);\nMatcher m = p.matcher(s);  \nif(m.find())\n   ${apiRequestBody}.replace(p, vars.get(&quot;p&quot;))\n</code></pre>\n<p>Please could you help me to find the correct code to resolve all the occurrences or suggest me another way to do that?</p>\n<p>Thanks a lot in advance.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1677570999,"post_id":75587782,"comment_id":133359129,"body_markdown":"IMHO the confusion already starts when you talk about `list` being a List of strings. It is **not** a List of strings - it is **a reference** to a List of strings. And anyone having a copy of that reference (to a List of strings) can manipulate that referenced List of strings.","body":"IMHO the confusion already starts when you talk about <code>list</code> being a List of strings. It is <b>not</b> a List of strings - it is <b>a reference</b> to a List of strings. And anyone having a copy of that reference (to a List of strings) can manipulate that referenced List of strings."}],"answers":[{"tags":[],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677557708,"creation_date":1677557708,"answer_id":75587824,"question_id":75587782,"body_markdown":"Java uses, as you said, pass by value when talking about function calls.\r\n\r\nIf you had something like that:\r\n```\r\nstatic void process(int a) {\r\n    a = a + 3;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    int a = 5;\r\n    process(a);\r\n    System.out.println(a); // still 5\r\n}\r\n```\r\n\r\n`a = 5` would be your final value.\r\n\r\nNow, in the case of objects (also the `Lists`, which are still objects), you are still passing by value, but the value stored in the `List` object sent as a parameter is a reference to the instance of the object in memory.\r\n\r\nOn the heap, you have a `List` instance, and on the stack, you have a `List` object. Whenever you call a method on a `List` object, it is called on the single instance from the heap. So `List` will get modified.\r\n\r\nA good example which shows that a pass by value happens in your case is trying to modify the instance your object refers to:\r\n```\r\npublic void backtrack(List&lt;String&gt; list, String str, int open, int close, int max){\r\n    list = new ArrayList&lt;String&gt;(); // this should reset the list, but only resets it within the function. It won&#39;t get modified outside the function\r\n```","title":"Why is the local variable getting modified in another instance of another function in call by value?","body":"<p>Java uses, as you said, pass by value when talking about function calls.</p>\n<p>If you had something like that:</p>\n<pre><code>static void process(int a) {\n    a = a + 3;\n}\n\npublic static void main(String[] args) {\n    int a = 5;\n    process(a);\n    System.out.println(a); // still 5\n}\n</code></pre>\n<p><code>a = 5</code> would be your final value.</p>\n<p>Now, in the case of objects (also the <code>Lists</code>, which are still objects), you are still passing by value, but the value stored in the <code>List</code> object sent as a parameter is a reference to the instance of the object in memory.</p>\n<p>On the heap, you have a <code>List</code> instance, and on the stack, you have a <code>List</code> object. Whenever you call a method on a <code>List</code> object, it is called on the single instance from the heap. So <code>List</code> will get modified.</p>\n<p>A good example which shows that a pass by value happens in your case is trying to modify the instance your object refers to:</p>\n<pre><code>public void backtrack(List&lt;String&gt; list, String str, int open, int close, int max){\n    list = new ArrayList&lt;String&gt;(); // this should reset the list, but only resets it within the function. It won't get modified outside the function\n</code></pre>\n"}],"owner":{"account_id":22319245,"reputation":41,"user_id":16542113,"display_name":"Ankit Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677557785,"answer_count":1,"score":-1,"last_activity_date":1677610167,"creation_date":1677557162,"question_id":75587782,"body_markdown":"    public List&lt;String&gt; generateParenthesis(int n) {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            backtrack(list, &quot;&quot;, 0, 0, n);\r\n            return list;\r\n        }\r\n        \r\n        public void backtrack(List&lt;String&gt; list, String str, int open, int close, int max){\r\n            \r\n            if(str.length() == max*2){\r\n                list.add(str);\r\n                return;\r\n            }\r\n            \r\n            if(open &lt; max)\r\n                backtrack(list, str+&quot;(&quot;, open+1, close, max);\r\n            if(close &lt; open)\r\n                backtrack(list, str+&quot;)&quot;, open, close+1, max);\r\n        }\r\n\r\n\r\nIn the above code &#39;list&#39; is a List of strings defined in `generateParenthesis()`. In  `backtrack(list, &quot;&quot;, 0, 0, n);` they don&#39;t store the value of list returned by `backtrack()` but when the final list is returned in `return list;` the value of list is as returned by `backtrack()`\r\n\r\nMy question is: why is the instance of &#39;list&#39; variable created in `generateParenthesis()` getting modified even though it is not a static variable and neither is the value returned by `backtrack()` function is being stored in &#39;list&#39; by using an assignment operation like `list=backtrack(list, &quot;&quot;, 0, 0, n);` ?","title":"Why is the local variable getting modified in another instance of another function in call by value?","body":"<pre><code>public List&lt;String&gt; generateParenthesis(int n) {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        backtrack(list, &quot;&quot;, 0, 0, n);\n        return list;\n    }\n    \n    public void backtrack(List&lt;String&gt; list, String str, int open, int close, int max){\n        \n        if(str.length() == max*2){\n            list.add(str);\n            return;\n        }\n        \n        if(open &lt; max)\n            backtrack(list, str+&quot;(&quot;, open+1, close, max);\n        if(close &lt; open)\n            backtrack(list, str+&quot;)&quot;, open, close+1, max);\n    }\n</code></pre>\n<p>In the above code 'list' is a List of strings defined in <code>generateParenthesis()</code>. In  <code>backtrack(list, &quot;&quot;, 0, 0, n);</code> they don't store the value of list returned by <code>backtrack()</code> but when the final list is returned in <code>return list;</code> the value of list is as returned by <code>backtrack()</code></p>\n<p>My question is: why is the instance of 'list' variable created in <code>generateParenthesis()</code> getting modified even though it is not a static variable and neither is the value returned by <code>backtrack()</code> function is being stored in 'list' by using an assignment operation like <code>list=backtrack(list, &quot;&quot;, 0, 0, n);</code> ?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1461833999,"post_id":36909788,"comment_id":61382357,"body_markdown":"Do you want to create a zip file on the server or use the &quot;on the fly gzip compression&quot; between webserver and client-browser?","body":"Do you want to create a zip file on the server or use the &quot;on the fly gzip compression&quot; between webserver and client-browser?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1461834144,"post_id":36909788,"comment_id":61382441,"body_markdown":"I want to create a compressed file (from the uncompressed local file). If it&#39;s `zip` or `gzip` doesn&#39;t matter.","body":"I want to create a compressed file (from the uncompressed local file). If it&#39;s <code>zip</code> or <code>gzip</code> doesn&#39;t matter."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1461835048,"post_id":36909788,"comment_id":61383102,"body_markdown":"See http://stackoverflow.com/questions/26113345/compress-dynamic-content-to-servletoutputstream . The same trick would work with a plain controller.","body":"See <a href=\"http://stackoverflow.com/questions/26113345/compress-dynamic-content-to-servletoutputstream\" title=\"compress dynamic content to servletoutputstream\">stackoverflow.com/questions/26113345/&hellip;</a> . The same trick would work with a plain controller."}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1461834703,"post_id":36910114,"comment_id":61382853,"body_markdown":"I thought there could be a simpler way than just having to create an additional local file. Eg returning a csv file is a simple as returning a `FileSystemResource` with spring. Thought there might be also something for compression. ot: I have 27 gold points though not 11k ;)","body":"I thought there could be a simpler way than just having to create an additional local file. Eg returning a csv file is a simple as returning a <code>FileSystemResource</code> with spring. Thought there might be also something for compression. ot: I have 27 gold points though not 11k ;)"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1461834895,"post_id":36910114,"comment_id":61382997,"body_markdown":"oh ... sorry, my mistake.","body":"oh ... sorry, my mistake."}],"tags":[],"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461834948,"creation_date":1461834560,"answer_id":36910114,"question_id":36909788,"body_markdown":"Untested but something like that should work:\r\n\r\n\tfinal Path zipTmpPath = Paths.get(&quot;C:/file.csv.zip&quot;);\r\n\tfinal ZipOutputStream zipOut = new ZipOutputStream(Files.newOutputStream(zipTmpPath, StandardOpenOption.WRITE));\r\n\tfinal ZipEntry zipEntry = new ZipEntry(&quot;file.csv&quot;);\r\n\tzipOut.putNextEntry(zipEntry);\r\n    Path csvPath = Paths.get(&quot;C:/file.csv&quot;);\r\n    List&lt;String&gt; lines = Files.readAllLines(csvPath);\r\n    for(String line : lines)\r\n\t{\r\n\t\tfor(char c : line.toCharArray())\r\n\t\t{\r\n\t\t\tzipOut.write(c);\r\n\t\t}\r\n\t}\r\n    zipOut.flush();\r\n\tzipOut.close();\r\n    return new FileSystemResource(&quot;C:/file.csv.zip&quot;);\r\n        \r\n\r\n","title":"How to offer a file compressed as download via spring @RestController?","body":"<p>Untested but something like that should work:</p>\n\n<pre><code>final Path zipTmpPath = Paths.get(\"C:/file.csv.zip\");\nfinal ZipOutputStream zipOut = new ZipOutputStream(Files.newOutputStream(zipTmpPath, StandardOpenOption.WRITE));\nfinal ZipEntry zipEntry = new ZipEntry(\"file.csv\");\nzipOut.putNextEntry(zipEntry);\nPath csvPath = Paths.get(\"C:/file.csv\");\nList&lt;String&gt; lines = Files.readAllLines(csvPath);\nfor(String line : lines)\n{\n    for(char c : line.toCharArray())\n    {\n        zipOut.write(c);\n    }\n}\nzipOut.flush();\nzipOut.close();\nreturn new FileSystemResource(\"C:/file.csv.zip\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":2,"creation_date":1461834849,"post_id":36910166,"comment_id":61382954,"body_markdown":"... why on earth does everyone suddenly think that spring is a no-brain framework with magic superpowers?? Spring doesnt compress automatically - there **may** be some sort of plugin or special configuration for that but ....","body":"... why on earth does everyone suddenly think that spring is a no-brain framework with magic superpowers?? Spring doesnt compress automatically - there <b>may</b> be some sort of plugin or special configuration for that but ...."}],"tags":[],"owner":{"account_id":6544955,"reputation":15,"user_id":5061237,"display_name":"rounak"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1461834733,"creation_date":1461834733,"answer_id":36910166,"question_id":36909788,"body_markdown":"use this :\r\n\r\n@RequestMapping(value = &quot;/zip&quot;, produces=&quot;application/zip&quot;)\r\n\r\nThis may solve your issue","title":"How to offer a file compressed as download via spring @RestController?","body":"<p>use this :</p>\n\n<p>@RequestMapping(value = \"/zip\", produces=\"application/zip\")</p>\n\n<p>This may solve your issue</p>\n"},{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1461836749,"post_id":36910571,"comment_id":61384342,"body_markdown":"What would the return type of the method be? `ZipOutputStream`? Would the same be possible with `GZIPOutputStream`?","body":"What would the return type of the method be? <code>ZipOutputStream</code>? Would the same be possible with <code>GZIPOutputStream</code>?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1461836935,"post_id":36910571,"comment_id":61384471,"body_markdown":"I tried `return zippedOUt`, but gave me: `java.lang.IllegalArgumentException: No converter found for return value of type: class java.util.zip.ZipOutputStream`. When adding `produces = &quot;application/zip&quot;`, it results in `org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation`.","body":"I tried <code>return zippedOUt</code>, but gave me: <code>java.lang.IllegalArgumentException: No converter found for return value of type: class java.util.zip.ZipOutputStream</code>. When adding <code>produces = &quot;application&#47;zip&quot;</code>, it results in <code>org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation</code>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1461837070,"post_id":36910571,"comment_id":61384559,"body_markdown":"There would be no return... Hence the `void`, I wrote it like that for a reason!","body":"There would be no return... Hence the <code>void</code>, I wrote it like that for a reason!"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1461837249,"post_id":36910571,"comment_id":61384679,"body_markdown":"Sorry, I missed that point. Could I also set the target filename (like `file.csv.zip`) into the `OutputStream`? I didn&#39;t know it&#39;s possible to just use the `OutputStream` as a method parameter. A very keen solution, ty!","body":"Sorry, I missed that point. Could I also set the target filename (like <code>file.csv.zip</code>) into the <code>OutputStream</code>? I didn&#39;t know it&#39;s possible to just use the <code>OutputStream</code> as a method parameter. A very keen solution, ty!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1461837409,"post_id":36910571,"comment_id":61384779,"body_markdown":"See that last part of the question... I covered that already briefly (modified it to include a sample as well).","body":"See that last part of the question... I covered that already briefly (modified it to include a sample as well)."},{"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"score":0,"creation_date":1677604498,"post_id":36910571,"comment_id":133369423,"body_markdown":"Solved! See this page if you need generic solution for any case: https://stackoverflow.com/a/75595252/15959923","body":"Solved! See this page if you need generic solution for any case: <a href=\"https://stackoverflow.com/a/75595252/15959923\">stackoverflow.com/a/75595252/15959923</a>"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":6,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1570438113,"creation_date":1461835760,"answer_id":36910571,"question_id":36909788,"body_markdown":"Based on the solution [here][1] (for a plain `Servlet`), you can also do the same with a Spring MVC based controller. \r\n\r\n    @RequestMapping(value = &quot;/export&quot;, method = RequestMethod.GET)\r\n    public void getFile(OutputStream out) {\r\n        FileSystemResource resource = new FileSystemResource(&quot;c:\\file.csv&quot;); \r\n        try (ZipOutputStream zippedOut = new ZipOutputStream(out)) {\r\n            ZipEntry e = new ZipEntry(resource.getName());\r\n            // Configure the zip entry, the properties of the file\r\n            e.setSize(resource.contentLength());\r\n            e.setTime(System.currentTimeMillis());\r\n            // etc.\r\n            zippedOut.putNextEntry(e);\r\n            // And the content of the resource:\r\n            StreamUtils.copy(resource.getInputStream(), zippedOut);\r\n            zippedOut.closeEntry();\r\n            zippedOut.finish();\r\n        } catch (Exception e) {\r\n            // Do something with Exception\r\n        }        \r\n    }\r\n\r\nYou created a `ZipOutputStream` based on the responses `OutputStream` (which you can simply have injected into the method). Then create an entry for the zipped out stream and write it. \r\n\r\nInstead of the `OutputStream` you could also wire the `HttpServletResponse` so that you would be able to set the name of the file and the content type. \r\n\r\n    @RequestMapping(value = &quot;/export&quot;, method = RequestMethod.GET)\r\n    public void getFile(HttpServletResponse response) {\r\n        FileSystemResource resource = new FileSystemResource(&quot;c:\\file.csv&quot;); \r\n        response.setContentType(&quot;application/zip&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=file.zip&quot;);\r\n\r\n        try (ZipOutputStream zippedOut = new ZipOutputStream(response.getOutputStream())) {\r\n            ZipEntry e = new ZipEntry(resource.getName());\r\n            // Configure the zip entry, the properties of the file\r\n            e.setSize(resource.contentLength());\r\n            e.setTime(System.currentTimeMillis());\r\n            // etc.\r\n            zippedOut.putNextEntry(e);\r\n            // And the content of the resource:\r\n            StreamUtils.copy(resource.getInputStream(), zippedOut);\r\n            zippedOut.closeEntry();\r\n            zippedOut.finish();\r\n        } catch (Exception e) {\r\n            // Do something with Exception\r\n        }        \r\n    }\r\n\r\n[1]: https://stackoverflow.com/questions/26113345/compress-dynamic-content-to-servletoutputstream","title":"How to offer a file compressed as download via spring @RestController?","body":"<p>Based on the solution <a href=\"https://stackoverflow.com/questions/26113345/compress-dynamic-content-to-servletoutputstream\">here</a> (for a plain <code>Servlet</code>), you can also do the same with a Spring MVC based controller. </p>\n\n<pre><code>@RequestMapping(value = \"/export\", method = RequestMethod.GET)\npublic void getFile(OutputStream out) {\n    FileSystemResource resource = new FileSystemResource(\"c:\\file.csv\"); \n    try (ZipOutputStream zippedOut = new ZipOutputStream(out)) {\n        ZipEntry e = new ZipEntry(resource.getName());\n        // Configure the zip entry, the properties of the file\n        e.setSize(resource.contentLength());\n        e.setTime(System.currentTimeMillis());\n        // etc.\n        zippedOut.putNextEntry(e);\n        // And the content of the resource:\n        StreamUtils.copy(resource.getInputStream(), zippedOut);\n        zippedOut.closeEntry();\n        zippedOut.finish();\n    } catch (Exception e) {\n        // Do something with Exception\n    }        \n}\n</code></pre>\n\n<p>You created a <code>ZipOutputStream</code> based on the responses <code>OutputStream</code> (which you can simply have injected into the method). Then create an entry for the zipped out stream and write it. </p>\n\n<p>Instead of the <code>OutputStream</code> you could also wire the <code>HttpServletResponse</code> so that you would be able to set the name of the file and the content type. </p>\n\n<pre><code>@RequestMapping(value = \"/export\", method = RequestMethod.GET)\npublic void getFile(HttpServletResponse response) {\n    FileSystemResource resource = new FileSystemResource(\"c:\\file.csv\"); \n    response.setContentType(\"application/zip\");\n    response.setHeader(\"Content-Disposition\", \"attachment; filename=file.zip\");\n\n    try (ZipOutputStream zippedOut = new ZipOutputStream(response.getOutputStream())) {\n        ZipEntry e = new ZipEntry(resource.getName());\n        // Configure the zip entry, the properties of the file\n        e.setSize(resource.contentLength());\n        e.setTime(System.currentTimeMillis());\n        // etc.\n        zippedOut.putNextEntry(e);\n        // And the content of the resource:\n        StreamUtils.copy(resource.getInputStream(), zippedOut);\n        zippedOut.closeEntry();\n        zippedOut.finish();\n    } catch (Exception e) {\n        // Do something with Exception\n    }        \n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36910571,"answer_count":3,"score":3,"last_activity_date":1677610098,"creation_date":1461833631,"question_id":36909788,"body_markdown":"I have a servlet that offers a `CSV` file for download:\r\n\r\n    @RestController \r\n    @RequestMapping(&quot;/&quot;)\r\n    public class FileController {\r\n    \r\n        @RequestMapping(value = &quot;/export&quot;, method = RequestMethod.GET)\r\n        public FileSystemResource getFile() {\r\n            return new FileSystemResource(&quot;c:\\file.csv&quot;); \r\n        }\r\n    }\r\n\r\nThis works just fine.\r\n\r\nQuestion: how can I offer this file as compressed file? (zip, gzip, tar doesn&#39;t matter)?","title":"How to offer a file compressed as download via spring @RestController?","body":"<p>I have a servlet that offers a <code>CSV</code> file for download:</p>\n\n<pre><code>@RestController \n@RequestMapping(\"/\")\npublic class FileController {\n\n    @RequestMapping(value = \"/export\", method = RequestMethod.GET)\n    public FileSystemResource getFile() {\n        return new FileSystemResource(\"c:\\file.csv\"); \n    }\n}\n</code></pre>\n\n<p>This works just fine.</p>\n\n<p>Question: how can I offer this file as compressed file? (zip, gzip, tar doesn't matter)?</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1286106582,"creation_date":1286106582,"answer_id":3849602,"question_id":3849593,"body_markdown":"Of all of the large number of libraries I have in my current project. the only examples I can find are in the [Google Guava][2] library, for example [`com.google.common.annotations.GwtCompatible`][1].\r\n\r\nI&#39;m not really sure why they chose this retention policy, though - perhaps for tools support, where the tools read the class files themselves, rather than going through the reflection API. I&#39;m not sure that I really see the point of this distinction, though.\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/annotations/GwtCompatible.html\r\n  [2]: http://code.google.com/p/guava-libraries/","title":"Java Annotations - looking for an example of RetentionPolicy.CLASS","body":"<p>Of all of the large number of libraries I have in my current project. the only examples I can find are in the <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a> library, for example <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/annotations/GwtCompatible.html\" rel=\"noreferrer\"><code>com.google.common.annotations.GwtCompatible</code></a>.</p>\n\n<p>I'm not really sure why they chose this retention policy, though - perhaps for tools support, where the tools read the class files themselves, rather than going through the reflection API. I'm not sure that I really see the point of this distinction, though.</p>\n"},{"tags":[],"owner":{"account_id":1754070,"reputation":221,"user_id":1602499,"display_name":"Marek Fort"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1345101010,"creation_date":1345101010,"answer_id":11982304,"question_id":3849593,"body_markdown":"CLASS Annotations are used in obfuscator tools like http://proguard.sourceforge.net .\r\nFor example annotation @KeepName disables name mangling when you need to have your class name unchanged to be able to call methods like Class.forName(). ","title":"Java Annotations - looking for an example of RetentionPolicy.CLASS","body":"<p>CLASS Annotations are used in obfuscator tools like <a href=\"http://proguard.sourceforge.net\">http://proguard.sourceforge.net</a> .\nFor example annotation @KeepName disables name mangling when you need to have your class name unchanged to be able to call methods like Class.forName(). </p>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1677609993,"creation_date":1372419496,"answer_id":17363849,"question_id":3849593,"body_markdown":"RetentionPolicy.CLASS are Useful when doing byte code-level post-processing.\r\n\r\n**Example:**\r\n\r\n- [Annotations.java from thesmythgroup/DroidCook][1] \r\n- [Retroweaver][2]\r\n\r\n\r\n  [1]: https://github.com/thesmythgroup/DroidCook/blob/ba35ca3f36bc0354fba83f34e604ee46af859941/src/org/tsg/android/api/Annotations.java\r\n  [2]: https://retroweaver.sourceforge.net/","title":"Java Annotations - looking for an example of RetentionPolicy.CLASS","body":"<p>RetentionPolicy.CLASS are Useful when doing byte code-level post-processing.</p>\n<p><strong>Example:</strong></p>\n<ul>\n<li><a href=\"https://github.com/thesmythgroup/DroidCook/blob/ba35ca3f36bc0354fba83f34e604ee46af859941/src/org/tsg/android/api/Annotations.java\" rel=\"nofollow noreferrer\">Annotations.java from thesmythgroup/DroidCook</a></li>\n<li><a href=\"https://retroweaver.sourceforge.net/\" rel=\"nofollow noreferrer\">Retroweaver</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1518540815,"post_id":30032884,"comment_id":84544737,"body_markdown":"If I am decompiling a class having annotation `RetentionPolicy.CLASS` (e.g. `@VisibleForTesting` from Guava) then the annotation is not showing up in the decompiled class file. But as per javadoc this type of annotation are recorded in the class file, then why it is not showing up in the decompiled java file. Any thoughts?","body":"If I am decompiling a class having annotation <code>RetentionPolicy.CLASS</code> (e.g. <code>@VisibleForTesting</code> from Guava) then the annotation is not showing up in the decompiled class file. But as per javadoc this type of annotation are recorded in the class file, then why it is not showing up in the decompiled java file. Any thoughts?"}],"tags":[],"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518541198,"creation_date":1430750165,"answer_id":30032884,"question_id":3849593,"body_markdown":"**Minimal example**\r\n\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n\r\n    @Retention(RetentionPolicy.CLASS)\r\n    @interface RetentionClass {}\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @interface RetentionRuntime {}\r\n\r\n    public static void main(String[] args) {\r\n        @RetentionClass\r\n        class C {}\r\n        assert C.class.getAnnotations().length == 0;\r\n\r\n        @RetentionRuntime\r\n        class D {}\r\n        assert D.class.getAnnotations().length == 1;\r\n    }\r\n\r\nIf we use `javap` on the annotated classes, we see that the `Retention.CLASS` annotated class gets a [RuntimeInvisible](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.17) class attribute:\r\n\r\n    #14 = Utf8               LRetentionClass;\r\n    [...]\r\n    RuntimeInvisibleAnnotations:\r\n      0: #14()\r\n\r\nwhile `Retention.RUNTIME` annotation gets a [RuntimeVisible](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.16) class attribute:\r\n\r\n    #14 = Utf8               LRetentionRuntime;\r\n    [...]\r\n    RuntimeVisibleAnnotations:\r\n      0: #14()\r\n\r\nSo the information is present on both cases in the bytecode.\r\n\r\nTherefore, `Runtime.CLASS` can be used to associate arbitrary metadata to a class which bytecode manipulation tools can use, without interfering with runtime-visible behavior.\r\n\r\n[Examples on GitHub](https://github.com/cirosantilli/java-cheat/blob/8e401adf2bfd2eccf653e4daa85a7a21caae1b3d/bytecode/javac-generated/RetentionClass.java) for you to play with.","title":"Java Annotations - looking for an example of RetentionPolicy.CLASS","body":"<p><strong>Minimal example</strong></p>\n\n<pre><code>import java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.CLASS)\n@interface RetentionClass {}\n\n@Retention(RetentionPolicy.RUNTIME)\n@interface RetentionRuntime {}\n\npublic static void main(String[] args) {\n    @RetentionClass\n    class C {}\n    assert C.class.getAnnotations().length == 0;\n\n    @RetentionRuntime\n    class D {}\n    assert D.class.getAnnotations().length == 1;\n}\n</code></pre>\n\n<p>If we use <code>javap</code> on the annotated classes, we see that the <code>Retention.CLASS</code> annotated class gets a <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.17\" rel=\"nofollow noreferrer\">RuntimeInvisible</a> class attribute:</p>\n\n<pre><code>#14 = Utf8               LRetentionClass;\n[...]\nRuntimeInvisibleAnnotations:\n  0: #14()\n</code></pre>\n\n<p>while <code>Retention.RUNTIME</code> annotation gets a <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.16\" rel=\"nofollow noreferrer\">RuntimeVisible</a> class attribute:</p>\n\n<pre><code>#14 = Utf8               LRetentionRuntime;\n[...]\nRuntimeVisibleAnnotations:\n  0: #14()\n</code></pre>\n\n<p>So the information is present on both cases in the bytecode.</p>\n\n<p>Therefore, <code>Runtime.CLASS</code> can be used to associate arbitrary metadata to a class which bytecode manipulation tools can use, without interfering with runtime-visible behavior.</p>\n\n<p><a href=\"https://github.com/cirosantilli/java-cheat/blob/8e401adf2bfd2eccf653e4daa85a7a21caae1b3d/bytecode/javac-generated/RetentionClass.java\" rel=\"nofollow noreferrer\">Examples on GitHub</a> for you to play with.</p>\n"}],"owner":{"account_id":168371,"reputation":16522,"user_id":393786,"accept_rate":78,"display_name":"mhshams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10574,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":3849602,"answer_count":4,"score":31,"last_activity_date":1677609993,"creation_date":1286106252,"question_id":3849593,"body_markdown":"according to Java Annotation API:\r\n\r\n&gt; - RetentionPolicy.CLASS \r\n&gt;           Annotations are to be recorded in the class file by the\r\n&gt; compiler but need not be retained by\r\n&gt; the VM at run time.\r\n&gt; \r\n&gt; - RetentionPolicy.RUNTIME \r\n&gt;           Annotations are to be recorded in the class file by the\r\n&gt; compiler and retained by the VM at run\r\n&gt; time, so they may be read\r\n&gt; reflectively.\r\n\r\nI am looking for a sample of &quot;CLASS&quot; retention policy. when we need to use this policy instead of RUNTIME policy.","title":"Java Annotations - looking for an example of RetentionPolicy.CLASS","body":"<p>according to Java Annotation API:</p>\n\n<blockquote>\n  <ul>\n  <li><p>RetentionPolicy.CLASS \n        Annotations are to be recorded in the class file by the\n  compiler but need not be retained by\n  the VM at run time.</p></li>\n  <li><p>RetentionPolicy.RUNTIME \n        Annotations are to be recorded in the class file by the\n  compiler and retained by the VM at run\n  time, so they may be read\n  reflectively.</p></li>\n  </ul>\n</blockquote>\n\n<p>I am looking for a sample of \"CLASS\" retention policy. when we need to use this policy instead of RUNTIME policy.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1677527051,"post_id":75584865,"comment_id":133351781,"body_markdown":"See if the following is relevant in your case: https://stackoverflow.com/questions/44308771/error-message-on-running-apache-tomcat","body":"See if the following is relevant in your case: <a href=\"https://stackoverflow.com/questions/44308771/error-message-on-running-apache-tomcat\" title=\"error message on running apache tomcat\">stackoverflow.com/questions/44308771/&hellip;</a>"}],"owner":{"account_id":27893908,"reputation":1,"user_id":21299660,"display_name":"nadhem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677609781,"creation_date":1677526799,"question_id":75584865,"body_markdown":"I have this error when I run the main FXML class:\r\n````\r\njava.lang.UnsatisfiedLinkError: C:\\Program Files\\Java\\jdk1.8.0_301\\jre\\bin\\prism_common.dll: Can&#39;t load this .dll (machine code=0x0) on a AMD 64-bit platform\r\n````\r\nThis is my Java version\r\n\r\n    java version &quot;1.8.0_301&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_301-b09)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.301-b09, mixed mode)\r\n\r\nI have a 64-bit Java version and my PC is 64-bit\r\n\r\nDo you have any idea why it&#39;s not working?\r\n","title":"java error (java.lang.UnsatisfiedLinkError)","body":"<p>I have this error when I run the main FXML class:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: C:\\Program Files\\Java\\jdk1.8.0_301\\jre\\bin\\prism_common.dll: Can't load this .dll (machine code=0x0) on a AMD 64-bit platform\n</code></pre>\n<p>This is my Java version</p>\n<pre><code>java version &quot;1.8.0_301&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_301-b09)\nJava HotSpot(TM) 64-Bit Server VM (build 25.301-b09, mixed mode)\n</code></pre>\n<p>I have a 64-bit Java version and my PC is 64-bit</p>\n<p>Do you have any idea why it's not working?</p>\n"},{"tags":["java","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"score":0,"creation_date":1677219195,"post_id":75553075,"comment_id":133298287,"body_markdown":"Please, provide a minimal, reproducible example: \nhttps://stackoverflow.com/help/minimal-reproducible-example","body":"Please, provide a minimal, reproducible example:  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"score":0,"creation_date":1677465108,"post_id":75553075,"comment_id":133337071,"body_markdown":"Since you posted the extent reports screenshot, I am assuming that you already implemented ExtentReports in your project. If that is the case, refer to https://stackoverflow.com/questions/44542760/how-to-print-logs-by-using-extentreports-listener-in-java for existing solutions.","body":"Since you posted the extent reports screenshot, I am assuming that you already implemented ExtentReports in your project. If that is the case, refer to <a href=\"https://stackoverflow.com/questions/44542760/how-to-print-logs-by-using-extentreports-listener-in-java\" title=\"how to print logs by using extentreports listener in java\">stackoverflow.com/questions/44542760/&hellip;</a> for existing solutions."}],"owner":{"account_id":25505054,"reputation":11,"user_id":19297657,"display_name":"Sunny Dumane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677609768,"creation_date":1677218229,"question_id":75553075,"body_markdown":"Im not able to print massage in Customized Testng Report which i generated from Code, But when i use Reporter.log(); it will show the massage in default report which are e-mailable.I attached the Two diffrent reeport which are defult generated by testng and other one is i created by code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI need to print massage in my costamized report.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ugncq.png\r\n  [2]: https://i.stack.imgur.com/c4s4F.png","title":"Customized Report in testng , need to print massage in report","body":"<p>Im not able to print massage in Customized Testng Report which i generated from Code, But when i use Reporter.log(); it will show the massage in default report which are e-mailable.I attached the Two diffrent reeport which are defult generated by testng and other one is i created by code.</p>\n<p><a href=\"https://i.stack.imgur.com/ugncq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ugncq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/c4s4F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c4s4F.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to print massage in my costamized report.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677609267,"creation_date":1677609267,"answer_id":75596037,"question_id":75596002,"body_markdown":"For the shown image, it is saying `javac` is not on your OS `PATH` for executables. You need to use Control Panel to configure this. \r\n\r\nJava developers don&#39;t regularly use CMD to run Java code, though. For starting out, you should ideally use an IDE like IntelliJ, Netbeans, Eclipse, VSCode, etc, which all have documentation getting started with Java development. And each have a simple run button to execute both `javac` and `java`. \r\n\r\n","title":"How do I run Java?","body":"<p>For the shown image, it is saying <code>javac</code> is not on your OS <code>PATH</code> for executables. You need to use Control Panel to configure this.</p>\n<p>Java developers don't regularly use CMD to run Java code, though. For starting out, you should ideally use an IDE like IntelliJ, Netbeans, Eclipse, VSCode, etc, which all have documentation getting started with Java development. And each have a simple run button to execute both <code>javac</code> and <code>java</code>.</p>\n"},{"tags":[],"owner":{"account_id":23902557,"reputation":287,"user_id":17900527,"display_name":"excommunicado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677609540,"creation_date":1677609540,"answer_id":75596066,"question_id":75596002,"body_markdown":"It seems like Java bin wasnt added into System Path.\r\n\r\nThe default installation folder for Java is smth like `C:\\ProgramFiles\\Java\\jdk&lt;version&gt;\\bin`\r\n\r\nYou can check that `javac` is there, add `C:\\ProgramFiles\\Java\\jdk&lt;version&gt;\\bin` to the System Path and (optionally) reboot your PC, because Windows has troubles with Path without a reboot. ","title":"How do I run Java?","body":"<p>It seems like Java bin wasnt added into System Path.</p>\n<p>The default installation folder for Java is smth like <code>C:\\ProgramFiles\\Java\\jdk&lt;version&gt;\\bin</code></p>\n<p>You can check that <code>javac</code> is there, add <code>C:\\ProgramFiles\\Java\\jdk&lt;version&gt;\\bin</code> to the System Path and (optionally) reboot your PC, because Windows has troubles with Path without a reboot.</p>\n"}],"owner":{"account_id":27902465,"reputation":1,"user_id":21306450,"display_name":"turtlereef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677609576,"answer_count":2,"score":-1,"last_activity_date":1677609540,"creation_date":1677609059,"question_id":75596002,"body_markdown":"I&#39;m following the w3schools tutorial on Java and it says to make a Java file (called &quot;Main.java&quot;) containing:\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World&quot;);\r\n      }\r\n    }\r\n\r\nThen it says to enter &quot;javac Main.java&quot; into command prompt, but it&#39;s not working [command prompt](https://i.stack.imgur.com/BsmbK.png)\r\n","title":"How do I run Java?","body":"<p>I'm following the w3schools tutorial on Java and it says to make a Java file (called &quot;Main.java&quot;) containing:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;Hello World&quot;);\n  }\n}\n</code></pre>\n<p>Then it says to enter &quot;javac Main.java&quot; into command prompt, but it's not working <a href=\"https://i.stack.imgur.com/BsmbK.png\" rel=\"nofollow noreferrer\">command prompt</a></p>\n"},{"tags":["java","path","environment-variables","command-prompt","javac"],"comments":[{"owner":{"account_id":458071,"reputation":2124,"user_id":857753,"accept_rate":20,"display_name":"Rahul Juyal"},"score":9,"creation_date":1318226607,"post_id":7709041,"comment_id":9375807,"body_markdown":"i think your path is not set . go to your enviromentvariable and set path their","body":"i think your path is not set . go to your enviromentvariable and set path their"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":3,"creation_date":1396105375,"post_id":7709041,"comment_id":34646619,"body_markdown":"This question appears to be off-topic because it is easily findable in the [actual JDK installation instructions](http://docs.oracle.com/javase/8/docs/technotes/guides/install/windows_jdk_install.html) and the answer there is up to date and of higher quality than any answer here. It is also readily available, for all platforms, in the first chapter of the [official getting started tutorial](http://docs.oracle.com/javase/tutorial/getStarted/problems/index.html).","body":"This question appears to be off-topic because it is easily findable in the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/windows_jdk_install.html\" rel=\"nofollow noreferrer\">actual JDK installation instructions</a> and the answer there is up to date and of higher quality than any answer here. It is also readily available, for all platforms, in the first chapter of the <a href=\"http://docs.oracle.com/javase/tutorial/getStarted/problems/index.html\" rel=\"nofollow noreferrer\">official getting started tutorial</a>."},{"owner":{"account_id":1759335,"reputation":1104,"user_id":1606865,"accept_rate":84,"display_name":"Matt Stevens"},"score":10,"creation_date":1397864009,"post_id":7709041,"comment_id":35423469,"body_markdown":"Ta for the information Jason C. But I confess I find the decision to call this thread off-topic appears to be odds with the number of others that have upticked this answer. As I am about to do.","body":"Ta for the information Jason C. But I confess I find the decision to call this thread off-topic appears to be odds with the number of others that have upticked this answer. As I am about to do."},{"owner":{"account_id":123931,"reputation":9636,"user_id":318716,"display_name":"Joseph Quinsey"},"score":1,"creation_date":1398787404,"post_id":7709041,"comment_id":35796151,"body_markdown":"Current link: http://docs.oracle.com/javase/8/docs/technotes/guides/install/windows_jdk_install.html#BABGDJFH","body":"Current link: <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/windows_jdk_install.html#BABGDJFH\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/install/&hellip;</a>"},{"owner":{"account_id":2925268,"reputation":1941,"user_id":2506738,"display_name":"Amir Md Amiruzzaman"},"score":0,"creation_date":1443991173,"post_id":7709041,"comment_id":53701674,"body_markdown":"Adding a new variable is easier and once you create a new variable &quot;PATH&quot; make sure you add semicolon (;) and the end of the value.","body":"Adding a new variable is easier and once you create a new variable &quot;PATH&quot; make sure you add semicolon (;) and the end of the value."},{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":0,"creation_date":1452296960,"post_id":7709041,"comment_id":57122637,"body_markdown":"https://docs.oracle.com/javase/tutorial/getStarted/problems/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/getStarted/problems/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/getStarted/problems/index.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":8732330,"reputation":159,"user_id":6531960,"accept_rate":50,"display_name":"User0123"},"score":0,"creation_date":1471404070,"post_id":7709041,"comment_id":65327703,"body_markdown":"You can find everything from java download to execution of sample java program [here](http://techtopicsbyme.blogspot.com/2016/06/java-environment-setup.html)","body":"You can find everything from java download to execution of sample java program <a href=\"http://techtopicsbyme.blogspot.com/2016/06/java-environment-setup.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":388919,"reputation":462,"user_id":748115,"accept_rate":75,"display_name":"winux"},"score":0,"creation_date":1495776728,"post_id":7709041,"comment_id":75401981,"body_markdown":"You missed the backslash after C and you need to add semicolon at the end of the path. This is the result after playing around with the semicolon which is very important","body":"You missed the backslash after C and you need to add semicolon at the end of the path. This is the result after playing around with the semicolon which is very important"},{"owner":{"account_id":17993335,"reputation":880,"user_id":13076945,"display_name":"Nithin Sai"},"score":0,"creation_date":1586528958,"post_id":7709041,"comment_id":108166604,"body_markdown":"I have the exact same problem! I have reinstalled the programs, set the paths of jre and jdk again, I run &quot;java&quot; and I get all details that Java is installed, but when I run &quot;javac&quot;, I get this error.. I have tried everything! Please help","body":"I have the exact same problem! I have reinstalled the programs, set the paths of jre and jdk again, I run &quot;java&quot; and I get all details that Java is installed, but when I run &quot;javac&quot;, I get this error.. I have tried everything! Please help"}],"answers":[{"comments":[{"owner":{"account_id":963263,"reputation":2957,"user_id":987137,"display_name":"user987137"},"score":1,"creation_date":1318389576,"post_id":7709062,"comment_id":9412226,"body_markdown":"I missed that right but that was my typographical error when posting my concern here.  I did check it and everything is correctly spelled but still gives me the same error.","body":"I missed that right but that was my typographical error when posting my concern here.  I did check it and everything is correctly spelled but still gives me the same error."},{"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"score":1,"creation_date":1318395976,"post_id":7709062,"comment_id":9413001,"body_markdown":"@user987137. Evidently, something is incorrect.  Is JDK (mind you - JDK not JRE) installed in the specified location - `C:\\Program Files (x86)\\Java\\jdk1.7.0`? If so, what happens if you do `cd C:\\Program Files (x86)\\Java\\jdk1.7.0\\bin` and then `javac -version`?","body":"@user987137. Evidently, something is incorrect.  Is JDK (mind you - JDK not JRE) installed in the specified location - <code>C:\\Program Files (x86)\\Java\\jdk1.7.0</code>? If so, what happens if you do <code>cd C:\\Program Files (x86)\\Java\\jdk1.7.0\\bin</code> and then <code>javac -version</code>?"},{"owner":{"account_id":199194,"reputation":843,"user_id":444327,"accept_rate":80,"display_name":"Chris J"},"score":3,"creation_date":1327235359,"post_id":7709062,"comment_id":11221381,"body_markdown":"I had the same error when setting up JDK on Win XP even though I had the correct path set. Simply closing the command prompt and opening it again fixed it.","body":"I had the same error when setting up JDK on Win XP even though I had the correct path set. Simply closing the command prompt and opening it again fixed it."},{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":0,"creation_date":1479200286,"post_id":7709062,"comment_id":68445945,"body_markdown":"@ChrisJ - This is because the new command prompt will be started in a new session and therefore also load the updated environmental variables.","body":"@ChrisJ - This is because the new command prompt will be started in a new session and therefore also load the updated environmental variables."}],"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"comment_count":4,"down_vote_count":2,"up_vote_count":50,"is_accepted":false,"score":48,"last_activity_date":1539315333,"creation_date":1318226638,"answer_id":7709062,"question_id":7709041,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\nYou mistyped the `set` command – you missed the backslash after `C:`. It should be:\r\n\r\n    C:\\&gt;set path=C:\\Program Files (x86)\\Java\\jdk1.7.0\\bin","title":"javac is not recognized as an internal or external command, operable program or batch file","body":"\n\n<p>You mistyped the <code>set</code> command – you missed the backslash after <code>C:</code>. It should be:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;set path=C:\\Program Files (x86)\\Java\\jdk1.7.0\\bin\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1172653,"reputation":6924,"user_id":1149459,"accept_rate":76,"display_name":"Eric H."},"score":8,"creation_date":1365631548,"post_id":8518438,"comment_id":22706497,"body_markdown":"This worked for me, but before I had tried to add the location at the end of the Path string.  Why does it only work at the beginning?","body":"This worked for me, but before I had tried to add the location at the end of the Path string.  Why does it only work at the beginning?"},{"owner":{"account_id":1651819,"reputation":2857,"user_id":1522257,"accept_rate":92,"display_name":"Dao Lam"},"score":4,"creation_date":1377291031,"post_id":8518438,"comment_id":27045827,"body_markdown":"Thanks! this works for me! \n@Eric H: Adding at the end works for me. From what I understand, it goes through Path from left to right and look for javac.exe. So maybe you have it in some directory that in the front and that javac.exe does not work.","body":"Thanks! this works for me!  @Eric H: Adding at the end works for me. From what I understand, it goes through Path from left to right and look for javac.exe. So maybe you have it in some directory that in the front and that javac.exe does not work."},{"owner":{"account_id":90602,"reputation":2955,"user_id":249336,"accept_rate":60,"display_name":"Sameh Deabes"},"score":40,"creation_date":1414532747,"post_id":8518438,"comment_id":41849072,"body_markdown":"+1 for closing the command-line then re-opening it, that worked for me!","body":"+1 for closing the command-line then re-opening it, that worked for me!"},{"owner":{"account_id":3054994,"reputation":151,"user_id":2588827,"accept_rate":62,"display_name":"Aaron Liu"},"score":0,"creation_date":1462563381,"post_id":8518438,"comment_id":61705007,"body_markdown":"Does it make sense if I have different version of jdk and jre on my computer?","body":"Does it make sense if I have different version of jdk and jre on my computer?"},{"owner":{"account_id":11033794,"reputation":528,"user_id":8104382,"display_name":"Aniket Jadhav"},"score":0,"creation_date":1564486259,"post_id":8518438,"comment_id":101039321,"body_markdown":"I learned a lot of things about the OS system while setting up these variables and all that. thanks man","body":"I learned a lot of things about the OS system while setting up these variables and all that. thanks man"},{"owner":{"account_id":7854325,"reputation":97,"user_id":5936753,"display_name":"Withdrawnbean"},"score":0,"creation_date":1600708763,"post_id":8518438,"comment_id":113166699,"body_markdown":"You deserve a medal for this.","body":"You deserve a medal for this."},{"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"score":0,"creation_date":1618010758,"post_id":8518438,"comment_id":118481882,"body_markdown":"For me, adding the location to the system Path wasn&#39;t enough; I *also* had to add it to my user Path as well.","body":"For me, adding the location to the system Path wasn&#39;t enough; I <i>also</i> had to add it to my user Path as well."},{"owner":{"account_id":9355429,"reputation":233,"user_id":6943622,"display_name":"Duck Dodgers"},"score":0,"creation_date":1638995674,"post_id":8518438,"comment_id":124238373,"body_markdown":"lol can&#39;t believe this actually worked. I really expected to go through this long tutorial for everything to not work. Thank you so much lmaoo","body":"lol can&#39;t believe this actually worked. I really expected to go through this long tutorial for everything to not work. Thank you so much lmaoo"},{"owner":{"account_id":24077108,"reputation":63,"user_id":18052278,"display_name":"zackBYE344"},"score":0,"creation_date":1654797565,"post_id":8518438,"comment_id":128184003,"body_markdown":"What do I do if javac is still not recognized?","body":"What do I do if javac is still not recognized?"}],"tags":[],"owner":{"account_id":1108768,"reputation":5393,"user_id":1099617,"display_name":"carlos c."},"comment_count":9,"down_vote_count":4,"up_vote_count":540,"is_accepted":false,"score":536,"last_activity_date":1585915284,"creation_date":1323944281,"answer_id":8518438,"question_id":7709041,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\n# TL;DR\r\n\r\nFor experienced readers:\r\n\r\n 1. Find the Java path; it looks like this: `C:\\Program Files\\Java\\jdkxxxx\\bin\\`\r\n 2. Start-menu search for &quot;environment variable&quot; to open the options dialog.\r\n 3. Examine `PATH`. Remove old Java paths.\r\n 4. Add the new Java path to `PATH`.\r\n 5. Edit `JAVA_HOME`.\r\n 6. Close and re-open console/IDE.\r\n\r\n----\r\n\r\nWelcome!\r\n\r\nYou have encountered one of the most notorious technical issues facing Java beginners: the `&#39;xyz&#39; is not recognized as an internal or external command...` error message.\r\n\r\nIn a nutshell, **you have not installed Java correctly**. Finalizing the installation of Java on Windows requires some manual steps. You must always perform these steps after installing Java, including after upgrading the JDK.\r\n\r\n# Environment variables and `PATH`\r\n\r\n*(If you already understand this, feel free to skip the next three sections.)*\r\n\r\nWhen you run `javac HelloWorld.java`, cmd must determine where `javac.exe` is located. This is accomplished with `PATH`, an environment variable.\r\n\r\nAn [*environment variable*](https://en.wikipedia.org/wiki/Environment_variable) is a special key-value pair (e.g. `windir=C:\\WINDOWS`). Most came with the operating system, and some are required for proper system functioning. A list of them is passed to every program (including cmd) when it starts. [On Windows](https://ss64.com/nt/syntax-variables.html), there are [two types](https://stackoverflow.com/questions/4477660/what-is-the-difference-between-user-variables-and-system-variables): *user environment variables* and *system environment variables*.\r\n\r\nYou can see your environment variables like this:\r\n\r\n    C:\\&gt;set\r\n    ALLUSERSPROFILE=C:\\ProgramData\r\n    APPDATA=C:\\Users\\craig\\AppData\\Roaming\r\n    CommonProgramFiles=C:\\Program Files\\Common Files\r\n    CommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\r\n    CommonProgramW6432=C:\\Program Files\\Common Files\r\n    ...\r\n\r\nThe most important variable is [`PATH`](https://en.wikipedia.org/wiki/PATH_(variable)). It is a list of paths, separated by `;`. When a command is entered into cmd, each directory in the list will be scanned for a matching executable.\r\n\r\nOn my computer, `PATH` is:\r\n\r\n    C:\\&gt;echo %PATH%\r\n    C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPower\r\n    Shell\\v1.0\\;C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs;C:\\Users\\craig\\AppData\\\r\n    Roaming\\Microsoft\\Windows\\Start Menu\\Programs;C:\\msys64\\usr\\bin;C:\\msys64\\mingw64\\bin;C:\\\r\n    msys64\\mingw32\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Yarn\\bin\\;C:\\Users\\\r\n    craig\\AppData\\Local\\Yarn\\bin;C:\\Program Files\\Java\\jdk-10.0.2\\bin;C:\\ProgramFiles\\Git\\cmd;\r\n    C:\\Program Files\\Oracle\\VirtualBox;C:\\Program Files\\7-Zip\\;C:\\Program Files\\PuTTY\\;C:\\\r\n    Program Files\\launch4j;C:\\Program Files (x86)\\NSIS\\Bin;C:\\Program Files (x86)\\Common Files\r\n    \\Adobe\\AGL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program\r\n    Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\iCLS Client\\;\r\n    C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\r\n    (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\Intel\\iCLS\r\n    Client\\;C:\\Users\\craig\\AppData\\Local\\Microsoft\\WindowsApps\r\n\r\nWhen you run `javac HelloWorld.java`, cmd, upon realizing that `javac` is not an [internal command](https://ss64.com/nt/syntax-internal.html), searches the [system `PATH` followed by the user `PATH`](https://superuser.com/questions/867728/user-vs-system-environment-variables-do-system-variables-override-user-variabl). It mechanically enters every directory in the list, and checks if [`javac.com`, `javac.exe`, `javac.bat`, etc.](https://www.nextofwindows.com/what-is-pathext-environment-variable-in-windows) is present. When it finds `javac`, it runs it. When it does not, it prints `&#39;javac&#39; is not recognized as an internal or external command, operable program or batch file.`\r\n\r\nYou must add the Java executables directory to `PATH`.\r\n\r\n# JDK vs. JRE\r\n\r\n*(If you already understand this, feel free to skip this section.)*\r\n\r\nWhen downloading Java, you are offered a choice between:\r\n\r\n - The [Java Runtime Environment](https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment) (JRE), which includes the necessary tools to run Java programs, but *not* to compile new ones – it contains `java` but not `javac`.\r\n - The [Java Development Kit](https://en.wikipedia.org/wiki/Java_Development_Kit) (JDK), which contains both `java` and `javac`, along with a host of other development tools. The JDK is a superset of the JRE.\r\n\r\nYou must make sure **you have installed the JDK**. If you have only installed the JRE, you cannot execute `javac` because you do not have an installation of the Java compiler on your hard drive. Check your Windows programs list, and make sure the Java package&#39;s name includes the words &quot;Development Kit&quot; in it.\r\n\r\n# Don&#39;t use `set`\r\n\r\n*(If you weren&#39;t planning to anyway, feel free to skip this section.)*\r\n\r\nSeveral other answers recommend executing some variation of:\r\n\r\n    C:\\&gt;:: DON&#39;T DO THIS\r\n    C:\\&gt;set PATH=C:\\Program Files\\Java\\jdk1.7.0_09\\bin\r\n\r\nDo not do that. There are several major problems with that command:\r\n\r\n 1. This command **erases everything else** from `PATH` and replaces it with the Java path. After executing this command, you might find various other commands not working.\r\n 2. Your Java path **is probably not** `C:\\Program Files\\Java\\jdk1.7.0_09\\bin` – you almost definitely have a newer version of the JDK, which would have a different path.\r\n 3. The new `PATH` **only applies** to the current cmd session. You will have to reenter the `set` command every time you open Command Prompt.\r\n\r\nPoints #1 and #2 can be solved with this slightly better version:\r\n\r\n    C:\\&gt;:: DON&#39;T DO THIS EITHER\r\n    C:\\&gt;set PATH=C:\\Program Files\\Java\\&lt;enter the correct Java folder here&gt;\\bin;%PATH%\r\n\r\nBut it is just a bad idea in general.\r\n\r\n# Find the Java path\r\n\r\nThe right way begins with finding where you have installed Java. This depends on *how* you have installed Java.\r\n\r\n### Exe installer\r\n\r\nYou have installed Java by running a setup program. Oracle&#39;s installer places versions of Java  under `C:\\Program Files\\Java\\` (or `C:\\Program Files (x86)\\Java\\`). With File Explorer or Command Prompt, navigate to that directory.\r\n\r\nEach subfolder represents a version of Java. If there is only one, you have found it. Otherwise, choose the one that looks like the newer version. Make sure the folder name begins with `jdk` (as opposed to `jre`). Enter the directory.\r\n\r\nThen enter the `bin` directory of that.\r\n\r\nYou are now in the correct directory. Copy the path. If in File Explorer, click the address bar. If in Command Prompt, [copy](https://www.howtogeek.com/howto/25590/how-to-enable-ctrlv-for-pasting-in-the-windows-command-prompt/) the prompt.\r\n\r\nThe resulting Java path should be in the form of (without quotes):\r\n\r\n    C:\\Program Files\\Java\\jdkxxxx\\bin\\\r\n\r\n### Zip file\r\n\r\nYou have downloaded a .zip containing the JDK. Extract it to some random place where it won&#39;t get in your way; `C:\\Java\\` is an acceptable choice.\r\n\r\nThen locate the `bin` folder somewhere within it. \r\n\r\nYou are now in the correct directory. Copy its path. This is the Java path.\r\n\r\nRemember to never move the folder, as that would invalidate the path.\r\n\r\n# Open the settings dialog\r\n\r\n![](https://i.stack.imgur.com/2xZnZ.jpg)\r\n\r\nThat is the dialog to edit `PATH`. There are numerous ways to get to that dialog, depending on your Windows version, UI settings, and how messed up your system configuration is.\r\n\r\nTry some of these:\r\n\r\n - Start Menu/taskbar search box &#187; search for &quot;environment variable&quot;\r\n - Win + R &#187; `control sysdm.cpl,,3`\r\n - Win + R &#187; `SystemPropertiesAdvanced.exe` &#187; Environment Variables\r\n - File Explorer &#187; type into address bar `Control Panel\\System and Security\\System` &#187; Advanced System Settings (far left, in sidebar) &#187; Environment Variables\r\n - Desktop &#187; right-click This PC &#187; Properties &#187; Advanced System Settings &#187; Environment Variables\r\n - Start Menu &#187; right-click Computer &#187; Properties &#187; Advanced System Settings &#187; Environment Variables\r\n - Control Panel (icon mode) &#187; System &#187; Advanced System Settings &#187; Environment Variables\r\n - Control Panel (category mode) &#187; System and Security &#187; System &#187; Advanced System Settings &#187; Environment Variables\r\n - Desktop &#187; right-click My Computer &#187; Advanced &#187; Environment Variables\r\n - Control Panel &#187; System &#187; Advanced &#187; Environment Variables\r\n\r\nAny of these should take you to the right settings dialog.\r\n\r\nIf you are on Windows 10, Microsoft has blessed you with a [fancy new UI](https://betanews.com/2015/11/23/windows-10-finally-adds-a-new-path-editor/) to edit `PATH`. Otherwise, you will see `PATH` in its full semicolon-encrusted glory, squeezed into a single-line textbox. Do your best to make the necessary edits without breaking your system.\r\n\r\n# Clean `PATH`\r\n\r\nLook at `PATH`. You almost definitely have two `PATH` variables (because of user vs. system environment variables).  You need to look at both of them.\r\n\r\nCheck for **other Java paths** and remove them. Their existence can cause all sorts of conflicts. (For instance, if you have JRE 8 and JDK 11 in `PATH`, in that order, then `javac` will invoke the Java 11 compiler, which will create version 55 `.class` files, but `java` will invoke the Java 8 JVM, which only supports up to version 52, and you will experience [unsupported version errors](https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi) and not be able to compile and run any programs.) Sidestep these problems by making sure you only have one Java path in `PATH`. And while you&#39;re at it, you may as well [uninstall old Java versions](https://java.com/en/download/faq/remove_olderversions.xml), too. And remember that you [don&#39;t need to have](https://stackoverflow.com/questions/32988601/do-i-need-both-jdk-and-jre) both a JDK and a JRE.\r\n\r\nIf you have `C:\\ProgramData\\Oracle\\Java\\javapath`, **remove that as well**. Oracle intended to solve the problem of Java paths breaking after upgrades by creating a [symbolic link](https://en.wikipedia.org/wiki/Symbolic_link) that would always point to the latest Java installation. Unfortunately, it often ends up pointing to the wrong location or [simply not working](https://stackoverflow.com/questions/26864662/how-to-solve-the-error-the-system-cannot-find-the-file-c-programdata-oracle-ja). It is better to remove this entry and manually manage the Java path.\r\n\r\nNow is also a good opportunity to perform general housekeeping on `PATH`. If you have paths relating to software no longer installed on your PC, you can remove them. You can also shuffle the order of paths around (if you care about things like that).\r\n\r\n# Add to `PATH`\r\n\r\nNow take the Java path you found three steps ago, and place it in the system `PATH`.\r\n\r\nIt shouldn&#39;t matter where in the list your new path goes; placing it at the end is a fine choice.\r\n\r\nIf you are using the pre-Windows 10 UI, make sure you have placed the semicolons correctly. There should be exactly one separating every path in the list. \r\n\r\nThere really isn&#39;t much else to say here. Simply add the path to `PATH` and click OK.\r\n\r\n# Set `JAVA_HOME`\r\n\r\nWhile you&#39;re at it, you may as well set `JAVA_HOME` as well. This is another environment variable that should also contain the Java path. Many Java and non-Java programs, including the popular Java build systems [Maven](https://maven.apache.org/) and [Gradle](https://gradle.org/), will throw errors if it is not correctly set.\r\n\r\nIf `JAVA_HOME` does not exist, create it as a new system environment variable. Set it to the path of the Java directory without the `bin/` directory, i.e. `C:\\Program Files\\Java\\jdkxxxx\\`.\r\n\r\nRemember to edit `JAVA_HOME` after upgrading Java, too.\r\n\r\n# Close and re-open Command Prompt\r\n\r\nThough you have modified `PATH`, all running programs, including cmd, only see the old `PATH`. This is because the list of all environment variables is only copied into a program when it begins executing; thereafter, it only consults the cached copy.\r\n\r\nThere is no good way to [refresh cmd&#39;s environment variables](https://stackoverflow.com/questions/171588/is-there-a-command-to-refresh-environment-variables-from-the-command-prompt-in-w), so simply close Command Prompt and open it again. If you are using an IDE, close and re-open it too.\r\n\r\n# See also\r\n\r\n - [What are PATH and other environment variables, and how can I set or use them?](https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them)\r\n - [How do I set or change the PATH system variable?](https://java.com/en/download/help/path.xml)\r\n - [How to set the path and environment variables in Windows](https://www.computerhope.com/issues/ch000549.htm)\r\n - [How to set Path environment variables in Windows 10](https://www.addictivetips.com/windows-tips/set-path-environment-variables-in-windows-10/)","title":"javac is not recognized as an internal or external command, operable program or batch file","body":"\n\n<h1>TL;DR</h1>\n\n<p>For experienced readers:</p>\n\n<ol>\n<li>Find the Java path; it looks like this: <code>C:\\Program Files\\Java\\jdkxxxx\\bin\\</code></li>\n<li>Start-menu search for \"environment variable\" to open the options dialog.</li>\n<li>Examine <code>PATH</code>. Remove old Java paths.</li>\n<li>Add the new Java path to <code>PATH</code>.</li>\n<li>Edit <code>JAVA_HOME</code>.</li>\n<li>Close and re-open console/IDE.</li>\n</ol>\n\n<hr>\n\n<p>Welcome!</p>\n\n<p>You have encountered one of the most notorious technical issues facing Java beginners: the <code>'xyz' is not recognized as an internal or external command...</code> error message.</p>\n\n<p>In a nutshell, <strong>you have not installed Java correctly</strong>. Finalizing the installation of Java on Windows requires some manual steps. You must always perform these steps after installing Java, including after upgrading the JDK.</p>\n\n<h1>Environment variables and <code>PATH</code></h1>\n\n<p><em>(If you already understand this, feel free to skip the next three sections.)</em></p>\n\n<p>When you run <code>javac HelloWorld.java</code>, cmd must determine where <code>javac.exe</code> is located. This is accomplished with <code>PATH</code>, an environment variable.</p>\n\n<p>An <a href=\"https://en.wikipedia.org/wiki/Environment_variable\" rel=\"noreferrer\"><em>environment variable</em></a> is a special key-value pair (e.g. <code>windir=C:\\WINDOWS</code>). Most came with the operating system, and some are required for proper system functioning. A list of them is passed to every program (including cmd) when it starts. <a href=\"https://ss64.com/nt/syntax-variables.html\" rel=\"noreferrer\">On Windows</a>, there are <a href=\"https://stackoverflow.com/questions/4477660/what-is-the-difference-between-user-variables-and-system-variables\">two types</a>: <em>user environment variables</em> and <em>system environment variables</em>.</p>\n\n<p>You can see your environment variables like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;set\nALLUSERSPROFILE=C:\\ProgramData\nAPPDATA=C:\\Users\\craig\\AppData\\Roaming\nCommonProgramFiles=C:\\Program Files\\Common Files\nCommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\nCommonProgramW6432=C:\\Program Files\\Common Files\n...\n</code></pre>\n\n<p>The most important variable is <a href=\"https://en.wikipedia.org/wiki/PATH_(variable)\" rel=\"noreferrer\"><code>PATH</code></a>. It is a list of paths, separated by <code>;</code>. When a command is entered into cmd, each directory in the list will be scanned for a matching executable.</p>\n\n<p>On my computer, <code>PATH</code> is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;echo %PATH%\nC:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPower\nShell\\v1.0\\;C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs;C:\\Users\\craig\\AppData\\\nRoaming\\Microsoft\\Windows\\Start Menu\\Programs;C:\\msys64\\usr\\bin;C:\\msys64\\mingw64\\bin;C:\\\nmsys64\\mingw32\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Yarn\\bin\\;C:\\Users\\\ncraig\\AppData\\Local\\Yarn\\bin;C:\\Program Files\\Java\\jdk-10.0.2\\bin;C:\\ProgramFiles\\Git\\cmd;\nC:\\Program Files\\Oracle\\VirtualBox;C:\\Program Files\\7-Zip\\;C:\\Program Files\\PuTTY\\;C:\\\nProgram Files\\launch4j;C:\\Program Files (x86)\\NSIS\\Bin;C:\\Program Files (x86)\\Common Files\n\\Adobe\\AGL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program\nFiles\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\iCLS Client\\;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\n(x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\Intel\\iCLS\nClient\\;C:\\Users\\craig\\AppData\\Local\\Microsoft\\WindowsApps\n</code></pre>\n\n<p>When you run <code>javac HelloWorld.java</code>, cmd, upon realizing that <code>javac</code> is not an <a href=\"https://ss64.com/nt/syntax-internal.html\" rel=\"noreferrer\">internal command</a>, searches the <a href=\"https://superuser.com/questions/867728/user-vs-system-environment-variables-do-system-variables-override-user-variabl\">system <code>PATH</code> followed by the user <code>PATH</code></a>. It mechanically enters every directory in the list, and checks if <a href=\"https://www.nextofwindows.com/what-is-pathext-environment-variable-in-windows\" rel=\"noreferrer\"><code>javac.com</code>, <code>javac.exe</code>, <code>javac.bat</code>, etc.</a> is present. When it finds <code>javac</code>, it runs it. When it does not, it prints <code>'javac' is not recognized as an internal or external command, operable program or batch file.</code></p>\n\n<p>You must add the Java executables directory to <code>PATH</code>.</p>\n\n<h1>JDK vs. JRE</h1>\n\n<p><em>(If you already understand this, feel free to skip this section.)</em></p>\n\n<p>When downloading Java, you are offered a choice between:</p>\n\n<ul>\n<li>The <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine#Java_Runtime_Environment\" rel=\"noreferrer\">Java Runtime Environment</a> (JRE), which includes the necessary tools to run Java programs, but <em>not</em> to compile new ones – it contains <code>java</code> but not <code>javac</code>.</li>\n<li>The <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"noreferrer\">Java Development Kit</a> (JDK), which contains both <code>java</code> and <code>javac</code>, along with a host of other development tools. The JDK is a superset of the JRE.</li>\n</ul>\n\n<p>You must make sure <strong>you have installed the JDK</strong>. If you have only installed the JRE, you cannot execute <code>javac</code> because you do not have an installation of the Java compiler on your hard drive. Check your Windows programs list, and make sure the Java package's name includes the words \"Development Kit\" in it.</p>\n\n<h1>Don't use <code>set</code></h1>\n\n<p><em>(If you weren't planning to anyway, feel free to skip this section.)</em></p>\n\n<p>Several other answers recommend executing some variation of:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;:: DON'T DO THIS\nC:\\&gt;set PATH=C:\\Program Files\\Java\\jdk1.7.0_09\\bin\n</code></pre>\n\n<p>Do not do that. There are several major problems with that command:</p>\n\n<ol>\n<li>This command <strong>erases everything else</strong> from <code>PATH</code> and replaces it with the Java path. After executing this command, you might find various other commands not working.</li>\n<li>Your Java path <strong>is probably not</strong> <code>C:\\Program Files\\Java\\jdk1.7.0_09\\bin</code> – you almost definitely have a newer version of the JDK, which would have a different path.</li>\n<li>The new <code>PATH</code> <strong>only applies</strong> to the current cmd session. You will have to reenter the <code>set</code> command every time you open Command Prompt.</li>\n</ol>\n\n<p>Points #1 and #2 can be solved with this slightly better version:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;:: DON'T DO THIS EITHER\nC:\\&gt;set PATH=C:\\Program Files\\Java\\&lt;enter the correct Java folder here&gt;\\bin;%PATH%\n</code></pre>\n\n<p>But it is just a bad idea in general.</p>\n\n<h1>Find the Java path</h1>\n\n<p>The right way begins with finding where you have installed Java. This depends on <em>how</em> you have installed Java.</p>\n\n<h3>Exe installer</h3>\n\n<p>You have installed Java by running a setup program. Oracle's installer places versions of Java  under <code>C:\\Program Files\\Java\\</code> (or <code>C:\\Program Files (x86)\\Java\\</code>). With File Explorer or Command Prompt, navigate to that directory.</p>\n\n<p>Each subfolder represents a version of Java. If there is only one, you have found it. Otherwise, choose the one that looks like the newer version. Make sure the folder name begins with <code>jdk</code> (as opposed to <code>jre</code>). Enter the directory.</p>\n\n<p>Then enter the <code>bin</code> directory of that.</p>\n\n<p>You are now in the correct directory. Copy the path. If in File Explorer, click the address bar. If in Command Prompt, <a href=\"https://www.howtogeek.com/howto/25590/how-to-enable-ctrlv-for-pasting-in-the-windows-command-prompt/\" rel=\"noreferrer\">copy</a> the prompt.</p>\n\n<p>The resulting Java path should be in the form of (without quotes):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files\\Java\\jdkxxxx\\bin\\\n</code></pre>\n\n<h3>Zip file</h3>\n\n<p>You have downloaded a .zip containing the JDK. Extract it to some random place where it won't get in your way; <code>C:\\Java\\</code> is an acceptable choice.</p>\n\n<p>Then locate the <code>bin</code> folder somewhere within it. </p>\n\n<p>You are now in the correct directory. Copy its path. This is the Java path.</p>\n\n<p>Remember to never move the folder, as that would invalidate the path.</p>\n\n<h1>Open the settings dialog</h1>\n\n<p><img src=\"https://i.stack.imgur.com/2xZnZ.jpg\" alt=\"\"></p>\n\n<p>That is the dialog to edit <code>PATH</code>. There are numerous ways to get to that dialog, depending on your Windows version, UI settings, and how messed up your system configuration is.</p>\n\n<p>Try some of these:</p>\n\n<ul>\n<li>Start Menu/taskbar search box » search for \"environment variable\"</li>\n<li>Win + R » <code>control sysdm.cpl,,3</code></li>\n<li>Win + R » <code>SystemPropertiesAdvanced.exe</code> » Environment Variables</li>\n<li>File Explorer » type into address bar <code>Control Panel\\System and Security\\System</code> » Advanced System Settings (far left, in sidebar) » Environment Variables</li>\n<li>Desktop » right-click This PC » Properties » Advanced System Settings » Environment Variables</li>\n<li>Start Menu » right-click Computer » Properties » Advanced System Settings » Environment Variables</li>\n<li>Control Panel (icon mode) » System » Advanced System Settings » Environment Variables</li>\n<li>Control Panel (category mode) » System and Security » System » Advanced System Settings » Environment Variables</li>\n<li>Desktop » right-click My Computer » Advanced » Environment Variables</li>\n<li>Control Panel » System » Advanced » Environment Variables</li>\n</ul>\n\n<p>Any of these should take you to the right settings dialog.</p>\n\n<p>If you are on Windows 10, Microsoft has blessed you with a <a href=\"https://betanews.com/2015/11/23/windows-10-finally-adds-a-new-path-editor/\" rel=\"noreferrer\">fancy new UI</a> to edit <code>PATH</code>. Otherwise, you will see <code>PATH</code> in its full semicolon-encrusted glory, squeezed into a single-line textbox. Do your best to make the necessary edits without breaking your system.</p>\n\n<h1>Clean <code>PATH</code></h1>\n\n<p>Look at <code>PATH</code>. You almost definitely have two <code>PATH</code> variables (because of user vs. system environment variables).  You need to look at both of them.</p>\n\n<p>Check for <strong>other Java paths</strong> and remove them. Their existence can cause all sorts of conflicts. (For instance, if you have JRE 8 and JDK 11 in <code>PATH</code>, in that order, then <code>javac</code> will invoke the Java 11 compiler, which will create version 55 <code>.class</code> files, but <code>java</code> will invoke the Java 8 JVM, which only supports up to version 52, and you will experience <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">unsupported version errors</a> and not be able to compile and run any programs.) Sidestep these problems by making sure you only have one Java path in <code>PATH</code>. And while you're at it, you may as well <a href=\"https://java.com/en/download/faq/remove_olderversions.xml\" rel=\"noreferrer\">uninstall old Java versions</a>, too. And remember that you <a href=\"https://stackoverflow.com/questions/32988601/do-i-need-both-jdk-and-jre\">don't need to have</a> both a JDK and a JRE.</p>\n\n<p>If you have <code>C:\\ProgramData\\Oracle\\Java\\javapath</code>, <strong>remove that as well</strong>. Oracle intended to solve the problem of Java paths breaking after upgrades by creating a <a href=\"https://en.wikipedia.org/wiki/Symbolic_link\" rel=\"noreferrer\">symbolic link</a> that would always point to the latest Java installation. Unfortunately, it often ends up pointing to the wrong location or <a href=\"https://stackoverflow.com/questions/26864662/how-to-solve-the-error-the-system-cannot-find-the-file-c-programdata-oracle-ja\">simply not working</a>. It is better to remove this entry and manually manage the Java path.</p>\n\n<p>Now is also a good opportunity to perform general housekeeping on <code>PATH</code>. If you have paths relating to software no longer installed on your PC, you can remove them. You can also shuffle the order of paths around (if you care about things like that).</p>\n\n<h1>Add to <code>PATH</code></h1>\n\n<p>Now take the Java path you found three steps ago, and place it in the system <code>PATH</code>.</p>\n\n<p>It shouldn't matter where in the list your new path goes; placing it at the end is a fine choice.</p>\n\n<p>If you are using the pre-Windows 10 UI, make sure you have placed the semicolons correctly. There should be exactly one separating every path in the list. </p>\n\n<p>There really isn't much else to say here. Simply add the path to <code>PATH</code> and click OK.</p>\n\n<h1>Set <code>JAVA_HOME</code></h1>\n\n<p>While you're at it, you may as well set <code>JAVA_HOME</code> as well. This is another environment variable that should also contain the Java path. Many Java and non-Java programs, including the popular Java build systems <a href=\"https://maven.apache.org/\" rel=\"noreferrer\">Maven</a> and <a href=\"https://gradle.org/\" rel=\"noreferrer\">Gradle</a>, will throw errors if it is not correctly set.</p>\n\n<p>If <code>JAVA_HOME</code> does not exist, create it as a new system environment variable. Set it to the path of the Java directory without the <code>bin/</code> directory, i.e. <code>C:\\Program Files\\Java\\jdkxxxx\\</code>.</p>\n\n<p>Remember to edit <code>JAVA_HOME</code> after upgrading Java, too.</p>\n\n<h1>Close and re-open Command Prompt</h1>\n\n<p>Though you have modified <code>PATH</code>, all running programs, including cmd, only see the old <code>PATH</code>. This is because the list of all environment variables is only copied into a program when it begins executing; thereafter, it only consults the cached copy.</p>\n\n<p>There is no good way to <a href=\"https://stackoverflow.com/questions/171588/is-there-a-command-to-refresh-environment-variables-from-the-command-prompt-in-w\">refresh cmd's environment variables</a>, so simply close Command Prompt and open it again. If you are using an IDE, close and re-open it too.</p>\n\n<h1>See also</h1>\n\n<ul>\n<li><a href=\"https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them\">What are PATH and other environment variables, and how can I set or use them?</a></li>\n<li><a href=\"https://java.com/en/download/help/path.xml\" rel=\"noreferrer\">How do I set or change the PATH system variable?</a></li>\n<li><a href=\"https://www.computerhope.com/issues/ch000549.htm\" rel=\"noreferrer\">How to set the path and environment variables in Windows</a></li>\n<li><a href=\"https://www.addictivetips.com/windows-tips/set-path-environment-variables-in-windows-10/\" rel=\"noreferrer\">How to set Path environment variables in Windows 10</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1913293,"reputation":69,"user_id":1726505,"display_name":"Umrao Rawat"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1349604756,"creation_date":1349604526,"answer_id":12767855,"question_id":7709041,"body_markdown":"If java command is working and getting problem with javac. then first check in jdk&#39;s bin directory javac.exe file is there or not.\r\nIf javac.exe file is exist then set `JAVA_HOME` as System variable.","title":"javac is not recognized as an internal or external command, operable program or batch file","body":"<p>If java command is working and getting problem with javac. then first check in jdk's bin directory javac.exe file is there or not.\nIf javac.exe file is exist then set <code>JAVA_HOME</code> as System variable.</p>\n"},{"tags":[],"owner":{"account_id":1865633,"reputation":412,"user_id":1689288,"display_name":"wabisabit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357476973,"creation_date":1357476973,"answer_id":14182350,"question_id":7709041,"body_markdown":"Check your environment variables.\r\n\r\nIn my case I had JAVA_HOME set in the **System variables** as well as in my **User Account** variables and the latter was set to a **wrong version of Java**. I also had the same problem with the Path variable.\r\n\r\nAfter **deleting JAVA_HOME from my User Account** variables and removing the wrong path from the Path variable it worked correctly.\r\n","title":"javac is not recognized as an internal or external command, operable program or batch file","body":"<p>Check your environment variables.</p>\n\n<p>In my case I had JAVA_HOME set in the <strong>System variables</strong> as well as in my <strong>User Account</strong> variables and the latter was set to a <strong>wrong version of Java</strong>. I also had the same problem with the Path variable.</p>\n\n<p>After <strong>deleting JAVA_HOME from my User Account</strong> variables and removing the wrong path from the Path variable it worked correctly.</p>\n"},{"tags":[],"owner":{"account_id":2342481,"reputation":1289,"user_id":2053461,"accept_rate":83,"display_name":"Ahmad Azwar Anas"},"comment_count":0,"down_vote_count":2,"up_vote_count":80,"is_accepted":false,"score":78,"last_activity_date":1483802488,"creation_date":1368613653,"answer_id":16562626,"question_id":7709041,"body_markdown":"try this.. \r\nI had it too but now it solved in XP..\r\n\r\n    C:\\ YourFolder &gt;set path=C:\\Program Files\\Java\\jdk1.7.0_09\\bin;\r\n    C:\\ YourFolder &gt;javac YourCode.java\r\n","title":"javac is not recognized as an internal or external command, operable program or batch file","body":"<p>try this.. \nI had it too but now it solved in XP..</p>\n\n<pre><code>C:\\ YourFolder &gt;set path=C:\\Program Files\\Java\\jdk1.7.0_09\\bin;\nC:\\ YourFolder &gt;javac YourCode.java\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677609355,"post_id":21036645,"comment_id":133370734,"body_markdown":"This is not recommended as it overrides all other PATH options","body":"This is not recommended as it overrides all other PATH options"}],"tags":[],"owner":{"account_id":3314218,"reputation":296,"user_id":2786937,"accept_rate":50,"display_name":"fresher"},"comment_count":1,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1677609341,"creation_date":1389330912,"answer_id":21036645,"question_id":7709041,"body_markdown":"Run the following from the command prompt for the version of Java you have installed: \r\n```\r\nset Path=&quot;C:\\Program Files\\Java\\jdk1.7.0_09\\bin&quot;\r\n```\r\nor\r\n```\r\nset PATH=&quot;C:\\Program Files\\Java\\jdk1.7.0_09\\bin&quot;\r\n```\r\n\r\nI have tried this and it works well.","title":"javac is not recognized as an internal or external command, operable program or batch file","body":"<p>Run the following from the command prompt for the version of Java you have installed:</p>\n<pre><code>set Path=&quot;C:\\Program Files\\Java\\jdk1.7.0_09\\bin&quot;\n</code></pre>\n<p>or</p>\n<pre><code>set PATH=&quot;C:\\Program Files\\Java\\jdk1.7.0_09\\bin&quot;\n</code></pre>\n<p>I have tried this and it works well.</p>\n"}],"owner":{"account_id":963263,"reputation":2957,"user_id":987137,"display_name":"user987137"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1380599,"favorite_count":0,"down_vote_count":2,"up_vote_count":296,"closed_date":1396110092,"answer_count":6,"score":294,"last_activity_date":1677609341,"creation_date":1318226408,"question_id":7709041,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\nI am experiencing an error while trying to compile Java programs. \r\n\r\nI am on Windows (this is a Windows-specific problem) and I have the latest JDK installed.\r\n\r\nI have attempted a solution involving the `PATH` variable, but the error persists.\r\n\r\nConsole output:\r\n\r\n    C:\\&gt;set path=C:Program Files (x86)\\Java\\jdk1.7.0\\bin\r\n    C:\\&gt;javac Hello.java\r\n    &#39;javac&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.","title":"javac is not recognized as an internal or external command, operable program or batch file","body":"\n\n<p>I am experiencing an error while trying to compile Java programs. </p>\n\n<p>I am on Windows (this is a Windows-specific problem) and I have the latest JDK installed.</p>\n\n<p>I have attempted a solution involving the <code>PATH</code> variable, but the error persists.</p>\n\n<p>Console output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;set path=C:Program Files (x86)\\Java\\jdk1.7.0\\bin\nC:\\&gt;javac Hello.java\n'javac' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n"},{"tags":["java","linux","grep","processbuilder"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677592107,"post_id":75592893,"comment_id":133365312,"body_markdown":"I didn&#39;t test it, so no full answer, but could it be that `proc.getInputStream().readAllBytes()` just reads all bytes that are available *at the time of calling* and sometimes the bytes are just coming in after that? I would get the input stream, but consume it fully after the process has finished.","body":"I didn&#39;t test it, so no full answer, but could it be that <code>proc.getInputStream().readAllBytes()</code> just reads all bytes that are available <i>at the time of calling</i> and sometimes the bytes are just coming in after that? I would get the input stream, but consume it fully after the process has finished."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677594069,"post_id":75592893,"comment_id":133365925,"body_markdown":"But just as I read this: are you sure you need a java wrapper around grep here? Can you maybe extract the IDs to scan into a file and then use `xargs` to execute `grep`, and then cut the required results with `cut`? Can&#39;t tell exactly, because you only described the problem in the approach you took, not the overall goal","body":"But just as I read this: are you sure you need a java wrapper around grep here? Can you maybe extract the IDs to scan into a file and then use <code>xargs</code> to execute <code>grep</code>, and then cut the required results with <code>cut</code>? Can&#39;t tell exactly, because you only described the problem in the approach you took, not the overall goal"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1677594454,"post_id":75592893,"comment_id":133366080,"body_markdown":"It&#39;s important to consume both inputstreams corectly, maybe my articel could help you: https://thilosdevblog.wordpress.com/2022/09/18/how-to-properly-handle-the-output-of-the-processbuilder/","body":"It&#39;s important to consume both inputstreams corectly, maybe my articel could help you: <a href=\"https://thilosdevblog.wordpress.com/2022/09/18/how-to-properly-handle-the-output-of-the-processbuilder/\" rel=\"nofollow noreferrer\">thilosdevblog.wordpress.com/2022/09/18/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1677594960,"post_id":75592893,"comment_id":133366277,"body_markdown":"No need to use grep.  You have Java.  Use `boolean match = Files.list(Path.of(&quot;/media/newdrive&quot;)).anyMatch(file -&gt; Files.lines(file).anyMatch(s -&gt; s.contains(rsGID)));` instead.  As a bonus, this makes your code multi-platform.","body":"No need to use grep.  You have Java.  Use <code>boolean match = Files.list(Path.of(&quot;&#47;media&#47;newdrive&quot;)).anyMatch(file -&gt; Files.lines(file).anyMatch(s -&gt; s.contains(rsGID)));</code> instead.  As a bonus, this makes your code multi-platform."}],"owner":{"account_id":10609809,"reputation":85,"user_id":7814070,"display_name":"Rubens Amaral"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677609221,"creation_date":1677591809,"question_id":75592893,"body_markdown":"I found similar questions here at SO, but no solution worked for me.\r\n\r\nMy code is\r\n\r\n    ResultSet rs = stmt.executeQuery();\r\n    int ret = 0;\r\n    while (rs.next()) {\r\n        int rsID = rs.getInt(&quot;ID&quot;);\r\n        String rsGID = rs.getString(&quot;GID&quot;);\r\n        logger.log(Level.INFO, &quot;&quot;);\r\n        logger.log(Level.INFO, &quot;ID / GID: {0}&quot;, rsID + &quot; / &quot; + rsGID);\r\n        ProcessBuilder builder = new ProcessBuilder(new String[] { &quot;bash&quot;, &quot;-c&quot;, &quot;grep &quot; + rsGID + &quot; /media/newdrive/*&quot;});\r\n        Process proc = builder.redirectErrorStream(true).start();\r\n        //while (proc.isAlive());\r\n        String smatch = StringEscapeUtils.unescapeXml(new String(proc.getInputStream().readAllBytes(), StandardCharsets.UTF_8)).replaceAll(&quot;\\\\R&quot;, &quot;&quot;);\r\n        ret = proc.waitFor();\r\n        String sURL = StringUtils.substringBefore(StringUtils.substringAfter(smatch, &quot;&lt;loc&gt;&quot;), &quot;&lt;/loc&gt;&quot;);\r\n        String sField = StringUtils.substringAfterLast(StringUtils.substringBefore(smatch, &quot;.&quot;), &quot;/&quot;).replaceAll(&quot;[0-9_]&quot;, &quot;&quot;);\r\n        logger.log(Level.INFO, &quot;URL: {0}&quot;, rsID + &quot; / &quot; + sURL);\r\n        logger.log(Level.INFO, &quot;Field: {0}&quot;, rsID + &quot; / &quot; + sField);\r\n        proc.destroy();\r\n    }\r\n    rs.close();\r\n\r\nWhat happens is that I get randomly an empty outcome for the first pair of results:\r\n\r\n[![Two sets of outcomes][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7PCv6.png\r\n\r\nMy **workaround** is to call isAlive method within a while loop. So, in my code as I uncomment it and comment waitFor line, I always get the first pair of results.\r\n\r\nAm I misusing waitFor? Looks like lots of developers face the same problem.\r\n\r\nGuidance will be appreciated.\r\n\r\nBTW, I choose to use native grep because of performance matters. We have 100+ XML files, with ~200,000 lines each and 1000+ GID to match periodically.\r\n\r\n**UPDATE**\r\n\r\nI change the code to\r\n\r\n    ByteArrayOutputStream outError = new ByteArrayOutputStream();                \r\n    Process proc = builder.redirectErrorStream(false).start();\r\n    proc.getErrorStream().transferTo(outError);\r\n\r\nbut no luck, I still receive empty results once in a while.\r\n\r\nSo, finally after many tests, even `while (proc.isAlive());` fails.\r\n\r\nFor now I put a block of code before the ResultSet loop, that starts and end a Process with fake data. As those empty random results appeared only on first Process execution, now I have always reliable data being created inside the ResultSet loop. Extensively tested.","title":"Why inputStream randomly comes empty while capturing the output from ProcessBuilder?","body":"<p>I found similar questions here at SO, but no solution worked for me.</p>\n<p>My code is</p>\n<pre><code>ResultSet rs = stmt.executeQuery();\nint ret = 0;\nwhile (rs.next()) {\n    int rsID = rs.getInt(&quot;ID&quot;);\n    String rsGID = rs.getString(&quot;GID&quot;);\n    logger.log(Level.INFO, &quot;&quot;);\n    logger.log(Level.INFO, &quot;ID / GID: {0}&quot;, rsID + &quot; / &quot; + rsGID);\n    ProcessBuilder builder = new ProcessBuilder(new String[] { &quot;bash&quot;, &quot;-c&quot;, &quot;grep &quot; + rsGID + &quot; /media/newdrive/*&quot;});\n    Process proc = builder.redirectErrorStream(true).start();\n    //while (proc.isAlive());\n    String smatch = StringEscapeUtils.unescapeXml(new String(proc.getInputStream().readAllBytes(), StandardCharsets.UTF_8)).replaceAll(&quot;\\\\R&quot;, &quot;&quot;);\n    ret = proc.waitFor();\n    String sURL = StringUtils.substringBefore(StringUtils.substringAfter(smatch, &quot;&lt;loc&gt;&quot;), &quot;&lt;/loc&gt;&quot;);\n    String sField = StringUtils.substringAfterLast(StringUtils.substringBefore(smatch, &quot;.&quot;), &quot;/&quot;).replaceAll(&quot;[0-9_]&quot;, &quot;&quot;);\n    logger.log(Level.INFO, &quot;URL: {0}&quot;, rsID + &quot; / &quot; + sURL);\n    logger.log(Level.INFO, &quot;Field: {0}&quot;, rsID + &quot; / &quot; + sField);\n    proc.destroy();\n}\nrs.close();\n</code></pre>\n<p>What happens is that I get randomly an empty outcome for the first pair of results:</p>\n<p><a href=\"https://i.stack.imgur.com/7PCv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7PCv6.png\" alt=\"Two sets of outcomes\" /></a></p>\n<p>My <strong>workaround</strong> is to call isAlive method within a while loop. So, in my code as I uncomment it and comment waitFor line, I always get the first pair of results.</p>\n<p>Am I misusing waitFor? Looks like lots of developers face the same problem.</p>\n<p>Guidance will be appreciated.</p>\n<p>BTW, I choose to use native grep because of performance matters. We have 100+ XML files, with ~200,000 lines each and 1000+ GID to match periodically.</p>\n<p><strong>UPDATE</strong></p>\n<p>I change the code to</p>\n<pre><code>ByteArrayOutputStream outError = new ByteArrayOutputStream();                \nProcess proc = builder.redirectErrorStream(false).start();\nproc.getErrorStream().transferTo(outError);\n</code></pre>\n<p>but no luck, I still receive empty results once in a while.</p>\n<p>So, finally after many tests, even <code>while (proc.isAlive());</code> fails.</p>\n<p>For now I put a block of code before the ResultSet loop, that starts and end a Process with fake data. As those empty random results appeared only on first Process execution, now I have always reliable data being created inside the ResultSet loop. Extensively tested.</p>\n"},{"tags":["java","hibernate","rest","crud","quarkus"],"answers":[{"comments":[{"owner":{"account_id":1322783,"reputation":640,"user_id":1268220,"accept_rate":77,"display_name":"Didar Burmaganov"},"score":0,"creation_date":1677953513,"post_id":75596013,"comment_id":133440596,"body_markdown":"managed entities are automatically saved, as i remember there is no way to make detached entity managed, but you can create new object which is managed and will be saved automatically using merge without any additional operations\n\nvar merged = entityManager.merge(settings); // &quot;merged&quot; - managed if you call setters - hibernate will apply that changes also.\n\nso short answer would be: if ID is null then use persist else merge for detached entities","body":"managed entities are automatically saved, as i remember there is no way to make detached entity managed, but you can create new object which is managed and will be saved automatically using merge without any additional operations  var merged = entityManager.merge(settings); // &quot;merged&quot; - managed if you call setters - hibernate will apply that changes also.  so short answer would be: if ID is null then use persist else merge for detached entities"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677609135,"creation_date":1677609135,"answer_id":75596013,"question_id":75595035,"body_markdown":"This is how Hibernate works. In your case you will need to read the entity from the database first (by id). With EntityManager.find(). Then replace all properties other then id with the ones from the request. Then store the modified entity in the database with EntityManager.merge().\r\n\r\nJust a hint: with Spring Framework it would be much easier using CrudRepository.","title":"How to update a detached entity containing the ID with hibernate EntityManager?","body":"<p>This is how Hibernate works. In your case you will need to read the entity from the database first (by id). With EntityManager.find(). Then replace all properties other then id with the ones from the request. Then store the modified entity in the database with EntityManager.merge().</p>\n<p>Just a hint: with Spring Framework it would be much easier using CrudRepository.</p>\n"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596013,"answer_count":1,"score":0,"last_activity_date":1677609135,"creation_date":1677603083,"question_id":75595035,"body_markdown":"I am developing a REST API with Quarkus and Hibernate. I now have to create an endpoint which accepts a PUT request to update an existing entity. The request contains the entire entity, with its corresponding ID in the database. \r\n\r\nResource endpoint:\r\n\r\n    @PUT\r\n    @Path(&quot;/&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Settings update(@Valid Settings settings) {\r\n        return settingRepository.update(settings);\r\n    }\r\n\r\nRepository class method:\r\n\r\n    @Transactional\r\n    public Settings update(Settings settings) {\r\n        // This is just for test purposes, other methods like\r\n        // entityManager.merge() did not work although it has the PK, bc it is not &quot;attached&quot;\r\n        // If i pass the object to merge() without the PK, a new PK is generated.\r\n        entityManager.unwrap(Session.class).update(settings);\r\n        return settings;\r\n    }\r\n\r\nSo the endpoint will receive a parsed POJO for the database mapped entity. The problem is, this entity object is not &quot;attached&quot; and it seems neither the `merge` nor the `persist` function of `EntityManager` do what i need. I need to pass the object and for it to be UPDATED based on the primary key present. \r\n\r\nI tried looking at the `Session` class of hibernate, since it contains more utility functions like `update`, `saveOrUpdate` etc., but those result in error like unique constraint psql exceptions for the primary key - which makes me think it is tryinf to perform an INSERT rather than an update. \r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;settings_pkey&quot;\r\n      Detail: Key (id)=(1) already exists.\r\n\r\nOf course, i could simply create a manual DQL query and pass all of the members as parameters, but this seems oddly inefficient from a developer POV. There has to be an easy and straightforward way for this seemingly common task? There is no method in `EntityManager` to only make an entity &quot;managed/attached&quot; without any side effects so it just doesnt cause issues with merge. I also do not want to first have to **SELECT** the entity from the DB by PK, then change it, then save the change back. Seems like an unnecessary roundtrip.","title":"How to update a detached entity containing the ID with hibernate EntityManager?","body":"<p>I am developing a REST API with Quarkus and Hibernate. I now have to create an endpoint which accepts a PUT request to update an existing entity. The request contains the entire entity, with its corresponding ID in the database.</p>\n<p>Resource endpoint:</p>\n<pre><code>@PUT\n@Path(&quot;/&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Settings update(@Valid Settings settings) {\n    return settingRepository.update(settings);\n}\n</code></pre>\n<p>Repository class method:</p>\n<pre><code>@Transactional\npublic Settings update(Settings settings) {\n    // This is just for test purposes, other methods like\n    // entityManager.merge() did not work although it has the PK, bc it is not &quot;attached&quot;\n    // If i pass the object to merge() without the PK, a new PK is generated.\n    entityManager.unwrap(Session.class).update(settings);\n    return settings;\n}\n</code></pre>\n<p>So the endpoint will receive a parsed POJO for the database mapped entity. The problem is, this entity object is not &quot;attached&quot; and it seems neither the <code>merge</code> nor the <code>persist</code> function of <code>EntityManager</code> do what i need. I need to pass the object and for it to be UPDATED based on the primary key present.</p>\n<p>I tried looking at the <code>Session</code> class of hibernate, since it contains more utility functions like <code>update</code>, <code>saveOrUpdate</code> etc., but those result in error like unique constraint psql exceptions for the primary key - which makes me think it is tryinf to perform an INSERT rather than an update.</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;settings_pkey&quot;\n  Detail: Key (id)=(1) already exists.\n</code></pre>\n<p>Of course, i could simply create a manual DQL query and pass all of the members as parameters, but this seems oddly inefficient from a developer POV. There has to be an easy and straightforward way for this seemingly common task? There is no method in <code>EntityManager</code> to only make an entity &quot;managed/attached&quot; without any side effects so it just doesnt cause issues with merge. I also do not want to first have to <strong>SELECT</strong> the entity from the DB by PK, then change it, then save the change back. Seems like an unnecessary roundtrip.</p>\n"},{"tags":["java","spring","properties","configuration"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677515979,"post_id":75582479,"comment_id":133348781,"body_markdown":"Depending on the exact situation, [Spring profiles](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles) might be a viable solution. To provide a more concrete answer I&#39;d need to have more details about exactly how you want to use the properties you want to load based on configuration.","body":"Depending on the exact situation, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles\" rel=\"nofollow noreferrer\">Spring profiles</a> might be a viable solution. To provide a more concrete answer I&#39;d need to have more details about exactly how you want to use the properties you want to load based on configuration."},{"owner":{"account_id":25678068,"reputation":1,"user_id":19441205,"display_name":"eim equipazo"},"score":0,"creation_date":1677573102,"post_id":75582479,"comment_id":133359648,"body_markdown":"@E-Riz Basically, I load a list of properties file paths after execution (`List&lt;String&gt;configLocations = loadConfigLocations()`) . I need to load all those properties so they could be available through annotations `@Value(&quot;${....` and through the `Environment.getProperty(name)` method.","body":"@E-Riz Basically, I load a list of properties file paths after execution (<code>List&lt;String&gt;configLocations = loadConfigLocations()</code>) . I need to load all those properties so they could be available through annotations <code>@Value(&quot;${....</code> and through the <code>Environment.getProperty(name)</code> method."}],"answers":[{"comments":[{"owner":{"account_id":25678068,"reputation":1,"user_id":19441205,"display_name":"eim equipazo"},"score":0,"creation_date":1677573589,"post_id":75584880,"comment_id":133359768,"body_markdown":"I have read that the properties update is delicate, because some beans like DataSources may need them, and so on. So I am trying find a way of properly initialize them at the beginning of the app start, but I don&#39;t know how.\n\nI am trying now with a custom `ApplicationContextInitializer.initialize()`, but it is not working either.","body":"I have read that the properties update is delicate, because some beans like DataSources may need them, and so on. So I am trying find a way of properly initialize them at the beginning of the app start, but I don&#39;t know how.  I am trying now with a custom <code>ApplicationContextInitializer.initialize()</code>, but it is not working either."},{"owner":{"account_id":5987609,"reputation":1,"user_id":4704690,"display_name":"taral shah"},"score":0,"creation_date":1677608784,"post_id":75584880,"comment_id":133370592,"body_markdown":"Please provide more details so I can analyze more. A git repo url would be helpful.","body":"Please provide more details so I can analyze more. A git repo url would be helpful."}],"tags":[],"owner":{"account_id":5987609,"reputation":1,"user_id":4704690,"display_name":"taral shah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677608844,"creation_date":1677526929,"answer_id":75584880,"question_id":75582479,"body_markdown":"You can use ApplicationStartedEvent or ApplicationReadyEvent and update your properties as per your requirement. \r\n\r\nOptionally, you can use `CommandLineRunner` interface also.\r\n\r\nThey will be running in the following order\r\n\r\n    ApplicationStartedEvent \r\n    CommandLinerRunner\r\n    ApplicationReadyEvent\r\n\r\n","title":"How to load an unknown list of property files in Spring","body":"<p>You can use ApplicationStartedEvent or ApplicationReadyEvent and update your properties as per your requirement.</p>\n<p>Optionally, you can use <code>CommandLineRunner</code> interface also.</p>\n<p>They will be running in the following order</p>\n<pre><code>ApplicationStartedEvent \nCommandLinerRunner\nApplicationReadyEvent\n</code></pre>\n"}],"owner":{"account_id":25678068,"reputation":1,"user_id":19441205,"display_name":"eim equipazo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677608844,"creation_date":1677512170,"question_id":75582479,"body_markdown":"If I have a unknown size list of files to load, `resourceList`, how can y load it?\r\n\r\nI have seen the use of `@PropertySources`, but it seems I can&#39;t use this method, because I only know the file list after execution, (I get it through an operation with a VM argument, and the files are external).\r\n```\r\n@PropertySources({\r\n        @PropertySource(&quot;classpath:application.properties&quot;),\r\n        @PropertySource(&quot;classpath:anotherbunchof.properties&quot;)\r\n})\r\n```\r\n\r\n\r\n\r\n\r\nI have tried PropertySourcesPlaceholderConfigurer:\r\n\r\n```\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer properties() {\r\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\r\n        List&lt;String&gt;configLocations = loadConfigLocations();\r\n        List&lt;Resource&gt; resourceList = new ArrayList&lt;&gt;();\r\n        configLocations.forEach(location -&gt; resourceList.add(new FileSystemResource(location)));\r\n        configurer.setLocations(resourceList.toArray(new Resource[]{}));\r\n        return configurer;\r\n    }\r\n```\r\n\r\nBut **this only resolves annotations** `@Value(&quot;${...`. \r\nIf I try to get some property **through the Environment, it is null**.\r\n\r\n```\r\n@Autowire\r\nEnvironment env;\r\n...\r\nString myProp = env.getProperty(&quot;my.property&quot;)\r\n\r\n```","title":"How to load an unknown list of property files in Spring","body":"<p>If I have a unknown size list of files to load, <code>resourceList</code>, how can y load it?</p>\n<p>I have seen the use of <code>@PropertySources</code>, but it seems I can't use this method, because I only know the file list after execution, (I get it through an operation with a VM argument, and the files are external).</p>\n<pre><code>@PropertySources({\n        @PropertySource(&quot;classpath:application.properties&quot;),\n        @PropertySource(&quot;classpath:anotherbunchof.properties&quot;)\n})\n</code></pre>\n<p>I have tried PropertySourcesPlaceholderConfigurer:</p>\n<pre><code>    @Bean\n    public static PropertySourcesPlaceholderConfigurer properties() {\n        PropertySourcesPlaceholderConfigurer configurer = new PropertySourcesPlaceholderConfigurer();\n        List&lt;String&gt;configLocations = loadConfigLocations();\n        List&lt;Resource&gt; resourceList = new ArrayList&lt;&gt;();\n        configLocations.forEach(location -&gt; resourceList.add(new FileSystemResource(location)));\n        configurer.setLocations(resourceList.toArray(new Resource[]{}));\n        return configurer;\n    }\n</code></pre>\n<p>But <strong>this only resolves annotations</strong> <code>@Value(&quot;${...</code>.\nIf I try to get some property <strong>through the Environment, it is null</strong>.</p>\n<pre><code>@Autowire\nEnvironment env;\n...\nString myProp = env.getProperty(&quot;my.property&quot;)\n\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","https","tomcat9"],"comments":[{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1677658963,"post_id":75595884,"comment_id":133379367,"body_markdown":"With the current information it is had to tell what the cause is and how to ssolve it. More information is needed. Can you rerun your application with the follow VM argument: `-Djavax.net.debug=SSL,keymanager,trustmanager,ssl:handshake` and paste it in your initial question?","body":"With the current information it is had to tell what the cause is and how to ssolve it. More information is needed. Can you rerun your application with the follow VM argument: <code>-Djavax.net.debug=SSL,keymanager,trustmanager,ssl:handshake</code> and paste it in your initial question?"}],"owner":{"account_id":19842078,"reputation":31,"user_id":14534462,"display_name":"Durga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677608838,"creation_date":1677608324,"question_id":75595884,"body_markdown":"I&#39;m trying to call one external HTTPS Post API in our application.\r\n\r\nThe external API call is working if I hit the API from Junit Test and from main method \r\nbut, It&#39;s not working when I Run the app on springBoot embedded tomcat (Version 9).\r\n\r\nJDK version is 11.\r\n\r\ncreated apache httpClient as below\r\n\r\nhttpClient = HttpClients\r\n                .custom()\r\n                .setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).build())\r\n                .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n                .build();\r\n\r\nError details:\r\n\r\nErrors:\r\njava.net.SocketException: Connection reset\\\\n\\\\tat java.base\\/java.net.SocketInputStream.read(SocketInputStream.java:186)\\\\n\\\\tat java.base\\/java.net.SocketInputStream.read(SocketInputStream.java:140)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1501)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1411)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:451)\\\\n\\\\tat java.base\\/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:422)\\\\n\r\n\r\n\r\nCould someone please help me out with this?","title":"Https Rest API call is failing with java.net.SocketException: Connection reset","body":"<p>I'm trying to call one external HTTPS Post API in our application.</p>\n<p>The external API call is working if I hit the API from Junit Test and from main method\nbut, It's not working when I Run the app on springBoot embedded tomcat (Version 9).</p>\n<p>JDK version is 11.</p>\n<p>created apache httpClient as below</p>\n<p>httpClient = HttpClients\n.custom()\n.setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).build())\n.setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n.build();</p>\n<p>Error details:</p>\n<p>Errors:\njava.net.SocketException: Connection reset\\n\\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\\n\\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\\n\\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\\n\\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\\n\\tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\\n\\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1501)\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1411)\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:451)\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:422)\\n</p>\n<p>Could someone please help me out with this?</p>\n"},{"tags":["java","arrays","arraylist","target"],"comments":[{"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"score":0,"creation_date":1672652576,"post_id":74980822,"comment_id":132319196,"body_markdown":"Have you checked the &quot;two sum&quot; solutions? It&#39;s a pretty popular coding question and this one seems to go into that direction","body":"Have you checked the &quot;two sum&quot; solutions? It&#39;s a pretty popular coding question and this one seems to go into that direction"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672730630,"creation_date":1672730630,"answer_id":74990148,"question_id":74980822,"body_markdown":"Here is a recursive solution:\r\n\r\n\r\n    public static int[] twoSum(int[] numbers) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        boolean found = twoSum(numbers, 0, 0, list);\r\n        if (found) {\r\n            return list.stream().mapToInt(Integer::intValue).toArray();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static boolean twoSum(int[] numbers, int from, int target,\r\n            List&lt;Integer&gt; list) {\r\n        for (int i = from; i &lt; numbers.length; i++) {\r\n            int current = numbers[i];\r\n            list.add(current);\r\n            int newTarget = target-current;\r\n            if (newTarget == 0) {\r\n                return true;\r\n            }\r\n            boolean found = twoSum(numbers, i+1, newTarget, list);\r\n            if (found) {\r\n                return true;\r\n            }\r\n            list.remove(list.size()-1);\r\n        }\r\n        return false;\r\n    }\r\n","title":"Write a program that takes as input an array of positive and negative numbers (0 excluded)","body":"<p>Here is a recursive solution:</p>\n<pre><code>public static int[] twoSum(int[] numbers) {\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    boolean found = twoSum(numbers, 0, 0, list);\n    if (found) {\n        return list.stream().mapToInt(Integer::intValue).toArray();\n    }\n    return null;\n}\n\npublic static boolean twoSum(int[] numbers, int from, int target,\n        List&lt;Integer&gt; list) {\n    for (int i = from; i &lt; numbers.length; i++) {\n        int current = numbers[i];\n        list.add(current);\n        int newTarget = target-current;\n        if (newTarget == 0) {\n            return true;\n        }\n        boolean found = twoSum(numbers, i+1, newTarget, list);\n        if (found) {\n            return true;\n        }\n        list.remove(list.size()-1);\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":25398718,"reputation":1,"user_id":19208587,"display_name":"SUBHANKAR DHAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677608800,"creation_date":1672652337,"question_id":74980822,"body_markdown":"Write a program in java that takes as input an array of positive and negative numbers (0 excluded). The objective is to \r\nreturn those items from the array whose sum is 0. If no such items exist return “No Elements found”\r\nExample: For an input array [-4, 1, 3, -2, -1], \r\none of the possible results would be 3, -2, -1 since their sum is 0.\r\nNote: If there are more than 1 combination of such items, you can return any 1 of them\r\n\r\nits my try\r\n\r\n```\r\nclass Solution {\r\n   \r\n        public int[] twoSum(int[] numbers, int target) {\r\n    int[] result = new int[2];\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    for (int i = 0; i &lt; numbers.length; i++) {\r\n        if (map.containsKey(target - numbers[i])) {\r\n            result[1] = i;\r\n            result[0] = map.get(target - numbers[i]);\r\n            return result;\r\n        }\r\n        map.put(numbers[i], i);\r\n    }\r\n    return result;\r\n}}\r\n    \r\n\r\n```\r\n\r\nbut I can&#39;t find the Ans can anyone help me out","title":"Write a program that takes as input an array of positive and negative numbers (0 excluded)","body":"<p>Write a program in java that takes as input an array of positive and negative numbers (0 excluded). The objective is to\nreturn those items from the array whose sum is 0. If no such items exist return “No Elements found”\nExample: For an input array [-4, 1, 3, -2, -1],\none of the possible results would be 3, -2, -1 since their sum is 0.\nNote: If there are more than 1 combination of such items, you can return any 1 of them</p>\n<p>its my try</p>\n<pre><code>class Solution {\n   \n        public int[] twoSum(int[] numbers, int target) {\n    int[] result = new int[2];\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n    for (int i = 0; i &lt; numbers.length; i++) {\n        if (map.containsKey(target - numbers[i])) {\n            result[1] = i;\n            result[0] = map.get(target - numbers[i]);\n            return result;\n        }\n        map.put(numbers[i], i);\n    }\n    return result;\n}}\n    \n\n</code></pre>\n<p>but I can't find the Ans can anyone help me out</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":12295008,"reputation":317,"user_id":8970918,"display_name":"Shellong"},"score":1,"creation_date":1677587940,"post_id":75592096,"comment_id":133363880,"body_markdown":"I fixed the problem by make the tag_set as a HashSet&lt;String&gt; varaible.But there also exists the problem: 1.Why the output path created before saveastext() invoked! 2.How to use the broadcast variable in programme?","body":"I fixed the problem by make the tag_set as a HashSet&lt;String&gt; varaible.But there also exists the problem: 1.Why the output path created before saveastext() invoked! 2.How to use the broadcast variable in programme?"}],"owner":{"account_id":12295008,"reputation":317,"user_id":8970918,"display_name":"Shellong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677608560,"creation_date":1677587464,"question_id":75592096,"body_markdown":"I wrote a spark programme, and it do two main jobs. \r\n\r\n1:Based on the source RDD Entity, calculate a string set named tagset, and rdd.collect() to the driver, then make it a broadcast variable;\r\n\r\n2:Based on the source RDD Entity, and do some map function based on the tagset above, and then save the output rdd into the hdfs path;\r\n\r\nSome code snippet:\r\n1.\r\n\r\n      JavaRdd&lt;Entity&gt; source = ....;\r\n      Set&lt;String&gt; tag_set = JavaRdd&lt;Entity&gt;.map(...).keyBy(...).reduceByKey(...).collectAsMap().keySet();\r\n      Broadcast&lt;Set&lt;String&gt;&gt; global_tag_set = sparkContext.broadcast(tag_set);\r\n\r\n2.do some transformation on source rdd using the broadcast string set:\r\n  \r\n\r\n    source.map(\r\n         .....\r\n         if(global_tag_set.getValue().contains(e.getLable())\r\n         .....\r\n      ).saveAsText(outputpath);\r\n\r\nWhile I run the programme above, I the **Problem One**: \r\n\r\n    FileAlreadyExistsException: Output directory hdfs://...outputpath already exists.I am surely cleaned the outputpath before running it.\r\nThen I add some clean job before the saveAsText:\r\n \r\n\r\n    JavaRDD&lt;String&gt; r = source.map(\r\n         .....\r\n         if(global_tag_set.getValue().contains(e.getLable())\r\n         .....\r\n      );\r\n     FileSystem f= ...;\r\n     f.delete(new Path(outputpath), true);\r\n     r.saveAsText(outputpath));\r\nI get another exception, **Problem Two**:\r\n\r\n    java.lang.unsupportedOperationException:...\r\n\r\nand in the stack trace there exists some tips for my java code position,just point to the code using braodcast varialbe：\r\n\r\n    if(global_tag_set.getValue().contains(e.getLable())\r\n\r\nand If I do make tag_set a broadcast variable, the I get **Problem Three:**\r\n\r\n    java.io.NotSerializableException: java.util.AbstractMap$1\r\n    -object not serializable....vale: ....\r\n    -filed(...,name: tag_set,type : interface java.util.set)\r\n\r\nWhy, how can I resolve these problem?Why does these problems happen?\r\n\r\n","title":"spark creat output folder before saveastext","body":"<p>I wrote a spark programme, and it do two main jobs.</p>\n<p>1:Based on the source RDD Entity, calculate a string set named tagset, and rdd.collect() to the driver, then make it a broadcast variable;</p>\n<p>2:Based on the source RDD Entity, and do some map function based on the tagset above, and then save the output rdd into the hdfs path;</p>\n<p>Some code snippet:\n1.</p>\n<pre><code>  JavaRdd&lt;Entity&gt; source = ....;\n  Set&lt;String&gt; tag_set = JavaRdd&lt;Entity&gt;.map(...).keyBy(...).reduceByKey(...).collectAsMap().keySet();\n  Broadcast&lt;Set&lt;String&gt;&gt; global_tag_set = sparkContext.broadcast(tag_set);\n</code></pre>\n<p>2.do some transformation on source rdd using the broadcast string set:</p>\n<pre><code>source.map(\n     .....\n     if(global_tag_set.getValue().contains(e.getLable())\n     .....\n  ).saveAsText(outputpath);\n</code></pre>\n<p>While I run the programme above, I the <strong>Problem One</strong>:</p>\n<pre><code>FileAlreadyExistsException: Output directory hdfs://...outputpath already exists.I am surely cleaned the outputpath before running it.\n</code></pre>\n<p>Then I add some clean job before the saveAsText:</p>\n<pre><code>JavaRDD&lt;String&gt; r = source.map(\n     .....\n     if(global_tag_set.getValue().contains(e.getLable())\n     .....\n  );\n FileSystem f= ...;\n f.delete(new Path(outputpath), true);\n r.saveAsText(outputpath));\n</code></pre>\n<p>I get another exception, <strong>Problem Two</strong>:</p>\n<pre><code>java.lang.unsupportedOperationException:...\n</code></pre>\n<p>and in the stack trace there exists some tips for my java code position,just point to the code using braodcast varialbe：</p>\n<pre><code>if(global_tag_set.getValue().contains(e.getLable())\n</code></pre>\n<p>and If I do make tag_set a broadcast variable, the I get <strong>Problem Three:</strong></p>\n<pre><code>java.io.NotSerializableException: java.util.AbstractMap$1\n-object not serializable....vale: ....\n-filed(...,name: tag_set,type : interface java.util.set)\n</code></pre>\n<p>Why, how can I resolve these problem?Why does these problems happen?</p>\n"},{"tags":["java","string","arraylist","replaceall"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677606666,"post_id":75594835,"comment_id":133370014,"body_markdown":"I don’t think your code is complete and correct. A [mre], please?","body":"I don’t think your code is complete and correct. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677606729,"post_id":75594835,"comment_id":133370035,"body_markdown":"There is a period (dot, `.`) after each occurrence of `Rs`. Since you ask for everything ecept digits 0 thourgh 9 *and periods* to be placed with empty strings, periods remain.","body":"There is a period (dot, <code>.</code>) after each occurrence of <code>Rs</code>. Since you ask for everything ecept digits 0 thourgh 9 <i>and periods</i> to be placed with empty strings, periods remain."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1677607045,"post_id":75594835,"comment_id":133370126,"body_markdown":"You never said you wanted to convert them to Integers.  Please amend your question.","body":"You never said you wanted to convert them to Integers.  Please amend your question."}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677602768,"creation_date":1677602768,"answer_id":75594974,"question_id":75594835,"body_markdown":"You could try a `Pattern` match like\r\n```java\r\nList&lt;String&gt; moisturizersPrices = List.of(\r\n    &quot;Price: Rs. 365&quot;,\r\n    &quot;Price: Rs. 299&quot;, \r\n    &quot;Price: Rs. 12&quot;, \r\n    &quot;Price: 220&quot;, \r\n    &quot;Price: 95&quot;, \r\n    &quot;Price: 216&quot;\r\n);\r\nPattern p = Pattern.compile(&quot;[0-9]+$&quot;);\r\nList&lt;Integer&gt; numbers = moisturizersPrices.stream()\r\n    .map(p::matcher)\r\n    .filter(Matcher::find)\r\n    .map(m -&gt; Integer.parseInt(m.group()))\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n```\r\n[365, 299, 12, 220, 95, 216]\r\n```","title":"Replace Arraylist with everything except for numbers in Java","body":"<p>You could try a <code>Pattern</code> match like</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; moisturizersPrices = List.of(\n    &quot;Price: Rs. 365&quot;,\n    &quot;Price: Rs. 299&quot;, \n    &quot;Price: Rs. 12&quot;, \n    &quot;Price: 220&quot;, \n    &quot;Price: 95&quot;, \n    &quot;Price: 216&quot;\n);\nPattern p = Pattern.compile(&quot;[0-9]+$&quot;);\nList&lt;Integer&gt; numbers = moisturizersPrices.stream()\n    .map(p::matcher)\n    .filter(Matcher::find)\n    .map(m -&gt; Integer.parseInt(m.group()))\n    .collect(Collectors.toList());\n</code></pre>\n<pre><code>[365, 299, 12, 220, 95, 216]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677608026,"creation_date":1677606930,"answer_id":75595678,"question_id":75594835,"body_markdown":"You can do it very simply like this. Just replace every non-Digit `(\\\\D)` with an empty string.\r\n```\r\n List&lt;String&gt; moisturizers = new ArrayList&lt;&gt;(\r\n         List.of(&quot;Price: Rs. 365&quot;, &quot;Price: Rs. 299&quot;, &quot;Price: Rs. 12&quot;,\r\n                 &quot;Price: 220&quot;, &quot;Price: 95&quot;, &quot;Price: 216&quot;));\r\n\r\n moisturizers.replaceAll(str-&gt;str.replaceAll(&quot;\\\\D&quot;,&quot;&quot;));\r\n System.out.println(moisturizers);\r\n```\r\nprints\r\n```\r\n[365, 299, 12, 220, 95, 216]\r\n```\r\nIf you want to convert them to a `List&lt;Integer&gt;`, do it like this.\r\n```\r\nList&lt;Integer&gt; results = moisturizers.stream()\r\n        .map(str -&gt; Integer.parseInt(str.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)))\r\n        .toList();\r\nSystem.out.println(results);\r\n```\r\nprints the same as above\r\n\r\nIf you have other digits elsewhere, then use the following regex. It will replace *all* characters up to the digits at the end of the string with those captured in the parentheses.  The `$1` is a back reference to those digits.\r\n```\r\nstr.replaceAll(&quot;.*?(\\\\d+)$&quot;, &quot;$1&quot;)\r\n\r\n\r\n","title":"Replace Arraylist with everything except for numbers in Java","body":"<p>You can do it very simply like this. Just replace every non-Digit <code>(\\\\D)</code> with an empty string.</p>\n<pre><code> List&lt;String&gt; moisturizers = new ArrayList&lt;&gt;(\n         List.of(&quot;Price: Rs. 365&quot;, &quot;Price: Rs. 299&quot;, &quot;Price: Rs. 12&quot;,\n                 &quot;Price: 220&quot;, &quot;Price: 95&quot;, &quot;Price: 216&quot;));\n\n moisturizers.replaceAll(str-&gt;str.replaceAll(&quot;\\\\D&quot;,&quot;&quot;));\n System.out.println(moisturizers);\n</code></pre>\n<p>prints</p>\n<pre><code>[365, 299, 12, 220, 95, 216]\n</code></pre>\n<p>If you want to convert them to a <code>List&lt;Integer&gt;</code>, do it like this.</p>\n<pre><code>List&lt;Integer&gt; results = moisturizers.stream()\n        .map(str -&gt; Integer.parseInt(str.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)))\n        .toList();\nSystem.out.println(results);\n</code></pre>\n<p>prints the same as above</p>\n<p>If you have other digits elsewhere, then use the following regex. It will replace <em>all</em> characters up to the digits at the end of the string with those captured in the parentheses.  The <code>$1</code> is a back reference to those digits.</p>\n<pre><code>str.replaceAll(&quot;.*?(\\\\d+)$&quot;, &quot;$1&quot;)\n\n\n</code></pre>\n"}],"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75594974,"answer_count":2,"score":0,"last_activity_date":1677608026,"creation_date":1677602026,"question_id":75594835,"body_markdown":"I have a Arraylist, like this:\r\n\r\n    ArrayList&lt;String&gt; moisturizersPrices = [Price: Rs. 365, Price: Rs. 299, Price: Rs. 12, Price: 220, Price: 95, Price: 216]\r\nfor that I am using following logic:\r\n\r\n    moisturizersPrices.replaceAll(&quot;[^0-9.]&quot;, &quot;&quot;)\r\nand it is returning me something like this:\r\n\r\n    [.365, .299, .12, 220, 95, 216] \r\n\r\nNow I want to remove all characters from there, except for numeric, such as it should be giving me results like this:\r\n\r\n    [365, 299, 12, 220, 95, 216] \r\n\r\n\r\nI need to know, where I am making mistake.\r\n\r\n","title":"Replace Arraylist with everything except for numbers in Java","body":"<p>I have a Arraylist, like this:</p>\n<pre><code>ArrayList&lt;String&gt; moisturizersPrices = [Price: Rs. 365, Price: Rs. 299, Price: Rs. 12, Price: 220, Price: 95, Price: 216]\n</code></pre>\n<p>for that I am using following logic:</p>\n<pre><code>moisturizersPrices.replaceAll(&quot;[^0-9.]&quot;, &quot;&quot;)\n</code></pre>\n<p>and it is returning me something like this:</p>\n<pre><code>[.365, .299, .12, 220, 95, 216] \n</code></pre>\n<p>Now I want to remove all characters from there, except for numeric, such as it should be giving me results like this:</p>\n<pre><code>[365, 299, 12, 220, 95, 216] \n</code></pre>\n<p>I need to know, where I am making mistake.</p>\n"},{"tags":["java","multithreading","concurrency","locking","stampedlock"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1555700405,"post_id":55766479,"comment_id":98207428,"body_markdown":"The &quot;possibly racy reads&quot; is because, on the first loop, the thread has tried to optimistically obtain the read lock but it may have failed. If the lock is valid (`validate`), then the read values are safe and it proceeds to use them. Otherwise, the read values are not safe and the loop continues, now obtaining the read lock via the blocking `readLock()` method.  _At least, that&#39;s how I&#39;ve always understood those examples._","body":"The &quot;possibly racy reads&quot; is because, on the first loop, the thread has tried to optimistically obtain the read lock but it may have failed. If the lock is valid (<code>validate</code>), then the read values are safe and it proceeds to use them. Otherwise, the read values are not safe and the loop continues, now obtaining the read lock via the blocking <code>readLock()</code> method.  <i>At least, that&#39;s how I&#39;ve always understood those examples.</i>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555700860,"post_id":55766479,"comment_id":98207590,"body_markdown":"@Slaw, it makes sense but: Is it a problem if another thread reads x or y ?","body":"@Slaw, it makes sense but: Is it a problem if another thread reads x or y ?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1555700862,"post_id":55766479,"comment_id":98207592,"body_markdown":"To expand on [comment by @Slaw](https://stackoverflow.com/questions/55766479/how-to-to-use-stampedlock-optimistic-locking-i-cant-understand-code-sample-fr#comment98207428_55766479), the javadoc of [`StampedLock`](https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/locks/StampedLock.html), in the description of &quot;Optimistic Reading&quot;, says: *&quot;Fields read while in optimistic mode may be wildly inconsistent&quot;*, so on that first iteration, if the object is updated between calls to `tryOptimisticRead()` and `validate()`, the `currentX` and `currentY` values may be inconsistent.","body":"To expand on <a href=\"https://stackoverflow.com/questions/55766479/how-to-to-use-stampedlock-optimistic-locking-i-cant-understand-code-sample-fr#comment98207428_55766479\">comment by @Slaw</a>, the javadoc of <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/locks/StampedLock.html\" rel=\"nofollow noreferrer\"><code>StampedLock</code></a>, in the description of &quot;Optimistic Reading&quot;, says: <i>&quot;Fields read while in optimistic mode may be wildly inconsistent&quot;</i>, so on that first iteration, if the object is updated between calls to <code>tryOptimisticRead()</code> and <code>validate()</code>, the <code>currentX</code> and <code>currentY</code> values may be inconsistent."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1555700898,"post_id":55766479,"comment_id":98207603,"body_markdown":"@gstackoverflow No, it&#39;s a problem if another thread updates `x` or `y`.","body":"@gstackoverflow No, it&#39;s a problem if another thread updates <code>x</code> or <code>y</code>."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555701173,"post_id":55766479,"comment_id":98207691,"body_markdown":"@Andreas so *validate* returns false only if writeLock was acquired after  optimistic lock acquire ?","body":"@Andreas so <i>validate</i> returns false only if writeLock was acquired after  optimistic lock acquire ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555701308,"post_id":55766479,"comment_id":98207740,"body_markdown":"@Slaw why do we execute *tryOptimisticRead* first and *readLock* in the for loop in case of *tryOptimisticRead* failure ?","body":"@Slaw why do we execute <i>tryOptimisticRead</i> first and <i>readLock</i> in the for loop in case of <i>tryOptimisticRead</i> failure ?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1555701901,"post_id":55766479,"comment_id":98207946,"body_markdown":"If the optimistic lock failed, either by `tryOptimisticRead()` returning `0` or by `validate()` returning `false`, the loop is retried (`continue`) to obtain a full read lock and run the logic again. Notice how only the 3rd part of the `for` statement is used, so that `readLock()` is only called on second iteration. Also realize that the loop will execute once (optimistic lock successful), or twice (optimistic lock failed), but never three times.","body":"If the optimistic lock failed, either by <code>tryOptimisticRead()</code> returning <code>0</code> or by <code>validate()</code> returning <code>false</code>, the loop is retried (<code>continue</code>) to obtain a full read lock and run the logic again. Notice how only the 3rd part of the <code>for</code> statement is used, so that <code>readLock()</code> is only called on second iteration. Also realize that the loop will execute once (optimistic lock successful), or twice (optimistic lock failed), but never three times."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1555702022,"post_id":55766479,"comment_id":98207980,"body_markdown":"The Javadoc, in the description of &quot;Optimistic Reading&quot;, says: &quot;_This mode can be thought of as an extremely weak version of a read-lock, that can be broken by a writer at any time. The use of optimistic read mode for short read-only code segments often reduces contention and improves throughput_&quot;. You use `tryOptimisticRead()` because you&#39;re optimistic the values will not change while reading them. But if they do then you upgrade to a full read lock and go again.","body":"The Javadoc, in the description of &quot;Optimistic Reading&quot;, says: &quot;<i>This mode can be thought of as an extremely weak version of a read-lock, that can be broken by a writer at any time. The use of optimistic read mode for short read-only code segments often reduces contention and improves throughput</i>&quot;. You use <code>tryOptimisticRead()</code> because you&#39;re optimistic the values will not change while reading them. But if they do then you upgrade to a full read lock and go again."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555702158,"post_id":55766479,"comment_id":98208036,"body_markdown":"@Slaw, but it is can&#39;t be broken by readLock?","body":"@Slaw, but it is can&#39;t be broken by readLock?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1555702228,"post_id":55766479,"comment_id":98208061,"body_markdown":"Why would it? The read lock is non-exclusive—meaning multiple threads can read at the same time.","body":"Why would it? The read lock is non-exclusive—meaning multiple threads can read at the same time."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555702450,"post_id":55766479,"comment_id":98208142,"body_markdown":"@Slaw I just wanted to confirm it. So 2 threads can do optimistic reads in parallel and 2 another threads could do read at the same time.","body":"@Slaw I just wanted to confirm it. So 2 threads can do optimistic reads in parallel and 2 another threads could do read at the same time."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555702670,"post_id":55766479,"comment_id":98208211,"body_markdown":"@Andreas, But what the logic of this code snippet? Why do we try optimistic locking first and then try usual readLock. What the beneft of this approach?","body":"@Andreas, But what the logic of this code snippet? Why do we try optimistic locking first and then try usual readLock. What the beneft of this approach?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1555702829,"post_id":55766479,"comment_id":98208268,"body_markdown":"Yes, just like any read-write lock, the read-lock is non-exclusive and the write-lock is exclusive; if there is a writer, no readers can proceed. And the benefit is mentioned in the Javadoc I quoted: &quot;_The use of optimistic read mode for short read-only code segments often reduces contention and improves throughput_&quot;. Please note that `StampedLock` is not a drop-in replacement of `ReadWriteLock`—only use `StampedLock` if you&#39;re data structure is applicable and you&#39;ve measured a performance gain.","body":"Yes, just like any read-write lock, the read-lock is non-exclusive and the write-lock is exclusive; if there is a writer, no readers can proceed. And the benefit is mentioned in the Javadoc I quoted: &quot;<i>The use of optimistic read mode for short read-only code segments often reduces contention and improves throughput</i>&quot;. Please note that <code>StampedLock</code> is not a drop-in replacement of <code>ReadWriteLock</code>—only use <code>StampedLock</code> if you&#39;re data structure is applicable and you&#39;ve measured a performance gain."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555703233,"post_id":55766479,"comment_id":98208414,"body_markdown":"@ Slaw &quot;The use of optimistic read mode for short read-only code segments often reduces contention and improves throughput&quot; When it might help? When there are too much read operations which prevents to acquire writeLock ?","body":"@ Slaw &quot;The use of optimistic read mode for short read-only code segments often reduces contention and improves throughput&quot; When it might help? When there are too much read operations which prevents to acquire writeLock ?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1555703898,"post_id":55766479,"comment_id":98208633,"body_markdown":"@gstackoverflow Yes, that is a very good example. --- Also, an optimistic lock is not actually a *lock*, so you might also save run time.","body":"@gstackoverflow Yes, that is a very good example. --- Also, an optimistic lock is not actually a <i>lock</i>, so you might also save run time."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1555704305,"post_id":55766479,"comment_id":98208779,"body_markdown":"You may find this answer, and the links it provides, to be helpful: https://stackoverflow.com/a/26100951/6395627","body":"You may find this answer, and the links it provides, to be helpful: <a href=\"https://stackoverflow.com/a/26100951/6395627\">stackoverflow.com/a/26100951/6395627</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555705735,"post_id":55766479,"comment_id":98209282,"body_markdown":"@Andreas But according my experiments writeLock always has higher priority: 1. At the moment 0 ms Thread 1 acquires readLock for 1 sec 2. At the moment 200 ms Thread 2 attempts to acquire writeLock and await 3. At the moment 500 ms Thread 3 attempts to acquire readLock and awaits.  According to my experiments Thread 2 always acquires writeLock after first thread and before Thread 3 readLock","body":"@Andreas But according my experiments writeLock always has higher priority: 1. At the moment 0 ms Thread 1 acquires readLock for 1 sec 2. At the moment 200 ms Thread 2 attempts to acquire writeLock and await 3. At the moment 500 ms Thread 3 attempts to acquire readLock and awaits.  According to my experiments Thread 2 always acquires writeLock after first thread and before Thread 3 readLock"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555707608,"post_id":55766479,"comment_id":98209891,"body_markdown":"@ Slaw, please read topic update","body":"@ Slaw, please read topic update"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1555711349,"post_id":55766479,"comment_id":98210793,"body_markdown":"The documentation explicitly states that write locks are not preferred over read locks or vice versa. And the `if (...)` bit in the `finally` block is because the stamp might not represent a read lock (i.e. it may represent the optimistic read lock).","body":"The documentation explicitly states that write locks are not preferred over read locks or vice versa. And the <code>if (...)</code> bit in the <code>finally</code> block is because the stamp might not represent a read lock (i.e. it may represent the optimistic read lock)."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1555746086,"post_id":55766479,"comment_id":98215810,"body_markdown":"@Slaw,  so for optimistic lock isReadLockStamp returns false?","body":"@Slaw,  so for optimistic lock isReadLockStamp returns false?"}],"answers":[{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1556497417,"creation_date":1556024091,"answer_id":55811750,"question_id":55766479,"body_markdown":"&gt; why do we execute tryOptimisticRead first and readLock in the for loop in case of tryOptimisticRead failure? what the logic?\r\n\r\nA best case scenario is for us to to be able to read `x` and `y` without having to acquire a lock. That doesn&#39;t mean we don&#39;t establish a happens-before relationship, it just means we don&#39;t need to invoke a possible blocking action.\r\n\r\n`tryOptimisticRead` returns us a stamp value. This `volatile` read of internal state establishes that *anything written prior to the volatile write of this stamped value will be visible after a subsequent read*. That means, if the stamped value returned in `tryOptimisticRead` doesn&#39;t change while you read `x` and `y`, then another write did not occur and we have the most up to date values.  If the stamped value does change, however, all bets are off and you need to protect yourself explained below.\r\n\r\nIt&#39;s possible, and, depending on your use case, likely, that `x` and `y` will change at some point throughout your execution of `distanceFromOrigin`. If `x` and `y` change, and maybe change often, you&#39;re going to want to eventually succeed. \r\n\r\nThe `readLock` is the program&#39;s way of saying &quot;Ok, I give up, let&#39;s just read it in a blocking fashion&quot;. In theory, you can write your code to `tryOptimisticRead` a few times before eventually invoking `readLock`, but you&#39;re going to want to give yourself an out in case `x` and `y` are updated constantly. \r\n\r\n&gt; Why do we have  if (StampedLock.isReadLockStamp(stamp)) inside finally block vbefore unlock ?\r\n\r\nIf `readLock` is invoked, you will have to release it prior to exiting so that subsequent `writeLock` can acquire the lock. If you succeed in `tryOptimisticRead` you will not have to release a `readLock` as you never needed to acquire it in the first place.","title":"How to to use StampedLock optimistic locking ?(I can&#39;t understand code sample from java doc)","body":"<blockquote>\n  <p>why do we execute tryOptimisticRead first and readLock in the for loop in case of tryOptimisticRead failure? what the logic?</p>\n</blockquote>\n\n<p>A best case scenario is for us to to be able to read <code>x</code> and <code>y</code> without having to acquire a lock. That doesn't mean we don't establish a happens-before relationship, it just means we don't need to invoke a possible blocking action.</p>\n\n<p><code>tryOptimisticRead</code> returns us a stamp value. This <code>volatile</code> read of internal state establishes that <em>anything written prior to the volatile write of this stamped value will be visible after a subsequent read</em>. That means, if the stamped value returned in <code>tryOptimisticRead</code> doesn't change while you read <code>x</code> and <code>y</code>, then another write did not occur and we have the most up to date values.  If the stamped value does change, however, all bets are off and you need to protect yourself explained below.</p>\n\n<p>It's possible, and, depending on your use case, likely, that <code>x</code> and <code>y</code> will change at some point throughout your execution of <code>distanceFromOrigin</code>. If <code>x</code> and <code>y</code> change, and maybe change often, you're going to want to eventually succeed. </p>\n\n<p>The <code>readLock</code> is the program's way of saying \"Ok, I give up, let's just read it in a blocking fashion\". In theory, you can write your code to <code>tryOptimisticRead</code> a few times before eventually invoking <code>readLock</code>, but you're going to want to give yourself an out in case <code>x</code> and <code>y</code> are updated constantly. </p>\n\n<blockquote>\n  <p>Why do we have  if (StampedLock.isReadLockStamp(stamp)) inside finally block vbefore unlock ?</p>\n</blockquote>\n\n<p>If <code>readLock</code> is invoked, you will have to release it prior to exiting so that subsequent <code>writeLock</code> can acquire the lock. If you succeed in <code>tryOptimisticRead</code> you will not have to release a <code>readLock</code> as you never needed to acquire it in the first place.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55811750,"answer_count":1,"score":5,"last_activity_date":1677607473,"creation_date":1555699918,"question_id":55766479,"body_markdown":"Recently I learned about the existence `StampedLock` ?\r\n\r\nhttps://docs.oracle.com/javase/10/docs/api/java/util/concurrent/locks/StampedLock.html\r\nI realized that It is improved ReentrantReadWriteLock with some differernces:\r\n\r\n- Is not reentrant\r\n- Supports optimistic lock\r\n- Supports upgrade from readLock to writeLock\r\n\r\n\r\nAlso I read examples frpm javadoc but I don&#39;t understant that code:\r\n\r\n    class Point {\r\n      private double x, y;\r\n      private final StampedLock sl = new StampedLock();\r\n      // a read-only method\r\n      // upgrade from optimistic read to read lock\r\n      double distanceFromOrigin() {\r\n        long stamp = sl.tryOptimisticRead();\r\n        try {\r\n          retryHoldingLock: for (;; stamp = sl.readLock()) {\r\n            if (stamp == 0L)\r\n              continue retryHoldingLock;\r\n            // possibly racy reads\r\n            double currentX = x;\r\n            double currentY = y;\r\n            if (!sl.validate(stamp))\r\n              continue retryHoldingLock;\r\n            return Math.hypot(currentX, currentY);\r\n          }\r\n        } finally {\r\n          if (StampedLock.isReadLockStamp(stamp))\r\n            sl.unlockRead(stamp);\r\n        }\r\n      }\r\n    }\r\n\r\nWhat does it mean `possibly racy reads` ? [ANSWERRED IN COMMENTS]\r\n\r\nIs it a problem if another thread reads `x` or `y` ? [ANSWERRED IN COMMENTS]\r\n\r\nwhy do we execute tryOptimisticRead first and readLock in the for loop in case of tryOptimisticRead failure? what the logic?\r\n\r\nWhy do we have           `if (StampedLock.isReadLockStamp(stamp))` inside finally block vbefore unlock ?\r\n\r\n","title":"How to to use StampedLock optimistic locking ?(I can&#39;t understand code sample from java doc)","body":"<p>Recently I learned about the existence <code>StampedLock</code> ?</p>\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/locks/StampedLock.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/concurrent/locks/StampedLock.html</a>\nI realized that It is improved ReentrantReadWriteLock with some differernces:</p>\n<ul>\n<li>Is not reentrant</li>\n<li>Supports optimistic lock</li>\n<li>Supports upgrade from readLock to writeLock</li>\n</ul>\n<p>Also I read examples frpm javadoc but I don't understant that code:</p>\n<pre><code>class Point {\n  private double x, y;\n  private final StampedLock sl = new StampedLock();\n  // a read-only method\n  // upgrade from optimistic read to read lock\n  double distanceFromOrigin() {\n    long stamp = sl.tryOptimisticRead();\n    try {\n      retryHoldingLock: for (;; stamp = sl.readLock()) {\n        if (stamp == 0L)\n          continue retryHoldingLock;\n        // possibly racy reads\n        double currentX = x;\n        double currentY = y;\n        if (!sl.validate(stamp))\n          continue retryHoldingLock;\n        return Math.hypot(currentX, currentY);\n      }\n    } finally {\n      if (StampedLock.isReadLockStamp(stamp))\n        sl.unlockRead(stamp);\n    }\n  }\n}\n</code></pre>\n<p>What does it mean <code>possibly racy reads</code> ? [ANSWERRED IN COMMENTS]</p>\n<p>Is it a problem if another thread reads <code>x</code> or <code>y</code> ? [ANSWERRED IN COMMENTS]</p>\n<p>why do we execute tryOptimisticRead first and readLock in the for loop in case of tryOptimisticRead failure? what the logic?</p>\n<p>Why do we have           <code>if (StampedLock.isReadLockStamp(stamp))</code> inside finally block vbefore unlock ?</p>\n"},{"tags":["java","multithreading","runnable","implements","java-threads"],"comments":[{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":66,"creation_date":1241816188,"post_id":541487,"comment_id":650053,"body_markdown":"Thanks for this question, the answers cleared up a lot of misconceptions I had. I looked into the correct way to do Java threads before SO existed and there was a lot of misinformation/outdated information out there.","body":"Thanks for this question, the answers cleared up a lot of misconceptions I had. I looked into the correct way to do Java threads before SO existed and there was a lot of misinformation/outdated information out there."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":5,"creation_date":1297553037,"post_id":541487,"comment_id":5563008,"body_markdown":"there is one reason you might want to extend Thread (*but I do not recommend it*), you can preemptively handle `interrupt()`. Again, it&#39;s an idea, it might be useful in the right case, however I do not recommend it.","body":"there is one reason you might want to extend Thread (<i>but I do not recommend it</i>), you can preemptively handle <code>interrupt()</code>. Again, it&#39;s an idea, it might be useful in the right case, however I do not recommend it."},{"owner":{"display_name":"user285594"},"score":0,"creation_date":1302084368,"post_id":541487,"comment_id":6328916,"body_markdown":"Please see also the answer, nicely explained: http://stackoverflow.com/q/5562720/285594","body":"Please see also the answer, nicely explained: <a href=\"http://stackoverflow.com/q/5562720/285594\">stackoverflow.com/q/5562720/285594</a>"},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":0,"creation_date":1303738168,"post_id":541487,"comment_id":6621713,"body_markdown":"@bestsss, I&#39;m trying to puzzle out what you might mean about handling interrupt().  Are you trying to override the method?","body":"@bestsss, I&#39;m trying to puzzle out what you might mean about handling interrupt().  Are you trying to override the method?"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1303939088,"post_id":541487,"comment_id":6666220,"body_markdown":"@Bob, yes bob. Java does that naturally for `java.nio.channels.InterruptibleChannel`(s)  You can have a look at the impl. of Thread.interrupt(). Using a helping hand from the `interrupt()` caller is an idea and a useful approach, again not recommended for rookies.","body":"@Bob, yes bob. Java does that naturally for <code>java.nio.channels.InterruptibleChannel</code>(s)  You can have a look at the impl. of Thread.interrupt(). Using a helping hand from the <code>interrupt()</code> caller is an idea and a useful approach, again not recommended for rookies."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1303939468,"post_id":541487,"comment_id":6666348,"body_markdown":"@Bob, there is another way to do it, by extending `java.nio.channels.spi.AbstractSelector` and override `wakeup()` but it&#39;s a way too dirty way to asses the case :)","body":"@Bob, there is another way to do it, by extending <code>java.nio.channels.spi.AbstractSelector</code> and override <code>wakeup()</code> but it&#39;s a way too dirty way to asses the case :)"},{"owner":{"account_id":2014100,"reputation":401,"user_id":1801817,"display_name":"mani deepak"},"score":8,"creation_date":1390811516,"post_id":541487,"comment_id":32236461,"body_markdown":"yes.As per the code,class Thread A can extend any class whereas class Thread B cant extend any other class","body":"yes.As per the code,class Thread A can extend any class whereas class Thread B cant extend any other class"},{"owner":{"account_id":16920,"reputation":2114,"user_id":37370,"accept_rate":67,"display_name":"RichieHH"},"score":0,"creation_date":1406519294,"post_id":541487,"comment_id":38848289,"body_markdown":"Should look at implementing a Callback over Runnable now.","body":"Should look at implementing a Callback over Runnable now."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1441454388,"post_id":541487,"comment_id":52692827,"body_markdown":"@RichieHH - that depends. Callback only if you need a callback. That is, if the running code (the `Runnable` in OP) needs to execute logic in the caller.","body":"@RichieHH - that depends. Callback only if you need a callback. That is, if the running code (the <code>Runnable</code> in OP) needs to execute logic in the caller."},{"owner":{"account_id":147223,"reputation":4738,"user_id":358193,"accept_rate":76,"display_name":"Peeyush"},"score":0,"creation_date":1471117866,"post_id":541487,"comment_id":65228919,"body_markdown":"Composition is preferred over Inheritance in Object oriented design","body":"Composition is preferred over Inheritance in Object oriented design"},{"owner":{"account_id":1907727,"reputation":2093,"user_id":1722245,"accept_rate":25,"display_name":"user1722245"},"score":0,"creation_date":1539936675,"post_id":541487,"comment_id":92689361,"body_markdown":"Dont use thread directly, you should use ExecutorService, which can be mocked for better tests","body":"Dont use thread directly, you should use ExecutorService, which can be mocked for better tests"},{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1563706367,"post_id":541487,"comment_id":100781135,"body_markdown":"Extend Thread when you need to CHANGE the way Thread behaves. Implement runnable if you need to extend a different thread. If you need to share an object between threads, Runnable is the way to do, as thread doesnt allow it. If none of both cases apply, Runnable is more correct semantically speaking, although this last point is not very important, someone may think you&#39;ve changed behaviour of thread if you extend it while you&#39;re not.","body":"Extend Thread when you need to CHANGE the way Thread behaves. Implement runnable if you need to extend a different thread. If you need to share an object between threads, Runnable is the way to do, as thread doesnt allow it. If none of both cases apply, Runnable is more correct semantically speaking, although this last point is not very important, someone may think you&#39;ve changed behaviour of thread if you extend it while you&#39;re not."}],"answers":[{"comments":[{"owner":{"account_id":1415895,"reputation":939,"user_id":1341584,"accept_rate":40,"display_name":"Nabeel Thobani"},"score":0,"creation_date":1413436616,"post_id":541500,"comment_id":41444700,"body_markdown":"In runnable we can&#39;t make network calls, is it? As i am having android.os.NetworkOnMainThreadException. But by using thread i can make network calls. Please correct me if i am wrong.","body":"In runnable we can&#39;t make network calls, is it? As i am having android.os.NetworkOnMainThreadException. But by using thread i can make network calls. Please correct me if i am wrong."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1413465318,"post_id":541500,"comment_id":41459553,"body_markdown":"@NabeelThobani Normal Java doesn&#39;t care, but it sounds like Android does.  I&#39;m not familiar enough with Android to say, though.","body":"@NabeelThobani Normal Java doesn&#39;t care, but it sounds like Android does.  I&#39;m not familiar enough with Android to say, though."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1420744281,"post_id":541500,"comment_id":44099172,"body_markdown":"@NabeelThobani Of course you can. Probably you&#39;re not creating a Thread with your Runnable.","body":"@NabeelThobani Of course you can. Probably you&#39;re not creating a Thread with your Runnable."}],"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1234449121,"creation_date":1234449121,"answer_id":541500,"question_id":541487,"body_markdown":"I&#39;m not an expert, but I can think of one reason to implement Runnable instead of extend Thread: Java only supports single inheritance, so you can only extend one class.\r\n\r\nEdit: This originally said &quot;Implementing an interface requires less resources.&quot; as well, but you need to create a new Thread instance either way, so this was wrong.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>I'm not an expert, but I can think of one reason to implement Runnable instead of extend Thread: Java only supports single inheritance, so you can only extend one class.</p>\n\n<p>Edit: This originally said \"Implementing an interface requires less resources.\" as well, but you need to create a new Thread instance either way, so this was wrong.</p>\n"},{"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":162,"creation_date":1234457422,"post_id":541506,"comment_id":354282,"body_markdown":"Exactly, well put.  What behavior are we trying to overwrite in Thread by extending it?  I would argue most people are not trying to overwrite any behavior, but trying to use behavior of Thread.","body":"Exactly, well put.  What behavior are we trying to overwrite in Thread by extending it?  I would argue most people are not trying to overwrite any behavior, but trying to use behavior of Thread."},{"owner":{"account_id":1014194,"reputation":7170,"user_id":1026132,"accept_rate":89,"display_name":"Nacho Coloma"},"score":94,"creation_date":1360244882,"post_id":541506,"comment_id":20646368,"body_markdown":"As a side comment, if you instantiate a Thread and do not call its start() method you are creating a memory leak in Java &lt; 5 (this does not happen with Runnables): http://stackoverflow.com/questions/107823/why-is-my-java-program-leaking-memory-when-i-call-run-on-a-thread-object","body":"As a side comment, if you instantiate a Thread and do not call its start() method you are creating a memory leak in Java &lt; 5 (this does not happen with Runnables): <a href=\"http://stackoverflow.com/questions/107823/why-is-my-java-program-leaking-memory-when-i-call-run-on-a-thread-object\" title=\"why is my java program leaking memory when i call run on a thread object\">stackoverflow.com/questions/107823/&hellip;</a>"},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":26,"creation_date":1362598218,"post_id":541506,"comment_id":21516801,"body_markdown":"One minor advantage of Runnable is that, if in certain circumstances you don&#39;t care about, or don&#39;t want to use threading, and you just want to execute the code, you have the option to simply call run().  e.g. (very handwavy)  `if (numberCores &gt; 4) myExecutor.excute(myRunnable); else myRunnable.run()`","body":"One minor advantage of Runnable is that, if in certain circumstances you don&#39;t care about, or don&#39;t want to use threading, and you just want to execute the code, you have the option to simply call run().  e.g. (very handwavy)  <code>if (numberCores &gt; 4) myExecutor.excute(myRunnable); else myRunnable.run()</code>"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":12,"creation_date":1366704952,"post_id":541506,"comment_id":23100395,"body_markdown":"@user949300 you can also do that with `extends Thread` and if you don&#39;t want threading why would you even implement `Runnable`...","body":"@user949300 you can also do that with <code>extends Thread</code> and if you don&#39;t want threading why would you even implement <code>Runnable</code>..."},{"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"score":5,"creation_date":1374119174,"post_id":541506,"comment_id":25817939,"body_markdown":"I would also add that by implementing Runnable now rather than extending Thread, you make it easy for a future refactor of using thread-pools, timers, schedulers, and Executors.","body":"I would also add that by implementing Runnable now rather than extending Thread, you make it easy for a future refactor of using thread-pools, timers, schedulers, and Executors."},{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":32,"creation_date":1392197280,"post_id":541506,"comment_id":32850673,"body_markdown":"To paraphrase Sierra and Bates, a key benefit of implementing Runnable is that you are architecturally seperating the &quot;job&quot; from the &quot;runner&quot;.","body":"To paraphrase Sierra and Bates, a key benefit of implementing Runnable is that you are architecturally seperating the &quot;job&quot; from the &quot;runner&quot;."},{"owner":{"account_id":198822,"reputation":16528,"user_id":443716,"accept_rate":92,"display_name":"Isaac"},"score":4,"creation_date":1400895303,"post_id":541506,"comment_id":36685451,"body_markdown":"Another addition to the &quot;practical terms&quot; bit: a `Runnable` is, really, an encapsulation of any bit of code. Under certain circumstances, it may be useful to run a `Runnable` even when not within the context of a new thread.","body":"Another addition to the &quot;practical terms&quot; bit: a <code>Runnable</code> is, really, an encapsulation of any bit of code. Under certain circumstances, it may be useful to run a <code>Runnable</code> even when not within the context of a new thread."},{"owner":{"account_id":1779818,"reputation":16441,"user_id":1622847,"accept_rate":70,"display_name":"lolski"},"score":1,"creation_date":1408376084,"post_id":541506,"comment_id":39554575,"body_markdown":"@m0skit0 the point of the code by user949300 is that it uses a conditional to only enable multi-threading when there are enough physical core","body":"@m0skit0 the point of the code by user949300 is that it uses a conditional to only enable multi-threading when there are enough physical core"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1408377383,"post_id":541506,"comment_id":39555341,"body_markdown":"@lolski My point being you can do that extending Thread or implementing Runnable, so really doesn&#39;t matter.","body":"@lolski My point being you can do that extending Thread or implementing Runnable, so really doesn&#39;t matter."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1408377820,"post_id":541506,"comment_id":39555610,"body_markdown":"@m0skit0: It doesn&#39;t matter if you don&#39;t care about your code expressing what you&#39;re interested in. Personally I care about that very much. Yes, you *can* extend `Thread` just to implement `Runnable`... heck, you can pass one `Thread` instance to the constructor of another `Thread` instance. That doesn&#39;t mean it&#39;s a good idea.","body":"@m0skit0: It doesn&#39;t matter if you don&#39;t care about your code expressing what you&#39;re interested in. Personally I care about that very much. Yes, you <i>can</i> extend <code>Thread</code> just to implement <code>Runnable</code>... heck, you can pass one <code>Thread</code> instance to the constructor of another <code>Thread</code> instance. That doesn&#39;t mean it&#39;s a good idea."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1408382132,"post_id":541506,"comment_id":39557929,"body_markdown":"@JonSkeet Sorry, I didn&#39;t mean it doesn&#39;t matter to extend Thread or implement Runnable, I meant that that was not a valid argument for implementing Runnable :)","body":"@JonSkeet Sorry, I didn&#39;t mean it doesn&#39;t matter to extend Thread or implement Runnable, I meant that that was not a valid argument for implementing Runnable :)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1408383161,"post_id":541506,"comment_id":39558475,"body_markdown":"@m0skit0: *What* wasn&#39;t a valid argument for implementing `Runnable`? You implement `Runnable` if you want to represent &quot;something that can be run&quot; - it doesn&#39;t necessarily have to be in a new thread.","body":"@m0skit0: <i>What</i> wasn&#39;t a valid argument for implementing <code>Runnable</code>? You implement <code>Runnable</code> if you want to represent &quot;something that can be run&quot; - it doesn&#39;t necessarily have to be in a new thread."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":2,"creation_date":1423785119,"post_id":541506,"comment_id":45301491,"body_markdown":"Note that sometimes you (conceptually) *are* creating &quot;runners&quot;, not &quot;jobs&quot;. E.g. if you&#39;re writing a thread pool (for whatever reason).","body":"Note that sometimes you (conceptually) <i>are</i> creating &quot;runners&quot;, not &quot;jobs&quot;. E.g. if you&#39;re writing a thread pool (for whatever reason)."},{"owner":{"account_id":919418,"reputation":20057,"user_id":3426825,"accept_rate":79,"display_name":"homerun"},"score":0,"creation_date":1425383308,"post_id":541506,"comment_id":45931841,"body_markdown":"@JonSkeet i&#39;m currently creating a class that handles Threads, for example: http://pastebin.com/QNc8xY46. is it OK, or terribly  wrong to do so?","body":"@JonSkeet i&#39;m currently creating a class that handles Threads, for example: <a href=\"http://pastebin.com/QNc8xY46\" rel=\"nofollow noreferrer\">pastebin.com/QNc8xY46</a>. is it OK, or terribly  wrong to do so?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1425383400,"post_id":541506,"comment_id":45931889,"body_markdown":"@somefolk: Well it feels terribly wrong to have public methods beginning with `_`, and having both `start()` and `_start()` is *really* confusing... as is having an instance method called `_sleep()`, when there&#39;s a static `sleep` method. Not that your `_sleep` method actually *does* anything with the instance anyway. In general, this looks like a bad idea to me so far.","body":"@somefolk: Well it feels terribly wrong to have public methods beginning with <code>_</code>, and having both <code>start()</code> and <code>_start()</code> is <i>really</i> confusing... as is having an instance method called <code>_sleep()</code>, when there&#39;s a static <code>sleep</code> method. Not that your <code>_sleep</code> method actually <i>does</i> anything with the instance anyway. In general, this looks like a bad idea to me so far."},{"owner":{"account_id":1244626,"reputation":1619,"user_id":1206341,"display_name":"green marker"},"score":0,"creation_date":1435428175,"post_id":541506,"comment_id":50200141,"body_markdown":"The same answer is in official Java tutorials: https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html","body":"The same answer is in official Java tutorials: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":916980,"reputation":8820,"user_id":2580516,"display_name":"Warren Dew"},"score":0,"creation_date":1445358900,"post_id":541506,"comment_id":54286587,"body_markdown":"A thread that performs a specific task &quot;is a&quot; thread in the object oriented Liskov substitution sense, so the philosophical argument is invalid.  The valid arguments for preferring Runnable are practical, and have to do with modularization of code, especially in cases where you only want multithreading for performance reasons.","body":"A thread that performs a specific task &quot;is a&quot; thread in the object oriented Liskov substitution sense, so the philosophical argument is invalid.  The valid arguments for preferring Runnable are practical, and have to do with modularization of code, especially in cases where you only want multithreading for performance reasons."},{"owner":{"account_id":5446021,"reputation":733,"user_id":4332532,"accept_rate":84,"display_name":"Small Legend"},"score":0,"creation_date":1463841074,"post_id":541506,"comment_id":62241479,"body_markdown":"I know this is an old post, but I feel maybe you could elaborate a little more @JonSkeet give code snippets, pros and cons. As I believe some other answers are more worthy!","body":"I know this is an old post, but I feel maybe you could elaborate a little more @JonSkeet give code snippets, pros and cons. As I believe some other answers are more worthy!"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1463841186,"post_id":541506,"comment_id":62241520,"body_markdown":"@SmallLegend: I don&#39;t see any benefit in code snippets here - I&#39;ve basically explained the philosophical difference. You should generally extend a class if you&#39;re planning to change some of the behaviour it implements. When you extend `Thread` *just* to override `Runnable`, you&#39;re changing behaviour that isn&#39;t part of `Thread` itself.","body":"@SmallLegend: I don&#39;t see any benefit in code snippets here - I&#39;ve basically explained the philosophical difference. You should generally extend a class if you&#39;re planning to change some of the behaviour it implements. When you extend <code>Thread</code> <i>just</i> to override <code>Runnable</code>, you&#39;re changing behaviour that isn&#39;t part of <code>Thread</code> itself."},{"owner":{"account_id":5446021,"reputation":733,"user_id":4332532,"accept_rate":84,"display_name":"Small Legend"},"score":0,"creation_date":1463841396,"post_id":541506,"comment_id":62241582,"body_markdown":"Okay, you know best! So generally, there are no situations where one would choose Thread over  Runnable? @JonSkeet","body":"Okay, you know best! So generally, there are no situations where one would choose Thread over  Runnable? @JonSkeet"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1463841849,"post_id":541506,"comment_id":62241733,"body_markdown":"@SmallLegend: Well if you were customising the actual threading behaviour you could, rather than just &quot;the task that it&#39;s going to run&quot;. Not sure what custom threading behaviour you would implement, admittedly...","body":"@SmallLegend: Well if you were customising the actual threading behaviour you could, rather than just &quot;the task that it&#39;s going to run&quot;. Not sure what custom threading behaviour you would implement, admittedly..."},{"owner":{"account_id":188416,"reputation":10894,"user_id":427155,"accept_rate":85,"display_name":"H2ONaCl"},"score":0,"creation_date":1475794095,"post_id":541506,"comment_id":67098952,"body_markdown":"I think that composition being philosophically purer is an argument for extending an object. Since this answer is saying implementing Runnable is preferred to extending Thread, perhaps composition has nothing to do with the rationale.","body":"I think that composition being philosophically purer is an argument for extending an object. Since this answer is saying implementing Runnable is preferred to extending Thread, perhaps composition has nothing to do with the rationale."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1475794640,"post_id":541506,"comment_id":67099149,"body_markdown":"@H2ONaCl No, absolutely the opposite. Preferring composition over inheritance speaks *against* extending anything.","body":"@H2ONaCl No, absolutely the opposite. Preferring composition over inheritance speaks <i>against</i> extending anything."},{"owner":{"account_id":4586903,"reputation":1824,"user_id":3721259,"accept_rate":77,"display_name":"AV94"},"score":0,"creation_date":1479443978,"post_id":541506,"comment_id":68569458,"body_markdown":"Will there be any difference in the execution times between the two approaches?","body":"Will there be any difference in the execution times between the two approaches?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1479453899,"post_id":541506,"comment_id":68573170,"body_markdown":"@AV94: Not measurable, I expect.","body":"@AV94: Not measurable, I expect."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1603716627,"post_id":541506,"comment_id":114115096,"body_markdown":"@JonSkeet: Since this is such a popular answer I think it would be a good idea to update it with best practices for the post Java 8 world: Often the best way is to pass a lambda expression to the `Thread` constructor: `new Thread(() -&gt; { ... });`","body":"@JonSkeet: Since this is such a popular answer I think it would be a good idea to update it with best practices for the post Java 8 world: Often the best way is to pass a lambda expression to the <code>Thread</code> constructor: <code>new Thread(() -&gt; { ... });</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1603720906,"post_id":541506,"comment_id":114117461,"body_markdown":"@Lii: But the question isn&#39;t actually about &quot;how to start a thread&quot; - it&#39;s about the difference between `Runnable` and `Thread`. I&#39;ll add something saying you can also implement it via a lambda expression, but I don&#39;t want to go further than that.","body":"@Lii: But the question isn&#39;t actually about &quot;how to start a thread&quot; - it&#39;s about the difference between <code>Runnable</code> and <code>Thread</code>. I&#39;ll add something saying you can also implement it via a lambda expression, but I don&#39;t want to go further than that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686903659,"post_id":541506,"comment_id":134865126,"body_markdown":"Maybe it’s worth updating that creating a virtual thread will be impossible when subclassing `Thread`. So, for virtual threads, implementing `Runnable` will be the only way to go.","body":"Maybe it’s worth updating that creating a virtual thread will be impossible when subclassing <code>Thread</code>. So, for virtual threads, implementing <code>Runnable</code> will be the only way to go."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686903691,"post_id":541506,"comment_id":134865133,"body_markdown":"@Holger: I don&#39;t generally go over posts from 14 years ago for new features... otherwise that would basically be my whole life. I suggest you add that as a new answer.","body":"@Holger: I don&#39;t generally go over posts from 14 years ago for new features... otherwise that would basically be my whole life. I suggest you add that as a new answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686903966,"post_id":541506,"comment_id":134865188,"body_markdown":"I don’t want to add a new answer for what is just an addendum. But if you don’t mind I’d add this to your answer once virtual threads are released.","body":"I don’t want to add a new answer for what is just an addendum. But if you don’t mind I’d add this to your answer once virtual threads are released."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686904313,"post_id":541506,"comment_id":134865252,"body_markdown":"@Holger: Yes, feel free to add it to this answer if you want.","body":"@Holger: Yes, feel free to add it to this answer if you want."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":31,"down_vote_count":3,"up_vote_count":1832,"is_accepted":true,"score":1829,"last_activity_date":1603720928,"creation_date":1234449174,"answer_id":541506,"question_id":541487,"body_markdown":"Yes: implements `Runnable` is the preferred way to do it, IMO. You&#39;re not really specialising the thread&#39;s behaviour.  You&#39;re just giving it something to run. That means [composition][1] is the *philosophically* &quot;purer&quot; way to go.\r\n\r\nIn *practical* terms, it means you can implement `Runnable` and extend from another class as well... and you can also implement `Runnable` via a lambda expression as of Java 8.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Object_composition","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Yes: implements <code>Runnable</code> is the preferred way to do it, IMO. You're not really specialising the thread's behaviour.  You're just giving it something to run. That means <a href=\"http://en.wikipedia.org/wiki/Object_composition\" rel=\"noreferrer\">composition</a> is the <em>philosophically</em> &quot;purer&quot; way to go.</p>\n<p>In <em>practical</em> terms, it means you can implement <code>Runnable</code> and extend from another class as well... and you can also implement <code>Runnable</code> via a lambda expression as of Java 8.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1234449189,"creation_date":1234449189,"answer_id":541507,"question_id":541487,"body_markdown":"Instantiating an interface gives a cleaner separation between your code and the implementation of threads, so I&#39;d prefer to implement Runnable in this case.\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Instantiating an interface gives a cleaner separation between your code and the implementation of threads, so I'd prefer to implement Runnable in this case.</p>\n"},{"comments":[{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":45,"creation_date":1353324421,"post_id":541527,"comment_id":18396362,"body_markdown":"This is better than the accepted answer IMHO. One thing: the snippet of code you have doesn&#39;t close down the executor and I see millions of questions where people get this wrong, creating a new Executor every time they want to spawn a task. `es` would be better as a static (or injected) field so it only gets created once.","body":"This is better than the accepted answer IMHO. One thing: the snippet of code you have doesn&#39;t close down the executor and I see millions of questions where people get this wrong, creating a new Executor every time they want to spawn a task. <code>es</code> would be better as a static (or injected) field so it only gets created once."},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":8,"creation_date":1353331721,"post_id":541527,"comment_id":18399780,"body_markdown":"@artbristol, thanks!  I don&#39;t disagree on the new Executor (we do what you suggest in our code).  In writing the original answer, I was trying to write minimal code analagous to the original fragment.  We have to hope that many readers of these answers use them as jumping off points.  I&#39;m not trying to write a replacement for the javadoc.  I&#39;m effectively writing marketing material for it: *if you like this method, you should see all the other great things we have to offer...!*","body":"@artbristol, thanks!  I don&#39;t disagree on the new Executor (we do what you suggest in our code).  In writing the original answer, I was trying to write minimal code analagous to the original fragment.  We have to hope that many readers of these answers use them as jumping off points.  I&#39;m not trying to write a replacement for the javadoc.  I&#39;m effectively writing marketing material for it: <i>if you like this method, you should see all the other great things we have to offer...!</i>"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":7,"creation_date":1430228659,"post_id":541527,"comment_id":47963836,"body_markdown":"I know I&#39;m a bit late commenting on this, but dealing with `FutureTask` directly is generally not what you want to do.  `ExecutorService`s will create the appropriate `Future` for you when you `submit` a `Runnable`/`Callable` to them.  Likewise for `ScheduledExecutorService`s and `ScheduledFuture` when you `schedule` a `Runnable`/`Callable`.","body":"I know I&#39;m a bit late commenting on this, but dealing with <code>FutureTask</code> directly is generally not what you want to do.  <code>ExecutorService</code>s will create the appropriate <code>Future</code> for you when you <code>submit</code> a <code>Runnable</code>/<code>Callable</code> to them.  Likewise for <code>ScheduledExecutorService</code>s and <code>ScheduledFuture</code> when you <code>schedule</code> a <code>Runnable</code>/<code>Callable</code>."},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":3,"creation_date":1430240641,"post_id":541527,"comment_id":47972827,"body_markdown":"@Powerlord, my intention was to make code fragments that matched the OP&#39;s as closely as possible. I agree that new FutureTask isn&#39;t optimal but it is clear for the purposes of explanation.","body":"@Powerlord, my intention was to make code fragments that matched the OP&#39;s as closely as possible. I agree that new FutureTask isn&#39;t optimal but it is clear for the purposes of explanation."},{"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"score":0,"creation_date":1657360397,"post_id":541527,"comment_id":128795448,"body_markdown":"in the first paragraph,  you mentioned &quot;if you use a Runnable and decide later on that this doesn&#39;t in fact require its own Thread, you can just call threadA.run()&quot;. Do you mean calling runnable.run()? Can you show some code your are referring to?","body":"in the first paragraph,  you mentioned &quot;if you use a Runnable and decide later on that this doesn&#39;t in fact require its own Thread, you can just call threadA.run()&quot;. Do you mean calling runnable.run()? Can you show some code your are referring to?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686903558,"post_id":541527,"comment_id":134865105,"body_markdown":"@HKIT the question has been edited (several times) after this answer was posted. `threadA` used to be an instance of what is now called `MyRunnable` in the question.","body":"@HKIT the question has been edited (several times) after this answer was posted. <code>threadA</code> used to be an instance of what is now called <code>MyRunnable</code> in the question."}],"tags":[],"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"comment_count":6,"down_vote_count":1,"up_vote_count":626,"is_accepted":false,"score":625,"last_activity_date":1647033284,"creation_date":1234449425,"answer_id":541527,"question_id":541487,"body_markdown":"**tl;dr: implements Runnable is better.  However, the caveat is important**.\r\n\r\nIn general, I would recommend using something like `Runnable` rather than `Thread` because it allows you to keep your work only loosely coupled with your choice of concurrency.  For example, if you use a `Runnable` and decide later on that this doesn&#39;t in fact require its own `Thread`, you can just call threadA.run().\r\n\r\n**Caveat:** Around here, I strongly discourage the use of raw Threads.  I much prefer the use of [Callables][1] and [FutureTasks][2] (From the javadoc: &quot;A cancellable asynchronous computation&quot;).  The integration of timeouts, proper cancelling and the thread pooling of the modern concurrency support are all much more useful to me than piles of raw Threads.\r\n\r\n**Follow-up:** There is a [`FutureTask` constructor][3] that allows you to use Runnables (if that&#39;s what you are most comfortable with) and still get the benefit of the modern concurrency tools.  [To quote the javadoc][3]:\r\n\r\nIf you don&#39;t need a particular result, consider using constructions of the form: \r\n\r\n    Future&lt;?&gt; f = new FutureTask&lt;Object&gt;(runnable, null)\r\n\r\nSo, if we replace their `runnable` with your `threadA`, we get the following:\r\n\r\n    new FutureTask&lt;Object&gt;(threadA, null)\r\n\r\nAnother option that allows you to stay closer to Runnables is a [ThreadPoolExecutor][4].  You can use the [execute][5] method to pass in a Runnable to execute &quot;the given task sometime in the future&quot;.\r\n\r\nIf you&#39;d like to try using a thread pool, the code fragment above would become something like the following (using the [Executors.newCachedThreadPool()][6] factory method):\r\n\r\n    ExecutorService es = Executors.newCachedThreadPool();\r\n    es.execute(new ThreadA());\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html#FutureTask-java.lang.Runnable-V-\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#execute%28java.lang.Runnable%29\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool%28%29","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p><strong>tl;dr: implements Runnable is better.  However, the caveat is important</strong>.</p>\n<p>In general, I would recommend using something like <code>Runnable</code> rather than <code>Thread</code> because it allows you to keep your work only loosely coupled with your choice of concurrency.  For example, if you use a <code>Runnable</code> and decide later on that this doesn't in fact require its own <code>Thread</code>, you can just call threadA.run().</p>\n<p><strong>Caveat:</strong> Around here, I strongly discourage the use of raw Threads.  I much prefer the use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"noreferrer\">Callables</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html\" rel=\"noreferrer\">FutureTasks</a> (From the javadoc: &quot;A cancellable asynchronous computation&quot;).  The integration of timeouts, proper cancelling and the thread pooling of the modern concurrency support are all much more useful to me than piles of raw Threads.</p>\n<p><strong>Follow-up:</strong> There is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html#FutureTask-java.lang.Runnable-V-\" rel=\"noreferrer\"><code>FutureTask</code> constructor</a> that allows you to use Runnables (if that's what you are most comfortable with) and still get the benefit of the modern concurrency tools.  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html#FutureTask-java.lang.Runnable-V-\" rel=\"noreferrer\">To quote the javadoc</a>:</p>\n<p>If you don't need a particular result, consider using constructions of the form:</p>\n<pre><code>Future&lt;?&gt; f = new FutureTask&lt;Object&gt;(runnable, null)\n</code></pre>\n<p>So, if we replace their <code>runnable</code> with your <code>threadA</code>, we get the following:</p>\n<pre><code>new FutureTask&lt;Object&gt;(threadA, null)\n</code></pre>\n<p>Another option that allows you to stay closer to Runnables is a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"noreferrer\">ThreadPoolExecutor</a>.  You can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#execute%28java.lang.Runnable%29\" rel=\"noreferrer\">execute</a> method to pass in a Runnable to execute &quot;the given task sometime in the future&quot;.</p>\n<p>If you'd like to try using a thread pool, the code fragment above would become something like the following (using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool%28%29\" rel=\"noreferrer\">Executors.newCachedThreadPool()</a> factory method):</p>\n<pre><code>ExecutorService es = Executors.newCachedThreadPool();\nes.execute(new ThreadA());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":5,"creation_date":1234450447,"post_id":541551,"comment_id":353681,"body_markdown":"I wouldn&#39;t think ExecutorService would be that useful if you just want to launch a single thread.","body":"I wouldn&#39;t think ExecutorService would be that useful if you just want to launch a single thread."},{"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"score":1,"creation_date":1234451768,"post_id":541551,"comment_id":353796,"body_markdown":"From what I have learned one should no longer start a thread on your own in general, because leaving that to the executor service makes all much more controllable (like, waiting for the thread to suspend). Also, I don&#39;t see anything in the question that implies it&#39;s about a single thread.","body":"From what I have learned one should no longer start a thread on your own in general, because leaving that to the executor service makes all much more controllable (like, waiting for the thread to suspend). Also, I don&#39;t see anything in the question that implies it&#39;s about a single thread."},{"owner":{"account_id":2168381,"reputation":1253,"user_id":1920968,"display_name":"zEro"},"score":4,"creation_date":1371935763,"post_id":541551,"comment_id":25008546,"body_markdown":"What&#39;s the point of using any multi-threading if we know aprior that it&#39;s going to be a single thread. So let&#39;s assume we have multiple threads and this answer is valuable.","body":"What&#39;s the point of using any multi-threading if we know aprior that it&#39;s going to be a single thread. So let&#39;s assume we have multiple threads and this answer is valuable."},{"owner":{"account_id":288344,"reputation":296,"user_id":588702,"display_name":"Bodey Baker"},"score":1,"creation_date":1387811271,"post_id":541551,"comment_id":31087003,"body_markdown":"@zEro I&#39;m pretty sure there is a reason there is only one Event Dispatch Thread. I doubt it&#39;s the only case were it&#39;s best to have a separate thread but possibly not best to have multiple.","body":"@zEro I&#39;m pretty sure there is a reason there is only one Event Dispatch Thread. I doubt it&#39;s the only case were it&#39;s best to have a separate thread but possibly not best to have multiple."}],"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"comment_count":4,"down_vote_count":3,"up_vote_count":49,"is_accepted":false,"score":46,"last_activity_date":1469257182,"creation_date":1234449682,"answer_id":541551,"question_id":541487,"body_markdown":"You should implement Runnable, but if you are running on Java 5 or higher, you should not start it with `new Thread` but use an [ExecutorService][1] instead. For details see: [How to implement simple threading in Java][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://stackoverflow.com/questions/125333/how-to-implement-simple-threading-in-java","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>You should implement Runnable, but if you are running on Java 5 or higher, you should not start it with <code>new Thread</code> but use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">ExecutorService</a> instead. For details see: <a href=\"https://stackoverflow.com/questions/125333/how-to-implement-simple-threading-in-java\">How to implement simple threading in Java</a>.</p>\n"},{"comments":[{"owner":{"account_id":1423961,"reputation":5726,"user_id":1347968,"accept_rate":50,"display_name":"siegi"},"score":8,"creation_date":1335474790,"post_id":541583,"comment_id":13319736,"body_markdown":"Well, you can actually do the same thing with a `Thread` object too because `Thread implements Runnable`… ;-) But it &quot;feels better&quot; doing this things with a `Runnable` than doing them with a `Thread`!","body":"Well, you can actually do the same thing with a <code>Thread</code> object too because <code>Thread implements Runnable</code>… ;-) But it &quot;feels better&quot; doing this things with a <code>Runnable</code> than doing them with a <code>Thread</code>!"},{"owner":{"account_id":1062,"reputation":37710,"user_id":1409,"accept_rate":87,"display_name":"Herms"},"score":9,"creation_date":1335532771,"post_id":541583,"comment_id":13335368,"body_markdown":"True, but `Thread` adds a lot of extra stuff that you don&#39;t need, and in many cases don&#39;t want.  You&#39;re always better off implementing the interface that matches what you&#39;re actually doing.","body":"True, but <code>Thread</code> adds a lot of extra stuff that you don&#39;t need, and in many cases don&#39;t want.  You&#39;re always better off implementing the interface that matches what you&#39;re actually doing."}],"tags":[],"owner":{"account_id":1062,"reputation":37710,"user_id":1409,"accept_rate":87,"display_name":"Herms"},"comment_count":2,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1476276806,"creation_date":1234450295,"answer_id":541583,"question_id":541487,"body_markdown":"One thing that I&#39;m surprised hasn&#39;t been mentioned yet is that implementing `Runnable` makes your class more flexible.\r\n\r\nIf you extend thread then the action you&#39;re doing is always going to be in a thread.  However, if you implement `Runnable` it doesn&#39;t have to be.  You can run it in a thread, or pass it to some kind of executor service, or just pass it around as a task within a single threaded application (maybe to be run at a later time, but within the same thread).  The options are a lot more open if you just use `Runnable` than if you bind yourself to `Thread`.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>One thing that I'm surprised hasn't been mentioned yet is that implementing <code>Runnable</code> makes your class more flexible.</p>\n\n<p>If you extend thread then the action you're doing is always going to be in a thread.  However, if you implement <code>Runnable</code> it doesn't have to be.  You can run it in a thread, or pass it to some kind of executor service, or just pass it around as a task within a single threaded application (maybe to be run at a later time, but within the same thread).  The options are a lot more open if you just use <code>Runnable</code> than if you bind yourself to <code>Thread</code>.</p>\n"},{"tags":[],"owner":{"account_id":51016,"reputation":173,"user_id":152317,"accept_rate":14,"display_name":"Govula Srinivas"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268031786,"creation_date":1268031786,"answer_id":2399784,"question_id":541487,"body_markdown":" Separating the Thread class from the Runnable implementation also avoids potential synchronization problems between the thread and the run() method. A separate Runnable generally gives greater flexibility in the way that runnable code is referenced and executed.\r\n\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Separating the Thread class from the Runnable implementation also avoids potential synchronization problems between the thread and the run() method. A separate Runnable generally gives greater flexibility in the way that runnable code is referenced and executed.</p>\n"},{"comments":[{"owner":{"account_id":5439830,"reputation":88,"user_id":4328206,"display_name":"Liebertee"},"score":1,"creation_date":1445414355,"post_id":2426408,"comment_id":54309175,"body_markdown":"This should always be the question if you start making a concurrent running Object! Do you even need the Thread Object funtions?","body":"This should always be the question if you start making a concurrent running Object! Do you even need the Thread Object funtions?"},{"owner":{"account_id":916980,"reputation":8820,"user_id":2580516,"display_name":"Warren Dew"},"score":7,"creation_date":1465272095,"post_id":2426408,"comment_id":62818394,"body_markdown":"When inheriting from Thread, one nearly always wants to override the behavior of the `run()` method.","body":"When inheriting from Thread, one nearly always wants to override the behavior of the <code>run()</code> method."},{"owner":{"account_id":239393,"reputation":7415,"user_id":508957,"accept_rate":58,"display_name":"sura2k"},"score":1,"creation_date":1467797289,"post_id":2426408,"comment_id":63863644,"body_markdown":"You cannot override the behavior of a `java.lang.Thread` by overriding the `run()` method. In that case you need to override the `start()` method I guess. Normally you just reuse the behavior of the `java.lang.Thread` by injecting your execution block in to the `run()` method.","body":"You cannot override the behavior of a <code>java.lang.Thread</code> by overriding the <code>run()</code> method. In that case you need to override the <code>start()</code> method I guess. Normally you just reuse the behavior of the <code>java.lang.Thread</code> by injecting your execution block in to the <code>run()</code> method."},{"owner":{"account_id":4443235,"reputation":866,"user_id":3617261,"display_name":"peja"},"score":0,"creation_date":1535636477,"post_id":2426408,"comment_id":91147449,"body_markdown":"The inheritance is not just for overriding some behavior, is also to use common behaviors. And it is the opposite, the more overrides, the worser hierarchy.","body":"The inheritance is not just for overriding some behavior, is also to use common behaviors. And it is the opposite, the more overrides, the worser hierarchy."}],"tags":[],"owner":{"account_id":74748,"reputation":3592,"user_id":214626,"accept_rate":82,"display_name":"panzerschreck"},"comment_count":4,"down_vote_count":3,"up_vote_count":296,"is_accepted":false,"score":293,"last_activity_date":1440779210,"creation_date":1268322654,"answer_id":2426408,"question_id":541487,"body_markdown":"Moral of the story:\r\n\r\n*Inherit only if you want to override some behavior.*\r\n\r\nOr rather it should be read as:\r\n\r\n*Inherit less, interface more.*","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Moral of the story:</p>\n\n<p><em>Inherit only if you want to override some behavior.</em></p>\n\n<p>Or rather it should be read as:</p>\n\n<p><em>Inherit less, interface more.</em></p>\n"},{"tags":[],"owner":{"account_id":44103,"reputation":6893,"user_id":129213,"display_name":"n13"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1273206537,"creation_date":1273206537,"answer_id":2786210,"question_id":541487,"body_markdown":"Runnable because: \r\n\r\n - Leaves more flexibility for the\r\n   Runnable implementation to extend\r\n   another class \r\n - Separates the code from\r\n   execution\r\n - Allows you to run your\r\n   runnable from a Thread Pool, the\r\n   event thread, or in any other way in\r\n   the future.\r\n \r\nEven if you don&#39;t need any of this now, you may in the future. Since there is no benefit to overriding Thread, Runnable is a better solution.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Runnable because: </p>\n\n<ul>\n<li>Leaves more flexibility for the\nRunnable implementation to extend\nanother class </li>\n<li>Separates the code from\nexecution</li>\n<li>Allows you to run your\nrunnable from a Thread Pool, the\nevent thread, or in any other way in\nthe future.</li>\n</ul>\n\n<p>Even if you don't need any of this now, you may in the future. Since there is no benefit to overriding Thread, Runnable is a better solution.</p>\n"},{"comments":[{"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"score":41,"creation_date":1294858217,"post_id":4019116,"comment_id":5149899,"body_markdown":"This isn&#39;t really a third way.  You&#39;re still implementing Runnable, just doing it anonymously.","body":"This isn&#39;t really a third way.  You&#39;re still implementing Runnable, just doing it anonymously."},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":2,"creation_date":1294912778,"post_id":4019116,"comment_id":5157968,"body_markdown":"@Don Roby: Which is different. It&#39;s often convenient, and you can use fields and final local variables from the containing class/method.","body":"@Don Roby: Which is different. It&#39;s often convenient, and you can use fields and final local variables from the containing class/method."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":7,"creation_date":1420507710,"post_id":4019116,"comment_id":43991233,"body_markdown":"@BartvanHeukelom It&#39;s convenient, but not different. You can do this with any type of nested class, i.e. inner classes, local classes and lambda expressions.","body":"@BartvanHeukelom It&#39;s convenient, but not different. You can do this with any type of nested class, i.e. inner classes, local classes and lambda expressions."}],"tags":[],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1288042860,"creation_date":1288042860,"answer_id":4019116,"question_id":541487,"body_markdown":"I would say there is a third way:\r\n\r\n    public class Something {\r\n    \r\n    \tpublic void justAnotherMethod() { ... }\r\n    \r\n    }\r\n    \r\n    new Thread(new Runnable() {\r\n       public void run() {\r\n    \tinstanceOfSomething.justAnotherMethod();\r\n       }\r\n    }).start();\r\n\r\nMaybe this is influenced a bit by my recent heavy usage of Javascript and Actionscript 3, but this way your class doesn&#39;t need to implement a pretty vague interface like `Runnable`.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>I would say there is a third way:</p>\n\n<pre><code>public class Something {\n\n    public void justAnotherMethod() { ... }\n\n}\n\nnew Thread(new Runnable() {\n   public void run() {\n    instanceOfSomething.justAnotherMethod();\n   }\n}).start();\n</code></pre>\n\n<p>Maybe this is influenced a bit by my recent heavy usage of Javascript and Actionscript 3, but this way your class doesn't need to implement a pretty vague interface like <code>Runnable</code>.</p>\n"},{"tags":[],"owner":{"account_id":552084,"reputation":587,"user_id":730911,"accept_rate":77,"display_name":"Manoj Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1327739476,"creation_date":1327739476,"answer_id":9043937,"question_id":541487,"body_markdown":"Yes,\r\nIf you call ThreadA call , then  not need to call the start method and run method is call after call the ThreadA class only.\r\nBut If use the ThreadB call then need to necessary the start thread for call run method.\r\nIf you have any more help, reply me.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Yes,\nIf you call ThreadA call , then  not need to call the start method and run method is call after call the ThreadA class only.\nBut If use the ThreadB call then need to necessary the start thread for call run method.\nIf you have any more help, reply me.</p>\n"},{"tags":[],"owner":{"account_id":1381143,"reputation":97,"user_id":1314112,"display_name":"Tarvaris Jackson"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1339268955,"creation_date":1339268955,"answer_id":10963798,"question_id":541487,"body_markdown":"I find it is most useful to use Runnable for all the reasons mentioned, but sometimes I like to extend Thread so I can create my own thread stopping method and call it directly on the thread I have created.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>I find it is most useful to use Runnable for all the reasons mentioned, but sometimes I like to extend Thread so I can create my own thread stopping method and call it directly on the thread I have created.</p>\n"},{"tags":[],"owner":{"account_id":1490856,"reputation":1033,"user_id":1397969,"accept_rate":20,"display_name":"Himanshu Mohta"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1339270111,"creation_date":1339270111,"answer_id":10963921,"question_id":541487,"body_markdown":"Java does not support multiple inheritence so if you extends Thread class then no other class will be extended. \r\n\r\nFor Example: If you create an applet then it must extends Applet class so here the only way to create thread is by implementing Runnable interface","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Java does not support multiple inheritence so if you extends Thread class then no other class will be extended. </p>\n\n<p>For Example: If you create an applet then it must extends Applet class so here the only way to create thread is by implementing Runnable interface</p>\n"},{"comments":[{"owner":{"account_id":1068434,"reputation":1602,"user_id":1068314,"display_name":"AntonyM"},"score":0,"creation_date":1351864571,"post_id":11110781,"comment_id":17964784,"body_markdown":"cHao what is your point?  You could not use your code above during the execution of the thread to obtain a stacktrace of the threads creation (instead you would get a simple name or at best a stacktrace of the threads launch) but by subclassing thread you can do exactly that and force it, even requiring further context specific information thereby giving you a more concrete understanding of exactly which thread may be having an issue.","body":"cHao what is your point?  You could not use your code above during the execution of the thread to obtain a stacktrace of the threads creation (instead you would get a simple name or at best a stacktrace of the threads launch) but by subclassing thread you can do exactly that and force it, even requiring further context specific information thereby giving you a more concrete understanding of exactly which thread may be having an issue."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":8,"creation_date":1351864964,"post_id":11110781,"comment_id":17964970,"body_markdown":"My point is that &quot;If you implement Runnable then the class that implements Runnable has no control over the thread name...&quot; is patently false.  A class implementing `Runnable` can indeed control the thread name, as the thread running the code is by definition the current thread (and *any code that passes the security checks* has control over thread names).  Considering you devote half your post to &quot;omg, what about thread names!&quot;, that seems like a kinda big deal.","body":"My point is that &quot;If you implement Runnable then the class that implements Runnable has no control over the thread name...&quot; is patently false.  A class implementing <code>Runnable</code> can indeed control the thread name, as the thread running the code is by definition the current thread (and <i>any code that passes the security checks</i> has control over thread names).  Considering you devote half your post to &quot;omg, what about thread names!&quot;, that seems like a kinda big deal."},{"owner":{"account_id":16920,"reputation":2114,"user_id":37370,"accept_rate":67,"display_name":"RichieHH"},"score":0,"creation_date":1406516376,"post_id":11110781,"comment_id":38847674,"body_markdown":"The thread name?  Nothing is stopping you extending the thread class as well.","body":"The thread name?  Nothing is stopping you extending the thread class as well."}],"tags":[],"owner":{"account_id":1068434,"reputation":1602,"user_id":1068314,"display_name":"AntonyM"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1340147569,"creation_date":1340147569,"answer_id":11110781,"question_id":541487,"body_markdown":"Everyone here seems to think that implementing Runnable is the way to go and I don&#39;t really disagree with them but there is also a case for extending Thread in my opinion, in fact you have sort of demonstrated it in your code.\r\n\r\nIf you implement Runnable then the class that implements Runnable has no control over the thread name, it is the calling code that can set the thread name, like so:\r\n\r\n    new Thread(myRunnable,&quot;WhateverNameiFeelLike&quot;);\r\n\r\nbut if you extend Thread then you get to manage this within the class itself (just like in your example you name the thread &#39;ThreadB&#39;).  In this case you:\r\n\r\nA) might give it a more useful name for debugging purposes \r\n\r\nB) are forcing that that name be used for all instances of that class (unless you ignore the fact that it is a thread and do the above with it as if it is a Runnable but we are talking about convention here in any case so can ignore that possibility I feel).\r\n\r\nYou might even for example take a stack trace of its creation and use that as the thread name.  This might seem odd but depending on how your code is structured it can be very useful for debugging purposes.\r\n\r\nThis might seem like a small thing but where you have a very complex application with a lot of threads and all of a sudden things &#39;have stopped&#39; (either for reasons of deadlock or possibly because of a flaw in a network protocol which would be less obvious - or other endless reasons) then getting a stack dump from Java where all the threads are called &#39;Thread-1&#39;,&#39;Thread-2&#39;,&#39;Thread-3&#39; is not always very useful (it depends on how your threads are structured and whether you can usefully tell which is which just by their stack trace - not always possible if you are using groups of multiple threads all running the same code).\r\n\r\nHaving said that you could of course also do the above in a generic way by creating an extension of the thread class which sets its name to a stack trace of its creation call and then use that with your Runnable implementations instead of the standard java Thread class (see below) but in addition to the stack trace there might be more context specific information that would be useful in the thread name for debugging (a reference to one of many queues or sockets it could processing for example in which case you might prefer to extend Thread specifically for that case so that you can have the compiler force you (or others using your libraries) to pass in certain info (e.g. the queue/socket in question) for use in the name).\r\n\r\nHere&#39;s an example of the generic thread with the calling stack trace as its name:\r\n\r\n    public class DebuggableThread extends Thread {\r\n    \tprivate static String getStackTrace(String name) {\r\n    \t\tThrowable t= new Throwable(&quot;DebuggableThread-&quot;+name);\r\n    \t\tByteArrayOutputStream os = new ByteArrayOutputStream();\r\n    \t\tPrintStream ps = new PrintStream(os);\r\n    \t\tt.printStackTrace(ps);\r\n    \t\treturn os.toString();\r\n    \t}\r\n    \r\n    \tpublic DebuggableThread(String name) {\r\n    \t\tsuper(getStackTrace(name));\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.out.println(new Thread());\r\n    \t\tSystem.out.println(new DebuggableThread(&quot;MainTest&quot;));\r\n    \t}\r\n    }\r\n\r\nand here&#39;s a sample of the output comparing the two names:\r\n\r\n    Thread[Thread-1,5,main]\r\n    Thread[java.lang.Throwable: DebuggableThread-MainTest\r\n    \tat DebuggableThread.getStackTrace(DebuggableThread.java:6)\r\n    \tat DebuggableThread.&lt;init&gt;(DebuggableThread.java:14)\r\n    \tat DebuggableThread.main(DebuggableThread.java:19)\r\n    ,5,main]\r\n\r\n\r\n\r\n\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Everyone here seems to think that implementing Runnable is the way to go and I don't really disagree with them but there is also a case for extending Thread in my opinion, in fact you have sort of demonstrated it in your code.</p>\n\n<p>If you implement Runnable then the class that implements Runnable has no control over the thread name, it is the calling code that can set the thread name, like so:</p>\n\n<pre><code>new Thread(myRunnable,\"WhateverNameiFeelLike\");\n</code></pre>\n\n<p>but if you extend Thread then you get to manage this within the class itself (just like in your example you name the thread 'ThreadB').  In this case you:</p>\n\n<p>A) might give it a more useful name for debugging purposes </p>\n\n<p>B) are forcing that that name be used for all instances of that class (unless you ignore the fact that it is a thread and do the above with it as if it is a Runnable but we are talking about convention here in any case so can ignore that possibility I feel).</p>\n\n<p>You might even for example take a stack trace of its creation and use that as the thread name.  This might seem odd but depending on how your code is structured it can be very useful for debugging purposes.</p>\n\n<p>This might seem like a small thing but where you have a very complex application with a lot of threads and all of a sudden things 'have stopped' (either for reasons of deadlock or possibly because of a flaw in a network protocol which would be less obvious - or other endless reasons) then getting a stack dump from Java where all the threads are called 'Thread-1','Thread-2','Thread-3' is not always very useful (it depends on how your threads are structured and whether you can usefully tell which is which just by their stack trace - not always possible if you are using groups of multiple threads all running the same code).</p>\n\n<p>Having said that you could of course also do the above in a generic way by creating an extension of the thread class which sets its name to a stack trace of its creation call and then use that with your Runnable implementations instead of the standard java Thread class (see below) but in addition to the stack trace there might be more context specific information that would be useful in the thread name for debugging (a reference to one of many queues or sockets it could processing for example in which case you might prefer to extend Thread specifically for that case so that you can have the compiler force you (or others using your libraries) to pass in certain info (e.g. the queue/socket in question) for use in the name).</p>\n\n<p>Here's an example of the generic thread with the calling stack trace as its name:</p>\n\n<pre><code>public class DebuggableThread extends Thread {\n    private static String getStackTrace(String name) {\n        Throwable t= new Throwable(\"DebuggableThread-\"+name);\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        PrintStream ps = new PrintStream(os);\n        t.printStackTrace(ps);\n        return os.toString();\n    }\n\n    public DebuggableThread(String name) {\n        super(getStackTrace(name));\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(new Thread());\n        System.out.println(new DebuggableThread(\"MainTest\"));\n    }\n}\n</code></pre>\n\n<p>and here's a sample of the output comparing the two names:</p>\n\n<pre><code>Thread[Thread-1,5,main]\nThread[java.lang.Throwable: DebuggableThread-MainTest\n    at DebuggableThread.getStackTrace(DebuggableThread.java:6)\n    at DebuggableThread.&lt;init&gt;(DebuggableThread.java:14)\n    at DebuggableThread.main(DebuggableThread.java:19)\n,5,main]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223507,"reputation":63,"user_id":1189632,"display_name":"Nano"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1341587559,"creation_date":1341587559,"answer_id":11364937,"question_id":541487,"body_markdown":"This maybe isn&#39;t an answer but anyway; there is one more way to create threads:\r\n\r\n    Thread t = new Thread() {\r\n        public void run() {\r\n            // Code here\r\n        }\r\n    }\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>This maybe isn't an answer but anyway; there is one more way to create threads:</p>\n\n<pre><code>Thread t = new Thread() {\n    public void run() {\n        // Code here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1197738,"reputation":508,"user_id":1458183,"accept_rate":75,"display_name":"developer110"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1345312031,"creation_date":1345312031,"answer_id":12020863,"question_id":541487,"body_markdown":"`Runnable` is an interface, while `Thread` is a class which implements this interface. From a design point of view, there should be a clean separation between how a task is defined and between how it is executed. The former is the responsibility of a `Runnalbe` implementation, and the latter is job of the `Thread` class. In most of the cases implementing `Runnable` is the right way to follow.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p><code>Runnable</code> is an interface, while <code>Thread</code> is a class which implements this interface. From a design point of view, there should be a clean separation between how a task is defined and between how it is executed. The former is the responsibility of a <code>Runnalbe</code> implementation, and the latter is job of the <code>Thread</code> class. In most of the cases implementing <code>Runnable</code> is the right way to follow.</p>\n"},{"tags":[],"owner":{"account_id":1970675,"reputation":14602,"user_id":1769720,"display_name":"didierc"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1368261699,"creation_date":1363601671,"answer_id":15474258,"question_id":541487,"body_markdown":"That&#39;s the [S][2] of [SOLID][1]: Single responsibility. \r\n\r\nA _thread_ embodies the **running context** (as in execution context: stack frame, thread id, etc.) of the _asynchronous execution_ of a piece of code. That _piece of code_ ideally should be the same implementation, whether _synchronous_ or _asynchronous_.\r\n\r\nIf you bundle them together in one implementation, you give the resulting object two _unrelated_ causes of change:\r\n\r\n1. thread handling in your application (ie. querying and modifying the execution context)\r\n2. algorithm implemented by the piece of code (the runnable part)\r\n\r\nIf the language you use supports partial classes or multiple inheritance, then you can segregate each cause in its own super class, but it boils down to the same as composing the two objects, since their feature sets don&#39;t overlap. That&#39;s for the theory. \r\n\r\nIn practice, generally speaking, a programme does not need to carry more complexity than necessary. If you have one thread working on a specific task, without ever changing that task, there is probably no point in making the tasks separate classes, and your code remains simpler.  \r\n\r\n In the context of _Java_, since the facility is **already there**, it is probably easier to start directly with stand alone `Runnable` classes, and pass their instances to `Thread` (or `Executor`) instances. Once _used_ to that pattern, it is not harder to use (or even read) than the simple runnable thread case.\r\n\r\n\r\n\r\n[1]: http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\r\n[2]: http://en.wikipedia.org/wiki/Single_responsibility_principle","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>That's the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">S</a> of <a href=\"http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\" rel=\"noreferrer\">SOLID</a>: Single responsibility. </p>\n\n<p>A <em>thread</em> embodies the <strong>running context</strong> (as in execution context: stack frame, thread id, etc.) of the <em>asynchronous execution</em> of a piece of code. That <em>piece of code</em> ideally should be the same implementation, whether <em>synchronous</em> or <em>asynchronous</em>.</p>\n\n<p>If you bundle them together in one implementation, you give the resulting object two <em>unrelated</em> causes of change:</p>\n\n<ol>\n<li>thread handling in your application (ie. querying and modifying the execution context)</li>\n<li>algorithm implemented by the piece of code (the runnable part)</li>\n</ol>\n\n<p>If the language you use supports partial classes or multiple inheritance, then you can segregate each cause in its own super class, but it boils down to the same as composing the two objects, since their feature sets don't overlap. That's for the theory. </p>\n\n<p>In practice, generally speaking, a programme does not need to carry more complexity than necessary. If you have one thread working on a specific task, without ever changing that task, there is probably no point in making the tasks separate classes, and your code remains simpler.  </p>\n\n<p>In the context of <em>Java</em>, since the facility is <strong>already there</strong>, it is probably easier to start directly with stand alone <code>Runnable</code> classes, and pass their instances to <code>Thread</code> (or <code>Executor</code>) instances. Once <em>used</em> to that pattern, it is not harder to use (or even read) than the simple runnable thread case.</p>\n"},{"tags":[],"owner":{"account_id":972934,"reputation":20673,"user_id":1575570,"accept_rate":100,"display_name":"Nidhish Krishnan"},"comment_count":0,"down_vote_count":2,"up_vote_count":92,"is_accepted":false,"score":90,"last_activity_date":1555972218,"creation_date":1368262782,"answer_id":16495477,"question_id":541487,"body_markdown":"If you want to implements or extends any other class then `Runnable` interface is most preferable, otherwise, if you do not want any other class to extend or implement then `Thread` class is preferable. \r\n\r\n**The most common difference is**\r\n\r\n![enter image description here][1]\r\n\r\nWhen you `extends Thread` class, after that you can’t extend any other class which you required. (As you know, Java does not allow inheriting more than one class).\r\n\r\nWhen you `implements Runnable`, you can save space for your class to extend any other class in the future or now.\r\n\r\n  - Java doesn&#39;t support multiple inheritances, which means you can only extend one class in Java so once you extended Thread class you lost your chance and cannot extend or inherit another class in Java.\r\n\r\n  - In Object-oriented programming, extending a class generally means, adding new functionality, and modifying or improving behaviors. If we are not making any modification on Thread then use Runnable interface instead.\r\n\r\n  - Runnable interface represents a Task which can be executed by either plain Thread or Executors or any other means. so logical separation of Task as Runnable than Thread is a good design decision.\r\n\r\n  - Separating task as Runnable means we can reuse the task and also has the liberty to execute it from different means. since you can not restart a Thread once it completes. again Runnable vs Thread for task, Runnable is winner.\r\n\r\n  - Java designer recognizes this and that&#39;s why Executors accept Runnable as Task and they have worker thread which executes those task.\r\n\r\n  - Inheriting all Thread methods are additional overhead just for representing a Task which can be done easily with Runnable.\r\n\r\nCourtesy from [javarevisited.blogspot.com][2]\r\n\r\nThese were some of the notable differences between Thread and Runnable in Java. If you know any other differences on Thread vs Runnable than please share it via comments. I personally use Runnable over Thread for this scenario and recommends to use Runnable or Callable interface based on your requirement.\r\n\r\n**However, the significant difference is.**\r\n\r\nWhen you `extends Thread` class, each of your thread creates a unique object and associate with it.\r\nWhen you `implements Runnable`, it shares the same object to multiple threads.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vLRdp.gif\r\n  [2]: http://javarevisited.blogspot.com/2012/01/difference-thread-vs-runnable-interface.html","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>If you want to implements or extends any other class then <code>Runnable</code> interface is most preferable, otherwise, if you do not want any other class to extend or implement then <code>Thread</code> class is preferable. </p>\n\n<p><strong>The most common difference is</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/vLRdp.gif\" alt=\"enter image description here\"></p>\n\n<p>When you <code>extends Thread</code> class, after that you can’t extend any other class which you required. (As you know, Java does not allow inheriting more than one class).</p>\n\n<p>When you <code>implements Runnable</code>, you can save space for your class to extend any other class in the future or now.</p>\n\n<ul>\n<li><p>Java doesn't support multiple inheritances, which means you can only extend one class in Java so once you extended Thread class you lost your chance and cannot extend or inherit another class in Java.</p></li>\n<li><p>In Object-oriented programming, extending a class generally means, adding new functionality, and modifying or improving behaviors. If we are not making any modification on Thread then use Runnable interface instead.</p></li>\n<li><p>Runnable interface represents a Task which can be executed by either plain Thread or Executors or any other means. so logical separation of Task as Runnable than Thread is a good design decision.</p></li>\n<li><p>Separating task as Runnable means we can reuse the task and also has the liberty to execute it from different means. since you can not restart a Thread once it completes. again Runnable vs Thread for task, Runnable is winner.</p></li>\n<li><p>Java designer recognizes this and that's why Executors accept Runnable as Task and they have worker thread which executes those task.</p></li>\n<li><p>Inheriting all Thread methods are additional overhead just for representing a Task which can be done easily with Runnable.</p></li>\n</ul>\n\n<p>Courtesy from <a href=\"http://javarevisited.blogspot.com/2012/01/difference-thread-vs-runnable-interface.html\" rel=\"noreferrer\">javarevisited.blogspot.com</a></p>\n\n<p>These were some of the notable differences between Thread and Runnable in Java. If you know any other differences on Thread vs Runnable than please share it via comments. I personally use Runnable over Thread for this scenario and recommends to use Runnable or Callable interface based on your requirement.</p>\n\n<p><strong>However, the significant difference is.</strong></p>\n\n<p>When you <code>extends Thread</code> class, each of your thread creates a unique object and associate with it.\nWhen you <code>implements Runnable</code>, it shares the same object to multiple threads.</p>\n"},{"comments":[{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":1,"creation_date":1386137464,"post_id":17864833,"comment_id":30408591,"body_markdown":"Yes by implementing Runnable interface to are free to implement your own logic by extending any class, thats why Runnable is mostly preferred over Thread class.","body":"Yes by implementing Runnable interface to are free to implement your own logic by extending any class, thats why Runnable is mostly preferred over Thread class."}],"tags":[],"owner":{"account_id":2054492,"reputation":441,"user_id":1832655,"accept_rate":50,"display_name":"Nikhil A A"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1374773340,"creation_date":1374773340,"answer_id":17864833,"question_id":541487,"body_markdown":"One reason you&#39;d want to implement an interface rather than extend a base class is that you are already extending some other class. You can only extend one class, but you can implement any number of interfaces.\r\n\r\nIf you extend Thread, you&#39;re basically preventing your logic to be executed by any other thread than &#39;this&#39;. If you only want *some* thread to execute your logic, it&#39;s better to just implement Runnable.\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>One reason you'd want to implement an interface rather than extend a base class is that you are already extending some other class. You can only extend one class, but you can implement any number of interfaces.</p>\n\n<p>If you extend Thread, you're basically preventing your logic to be executed by any other thread than 'this'. If you only want <em>some</em> thread to execute your logic, it's better to just implement Runnable.</p>\n"},{"tags":[],"owner":{"account_id":3294002,"reputation":1062,"user_id":2771655,"accept_rate":41,"display_name":"user2771655"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1380175082,"creation_date":1380175082,"answer_id":19020435,"question_id":541487,"body_markdown":"if you use runnable you can save the space to extend to any of your other class.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>if you use runnable you can save the space to extend to any of your other class.</p>\n"},{"tags":[],"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1385089911,"creation_date":1385089911,"answer_id":20136329,"question_id":541487,"body_markdown":"Can we re-visit the basic reason we wanted our class to behave as a `Thread`?\r\nThere is no reason at all, we just wanted to execute a task, most likely in an asynchronous mode, which precisely means that the execution of the task must branch from our main thread and the main thread if finishes early, may or may not wait for the branched path(task).\r\n\r\nIf this is the whole purpose, then where do I see the need of a specialized Thread. This can be accomplished by picking up a RAW Thread from the System&#39;s Thread Pool and assigning it our task (may be an instance of our class) and that is it.\r\n\r\nSo let us obey the OOPs concept and write a class of the type we need. There are many ways to do things, doing it in the right way matters. \r\n\r\nWe need a task, so write a task definition which can be run on a Thread. So use Runnable.\r\n\r\nAlways remember `implements` is specially used to impart a behaviour and `extends` is used to impart a feature/property.\r\n\r\nWe do not want the thread&#39;s property, instead we want our class to behave as a task which can be run.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Can we re-visit the basic reason we wanted our class to behave as a <code>Thread</code>?\nThere is no reason at all, we just wanted to execute a task, most likely in an asynchronous mode, which precisely means that the execution of the task must branch from our main thread and the main thread if finishes early, may or may not wait for the branched path(task).</p>\n\n<p>If this is the whole purpose, then where do I see the need of a specialized Thread. This can be accomplished by picking up a RAW Thread from the System's Thread Pool and assigning it our task (may be an instance of our class) and that is it.</p>\n\n<p>So let us obey the OOPs concept and write a class of the type we need. There are many ways to do things, doing it in the right way matters. </p>\n\n<p>We need a task, so write a task definition which can be run on a Thread. So use Runnable.</p>\n\n<p>Always remember <code>implements</code> is specially used to impart a behaviour and <code>extends</code> is used to impart a feature/property.</p>\n\n<p>We do not want the thread's property, instead we want our class to behave as a task which can be run.</p>\n"},{"tags":[],"owner":{"account_id":2573724,"reputation":4716,"user_id":2231887,"accept_rate":88,"display_name":"Sionnach733"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1390322649,"creation_date":1390322649,"answer_id":21264101,"question_id":541487,"body_markdown":"This is discussed in Oracle&#39;s [Defining and Starting a Thread][1] tutorial:\r\n\r\n&gt; Which of these idioms should you use? The first idiom, which employs a\r\n&gt; Runnable object, is more general, because the Runnable object can\r\n&gt; subclass a class other than Thread. The second idiom is easier to use\r\n&gt; in simple applications, but is limited by the fact that your task\r\n&gt; class must be a descendant of Thread. This lesson focuses on the first\r\n&gt; approach, which separates the Runnable task from the Thread object\r\n&gt; that executes the task. Not only is this approach more flexible, but\r\n&gt; it is applicable to the high-level thread management APIs covered\r\n&gt; later.\r\n\r\nIn other words, implementing `Runnable` will work in scenarios where your class extends a class other than `Thread`. Java does not support multiple inheritance. Also, extending `Thread` will not be possible when using some of the high-level thread management APIs. The only scenario where extending `Thread` is preferable is in a small application that won&#39;t be subject to updates in future. It is almost always better to implement `Runnable` as it is more flexible as your project grows. A design change won&#39;t have a major impact as you can implement many interfaces in java, but only extend one class.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>This is discussed in Oracle's <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html\">Defining and Starting a Thread</a> tutorial:</p>\n\n<blockquote>\n  <p>Which of these idioms should you use? The first idiom, which employs a\n  Runnable object, is more general, because the Runnable object can\n  subclass a class other than Thread. The second idiom is easier to use\n  in simple applications, but is limited by the fact that your task\n  class must be a descendant of Thread. This lesson focuses on the first\n  approach, which separates the Runnable task from the Thread object\n  that executes the task. Not only is this approach more flexible, but\n  it is applicable to the high-level thread management APIs covered\n  later.</p>\n</blockquote>\n\n<p>In other words, implementing <code>Runnable</code> will work in scenarios where your class extends a class other than <code>Thread</code>. Java does not support multiple inheritance. Also, extending <code>Thread</code> will not be possible when using some of the high-level thread management APIs. The only scenario where extending <code>Thread</code> is preferable is in a small application that won't be subject to updates in future. It is almost always better to implement <code>Runnable</code> as it is more flexible as your project grows. A design change won't have a major impact as you can implement many interfaces in java, but only extend one class.</p>\n"},{"comments":[{"owner":{"account_id":217270,"reputation":2444,"user_id":472992,"display_name":"J&#246;rg"},"score":0,"creation_date":1461924959,"post_id":21749501,"comment_id":61430485,"body_markdown":"@Pino Yes, Thread itself is also a Runnable. However, if you extend it to just use it as a Runnable, what&#39;s the point? Why not just use a plain Runnable without all the baggage. So, I&#39;d argue, that if you extend Thread, you also would execute it by using its start method, which can only be used once. That&#39;s the point Nidhish-Krishnan wanted to make in his answer. Note, that mine is just a compilation or brief summary of other answers here.","body":"@Pino Yes, Thread itself is also a Runnable. However, if you extend it to just use it as a Runnable, what&#39;s the point? Why not just use a plain Runnable without all the baggage. So, I&#39;d argue, that if you extend Thread, you also would execute it by using its start method, which can only be used once. That&#39;s the point Nidhish-Krishnan wanted to make in his answer. Note, that mine is just a compilation or brief summary of other answers here."}],"tags":[],"owner":{"account_id":217270,"reputation":2444,"user_id":472992,"display_name":"J&#246;rg"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1415870384,"creation_date":1392282431,"answer_id":21749501,"question_id":541487,"body_markdown":"Since this is a very popular topic and the good answers are spread all over and dealt with in great depth, I felt it is justifiable to compile the good answers from the others into a more concise form, so newcomers have an easy overview upfront:\r\n\r\n1. You usually extend a class to add or modify functionality. So, *if you don&#39;t want* to **overwrite** any **Thread behavior**, then use Runnable.\r\n\r\n2. In the same light, *if you don&#39;t need* to **inherit** thread methods, you can do without that **overhead** by using Runnable.\r\n\r\n3. **Single inheritance**: If you extend Thread you cannot extend from any other class, so if that is what you need to do, you have to use Runnable.\r\n\r\n4. It is good design to separate domain logic from technical means, in that sense it is better to have a Runnable task **isolating** your **task from** your **runner**.\r\n\r\n5. You can **execute** the same Runnable **object multiple times**, a Thread object, however, can only be started once. (Maybe the reason, why Executors do accept Runnables, but not Threads.)\r\n\r\n6. If you develop your task as Runnable, you have **all flexibility how to use it now and in the future**. You can have it run concurrently via Executors but also via Thread. And you still could also use/call it non-concurrently within the same thread just as any other ordinary type/object. \r\n\r\n7. This makes it also easier to **separate** task-logic and concurrency **aspects in** your **unit tests**.\r\n\r\n8. If you are interested in this question, you might be also interested in the [difference between Callable and Runnable][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/141284/the-difference-between-the-runnable-and-callable-interfaces-in-java","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Since this is a very popular topic and the good answers are spread all over and dealt with in great depth, I felt it is justifiable to compile the good answers from the others into a more concise form, so newcomers have an easy overview upfront:</p>\n\n<ol>\n<li><p>You usually extend a class to add or modify functionality. So, <em>if you don't want</em> to <strong>overwrite</strong> any <strong>Thread behavior</strong>, then use Runnable.</p></li>\n<li><p>In the same light, <em>if you don't need</em> to <strong>inherit</strong> thread methods, you can do without that <strong>overhead</strong> by using Runnable.</p></li>\n<li><p><strong>Single inheritance</strong>: If you extend Thread you cannot extend from any other class, so if that is what you need to do, you have to use Runnable.</p></li>\n<li><p>It is good design to separate domain logic from technical means, in that sense it is better to have a Runnable task <strong>isolating</strong> your <strong>task from</strong> your <strong>runner</strong>.</p></li>\n<li><p>You can <strong>execute</strong> the same Runnable <strong>object multiple times</strong>, a Thread object, however, can only be started once. (Maybe the reason, why Executors do accept Runnables, but not Threads.)</p></li>\n<li><p>If you develop your task as Runnable, you have <strong>all flexibility how to use it now and in the future</strong>. You can have it run concurrently via Executors but also via Thread. And you still could also use/call it non-concurrently within the same thread just as any other ordinary type/object. </p></li>\n<li><p>This makes it also easier to <strong>separate</strong> task-logic and concurrency <strong>aspects in</strong> your <strong>unit tests</strong>.</p></li>\n<li><p>If you are interested in this question, you might be also interested in the <a href=\"https://stackoverflow.com/questions/141284/the-difference-between-the-runnable-and-callable-interfaces-in-java\">difference between Callable and Runnable</a>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4032073,"reputation":109,"user_id":3317784,"display_name":"Rohit Chugh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1394000038,"creation_date":1394000038,"answer_id":22190019,"question_id":541487,"body_markdown":"Difference between Thread and runnable\r\n.If  we are creating Thread using Thread class then Number of thread equal to number of object we created  .\r\nIf we are creating thread  by implementing the runnable interface then we can use single object for creating multiple thread.So single object is shared by multiple Thread.So it will take less memory\r\n\r\nSo depending upon the requirement if our data is not senstive. So It can be shared between multiple Thread we can used Runnable interface.\r\n\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Difference between Thread and runnable\n.If  we are creating Thread using Thread class then Number of thread equal to number of object we created  .\nIf we are creating thread  by implementing the runnable interface then we can use single object for creating multiple thread.So single object is shared by multiple Thread.So it will take less memory</p>\n\n<p>So depending upon the requirement if our data is not senstive. So It can be shared between multiple Thread we can used Runnable interface.</p>\n"},{"tags":[],"owner":{"account_id":1163503,"reputation":657,"user_id":1142548,"accept_rate":80,"display_name":"samkit shah"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1403076159,"creation_date":1403076159,"answer_id":24279390,"question_id":541487,"body_markdown":"Simple way to say is:\r\nIf you implement interface that means you are implementing all methods of it and if you extending the class you are inheriting method of your choice... \r\nIn this case,there is **only a one method named Run()** so **better to implement Runnable interface..**","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Simple way to say is:\nIf you implement interface that means you are implementing all methods of it and if you extending the class you are inheriting method of your choice... \nIn this case,there is <strong>only a one method named Run()</strong> so <strong>better to implement Runnable interface..</strong></p>\n"},{"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1441455044,"creation_date":1406633096,"answer_id":25014151,"question_id":541487,"body_markdown":"With the release of Java 8, there is now a third option.\r\n\r\n`Runnable` is a [functional interface][1], which means that instances of it can be created with lambda expressions or method references.\r\n\r\nYour example can be replaced with:\r\n\r\n    new Thread(() -&gt; { /* Code here */ }).start()\r\n\r\nor if you want to use an `ExecutorService` and a method reference:\r\n\r\n    executor.execute(runner::run)\r\n\r\nThese are not only much shorter than your examples, but also come with many of the advantages stated in other answers of using `Runnable` over `Thread`, such as single responsibility and using composition because you&#39;re not specializing the thread&#39;s behaviour. This way also avoids creating an extra class if all you need is a `Runnable` as you do in your examples.\r\n\r\n[1]:https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>With the release of Java 8, there is now a third option.</p>\n\n<p><code>Runnable</code> is a <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8\">functional interface</a>, which means that instances of it can be created with lambda expressions or method references.</p>\n\n<p>Your example can be replaced with:</p>\n\n<pre><code>new Thread(() -&gt; { /* Code here */ }).start()\n</code></pre>\n\n<p>or if you want to use an <code>ExecutorService</code> and a method reference:</p>\n\n<pre><code>executor.execute(runner::run)\n</code></pre>\n\n<p>These are not only much shorter than your examples, but also come with many of the advantages stated in other answers of using <code>Runnable</code> over <code>Thread</code>, such as single responsibility and using composition because you're not specializing the thread's behaviour. This way also avoids creating an extra class if all you need is a <code>Runnable</code> as you do in your examples.</p>\n"},{"tags":[],"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1420278079,"creation_date":1420243916,"answer_id":27750341,"question_id":541487,"body_markdown":"Adding my two cents here -\r\n**Always whenever possible use `implements Runnable` . Below are two caveats on why you should not use \r\n`extends Thread`s**\r\n\r\n1. Ideally you should never extend the Thread class; the `Thread` class should be made `final`.\r\n   At least its methods like `thread.getId()`. \r\n   See [this][1] discussion for a bug related to extending `Thread`s. \r\n\r\n2. Those who like to solve puzzles can see another side effect of extending Thread. The below code \r\n   will print unreachable code when nobody is notifying them.\r\n\r\nPlease see  http://pastebin.com/BjKNNs2G. \r\n\r\n    public class WaitPuzzle {\r\n\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tDoNothing doNothing = new DoNothing();\r\n    \t\tnew WaitForever(doNothing).start();\r\n    \t\tnew WaitForever(doNothing).start();\r\n    \t\tnew WaitForever(doNothing).start();\r\n    \t\tThread.sleep(100);\r\n    \t\tdoNothing.start();\r\n            while(true) {\r\n            \tThread.sleep(10);\r\n            }\r\n    \t}\r\n    \t\r\n    \t\r\n    \tstatic class WaitForever extends  Thread {\r\n    \t\t\r\n    \t\tprivate DoNothing doNothing;\r\n    \t\t\r\n    \t\tpublic WaitForever(DoNothing doNothing) {\r\n    \t\t\tthis.doNothing =  doNothing;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tsynchronized (doNothing) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tdoNothing.wait(); // will wait forever here as nobody notifies here\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;Unreachable Code&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n        static class DoNothing extends Thread {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;Do Nothing &quot;);\r\n    \t\t}\r\n        } \r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n  [1]: http://jsr166-concurrency.10961.n7.nabble.com/RRWL-with-bad-Thread-getId-implementations-tc9754.html","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Adding my two cents here -\n<strong>Always whenever possible use <code>implements Runnable</code> . Below are two caveats on why you should not use \n<code>extends Thread</code>s</strong></p>\n\n<ol>\n<li><p>Ideally you should never extend the Thread class; the <code>Thread</code> class should be made <code>final</code>.\nAt least its methods like <code>thread.getId()</code>. \nSee <a href=\"http://jsr166-concurrency.10961.n7.nabble.com/RRWL-with-bad-Thread-getId-implementations-tc9754.html\" rel=\"noreferrer\">this</a> discussion for a bug related to extending <code>Thread</code>s. </p></li>\n<li><p>Those who like to solve puzzles can see another side effect of extending Thread. The below code \nwill print unreachable code when nobody is notifying them.</p></li>\n</ol>\n\n<p>Please see  <a href=\"http://pastebin.com/BjKNNs2G\" rel=\"noreferrer\">http://pastebin.com/BjKNNs2G</a>. </p>\n\n<pre><code>public class WaitPuzzle {\n\n    public static void main(String[] args) throws InterruptedException {\n        DoNothing doNothing = new DoNothing();\n        new WaitForever(doNothing).start();\n        new WaitForever(doNothing).start();\n        new WaitForever(doNothing).start();\n        Thread.sleep(100);\n        doNothing.start();\n        while(true) {\n            Thread.sleep(10);\n        }\n    }\n\n\n    static class WaitForever extends  Thread {\n\n        private DoNothing doNothing;\n\n        public WaitForever(DoNothing doNothing) {\n            this.doNothing =  doNothing;\n        }\n\n        @Override\n        public void run() {\n            synchronized (doNothing) {\n                try {\n                    doNothing.wait(); // will wait forever here as nobody notifies here\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(\"Unreachable Code\");\n            }\n        }\n    }\n\n    static class DoNothing extends Thread {\n\n        @Override\n        public void run() {\n            System.out.println(\"Do Nothing \");\n        }\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1905480,"reputation":816,"user_id":1720452,"accept_rate":20,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435931162,"creation_date":1424324260,"answer_id":28599310,"question_id":541487,"body_markdown":"One difference between implementing Runnable and extending Thread is that by extending Thread, each of your threads has a unique object associated with it, whereas implementing Runnable, many threads can share the same object instance.\r\n\r\nA class that implements Runnable is not a thread and just a class. For a Runnable to be executed by a Thread, you need to create an instance of Thread and pass the Runnable instance in as the target.\r\n\r\nIn most cases, the Runnable interface should be used if you are only planning to override the run() method and no other Thread methods. This is important because classes should not be subclassed unless the programmer intends on modifying or enhancing the fundamental behavior of the class.\r\n\r\nWhen there is a need to extend a superclass, implementing the Runnable interface is more appropriate than using the Thread class. Because we can extend another class while implementing Runnable interface to make a thread. But if we just extend the Thread class we can&#39;t inherit from any other class.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>One difference between implementing Runnable and extending Thread is that by extending Thread, each of your threads has a unique object associated with it, whereas implementing Runnable, many threads can share the same object instance.</p>\n\n<p>A class that implements Runnable is not a thread and just a class. For a Runnable to be executed by a Thread, you need to create an instance of Thread and pass the Runnable instance in as the target.</p>\n\n<p>In most cases, the Runnable interface should be used if you are only planning to override the run() method and no other Thread methods. This is important because classes should not be subclassed unless the programmer intends on modifying or enhancing the fundamental behavior of the class.</p>\n\n<p>When there is a need to extend a superclass, implementing the Runnable interface is more appropriate than using the Thread class. Because we can extend another class while implementing Runnable interface to make a thread. But if we just extend the Thread class we can't inherit from any other class.</p>\n"},{"comments":[{"owner":{"account_id":5667261,"reputation":1536,"user_id":4483113,"display_name":"idelvall"},"score":4,"creation_date":1458665497,"post_id":30192904,"comment_id":59958081,"body_markdown":"Exactly! This should be the accepted answer. BTW I think the question has been edited and `ThreadA` has no longer sense","body":"Exactly! This should be the accepted answer. BTW I think the question has been edited and <code>ThreadA</code> has no longer sense"},{"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"score":0,"creation_date":1458666613,"post_id":30192904,"comment_id":59958817,"body_markdown":"the accepted answer is much more delegate thanks for you response @idelvall","body":"the accepted answer is much more delegate thanks for you response @idelvall"},{"owner":{"account_id":1915239,"reputation":386,"user_id":1727934,"accept_rate":0,"display_name":"MichaelYe"},"score":1,"creation_date":1582290925,"post_id":30192904,"comment_id":106736521,"body_markdown":"The best answer! Thanks!","body":"The best answer! Thanks!"},{"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"score":0,"creation_date":1674342116,"post_id":30192904,"comment_id":132695179,"body_markdown":"ThreadA is now MyRunnable. ThreadB is now MyThread (source: edit history). @idelvall","body":"ThreadA is now MyRunnable. ThreadB is now MyThread (source: edit history). @idelvall"}],"tags":[],"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"comment_count":4,"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1470203939,"creation_date":1431438615,"answer_id":30192904,"question_id":541487,"body_markdown":"Actually, It is not wise to compare `Runnable` and `Thread` with each other.  \r\n\r\nThis two have a dependency and relationship in multi-threading just like `Wheel and Engine` relationship of motor vehicle.\r\n\r\nI would say, there is only one way for multi-threading with two steps. Let me make my point.\r\n\r\n**Runnable:**  \r\nWhen implementing `interface Runnable` it means you are creating something which is `run able` in a different thread. Now creating something which can run inside a thread (runnable inside a thread), doesn&#39;t mean to creating a Thread.   \r\nSo the class `MyRunnable` is nothing but a ordinary class with a `void run` method.\r\nAnd it&#39;s objects will be some ordinary objects with only a method `run` which will execute normally when called.  (unless we pass the object in a thread).\r\n\r\n**Thread:**  \r\n`class Thread`, I would say A very special class with the capability of starting a new Thread which actually enables multi-threading through its `start()` method.\r\n\r\n**Why not wise to compare?**  \r\nBecause we need both of them for multi-threading.   \r\n\r\nFor Multi-threading we need two things:  \r\n\r\n *  Something that can run inside a Thread (Runnable).   \r\n *  Something That can start a new Thread (Thread).\r\n\r\nSo technically and theoretically  both of them is necessary to start a thread, one will **run** and one will **make it run** (Like **`Wheel and Engine`** of motor vehicle).\r\n\r\nThat&#39;s why you can not start a thread with `MyRunnable` you need to pass it to a instance of `Thread`.\r\n\r\n\r\n**But** it is possible to create and run a thread only using `class Thread` because Class `Thread` implements `Runnable` so we all know `Thread` also is a `Runnable` inside.\r\n\r\n**Finally `Thread` and `Runnable` are complement to each other for multithreading  not competitor or replacement.**\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Actually, It is not wise to compare <code>Runnable</code> and <code>Thread</code> with each other.  </p>\n\n<p>This two have a dependency and relationship in multi-threading just like <code>Wheel and Engine</code> relationship of motor vehicle.</p>\n\n<p>I would say, there is only one way for multi-threading with two steps. Let me make my point.</p>\n\n<p><strong>Runnable:</strong><br>\nWhen implementing <code>interface Runnable</code> it means you are creating something which is <code>run able</code> in a different thread. Now creating something which can run inside a thread (runnable inside a thread), doesn't mean to creating a Thread.<br>\nSo the class <code>MyRunnable</code> is nothing but a ordinary class with a <code>void run</code> method.\nAnd it's objects will be some ordinary objects with only a method <code>run</code> which will execute normally when called.  (unless we pass the object in a thread).</p>\n\n<p><strong>Thread:</strong><br>\n<code>class Thread</code>, I would say A very special class with the capability of starting a new Thread which actually enables multi-threading through its <code>start()</code> method.</p>\n\n<p><strong>Why not wise to compare?</strong><br>\nBecause we need both of them for multi-threading.   </p>\n\n<p>For Multi-threading we need two things:  </p>\n\n<ul>\n<li>Something that can run inside a Thread (Runnable).   </li>\n<li>Something That can start a new Thread (Thread).</li>\n</ul>\n\n<p>So technically and theoretically  both of them is necessary to start a thread, one will <strong>run</strong> and one will <strong>make it run</strong> (Like <strong><code>Wheel and Engine</code></strong> of motor vehicle).</p>\n\n<p>That's why you can not start a thread with <code>MyRunnable</code> you need to pass it to a instance of <code>Thread</code>.</p>\n\n<p><strong>But</strong> it is possible to create and run a thread only using <code>class Thread</code> because Class <code>Thread</code> implements <code>Runnable</code> so we all know <code>Thread</code> also is a <code>Runnable</code> inside.</p>\n\n<p><strong>Finally <code>Thread</code> and <code>Runnable</code> are complement to each other for multithreading  not competitor or replacement.</strong></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437933689,"creation_date":1437933689,"answer_id":31640214,"question_id":541487,"body_markdown":"Thread holds behaviour which is not intended to be accessed;\r\n\r\n - it&#39;s synchronized lock is used for join etc.\r\n - it has methods you can access by accident.\r\n\r\nhowever if you sub-class Thread have to consider more Thread is implemented.\r\n\r\n    public class ThreadMain {\r\n        public int getId() {\r\n            return 12345678;\r\n        }\r\n    \r\n        public String getName() {\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    \r\n        public String getState() {\r\n            return &quot;testing&quot;;\r\n        }\r\n    \r\n        public void example() {\r\n            new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.println(&quot;id: &quot;+getId()+&quot;, name: &quot;+getName()+&quot;, state: &quot;+getState());\r\n                }\r\n            }.start();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new ThreadMain().example();\r\n        }\r\n    }\r\n\r\nIf you run this you might expect\r\n\r\n    id: 12345678, name: Hello World, state: testing\r\n\r\nhowever, you are not calling the methods you think you are because you are using the method in `Thread` not `ThreadMain` and instead you see something like\r\n\r\n    id: 11, name: Thread-0, state: RUNNABLE","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Thread holds behaviour which is not intended to be accessed;</p>\n\n<ul>\n<li>it's synchronized lock is used for join etc.</li>\n<li>it has methods you can access by accident.</li>\n</ul>\n\n<p>however if you sub-class Thread have to consider more Thread is implemented.</p>\n\n<pre><code>public class ThreadMain {\n    public int getId() {\n        return 12345678;\n    }\n\n    public String getName() {\n        return \"Hello World\";\n    }\n\n    public String getState() {\n        return \"testing\";\n    }\n\n    public void example() {\n        new Thread() {\n            @Override\n            public void run() {\n                System.out.println(\"id: \"+getId()+\", name: \"+getName()+\", state: \"+getState());\n            }\n        }.start();\n    }\n\n    public static void main(String[] args) {\n        new ThreadMain().example();\n    }\n}\n</code></pre>\n\n<p>If you run this you might expect</p>\n\n<pre><code>id: 12345678, name: Hello World, state: testing\n</code></pre>\n\n<p>however, you are not calling the methods you think you are because you are using the method in <code>Thread</code> not <code>ThreadMain</code> and instead you see something like</p>\n\n<pre><code>id: 11, name: Thread-0, state: RUNNABLE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6783917,"reputation":3655,"user_id":5223309,"accept_rate":40,"display_name":"Shababb Karim"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1546499926,"creation_date":1439539660,"answer_id":32005221,"question_id":541487,"body_markdown":"The simplest explanation would be by implementing `Runnable` we can assign the same object to multiple threads and each `Thread` shares the same object states and behavior. \r\n\r\nFor example, suppose there are two threads, **thread1** puts an integer in an array and **thread2** takes integers from the array when the array is filled up. Notice that in order for **thread2** to work it needs to know the state of array, whether **thread1** has filled it up or not. \r\n\r\nImplementing `Runnable` lets you to have this flexibility to share the object whereas `extends Thread` makes you to create new objects for each threads therefore any update that is done by thread1 is lost to thread2.    ","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>The simplest explanation would be by implementing <code>Runnable</code> we can assign the same object to multiple threads and each <code>Thread</code> shares the same object states and behavior. </p>\n\n<p>For example, suppose there are two threads, <strong>thread1</strong> puts an integer in an array and <strong>thread2</strong> takes integers from the array when the array is filled up. Notice that in order for <strong>thread2</strong> to work it needs to know the state of array, whether <strong>thread1</strong> has filled it up or not. </p>\n\n<p>Implementing <code>Runnable</code> lets you to have this flexibility to share the object whereas <code>extends Thread</code> makes you to create new objects for each threads therefore any update that is done by thread1 is lost to thread2.    </p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677607259,"creation_date":1455355953,"answer_id":35378242,"question_id":541487,"body_markdown":"If I am not wrong, it&#39;s more or less similar to \r\n\r\nhttps://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class/33957698#33957698\r\n\r\nextends establishes &quot;**Is A**&quot; relation &amp; interface provides &quot;**Has a**&quot; capability.\r\n\r\nPrefer ***implements Runnable*** :\r\n\r\n1. If you don&#39;t have to extend Thread class and modify Thread API default implementation\r\n2. If you are executing a fire and forget command\r\n3. If You are already extending another class\r\n\r\nPrefer &quot;***extends Thread***&quot; :\r\n\r\n1. If you have to override any of these [Thread][1] methods as listed in oracle documentation page\r\n\r\nGenerally you don&#39;t need to override Thread behaviour. So **implements Runnable** is preferred for most of the times. \r\n\r\nIf you need some customization for this Thread API, you can extend Thread and modify implementation\r\n\r\n    Thread(ThreadGroup group, Runnable target, String name, long stackSize)\r\nAllocates a new Thread object so that it has target as its run object, has the specified name as its name, and belongs to the thread group referred to by group, and has the specified stack size.\r\n\r\n\r\nOn a different note, using advanced `ExecutorService` or `ThreadPoolExecutorService` API provides more flexibility and control.\r\n\r\nHave a look at this SE Question:\r\n\r\nhttps://stackoverflow.com/questions/26938210/executorservice-vs-casual-thread-spawner/34923574#34923574\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>If I am not wrong, it's more or less similar to</p>\n<p><a href=\"https://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class/33957698#33957698\">What is the difference between an interface and abstract class?</a></p>\n<p>extends establishes &quot;<strong>Is A</strong>&quot; relation &amp; interface provides &quot;<strong>Has a</strong>&quot; capability.</p>\n<p>Prefer <em><strong>implements Runnable</strong></em> :</p>\n<ol>\n<li>If you don't have to extend Thread class and modify Thread API default implementation</li>\n<li>If you are executing a fire and forget command</li>\n<li>If You are already extending another class</li>\n</ol>\n<p>Prefer &quot;<em><strong>extends Thread</strong></em>&quot; :</p>\n<ol>\n<li>If you have to override any of these <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a> methods as listed in oracle documentation page</li>\n</ol>\n<p>Generally you don't need to override Thread behaviour. So <strong>implements Runnable</strong> is preferred for most of the times.</p>\n<p>If you need some customization for this Thread API, you can extend Thread and modify implementation</p>\n<pre><code>Thread(ThreadGroup group, Runnable target, String name, long stackSize)\n</code></pre>\n<p>Allocates a new Thread object so that it has target as its run object, has the specified name as its name, and belongs to the thread group referred to by group, and has the specified stack size.</p>\n<p>On a different note, using advanced <code>ExecutorService</code> or <code>ThreadPoolExecutorService</code> API provides more flexibility and control.</p>\n<p>Have a look at this SE Question:</p>\n<p><a href=\"https://stackoverflow.com/questions/26938210/executorservice-vs-casual-thread-spawner/34923574#34923574\">ExecutorService vs Casual Thread Spawner</a></p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461498111,"creation_date":1461498111,"answer_id":36822629,"question_id":541487,"body_markdown":"The best way for most worker threads is to have the threading completely encapsuled in the worker class so that nothing can interfere from the outside and cause unwanted and invalid thread/class states.\r\n\r\nI&#39;ve just posted an example, so I&#39;ll also share this with you:\r\n\r\n\r\n    /**\r\n     * This worker can only run once\r\n     * @author JayC667\r\n     */\r\n    public class ProperThreading {\r\n    \t\r\n    \tprivate final Thread\t\tmThread\t\t\t= new Thread(() -&gt; runWorkingLoop());\t// if you want worker to be able to run multiple times, move initialisation into startThread()\r\n    \tprivate volatile boolean\tmThreadStarted\t= false;\r\n    \tprivate volatile boolean\tmStopRequested\t= false;\r\n    \r\n    \tprivate final long\t\t\tmLoopSleepTime;\r\n    \r\n    \tpublic ProperThreading(final long pLoopSleepTime /* pass more arguments here, store in members */ ) {\r\n    \t\tmLoopSleepTime = pLoopSleepTime;\r\n    \t}\r\n    \t\r\n    \tpublic synchronized void startThread() {\r\n    \t\tif (mThreadStarted) throw new IllegalStateException(&quot;Worker Thread may only be started once and is already running!&quot;);\r\n    \t\tmThreadStarted = true;\r\n    \t\tmThread.start();\r\n    \t}\r\n    \r\n    \tprivate void runWorkingLoop() {\r\n    \t\twhile (!mStopRequested /* &amp;&amp; other checks */ ) {\r\n    \t\t\ttry {\r\n    \t\t\t\t// do the magic work here\r\n    \t\t\t\tThread.sleep(mLoopSleepTime);\r\n    \r\n    \t\t\t} catch (final InterruptedException e) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t} catch (final Exception e) {\r\n    \t\t\t\t// do at least some basic handling here, you should NEVER ignore exception unless you know exactly what you&#39;re doing, and then it should be commented!\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic synchronized void stopThread() {\r\n    \t\tif (!mThreadStarted) throw new IllegalStateException(&quot;Worker Thread is not even running yet!&quot;);\r\n    \t\tmStopRequested = true;\r\n    \t\tmThread.interrupt();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>The best way for most worker threads is to have the threading completely encapsuled in the worker class so that nothing can interfere from the outside and cause unwanted and invalid thread/class states.</p>\n\n<p>I've just posted an example, so I'll also share this with you:</p>\n\n<pre><code>/**\n * This worker can only run once\n * @author JayC667\n */\npublic class ProperThreading {\n\n    private final Thread        mThread         = new Thread(() -&gt; runWorkingLoop());   // if you want worker to be able to run multiple times, move initialisation into startThread()\n    private volatile boolean    mThreadStarted  = false;\n    private volatile boolean    mStopRequested  = false;\n\n    private final long          mLoopSleepTime;\n\n    public ProperThreading(final long pLoopSleepTime /* pass more arguments here, store in members */ ) {\n        mLoopSleepTime = pLoopSleepTime;\n    }\n\n    public synchronized void startThread() {\n        if (mThreadStarted) throw new IllegalStateException(\"Worker Thread may only be started once and is already running!\");\n        mThreadStarted = true;\n        mThread.start();\n    }\n\n    private void runWorkingLoop() {\n        while (!mStopRequested /* &amp;&amp; other checks */ ) {\n            try {\n                // do the magic work here\n                Thread.sleep(mLoopSleepTime);\n\n            } catch (final InterruptedException e) {\n                break;\n            } catch (final Exception e) {\n                // do at least some basic handling here, you should NEVER ignore exception unless you know exactly what you're doing, and then it should be commented!\n            }\n        }\n    }\n\n    public synchronized void stopThread() {\n        if (!mThreadStarted) throw new IllegalStateException(\"Worker Thread is not even running yet!\");\n        mStopRequested = true;\n        mThread.interrupt();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478761551,"creation_date":1478761551,"answer_id":40521742,"question_id":541487,"body_markdown":"In the rare case you only run it once, you should extend Thread because of DRY. If you call it multiple times, you should implement Runnable because the same thread should not be restarted.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>In the rare case you only run it once, you should extend Thread because of DRY. If you call it multiple times, you should implement Runnable because the same thread should not be restarted.</p>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3612,"user_id":6714430,"display_name":"rashedcs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492924441,"creation_date":1492924441,"answer_id":43567639,"question_id":541487,"body_markdown":" \r\nBy extending the thread class , the derived class can not extend any other base class because java only allow single inheritance.\r\non the contrary, By implementing the runnable interface the class still extend other base class.\r\n\r\n\r\n&gt;The most significant difference between implementing Runnable and extending Thread is given below : \r\n\r\n**By extending Thread, derived class itself is a thread object, whereas Implementing Runnable interface it shares the same object to multiple Threads.**\r\n\r\n","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>By extending the thread class , the derived class can not extend any other base class because java only allow single inheritance.\non the contrary, By implementing the runnable interface the class still extend other base class.</p>\n\n<blockquote>\n  <p>The most significant difference between implementing Runnable and extending Thread is given below : </p>\n</blockquote>\n\n<p><strong>By extending Thread, derived class itself is a thread object, whereas Implementing Runnable interface it shares the same object to multiple Threads.</strong></p>\n"},{"tags":[],"owner":{"account_id":11763754,"reputation":1610,"user_id":8609030,"display_name":"Raman Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1506870306,"creation_date":1506870306,"answer_id":46513687,"question_id":541487,"body_markdown":"Difference between Extending Thread and Implementing Runnable are:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n1DJO.jpg","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Difference between Extending Thread and Implementing Runnable are:</p>\n\n<p><a href=\"https://i.stack.imgur.com/n1DJO.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/n1DJO.jpg\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1392485,"reputation":1562,"user_id":1322957,"display_name":"justcode"},"score":0,"creation_date":1518693911,"post_id":46871451,"comment_id":84614819,"body_markdown":"Just complementing the Runnable by itself is not a thread is just a task that a thread can run.","body":"Just complementing the Runnable by itself is not a thread is just a task that a thread can run."}],"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508656337,"creation_date":1508656337,"answer_id":46871451,"question_id":541487,"body_markdown":"Thread class defines several methods that can be `overriden` by the the extending class. But to create a thread we must override the `run()` method. Same applies to `Runnable` as well.\r\n\r\nHowever `Runnable` is a preferred method of creating a thread. The primary reasons are:\r\n\r\n1. Since Runnable is an interface, you can extend other classes. But if you extend Thread then that option is gone. \r\n\r\n2. If you are not modifying or enhancing a whole lot of `Thread` functionalities and extending the `Thread` class is not a preferred way.  ","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>Thread class defines several methods that can be <code>overriden</code> by the the extending class. But to create a thread we must override the <code>run()</code> method. Same applies to <code>Runnable</code> as well.</p>\n\n<p>However <code>Runnable</code> is a preferred method of creating a thread. The primary reasons are:</p>\n\n<ol>\n<li><p>Since Runnable is an interface, you can extend other classes. But if you extend Thread then that option is gone. </p></li>\n<li><p>If you are not modifying or enhancing a whole lot of <code>Thread</code> functionalities and extending the <code>Thread</code> class is not a preferred way.  </p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3861631,"reputation":849,"user_id":3199240,"display_name":"statut"},"score":0,"creation_date":1530966373,"post_id":50030727,"comment_id":89426756,"body_markdown":"I didn&#39;t downvote you but you have to create a Thread via `new Thread(new A())` and invoke `start()` method instead of `run()`.","body":"I didn&#39;t downvote you but you have to create a Thread via <code>new Thread(new A())</code> and invoke <code>start()</code> method instead of <code>run()</code>."}],"tags":[],"owner":{"account_id":5440121,"reputation":1551,"user_id":4537618,"accept_rate":100,"display_name":"Java Main"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1531083648,"creation_date":1524687713,"answer_id":50030727,"question_id":541487,"body_markdown":"You can use them jointly\r\n\r\nExample :\r\n\r\n   \r\n\r\n    public class A implements Runnable{\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\r\n\t\t\t\r\n\t\t\twhile(true){\r\n\t\t\t\t System.out.println(&quot;Class A is running&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(3000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}}\r\n\t\t\t\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n\r\n    public class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tThread myThread =new Thread(new A());// 1\r\n\t\t\tmyThread.start();\r\n\t\t\tSystem.out.println(&quot; executed after thread A&quot;);//will never be reached\r\n\r\n\t\t}\r\n\r\n\t} ","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>You can use them jointly</p>\n\n<p>Example :</p>\n\n<pre><code>public class A implements Runnable{\n\n    @Override\n    public void run() {\n\n\n        while(true){\n             System.out.println(\"Class A is running\");\n        try {\n            Thread.sleep(3000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }}\n\n    }\n\n}\n\n\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        Thread myThread =new Thread(new A());// 1\n        myThread.start();\n        System.out.println(\" executed after thread A\");//will never be reached\n\n    }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1630087,"reputation":2337,"user_id":1504824,"accept_rate":67,"display_name":"bharatj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542684178,"creation_date":1535882570,"answer_id":52135893,"question_id":541487,"body_markdown":"I would say actual task is decoupled from the thread. We can pass around the task to Thread, Executor framework etc in case of Runnable, whereas with extending Thread task is coupled with thread object itself. The task isolation cannot be done in case of extending Thread. It&#39;s like we burn the task to Thread object just something like IC chip (and more specifically will not get any handle to task).","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>I would say actual task is decoupled from the thread. We can pass around the task to Thread, Executor framework etc in case of Runnable, whereas with extending Thread task is coupled with thread object itself. The task isolation cannot be done in case of extending Thread. It's like we burn the task to Thread object just something like IC chip (and more specifically will not get any handle to task).</p>\n"},{"tags":[],"owner":{"account_id":6563435,"reputation":281,"user_id":5073834,"display_name":"Pen Lymeng"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1543982323,"creation_date":1543982323,"answer_id":53624971,"question_id":541487,"body_markdown":"The main difference between Thread and Runnable is:\r\n- Thread is like: Worker (execute Runnable)\r\n- Runnable is like: Job (to be executed by Thread)","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>The main difference between Thread and Runnable is:\n- Thread is like: Worker (execute Runnable)\n- Runnable is like: Job (to be executed by Thread)</p>\n"},{"tags":[],"owner":{"account_id":12694207,"reputation":148,"user_id":10567048,"display_name":"Arasn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572186010,"creation_date":1556892827,"answer_id":55971598,"question_id":541487,"body_markdown":"**1. Extending the thread interface, is like you are making your class to behave as a thread only. Your new class will be like a enhanced thread.**\r\n\r\n    jshell&gt; public class Test extends Thread{\r\n       ...&gt; public Test(String name){\r\n       ...&gt; super(name);\r\n       ...&gt; }\r\n       ...&gt; public void run(){\r\n       ...&gt; System.out.println(Thread.currentThread().getName());\r\n       ...&gt; }\r\n       ...&gt; }\r\n    |  created class Test\r\n    \r\n    jshell&gt; Test t1=new Test(&quot;MyThread&quot;);\r\n    t1 ==&gt; Thread[MyThread,5,main]\r\n\r\n \r\n\r\nIt creates a thread, not the `Test` object. So it&#39;s going to act like a single thread. You can not share the instance of `Test` class between threads.\r\n\r\n**2. Implementing the runnable interface.**\r\n\r\n    jshell&gt; public class Test1 implements Runnable{\r\n       ...&gt; public void run(){\r\n       ...&gt; System.out.println(Thread.currentThread().getName());\r\n       ...&gt; }\r\n       ...&gt; public String getName(){\r\n       ...&gt; return &quot;testing&quot;;}\r\n       ...&gt; }\r\n    |  created class Test1\r\n\r\n    jshell&gt; Test1 t1=new Test1();\r\n    t1 ==&gt; Test1@396a51ab  --&gt; this creates Test1 object.\r\n\r\nThis object can be shared across threads by,\r\n\r\n    jshell&gt; Thread t1=new Thread(t1,&quot;Hai&quot;);\r\n    t ==&gt; Thread[Hai,5,main]\r\n    \r\n    jshell&gt; Thread t=new Thread(t1,&quot;Hai&quot;);\r\n    t ==&gt; Thread[Hai,5,main]\r\n\r\nI think there&#39;s already been a lot that&#39;s been discussed on this topic, thought this might be helpful around the basics.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p><strong>1. Extending the thread interface, is like you are making your class to behave as a thread only. Your new class will be like a enhanced thread.</strong></p>\n\n<pre><code>jshell&gt; public class Test extends Thread{\n   ...&gt; public Test(String name){\n   ...&gt; super(name);\n   ...&gt; }\n   ...&gt; public void run(){\n   ...&gt; System.out.println(Thread.currentThread().getName());\n   ...&gt; }\n   ...&gt; }\n|  created class Test\n\njshell&gt; Test t1=new Test(\"MyThread\");\nt1 ==&gt; Thread[MyThread,5,main]\n</code></pre>\n\n<p>It creates a thread, not the <code>Test</code> object. So it's going to act like a single thread. You can not share the instance of <code>Test</code> class between threads.</p>\n\n<p><strong>2. Implementing the runnable interface.</strong></p>\n\n<pre><code>jshell&gt; public class Test1 implements Runnable{\n   ...&gt; public void run(){\n   ...&gt; System.out.println(Thread.currentThread().getName());\n   ...&gt; }\n   ...&gt; public String getName(){\n   ...&gt; return \"testing\";}\n   ...&gt; }\n|  created class Test1\n\njshell&gt; Test1 t1=new Test1();\nt1 ==&gt; Test1@396a51ab  --&gt; this creates Test1 object.\n</code></pre>\n\n<p>This object can be shared across threads by,</p>\n\n<pre><code>jshell&gt; Thread t1=new Thread(t1,\"Hai\");\nt ==&gt; Thread[Hai,5,main]\n\njshell&gt; Thread t=new Thread(t1,\"Hai\");\nt ==&gt; Thread[Hai,5,main]\n</code></pre>\n\n<p>I think there's already been a lot that's been discussed on this topic, thought this might be helpful around the basics.</p>\n"},{"tags":[],"owner":{"account_id":9910073,"reputation":290,"user_id":16781656,"display_name":"Yogesh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644677891,"creation_date":1644677891,"answer_id":71092974,"question_id":541487,"body_markdown":"If you want to separate your concerns like, if you want to create Tasks and it does not matter to you who is the worker working on your task then use Runnable and define your work as a task. Just like when you use executor service, you define tasks in form of Runnable/callable and give them to executor service which will then hold the responsibility of workers.\r\n\r\nIf you want to create a worker by yourself and assign that worker your task, you want more control over the worker thread then use Thread class.","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>If you want to separate your concerns like, if you want to create Tasks and it does not matter to you who is the worker working on your task then use Runnable and define your work as a task. Just like when you use executor service, you define tasks in form of Runnable/callable and give them to executor service which will then hold the responsibility of workers.</p>\n<p>If you want to create a worker by yourself and assign that worker your task, you want more control over the worker thread then use Thread class.</p>\n"}],"owner":{"account_id":25435,"reputation":24219,"user_id":65374,"display_name":"user65374"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763095,"favorite_count":0,"down_vote_count":7,"up_vote_count":2363,"accepted_answer_id":541506,"answer_count":42,"score":2356,"last_activity_date":1677607259,"creation_date":1234448926,"question_id":541487,"body_markdown":"From what time I&#39;ve spent with threads in `Java`, I&#39;ve found these two ways to write threads:\r\n\r\nWith **implements `Runnable`:**\r\n\r\n    public class MyRunnable implements Runnable {\r\n    \tpublic void run() {\r\n    \t\t//Code\r\n    \t}\r\n    }\r\n    //Started with a &quot;new Thread(new MyRunnable()).start()&quot; call\r\n    \r\nOr, with **extends `Thread`:**\r\n    \r\n    public class MyThread extends Thread {\r\n    \tpublic MyThread() {\r\n    \t\tsuper(&quot;MyThread&quot;);\r\n    \t}\r\n    \tpublic void run() {\r\n    \t\t//Code\r\n    \t}\r\n    }\r\n    //Started with a &quot;new MyThread().start()&quot; call\r\n\r\nIs there any significant difference in these two blocks of code?","title":"&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java","body":"<p>From what time I've spent with threads in <code>Java</code>, I've found these two ways to write threads:</p>\n<p>With <strong>implements <code>Runnable</code>:</strong></p>\n<pre><code>public class MyRunnable implements Runnable {\n    public void run() {\n        //Code\n    }\n}\n//Started with a &quot;new Thread(new MyRunnable()).start()&quot; call\n</code></pre>\n<p>Or, with <strong>extends <code>Thread</code>:</strong></p>\n<pre><code>public class MyThread extends Thread {\n    public MyThread() {\n        super(&quot;MyThread&quot;);\n    }\n    public void run() {\n        //Code\n    }\n}\n//Started with a &quot;new MyThread().start()&quot; call\n</code></pre>\n<p>Is there any significant difference in these two blocks of code?</p>\n"},{"tags":["java","spring","tomcat","spring-boot","access-log"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1456827448,"post_id":35714626,"comment_id":59115467,"body_markdown":"Have you read Tomcat&#39;s [documentation on access loging](https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes), in particular the three `condition` attributes? That should point you in the right direction.","body":"Have you read Tomcat&#39;s <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"nofollow noreferrer\">documentation on access loging</a>, in particular the three <code>condition</code> attributes? That should point you in the right direction."},{"owner":{"account_id":6242714,"reputation":671,"user_id":4855780,"accept_rate":67,"display_name":"Ivan"},"score":0,"creation_date":1456976760,"post_id":35714626,"comment_id":59198403,"body_markdown":"@AndyWilkinson, I followed you proposal, met some difficulties. I recorded it in the next module, focus on the first answer. Thanks.","body":"@AndyWilkinson, I followed you proposal, met some difficulties. I recorded it in the next module, focus on the first answer. Thanks."},{"owner":{"account_id":58146,"reputation":1126,"user_id":174145,"accept_rate":83,"display_name":"Atul "},"score":0,"creation_date":1526895319,"post_id":35714626,"comment_id":87905264,"body_markdown":"I tried the exact steps mentioned and it worked perfectly. I think there is a typo in solution to use setConditionIf instead of setConditionUnless. Even after using setConditionUnless, I didn&#39;t need the interceptor and I could set the attribute in the method call itself.","body":"I tried the exact steps mentioned and it worked perfectly. I think there is a typo in solution to use setConditionIf instead of setConditionUnless. Even after using setConditionUnless, I didn&#39;t need the interceptor and I could set the attribute in the method call itself."},{"owner":{"account_id":58146,"reputation":1126,"user_id":174145,"accept_rate":83,"display_name":"Atul "},"score":0,"creation_date":1526895467,"post_id":35714626,"comment_id":87905340,"body_markdown":"Also instead of creating new AccessLogValue, I fetched existing one and changed the property of it. This helps to ensure I can set values from application properties also.","body":"Also instead of creating new AccessLogValue, I fetched existing one and changed the property of it. This helps to ensure I can set values from application properties also."}],"answers":[{"tags":[],"owner":{"account_id":4074210,"reputation":482,"user_id":3346298,"display_name":"Damian229"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592929952,"creation_date":1592929952,"answer_id":62539534,"question_id":35714626,"body_markdown":"As suggested by the response https://stackoverflow.com/a/55569199/3346298 on this question  https://stackoverflow.com/questions/53740326/exclude-certain-requests-from-tomcats-log, you should use a filter and add this filter to the filterChain instead of adding it by AOP. \r\n\r\nFor same reason seems like the log/not log feature is checked before the execution of you AOP aspect.\r\n\r\nPD: Sorry for the late response","title":"How to filter access logs generated by tomcat under spring boot framework","body":"<p>As suggested by the response <a href=\"https://stackoverflow.com/a/55569199/3346298\">https://stackoverflow.com/a/55569199/3346298</a> on this question  <a href=\"https://stackoverflow.com/questions/53740326/exclude-certain-requests-from-tomcats-log\">Exclude certain requests from Tomcat&#39;s log</a>, you should use a filter and add this filter to the filterChain instead of adding it by AOP.</p>\n<p>For same reason seems like the log/not log feature is checked before the execution of you AOP aspect.</p>\n<p>PD: Sorry for the late response</p>\n"},{"tags":[],"owner":{"account_id":6617832,"reputation":653,"user_id":5110508,"display_name":"Bertrand Cedric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677607106,"creation_date":1677607106,"answer_id":75595703,"question_id":35714626,"body_markdown":"You can use the condition-unless properties of tomcat to exclude request who contains this attribute with not null value. ([doc][1])\r\n\r\nHere is the code, I used with springboot 2.7.\r\n\r\n\r\n1. configure tomcat, adding this properties\r\n\r\n```properties\r\n    server.tomcat.accesslog.enabled=true\r\n    server.tomcat.accesslog.condition-unless=NO_LOG\r\n```\r\n\r\n2. Create a webfilter and register it in spring.  This filter will add the &quot;NO_LOG&quot; attribute for the request who don&#39;t need to be log\r\n\r\n\r\n\r\n\r\n```java\r\n    @Component\r\n    public class AccessLogFilter implements Filter {\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            if (request instanceof HttpServletRequest) {\r\n                String uri = ((HttpServletRequest) request).getRequestURI();\r\n                //detect the uri who dontt need to be log \r\n                if (uri.startsWith(&quot;/actuator&quot;)) {\r\n                    //add the &quot;No_LOG&quot; Attribute to request, the value is not important, there only need to be not null\r\n                    request.setAttribute(&quot;NO_LOG&quot;, &quot;true&quot;);\r\n                }\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Access_Log_Valve/Attributes","title":"How to filter access logs generated by tomcat under spring boot framework","body":"<p>You can use the condition-unless properties of tomcat to exclude request who contains this attribute with not null value. (<a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"nofollow noreferrer\">doc</a>)</p>\n<p>Here is the code, I used with springboot 2.7.</p>\n<ol>\n<li>configure tomcat, adding this properties</li>\n</ol>\n<pre><code>    server.tomcat.accesslog.enabled=true\n    server.tomcat.accesslog.condition-unless=NO_LOG\n</code></pre>\n<ol start=\"2\">\n<li>Create a webfilter and register it in spring.  This filter will add the &quot;NO_LOG&quot; attribute for the request who don't need to be log</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Component\n    public class AccessLogFilter implements Filter {\n        @Override\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n            if (request instanceof HttpServletRequest) {\n                String uri = ((HttpServletRequest) request).getRequestURI();\n                //detect the uri who dontt need to be log \n                if (uri.startsWith(&quot;/actuator&quot;)) {\n                    //add the &quot;No_LOG&quot; Attribute to request, the value is not important, there only need to be not null\n                    request.setAttribute(&quot;NO_LOG&quot;, &quot;true&quot;);\n                }\n            }\n            chain.doFilter(request, response);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6242714,"reputation":671,"user_id":4855780,"accept_rate":67,"display_name":"Ivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5279,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677607106,"creation_date":1456806207,"question_id":35714626,"body_markdown":"We are using spring boot framework, generating access logs by embedded tomcat, the format of access logs is following the property below : \r\n\r\n    server.tomcat.access-log-enabled=true\r\n    server.tomcat.access-log-pattern=&quot;%h %l %u %t &#39;%r&#39; %s %b %D&quot;\r\n    server.tomcat.basedir=/data/logs/Waijule/SchoolService/access\r\n\r\nFortunately, access logs generated succeed, we got a positive result :\r\n\r\n    &quot;127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] &#39;POST /school-svc/index-summary HTTP/1.1&#39; 200 127 21&quot;\r\n    &quot;127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] &#39;POST /school-svc/wechat/signature/get HTTP/1.1&#39; 200 238 9&quot;\r\n    &quot;127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] &#39;POST /school-svc/wechat/ticket/get HTTP/1.1&#39; 200 225 148&quot;\r\n\r\nTo make sure the service healthy, we have kept running health check every 5 seconds, the requests which we want to filter so that we could get clear access logs, health check url is like the sample : \r\n\r\n    &quot;127.0.0.1 - - [01/Mar/2016:12:04:10 +0800] &#39;GET /school-svc/isHealth HTTP/1.1&#39; 200 6 104&quot;\r\n\r\nHow to filter health check requests? \r\n\r\nThanks for help.\r\n\r\n \r\n\n\n---\n\nAccording to [documentation on access loging][1], I tried to use **conditionIf** to solve the problems, in our spring framework, I tried to override customize function in EmbeddedServletContainerCustomizer class so that conditionIf could set up, our realization likes the following sample :\r\n \r\n     @Configuration\r\n     public class Application implements EmbeddedServletContainerCustomizer {\r\n         @Override\r\n         public void customize(ConfigurableEmbeddedServletContainer container)\r\n         {\r\n             if (container instanceof TomcatEmbeddedServletContainerFactory)\r\n                {\r\n                    log.debug(&quot;It is TomcatEmbeddedServletContainerFactory&quot;);\r\n                    TomcatEmbeddedServletContainerFactory factory = (TomcatEmbeddedServletContainerFactory) container;\r\n                    AccessLogValve accessLogValve = new AccessLogValve();                    \r\n                    accessLogValve.setConditionIf(&quot;ignore&quot;);\r\n                    factory.addContextValves(accessLogValve);\r\n                }\r\n                else\r\n                {\r\n                    log.error(&quot;WARNING! this customizer does not support your configured container&quot;);\r\n                }\r\n          }    \r\n    }\r\n       \r\nIn my comprehension, the next step we need to do is set attribute parameter, so I wrote interceptor on the above of health check controller, realization likes that:\r\n\r\n    @Component\r\n    @Aspect\r\n    public class HealthCheckInterceptor\r\n    {\r\n        @Before(&quot;execution(* com.waijule.home.controller.HealthCheckController.process(..))&quot;)\r\n        private void beforeGetHomeDetailByHomeIdWithTry(JoinPoint joinPoint)\r\n        {\r\n            try\r\n            {\r\n                Object[] args = joinPoint.getArgs();\r\n                Prediction.checkTrue(args[0] instanceof HttpServletRequest);\r\n                HttpServletRequest request = (HttpServletRequest) args[0];\r\n                request.setAttribute(&quot;ignore&quot;, &quot;true&quot;);\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                log.error(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nIn the end, checked if attribute(&quot;ignore&quot;) of RequestServlet evaluated.\r\n\r\n    @RestController\r\n    @RequestMapping(value = { &quot;/home-svc/isHealth&quot; }, method = { RequestMethod.GET, RequestMethod.HEAD })\r\n    public class HealthCheckController\r\n    {\r\n        private String HEALTH = &quot;health&quot;;\r\n    \r\n        @RequestMapping\r\n        public String process(HttpServletRequest request)\r\n        {\r\n            log.debug(&quot;ignore attribute is {}&quot;, request.getAttribute(&quot;ignore&quot;));\r\n            return HEALTH;\r\n        }\r\n    }\r\n\r\n&gt; output: ignore attribute is true\r\n\r\nHowever, access informs of health check still be found in access logs:\r\n\r\n    &quot;127.0.0.1 - - [03/Mar/2016:11:34:00 +0800] &#39;GET /home-svc/isHealth HTTP/1.1&#39; 200 6 120&quot;\r\n\r\nI supposed attribute parameter &#39;ignore&#39; set up late in the process, when and how to setAttribute for HttpServletRequest?\r\n\r\nIf our supposition not correct, what makes the operations not work?\r\n\r\nThanks for help.\r\n \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes","title":"How to filter access logs generated by tomcat under spring boot framework","body":"<p>We are using spring boot framework, generating access logs by embedded tomcat, the format of access logs is following the property below : </p>\n\n<pre><code>server.tomcat.access-log-enabled=true\nserver.tomcat.access-log-pattern=\"%h %l %u %t '%r' %s %b %D\"\nserver.tomcat.basedir=/data/logs/Waijule/SchoolService/access\n</code></pre>\n\n<p>Fortunately, access logs generated succeed, we got a positive result :</p>\n\n<pre><code>\"127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] 'POST /school-svc/index-summary HTTP/1.1' 200 127 21\"\n\"127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] 'POST /school-svc/wechat/signature/get HTTP/1.1' 200 238 9\"\n\"127.0.0.1 - - [01/Mar/2016:11:25:47 +0800] 'POST /school-svc/wechat/ticket/get HTTP/1.1' 200 225 148\"\n</code></pre>\n\n<p>To make sure the service healthy, we have kept running health check every 5 seconds, the requests which we want to filter so that we could get clear access logs, health check url is like the sample : </p>\n\n<pre><code>\"127.0.0.1 - - [01/Mar/2016:12:04:10 +0800] 'GET /school-svc/isHealth HTTP/1.1' 200 6 104\"\n</code></pre>\n\n<p>How to filter health check requests? </p>\n\n<p>Thanks for help.</p>\n\n<hr>\n\n<p>According to <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"noreferrer\">documentation on access loging</a>, I tried to use <strong>conditionIf</strong> to solve the problems, in our spring framework, I tried to override customize function in EmbeddedServletContainerCustomizer class so that conditionIf could set up, our realization likes the following sample :</p>\n\n<pre><code> @Configuration\n public class Application implements EmbeddedServletContainerCustomizer {\n     @Override\n     public void customize(ConfigurableEmbeddedServletContainer container)\n     {\n         if (container instanceof TomcatEmbeddedServletContainerFactory)\n            {\n                log.debug(\"It is TomcatEmbeddedServletContainerFactory\");\n                TomcatEmbeddedServletContainerFactory factory = (TomcatEmbeddedServletContainerFactory) container;\n                AccessLogValve accessLogValve = new AccessLogValve();                    \n                accessLogValve.setConditionIf(\"ignore\");\n                factory.addContextValves(accessLogValve);\n            }\n            else\n            {\n                log.error(\"WARNING! this customizer does not support your configured container\");\n            }\n      }    \n}\n</code></pre>\n\n<p>In my comprehension, the next step we need to do is set attribute parameter, so I wrote interceptor on the above of health check controller, realization likes that:</p>\n\n<pre><code>@Component\n@Aspect\npublic class HealthCheckInterceptor\n{\n    @Before(\"execution(* com.waijule.home.controller.HealthCheckController.process(..))\")\n    private void beforeGetHomeDetailByHomeIdWithTry(JoinPoint joinPoint)\n    {\n        try\n        {\n            Object[] args = joinPoint.getArgs();\n            Prediction.checkTrue(args[0] instanceof HttpServletRequest);\n            HttpServletRequest request = (HttpServletRequest) args[0];\n            request.setAttribute(\"ignore\", \"true\");\n        }\n        catch (Exception e)\n        {\n            log.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>In the end, checked if attribute(\"ignore\") of RequestServlet evaluated.</p>\n\n<pre><code>@RestController\n@RequestMapping(value = { \"/home-svc/isHealth\" }, method = { RequestMethod.GET, RequestMethod.HEAD })\npublic class HealthCheckController\n{\n    private String HEALTH = \"health\";\n\n    @RequestMapping\n    public String process(HttpServletRequest request)\n    {\n        log.debug(\"ignore attribute is {}\", request.getAttribute(\"ignore\"));\n        return HEALTH;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>output: ignore attribute is true</p>\n</blockquote>\n\n<p>However, access informs of health check still be found in access logs:</p>\n\n<pre><code>\"127.0.0.1 - - [03/Mar/2016:11:34:00 +0800] 'GET /home-svc/isHealth HTTP/1.1' 200 6 120\"\n</code></pre>\n\n<p>I supposed attribute parameter 'ignore' set up late in the process, when and how to setAttribute for HttpServletRequest?</p>\n\n<p>If our supposition not correct, what makes the operations not work?</p>\n\n<p>Thanks for help.</p>\n"},{"tags":["java","spring-boot","gradle","openapi","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1677248599,"post_id":75549738,"comment_id":133305818,"body_markdown":"Are you trying to change all `JsonNullable` objects to `JsonNode`, or all general `Object` types, or just this one `Object`?","body":"Are you trying to change all <code>JsonNullable</code> objects to <code>JsonNode</code>, or all general <code>Object</code> types, or just this one <code>Object</code>?"},{"owner":{"account_id":3695566,"reputation":243,"user_id":3077014,"accept_rate":25,"display_name":"mkasepuu"},"score":0,"creation_date":1677269928,"post_id":75549738,"comment_id":133311383,"body_markdown":"Id hope for this one Object. But all alternatives are to be explored","body":"Id hope for this one Object. But all alternatives are to be explored"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606871,"creation_date":1677606871,"answer_id":75595666,"question_id":75549738,"body_markdown":"All of this can be done in your template.  I think the easiest way would be to use a [custom vendor extension][1].  Create a custom extension called something like `x-render-asNode: true`, and then update your `pojo.mustache`.  You will need to add the JsonNode import to the top of your `pojo.mustache` and update the following line:\r\n```\r\n  {{#openApiNullable}}\r\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\r\n  {{/openApiNullable}}\r\n```\r\nUpdate the line to read as follows:\r\n```\r\n  {{#openApiNullable}}\r\n  {{#vendorExtensions.x-render-asNode}}\r\n  private JsonNode {{name}};\r\n  {{/vendorExtensions.x-render-asNode}}\r\n  {{^vendorExtensions.x-render-asNode}}\r\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\r\n  {{/vendorExtensions.x-render-asNode}}\r\n  {{/openApiNullable}}\r\n```\r\n\r\n### Explanation:\r\n\r\nThe vendor extension just needs to exist.  It doesn&#39;t need an actual value, however I&#39;ve always preferred adding true, to assist in readability.  The mustache template takes a look at all vendor extensions, and sees if the list of extensions includes `x-render-asNode`.  It does this with the number(`#`) symbol.  If the extension exists, then it will render the object as a JsonNode.  If it doesn&#39;t exist, checked with the carrot(`^`) symbol, then it will render as usual.\r\n\r\n### Note:\r\n\r\nThe above change addresses the change to the field declaration.  However, you will need to make similar changes to the getter and setter methods to ensure they are taking in and returning `JsonNode` types as well.\r\n\r\n\r\n\r\n  [1]: https://swagger.io/specification/#:~:text=read%3Apets-,Specification%20Extensions,-While%20the%20OpenAPI","title":"Openapi generator to generate JsonNode type variable","body":"<p>All of this can be done in your template.  I think the easiest way would be to use a <a href=\"https://swagger.io/specification/#:%7E:text=read%3Apets-,Specification%20Extensions,-While%20the%20OpenAPI\" rel=\"nofollow noreferrer\">custom vendor extension</a>.  Create a custom extension called something like <code>x-render-asNode: true</code>, and then update your <code>pojo.mustache</code>.  You will need to add the JsonNode import to the top of your <code>pojo.mustache</code> and update the following line:</p>\n<pre><code>  {{#openApiNullable}}\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\n  {{/openApiNullable}}\n</code></pre>\n<p>Update the line to read as follows:</p>\n<pre><code>  {{#openApiNullable}}\n  {{#vendorExtensions.x-render-asNode}}\n  private JsonNode {{name}};\n  {{/vendorExtensions.x-render-asNode}}\n  {{^vendorExtensions.x-render-asNode}}\n  private {{&gt;nullableDataType}} {{name}}{{#isNullable}} = JsonNullable.undefined(){{/isNullable}}{{^isNullable}}{{#defaultValue}} = {{{.}}}{{/defaultValue}}{{/isNullable}};\n  {{/vendorExtensions.x-render-asNode}}\n  {{/openApiNullable}}\n</code></pre>\n<h3>Explanation:</h3>\n<p>The vendor extension just needs to exist.  It doesn't need an actual value, however I've always preferred adding true, to assist in readability.  The mustache template takes a look at all vendor extensions, and sees if the list of extensions includes <code>x-render-asNode</code>.  It does this with the number(<code>#</code>) symbol.  If the extension exists, then it will render the object as a JsonNode.  If it doesn't exist, checked with the carrot(<code>^</code>) symbol, then it will render as usual.</p>\n<h3>Note:</h3>\n<p>The above change addresses the change to the field declaration.  However, you will need to make similar changes to the getter and setter methods to ensure they are taking in and returning <code>JsonNode</code> types as well.</p>\n"}],"owner":{"account_id":3695566,"reputation":243,"user_id":3077014,"accept_rate":25,"display_name":"mkasepuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677606871,"creation_date":1677182250,"question_id":75549738,"body_markdown":"I have a following object definition in OpenApi v3.0.3. I am using java 17 + gradle with build.gradle.kts in Kotlin\r\n\r\n         customPayload:\r\n          type: object\r\n          nullable: true\r\n          example:\r\n            date: 2022-12-16\r\n            randomStuff: &quot;random stuff&quot;\r\n\r\nNow currently OpenApi Generator will generate it like this:\r\n```\r\n@JsonProperty(&quot;customPayload&quot;)\r\n  private JsonNullable&lt;Object&gt; customPayload = JsonNullable.undefined();\r\n```\r\n\r\nI would like to find a way to transform customPayload to JsonNode\r\n\r\nSmt like this\r\n``` \r\n  @JsonProperty(&quot;customPayload&quot;)\r\n  private JsonNode customPayload;\r\n```\r\n\r\nSo any good ideas?\r\n\r\n\r\n\r\n","title":"Openapi generator to generate JsonNode type variable","body":"<p>I have a following object definition in OpenApi v3.0.3. I am using java 17 + gradle with build.gradle.kts in Kotlin</p>\n<pre><code>     customPayload:\n      type: object\n      nullable: true\n      example:\n        date: 2022-12-16\n        randomStuff: &quot;random stuff&quot;\n</code></pre>\n<p>Now currently OpenApi Generator will generate it like this:</p>\n<pre><code>@JsonProperty(&quot;customPayload&quot;)\n  private JsonNullable&lt;Object&gt; customPayload = JsonNullable.undefined();\n</code></pre>\n<p>I would like to find a way to transform customPayload to JsonNode</p>\n<p>Smt like this</p>\n<pre><code>  @JsonProperty(&quot;customPayload&quot;)\n  private JsonNode customPayload;\n</code></pre>\n<p>So any good ideas?</p>\n"},{"tags":["java","microsoft-graph-api","sharepointdriveitem"],"answers":[{"tags":[],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606509,"creation_date":1677606509,"answer_id":75595609,"question_id":75594072,"body_markdown":"I found the issue, my problem, is that i was basically i was triying to copy form the destination as a base.\r\n\r\nWhat i needed to do was change my copy command, by doing the following\r\n\r\n    \t\t\t\tgraphClient.drives(fileResult.parentReference.driveId).items(fileResult.id).copy(\r\n\t\t\t\t\t\t\t\tDriveItemCopyParameterSet\r\n\t\t\t\t\t\t\t\t\t\t.newBuilder()\r\n\t\t\t\t\t\t\t\t\t\t.withName(fileName)\r\n\t\t\t\t\t\t\t\t\t\t.withParentReference(parentReference)\r\n\t\t\t\t\t\t\t\t\t\t.build())\r\n\t\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t\t.post();\r\n\r\nBy doing it like this i was taking the drive where i found the file as a source, and from there on i called the copy to the destination.","title":"Sharepoint File Search and Copy","body":"<p>I found the issue, my problem, is that i was basically i was triying to copy form the destination as a base.</p>\n<p>What i needed to do was change my copy command, by doing the following</p>\n<pre><code>                graphClient.drives(fileResult.parentReference.driveId).items(fileResult.id).copy(\n                            DriveItemCopyParameterSet\n                                    .newBuilder()\n                                    .withName(fileName)\n                                    .withParentReference(parentReference)\n                                    .build())\n                    .buildRequest()\n                    .post();\n</code></pre>\n<p>By doing it like this i was taking the drive where i found the file as a source, and from there on i called the copy to the destination.</p>\n"}],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677606509,"creation_date":1677598064,"question_id":75594072,"body_markdown":"I need to develop a function in java using the microsoft graph api, that would search for a file with a specific name, and copy it to a another destination.\r\n\r\nI am able to search and find the file, but i am getting a error of itemNotFound when i try to do the copy.\r\n\r\nTo clarify the user i am using to search has universal access, and the file usually is in the drive of another user.\r\nThe destination is a backup site for these files.\r\n\r\nHere is my code\r\n\r\n    private static String copyFile(String fileName, String destinationPath){\r\n\r\n    \t\ttry {\r\n    \t\t\tlong timeStart = System.currentTimeMillis();\r\n\r\n\t\t\tGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\r\n\r\n\t\t\tLinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;SearchRequest&gt;();\r\n\t\t\tSearchRequest requests = new SearchRequest();\r\n\r\n\t\t\tLinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;EntityType&gt;();\r\n\t\t\tentityTypesList.add(EntityType.DRIVE_ITEM);\r\n\t\t\trequests.entityTypes = entityTypesList;\r\n\r\n\t\t\tLinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\r\n\t\t\tSortProperty sort = new SortProperty();\r\n\t\t\tsort.name = &quot;lastModifiedDateTime&quot;;\r\n\t\t\tsort.isDescending = true;\r\n\t\t\tsortProperties.add(sort);\r\n\r\n\t\t\tSearchQuery query = new SearchQuery();\r\n\t\t\tquery.queryString = fileName;\r\n\t\t\trequests.query = query;\r\n\t\t\trequests.sortProperties = sortProperties;\r\n\t\t\trequests.size = 1;\r\n\r\n\t\t\trequestsList.add(requests);\r\n\r\n\t\t\tSearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\r\n\t\t\t\t\t.newBuilder()\r\n\t\t\t\t\t.withRequests(requestsList)\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tSearchEntityQueryCollectionPage searchResult = graphClient.search().query(sqp)\r\n\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t.post();\r\n\r\n\t\t\tDriveItem fileResult = null;\r\n\t\t\tfor (SearchResponse searchResponse : searchResult.getCurrentPage()) {\r\n\t\t\t\tif (searchResponse.hitsContainers != null) {\r\n\t\t\t\t\tfor (SearchHitsContainer searchHitsContainer : searchResponse.hitsContainers) {\r\n\t\t\t\t\t\tif (searchHitsContainer.hits != null) {\r\n\t\t\t\t\t\t\tfor (SearchHit searchHit : searchHitsContainer.hits) {\r\n\t\t\t\t\t\t\t\tfileResult = (DriveItem) searchHit.resource;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;DriveItem&gt; items = null;\r\n\t\t\tDriveItemRequestBuilder destination = null;\r\n\r\n\t\t\tDriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\r\n\t\t\tDriveItemRequestBuilder driverRootReq = driverReq.root();\r\n\r\n\t\t\tdestination = driverRootReq.itemWithPath(destinationPath);\r\n\r\n\t\t\tItemReference parentReference = new ItemReference();\r\n\t\t\tparentReference.driveId = driverReq.buildRequest().get().id;\r\n\t\t\tparentReference.id = destination.buildRequest().get().id;\r\n\r\n\t\t\tif (fileResult != null) {\r\n\t\t\t\t\tgraphClient.me().drive().items(fileResult.id).copy(\r\n\t\t\t\t\tDriveItemCopyParameterSet\r\n\t\t\t\t\t\t\t.newBuilder()\r\n\t\t\t\t\t\t\t.withName(fileName)\r\n\t\t\t\t\t\t\t.withParentReference(parentReference)\r\n\t\t\t\t\t\t\t.build())\r\n\t\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t\t.post();\r\n\t\t\t}\r\n\r\n\t\t\tlong timeEnd = System.currentTimeMillis();\r\n\r\n\t\t\tlong timeSeconds = (timeEnd-timeStart);\r\n\t\t\treturn fileName + &quot; Copy Successful in &quot;+timeSeconds+&quot; ms&quot;;\r\n\t\t}catch (GraphServiceException exception){\r\n\t\t\tlogger.error(exception.getServiceError().code+&quot; &quot;+exception.getMessage());\r\n\t\t\treturn &quot;Error Copying &quot;+exception.getMessage();\r\n\t\t}\r\n\r\n\t}\r\n**\r\n\r\n\r\n\r\n","title":"Sharepoint File Search and Copy","body":"<p>I need to develop a function in java using the microsoft graph api, that would search for a file with a specific name, and copy it to a another destination.</p>\n<p>I am able to search and find the file, but i am getting a error of itemNotFound when i try to do the copy.</p>\n<p>To clarify the user i am using to search has universal access, and the file usually is in the drive of another user.\nThe destination is a backup site for these files.</p>\n<p>Here is my code</p>\n<pre><code>private static String copyFile(String fileName, String destinationPath){\n\n        try {\n            long timeStart = System.currentTimeMillis();\n\n        GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\n\n        LinkedList&lt;SearchRequest&gt; requestsList = new LinkedList&lt;SearchRequest&gt;();\n        SearchRequest requests = new SearchRequest();\n\n        LinkedList&lt;EntityType&gt; entityTypesList = new LinkedList&lt;EntityType&gt;();\n        entityTypesList.add(EntityType.DRIVE_ITEM);\n        requests.entityTypes = entityTypesList;\n\n        LinkedList&lt;SortProperty&gt; sortProperties = new LinkedList&lt;&gt;();\n        SortProperty sort = new SortProperty();\n        sort.name = &quot;lastModifiedDateTime&quot;;\n        sort.isDescending = true;\n        sortProperties.add(sort);\n\n        SearchQuery query = new SearchQuery();\n        query.queryString = fileName;\n        requests.query = query;\n        requests.sortProperties = sortProperties;\n        requests.size = 1;\n\n        requestsList.add(requests);\n\n        SearchEntityQueryParameterSet sqp = SearchEntityQueryParameterSet\n                .newBuilder()\n                .withRequests(requestsList)\n                .build();\n\n        SearchEntityQueryCollectionPage searchResult = graphClient.search().query(sqp)\n                .buildRequest()\n                .post();\n\n        DriveItem fileResult = null;\n        for (SearchResponse searchResponse : searchResult.getCurrentPage()) {\n            if (searchResponse.hitsContainers != null) {\n                for (SearchHitsContainer searchHitsContainer : searchResponse.hitsContainers) {\n                    if (searchHitsContainer.hits != null) {\n                        for (SearchHit searchHit : searchHitsContainer.hits) {\n                            fileResult = (DriveItem) searchHit.resource;\n                        }\n                    }\n                }\n            }\n        }\n\n        List&lt;DriveItem&gt; items = null;\n        DriveItemRequestBuilder destination = null;\n\n        DriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\n        DriveItemRequestBuilder driverRootReq = driverReq.root();\n\n        destination = driverRootReq.itemWithPath(destinationPath);\n\n        ItemReference parentReference = new ItemReference();\n        parentReference.driveId = driverReq.buildRequest().get().id;\n        parentReference.id = destination.buildRequest().get().id;\n\n        if (fileResult != null) {\n                graphClient.me().drive().items(fileResult.id).copy(\n                DriveItemCopyParameterSet\n                        .newBuilder()\n                        .withName(fileName)\n                        .withParentReference(parentReference)\n                        .build())\n                    .buildRequest()\n                    .post();\n        }\n\n        long timeEnd = System.currentTimeMillis();\n\n        long timeSeconds = (timeEnd-timeStart);\n        return fileName + &quot; Copy Successful in &quot;+timeSeconds+&quot; ms&quot;;\n    }catch (GraphServiceException exception){\n        logger.error(exception.getServiceError().code+&quot; &quot;+exception.getMessage());\n        return &quot;Error Copying &quot;+exception.getMessage();\n    }\n\n}\n</code></pre>\n<p>**</p>\n"},{"tags":["java","enums","annotations"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1307630588,"post_id":6294587,"comment_id":7351519,"body_markdown":"What&#39;s the actual &quot;business&quot; need? What is this trying to solve? (I&#39;m sure you don&#39;t actually need to do this exact thing - this is just a way to do something)","body":"What&#39;s the actual &quot;business&quot; need? What is this trying to solve? (I&#39;m sure you don&#39;t actually need to do this exact thing - this is just a way to do something)"}],"answers":[{"comments":[{"owner":{"account_id":3063678,"reputation":1961,"user_id":2595847,"accept_rate":57,"display_name":"Thomas Stubbe"},"score":2,"creation_date":1513351038,"post_id":6294691,"comment_id":82633609,"body_markdown":"&quot;Ditch the String representation, and do a real enum.&quot; This is really the worst advice for user input validation... With a http-request for example, the user always sends a string. If the value is incorrect, the user expects to get a correct message (e.g. dataType does not match any known value. Use one of...) and not 400 BAD REQUEST, which would occur with a real enum","body":"&quot;Ditch the String representation, and do a real enum.&quot; This is really the worst advice for user input validation... With a http-request for example, the user always sends a string. If the value is incorrect, the user expects to get a correct message (e.g. dataType does not match any known value. Use one of...) and not 400 BAD REQUEST, which would occur with a real enum"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":6,"creation_date":1513364827,"post_id":6294691,"comment_id":82640700,"body_markdown":"A simple static method on the enum `valueForString(...)` would return the Enum value, or null if there was none (due to a typo, for example).  It centralizes validation of the input, and does so in the place where the inputs are defined.  And let&#39;s not get over-dramatic.  This isn&#39;t the worst advice, as we can both dream up much worse advice.","body":"A simple static method on the enum <code>valueForString(...)</code> would return the Enum value, or null if there was none (due to a typo, for example).  It centralizes validation of the input, and does so in the place where the inputs are defined.  And let&#39;s not get over-dramatic.  This isn&#39;t the worst advice, as we can both dream up much worse advice."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1673703647,"post_id":6294691,"comment_id":132559575,"body_markdown":"Note: The problem I face with enums is that they are parsed from Strings way before bean validation kicks in. And while bean validation bundles all violations into 1 list, if an enum field is not correct, Jackson would throw a parsing exception with a message far from user or even developer friendly.","body":"Note: The problem I face with enums is that they are parsed from Strings way before bean validation kicks in. And while bean validation bundles all violations into 1 list, if an enum field is not correct, Jackson would throw a parsing exception with a message far from user or even developer friendly."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1673706899,"post_id":6294691,"comment_id":132560189,"body_markdown":"@iwat0qs Jackson has excellent unmarshalling into enums, but one does have to extend Jackson with a custom serializer for the enum.  Complaining that the enum is invalid is not something I understand, because when using enum objects, validity is that the object exists, invalidity is that it does not, and once Jackson parses it to an object, it either succeeds there or fails.  Saying that bean validation then fails the parsing assumes a getter and a setter (to make a bean) and if you have those, you aren&#39;t using object based enums (or probably even enums).","body":"@iwat0qs Jackson has excellent unmarshalling into enums, but one does have to extend Jackson with a custom serializer for the enum.  Complaining that the enum is invalid is not something I understand, because when using enum objects, validity is that the object exists, invalidity is that it does not, and once Jackson parses it to an object, it either succeeds there or fails.  Saying that bean validation then fails the parsing assumes a getter and a setter (to make a bean) and if you have those, you aren&#39;t using object based enums (or probably even enums)."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1673795783,"post_id":6294691,"comment_id":132572940,"body_markdown":"I didn&#39;t say that an enum is invalid, or that &quot;bean validation fails parsing&quot;. Bean validation is something that happens after parsing by Jackson. What I said, is that when Jackson faces a String value that could not be parsed into the target enum value, it throws a super ugly parsing exception. Having a utility method that returns null on invalid values is also not a universal solution, since it may be the case that null is a valid value, and silently falling back to null is not good then. 1/2","body":"I didn&#39;t say that an enum is invalid, or that &quot;bean validation fails parsing&quot;. Bean validation is something that happens after parsing by Jackson. What I said, is that when Jackson faces a String value that could not be parsed into the target enum value, it throws a super ugly parsing exception. Having a utility method that returns null on invalid values is also not a universal solution, since it may be the case that null is a valid value, and silently falling back to null is not good then. 1/2"},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1673795934,"post_id":6294691,"comment_id":132572967,"body_markdown":"Also, I didn&#39;t mean &quot;enum = bean&quot;. I meant that enums are used as fields inside beans/DTOs. First the data has to be parsed by Jackson, and when Jackson cannot parse a String into an enum, it will throw an exception, and bean validation for the container-DTO will not execute. Can you point me to an example of Jackson unmarshallers that can preserve the value or the error state up until the bean validation stage so that the invalid enum value error is bundled together with all other errors? Else I didn&#39;t get your point. 2/2","body":"Also, I didn&#39;t mean &quot;enum = bean&quot;. I meant that enums are used as fields inside beans/DTOs. First the data has to be parsed by Jackson, and when Jackson cannot parse a String into an enum, it will throw an exception, and bean validation for the container-DTO will not execute. Can you point me to an example of Jackson unmarshallers that can preserve the value or the error state up until the bean validation stage so that the invalid enum value error is bundled together with all other errors? Else I didn&#39;t get your point. 2/2"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1673806301,"post_id":6294691,"comment_id":132574866,"body_markdown":"@iwat0qs I can&#39;t imagine a scenario where one would want to continue to parse additional fields after an error was raised.  It seems you still say bean validation fails after Jackson parsing fails.  Well, it&#39;s supposed to.  I&#39;m thinking you are doing something odd in your validation, and &quot;fixing&quot; invalid values into valid ones as you go.  That&#39;s ignoring a lot of good practices, and while you may have to do so because of the legacy of your application, it&#39;s not like tools are SUPPOSED to help you do invalid things (like converting bad input into valid input).","body":"@iwat0qs I can&#39;t imagine a scenario where one would want to continue to parse additional fields after an error was raised.  It seems you still say bean validation fails after Jackson parsing fails.  Well, it&#39;s supposed to.  I&#39;m thinking you are doing something odd in your validation, and &quot;fixing&quot; invalid values into valid ones as you go.  That&#39;s ignoring a lot of good practices, and while you may have to do so because of the legacy of your application, it&#39;s not like tools are SUPPOSED to help you do invalid things (like converting bad input into valid input)."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1673907490,"post_id":6294691,"comment_id":132597933,"body_markdown":"I&#39;m not doing anything odd in validation. The reason why I want to use bean validation, is because I want a single 400 response with ALL client mistakes listed, including the invalid String in place of an enum. From JSON perspective there are no enums. An invalid String in place of an enum is no different than a negative integer, where a positive one is expected. Jackson doesn&#39;t fail parsing. Jackson fails mapping, because bean validation runs too late. Something like JSON schema instead of bean validation would catch this before Jackson mapping from JSON to DTO. 1/2","body":"I&#39;m not doing anything odd in validation. The reason why I want to use bean validation, is because I want a single 400 response with ALL client mistakes listed, including the invalid String in place of an enum. From JSON perspective there are no enums. An invalid String in place of an enum is no different than a negative integer, where a positive one is expected. Jackson doesn&#39;t fail parsing. Jackson fails mapping, because bean validation runs too late. Something like JSON schema instead of bean validation would catch this before Jackson mapping from JSON to DTO. 1/2"},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1673907496,"post_id":6294691,"comment_id":132597935,"body_markdown":"Or Strings in DTO fields, so that Jackson doesn&#39;t fail mapping, then Bean Validation to validate the &quot;enum&quot; fields, and something like MapStruct to handle the mapping to enum boilerplate. Again, I&#39;m not &quot;fixing&quot; any values. That&#39;s exactly what I said previously I want to avoid. I&#39;ve said I don&#39;t want a silent null, when the user gave an invalid value. But I want the invalid enum to be reported together with all the invalid integers and blank strings and other validation errors, not as a separate exception cancelling bean validation 2/2","body":"Or Strings in DTO fields, so that Jackson doesn&#39;t fail mapping, then Bean Validation to validate the &quot;enum&quot; fields, and something like MapStruct to handle the mapping to enum boilerplate. Again, I&#39;m not &quot;fixing&quot; any values. That&#39;s exactly what I said previously I want to avoid. I&#39;ve said I don&#39;t want a silent null, when the user gave an invalid value. But I want the invalid enum to be reported together with all the invalid integers and blank strings and other validation errors, not as a separate exception cancelling bean validation 2/2"}],"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":9,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1307631078,"creation_date":1307630643,"answer_id":6294691,"question_id":6294587,"body_markdown":"Ditch the String representation, and do a real enum.\r\n\r\n    public enum DataType {\r\n       STRING,\r\n       BOOLEAN,\r\n       INTEGER;\r\n    }\r\n\r\nThat way you avoid ever having to do string comparison of the previous `String dataType` variable to determine if it is in the enum.  As an aside, it also makes it impossible to assign a non-valid value to the member variable `dataType` and since enums are guaranteed to be singletons within the class loader, it also saves on memory footprint.\r\n\r\nIt&#39;s worth the effort to change your code to use enums.  However, assuming that you can&#39;t, you can at least change the annotation to use enums.\r\n\r\n    @ValidateString(DataType.STRING) String dataType;\r\n\r\nand that way your `ValidateString` annotation at least gets to benefit from enums, even if the rest of the code doesn&#39;t.\r\n\r\nNow on the extremely rare chance that you can&#39;t use an enumeration at all, you can set static public integers, which map each accepted value.\r\n\r\n    public class DataType {\r\n      public static final int STRING = 1;\r\n      public static final int BOOLEAN = 2;\r\n      ...\r\n    }\r\n\r\nHowever, if you use a String for the annotation parameter, we don&#39;t have a type checking system which extends into the type to specify that only particular values are allowed.  In other words, Java lacks the ability to do something like this:\r\n\r\n    public int&lt;values=[1,3,5,7..9]&gt; oddInt; \r\n\r\nwhich would throw an error if you attempted to assign\r\n\r\n     oddInt = 4;\r\n\r\nWhy is this important?  Because if it doesn&#39;t apply to regular Java, then it cannot apply to the enumeration which is implemented in regular Java classes.","title":"Java String validation using enum values and annotation","body":"<p>Ditch the String representation, and do a real enum.</p>\n\n<pre><code>public enum DataType {\n   STRING,\n   BOOLEAN,\n   INTEGER;\n}\n</code></pre>\n\n<p>That way you avoid ever having to do string comparison of the previous <code>String dataType</code> variable to determine if it is in the enum.  As an aside, it also makes it impossible to assign a non-valid value to the member variable <code>dataType</code> and since enums are guaranteed to be singletons within the class loader, it also saves on memory footprint.</p>\n\n<p>It's worth the effort to change your code to use enums.  However, assuming that you can't, you can at least change the annotation to use enums.</p>\n\n<pre><code>@ValidateString(DataType.STRING) String dataType;\n</code></pre>\n\n<p>and that way your <code>ValidateString</code> annotation at least gets to benefit from enums, even if the rest of the code doesn't.</p>\n\n<p>Now on the extremely rare chance that you can't use an enumeration at all, you can set static public integers, which map each accepted value.</p>\n\n<pre><code>public class DataType {\n  public static final int STRING = 1;\n  public static final int BOOLEAN = 2;\n  ...\n}\n</code></pre>\n\n<p>However, if you use a String for the annotation parameter, we don't have a type checking system which extends into the type to specify that only particular values are allowed.  In other words, Java lacks the ability to do something like this:</p>\n\n<pre><code>public int&lt;values=[1,3,5,7..9]&gt; oddInt; \n</code></pre>\n\n<p>which would throw an error if you attempted to assign</p>\n\n<pre><code> oddInt = 4;\n</code></pre>\n\n<p>Why is this important?  Because if it doesn't apply to regular Java, then it cannot apply to the enumeration which is implemented in regular Java classes.</p>\n"},{"comments":[{"owner":{"account_id":3063678,"reputation":1961,"user_id":2595847,"accept_rate":57,"display_name":"Thomas Stubbe"},"score":7,"creation_date":1513351193,"post_id":6360458,"comment_id":82633709,"body_markdown":"The biggest disadvantage is that if the enum changes, this annotation is quickly forgotten. Isn&#39;t there a way to map this to the values of the enum?","body":"The biggest disadvantage is that if the enum changes, this annotation is quickly forgotten. Isn&#39;t there a way to map this to the values of the enum?"}],"tags":[],"owner":{"account_id":415982,"reputation":970,"user_id":791104,"display_name":"Joe"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1573126411,"creation_date":1308152577,"answer_id":6360458,"question_id":6294587,"body_markdown":"This is what I did.\r\n\r\nAnnotation\r\n\r\n    public @interface ValidateString {\r\n    \t\r\n    \tString[] acceptedValues();\r\n    \t\r\n    \tString message() default &quot;{uk.dds.ideskos.validator.ValidateString.message}&quot;;\r\n    \t\r\n    \tClass&lt;?&gt;[] groups() default { };\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default { }; \r\n    }\r\n\r\n\r\n\r\nValidation Class\r\n\r\n    public class StringValidator implements ConstraintValidator&lt;ValidateString, String&gt;{\r\n    \r\n    \tprivate List&lt;String&gt; valueList;\r\n    \r\n    \t@Override\r\n    \tpublic void initialize(ValidateString constraintAnnotation) {\r\n    \t\tvalueList = new ArrayList&lt;String&gt;();\r\n    \t\tfor(String val : constraintAnnotation.acceptedValues()) {\r\n    \t\t\tvalueList.add(val.toUpperCase());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean isValid(String value, ConstraintValidatorContext context) {\r\n    \t\treturn valueList.contains(value.toUpperCase());\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd i used it like\r\n\r\n    @ValidateString(acceptedValues={&quot;Integer&quot;, &quot;String&quot;}, message=&quot;Invalid dataType&quot;)\r\n    String dataType;\r\n\r\n    Long maxValue;\r\n    Long minValue;\r\n\r\n\r\nNow I need to figure out how to implement conditional check\r\nie. if String then maxValue and minValue should be null or Zero..\r\n\r\nAny ideas?","title":"Java String validation using enum values and annotation","body":"<p>This is what I did.</p>\n\n<p>Annotation</p>\n\n<pre><code>public @interface ValidateString {\n\n    String[] acceptedValues();\n\n    String message() default \"{uk.dds.ideskos.validator.ValidateString.message}\";\n\n    Class&lt;?&gt;[] groups() default { };\n\n    Class&lt;? extends Payload&gt;[] payload() default { }; \n}\n</code></pre>\n\n<p>Validation Class</p>\n\n<pre><code>public class StringValidator implements ConstraintValidator&lt;ValidateString, String&gt;{\n\n    private List&lt;String&gt; valueList;\n\n    @Override\n    public void initialize(ValidateString constraintAnnotation) {\n        valueList = new ArrayList&lt;String&gt;();\n        for(String val : constraintAnnotation.acceptedValues()) {\n            valueList.add(val.toUpperCase());\n        }\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return valueList.contains(value.toUpperCase());\n    }\n\n}\n</code></pre>\n\n<p>And i used it like</p>\n\n<pre><code>@ValidateString(acceptedValues={\"Integer\", \"String\"}, message=\"Invalid dataType\")\nString dataType;\n\nLong maxValue;\nLong minValue;\n</code></pre>\n\n<p>Now I need to figure out how to implement conditional check\nie. if String then maxValue and minValue should be null or Zero..</p>\n\n<p>Any ideas?</p>\n"},{"tags":[],"owner":{"account_id":1210392,"reputation":1,"user_id":1179050,"display_name":"Kalyan"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1364642282,"creation_date":1327959624,"answer_id":9071169,"question_id":6294587,"body_markdown":"You can use `@NotNull` annotation in conjunction with yours.\r\nTo use that you need to add `@Target( { ANNOTATION_TYPE })` annotation in `ValidateString`.\r\n\r\nhttp://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html","title":"Java String validation using enum values and annotation","body":"<p>You can use <code>@NotNull</code> annotation in conjunction with yours.\nTo use that you need to add <code>@Target( { ANNOTATION_TYPE })</code> annotation in <code>ValidateString</code>.</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html\" rel=\"nofollow\">http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html</a></p>\n"},{"comments":[{"owner":{"account_id":2016792,"reputation":918,"user_id":1803916,"accept_rate":62,"display_name":"Sofiane"},"score":4,"creation_date":1513777201,"post_id":21070806,"comment_id":82781741,"body_markdown":"Hi where is groups initialized ?","body":"Hi where is groups initialized ?"},{"owner":{"account_id":1329067,"reputation":1981,"user_id":1273319,"accept_rate":92,"display_name":"Shane Rowatt"},"score":0,"creation_date":1546926953,"post_id":21070806,"comment_id":95004741,"body_markdown":"@Sofiane the `groups` value it set when using the annotation as per the example above but is not used by the `EnumValidatorImpl` but instead is used by framework to managing validation groups.","body":"@Sofiane the <code>groups</code> value it set when using the annotation as per the example above but is not used by the <code>EnumValidatorImpl</code> but instead is used by framework to managing validation groups."},{"owner":{"account_id":5071499,"reputation":471,"user_id":4070142,"accept_rate":77,"display_name":"doga"},"score":0,"creation_date":1565435859,"post_id":21070806,"comment_id":101359635,"body_markdown":"Does this code works for all enums and we need to only give enum class name in @EnumValidaror. Is this correct ?","body":"Does this code works for all enums and we need to only give enum class name in @EnumValidaror. Is this correct ?"},{"owner":{"account_id":8259541,"reputation":79,"user_id":6211518,"display_name":"postace"},"score":0,"creation_date":1566654746,"post_id":21070806,"comment_id":101729195,"body_markdown":"the `isValid()` method can be simplified as:\n\n\n\n`return valueList.contains(value.toUpperCase());`","body":"the <code>isValid()</code> method can be simplified as:    <code>return valueList.contains(value.toUpperCase());</code>"},{"owner":{"account_id":3397698,"reputation":1131,"user_id":2850848,"accept_rate":29,"display_name":"edmundpie"},"score":0,"creation_date":1674705347,"post_id":21070806,"comment_id":132772981,"body_markdown":"is this thread safe? Suppose we are using EnumValidator for multiple different enumClazz, the valueList can be uncertain.","body":"is this thread safe? Suppose we are using EnumValidator for multiple different enumClazz, the valueList can be uncertain."}],"tags":[],"owner":{"account_id":3844509,"reputation":798,"user_id":3186528,"display_name":"Rajeev Singla"},"comment_count":5,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1575830185,"creation_date":1389495709,"answer_id":21070806,"question_id":6294587,"body_markdown":"So here is the code being using Spring validation and works great for me. \r\nFull code is given below.\r\n\r\n---\r\n*@EnumValidator* annotation definition:\r\n\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    import javax.validation.ReportAsSingleViolation;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = EnumValidatorImpl.class)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    @NotNull(message = &quot;Value cannot be null&quot;)\r\n    @ReportAsSingleViolation\r\n    public @interface EnumValidator {\r\n    \r\n      Class&lt;? extends Enum&lt;?&gt;&gt; enumClazz();\r\n      \r\n      String message() default &quot;Value is not valid&quot;;\r\n    \r\n      Class&lt;?&gt;[] groups() default {};\r\n    \r\n      Class&lt;? extends Payload&gt;[] payload() default {};\r\n      \r\n    }\r\n\r\n&lt;br&gt;\r\n*Implementation* of the above class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    \r\n    public class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; {\r\n    \r\n        List&lt;String&gt; valueList = null;\r\n        \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            return valueList.contains(value.toUpperCase());\r\n        }\r\n        \r\n        @Override\r\n        public void initialize(EnumValidator constraintAnnotation) {\r\n            valueList = new ArrayList&lt;String&gt;();\r\n            Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClazz();\r\n            \r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            Enum[] enumValArr = enumClass.getEnumConstants();\r\n            \r\n            for (@SuppressWarnings(&quot;rawtypes&quot;) Enum enumVal : enumValArr) {\r\n                valueList.add(enumVal.toString().toUpperCase());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n&lt;br&gt;\r\nUsage of the above *annotation* is very simple\r\n\r\n     @JsonProperty(&quot;lead_id&quot;)\r\n     @EnumValidator(\r\n         enumClazz = DefaultEnum.class,\r\n         message = &quot;This error is coming from the enum class&quot;,\r\n         groups = {Group1.class}\r\n     )\r\n     private String leadId;","title":"Java String validation using enum values and annotation","body":"<p>So here is the code being using Spring validation and works great for me. \nFull code is given below.</p>\n\n<hr>\n\n<p><em>@EnumValidator</em> annotation definition:</p>\n\n<pre><code>import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\nimport javax.validation.ReportAsSingleViolation;\nimport javax.validation.constraints.NotNull;\n\n@Documented\n@Constraint(validatedBy = EnumValidatorImpl.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\n@NotNull(message = \"Value cannot be null\")\n@ReportAsSingleViolation\npublic @interface EnumValidator {\n\n  Class&lt;? extends Enum&lt;?&gt;&gt; enumClazz();\n\n  String message() default \"Value is not valid\";\n\n  Class&lt;?&gt;[] groups() default {};\n\n  Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n\n<p><br>\n<em>Implementation</em> of the above class:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; {\n\n    List&lt;String&gt; valueList = null;\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return valueList.contains(value.toUpperCase());\n    }\n\n    @Override\n    public void initialize(EnumValidator constraintAnnotation) {\n        valueList = new ArrayList&lt;String&gt;();\n        Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClazz();\n\n        @SuppressWarnings(\"rawtypes\")\n        Enum[] enumValArr = enumClass.getEnumConstants();\n\n        for (@SuppressWarnings(\"rawtypes\") Enum enumVal : enumValArr) {\n            valueList.add(enumVal.toString().toUpperCase());\n        }\n    }\n\n}\n</code></pre>\n\n<p><br>\nUsage of the above <em>annotation</em> is very simple</p>\n\n<pre><code> @JsonProperty(\"lead_id\")\n @EnumValidator(\n     enumClazz = DefaultEnum.class,\n     message = \"This error is coming from the enum class\",\n     groups = {Group1.class}\n )\n private String leadId;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1329067,"reputation":1981,"user_id":1273319,"accept_rate":92,"display_name":"Shane Rowatt"},"score":1,"creation_date":1546927491,"post_id":52270344,"comment_id":95004901,"body_markdown":"if you change those `Enum[]` to `Enum&lt;?&gt;[]` it gets rid of those unchecked cast warnings. Also the variable initialisation can be simplified to `private final List&lt;String&gt; valueList = new ArrayList&lt;&gt;();`","body":"if you change those <code>Enum[]</code> to <code>Enum&lt;?&gt;[]</code> it gets rid of those unchecked cast warnings. Also the variable initialisation can be simplified to <code>private final List&lt;String&gt; valueList = new ArrayList&lt;&gt;();</code>"}],"tags":[],"owner":{"account_id":12226476,"reputation":82,"user_id":8923905,"display_name":"Emmanuel H"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536649182,"creation_date":1536649182,"answer_id":52270344,"question_id":6294587,"body_markdown":"I take up Rajeev Singla&#39;s response https://stackoverflow.com/a/21070806/8923905, just to optimize the code and allow the String parameter to be null, if in your application it is not mandatory and can be empty :\r\n\r\n1- Remove the @NotNull annotation on the Interface\r\n\r\n2- See the modified code below for the implementation.\r\n\r\n\r\n    public class EnumValidatorImpl implements ConstraintValidator &lt;EnumValidator,String&gt; {\r\n\r\n        private List&lt;String&gt; valueList = null;\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            return null == value || valueList.contains(value.toUpperCase());\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(EnumValidator constraintAnnotation) {\r\n            valueList = new ArrayList&lt;&gt;();\r\n            Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClass();\r\n    \r\n            Enum[] enumValArr = enumClass.getEnumConstants();\r\n    \r\n            for(Enum enumVal : enumValArr) {\r\n                valueList.add(enumVal.toString().toUpperCase());\r\n            }\r\n    \r\n        }\r\n    }","title":"Java String validation using enum values and annotation","body":"<p>I take up Rajeev Singla's response <a href=\"https://stackoverflow.com/a/21070806/8923905\">https://stackoverflow.com/a/21070806/8923905</a>, just to optimize the code and allow the String parameter to be null, if in your application it is not mandatory and can be empty :</p>\n\n<p>1- Remove the @NotNull annotation on the Interface</p>\n\n<p>2- See the modified code below for the implementation.</p>\n\n<pre><code>public class EnumValidatorImpl implements ConstraintValidator &lt;EnumValidator,String&gt; {\n\n    private List&lt;String&gt; valueList = null;\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return null == value || valueList.contains(value.toUpperCase());\n    }\n\n    @Override\n    public void initialize(EnumValidator constraintAnnotation) {\n        valueList = new ArrayList&lt;&gt;();\n        Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = constraintAnnotation.enumClass();\n\n        Enum[] enumValArr = enumClass.getEnumConstants();\n\n        for(Enum enumVal : enumValArr) {\n            valueList.add(enumVal.toString().toUpperCase());\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5961604,"reputation":881,"user_id":4686611,"display_name":"GC001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537982662,"creation_date":1537982662,"answer_id":52523159,"question_id":6294587,"body_markdown":"Here is a detailed example with the feature of a dynamic error message\r\n by Hibernate Documentation\r\n\r\nhttps://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-simple","title":"Java String validation using enum values and annotation","body":"<p>Here is a detailed example with the feature of a dynamic error message\n by Hibernate Documentation</p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-simple\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-customconstraints.html#validator-customconstraints-simple</a></p>\n"},{"tags":[],"owner":{"account_id":9636750,"reputation":2702,"user_id":7152558,"display_name":"Mahesh_Loya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567240631,"creation_date":1567238574,"answer_id":57736257,"question_id":6294587,"body_markdown":"**Little bit of improvisation with Java 8 Stream API**\r\n\r\n    import static java.util.stream.Collectors.toList;\r\n    import static java.util.stream.Stream.of;\r\n    import java.util.List;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n\r\n    public class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; \r\n    {\r\n\t  private List&lt;String&gt; valueList = null;\r\n\t  @Override\r\n\t  public boolean isValid(String value, ConstraintValidatorContext context) {\r\n\t\treturn valueList.contains(value.toUpperCase());\r\n\t  }\r\n\t  @Override\r\n\t  public void initialize(EnumValidator constraintAnnotation) {\r\n\t    valueList = of(constraintAnnotation.enumClazz().getEnumConstants()).map(e-&gt;e.toString()).collect(toList());\r\n\t  }\r\n    }\r\n\r\n","title":"Java String validation using enum values and annotation","body":"<p><strong>Little bit of improvisation with Java 8 Stream API</strong></p>\n\n<pre><code>import static java.util.stream.Collectors.toList;\nimport static java.util.stream.Stream.of;\nimport java.util.List;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, String&gt; \n{\n  private List&lt;String&gt; valueList = null;\n  @Override\n  public boolean isValid(String value, ConstraintValidatorContext context) {\n    return valueList.contains(value.toUpperCase());\n  }\n  @Override\n  public void initialize(EnumValidator constraintAnnotation) {\n    valueList = of(constraintAnnotation.enumClazz().getEnumConstants()).map(e-&gt;e.toString()).collect(toList());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8862485,"reputation":2155,"user_id":6618425,"display_name":"L&#233;o Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582893970,"creation_date":1582893970,"answer_id":60452007,"question_id":6294587,"body_markdown":"My attempt for a kotlin one:\r\n\r\n```\r\nimport javax.validation.Constraint\r\nimport javax.validation.ConstraintValidator\r\nimport javax.validation.ConstraintValidatorContext\r\nimport javax.validation.ReportAsSingleViolation\r\nimport javax.validation.constraints.NotNull\r\nimport kotlin.reflect.KClass\r\n\r\n@Constraint(validatedBy = [EnumValidatorImpl::class])\r\n@Retention(AnnotationRetention.RUNTIME)\r\n@Target(AnnotationTarget.FIELD)\r\n@NotNull(message = &quot;Value cannot be null&quot;)\r\n@ReportAsSingleViolation\r\nannotation class EnumValidator(val enumClazz: KClass&lt;*&gt;, val message: String = &quot;Value is not valid&quot;)\r\n\r\nclass EnumValidatorImpl(private var valueList: List&lt;String&gt;? = null) : ConstraintValidator&lt;EnumValidator, String&gt; {\r\n    override fun isValid(value: String?, context: ConstraintValidatorContext?): Boolean =\r\n            valueList?.contains(value?.toUpperCase()) ?: false\r\n\r\n    override fun initialize(constraintAnnotation: EnumValidator) {\r\n        valueList = constraintAnnotation.enumClazz.java.enumConstants.map { it.toString().toUpperCase() }\r\n    }\r\n}\r\n```","title":"Java String validation using enum values and annotation","body":"<p>My attempt for a kotlin one:</p>\n\n<pre><code>import javax.validation.Constraint\nimport javax.validation.ConstraintValidator\nimport javax.validation.ConstraintValidatorContext\nimport javax.validation.ReportAsSingleViolation\nimport javax.validation.constraints.NotNull\nimport kotlin.reflect.KClass\n\n@Constraint(validatedBy = [EnumValidatorImpl::class])\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD)\n@NotNull(message = \"Value cannot be null\")\n@ReportAsSingleViolation\nannotation class EnumValidator(val enumClazz: KClass&lt;*&gt;, val message: String = \"Value is not valid\")\n\nclass EnumValidatorImpl(private var valueList: List&lt;String&gt;? = null) : ConstraintValidator&lt;EnumValidator, String&gt; {\n    override fun isValid(value: String?, context: ConstraintValidatorContext?): Boolean =\n            valueList?.contains(value?.toUpperCase()) ?: false\n\n    override fun initialize(constraintAnnotation: EnumValidator) {\n        valueList = constraintAnnotation.enumClazz.java.enumConstants.map { it.toString().toUpperCase() }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16129101,"reputation":189,"user_id":11643193,"display_name":"Jesus Hernandez Barrios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663640315,"creation_date":1663640315,"answer_id":73780977,"question_id":6294587,"body_markdown":"I know I&#39;m a little late to the party (11 years late to be exact), but I&#39;d still like to contribute.\r\n\r\nThe answers presented here are great, they solve the problem in most cases, but in my opinion they lack the personalization touch.\r\nWhat do I mean?\r\n\r\nAll solutions create the `ConstraintValidator&lt;EnumValidator, String&gt;` and implement the validation logic in it.\r\n\r\nAnd that is great, it solve the problem, but, what happens if I want to make the comparison by the toString() of the enum, or better, I have another one that I want to compare by the name, two different comparisons. For this, it would be necessary to implement a `ConstraintValidator` for each type of comparison that is needed, when in fact their logic is VERY similar.\r\n\r\nIn my particular case, a very old system had comparisons, some with `toUpperCase`, others with `toLoweCase`, others with `trim`, some with `name`, others with `toString`, total chaos, and the idea was to generalize all this in the same behavior.\r\n\r\nThe solution that I present to you combines the excellent answer of @Rajeev with the necessary customization to be able to reuse the `ConstraintValidator` and implement only one comparison method for each different enum.\r\n\r\n##### The general idea: Make the emun implement an interface to standardize the comparison.\r\n\r\nFirst of all, the @annotation, nothing fancy:\r\n\r\n```java\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\n\r\n@Target(value = ElementType.FIELD)\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {EnumValidatorRegister_String.class})\r\npublic @interface EnumValidator {\r\n\r\n    String message() default &quot;Value is not present in enum list.&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n    public String detailMessage() default &quot;&quot;;\r\n\r\n    public Class&lt;? extends Enum&lt;?&gt;&gt; target();\r\n}\r\n\r\n```\r\nKeep in mind that the enum class will be presented in the `target` field.\r\n\r\nNow the interface to generalize the behavior:\r\n\r\n```java\r\npublic interface EnumValidatorComparator&lt;T&gt; {\r\n\r\n    public boolean test(T other);\r\n}\r\n```\r\nA general combination of these two elements results in an enum with the generalized comparison behavior inside it, which in case it changes would only affect said implementation and no other elements of the system.\r\n\r\n```java\r\npublic enum Type implements EnumValidatorComparator&lt;String&gt; {\r\n    a(&quot;a&quot;),\r\n    b(&quot;b&quot;),\r\n    c(&quot;c&quot;),\r\n    d(&quot;d&quot;),\r\n    e(&quot;e&quot;),\r\n    f(&quot;f&quot;),\r\n    g(&quot;g&quot;),\r\n    h(&quot;h&quot;),\r\n    i(&quot;i&quot;);\r\n\r\n    private final String name;\r\n\r\n    private Type(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public boolean test(String other) {\r\n        return this.toString().equalsIgnoreCase(other.trim().toLowerCase());\r\n    }\r\n\r\n}\r\n```\r\n\r\nFinally the `ConstraintValidator`, this is where the &#39;magic&#39; happens.\r\n\r\n```java\r\n\r\nimport java.util.function.BiPredicate;\r\nimport java.util.stream.Stream;\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.util.Assert;\r\n\r\n@Slf4j\r\npublic class EnumValidatorRegister_String implements ConstraintValidator&lt;EnumValidator, String&gt; {\r\n\r\n    //general comparator in case EnumValidator don&#39;t implement EnumValidatorComparator interface\r\n    private static BiPredicate&lt;? super Enum, String&gt; defaultComparison = (currentEnumValue, testValue) -&gt; {\r\n        return currentEnumValue.toString().equals(testValue);\r\n    };\r\n\r\n    //setter for default comparator\r\n    public static void setDefaultEnumComparator(BiPredicate&lt;? super Enum, String&gt; defaultComparison) {\r\n        Assert.notNull(defaultComparison, &quot;Default comparison can&#39;t be null&quot;);\r\n        EnumValidatorRegister_String.defaultComparison = defaultComparison;\r\n    }\r\n\r\n    //Enum class\r\n    private Class&lt;? extends Enum&lt;?&gt;&gt; clazz;\r\n    //values of enum\r\n    private Enum[] valuesArr;\r\n\r\n    @Override\r\n    public void initialize(EnumValidator _enum) {\r\n        ConstraintValidator.super.initialize(_enum);\r\n        clazz = _enum.target();\r\n        valuesArr = clazz.getEnumConstants();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n        boolean present;\r\n\r\n        //if enum&#39;s targes is assignable from EnumValidatorComparator, compare by the `.test`\r\n        if (EnumValidatorComparator.class.isAssignableFrom(clazz)) {\r\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\r\n                return ((EnumValidatorComparator&lt;String&gt;) t).test(value);\r\n            });\r\n        } else { //if enum&#39;s targes is NOT assignable from EnumValidatorComparator, compare by the default\r\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\r\n                return defaultComparison.test(t, value);\r\n            });\r\n        }\r\n\r\n        //if the value is NOT present, show custom error\r\n        if (!present) {\r\n            context.disableDefaultConstraintViolation();\r\n            context.buildConstraintViolationWithTemplate(\r\n                    String.format(\r\n                            &quot;&#39;%s&#39; is not one of the one of allowable values: %s&quot;.formatted(\r\n                                    value,\r\n                                    Stream.of(valuesArr).map((Object object) -&gt; {\r\n                                        return object.toString();\r\n                                    }).toList().toString()\r\n                            )\r\n                    )\r\n            ).addConstraintViolation();\r\n        }\r\n\r\n        return present;\r\n    }\r\n}\r\n\r\n```\r\nNote: `lombok` dependencies are used for `@Slf4j` for easy logging and `springframework`&#39;s `Assert` for validations of null value.\r\n\r\nits use is as simple as expected:\r\n```java\r\n    public class People {\r\n\r\n        @EnumValidator(target = Type.class)\r\n        private String name;\r\n        \r\n        private String someOtherField;\r\n        \r\n        //getters, setters and constructor\r\n    }\r\n```\r\n\r\nIn this way, if you have another enum with another comparison logic, it is as simple as creating said enum with its embedded logic, like:\r\n\r\n```java\r\npublic enum OtherType implements EnumValidatorComparator&lt;String&gt; {\r\n    A(&quot;A&quot;),\r\n    B(&quot;B&quot;),\r\n    C(&quot;C&quot;),\r\n    D(&quot;D&quot;),\r\n    E(&quot;E&quot;);\r\n\r\n    private final String name;\r\n\r\n    private OtherType(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public boolean test(String other) {\r\n        return this.toString().equals(other);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this way the `ConstraintValidator` it&#39;s reused along all application, and changes only affect the class responsible for them without breaking the rest of the system logic.\r\n\r\nBelieve it or not this solution guaranteed me a raise at work, I hope I do something similar for you. :+1:","title":"Java String validation using enum values and annotation","body":"<p>I know I'm a little late to the party (11 years late to be exact), but I'd still like to contribute.</p>\n<p>The answers presented here are great, they solve the problem in most cases, but in my opinion they lack the personalization touch.\nWhat do I mean?</p>\n<p>All solutions create the <code>ConstraintValidator&lt;EnumValidator, String&gt;</code> and implement the validation logic in it.</p>\n<p>And that is great, it solve the problem, but, what happens if I want to make the comparison by the toString() of the enum, or better, I have another one that I want to compare by the name, two different comparisons. For this, it would be necessary to implement a <code>ConstraintValidator</code> for each type of comparison that is needed, when in fact their logic is VERY similar.</p>\n<p>In my particular case, a very old system had comparisons, some with <code>toUpperCase</code>, others with <code>toLoweCase</code>, others with <code>trim</code>, some with <code>name</code>, others with <code>toString</code>, total chaos, and the idea was to generalize all this in the same behavior.</p>\n<p>The solution that I present to you combines the excellent answer of @Rajeev with the necessary customization to be able to reuse the <code>ConstraintValidator</code> and implement only one comparison method for each different enum.</p>\n<h5>The general idea: Make the emun implement an interface to standardize the comparison.</h5>\n<p>First of all, the @annotation, nothing fancy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target(value = ElementType.FIELD)\n@Retention(value = RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {EnumValidatorRegister_String.class})\npublic @interface EnumValidator {\n\n    String message() default &quot;Value is not present in enum list.&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    public String detailMessage() default &quot;&quot;;\n\n    public Class&lt;? extends Enum&lt;?&gt;&gt; target();\n}\n\n</code></pre>\n<p>Keep in mind that the enum class will be presented in the <code>target</code> field.</p>\n<p>Now the interface to generalize the behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EnumValidatorComparator&lt;T&gt; {\n\n    public boolean test(T other);\n}\n</code></pre>\n<p>A general combination of these two elements results in an enum with the generalized comparison behavior inside it, which in case it changes would only affect said implementation and no other elements of the system.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type implements EnumValidatorComparator&lt;String&gt; {\n    a(&quot;a&quot;),\n    b(&quot;b&quot;),\n    c(&quot;c&quot;),\n    d(&quot;d&quot;),\n    e(&quot;e&quot;),\n    f(&quot;f&quot;),\n    g(&quot;g&quot;),\n    h(&quot;h&quot;),\n    i(&quot;i&quot;);\n\n    private final String name;\n\n    private Type(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public boolean test(String other) {\n        return this.toString().equalsIgnoreCase(other.trim().toLowerCase());\n    }\n\n}\n</code></pre>\n<p>Finally the <code>ConstraintValidator</code>, this is where the 'magic' happens.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.function.BiPredicate;\nimport java.util.stream.Stream;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.util.Assert;\n\n@Slf4j\npublic class EnumValidatorRegister_String implements ConstraintValidator&lt;EnumValidator, String&gt; {\n\n    //general comparator in case EnumValidator don't implement EnumValidatorComparator interface\n    private static BiPredicate&lt;? super Enum, String&gt; defaultComparison = (currentEnumValue, testValue) -&gt; {\n        return currentEnumValue.toString().equals(testValue);\n    };\n\n    //setter for default comparator\n    public static void setDefaultEnumComparator(BiPredicate&lt;? super Enum, String&gt; defaultComparison) {\n        Assert.notNull(defaultComparison, &quot;Default comparison can't be null&quot;);\n        EnumValidatorRegister_String.defaultComparison = defaultComparison;\n    }\n\n    //Enum class\n    private Class&lt;? extends Enum&lt;?&gt;&gt; clazz;\n    //values of enum\n    private Enum[] valuesArr;\n\n    @Override\n    public void initialize(EnumValidator _enum) {\n        ConstraintValidator.super.initialize(_enum);\n        clazz = _enum.target();\n        valuesArr = clazz.getEnumConstants();\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        boolean present;\n\n        //if enum's targes is assignable from EnumValidatorComparator, compare by the `.test`\n        if (EnumValidatorComparator.class.isAssignableFrom(clazz)) {\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\n                return ((EnumValidatorComparator&lt;String&gt;) t).test(value);\n            });\n        } else { //if enum's targes is NOT assignable from EnumValidatorComparator, compare by the default\n            present = Stream.of(valuesArr).anyMatch((t) -&gt; {\n                return defaultComparison.test(t, value);\n            });\n        }\n\n        //if the value is NOT present, show custom error\n        if (!present) {\n            context.disableDefaultConstraintViolation();\n            context.buildConstraintViolationWithTemplate(\n                    String.format(\n                            &quot;'%s' is not one of the one of allowable values: %s&quot;.formatted(\n                                    value,\n                                    Stream.of(valuesArr).map((Object object) -&gt; {\n                                        return object.toString();\n                                    }).toList().toString()\n                            )\n                    )\n            ).addConstraintViolation();\n        }\n\n        return present;\n    }\n}\n\n</code></pre>\n<p>Note: <code>lombok</code> dependencies are used for <code>@Slf4j</code> for easy logging and <code>springframework</code>'s <code>Assert</code> for validations of null value.</p>\n<p>its use is as simple as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class People {\n\n        @EnumValidator(target = Type.class)\n        private String name;\n        \n        private String someOtherField;\n        \n        //getters, setters and constructor\n    }\n</code></pre>\n<p>In this way, if you have another enum with another comparison logic, it is as simple as creating said enum with its embedded logic, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum OtherType implements EnumValidatorComparator&lt;String&gt; {\n    A(&quot;A&quot;),\n    B(&quot;B&quot;),\n    C(&quot;C&quot;),\n    D(&quot;D&quot;),\n    E(&quot;E&quot;);\n\n    private final String name;\n\n    private OtherType(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n\n    @Override\n    public boolean test(String other) {\n        return this.toString().equals(other);\n    }\n\n}\n</code></pre>\n<p>And this way the <code>ConstraintValidator</code> it's reused along all application, and changes only affect the class responsible for them without breaking the rest of the system logic.</p>\n<p>Believe it or not this solution guaranteed me a raise at work, I hope I do something similar for you. :+1:</p>\n"},{"tags":[],"owner":{"account_id":7891463,"reputation":61,"user_id":5961459,"display_name":"Ittai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606478,"creation_date":1677606478,"answer_id":75595607,"question_id":6294587,"body_markdown":"I would like to add my two cents too.\r\n\r\nIn the proposed solutions the enum type member is replaced with a string to enable using (javax|jakarta).validation for validating it.\r\n\r\nI struggled with the same contemplation and had rather not change my enum attributes to strings, instead intercept the InvalidFormatException thrown by Jackson.\r\n\r\nI&#39;m using Spring boot rest controllers, and so the exception is caught by a controller advice.\r\n\r\nThe solution is written in Kotlin.\r\n\r\n    override fun handleHttpMessageNotReadable(\r\n        ex: HttpMessageNotReadableException,\r\n        headers: HttpHeaders,\r\n        status: HttpStatusCode,\r\n        request: WebRequest\r\n    ): ResponseEntity&lt;Any&gt;? {\r\n        return if (ex.cause is InvalidFormatException &amp;&amp; (ex.cause as InvalidFormatException).targetType.isEnum) {\r\n            val cause = ex.cause as InvalidFormatException\r\n            val invalidValue = cause.value\r\n            val enumClass = cause.targetType\r\n            val fieldPath = prettyJsonPath(cause.path)\r\n            val entries = enumClass.enumConstants.joinToString(&quot;, &quot;)\r\n            val apiError = ApiError(\r\n                status = HttpStatus.BAD_REQUEST,\r\n                message = &quot;Request is bad, please check provided errors.&quot;,\r\n                errors = listOf(&quot;Invalid value ($invalidValue) for $fieldPath, expected a value in [$entries].&quot;)\r\n            )\r\n            handleExceptionInternal(ex, apiError, headers, apiError.status, request)\r\n        } else {\r\n            super.handleHttpMessageNotReadable(ex, headers, status, request)\r\n        }\r\n    }\r\n\r\n    private fun prettyJsonPath(path: List&lt;JsonMappingException.Reference&gt;): String {\r\n        return path.mapIndexed { index, ref -&gt;\r\n            val dot = if (index == 0 || ref.index &gt;= 0) &quot;&quot; else &quot;.&quot;\r\n            val part = if (ref.index == -1) ref.fieldName else &quot;[${ref.index}]&quot;\r\n            return@mapIndexed &quot;$dot$part&quot;\r\n        }.joinToString(&quot;&quot;)\r\n    }","title":"Java String validation using enum values and annotation","body":"<p>I would like to add my two cents too.</p>\n<p>In the proposed solutions the enum type member is replaced with a string to enable using (javax|jakarta).validation for validating it.</p>\n<p>I struggled with the same contemplation and had rather not change my enum attributes to strings, instead intercept the InvalidFormatException thrown by Jackson.</p>\n<p>I'm using Spring boot rest controllers, and so the exception is caught by a controller advice.</p>\n<p>The solution is written in Kotlin.</p>\n<pre><code>override fun handleHttpMessageNotReadable(\n    ex: HttpMessageNotReadableException,\n    headers: HttpHeaders,\n    status: HttpStatusCode,\n    request: WebRequest\n): ResponseEntity&lt;Any&gt;? {\n    return if (ex.cause is InvalidFormatException &amp;&amp; (ex.cause as InvalidFormatException).targetType.isEnum) {\n        val cause = ex.cause as InvalidFormatException\n        val invalidValue = cause.value\n        val enumClass = cause.targetType\n        val fieldPath = prettyJsonPath(cause.path)\n        val entries = enumClass.enumConstants.joinToString(&quot;, &quot;)\n        val apiError = ApiError(\n            status = HttpStatus.BAD_REQUEST,\n            message = &quot;Request is bad, please check provided errors.&quot;,\n            errors = listOf(&quot;Invalid value ($invalidValue) for $fieldPath, expected a value in [$entries].&quot;)\n        )\n        handleExceptionInternal(ex, apiError, headers, apiError.status, request)\n    } else {\n        super.handleHttpMessageNotReadable(ex, headers, status, request)\n    }\n}\n\nprivate fun prettyJsonPath(path: List&lt;JsonMappingException.Reference&gt;): String {\n    return path.mapIndexed { index, ref -&gt;\n        val dot = if (index == 0 || ref.index &gt;= 0) &quot;&quot; else &quot;.&quot;\n        val part = if (ref.index == -1) ref.fieldName else &quot;[${ref.index}]&quot;\n        return@mapIndexed &quot;$dot$part&quot;\n    }.joinToString(&quot;&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":415982,"reputation":970,"user_id":791104,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139496,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":6360458,"answer_count":10,"score":49,"last_activity_date":1677606478,"creation_date":1307630270,"question_id":6294587,"body_markdown":"I want to validate a string against a set of values using annotations.\r\n\r\nWhat I want is basically this:\r\n\r\n    @ValidateString(enumClass=com.co.enum)\r\n    String dataType;\r\n    \r\n    int maxValue;\r\n    int minValue;\r\n    int precision;\r\n\r\nor\r\n\r\n    @ValidateString(values={&quot;String&quot;,&quot;Boolean&quot;, &quot;Integer&quot;})\r\n    String dataType;\r\n    \r\n    int maxValue;\r\n    int minValue;\r\n    int precision;\r\n\r\n&lt;br&gt;\r\nI also want to do some validation on other variables depending upon the value set in `dataType`:\r\n\r\n    if (dataType = &quot;String&quot;) {\r\n        // maxValue, minValue, precision all should be null or zero\r\n    }\r\n\r\n&lt;br&gt;\r\nI can&#39;t think of a way to achieve this by custom annotations.  \r\nSomebody please help me.\r\n\r\n","title":"Java String validation using enum values and annotation","body":"<p>I want to validate a string against a set of values using annotations.</p>\n\n<p>What I want is basically this:</p>\n\n<pre><code>@ValidateString(enumClass=com.co.enum)\nString dataType;\n\nint maxValue;\nint minValue;\nint precision;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@ValidateString(values={\"String\",\"Boolean\", \"Integer\"})\nString dataType;\n\nint maxValue;\nint minValue;\nint precision;\n</code></pre>\n\n<p><br>\nI also want to do some validation on other variables depending upon the value set in <code>dataType</code>:</p>\n\n<pre><code>if (dataType = \"String\") {\n    // maxValue, minValue, precision all should be null or zero\n}\n</code></pre>\n\n<p><br>\nI can't think of a way to achieve this by custom annotations.<br>\nSomebody please help me.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":27899238,"reputation":15,"user_id":21303872,"display_name":"seven"},"score":0,"creation_date":1677594177,"post_id":75592916,"comment_id":133365960,"body_markdown":"Thanks but it does not match what I want. I wanted it to be the system random select one button and make the one background to be changed and user clicks on it then system again randomly select another button for the user to click but not user click on it then background changed. It is like a speed touch game.","body":"Thanks but it does not match what I want. I wanted it to be the system random select one button and make the one background to be changed and user clicks on it then system again randomly select another button for the user to click but not user click on it then background changed. It is like a speed touch game."}],"tags":[],"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677605029,"creation_date":1677591962,"answer_id":75592916,"question_id":75591704,"body_markdown":"I would suggest avoid using a while loop (that keeps on running for nothing).\r\n\r\nInstead, you can use a recursive function call.\r\n\r\n1. Creating the buttons array:\r\n\r\n```Java\r\nbt1=findViewById(R.id.button);\r\nbt2=findViewById(R.id.button2);\r\nbt3=findViewById(R.id.button3);\r\nbt4=findViewById(R.id.button4);\r\n\r\nButton[]all={bt1,bt2,bt3,bt4};\r\nArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\r\n```\r\n\r\n2. Shuffle the array\r\n```Java\r\nCollections.shuffle(arr_new);\r\n```\r\n\r\n3. Now that you have a randomly ordered array of buttons, you can simply take the first one (it was randomly picked to be the first...), wait for a click, remove it from the list and again.. take the first one, click, remove..\r\n\r\n4. Let&#39;s define the recursive function. It calls itself until no more buttons left in the shuffled array:\r\n\r\n```Java\r\nvoid untilAllSelected(ArrayList&lt;Button&gt; buttons) {\r\n    \r\n    // Check if not more buttons - this means we clicked all of them..\r\n    if (buttons.isEmpty()) {\r\n        return;\r\n    }\r\n    \r\n    // Set the clicked button color\r\n    buttons.get(0).setBackgroundColor(Color.RED);\r\n    // Set a click listener on the first button\r\n    buttons.get(0).setOnClickListener(v -&gt; {\r\n        // When clicked - remove the listener to avoid feature clicks\r\n        v.setOnClickListener(null);\r\n        \r\n        // Remove the clicked button from the list\r\n        buttons.remove(0);\r\n        \r\n        // Recursively call the function with the buttons list (which is now 1 button shorter)\r\n        untilAllSelected(buttons);\r\n    });\r\n}\r\n```\r\n\r\n5. Last thing, call the recursive function. Here&#39;s the complete code:\r\n\r\n\r\n```Java\r\n\r\nButton bt1,bt2,bt3,bt4,bt5;\r\nTextView text;\r\nRandom random = new Random();\r\n\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    bt1=findViewById(R.id.button);\r\n    bt2=findViewById(R.id.button2);\r\n    bt3=findViewById(R.id.button3);\r\n    bt4=findViewById(R.id.button4);\r\n\r\n     Button[]all={bt1,bt2,bt3,bt4};\r\n     ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\r\n     Collections.shuffle(arr_new);\r\n\r\n     untilAllSelected(arr_new);\r\n}\r\n\r\nvoid untilAllSelected(ArrayList&lt;Button&gt; buttons) {\r\n    if (buttons.isEmpty()) {\r\n        return;\r\n    }\r\n\r\n    buttons.get(0).setBackgroundColor(Color.RED);\r\n    buttons.get(0).setOnClickListener(v -&gt; {\r\n        v.setOnClickListener(null);\r\n        buttons.remove(0);\r\n        untilAllSelected(buttons);\r\n    });\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Onclick listener object does not change when click | android","body":"<p>I would suggest avoid using a while loop (that keeps on running for nothing).</p>\n<p>Instead, you can use a recursive function call.</p>\n<ol>\n<li>Creating the buttons array:</li>\n</ol>\n<pre><code>bt1=findViewById(R.id.button);\nbt2=findViewById(R.id.button2);\nbt3=findViewById(R.id.button3);\nbt4=findViewById(R.id.button4);\n\nButton[]all={bt1,bt2,bt3,bt4};\nArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\n</code></pre>\n<ol start=\"2\">\n<li>Shuffle the array</li>\n</ol>\n<pre><code>Collections.shuffle(arr_new);\n</code></pre>\n<ol start=\"3\">\n<li><p>Now that you have a randomly ordered array of buttons, you can simply take the first one (it was randomly picked to be the first...), wait for a click, remove it from the list and again.. take the first one, click, remove..</p>\n</li>\n<li><p>Let's define the recursive function. It calls itself until no more buttons left in the shuffled array:</p>\n</li>\n</ol>\n<pre><code>void untilAllSelected(ArrayList&lt;Button&gt; buttons) {\n    \n    // Check if not more buttons - this means we clicked all of them..\n    if (buttons.isEmpty()) {\n        return;\n    }\n    \n    // Set the clicked button color\n    buttons.get(0).setBackgroundColor(Color.RED);\n    // Set a click listener on the first button\n    buttons.get(0).setOnClickListener(v -&gt; {\n        // When clicked - remove the listener to avoid feature clicks\n        v.setOnClickListener(null);\n        \n        // Remove the clicked button from the list\n        buttons.remove(0);\n        \n        // Recursively call the function with the buttons list (which is now 1 button shorter)\n        untilAllSelected(buttons);\n    });\n}\n</code></pre>\n<ol start=\"5\">\n<li>Last thing, call the recursive function. Here's the complete code:</li>\n</ol>\n<pre><code>\nButton bt1,bt2,bt3,bt4,bt5;\nTextView text;\nRandom random = new Random();\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    bt1=findViewById(R.id.button);\n    bt2=findViewById(R.id.button2);\n    bt3=findViewById(R.id.button3);\n    bt4=findViewById(R.id.button4);\n\n     Button[]all={bt1,bt2,bt3,bt4};\n     ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;(Arrays.asList(all));\n     Collections.shuffle(arr_new);\n\n     untilAllSelected(arr_new);\n}\n\nvoid untilAllSelected(ArrayList&lt;Button&gt; buttons) {\n    if (buttons.isEmpty()) {\n        return;\n    }\n\n    buttons.get(0).setBackgroundColor(Color.RED);\n    buttons.get(0).setOnClickListener(v -&gt; {\n        v.setOnClickListener(null);\n        buttons.remove(0);\n        untilAllSelected(buttons);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":27899238,"reputation":15,"user_id":21303872,"display_name":"seven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75592916,"answer_count":1,"score":1,"last_activity_date":1677606238,"creation_date":1677585118,"question_id":75591704,"body_markdown":"So  I have four buttons in a page and I want system randomly select one button at first and when user click on it, the system will randomly select another button again without duplicate until all the button has been clicked by user. But I don&#39;t know what is wrong with my code that it can only listen to the first button&#39;s action. Only when I click on the first button that selected by the system then it will do the actions.\r\n\r\n\r\n\r\nHere is my code, thanks in advance:\r\n\r\n```\r\nButton bt1,bt2,bt3,bt4,bt5;\r\nTextView text;\r\nRandom random = new Random();\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        bt1=findViewById(R.id.button);\r\n        bt2=findViewById(R.id.button2);\r\n        bt3=findViewById(R.id.button3);\r\n        bt4=findViewById(R.id.button4);\r\n\r\n        Button[]all={bt1,bt2,bt3,bt4};\r\n        ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;();\r\n        for (Button i : all)\r\n        {\r\n            arr_new.add(i);\r\n        }\r\n\r\n        while(!arr_new.contains(bt5)) {\r\n            bt5 = arr_new.get(random.nextInt(all.length));\r\n            bt5.setBackgroundColor(Color.RED);\r\n            bt5.setOnClickListener(v -&gt; {\r\n                arr_new.remove(bt5);\r\n                bt5 = arr_new.get(random.nextInt(arr_new.size()));\r\n\r\n                bt5.setBackgroundColor(Color.RED);\r\n\r\n            });\r\n}\r\n}\r\n```","title":"Onclick listener object does not change when click | android","body":"<p>So  I have four buttons in a page and I want system randomly select one button at first and when user click on it, the system will randomly select another button again without duplicate until all the button has been clicked by user. But I don't know what is wrong with my code that it can only listen to the first button's action. Only when I click on the first button that selected by the system then it will do the actions.</p>\n<p>Here is my code, thanks in advance:</p>\n<pre><code>Button bt1,bt2,bt3,bt4,bt5;\nTextView text;\nRandom random = new Random();\nprotected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bt1=findViewById(R.id.button);\n        bt2=findViewById(R.id.button2);\n        bt3=findViewById(R.id.button3);\n        bt4=findViewById(R.id.button4);\n\n        Button[]all={bt1,bt2,bt3,bt4};\n        ArrayList&lt;Button&gt; arr_new = new ArrayList&lt;&gt;();\n        for (Button i : all)\n        {\n            arr_new.add(i);\n        }\n\n        while(!arr_new.contains(bt5)) {\n            bt5 = arr_new.get(random.nextInt(all.length));\n            bt5.setBackgroundColor(Color.RED);\n            bt5.setOnClickListener(v -&gt; {\n                arr_new.remove(bt5);\n                bt5 = arr_new.get(random.nextInt(arr_new.size()));\n\n                bt5.setBackgroundColor(Color.RED);\n\n            });\n}\n}\n</code></pre>\n"},{"tags":["java","android","floating-action-button"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677605717,"creation_date":1677605717,"answer_id":75595491,"question_id":75595058,"body_markdown":"Try this once \r\n\r\n\r\n    public void ImageButtonChange1(View view){\r\n            FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\r\n            imageButton.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                public void onClick(View view)\r\n                {\r\n                    boolean flag = true;\r\n                    if (flag) {\r\n        imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_off));\r\n                        flag = false;\r\n                    } else {\r\n                   \r\n        imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_active));\r\n                        flag = true;\r\n                    }\r\n                }\r\n            });\r\n\r\n","title":"Image in FloatingActionButton has to be changed on click and back","body":"<p>Try this once</p>\n<pre><code>public void ImageButtonChange1(View view){\n        FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\n        imageButton.setOnClickListener(new View.OnClickListener()\n        {\n            public void onClick(View view)\n            {\n                boolean flag = true;\n                if (flag) {\n    imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_off));\n                    flag = false;\n                } else {\n               \n    imageButton.setImageDrawable(ContextCompat.getDrawable(getApplicationContext() , R.drawable.microphone_active));\n                    flag = true;\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":27882238,"reputation":1,"user_id":21290458,"display_name":"ProGaMEr110 521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677605717,"creation_date":1677603208,"question_id":75595058,"body_markdown":"    public void ImageButtonChange1(View view){\r\n        FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\r\n        imageButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            public void onClick(View view)\r\n            {\r\n                boolean flag = true;\r\n                if (flag) {\r\n                    imageButton.setImageResource(R.drawable.microphone_off);\r\n                    flag = false;\r\n                } else {\r\n                    imageButton.setImageResource(R.drawable.microphone_active);\r\n                    flag = true;\r\n                }\r\n            }\r\n        });\r\n\r\nWhat&#39;s wrong in my code that the application is crashing. I&#39;ve tried almost everything i think\r\n\r\n","title":"Image in FloatingActionButton has to be changed on click and back","body":"<pre><code>public void ImageButtonChange1(View view){\n    FloatingActionButton imageButton = new FloatingActionButton(getApplicationContext());\n    imageButton.setOnClickListener(new View.OnClickListener()\n    {\n        public void onClick(View view)\n        {\n            boolean flag = true;\n            if (flag) {\n                imageButton.setImageResource(R.drawable.microphone_off);\n                flag = false;\n            } else {\n                imageButton.setImageResource(R.drawable.microphone_active);\n                flag = true;\n            }\n        }\n    });\n</code></pre>\n<p>What's wrong in my code that the application is crashing. I've tried almost everything i think</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1688571663,"post_id":75595476,"comment_id":135092173,"body_markdown":"I tried, it is not working. What else, other than `--headless=new` do I need in order to enable downloads? None of the two articles you linked to mentions any of it. How can this be the accepted answer?","body":"I tried, it is not working. What else, other than <code>--headless=new</code> do I need in order to enable downloads? None of the two articles you linked to mentions any of it. How can this be the accepted answer?"},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1689233917,"post_id":75595476,"comment_id":135185069,"body_markdown":"@kriegaex you have to apply its ```options.addArguments(&quot;--headless=new&quot;)```","body":"@kriegaex you have to apply its <code>options.addArguments(&quot;--headless=new&quot;)</code>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689239353,"post_id":75595476,"comment_id":135186175,"body_markdown":"That has no effect whatsoever. Maybe this is because I use Selenium 3 in that legacy project. The latest Chrome driver is no problem, but upgrading all testing tools and build configs to Selenium 4 would be a major effort. I thought that the options are passed on to the driver, so Selenium version should not be important. Can anyone enlighten me?","body":"That has no effect whatsoever. Maybe this is because I use Selenium 3 in that legacy project. The latest Chrome driver is no problem, but upgrading all testing tools and build configs to Selenium 4 would be a major effort. I thought that the options are passed on to the driver, so Selenium version should not be important. Can anyone enlighten me?"}],"tags":[],"owner":{"account_id":27902301,"reputation":56,"user_id":21306326,"display_name":"agiletom"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677605629,"creation_date":1677605629,"answer_id":75595476,"question_id":75518588,"body_markdown":"Try changing the &quot;headless&quot; option to &quot;--headless=new&quot;\r\n\r\nThis recently changed in Chrome 109\r\n\r\nhttps://www.selenium.dev/blog/2023/headless-is-going-away/\r\n\r\nhttps://developer.chrome.com/articles/new-headless/","title":"Files are not downloading in the specifed download directory in chrome-headless and selenium java","body":"<p>Try changing the &quot;headless&quot; option to &quot;--headless=new&quot;</p>\n<p>This recently changed in Chrome 109</p>\n<p><a href=\"https://www.selenium.dev/blog/2023/headless-is-going-away/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/blog/2023/headless-is-going-away/</a></p>\n<p><a href=\"https://developer.chrome.com/articles/new-headless/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/articles/new-headless/</a></p>\n"}],"owner":{"account_id":3220103,"reputation":153,"user_id":2717774,"accept_rate":80,"display_name":"Koushic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75595476,"answer_count":1,"score":2,"last_activity_date":1677605629,"creation_date":1676972039,"question_id":75518588,"body_markdown":"During the test, a file(.pdf) will be downloaded from the web application and i have to verify whether the file is downloaded or not under a specific path. But whenever I&#39;m going to headless mode, the file is not getting downloaded to the download path (i.e. pointed in the &quot;download.default_directory&quot;). Instead it is getting downloaded to the &quot;user.dir&quot;(&#39;/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;).\r\nChrome version : 110.0.5481.100 ; OS : Ubuntu 20.04\r\nBelow is my code which is used to invoke chrome-headless,\r\n\r\n    public WebDriver createInstance(String browser) {\r\n    WebDriver driverInstance = null;\r\n    try {\r\n      if (browser.equalsIgnoreCase(&quot;chrome-headless&quot;)) {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions options = new ChromeOptions();\r\n\r\n        HashMap &lt; String, Object &gt; hashmap = new HashMap &lt; &gt; ();\r\n        hashmap.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n        hashmap.put(&quot;download.prompt_for_download&quot;, &quot;false&quot;);\r\n        hashmap.put(&quot;download.default_directory&quot;, &#39;/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources&#39;);\r\n        hashmap.put(&quot;browser.set_download_behavior&quot;, &quot;{ behavior: &#39;allow&#39; , downloadPath: &#39;/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources&#39;}&quot;);\r\n\r\n        options.setExperimentalOption(&quot;prefs&quot;, hashmap);\r\n\r\n        options.addArguments(&quot;start-maximized&quot;);\r\n        options.addArguments(&quot;window-size=1920,1080&quot;);\r\n\r\n        options.addArguments(&quot;headless&quot;);\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n        options.addArguments(&quot;--allow-insecure-localhost&quot;);\r\n\r\n        options.setAcceptInsecureCerts(true);\r\n        driverInstance = new ChromeDriver(options);\r\n      }\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n    return driverInstance;\r\n\r\n","title":"Files are not downloading in the specifed download directory in chrome-headless and selenium java","body":"<p>During the test, a file(.pdf) will be downloaded from the web application and i have to verify whether the file is downloaded or not under a specific path. But whenever I'm going to headless mode, the file is not getting downloaded to the download path (i.e. pointed in the &quot;download.default_directory&quot;). Instead it is getting downloaded to the &quot;user.dir&quot;('/home/&lt;&gt;/git/bb-cloud/&lt;&gt;).\nChrome version : 110.0.5481.100 ; OS : Ubuntu 20.04\nBelow is my code which is used to invoke chrome-headless,</p>\n<pre><code>public WebDriver createInstance(String browser) {\nWebDriver driverInstance = null;\ntry {\n  if (browser.equalsIgnoreCase(&quot;chrome-headless&quot;)) {\n    WebDriverManager.chromedriver().setup();\n    ChromeOptions options = new ChromeOptions();\n\n    HashMap &lt; String, Object &gt; hashmap = new HashMap &lt; &gt; ();\n    hashmap.put(&quot;profile.default_content_settings.popups&quot;, 0);\n    hashmap.put(&quot;download.prompt_for_download&quot;, &quot;false&quot;);\n    hashmap.put(&quot;download.default_directory&quot;, '/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources');\n    hashmap.put(&quot;browser.set_download_behavior&quot;, &quot;{ behavior: 'allow' , downloadPath: '/home/&lt;&lt;USER&gt;&gt;/git/bb-cloud/&lt;&lt;PROJECT&gt;&gt;/src/main/resources'}&quot;);\n\n    options.setExperimentalOption(&quot;prefs&quot;, hashmap);\n\n    options.addArguments(&quot;start-maximized&quot;);\n    options.addArguments(&quot;window-size=1920,1080&quot;);\n\n    options.addArguments(&quot;headless&quot;);\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--disable-gpu&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    options.addArguments(&quot;--allow-insecure-localhost&quot;);\n\n    options.setAcceptInsecureCerts(true);\n    driverInstance = new ChromeDriver(options);\n  }\n} catch (Exception e) {\n  e.printStackTrace();\n}\nreturn driverInstance;\n</code></pre>\n"},{"tags":["java","mockito","quarkus","mutiny"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1677655306,"post_id":75595238,"comment_id":133378579,"body_markdown":"You cannot inject a channel as a MutinyEmitter (it&#39;s not the same type of emitter). Also, I would recommend using the in-memory trick to test your emitter: https://smallrye.io/smallrye-reactive-messaging/4.4.0/concepts/testing/","body":"You cannot inject a channel as a MutinyEmitter (it&#39;s not the same type of emitter). Also, I would recommend using the in-memory trick to test your emitter: <a href=\"https://smallrye.io/smallrye-reactive-messaging/4.4.0/concepts/testing/\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-reactive-messaging/4.4.0/concepts/testi&zwnj;&#8203;ng</a>"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677604273,"creation_date":1677604273,"question_id":75595238,"body_markdown":"I&#39;m trying to unit test a class that uses `MutinyEmitter` to send messages. It looks like this:\r\n\r\n```java\r\npublic class PaymentReversalService {\r\n  @Inject\r\n  @Channel(&quot;payment-reversal-out&quot;)\r\n  MutinyEmitter&lt;Payment&gt; emitter;\r\n\r\n  public Uni&lt;Payment&gt; reverse(String paymentId) {\r\n    // Imagine that createPaymentReversal() is a private method that does all the hard work\r\n    Payment payment = createPaymentReversal(paymentId);\r\n    return emitter.send(payment);\r\n  }\r\n}\r\n```\r\n\r\nIn my test, I want to use Mockito to mock the emitter and check if the message is being sent correctly. So far, I have been mocking my dependencies using the `@InjectMock` annotation. But it doesn&#39;t seem to work with `MutinyEmitter`. \r\n\r\nI try to inject the mock like this:\r\n```java\r\n@InjectMock\r\n@Channel(&quot;payment-reversal-out&quot;)\r\nMutinyEmitter&lt;Payment&gt; emitter;\r\n```\r\n\r\nBut then I get this exception:\r\n\r\n```\r\norg.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\r\n...\r\nCaused by: java.lang.IllegalStateException: Invalid use of io.quarkus.test.junit.mockito.InjectMock - the injected bean does not declare a CDI normal scope but: javax.enterprise.context.Dependent. Offending field is emitter of test class class br.com.bank.regag.bar-payment.reversal.service.PaymentReversalServiceTest\r\n```\r\n\r\nHow can I fix this? Or which other path can I take to test this class?","title":"How to mock a MutinyEmitter in Quarkus?","body":"<p>I'm trying to unit test a class that uses <code>MutinyEmitter</code> to send messages. It looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PaymentReversalService {\n  @Inject\n  @Channel(&quot;payment-reversal-out&quot;)\n  MutinyEmitter&lt;Payment&gt; emitter;\n\n  public Uni&lt;Payment&gt; reverse(String paymentId) {\n    // Imagine that createPaymentReversal() is a private method that does all the hard work\n    Payment payment = createPaymentReversal(paymentId);\n    return emitter.send(payment);\n  }\n}\n</code></pre>\n<p>In my test, I want to use Mockito to mock the emitter and check if the message is being sent correctly. So far, I have been mocking my dependencies using the <code>@InjectMock</code> annotation. But it doesn't seem to work with <code>MutinyEmitter</code>.</p>\n<p>I try to inject the mock like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InjectMock\n@Channel(&quot;payment-reversal-out&quot;)\nMutinyEmitter&lt;Payment&gt; emitter;\n</code></pre>\n<p>But then I get this exception:</p>\n<pre><code>org.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\n...\nCaused by: java.lang.IllegalStateException: Invalid use of io.quarkus.test.junit.mockito.InjectMock - the injected bean does not declare a CDI normal scope but: javax.enterprise.context.Dependent. Offending field is emitter of test class class br.com.bank.regag.bar-payment.reversal.service.PaymentReversalServiceTest\n</code></pre>\n<p>How can I fix this? Or which other path can I take to test this class?</p>\n"},{"tags":["java","eclipse","ide","getter-setter"],"comments":[{"owner":{"account_id":14871245,"reputation":347,"user_id":10738788,"display_name":"deepakbhavale67"},"score":0,"creation_date":1548777068,"post_id":8682826,"comment_id":95659807,"body_markdown":"Yes it does. For Eclipse : Right click on class -&gt; Source -&gt; Generate getter/setter and \nFor Netbeans :  Right click   in class -&gt; insert code-&gt; setter/getter.","body":"Yes it does. For Eclipse : Right click on class -&gt; Source -&gt; Generate getter/setter and  For Netbeans :  Right click   in class -&gt; insert code-&gt; setter/getter."},{"owner":{"account_id":6707065,"reputation":343,"user_id":8422509,"display_name":"Steferson Ferreira"},"score":0,"creation_date":1608155297,"post_id":8682826,"comment_id":115499945,"body_markdown":"Yes Netbeans -&gt; https://coderwall.com/p/oyanzg/auto-generate-get-set-constructor-functions-in-netbeans","body":"Yes Netbeans -&gt; <a href=\"https://coderwall.com/p/oyanzg/auto-generate-get-set-constructor-functions-in-netbeans\" rel=\"nofollow noreferrer\">coderwall.com/p/oyanzg/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325271394,"creation_date":1325271394,"answer_id":8682931,"question_id":8682826,"body_markdown":"IntelliJ IDEA can also generate getters and setters and it is much better than Eclipse (flamesuite on!). Data holding classes can be more memory efficient than HashMaps as you can use primitives to hold values (int) instead of wrapper classes (Integer).","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>IntelliJ IDEA can also generate getters and setters and it is much better than Eclipse (flamesuite on!). Data holding classes can be more memory efficient than HashMaps as you can use primitives to hold values (int) instead of wrapper classes (Integer).</p>\n"},{"comments":[{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1325275051,"post_id":8682936,"comment_id":10796971,"body_markdown":"Eclipse will also offer a &quot;Create getter and setter for&quot; option in the quick fix menu for a field. You can get the quick fix menu for something by putting the cursor on it and hitting control-1 (command-1 on the Mac).","body":"Eclipse will also offer a &quot;Create getter and setter for&quot; option in the quick fix menu for a field. You can get the quick fix menu for something by putting the cursor on it and hitting control-1 (command-1 on the Mac)."},{"owner":{"account_id":1641422,"reputation":1769,"user_id":1513773,"accept_rate":93,"display_name":"A. Mashreghi"},"score":0,"creation_date":1656392615,"post_id":8682936,"comment_id":128554100,"body_markdown":"I wrote setters/getters by hand for 10 years before finding this answer :&#39;-(","body":"I wrote setters/getters by hand for 10 years before finding this answer :&#39;-("}],"tags":[],"owner":{"account_id":350242,"reputation":2461,"user_id":685979,"accept_rate":75,"display_name":"neo"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1325271428,"creation_date":1325271428,"answer_id":8682936,"question_id":8682826,"body_markdown":"Yes. Eclipse Does this. To generate setter/getter, select the class in package explorer, right click -&gt; Source -&gt; Generate getter/setting.\r\n\r\nNetbean also does this. Right click anywhere inside your class -&gt; insert code-&gt; setter/getter.\r\n\r\nwe do that to encapsulate the implementation details. you can find more explanations https://stackoverflow.com/questions/2252573/why-use-getters-and-setters  \r\n","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>Yes. Eclipse Does this. To generate setter/getter, select the class in package explorer, right click -> Source -> Generate getter/setting.</p>\n\n<p>Netbean also does this. Right click anywhere inside your class -> insert code-> setter/getter.</p>\n\n<p>we do that to encapsulate the implementation details. you can find more explanations <a href=\"https://stackoverflow.com/questions/2252573/why-use-getters-and-setters\">Why use getters and setters</a>  </p>\n"},{"tags":[],"owner":{"account_id":382395,"reputation":1179,"user_id":737591,"accept_rate":60,"display_name":"csviri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325271481,"creation_date":1325271481,"answer_id":8682944,"question_id":8682826,"body_markdown":"1. Yes All (IDEA,Eclipse,Netbeas at least) the current IDEs support generating setter and getter methods.\r\n\r\n2. I think POJO&#39;s has lots of advantages against using just simple hash maps. Since there are frameworks that support their validation, easily can be mapped to database tables, pojo classes specifies clearly your domain model on which you are operating, could be analyzed at runtime using reflection, etc... \r\n\r\n","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<ol>\n<li><p>Yes All (IDEA,Eclipse,Netbeas at least) the current IDEs support generating setter and getter methods.</p></li>\n<li><p>I think POJO's has lots of advantages against using just simple hash maps. Since there are frameworks that support their validation, easily can be mapped to database tables, pojo classes specifies clearly your domain model on which you are operating, could be analyzed at runtime using reflection, etc... </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1112852,"reputation":7005,"user_id":1102962,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325271486,"creation_date":1325271486,"answer_id":8682945,"question_id":8682826,"body_markdown":"Most modern IDEs come with some form of code generation tools. Netbeans certainly does.\r\n\r\nIf you want a class to hold specific data, consider your need for validation. If you don&#39;t plan on validating the data (hint: you should), then skip the get/set methods and make the field public.\r\n\r\nIn the end, there&#39;s really no definite answer to this question. Java&#39;s built-in collections are useful because they&#39;re flexible and readily available, but if you want extra validation then you have to do it yourself or wrap the collection with validation methods. Objects dedicated to specific data gain the advantage of immediate validation and might have less overhead, but that&#39;s extra code to maintain and you could end up with a lot of classes that really don&#39;t do much.","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>Most modern IDEs come with some form of code generation tools. Netbeans certainly does.</p>\n\n<p>If you want a class to hold specific data, consider your need for validation. If you don't plan on validating the data (hint: you should), then skip the get/set methods and make the field public.</p>\n\n<p>In the end, there's really no definite answer to this question. Java's built-in collections are useful because they're flexible and readily available, but if you want extra validation then you have to do it yourself or wrap the collection with validation methods. Objects dedicated to specific data gain the advantage of immediate validation and might have less overhead, but that's extra code to maintain and you could end up with a lot of classes that really don't do much.</p>\n"},{"tags":[],"owner":{"account_id":10523923,"reputation":15,"user_id":7755497,"display_name":"Pranay Kapoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496250788,"creation_date":1496250788,"answer_id":44290954,"question_id":8682826,"body_markdown":" Press Alt+Shift+S, then R\r\nthis is a shortcut for  right click -&gt; Source -&gt; Generate getter/setting.","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>Press Alt+Shift+S, then R\nthis is a shortcut for  right click -> Source -> Generate getter/setting.</p>\n"},{"tags":[],"owner":{"account_id":7708814,"reputation":24811,"user_id":5838902,"display_name":"Fangming"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1548775509,"creation_date":1508628752,"answer_id":46869117,"question_id":8682826,"body_markdown":"# Try this on Eclipse\nRight click the file -&gt; Source -&gt; Generate Getters and Setters\n\n[![enter image description here][1]][1]\n\n\n# Try this on IDEA\nRight click anywhere in the file -&gt; Generate -&gt; Getter and Setter\n\n[![enter image description here][2]][2]\n\n\n  [1]: https://i.stack.imgur.com/WwYjC.gif\n  [2]: https://i.stack.imgur.com/0WBv3.gif","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<h1>Try this on Eclipse</h1>\n<p>Right click the file -&gt; Source -&gt; Generate Getters and Setters</p>\n<p><a href=\"https://i.stack.imgur.com/WwYjC.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WwYjC.gif\" alt=\"enter image description here\" /></a></p>\n<h1>Try this on IDEA</h1>\n<p>Right click anywhere in the file -&gt; Generate -&gt; Getter and Setter</p>\n<p><a href=\"https://i.stack.imgur.com/0WBv3.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0WBv3.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677604103,"creation_date":1677604103,"answer_id":75595211,"question_id":8682826,"body_markdown":"In IntelliJ IDEA:\r\n\r\n1. &lt;kbd&gt;Right click&lt;/kbd&gt; anywhere in the code and choose `Generate...`  \r\nor  \r\nPress &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Insert&lt;/kbd&gt;\r\n\r\n[![Right click anywhere in the code][1]][1]\r\n\r\n2. Choose `Getter and Setter`\r\n\r\n[![Choose `Getter and Setter`][2]][2]\r\n\r\n3. Select the fields you want to add Getters and Setters to and press `OK`.\r\n\r\n[![Select the fields][3]][3]\r\n\r\n*Tested in IntelliJ IDEA 2022 (Ultimate Edition)*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/06aRs.png\r\n  [2]: https://i.stack.imgur.com/7na34.png\r\n  [3]: https://i.stack.imgur.com/vh8dZ.png","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>In IntelliJ IDEA:</p>\n<ol>\n<li><kbd>Right click</kbd> anywhere in the code and choose <code>Generate...</code><br />\nor<br />\nPress <kbd>Alt</kbd> + <kbd>Insert</kbd></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/06aRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/06aRs.png\" alt=\"Right click anywhere in the code\" /></a></p>\n<ol start=\"2\">\n<li>Choose <code>Getter and Setter</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/7na34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7na34.png\" alt=\"Choose Getter and Setter\" /></a></p>\n<ol start=\"3\">\n<li>Select the fields you want to add Getters and Setters to and press <code>OK</code>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/vh8dZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vh8dZ.png\" alt=\"Select the fields\" /></a></p>\n<p><em>Tested in IntelliJ IDEA 2022 (Ultimate Edition)</em></p>\n"}],"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37966,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":8682936,"answer_count":7,"score":9,"last_activity_date":1677604103,"creation_date":1325270662,"question_id":8682826,"body_markdown":"I think the creation of holder classes, classes with just attritutes, get methods and set methods can be autogenerated.  \r\n\r\nI understand that Eclipse is a defacto &quot;standard&quot; Java IDE these days.   \r\nDoes Eclipse do this?  \r\nDo other IDEs?\r\n\r\nI&#39;m guessing the only reasons for making dedicated data holding classes instead of using HashMaps is to have mixed datatypes in a more visible/safter way and for the occasion when you want to DO something to the data when inserting it or retrieving it.  Thoughts?","title":"Autogeneration of Get &amp; Set methods in Java?","body":"<p>I think the creation of holder classes, classes with just attritutes, get methods and set methods can be autogenerated.</p>\n<p>I understand that Eclipse is a defacto &quot;standard&quot; Java IDE these days.<br />\nDoes Eclipse do this?<br />\nDo other IDEs?</p>\n<p>I'm guessing the only reasons for making dedicated data holding classes instead of using HashMaps is to have mixed datatypes in a more visible/safter way and for the occasion when you want to DO something to the data when inserting it or retrieving it.  Thoughts?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"score":0,"creation_date":1499672900,"post_id":45006266,"comment_id":76986343,"body_markdown":"Please share your source-code Application class.","body":"Please share your source-code Application class."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":1,"creation_date":1499673116,"post_id":45006266,"comment_id":76986454,"body_markdown":"Add `@EnableMongoRepositories(basePackages = &quot;your.repository.package&quot;)` annotation to your configs","body":"Add <code>@EnableMongoRepositories(basePackages = &quot;your.repository.package&quot;)</code> annotation to your configs"},{"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"score":1,"creation_date":1499673250,"post_id":45006266,"comment_id":76986529,"body_markdown":"Can you post the detailed stack trace as well?","body":"Can you post the detailed stack trace as well?"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1499673287,"post_id":45006266,"comment_id":76986556,"body_markdown":"@StanislavL I am not using any Java Based configuration, just using application.properties","body":"@StanislavL I am not using any Java Based configuration, just using application.properties"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1499673403,"post_id":45006266,"comment_id":76986602,"body_markdown":"@JaydeepRajput I&#39;ve added the stack trace.","body":"@JaydeepRajput I&#39;ve added the stack trace."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1499673810,"post_id":45006266,"comment_id":76986843,"body_markdown":"The add the annotation right after the `@SpringBootApplication`","body":"The add the annotation right after the <code>@SpringBootApplication</code>"},{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":0,"creation_date":1499674118,"post_id":45006266,"comment_id":76987012,"body_markdown":"What spring version are you using?","body":"What spring version are you using?"},{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":0,"creation_date":1499675850,"post_id":45006266,"comment_id":76988093,"body_markdown":"Try removing @Repository annotation (as the example you gave does not have it)","body":"Try removing @Repository annotation (as the example you gave does not have it)"}],"answers":[{"tags":[],"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499675538,"creation_date":1499675538,"answer_id":45007262,"question_id":45006266,"body_markdown":"I have the same structure and I just had to add this configuration:\r\n\r\nApplication.java\r\n\r\n    @Configuration\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n        ...\r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.data.mongodb.uri=mongodb://localhost:27017/hotelDB\r\n\r\nAnd the repository package have to be in a deeper level of Application.java class. Thats all\r\n\r\n\r\n    com.hotelDB\r\n        Application.java\r\n        repository (Package)\r\n        controller (Package)\r\n        service (Package)\r\n        ...","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>I have the same structure and I just had to add this configuration:</p>\n\n<p>Application.java</p>\n\n<pre><code>@Configuration\n@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n    ...\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.data.mongodb.uri=mongodb://localhost:27017/hotelDB\n</code></pre>\n\n<p>And the repository package have to be in a deeper level of Application.java class. Thats all</p>\n\n<pre><code>com.hotelDB\n    Application.java\n    repository (Package)\n    controller (Package)\n    service (Package)\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499689939,"creation_date":1499689939,"answer_id":45012168,"question_id":45006266,"body_markdown":"After so much of struggle, finally I&#39;ve resolved the problem. \r\n\r\nThere is nothing wrong in the code or annotation. **The problem was spring boot&#39;s version**.\r\n\r\nHowever, I am still not sure what is the wrong in the version above `1.5.1.RELEASE` .If anybody knows the root cause can edit or answer the question. \r\n\r\n**Problem** : If I add `spring-boot-starter-parent` above `1.5.1.RELEASE`, it gives me the above no bean error for `MongoRepository`. It gives error from `1.5.2` to `1.5.4` version. (`1.5.4` was the last version till that I&#39;ve tried and faced the no bean error) \r\n\r\n**Solution** : It runs fine if I add `spring-boot-starter-parent` `1.5.1.RELEASE` or below (`1.5.0` was lowest version till I&#39;ve tried). \r\n","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>After so much of struggle, finally I've resolved the problem. </p>\n\n<p>There is nothing wrong in the code or annotation. <strong>The problem was spring boot's version</strong>.</p>\n\n<p>However, I am still not sure what is the wrong in the version above <code>1.5.1.RELEASE</code> .If anybody knows the root cause can edit or answer the question. </p>\n\n<p><strong>Problem</strong> : If I add <code>spring-boot-starter-parent</code> above <code>1.5.1.RELEASE</code>, it gives me the above no bean error for <code>MongoRepository</code>. It gives error from <code>1.5.2</code> to <code>1.5.4</code> version. (<code>1.5.4</code> was the last version till that I've tried and faced the no bean error) </p>\n\n<p><strong>Solution</strong> : It runs fine if I add <code>spring-boot-starter-parent</code> <code>1.5.1.RELEASE</code> or below (<code>1.5.0</code> was lowest version till I've tried). </p>\n"},{"tags":[],"owner":{"account_id":5241590,"reputation":73,"user_id":4188441,"display_name":"Kunal Mazumdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500464961,"creation_date":1500464961,"answer_id":45189670,"question_id":45006266,"body_markdown":"Just tried and did not found any problem at all with my existing spring boot mongodb project with `1.5.4.RELEASE` for `spring-boot-starter-parent`.\r\n\r\nEarlier it was configured with `1.4.0.RELEASE`.","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>Just tried and did not found any problem at all with my existing spring boot mongodb project with <code>1.5.4.RELEASE</code> for <code>spring-boot-starter-parent</code>.</p>\n\n<p>Earlier it was configured with <code>1.4.0.RELEASE</code>.</p>\n"},{"comments":[{"owner":{"account_id":4285334,"reputation":156,"user_id":3503335,"display_name":"quantumThinker"},"score":0,"creation_date":1516021457,"post_id":48240755,"comment_id":83509973,"body_markdown":"Thanks. It fixed the issue for 1.4.1-RELEASE of spring boot.","body":"Thanks. It fixed the issue for 1.4.1-RELEASE of spring boot."}],"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515853250,"creation_date":1515853250,"answer_id":48240755,"question_id":45006266,"body_markdown":"we need to activate mongo repositories using `EnableMongoRepositories`\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories //specify packages to scan\r\n    public class MongoWithBootApplication{ ... }","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>we need to activate mongo repositories using <code>EnableMongoRepositories</code></p>\n\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories //specify packages to scan\npublic class MongoWithBootApplication{ ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7306088,"reputation":767,"user_id":5566965,"display_name":"mramsath"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1516260860,"creation_date":1516260309,"answer_id":48315823,"question_id":45006266,"body_markdown":"Faced similar problem, Adding the following to Application class helped me resolving the problem\r\n\r\n    @EnableMongoRepositories(basePackageClasses = DeviceDataRepository.class)\r\n\r\nIn your case it could be \r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(basePackageClasses = HotelRepository.class)\r\n    public class MongoWithBootApplication{ ... }","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>Faced similar problem, Adding the following to Application class helped me resolving the problem</p>\n\n<pre><code>@EnableMongoRepositories(basePackageClasses = DeviceDataRepository.class)\n</code></pre>\n\n<p>In your case it could be </p>\n\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = HotelRepository.class)\npublic class MongoWithBootApplication{ ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14390310,"reputation":101,"user_id":10395044,"display_name":"ganesh pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1537512066,"creation_date":1537511502,"answer_id":52437885,"question_id":45006266,"body_markdown":"I was facing the same problem\r\n\r\nUsed below code to scan mongorepository packages\r\n\r\n    @SpringBootApplication                                                       \r\n    @EnableMongoRepositories(basePackages = {&quot;//packages you want to scan for activiting mongo repositories&quot;})\r\n    public class SpringBootMongoDBApp{ ... }\r\n\r\nIt resolved my problem","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>I was facing the same problem</p>\n\n<p>Used below code to scan mongorepository packages</p>\n\n<pre><code>@SpringBootApplication                                                       \n@EnableMongoRepositories(basePackages = {\"//packages you want to scan for activiting mongo repositories\"})\npublic class SpringBootMongoDBApp{ ... }\n</code></pre>\n\n<p>It resolved my problem</p>\n"}],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31613,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":48315823,"answer_count":6,"score":14,"last_activity_date":1677604094,"creation_date":1499672330,"question_id":45006266,"body_markdown":"I am using `spring boot` and `MongoDB`. \r\n\r\n    Spring version : 4.3.9\r\n\r\n    Spring boot version : 1.5.4\r\n\r\nI am creating a repository which implements `MongoRepository` `interface`, like below\r\n\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface HotelRepository extends MongoRepository&lt;Hotel,String&gt; {\r\n    }\r\n\r\nBut, whenever I am adding a dependency to HotelRepository compiler giving the error `Field hotelRepository in com.demo.HotelController required a bean of type &#39;com.demo.HotelRepository&#39; that could not be found.`\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/hotel&quot;)\r\n    public class HotelController {\r\n    \r\n    \t@Autowired\r\n    \tprivate HotelRepository hotelRepository;\r\n    \t\r\n    \t@GetMapping(&quot;/all&quot;)\r\n    \tpublic List&lt;Hotel&gt; getAllHotels(){\r\n    \t\treturn this.hotelRepository.findAll();\r\n    \t}\r\n    }\r\n\r\nI&#39;ve examine all the aspects from my side to resolve the error but all in vain. What I&#39;ve R&amp;D.\r\n\r\n - For `HotelRepository` there will be a default implementation provided out of the box. [as per spring docs][1]\r\n - I&#39;ve annotated the interface with `@Repository`, so no need to put `@Component`\r\n - Adding dependency from spring context using `@Autowired` annotation, So it should pick created bean from spring context.\r\n - All the required files are in the same package, so no need to put `@ComponentScan`\r\n\r\nHere is my main spring boot application class : \r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class MongoWithBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MongoWithBootApplication.class, args);\r\n    \t}\r\n    }\r\n**application.properties :** \r\n\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.database=HotelDB\r\n\r\n**Stack trace** : \r\n\r\n    2017-07-10 13:25:12.485  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : Starting MongoWithBootApplication on KELLGGNCPU0313 with PID 4712 (D:\\STS_WS\\MongoWithBoot\\target\\classes started by mehrajuddin.malik in D:\\STS_WS\\MongoWithBoot)\r\n    2017-07-10 13:25:12.487  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : No active profile set, falling back to default profiles: default\r\n    2017-07-10 13:25:12.519  INFO 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@13acb0d1: startup date [Mon Jul 10 13:25:12 IST 2017]; root of context hierarchy\r\n    2017-07-10 13:25:13.448  INFO 4712 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2017-07-10 13:25:13.456  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2017-07-10 13:25:13.456  INFO 4712 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15\r\n    2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1025 ms\r\n    2017-07-10 13:25:13.635  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2017-07-10 13:25:13.637  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2017-07-10 13:25:13.673  WARN 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39;: Unsatisfied dependency expressed through field &#39;hotelRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.demo.HotelRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2017-07-10 13:25:13.675  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2017-07-10 13:25:13.684  INFO 4712 --- [           main] utoConfigurationReportLoggingInitializer : \r\n    \r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2017-07-10 13:25:13.737 ERROR 4712 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field hotelRepository in com.demo.HotelController required a bean of type &#39;com.demo.HotelRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.demo.HotelRepository&#39; in your configuration.\r\n\r\n\r\n**pom.xml** : \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MongoWithBoot&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;MongoWithBoot&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nCould someone please help me out here what am I missing? \r\n  [1]: https://spring.io/guides/gs/accessing-data-mongodb/\r\n","title":"could not found bean for MongoRepository (Spring Boot)","body":"<p>I am using <code>spring boot</code> and <code>MongoDB</code>. </p>\n\n<pre><code>Spring version : 4.3.9\n\nSpring boot version : 1.5.4\n</code></pre>\n\n<p>I am creating a repository which implements <code>MongoRepository</code> <code>interface</code>, like below</p>\n\n<pre><code>import org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface HotelRepository extends MongoRepository&lt;Hotel,String&gt; {\n}\n</code></pre>\n\n<p>But, whenever I am adding a dependency to HotelRepository compiler giving the error <code>Field hotelRepository in com.demo.HotelController required a bean of type 'com.demo.HotelRepository' that could not be found.</code></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/hotel\")\npublic class HotelController {\n\n    @Autowired\n    private HotelRepository hotelRepository;\n\n    @GetMapping(\"/all\")\n    public List&lt;Hotel&gt; getAllHotels(){\n        return this.hotelRepository.findAll();\n    }\n}\n</code></pre>\n\n<p>I've examine all the aspects from my side to resolve the error but all in vain. What I've R&amp;D.</p>\n\n<ul>\n<li>For <code>HotelRepository</code> there will be a default implementation provided out of the box. <a href=\"https://spring.io/guides/gs/accessing-data-mongodb/\" rel=\"noreferrer\">as per spring docs</a></li>\n<li>I've annotated the interface with <code>@Repository</code>, so no need to put <code>@Component</code></li>\n<li>Adding dependency from spring context using <code>@Autowired</code> annotation, So it should pick created bean from spring context.</li>\n<li>All the required files are in the same package, so no need to put <code>@ComponentScan</code></li>\n</ul>\n\n<p>Here is my main spring boot application class : </p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MongoWithBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MongoWithBootApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>application.properties :</strong> </p>\n\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=HotelDB\n</code></pre>\n\n<p><strong>Stack trace</strong> : </p>\n\n<pre><code>2017-07-10 13:25:12.485  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : Starting MongoWithBootApplication on KELLGGNCPU0313 with PID 4712 (D:\\STS_WS\\MongoWithBoot\\target\\classes started by mehrajuddin.malik in D:\\STS_WS\\MongoWithBoot)\n2017-07-10 13:25:12.487  INFO 4712 --- [           main] com.demo.MongoWithBootApplication        : No active profile set, falling back to default profiles: default\n2017-07-10 13:25:12.519  INFO 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@13acb0d1: startup date [Mon Jul 10 13:25:12 IST 2017]; root of context hierarchy\n2017-07-10 13:25:13.448  INFO 4712 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2017-07-10 13:25:13.456  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2017-07-10 13:25:13.456  INFO 4712 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15\n2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2017-07-10 13:25:13.541  INFO 4712 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1025 ms\n2017-07-10 13:25:13.635  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\n2017-07-10 13:25:13.637  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2017-07-10 13:25:13.638  INFO 4712 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2017-07-10 13:25:13.673  WARN 4712 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController': Unsatisfied dependency expressed through field 'hotelRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.demo.HotelRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2017-07-10 13:25:13.675  INFO 4712 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2017-07-10 13:25:13.684  INFO 4712 --- [           main] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2017-07-10 13:25:13.737 ERROR 4712 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField hotelRepository in com.demo.HotelController required a bean of type 'com.demo.HotelRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.demo.HotelRepository' in your configuration.\n</code></pre>\n\n<p><strong>pom.xml</strong> : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;MongoWithBoot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;MongoWithBoot&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Could someone please help me out here what am I missing? </p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625043325,"creation_date":1625043325,"answer_id":68191546,"question_id":68187973,"body_markdown":"When the docs says `NonInferrableReturnType` it means that we can use the type variable `&lt;T&gt;`, or any other letter that you prefer. So you can create a `MapFunction` that return a `T`. But then you have to use `.returns(TypeInformation.of(String.class)` for example, if your goal is to return a `String`.\r\n```\r\npublic class MyMapFunctionNonInferrableReturnType&lt;T&gt; implements MapFunction&lt;AbstractDataModel, T&gt; {\r\n    @Override\r\n    public T map(AbstractDataModel value) throws Exception {\r\n        return (T) value.getValue();\r\n    }\r\n}\r\n```\r\nHere I am using the classes of your last question https://stackoverflow.com/q/68174020/2096986 . The same code without `.returns(TypeInformation.of(String.class))` compiles but throw the runtime exception:\r\n\r\n&gt; could not be determined automatically, due to type erasure. You can\r\n&gt; give type information hints by using the returns(...) method on the\r\n&gt; result of the transformation call, or by letting your function\r\n&gt; implement the &#39;ResultTypeQueryable&#39; interface.\r\n\r\n```\r\npublic class NonInferrableReturnTypeStreamJob {\r\n\r\n    private final List&lt;AbstractDataModel&gt; abstractDataModelList;\r\n    private final ValenciaSinkFunction sink;\r\n\r\n    public NonInferrableReturnTypeStreamJob() {\r\n        this.abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\r\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\r\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\r\n        this.sink = new ValenciaSinkFunction();\r\n    }\r\n\r\n    public NonInferrableReturnTypeStreamJob(List&lt;AbstractDataModel&gt; abstractDataModelList, ValenciaSinkFunction sink) {\r\n        this.abstractDataModelList = abstractDataModelList;\r\n        this.sink = sink;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        NonInferrableReturnTypeStreamJob concreteModelTest = new NonInferrableReturnTypeStreamJob();\r\n        concreteModelTest.execute();\r\n    }\r\n\r\n    public void execute() throws Exception {\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        env.fromCollection(this.abstractDataModelList)\r\n                .map(new MyMapFunctionNonInferrableReturnType())\r\n                .returns(TypeInformation.of(String.class))\r\n                .addSink(sink);\r\n\r\n        env.execute();\r\n    }\r\n}\r\n```\r\nIn case you wish, here is the integration test for this example:\r\n```\r\nimport org.apache.flink.runtime.testutils.MiniClusterResourceConfiguration;\r\nimport org.apache.flink.test.util.MiniClusterWithClientResource;\r\nimport org.junit.ClassRule;\r\nimport org.junit.Test;\r\nimport org.sense.flink.examples.stream.valencia.ValenciaSinkFunction;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport static junit.framework.TestCase.assertEquals;\r\nimport static org.junit.Assert.assertTrue;\r\n\r\npublic class NonInferrableReturnTypeStreamJobTest {\r\n\r\n    @ClassRule\r\n    public static MiniClusterWithClientResource flinkCluster;\r\n    private final int minAvailableProcessors = 4;\r\n    private final boolean runInParallel;\r\n\r\n    public NonInferrableReturnTypeStreamJobTest() {\r\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\r\n        this.runInParallel = availableProcessors &gt;= minAvailableProcessors;\r\n        if (this.runInParallel) {\r\n            flinkCluster = new MiniClusterWithClientResource(\r\n                    new MiniClusterResourceConfiguration.Builder()\r\n                            .setNumberSlotsPerTaskManager(minAvailableProcessors)\r\n                            .setNumberTaskManagers(1)\r\n                            .build());\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void execute() throws Exception {\r\n        List&lt;AbstractDataModel&gt; abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\r\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\r\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\r\n        ValenciaSinkFunction.values.clear();\r\n\r\n        NonInferrableReturnTypeStreamJob streamJob = new NonInferrableReturnTypeStreamJob(abstractDataModelList, new ValenciaSinkFunction());\r\n        streamJob.execute();\r\n\r\n        List&lt;String&gt; results = ValenciaSinkFunction.values;\r\n        assertEquals(2, results.size());\r\n        assertTrue(results.containsAll(Arrays.asList(&quot;1&quot;, &quot;2&quot;)));\r\n    }\r\n}\r\n```","title":"javadoc of SingleOutputStreamOperator#returns(TypeHint&lt;T&gt; typeHint) method","body":"<p>When the docs says <code>NonInferrableReturnType</code> it means that we can use the type variable <code>&lt;T&gt;</code>, or any other letter that you prefer. So you can create a <code>MapFunction</code> that return a <code>T</code>. But then you have to use <code>.returns(TypeInformation.of(String.class)</code> for example, if your goal is to return a <code>String</code>.</p>\n<pre><code>public class MyMapFunctionNonInferrableReturnType&lt;T&gt; implements MapFunction&lt;AbstractDataModel, T&gt; {\n    @Override\n    public T map(AbstractDataModel value) throws Exception {\n        return (T) value.getValue();\n    }\n}\n</code></pre>\n<p>Here I am using the classes of your last question <a href=\"https://stackoverflow.com/q/68174020/2096986\">Compiling fails when creating MapFunction with super type</a> . The same code without <code>.returns(TypeInformation.of(String.class))</code> compiles but throw the runtime exception:</p>\n<blockquote>\n<p>could not be determined automatically, due to type erasure. You can\ngive type information hints by using the returns(...) method on the\nresult of the transformation call, or by letting your function\nimplement the 'ResultTypeQueryable' interface.</p>\n</blockquote>\n<pre><code>public class NonInferrableReturnTypeStreamJob {\n\n    private final List&lt;AbstractDataModel&gt; abstractDataModelList;\n    private final ValenciaSinkFunction sink;\n\n    public NonInferrableReturnTypeStreamJob() {\n        this.abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\n        this.abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\n        this.sink = new ValenciaSinkFunction();\n    }\n\n    public NonInferrableReturnTypeStreamJob(List&lt;AbstractDataModel&gt; abstractDataModelList, ValenciaSinkFunction sink) {\n        this.abstractDataModelList = abstractDataModelList;\n        this.sink = sink;\n    }\n\n    public static void main(String[] args) throws Exception {\n        NonInferrableReturnTypeStreamJob concreteModelTest = new NonInferrableReturnTypeStreamJob();\n        concreteModelTest.execute();\n    }\n\n    public void execute() throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        env.fromCollection(this.abstractDataModelList)\n                .map(new MyMapFunctionNonInferrableReturnType())\n                .returns(TypeInformation.of(String.class))\n                .addSink(sink);\n\n        env.execute();\n    }\n}\n</code></pre>\n<p>In case you wish, here is the integration test for this example:</p>\n<pre><code>import org.apache.flink.runtime.testutils.MiniClusterResourceConfiguration;\nimport org.apache.flink.test.util.MiniClusterWithClientResource;\nimport org.junit.ClassRule;\nimport org.junit.Test;\nimport org.sense.flink.examples.stream.valencia.ValenciaSinkFunction;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static junit.framework.TestCase.assertEquals;\nimport static org.junit.Assert.assertTrue;\n\npublic class NonInferrableReturnTypeStreamJobTest {\n\n    @ClassRule\n    public static MiniClusterWithClientResource flinkCluster;\n    private final int minAvailableProcessors = 4;\n    private final boolean runInParallel;\n\n    public NonInferrableReturnTypeStreamJobTest() {\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\n        this.runInParallel = availableProcessors &gt;= minAvailableProcessors;\n        if (this.runInParallel) {\n            flinkCluster = new MiniClusterWithClientResource(\n                    new MiniClusterResourceConfiguration.Builder()\n                            .setNumberSlotsPerTaskManager(minAvailableProcessors)\n                            .setNumberTaskManagers(1)\n                            .build());\n        }\n    }\n\n    @Test\n    public void execute() throws Exception {\n        List&lt;AbstractDataModel&gt; abstractDataModelList = new ArrayList&lt;AbstractDataModel&gt;();\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;1&quot;));\n        abstractDataModelList.add(new ConcreteModel(&quot;a&quot;, &quot;2&quot;));\n        ValenciaSinkFunction.values.clear();\n\n        NonInferrableReturnTypeStreamJob streamJob = new NonInferrableReturnTypeStreamJob(abstractDataModelList, new ValenciaSinkFunction());\n        streamJob.execute();\n\n        List&lt;String&gt; results = ValenciaSinkFunction.values;\n        assertEquals(2, results.size());\n        assertTrue(results.containsAll(Arrays.asList(&quot;1&quot;, &quot;2&quot;)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68191546,"answer_count":1,"score":2,"last_activity_date":1677604028,"creation_date":1625022643,"question_id":68187973,"body_markdown":"I am reading the source code of `SingleOutputStreamOperator#returns`, its javadoc is:\r\n\r\n\t/**\r\n\t * Adds a type information hint about the return type of this operator. This method\r\n\t * can be used in cases where Flink cannot determine automatically what the produced\r\n\t * type of a function is. That can be the case if the function uses generic type variables\r\n\t * in the return type that cannot be inferred from the input type.\r\n\t *\r\n\t * &lt;p&gt;Use this method the following way:\r\n\t * &lt;pre&gt;{@code\r\n\t *     DataStream&lt;Tuple2&lt;String, Double&gt;&gt; result =\r\n\t *         stream.flatMap(new FunctionWithNonInferrableReturnType())\r\n\t *               .returns(new TypeHint&lt;Tuple2&lt;String, Double&gt;&gt;(){});\r\n\t * }&lt;/pre&gt;\r\n\t *\r\n\t * @param typeHint The type hint for the returned data type.\r\n\t * @return This operator with the type information corresponding to the given type hint.\r\n\t */\r\n\r\nIt mentions `FunctionWithNonInferrableReturnType` to show case the necessity of returns method, but I am unable to write such a class that is `NonInferrableReturnType`. How can I write a simple one?\r\n","title":"javadoc of SingleOutputStreamOperator#returns(TypeHint&lt;T&gt; typeHint) method","body":"<p>I am reading the source code of <code>SingleOutputStreamOperator#returns</code>, its javadoc is:</p>\n<pre><code>/**\n * Adds a type information hint about the return type of this operator. This method\n * can be used in cases where Flink cannot determine automatically what the produced\n * type of a function is. That can be the case if the function uses generic type variables\n * in the return type that cannot be inferred from the input type.\n *\n * &lt;p&gt;Use this method the following way:\n * &lt;pre&gt;{@code\n *     DataStream&lt;Tuple2&lt;String, Double&gt;&gt; result =\n *         stream.flatMap(new FunctionWithNonInferrableReturnType())\n *               .returns(new TypeHint&lt;Tuple2&lt;String, Double&gt;&gt;(){});\n * }&lt;/pre&gt;\n *\n * @param typeHint The type hint for the returned data type.\n * @return This operator with the type information corresponding to the given type hint.\n */\n</code></pre>\n<p>It mentions <code>FunctionWithNonInferrableReturnType</code> to show case the necessity of returns method, but I am unable to write such a class that is <code>NonInferrableReturnType</code>. How can I write a simple one?</p>\n"},{"tags":["java","gradle","android-studio"],"comments":[{"owner":{"account_id":2207933,"reputation":30614,"user_id":1950649,"display_name":"Vladimir Mironov"},"score":2,"creation_date":1369224272,"post_id":16690914,"comment_id":24021051,"body_markdown":"I&#39;m not familiar with gradle, but you should probably add a dependency on `annotations.jar` to `build.gradle`. Something like `dependencies { compile files(&#39;full/path/to/annotations.jar&#39;) }`","body":"I&#39;m not familiar with gradle, but you should probably add a dependency on <code>annotations.jar</code> to <code>build.gradle</code>. Something like <code>dependencies { compile files(&#39;full&#47;path&#47;to&#47;annotations.jar&#39;) }</code>"},{"owner":{"account_id":167904,"reputation":5322,"user_id":393010,"accept_rate":67,"display_name":"Moberg"},"score":0,"creation_date":1369226651,"post_id":16690914,"comment_id":24022579,"body_markdown":"Thanks, this fixed the issue! I thought adding the dependency was what android studio did automatically when I first wrote @NotNull and it wanted me to add something.","body":"Thanks, this fixed the issue! I thought adding the dependency was what android studio did automatically when I first wrote @NotNull and it wanted me to add something."},{"owner":{"account_id":2207933,"reputation":30614,"user_id":1950649,"display_name":"Vladimir Mironov"},"score":1,"creation_date":1369227249,"post_id":16690914,"comment_id":24022993,"body_markdown":"You can find explanation for this behavior here http://stackoverflow.com/questions/16622410/how-do-i-add-a-library-project-to-the-android-studio-and-use-itsome-asked-dont/16683375#16683375","body":"You can find explanation for this behavior here <a href=\"http://stackoverflow.com/questions/16622410/how-do-i-add-a-library-project-to-the-android-studio-and-use-itsome-asked-dont/16683375#16683375\" title=\"how do i add a library project to the android studio and use itsome asked dont\">stackoverflow.com/questions/16622410/&hellip;</a>"},{"owner":{"account_id":167904,"reputation":5322,"user_id":393010,"accept_rate":67,"display_name":"Moberg"},"score":0,"creation_date":1376321249,"post_id":16690914,"comment_id":26656441,"body_markdown":"@vmironov if you add this as an answer I can accept it.","body":"@vmironov if you add this as an answer I can accept it."}],"answers":[{"comments":[{"owner":{"account_id":197404,"reputation":5690,"user_id":441467,"accept_rate":93,"display_name":"Dominik Obermaier"},"score":1,"creation_date":1419259393,"post_id":16706994,"comment_id":43631838,"body_markdown":"upvote because this tip does not need any additional third party libraries","body":"upvote because this tip does not need any additional third party libraries"}],"tags":[],"owner":{"account_id":76170,"reputation":28433,"user_id":218257,"display_name":"Xavier Ducrohet"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1385503354,"creation_date":1369290534,"answer_id":16706994,"question_id":16690914,"body_markdown":"At the moment, there is no NonNull/Nullable annotations in the Android API or in the support library. You also cannot use the IntelliJ one since they are not on the compilation classpath when building with Gradle.\r\n\r\nHowever, you can easily create your own. It&#39;s very simple:\r\n\r\n    @Documented\r\n    @Retention(RetentionPolicy.CLASS)\r\n    @Target({METHOD,PARAMETER,LOCAL_VARIABLE,FIELD})\r\n    public @interface NonNull {\r\n    }\r\n\r\nOnce this is down, you can configure IntelliJ (or Android Studio) to recognize this one (and the matching `@Nullable`) to be the default annotation used for Null-checks.\r\n\r\nTo do this, go in the IntelliJ preferences, under `Inpections`, and then find the `@NotNull/@Nullable problems` entry under `Probable Bugs` in the inspection tree.\r\n\r\nSelect the item, and in the bottom right you&#39;ll have a button to &quot;Configure Annotations&quot;. This will allow you set your own annotations as the one intelliJ will use for this inspection.\r\n\r\n\r\n","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>At the moment, there is no NonNull/Nullable annotations in the Android API or in the support library. You also cannot use the IntelliJ one since they are not on the compilation classpath when building with Gradle.</p>\n\n<p>However, you can easily create your own. It's very simple:</p>\n\n<pre><code>@Documented\n@Retention(RetentionPolicy.CLASS)\n@Target({METHOD,PARAMETER,LOCAL_VARIABLE,FIELD})\npublic @interface NonNull {\n}\n</code></pre>\n\n<p>Once this is down, you can configure IntelliJ (or Android Studio) to recognize this one (and the matching <code>@Nullable</code>) to be the default annotation used for Null-checks.</p>\n\n<p>To do this, go in the IntelliJ preferences, under <code>Inpections</code>, and then find the <code>@NotNull/@Nullable problems</code> entry under <code>Probable Bugs</code> in the inspection tree.</p>\n\n<p>Select the item, and in the bottom right you'll have a button to \"Configure Annotations\". This will allow you set your own annotations as the one intelliJ will use for this inspection.</p>\n"},{"tags":[],"owner":{"account_id":1729013,"reputation":2571,"user_id":1583039,"accept_rate":83,"display_name":"curioushikhov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401980170,"creation_date":1386502454,"answer_id":20452943,"question_id":16690914,"body_markdown":"The best way is to use the maven dependency\r\n\r\n1. set the repository path, by adding\r\n\r\n        repositories {\r\n            maven {\r\n                url &quot;https://repository.jboss.org/nexus/content/repositories/thirdparty-releases&quot;\r\n            }\r\n        }\r\n\r\n\r\n2. add the dependency\r\n\r\n\r\n        dependencies {\r\n            compile &#39;org.jetbrains:annotations:7.0.2&#39;\r\n        }\r\n\r\n\r\n3. PROFIT!","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>The best way is to use the maven dependency</p>\n\n<ol>\n<li><p>set the repository path, by adding</p>\n\n<pre><code>repositories {\n    maven {\n        url \"https://repository.jboss.org/nexus/content/repositories/thirdparty-releases\"\n    }\n}\n</code></pre></li>\n<li><p>add the dependency</p>\n\n<pre><code>dependencies {\n    compile 'org.jetbrains:annotations:7.0.2'\n}\n</code></pre></li>\n<li><p>PROFIT!</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":345587,"reputation":585,"user_id":678611,"accept_rate":73,"display_name":"Diblo Dk"},"score":4,"creation_date":1524685096,"post_id":20456268,"comment_id":87076307,"body_markdown":"`implementation` is used instead of `compile` in newer versions","body":"<code>implementation</code> is used instead of <code>compile</code> in newer versions"},{"owner":{"account_id":6786147,"reputation":639,"user_id":5224868,"display_name":"Mahmudur Rahman"},"score":3,"creation_date":1557138057,"post_id":20456268,"comment_id":98652243,"body_markdown":"I use implementation &#39;org.jetbrains:annotations:16.0.2&#39; -- for gradle-5.1.1, its works for me.","body":"I use implementation &#39;org.jetbrains:annotations:16.0.2&#39; -- for gradle-5.1.1, its works for me."},{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":0,"creation_date":1595640907,"post_id":20456268,"comment_id":111553685,"body_markdown":"Complete newb here -&gt; Android 4, this did not work for me even after resync gradle and rebuild project.  I still get red errors.","body":"Complete newb here -&gt; Android 4, this did not work for me even after resync gradle and rebuild project.  I still get red errors."},{"owner":{"account_id":18695018,"reputation":2187,"user_id":13628530,"display_name":"Aqeel Mughal"},"score":0,"creation_date":1626085953,"post_id":20456268,"comment_id":120790029,"body_markdown":"removing this Line implementation &#39;org.jetbrains:annotations:15.0&#39; from my build.gradle file solved my problem.","body":"removing this Line implementation &#39;org.jetbrains:annotations:15.0&#39; from my build.gradle file solved my problem."}],"tags":[],"owner":{"account_id":2264138,"reputation":1735,"user_id":1993371,"display_name":"Serge Populov"},"comment_count":4,"down_vote_count":1,"up_vote_count":84,"is_accepted":true,"score":83,"last_activity_date":1579333648,"creation_date":1386522498,"answer_id":20456268,"question_id":16690914,"body_markdown":"I guess, the right way is using original JetBrains library from MavenCentral repository in your build.gradle dependencies (latest available version in this example):\r\n\r\n    dependencies {\r\n        implementation &#39;com.intellij:annotations:+@jar&#39;\r\n        ...\r\n    }","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>I guess, the right way is using original JetBrains library from MavenCentral repository in your build.gradle dependencies (latest available version in this example):</p>\n\n<pre><code>dependencies {\n    implementation 'com.intellij:annotations:+@jar'\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1355153,"reputation":1718,"user_id":1293704,"accept_rate":100,"display_name":"Primoz990"},"score":7,"creation_date":1448529965,"post_id":25788250,"comment_id":55629581,"body_markdown":"Your answer has solved my problem. Just one thing: The &quot;Avoid using + in version number&quot; warning is shown... i have set my version like this: \n`compile &#39;com.android.support:support-annotations:23.1.1&#39;`","body":"Your answer has solved my problem. Just one thing: The &quot;Avoid using + in version number&quot; warning is shown... i have set my version like this:  <code>compile &#39;com.android.support:support-annotations:23.1.1&#39;</code>"},{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":0,"creation_date":1595640984,"post_id":25788250,"comment_id":111553698,"body_markdown":"Was that supposed to be on Mac Android Studio -&gt; Preferences, but then I can&#39;t find Project Settings nor Inspections.  I am on Android Studio 4.","body":"Was that supposed to be on Mac Android Studio -&gt; Preferences, but then I can&#39;t find Project Settings nor Inspections.  I am on Android Studio 4."}],"tags":[],"owner":{"account_id":531541,"reputation":5194,"user_id":1449683,"accept_rate":44,"display_name":"squirrel"},"comment_count":2,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1410440688,"creation_date":1410440688,"answer_id":25788250,"question_id":16690914,"body_markdown":"You can also use android&#39;s own `@NonNull` &amp; `@Nullable`:\r\n\r\n - Add the following to **build.gradle**:\r\n\r\n        dependencies {\r\n            ...\r\n            // For @Nullable/@NonNull\r\n            compile &#39;com.android.support:support-annotations:+&#39;\r\n        }\r\n\r\n\r\n - Go to **File** / **Setting** → **Project Settings** → **Inspections** and search for &quot;nullable&quot;.\r\n\r\n In **Constant conditions &amp; exceptions** and **@NotNull/@Nullable problems**, click **Configure annotations** and select Android&#39;s annotations.\r\n\r\n You may also want to check out **Suggest @Nullable annotations…** under **Constant conditions &amp; exceptions**, or possibly tweak other options.","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>You can also use android's own <code>@NonNull</code> &amp; <code>@Nullable</code>:</p>\n\n<ul>\n<li><p>Add the following to <strong>build.gradle</strong>:</p>\n\n<pre><code>dependencies {\n    ...\n    // For @Nullable/@NonNull\n    compile 'com.android.support:support-annotations:+'\n}\n</code></pre></li>\n<li><p>Go to <strong>File</strong> / <strong>Setting</strong> → <strong>Project Settings</strong> → <strong>Inspections</strong> and search for \"nullable\".</p>\n\n<p>In <strong>Constant conditions &amp; exceptions</strong> and <strong>@NotNull/@Nullable problems</strong>, click <strong>Configure annotations</strong> and select Android's annotations.</p>\n\n<p>You may also want to check out <strong>Suggest @Nullable annotations…</strong> under <strong>Constant conditions &amp; exceptions</strong>, or possibly tweak other options.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8075635,"reputation":2057,"user_id":6086782,"display_name":"varun"},"score":3,"creation_date":1556361167,"post_id":30273190,"comment_id":98417994,"body_markdown":"Gone are the nowadays of 2015, in the nowadays of 2019, use **androidx.annotation:annotation:1.x.x** :P","body":"Gone are the nowadays of 2015, in the nowadays of 2019, use <b>androidx.annotation:annotation:1.x.x</b> :P"},{"owner":{"account_id":8075635,"reputation":2057,"user_id":6086782,"display_name":"varun"},"score":0,"creation_date":1556469095,"post_id":30273190,"comment_id":98441387,"body_markdown":"_Smoooooooth!_ +1  ;)","body":"<i>Smoooooooth!</i> +1  ;)"}],"tags":[],"owner":{"account_id":1077468,"reputation":20917,"user_id":1075289,"accept_rate":65,"display_name":"Amio.io"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556466982,"creation_date":1431762889,"answer_id":30273190,"question_id":16690914,"body_markdown":"In 2015, you would have used annotations from **android.support.annotation** package. I am just not sure when they added them as in the [docs][1] there isn&#39;t that typical sentence &quot;Added in API level X&quot; and I don&#39;t feel like reading blogs, etc. &gt;]\r\n\r\n    import android.support.annotation.NonNull;\r\n    \r\n    ...\r\n\r\n    public void fooFighter(@NonNull Object honeyBunny){\r\n       ...\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/annotation/NonNull.html","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>In 2015, you would have used annotations from <strong>android.support.annotation</strong> package. I am just not sure when they added them as in the <a href=\"https://developer.android.com/reference/android/support/annotation/NonNull.html\" rel=\"nofollow noreferrer\">docs</a> there isn't that typical sentence \"Added in API level X\" and I don't feel like reading blogs, etc. >]</p>\n\n<pre><code>import android.support.annotation.NonNull;\n\n...\n\npublic void fooFighter(@NonNull Object honeyBunny){\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6184974,"reputation":1103,"user_id":4819344,"display_name":"Roman Smoliar"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475858952,"creation_date":1457640381,"answer_id":35926186,"question_id":16690914,"body_markdown":"For using Android support anotation like - @Nullable, @NonNull etc.. In your project must be imported android support annotations library. Just **add this line to dependensies** in gradle file  \r\n\r\n`dependencies {\r\n    compile &#39;com.android.support:support-annotations:+&#39;\r\n}`\r\n\r\nAnd **import package** to class. \r\n&lt;br&gt;For using @Nullable annotation:\r\n\r\n    import android.support.annotation.Nullable;\r\nFor @NonNull\r\n\r\n    import android.support.annotation.NonNull;\r\nMore info you can find here [Android developers][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/annotations.html \r\n","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>For using Android support anotation like - @Nullable, @NonNull etc.. In your project must be imported android support annotations library. Just <strong>add this line to dependensies</strong> in gradle file  </p>\n\n<p><code>dependencies {\n    compile 'com.android.support:support-annotations:+'\n}</code></p>\n\n<p>And <strong>import package</strong> to class. \n<br>For using @Nullable annotation:</p>\n\n<pre><code>import android.support.annotation.Nullable;\n</code></pre>\n\n<p>For @NonNull</p>\n\n<pre><code>import android.support.annotation.NonNull;\n</code></pre>\n\n<p>More info you can find here <a href=\"https://developer.android.com/studio/write/annotations.html\" rel=\"noreferrer\">Android developers</a></p>\n"},{"comments":[{"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"score":1,"creation_date":1560318833,"post_id":56003395,"comment_id":99691578,"body_markdown":"I wish this worked.  But like everything else, I can&#39;t seem to shake this error.","body":"I wish this worked.  But like everything else, I can&#39;t seem to shake this error."}],"tags":[],"owner":{"account_id":6786147,"reputation":639,"user_id":5224868,"display_name":"Mahmudur Rahman"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557138728,"creation_date":1557138728,"answer_id":56003395,"question_id":16690914,"body_markdown":"I am facing that problem for **gradle-5.1.1** - **Android Studio 3.4** and the error like that - *Compilation failed; see the compiler error output for details. Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.* etc. In this case I use \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    implementation &#39;org.jetbrains:annotations:16.0.2&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand above all error will be clear. ","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>I am facing that problem for <strong>gradle-5.1.1</strong> - <strong>Android Studio 3.4</strong> and the error like that - <em>Compilation failed; see the compiler error output for details. Execution failed for task ':app:compileDebugJavaWithJavac'.</em> etc. In this case I use </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>implementation 'org.jetbrains:annotations:16.0.2'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and above all error will be clear. </p>\n"},{"tags":[],"owner":{"account_id":14063381,"reputation":81,"user_id":10158830,"display_name":"DeadCoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560424645,"creation_date":1560424645,"answer_id":56579257,"question_id":16690914,"body_markdown":"For Maven add dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;16.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt; ","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>For Maven add dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;16.0.1&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":4060371,"reputation":6747,"user_id":3337089,"accept_rate":86,"display_name":"Nagabhushan S N"},"score":0,"creation_date":1625378606,"post_id":65831706,"comment_id":120608552,"body_markdown":"Thanks! As of today, this is the easiest change","body":"Thanks! As of today, this is the easiest change"},{"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"score":0,"creation_date":1681494183,"post_id":65831706,"comment_id":134071144,"body_markdown":"Not sure whether it&#39;s easier than other options but it seems to be the best today; the current way the functionality is exposed. And need to add to build.gradle dependencies &quot;implementation &#39;androidx.annotation:annotation:1.6.0&#39;&quot; or something like that.","body":"Not sure whether it&#39;s easier than other options but it seems to be the best today; the current way the functionality is exposed. And need to add to build.gradle dependencies &quot;implementation &#39;androidx.annotation:annotation:1.6.0&#39;&quot; or something like that."}],"tags":[],"owner":{"account_id":6905436,"reputation":365,"user_id":5303507,"accept_rate":50,"display_name":"Azizjan Hamidovich Ayupov"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1611246676,"creation_date":1611246676,"answer_id":65831706,"question_id":16690914,"body_markdown":"Just import **androidx.annotation.Nullable** for that purpose","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>Just import <strong>androidx.annotation.Nullable</strong> for that purpose</p>\n"}],"owner":{"account_id":167904,"reputation":5322,"user_id":393010,"accept_rate":67,"display_name":"Moberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126503,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":20456268,"answer_count":9,"score":77,"last_activity_date":1677603953,"creation_date":1369223187,"question_id":16690914,"body_markdown":"When I add @NotNull or @Nullable annotations to a parameter Android Studio automatically helps me with adding /lib/annotations.jar and importing\r\n\r\n    import org.jetbrains.annotations.NotNull\r\n    import org.jetbrains.annotations.Nullable;\r\n\r\nBut after this, the project won&#39;t compile. If I also remove the annotations but keep the import statements the project still won&#39;t compile. **But** if I remove the import statements for NotNull and Nullable the project compiles *fine*!\r\n\r\nAndroid Studio gives a generic error:\r\n\r\n    Gradle: \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:Bugtester:compileDebug&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\nRunning `gradlew compileDebug` from cmd gives a slight hint:\r\n\r\n    :Bugtester:compileDebug FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:Bugtester:compileDebug&#39;.\r\n    &gt; Cannot find System Java Compiler. Ensure that you have installed a JDK (not just a JRE) and configured your JAVA_HOME system variable to point to the according directory.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    BUILD FAILED\r\n\r\nSo I checked my environment variables and they are set as:\r\n\r\n    JAVA_HOME=C:\\Program Files (x86)\\Java\\jre7\r\n    JDK_HOME=C:\\Program Files\\Java\\jdk1.7.0_21\\\r\n\r\nAnyone got any idea for this? (I&#39;m new to both java and android programming)","title":"importing NotNull or Nullable and Android Studio won&#39;t compile","body":"<p>When I add @NotNull or @Nullable annotations to a parameter Android Studio automatically helps me with adding /lib/annotations.jar and importing</p>\n\n<pre><code>import org.jetbrains.annotations.NotNull\nimport org.jetbrains.annotations.Nullable;\n</code></pre>\n\n<p>But after this, the project won't compile. If I also remove the annotations but keep the import statements the project still won't compile. <strong>But</strong> if I remove the import statements for NotNull and Nullable the project compiles <em>fine</em>!</p>\n\n<p>Android Studio gives a generic error:</p>\n\n<pre><code>Gradle: \nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':Bugtester:compileDebug'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n\n<p>Running <code>gradlew compileDebug</code> from cmd gives a slight hint:</p>\n\n<pre><code>:Bugtester:compileDebug FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':Bugtester:compileDebug'.\n&gt; Cannot find System Java Compiler. Ensure that you have installed a JDK (not just a JRE) and configured your JAVA_HOME system variable to point to the according directory.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n</code></pre>\n\n<p>So I checked my environment variables and they are set as:</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files (x86)\\Java\\jre7\nJDK_HOME=C:\\Program Files\\Java\\jdk1.7.0_21\\\n</code></pre>\n\n<p>Anyone got any idea for this? (I'm new to both java and android programming)</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1588048475,"post_id":61472442,"comment_id":108742322,"body_markdown":"Update operation doesn&#39;t fetch any data","body":"Update operation doesn&#39;t fetch any data"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677603833,"creation_date":1588048946,"answer_id":61472758,"question_id":61472442,"body_markdown":"As you have discovered, just changing the return type of your method doesn&#39;t cause the auto-generated JPA method to return a different type.\r\n\r\nThe problem is that you are doing a bulk update operation. This is going to get turned into an equivalent SQL &quot;update...where&quot; statement at execution time, and the only data that is going to be returned by JDBC is the number of rows updated. (And BTW, in that case, you should return a long, not an int).\r\n\r\nSo, you have to devise some other way of doing this.\r\nOff-hand, I can think of two ways:\r\n\r\n1. If you can be pretty certain that you will always be updating a relatively small number of rows (say, a up to a few hundred), then you could create a method that selects the Entity instances that you want to update, e.g.\r\n\r\n       @Query(&quot;SELECT u from User&quot; + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot; + &quot; AND u.reactivateTime IS NOT null&quot;)\r\n       List&lt;User&gt; getUsersToReactivate(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\r\n\r\nAnd then, in a concrete implementation of the JPA Repository interface,\r\n\r\n - Call the method to retrieve the entities.\r\n - Update the entities via java code\r\n - Save the entities\r\n\r\nFor example (I just typed this, didn&#39;t try it - syntax errors are your responsibility):\r\n\r\n    @Transactional\r\n    @Modifying\r\n    List&lt;User&gt; reactivateUsers(ZonedDateTime currentTime) {\r\n       List&lt;User&gt; users = getUsersToReactivate(currentTime);\r\n       users.forEach(user -&gt; {\r\n           user.setActive(true);\r\n           save(user);\r\n       ); \r\n       return users; \r\n    }\r\n\r\n\r\n2. This may be more intrusive, but you could add a Date property to the User class called &#39;lastUpdated&#39;, get the current date, update the isActive flag to true and the &#39;lastUpdated&#39; property to the current date, and then select entities where the lastUpdate property is the current date.\r\n","title":"Spring JPA Update and Return the Updated Data","body":"<p>As you have discovered, just changing the return type of your method doesn't cause the auto-generated JPA method to return a different type.</p>\n<p>The problem is that you are doing a bulk update operation. This is going to get turned into an equivalent SQL &quot;update...where&quot; statement at execution time, and the only data that is going to be returned by JDBC is the number of rows updated. (And BTW, in that case, you should return a long, not an int).</p>\n<p>So, you have to devise some other way of doing this.\nOff-hand, I can think of two ways:</p>\n<ol>\n<li><p>If you can be pretty certain that you will always be updating a relatively small number of rows (say, a up to a few hundred), then you could create a method that selects the Entity instances that you want to update, e.g.</p>\n<pre><code>@Query(&quot;SELECT u from User&quot; + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot; + &quot; AND u.reactivateTime IS NOT null&quot;)\nList&lt;User&gt; getUsersToReactivate(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\n</code></pre>\n</li>\n</ol>\n<p>And then, in a concrete implementation of the JPA Repository interface,</p>\n<ul>\n<li>Call the method to retrieve the entities.</li>\n<li>Update the entities via java code</li>\n<li>Save the entities</li>\n</ul>\n<p>For example (I just typed this, didn't try it - syntax errors are your responsibility):</p>\n<pre><code>@Transactional\n@Modifying\nList&lt;User&gt; reactivateUsers(ZonedDateTime currentTime) {\n   List&lt;User&gt; users = getUsersToReactivate(currentTime);\n   users.forEach(user -&gt; {\n       user.setActive(true);\n       save(user);\n   ); \n   return users; \n}\n</code></pre>\n<ol start=\"2\">\n<li>This may be more intrusive, but you could add a Date property to the User class called 'lastUpdated', get the current date, update the isActive flag to true and the 'lastUpdated' property to the current date, and then select entities where the lastUpdate property is the current date.</li>\n</ol>\n"}],"owner":{"account_id":14800057,"reputation":179,"user_id":10688566,"display_name":"alcantula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1588050729,"accepted_answer_id":61472758,"answer_count":1,"score":1,"last_activity_date":1677603833,"creation_date":1588046871,"question_id":61472442,"body_markdown":"How to build a JPA method that could return the updated data when updateing using JPA query?\r\nI have created something like this.\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;UPDATE User u SET u.isActive = true&quot;\r\n      + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot;\r\n      + &quot; AND u.reactivateTime IS NOT null&quot;)\r\nint reactivateUser(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\r\n```\r\nBut, what I want is it is returning list of user. If I directly changed it to something like this\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;UPDATE User u SET u.isActive = true&quot;\r\n      + &quot; WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime&quot;\r\n      + &quot; AND u.reactivateTime IS NOT null&quot;)\r\nList&lt;User&gt; reactivateUser(@Param(&quot;currentTime&quot;) ZonedDateTime currentTime);\r\n```\r\nIt will become error like this.\r\n```\r\nIllegalStateException: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations\r\n```","title":"Spring JPA Update and Return the Updated Data","body":"<p>How to build a JPA method that could return the updated data when updateing using JPA query?\nI have created something like this.</p>\n\n<pre><code>@Transactional\n@Modifying\n@Query(\"UPDATE User u SET u.isActive = true\"\n      + \" WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime\"\n      + \" AND u.reactivateTime IS NOT null\")\nint reactivateUser(@Param(\"currentTime\") ZonedDateTime currentTime);\n</code></pre>\n\n<p>But, what I want is it is returning list of user. If I directly changed it to something like this</p>\n\n<pre><code>@Transactional\n@Modifying\n@Query(\"UPDATE User u SET u.isActive = true\"\n      + \" WHERE u.isActive = false AND u.reactivateTime &lt;= currentTime\"\n      + \" AND u.reactivateTime IS NOT null\")\nList&lt;User&gt; reactivateUser(@Param(\"currentTime\") ZonedDateTime currentTime);\n</code></pre>\n\n<p>It will become error like this.</p>\n\n<pre><code>IllegalStateException: org.hibernate.hql.internal.QueryExecutionRequestException: Not supported for DML operations\n</code></pre>\n"},{"tags":["java","android","kotlin","android-espresso","android-uiautomator"],"owner":{"account_id":12887632,"reputation":333,"user_id":9320560,"display_name":"Adam Jensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677603778,"creation_date":1677603778,"question_id":75595157,"body_markdown":"I want to click on the cross (x) button which is a part of a search edit text view (search text field). The button doesn&#39;t have any resource Id or element. I tried the following ways to interact:\r\n\r\n - click at the end of the search field by coordinates - this isn&#39;t a valid way because it doesn&#39;t work on different devices;\r\n - click on elements behind the button - also not a valid way. And for some reason doesn&#39;t work for now.\r\n\r\n[![][1]][1]\r\n(image taken [from here][2])\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZBK8k.png\r\n  [2]: https://stackoverflow.com/a/14470930/9320560","title":"Click on a cross (x) button inside of a search edit text view","body":"<p>I want to click on the cross (x) button which is a part of a search edit text view (search text field). The button doesn't have any resource Id or element. I tried the following ways to interact:</p>\n<ul>\n<li>click at the end of the search field by coordinates - this isn't a valid way because it doesn't work on different devices;</li>\n<li>click on elements behind the button - also not a valid way. And for some reason doesn't work for now.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ZBK8k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZBK8k.png\" alt=\"\" /></a>\n(image taken <a href=\"https://stackoverflow.com/a/14470930/9320560\">from here</a>)</p>\n"},{"tags":["java","cdi","nosuchmethoderror","weld","jandex"],"answers":[{"tags":[],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677603564,"creation_date":1677603564,"answer_id":75595116,"question_id":74781315,"body_markdown":"The solution that works for me is to exclude jandex from hibernate dependency and to add an individual jandex dependency to the project. Here is an excerpt from my pom.xml:\r\n```\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;!-- without exclusion of jandex in hibernate a no such method error is raised --&gt;\r\n\t\t\t\t\t&lt;!-- with    exclusion an explicit dependency to jandex is needed (see below)  --&gt;\r\n\t\t\t\t\t&lt;!-- note that jandex is referenced with groupId io.smallrye actually          --&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- individual dependency to jandex to accomplish necessary exclusion of jandex in --&gt;\r\n            &lt;!-- hibernate-core-jakarta (see above)                                             --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n```","title":"CDI with Weld in Java SE, jakarta namespace, NoSuchMethodError","body":"<p>The solution that works for me is to exclude jandex from hibernate dependency and to add an individual jandex dependency to the project. Here is an excerpt from my pom.xml:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\n                &lt;version&gt;5.6.14.Final&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;!-- without exclusion of jandex in hibernate a no such method error is raised --&gt;\n                    &lt;!-- with    exclusion an explicit dependency to jandex is needed (see below)  --&gt;\n                    &lt;!-- note that jandex is referenced with groupId io.smallrye actually          --&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n                        &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;!-- individual dependency to jandex to accomplish necessary exclusion of jandex in --&gt;\n            &lt;!-- hibernate-core-jakarta (see above)                                             --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n                &lt;version&gt;3.0.5&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75595116,"answer_count":1,"score":2,"last_activity_date":1677603564,"creation_date":1670916563,"question_id":74781315,"body_markdown":"For a trivial app using CDI in Java SE with jakarta namespace I can not get rid of this ```NoSuchMethodError``` during ```SeContainerInitializer.newInstance().initialize()```:\r\n\r\n```Caused by: java.lang.NoSuchMethodError: &#39;java.util.Map org.jboss.jandex.ClassInfo.annotationsMap()&#39;```\r\n\r\nI guess I&#39;m missing dependencies. Shouldn&#39;t this be sufficient?\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```beans.xml``` is in place at ```src/main/resources/META-INF```","title":"CDI with Weld in Java SE, jakarta namespace, NoSuchMethodError","body":"<p>For a trivial app using CDI in Java SE with jakarta namespace I can not get rid of this <code>NoSuchMethodError</code> during <code>SeContainerInitializer.newInstance().initialize()</code>:</p>\n<p><code>Caused by: java.lang.NoSuchMethodError: 'java.util.Map org.jboss.jandex.ClassInfo.annotationsMap()'</code></p>\n<p>I guess I'm missing dependencies. Shouldn't this be sufficient?</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se-shaded&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><code>beans.xml</code> is in place at <code>src/main/resources/META-INF</code></p>\n"},{"tags":["java","regex","log4j","log4j2","mdc"],"answers":[{"tags":[],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672805385,"creation_date":1672805385,"answer_id":75000877,"question_id":74988617,"body_markdown":"I managed to find a workaround solution, where I instead apply the regex to the value being inserted into the `ThreadContextMap` \r\n\r\nThis way, I only ever have to check for 2 values in the `ThreadContextMapFilter`, `prod` &amp; `qa`\r\n\r\nThis solution is satisfactory enough as it works &amp; meets the requirements we had. For those curious, it looks something like this: \r\n\r\n```java\r\n@Value(&quot;${env}&quot;)\r\nprivate String environment;\r\n...\r\n// check environment against regex\r\nboolean matchesProdRegex = Pattern.matches(&quot;.*prod.*&quot;, this.environment);\r\nboolean matchesQaRegex = Pattern.matches(&quot;.*qa.*&quot;, this.environment);\r\nif (matchesProdRegex ) {\r\n  ThreadContext.put(&quot;ENV&quot;, &quot;prod&quot;);\r\n} else if (matchesQaRegex ) {\r\n  ThreadContext.put(&quot;ENV&quot;, &quot;qa&quot;);\r\n} else {\r\n  ThreadContext.put(&quot;ENV&quot;, this.environment);\r\n}\r\n```\r\n\r\nConsequently in `log4j2.xml`, the `ThreadContextMapFilter` looks something like: \r\n\r\n```\r\n&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\r\n    &lt;Filters&gt;\r\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa&quot;/&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod&quot;/&gt;\r\n        &lt;/ThreadContextMapFilter&gt;\r\n    &lt;/Filters&gt;\r\n&lt;/Console&gt;\r\n```\r\n\r\nThanks to anyone that took the time to read my post &amp; hope this can be a useful reference for anyone in the future, cheers! ","title":"Is it possible to filter key-value pairs of a ThreadContextMap with a Regex?","body":"<p>I managed to find a workaround solution, where I instead apply the regex to the value being inserted into the <code>ThreadContextMap</code></p>\n<p>This way, I only ever have to check for 2 values in the <code>ThreadContextMapFilter</code>, <code>prod</code> &amp; <code>qa</code></p>\n<p>This solution is satisfactory enough as it works &amp; meets the requirements we had. For those curious, it looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${env}&quot;)\nprivate String environment;\n...\n// check environment against regex\nboolean matchesProdRegex = Pattern.matches(&quot;.*prod.*&quot;, this.environment);\nboolean matchesQaRegex = Pattern.matches(&quot;.*qa.*&quot;, this.environment);\nif (matchesProdRegex ) {\n  ThreadContext.put(&quot;ENV&quot;, &quot;prod&quot;);\n} else if (matchesQaRegex ) {\n  ThreadContext.put(&quot;ENV&quot;, &quot;qa&quot;);\n} else {\n  ThreadContext.put(&quot;ENV&quot;, this.environment);\n}\n</code></pre>\n<p>Consequently in <code>log4j2.xml</code>, the <code>ThreadContextMapFilter</code> looks something like:</p>\n<pre><code>&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\n    &lt;Filters&gt;\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa&quot;/&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod&quot;/&gt;\n        &lt;/ThreadContextMapFilter&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n</code></pre>\n<p>Thanks to anyone that took the time to read my post &amp; hope this can be a useful reference for anyone in the future, cheers!</p>\n"}],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75000877,"answer_count":1,"score":0,"last_activity_date":1677603483,"creation_date":1672713331,"question_id":74988617,"body_markdown":"I wish to filter certain logs if the &quot;env&quot; key in the `ThreadContextMap` has a value of `prod1` or `qa1`.\r\n\r\nI already have something like the following set up: \r\n\r\n```\r\n&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\r\n    &lt;Filters&gt;\r\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa1&quot;/&gt;\r\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod1&quot;/&gt;\r\n        &lt;/ThreadContextMapFilter&gt;\r\n    &lt;/Filters&gt;\r\n&lt;/Console&gt;\r\n```\r\n\r\nBut this code &quot;hardcodes&quot; the values `prod1` &amp; `qa1`. In the spirit of making the code extensible, I want to filter out those logs if they match the regex of `&quot;prod\\d+&quot;` or `&quot;qa\\d+&quot;`. \r\n\r\nValues that would match these regex&#39;s include `&quot;prod1&quot;`, `&quot;qa2&quot;`.\r\n\r\nThis is because we don&#39;t want those certain logs to appear on production &amp; qa environments.\r\n\r\nIn the `ThreadContextMap`, the key-value pairs we&#39;re checking for is `ENV`-`prod1` or `ENV`-`qa1`.\r\n\r\nI searched StackOverflow as well as the log4j2 documentation but there doesn&#39;t seem to be any mention of how such a thing can be done.\r\n\r\nAny ideas on how I can approach this or alternatives?","title":"Is it possible to filter key-value pairs of a ThreadContextMap with a Regex?","body":"<p>I wish to filter certain logs if the &quot;env&quot; key in the <code>ThreadContextMap</code> has a value of <code>prod1</code> or <code>qa1</code>.</p>\n<p>I already have something like the following set up:</p>\n<pre><code>&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n    &lt;PatternLayout pattern=&quot;...&quot;/&gt;\n    &lt;Filters&gt;\n        &lt;ThreadContextMapFilter onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; operator=&quot;or&quot;&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;qa1&quot;/&gt;\n            &lt;KeyValuePair key=&quot;ENV&quot; value=&quot;prod1&quot;/&gt;\n        &lt;/ThreadContextMapFilter&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n</code></pre>\n<p>But this code &quot;hardcodes&quot; the values <code>prod1</code> &amp; <code>qa1</code>. In the spirit of making the code extensible, I want to filter out those logs if they match the regex of <code>&quot;prod\\d+&quot;</code> or <code>&quot;qa\\d+&quot;</code>.</p>\n<p>Values that would match these regex's include <code>&quot;prod1&quot;</code>, <code>&quot;qa2&quot;</code>.</p>\n<p>This is because we don't want those certain logs to appear on production &amp; qa environments.</p>\n<p>In the <code>ThreadContextMap</code>, the key-value pairs we're checking for is <code>ENV</code>-<code>prod1</code> or <code>ENV</code>-<code>qa1</code>.</p>\n<p>I searched StackOverflow as well as the log4j2 documentation but there doesn't seem to be any mention of how such a thing can be done.</p>\n<p>Any ideas on how I can approach this or alternatives?</p>\n"},{"tags":["java","if-statement","while-loop","try-catch"],"comments":[{"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"score":0,"creation_date":1677577746,"post_id":75590217,"comment_id":133360981,"body_markdown":"Could you add an example input and output?","body":"Could you add an example input and output?"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":2,"creation_date":1677577876,"post_id":75590217,"comment_id":133361018,"body_markdown":"Due to ugly formatting it&#39;s hard to see, but one closing curly bracket is missing.","body":"Due to ugly formatting it&#39;s hard to see, but one closing curly bracket is missing."},{"owner":{"account_id":27898378,"reputation":13,"user_id":21303169,"display_name":"unknown"},"score":0,"creation_date":1677578322,"post_id":75590217,"comment_id":133361155,"body_markdown":"// this is a comment, any lines that start with //\n// (and blank lines) should be ignored\n\n[ElectricTool data]\n// data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power\nMakita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V\nFlex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V\nDeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W\nMilwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W\nBosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V. the output i","body":"// this is a comment, any lines that start with // // (and blank lines) should be ignored  [ElectricTool data] // data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power Makita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V Flex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V DeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W Milwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W Bosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V. the output i"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":2,"creation_date":1677578576,"post_id":75590217,"comment_id":133361228,"body_markdown":"@unknownb please edit your question and add an example input to there instead of a comment. Nobody wants to to figure out where are line endings for example.","body":"@unknownb please edit your question and add an example input to there instead of a comment. Nobody wants to to figure out where are line endings for example."}],"answers":[{"tags":[],"owner":{"account_id":1732835,"reputation":164,"user_id":1586071,"display_name":"dgg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677603460,"creation_date":1677603460,"answer_id":75595105,"question_id":75590217,"body_markdown":"Assuming the file in question looks something like this:\r\n\r\n    // this is a comment, any lines that start with //\r\n    // (and blank lines) should be ignored\r\n    [ElectricTool data]\r\n    // data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power\r\n    Makita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V\r\n    Flex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V\r\n    DeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W\r\n    Milwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W\r\n    Bosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V\r\n\r\nA regular expression or two would work well (I made a couple of other minor changes too):\r\n\r\n    public void readToolData() {\r\n        Frame myFrame = new Frame();\r\n        FileDialog fileName = new FileDialog(myFrame, &quot;Select the file to load&quot;, FileDialog.LOAD);\r\n        fileName.setDirectory(&quot;/&quot;);\r\n        fileName.setVisible(true);\r\n\r\n        if (fileName.getDirectory() != null &amp;&amp; fileName.getFile() != null) {\r\n\t        String filePath = fileName.getDirectory() + fileName.getFile();\r\n\t        System.out.printf(&quot;Selected file: %1$s\\n&quot;, fileName);\r\n\t        \r\n\t        File fileData = new File(filePath);\r\n\t        String typeOfData = &quot;&quot;;\r\n\t        try {\r\n\t            // pattern for lines to be skipped\r\n\t            Pattern ptrnSkip = Pattern.compile(&quot;(?:^//|\\\\[)+?.*$&quot;);\r\n\t            // pattern for line delimiter - account for potential leading / trailing spaces\r\n\t            Pattern ptrnDlim = Pattern.compile(&quot; *, *&quot;);\r\n\t\r\n\t            // read the file line by line\r\n\t            try (Scanner scnrFile = new Scanner(fileData)) {\r\n\t                while (scnrFile.hasNextLine()) {\r\n\t                    String lineOfText = scnrFile.nextLine().trim();\r\n\t\r\n\t                    // skip empty lines and comments\r\n\t                    if (!lineOfText.isEmpty() &amp;&amp; !ptrnSkip.matcher(lineOfText).matches()) {\r\n\t                    \tSystem.out.printf(&quot;Line read: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\r\n\t                        typeOfData = lineOfText;\r\n\t                        try (Scanner scnrLine = new Scanner(lineOfText).useDelimiter(ptrnDlim)) {\r\n\t                        \tString strDesc = scnrLine.next();\r\n\t                        \tString strCode = scnrLine.next();\r\n\t                        \tint iBorrowedCount = scnrLine.nextInt();\r\n\t                        \tboolean bIsOnLoan = scnrLine.nextBoolean();\r\n\t                        \tint iCost = scnrLine.nextInt();\r\n\t                        \tint iWeight = scnrLine.nextInt();\r\n\t                        \tboolean bIsRechargeable = scnrLine.nextBoolean();\r\n\t                        \tString strPowerSrc = scnrLine.next();\r\n\t                        \t\r\n\t                        \tSystem.out.printf(&quot;    Description: %1$s\\n&quot;, strDesc);\r\n\t                        \tSystem.out.printf(&quot;    Code: %1$s\\n&quot;, strCode);\r\n\t                        \tSystem.out.printf(&quot;    Borrowed count: %1$d\\n&quot;, iBorrowedCount);\r\n\t                        \tSystem.out.printf(&quot;    Is on loan?: %1$s\\n&quot;, bIsOnLoan ? &quot;yes&quot; : &quot;no&quot;);\r\n\t                        \tSystem.out.printf(&quot;    Cost: %1$d\\n&quot;, iCost);\r\n\t                        \tSystem.out.printf(&quot;    Weight: %1$d\\n&quot;, iWeight);\r\n\t                        \tSystem.out.printf(&quot;    Is rechargeable?: %1$s\\n&quot;, bIsRechargeable ? &quot;yes&quot; : &quot;no&quot;);\r\n\t                        \tSystem.out.printf(&quot;    Power source: %1$s\\n&quot;, strPowerSrc);\r\n\t\r\n\t\t                        Tool t = new Tool();\r\n\t                            // do something with data here\r\n\t\t                        this.storeTool(t);\r\n\t                        }\r\n\t                    } else {\r\n\t                    \tSystem.out.printf(&quot;Line skipped: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        } catch (FileNotFoundException e) {\r\n\t            System.out.println(e.getMessage());\r\n\t            e.printStackTrace();\r\n\t        }\r\n        } else {\r\n            System.out.println(&quot;No file selected&quot;);\r\n        }\r\n    }\r\n\r\nThe [Apache Commons CSV library][1] is nice for reading delimited data.  [Here][2] is a short intro if you&#39;re interested.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-csv/\r\n  [2]: https://www.baeldung.com/apache-commons-csv","title":"Program is reading txt file but ignoring the if statement","body":"<p>Assuming the file in question looks something like this:</p>\n<pre><code>// this is a comment, any lines that start with //\n// (and blank lines) should be ignored\n[ElectricTool data]\n// data is toolName, toolCode, timesBorrowed, onLoan, cost, weight, rechargeable, power\nMakita BHP452RFWX,RD2001,12 , false,14995,1800,true,18V\nFlex Impact Screwdriver FIS439,RD2834,14,true,13499,1200 ,true,10.8V\nDeWalt D23650-GB Circular Saw, RD6582,54,true,14997,5400,false,1350W\nMilwaukee DD2-160XE Diamond Core Drill,RD4734,50,false,38894,9000,false,1500W\nBosch GSR10.8-Li Drill Driver,RD3021,25, true,9995,820, true,10.8V\n</code></pre>\n<p>A regular expression or two would work well (I made a couple of other minor changes too):</p>\n<pre><code>public void readToolData() {\n    Frame myFrame = new Frame();\n    FileDialog fileName = new FileDialog(myFrame, &quot;Select the file to load&quot;, FileDialog.LOAD);\n    fileName.setDirectory(&quot;/&quot;);\n    fileName.setVisible(true);\n\n    if (fileName.getDirectory() != null &amp;&amp; fileName.getFile() != null) {\n        String filePath = fileName.getDirectory() + fileName.getFile();\n        System.out.printf(&quot;Selected file: %1$s\\n&quot;, fileName);\n        \n        File fileData = new File(filePath);\n        String typeOfData = &quot;&quot;;\n        try {\n            // pattern for lines to be skipped\n            Pattern ptrnSkip = Pattern.compile(&quot;(?:^//|\\\\[)+?.*$&quot;);\n            // pattern for line delimiter - account for potential leading / trailing spaces\n            Pattern ptrnDlim = Pattern.compile(&quot; *, *&quot;);\n\n            // read the file line by line\n            try (Scanner scnrFile = new Scanner(fileData)) {\n                while (scnrFile.hasNextLine()) {\n                    String lineOfText = scnrFile.nextLine().trim();\n\n                    // skip empty lines and comments\n                    if (!lineOfText.isEmpty() &amp;&amp; !ptrnSkip.matcher(lineOfText).matches()) {\n                        System.out.printf(&quot;Line read: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\n                        typeOfData = lineOfText;\n                        try (Scanner scnrLine = new Scanner(lineOfText).useDelimiter(ptrnDlim)) {\n                            String strDesc = scnrLine.next();\n                            String strCode = scnrLine.next();\n                            int iBorrowedCount = scnrLine.nextInt();\n                            boolean bIsOnLoan = scnrLine.nextBoolean();\n                            int iCost = scnrLine.nextInt();\n                            int iWeight = scnrLine.nextInt();\n                            boolean bIsRechargeable = scnrLine.nextBoolean();\n                            String strPowerSrc = scnrLine.next();\n                            \n                            System.out.printf(&quot;    Description: %1$s\\n&quot;, strDesc);\n                            System.out.printf(&quot;    Code: %1$s\\n&quot;, strCode);\n                            System.out.printf(&quot;    Borrowed count: %1$d\\n&quot;, iBorrowedCount);\n                            System.out.printf(&quot;    Is on loan?: %1$s\\n&quot;, bIsOnLoan ? &quot;yes&quot; : &quot;no&quot;);\n                            System.out.printf(&quot;    Cost: %1$d\\n&quot;, iCost);\n                            System.out.printf(&quot;    Weight: %1$d\\n&quot;, iWeight);\n                            System.out.printf(&quot;    Is rechargeable?: %1$s\\n&quot;, bIsRechargeable ? &quot;yes&quot; : &quot;no&quot;);\n                            System.out.printf(&quot;    Power source: %1$s\\n&quot;, strPowerSrc);\n\n                            Tool t = new Tool();\n                            // do something with data here\n                            this.storeTool(t);\n                        }\n                    } else {\n                        System.out.printf(&quot;Line skipped: \\&quot;%1$s\\&quot;\\n&quot;, lineOfText);\n                    }\n                }\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n    } else {\n        System.out.println(&quot;No file selected&quot;);\n    }\n}\n</code></pre>\n<p>The <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons CSV library</a> is nice for reading delimited data.  <a href=\"https://www.baeldung.com/apache-commons-csv\" rel=\"nofollow noreferrer\">Here</a> is a short intro if you're interested.</p>\n"}],"owner":{"account_id":27898378,"reputation":13,"user_id":21303169,"display_name":"unknown"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75595105,"answer_count":1,"score":-1,"last_activity_date":1677603460,"creation_date":1677577117,"question_id":75590217,"body_markdown":"I have to read a txt file using file-dialog. It works for me but I have an if statement which should ignore (&quot;/&quot;), blank lines and (&quot;\\[&quot;). The if-statement is not working, output is just the original data in txt file, how can I fix it.  Below is the full method.\r\n\r\nI&#39;m expecting the data of txt file to be without &quot;/&quot; and &quot;\\[&quot;\r\n\r\n    \r\n    public void readToolData() { Frame myFrame = new Frame(); FileDialog fileName = new FileDialog(myFrame, &quot;Open&quot;, FileDialog.LOAD); fileName.setDirectory(&quot;/&quot;); fileName.setVisible(true);\r\n    \r\n    if (fileName != null) {\r\n    String filePath = fileName.getDirectory() + fileName.getFile();\r\n    System.out.println(&quot;selected file:&quot; + fileName);\r\n    File fileData = new File(filePath);\r\n        \r\n     String typeOfData = &quot;&quot;;\r\n    \r\n     try {\r\n    // reading the file line by line scanner\r\n        Scanner read = new Scanner(fileData);\r\n         while (read.hasNextLine()) {\r\n    String lineOfText = read.nextLine().trim();\r\n    System.out.println(lineOfText);\r\n    // checking non empty or non comment | added ! to the or condition\r\n    if (!lineOfText.startsWith(&quot;/&quot;) &amp;&amp; !lineOfText.startsWith(&quot;[&quot;) || lineOfText.isEmpty())\r\n    {\r\n    typeOfData = lineOfText;\r\n    Scanner lineReader = new Scanner(lineOfText).useDelimiter(&quot;,&quot;);\r\n    Tool t = new Tool();\r\n    this.storeTool(t);\r\n          } } catch (FileNotFoundException e) { System.out.println(e.getMessage()); } } else { System.out.println(&quot;Error! No file selected!&quot;); } }\r\n\r\n    ","title":"Program is reading txt file but ignoring the if statement","body":"<p>I have to read a txt file using file-dialog. It works for me but I have an if statement which should ignore (&quot;/&quot;), blank lines and (&quot;[&quot;). The if-statement is not working, output is just the original data in txt file, how can I fix it.  Below is the full method.</p>\n<p>I'm expecting the data of txt file to be without &quot;/&quot; and &quot;[&quot;</p>\n<pre><code>public void readToolData() { Frame myFrame = new Frame(); FileDialog fileName = new FileDialog(myFrame, &quot;Open&quot;, FileDialog.LOAD); fileName.setDirectory(&quot;/&quot;); fileName.setVisible(true);\n\nif (fileName != null) {\nString filePath = fileName.getDirectory() + fileName.getFile();\nSystem.out.println(&quot;selected file:&quot; + fileName);\nFile fileData = new File(filePath);\n    \n String typeOfData = &quot;&quot;;\n\n try {\n// reading the file line by line scanner\n    Scanner read = new Scanner(fileData);\n     while (read.hasNextLine()) {\nString lineOfText = read.nextLine().trim();\nSystem.out.println(lineOfText);\n// checking non empty or non comment | added ! to the or condition\nif (!lineOfText.startsWith(&quot;/&quot;) &amp;&amp; !lineOfText.startsWith(&quot;[&quot;) || lineOfText.isEmpty())\n{\ntypeOfData = lineOfText;\nScanner lineReader = new Scanner(lineOfText).useDelimiter(&quot;,&quot;);\nTool t = new Tool();\nthis.storeTool(t);\n      } } catch (FileNotFoundException e) { System.out.println(e.getMessage()); } } else { System.out.println(&quot;Error! No file selected!&quot;); } }\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1677445309,"post_id":75574924,"comment_id":133334619,"body_markdown":"Could you show the code you have tried please?","body":"Could you show the code you have tried please?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1677446905,"post_id":75574924,"comment_id":133334836,"body_markdown":"if you need `groupingBy`: `var temp = mapPaymentWithError.entrySet().stream().collect(Collectors.groupingBy(e -&gt; e.getValue()==null));` and then `temp.get(true)` and `temp.get(false)`","body":"if you need <code>groupingBy</code>: <code>var temp = mapPaymentWithError.entrySet().stream().collect(Collectors.g&zwnj;&#8203;roupingBy(e -&gt; e.getValue()==null));</code> and then <code>temp.get(true)</code> and <code>temp.get(false)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677603096,"creation_date":1677446084,"answer_id":75575052,"question_id":75574924,"body_markdown":"Do you mean something like this?\r\n\r\n    public class ListFiltering {\r\n    \r\n       public static void main( String[] args ) {\r\n          Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;();\r\n          mapPaymentWithError.put( new Payment( &quot;1&quot; ), &quot;1&quot; );\r\n          mapPaymentWithError.put( new Payment( &quot;null&quot; ), null );\r\n          \r\n          List&lt;Payment&gt; withNullErrors = mapPaymentWithError.entrySet().stream()\r\n                  .filter( e -&gt;  e.getValue() == null  )\r\n                  .map( e -&gt; e.getKey() )\r\n                  .toList();\r\n          \r\n          List&lt;Payment&gt; withErrors  = mapPaymentWithError.entrySet().stream()\r\n                  .filter( e -&gt;  e.getValue() != null  )\r\n                  .map( e -&gt; e.getKey() )\r\n                  .toList();\r\n          \r\n          System.out.println( &quot;with null errors: &quot; + withNullErrors );\r\n          System.out.println( &quot;with other errors: &quot; + withErrors );\r\n       }\r\n   \r\n       static record Payment( String id ) {}\r\n    }\r\n","title":"Java HashMap take out keys based on value","body":"<p>Do you mean something like this?</p>\n<pre><code>public class ListFiltering {\n\n   public static void main( String[] args ) {\n      Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;();\n      mapPaymentWithError.put( new Payment( &quot;1&quot; ), &quot;1&quot; );\n      mapPaymentWithError.put( new Payment( &quot;null&quot; ), null );\n      \n      List&lt;Payment&gt; withNullErrors = mapPaymentWithError.entrySet().stream()\n              .filter( e -&gt;  e.getValue() == null  )\n              .map( e -&gt; e.getKey() )\n              .toList();\n      \n      List&lt;Payment&gt; withErrors  = mapPaymentWithError.entrySet().stream()\n              .filter( e -&gt;  e.getValue() != null  )\n              .map( e -&gt; e.getKey() )\n              .toList();\n      \n      System.out.println( &quot;with null errors: &quot; + withNullErrors );\n      System.out.println( &quot;with other errors: &quot; + withErrors );\n   }\n\n   static record Payment( String id ) {}\n}\n</code></pre>\n"}],"owner":{"account_id":15204851,"reputation":21,"user_id":16687260,"display_name":"Ravi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75575052,"answer_count":1,"score":-1,"last_activity_date":1677603096,"creation_date":1677444565,"question_id":75574924,"body_markdown":"This is my Hashmap in which the key is a model `Payment` and value is a `String`, which is an Error occurred during payment.\r\n\r\n`Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;()`\r\n\r\nIf there are no errors in Payment we are storing String value as null and the key as Payment model data.\r\n\r\nI am trying to group Payment based on whether error `String` was `Null` or `NotNull` from above HashMap which is having many records.\r\n\r\nLike below\r\n\r\n`List&lt;Payment&gt; withNullErrors = .............. // having String value as Null\r\nList&lt;Payment&gt; withErrors = ................... // having String value as NotNull`\r\n\r\nHow to do this ?\r\n\r\nTried using Collectors.GroupingBy and other ways but its not working","title":"Java HashMap take out keys based on value","body":"<p>This is my Hashmap in which the key is a model <code>Payment</code> and value is a <code>String</code>, which is an Error occurred during payment.</p>\n<p><code>Map&lt;Payment, String&gt; mapPaymentWithError = new HashMap&lt;&gt;()</code></p>\n<p>If there are no errors in Payment we are storing String value as null and the key as Payment model data.</p>\n<p>I am trying to group Payment based on whether error <code>String</code> was <code>Null</code> or <code>NotNull</code> from above HashMap which is having many records.</p>\n<p>Like below</p>\n<p><code>List&lt;Payment&gt; withNullErrors = .............. // having String value as Null List&lt;Payment&gt; withErrors = ................... // having String value as NotNull</code></p>\n<p>How to do this ?</p>\n<p>Tried using Collectors.GroupingBy and other ways but its not working</p>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":371409,"reputation":1563,"user_id":719919,"accept_rate":76,"display_name":"SemperFly"},"score":0,"creation_date":1326653530,"post_id":8867312,"comment_id":11088039,"body_markdown":"jars was a typo; meant .java. Thank you!","body":"jars was a typo; meant .java. Thank you!"}],"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1326597763,"creation_date":1326597763,"answer_id":8867312,"question_id":8867284,"body_markdown":"Right-click on the project, click &quot;Properties&quot;.  Click on &quot;Java Build Path&quot;.\r\n\r\nIf you want to add pre-compiled *.class files, go to the &quot;Libraries&quot; tab, then use &quot;Add Class Folder...&quot;.\r\n\r\nIf you want to add additional source folders (containing *.java files), from the same dialog, go back to the &quot;Source&quot; tab, then use &quot;Add Folder...&quot;.\r\n\r\nThis will accomplish everything you asked for beyond your first sentence, which mentions JAR files.  In order to add these (if you have them), use the &quot;Add JARs...&quot; button from the same &quot;Libraries&quot; tab as mentioned above.","title":"Add Amazon Product Advertising API files as Dependencies in my Eclipse Project","body":"<p>Right-click on the project, click \"Properties\".  Click on \"Java Build Path\".</p>\n\n<p>If you want to add pre-compiled *.class files, go to the \"Libraries\" tab, then use \"Add Class Folder...\".</p>\n\n<p>If you want to add additional source folders (containing *.java files), from the same dialog, go back to the \"Source\" tab, then use \"Add Folder...\".</p>\n\n<p>This will accomplish everything you asked for beyond your first sentence, which mentions JAR files.  In order to add these (if you have them), use the \"Add JARs...\" button from the same \"Libraries\" tab as mentioned above.</p>\n"}],"owner":{"account_id":371409,"reputation":1563,"user_id":719919,"accept_rate":76,"display_name":"SemperFly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8867312,"answer_count":1,"score":2,"last_activity_date":1677602994,"creation_date":1326597114,"question_id":8867284,"body_markdown":"I followed the instructions [here][1] to generate the java files for Amazon&#39;s Product Advertising API. I&#39;m currently left with a directory tree like so...\r\n\r\n\r\n    C:.\r\n    ├───build\r\n    │   └───com\r\n    │       └───ECS\r\n    │           └───client\r\n    │               └───jax\r\n    └───src\r\n        └───com\r\n            └───ECS\r\n                └───client\r\n                    └───jax\r\n\r\n\r\n...that contains .class and .java files. I had thought my understanding of Eclipse was adequate enough to complete a task like this but I can&#39;t for the life of me figure out how to add those files as dependencies within my project.\r\n\r\nSo far I&#39;ve tried to import as a project and create a new project from existing jars but have had no success.\r\n\r\nHow the heck do I do this?!\r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSECommerceService/2010-11-01/GSG/index.html?YourDevelopmentEnvironment.html\r\n","title":"Add Amazon Product Advertising API files as Dependencies in my Eclipse Project","body":"<p>I followed the instructions <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2010-11-01/GSG/index.html?YourDevelopmentEnvironment.html\" rel=\"nofollow\">here</a> to generate the java files for Amazon's Product Advertising API. I'm currently left with a directory tree like so...</p>\n\n<pre><code>C:.\n├───build\n│   └───com\n│       └───ECS\n│           └───client\n│               └───jax\n└───src\n    └───com\n        └───ECS\n            └───client\n                └───jax\n</code></pre>\n\n<p>...that contains .class and .java files. I had thought my understanding of Eclipse was adequate enough to complete a task like this but I can't for the life of me figure out how to add those files as dependencies within my project.</p>\n\n<p>So far I've tried to import as a project and create a new project from existing jars but have had no success.</p>\n\n<p>How the heck do I do this?!</p>\n"},{"tags":["java","spring-boot","constructor"],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638008587,"creation_date":1638008240,"answer_id":70133860,"question_id":70133616,"body_markdown":"```\r\n    public MyclassName(\r\n        List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n```\r\nThis means that your ```MyclassNames```, as a ```Configuration``` bean in ```Spring```, needs to inject a bean of type ```List&lt;String&gt;```, it happens that ```slueth```&#39;s ```TraceBaggageConfiguration``` class defines some beans of type ```List&lt;String&gt;```:\r\n\r\n\r\n```\r\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.baggage-keys&quot;})\r\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.baggage-keys&quot;)\r\n    java.util.List&lt;java.lang.String&gt; baggageKeys() { /* compiled code */ }\r\n\r\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.local-keys&quot;})\r\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.local-keys&quot;)\r\n    java.util.List&lt;java.lang.String&gt; localKeys() { /* compiled code */ }\r\n\r\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.propagation-keys&quot;})\r\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.propagation-keys&quot;)\r\n    java.util.List&lt;java.lang.String&gt; propagationKeys() { /* compiled code */ }\r\n```\r\nSo ```spring``` reported an error,  did not know which bean to inject. You may need to use ```Qualifier``` to specify the injected bean. Or, have you defined the corresponding bean which hash a  ```List&lt;String&gt;``` type need to be injected?  What is ```List&lt;String&gt; tableIds``` in your ```MyclassName```? You need to define a ```Bean``` like this:\r\n\r\n```\r\n    public MyclassNamesss(\r\n            @Qualifier(&quot;test&quot;) List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n\r\n    @Bean(&quot;test&quot;)\r\n    public List&lt;String&gt; myString() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n```\r\nOr you can use, in this case, the tableId will be ```null```:\r\n```\r\n    public MyclassName(\r\n            @Autowired(required = false) List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Unexpected error in spring boot constructor","body":"<pre><code>    public MyclassName(\n        List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n</code></pre>\n<p>This means that your <code>MyclassNames</code>, as a <code>Configuration</code> bean in <code>Spring</code>, needs to inject a bean of type <code>List&lt;String&gt;</code>, it happens that <code>slueth</code>'s <code>TraceBaggageConfiguration</code> class defines some beans of type <code>List&lt;String&gt;</code>:</p>\n<pre><code>    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.baggage-keys&quot;})\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.baggage-keys&quot;)\n    java.util.List&lt;java.lang.String&gt; baggageKeys() { /* compiled code */ }\n\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.local-keys&quot;})\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.local-keys&quot;)\n    java.util.List&lt;java.lang.String&gt; localKeys() { /* compiled code */ }\n\n    @org.springframework.context.annotation.Bean({&quot;spring.sleuth.propagation-keys&quot;})\n    @org.springframework.boot.context.properties.ConfigurationProperties(&quot;spring.sleuth.propagation-keys&quot;)\n    java.util.List&lt;java.lang.String&gt; propagationKeys() { /* compiled code */ }\n</code></pre>\n<p>So <code>spring</code> reported an error,  did not know which bean to inject. You may need to use <code>Qualifier</code> to specify the injected bean. Or, have you defined the corresponding bean which hash a  <code>List&lt;String&gt;</code> type need to be injected?  What is <code>List&lt;String&gt; tableIds</code> in your <code>MyclassName</code>? You need to define a <code>Bean</code> like this:</p>\n<pre><code>    public MyclassNamesss(\n            @Qualifier(&quot;test&quot;) List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n\n    @Bean(&quot;test&quot;)\n    public List&lt;String&gt; myString() {\n        return new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>Or you can use, in this case, the tableId will be <code>null</code>:</p>\n<pre><code>    public MyclassName(\n            @Autowired(required = false) List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922632,"reputation":2034,"user_id":3540652,"display_name":"Mumrah81"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638008638,"creation_date":1638008638,"answer_id":70133902,"question_id":70133616,"body_markdown":"The class `MyclassName` is known to the spring framework.\r\n\r\nSo spring will try to create an instance of `MyclassName` by using the constructor:\r\n\r\n    public MyclassName(List&lt;String&gt; tableIds)\r\n\r\nThe `Parameter 0 of constructor in MyclassName` is `List&lt;String&gt; tableIds`\r\n\r\nSpring is trying to provide a value for this parameter but instead of only one available value, it founds 4. So Spring is not intelligent enought to choose one in your place.\r\n\r\nThe 4 available values are provided by Sleuth and are declared in the TraceBaggageConfiguration.class like follow:\r\n\r\n    @Bean(BAGGAGE_KEYS)\r\n\t@ConfigurationProperties(BAGGAGE_KEYS)\r\n\tList&lt;String&gt; baggageKeys() {...}\r\n\r\n\t@Bean(LOCAL_KEYS)\r\n\t@ConfigurationProperties(LOCAL_KEYS)\r\n\tList&lt;String&gt; localKeys()  {...}\r\n\r\n\t@Bean(PROPAGATION_KEYS)\r\n\t@ConfigurationProperties(PROPAGATION_KEYS)\r\n\tList&lt;String&gt; propagationKeys()  {...}\r\n\r\n\t@Bean(WHITELISTED_MDC_KEYS)\r\n\t@ConfigurationProperties(WHITELISTED_MDC_KEYS)\r\n\tList&lt;String&gt; whiteListedMDCKeys()  {...}\r\n\r\n\r\nTo solve the indecision you need to tell Spring which `List&lt;String&gt;` you realy want injected in your constructor by using an unique identifier.\r\n\r\nFirst qualify (give an id) to the expected bean\r\n\r\n    @Bean(&quot;myExpectedTableIds&quot;)\r\n\tList&lt;String&gt; myTableIdsProcucerMethod()\r\n\r\nThen use the `org.springframework.beans.factory.annotation.Qualifier` annotation to tell Spring which bean you realy want:\r\n\r\n    public MyclassName(@Qualifier(&quot;myExpectedTableIds&quot;) List&lt;String&gt; tableIds)","title":"Unexpected error in spring boot constructor","body":"<p>The class <code>MyclassName</code> is known to the spring framework.</p>\n<p>So spring will try to create an instance of <code>MyclassName</code> by using the constructor:</p>\n<pre><code>public MyclassName(List&lt;String&gt; tableIds)\n</code></pre>\n<p>The <code>Parameter 0 of constructor in MyclassName</code> is <code>List&lt;String&gt; tableIds</code></p>\n<p>Spring is trying to provide a value for this parameter but instead of only one available value, it founds 4. So Spring is not intelligent enought to choose one in your place.</p>\n<p>The 4 available values are provided by Sleuth and are declared in the TraceBaggageConfiguration.class like follow:</p>\n<pre><code>@Bean(BAGGAGE_KEYS)\n@ConfigurationProperties(BAGGAGE_KEYS)\nList&lt;String&gt; baggageKeys() {...}\n\n@Bean(LOCAL_KEYS)\n@ConfigurationProperties(LOCAL_KEYS)\nList&lt;String&gt; localKeys()  {...}\n\n@Bean(PROPAGATION_KEYS)\n@ConfigurationProperties(PROPAGATION_KEYS)\nList&lt;String&gt; propagationKeys()  {...}\n\n@Bean(WHITELISTED_MDC_KEYS)\n@ConfigurationProperties(WHITELISTED_MDC_KEYS)\nList&lt;String&gt; whiteListedMDCKeys()  {...}\n</code></pre>\n<p>To solve the indecision you need to tell Spring which <code>List&lt;String&gt;</code> you realy want injected in your constructor by using an unique identifier.</p>\n<p>First qualify (give an id) to the expected bean</p>\n<pre><code>@Bean(&quot;myExpectedTableIds&quot;)\nList&lt;String&gt; myTableIdsProcucerMethod()\n</code></pre>\n<p>Then use the <code>org.springframework.beans.factory.annotation.Qualifier</code> annotation to tell Spring which bean you realy want:</p>\n<pre><code>public MyclassName(@Qualifier(&quot;myExpectedTableIds&quot;) List&lt;String&gt; tableIds)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677602912,"creation_date":1677602912,"answer_id":75595006,"question_id":70133616,"body_markdown":"For what it&#39;s worth, and because I found this post looking for the same error message, I was doing this in Spring Boot, using Lombok\r\ns `@RequiredArgsConstructor` to inject the `List&lt;String&gt;`:\r\n\r\n```\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\r\n    public static class SomeProperties {\r\n        @Getter\r\n        private final List&lt;String&gt; patterns;\r\n    }\r\n```\r\n\r\nand fixed it by initializing the list manually:\r\n\r\n```\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\r\n    public static class SomeProperties {\r\n        @Getter\r\n        private final List&lt;String&gt; patterns = new ArrayList&lt;&gt;();\r\n    }\r\n```\r\n\r\nthe list was then correctly populated with the spring properties.","title":"Unexpected error in spring boot constructor","body":"<p>For what it's worth, and because I found this post looking for the same error message, I was doing this in Spring Boot, using Lombok\ns <code>@RequiredArgsConstructor</code> to inject the <code>List&lt;String&gt;</code>:</p>\n<pre><code>    @Component\n    @RequiredArgsConstructor\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\n    public static class SomeProperties {\n        @Getter\n        private final List&lt;String&gt; patterns;\n    }\n</code></pre>\n<p>and fixed it by initializing the list manually:</p>\n<pre><code>    @Component\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\n    public static class SomeProperties {\n        @Getter\n        private final List&lt;String&gt; patterns = new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>the list was then correctly populated with the spring properties.</p>\n"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677602912,"creation_date":1638005974,"question_id":70133616,"body_markdown":"I wrote a sample program like below.\r\n\r\n```\r\n@Configuration\r\npublic class MyclassName{\r\n\r\n    private final List&lt;String&gt; tableIds;\r\n\r\n    public MyclassName(\r\n        List&lt;String&gt; tableIds) {\r\n        this.tableIds = tableIds;\r\n    }\r\n}\r\n```\r\nWhile running i am getting the below error.\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in MyclassName required a single bean, but 4 were found:\r\n\t- spring.sleuth.baggage-keys: defined by method &#39;baggageKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\t- spring.sleuth.local-keys: defined by method &#39;localKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\t- spring.sleuth.propagation-keys: defined by method &#39;propagationKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\t- spring.sleuth.log.slf4j.whitelisted-mdc-keys: defined by method &#39;whiteListedMDCKeys&#39; in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\r\n\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nWe are using sleuth for tracing, so pom.xml has that dependencies aswell. But this is a very basic example, why iam getting this error. Can anyone help on this?","title":"Unexpected error in spring boot constructor","body":"<p>I wrote a sample program like below.</p>\n<pre><code>@Configuration\npublic class MyclassName{\n\n    private final List&lt;String&gt; tableIds;\n\n    public MyclassName(\n        List&lt;String&gt; tableIds) {\n        this.tableIds = tableIds;\n    }\n}\n</code></pre>\n<p>While running i am getting the below error.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in MyclassName required a single bean, but 4 were found:\n    - spring.sleuth.baggage-keys: defined by method 'baggageKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n    - spring.sleuth.local-keys: defined by method 'localKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n    - spring.sleuth.propagation-keys: defined by method 'propagationKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n    - spring.sleuth.log.slf4j.whitelisted-mdc-keys: defined by method 'whiteListedMDCKeys' in class path resource [org/springframework/cloud/sleuth/autoconfig/TraceBaggageConfiguration.class]\n\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>We are using sleuth for tracing, so pom.xml has that dependencies aswell. But this is a very basic example, why iam getting this error. Can anyone help on this?</p>\n"},{"tags":["java","eclipse","tomcat","jdbc"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1677590119,"post_id":75592241,"comment_id":133364576,"body_markdown":"You don&#39;t have an index.html or index.jsp or welcome file specified in your web.xml.","body":"You don&#39;t have an index.html or index.jsp or welcome file specified in your web.xml."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1677602452,"post_id":75592241,"comment_id":133368833,"body_markdown":"Tomcat 10 provides Servlet API 5. If you want to use 4.0, you must go back to Tomcat 9.x. Do not put an older version of the Servlet API into your own WEB-INF/lib folder to get around this. Tomcat already provides you with its version, and that&#39;s the version of the Interfaces and base Classes it expects to be able to use to call your Servlets. Also, you have not show the 404 error at all, not what was requested, nor the server output from it.","body":"Tomcat 10 provides Servlet API 5. If you want to use 4.0, you must go back to Tomcat 9.x. Do not put an older version of the Servlet API into your own WEB-INF/lib folder to get around this. Tomcat already provides you with its version, and that&#39;s the version of the Interfaces and base Classes it expects to be able to use to call your Servlets. Also, you have not show the 404 error at all, not what was requested, nor the server output from it."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1677609973,"post_id":75592241,"comment_id":133370894,"body_markdown":"Does this answer your question? [Servlet returns &quot;HTTP Status 404 The requested resource (/servlet) is not available&quot;](https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa\">Servlet returns &quot;HTTP Status 404 The requested resource (/servlet) is not available&quot;</a>"}],"owner":{"account_id":26378588,"reputation":209,"user_id":20032193,"display_name":"Agnum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1677602874,"creation_date":1677588255,"question_id":75592241,"body_markdown":"  \r\n\r\nServlet\r\n\r\n    package com.crud.app;\r\n    \r\n    import java.io.IOException;\r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n    \r\n    import javax.servlet.RequestDispatcher;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.sql.DataSource;\r\n    \r\n    import jakarta.annotation.Resource;\r\n    \r\n    /**\r\n     * Servlet implementation class ServletUtil\r\n     */\r\n    @WebServlet(&quot;/ServletUtil&quot;)\r\n    public class ServletUtil extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Resource(name=&quot;jdbc/web_student_tracker&quot;)//db name\r\n    \tpublic StudentDbUtil studentDB;\r\n        private DataSource datasource;//connection pool\r\n             \r\n        public ServletUtil() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void init() throws ServletException {//will be intialised when the server is called\r\n    \t\tsuper.init();\r\n    \t\ttry {\r\n    \t\t\tstudentDB=new StudentDbUtil(datasource);//passing the connection pool\r\n    \t\t}\r\n    \t\tcatch(Exception es) {//if db has an error\r\n    \t\t\tes.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \ttry {\r\n    \t\tlistStudent(request,response);\r\n    \t} catch (SQLException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t}\r\n    \r\n    \tprivate void listStudent(HttpServletRequest request, HttpServletResponse response) throws SQLException, ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tList&lt;StudentModel&gt; studentData=studentDB.getStudent();//get student data\r\n    \t\trequest.setAttribute(&quot;STUDENT_DATA&quot;, studentData);//setting an attribute so that can be iterated\r\n    \t\tRequestDispatcher dispatcher=request.getRequestDispatcher(&quot;/listStudent.jsp&quot;);//dispatching to jsp\r\n    \t\tdispatcher.forward(request, response);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n \r\n \r\nWeb.xml\r\n\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n             \r\n      &lt;display-name&gt;Student Tracker App&lt;/display-name&gt;\r\n    \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.crud.app.ServletUtil&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/ServletUtil&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    \r\n      &lt;error-page&gt;\r\n        &lt;error-code&gt;404&lt;/error-code&gt;\r\n        &lt;location&gt;/error.jsp&lt;/location&gt;\r\n      &lt;/error-page&gt;\r\n    \r\n      &lt;resource-ref&gt;\r\n        &lt;description&gt;DB Connection&lt;/description&gt;\r\n        &lt;res-ref-name&gt;jdbc/web_student_tracker&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n      &lt;/resource-ref&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n   \r\nDB UTILITY\r\n\r\n    package com.crud.app;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    public class StudentDbUtil {\r\n    public DataSource datasource;\r\n    \r\n    public StudentDbUtil(DataSource thedatasource) {\r\n    \tdatasource=thedatasource;\r\n    }\r\n    public List&lt;StudentModel&gt;getStudent() throws SQLException{\r\n    \t\r\n    \tList&lt;StudentModel&gt; newList=new ArrayList&lt;&gt;();\r\n    \tConnection mycnt=null;\r\n    \tStatement mystatement=null;\r\n    \tResultSet result=null;\r\n    \ttry {\r\n    \t\tmycnt=datasource.getConnection();\r\n    \t\tString sqlQuery=&quot;select * from student order by last_name&quot;;\r\n    \t\tmystatement=mycnt.createStatement();\r\n    \t\tresult=mystatement.executeQuery(sqlQuery);\r\n    \t\t\r\n    \t\twhile(result.next()) {\r\n    \t\t\t//retrieve dsta\r\n    \t\t\tint id=result.getInt(&quot;id&quot;);\r\n    \t\t\tString firstName=result.getString(&quot;firstName&quot;);\r\n    \t\t\tString lastName=result.getString(&quot;lastName&quot;);\r\n    \t\t\tString email=result.getString(&quot;email&quot;);\r\n    \t\t\t//create an object\r\n    \t\t\tStudentModel studentDataObj=new StudentModel(id,firstName,lastName,email);\r\n    \t\tSystem.out.println(studentDataObj + &quot;obj&quot;);\r\n    \t\tnewList.add(studentDataObj);\r\n    \t\t}\r\n    \t\treturn newList;\r\n    \r\n    \t}\r\n    \tfinally {\r\n    \t\tclose(mycnt,mystatement,result);\r\n    \t}\r\n    \t\r\n    }\r\n    private void close(Connection mycnt, Statement mystatement, ResultSet result) {\r\n    //to prevent memory leak\r\n    \ttry {\r\n    \t\tif(mycnt!=null) {\r\n    \t\t\tmycnt.close();\r\n    \t\t}\r\n    \t\tif(mystatement!=null) {\r\n    \t\t\tmystatement.close();\r\n    \t\t}\r\n    \t\tif(result!=null) {\r\n    \t\t\tmystatement.close();\r\n    \t\t}\r\n    \t}\r\n    \tcatch(Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n    }\r\n\r\n\r\nModel Class\r\n\r\n    package com.crud.app;\r\n    \r\n    public class StudentModel {\r\n    public int id;\r\n    \r\n    public String firstName;\r\n    public String lastName;\r\n    public String email;\r\n    public StudentModel(String firstName, String lastName, String email) {\r\n    \tthis.firstName = firstName;\r\n    \tthis.lastName = lastName;\r\n    \tthis.email = email;\r\n    }\r\n    \r\n    public StudentModel(int id, String firstName, String lastName, String email) {\r\n    \tthis.id = id;\r\n    \tthis.firstName = firstName;\r\n    \tthis.lastName = lastName;\r\n    \tthis.email = email;\r\n    }\r\n    public int getId() {\r\n    \treturn id;\r\n    }\r\n    \r\n    public void setId(int id) {\r\n    \tthis.id = id;\r\n    }\r\n    \r\n    public String getFirstName() {\r\n    \treturn firstName;\r\n    }\r\n    \r\n    public void setFirstName(String firstName) {\r\n    \tthis.firstName = firstName;\r\n    }\r\n    \r\n    public String getLastName() {\r\n    \treturn lastName;\r\n    }\r\n    \r\n    public void setLastName(String lastName) {\r\n    \tthis.lastName = lastName;\r\n    }\r\n    \r\n    public String getEmail() {\r\n    \treturn email;\r\n    }\r\n    \r\n    public void setEmail(String email) {\r\n    \tthis.email = email;\r\n    }\r\n    \r\n    \r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\nWhile running this project on server it is returning 404 on browser with a Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.I still cannot understand what is behind this.Any help would be much appreciated.\r\nFrom this image the path and file structure can be analysed.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zppkh.png\r\n","title":"Apache Tomcat 10.1 returning 404 while running this small project","body":"<p>Servlet</p>\n<pre><code>package com.crud.app;\n\nimport java.io.IOException;\nimport java.sql.SQLException;\nimport java.util.List;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.sql.DataSource;\n\nimport jakarta.annotation.Resource;\n\n/**\n * Servlet implementation class ServletUtil\n */\n@WebServlet(&quot;/ServletUtil&quot;)\npublic class ServletUtil extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    \n    @Resource(name=&quot;jdbc/web_student_tracker&quot;)//db name\n    public StudentDbUtil studentDB;\n    private DataSource datasource;//connection pool\n         \n    public ServletUtil() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void init() throws ServletException {//will be intialised when the server is called\n        super.init();\n        try {\n            studentDB=new StudentDbUtil(datasource);//passing the connection pool\n        }\n        catch(Exception es) {//if db has an error\n            es.printStackTrace();\n        }\n        \n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    try {\n        listStudent(request,response);\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    }\n\n    private void listStudent(HttpServletRequest request, HttpServletResponse response) throws SQLException, ServletException, IOException {\n        // TODO Auto-generated method stub\n        List&lt;StudentModel&gt; studentData=studentDB.getStudent();//get student data\n        request.setAttribute(&quot;STUDENT_DATA&quot;, studentData);//setting an attribute so that can be iterated\n        RequestDispatcher dispatcher=request.getRequestDispatcher(&quot;/listStudent.jsp&quot;);//dispatching to jsp\n        dispatcher.forward(request, response);\n    }\n\n\n\n}\n</code></pre>\n<p>Web.xml</p>\n   \n<pre><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n         \n  &lt;display-name&gt;Student Tracker App&lt;/display-name&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.crud.app.ServletUtil&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;ServletUtil&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ServletUtil&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/error.jsp&lt;/location&gt;\n  &lt;/error-page&gt;\n\n  &lt;resource-ref&gt;\n    &lt;description&gt;DB Connection&lt;/description&gt;\n    &lt;res-ref-name&gt;jdbc/web_student_tracker&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n  &lt;/resource-ref&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>DB UTILITY</p>\n<pre><code>package com.crud.app;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.sql.DataSource;\n\npublic class StudentDbUtil {\npublic DataSource datasource;\n\npublic StudentDbUtil(DataSource thedatasource) {\n    datasource=thedatasource;\n}\npublic List&lt;StudentModel&gt;getStudent() throws SQLException{\n    \n    List&lt;StudentModel&gt; newList=new ArrayList&lt;&gt;();\n    Connection mycnt=null;\n    Statement mystatement=null;\n    ResultSet result=null;\n    try {\n        mycnt=datasource.getConnection();\n        String sqlQuery=&quot;select * from student order by last_name&quot;;\n        mystatement=mycnt.createStatement();\n        result=mystatement.executeQuery(sqlQuery);\n        \n        while(result.next()) {\n            //retrieve dsta\n            int id=result.getInt(&quot;id&quot;);\n            String firstName=result.getString(&quot;firstName&quot;);\n            String lastName=result.getString(&quot;lastName&quot;);\n            String email=result.getString(&quot;email&quot;);\n            //create an object\n            StudentModel studentDataObj=new StudentModel(id,firstName,lastName,email);\n        System.out.println(studentDataObj + &quot;obj&quot;);\n        newList.add(studentDataObj);\n        }\n        return newList;\n\n    }\n    finally {\n        close(mycnt,mystatement,result);\n    }\n    \n}\nprivate void close(Connection mycnt, Statement mystatement, ResultSet result) {\n//to prevent memory leak\n    try {\n        if(mycnt!=null) {\n            mycnt.close();\n        }\n        if(mystatement!=null) {\n            mystatement.close();\n        }\n        if(result!=null) {\n            mystatement.close();\n        }\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>Model Class</p>\n<pre><code>package com.crud.app;\n\npublic class StudentModel {\npublic int id;\n\npublic String firstName;\npublic String lastName;\npublic String email;\npublic StudentModel(String firstName, String lastName, String email) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n}\n\npublic StudentModel(int id, String firstName, String lastName, String email) {\n    this.id = id;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n}\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zppkh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zppkh.png\" alt=\"enter image description here\" /></a>\nWhile running this project on server it is returning 404 on browser with a Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.I still cannot understand what is behind this.Any help would be much appreciated.\nFrom this image the path and file structure can be analysed.</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"answers":[{"comments":[{"owner":{"account_id":181832,"reputation":1454,"user_id":416104,"accept_rate":61,"display_name":"Cristiano"},"score":2,"creation_date":1379443531,"post_id":11314333,"comment_id":27825189,"body_markdown":"could you explain what should we do with this generated pom ?","body":"could you explain what should we do with this generated pom ?"},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":1,"creation_date":1379446148,"post_id":11314333,"comment_id":27826731,"body_markdown":"Nothing. Add it to your .gitignore file or set svn:ignore on it. Maven makes it so that it can include it in the shaded jar.","body":"Nothing. Add it to your .gitignore file or set svn:ignore on it. Maven makes it so that it can include it in the shaded jar."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":5,"creation_date":1398852455,"post_id":11314333,"comment_id":35824372,"body_markdown":"What do you mean by `You may not like the consequences`? What are the negative consequences?","body":"What do you mean by <code>You may not like the consequences</code>? What are the negative consequences?"}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":3,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1504503569,"creation_date":1341329580,"answer_id":11314333,"question_id":11314182,"body_markdown":"See https://issues.apache.org/jira/browse/MSHADE-121, and also https://issues.apache.org/jira/browse/MSHADE-124.\r\n\r\nThere is an option to move the d-r-p to elsewhere, but you may not like the consequences.\r\n\r\nYou are wrong about the -shaded jar, it always ends up in target/ unless you move it elsewhere.\r\n","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>See <a href=\"https://issues.apache.org/jira/browse/MSHADE-121\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MSHADE-121</a>, and also <a href=\"https://issues.apache.org/jira/browse/MSHADE-124\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MSHADE-124</a>.</p>\n\n<p>There is an option to move the d-r-p to elsewhere, but you may not like the consequences.</p>\n\n<p>You are wrong about the -shaded jar, it always ends up in target/ unless you move it elsewhere.</p>\n"},{"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":20,"creation_date":1341423346,"post_id":11322920,"comment_id":14921392,"body_markdown":"If you turn it off, then the thing you build will still have all the merged-in dependencies listed as dependencies.","body":"If you turn it off, then the thing you build will still have all the merged-in dependencies listed as dependencies."}],"tags":[],"owner":{"account_id":85983,"reputation":4648,"user_id":239408,"accept_rate":62,"display_name":"xverges"},"comment_count":1,"down_vote_count":1,"up_vote_count":84,"is_accepted":true,"score":83,"last_activity_date":1677601746,"creation_date":1341379898,"answer_id":11322920,"question_id":11314182,"body_markdown":"You can avoid having it created by setting `createDependencyReducedPom` to false.\r\n\r\ne.g.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n        &lt;/configuration&gt;\r\n        ....\r\n        ....\r\n    &lt;/plugin&gt;\r\n\r\nSee http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom \r\n\r\n\r\n&gt; **\\&lt;createDependencyReducedPom\\&gt;**\r\n&gt;\r\n&gt;Flag whether to generate a simplified POM for the shaded artifact. If set to true, dependencies that have been included into the uber JAR will be removed from the &lt;dependencies&gt; section of the generated POM. The reduced POM will be named dependency-reduced-pom.xml and is stored into the same directory as the shaded artifact. Unless you also specify dependencyReducedPomLocation, the plugin will create a temporary file named dependency-reduced-pom.xml in the project basedir.\r\n&gt;* **Type**: boolean\r\n&gt;* **Required**: No\r\n&gt;* **Default**: true\r\n","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>You can avoid having it created by setting <code>createDependencyReducedPom</code> to false.</p>\n<p>e.g.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n    &lt;/configuration&gt;\n    ....\n    ....\n&lt;/plugin&gt;\n</code></pre>\n<p>See <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#createDependencyReducedPom</a></p>\n<blockquote>\n<p><strong>&lt;createDependencyReducedPom&gt;</strong></p>\n<p>Flag whether to generate a simplified POM for the shaded artifact. If set to true, dependencies that have been included into the uber JAR will be removed from the  section of the generated POM. The reduced POM will be named dependency-reduced-pom.xml and is stored into the same directory as the shaded artifact. Unless you also specify dependencyReducedPomLocation, the plugin will create a temporary file named dependency-reduced-pom.xml in the project basedir.</p>\n<ul>\n<li><strong>Type</strong>: boolean</li>\n<li><strong>Required</strong>: No</li>\n<li><strong>Default</strong>: true</li>\n</ul>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":8,"creation_date":1415300540,"post_id":25917329,"comment_id":42151095,"body_markdown":"they write (even in your answer you can see): &quot;the plugin will create a temporary file named dependency-reduced-pom.xml in the project basedir&quot;","body":"they write (even in your answer you can see): &quot;the plugin will create a temporary file named dependency-reduced-pom.xml in the project basedir&quot;"}],"tags":[],"owner":{"account_id":5000508,"reputation":47,"user_id":4019694,"display_name":"nanite"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1411059570,"creation_date":1411055863,"answer_id":25917329,"question_id":11314182,"body_markdown":"the documentation on http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html is incorrect when it says:\r\n\r\n&gt; createDependencyReducedPom\tboolean\t-\tFlag whether to generate a\r\n&gt; simplified POM for the shaded artifact. If set to true, dependencies\r\n&gt; that have been included into the uber JAR will be removed from the\r\n&gt; &lt;dependencies&gt; section of the generated POM. The reduced POM will be\r\n&gt; named dependency-reduced-pom.xml and is stored into the same directory\r\n&gt; as the shaded artifact. Unless you also specify\r\n&gt; dependencyReducedPomLocation, the plugin will create a temporary file\r\n&gt; named dependency-reduced-pom.xml in the project basedir. Default value\r\n&gt; is: true.\r\n\r\nthe dependency-reduced-pom.xml is *not* stored in the same directory as the shaded artifact (target directory) ... it is in fact generated in the base directory, not target","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>the documentation on <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\" rel=\"nofollow\">http://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html</a> is incorrect when it says:</p>\n\n<blockquote>\n  <p>createDependencyReducedPom    boolean -   Flag whether to generate a\n  simplified POM for the shaded artifact. If set to true, dependencies\n  that have been included into the uber JAR will be removed from the\n   section of the generated POM. The reduced POM will be\n  named dependency-reduced-pom.xml and is stored into the same directory\n  as the shaded artifact. Unless you also specify\n  dependencyReducedPomLocation, the plugin will create a temporary file\n  named dependency-reduced-pom.xml in the project basedir. Default value\n  is: true.</p>\n</blockquote>\n\n<p>the dependency-reduced-pom.xml is <em>not</em> stored in the same directory as the shaded artifact (target directory) ... it is in fact generated in the base directory, not target</p>\n"},{"comments":[{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":3,"creation_date":1479328856,"post_id":26406317,"comment_id":68515842,"body_markdown":"Bevare of this, from the plugin documentation &quot;Where to put the dependency reduced pom. Note: setting a value for this parameter with a directory other than ${basedir} will change the value of ${basedir} for all executions that come after the shade execution. This is often not what you want. This is considered an open issue with this plugin.&quot;","body":"Bevare of this, from the plugin documentation &quot;Where to put the dependency reduced pom. Note: setting a value for this parameter with a directory other than ${basedir} will change the value of ${basedir} for all executions that come after the shade execution. This is often not what you want. This is considered an open issue with this plugin.&quot;"}],"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1413467863,"creation_date":1413467863,"answer_id":26406317,"question_id":11314182,"body_markdown":"Based on **bmargulies**&#39; answer and his comment on **Xv.**&#39;s answer, I decided to configure the dependency-reduced POM to be output to `target/`, which is already ignored in my VCS.\r\n\r\nTo do that, I just added the `dependencyReducedPomLocation` element to the `configuration` element of the plugin, i.e.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n      &lt;dependencyReducedPomLocation&gt;${project.build.directory}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\r\n      (...)\r\n    &lt;/configuration&gt;","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>Based on <strong>bmargulies</strong>' answer and his comment on <strong>Xv.</strong>'s answer, I decided to configure the dependency-reduced POM to be output to <code>target/</code>, which is already ignored in my VCS.</p>\n\n<p>To do that, I just added the <code>dependencyReducedPomLocation</code> element to the <code>configuration</code> element of the plugin, i.e.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;dependencyReducedPomLocation&gt;${project.build.directory}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\n  (...)\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3364006,"reputation":31,"user_id":2825157,"display_name":"canadianveggie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413477963,"creation_date":1413477963,"answer_id":26409707,"question_id":11314182,"body_markdown":"You could use an old version of the plugin. Version 1.7 of the maven-shade-plugin writes to /target.\r\n\r\nSince version 1.7.1, dependency-reduced pom.xml is written to basedir. See the issue [MSHADE-124](http://jira.codehaus.org/browse/MSHADE-124) for some reasons why it was done and what the consequences are. If you try setting *dependencyReducedPomLocation*, you will likely run into problems generating the site - open issue [MSHADE-145](http://jira.codehaus.org/browse/MSHADE-145).","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>You could use an old version of the plugin. Version 1.7 of the maven-shade-plugin writes to /target.</p>\n\n<p>Since version 1.7.1, dependency-reduced pom.xml is written to basedir. See the issue <a href=\"http://jira.codehaus.org/browse/MSHADE-124\" rel=\"nofollow\">MSHADE-124</a> for some reasons why it was done and what the consequences are. If you try setting <em>dependencyReducedPomLocation</em>, you will likely run into problems generating the site - open issue <a href=\"http://jira.codehaus.org/browse/MSHADE-145\" rel=\"nofollow\">MSHADE-145</a>.</p>\n"},{"tags":[],"owner":{"account_id":127944,"reputation":12148,"user_id":325452,"accept_rate":71,"display_name":"ingyhere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629334763,"creation_date":1629334763,"answer_id":68840831,"question_id":11314182,"body_markdown":"To ignore the file you can add it to the ignore directive for your DVCS. For `git`, a `.gitignore` file is created with contents:\r\n\r\n    dependency-reduced-pom.xml\r\n\r\nYou can also [add it to `maven-clean-plugin` configuration](https://maven.apache.org/plugins/maven-clean-plugin/examples/delete_additional_files.html) so it&#39;s blown away during the [clean lifecycle phase](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference): (Below assumes defaults, such as version, are defined in the [POMs `pluginManagement` section](https://maven.apache.org/pom.html#Plugin_Management).)\r\n\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filesets&gt;\r\n                                &lt;fileset&gt;\r\n                                    &lt;directory&gt;.&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;**/dependency-reduced-pom.xml&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                    &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\r\n                                &lt;/fileset&gt;\r\n                            &lt;/filesets&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n\r\nNote that the above configuration is additive to the non-customized clean default.","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>To ignore the file you can add it to the ignore directive for your DVCS. For <code>git</code>, a <code>.gitignore</code> file is created with contents:</p>\n<pre><code>dependency-reduced-pom.xml\n</code></pre>\n<p>You can also <a href=\"https://maven.apache.org/plugins/maven-clean-plugin/examples/delete_additional_files.html\" rel=\"nofollow noreferrer\">add it to <code>maven-clean-plugin</code> configuration</a> so it's blown away during the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference\" rel=\"nofollow noreferrer\">clean lifecycle phase</a>: (Below assumes defaults, such as version, are defined in the <a href=\"https://maven.apache.org/pom.html#Plugin_Management\" rel=\"nofollow noreferrer\">POMs <code>pluginManagement</code> section</a>.)</p>\n<pre><code>        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;filesets&gt;\n                            &lt;fileset&gt;\n                                &lt;directory&gt;.&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;**/dependency-reduced-pom.xml&lt;/include&gt;\n                                &lt;/includes&gt;\n                                &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\n                            &lt;/fileset&gt;\n                        &lt;/filesets&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Note that the above configuration is additive to the non-customized clean default.</p>\n"}],"owner":{"account_id":90708,"reputation":21648,"user_id":249571,"accept_rate":74,"display_name":"DD."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31942,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":11322920,"answer_count":6,"score":71,"last_activity_date":1677601746,"creation_date":1341329123,"question_id":11314182,"body_markdown":"The maven shade plugin is creating a file called *dependency-reduced-pom.xml* and also *artifactname-shaded.jar* and placing them in the base directory.\r\n\r\nIs this a bug? Should be in the target directory. Any workaround?","title":"Maven shade plugin adding dependency-reduced-pom.xml to base directory","body":"<p>The maven shade plugin is creating a file called <em>dependency-reduced-pom.xml</em> and also <em>artifactname-shaded.jar</em> and placing them in the base directory.</p>\n\n<p>Is this a bug? Should be in the target directory. Any workaround?</p>\n"},{"tags":["java","html","css","spring","jsp"],"comments":[{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1627752607,"post_id":68603866,"comment_id":121242494,"body_markdown":"Where is the css file located? What&#39;s your project dir structure like?","body":"Where is the css file located? What&#39;s your project dir structure like?"},{"owner":{"account_id":13221191,"reputation":1,"user_id":9547872,"display_name":"saikat"},"score":0,"creation_date":1627760781,"post_id":68603866,"comment_id":121244314,"body_markdown":"@RaviKThapliyal I have attached the project structure above. Please check.  [project structure](https://i.stack.imgur.com/W2LT0.jpg)","body":"@RaviKThapliyal I have attached the project structure above. Please check.  <a href=\"https://i.stack.imgur.com/W2LT0.jpg\" rel=\"nofollow noreferrer\">project structure</a>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1677954165,"post_id":75594706,"comment_id":133440701,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75594706/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27901741,"reputation":11,"user_id":21305888,"display_name":"SAURBH PODDAR"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677601321,"creation_date":1677601321,"answer_id":75594706,"question_id":68603866,"body_markdown":"To run @media query in your spring boot css file you should use min-width\r\nreplace of max-width then it will run good","title":"Css Media query not working with Spring framework","body":"<p>To run @media query in your spring boot css file you should use min-width\nreplace of max-width then it will run good</p>\n"}],"owner":{"account_id":13221191,"reputation":1,"user_id":9547872,"display_name":"saikat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677601321,"creation_date":1627748417,"question_id":68603866,"body_markdown":"I have built a webpage which works fine &amp; is responsive,\r\nbut when I use the same files with the Spring framework, the webpage doesn&#39;t appear to be responsive. \r\n\r\nI have checked the responsiveness of the Spring webpage by opening the webpage in mobile &amp; also using chrome&#39;s inspect mode.\r\n\r\nPlease let me know if any more details is needed.\r\n\r\nHTML File\r\n```\r\n\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\npageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\r\n&lt;%@ page isELIgnored=&quot;false&quot;%&gt;\r\n\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n\r\n&lt;title&gt;URL Shortner&lt;/title&gt;\r\n&lt;link href=&quot;https://fonts.googleapis.com/css?family=Poppins&quot; rel=&quot;stylesheet&quot; /&gt;\r\n&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot;\r\nhref=&quot;${pageContext.request.contextPath}/resources/css/style.css&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n\r\n&lt;div class=&quot;s130&quot;&gt;\r\n\r\n&lt;form:form action=&quot;show&quot; method=&quot;POST&quot; onsubmit=&quot; return continueornot();&quot;&gt;\r\n  &lt;h1&gt;Short URL &lt;/h1&gt;\r\n  &lt;p&gt;Paste your Long URL here&lt;/p&gt;\r\n\t&lt;div class=&quot;inner-form&quot;&gt;\r\n\t\t&lt;div class=&quot;input-field first-wrap&quot;&gt;\r\n\t\t&lt;div class=&quot;svg-wrapper&quot;&gt;\r\n\t\t  \r\n\t\t&lt;/div&gt;\r\n\t\t\t&lt;input class=&quot;input-tag&quot; id=&quot;search&quot; type=&quot;text&quot; name=&quot;longUrl&quot; placeholder=&quot;Paste your Link here!&quot; /&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=&quot;input-field second-wrap&quot;&gt;\r\n\t\t\t&lt;input class=&quot;btn lco&quot; type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t &lt;span id=&quot;error&quot;&gt;&lt;/span&gt;\r\n\t&lt;h2 id=&quot;urlerror&quot;&gt;${link}&lt;/h2&gt;\r\n&lt;/form:form&gt;\r\n&lt;footer&gt;\r\n&lt;/footer&gt;\r\n\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\nfunction validateEmail(email) { \r\nvar re = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&amp;%@!\\-\\/]))?/;\r\nreturn re.test(email);\r\n} \r\nfunction continueornot() {\r\nif(validateEmail(document.getElementById(&#39;search&#39;).value)){\r\n// ok\r\n}else{  urlerror.innerHTML = &quot;&lt;span style=&#39;color: red;&#39;&gt;&quot;+\r\n&quot;Please enter a valid URL!&lt;/span&gt;&quot;\r\nreturn false;}\r\n}\r\n&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nMY CSS\r\n```@import url(&#39;https://fonts.googleapis.com/css2?family=Montserrat:wght@700&amp;display=swap&#39;);\r\n\r\nbody{\r\n    background: linear-gradient(to right, #fbfbfb, #cfc0c0);\r\n    color: #ffffff;\r\n}\r\n\r\n.container{\r\nmargin-left:20px;\r\n}\r\nh1{\r\n    font-size: 70px;\r\n    text-align: center;\r\n    margin-top: 8%;\r\n    margin-bottom: 5%;\r\n    color: #1f1f1f;\r\n    font-family: &quot;montserrat&quot;;\r\n}\r\n\r\nh2{\r\n    font-size: 50px;\r\n    text-align: center;\r\n    margin-top: 2%;\r\n    margin-bottom: 5%;\r\n    color: #ffffff;\r\n    font-family: &quot;montserrat&quot;;\r\n}\r\n\r\nspan{\r\n    color: #1f1f1f;\r\n    font-size: 400;\r\n    font-weight: 900;\r\n}\r\n\r\np{\r\n    text-align: center;\r\n    margin-top: -30px;\r\n    font-size: 18px;\r\n    letter-spacing: 3px;\r\n}\r\n\r\n\r\n\r\n.btn{\r\nmargin: auto;\r\n    display: block;\r\n    background-color: transparent;\r\n    border: 2px solid #1f1f1f;\r\n    border-radius: 0.6em;\r\n    color: #1f1f1f;\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n    padding: 1.2em 2.5em;\r\n    cursor: grab;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    font-family: &quot;montserrat&quot;;\r\n    font-weight: 900;\r\n}\r\n\r\n.btn:hover{\r\n    color:#ffffff;\r\n    outline: 0;\r\n}\r\n\r\n.lco{\r\n    transition: box-shadow 300ms ease-in-out, color 300ms ease-in-out;\r\n}\r\n\r\n.lco:hover{\r\n    box-shadow: 0 0 40px 40px #1f1f1f inset;\r\n}\r\n\r\n.input-tag{\r\n    display: block;\r\n    margin : 20px auto;\r\n    padding: 10px;\r\n    border: 0;\r\n    border-radius:15px;\r\n    width:50%;\r\n    height:25px;\r\n    font-size: 20px;\r\n    font-family:inherit;\r\n    box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\r\n}\r\n\r\n@media screen and (max-width: 600px){\r\n    h1{\r\n        font-size: 40px;\r\n        text-align: center;\r\n        margin-top: 12%;\r\n        margin-bottom: 12%;\r\n        color: #1f1f1f;\r\n        font-family: &quot;montserrat&quot;;\r\n    }\r\n    p{\r\n        text-align: center;\r\n        margin-top: 40%;\r\n       \r\n        font-size: 14px;\r\n        letter-spacing: 1px;\r\n        color: #1f1f1f;\r\n    }\r\n    h2{\r\n        font-size: 25px;\r\n        text-align: center;\r\n        margin-top: 8%;\r\n        margin-bottom: 5%;\r\n        color: #1f1f1f;\r\n        font-family: &quot;montserrat&quot;;\r\n    }\r\n    .btn{\r\n        background-color: transparent;\r\n        margin-top: 7%;\r\n        border: 2px solid #1f1f1f;\r\n        border-radius: 0.6em;\r\n        color: #1f1f1f;\r\n        font-size: 1rem;\r\n        font-weight: 200;\r\n        padding: 0.5em 1.5em;\r\n        cursor: grab;\r\n        text-align: center;\r\n        text-transform: uppercase;\r\n        font-family: &quot;montserrat&quot;;\r\n        font-weight: 500;\r\n    }\r\n    .input-tag{\r\n        display: block;\r\n        margin : 0px auto;\r\n        margin-top: 10%;\r\n        padding: 10px;\r\n        border: 0;\r\n        border-radius:15px;\r\n        width:70%;\r\n        height:24px;\r\n        font-size: 14px;\r\n        font-family:inherit;\r\n        text-align: center;\r\n        box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\r\n    }\r\n   \r\n}\r\n```\r\n\r\n\r\nProject structure:\r\n\r\n![Project Structure image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W2LT0.jpg","title":"Css Media query not working with Spring framework","body":"<p>I have built a webpage which works fine &amp; is responsive,\nbut when I use the same files with the Spring framework, the webpage doesn't appear to be responsive.</p>\n<p>I have checked the responsiveness of the Spring webpage by opening the webpage in mobile &amp; also using chrome's inspect mode.</p>\n<p>Please let me know if any more details is needed.</p>\n<p>HTML File</p>\n<pre><code>\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\npageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\n&lt;%@ page isELIgnored=&quot;false&quot;%&gt;\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n\n&lt;title&gt;URL Shortner&lt;/title&gt;\n&lt;link href=&quot;https://fonts.googleapis.com/css?family=Poppins&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot;\nhref=&quot;${pageContext.request.contextPath}/resources/css/style.css&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n\n\n&lt;div class=&quot;s130&quot;&gt;\n\n&lt;form:form action=&quot;show&quot; method=&quot;POST&quot; onsubmit=&quot; return continueornot();&quot;&gt;\n  &lt;h1&gt;Short URL &lt;/h1&gt;\n  &lt;p&gt;Paste your Long URL here&lt;/p&gt;\n    &lt;div class=&quot;inner-form&quot;&gt;\n        &lt;div class=&quot;input-field first-wrap&quot;&gt;\n        &lt;div class=&quot;svg-wrapper&quot;&gt;\n          \n        &lt;/div&gt;\n            &lt;input class=&quot;input-tag&quot; id=&quot;search&quot; type=&quot;text&quot; name=&quot;longUrl&quot; placeholder=&quot;Paste your Link here!&quot; /&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;input-field second-wrap&quot;&gt;\n            &lt;input class=&quot;btn lco&quot; type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n     &lt;span id=&quot;error&quot;&gt;&lt;/span&gt;\n    &lt;h2 id=&quot;urlerror&quot;&gt;${link}&lt;/h2&gt;\n&lt;/form:form&gt;\n&lt;footer&gt;\n&lt;/footer&gt;\n\n\n&lt;/div&gt;\n\n&lt;script&gt;\nfunction validateEmail(email) { \nvar re = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&amp;%@!\\-\\/]))?/;\nreturn re.test(email);\n} \nfunction continueornot() {\nif(validateEmail(document.getElementById('search').value)){\n// ok\n}else{  urlerror.innerHTML = &quot;&lt;span style='color: red;'&gt;&quot;+\n&quot;Please enter a valid URL!&lt;/span&gt;&quot;\nreturn false;}\n}\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>MY CSS</p>\n<pre><code>\nbody{\n    background: linear-gradient(to right, #fbfbfb, #cfc0c0);\n    color: #ffffff;\n}\n\n.container{\nmargin-left:20px;\n}\nh1{\n    font-size: 70px;\n    text-align: center;\n    margin-top: 8%;\n    margin-bottom: 5%;\n    color: #1f1f1f;\n    font-family: &quot;montserrat&quot;;\n}\n\nh2{\n    font-size: 50px;\n    text-align: center;\n    margin-top: 2%;\n    margin-bottom: 5%;\n    color: #ffffff;\n    font-family: &quot;montserrat&quot;;\n}\n\nspan{\n    color: #1f1f1f;\n    font-size: 400;\n    font-weight: 900;\n}\n\np{\n    text-align: center;\n    margin-top: -30px;\n    font-size: 18px;\n    letter-spacing: 3px;\n}\n\n\n\n.btn{\nmargin: auto;\n    display: block;\n    background-color: transparent;\n    border: 2px solid #1f1f1f;\n    border-radius: 0.6em;\n    color: #1f1f1f;\n    font-size: 1rem;\n    font-weight: 400;\n    padding: 1.2em 2.5em;\n    cursor: grab;\n    text-align: center;\n    text-transform: uppercase;\n    font-family: &quot;montserrat&quot;;\n    font-weight: 900;\n}\n\n.btn:hover{\n    color:#ffffff;\n    outline: 0;\n}\n\n.lco{\n    transition: box-shadow 300ms ease-in-out, color 300ms ease-in-out;\n}\n\n.lco:hover{\n    box-shadow: 0 0 40px 40px #1f1f1f inset;\n}\n\n.input-tag{\n    display: block;\n    margin : 20px auto;\n    padding: 10px;\n    border: 0;\n    border-radius:15px;\n    width:50%;\n    height:25px;\n    font-size: 20px;\n    font-family:inherit;\n    box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\n}\n\n@media screen and (max-width: 600px){\n    h1{\n        font-size: 40px;\n        text-align: center;\n        margin-top: 12%;\n        margin-bottom: 12%;\n        color: #1f1f1f;\n        font-family: &quot;montserrat&quot;;\n    }\n    p{\n        text-align: center;\n        margin-top: 40%;\n       \n        font-size: 14px;\n        letter-spacing: 1px;\n        color: #1f1f1f;\n    }\n    h2{\n        font-size: 25px;\n        text-align: center;\n        margin-top: 8%;\n        margin-bottom: 5%;\n        color: #1f1f1f;\n        font-family: &quot;montserrat&quot;;\n    }\n    .btn{\n        background-color: transparent;\n        margin-top: 7%;\n        border: 2px solid #1f1f1f;\n        border-radius: 0.6em;\n        color: #1f1f1f;\n        font-size: 1rem;\n        font-weight: 200;\n        padding: 0.5em 1.5em;\n        cursor: grab;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: &quot;montserrat&quot;;\n        font-weight: 500;\n    }\n    .input-tag{\n        display: block;\n        margin : 0px auto;\n        margin-top: 10%;\n        padding: 10px;\n        border: 0;\n        border-radius:15px;\n        width:70%;\n        height:24px;\n        font-size: 14px;\n        font-family:inherit;\n        text-align: center;\n        box-shadow:0 0 15px 4px rgba(0,0,0,0.06);\n    }\n   \n}\n</code></pre>\n<p>Project structure:</p>\n<p><img src=\"https://i.stack.imgur.com/W2LT0.jpg\" alt=\"Project Structure image\" /></p>\n"},{"tags":["java","xml","class","dictionary","jaxb"],"comments":[{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520537770,"post_id":49181125,"comment_id":85367762,"body_markdown":"P.D: I&#39;m aware there is another child in location(&lt;relative&gt;). Step by Step.","body":"P.D: I&#39;m aware there is another child in location(&lt;relative&gt;). Step by Step."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1520546029,"post_id":49181125,"comment_id":85372011,"body_markdown":"Make a class for `location` containing `absolute/absoluteItems` mapping.","body":"Make a class for <code>location</code> containing <code>absolute&#47;absoluteItems</code> mapping."},{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520546507,"post_id":49181125,"comment_id":85372244,"body_markdown":"And what about relative?  Their elements are fixed. Do I have to Use an ElementWrapper to?","body":"And what about relative?  Their elements are fixed. Do I have to Use an ElementWrapper to?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1520577460,"post_id":49181125,"comment_id":85381068,"body_markdown":"You can but do not have to.","body":"You can but do not have to."},{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520589416,"post_id":49181125,"comment_id":85387020,"body_markdown":"Then what? Another nested class? Do i have to do one for each nesting?","body":"Then what? Another nested class? Do i have to do one for each nesting?"},{"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":1,"creation_date":1520608264,"post_id":49181125,"comment_id":85398237,"body_markdown":"You should write several small Java classes (`Element`, `Location`, `Absolute`, `Relative`)\ncorresponding to XML elements (`&lt;element&gt;`, `&lt;location&gt;`, `&lt;absolute&gt;`, `&lt;relative&gt;`)\n\nSee also similar question [JAXB annotations for nested element lists](https://stackoverflow.com/questions/14202529/jaxb-annotations-for-nested-element-lists)","body":"You should write several small Java classes (<code>Element</code>, <code>Location</code>, <code>Absolute</code>, <code>Relative</code>) corresponding to XML elements (<code>&lt;element&gt;</code>, <code>&lt;location&gt;</code>, <code>&lt;absolute&gt;</code>, <code>&lt;relative&gt;</code>)  See also similar question <a href=\"https://stackoverflow.com/questions/14202529/jaxb-annotations-for-nested-element-lists\">JAXB annotations for nested element lists</a>"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1520618899,"post_id":49181125,"comment_id":85404416,"body_markdown":"@Xhark Easy there. This depends on the logical structure first of all. In your case, yes, it seems like four classes (`Element`, `Location`, `Absolute` and `Relative`) are justified. Technically you can spare `Absolute`, but I won&#39;t do it. What&#39;s the problem with four classes?","body":"@Xhark Easy there. This depends on the logical structure first of all. In your case, yes, it seems like four classes (<code>Element</code>, <code>Location</code>, <code>Absolute</code> and <code>Relative</code>) are justified. Technically you can spare <code>Absolute</code>, but I won&#39;t do it. What&#39;s the problem with four classes?"},{"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"score":0,"creation_date":1520619551,"post_id":49181125,"comment_id":85404708,"body_markdown":"Your are right, I guess I was expecting something cleaner or more elegant(?). Thanks for the help. It works with the classes.","body":"Your are right, I guess I was expecting something cleaner or more elegant(?). Thanks for the help. It works with the classes."}],"answers":[{"tags":[],"owner":{"account_id":3704048,"reputation":194,"user_id":3559428,"display_name":"John Spragge"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521102084,"creation_date":1521102084,"answer_id":49294482,"question_id":49181125,"body_markdown":"JAXB processing assumes a separate element definition for each complex element. A complex element means an element containing other elements. \r\n\r\nThe error you mention, referring to Element$Location, probably indicates the jaxb routines have found the annotation for the field &quot;right&quot; in the nested Location class; at runtime, nested classes have the name of the containing class, in this case Element, as a prefix separated from the nested class by a dollar sign.\r\n\r\nTo unmarshall (translate from xml text to Java code) the data structure you provide above, the JAXB routines would expect to find the following public class definitions:\r\n\r\nAbsolute\r\nElement\r\nLocation\r\nObjectFactory\r\nRelative\r\n\r\nIn the java code the jaxb compiler produces, the main element definition has its own class, and the following annotations:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n       &quot;type&quot;,\r\n        &quot;color&quot;,\r\n        &quot;size&quot;,\r\n        &quot;location&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;element&quot;)\r\n    public class Element \r\n    {\r\n       @XmlElement(required = true)\r\n       protected BigInteger type;\r\n          .\r\n          .   additional element definitions go here\r\n          . \r\n       // note: location here is a public class\r\n       @XmlElement(required = true)\r\n       protected Location location;\r\n       // the attribute is defined thus:\r\n       @XmlAttribute(name = &quot;id&quot;)\r\n       protected BigInteger id;\r\n\r\n       /**\r\n        * Gets the value of the type property.\r\n        * @return BigInteger type code\r\n        */\r\n       public BigInteger getType() { return type; }\r\n\r\n       /**\r\n        * Sets the value of the type property.\r\n        * @param value BigInteger type code to set\r\n        */\r\n       public void setType(BigInteger value) { this.type = value; }\r\n          .\r\n          . all other getters and setters defined here\r\n          .\r\n    }\r\n    \r\nThe element contained, in this case Location, has its own class with the following annotations:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Location&quot;, propOrder = {\r\n       &quot;absolute&quot;,\r\n       &quot;relative&quot;\r\n    })\r\n    public class Location \r\n    {\r\n        protected Absolute absolute;\r\n        protected Relative relative;\r\n          .\r\n          .  getters and setters go here: note these fields have no \r\n          .  annotations\r\n    }\r\n\r\nAgain, jaxb expects to find public Absolute and Relative classes. Since the absolute-item element can be repeated indefinitely, jaxb expects to find it defined as a collection (List), thus:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Absolute&quot;, propOrder = {\r\n       &quot;absoluteItem&quot;\r\n    })\r\n    public class Absolute \r\n    {\r\n       @XmlElement(name = &quot;absolute-item&quot;, required = true)\r\n       protected List&lt;String&gt; absoluteItem;\r\n\r\n       /**\r\n        * Gets the value of the absoluteItem property.\r\n        * \r\n        * &lt;p&gt;This accessor returns a reference to the live list; any\r\n        * modification to the returned list will be reflected in the \r\n        * JAXB object.\r\n        * This is why there is not a setter for absoluteItem.\r\n        * \r\n        * To add a new item, do as follows:\r\n        *    getAbsoluteItem().add(newItem)\r\n        */\r\n       public List&lt;String&gt; getAbsoluteItem() \r\n       {\r\n          if (absoluteItem == null) \r\n              absoluteItem = new ArrayList &lt;&gt; ();        \r\n          return this.absoluteItem;\r\n       }\r\n\r\n    }\r\n\r\nIn my experience, jaxb schema compiler, xjc, provides the easiest way, by far, to generate classes or use with jaxb. xjc takes an XML schema definition, and translates it into java code for you; you then have only to include the resulting java files in your project. Most Java development tools will handle this for you automatically. To generate the code I used as a source for the examples above (I did some condensing, I wrote the following schema:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;!--\r\n      Component ==&gt; example for stack overflow\r\n      Purpose: show how the jaxb compiler works\r\n     --&gt;\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n               xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n               xmlns:desc = &quot;http://sox.org/element&quot;\r\n               targetNamespace = &quot;http://sox.org/element&quot;\r\n               jxb:version=&quot;2.0&quot;&gt;\r\n\r\n        &lt;xs:element name=&quot;element&quot;&gt;\r\n           &lt;xs:complexType&gt;\r\n              &lt;xs:sequence&gt;\r\n                 &lt;xs:element name = &quot;type&quot; type = &quot;xs:integer&quot; /&gt;\r\n                 &lt;xs:element name = &quot;color&quot; type = &quot;xs:integer&quot; /&gt;\r\n                 &lt;xs:element name = &quot;size&quot; type = &quot;xs:integer&quot; /&gt;\r\n                 &lt;xs:element name = &quot;location&quot; type = &quot;desc:Location&quot; /&gt;\r\n              &lt;/xs:sequence&gt;\r\n              &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:integer&quot; use=&quot;optional&quot;\r\n                            default=&quot;0&quot; /&gt;\r\n           &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;     \r\n    \r\n        &lt;xs:complexType name=&quot;Location&quot;&gt;\r\n           &lt;xs:sequence&gt;\r\n              &lt;xs:element name = &quot;absolute&quot; type = &quot;desc:Absolute&quot; \r\n                          minOccurs=&quot;0&quot; /&gt;\r\n              &lt;xs:element name = &quot;relative&quot; type = &quot;desc:Relative&quot; \r\n                          minOccurs=&quot;0&quot; /&gt; \r\n           &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n\r\n        &lt;xs:complexType name=&quot;Absolute&quot;&gt;\r\n           &lt;xs:sequence&gt;\r\n              &lt;xs:element name=&quot;absolute-item&quot; type=&quot;xs:string&quot;  \r\n                          maxOccurs=&quot;unbounded&quot; /&gt;\r\n           &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt; \r\n         \r\n        &lt;xs:complexType name=&quot;Relative&quot;&gt;\r\n           &lt;xs:sequence&gt;\r\n              &lt;xs:element name=&quot;right&quot; type=&quot;xs:string&quot; /&gt; \r\n              &lt;xs:element name=&quot;left&quot; type=&quot;xs:string&quot; /&gt; \r\n           &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n   &lt;/xs:schema&gt;","title":"Unmarshal nested XML elements with JAXB","body":"<p>JAXB processing assumes a separate element definition for each complex element. A complex element means an element containing other elements. </p>\n\n<p>The error you mention, referring to Element$Location, probably indicates the jaxb routines have found the annotation for the field \"right\" in the nested Location class; at runtime, nested classes have the name of the containing class, in this case Element, as a prefix separated from the nested class by a dollar sign.</p>\n\n<p>To unmarshall (translate from xml text to Java code) the data structure you provide above, the JAXB routines would expect to find the following public class definitions:</p>\n\n<p>Absolute\nElement\nLocation\nObjectFactory\nRelative</p>\n\n<p>In the java code the jaxb compiler produces, the main element definition has its own class, and the following annotations:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\n   \"type\",\n    \"color\",\n    \"size\",\n    \"location\"\n})\n@XmlRootElement(name = \"element\")\npublic class Element \n{\n   @XmlElement(required = true)\n   protected BigInteger type;\n      .\n      .   additional element definitions go here\n      . \n   // note: location here is a public class\n   @XmlElement(required = true)\n   protected Location location;\n   // the attribute is defined thus:\n   @XmlAttribute(name = \"id\")\n   protected BigInteger id;\n\n   /**\n    * Gets the value of the type property.\n    * @return BigInteger type code\n    */\n   public BigInteger getType() { return type; }\n\n   /**\n    * Sets the value of the type property.\n    * @param value BigInteger type code to set\n    */\n   public void setType(BigInteger value) { this.type = value; }\n      .\n      . all other getters and setters defined here\n      .\n}\n</code></pre>\n\n<p>The element contained, in this case Location, has its own class with the following annotations:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"Location\", propOrder = {\n   \"absolute\",\n   \"relative\"\n})\npublic class Location \n{\n    protected Absolute absolute;\n    protected Relative relative;\n      .\n      .  getters and setters go here: note these fields have no \n      .  annotations\n}\n</code></pre>\n\n<p>Again, jaxb expects to find public Absolute and Relative classes. Since the absolute-item element can be repeated indefinitely, jaxb expects to find it defined as a collection (List), thus:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"Absolute\", propOrder = {\n   \"absoluteItem\"\n})\npublic class Absolute \n{\n   @XmlElement(name = \"absolute-item\", required = true)\n   protected List&lt;String&gt; absoluteItem;\n\n   /**\n    * Gets the value of the absoluteItem property.\n    * \n    * &lt;p&gt;This accessor returns a reference to the live list; any\n    * modification to the returned list will be reflected in the \n    * JAXB object.\n    * This is why there is not a setter for absoluteItem.\n    * \n    * To add a new item, do as follows:\n    *    getAbsoluteItem().add(newItem)\n    */\n   public List&lt;String&gt; getAbsoluteItem() \n   {\n      if (absoluteItem == null) \n          absoluteItem = new ArrayList &lt;&gt; ();        \n      return this.absoluteItem;\n   }\n\n}\n</code></pre>\n\n<p>In my experience, jaxb schema compiler, xjc, provides the easiest way, by far, to generate classes or use with jaxb. xjc takes an XML schema definition, and translates it into java code for you; you then have only to include the resulting java files in your project. Most Java development tools will handle this for you automatically. To generate the code I used as a source for the examples above (I did some condensing, I wrote the following schema:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;!--\n  Component ==&gt; example for stack overflow\n  Purpose: show how the jaxb compiler works\n --&gt;\n\n&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n           xmlns:jxb=\"http://java.sun.com/xml/ns/jaxb\"\n           xmlns:desc = \"http://sox.org/element\"\n           targetNamespace = \"http://sox.org/element\"\n           jxb:version=\"2.0\"&gt;\n\n    &lt;xs:element name=\"element\"&gt;\n       &lt;xs:complexType&gt;\n          &lt;xs:sequence&gt;\n             &lt;xs:element name = \"type\" type = \"xs:integer\" /&gt;\n             &lt;xs:element name = \"color\" type = \"xs:integer\" /&gt;\n             &lt;xs:element name = \"size\" type = \"xs:integer\" /&gt;\n             &lt;xs:element name = \"location\" type = \"desc:Location\" /&gt;\n          &lt;/xs:sequence&gt;\n          &lt;xs:attribute name=\"id\" type=\"xs:integer\" use=\"optional\"\n                        default=\"0\" /&gt;\n       &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;     \n\n    &lt;xs:complexType name=\"Location\"&gt;\n       &lt;xs:sequence&gt;\n          &lt;xs:element name = \"absolute\" type = \"desc:Absolute\" \n                      minOccurs=\"0\" /&gt;\n          &lt;xs:element name = \"relative\" type = \"desc:Relative\" \n                      minOccurs=\"0\" /&gt; \n       &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=\"Absolute\"&gt;\n       &lt;xs:sequence&gt;\n          &lt;xs:element name=\"absolute-item\" type=\"xs:string\"  \n                      maxOccurs=\"unbounded\" /&gt;\n       &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt; \n\n    &lt;xs:complexType name=\"Relative\"&gt;\n       &lt;xs:sequence&gt;\n          &lt;xs:element name=\"right\" type=\"xs:string\" /&gt; \n          &lt;xs:element name=\"left\" type=\"xs:string\" /&gt; \n       &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n</code></pre>\n\n<p></p>\n"}],"owner":{"account_id":4312421,"reputation":791,"user_id":3523169,"accept_rate":31,"display_name":"Xhark"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677601262,"creation_date":1520537747,"question_id":49181125,"body_markdown":"I&#39;m starting with JAXB and I&#39;m trying to read the following xml to map it to a class:\r\n\r\n    &lt;element id=&quot;0&quot;&gt;\r\n            &lt;type&gt;1&lt;/type&gt;\r\n            &lt;color&gt;0&lt;/color&gt;\r\n            &lt;size&gt;1&lt;/size&gt;\r\n            &lt;location&gt;\r\n              &lt;absolute&gt;\r\n                &lt;absolute-item&gt;top&lt;/absolute-item&gt;\r\n                &lt;absolute-item&gt;left&lt;/absolute-item&gt;\r\n              &lt;/absolute&gt;\r\n              &lt;relative&gt;\r\n                &lt;right&gt;0&lt;/right&gt;\r\n                &lt;left&gt;0&lt;/left&gt;            \r\n              &lt;/relative&gt;\r\n            &lt;/location&gt;\r\n        &lt;/element&gt;\r\n\r\nMy problem comes when I try to map the nested elements like absolute, which can contain any number of `&lt;absolute-item&gt;` elements. I&#39;m trying this right now:\r\n\r\n    public class Element {\r\n        @XmlAttribute\r\n        private int id;\r\n        @XmlElement\r\n        private int type;\r\n        @XmlElement\r\n        private int color;\r\n        @XmlElement\r\n        private int size;\r\n        @XmlElementWrapper(name=&quot;absolute&quot;)\r\n        @XmlElement(name=&quot;absolute-item&quot;)\r\n        private ArrayList&lt;String&gt; absoluteItems;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Element &quot;+id+&quot; {&quot; +\r\n                    &quot;type=&quot; + type +\r\n                    &quot;, color=&quot; + color +\r\n                    &quot;, size=&quot; + size +\r\n                    &quot;, Location Relative: &quot;+ absoluteItems\r\n                    +&quot;}&quot;;\r\n        }\r\n    }\r\n\r\nI got the simple elements but not the nested one. Apparently I can&#39;t annotate to wrappers together, so I don&#39;t know how to fix it.\r\n\r\nUPDATE:  \r\nI&#39;m trying this as suggested. I&#39;m getting an `IllegalAnnotationExceptions` because Element$Location.right is not a compilation property, but I don&#39;t know what it means. Should I create one more class for the `&lt;relative&gt;` element? \r\n\r\n\r\n    public class Element {\r\n        @XmlAttribute\r\n        private int id;\r\n        @XmlElement\r\n        private int type;\r\n        @XmlElement\r\n        private int color;\r\n        @XmlElement\r\n        private int size;\r\n    \r\n        @XmlElement(name=&quot;location&quot;)\r\n        private Location location;\r\n    \r\n        public static class Location {\r\n            @XmlElementWrapper(name=&quot;absolute&quot;)\r\n            @XmlElement(name=&quot;absolute-item&quot;)\r\n            private ArrayList&lt;String&gt; absoluteItems;\r\n    \r\n    \r\n            @XmlElementWrapper(name=&quot;relative&quot;)\r\n            @XmlElement(name=&quot;right&quot;)\r\n            private int right;\r\n            @XmlElement(name=&quot;left&quot;)\r\n            private int left;\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Location{&quot; +\r\n                        &quot;Absolute=&quot; + absoluteItems +\r\n                        &quot;, relative {right=&quot; + right +\r\n                        &quot;, left=&quot; + left +\r\n                        &quot;}}&quot;;\r\n            }\r\n        }\r\n\r\n","title":"Unmarshal nested XML elements with JAXB","body":"<p>I'm starting with JAXB and I'm trying to read the following xml to map it to a class:</p>\n<pre><code>&lt;element id=&quot;0&quot;&gt;\n        &lt;type&gt;1&lt;/type&gt;\n        &lt;color&gt;0&lt;/color&gt;\n        &lt;size&gt;1&lt;/size&gt;\n        &lt;location&gt;\n          &lt;absolute&gt;\n            &lt;absolute-item&gt;top&lt;/absolute-item&gt;\n            &lt;absolute-item&gt;left&lt;/absolute-item&gt;\n          &lt;/absolute&gt;\n          &lt;relative&gt;\n            &lt;right&gt;0&lt;/right&gt;\n            &lt;left&gt;0&lt;/left&gt;            \n          &lt;/relative&gt;\n        &lt;/location&gt;\n    &lt;/element&gt;\n</code></pre>\n<p>My problem comes when I try to map the nested elements like absolute, which can contain any number of <code>&lt;absolute-item&gt;</code> elements. I'm trying this right now:</p>\n<pre><code>public class Element {\n    @XmlAttribute\n    private int id;\n    @XmlElement\n    private int type;\n    @XmlElement\n    private int color;\n    @XmlElement\n    private int size;\n    @XmlElementWrapper(name=&quot;absolute&quot;)\n    @XmlElement(name=&quot;absolute-item&quot;)\n    private ArrayList&lt;String&gt; absoluteItems;\n\n    @Override\n    public String toString() {\n        return &quot;Element &quot;+id+&quot; {&quot; +\n                &quot;type=&quot; + type +\n                &quot;, color=&quot; + color +\n                &quot;, size=&quot; + size +\n                &quot;, Location Relative: &quot;+ absoluteItems\n                +&quot;}&quot;;\n    }\n}\n</code></pre>\n<p>I got the simple elements but not the nested one. Apparently I can't annotate to wrappers together, so I don't know how to fix it.</p>\n<p>UPDATE:<br />\nI'm trying this as suggested. I'm getting an <code>IllegalAnnotationExceptions</code> because Element$Location.right is not a compilation property, but I don't know what it means. Should I create one more class for the <code>&lt;relative&gt;</code> element?</p>\n<pre><code>public class Element {\n    @XmlAttribute\n    private int id;\n    @XmlElement\n    private int type;\n    @XmlElement\n    private int color;\n    @XmlElement\n    private int size;\n\n    @XmlElement(name=&quot;location&quot;)\n    private Location location;\n\n    public static class Location {\n        @XmlElementWrapper(name=&quot;absolute&quot;)\n        @XmlElement(name=&quot;absolute-item&quot;)\n        private ArrayList&lt;String&gt; absoluteItems;\n\n\n        @XmlElementWrapper(name=&quot;relative&quot;)\n        @XmlElement(name=&quot;right&quot;)\n        private int right;\n        @XmlElement(name=&quot;left&quot;)\n        private int left;\n\n        @Override\n        public String toString() {\n            return &quot;Location{&quot; +\n                    &quot;Absolute=&quot; + absoluteItems +\n                    &quot;, relative {right=&quot; + right +\n                    &quot;, left=&quot; + left +\n                    &quot;}}&quot;;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","compiler-errors","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":21852352,"reputation":38,"user_id":16144244,"display_name":"Cheng-Chong Tang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677601024,"creation_date":1677211304,"answer_id":75552508,"question_id":75552311,"body_markdown":"That may caused by adding duplicate files. For example, the &quot;A.aar&quot; file is imported in lib and then the same &quot;A&quot; file is depended on in &quot;build.gradle&quot;.\r\n\r\nTry to remove duplicate dependencies or lib, AAR different versions, etc.","title":"I am getting error like this, when I create new project in Android Studio","body":"<p>That may caused by adding duplicate files. For example, the &quot;A.aar&quot; file is imported in lib and then the same &quot;A&quot; file is depended on in &quot;build.gradle&quot;.</p>\n<p>Try to remove duplicate dependencies or lib, AAR different versions, etc.</p>\n"},{"tags":[],"owner":{"account_id":26280709,"reputation":93,"user_id":19949241,"display_name":"Awais ul Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677216995,"creation_date":1677216995,"answer_id":75552957,"question_id":75552311,"body_markdown":"Open build.gradle file.\r\nand add Line\r\n multiDexEnabled true\r\n\r\nin \r\n\r\nandroid{\r\n    ......\r\n    defaultConfig {\r\n         .....\r\n         multiDexEnabled true\r\n         ......\r\n    }\r\n}\r\n\r\n\r\nand Sync again","title":"I am getting error like this, when I create new project in Android Studio","body":"<p>Open build.gradle file.\nand add Line\nmultiDexEnabled true</p>\n<p>in</p>\n<p>android{\n......\ndefaultConfig {\n.....\nmultiDexEnabled true\n......\n}\n}</p>\n<p>and Sync again</p>\n"}],"owner":{"account_id":25611192,"reputation":11,"user_id":19384594,"display_name":"Nitish Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1677844413,"accepted_answer_id":75552508,"answer_count":2,"score":-1,"last_activity_date":1677601024,"creation_date":1677208571,"question_id":75552311,"body_markdown":"Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:244)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.RuntimeException: Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nGo to the documentation to learn how to Fix dependency resolution errors.\r\n\tat com.android.build.gradle.internal.tasks.CheckDuplicateClassesDelegate.run(CheckDuplicateClassesDelegate.kt:65)\r\n\tat com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable.execute(CheckDuplicateClassesDelegate.kt:91)\r\n\tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n\t... 2 more\r\n\r\n\r\n\r\n\r\n\r\nI tried to reset the default setting . i am using java language  so i found that error when i create new project.\r\nplease let me now what mistake i a doing?.\r\n\r\n\r\n\r\nThanks in Advance for help.","title":"I am getting error like this, when I create new project in Android Studio","body":"<p>Execution failed for task ':app:checkDebugDuplicateClasses'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:checkDebugDuplicateClasses'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\nat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\nat org.gradle.internal.Factories$1.create(Factories.java:31)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\nat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:244)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\nat org.gradle.internal.Either$Right.fold(Either.java:175)\nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.RuntimeException: Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)</li>\n</ul>\n<p>Go to the documentation to learn how to Fix dependency resolution errors.\nat com.android.build.gradle.internal.tasks.CheckDuplicateClassesDelegate.run(CheckDuplicateClassesDelegate.kt:65)\nat com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable.execute(CheckDuplicateClassesDelegate.kt:91)\nat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\nat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\nat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\nat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\nat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\nat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\nat org.gradle.internal.Factories$1.create(Factories.java:31)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\nat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\nat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\nat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n... 2 more</p>\n<p>I tried to reset the default setting . i am using java language  so i found that error when i create new project.\nplease let me now what mistake i a doing?.</p>\n<p>Thanks in Advance for help.</p>\n"},{"tags":["java","soap","amazon-product-api"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1348412207,"post_id":12553107,"comment_id":16907043,"body_markdown":"How you know that no errors occured?","body":"How you know that no errors occured?"},{"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"score":0,"creation_date":1348413184,"post_id":12553107,"comment_id":16907257,"body_markdown":"There are no exceptions during the request.","body":"There are no exceptions during the request."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1348414293,"post_id":12553107,"comment_id":16907500,"body_markdown":"And you know the result must return a list with size &gt; 0? Btw: sure `port.itemSearch` is of type void (I do not know the amazon API)?","body":"And you know the result must return a list with size &gt; 0? Btw: sure <code>port.itemSearch</code> is of type void (I do not know the amazon API)?"},{"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"score":0,"creation_date":1348414527,"post_id":12553107,"comment_id":16907540,"body_markdown":"As you can see the result variable is of type holder and will hold the results. This request should lookup all products in all search-indizes (all categories) where the name contains &quot;nas&quot;. I&#39;m sure there are several products matching this item....","body":"As you can see the result variable is of type holder and will hold the results. This request should lookup all products in all search-indizes (all categories) where the name contains &quot;nas&quot;. I&#39;m sure there are several products matching this item...."}],"answers":[{"tags":[],"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1348561522,"creation_date":1348561522,"answer_id":12578932,"question_id":12553107,"body_markdown":"I found the mistake I made.\r\n\r\nI created the sources without the binding-conditions for JAXB required by the amazon wsdl.\r\nYou need an binding.xml file containing the following restriction\r\n\r\n    &lt;jaxws:bindings wsdlLocation=&quot;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&quot; xmlns:jaxws=&quot;http://java.sun.com/xml/ns/jaxws&quot;&gt;\r\n      &lt;jaxws:enableWrapperStyle&gt;false&lt;/jaxws:enableWrapperStyle&gt;\r\n    &lt;/jaxws:bindings&gt;\r\n\r\nIn the pom.xml I created the following part for the build-process\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.10&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n   \t&lt;execution&gt;\r\n    \t\t&lt;goals&gt;\r\n    \t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n    \t\t&lt;/goals&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;wsdlUrls&gt;\r\n    \t\t\t    &lt;wsdlUrl&gt;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/wsdlUrl&gt;\r\n    \t\t\t&lt;/wsdlUrls&gt;\r\n    \t\t\t&lt;sourceDestDir&gt;target/generated-sources/apt&lt;/sourceDestDir&gt;\r\n    \t\t\t&lt;bindingFiles&gt;\r\n    \t\t\t\t&lt;bindingFile&gt;../../conf/binding.xml&lt;/bindingFile&gt;\r\n    \t\t\t&lt;/bindingFiles&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t\t&lt;id&gt;wsimport-generate-AWSECommerceService&lt;/id&gt;\r\n    \t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter recreation of the sources I changed the request to the following:\r\n\r\n    String awsAccessKeyID = &quot;&lt;AWS-ACCESS-KEY&gt;&quot;;\r\n    String test = &quot;&lt;ASSOCIATE-TAG&gt;&quot;; \r\n    \t\t\r\n    AWSECommerceService service = new AWSECommerceService();\r\n    service.setHandlerResolver(new AwsHandlerResolver(&quot;&lt;SECRET-KEY&gt;&quot;));\r\n    \r\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    ItemSearchRequest itemRequest = new ItemSearchRequest();\r\n    \r\n    // Fill in the request object:\r\n    itemRequest.setSearchIndex(&quot;Electronics&quot;);\r\n    itemRequest.setKeywords(&quot;NAS&quot;);\r\n    itemRequest.getResponseGroup().add(&quot;ItemAttributes&quot;);\r\n    itemRequest.setItemPage(BigInteger.valueOf(1L));\r\n            \r\n    \r\n    ItemSearch ItemElement = new ItemSearch();\r\n    ItemElement.setAWSAccessKeyId(awsAccessKeyID);\r\n    ItemElement.setAssociateTag(test);\r\n    ItemElement.getRequest().add(itemRequest);\r\n            \r\n    ItemSearchResponse response = port.itemSearch(ItemElement);\r\n    \t\t\r\n    for (Items itemList : response.getItems()) {\r\n    \tfor (Item itemObj : itemList.getItem()) {\r\n    \t\tSystem.out.println(itemObj.getItemAttributes().getBrand());\r\n            System.out.println(itemObj.getItemAttributes().getEAN());\r\n        }\r\n    }","title":"Java SOAP - Product Advertising API - Response Empty","body":"<p>I found the mistake I made.</p>\n\n<p>I created the sources without the binding-conditions for JAXB required by the amazon wsdl.\nYou need an binding.xml file containing the following restriction</p>\n\n<pre><code>&lt;jaxws:bindings wsdlLocation=\"http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl\" xmlns:jaxws=\"http://java.sun.com/xml/ns/jaxws\"&gt;\n  &lt;jaxws:enableWrapperStyle&gt;false&lt;/jaxws:enableWrapperStyle&gt;\n&lt;/jaxws:bindings&gt;\n</code></pre>\n\n<p>In the pom.xml I created the following part for the build-process</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.10&lt;/version&gt;\n    &lt;executions&gt;\n&lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsimport&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;wsdlUrls&gt;\n                &lt;wsdlUrl&gt;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/wsdlUrl&gt;\n            &lt;/wsdlUrls&gt;\n            &lt;sourceDestDir&gt;target/generated-sources/apt&lt;/sourceDestDir&gt;\n            &lt;bindingFiles&gt;\n                &lt;bindingFile&gt;../../conf/binding.xml&lt;/bindingFile&gt;\n            &lt;/bindingFiles&gt;\n        &lt;/configuration&gt;\n        &lt;id&gt;wsimport-generate-AWSECommerceService&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n    &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n            &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After recreation of the sources I changed the request to the following:</p>\n\n<pre><code>String awsAccessKeyID = \"&lt;AWS-ACCESS-KEY&gt;\";\nString test = \"&lt;ASSOCIATE-TAG&gt;\"; \n\nAWSECommerceService service = new AWSECommerceService();\nservice.setHandlerResolver(new AwsHandlerResolver(\"&lt;SECRET-KEY&gt;\"));\n\nAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\nItemSearchRequest itemRequest = new ItemSearchRequest();\n\n// Fill in the request object:\nitemRequest.setSearchIndex(\"Electronics\");\nitemRequest.setKeywords(\"NAS\");\nitemRequest.getResponseGroup().add(\"ItemAttributes\");\nitemRequest.setItemPage(BigInteger.valueOf(1L));\n\n\nItemSearch ItemElement = new ItemSearch();\nItemElement.setAWSAccessKeyId(awsAccessKeyID);\nItemElement.setAssociateTag(test);\nItemElement.getRequest().add(itemRequest);\n\nItemSearchResponse response = port.itemSearch(ItemElement);\n\nfor (Items itemList : response.getItems()) {\n    for (Item itemObj : itemList.getItem()) {\n        System.out.println(itemObj.getItemAttributes().getBrand());\n        System.out.println(itemObj.getItemAttributes().getEAN());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":450983,"reputation":91,"user_id":846604,"display_name":"Arne Kr&#246;ger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12578932,"answer_count":1,"score":0,"last_activity_date":1677600988,"creation_date":1348410200,"question_id":12553107,"body_markdown":"I&#39;ve created a Search-Request to the amazon product API but it&#39;s response is empty.\r\nCan you give me a hint what&#39;s wrong with my code?\r\n\r\nCode:\r\n\r\n    String awsAccessKeyID = &quot;&lt;AWS-KEY&gt;&quot;;\r\n    String test = &quot;&lt;ASSOCIATE-TAG&gt;&quot;; \r\n    \r\n    AWSECommerceService service = new AWSECommerceService();\r\n    service.setHandlerResolver(new AwsHandlerResolver(&quot;&lt;SECRET-KEY&gt;&quot;));\r\n    \r\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    ItemSearch ItemSearch = new ItemSearch();\r\n    \r\n    ItemSearch.setAWSAccessKeyId(awsAccessKeyID);\r\n    ItemSearch.setAssociateTag(test);\r\n    \r\n    ItemSearchRequest SearchRequest = new ItemSearchRequest();\r\n    \r\n    java.util.List&lt;ItemSearchRequest&gt; list = ItemSearch.getRequest();\r\n    \r\n    list.add(SearchRequest);\r\n    \r\n    SearchRequest.setSearchIndex(&quot;All&quot;);\r\n    \r\n    \r\n    SearchRequest.setKeywords(&quot;nas&quot;);\r\n    \r\n    ItemSearch.getRequest().add(SearchRequest);\r\n    ItemSearch.setMarketplaceDomain(&quot;https://ecs.amazonaws.de/onca/xml?Service=AWSECommerceService&quot;);\r\n    \r\n    \r\n    SearchRequest.getResponseGroup().add(&quot;Large&quot;);\r\n    \r\n    Holder&lt;OperationRequest&gt; operationrequest = new Holder&lt;OperationRequest&gt;();\r\n    \r\n    Holder&lt;java.util.List&lt;Items&gt;&gt; items = new Holder&lt;java.util.List&lt;Items&gt;&gt;();\r\n    \r\n    port.itemSearch(ItemSearch.getMarketplaceDomain(), ItemSearch.getAWSAccessKeyId(), ItemSearch.getAssociateTag(), ItemSearch.getXMLEscaping(), &quot;True&quot;, ItemSearch.getShared(), ItemSearch.getRequest(), operationrequest, items);\r\n    \r\n    java.util.List&lt;Items&gt; result = items.value;\r\n    System.out.println(result);\r\n\r\nThe ResultSet is still empty but no errors occured....","title":"Java SOAP - Product Advertising API - Response Empty","body":"<p>I've created a Search-Request to the amazon product API but it's response is empty.\nCan you give me a hint what's wrong with my code?</p>\n\n<p>Code:</p>\n\n<pre><code>String awsAccessKeyID = \"&lt;AWS-KEY&gt;\";\nString test = \"&lt;ASSOCIATE-TAG&gt;\"; \n\nAWSECommerceService service = new AWSECommerceService();\nservice.setHandlerResolver(new AwsHandlerResolver(\"&lt;SECRET-KEY&gt;\"));\n\nAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\nItemSearch ItemSearch = new ItemSearch();\n\nItemSearch.setAWSAccessKeyId(awsAccessKeyID);\nItemSearch.setAssociateTag(test);\n\nItemSearchRequest SearchRequest = new ItemSearchRequest();\n\njava.util.List&lt;ItemSearchRequest&gt; list = ItemSearch.getRequest();\n\nlist.add(SearchRequest);\n\nSearchRequest.setSearchIndex(\"All\");\n\n\nSearchRequest.setKeywords(\"nas\");\n\nItemSearch.getRequest().add(SearchRequest);\nItemSearch.setMarketplaceDomain(\"https://ecs.amazonaws.de/onca/xml?Service=AWSECommerceService\");\n\n\nSearchRequest.getResponseGroup().add(\"Large\");\n\nHolder&lt;OperationRequest&gt; operationrequest = new Holder&lt;OperationRequest&gt;();\n\nHolder&lt;java.util.List&lt;Items&gt;&gt; items = new Holder&lt;java.util.List&lt;Items&gt;&gt;();\n\nport.itemSearch(ItemSearch.getMarketplaceDomain(), ItemSearch.getAWSAccessKeyId(), ItemSearch.getAssociateTag(), ItemSearch.getXMLEscaping(), \"True\", ItemSearch.getShared(), ItemSearch.getRequest(), operationrequest, items);\n\njava.util.List&lt;Items&gt; result = items.value;\nSystem.out.println(result);\n</code></pre>\n\n<p>The ResultSet is still empty but no errors occured....</p>\n"},{"tags":["java","spring","spring-boot","sonarqube","static-analysis"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677590899,"post_id":75592718,"comment_id":133364836,"body_markdown":"What is the method signature of `animalRepository.findById(animalId)`? Especially the return type?","body":"What is the method signature of <code>animalRepository.findById(animalId)</code>? Especially the return type?"},{"owner":{"account_id":22528468,"reputation":3,"user_id":16720897,"display_name":"himanshu chugh"},"score":0,"creation_date":1677591197,"post_id":75592718,"comment_id":133364950,"body_markdown":"Hi @cyberbrain This is the signature/declaration of &quot;findById) : public Optional&lt;Animal&gt; findById(String id);","body":"Hi @cyberbrain This is the signature/declaration of &quot;findById) : public Optional&lt;Animal&gt; findById(String id);"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677591260,"post_id":75592718,"comment_id":133364969,"body_markdown":"I doubt that this assignment is the line that triggers the SonarQube warning, but it could be a bug in SonarQube: https://sonarsource.atlassian.net/browse/SONARJAVA-4174","body":"I doubt that this assignment is the line that triggers the SonarQube warning, but it could be a bug in SonarQube: <a href=\"https://sonarsource.atlassian.net/browse/SONARJAVA-4174\" rel=\"nofollow noreferrer\">sonarsource.atlassian.net/browse/SONARJAVA-4174</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677591273,"post_id":75592718,"comment_id":133364973,"body_markdown":"Doing a `null` check with an optional is useless (or at least pointless). If it can return `null` it is wrong use of `Optional`.","body":"Doing a <code>null</code> check with an optional is useless (or at least pointless). If it can return <code>null</code> it is wrong use of <code>Optional</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1677591367,"post_id":75592718,"comment_id":133365015,"body_markdown":"&quot;*...even if `findById()` returns null*&quot; if that method declares to return Optional then it should *never* return `null` but `Optional.empty()`. If it *can* return `null` then it shouldn&#39;t be declaring `Optional` as return type.","body":"&quot;<i>...even if <code>findById()</code> returns null</i>&quot; if that method declares to return Optional then it should <i>never</i> return <code>null</code> but <code>Optional.empty()</code>. If it <i>can</i> return <code>null</code> then it shouldn&#39;t be declaring <code>Optional</code> as return type."},{"owner":{"account_id":22528468,"reputation":3,"user_id":16720897,"display_name":"himanshu chugh"},"score":0,"creation_date":1677591377,"post_id":75592718,"comment_id":133365018,"body_markdown":"@cyberbrain sorry, i added an if condition, which is actually causing the error. please check the question again...","body":"@cyberbrain sorry, i added an if condition, which is actually causing the error. please check the question again..."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677591739,"post_id":75592718,"comment_id":133365168,"body_markdown":"np, but you have two nice answers now how to work with `Optional`  - and if SonarQube still complains, have a look at the bugticket I linked above...","body":"np, but you have two nice answers now how to work with <code>Optional</code>  - and if SonarQube still complains, have a look at the bugticket I linked above..."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677593405,"post_id":75592718,"comment_id":133365740,"body_markdown":"Related and informative: [Checking whether an Optional object isn&#39;t Empty and null](https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null)","body":"Related and informative: <a href=\"https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null\">Checking whether an Optional object isn&#39;t Empty and null</a>"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677591360,"post_id":75592802,"comment_id":133365008,"body_markdown":"Which is wrong use for optional as well, or at least not the one you should be using. What would be correct (or better) is to use `return animal.orElseThrow(() -&gt; new DeviceNotValidException(&quot;Failed to found animal detail&quot;,  new String[] { animalId}) );`. That would be the proper use of an `Optional`.","body":"Which is wrong use for optional as well, or at least not the one you should be using. What would be correct (or better) is to use <code>return animal.orElseThrow(() -&gt; new DeviceNotValidException(&quot;Failed to found animal detail&quot;,  new String[] { animalId}) );</code>. That would be the proper use of an <code>Optional</code>."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1677591832,"post_id":75592802,"comment_id":133365202,"body_markdown":"@M.Deinum, sure the code can be simplified further, but the question was regarding the error, not how to subjectively write a cleaner statement. One could also argue that your approach is wrong as it would be cleaner to apply `Optional::orElseThrow` to the first line instead of creating a variable.","body":"@M.Deinum, sure the code can be simplified further, but the question was regarding the error, not how to subjectively write a cleaner statement. One could also argue that your approach is wrong as it would be cleaner to apply <code>Optional::orElseThrow</code> to the first line instead of creating a variable."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677593198,"post_id":75592802,"comment_id":133365678,"body_markdown":"That won&#39;t work with a lambda. When giving an answer to solve something show the best way. Abusing an optional in an if statement is simply not proper use of Optional. There are several presentations of Brian Goetz on this topic.","body":"That won&#39;t work with a lambda. When giving an answer to solve something show the best way. Abusing an optional in an if statement is simply not proper use of Optional. There are several presentations of Brian Goetz on this topic."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1677651702,"post_id":75592802,"comment_id":133377958,"body_markdown":"I wasn&#39;t suggesting any lambda anywhere. I was referencing the method .orElseThrow() within Optional to point towards the same solution as Z-100 posted. And that your comment where you&#39;re applying the Optional to a variable could also be improved on. My point is that my initial answer was meant to give an understanding to what Optional is, not improve the overall code quality. Of course improvements to the code quality is a good addition, but you are incorrect to say that the answer is wrong.","body":"I wasn&#39;t suggesting any lambda anywhere. I was referencing the method .orElseThrow() within Optional to point towards the same solution as Z-100 posted. And that your comment where you&#39;re applying the Optional to a variable could also be improved on. My point is that my initial answer was meant to give an understanding to what Optional is, not improve the overall code quality. Of course improvements to the code quality is a good addition, but you are incorrect to say that the answer is wrong."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677657527,"post_id":75592802,"comment_id":133379064,"body_markdown":"IMHO it is wrong because it advocates wrong/improper usage of optional. We should advocate proper usages. It wasn&#39;t about making code shorter it was about proper usage of `Optional` and thus the `orElseThrows`. If assigning that to a variable first depends on the use-case or improves readability by all means go ahead.","body":"IMHO it is wrong because it advocates wrong/improper usage of optional. We should advocate proper usages. It wasn&#39;t about making code shorter it was about proper usage of <code>Optional</code> and thus the <code>orElseThrows</code>. If assigning that to a variable first depends on the use-case or improves readability by all means go ahead."}],"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677591259,"creation_date":1677591259,"answer_id":75592802,"question_id":75592718,"body_markdown":"the line `if (animal == null)` is incorrect for your desired behavior. While the content of the Optional could be null, Optional itself is a wrapper which shouldn&#39;t be null. \r\n\r\nReplace that line with: `if (!animal.isPresent())`.","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>the line <code>if (animal == null)</code> is incorrect for your desired behavior. While the content of the Optional could be null, Optional itself is a wrapper which shouldn't be null.</p>\n<p>Replace that line with: <code>if (!animal.isPresent())</code>.</p>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677591738,"post_id":75592827,"comment_id":133365167,"body_markdown":"The last one is the proper use of an optional, abusing it to still do an if check isn&#39;t the proper way.","body":"The last one is the proper use of an optional, abusing it to still do an if check isn&#39;t the proper way."}],"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677591426,"creation_date":1677591426,"answer_id":75592827,"question_id":75592718,"body_markdown":"An optional&#39;s application is to reduce null-values.\r\n\r\nChecking if the supplied optional is null isn&#39;t enough for the compiler to be sure its value isn&#39;t.\r\n\r\nTo check for an Optional&#39;s value use either `optional.isEmpty();` or `optional.isPresent();`.\r\n\r\nIn your case: check for the repository&#39;s response as follows:\r\n\r\n```\r\nOptional&lt;Animal&gt; animal = animalRepository.findById(animalId);\r\nif (animal.isEmpty()) {\r\n            throw new DeviceNotValidException(&quot;...&quot;);\r\n}\r\n```\r\n\r\nOr even simpler:\r\n\r\n```\r\nAnimal animal = animalRepository.findById(animalId)\r\n                      .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\r\n```\r\n\r\nThe last approach ensures `animal` not being null.","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>An optional's application is to reduce null-values.</p>\n<p>Checking if the supplied optional is null isn't enough for the compiler to be sure its value isn't.</p>\n<p>To check for an Optional's value use either <code>optional.isEmpty();</code> or <code>optional.isPresent();</code>.</p>\n<p>In your case: check for the repository's response as follows:</p>\n<pre><code>Optional&lt;Animal&gt; animal = animalRepository.findById(animalId);\nif (animal.isEmpty()) {\n            throw new DeviceNotValidException(&quot;...&quot;);\n}\n</code></pre>\n<p>Or even simpler:</p>\n<pre><code>Animal animal = animalRepository.findById(animalId)\n                      .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\n</code></pre>\n<p>The last approach ensures <code>animal</code> not being null.</p>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677593254,"post_id":75592952,"comment_id":133365698,"body_markdown":"`getReferenceById` serves a different purpose and actually returns a proxy and only starts throwing an exception when accessing methods on the object.","body":"<code>getReferenceById</code> serves a different purpose and actually returns a proxy and only starts throwing an exception when accessing methods on the object."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1677601243,"post_id":75592952,"comment_id":133368435,"body_markdown":"I fail to see your point: _Returns a reference to the entity with the given identifier. Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an EntityNotFoundException on first access. Some of them will reject invalid identifiers immediately. _  This is basically a call to javax.persistence.EntityManager.getReference(Class&lt;T&gt;, Object)","body":"I fail to see your point: _Returns a reference to the entity with the given identifier. Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an EntityNotFoundException on first access. Some of them will reject invalid identifiers immediately. _  This is basically a call to javax.persistence.EntityManager.getReference(Class&lt;T&gt;, Object)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677657458,"post_id":75592952,"comment_id":133379045,"body_markdown":"It does exactly that. It gives a lazy proxy of that entity and doesn&#39;t do any db access until you start using the entity. This should be used when you want to map a many-to-one to a new object and attach an existing object. This saves the actual query and thus performance.","body":"It does exactly that. It gives a lazy proxy of that entity and doesn&#39;t do any db access until you start using the entity. This should be used when you want to map a many-to-one to a new object and attach an existing object. This saves the actual query and thus performance."}],"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677592098,"creation_date":1677592098,"answer_id":75592952,"question_id":75592718,"body_markdown":"Since you are using Spring Data, the problem you have is checking for an `Optional` to be `null` where said `Optional` is here to reduce null checks.\r\n\r\nThe proper use, proposed by Z-100, is to use `orElseThrow`:\r\n\r\n    Animal animal = animalRepository.findById(animalId)\r\n                          .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\r\n\r\nBut since you are using Spring Data, you may also use [getReferenceById](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)):\r\n\r\n    Animal animal = animalRepository.getReferenceById(animalId);\r\n\r\nIt will generally throw a `EntityNotFoundException`.\r\n\r\n","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>Since you are using Spring Data, the problem you have is checking for an <code>Optional</code> to be <code>null</code> where said <code>Optional</code> is here to reduce null checks.</p>\n<p>The proper use, proposed by Z-100, is to use <code>orElseThrow</code>:</p>\n<pre><code>Animal animal = animalRepository.findById(animalId)\n                      .orElseThrow(() -&gt; new DeviceNotValidException(&quot;...&quot;);\n</code></pre>\n<p>But since you are using Spring Data, you may also use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#getReferenceById(ID)\" rel=\"nofollow noreferrer\">getReferenceById</a>:</p>\n<pre><code>Animal animal = animalRepository.getReferenceById(animalId);\n</code></pre>\n<p>It will generally throw a <code>EntityNotFoundException</code>.</p>\n"}],"owner":{"account_id":22528468,"reputation":3,"user_id":16720897,"display_name":"himanshu chugh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592827,"answer_count":3,"score":0,"last_activity_date":1677600934,"creation_date":1677590785,"question_id":75592718,"body_markdown":"I am using Spring boot and analysing my code with sonarqube, on the below line\r\n\r\n\r\n    Optional&lt;Animal&gt; animal = animalRepository.findById(animalId);\r\n    if (animal == null) {\r\n    \t\t\tthrow new DeviceNotValidException(&quot;Failed to found animal detail&quot;,\tnew String[] { animalId});\r\n    \t\t}\r\n\r\n\r\ni am getting this error\r\n\r\n&gt; Ensure this &quot;Optional&quot; could never be null and remove this null-check.\r\n`\r\n\r\nAs per my understanding, \r\n&quot;Optional is generally used as a return type for methods that might not always have a result to return.&quot;\r\n\r\nI want to make sure that i dont get a null pointer exception even if &quot;findById()&quot; returns null, so i have used &quot;Optional&quot; here.\r\n\r\nIs there anything that I can do to improve my code so that the error disappears?\r\n\r\n\r\nI read this https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null but it did not help.","title":"Ensure this &quot;Optional&quot; could never be null and remove this null-check","body":"<p>I am using Spring boot and analysing my code with sonarqube, on the below line</p>\n<pre><code>Optional&lt;Animal&gt; animal = animalRepository.findById(animalId);\nif (animal == null) {\n            throw new DeviceNotValidException(&quot;Failed to found animal detail&quot;,  new String[] { animalId});\n        }\n</code></pre>\n<p>i am getting this error</p>\n<blockquote>\n<p>Ensure this &quot;Optional&quot; could never be null and remove this null-check.\n`</p>\n</blockquote>\n<p>As per my understanding,\n&quot;Optional is generally used as a return type for methods that might not always have a result to return.&quot;</p>\n<p>I want to make sure that i dont get a null pointer exception even if &quot;findById()&quot; returns null, so i have used &quot;Optional&quot; here.</p>\n<p>Is there anything that I can do to improve my code so that the error disappears?</p>\n<p>I read this <a href=\"https://stackoverflow.com/questions/71614826/checking-whether-an-optional-object-isnt-empty-and-null\">Checking whether an Optional object isn&#39;t Empty and null</a> but it did not help.</p>\n"},{"tags":["java","jakarta-mail","amazon-product-api"],"comments":[{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1387073099,"post_id":20590292,"comment_id":30805533,"body_markdown":"You should show the exact error message and stack trace.","body":"You should show the exact error message and stack trace."},{"owner":{"account_id":2060460,"reputation":981,"user_id":1837134,"accept_rate":65,"display_name":"sa_nyc"},"score":0,"creation_date":1387073175,"post_id":20590292,"comment_id":30805544,"body_markdown":"@kapep that helps me to improve my question. Why would you down vote it?","body":"@kapep that helps me to improve my question. Why would you down vote it?"},{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":2,"creation_date":1387073822,"post_id":20590292,"comment_id":30805676,"body_markdown":"I don&#39;t know who downvoted. Maybe the one who also voted for close, maybe someone else - no one can tell you but the person who downvoted. It&#39;s ok to want to know _why_ it was downvoted but you shouldn&#39;t accuse anyone of doing it. I think the question is ok, don&#39;t worry to much about a downvote.","body":"I don&#39;t know who downvoted. Maybe the one who also voted for close, maybe someone else - no one can tell you but the person who downvoted. It&#39;s ok to want to know <i>why</i> it was downvoted but you shouldn&#39;t accuse anyone of doing it. I think the question is ok, don&#39;t worry to much about a downvote."},{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":1,"creation_date":1387074044,"post_id":20590292,"comment_id":30805722,"body_markdown":"So the error says you are using the invalid `http://webservices.amazon.com/AWSECommerceService/2010-11-01` and you should use `http://webservices.amazon.com/AWSECommerceService/2011-08-01` instead. I guess you just need to find out where and how to change that.","body":"So the error says you are using the invalid <code>http:&#47;&#47;webservices.amazon.com&#47;AWSECommerceService&#47;2010-11-01</code> and you should use <code>http:&#47;&#47;webservices.amazon.com&#47;AWSECommerceService&#47;2011-08-01</code> instead. I guess you just need to find out where and how to change that."}],"answers":[{"comments":[{"owner":{"account_id":401124,"reputation":865,"user_id":767499,"accept_rate":100,"display_name":"CyberMJ"},"score":0,"creation_date":1387314901,"post_id":20601027,"comment_id":30904643,"body_markdown":"@sa_nyc What do you mean by &quot;no javaDocs&quot;? You don&#39;t have a source code of those AWS classes you are using?","body":"@sa_nyc What do you mean by &quot;no javaDocs&quot;? You don&#39;t have a source code of those AWS classes you are using?"},{"owner":{"account_id":2060460,"reputation":981,"user_id":1837134,"accept_rate":65,"display_name":"sa_nyc"},"score":0,"creation_date":1387315126,"post_id":20601027,"comment_id":30904776,"body_markdown":"It says Jar file &quot;path-to-jar&quot; has no source attachment. I am using amazon-ecs.jar","body":"It says Jar file &quot;path-to-jar&quot; has no source attachment. I am using amazon-ecs.jar"},{"owner":{"account_id":401124,"reputation":865,"user_id":767499,"accept_rate":100,"display_name":"CyberMJ"},"score":0,"creation_date":1387315406,"post_id":20601027,"comment_id":30904942,"body_markdown":"@sa_nyc Go here http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl, download this WSDL and generate Java classes from it. You&#39;ll get everything you need.","body":"@sa_nyc Go here <a href=\"http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl\" rel=\"nofollow noreferrer\">webservices.amazon.com/AWSECommerceService/&hellip;</a>, download this WSDL and generate Java classes from it. You&#39;ll get everything you need."}],"tags":[],"owner":{"account_id":401124,"reputation":865,"user_id":767499,"accept_rate":100,"display_name":"CyberMJ"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387148683,"creation_date":1387148683,"answer_id":20601027,"question_id":20590292,"body_markdown":"You are using the wrong namespace (actually, the wrong version of WS) for your Webservice client and its port.\r\n\r\nGo to `AWSECommerceService` and `AWSECommerceServicePortType` classes and replace all namespaces which look like `http://webservices.amazon.com/AWSECommerceService/2010-11-01` with `http://webservices.amazon.com/AWSECommerceService/2013-08-01`.\r\n\r\n\r\n\r\n","title":"Amazon Product Advertising API request with Java","body":"<p>You are using the wrong namespace (actually, the wrong version of WS) for your Webservice client and its port.</p>\n\n<p>Go to <code>AWSECommerceService</code> and <code>AWSECommerceServicePortType</code> classes and replace all namespaces which look like <code>http://webservices.amazon.com/AWSECommerceService/2010-11-01</code> with <code>http://webservices.amazon.com/AWSECommerceService/2013-08-01</code>.</p>\n"}],"owner":{"account_id":2060460,"reputation":981,"user_id":1837134,"accept_rate":65,"display_name":"sa_nyc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1759,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677600715,"creation_date":1387071363,"question_id":20590292,"body_markdown":"Hi My code for the same is \r\n\r\n    // Initialize Web Service\r\n    \t\t\tHandlerResolver handlerResolver=new AwsHandlerResolver(credentials.getAWSSecretKey());\r\n    \t\t\tAWSECommerceService service = new AWSECommerceService();\r\n    \t\t\tservice.setHandlerResolver(handlerResolver); \r\n    \t\t\t// Create Web Service Connection\r\n    \t\t\tAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    \t\t\t// Add Parameters for the Item Lookup\r\n    \t\t\tItemLookupRequest itemLookup = new ItemLookupRequest();\r\n    \t\t\titemLookup.setIdType(&quot;ASIN&quot;);\r\n    \t\t\titemLookup.getItemId().add(&quot;B000RE216U&quot;);\r\n    \r\n    \t\t\t// Wrap Request in Lookup Body \r\n    \t\t\tItemLookup lookup = new ItemLookup();\r\n    \t\t\tlookup.setAWSAccessKeyId(credentials.getAWSAccessKeyId());\r\n    \t\t\tlookup.getRequest().add(itemLookup);\r\n    \r\n    \t\t\tItemLookupResponse response = port.itemLookup(lookup);\r\n    \r\n    \t\t\tSystem.out.println(&quot;response: &quot; + response.toString());\r\n\r\nI keep getting the error cannot convert from Void to AWSECommerceService in the beginning. I have the AWSHandlerResolver file and codec jar installed and configured.\r\n\r\nError Message:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: {http://webservices.amazon.com/AWSECommerceService/2010-11-01}AWSECommerceService is not a valid service. Valid services are: {http://webservices.amazon.com/AWSECommerceService/2011-08-01}AWSECommerceService\r\n    \tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:223)\r\n    \tat com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:168)\r\n    \tat com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:96)\r\n    \tat javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\r\n    \tat com.ECS.client.jax.AWSECommerceService.&lt;init&gt;(AWSECommerceService.java:46) \r\n\r\n\r\nI have been searching online. I might have to change target namespace for AWSECommerceService. But cannot find how. Please help me\r\n","title":"Amazon Product Advertising API request with Java","body":"<p>Hi My code for the same is </p>\n\n<pre><code>// Initialize Web Service\n            HandlerResolver handlerResolver=new AwsHandlerResolver(credentials.getAWSSecretKey());\n            AWSECommerceService service = new AWSECommerceService();\n            service.setHandlerResolver(handlerResolver); \n            // Create Web Service Connection\n            AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\n            // Add Parameters for the Item Lookup\n            ItemLookupRequest itemLookup = new ItemLookupRequest();\n            itemLookup.setIdType(\"ASIN\");\n            itemLookup.getItemId().add(\"B000RE216U\");\n\n            // Wrap Request in Lookup Body \n            ItemLookup lookup = new ItemLookup();\n            lookup.setAWSAccessKeyId(credentials.getAWSAccessKeyId());\n            lookup.getRequest().add(itemLookup);\n\n            ItemLookupResponse response = port.itemLookup(lookup);\n\n            System.out.println(\"response: \" + response.toString());\n</code></pre>\n\n<p>I keep getting the error cannot convert from Void to AWSECommerceService in the beginning. I have the AWSHandlerResolver file and codec jar installed and configured.</p>\n\n<p>Error Message:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.ws.WebServiceException: {http://webservices.amazon.com/AWSECommerceService/2010-11-01}AWSECommerceService is not a valid service. Valid services are: {http://webservices.amazon.com/AWSECommerceService/2011-08-01}AWSECommerceService\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:223)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:168)\n    at com.sun.xml.internal.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:96)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\n    at com.ECS.client.jax.AWSECommerceService.&lt;init&gt;(AWSECommerceService.java:46) \n</code></pre>\n\n<p>I have been searching online. I might have to change target namespace for AWSECommerceService. But cannot find how. Please help me</p>\n"},{"tags":["java","android","textview","htmlcleaner","css-parsing"],"owner":{"account_id":11433635,"reputation":1,"user_id":8381670,"display_name":"abku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677600667,"creation_date":1677579994,"question_id":75590730,"body_markdown":"Following is the code:\r\n\r\n```\r\nString htmlString = &quot;&lt;p style=\\&quot;font-family: Arial; font-size: 18px; color: #FF0000;\\&quot;&gt;This is an example of an HTML string with inline CSS styles that include a text color.&lt;/p&gt;&quot;;\r\nHtmlSpanner htmlSpanner = new HtmlSpanner();\r\nCharSequence spannedText = htmlSpanner.fromHtml(htmlString);\r\nTextView textView = findViewById(R.id.text_view);\r\ntextView.setText(spannedText);\r\n```\r\n\r\nBut the color or font-family or font-size all are not applied.\r\nIs there problem with my code or should I include some other classes as well?\r\n\r\nI want to see the css style applied on the text, so that it reflects on textview as well.\r\n\r\nI have used used this library : https://github.com/NightWhistler/HtmlSpanner\r\n","title":"HtmlSpanner library is not able to parse CSS in android?","body":"<p>Following is the code:</p>\n<pre><code>String htmlString = &quot;&lt;p style=\\&quot;font-family: Arial; font-size: 18px; color: #FF0000;\\&quot;&gt;This is an example of an HTML string with inline CSS styles that include a text color.&lt;/p&gt;&quot;;\nHtmlSpanner htmlSpanner = new HtmlSpanner();\nCharSequence spannedText = htmlSpanner.fromHtml(htmlString);\nTextView textView = findViewById(R.id.text_view);\ntextView.setText(spannedText);\n</code></pre>\n<p>But the color or font-family or font-size all are not applied.\nIs there problem with my code or should I include some other classes as well?</p>\n<p>I want to see the css style applied on the text, so that it reflects on textview as well.</p>\n<p>I have used used this library : <a href=\"https://github.com/NightWhistler/HtmlSpanner\" rel=\"nofollow noreferrer\">https://github.com/NightWhistler/HtmlSpanner</a></p>\n"},{"tags":["java","hibernate","java.util.concurrent"],"answers":[{"comments":[{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1677600817,"post_id":75594527,"comment_id":133368305,"body_markdown":"What is your suggestion? The session is created per request?","body":"What is your suggestion? The session is created per request?"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1677622621,"post_id":75594527,"comment_id":133374070,"body_markdown":"That, or per transaction. https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#_transactional_patterns_and_anti_patterns","body":"That, or per transaction. <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#_transactional_patterns_and_anti_patterns\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.2/userguide/html_single/&hellip;</a>"}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677600365,"creation_date":1677600365,"answer_id":75594527,"question_id":75593594,"body_markdown":"I don&#39;t know what the `@Service` annotation does, but I&#39;m guessing it defines a singleton, and so you&#39;re sharing a single `Session` between all concurrent threads.\r\n\r\nThat&#39;s illegal, of course.","title":"Hibernate ConcurrentModificationException problem in Stress testing","body":"<p>I don't know what the <code>@Service</code> annotation does, but I'm guessing it defines a singleton, and so you're sharing a single <code>Session</code> between all concurrent threads.</p>\n<p>That's illegal, of course.</p>\n"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677600365,"creation_date":1677595658,"question_id":75593594,"body_markdown":"There is an application with the following configuration:\r\n\r\n1- HK2 for DI\r\n\r\n2- Hibernate for ORM\r\n\r\nand \r\n\r\n3- GrizzlyHttpServer \r\n\r\nand the its hibernate configuration is :\r\n\r\n    import org.hibernate.*;\r\n    import org.hibernate.boot.*;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.jvnet.hk2.annotations.Service;\r\n    \r\n    @Service\r\n    public class HibernateOracle {\r\n        private Session session;\r\n        private SessionFactory factory;\r\n    \r\n        public HibernateOracle() {\r\n            final StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure() // configures settings from hibernate.cfg.xml\r\n                    .build();\r\n            factory = new MetadataSources(registry).addPackage(&quot;com.art.entity&quot;).buildMetadata().buildSessionFactory();\r\n            session = factory.openSession();\r\n        }\r\n    \r\n        public Session getSession() {\r\n            if (session == null || !session.isOpen())\r\n                session = factory.openSession();\r\n            return this.session;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nand the one method of a repository file is:\r\n\r\n    @jakarta.inject.Inject\r\n    private HibernateOracle hibernateOracle;\r\n\r\n    @Override\r\n        public User get(String username) throws UserNotFoundException {\r\n            Session session = hibernateOracle.getSession();\r\n            try {\r\n                return (User) session.createNamedQuery(&quot;User.findOneByUserName&quot;)\r\n                        .setParameter(&quot;username&quot;, username).getSingleResult();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new UserNotFoundException();\r\n            } finally {\r\n                //\r\n            }\r\n        }\r\n\r\nIt is worked correctly in the normal state but when the application is tested by such as load-test the following exception is raised in this method:\r\n\r\n&gt; java.util.ConcurrentModificationException \tat\r\n&gt; java.base/java.util.HashMap.forEach(HashMap.java:1424) \tat\r\n&gt; org.hibernate.resource.jdbc.internal.ResourceRegistryStandardImpl.releaseResources(ResourceRegistryStandardImpl.java:328)\r\n&gt; \tat\r\n&gt; org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.afterTransaction(AbstractLogicalConnectionImplementor.java:60)\r\n&gt; \tat\r\n&gt; org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterTransaction(LogicalConnectionManagedImpl.java:167)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.afterTransaction(JdbcCoordinatorImpl.java:276)\r\n&gt; \tat\r\n&gt; org.hibernate.internal.SessionImpl.afterOperation(SessionImpl.java:550)\r\n&gt; \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1464) \tat\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\r\n&gt; \tat\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n&gt; \tat\r\n&gt; org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.dao.impl.UserDaoImpl.get(UserDaoImpl.java:238)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.customer_management.UserControllerImpl.get(UserControllerImpl.java:159)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.customer_management.CustomerControllerImpl.checkCustomer(CustomerControllerImpl.java:598)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.messaging.MTSMSControllerImpl.sendMessageManyToMany(MTSMSControllerImpl.java:282)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.messaging.ArtMTSMSImpl.sendMessageManyToMany(ArtMTSMSImpl.java:140)\r\n&gt; \tat\r\n&gt; com.art.vesal.backend.core.controller.rest.MessageRelayRest.sendMessageManyToMany(MessageRelayRest.java:26)\r\n&gt; \tat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown\r\n&gt; Source) \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n&gt; org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n&gt; \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248) \tat\r\n&gt; org.glassfish.jersey.internal.Errors$1.call(Errors.java:244) \tat\r\n&gt; org.glassfish.jersey.internal.Errors.process(Errors.java:292) \tat\r\n&gt; org.glassfish.jersey.internal.Errors.process(Errors.java:274) \tat\r\n&gt; org.glassfish.jersey.internal.Errors.process(Errors.java:244) \tat\r\n&gt; org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n&gt; \tat\r\n&gt; org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:356)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:190)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nWhere is the problem and how do I fix it such hibernate connection polling and so on?","title":"Hibernate ConcurrentModificationException problem in Stress testing","body":"<p>There is an application with the following configuration:</p>\n<p>1- HK2 for DI</p>\n<p>2- Hibernate for ORM</p>\n<p>and</p>\n<p>3- GrizzlyHttpServer</p>\n<p>and the its hibernate configuration is :</p>\n<pre><code>import org.hibernate.*;\nimport org.hibernate.boot.*;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.jvnet.hk2.annotations.Service;\n\n@Service\npublic class HibernateOracle {\n    private Session session;\n    private SessionFactory factory;\n\n    public HibernateOracle() {\n        final StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure() // configures settings from hibernate.cfg.xml\n                .build();\n        factory = new MetadataSources(registry).addPackage(&quot;com.art.entity&quot;).buildMetadata().buildSessionFactory();\n        session = factory.openSession();\n    }\n\n    public Session getSession() {\n        if (session == null || !session.isOpen())\n            session = factory.openSession();\n        return this.session;\n    }\n\n\n}\n</code></pre>\n<p>and the one method of a repository file is:</p>\n<pre><code>@jakarta.inject.Inject\nprivate HibernateOracle hibernateOracle;\n\n@Override\n    public User get(String username) throws UserNotFoundException {\n        Session session = hibernateOracle.getSession();\n        try {\n            return (User) session.createNamedQuery(&quot;User.findOneByUserName&quot;)\n                    .setParameter(&quot;username&quot;, username).getSingleResult();\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new UserNotFoundException();\n        } finally {\n            //\n        }\n    }\n</code></pre>\n<p>It is worked correctly in the normal state but when the application is tested by such as load-test the following exception is raised in this method:</p>\n<blockquote>\n<p>java.util.ConcurrentModificationException     at\njava.base/java.util.HashMap.forEach(HashMap.java:1424)    at\norg.hibernate.resource.jdbc.internal.ResourceRegistryStandardImpl.releaseResources(ResourceRegistryStandardImpl.java:328)\nat\norg.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.afterTransaction(AbstractLogicalConnectionImplementor.java:60)\nat\norg.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterTransaction(LogicalConnectionManagedImpl.java:167)\nat\norg.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.afterTransaction(JdbcCoordinatorImpl.java:276)\nat\norg.hibernate.internal.SessionImpl.afterOperation(SessionImpl.java:550)\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1464)   at\norg.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\nat\norg.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\nat\norg.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665)\nat\ncom.art.vesal.backend.core.dao.impl.UserDaoImpl.get(UserDaoImpl.java:238)\nat\ncom.art.vesal.backend.core.controller.customer_management.UserControllerImpl.get(UserControllerImpl.java:159)\nat\ncom.art.vesal.backend.core.controller.customer_management.CustomerControllerImpl.checkCustomer(CustomerControllerImpl.java:598)\nat\ncom.art.vesal.backend.core.controller.messaging.MTSMSControllerImpl.sendMessageManyToMany(MTSMSControllerImpl.java:282)\nat\ncom.art.vesal.backend.core.controller.messaging.ArtMTSMSImpl.sendMessageManyToMany(ArtMTSMSImpl.java:140)\nat\ncom.art.vesal.backend.core.controller.rest.MessageRelayRest.sendMessageManyToMany(MessageRelayRest.java:26)\nat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown\nSource)   at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\norg.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\nat\norg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\nat\norg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\nat\norg.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\nat\norg.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\nat\norg.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\nat\norg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\nat\norg.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\nat\norg.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)     at\norg.glassfish.jersey.internal.Errors$1.call(Errors.java:244)  at\norg.glassfish.jersey.internal.Errors.process(Errors.java:292)     at\norg.glassfish.jersey.internal.Errors.process(Errors.java:274)     at\norg.glassfish.jersey.internal.Errors.process(Errors.java:244)     at\norg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\nat\norg.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\nat\norg.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\nat\norg.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:356)\nat\norg.glassfish.grizzly.http.server.HttpHandler$1.run(HttpHandler.java:190)\nat\norg.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\nat\norg.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>Where is the problem and how do I fix it such hibernate connection polling and so on?</p>\n"},{"tags":["java","javalin"],"owner":{"account_id":2365474,"reputation":345,"user_id":2071226,"display_name":"Ve9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677600241,"creation_date":1677600241,"question_id":75594507,"body_markdown":"i&#39;m writing a simple API that read a file from a remote server and return it to the caller using Javalin. \r\n\r\nThis is my simple code:\r\n\r\n    class FileReader{\r\n        public []byte getFileBytes(String fileURL){\r\n           ...\r\n           HttpURLConnection con = null;\r\n           try {\r\n              URL url = new URL(fileURL);\r\n              con = (HttpURLConnection) url.openConnection();\r\n              con.setRequestMethod(&quot;GET&quot;);\r\n\r\n              ...\r\n\r\n              int status = con.getResponseCode();\r\n            \r\n              if (status != 200) {\r\n                 //manage errors\r\n              } else {\r\n                return con.getInputStream().readAllBytes();\r\n              }\r\n\r\n          }catch(Exception e){\r\n              //manage exceptions\r\n          }finally {\r\n              if(con != null) {\r\n                  con.disconnect();\r\n              }\r\n          }\r\n        }\r\n    }\r\n\r\n    public void handle(Context ctx) throws Exception {\r\n        ...\r\n\r\n        []byte fileBytes = fileReader.getFileBytes(&quot;https://..../myfile&quot;);\r\n        ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\r\n        ctx.result(fileBytes);\r\n    }\r\n\r\nEverithing seems to be ok but the problem is that every file is first downloaded into memory before returning to the original caller. I was wondering if there are some more clever ways to do this, such as reading the bytes into a buffer (a chunk at a time) from the inputstream and write them in the javalin response so that the memory is only used for the chunk length... I couldn&#39;t find a way to do this.\r\n\r\nAlso, what I&#39;ve seen is that javalin has a method **ctx.result** that takes an inputstream and I was hoping to try it and see if the memory used was less, but doing something like the following, results in a **IOException &quot;stream is closed&quot; error**\r\n\r\n    public void handle(Context ctx) throws Exception {\r\n       HttpURLConnection con = null;\r\n       try {\r\n          URL url = new URL(fileURL);\r\n          con = (HttpURLConnection) url.openConnection();\r\n          con.setRequestMethod(&quot;GET&quot;);\r\n\r\n          ...\r\n\r\n          int status = con.getResponseCode();\r\n\r\n          if (status != 200) {\r\n             //manage errors\r\n          } else {\r\n            ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\r\n            ctx.result(con.getInputStream());\r\n          }\r\n\r\n      }catch(Exception e){\r\n          //manage exceptions\r\n      }finally {\r\n          if(con != null) {\r\n              con.disconnect();\r\n          }\r\n      }\r\n    }\r\n\r\nIf you have any hints or ideas i would be grateful.\r\nThanks","title":"What is the best way to write a response from a HttpURLConnection inputStream in Javalin?","body":"<p>i'm writing a simple API that read a file from a remote server and return it to the caller using Javalin.</p>\n<p>This is my simple code:</p>\n<pre><code>class FileReader{\n    public []byte getFileBytes(String fileURL){\n       ...\n       HttpURLConnection con = null;\n       try {\n          URL url = new URL(fileURL);\n          con = (HttpURLConnection) url.openConnection();\n          con.setRequestMethod(&quot;GET&quot;);\n\n          ...\n\n          int status = con.getResponseCode();\n        \n          if (status != 200) {\n             //manage errors\n          } else {\n            return con.getInputStream().readAllBytes();\n          }\n\n      }catch(Exception e){\n          //manage exceptions\n      }finally {\n          if(con != null) {\n              con.disconnect();\n          }\n      }\n    }\n}\n\npublic void handle(Context ctx) throws Exception {\n    ...\n\n    []byte fileBytes = fileReader.getFileBytes(&quot;https://..../myfile&quot;);\n    ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\n    ctx.result(fileBytes);\n}\n</code></pre>\n<p>Everithing seems to be ok but the problem is that every file is first downloaded into memory before returning to the original caller. I was wondering if there are some more clever ways to do this, such as reading the bytes into a buffer (a chunk at a time) from the inputstream and write them in the javalin response so that the memory is only used for the chunk length... I couldn't find a way to do this.</p>\n<p>Also, what I've seen is that javalin has a method <strong>ctx.result</strong> that takes an inputstream and I was hoping to try it and see if the memory used was less, but doing something like the following, results in a <strong>IOException &quot;stream is closed&quot; error</strong></p>\n<pre><code>public void handle(Context ctx) throws Exception {\n   HttpURLConnection con = null;\n   try {\n      URL url = new URL(fileURL);\n      con = (HttpURLConnection) url.openConnection();\n      con.setRequestMethod(&quot;GET&quot;);\n\n      ...\n\n      int status = con.getResponseCode();\n\n      if (status != 200) {\n         //manage errors\n      } else {\n        ctx.header(Header.CONTENT_TYPE, &quot;application/octet-stream&quot;);\n        ctx.result(con.getInputStream());\n      }\n\n  }catch(Exception e){\n      //manage exceptions\n  }finally {\n      if(con != null) {\n          con.disconnect();\n      }\n  }\n}\n</code></pre>\n<p>If you have any hints or ideas i would be grateful.\nThanks</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":6965830,"reputation":815,"user_id":5343907,"display_name":"Pavel B."},"score":1,"creation_date":1520594682,"post_id":49192555,"comment_id":85390122,"body_markdown":"The crash seems not to be related to the code in the question. Do you use a bound service somewhere in the project and forget to unbind it in onStop?","body":"The crash seems not to be related to the code in the question. Do you use a bound service somewhere in the project and forget to unbind it in onStop?"},{"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"score":0,"creation_date":1520594766,"post_id":49192555,"comment_id":85390164,"body_markdown":"yes i have a service which loads data i will update my question","body":"yes i have a service which loads data i will update my question"},{"owner":{"account_id":12400977,"reputation":283,"user_id":9038254,"display_name":"yu wang"},"score":0,"creation_date":1520595622,"post_id":49192555,"comment_id":85390578,"body_markdown":"Maybe the library VigerPDF has some cancel() or clear() method to close the async work? In the onPuase() to stop it.","body":"Maybe the library VigerPDF has some cancel() or clear() method to close the async work? In the onPuase() to stop it."},{"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"score":0,"creation_date":1520596489,"post_id":49192555,"comment_id":85391090,"body_markdown":"I think it does&#39;t have any way to stop the async task","body":"I think it does&#39;t have any way to stop the async task"},{"owner":{"account_id":6965830,"reputation":815,"user_id":5343907,"display_name":"Pavel B."},"score":0,"creation_date":1520682427,"post_id":49192555,"comment_id":85421954,"body_markdown":"Try to implement the new viewmodel design pattern an do your data loading in an intentservice. From within the intentservice update the livedata, and in your activity implement an observer for data changes. This design pattern is lifecycle-aware exactly for thecases like yours. https://developer.android.com/topic/libraries/architecture/viewmodel.html","body":"Try to implement the new viewmodel design pattern an do your data loading in an intentservice. From within the intentservice update the livedata, and in your activity implement an observer for data changes. This design pattern is lifecycle-aware exactly for thecases like yours. <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>"},{"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"score":0,"creation_date":1520846554,"post_id":49192555,"comment_id":85466745,"body_markdown":"thanks i will try it","body":"thanks i will try it"}],"owner":{"account_id":13103667,"reputation":51,"user_id":9467199,"display_name":"Androider"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1677600176,"creation_date":1520594230,"question_id":49192555,"body_markdown":"I am having a serious problem when entering my activity and pressing the back button before the data loads completely. I have a view pager inside the activity which loads images. My App crashes and this is the exception I get:\r\n\r\n&gt; W/Binder: Caught a RuntimeException from the binder stub\r\n&gt; implementation.\r\n&gt;                                          java.lang.NullPointerException at\r\n&gt; android.inputmethodservice.IInputMethodWrapper.setSessionEnabled(IInputMethodWrapper.java:280)\r\n&gt; at\r\n&gt; com.android.internal.view.IInputMethod$Stub.onTransact(IInputMethod.java:129)\r\n&gt; at android.os.Binder.execTransact(Binder.java:404) at\r\n&gt; dalvik.system.NativeStart.run(Native Method)\r\n\r\nI m using a broadcast receiver to update the ui and I unregister the receiver in `onPause()`.\r\n\r\n     updateUIReciver = new BroadcastReceiver() {\r\n\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                if (intent.getAction().equals(&quot;refresh&quot;))\r\n                    if (viewPager.getAdapter() == null) {\r\n                        VigerAdapter adapter = new VigerAdapter(OpenUrlActivity.this, bitmaps);\r\n                        viewPager.setAdapter(adapter);\r\n                    } else\r\n                        viewPager.getAdapter().notifyDataSetChanged();\r\n            }\r\n        };\r\n        registerReceiver(updateUIReciver, filter);&#39;\r\n\r\nthis is my onPause method\r\n\r\n        @Override\r\n    protected void onPause() {\r\n        if (updateUIReciver != null)\r\n            unregisterReceiver(updateUIReciver);\r\n        super.onPause();\r\n    }\r\n\r\nThis is the library I am using to download bitmaps images \r\n\r\n    \r\n            new VigerPDF(this)\r\n                    .initFromFile(file, new OnResultListener() {\r\n                        @Override\r\n                        public void resultData(Bitmap bitmap) {\r\n                            bitmaps.add(bitmap);\r\n                            try {\r\n                                Intent intent = new Intent();\r\n                                intent.setAction(&quot;refresh&quot;);\r\n                                OpenUrlActivity.this.sendBroadcast(intent);\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void progressData(int i) {\r\n                        }\r\n\r\n                        @Override\r\n                        public void failed(Throwable throwable) {\r\n                            throwable.printStackTrace();\r\n                                             }\r\n                    });\r\n\r\n","title":"App crash when pressing back button before view pager loads all data","body":"<p>I am having a serious problem when entering my activity and pressing the back button before the data loads completely. I have a view pager inside the activity which loads images. My App crashes and this is the exception I get:</p>\n<blockquote>\n<p>W/Binder: Caught a RuntimeException from the binder stub\nimplementation.\njava.lang.NullPointerException at\nandroid.inputmethodservice.IInputMethodWrapper.setSessionEnabled(IInputMethodWrapper.java:280)\nat\ncom.android.internal.view.IInputMethod$Stub.onTransact(IInputMethod.java:129)\nat android.os.Binder.execTransact(Binder.java:404) at\ndalvik.system.NativeStart.run(Native Method)</p>\n</blockquote>\n<p>I m using a broadcast receiver to update the ui and I unregister the receiver in <code>onPause()</code>.</p>\n<pre><code> updateUIReciver = new BroadcastReceiver() {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (intent.getAction().equals(&quot;refresh&quot;))\n                if (viewPager.getAdapter() == null) {\n                    VigerAdapter adapter = new VigerAdapter(OpenUrlActivity.this, bitmaps);\n                    viewPager.setAdapter(adapter);\n                } else\n                    viewPager.getAdapter().notifyDataSetChanged();\n        }\n    };\n    registerReceiver(updateUIReciver, filter);'\n</code></pre>\n<p>this is my onPause method</p>\n<pre><code>    @Override\nprotected void onPause() {\n    if (updateUIReciver != null)\n        unregisterReceiver(updateUIReciver);\n    super.onPause();\n}\n</code></pre>\n<p>This is the library I am using to download bitmaps images</p>\n<pre><code>        new VigerPDF(this)\n                .initFromFile(file, new OnResultListener() {\n                    @Override\n                    public void resultData(Bitmap bitmap) {\n                        bitmaps.add(bitmap);\n                        try {\n                            Intent intent = new Intent();\n                            intent.setAction(&quot;refresh&quot;);\n                            OpenUrlActivity.this.sendBroadcast(intent);\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void progressData(int i) {\n                    }\n\n                    @Override\n                    public void failed(Throwable throwable) {\n                        throwable.printStackTrace();\n                                         }\n                });\n</code></pre>\n"},{"tags":["java","filter","stream"],"comments":[{"owner":{"account_id":899861,"reputation":2035,"user_id":936269,"accept_rate":77,"display_name":"Lars Nielsen"},"score":0,"creation_date":1520600110,"post_id":49194082,"comment_id":85393100,"body_markdown":"Do you want to do this before or after the function returns? Because a simple solution is to reiterate the the `List&lt;FileInfo&gt;` and see if the file is in folder `a` or `b`","body":"Do you want to do this before or after the function returns? Because a simple solution is to reiterate the the <code>List&lt;FileInfo&gt;</code> and see if the file is in folder <code>a</code> or <code>b</code>"},{"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"score":0,"creation_date":1520600209,"post_id":49194082,"comment_id":85393159,"body_markdown":"It really doesnt matter if its before or after aslong as i can check in my delete file method if the file is from folder a or b","body":"It really doesnt matter if its before or after aslong as i can check in my delete file method if the file is from folder a or b"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600142,"creation_date":1520600142,"answer_id":49194302,"question_id":49194082,"body_markdown":"To know at which depth you are relative to `localPath`, you could count the number of elements in the path. Something like this:\r\n\r\n    int mainFolderDepth = Paths.get(localPath).toRealPath().getNameCount();\r\n\r\n    //in your stream\r\n    int folderDepth = p.toRealPath().getNameCount();\r\n    if (! Files.isDirectory(p)) folderDepth--; //don&#39;t count the file name\r\n    if (folderDepth != mainFolderDepth) { /* not in main folder */ }\r\n\r\nAlternatively, in your file walk, make sure you don&#39;t enter subfolders if you want to ignore them by setting the `maxDepth` argument to 1.","title":"Files.walk identify if file is from subfolder or mainfolder","body":"<p>To know at which depth you are relative to <code>localPath</code>, you could count the number of elements in the path. Something like this:</p>\n\n<pre><code>int mainFolderDepth = Paths.get(localPath).toRealPath().getNameCount();\n\n//in your stream\nint folderDepth = p.toRealPath().getNameCount();\nif (! Files.isDirectory(p)) folderDepth--; //don't count the file name\nif (folderDepth != mainFolderDepth) { /* not in main folder */ }\n</code></pre>\n\n<p>Alternatively, in your file walk, make sure you don't enter subfolders if you want to ignore them by setting the <code>maxDepth</code> argument to 1.</p>\n"},{"tags":[],"owner":{"account_id":899861,"reputation":2035,"user_id":936269,"accept_rate":77,"display_name":"Lars Nielsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1520601866,"creation_date":1520601866,"answer_id":49194827,"question_id":49194082,"body_markdown":"Okay, so you want to be able to only delete files, and only files, in the main folder, and not files in the sub folders. Thus you need a list of files in the main folder. You can do this by checking the URL of the `FileInfo` objects from the result of your `listBackupFilesInLocalDir` method. This can be done in the following manner: \r\n\r\n    public ArrayList&lt;FileInfo&gt; filesInMainFolder(string mainPath,\r\n                                             ArrayList&lt;FileInfo&gt; files) {\r\n        ArrayList&lt;FileInfo&gt; res = new ArrayList&lt;FileInfo&gt;();\r\n    \r\n        for (FileInfo info : files) {\r\n            String url = info.getUrl().toString();\r\n            // Get the path of the File for which we have file information\r\n            url = url.substring(0, url.lastIndexOf(&#39;/&#39;));\r\n    \r\n            // Is file in the main folder\r\n            if (url.compareTo(mainPath) == 0 &amp;&amp; info.isDirectory() == false) {\r\n    \r\n                res.add(info);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\nThe method should be fairly easy to follow. And option I have not include here is the [`getUrl()`][1] method on URLs because I am not 100% certain how it works. If it gets you the directory path, use that instead and drop the conversion to string of the url and simply use `info.getUrl().getPath()`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()","title":"Files.walk identify if file is from subfolder or mainfolder","body":"<p>Okay, so you want to be able to only delete files, and only files, in the main folder, and not files in the sub folders. Thus you need a list of files in the main folder. You can do this by checking the URL of the <code>FileInfo</code> objects from the result of your <code>listBackupFilesInLocalDir</code> method. This can be done in the following manner: </p>\n\n<pre><code>public ArrayList&lt;FileInfo&gt; filesInMainFolder(string mainPath,\n                                         ArrayList&lt;FileInfo&gt; files) {\n    ArrayList&lt;FileInfo&gt; res = new ArrayList&lt;FileInfo&gt;();\n\n    for (FileInfo info : files) {\n        String url = info.getUrl().toString();\n        // Get the path of the File for which we have file information\n        url = url.substring(0, url.lastIndexOf('/'));\n\n        // Is file in the main folder\n        if (url.compareTo(mainPath) == 0 &amp;&amp; info.isDirectory() == false) {\n\n            res.add(info);\n        }\n    }\n    return res;\n}\n</code></pre>\n\n<p>The method should be fairly easy to follow. And option I have not include here is the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()\" rel=\"nofollow noreferrer\"><code>getUrl()</code></a> method on URLs because I am not 100% certain how it works. If it gets you the directory path, use that instead and drop the conversion to string of the url and simply use <code>info.getUrl().getPath()</code></p>\n"}],"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49194827,"answer_count":2,"score":0,"last_activity_date":1677600120,"creation_date":1520599393,"question_id":49194082,"body_markdown":"I finally got my Files.walk working now my question is if there is any way to identify if the file collected to the list comes from a subfolder or mainfolder because there is a delete function for these files but the files from the sub folder the user should not be able to delete.\r\n\r\n     private static List&lt;FileInfo&gt; listBackupFilesInLocalDir(String localPath, Predicate&lt;String&gt; fileNamePredicate) {\r\n        try (Stream&lt;Path&gt; files = Files.walk(Paths.get(localPath))) {\r\n            return files.filter(p -&gt; fileNamePredicate.test(p.getFileName().toString()))\r\n                        .map(p -&gt; new FileInfo(p.getFileName().toString(), p.toFile().length()))\r\n                        .sorted()\r\n                        .collect(toList());\r\n        } catch (IOException e) {\r\n            log.error(&quot;Error listing directories&quot;, e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nThis is the function which find and collects all the files. Is it some sort of filter I need or is it even possible to do what I want?\r\n\r\n      deleteLocalFile.addClickListener(event -&gt; {\r\n            try {\r\n                Files.delete(Paths.get(this.localStorage, String.valueOf(localFilesComboBox.getValue())));\r\n            } catch (IOException e) {\r\n                UI.getCurrent().access(() -&gt; Notification.show(e.getMessage(), Notification.Type.ERROR_MESSAGE));\r\n            }\r\n\r\n            UI.getCurrent().access(() -&gt; {\r\n                localFilesComboBox.removeAllItems();\r\n                localFilesComboBox.addItems(listBackupFiles());\r\n            });\r\n        });\r\n\r\nThe above is the delete method and what I want to is simply like a \r\n```\r\nif(from folder a) {\r\ndeny delete\r\n}\r\n```\r\nor something similar","title":"Files.walk identify if file is from subfolder or mainfolder","body":"<p>I finally got my Files.walk working now my question is if there is any way to identify if the file collected to the list comes from a subfolder or mainfolder because there is a delete function for these files but the files from the sub folder the user should not be able to delete.</p>\n<pre><code> private static List&lt;FileInfo&gt; listBackupFilesInLocalDir(String localPath, Predicate&lt;String&gt; fileNamePredicate) {\n    try (Stream&lt;Path&gt; files = Files.walk(Paths.get(localPath))) {\n        return files.filter(p -&gt; fileNamePredicate.test(p.getFileName().toString()))\n                    .map(p -&gt; new FileInfo(p.getFileName().toString(), p.toFile().length()))\n                    .sorted()\n                    .collect(toList());\n    } catch (IOException e) {\n        log.error(&quot;Error listing directories&quot;, e);\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>This is the function which find and collects all the files. Is it some sort of filter I need or is it even possible to do what I want?</p>\n<pre><code>  deleteLocalFile.addClickListener(event -&gt; {\n        try {\n            Files.delete(Paths.get(this.localStorage, String.valueOf(localFilesComboBox.getValue())));\n        } catch (IOException e) {\n            UI.getCurrent().access(() -&gt; Notification.show(e.getMessage(), Notification.Type.ERROR_MESSAGE));\n        }\n\n        UI.getCurrent().access(() -&gt; {\n            localFilesComboBox.removeAllItems();\n            localFilesComboBox.addItems(listBackupFiles());\n        });\n    });\n</code></pre>\n<p>The above is the delete method and what I want to is simply like a</p>\n<pre><code>if(from folder a) {\ndeny delete\n}\n</code></pre>\n<p>or something similar</p>\n"},{"tags":["java","null-test"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1677599132,"post_id":75594227,"comment_id":133367702,"body_markdown":"Maybe the message can&#39;t assume that `holderForState.getNodeElementSelectedAPI()` always returns the same value?  Try assigning the value to a temporary variable first.","body":"Maybe the message can&#39;t assume that <code>holderForState.getNodeElementSelectedAPI()</code> always returns the same value?  Try assigning the value to a temporary variable first."}],"answers":[{"comments":[{"owner":{"account_id":24546611,"reputation":174,"user_id":18456370,"display_name":"Yanni2"},"score":0,"creation_date":1677599560,"post_id":75594291,"comment_id":133367844,"body_markdown":"Whats the problem with my solution?","body":"Whats the problem with my solution?"},{"owner":{"account_id":27901320,"reputation":3,"user_id":21305553,"display_name":"KKorzuno"},"score":0,"creation_date":1677599565,"post_id":75594291,"comment_id":133367846,"body_markdown":"@Nonnull String abc = holderForState.getNodeElementSelectedAPI(); This line has the same warning.","body":"@Nonnull String abc = holderForState.getNodeElementSelectedAPI(); This line has the same warning."},{"owner":{"account_id":27901320,"reputation":3,"user_id":21305553,"display_name":"KKorzuno"},"score":0,"creation_date":1677599673,"post_id":75594291,"comment_id":133367885,"body_markdown":"You removed the @Nonnull. But the whole trick is that I want abc to be Nonnull. I am supposed to use abc as a parameter in a method that has specified it as Nonnull.","body":"You removed the @Nonnull. But the whole trick is that I want abc to be Nonnull. I am supposed to use abc as a parameter in a method that has specified it as Nonnull."},{"owner":{"account_id":27901320,"reputation":3,"user_id":21305553,"display_name":"KKorzuno"},"score":0,"creation_date":1677599825,"post_id":75594291,"comment_id":133367947,"body_markdown":"Ok. I cannot make it Nonnull. If I do what you both proposed, it stops the warning on the method. This Nonnull stuff is confusing as hell.","body":"Ok. I cannot make it Nonnull. If I do what you both proposed, it stops the warning on the method. This Nonnull stuff is confusing as hell."}],"tags":[],"owner":{"account_id":24546611,"reputation":174,"user_id":18456370,"display_name":"Yanni2"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677599187,"creation_date":1677599187,"answer_id":75594291,"question_id":75594227,"body_markdown":"You are always calling the `.getNodeElementSelectedAPI();` method. It might be the case that the return type of this methods is different after the second call so it can possible get `null`.\r\n\r\nI would recommend you to write your code something like\r\n```java\r\nString abc = holderForState.getNodeElementSelectedAPI();\r\nif( abc == null || abc.equals(&quot;&quot;)) {\r\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\r\n}\r\n```\r\nThe variable `abc` can get null but it would still trigger the `IllegalArgumentException`. ","title":"How to properly write a null test on input that is nullable to avoid warnings in Java?","body":"<p>You are always calling the <code>.getNodeElementSelectedAPI();</code> method. It might be the case that the return type of this methods is different after the second call so it can possible get <code>null</code>.</p>\n<p>I would recommend you to write your code something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>String abc = holderForState.getNodeElementSelectedAPI();\nif( abc == null || abc.equals(&quot;&quot;)) {\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\n}\n</code></pre>\n<p>The variable <code>abc</code> can get null but it would still trigger the <code>IllegalArgumentException</code>.</p>\n"}],"owner":{"account_id":27901320,"reputation":3,"user_id":21305553,"display_name":"KKorzuno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75594291,"answer_count":1,"score":0,"last_activity_date":1677599187,"creation_date":1677598839,"question_id":75594227,"body_markdown":"How to write a proper test on a method that can return a null to assign the value to a nonnull variable? \r\n\r\n```\r\n@Nonnull String abc;\r\nif(holderForState.getNodeElementSelectedAPI() == null || holderForState.getNodeElementSelectedAPI().equals(&quot;&quot;)) {\r\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\r\n}\r\nabc = holderForState.getNodeElementSelectedAPI();\r\n```\r\nWhy does VS-code tell me that: Null type safety: The expression of type &#39;String&#39; needs unchecked conversion to conform to &#39;@Nonnull String&#39;Java(16778128) on abc assignment line? I am literally testing if it is null 1 line above and throwing out of context if it is...\r\n\r\nI tried multiple versions of this test, but I get the same. To make it simpler I am showing the assignment, whereas in reality I am using abc as a method parameter, with same outcomes.","title":"How to properly write a null test on input that is nullable to avoid warnings in Java?","body":"<p>How to write a proper test on a method that can return a null to assign the value to a nonnull variable?</p>\n<pre><code>@Nonnull String abc;\nif(holderForState.getNodeElementSelectedAPI() == null || holderForState.getNodeElementSelectedAPI().equals(&quot;&quot;)) {\n    throw new IllegalArgumentException(&quot;SelectedAPI is empty or null during logic usage&quot;);\n}\nabc = holderForState.getNodeElementSelectedAPI();\n</code></pre>\n<p>Why does VS-code tell me that: Null type safety: The expression of type 'String' needs unchecked conversion to conform to '@Nonnull String'Java(16778128) on abc assignment line? I am literally testing if it is null 1 line above and throwing out of context if it is...</p>\n<p>I tried multiple versions of this test, but I get the same. To make it simpler I am showing the assignment, whereas in reality I am using abc as a method parameter, with same outcomes.</p>\n"},{"tags":["java","spring","properties"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1416005843,"creation_date":1416005843,"answer_id":26940230,"question_id":26935960,"body_markdown":"You can specify additional property files with command line parameters:\r\n\r\n    java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\r\n\r\nTake a look at [Application properties file Spring Boot doc chapter][1].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files","title":"spring boot adding another properties file to the environment","body":"<p>You can specify additional property files with command line parameters:</p>\n\n<pre><code>java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties\n</code></pre>\n\n<p>Take a look at <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files\" rel=\"nofollow\">Application properties file Spring Boot doc chapter</a>.</p>\n"},{"tags":[],"owner":{"account_id":3838209,"reputation":149,"user_id":3182057,"display_name":"jayb0b"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496330744,"creation_date":1496330744,"answer_id":44311612,"question_id":26935960,"body_markdown":"If you want to do it without command line parameters, this will do the trick.\r\n\r\n    @SpringBootApplication\r\n    @PropertySources({\r\n            @PropertySource(&quot;classpath:application.properties&quot;),\r\n            @PropertySource(&quot;classpath:anotherbunchof.properties&quot;)\r\n    })\r\n    public class YourApplication{\r\n    \r\n    }","title":"spring boot adding another properties file to the environment","body":"<p>If you want to do it without command line parameters, this will do the trick.</p>\n\n<pre><code>@SpringBootApplication\n@PropertySources({\n        @PropertySource(\"classpath:application.properties\"),\n        @PropertySource(\"classpath:anotherbunchof.properties\")\n})\npublic class YourApplication{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18007222,"reputation":141,"user_id":13087712,"display_name":"Philemon Hilscher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677599134,"creation_date":1677599134,"answer_id":75594282,"question_id":26935960,"body_markdown":"I&#39;ve found a solution that makes the properties available in the spring environment as well as providing support for using them in `@Value(&quot;${my.custom.prop}&quot;)`\r\n```java\r\n@Bean\r\nprotected PropertySourcesPlaceholderConfigurer createPropertyConfigurer(ConfigurableEnvironment environment)\r\n        throws IOException {\r\n    PropertySourcesPlaceholderConfigurer result = new PropertySourcesPlaceholderConfigurer();\r\n\r\n    FileUrlResource resource = new FileUrlResource(Paths.get(&quot;custom-props.properties&quot;).toString());\r\n    result.setLocation(resource);\r\n    try (InputStream is = resource.getInputStream()) {\r\n        Properties properties = new Properties();\r\n        properties.load(is);\r\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(&quot;customProperties&quot;, properties));\r\n    }\r\n    return result;\r\n}\r\n```\r\nThis is very useful when you are not in a spring boot autoconfigured environment but have access to basic spring features.","title":"spring boot adding another properties file to the environment","body":"<p>I've found a solution that makes the properties available in the spring environment as well as providing support for using them in <code>@Value(&quot;${my.custom.prop}&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nprotected PropertySourcesPlaceholderConfigurer createPropertyConfigurer(ConfigurableEnvironment environment)\n        throws IOException {\n    PropertySourcesPlaceholderConfigurer result = new PropertySourcesPlaceholderConfigurer();\n\n    FileUrlResource resource = new FileUrlResource(Paths.get(&quot;custom-props.properties&quot;).toString());\n    result.setLocation(resource);\n    try (InputStream is = resource.getInputStream()) {\n        Properties properties = new Properties();\n        properties.load(is);\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(&quot;customProperties&quot;, properties));\n    }\n    return result;\n}\n</code></pre>\n<p>This is very useful when you are not in a spring boot autoconfigured environment but have access to basic spring features.</p>\n"}],"owner":{"account_id":1330099,"reputation":79,"user_id":1274196,"accept_rate":20,"display_name":"starcraftOnCrack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6768,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26940230,"answer_count":3,"score":6,"last_activity_date":1677599134,"creation_date":1415987352,"question_id":26935960,"body_markdown":"I was wondering if it was possible to add another properties file to the environment path besides just the application.properties file. If so how do you specify the new path? So you can access the properties using the Autowired Environment variable. Currently in my java project the default properties file application.properties have the path /soctrav/src.main.resources/application.properties","title":"spring boot adding another properties file to the environment","body":"<p>I was wondering if it was possible to add another properties file to the environment path besides just the application.properties file. If so how do you specify the new path? So you can access the properties using the Autowired Environment variable. Currently in my java project the default properties file application.properties have the path /soctrav/src.main.resources/application.properties</p>\n"},{"tags":["java","multithreading"],"answers":[{"comments":[{"owner":{"account_id":13574923,"reputation":37,"user_id":9792535,"display_name":"Juan Pollacchi"},"score":0,"creation_date":1677599531,"post_id":75594263,"comment_id":133367831,"body_markdown":"Thank you!. \nStill though, If I acquire the lock inside the for loop, wouldn&#39;t that lock be potentially released once the synchronized block is compleated, thus alowing the forloop of another runnable instance to acquire the lock at that time and allowing for some interleaving?","body":"Thank you!.  Still though, If I acquire the lock inside the for loop, wouldn&#39;t that lock be potentially released once the synchronized block is compleated, thus alowing the forloop of another runnable instance to acquire the lock at that time and allowing for some interleaving?"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1677695095,"post_id":75594263,"comment_id":133390478,"body_markdown":"Yes, potentially. It may or may not occur. You could see it all happen sequentially as you&#39;re seeing where the other threads aren&#39;t unblocked in time to execute, or you could see the other threads take over. There&#39;s no guarantee what behavior will happen. If you put a `Thread.sleep(1000)` after you release the lock, you may see some interleaving.","body":"Yes, potentially. It may or may not occur. You could see it all happen sequentially as you&#39;re seeing where the other threads aren&#39;t unblocked in time to execute, or you could see the other threads take over. There&#39;s no guarantee what behavior will happen. If you put a <code>Thread.sleep(1000)</code> after you release the lock, you may see some interleaving."}],"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677599047,"creation_date":1677599047,"answer_id":75594263,"question_id":75594117,"body_markdown":"Using `lock2`, you are synchronizing on a different instance of `lock2` per `Worker`. Each `Thread` will have its own object to synchronize on, so there will be no blocking of the other threads.\r\n\r\nIf you synchronize on `lock`, each thread will share the same object because it is a static instance, so threads will be blocked.","title":"Could you tell me why these threads don&#39;t overlap on the first case and do on the second?","body":"<p>Using <code>lock2</code>, you are synchronizing on a different instance of <code>lock2</code> per <code>Worker</code>. Each <code>Thread</code> will have its own object to synchronize on, so there will be no blocking of the other threads.</p>\n<p>If you synchronize on <code>lock</code>, each thread will share the same object because it is a static instance, so threads will be blocked.</p>\n"}],"owner":{"account_id":13574923,"reputation":37,"user_id":9792535,"display_name":"Juan Pollacchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75594263,"answer_count":1,"score":0,"last_activity_date":1677599047,"creation_date":1677598297,"question_id":75594117,"body_markdown":"If I run the main method on &quot;MyClass&quot; and use the synchronized block with the lock object from that one (lock), each thread prints out the count sequentially even though the lock is acquired within the for block. \r\n\r\nConversely, if I use the lock declared within the Worker class (lock2), the threads do overlap in the print statement executions. \r\n\r\n*(I&#39;ve added a concatenation to the System.out.format() to add more places where the thread can be interrupted by the OS).*\r\n\r\n\r\n\r\n \r\n    class MyClass {\r\n        private static Object lock = new Object();\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            (new Thread(new Worker(),&quot;Thread 1&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 2&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 3&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 4&quot;)).start();\r\n            (new Thread(new Worker(),&quot;Thread 5&quot;)).start();\r\n        }\r\n    \r\n        private static class Worker implements Runnable{\r\n            private int runCount = 1;\r\n    \r\n            private Object lock2 = new Object();\r\n    \r\n            @Override\r\n            public void run() {\r\n                for(int i = 0; i &lt; 100; i++){\r\n                    synchronized (lock){\r\n                        System.out.format(&quot;s&quot; + &quot;%s: runCount = %d\\n&quot;, Thread.currentThread().getName(), runCount++);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nCould you tell me why this difference occurs?","title":"Could you tell me why these threads don&#39;t overlap on the first case and do on the second?","body":"<p>If I run the main method on &quot;MyClass&quot; and use the synchronized block with the lock object from that one (lock), each thread prints out the count sequentially even though the lock is acquired within the for block.</p>\n<p>Conversely, if I use the lock declared within the Worker class (lock2), the threads do overlap in the print statement executions.</p>\n<p><em>(I've added a concatenation to the System.out.format() to add more places where the thread can be interrupted by the OS).</em></p>\n<pre><code>class MyClass {\n    private static Object lock = new Object();\n\n    public static void main(String[] args) {\n\n        (new Thread(new Worker(),&quot;Thread 1&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 2&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 3&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 4&quot;)).start();\n        (new Thread(new Worker(),&quot;Thread 5&quot;)).start();\n    }\n\n    private static class Worker implements Runnable{\n        private int runCount = 1;\n\n        private Object lock2 = new Object();\n\n        @Override\n        public void run() {\n            for(int i = 0; i &lt; 100; i++){\n                synchronized (lock){\n                    System.out.format(&quot;s&quot; + &quot;%s: runCount = %d\\n&quot;, Thread.currentThread().getName(), runCount++);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Could you tell me why this difference occurs?</p>\n"},{"tags":["java","spring","oauth-2.0","keycloak"],"comments":[{"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"score":0,"creation_date":1678124877,"post_id":75594262,"comment_id":133468955,"body_markdown":"Have you looked at the Keycloak documentation about upgrading? https://www.keycloak.org/docs/latest/upgrading/#intro","body":"Have you looked at the Keycloak documentation about upgrading? <a href=\"https://www.keycloak.org/docs/latest/upgrading/#intro\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/upgrading/#intro</a>"},{"owner":{"account_id":19142368,"reputation":74,"user_id":13982094,"display_name":"Djordje"},"score":0,"creation_date":1681046747,"post_id":75594262,"comment_id":133992899,"body_markdown":"Yes It will be some new storage api in Keycloak:\nhttps://www.keycloak.org/2022/07/storage-map.html\nBut is recommended version is =&gt;20","body":"Yes It will be some new storage api in Keycloak: <a href=\"https://www.keycloak.org/2022/07/storage-map.html\" rel=\"nofollow noreferrer\">keycloak.org/2022/07/storage-map.html</a> But is recommended version is =&gt;20"}],"owner":{"account_id":19142368,"reputation":74,"user_id":13982094,"display_name":"Djordje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677599045,"creation_date":1677599045,"question_id":75594262,"body_markdown":"I want to update my Keycloak to latest version which is currently 21.0.0. But I saw that we don&#39;t have UserStorageProvider.class within &#39;services&#39; package, now it&#39;s within &#39;legacy&#39;. What is the new approach to custom users identity provider so I can avoid to use legacy package? \r\n","title":"Keycloak user store provider above 18.0.0","body":"<p>I want to update my Keycloak to latest version which is currently 21.0.0. But I saw that we don't have UserStorageProvider.class within 'services' package, now it's within 'legacy'. What is the new approach to custom users identity provider so I can avoid to use legacy package?</p>\n"},{"tags":["java","exception","threadpool"],"comments":[{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":5,"creation_date":1286391966,"post_id":3875739,"comment_id":4124502,"body_markdown":"Excellent question. I wonder why only few people run into this.","body":"Excellent question. I wonder why only few people run into this."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1398787053,"post_id":3875739,"comment_id":35795872,"body_markdown":"See also http://stackoverflow.com/questions/1687977/how-to-properly-catch-runtimeexceptions-from-executors","body":"See also <a href=\"http://stackoverflow.com/questions/1687977/how-to-properly-catch-runtimeexceptions-from-executors\" title=\"how to properly catch runtimeexceptions from executors\">stackoverflow.com/questions/1687977/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":4,"creation_date":1286391250,"post_id":3875784,"comment_id":4124380,"body_markdown":"`UncaughExceptionHandler` does not work with scheduled runnables.","body":"<code>UncaughExceptionHandler</code> does not work with scheduled runnables."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1286391660,"post_id":3875784,"comment_id":4124447,"body_markdown":"@Willi: Let me verify and then I&#39;ll delete it if I confirm.","body":"@Willi: Let me verify and then I&#39;ll delete it if I confirm."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1286393170,"post_id":3875784,"comment_id":4124672,"body_markdown":"Undeleting since it still seems to be useful for non-scheduled thread pool executors.","body":"Undeleting since it still seems to be useful for non-scheduled thread pool executors."}],"tags":[],"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1286393756,"creation_date":1286390199,"answer_id":3875784,"question_id":3875739,"body_markdown":"**Warning**: This method is not applicable to **scheduled** thread pool executors.  This answer has been undeleted for its relevance to other thread pool executors.  See [Willi&#39;s answer][1].\r\n\r\nOverride the `ThreadFactory` to give Threads an UncaughtExceptionHandler:\r\n\r\n    ThreadPoolExecutor exec = new ThreadPoolExecutor...;\r\n        \r\n    exec.setThreadFactory(new ExceptionCatchingThreadFactory(exec.getThreadFactory()));\r\n    //go on to submit tasks...\r\n    \r\n    \r\n    private static class ExceptionCatchingThreadFactory implements ThreadFactory {\r\n        private final ThreadFactory delegate;\r\n\r\n        private ExceptionCatchingThreadFactory(ThreadFactory delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n\r\n        public Thread newThread(final Runnable r) {\r\n            Thread t = delegate.newThread(r);\r\n            t.setUncaughtExceptionHandler(new UncaughtExceptionHandler() {\r\n                @Override\r\n                public void uncaughtException(Thread t, Throwable e) {\r\n                    e.printStackTrace();  //replace with your handling logic.\r\n                }\r\n            });\r\n            return t;\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875968#3875968","title":"Exception handling in ThreadPools","body":"<p><strong>Warning</strong>: This method is not applicable to <strong>scheduled</strong> thread pool executors.  This answer has been undeleted for its relevance to other thread pool executors.  See <a href=\"https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875968#3875968\">Willi's answer</a>.</p>\n\n<p>Override the <code>ThreadFactory</code> to give Threads an UncaughtExceptionHandler:</p>\n\n<pre><code>ThreadPoolExecutor exec = new ThreadPoolExecutor...;\n\nexec.setThreadFactory(new ExceptionCatchingThreadFactory(exec.getThreadFactory()));\n//go on to submit tasks...\n\n\nprivate static class ExceptionCatchingThreadFactory implements ThreadFactory {\n    private final ThreadFactory delegate;\n\n    private ExceptionCatchingThreadFactory(ThreadFactory delegate) {\n        this.delegate = delegate;\n    }\n\n    public Thread newThread(final Runnable r) {\n        Thread t = delegate.newThread(r);\n        t.setUncaughtExceptionHandler(new UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Thread t, Throwable e) {\n                e.printStackTrace();  //replace with your handling logic.\n            }\n        });\n        return t;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45034,"reputation":3821,"user_id":132474,"accept_rate":50,"display_name":"Michael"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1286390241,"creation_date":1286390241,"answer_id":3875791,"question_id":3875739,"body_markdown":"Consider adding a static event in your *ScheduledThreadPoolExecutor* class that any of your tasks can call if an exception is thrown.  That way, you can leverage that event to capture and handle the exceptions that occur within your threads.","title":"Exception handling in ThreadPools","body":"<p>Consider adding a static event in your <em>ScheduledThreadPoolExecutor</em> class that any of your tasks can call if an exception is thrown.  That way, you can leverage that event to capture and handle the exceptions that occur within your threads.</p>\n"},{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1286390858,"post_id":3875807,"comment_id":4124291,"body_markdown":"How does that work for subsequent invocations?  e.g. how do you get a future for the second invocation, after the first has returned successfully?","body":"How does that work for subsequent invocations?  e.g. how do you get a future for the second invocation, after the first has returned successfully?"},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1286391866,"post_id":3875807,"comment_id":4124488,"body_markdown":"@Mark If one execution failed, there will be no second (or third, ...) execution. Copied from the original javadoc: *If any execution of the task encounters an exception, subsequent executions are suppressed.*","body":"@Mark If one execution failed, there will be no second (or third, ...) execution. Copied from the original javadoc: <i>If any execution of the task encounters an exception, subsequent executions are suppressed.</i>"},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1286392119,"post_id":3875807,"comment_id":4124524,"body_markdown":"@Willi: Then I guess I&#39;m confused about the OP&#39;s statement &quot;seems to be eating Exceptions...&quot; if it&#39;s only ever run once.","body":"@Willi: Then I guess I&#39;m confused about the OP&#39;s statement &quot;seems to be eating Exceptions...&quot; if it&#39;s only ever run once."},{"owner":{"account_id":209644,"reputation":1256,"user_id":460790,"accept_rate":75,"display_name":"Ivan"},"score":0,"creation_date":1286393508,"post_id":3875807,"comment_id":4124723,"body_markdown":"@Mark -- The problem I was having is that a repeating Scheduled task was throwing an exception -- then the thread executing that task just died with no indication that a thread in my thread pool encountered a problem.","body":"@Mark -- The problem I was having is that a repeating Scheduled task was throwing an exception -- then the thread executing that task just died with no indication that a thread in my thread pool encountered a problem."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1286393540,"post_id":3875807,"comment_id":4124729,"body_markdown":"@Mark Good point. Maybe he meant one Exception from multiple runs?","body":"@Mark Good point. Maybe he meant one Exception from multiple runs?"}],"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1286390348,"creation_date":1286390348,"answer_id":3875807,"question_id":3875739,"body_markdown":"You can use the `get()` method from the `Future` you&#39;re getting by calling `scheduleAtFixedRate()`. It will throw an `ExecutionException` if an exeception occurred during the thread execution.","title":"Exception handling in ThreadPools","body":"<p>You can use the <code>get()</code> method from the <code>Future</code> you're getting by calling <code>scheduleAtFixedRate()</code>. It will throw an <code>ExecutionException</code> if an exeception occurred during the thread execution.</p>\n"},{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1286392248,"post_id":3875968,"comment_id":4124537,"body_markdown":"Alright I confirmed it and deleted my answer.  Thanks!  Feel free to modify your step 2 to go into details.","body":"Alright I confirmed it and deleted my answer.  Thanks!  Feel free to modify your step 2 to go into details."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":2,"creation_date":1286392747,"post_id":3875968,"comment_id":4124609,"body_markdown":"Actually I tried your #2 and couldn&#39;t get it to work.  The exception was caught well above my try/catch block in the delegating Runnable, so this seems to succumb to the same problem as the UncaughtExceptionHandler.","body":"Actually I tried your #2 and couldn&#39;t get it to work.  The exception was caught well above my try/catch block in the delegating Runnable, so this seems to succumb to the same problem as the UncaughtExceptionHandler."},{"owner":{"account_id":209644,"reputation":1256,"user_id":460790,"accept_rate":75,"display_name":"Ivan"},"score":0,"creation_date":1286392996,"post_id":3875968,"comment_id":4124643,"body_markdown":"I just accepted this -- But Mark is saying Decorating the submitted tasks with a try/catch isn&#39;t ....I&#39;m gonna try this out.","body":"I just accepted this -- But Mark is saying Decorating the submitted tasks with a try/catch isn&#39;t ....I&#39;m gonna try this out."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1286393607,"post_id":3875968,"comment_id":4124737,"body_markdown":"@Ivan: I&#39;m not saying that wouldn&#39;t work.  Willi seemed at first (through his reference to my suggestion) to be suggesting that you wrap the Runnable submitted to `ThreadFactory.newThread(Runnable)` with a Runnable that catches the exception.  That won&#39;t work.  Wrapping each Runnable *submitted* to the executor *will* work but has little to do with my suggestions, so that link should probably be removed for clarity.","body":"@Ivan: I&#39;m not saying that wouldn&#39;t work.  Willi seemed at first (through his reference to my suggestion) to be suggesting that you wrap the Runnable submitted to <code>ThreadFactory.newThread(Runnable)</code> with a Runnable that catches the exception.  That won&#39;t work.  Wrapping each Runnable <i>submitted</i> to the executor <i>will</i> work but has little to do with my suggestions, so that link should probably be removed for clarity."},{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":1,"creation_date":1399692006,"post_id":3875968,"comment_id":36182855,"body_markdown":"Here&#39;s an article on exception-handling in threaded code, including `Future` and `ExecutorService`: http://literatejava.com/threading/silent-thread-death-unhandled-exceptions/","body":"Here&#39;s an article on exception-handling in threaded code, including <code>Future</code> and <code>ExecutorService</code>: <a href=\"http://literatejava.com/threading/silent-thread-death-unhandled-exceptions/\" rel=\"nofollow noreferrer\">literatejava.com/threading/&hellip;</a>"},{"owner":{"account_id":2198497,"reputation":752,"user_id":1943559,"accept_rate":92,"display_name":"Gikkman"},"score":0,"creation_date":1506676719,"post_id":3875968,"comment_id":79925741,"body_markdown":"This is a very good catch. I was quite intrigued by this behaviour, and I am glad I finally found someone else who also encountered this. I wonder why this behaviour exists...","body":"This is a very good catch. I was quite intrigued by this behaviour, and I am glad I finally found someone else who also encountered this. I wonder why this behaviour exists..."}],"tags":[],"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"comment_count":6,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1677598852,"creation_date":1286391483,"answer_id":3875968,"question_id":3875739,"body_markdown":"I wrote a small [post][1] about this problem a while ago. You have two options:\r\n\r\n 1. Use the [solution][2] provided by Colin Herbert or\r\n 2. use a modified version of Mark Peters [solution][3] but instead of assigning a `UncaughtExceptionHandler` you wrap each submitted runnable into a runnable of your own which executes (calls `run`) the real runnable inside a try-catch-block.\r\n\r\n**EDIT**  \r\nAs pointed out by Mark, it&#39;s important to wrap the `Runnable` passed to `ScheduledExecutorService` instead of the one passed to the `ThreadFactory`.\r\n\r\n  [1]: https://web.archive.org/web/20120213060953/https://www.cosmocode.de/en/blog/schoenborn/2009-12/17-uncaught-exceptions-in-scheduled-tasks\r\n  [2]: https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875807#3875807\r\n  [3]: https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875784#3875784","title":"Exception handling in ThreadPools","body":"<p>I wrote a small <a href=\"https://web.archive.org/web/20120213060953/https://www.cosmocode.de/en/blog/schoenborn/2009-12/17-uncaught-exceptions-in-scheduled-tasks\" rel=\"nofollow noreferrer\">post</a> about this problem a while ago. You have two options:</p>\n<ol>\n<li>Use the <a href=\"https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875807#3875807\">solution</a> provided by Colin Herbert or</li>\n<li>use a modified version of Mark Peters <a href=\"https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools/3875784#3875784\">solution</a> but instead of assigning a <code>UncaughtExceptionHandler</code> you wrap each submitted runnable into a runnable of your own which executes (calls <code>run</code>) the real runnable inside a try-catch-block.</li>\n</ol>\n<p><strong>EDIT</strong><br />\nAs pointed out by Mark, it's important to wrap the <code>Runnable</code> passed to <code>ScheduledExecutorService</code> instead of the one passed to the <code>ThreadFactory</code>.</p>\n"},{"tags":[],"owner":{"account_id":279256,"reputation":3581,"user_id":574317,"display_name":"Johan Boberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370602057,"creation_date":1370602057,"answer_id":16982267,"question_id":3875739,"body_markdown":"You could also use a `ThreadPoolTaskScheduler` from the [Spring Framework][1], which exposes a method  to set an error handler and does all the wrapping for you. The default behavior depends on the type of task:\r\n\r\n*If the provided `ErrorHandler` is not null, it will be used. Otherwise, repeating tasks will have errors suppressed by default whereas one-shot tasks will have errors propagated by default since those errors may be expected through the returned `Future`. In both cases, the errors will be logged.*\r\n\r\nIf you only want to use the wrapping part and not the `TaskScheduler` you can use \r\n\r\n    TaskUtils.decorateTaskWithErrorHandler(task, errorHandler, isRepeatingTask)\r\n\r\nwhich the `TaskScheduler` uses internally.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/current/spring-framework-reference/html/scheduling.html","title":"Exception handling in ThreadPools","body":"<p>You could also use a <code>ThreadPoolTaskScheduler</code> from the <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"nofollow\">Spring Framework</a>, which exposes a method  to set an error handler and does all the wrapping for you. The default behavior depends on the type of task:</p>\n\n<p><em>If the provided <code>ErrorHandler</code> is not null, it will be used. Otherwise, repeating tasks will have errors suppressed by default whereas one-shot tasks will have errors propagated by default since those errors may be expected through the returned <code>Future</code>. In both cases, the errors will be logged.</em></p>\n\n<p>If you only want to use the wrapping part and not the <code>TaskScheduler</code> you can use </p>\n\n<pre><code>TaskUtils.decorateTaskWithErrorHandler(task, errorHandler, isRepeatingTask)\n</code></pre>\n\n<p>which the <code>TaskScheduler</code> uses internally.</p>\n"},{"tags":[],"owner":{"account_id":1250241,"reputation":328,"user_id":1638549,"display_name":"mryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445876427,"creation_date":1445876427,"answer_id":33350660,"question_id":3875739,"body_markdown":"You can subclass ScheduledThreadPoolExecutor and override the [afterExecute](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#afterExecute(java.lang.Runnable,%20java.lang.Throwable)) method to handle exceptions and errors for any kind of Runnable that you submit.\r\n","title":"Exception handling in ThreadPools","body":"<p>You can subclass ScheduledThreadPoolExecutor and override the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#afterExecute(java.lang.Runnable,%20java.lang.Throwable)\" rel=\"nofollow\">afterExecute</a> method to handle exceptions and errors for any kind of Runnable that you submit.</p>\n"}],"owner":{"account_id":209644,"reputation":1256,"user_id":460790,"accept_rate":75,"display_name":"Ivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27722,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":3875968,"answer_count":6,"score":45,"last_activity_date":1677598852,"creation_date":1286389901,"question_id":3875739,"body_markdown":"I have a ScheduledThreadPoolExecutor that seems to be eating Exceptions.  I want my executor service to notify me if a submitted Runnable throws an exception.\r\n\r\nFor example, I&#39;d like the code below to at the very least print the IndexArrayOutOfBoundsException&#39;s stackTrace\r\n\r\n    threadPool.scheduleAtFixedRate(\r\n      new Runnable() {\r\n        public void run() {\r\n          int[] array = new array[0];\r\n          array[42] = 5;\r\n        }\r\n      },\r\n      1000,\r\n      1500L,\r\n      TimeUnit.MILLISECONDS);\r\n\r\n\r\n\r\n\r\nAs a side question.  Is there a way to write a general try catch block for a ScheduledThreadPoolExecutor?\r\n\r\n\r\n\r\n//////////END OF ORIGINAL QUESTION //////////////\r\n  \r\nAs suggested the following Decorator works well.\r\n\r\n    public class CatcherTask implements Runnable{\r\n    \r\n    \tRunnable runMe;\r\n    \r\n    \tpublic CatcherTask(Runnable runMe) {\r\n    \t\tthis.runMe = runMe;\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\trunMe.run();\r\n    \t\t} catch (Exception ex){\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Exception handling in ThreadPools","body":"<p>I have a ScheduledThreadPoolExecutor that seems to be eating Exceptions.  I want my executor service to notify me if a submitted Runnable throws an exception.</p>\n\n<p>For example, I'd like the code below to at the very least print the IndexArrayOutOfBoundsException's stackTrace</p>\n\n<pre><code>threadPool.scheduleAtFixedRate(\n  new Runnable() {\n    public void run() {\n      int[] array = new array[0];\n      array[42] = 5;\n    }\n  },\n  1000,\n  1500L,\n  TimeUnit.MILLISECONDS);\n</code></pre>\n\n<p>As a side question.  Is there a way to write a general try catch block for a ScheduledThreadPoolExecutor?</p>\n\n<p>//////////END OF ORIGINAL QUESTION //////////////</p>\n\n<p>As suggested the following Decorator works well.</p>\n\n<pre><code>public class CatcherTask implements Runnable{\n\n    Runnable runMe;\n\n    public CatcherTask(Runnable runMe) {\n        this.runMe = runMe;\n    }\n\n    public void run() {\n        try {\n            runMe.run();\n        } catch (Exception ex){\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","gradle","intellij-idea"],"comments":[{"owner":{"account_id":9702664,"reputation":705,"user_id":7197120,"display_name":"chriptus13"},"score":0,"creation_date":1592610399,"post_id":62479777,"comment_id":110496726,"body_markdown":"Try the second one it works for me [link](https://mvnrepository.com/artifact/org.springframework/spring-webflux/5.2.7.RELEASE).","body":"Try the second one it works for me <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-webflux/5.2.7.RELEASE\" rel=\"nofollow noreferrer\">link</a>."},{"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"score":0,"creation_date":1592612108,"post_id":62479777,"comment_id":110497052,"body_markdown":"@chriptus13 doesn&#39;t fix error","body":"@chriptus13 doesn&#39;t fix error"}],"answers":[{"comments":[{"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"score":0,"creation_date":1592612020,"post_id":62480031,"comment_id":110497037,"body_markdown":"This doesn&#39;t work, I tried it (which is why it was commented out)","body":"This doesn&#39;t work, I tried it (which is why it was commented out)"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1592614584,"post_id":62480031,"comment_id":110497463,"body_markdown":"Please see the updated answer showing that it works fine.","body":"Please see the updated answer showing that it works fine."},{"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"score":0,"creation_date":1592614946,"post_id":62480031,"comment_id":110497513,"body_markdown":"I had to invalidate my caches, for some reason.","body":"I had to invalidate my caches, for some reason."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1592614963,"post_id":62480031,"comment_id":110497514,"body_markdown":"It&#39;s a syntax issue with you code that has nothing to do with Gradle, dependencies or IntelliJ IDEA.","body":"It&#39;s a syntax issue with you code that has nothing to do with Gradle, dependencies or IntelliJ IDEA."},{"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"score":0,"creation_date":1592614979,"post_id":62480031,"comment_id":110497518,"body_markdown":"It wasn&#39;t. I didnt change any code, and after the refresh, it started resolving. Also I spelt it right. `WebClient` was the issue - not `Builder`. However, you are right in saying the `builder()` method is lowercase, while the class is uppercase","body":"It wasn&#39;t. I didnt change any code, and after the refresh, it started resolving. Also I spelt it right. <code>WebClient</code> was the issue - not <code>Builder</code>. However, you are right in saying the <code>builder()</code> method is lowercase, while the class is uppercase"},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1662020917,"post_id":62480031,"comment_id":129911020,"body_markdown":"Can you clarify equivalent pom.xml setting ? I don&#39;t use gradle","body":"Can you clarify equivalent pom.xml setting ? I don&#39;t use gradle"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":6,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1592614864,"creation_date":1592610632,"answer_id":62480031,"question_id":62479777,"body_markdown":"Your `build.gradle` is missing this dependency:\r\n\r\n```\r\ncompile group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n```\r\n\r\nProof of working:\r\n\r\n[![WebClient][1]][1]\r\n\r\nMake sure to [reimport the dependencies](https://stackoverflow.com/a/43192764/104891).\r\n\r\nThe sample code for `WebClient` should look like this:\r\n\r\n```\r\n        WebClient client3 = WebClient\r\n                .builder()\r\n                .baseUrl(&quot;http://localhost:8080&quot;)\r\n                .defaultCookie(&quot;cookieKey&quot;, &quot;cookieValue&quot;)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .defaultUriVariables(Collections.singletonMap(&quot;url&quot;, &quot;http://localhost:8080&quot;))\r\n                .build();\r\n```\r\n\r\nNotice that it&#39;s `WebClient.builder()` and not `WebClient.Builder()`, it looks like you have a typo in the method name, replace `Builder()` with `builder()` and it should work.\r\n\r\n`WebClient.Builder` is an Interface, therefore this code is not valid:\r\n\r\n```\r\nSystem.out.println(WebClient.Builder());\r\n```\r\n\r\nIt&#39;s a **syntax issue with you code** that has nothing to do with Gradle, dependencies or IntelliJ IDEA.\r\n\r\n  [1]: https://i.stack.imgur.com/e6jiT.png","title":"WebClient not resolving","body":"<p>Your <code>build.gradle</code> is missing this dependency:</p>\n\n<pre><code>compile group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n</code></pre>\n\n<p>Proof of working:</p>\n\n<p><a href=\"https://i.stack.imgur.com/e6jiT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/e6jiT.png\" alt=\"WebClient\"></a></p>\n\n<p>Make sure to <a href=\"https://stackoverflow.com/a/43192764/104891\">reimport the dependencies</a>.</p>\n\n<p>The sample code for <code>WebClient</code> should look like this:</p>\n\n<pre><code>        WebClient client3 = WebClient\n                .builder()\n                .baseUrl(\"http://localhost:8080\")\n                .defaultCookie(\"cookieKey\", \"cookieValue\")\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .defaultUriVariables(Collections.singletonMap(\"url\", \"http://localhost:8080\"))\n                .build();\n</code></pre>\n\n<p>Notice that it's <code>WebClient.builder()</code> and not <code>WebClient.Builder()</code>, it looks like you have a typo in the method name, replace <code>Builder()</code> with <code>builder()</code> and it should work.</p>\n\n<p><code>WebClient.Builder</code> is an Interface, therefore this code is not valid:</p>\n\n<pre><code>System.out.println(WebClient.Builder());\n</code></pre>\n\n<p>It's a <strong>syntax issue with you code</strong> that has nothing to do with Gradle, dependencies or IntelliJ IDEA.</p>\n"},{"comments":[{"owner":{"account_id":937587,"reputation":552,"user_id":7807754,"display_name":"Datta Diware"},"score":0,"creation_date":1677554129,"post_id":75548941,"comment_id":133356668,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/33910478)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/33910478\">From Review</a>"}],"tags":[],"owner":{"account_id":27863251,"reputation":21,"user_id":21275309,"display_name":"user21275309"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677598700,"creation_date":1677177215,"answer_id":75548941,"question_id":62479777,"body_markdown":"I had the same issue too, and I am using this dependency:\r\n\r\n`implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;`\r\n\r\nI also had to invalidate IntelliJ caches at `File &gt; Invalidate Caches`","title":"WebClient not resolving","body":"<p>I had the same issue too, and I am using this dependency:</p>\n<p><code>implementation 'org.springframework.boot:spring-boot-starter-webflux'</code></p>\n<p>I also had to invalidate IntelliJ caches at <code>File &gt; Invalidate Caches</code></p>\n"}],"owner":{"account_id":18765115,"reputation":813,"user_id":13683188,"display_name":"Tobi Akinyemi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11929,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62480031,"answer_count":2,"score":4,"last_activity_date":1677598700,"creation_date":1592608477,"question_id":62479777,"body_markdown":"In order to utilise the new `WebClient` API, I&#39;ve included `spring-webflux` in my Intellij project.\r\n```groovy\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n//    compile group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    }\r\n}\r\n```\r\nHowever, WebClient remains unresolved:\r\n```\r\nC:\\Users\\tobia\\Documents\\spring-app\\service\\Service.java:25: error: cannot find symbol\r\n        System.out.println(WebClient.Builder());\r\n                           ^\r\n  symbol:   variable WebClient\r\n  location: class Service\r\n```\r\n\r\n---\r\nThe dependency itself seems to have resolved, as `webflux` is now in my &quot;external libraries&quot; list:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n--- \r\nDoes anybody have any idea why `WebClient` remains unresolved?\r\n\r\n  [1]: https://i.stack.imgur.com/h1swN.png\r\n\r\n---\r\nI&#39;ve tried all 4 of these dependency declerations, and none work:\r\n```groovy\r\n    compile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    compile group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    implementation group: &#39;org.springframework&#39;, name: &#39;spring-webflux&#39;, version: &#39;5.2.7.RELEASE&#39;\r\n```","title":"WebClient not resolving","body":"<p>In order to utilise the new <code>WebClient</code> API, I've included <code>spring-webflux</code> in my Intellij project.</p>\n\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compile 'org.springframework.boot:spring-boot-starter-webflux'\n//    compile group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n</code></pre>\n\n<p>However, WebClient remains unresolved:</p>\n\n<pre><code>C:\\Users\\tobia\\Documents\\spring-app\\service\\Service.java:25: error: cannot find symbol\n        System.out.println(WebClient.Builder());\n                           ^\n  symbol:   variable WebClient\n  location: class Service\n</code></pre>\n\n<hr>\n\n<p>The dependency itself seems to have resolved, as <code>webflux</code> is now in my \"external libraries\" list:</p>\n\n<p><a href=\"https://i.stack.imgur.com/h1swN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h1swN.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Does anybody have any idea why <code>WebClient</code> remains unresolved?</p>\n\n<hr>\n\n<p>I've tried all 4 of these dependency declerations, and none work:</p>\n\n<pre><code>    compile 'org.springframework.boot:spring-boot-starter-webflux'\n    compile group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation group: 'org.springframework', name: 'spring-webflux', version: '5.2.7.RELEASE'\n</code></pre>\n"},{"tags":["java","xml-binding"],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1678057043,"answer_count":1,"score":0,"last_activity_date":1677598635,"creation_date":1677525017,"question_id":75584634,"body_markdown":"I have the following class:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.PropertyNamingStrategy;\r\nimport com.fasterxml.jackson.databind.annotation.JsonNaming;\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport java.io.Serializable;\r\n\r\n@XmlRootElement(name=&quot;CachedTemplate&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\r\npublic class CachedResource implements Serializable {\r\n    @XmlElement(name = &quot;ResourceID&quot;)\r\n    public String ResourceID;\r\n\r\n    @XmlElement(name = &quot;ConnectionString&quot;)\r\n    public String ConnectionString;\r\n\r\n    @XmlElement(name = &quot;Data&quot;)\r\n    public byte[] Data;\r\n\r\n    public CachedResource() {};\r\n}\r\n```\r\n\r\nWhen I try to serialize the object I get the following exception:\r\n\r\n```\r\ncom.sun.istack.SAXException2: unable to marshal type &quot;XXX&quot; as an element because it is missing an @XmlRootElement annotation\r\n```\r\n\r\nI&#39;m confused because the `@XmlRootElement` annotation is there. Any ideas why this is happening? ","title":"Java throwing jakarta.xml.bind.MarshalException even though its there","body":"<p>I have the following class:</p>\n<pre><code>import com.fasterxml.jackson.databind.PropertyNamingStrategy;\nimport com.fasterxml.jackson.databind.annotation.JsonNaming;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport java.io.Serializable;\n\n@XmlRootElement(name=&quot;CachedTemplate&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@JsonNaming(PropertyNamingStrategy.UpperCamelCaseStrategy.class)\npublic class CachedResource implements Serializable {\n    @XmlElement(name = &quot;ResourceID&quot;)\n    public String ResourceID;\n\n    @XmlElement(name = &quot;ConnectionString&quot;)\n    public String ConnectionString;\n\n    @XmlElement(name = &quot;Data&quot;)\n    public byte[] Data;\n\n    public CachedResource() {};\n}\n</code></pre>\n<p>When I try to serialize the object I get the following exception:</p>\n<pre><code>com.sun.istack.SAXException2: unable to marshal type &quot;XXX&quot; as an element because it is missing an @XmlRootElement annotation\n</code></pre>\n<p>I'm confused because the <code>@XmlRootElement</code> annotation is there. Any ideas why this is happening?</p>\n"},{"tags":["java","jbpm","business-process-management","script-task","data-objects"],"owner":{"account_id":17526344,"reputation":13,"user_id":18870563,"display_name":"stormy2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677598464,"creation_date":1677598464,"question_id":75594162,"body_markdown":"In jBPM Business Central if I was to make a Business Process that had one Data Object called FinalValue with one Integer variable called endValue \r\n\r\n[![enter image description here](https://i.stack.imgur.com/qMTzh.png)](https://i.stack.imgur.com/qMTzh.png)\r\n[![enter image description here](https://i.stack.imgur.com/4XRHK.png)](https://i.stack.imgur.com/4XRHK.png)\r\n[![enter image description here](https://i.stack.imgur.com/SKdUI.png)](https://i.stack.imgur.com/SKdUI.png)\r\n[![enter image description here](https://i.stack.imgur.com/4Xl65.png)](https://i.stack.imgur.com/4Xl65.png)\r\n[![enter image description here](https://i.stack.imgur.com/fTcM9.png)](https://i.stack.imgur.com/fTcM9.png)\r\n\r\nand then in the Process I made a human task where the user picks an Integer value and it gets outputed as an Integer Process Variable userInput1, then I use that variable in the Script Task to enlarge it by a value of 10 and store it into another Integer Process Variable storedValue, how do I save that value into the Data Object variable so that it shows when I use the Data input int the Display form. \r\n\r\nIn the Script Task I tried many things like this:\r\n\r\nstoredValue = userInput1+10;\r\n\r\nFinalValue fin1 = new FinalValue();\r\n\r\nfin1.setEndValue(storedValue);","title":"jBPM data assignment is unclear","body":"<p>In jBPM Business Central if I was to make a Business Process that had one Data Object called FinalValue with one Integer variable called endValue</p>\n<p><a href=\"https://i.stack.imgur.com/qMTzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMTzh.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4XRHK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4XRHK.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/SKdUI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SKdUI.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4Xl65.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Xl65.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/fTcM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTcM9.png\" alt=\"enter image description here\" /></a></p>\n<p>and then in the Process I made a human task where the user picks an Integer value and it gets outputed as an Integer Process Variable userInput1, then I use that variable in the Script Task to enlarge it by a value of 10 and store it into another Integer Process Variable storedValue, how do I save that value into the Data Object variable so that it shows when I use the Data input int the Display form.</p>\n<p>In the Script Task I tried many things like this:</p>\n<p>storedValue = userInput1+10;</p>\n<p>FinalValue fin1 = new FinalValue();</p>\n<p>fin1.setEndValue(storedValue);</p>\n"},{"tags":["java","rest","http","http-post","chunked-encoding"],"comments":[{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677601882,"post_id":75594154,"comment_id":133368661,"body_markdown":"Have you used the Content-Length header instead of writing it all yourself? https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length","body":"Have you used the Content-Length header instead of writing it all yourself? <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/&hellip;</a>"},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677602482,"post_id":75594154,"comment_id":133368847,"body_markdown":"Java likes to throw exceptions, make sure a lot of your code is wrapped in try-catch blocks. If the stream gets closed, it will obviously notify you when you try to write to it.","body":"Java likes to throw exceptions, make sure a lot of your code is wrapped in try-catch blocks. If the stream gets closed, it will obviously notify you when you try to write to it."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677646861,"post_id":75594154,"comment_id":133377326,"body_markdown":"your image show `Parsing timed out 10000 MILLISECONDS`, check any config about  timeout , 10 sec.","body":"your image show <code>Parsing timed out 10000 MILLISECONDS</code>, check any config about  timeout , 10 sec."},{"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"score":0,"creation_date":1677666846,"post_id":75594154,"comment_id":133381484,"body_markdown":"@SupaMaggie70b that&#39;s correct. but before closing the stream server responds with  413 code (on screenshot). Is it possible to retrieve response code after catching IOException?","body":"@SupaMaggie70b that&#39;s correct. but before closing the stream server responds with  413 code (on screenshot). Is it possible to retrieve response code after catching IOException?"},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677679732,"post_id":75594154,"comment_id":133385397,"body_markdown":"So are you writing the client or the server? which one has the error and which one is sending too much info? It looks like the client is sending too much for the server to handle.","body":"So are you writing the client or the server? which one has the error and which one is sending too much info? It looks like the client is sending too much for the server to handle."},{"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"score":0,"creation_date":1677769305,"post_id":75594154,"comment_id":133406337,"body_markdown":"@SupaMaggie70b both the client and the server. the server should abort receiving post body when it exceeds a limit. the server should support `Transfer-Encoding: chunked` ( no `Content-Length` ). the client should know when if the server aborted the reception, but not just generic IOException","body":"@SupaMaggie70b both the client and the server. the server should abort receiving post body when it exceeds a limit. the server should support <code>Transfer-Encoding: chunked</code> ( no <code>Content-Length</code> ). the client should know when if the server aborted the reception, but not just generic IOException"},{"owner":{"account_id":23497728,"reputation":322,"user_id":17547957,"display_name":"SupaMaggie70 b"},"score":0,"creation_date":1677778521,"post_id":75594154,"comment_id":133409284,"body_markdown":"@Denis is the server working properly? Also, throwing and catching exceptions is a necessary part of java sockets.","body":"@Denis is the server working properly? Also, throwing and catching exceptions is a necessary part of java sockets."}],"owner":{"account_id":431025,"reputation":779,"user_id":814804,"accept_rate":60,"display_name":"Denis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677598438,"creation_date":1677598438,"question_id":75594154,"body_markdown":"There is HTTP REST service  (java, spring boot) it consumes POST requests. It should respond with error code if file larger than specified is transferred. Problem is that client uses `Transfer-Encoding: chunked` and size of file is unknown ahead of request body transfer has been completed. \r\n\r\nService keeps counting bytes received. If counter exceeds a limit. It responds with `413/Request Entity Too Large` and _closes conection_. But client keeps transferring data.   \r\n\r\n[![Request wireshark dump][1]][1]   \r\n\r\n[![Prematurely response dump][2]][2]\r\n\r\n\r\nIt leads to the IOException on the client side:\r\n\r\n```\r\njava.net.SocketException: Broken pipe\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\r\n\tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\r\n\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\r\n\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\r\n\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\r\n\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\r\n\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flush(ChunkedOutputStream.java:234)\r\n\tat org.apache.hc.client5.http.entity.mime.InputStreamBody.writeTo(InputStreamBody.java:92)\r\n\tat org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.doWriteTo(AbstractMultipartFormat.java:165)\r\n\tat org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.writeTo(AbstractMultipartFormat.java:188)\r\n\tat org.apache.hc.client5.http.entity.mime.MultipartFormEntity.writeTo(MultipartFormEntity.java:109)\r\n\tat org.apache.hc.client5.http.impl.classic.RequestEntityProxy.writeTo(RequestEntityProxy.java:106)\r\n\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:252)\r\n\tat org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:141)\r\n\tat org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:218)\r\n\tat org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$InternalConnectionEndpoint.execute(PoolingHttpClientConnectionManager.java:712)\r\n\tat org.apache.hc.client5.http.impl.classic.InternalExecRuntime.execute(InternalExecRuntime.java:216)\r\n\tat org.apache.hc.client5.http.impl.classic.MainClientExec.execute(MainClientExec.java:116)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:188)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\r\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:245)\r\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:188)\r\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:162)\r\n...\r\n\tSuppressed: java.net.SocketException: Broken pipe\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\r\n\t\tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\r\n\t\tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\r\n\t\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\r\n\t\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\r\n\t\tat org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\r\n\t\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\r\n\t\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.finish(ChunkedOutputStream.java:184)\r\n\t\tat org.apache.hc.core5.http.impl.io.ChunkedOutputStream.close(ChunkedOutputStream.java:245)\r\n\t\tat org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:253)\r\n\t\t... 23 more\r\n``` \r\n\r\ni tried both `java.net.http` and `org.apache.hc.client5.http` client. And it seems there is no way to get response in case of IOException. \r\n\r\nIs it possible to get response error code if IOException? OR more general, what is the *correct* way of prematurely interrupting POST requests with `Transfer-Encoding: chunked` ?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iImNu.jpg\r\n  [2]: https://i.stack.imgur.com/0Sx5u.png","title":"Prematurely interrupting HTTP POST chunked transfer if size limit exceeded","body":"<p>There is HTTP REST service  (java, spring boot) it consumes POST requests. It should respond with error code if file larger than specified is transferred. Problem is that client uses <code>Transfer-Encoding: chunked</code> and size of file is unknown ahead of request body transfer has been completed.</p>\n<p>Service keeps counting bytes received. If counter exceeds a limit. It responds with <code>413/Request Entity Too Large</code> and <em>closes conection</em>. But client keeps transferring data.</p>\n<p><a href=\"https://i.stack.imgur.com/iImNu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iImNu.jpg\" alt=\"Request wireshark dump\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0Sx5u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Sx5u.png\" alt=\"Prematurely response dump\" /></a></p>\n<p>It leads to the IOException on the client side:</p>\n<pre><code>java.net.SocketException: Broken pipe\n    at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\n    at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\n    at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\n    at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\n    at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\n    at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\n    at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\n    at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\n    at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flush(ChunkedOutputStream.java:234)\n    at org.apache.hc.client5.http.entity.mime.InputStreamBody.writeTo(InputStreamBody.java:92)\n    at org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.doWriteTo(AbstractMultipartFormat.java:165)\n    at org.apache.hc.client5.http.entity.mime.AbstractMultipartFormat.writeTo(AbstractMultipartFormat.java:188)\n    at org.apache.hc.client5.http.entity.mime.MultipartFormEntity.writeTo(MultipartFormEntity.java:109)\n    at org.apache.hc.client5.http.impl.classic.RequestEntityProxy.writeTo(RequestEntityProxy.java:106)\n    at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:252)\n    at org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:141)\n    at org.apache.hc.core5.http.impl.io.HttpRequestExecutor.execute(HttpRequestExecutor.java:218)\n    at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager$InternalConnectionEndpoint.execute(PoolingHttpClientConnectionManager.java:712)\n    at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.execute(InternalExecRuntime.java:216)\n    at org.apache.hc.client5.http.impl.classic.MainClientExec.execute(MainClientExec.java:116)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:188)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\n    at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n    at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\n    at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:245)\n    at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:188)\n    at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:162)\n...\n    Suppressed: java.net.SocketException: Broken pipe\n        at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)\n        at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)\n        at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)\n        at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)\n        at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection$1.write(DefaultBHttpClientConnection.java:231)\n        at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:117)\n        at org.apache.hc.core5.http.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:150)\n        at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.flushCache(ChunkedOutputStream.java:127)\n        at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.finish(ChunkedOutputStream.java:184)\n        at org.apache.hc.core5.http.impl.io.ChunkedOutputStream.close(ChunkedOutputStream.java:245)\n        at org.apache.hc.core5.http.impl.io.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:253)\n        ... 23 more\n</code></pre>\n<p>i tried both <code>java.net.http</code> and <code>org.apache.hc.client5.http</code> client. And it seems there is no way to get response in case of IOException.</p>\n<p>Is it possible to get response error code if IOException? OR more general, what is the <em>correct</em> way of prematurely interrupting POST requests with <code>Transfer-Encoding: chunked</code> ?</p>\n"},{"tags":["java","android","kotlin","webview"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677009530,"post_id":75486636,"comment_id":133251722,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75486636/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8029661,"reputation":1,"user_id":21229409,"display_name":"undevdetelephono"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676649977,"creation_date":1676649977,"answer_id":75486636,"question_id":75477698,"body_markdown":"so apparently you must specify every line in a new string\r\n\r\nextracted the js to a variable with multi line, it has to be a multi line concatenated string\r\n\r\n    val jsFunction = &quot;javascript:(function() { &quot; +\r\n                    &quot;document.getElementById(&#39;btn-to-be-clicked&#39;).click();&quot; +\r\n                    &quot;})()&quot;","title":"programmatically click on a HTML button in WebView from fragment in Android","body":"<p>so apparently you must specify every line in a new string</p>\n<p>extracted the js to a variable with multi line, it has to be a multi line concatenated string</p>\n<pre><code>val jsFunction = &quot;javascript:(function() { &quot; +\n                &quot;document.getElementById('btn-to-be-clicked').click();&quot; +\n                &quot;})()&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11822062,"reputation":17,"user_id":8650912,"display_name":"Ciprian Bindiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677597889,"creation_date":1677175526,"answer_id":75548671,"question_id":75477698,"body_markdown":" Inside your `onPageFinished()` method, run the script calling the `view.loadUrl()` method or `view.evaluateJavascript()`, as you can see in the below example:\r\n\r\n    @Override\r\n    public void onPageFinished(WebView view, String url) {\r\n        // 1st method\r\n        view.loadUrl(&quot;javascript:(function() { &quot; +\r\n                     &quot;document.getElementById(&#39;btn-to-be-clicked&#39;).click();&quot; +\r\n                     &quot;})()&quot;);\r\n    \r\n        // 2nd method\r\n        view.evaluateJavascript(\r\n                     &quot;javascript:(function() { &quot; +\r\n                     &quot;document.getElementById(&#39;btn-to-be-clicked&#39;).click();&quot; +\r\n                     &quot;})()&quot;, new ValueCallback&lt;String&gt;() {\r\n               @Override\r\n               public void onReceiveValue(String s) {\r\n                    // You could use this callback method to do something\r\n                    // after the click was executed.\r\n               }\r\n        });\r\n    }","title":"programmatically click on a HTML button in WebView from fragment in Android","body":"<p>Inside your <code>onPageFinished()</code> method, run the script calling the <code>view.loadUrl()</code> method or <code>view.evaluateJavascript()</code>, as you can see in the below example:</p>\n<pre><code>@Override\npublic void onPageFinished(WebView view, String url) {\n    // 1st method\n    view.loadUrl(&quot;javascript:(function() { &quot; +\n                 &quot;document.getElementById('btn-to-be-clicked').click();&quot; +\n                 &quot;})()&quot;);\n\n    // 2nd method\n    view.evaluateJavascript(\n                 &quot;javascript:(function() { &quot; +\n                 &quot;document.getElementById('btn-to-be-clicked').click();&quot; +\n                 &quot;})()&quot;, new ValueCallback&lt;String&gt;() {\n           @Override\n           public void onReceiveValue(String s) {\n                // You could use this callback method to do something\n                // after the click was executed.\n           }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":8029661,"reputation":1,"user_id":21229409,"display_name":"undevdetelephono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677597889,"creation_date":1676580019,"question_id":75477698,"body_markdown":"I need to open a dialog in a website which opens on clicking a HTML button of the website. I&#39;m trying to click on a HTML button based on the id from the fragment, how can I perform the action, I&#39;m using\r\n\r\n\r\n    webView.setWebViewClient(new WebViewClient() {\r\n    \r\n    \t@Override\r\n    \tpublic void onPageFinished(WebView view, String url) {\r\n    \t\tsuper.onPageFinished(view, url);\r\n    \t\t\t\t\r\n    \t\t// trying to click the button with id btn-to-be-clicked\r\n    \t\twebView.loadUrl(&quot;javascript:(function(){document.getElementById(&#39;btn-to-be-clicked&#39;).click();})()&quot;);\r\n    \t\t\t}\r\n    }\r\n\r\n\r\nthanks\r\n\r\nI tried \r\n`webView.loadUrl(&quot;javascript:(function(){document.getElementById(&#39;btn-to-be-clicked&#39;).click();})()&quot;);`","title":"programmatically click on a HTML button in WebView from fragment in Android","body":"<p>I need to open a dialog in a website which opens on clicking a HTML button of the website. I'm trying to click on a HTML button based on the id from the fragment, how can I perform the action, I'm using</p>\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n                \n        // trying to click the button with id btn-to-be-clicked\n        webView.loadUrl(&quot;javascript:(function(){document.getElementById('btn-to-be-clicked').click();})()&quot;);\n            }\n}\n</code></pre>\n<p>thanks</p>\n<p>I tried\n<code>webView.loadUrl(&quot;javascript:(function(){document.getElementById('btn-to-be-clicked').click();})()&quot;);</code></p>\n"},{"tags":["java","selenium-webdriver","cucumber"],"answers":[{"tags":[],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677597842,"creation_date":1677597331,"answer_id":75593911,"question_id":75593780,"body_markdown":"I&#39;d recommend to switch to AssertJ framework, which provides the functionality you need out of the box. You could then use something like\r\n\r\n`Assertions.assertThat(nlLinksSection).containsExactly(nlLinksString);`\r\n\r\nThis assertion will provide a very good error message telling you what&#39;s wrong, but you can freely override it yourself like this:\r\n\r\n\r\n```\r\nAssertions.assertThat(nlLinksSection)\r\n        .overridingErrorMessage(&quot;nlLinksSection &quot; + nlLinksSection + &quot; is a bit different than nlLinksString &quot; + nlLinksString)\r\n        .containsExactly(nlLinksString);\r\n\r\n```\r\n\r\nShorter way of mapping `nlinks` to `List&lt;String&gt;` may look like\r\n\r\n`List&lt;String&gt; nlLinksString = nlLinks.stream().map(WebElement::getText).collect(Collectors.toList());`","title":"Compare dataTable with List of strings","body":"<p>I'd recommend to switch to AssertJ framework, which provides the functionality you need out of the box. You could then use something like</p>\n<p><code>Assertions.assertThat(nlLinksSection).containsExactly(nlLinksString);</code></p>\n<p>This assertion will provide a very good error message telling you what's wrong, but you can freely override it yourself like this:</p>\n<pre><code>Assertions.assertThat(nlLinksSection)\n        .overridingErrorMessage(&quot;nlLinksSection &quot; + nlLinksSection + &quot; is a bit different than nlLinksString &quot; + nlLinksString)\n        .containsExactly(nlLinksString);\n\n</code></pre>\n<p>Shorter way of mapping <code>nlinks</code> to <code>List&lt;String&gt;</code> may look like</p>\n<p><code>List&lt;String&gt; nlLinksString = nlLinks.stream().map(WebElement::getText).collect(Collectors.toList());</code></p>\n"}],"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75593911,"answer_count":1,"score":1,"last_activity_date":1677597842,"creation_date":1677596683,"question_id":75593780,"body_markdown":"I&#39;m using Selenium &amp; Cucumber and I&#39;m trying to use DataTables functionality. \r\nThe idea is to test all footer links with schema like:\r\n\r\n      Scenario: I verify footer links\r\n        * I verify that links section inside the footer are visible\r\n          | Colofon                          |\r\n          | Gegevensbescherming              |\r\n          | FAQ/ Hulp                        |\r\n          | Contact                          |\r\n\r\nAnd for now my code looks like:\r\n\r\n    @And(&quot;I verify that links section inside the footer are visible&quot;)\r\n    public void iVerifyThatLinksSectionAreCorrect(DataTable dataTable) {\r\n        List&lt;String&gt; nlLinksSection = dataTable.asList();\r\n        List&lt;WebElement&gt; nlLinks = baseMethods.findElements(&quot;FooterNL.Links&quot;);\r\n    \r\n        List&lt;String&gt; nlLinksString = new ArrayList&lt;&gt;();\r\n        nlLinks.stream().map(WebElement::getText).forEach(nlLinksString::add);\r\n    \r\n        Assert.assertTrue(CollectionUtils.isEqualCollection(nlLinksSection, nlLinksString));\r\n    }\r\n\r\nActually the method &amp; assertion works but in case of mismatching (dataTable &amp; WebElement) I&#39;m recieving something like:\r\n\r\n    Step failed\r\n    java.lang.AssertionError: expected [true] but found [false]\r\n\r\nI have two questions:\r\n- Can this method be written in better &amp; more clear way? I feel it does not look really good...\r\n- Can someone tell me how I can improve assertion to implement messages like:\r\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was not&quot; or \r\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was: &quot;XYZ&quot;","title":"Compare dataTable with List of strings","body":"<p>I'm using Selenium &amp; Cucumber and I'm trying to use DataTables functionality.\nThe idea is to test all footer links with schema like:</p>\n<pre><code>  Scenario: I verify footer links\n    * I verify that links section inside the footer are visible\n      | Colofon                          |\n      | Gegevensbescherming              |\n      | FAQ/ Hulp                        |\n      | Contact                          |\n</code></pre>\n<p>And for now my code looks like:</p>\n<pre><code>@And(&quot;I verify that links section inside the footer are visible&quot;)\npublic void iVerifyThatLinksSectionAreCorrect(DataTable dataTable) {\n    List&lt;String&gt; nlLinksSection = dataTable.asList();\n    List&lt;WebElement&gt; nlLinks = baseMethods.findElements(&quot;FooterNL.Links&quot;);\n\n    List&lt;String&gt; nlLinksString = new ArrayList&lt;&gt;();\n    nlLinks.stream().map(WebElement::getText).forEach(nlLinksString::add);\n\n    Assert.assertTrue(CollectionUtils.isEqualCollection(nlLinksSection, nlLinksString));\n}\n</code></pre>\n<p>Actually the method &amp; assertion works but in case of mismatching (dataTable &amp; WebElement) I'm recieving something like:</p>\n<pre><code>Step failed\njava.lang.AssertionError: expected [true] but found [false]\n</code></pre>\n<p>I have two questions:</p>\n<ul>\n<li>Can this method be written in better &amp; more clear way? I feel it does not look really good...</li>\n<li>Can someone tell me how I can improve assertion to implement messages like:\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was not&quot; or\n&quot;Comparison failed, there should be: &quot;Contact&quot; element but was: &quot;XYZ&quot;</li>\n</ul>\n"},{"tags":["java","encryption","base64","sha256","aes-gcm"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1677569621,"post_id":75588743,"comment_id":133358797,"body_markdown":"Just a guess - as the nonce are of length 24 (after Base64 decoding) - are you sure that the algorithm is AES-GCM ? I think it is **XChaCha20-Poly1305** that has a nonce length of 24 bytes.","body":"Just a guess - as the nonce are of length 24 (after Base64 decoding) - are you sure that the algorithm is AES-GCM ? I think it is <b>XChaCha20-Poly1305</b> that has a nonce length of 24 bytes."},{"owner":{"account_id":26422127,"reputation":3,"user_id":20069646,"display_name":"Alexander Prag"},"score":0,"creation_date":1677570138,"post_id":75588743,"comment_id":133358923,"body_markdown":"@michael-fehr, can you tell me how to decode nonce correctly? I use java.util.Base64.Decoder, but I get error &quot;Last unit does not have enough valid bits&quot;. I also tried to use Base64 from bouncycastle, but I get error there too.","body":"@michael-fehr, can you tell me how to decode nonce correctly? I use java.util.Base64.Decoder, but I get error &quot;Last unit does not have enough valid bits&quot;. I also tried to use Base64 from bouncycastle, but I get error there too."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1677572741,"post_id":75588743,"comment_id":133359566,"body_markdown":"The nonce is simply not a valid Base64 and therefore cannot be Base64 decoded. Possibly the data is corrupted or a different encoding is used. Without more detailed information about the encryption, we can only guess here. Can you post the encryption code or a link to the documentation?","body":"The nonce is simply not a valid Base64 and therefore cannot be Base64 decoded. Possibly the data is corrupted or a different encoding is used. Without more detailed information about the encryption, we can only guess here. Can you post the encryption code or a link to the documentation?"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677597530,"creation_date":1677590281,"answer_id":75592636,"question_id":75588743,"body_markdown":"If this is base64 then there is something strange going on. Base64 encodes bytes of size 8 using characters representing 6 bits. There are 33 characters in the nonce, which means that would encode a maximum of 33 * 6 = 198 bits. That&#39;s 24 bytes + 6 bits. Now if it was base 64 then the last character of 6 bits wouldn&#39;t be needed, or you would be missing 2 bits. So probably it is another encoding (which is also likely because none of the other symbols such as `+`, `/`, `-` or `_` are used.\r\n\r\nMore than a little searching shows that Solana wallets are using base 58 encoding / decoding. You can find an (unverified) encoder / decoder for Java [here](https://github.com/multiformats/java-multibase/blob/master/src/main/java/io/ipfs/multibase/Base58.java). In that case the decoding shows a more logical 24 bytes for the nonce. It might be base 62 as well, although that seems to be used less frequently.\r\n\r\nUsually GCM uses a nonce of 12 bytes which probably means that the decryption algorithm is off as well; even with base58 encoding I was unable to verify the authentication tag. As mentioned in the comments, there aren&#39;t that many ciphers with a 24 byte nonce, I&#39;d guess it is XSalsa20 or XChaCha20 (where the X actually hints at the larger nonce size), probably combined with Poly1305 to authenticate the ciphertext.\r\n\r\nAs you can see, the guesses quickly mount, which is why you should probably try and see where the protocol is specified instead. For instance, even if the ciphertext is authenticated, then the [algorithm is somewhat daunting to implement](https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha). If it isn&#39;t, then you&#39;d have the problem that you may not be able to verify the &quot;plaintext&quot; at all. For instance, if it is an EC private key then it is essentially a randomized byte array.\r\n","title":"How to decrypt pbkdf2 and aes/gcm data","body":"<p>If this is base64 then there is something strange going on. Base64 encodes bytes of size 8 using characters representing 6 bits. There are 33 characters in the nonce, which means that would encode a maximum of 33 * 6 = 198 bits. That's 24 bytes + 6 bits. Now if it was base 64 then the last character of 6 bits wouldn't be needed, or you would be missing 2 bits. So probably it is another encoding (which is also likely because none of the other symbols such as <code>+</code>, <code>/</code>, <code>-</code> or <code>_</code> are used.</p>\n<p>More than a little searching shows that Solana wallets are using base 58 encoding / decoding. You can find an (unverified) encoder / decoder for Java <a href=\"https://github.com/multiformats/java-multibase/blob/master/src/main/java/io/ipfs/multibase/Base58.java\" rel=\"nofollow noreferrer\">here</a>. In that case the decoding shows a more logical 24 bytes for the nonce. It might be base 62 as well, although that seems to be used less frequently.</p>\n<p>Usually GCM uses a nonce of 12 bytes which probably means that the decryption algorithm is off as well; even with base58 encoding I was unable to verify the authentication tag. As mentioned in the comments, there aren't that many ciphers with a 24 byte nonce, I'd guess it is XSalsa20 or XChaCha20 (where the X actually hints at the larger nonce size), probably combined with Poly1305 to authenticate the ciphertext.</p>\n<p>As you can see, the guesses quickly mount, which is why you should probably try and see where the protocol is specified instead. For instance, even if the ciphertext is authenticated, then the <a href=\"https://datatracker.ietf.org/doc/html/draft-irtf-cfrg-xchacha\" rel=\"nofollow noreferrer\">algorithm is somewhat daunting to implement</a>. If it isn't, then you'd have the problem that you may not be able to verify the &quot;plaintext&quot; at all. For instance, if it is an EC private key then it is essentially a randomized byte array.</p>\n"}],"owner":{"account_id":26422127,"reputation":3,"user_id":20069646,"display_name":"Alexander Prag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677647737,"accepted_answer_id":75592636,"answer_count":1,"score":-1,"last_activity_date":1677597530,"creation_date":1677567351,"question_id":75588743,"body_markdown":"I am trying to decipher the data presented in this format (password for decryption - 123123123, data taken from my phantom wallet):\r\n```\r\n{\r\n  &quot;encrypted&quot;: &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;,\r\n  &quot;nonce&quot;: &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;,\r\n  &quot;kdf&quot;: &quot;pbkdf2&quot;,\r\n  &quot;salt&quot;: &quot;JHjFEhDPmLFsRVshHYMprr&quot;,\r\n  &quot;iterations&quot;: 10000,\r\n  &quot;digest&quot;: &quot;sha256&quot;\r\n}\r\n```\r\n\r\nI wrote the following code to decode this data, but when decoding nonce via Base64 I get the error &quot;Last unit does not have enough valid bits&quot;. I thought that nonce should be trimmed, but then the error &quot;Tag mismatch&quot; appears.\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    String encrypted = &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;;\r\n    String nonce = &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;;\r\n    String salt = &quot;JHjFEhDPmLFsRVshHYMprr&quot;;\r\n\r\n    SecretKey key = getAESKeyFromPassword(&quot;123123123&quot;.toCharArray(), salt.getBytes());\r\n    byte[] encryptedBytes = Base64.getDecoder().decode(encrypted);\r\n    byte[] nonceBytes = Base64.getDecoder().decode(nonce);\r\n    String decrypted = decryptAES(encryptedBytes, key, nonceBytes);\r\n}\r\n\r\nprivate static SecretKey getAESKeyFromPassword(char[] password, byte[] salt) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    KeySpec spec = new PBEKeySpec(password, salt, 10000, 256);\r\n    return new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n}\r\n\r\nprivate static String decryptAES(byte[] cText, SecretKey secret, byte[] nonce) throws Exception {\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n    cipher.init(Cipher.DECRYPT_MODE, secret, new GCMParameterSpec(128, nonce));\r\n    byte[] plainText = cipher.doFinal(cText);\r\n    return new String(plainText, UTF_8);\r\n}\r\n```\r\nMaybe someone knows how to work with this nonce?","title":"How to decrypt pbkdf2 and aes/gcm data","body":"<p>I am trying to decipher the data presented in this format (password for decryption - 123123123, data taken from my phantom wallet):</p>\n<pre><code>{\n  &quot;encrypted&quot;: &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;,\n  &quot;nonce&quot;: &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;,\n  &quot;kdf&quot;: &quot;pbkdf2&quot;,\n  &quot;salt&quot;: &quot;JHjFEhDPmLFsRVshHYMprr&quot;,\n  &quot;iterations&quot;: 10000,\n  &quot;digest&quot;: &quot;sha256&quot;\n}\n</code></pre>\n<p>I wrote the following code to decode this data, but when decoding nonce via Base64 I get the error &quot;Last unit does not have enough valid bits&quot;. I thought that nonce should be trimmed, but then the error &quot;Tag mismatch&quot; appears.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    String encrypted = &quot;Cj7psrZSx4oyzdMHpmemhHT21HrRzQxZ9Qyk9v3g3sg3&quot;;\n    String nonce = &quot;Gs1UtjfmNJ48rwqNPwfv5MMxcwFYpvtsd&quot;;\n    String salt = &quot;JHjFEhDPmLFsRVshHYMprr&quot;;\n\n    SecretKey key = getAESKeyFromPassword(&quot;123123123&quot;.toCharArray(), salt.getBytes());\n    byte[] encryptedBytes = Base64.getDecoder().decode(encrypted);\n    byte[] nonceBytes = Base64.getDecoder().decode(nonce);\n    String decrypted = decryptAES(encryptedBytes, key, nonceBytes);\n}\n\nprivate static SecretKey getAESKeyFromPassword(char[] password, byte[] salt) throws NoSuchAlgorithmException, InvalidKeySpecException {\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n    KeySpec spec = new PBEKeySpec(password, salt, 10000, 256);\n    return new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n}\n\nprivate static String decryptAES(byte[] cText, SecretKey secret, byte[] nonce) throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    cipher.init(Cipher.DECRYPT_MODE, secret, new GCMParameterSpec(128, nonce));\n    byte[] plainText = cipher.doFinal(cText);\n    return new String(plainText, UTF_8);\n}\n</code></pre>\n<p>Maybe someone knows how to work with this nonce?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677597320,"creation_date":1677597045,"question_id":75593849,"body_markdown":"I&#39;m using one adapter for 2 activities \r\neverything is the same except the `getItemCount()` method.\r\nIt should return 5 items for Activity A and the whole list for Activity B.\r\n\r\nI tried to use this in `getItemCount()`, but it is not working: \r\n\r\n```java\r\n    if (this.context instanceof Activity1) {\r\n    } else if(this.context instanceof Activity2) {\r\n```\r\n\r\nWhat I&#39;m trying to do is to limit the number of items of recycleview, \r\nso in activity A only 5 items, and then, when I click the &quot;Show more&quot; button, it should retrieve the whole list.\r\n\r\nThanks in advance :) \r\n","title":"2 activities one adapter , getItemCount()","body":"<p>I'm using one adapter for 2 activities\neverything is the same except the <code>getItemCount()</code> method.\nIt should return 5 items for Activity A and the whole list for Activity B.</p>\n<p>I tried to use this in <code>getItemCount()</code>, but it is not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (this.context instanceof Activity1) {\n    } else if(this.context instanceof Activity2) {\n</code></pre>\n<p>What I'm trying to do is to limit the number of items of recycleview,\nso in activity A only 5 items, and then, when I click the &quot;Show more&quot; button, it should retrieve the whole list.</p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","maven","gwt","maven-war-plugin","gwt-maven-plugin"],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677597295,"creation_date":1677597295,"question_id":75593903,"body_markdown":"I have a GWT project, with 3 modules : \r\n\r\n    - MyProject\r\n    - MyProjectProduit\r\n    - CatalogueConnecte\r\n\r\nI need to have some resources (html files) filtered, to get the ${project.version} in them.\r\n\r\nThe war generated by maven have this format : \r\n\r\n    META-INF/\r\n    ...\r\n    WEB-INF/\r\n      classes/\r\n      ...\r\n      MyProject.html -&gt; Filtered\r\n      MyProjectproduit.html -&gt; Filtered\r\n      CatalogueConnecte.html -&gt; Filtered\r\n      ...\r\n      deploy/\r\n      lib/\r\n      web.xml\r\n    \r\n    com.al6.myProject.gwt.MyProject/\r\n      css/\r\n      gwt/chrome/\r\n      gxt/\r\n      help/\r\n      images/\r\n      MyProject.html -&gt; Not Filtered\r\n      MyProjectproduit.html -&gt; Not Filtered\r\n      CatalogueConnecte.html -&gt; Not Filtered\r\n    ...\r\n    \r\n    com.al6.myProject.gwt.MyProjectProduit/\r\n      css/\r\n      gwt/chrome/\r\n      gxt/\r\n      help/\r\n      images/\r\n      MyProject.html -&gt; Not Filtered\r\n      MyProjectproduit.html -&gt; Not Filtered\r\n      CatalogueConnecte.html -&gt; Not Filtered\r\n    ...\r\n    \r\n    com.al6.myProject.gwt.CatalogueConnecte/\r\n      css/\r\n      gwt/chrome/\r\n      gxt/\r\n      help/\r\n      images/\r\n      MyProject.html -&gt; Not Filtered\r\n      MyProjectproduit.html -&gt; Not Filtered\r\n      CatalogueConnecte.html -&gt; Not Filtered\r\n      ...\r\n\r\n\r\nWith this pom.xml configuration, the filtering works but only for the html files in the WEB-INF directory, not in each com.al6.myProject.gwt... directories.\r\n\r\nWhy ?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project&gt;\r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.al6&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.al6&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myProject.ihm&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/java/com/al6/myProject/gwt/public/images&lt;/directory&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;/resource&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/jasperreports&lt;/directory&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;finalName&gt;myProject&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n              &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-beta-2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile-reports&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                &lt;version&gt;${jasperreports.version}&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;ireport&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n    \t      &lt;dependency&gt;\r\n      \t        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n    \t      &lt;dependency&gt;\r\n      \t        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;1.8.3&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n    \t      &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;2.1&lt;/version&gt;\r\n    \t      &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                  &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                  &lt;/exclusion&gt;\r\n                  &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n                  &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/classes/jasperreports&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;mergewebxml&lt;/goal&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;logLevel&gt;INFO&lt;/logLevel&gt;\r\n              &lt;compileTargets&gt;\r\n                &lt;value&gt;com.al6.myProject.gwt.MyProject&lt;/value&gt;\r\n                &lt;value&gt;com.al6.myProject.gwt.MyProjectProduit&lt;/value&gt;\r\n                &lt;value&gt;com.al6.myProject.gwt.CatalogueConnecte&lt;/value&gt;\r\n              &lt;/compileTargets&gt;\r\n              &lt;runTarget&gt;com.al6.myProject.gwt.MyProject/MyProject.html&lt;/runTarget&gt;\r\n              &lt;style&gt;OBF&lt;/style&gt;\r\n              &lt;noServer&gt;false&lt;/noServer&gt;\r\n              &lt;extraJvmArgs&gt;-Xmx872m&lt;/extraJvmArgs&gt;\r\n              &lt;gwtVersion&gt;${gwt.version}&lt;/gwtVersion&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;war&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${deploy.dir}&lt;/outputDirectory&gt;\r\n              &lt;webXml&gt;${project.build.directory}/web.xml&lt;/webXml&gt;\r\n              &lt;warSourceExcludes&gt;.gwt-tmp&lt;/warSourceExcludes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n        ...\r\n      &lt;/dependencies&gt;\r\n      &lt;properties&gt;\r\n        &lt;gwt.version&gt;2.4.0&lt;/gwt.version&gt;\r\n        &lt;deploy.dir&gt;${project.build.directory}&lt;/deploy.dir&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/project&gt;","title":"Filtering in GWT modules with maven and gwt-maven-plugin","body":"<p>I have a GWT project, with 3 modules :</p>\n<pre><code>- MyProject\n- MyProjectProduit\n- CatalogueConnecte\n</code></pre>\n<p>I need to have some resources (html files) filtered, to get the ${project.version} in them.</p>\n<p>The war generated by maven have this format :</p>\n<pre><code>META-INF/\n...\nWEB-INF/\n  classes/\n  ...\n  MyProject.html -&gt; Filtered\n  MyProjectproduit.html -&gt; Filtered\n  CatalogueConnecte.html -&gt; Filtered\n  ...\n  deploy/\n  lib/\n  web.xml\n\ncom.al6.myProject.gwt.MyProject/\n  css/\n  gwt/chrome/\n  gxt/\n  help/\n  images/\n  MyProject.html -&gt; Not Filtered\n  MyProjectproduit.html -&gt; Not Filtered\n  CatalogueConnecte.html -&gt; Not Filtered\n...\n\ncom.al6.myProject.gwt.MyProjectProduit/\n  css/\n  gwt/chrome/\n  gxt/\n  help/\n  images/\n  MyProject.html -&gt; Not Filtered\n  MyProjectproduit.html -&gt; Not Filtered\n  CatalogueConnecte.html -&gt; Not Filtered\n...\n\ncom.al6.myProject.gwt.CatalogueConnecte/\n  css/\n  gwt/chrome/\n  gxt/\n  help/\n  images/\n  MyProject.html -&gt; Not Filtered\n  MyProjectproduit.html -&gt; Not Filtered\n  CatalogueConnecte.html -&gt; Not Filtered\n  ...\n</code></pre>\n<p>With this pom.xml configuration, the filtering works but only for the html files in the WEB-INF directory, not in each com.al6.myProject.gwt... directories.</p>\n<p>Why ?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;groupId&gt;com.al6&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.al6&lt;/groupId&gt;\n  &lt;artifactId&gt;myProject.ihm&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/java/com/al6/myProject/gwt/public/images&lt;/directory&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/jasperreports&lt;/directory&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;finalName&gt;myProject&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.0-beta-2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile-reports&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;${jasperreports.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.al6.ireport&lt;/groupId&gt;\n            &lt;artifactId&gt;ireport&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.8.3&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n              &lt;exclusion&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n              &lt;/exclusion&gt;\n              &lt;exclusion&gt;\n                &lt;artifactId&gt;jta&lt;/artifactId&gt;\n                &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n              &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${project.build.directory}/classes/jasperreports&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;mergewebxml&lt;/goal&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;logLevel&gt;INFO&lt;/logLevel&gt;\n          &lt;compileTargets&gt;\n            &lt;value&gt;com.al6.myProject.gwt.MyProject&lt;/value&gt;\n            &lt;value&gt;com.al6.myProject.gwt.MyProjectProduit&lt;/value&gt;\n            &lt;value&gt;com.al6.myProject.gwt.CatalogueConnecte&lt;/value&gt;\n          &lt;/compileTargets&gt;\n          &lt;runTarget&gt;com.al6.myProject.gwt.MyProject/MyProject.html&lt;/runTarget&gt;\n          &lt;style&gt;OBF&lt;/style&gt;\n          &lt;noServer&gt;false&lt;/noServer&gt;\n          &lt;extraJvmArgs&gt;-Xmx872m&lt;/extraJvmArgs&gt;\n          &lt;gwtVersion&gt;${gwt.version}&lt;/gwtVersion&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;war&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${deploy.dir}&lt;/outputDirectory&gt;\n          &lt;webXml&gt;${project.build.directory}/web.xml&lt;/webXml&gt;\n          &lt;warSourceExcludes&gt;.gwt-tmp&lt;/warSourceExcludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    ...\n  &lt;/dependencies&gt;\n  &lt;properties&gt;\n    &lt;gwt.version&gt;2.4.0&lt;/gwt.version&gt;\n    &lt;deploy.dir&gt;${project.build.directory}&lt;/deploy.dir&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jmeter"],"answers":[{"comments":[{"owner":{"account_id":14027709,"reputation":71,"user_id":10132343,"display_name":"Jeffrey Aquino"},"score":0,"creation_date":1543887610,"post_id":53588865,"comment_id":94071313,"body_markdown":"Just checked it out and yes it displays the heap size I set, thanks!","body":"Just checked it out and yes it displays the heap size I set, thanks!"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543820171,"creation_date":1543820171,"answer_id":53588865,"question_id":53586174,"body_markdown":" 1. You don&#39;t need to increase the heap unless you face [`java.lang.OutOfMemoryError: Java heap space` error][1] or detect unusually high [GC][2] activity \r\n 2. The message basically a form of advice, you will see it even if you have several terabytes of heap space as it is [simply hard-coded][3] and will always be shown during GUI startup. If you want to see all Java arguments including heap space settings you can use [JSR223 Sampler][4] and the following [Groovy][5] code:\r\n\r\n\t\tjava.lang.management.ManagementFactory.getRuntimeMXBean().getInputArguments().each {\r\n\t\t    log.info(&quot;Effective JVM argument: &quot; + &quot;$it&quot;)\r\n\t\t}\r\n\r\n    This way you can test whether you changes are applied or not:\r\n\r\n    [![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://plumbr.io/outofmemoryerror/java-heap-space\r\n  [2]: https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\r\n  [3]: https://github.com/apache/jmeter/blob/v5_0/src/core/org/apache/jmeter/JMeter.java#L364\r\n  [4]: http://jmeter.apache.org/usermanual/component_reference.html#JSR223_Sampler\r\n  [5]: https://www.blazemeter.com/blog/groovy-new-black\r\n  [6]: https://i.stack.imgur.com/oJN5J.png","title":"Jmeter, how to increase heap size","body":"<ol>\n<li>You don't need to increase the heap unless you face <a href=\"https://plumbr.io/outofmemoryerror/java-heap-space\" rel=\"noreferrer\"><code>java.lang.OutOfMemoryError: Java heap space</code> error</a> or detect unusually high <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"noreferrer\">GC</a> activity </li>\n<li><p>The message basically a form of advice, you will see it even if you have several terabytes of heap space as it is <a href=\"https://github.com/apache/jmeter/blob/v5_0/src/core/org/apache/jmeter/JMeter.java#L364\" rel=\"noreferrer\">simply hard-coded</a> and will always be shown during GUI startup. If you want to see all Java arguments including heap space settings you can use <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#JSR223_Sampler\" rel=\"noreferrer\">JSR223 Sampler</a> and the following <a href=\"https://www.blazemeter.com/blog/groovy-new-black\" rel=\"noreferrer\">Groovy</a> code:</p>\n\n<pre><code>java.lang.management.ManagementFactory.getRuntimeMXBean().getInputArguments().each {\n    log.info(\"Effective JVM argument: \" + \"$it\")\n}\n</code></pre>\n\n<p>This way you can test whether you changes are applied or not:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oJN5J.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oJN5J.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n"}],"owner":{"account_id":14027709,"reputation":71,"user_id":10132343,"display_name":"Jeffrey Aquino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13057,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1677597284,"creation_date":1543798772,"question_id":53586174,"body_markdown":"I had read that you need to change the heap size in the jmeter.bat file (I&#39;m using windows) to increase the memory to be able to test around 500 threads or more. This is the default:\r\n\r\n    if not defined HEAP (\r\n        rem See the unix startup file for the rationale of the following parameters,\r\n        rem including some tuning recommendations\r\n        set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m\r\n    )\r\n\r\nI changed the `set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m` it to:\r\n\r\n    set HEAP=-Xms2g -Xmx8g -XX:MaxMetaspaceSize=512m\r\n\r\nBut when I open Jmeter in GUI mode there is a message in the command line window\r\n\r\n    Modify current env variable HEAP=&quot;-Xms1g -Xmx1g -XX:MaxMetaSpaceSize=256m&quot; in the jmeter batch file\r\n\r\nSo does that mean the change in the batch file didn&#39;t work? Or it does work when running in non-gui mode? Did I miss something to change or what? Thanks in advance. ","title":"Jmeter, how to increase heap size","body":"<p>I had read that you need to change the heap size in the jmeter.bat file (I'm using windows) to increase the memory to be able to test around 500 threads or more. This is the default:</p>\n\n<pre><code>if not defined HEAP (\n    rem See the unix startup file for the rationale of the following parameters,\n    rem including some tuning recommendations\n    set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m\n)\n</code></pre>\n\n<p>I changed the <code>set HEAP=-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m</code> it to:</p>\n\n<pre><code>set HEAP=-Xms2g -Xmx8g -XX:MaxMetaspaceSize=512m\n</code></pre>\n\n<p>But when I open Jmeter in GUI mode there is a message in the command line window</p>\n\n<pre><code>Modify current env variable HEAP=\"-Xms1g -Xmx1g -XX:MaxMetaSpaceSize=256m\" in the jmeter batch file\n</code></pre>\n\n<p>So does that mean the change in the batch file didn't work? Or it does work when running in non-gui mode? Did I miss something to change or what? Thanks in advance. </p>\n"},{"tags":["java","apache","solr","lucene"],"answers":[{"tags":[],"owner":{"account_id":6438805,"reputation":660,"user_id":4989412,"accept_rate":14,"display_name":"Mayank Raghav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487058146,"creation_date":1486987596,"answer_id":42203643,"question_id":42138963,"body_markdown":"Finally, I found the solution for this(credit goes to my one of my senior). When running in cloud mode, follow these instructions:\r\n\r\n1. Create `lib` directory inside `SOLR_HOME` and put native-library(.so) file there.\r\n2. In `SOLR_HOME/bin/solr` file, add this line to `SOLR_START_OPTS`:\r\n\r\n    SOLR_START_OPTS= &quot;-Djava.library.path=$SOLR_TIP/lib/&quot;\r\n\r\n3. Create `lib` folders in each node library (i.e SOLR_HOME/example/cloud/node1/lib, SOLR_HOME/example/cloud/node2/lib) and put all your custom plugin jars into these newly created lib folders.\r\n\r\n4. Restart the solr in cloud mode.\r\n\r\nHope, it will help !","title":"How to load native library(.so) in Apache SOLR Cloud mode?","body":"<p>Finally, I found the solution for this(credit goes to my one of my senior). When running in cloud mode, follow these instructions:</p>\n\n<ol>\n<li>Create <code>lib</code> directory inside <code>SOLR_HOME</code> and put native-library(.so) file there.</li>\n<li><p>In <code>SOLR_HOME/bin/solr</code> file, add this line to <code>SOLR_START_OPTS</code>:</p>\n\n<p>SOLR_START_OPTS= \"-Djava.library.path=$SOLR_TIP/lib/\"</p></li>\n<li><p>Create <code>lib</code> folders in each node library (i.e SOLR_HOME/example/cloud/node1/lib, SOLR_HOME/example/cloud/node2/lib) and put all your custom plugin jars into these newly created lib folders.</p></li>\n<li><p>Restart the solr in cloud mode.</p></li>\n</ol>\n\n<p>Hope, it will help !</p>\n"},{"tags":[],"owner":{"account_id":1413154,"reputation":3100,"user_id":1339365,"accept_rate":71,"display_name":"Gnietschow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677597216,"creation_date":1677597216,"answer_id":75593887,"question_id":42138963,"body_markdown":"I struggled with with this problem as well and found another solution which does not need to touch the starting options.\r\n\r\nI just added `&lt;str name=&quot;sharedLib&quot;&gt;${solr.install.dir}/contrib/my_lib,${solr.install.dir}/dist&lt;/str&gt;` to the `solr.xml` ([doc][1]), which then loaded my library on startup so it is shared for all cores.\r\n\r\n\r\n  [1]: https://solr.apache.org/guide/8_3/format-of-solr-xml.html#solr-xml-parameters","title":"How to load native library(.so) in Apache SOLR Cloud mode?","body":"<p>I struggled with with this problem as well and found another solution which does not need to touch the starting options.</p>\n<p>I just added <code>&lt;str name=&quot;sharedLib&quot;&gt;${solr.install.dir}/contrib/my_lib,${solr.install.dir}/dist&lt;/str&gt;</code> to the <code>solr.xml</code> (<a href=\"https://solr.apache.org/guide/8_3/format-of-solr-xml.html#solr-xml-parameters\" rel=\"nofollow noreferrer\">doc</a>), which then loaded my library on startup so it is shared for all cores.</p>\n"}],"owner":{"account_id":6438805,"reputation":660,"user_id":4989412,"accept_rate":14,"display_name":"Mayank Raghav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677597216,"creation_date":1486649616,"question_id":42138963,"body_markdown":"I have written a SOLR custom query parser (implementation of org.apache.solr.search.QParser). My query parser uses some third-party jars. One of the third-party jar requires a native library(.so file) to work. This plugin is working fine when running solr in non-cloud mode, but when I run it on cloud mode, SOLR throws these errors: \r\n\r\n    java.lang.UnsatisfiedLinkError: Native Library /opt/solr-6.2.0/lib/xyz.so already loaded in another classloader\r\n\r\nI have kept all my third-party and query parser jars and .so file in SOLR_HOME/lib directory and have modified:\r\n\r\n1. Added lib dir= &quot;${solr.install.dir:../../../..}/lib/&quot; to solrconfig.xml\r\n\r\n2. In SOLR_HOME/bin/solr file:\r\n\r\n    SOLR_START_OPTS= &quot;-Djava.library.path=$SOLR_TIP/lib/&quot;\r\n\r\nPlease help. Thanks in advance.\r\n","title":"How to load native library(.so) in Apache SOLR Cloud mode?","body":"<p>I have written a SOLR custom query parser (implementation of org.apache.solr.search.QParser). My query parser uses some third-party jars. One of the third-party jar requires a native library(.so file) to work. This plugin is working fine when running solr in non-cloud mode, but when I run it on cloud mode, SOLR throws these errors: </p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: Native Library /opt/solr-6.2.0/lib/xyz.so already loaded in another classloader\n</code></pre>\n\n<p>I have kept all my third-party and query parser jars and .so file in SOLR_HOME/lib directory and have modified:</p>\n\n<ol>\n<li><p>Added lib dir= \"${solr.install.dir:../../../..}/lib/\" to solrconfig.xml</p></li>\n<li><p>In SOLR_HOME/bin/solr file:</p>\n\n<p>SOLR_START_OPTS= \"-Djava.library.path=$SOLR_TIP/lib/\"</p></li>\n</ol>\n\n<p>Please help. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","javabeans"],"comments":[{"owner":{"account_id":10194981,"reputation":516,"user_id":7527080,"accept_rate":100,"display_name":"Azarea"},"score":0,"creation_date":1531198621,"post_id":51257432,"comment_id":89493637,"body_markdown":"maybe duplicate of [how-to-check-two-condition-while-using-conditionalonproperty-or-conditionalone](https://stackoverflow.com/questions/36016864/how-to-check-two-condition-while-using-conditionalonproperty-or-conditionalone)","body":"maybe duplicate of <a href=\"https://stackoverflow.com/questions/36016864/how-to-check-two-condition-while-using-conditionalonproperty-or-conditionalone\">how-to-check-two-condition-while-using-conditionalonproperty&zwnj;&#8203;-or-conditionalone</a>"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1531199627,"creation_date":1531199627,"answer_id":51257660,"question_id":51257432,"body_markdown":"The annotations `@ConditionalOnProperty` and `@ConditionalOnExpression` both do NOT have the `java.lang.annotation.Repeatable` annotation so you would not be able to just add multiple annotations for checking multiple properties.\r\n\r\nThe following syntax has been tested and works:\r\n\r\n**Solution for Two Properties**\r\n\r\n    @ConditionalOnExpression(&quot;${properties.first.property.enable:true} &amp;&amp; ${properties.second.property.startServer:false}&quot;)\r\n\r\nNote the following:\r\n\r\n - You need to using colon notation to indicate the default value of\r\n   the property in the expression language statement \r\n - Each property is in a separate expression language block ${}\r\n - The &amp;&amp; operator is used outside of the SpEL blocks \r\n\r\nIt allows for multiple properties that have differing values and can extend to multiple properties.\r\n\r\n\r\nIf you want to check more then 2 values and still maintain readability, you can use the concatenation operator between different conditions you are evaluating:\r\n\r\n**Solution for more then 2 properties**\r\n\r\n    @ConditionalOnExpression(&quot;${properties.first.property.enable:true} &quot; +\r\n            &quot;&amp;&amp; ${properties.second.property.enable:true} &quot; +\r\n            &quot;&amp;&amp; ${properties.third.property.enable:true}&quot;)\r\n\r\nThe drawback is that you cannot use a matchIfMissing argument as you would be able to when using the `@ConditionalOnProperty` annotation so you will have to ensure that the properties are present in the *.properties* or *YAML* files for all your profiles/environments or just rely on the default value\r\n\r\n\r\n\r\nTaken from here https://stackoverflow.com/questions/40477251/spring-boot-spel-conditionalonexpression-check-multiple-properties/40497419#40497419","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>The annotations <code>@ConditionalOnProperty</code> and <code>@ConditionalOnExpression</code> both do NOT have the <code>java.lang.annotation.Repeatable</code> annotation so you would not be able to just add multiple annotations for checking multiple properties.</p>\n\n<p>The following syntax has been tested and works:</p>\n\n<p><strong>Solution for Two Properties</strong></p>\n\n<pre><code>@ConditionalOnExpression(\"${properties.first.property.enable:true} &amp;&amp; ${properties.second.property.startServer:false}\")\n</code></pre>\n\n<p>Note the following:</p>\n\n<ul>\n<li>You need to using colon notation to indicate the default value of\nthe property in the expression language statement </li>\n<li>Each property is in a separate expression language block ${}</li>\n<li>The &amp;&amp; operator is used outside of the SpEL blocks </li>\n</ul>\n\n<p>It allows for multiple properties that have differing values and can extend to multiple properties.</p>\n\n<p>If you want to check more then 2 values and still maintain readability, you can use the concatenation operator between different conditions you are evaluating:</p>\n\n<p><strong>Solution for more then 2 properties</strong></p>\n\n<pre><code>@ConditionalOnExpression(\"${properties.first.property.enable:true} \" +\n        \"&amp;&amp; ${properties.second.property.enable:true} \" +\n        \"&amp;&amp; ${properties.third.property.enable:true}\")\n</code></pre>\n\n<p>The drawback is that you cannot use a matchIfMissing argument as you would be able to when using the <code>@ConditionalOnProperty</code> annotation so you will have to ensure that the properties are present in the <em>.properties</em> or <em>YAML</em> files for all your profiles/environments or just rely on the default value</p>\n\n<p>Taken from here <a href=\"https://stackoverflow.com/questions/40477251/spring-boot-spel-conditionalonexpression-check-multiple-properties/40497419#40497419\">Spring Boot SpEL ConditionalOnExpression check multiple properties</a></p>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531222793,"creation_date":1531200773,"answer_id":51257833,"question_id":51257432,"body_markdown":"&gt; I am looking for `configurationOnProperty` usage where I can specify to\r\n&gt; consider more than one value\r\n\r\nYou can use [Condition interface][1] of `Spring 4.0`.\r\n\r\nThis interface has a method `matches(...)` which you can use. \r\n\r\n    import org.springframework.context.annotation.Condition;\r\n    import org.springframework.context.annotation.ConditionContext;\r\n    import org.springframework.core.type.AnnotatedTypeMetadata;\r\n    \r\n    public class TestCondition implements Condition {\r\n    \r\n    \t@Override\r\n    \tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n    \t\tString testValue = (context.getEnvironment().getProperty(&quot;test.configname&quot;);\r\n    \t\treturn &quot;value1&quot;.equalsIgnoreCase(&quot;testValue&quot;) || &quot;value2&quot;.equalsIgnoreCase(&quot;testValue&quot;);\r\n    \t}\r\n    \r\n    }\r\nAnd then use `TestCondition` inside your `@Configuration` like below : \r\n\r\n    @Configuration\r\n    public class TestConfig {\r\n    \t\r\n    \t  @Conditional(value=TestCondition .class)\r\n    \t  public MyBean getTestConfigBean() {\r\n    \t\t  //TODO YOUR CODE;\r\n    \t  }\r\n    \r\n    }\r\n\r\n\r\n\r\n&gt; I would like to know if it is possible to specify\r\n&gt; confiugrationOnProperty with condition of havingValue != &quot;value3&quot;\r\n\r\n\r\n\r\n    public class TestCondition2 implements Condition {\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n            String testValue = (context.getEnvironment().getProperty(&quot;test.configname&quot;);\r\n            return ! &quot;value3&quot;.equalsIgnoreCase(&quot;testValue&quot;);\r\n        }\r\n    \r\n    }\r\nAnd then use it like this : \r\n\r\n    @Configuration\r\n    public class TestConfig {\r\n    \r\n          @Conditional(value=TestCondition2 .class)\r\n          public MyBean getTestConfigBean() {\r\n              //TODO YOUR CODE;\r\n          }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<blockquote>\n  <p>I am looking for <code>configurationOnProperty</code> usage where I can specify to\n  consider more than one value</p>\n</blockquote>\n\n<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\" rel=\"noreferrer\">Condition interface</a> of <code>Spring 4.0</code>.</p>\n\n<p>This interface has a method <code>matches(...)</code> which you can use. </p>\n\n<pre><code>import org.springframework.context.annotation.Condition;\nimport org.springframework.context.annotation.ConditionContext;\nimport org.springframework.core.type.AnnotatedTypeMetadata;\n\npublic class TestCondition implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        String testValue = (context.getEnvironment().getProperty(\"test.configname\");\n        return \"value1\".equalsIgnoreCase(\"testValue\") || \"value2\".equalsIgnoreCase(\"testValue\");\n    }\n\n}\n</code></pre>\n\n<p>And then use <code>TestCondition</code> inside your <code>@Configuration</code> like below : </p>\n\n<pre><code>@Configuration\npublic class TestConfig {\n\n      @Conditional(value=TestCondition .class)\n      public MyBean getTestConfigBean() {\n          //TODO YOUR CODE;\n      }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>I would like to know if it is possible to specify\n  confiugrationOnProperty with condition of havingValue != \"value3\"</p>\n</blockquote>\n\n<pre><code>public class TestCondition2 implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        String testValue = (context.getEnvironment().getProperty(\"test.configname\");\n        return ! \"value3\".equalsIgnoreCase(\"testValue\");\n    }\n\n}\n</code></pre>\n\n<p>And then use it like this : </p>\n\n<pre><code>@Configuration\npublic class TestConfig {\n\n      @Conditional(value=TestCondition2 .class)\n      public MyBean getTestConfigBean() {\n          //TODO YOUR CODE;\n      }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":6,"creation_date":1563458993,"post_id":51263063,"comment_id":100714305,"body_markdown":"it looks awful. Do you have ticket to make @ConditionalOnProperty repeatable ?","body":"it looks awful. Do you have ticket to make @ConditionalOnProperty repeatable ?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1563460972,"post_id":51263063,"comment_id":100715556,"body_markdown":"[Yes](https://github.com/spring-projects/spring-boot/issues/2541). It&#39;s not that easy to implement though as some will want AND semantics and others will want OR. Nested conditions may not be aesthetically pleasing, but `AnyNestedCondition`, `AllNestedConditions` and `NoneNestedConditions` give you a lot of flexibility.","body":"<a href=\"https://github.com/spring-projects/spring-boot/issues/2541\" rel=\"nofollow noreferrer\">Yes</a>. It&#39;s not that easy to implement though as some will want AND semantics and others will want OR. Nested conditions may not be aesthetically pleasing, but <code>AnyNestedCondition</code>, <code>AllNestedConditions</code> and <code>NoneNestedConditions</code> give you a lot of flexibility."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1563474181,"post_id":51263063,"comment_id":100722221,"body_markdown":"It is flexible but not user friendly)","body":"It is flexible but not user friendly)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1563487287,"post_id":51263063,"comment_id":100727316,"body_markdown":"You have the same logic(AND) for @Qualifier and everyone is happy","body":"You have the same logic(AND) for @Qualifier and everyone is happy"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1563556319,"post_id":51263063,"comment_id":100752455,"body_markdown":"Everyone apart from the person who asked this question and wanted `OR`, hence the use of `AnyNestedCondition` above.","body":"Everyone apart from the person who asked this question and wanted <code>OR</code>, hence the use of <code>AnyNestedCondition</code> above."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1563578077,"post_id":51263063,"comment_id":100759229,"body_markdown":"But why don&#39;t make it consistent with @Qualifier?  It is a mess from my view","body":"But why don&#39;t make it consistent with @Qualifier?  It is a mess from my view"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":3,"creation_date":1563604300,"post_id":51263063,"comment_id":100762385,"body_markdown":"The issue that I&#39;ve linked to above has not been declined and, if you read it, you&#39;ll see that a change to Spring Framework would also be required. Rather than making a series of derogatory remarks, perhaps you&#39;d like to do something constructive and contribute some pull requests?","body":"The issue that I&#39;ve linked to above has not been declined and, if you read it, you&#39;ll see that a change to Spring Framework would also be required. Rather than making a series of derogatory remarks, perhaps you&#39;d like to do something constructive and contribute some pull requests?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1563707271,"post_id":51263063,"comment_id":100781352,"body_markdown":"Andy, sorry. I didn&#39;t want you to be upset. I just wanted to emphasize that it is to complex for framework client. I don&#39;t know so much about BPPs and BFPPs and other internal spring framework stuff so I am afraid I won&#39;t suggest any pull request) Moreover I am not a Jourgen Holler who is an author of 80% of spring core source as far as I know.","body":"Andy, sorry. I didn&#39;t want you to be upset. I just wanted to emphasize that it is to complex for framework client. I don&#39;t know so much about BPPs and BFPPs and other internal spring framework stuff so I am afraid I won&#39;t suggest any pull request) Moreover I am not a Jourgen Holler who is an author of 80% of spring core source as far as I know."},{"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"score":0,"creation_date":1593849217,"post_id":51263063,"comment_id":110925202,"body_markdown":"want to add that with newer versions of `Spring`, annotation `ConditionalOnProperty` should be updated `@ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value1&quot;)`","body":"want to add that with newer versions of <code>Spring</code>, annotation <code>ConditionalOnProperty</code> should be updated <code>@ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value1&quot;)</code>"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":9,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1593865474,"creation_date":1531218969,"answer_id":51263063,"question_id":51257432,"body_markdown":"Spring Boot provides [`AnyNestedCondition`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AnyNestedCondition.html) for created a condition that will match when any nested condition matches. It also provides [`AllNestedConditions`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AllNestedConditions.html) and [`NoneNestedConditions`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/NoneNestedConditions.html) for matching when all nested conditions or no nested conditions match respectively.\r\n\r\nFor your specific case where you want to match a value of `value1` or `value2` you would create an `AnyNestedCondition` like this:\r\n\r\n    class ConfigNameCondition extends AnyNestedCondition {\r\n\r\n        public ConfigNameCondition() {\r\n    \t\tsuper(ConfigurationPhase.PARSE_CONFIGURATION);\r\n        }\r\n    \r\n    \t@ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value1&quot;)\r\n    \tstatic class Value1Condition {\r\n    \r\n    \t}\r\n    \r\n    \t@ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value2&quot;)\r\n    \tstatic class Value2Condition {\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nAnd then use it with `@Conditional`, like this for example:\r\n\r\n    @Bean\r\n    @Conditional(ConfigNameCondition.class)\r\n    public SomeBean someBean() {\r\n        return new SomeBean();\r\n    }\r\n\r\nAs shown in the javadoc for the nested condition annotations (linked to above) the nested conditions can be of any type. There&#39;s no need for them to all be of the same type as they are in this particular case.","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>Spring Boot provides <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AnyNestedCondition.html\" rel=\"noreferrer\"><code>AnyNestedCondition</code></a> for created a condition that will match when any nested condition matches. It also provides <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/AllNestedConditions.html\" rel=\"noreferrer\"><code>AllNestedConditions</code></a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/NoneNestedConditions.html\" rel=\"noreferrer\"><code>NoneNestedConditions</code></a> for matching when all nested conditions or no nested conditions match respectively.</p>\n<p>For your specific case where you want to match a value of <code>value1</code> or <code>value2</code> you would create an <code>AnyNestedCondition</code> like this:</p>\n<pre><code>class ConfigNameCondition extends AnyNestedCondition {\n\n    public ConfigNameCondition() {\n        super(ConfigurationPhase.PARSE_CONFIGURATION);\n    }\n\n    @ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value1&quot;)\n    static class Value1Condition {\n\n    }\n\n    @ConditionalOnProperty(name = &quot;test.configname&quot;, havingValue = &quot;value2&quot;)\n    static class Value2Condition {\n\n    }\n\n}\n</code></pre>\n<p>And then use it with <code>@Conditional</code>, like this for example:</p>\n<pre><code>@Bean\n@Conditional(ConfigNameCondition.class)\npublic SomeBean someBean() {\n    return new SomeBean();\n}\n</code></pre>\n<p>As shown in the javadoc for the nested condition annotations (linked to above) the nested conditions can be of any type. There's no need for them to all be of the same type as they are in this particular case.</p>\n"},{"tags":[],"owner":{"account_id":12297243,"reputation":1,"user_id":8972494,"display_name":"Rakitski Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677596958,"creation_date":1677596958,"answer_id":75593835,"question_id":51257432,"body_markdown":"To have complext conditions you can use `@ConditionalOnExpression` and use SpEl query there like \r\n\r\n  \r\n\r\n    @ConditionalOnExpression(&quot;#{ T(java.util.Arrays).asList(&#39;value1&#39;, &#39;value2&#39;).contains(&#39;${test.configname}&#39;)}&quot;)\r\n\r\nor use \r\n  \r\n\r\n    @ConditionalOnExpression(&quot;&#39;${test.configname}&#39; ne &#39;value3&#39;&quot;)\r\n\r\nTo more info take a look https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html and https://www.baeldung.com/spring-conditional-annotations","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>To have complext conditions you can use <code>@ConditionalOnExpression</code> and use SpEl query there like</p>\n<pre><code>@ConditionalOnExpression(&quot;#{ T(java.util.Arrays).asList('value1', 'value2').contains('${test.configname}')}&quot;)\n</code></pre>\n<p>or use</p>\n<pre><code>@ConditionalOnExpression(&quot;'${test.configname}' ne 'value3'&quot;)\n</code></pre>\n<p>To more info take a look <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html</a> and <a href=\"https://www.baeldung.com/spring-conditional-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-conditional-annotations</a></p>\n"}],"owner":{"account_id":1032249,"reputation":617,"user_id":1040342,"display_name":"MLS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57163,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":51263063,"answer_count":4,"score":32,"last_activity_date":1677596958,"creation_date":1531198057,"question_id":51257432,"body_markdown":"I am looking for `configurationOnProperty` usage where I can specify to consider more than one value as shown below\r\n\r\nEg: `@ConditionalOnProperty(value = &quot;test.configname&quot;, havingValue = &quot;value1&quot; or &quot;value2&quot;)`\r\n\r\nOR\r\n\r\nI would like to know if it is possible to specify `confiugrationOnProperty` with condition of `havingValue != &quot;value3&quot;`\r\n\r\nEg: `@ConditionalOnProperty(value = &quot;test.configname&quot;, havingValue != &quot;value3&quot;)`\r\n\r\n\r\nPlease let me know if there is a way to achieve any one of the above in `spring boot` configuration.\r\n","title":"Spring @ConditionalOnProperty havingValue = &quot;value1&quot; or &quot;value2&quot;","body":"<p>I am looking for <code>configurationOnProperty</code> usage where I can specify to consider more than one value as shown below</p>\n\n<p>Eg: <code>@ConditionalOnProperty(value = \"test.configname\", havingValue = \"value1\" or \"value2\")</code></p>\n\n<p>OR</p>\n\n<p>I would like to know if it is possible to specify <code>confiugrationOnProperty</code> with condition of <code>havingValue != \"value3\"</code></p>\n\n<p>Eg: <code>@ConditionalOnProperty(value = \"test.configname\", havingValue != \"value3\")</code></p>\n\n<p>Please let me know if there is a way to achieve any one of the above in <code>spring boot</code> configuration.</p>\n"},{"tags":["java","eclipse","debugging","apache-storm"],"owner":{"account_id":6374411,"reputation":113,"user_id":4945871,"display_name":"Petr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677596926,"creation_date":1677596926,"question_id":75593824,"body_markdown":"I&#39;m trying to debug Storm topology in local mode in Eclipse. \r\nI use Apache Storm 2.4.0.\r\nAnd my code looks like this:\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.apache.storm.spout.SpoutOutputCollector;\r\nimport org.apache.storm.task.TopologyContext;\r\nimport org.apache.storm.topology.OutputFieldsDeclarer;\r\nimport org.apache.storm.topology.base.BaseRichSpout;\r\nimport org.apache.storm.tuple.Fields;\r\nimport org.apache.storm.tuple.Values;\r\n\r\npublic class TestSpout extends BaseRichSpout {\r\n\tprivate SpoutOutputCollector collector;\r\n\tprivate static int currentNumber = 1;\r\n\t\r\n\tpublic void open(Map&lt;String, Object&gt; conf, TopologyContext context, SpoutOutputCollector collector) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthis.collector = collector;\r\n\t}\r\n\r\n\tpublic void nextTuple() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tcollector.emit(new Values(new Integer(currentNumber++)));\r\n\t}\r\n\r\n\tpublic void declareOutputFields(OutputFieldsDeclarer declarer) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdeclarer.declare(new Fields(&quot;number&quot;));\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\n\r\nimport org.apache.storm.task.OutputCollector;\r\nimport org.apache.storm.task.TopologyContext;\r\nimport org.apache.storm.topology.OutputFieldsDeclarer;\r\nimport org.apache.storm.topology.base.BaseRichBolt;\r\nimport org.apache.storm.tuple.Fields;\r\nimport org.apache.storm.tuple.Tuple;\r\nimport org.apache.storm.tuple.Values;\r\n\r\npublic class TestBolt extends BaseRichBolt {\r\n    OutputCollector collector;\r\n\r\n\tpublic void prepare(Map&lt;String, Object&gt; topoConf, TopologyContext context, OutputCollector collector) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthis.collector = collector;\r\n\t}\r\n\r\n\tpublic void execute(Tuple input) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint number = input.getInteger(0);\r\n\t\tif(isPrime(number)) {\r\n\t\t\tSystem.out.println(number);\r\n\t\t}\r\n\t\tcollector.ack(input);\r\n\t}\r\n\r\n\tpublic void declareOutputFields(OutputFieldsDeclarer declarer) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdeclarer.declare(new Fields(&quot;number&quot;));\r\n\t}\r\n\r\n\tprivate boolean isPrime(int n) {\r\n\t\tif (n==1 || n==2 || n==3) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (n%2 == 0 || n%3 == 0 || n%5 == 0 || n%7 == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor (int i = 11; i*i &lt;= n; i+=2) {\r\n\t\t\tif(n%i == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport org.apache.storm.Config;\r\nimport org.apache.storm.LocalCluster;\r\nimport org.apache.storm.StormSubmitter;\r\nimport org.apache.storm.topology.TopologyBuilder;\r\nimport org.apache.storm.utils.Utils;\r\n\r\npublic class TestTopology {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tTopologyBuilder builder = new TopologyBuilder();\r\n\t\t\r\n\t\tbuilder.setSpout(&quot;spout&quot;, new TestSpout());\r\n\t\tbuilder.setBolt(&quot;prime&quot;, new TestBolt()).shuffleGrouping(&quot;spout&quot;);\r\n\t\t\r\n\t\tConfig conf = new Config();\r\n\t\t\r\n\t\tStormSubmitter.submitTopologyWithProgressBar(&quot;test_topology&quot;, conf, builder.createTopology());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;m able to use remote debugging in cluster mode meantioned here https://stackoverflow.com/questions/32226052/how-to-debug-apache-storm-in-eclipse.\r\nBut with this method I need build the project, add the topology to storm and then kill the topology, which is quite lengthy.\r\nUnfortunetly, I&#39;m not able to run topology from Eclipse.\r\nI tried use `LocalCluster.withLocalModeOverride`, but the code from documentation https://storm.apache.org/releases/current/Local-mode.html cannot be compiled:\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport org.apache.storm.LocalCluster;\r\n\r\npublic class LocalRun {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tLocalCluster.withLocalModeOverride(() -&gt; TestTopology.main(args), 20);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI get this error: \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tThe method withLocalModeOverride(Callable&lt;T&gt;, long) in the type LocalCluster is not applicable for the arguments (() -&gt; {}, int)\r\n\tCannot return a void result\r\n\r\n\tat stormtest.LocalRun.main(LocalRun.java:10)\r\n\r\n```\r\n\r\nWhen I try:\r\n\r\n```java\r\npackage stormtest;\r\n\r\nimport org.apache.storm.LocalCluster;\r\n\r\npublic class LocalRun {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tLocalCluster.withLocalModeOverride(() -&gt; {TestTopology.main(args); return 0;}, 20);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI get this error:\r\n\r\n```\r\njava.lang.RuntimeException: Must submit topologies using the &#39;storm&#39; client script so that StormSubmitter knows which jar to upload.\r\n\tat org.apache.storm.StormSubmitter.submitJarAs(StormSubmitter.java:485) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyInDistributeMode(StormSubmitter.java:350) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyAs(StormSubmitter.java:292) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopology(StormSubmitter.java:212) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:429) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:410) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat stormtest.TestTopology.main(TestTopology.java:20) ~[classes/:?]\r\n\tat stormtest.LocalRun.lambda$0(LocalRun.java:9) ~[classes/:?]\r\n\tat org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:349) ~[storm-server-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:324) ~[storm-server-2.4.0.jar:2.4.0]\r\n\tat stormtest.LocalRun.main(LocalRun.java:9) ~[classes/:?]\r\n```\r\n\r\nAnother way to use local mode in Eclipse is to run `org.apache.storm.LocalCluster` instead of main class and pass the name as argument.\r\n\r\n[![Eclipse set main class][1]][1]\r\n\r\n[![Eclipse set main class args][2]][2]\r\n\r\nBut I get same error as above.\r\n\r\nHow should I run Storm topology from Eclipse?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A3Lqo.png\r\n  [2]: https://i.stack.imgur.com/EBCcL.png","title":"Apache Storm debugging in Eclipse","body":"<p>I'm trying to debug Storm topology in local mode in Eclipse.\nI use Apache Storm 2.4.0.\nAnd my code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport java.util.Map;\n\nimport org.apache.storm.spout.SpoutOutputCollector;\nimport org.apache.storm.task.TopologyContext;\nimport org.apache.storm.topology.OutputFieldsDeclarer;\nimport org.apache.storm.topology.base.BaseRichSpout;\nimport org.apache.storm.tuple.Fields;\nimport org.apache.storm.tuple.Values;\n\npublic class TestSpout extends BaseRichSpout {\n    private SpoutOutputCollector collector;\n    private static int currentNumber = 1;\n    \n    public void open(Map&lt;String, Object&gt; conf, TopologyContext context, SpoutOutputCollector collector) {\n        // TODO Auto-generated method stub\n        this.collector = collector;\n    }\n\n    public void nextTuple() {\n        // TODO Auto-generated method stub\n        collector.emit(new Values(new Integer(currentNumber++)));\n    }\n\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\n        // TODO Auto-generated method stub\n        declarer.declare(new Fields(&quot;number&quot;));\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport java.util.Iterator;\nimport java.util.Map;\n\nimport org.apache.storm.task.OutputCollector;\nimport org.apache.storm.task.TopologyContext;\nimport org.apache.storm.topology.OutputFieldsDeclarer;\nimport org.apache.storm.topology.base.BaseRichBolt;\nimport org.apache.storm.tuple.Fields;\nimport org.apache.storm.tuple.Tuple;\nimport org.apache.storm.tuple.Values;\n\npublic class TestBolt extends BaseRichBolt {\n    OutputCollector collector;\n\n    public void prepare(Map&lt;String, Object&gt; topoConf, TopologyContext context, OutputCollector collector) {\n        // TODO Auto-generated method stub\n        this.collector = collector;\n    }\n\n    public void execute(Tuple input) {\n        // TODO Auto-generated method stub\n        int number = input.getInteger(0);\n        if(isPrime(number)) {\n            System.out.println(number);\n        }\n        collector.ack(input);\n    }\n\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\n        // TODO Auto-generated method stub\n        declarer.declare(new Fields(&quot;number&quot;));\n    }\n\n    private boolean isPrime(int n) {\n        if (n==1 || n==2 || n==3) {\n            return true;\n        }\n        if (n%2 == 0 || n%3 == 0 || n%5 == 0 || n%7 == 0) {\n            return false;\n        }\n        for (int i = 11; i*i &lt;= n; i+=2) {\n            if(n%i == 0) {\n                return false;\n            }\n            \n        }\n        return true;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport org.apache.storm.Config;\nimport org.apache.storm.LocalCluster;\nimport org.apache.storm.StormSubmitter;\nimport org.apache.storm.topology.TopologyBuilder;\nimport org.apache.storm.utils.Utils;\n\npublic class TestTopology {\n\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n        TopologyBuilder builder = new TopologyBuilder();\n        \n        builder.setSpout(&quot;spout&quot;, new TestSpout());\n        builder.setBolt(&quot;prime&quot;, new TestBolt()).shuffleGrouping(&quot;spout&quot;);\n        \n        Config conf = new Config();\n        \n        StormSubmitter.submitTopologyWithProgressBar(&quot;test_topology&quot;, conf, builder.createTopology());\n    }\n\n}\n\n</code></pre>\n<p>I'm able to use remote debugging in cluster mode meantioned here <a href=\"https://stackoverflow.com/questions/32226052/how-to-debug-apache-storm-in-eclipse\">How to debug Apache Storm in Eclipse?</a>.\nBut with this method I need build the project, add the topology to storm and then kill the topology, which is quite lengthy.\nUnfortunetly, I'm not able to run topology from Eclipse.\nI tried use <code>LocalCluster.withLocalModeOverride</code>, but the code from documentation <a href=\"https://storm.apache.org/releases/current/Local-mode.html\" rel=\"nofollow noreferrer\">https://storm.apache.org/releases/current/Local-mode.html</a> cannot be compiled:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport org.apache.storm.LocalCluster;\n\npublic class LocalRun {\n\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n        LocalCluster.withLocalModeOverride(() -&gt; TestTopology.main(args), 20);\n    }\n\n}\n\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    The method withLocalModeOverride(Callable&lt;T&gt;, long) in the type LocalCluster is not applicable for the arguments (() -&gt; {}, int)\n    Cannot return a void result\n\n    at stormtest.LocalRun.main(LocalRun.java:10)\n\n</code></pre>\n<p>When I try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stormtest;\n\nimport org.apache.storm.LocalCluster;\n\npublic class LocalRun {\n\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n        LocalCluster.withLocalModeOverride(() -&gt; {TestTopology.main(args); return 0;}, 20);\n    }\n\n}\n\n</code></pre>\n<p>I get this error:</p>\n<pre><code>java.lang.RuntimeException: Must submit topologies using the 'storm' client script so that StormSubmitter knows which jar to upload.\n    at org.apache.storm.StormSubmitter.submitJarAs(StormSubmitter.java:485) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyInDistributeMode(StormSubmitter.java:350) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyAs(StormSubmitter.java:292) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopology(StormSubmitter.java:212) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:429) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:410) ~[storm-client-2.4.0.jar:2.4.0]\n    at stormtest.TestTopology.main(TestTopology.java:20) ~[classes/:?]\n    at stormtest.LocalRun.lambda$0(LocalRun.java:9) ~[classes/:?]\n    at org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:349) ~[storm-server-2.4.0.jar:2.4.0]\n    at org.apache.storm.LocalCluster.withLocalModeOverride(LocalCluster.java:324) ~[storm-server-2.4.0.jar:2.4.0]\n    at stormtest.LocalRun.main(LocalRun.java:9) ~[classes/:?]\n</code></pre>\n<p>Another way to use local mode in Eclipse is to run <code>org.apache.storm.LocalCluster</code> instead of main class and pass the name as argument.</p>\n<p><a href=\"https://i.stack.imgur.com/A3Lqo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3Lqo.png\" alt=\"Eclipse set main class\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EBCcL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBCcL.png\" alt=\"Eclipse set main class args\" /></a></p>\n<p>But I get same error as above.</p>\n<p>How should I run Storm topology from Eclipse?</p>\n"},{"tags":["java","serialization","jframe","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1559584,"reputation":1313,"user_id":1449791,"accept_rate":67,"display_name":"Leonardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677596888,"creation_date":1677596888,"answer_id":75593818,"question_id":75593597,"body_markdown":"Usually, desktop applications, like yours, are hard to handle this type of design you desire. I mean: you are opening the application locally. Another user is opening it in his computer.\r\nYou are writting a local file with the information regarding the reservation. So another user, in his computer, won&#39;t have access to it.\r\n\r\nYou have two simple options to solve your problem:\r\n\r\n - create a web application that can be used by multiple users simultaneously;\r\n - make your desktop application connect to a database server which can be accessed by multiple users.\r\n\r\nIn both cases, you can refresh the seat visual interface every &quot;x&quot; seconds/validate if the seat is already reserved before go on.","title":"How do i make sure the changes i made in my JFrame stay even when i exit the frame","body":"<p>Usually, desktop applications, like yours, are hard to handle this type of design you desire. I mean: you are opening the application locally. Another user is opening it in his computer.\nYou are writting a local file with the information regarding the reservation. So another user, in his computer, won't have access to it.</p>\n<p>You have two simple options to solve your problem:</p>\n<ul>\n<li>create a web application that can be used by multiple users simultaneously;</li>\n<li>make your desktop application connect to a database server which can be accessed by multiple users.</li>\n</ul>\n<p>In both cases, you can refresh the seat visual interface every &quot;x&quot; seconds/validate if the seat is already reserved before go on.</p>\n"}],"owner":{"account_id":23720336,"reputation":1,"user_id":17740974,"display_name":"Zain Reshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677596888,"creation_date":1677595672,"question_id":75593597,"body_markdown":"So I&#39;m making a seat reservation system in Java using swing and i want to save the seats reserved by a user \r\nso that when another user opens the The seat reservation window he cant choose already chosen seats.\r\nThis is my first time asking so apologies for my lack of questioning etiqutte.\r\n\r\n\r\n\r\nI tried to use the serializable interface to save the user input and then reopen it when another user logs in but when i try to log in with the other user the Frame for the seat reservation system doesnt open, Infact nothing even seems to happen.\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\tUserIDAndPasswords idandPasswords = new UserIDAndPasswords();\r\n\tUserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\npublic class UserIDAndPasswords {\r\n\r\n\t\r\n\tHashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\r\n\t\r\n\tUserIDAndPasswords(){\r\n\t\t\r\n\t\tlogininfo.put(&quot;Zain&quot;,&quot;Hallelujah101&quot;);\r\n\t\tlogininfo.put(&quot;Arsal&quot;,&quot;BakedCash222&quot;);\r\n\t\tlogininfo.put(&quot;Basil&quot;,&quot;ABC123&quot;);\r\n\t}\r\n\t\r\n\tpublic HashMap getLoginInfo(){\r\n\t\treturn logininfo;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\npublic class UserLogin implements ActionListener, Serializable {\r\n\r\n\t JFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\r\n\t JLabel label = new JLabel(&quot;Welcome to JApp 01&quot;);\r\n\t JButton loginButton = new JButton(&quot;Login&quot;);\r\n\t JButton resetButton = new JButton(&quot;Reset&quot;);\r\n\t JTextField userIDField = new JTextField();\r\n\t JPasswordField userPasswordField = new JPasswordField();\r\n\t JLabel userIDLabel = new JLabel(&quot;userID:&quot;);\r\n\t JLabel userPasswordLabel = new JLabel(&quot;password:&quot;);\r\n\t JLabel messageLabel = new JLabel();\r\n\t HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\r\n\t \r\n\t UserLogin(HashMap&lt;String, String&gt; loginInfoOriginal){\r\n\t\t \r\n\t\t frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t frame.setSize(420,420);\r\n\t\t frame.setLayout(null);\r\n\t\t frame.setVisible(true);\r\n\t\t frame.setLocationRelativeTo(null);\r\n\t\t \r\n\t\t label.setBounds(140,-120,200,400);\r\n\t\t  \r\n\t\t \r\n\t\t logininfo = loginInfoOriginal;\r\n\t\t\t\r\n\t\t\tuserIDLabel.setBounds(50,100,75,25);\r\n\t\t\tuserPasswordLabel.setBounds(50,150,75,25);\r\n\t\t\t\r\n\t\t\tmessageLabel.setBounds(125,250,250,35);\r\n\t\t\t\r\n\t\t\tuserIDField.setBounds(125,100,200,25);\r\n\t\t\tuserPasswordField.setBounds(125,150,200,25);\r\n\t\t\t\r\n\t\t\tloginButton.setBounds(125,200,100,25);\r\n\t\t\tloginButton.setFocusable(false);\r\n\t\t\tloginButton.addActionListener(this);\r\n\t\t\t\r\n\t\t\tresetButton.setBounds(225,200,100,25);\r\n\t\t\tresetButton.setFocusable(false);\r\n\t\t\tresetButton.addActionListener(this);\r\n\t\t\t\r\n\t\t\tframe.add(userIDLabel);\r\n\t\t\tframe.add(userPasswordLabel);\r\n\t\t\tframe.add(messageLabel);\r\n\t\t\tframe.add(userIDField);\r\n\t\t\tframe.add(userPasswordField);\r\n\t\t\tframe.add(loginButton);\r\n\t\t\tframe.add(resetButton);\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t frame.add(label);\r\n\t }\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tif(e.getSource()==resetButton) {\r\n\t\t\tuserIDField.setText(&quot;&quot;);\r\n\t\t\tuserPasswordField.setText(&quot;&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(e.getSource()==loginButton) {\r\n\t\t\t\r\n\t\t\tString userID = userIDField.getText();\r\n\t\t\tString password = String.valueOf(userPasswordField.getPassword());\r\n\t\t\t\r\n\t\t\tif(logininfo.containsKey(userID)) {\r\n\t\t\t\tif(logininfo.get(userID).equals(password)) {\r\n\t\t\t\t\tmessageLabel.setForeground(Color.green);\r\n\t\t\t\t\tmessageLabel.setText(&quot;Login successful&quot;);\r\n\t\t\t\t\tframe.dispose();\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tJAppUser userApp = null;\r\n\t\t\t\t\t\tFile file = new File(&quot;ReservedSeats.ser&quot;);\r\n\t\t\t\t\t\tif(file.exists()) {\r\n\t\t\t\t\t\tFileInputStream filein = new FileInputStream(file);\r\n\t\t\t\t\t\tObjectInputStream in = new  ObjectInputStream(filein);\r\n\t\t\t\t\t\t\tuserApp = (JAppUser)in.readObject();\r\n\t\t\t\t\t\t\tin.close();\r\n\t\t\t\t\t\t\tfilein.close();\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tJAppUser user = new JAppUser();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} catch (IOException | ClassNotFoundException e1) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tmessageLabel.setForeground(Color.red);\r\n\t\t\t\t\tmessageLabel.setText(&quot;Wrong password&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmessageLabel.setForeground(Color.red);\r\n\t\t\t\tmessageLabel.setText(&quot;username not found&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\npublic class JAppUser implements ActionListener, Serializable {\r\n\r\n\tJFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\r\n\tJPanel button_panel = new JPanel();\r\n\tJButton[] buttons = new JButton[50];\r\n\tFont font = new Font(&quot;Times New Roman&quot;, Font.BOLD, 7);\r\n\r\n\tint count;\r\n\r\n\tJAppUser() {\r\n\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(800, 800);\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\r\n\t\tbutton_panel.setLayout(new GridLayout(10, 5));\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tbuttons[i] = new JButton();\r\n\t\t\tbuttons[i].setBounds(10, 10, 10, 10);\r\n\t\t\tbutton_panel.add(buttons[i]);\r\n\t\t\tbuttons[i].setFocusable(false);\r\n\t\t\tbuttons[i].addActionListener(this);\r\n\t\t\tbuttons[i].setEnabled(true);\r\n\t\t}\r\n\r\n\t\tbuttons[0].setText(&quot;Confirm&quot;);\r\n\r\n\t\tInteger num = 1;\r\n\t\tfor (int j = 5; j &lt; buttons.length; j += 5) {\r\n\t\t\tString strnum = num.toString();\r\n\t\t\tbuttons[j].setText(strnum);\r\n\t\t\tnum++;\r\n\t\t\tbuttons[j].setEnabled(false);\r\n\t\t}\r\n\r\n\t\tString[] buttonName = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\r\n\t\tint buttonNum = 0;\r\n\t\tfor (int k = 1; k &lt; 5; k++) {\r\n\t\t\tbuttons[k].setText(buttonName[buttonNum]);\r\n\t\t\tbuttonNum++;\r\n\t\t\tbuttons[k].setEnabled(false);\r\n\t\t}\r\n\r\n\t\tframe.add(button_panel);\r\n\t}\r\n\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tif (e.getSource() == buttons[i]) {\r\n\t\t\t\tif (buttons[i].getText().equals(&quot;&quot;)) {\r\n\t\t\t\t\tbuttons[i].setForeground(Color.BLACK);\r\n\t\t\t\t\tbuttons[i].setText(&quot;X&quot;);\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tSystem.out.println(&quot;Seat  has been reserved.&quot;);\r\n\t\t\t\t} else if (buttons[i].getText().equals(&quot;X&quot;)) {\r\n\t\t\t\t\tbuttons[i].setText(&quot;&quot;);\r\n\t\t\t\t\tfor (int j = 0; j &lt; buttons.length; j++) {\r\n\t\t\tif (buttons[j].getText().equals(&quot;&quot;) ||    buttons[j].getText().equals(&quot;X&quot;)) {\r\n\t\t\t\t\t\t\tbuttons[j].setEnabled(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\tSystem.out.println(&quot;Seat has been unreserved.&quot;);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t   FileOutputStream file = new FileOutputStream(&quot;ReservedSeats.ser&quot;);\r\n\t\t\t\t\t\tObjectOutputStream out = new ObjectOutputStream(file);\r\n\t\t\t\t\t\tout.writeObject(this);\r\n\t\t\t\t\t\tout.close();\r\n\t\t\t\t\t\tfile.close();\r\n\t\t\t\t\t\tSystem.out.print(&quot;Saved Succesfully&quot;);\r\n\r\n\t\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tUserIDAndPasswords idandPasswords = new UserIDAndPasswords();\r\n\t\t\t\t\tUserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\r\n\t\t\t\t\tframe.dispose();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstop(count);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void stop(int count) {\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tif (count &gt;= 3) {\r\n\t\t\t\tfor (int j = 0; j &lt; buttons.length; j++) {\r\n\t\t\t\t\tif (buttons[i].getText().equals(&quot;&quot;)) {\r\n\t\t\t\t\t\tbuttons[i].setEnabled(false);\r\n\t\t\t\t\t\tbuttons[0].setEnabled(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n```\r\n","title":"How do i make sure the changes i made in my JFrame stay even when i exit the frame","body":"<p>So I'm making a seat reservation system in Java using swing and i want to save the seats reserved by a user\nso that when another user opens the The seat reservation window he cant choose already chosen seats.\nThis is my first time asking so apologies for my lack of questioning etiqutte.</p>\n<p>I tried to use the serializable interface to save the user input and then reopen it when another user logs in but when i try to log in with the other user the Frame for the seat reservation system doesnt open, Infact nothing even seems to happen.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n    UserIDAndPasswords idandPasswords = new UserIDAndPasswords();\n    UserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\n\n    }\n\n}\n\n\n\n\n\npublic class UserIDAndPasswords {\n\n    \n    HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\n    \n    UserIDAndPasswords(){\n        \n        logininfo.put(&quot;Zain&quot;,&quot;Hallelujah101&quot;);\n        logininfo.put(&quot;Arsal&quot;,&quot;BakedCash222&quot;);\n        logininfo.put(&quot;Basil&quot;,&quot;ABC123&quot;);\n    }\n    \n    public HashMap getLoginInfo(){\n        return logininfo;\n    }\n    \n    \n}\n\n\n\n\n\n\npublic class UserLogin implements ActionListener, Serializable {\n\n     JFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\n     JLabel label = new JLabel(&quot;Welcome to JApp 01&quot;);\n     JButton loginButton = new JButton(&quot;Login&quot;);\n     JButton resetButton = new JButton(&quot;Reset&quot;);\n     JTextField userIDField = new JTextField();\n     JPasswordField userPasswordField = new JPasswordField();\n     JLabel userIDLabel = new JLabel(&quot;userID:&quot;);\n     JLabel userPasswordLabel = new JLabel(&quot;password:&quot;);\n     JLabel messageLabel = new JLabel();\n     HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\n     \n     UserLogin(HashMap&lt;String, String&gt; loginInfoOriginal){\n         \n         frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         frame.setSize(420,420);\n         frame.setLayout(null);\n         frame.setVisible(true);\n         frame.setLocationRelativeTo(null);\n         \n         label.setBounds(140,-120,200,400);\n          \n         \n         logininfo = loginInfoOriginal;\n            \n            userIDLabel.setBounds(50,100,75,25);\n            userPasswordLabel.setBounds(50,150,75,25);\n            \n            messageLabel.setBounds(125,250,250,35);\n            \n            userIDField.setBounds(125,100,200,25);\n            userPasswordField.setBounds(125,150,200,25);\n            \n            loginButton.setBounds(125,200,100,25);\n            loginButton.setFocusable(false);\n            loginButton.addActionListener(this);\n            \n            resetButton.setBounds(225,200,100,25);\n            resetButton.setFocusable(false);\n            resetButton.addActionListener(this);\n            \n            frame.add(userIDLabel);\n            frame.add(userPasswordLabel);\n            frame.add(messageLabel);\n            frame.add(userIDField);\n            frame.add(userPasswordField);\n            frame.add(loginButton);\n            frame.add(resetButton);\n         \n         \n         \n         frame.add(label);\n     }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if(e.getSource()==resetButton) {\n            userIDField.setText(&quot;&quot;);\n            userPasswordField.setText(&quot;&quot;);\n        }\n        \n        if(e.getSource()==loginButton) {\n            \n            String userID = userIDField.getText();\n            String password = String.valueOf(userPasswordField.getPassword());\n            \n            if(logininfo.containsKey(userID)) {\n                if(logininfo.get(userID).equals(password)) {\n                    messageLabel.setForeground(Color.green);\n                    messageLabel.setText(&quot;Login successful&quot;);\n                    frame.dispose();\n                    \n                    try {\n                        JAppUser userApp = null;\n                        File file = new File(&quot;ReservedSeats.ser&quot;);\n                        if(file.exists()) {\n                        FileInputStream filein = new FileInputStream(file);\n                        ObjectInputStream in = new  ObjectInputStream(filein);\n                            userApp = (JAppUser)in.readObject();\n                            in.close();\n                            filein.close(); \n                        }\n                        else {\n                            JAppUser user = new JAppUser();\n                        }\n                        \n                    } catch (IOException | ClassNotFoundException e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();\n                    }\n                    \n                }\n                else {\n                    messageLabel.setForeground(Color.red);\n                    messageLabel.setText(&quot;Wrong password&quot;);\n                }\n\n            }\n            else {\n                messageLabel.setForeground(Color.red);\n                messageLabel.setText(&quot;username not found&quot;);\n            }\n        }\n        \n    }\n    \n}\n\npublic class JAppUser implements ActionListener, Serializable {\n\n    JFrame frame = new JFrame(&quot;Dubai Software Limited&quot;);\n    JPanel button_panel = new JPanel();\n    JButton[] buttons = new JButton[50];\n    Font font = new Font(&quot;Times New Roman&quot;, Font.BOLD, 7);\n\n    int count;\n\n    JAppUser() {\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800, 800);\n        frame.setLayout(new BorderLayout());\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n\n        button_panel.setLayout(new GridLayout(10, 5));\n        for (int i = 0; i &lt; buttons.length; i++) {\n            buttons[i] = new JButton();\n            buttons[i].setBounds(10, 10, 10, 10);\n            button_panel.add(buttons[i]);\n            buttons[i].setFocusable(false);\n            buttons[i].addActionListener(this);\n            buttons[i].setEnabled(true);\n        }\n\n        buttons[0].setText(&quot;Confirm&quot;);\n\n        Integer num = 1;\n        for (int j = 5; j &lt; buttons.length; j += 5) {\n            String strnum = num.toString();\n            buttons[j].setText(strnum);\n            num++;\n            buttons[j].setEnabled(false);\n        }\n\n        String[] buttonName = { &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot; };\n        int buttonNum = 0;\n        for (int k = 1; k &lt; 5; k++) {\n            buttons[k].setText(buttonName[buttonNum]);\n            buttonNum++;\n            buttons[k].setEnabled(false);\n        }\n\n        frame.add(button_panel);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n\n        for (int i = 0; i &lt; buttons.length; i++) {\n            if (e.getSource() == buttons[i]) {\n                if (buttons[i].getText().equals(&quot;&quot;)) {\n                    buttons[i].setForeground(Color.BLACK);\n                    buttons[i].setText(&quot;X&quot;);\n                    count++;\n                    System.out.println(&quot;Seat  has been reserved.&quot;);\n                } else if (buttons[i].getText().equals(&quot;X&quot;)) {\n                    buttons[i].setText(&quot;&quot;);\n                    for (int j = 0; j &lt; buttons.length; j++) {\n            if (buttons[j].getText().equals(&quot;&quot;) ||    buttons[j].getText().equals(&quot;X&quot;)) {\n                            buttons[j].setEnabled(true);\n                        }\n                    }\n                    count--;\n                    System.out.println(&quot;Seat has been unreserved.&quot;);\n                } else {\n\n                    try {\n                   FileOutputStream file = new FileOutputStream(&quot;ReservedSeats.ser&quot;);\n                        ObjectOutputStream out = new ObjectOutputStream(file);\n                        out.writeObject(this);\n                        out.close();\n                        file.close();\n                        System.out.print(&quot;Saved Succesfully&quot;);\n\n                    } catch (IOException e1) {\n                        // TODO Auto-generated catch block\n                        e1.printStackTrace();\n                    }\n\n                    UserIDAndPasswords idandPasswords = new UserIDAndPasswords();\n                    UserLogin userlogin = new UserLogin(idandPasswords.getLoginInfo());\n                    frame.dispose();\n                }\n            }\n            stop(count);\n        }\n    }\n\n    public void stop(int count) {\n        for (int i = 0; i &lt; buttons.length; i++) {\n            if (count &gt;= 3) {\n                for (int j = 0; j &lt; buttons.length; j++) {\n                    if (buttons[i].getText().equals(&quot;&quot;)) {\n                        buttons[i].setEnabled(false);\n                        buttons[0].setEnabled(true);\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","intellij-idea","decompiling"],"comments":[{"owner":{"account_id":63249,"reputation":5185,"user_id":187343,"display_name":"Amila"},"score":0,"creation_date":1442564146,"post_id":32646771,"comment_id":53141538,"body_markdown":"I don&#39;t think any decompiler can perverse original line numbers. I&#39;d be amazed if you can correctly debug with decompiled sources in Eclipse.","body":"I don&#39;t think any decompiler can perverse original line numbers. I&#39;d be amazed if you can correctly debug with decompiled sources in Eclipse."},{"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"score":1,"creation_date":1442565320,"post_id":32646771,"comment_id":53142213,"body_markdown":"not sure about eclipse, but Intellij Idea does this magic. http://blog.jetbrains.com/idea/2015/02/debug-decompiled-code-with-intellij-idea-14-1/","body":"not sure about eclipse, but Intellij Idea does this magic. <a href=\"http://blog.jetbrains.com/idea/2015/02/debug-decompiled-code-with-intellij-idea-14-1/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2015/02/&hellip;</a>"},{"owner":{"account_id":63249,"reputation":5185,"user_id":187343,"display_name":"Amila"},"score":0,"creation_date":1442565471,"post_id":32646771,"comment_id":53142309,"body_markdown":"That&#39;s actually pretty interesting, thanks @hahn.","body":"That&#39;s actually pretty interesting, thanks @hahn."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1469207964,"post_id":32646771,"comment_id":64457954,"body_markdown":"@stiver some help here?","body":"@stiver some help here?"}],"answers":[{"comments":[{"owner":{"account_id":8447079,"reputation":1138,"user_id":6337331,"display_name":"Mafick"},"score":0,"creation_date":1481037930,"post_id":33784116,"comment_id":69206425,"body_markdown":"Where is this flag? in which file?","body":"Where is this flag? in which file?"},{"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"score":2,"creation_date":1481038141,"post_id":33784116,"comment_id":69206597,"body_markdown":"@KilleKat this flag was either renamed. If you open Intellij&#39;s Registry you should be able to find keys containing &quot;decompiler&quot; word. In latest IDEA this is named as &quot;decompiler.dump.original.lines&quot; and &quot;decompiler.use.line.mapping&quot;","body":"@KilleKat this flag was either renamed. If you open Intellij&#39;s Registry you should be able to find keys containing &quot;decompiler&quot; word. In latest IDEA this is named as &quot;decompiler.dump.original.lines&quot; and &quot;decompiler.use.line.mapping&quot;"},{"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"score":0,"creation_date":1556799162,"post_id":33784116,"comment_id":98556223,"body_markdown":"@Mafick - Please see hahn&#39;s comment in above answer or mine.","body":"@Mafick - Please see hahn&#39;s comment in above answer or mine."}],"tags":[],"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1455526172,"creation_date":1447860757,"answer_id":33784116,"question_id":32646771,"body_markdown":"ok, as there are no news regarding this, I&#39;ve created a little plugin which decompiles the jar file with compiled code to new `*-sources.jar` file using build-in `Intellij` `fernflower` decompiler and attaches sources to project. anyone interested, can take a look at `decompile and attach` plugin in jetbrains plugin repository\r\n\r\nUpdate\r\nanswering my question about line numbers in decompiled code using `fernflower`. I found &#39;`decompiler.use.line.table`&#39; flag in `Intellij`&#39;s `fernflower` which preserves line numbers.","title":"How to decompile with correct line numbers using fernflower?","body":"<p>ok, as there are no news regarding this, I've created a little plugin which decompiles the jar file with compiled code to new <code>*-sources.jar</code> file using build-in <code>Intellij</code> <code>fernflower</code> decompiler and attaches sources to project. anyone interested, can take a look at <code>decompile and attach</code> plugin in jetbrains plugin repository</p>\n\n<p>Update\nanswering my question about line numbers in decompiled code using <code>fernflower</code>. I found '<code>decompiler.use.line.table</code>' flag in <code>Intellij</code>'s <code>fernflower</code> which preserves line numbers.</p>\n"},{"comments":[{"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"score":12,"creation_date":1488209716,"post_id":42462512,"comment_id":72118825,"body_markdown":"or through Cmd + Shift + A -&gt; Registry in Intellij","body":"or through Cmd + Shift + A -&gt; Registry in Intellij"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":3,"creation_date":1524151783,"post_id":42462512,"comment_id":86865620,"body_markdown":"@hahn - Or just go to the Help Menu &gt; Find Action &gt; Registry. Then set &quot;decompiler.dump.original.lines&quot; to true.","body":"@hahn - Or just go to the Help Menu &gt; Find Action &gt; Registry. Then set &quot;decompiler.dump.original.lines&quot; to true."},{"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"score":3,"creation_date":1556798771,"post_id":42462512,"comment_id":98556001,"body_markdown":"In Windows, it is in: `%USERPROFILE%\\.IdeaIC15\\config\\options\\options.xml`; Shortcut in IntelliJ: `Ctrl + Shift + A` &gt; `Registry`","body":"In Windows, it is in: <code>%USERPROFILE%\\.IdeaIC15\\config\\options\\options.xml</code>; Shortcut in IntelliJ: <code>Ctrl + Shift + A</code> &gt; <code>Registry</code>"}],"tags":[],"owner":{"account_id":10334732,"reputation":141,"user_id":7623296,"display_name":"b1gg33k"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1488062873,"creation_date":1488062873,"answer_id":42462512,"question_id":32646771,"body_markdown":"I found that on OSX you can change this setting in the following file:\r\n\r\n&gt; ~/Library/Preferences/IntelliJIdea2016.1/options/options.xml\r\n\r\nAdd the following properties:\r\n\r\n        &lt;property name=&quot;decompiler.use.line.mapping&quot; value=&quot;true&quot; /&gt;\r\n        &lt;property name=&quot;decompiler.dump.original.lines&quot; value=&quot;true&quot; /&gt;","title":"How to decompile with correct line numbers using fernflower?","body":"<p>I found that on OSX you can change this setting in the following file:</p>\n\n<blockquote>\n  <p>~/Library/Preferences/IntelliJIdea2016.1/options/options.xml</p>\n</blockquote>\n\n<p>Add the following properties:</p>\n\n<pre><code>    &lt;property name=\"decompiler.use.line.mapping\" value=\"true\" /&gt;\n    &lt;property name=\"decompiler.dump.original.lines\" value=\"true\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677596523,"creation_date":1677596523,"answer_id":75593752,"question_id":32646771,"body_markdown":"If you are using new pluing named **Quiltflower** then use &#39;**Dump Original Lines**&#39; option under\r\n\r\n    Tools ➡ Quiltflower\r\n\r\nIt will add a comment at the end of each line with an original line number.","title":"How to decompile with correct line numbers using fernflower?","body":"<p>If you are using new pluing named <strong>Quiltflower</strong> then use '<strong>Dump Original Lines</strong>' option under</p>\n<pre><code>Tools ➡ Quiltflower\n</code></pre>\n<p>It will add a comment at the end of each line with an original line number.</p>\n"}],"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7164,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1677596523,"creation_date":1442563092,"question_id":32646771,"body_markdown":"I&#39;m using `Intellij Idea 14` working with big java project where a lot of code is compiled and w/o sources.\r\n\r\nAs far as I know `Idea` can&#39;t make a search in compiled code (as `eclipse` does), but it can decompile single file using build-in `fernflower` and this also gives a possibility to debug through compiled code.\r\n\r\nIs there a way to decompile all compiled code at once the same way Idea does and attach it to project so that it was possible to search through &quot;Project and Libs&quot; w/o loosing debugging feature in decompiled sources?\r\n\r\nI&#39;ve tried using `Bytecodeviewer` with different `fernflower` options, but the result was that debugging was broken (showed wrong lines) after attaching the decompiled sources.","title":"How to decompile with correct line numbers using fernflower?","body":"<p>I'm using <code>Intellij Idea 14</code> working with big java project where a lot of code is compiled and w/o sources.</p>\n\n<p>As far as I know <code>Idea</code> can't make a search in compiled code (as <code>eclipse</code> does), but it can decompile single file using build-in <code>fernflower</code> and this also gives a possibility to debug through compiled code.</p>\n\n<p>Is there a way to decompile all compiled code at once the same way Idea does and attach it to project so that it was possible to search through \"Project and Libs\" w/o loosing debugging feature in decompiled sources?</p>\n\n<p>I've tried using <code>Bytecodeviewer</code> with different <code>fernflower</code> options, but the result was that debugging was broken (showed wrong lines) after attaching the decompiled sources.</p>\n"},{"tags":["java","apache-flink","flink-streaming","predicate"],"answers":[{"tags":[],"owner":{"account_id":4204909,"reputation":987,"user_id":3444107,"accept_rate":50,"display_name":"Sami Badawi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677596521,"creation_date":1677596521,"answer_id":75593751,"question_id":74076309,"body_markdown":"## General Flink Serialization Advice\r\n\r\nFlink falls back to use the Kryo Java serialization framework. It is very general and not super robust. You have quite complex objects. Try to make them flatter.\r\n\r\nIf you are using Row that is already kind of a HashMap that is serializable. That is a good place to put values.\r\n\r\nYou can use the class `org.apache.flink.table.data.GenericRowData`. That is easy to work with.\r\n\r\n","title":"Custom Predicate Evaluation in Flink gives java.io.NotSerializableException:","body":"<h2>General Flink Serialization Advice</h2>\n<p>Flink falls back to use the Kryo Java serialization framework. It is very general and not super robust. You have quite complex objects. Try to make them flatter.</p>\n<p>If you are using Row that is already kind of a HashMap that is serializable. That is a good place to put values.</p>\n<p>You can use the class <code>org.apache.flink.table.data.GenericRowData</code>. That is easy to work with.</p>\n"}],"owner":{"account_id":9450053,"reputation":420,"user_id":7027284,"display_name":"guru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677596521,"creation_date":1665801512,"question_id":74076309,"body_markdown":"I have a CustomPredicate that evaluates an expression to be `true` or `false`. A few months back, the code was working just fine. \r\n\r\nNow, I get the following exception even before the Flink job is submitted. Below are details about the exception:\r\n\r\n```\r\norg.apache.flink.api.common.InvalidProgramException: java.util.function.Predicate$$Lambda$167/20853837@390a07a0 is not serializable. The object probably contains or references non serializable fields.\r\n```\r\nThe above exception is caused by:\r\n```\r\nCaused by: java.io.NotSerializableException: java.util.function.Predicate$$Lambda$167/20853837\r\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\r\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n        at org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:632)\r\n        at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:143)\r\n        ... 28 more\r\n\r\n```\r\n\r\n\r\nBelow is the `CustomPredicate`:\r\n\r\n```\r\npublic class CustomPredicate implements Predicate&lt;RowMapPair&gt;, Serializable {\r\n  private static final long serialVersionUID = 3122121231213145L;\r\n\r\n  private final String column;\r\n  private final String value;\r\n\r\n  @Override\r\n  public boolean test(RowMapPair rowMapPair) {\r\n    MapState&lt;String, Pair&gt; mapState = rowMapPair.getMapState();\r\n    Row row = rowMapPair.getRow();\r\n    String id = String.valueOf(row.getFieldAs(&quot;_id&quot;));\r\n    String key = String.join(&quot;__&quot;, id, column);\r\n\r\n    String curVal = null;\r\n    try {\r\n      Pair val = mapState.get(key);\r\n      log.debug(&quot;** val: {}&quot;, mapState.get(key));\r\n      if (Objects.nonNull(val)) {\r\n        curVal = String.valueOf(val.getValue());\r\n      } else {\r\n        return false;\r\n      }\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error: {}&quot;, e.getMessage(), e);\r\n      throw new RuntimeException(e);\r\n    }\r\n    return curVal.equalsIgnoreCase(value);\r\n  }\r\n}\r\n```\r\n`RowMapMair` looks like this:\r\n```\r\npublic class RowMapPair implements Serializable {\r\n  private static final long serialVersionUID = 31213145L;\r\n  private MapState&lt;String, Pair&gt; mapState;\r\n  private Row row;\r\n}\r\n```\r\n\r\nThe caller function does this:\r\n```\r\nreturn new CustomPredicate(column, stringValue.getValue());\r\n```\r\n\r\nHas anyone faced this issue before? I tried with different versions of Flink: `1.14.5`, `1.14.3` and `1.14.0`. Nothing works for some reason. \r\n\r\nAny help is appreciated!","title":"Custom Predicate Evaluation in Flink gives java.io.NotSerializableException:","body":"<p>I have a CustomPredicate that evaluates an expression to be <code>true</code> or <code>false</code>. A few months back, the code was working just fine.</p>\n<p>Now, I get the following exception even before the Flink job is submitted. Below are details about the exception:</p>\n<pre><code>org.apache.flink.api.common.InvalidProgramException: java.util.function.Predicate$$Lambda$167/20853837@390a07a0 is not serializable. The object probably contains or references non serializable fields.\n</code></pre>\n<p>The above exception is caused by:</p>\n<pre><code>Caused by: java.io.NotSerializableException: java.util.function.Predicate$$Lambda$167/20853837\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n        at org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:632)\n        at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:143)\n        ... 28 more\n\n</code></pre>\n<p>Below is the <code>CustomPredicate</code>:</p>\n<pre><code>public class CustomPredicate implements Predicate&lt;RowMapPair&gt;, Serializable {\n  private static final long serialVersionUID = 3122121231213145L;\n\n  private final String column;\n  private final String value;\n\n  @Override\n  public boolean test(RowMapPair rowMapPair) {\n    MapState&lt;String, Pair&gt; mapState = rowMapPair.getMapState();\n    Row row = rowMapPair.getRow();\n    String id = String.valueOf(row.getFieldAs(&quot;_id&quot;));\n    String key = String.join(&quot;__&quot;, id, column);\n\n    String curVal = null;\n    try {\n      Pair val = mapState.get(key);\n      log.debug(&quot;** val: {}&quot;, mapState.get(key));\n      if (Objects.nonNull(val)) {\n        curVal = String.valueOf(val.getValue());\n      } else {\n        return false;\n      }\n    } catch (Exception e) {\n      log.error(&quot;Error: {}&quot;, e.getMessage(), e);\n      throw new RuntimeException(e);\n    }\n    return curVal.equalsIgnoreCase(value);\n  }\n}\n</code></pre>\n<p><code>RowMapMair</code> looks like this:</p>\n<pre><code>public class RowMapPair implements Serializable {\n  private static final long serialVersionUID = 31213145L;\n  private MapState&lt;String, Pair&gt; mapState;\n  private Row row;\n}\n</code></pre>\n<p>The caller function does this:</p>\n<pre><code>return new CustomPredicate(column, stringValue.getValue());\n</code></pre>\n<p>Has anyone faced this issue before? I tried with different versions of Flink: <code>1.14.5</code>, <code>1.14.3</code> and <code>1.14.0</code>. Nothing works for some reason.</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","scheduledexecutorservice"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1550163426,"post_id":54695402,"comment_id":96178445,"body_markdown":"https://stackoverflow.com/questions/25049021/what-is-the-purpose-of-scheduledfuture-get-method-if-is-retrieved-from-the-sch","body":"<a href=\"https://stackoverflow.com/questions/25049021/what-is-the-purpose-of-scheduledfuture-get-method-if-is-retrieved-from-the-sch\" title=\"what is the purpose of scheduledfuture get method if is retrieved from the sch\">stackoverflow.com/questions/25049021/&hellip;</a>"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1550176707,"post_id":54695402,"comment_id":96184295,"body_markdown":"@SotiriosDelimanolis thanks, seems nearly same, but still doesn&#39;t contain the exact answer (though I guess that answer will be &quot;yes&quot;, I am more worried about if it is following directly from the documentation or from the specific implementation of this interface?)","body":"@SotiriosDelimanolis thanks, seems nearly same, but still doesn&#39;t contain the exact answer (though I guess that answer will be &quot;yes&quot;, I am more worried about if it is following directly from the documentation or from the specific implementation of this interface?)"}],"answers":[{"tags":[],"owner":{"account_id":268434,"reputation":3010,"user_id":557191,"accept_rate":100,"display_name":"Michael Lowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677590874,"creation_date":1677590874,"answer_id":75592735,"question_id":54695402,"body_markdown":"The returned `ScheduledFuture` should represent the ongoing task, including its recurrence.\r\n\r\nWe can know that this is the case by reading the following code snippet from [the documentation of `ScheduledExecutorService`][1]:\r\n```\r\n import static java.util.concurrent.TimeUnit.*;\r\n class BeeperControl {\r\n   private final ScheduledExecutorService scheduler =\r\n     Executors.newScheduledThreadPool(1);\r\n\r\n   public void beepForAnHour() {\r\n     final Runnable beeper = new Runnable() {\r\n       public void run() { System.out.println(&quot;beep&quot;); }\r\n     };\r\n     final ScheduledFuture&lt;?&gt; beeperHandle =\r\n       scheduler.scheduleAtFixedRate(beeper, 10, 10, SECONDS);\r\n     scheduler.schedule(new Runnable() {\r\n       public void run() { beeperHandle.cancel(true); }\r\n     }, 60 * 60, SECONDS);\r\n   }\r\n }\r\n```\r\n\r\nThe `ScheduledFuture` is used to cancel the task after an hour has elapsed. For this to function correctly, the `ScheduledFuture` cannot represent the initially submitted task, but rather must represent the ongoing recurrent task.\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"Does the ScheduledFuture represent the same task for all executions for an action scheduled at a fixed rate?","body":"<p>The returned <code>ScheduledFuture</code> should represent the ongoing task, including its recurrence.</p>\n<p>We can know that this is the case by reading the following code snippet from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">the documentation of <code>ScheduledExecutorService</code></a>:</p>\n<pre><code> import static java.util.concurrent.TimeUnit.*;\n class BeeperControl {\n   private final ScheduledExecutorService scheduler =\n     Executors.newScheduledThreadPool(1);\n\n   public void beepForAnHour() {\n     final Runnable beeper = new Runnable() {\n       public void run() { System.out.println(&quot;beep&quot;); }\n     };\n     final ScheduledFuture&lt;?&gt; beeperHandle =\n       scheduler.scheduleAtFixedRate(beeper, 10, 10, SECONDS);\n     scheduler.schedule(new Runnable() {\n       public void run() { beeperHandle.cancel(true); }\n     }, 60 * 60, SECONDS);\n   }\n }\n</code></pre>\n<p>The <code>ScheduledFuture</code> is used to cancel the task after an hour has elapsed. For this to function correctly, the <code>ScheduledFuture</code> cannot represent the initially submitted task, but rather must represent the ongoing recurrent task.</p>\n"}],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677596458,"creation_date":1550163300,"question_id":54695402,"body_markdown":"It is not clear to me from the JavaDoc [description][1] of the `java.util.concurrent.ScheduledExecutorService::scheduleAtFixedRate method,` if the returned `ScheduledFuture` represents the same task for all   \r\ninvocations of the scheduled action or not.\r\n\r\nIn other words, my scheduled actions will be performed for some undefined number of times (until I stop my application). Can I stop its execution at any time after any number of invocations by just saving this variable and canceling it?\r\n\r\nThis question is not only about actual implementation (which is by any means interesting to reveal), but also about proper understanding of the specification (what if I would like to provide my own implementation of the `ScheduledExecutorService`?).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-","title":"Does the ScheduledFuture represent the same task for all executions for an action scheduled at a fixed rate?","body":"<p>It is not clear to me from the JavaDoc <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate-java.lang.Runnable-long-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\">description</a> of the <code>java.util.concurrent.ScheduledExecutorService::scheduleAtFixedRate method,</code> if the returned <code>ScheduledFuture</code> represents the same task for all<br />\ninvocations of the scheduled action or not.</p>\n<p>In other words, my scheduled actions will be performed for some undefined number of times (until I stop my application). Can I stop its execution at any time after any number of invocations by just saving this variable and canceling it?</p>\n<p>This question is not only about actual implementation (which is by any means interesting to reveal), but also about proper understanding of the specification (what if I would like to provide my own implementation of the <code>ScheduledExecutorService</code>?).</p>\n"},{"tags":["java","spring","elasticsearch","kibana","filebeat"],"owner":{"account_id":24280588,"reputation":23,"user_id":18227165,"display_name":"diablo296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677596390,"creation_date":1677596390,"question_id":75593733,"body_markdown":"I have issue with filebeat. I&#39;m using autodiscover for kubernetes. Filebeat is collecting logs and sending them to elastic and they are visible in kibana. Some logs are not sending and I don&#39;t understand why. I see in Kibana log: \r\n&gt;Starting Application using Java 17.0.5 on....\r\n\r\nbut I don&#39;t see in kibana\r\n&gt;Error starting ApplicationContext. To display the conditions report re-run your application with ....\r\n\r\nMy filebeat.yaml\r\n\r\n    filebeat.yml: |-\r\n    filebeat.shutdown_timeout: 300s\r\n\r\n    filebeat.autodiscover:\r\n      providers:\r\n        - type: kubernetes\r\n          templates:\r\n            - condition:\r\n                equals:\r\n                  kubernetes.namespace: {{ .Release.Namespace }}\r\n              config:\r\n                - type: container\r\n                  paths:\r\n                    - &quot;/var/log/containers/*-${data.kubernetes.container.id}.log&quot;\r\n                  fields:\r\n                    installation: ${INSTALLATION_NAME}\r\n                  containers.ids:\r\n                    - &quot;${data.kubernetes.container.id}&quot;\r\n                  multiline.pattern: &#39;^\\{&#39;\r\n                  multiline.negate: true\r\n                  multiline.match: after\r\n                  multiline.timeout: 120s #default 5s\r\n                  multiline.max_lines: 10000 #default 500\r\n                  processors:\r\n                    - decode_json_fields:\r\n                        fields: message\r\n                        max_depth: 9\r\n                        target: &quot;&quot;\r\n                        overwrite_keys: true\r\n                        add_error_key: true","title":"Filebeat not collecting all logs","body":"<p>I have issue with filebeat. I'm using autodiscover for kubernetes. Filebeat is collecting logs and sending them to elastic and they are visible in kibana. Some logs are not sending and I don't understand why. I see in Kibana log:</p>\n<blockquote>\n<p>Starting Application using Java 17.0.5 on....</p>\n</blockquote>\n<p>but I don't see in kibana</p>\n<blockquote>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with ....</p>\n</blockquote>\n<p>My filebeat.yaml</p>\n<pre><code>filebeat.yml: |-\nfilebeat.shutdown_timeout: 300s\n\nfilebeat.autodiscover:\n  providers:\n    - type: kubernetes\n      templates:\n        - condition:\n            equals:\n              kubernetes.namespace: {{ .Release.Namespace }}\n          config:\n            - type: container\n              paths:\n                - &quot;/var/log/containers/*-${data.kubernetes.container.id}.log&quot;\n              fields:\n                installation: ${INSTALLATION_NAME}\n              containers.ids:\n                - &quot;${data.kubernetes.container.id}&quot;\n              multiline.pattern: '^\\{'\n              multiline.negate: true\n              multiline.match: after\n              multiline.timeout: 120s #default 5s\n              multiline.max_lines: 10000 #default 500\n              processors:\n                - decode_json_fields:\n                    fields: message\n                    max_depth: 9\n                    target: &quot;&quot;\n                    overwrite_keys: true\n                    add_error_key: true\n</code></pre>\n"},{"tags":["java","json","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":192352,"reputation":6757,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"score":1,"creation_date":1605030249,"post_id":28466207,"comment_id":114526127,"body_markdown":"By the way the latest spring (not sure when this was added) does a much better job. Last year sometime I accidentally made this mistake again and instead of the cryptic error above I got an error that told me pretty much exactly what I did wrong (don&#39;t remember the text but...). So kudos for the team on improving this.","body":"By the way the latest spring (not sure when this was added) does a much better job. Last year sometime I accidentally made this mistake again and instead of the cryptic error above I got an error that told me pretty much exactly what I did wrong (don&#39;t remember the text but...). So kudos for the team on improving this."},{"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"score":0,"creation_date":1668626073,"post_id":28466207,"comment_id":131453783,"body_markdown":"public getters are required for spring boot exception handlers ...","body":"public getters are required for spring boot exception handlers ..."}],"answers":[{"comments":[{"owner":{"account_id":27003,"reputation":3863,"user_id":70786,"accept_rate":67,"display_name":"Michal Bernhard"},"score":57,"creation_date":1448981028,"post_id":28466881,"comment_id":55801051,"body_markdown":"well spring is very &quot;helpful&quot; with HttpMediaTypeNotAcceptableException error message ...","body":"well spring is very &quot;helpful&quot; with HttpMediaTypeNotAcceptableException error message ..."},{"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"score":3,"creation_date":1453388922,"post_id":28466881,"comment_id":57587981,"body_markdown":"I encoutered the same problem, having an empty class (so far) with no fields or getters. I agree the error message is very &quot;helpful&quot;, so thanks a lot.","body":"I encoutered the same problem, having an empty class (so far) with no fields or getters. I agree the error message is very &quot;helpful&quot;, so thanks a lot."},{"owner":{"account_id":5687210,"reputation":3883,"user_id":4496364,"accept_rate":67,"display_name":"insan-e"},"score":3,"creation_date":1528850297,"post_id":28466881,"comment_id":88659763,"body_markdown":"I tried to return `List&lt;MyClass&gt;` but said `produces = MediaType.APPLICATION_XML_VALUE` so Spring doesn&#39;t know how to represent the list as XML.. :D obviously...","body":"I tried to return <code>List&lt;MyClass&gt;</code> but said <code>produces = MediaType.APPLICATION_XML_VALUE</code> so Spring doesn&#39;t know how to represent the list as XML.. :D obviously..."},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1569338127,"post_id":28466881,"comment_id":102560878,"body_markdown":"Wonderfule, i was using lombok, added all arg and no arg anotation and forgotten getter setter completely. Thanks!","body":"Wonderfule, i was using lombok, added all arg and no arg anotation and forgotten getter setter completely. Thanks!"},{"owner":{"account_id":8412388,"reputation":688,"user_id":6313846,"display_name":"tufac2"},"score":0,"creation_date":1636182637,"post_id":28466881,"comment_id":123492914,"body_markdown":"Exactly. I forgot the getters and setters. In fact, the request was incoming with all the fields as null","body":"Exactly. I forgot the getters and setters. In fact, the request was incoming with all the fields as null"},{"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"score":0,"creation_date":1687521146,"post_id":28466881,"comment_id":134952185,"body_markdown":"I would add, that getter should be named according to `getters naming convention`, if you don&#39;t use any special `Jackson` annotations or `Lombok`. Otherwise the getters aren&#39;t recognized and you still encounter the issue.","body":"I would add, that getter should be named according to <code>getters naming convention</code>, if you don&#39;t use any special <code>Jackson</code> annotations or <code>Lombok</code>. Otherwise the getters aren&#39;t recognized and you still encounter the issue."}],"tags":[],"owner":{"account_id":2615957,"reputation":11395,"user_id":2264997,"display_name":"ikumen"},"comment_count":6,"down_vote_count":0,"up_vote_count":209,"is_accepted":true,"score":209,"last_activity_date":1520350450,"creation_date":1423698758,"answer_id":28466881,"question_id":28466207,"body_markdown":"You have no public getters for your UpdateResult, for example :\r\n\r\n    public static class UploadResult {\r\n        private String value;\r\n        public UploadResult(final String value)\r\n        {\r\n            this.value = value;\r\n        }\r\n        \r\n        public String getValue() {\r\n           return this.value;\r\n        }\r\n    }\r\n\r\nI believe by default auto discovery is on and will try to discover your getters. You can disable it with `@JsonAutoDetect(getterVisibility=Visibility.NONE)`, and in your example will result in `[]`.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>You have no public getters for your UpdateResult, for example :</p>\n\n<pre><code>public static class UploadResult {\n    private String value;\n    public UploadResult(final String value)\n    {\n        this.value = value;\n    }\n\n    public String getValue() {\n       return this.value;\n    }\n}\n</code></pre>\n\n<p>I believe by default auto discovery is on and will try to discover your getters. You can disable it with <code>@JsonAutoDetect(getterVisibility=Visibility.NONE)</code>, and in your example will result in <code>[]</code>.</p>\n"},{"comments":[{"owner":{"account_id":192352,"reputation":6757,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"score":3,"creation_date":1487958217,"post_id":38929612,"comment_id":72033619,"body_markdown":"Yeah, I think &quot;Could not find acceptable representation&quot; will show its ugly head in a myriad of ways. :(","body":"Yeah, I think &quot;Could not find acceptable representation&quot; will show its ugly head in a myriad of ways. :("},{"owner":{"account_id":5687210,"reputation":3883,"user_id":4496364,"accept_rate":67,"display_name":"insan-e"},"score":4,"creation_date":1501679367,"post_id":38929612,"comment_id":77883979,"body_markdown":"I had a JSON API, but in one route i was returning `produces = MediaType.TEXT_HTML_VALUE` (raw HTML..). But when an exception was thrown (I wanted a JSON error model), Spring probably didn&#39;t know how to convert it to string... :/ When I removed the `produces` part it worked.. :D","body":"I had a JSON API, but in one route i was returning <code>produces = MediaType.TEXT_HTML_VALUE</code> (raw HTML..). But when an exception was thrown (I wanted a JSON error model), Spring probably didn&#39;t know how to convert it to string... :/ When I removed the <code>produces</code> part it worked.. :D"}],"tags":[],"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"comment_count":2,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1529003452,"creation_date":1471066686,"answer_id":38929612,"question_id":28466207,"body_markdown":"I had a similar error using `spring/jhipster` RESTful service (via `Postman`)\r\n\r\nThe endpoint was something like:\r\n\r\n    @RequestMapping(value = &quot;/index-entries/{id}&quot;,\r\n            method = RequestMethod.GET,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @Timed\r\n    public ResponseEntity&lt;IndexEntry&gt; getIndexEntry(@PathVariable Long id) {\r\n\r\nI was attempting to call the `restful` endpoint via `Postman` with header `Accept: text/plain` but I needed to use `Accept: application/json`\r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had a similar error using <code>spring/jhipster</code> RESTful service (via <code>Postman</code>)</p>\n\n<p>The endpoint was something like:</p>\n\n<pre><code>@RequestMapping(value = \"/index-entries/{id}\",\n        method = RequestMethod.GET,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n@Timed\npublic ResponseEntity&lt;IndexEntry&gt; getIndexEntry(@PathVariable Long id) {\n</code></pre>\n\n<p>I was attempting to call the <code>restful</code> endpoint via <code>Postman</code> with header <code>Accept: text/plain</code> but I needed to use <code>Accept: application/json</code></p>\n"},{"comments":[{"owner":{"account_id":192352,"reputation":6757,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"score":0,"creation_date":1487958120,"post_id":42424023,"comment_id":72033566,"body_markdown":"I show above the correct jackson dependency (not this one) is already there. So this is not a solution to the problem. The solution was already given by @ikumen","body":"I show above the correct jackson dependency (not this one) is already there. So this is not a solution to the problem. The solution was already given by @ikumen"},{"owner":{"account_id":145429,"reputation":3296,"user_id":355231,"accept_rate":94,"display_name":"Sastrija"},"score":3,"creation_date":1549425026,"post_id":42424023,"comment_id":95893225,"body_markdown":"We will get the same error when this dependency is missing. So please don&#39;t down vote this answer as this is correct for some cases.","body":"We will get the same error when this dependency is missing. So please don&#39;t down vote this answer as this is correct for some cases."},{"owner":{"account_id":192352,"reputation":6757,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"score":0,"creation_date":1549570892,"post_id":42424023,"comment_id":95960296,"body_markdown":"Well I can&#39;t un-downvote it now as it won&#39;t let me. But its still not an answer to my original question. I hope it does help some others though.","body":"Well I can&#39;t un-downvote it now as it won&#39;t let me. But its still not an answer to my original question. I hope it does help some others though."},{"owner":{"account_id":165159,"reputation":379,"user_id":1784164,"display_name":"Cavva79"},"score":0,"creation_date":1551783734,"post_id":42424023,"comment_id":96757912,"body_markdown":"This is not for the above problem, but if you use `produces = { MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE }` and ask for `application/xml` it is right solution","body":"This is not for the above problem, but if you use <code>produces = { MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE }</code> and ask for <code>application&#47;xml</code> it is right solution"}],"tags":[],"owner":{"account_id":4856613,"reputation":514,"user_id":3917380,"accept_rate":40,"display_name":"Gaurav vijayvargiya"},"comment_count":4,"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1582741994,"creation_date":1487876383,"answer_id":42424023,"question_id":28466207,"body_markdown":"**Add below dependency to your `pom.xml`:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p><strong>Add below dependency to your <code>pom.xml</code>:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8293092,"reputation":873,"user_id":6234075,"display_name":"Vasudev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517304805,"creation_date":1517304805,"answer_id":48518092,"question_id":28466207,"body_markdown":"My return object didn&#39;t have @XmlRootElement annotation on the class. Adding the annotation solved my issue.\r\n\r\n    @XmlRootElement(name = &quot;ReturnObjectClass&quot;)\r\n    public class ReturnObjectClass {\r\n    \r\n        @XmlElement(name = &quot;Status&quot;, required = true)\r\n        protected StatusType status;\r\n        //...\r\n    }","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>My return object didn't have @XmlRootElement annotation on the class. Adding the annotation solved my issue.</p>\n\n<pre><code>@XmlRootElement(name = \"ReturnObjectClass\")\npublic class ReturnObjectClass {\n\n    @XmlElement(name = \"Status\", required = true)\n    protected StatusType status;\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12877889,"reputation":1,"user_id":9313929,"display_name":"thernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517778779,"creation_date":1517778779,"answer_id":48613064,"question_id":28466207,"body_markdown":"I had to explicitly call out the dependency for my json library in my POM.\r\n\r\nOnce I added the below dependency, it all worked.\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had to explicitly call out the dependency for my json library in my POM.</p>\n\n<p>Once I added the below dependency, it all worked.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2712341,"reputation":1106,"user_id":2340484,"display_name":"charlb"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1519646727,"creation_date":1519646727,"answer_id":48988147,"question_id":28466207,"body_markdown":"If using @FeignClient, add e.g.\r\n\r\n    produces = &quot;application/json&quot;\r\n\r\nto the @RequestMapping annotation","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>If using @FeignClient, add e.g.</p>\n\n<pre><code>produces = \"application/json\"\n</code></pre>\n\n<p>to the @RequestMapping annotation</p>\n"},{"tags":[],"owner":{"account_id":7452620,"reputation":111,"user_id":5666848,"display_name":"Kranthi Kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1523102015,"creation_date":1523100620,"answer_id":49706905,"question_id":28466207,"body_markdown":"I too was facing a similar issue. In my case the request path was accepting mail id as path variable, so the uri looked like\r\n  /some/api/test@test.com\r\n\r\nAnd based on path, Spring determined the uri is to fetch some file with &quot;.com&quot; extension and was trying to use different media type for response then intended one. After making path variable into request param it worked for me.\r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I too was facing a similar issue. In my case the request path was accepting mail id as path variable, so the uri looked like\n  /some/api/test@test.com</p>\n\n<p>And based on path, Spring determined the uri is to fetch some file with \".com\" extension and was trying to use different media type for response then intended one. After making path variable into request param it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541256958,"creation_date":1541256958,"answer_id":53132479,"question_id":28466207,"body_markdown":"accepted answer is not right with Spring 5.   try changing your URL of your web service to .json!  that is the right fix.  great details here http://stick2code.blogspot.com/2014/03/solved-orgspringframeworkwebhttpmediaty.html","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>accepted answer is not right with Spring 5.   try changing your URL of your web service to .json!  that is the right fix.  great details here <a href=\"http://stick2code.blogspot.com/2014/03/solved-orgspringframeworkwebhttpmediaty.html\" rel=\"nofollow noreferrer\">http://stick2code.blogspot.com/2014/03/solved-orgspringframeworkwebhttpmediaty.html</a></p>\n"},{"tags":[],"owner":{"account_id":14499755,"reputation":41,"user_id":10473319,"display_name":"Dominik H."},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550150025,"creation_date":1550150025,"answer_id":54691289,"question_id":28466207,"body_markdown":"I had the same exception but the cause was different and I couldn&#39;t find any info on that so I will post it here. It was just a simple to overlook mistake.\r\n\r\nBad:\r\n\r\n    @RestController(value = &quot;/api/connection&quot;)\r\n\r\nGood:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/connection&quot;)","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had the same exception but the cause was different and I couldn't find any info on that so I will post it here. It was just a simple to overlook mistake.</p>\n\n<p>Bad:</p>\n\n<pre><code>@RestController(value = \"/api/connection\")\n</code></pre>\n\n<p>Good:</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/api/connection\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10309193,"reputation":61,"user_id":7605552,"display_name":"David Leonardo Bernal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552436111,"creation_date":1552436111,"answer_id":55132545,"question_id":28466207,"body_markdown":"In my case I happened to be using lombok and apparently there are conflicts with the get and set","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>In my case I happened to be using lombok and apparently there are conflicts with the get and set</p>\n"},{"comments":[{"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"score":0,"creation_date":1572295417,"post_id":56541052,"comment_id":103508838,"body_markdown":"Thanks! I was trying to do [this](https://stackoverflow.com/a/34693096/1781376) but it didn&#39;t work for the same reason.","body":"Thanks! I was trying to do <a href=\"https://stackoverflow.com/a/34693096/1781376\">this</a> but it didn&#39;t work for the same reason."}],"tags":[],"owner":{"account_id":9534953,"reputation":23,"user_id":9013851,"display_name":"Bla Blubb"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1560246740,"creation_date":1560246740,"answer_id":56541052,"question_id":28466207,"body_markdown":"I had the same exception. The problem was, that I used the annotation\r\n\r\n```@RepositoryRestController```\r\n\r\ninstead of\r\n\r\n```@RestController```\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had the same exception. The problem was, that I used the annotation</p>\n\n<p><code>@RepositoryRestController</code></p>\n\n<p>instead of</p>\n\n<p><code>@RestController</code></p>\n"},{"comments":[{"owner":{"account_id":7048058,"reputation":1055,"user_id":5398211,"display_name":"Groucho"},"score":0,"creation_date":1637251199,"post_id":58230421,"comment_id":123781622,"body_markdown":"I was having a great deal of difficulty getting my REST services to return json without this error on an old Spring application without boot. This did the trick for me, very helpful!","body":"I was having a great deal of difficulty getting my REST services to return json without this error on an old Spring application without boot. This did the trick for me, very helpful!"}],"tags":[],"owner":{"account_id":311780,"reputation":7000,"user_id":625540,"accept_rate":94,"display_name":"codefreak"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570166928,"creation_date":1570166928,"answer_id":58230421,"question_id":28466207,"body_markdown":"I had this issue when accessing actuator. Putting following configuration class solved the issue:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MediaConverterConfiguration implements WebMvcConfigurer {\r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter jacksonConverter() {\r\n            MappingJackson2HttpMessageConverter mc =\r\n                    new MappingJackson2HttpMessageConverter();\r\n            List&lt;MediaType&gt; supportedMediaTypes =\r\n                    new ArrayList&lt;&gt;(mc.getSupportedMediaTypes());\r\n            supportedMediaTypes\r\n                    .add(MediaType.valueOf(MediaType.APPLICATION_JSON_VALUE));\r\n            supportedMediaTypes.add(\r\n                MediaType.valueOf(&quot;application/vnd.spring-boot.actuator.v2+json&quot;));\r\n            mc.setSupportedMediaTypes(supportedMediaTypes);\r\n            return mc;\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            converters.add(jacksonConverter());\r\n        }\r\n    }","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I had this issue when accessing actuator. Putting following configuration class solved the issue:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MediaConverterConfiguration implements WebMvcConfigurer {\n    @Bean\n    public MappingJackson2HttpMessageConverter jacksonConverter() {\n        MappingJackson2HttpMessageConverter mc =\n                new MappingJackson2HttpMessageConverter();\n        List&lt;MediaType&gt; supportedMediaTypes =\n                new ArrayList&lt;&gt;(mc.getSupportedMediaTypes());\n        supportedMediaTypes\n                .add(MediaType.valueOf(MediaType.APPLICATION_JSON_VALUE));\n        supportedMediaTypes.add(\n            MediaType.valueOf(\"application/vnd.spring-boot.actuator.v2+json\"));\n        mc.setSupportedMediaTypes(supportedMediaTypes);\n        return mc;\n    }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(jacksonConverter());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2803,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575479698,"creation_date":1575479698,"answer_id":59181454,"question_id":28466207,"body_markdown":"Had similar issue when one of my controllers was intercepting all requests with empty `@GetMapping` ","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>Had similar issue when one of my controllers was intercepting all requests with empty <code>@GetMapping</code> </p>\n"},{"tags":[],"owner":{"account_id":7587409,"reputation":481,"user_id":5756022,"display_name":"SuperGuy10"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652264243,"creation_date":1582749024,"answer_id":60422081,"question_id":28466207,"body_markdown":"I got the exact same problem. After viewing this reference: https://zetcode.com/springboot/requestparam/\r\n\r\nMy problem solved by changing \r\n\r\n`method = RequestMethod.GET, produces = &quot;application/json;charset=UTF-8&quot;` \r\n\r\nto\r\n\r\n `method = RequestMethod.GET, produces = MediaType.TEXT_PLAIN_VALUE`\r\n\r\nand don&#39;t forget to add the library:\r\n\r\n    import org.springframework.http.MediaType;\r\n\r\nit works on both postman or regular browser.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I got the exact same problem. After viewing this reference: <a href=\"https://zetcode.com/springboot/requestparam/\" rel=\"nofollow noreferrer\">https://zetcode.com/springboot/requestparam/</a></p>\n<p>My problem solved by changing</p>\n<p><code>method = RequestMethod.GET, produces = &quot;application/json;charset=UTF-8&quot;</code></p>\n<p>to</p>\n<p><code>method = RequestMethod.GET, produces = MediaType.TEXT_PLAIN_VALUE</code></p>\n<p>and don't forget to add the library:</p>\n<pre><code>import org.springframework.http.MediaType;\n</code></pre>\n<p>it works on both postman or regular browser.</p>\n"},{"comments":[{"owner":{"account_id":1388800,"reputation":237,"user_id":1320145,"display_name":"Prabhakar"},"score":1,"creation_date":1642903502,"post_id":60815160,"comment_id":125196470,"body_markdown":"This opened my eyes.  I have used Lombok but forgot to set it up for eclipse. That&#39;s why getter and setters were not getting populating for bean even if I have used the @Data annotation. Thanks","body":"This opened my eyes.  I have used Lombok but forgot to set it up for eclipse. That&#39;s why getter and setters were not getting populating for bean even if I have used the @Data annotation. Thanks"},{"owner":{"account_id":14326729,"reputation":447,"user_id":10353697,"display_name":"Himanshu Suthar"},"score":1,"creation_date":1655279323,"post_id":60815160,"comment_id":128292133,"body_markdown":"this worked for me. I use Lombok and forgot to add annotations. Thank you.","body":"this worked for me. I use Lombok and forgot to add annotations. Thank you."}],"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1584972544,"creation_date":1584972544,"answer_id":60815160,"question_id":28466207,"body_markdown":"If you are using **Lombok**, make sure it have annotations like **@Data or @Getter\r\n@Setter** in your Response Model class.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>If you are using <strong>Lombok</strong>, make sure it have annotations like <strong>@Data or @Getter\n@Setter</strong> in your Response Model class.</p>\n"},{"tags":[],"owner":{"account_id":12718626,"reputation":39,"user_id":9239826,"display_name":"Saibaba Gunturi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599675467,"creation_date":1599675467,"answer_id":63817383,"question_id":28466207,"body_markdown":"In my case I was sending in correct object in ResponseEntity&lt;&gt;().\r\n\r\nCorrect :\r\n\r\n    @PostMapping(value = &quot;/get-customer-details&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\r\n\tpublic ResponseEntity&lt;?&gt; getCustomerDetails(@RequestBody String requestMessage) throws JSONException {\r\n\t\tJSONObject jsonObject = new JSONObject();\r\n\t\tjsonObject.put(&quot;customerId&quot;, &quot;123&quot;);\r\n\t\tjsonObject.put(&quot;mobileNumber&quot;, &quot;XXX-XXX-XXXX&quot;);\r\n\t\treturn new ResponseEntity&lt;&gt;(jsonObject.toString(), HttpStatus.OK);\r\n\t}\r\n\r\nIncorrect :\r\n\r\n    return new ResponseEntity&lt;&gt;(jsonObject, HttpStatus.OK);\r\n\r\nBecause, jsonObject&#39;s toString() method &quot;Encodes the jsonObject as a compact JSON string&quot;. Therefore, Spring returns json string directly without any further serialization.\r\n\r\nWhen we send jsonObject instead, Spring tries to serialize it based on produces method used in RequestMapping and fails due to it &quot;Could not find acceptable representation&quot;.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>In my case I was sending in correct object in ResponseEntity&lt;&gt;().</p>\n<p>Correct :</p>\n<pre><code>@PostMapping(value = &quot;/get-customer-details&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\npublic ResponseEntity&lt;?&gt; getCustomerDetails(@RequestBody String requestMessage) throws JSONException {\n    JSONObject jsonObject = new JSONObject();\n    jsonObject.put(&quot;customerId&quot;, &quot;123&quot;);\n    jsonObject.put(&quot;mobileNumber&quot;, &quot;XXX-XXX-XXXX&quot;);\n    return new ResponseEntity&lt;&gt;(jsonObject.toString(), HttpStatus.OK);\n}\n</code></pre>\n<p>Incorrect :</p>\n<pre><code>return new ResponseEntity&lt;&gt;(jsonObject, HttpStatus.OK);\n</code></pre>\n<p>Because, jsonObject's toString() method &quot;Encodes the jsonObject as a compact JSON string&quot;. Therefore, Spring returns json string directly without any further serialization.</p>\n<p>When we send jsonObject instead, Spring tries to serialize it based on produces method used in RequestMapping and fails due to it &quot;Could not find acceptable representation&quot;.</p>\n"},{"tags":[],"owner":{"account_id":2924793,"reputation":3077,"user_id":2506354,"display_name":"NobodySomewhere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603804711,"creation_date":1603804711,"answer_id":64555328,"question_id":28466207,"body_markdown":"For me, the problem was trying to pass a filename in a url, with a dot. For example\r\n```java\r\n&quot;http://localhost:8080/something/asdf.jpg&quot; //causes error because of &#39;.jpg&#39;\r\n```\r\n\r\nIt could be solved by not passing the .jpg extension, or sending it all in a request body.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>For me, the problem was trying to pass a filename in a url, with a dot. For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;http://localhost:8080/something/asdf.jpg&quot; //causes error because of '.jpg'\n</code></pre>\n<p>It could be solved by not passing the .jpg extension, or sending it all in a request body.</p>\n"},{"tags":[],"owner":{"account_id":2367173,"reputation":97,"user_id":2072661,"display_name":"Shardayyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609781268,"creation_date":1609781268,"answer_id":65567035,"question_id":28466207,"body_markdown":"I was running into the same issue, and what I was missing in my setup was including this in my maven (pom.xml) file.\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n         &lt;version&gt;1.9.9&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I was running into the same issue, and what I was missing in my setup was including this in my maven (pom.xml) file.</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n     &lt;version&gt;1.9.9&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7950604,"reputation":173,"user_id":6001534,"display_name":"nimodka"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636611397,"creation_date":1636611058,"answer_id":69923898,"question_id":28466207,"body_markdown":"Even if you do all of the above, as like in my case I still got the error 406 - Not acceptable when used from postman. Upon careful study, I have noticed that, in the request headers, default header for &#39;accept&#39; is &#39;*/*&#39;.\r\n\r\nI solved my problem, by adding a preset to the header and switched off default header. Please see below screenshot.\r\n\r\n[![screenshot of postman preset][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xX6th.png\r\n\r\nThis solved my problem without any other settings or even adding the spring configurations.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>Even if you do all of the above, as like in my case I still got the error 406 - Not acceptable when used from postman. Upon careful study, I have noticed that, in the request headers, default header for 'accept' is '<em>/</em>'.</p>\n<p>I solved my problem, by adding a preset to the header and switched off default header. Please see below screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/xX6th.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xX6th.png\" alt=\"screenshot of postman preset\" /></a></p>\n<p>This solved my problem without any other settings or even adding the spring configurations.</p>\n"},{"tags":[],"owner":{"account_id":15318099,"reputation":1,"user_id":16616367,"display_name":"Song Rithy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654935200,"creation_date":1654935200,"answer_id":72582717,"question_id":28466207,"body_markdown":"if you are using postman to test, trying to check out the Header.\r\nmy mistake was I&#39;m using application/xml instead of application/json in &quot;Accept&quot; row.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>if you are using postman to test, trying to check out the Header.\nmy mistake was I'm using application/xml instead of application/json in &quot;Accept&quot; row.</p>\n"},{"tags":[],"owner":{"account_id":112729,"reputation":66,"user_id":297204,"display_name":"Vince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666703267,"creation_date":1666703267,"answer_id":74194604,"question_id":28466207,"body_markdown":"Spent the whole day on this because none of the suggestions worked for me. Alas, it was the `WebConfig` implementation; specifically the `configurer.ignoreAcceptHeader(true)` that was the culprit preventing the `.yaml` from generating. \r\n\r\nHope this helps someone.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>Spent the whole day on this because none of the suggestions worked for me. Alas, it was the <code>WebConfig</code> implementation; specifically the <code>configurer.ignoreAcceptHeader(true)</code> that was the culprit preventing the <code>.yaml</code> from generating.</p>\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":953085,"reputation":1269,"user_id":978865,"accept_rate":11,"display_name":"S.P Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670299969,"creation_date":1670299969,"answer_id":74697214,"question_id":28466207,"body_markdown":"I encountered same exception: &quot;Resolved *[org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation&quot;]*\r\n\r\nIn analysis I fount that this problem can generate during serialization of a class while calling a @Controller or @RestController.\r\n\r\nIn serialization, if you are using class, **it must have public Setter and Getter**. \r\n\r\nIn the project where it occurs I found that a getter method was private and because of that this problem occurred. ","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I encountered same exception: &quot;Resolved <em>[org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation&quot;]</em></p>\n<p>In analysis I fount that this problem can generate during serialization of a class while calling a @Controller or @RestController.</p>\n<p>In serialization, if you are using class, <strong>it must have public Setter and Getter</strong>.</p>\n<p>In the project where it occurs I found that a getter method was private and because of that this problem occurred.</p>\n"},{"tags":[],"owner":{"account_id":18625102,"reputation":43,"user_id":13574407,"display_name":"Himanshu Gadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675889873,"creation_date":1675889873,"answer_id":75391665,"question_id":28466207,"body_markdown":"I also faced similar issue. I just put getter and setter methods for all relevant bean classes. There is some issue with Lombok as it is not able to generate getters and setters on its own in Eclipse. Here I&#39;m using postman for HTTP requests. ","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I also faced similar issue. I just put getter and setter methods for all relevant bean classes. There is some issue with Lombok as it is not able to generate getters and setters on its own in Eclipse. Here I'm using postman for HTTP requests.</p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677596234,"creation_date":1677596234,"answer_id":75593696,"question_id":28466207,"body_markdown":"The answer is add\r\n```Getters &amp; Setters```.\r\n\r\nThe technical answer is Jakson API which converts object to JSON works on the getters &amp; setters.","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>The answer is add\n<code>Getters &amp; Setters</code>.</p>\n<p>The technical answer is Jakson API which converts object to JSON works on the getters &amp; setters.</p>\n"}],"owner":{"account_id":192352,"reputation":6757,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291994,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"accepted_answer_id":28466881,"answer_count":24,"score":130,"last_activity_date":1677596234,"creation_date":1423695518,"question_id":28466207,"body_markdown":"I am trying to use ```spring-boot-starter-web``` to create a rest service serving up JSON representations of Java objects. From what I understand this boot-starter-web jar is supposed to handle the conversion to JSON through Jackson automatically but I am instead getting this error.\r\n\r\n    { \r\n      &quot;timestamp&quot;: 1423693929568,\r\n      &quot;status&quot;: 406,\r\n      &quot;error&quot;: &quot;Not Acceptable&quot;,\r\n      &quot;exception&quot;: &quot;org.springframework.web.HttpMediaTypeNotAcceptableException&quot;,\r\n      &quot;message&quot;: &quot;Could not find acceptable representation&quot;\r\n    }\r\n\r\nMy Controller is this...\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/media&quot;)\r\n    public class MediaController {\r\n        @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody UploadResult test(@RequestParam(value=&quot;data&quot;) final String data) {\r\n          String value = &quot;hello, test with data [&quot; + data + &quot;]&quot;; \r\n          return new UploadResult(value);\r\n        }\r\n\r\n        @RequestMapping(value = &quot;/test2&quot;, method = RequestMethod.POST)\r\n        public int test2() {\r\n            return 42;\r\n        }\r\n\r\n        @RequestMapping(value = &quot;/test3&quot;, method = RequestMethod.POST)\r\n        public String test3(@RequestParam(value=&quot;data&quot;) final String data) {\r\n            String value = &quot;hello, test with data [&quot; + data + &quot;]&quot;; \r\n            UploadResult upload = new UploadResult(value);\r\n            return upload.value;\r\n        }\r\n\r\n\r\n        public static class UploadResult {\r\n            private String value;\r\n            public UploadResult(final String value)\r\n            {\r\n                this.value = value;\r\n            }\r\n        }\r\n    }\r\n\r\nMy ```pom.xml``` has...\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```mvn dependency:tree``` shows that spring-boot-starter-web does indeed depend on the jackson2.4 databind and thus should be on the classpath...\r\n\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.2.1.RELEASE:compile\r\n    [INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.8:compile\r\n    [INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.8:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.14:runtime\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.4:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.0:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.4:compile\r\n    [INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\r\n    [INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\r\n    [INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-context:jar:4.1.4.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.4.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:4.1.4.RELEASE:compile\r\n\r\n... yet calling the ```test``` service gives the error mentioned above. ```test2``` and ```test3``` work fine proving that it must just be the attempted conversion to JSON that is failing? Am I missing some configuration problem or annotations? From all the examples I can find, annotating the class for basic Jackson JSON conversion is no longer necessary.\r\n\r\nAny help greatly appreciated.\r\n","title":"&quot;Could not find acceptable representation&quot; using spring-boot-starter-web","body":"<p>I am trying to use <code>spring-boot-starter-web</code> to create a rest service serving up JSON representations of Java objects. From what I understand this boot-starter-web jar is supposed to handle the conversion to JSON through Jackson automatically but I am instead getting this error.</p>\n\n<pre><code>{ \n  \"timestamp\": 1423693929568,\n  \"status\": 406,\n  \"error\": \"Not Acceptable\",\n  \"exception\": \"org.springframework.web.HttpMediaTypeNotAcceptableException\",\n  \"message\": \"Could not find acceptable representation\"\n}\n</code></pre>\n\n<p>My Controller is this...</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/media\")\npublic class MediaController {\n    @RequestMapping(value = \"/test\", method = RequestMethod.POST)\n    public @ResponseBody UploadResult test(@RequestParam(value=\"data\") final String data) {\n      String value = \"hello, test with data [\" + data + \"]\"; \n      return new UploadResult(value);\n    }\n\n    @RequestMapping(value = \"/test2\", method = RequestMethod.POST)\n    public int test2() {\n        return 42;\n    }\n\n    @RequestMapping(value = \"/test3\", method = RequestMethod.POST)\n    public String test3(@RequestParam(value=\"data\") final String data) {\n        String value = \"hello, test with data [\" + data + \"]\"; \n        UploadResult upload = new UploadResult(value);\n        return upload.value;\n    }\n\n\n    public static class UploadResult {\n        private String value;\n        public UploadResult(final String value)\n        {\n            this.value = value;\n        }\n    }\n}\n</code></pre>\n\n<p>My <code>pom.xml</code> has...</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><code>mvn dependency:tree</code> shows that spring-boot-starter-web does indeed depend on the jackson2.4 databind and thus should be on the classpath...</p>\n\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.2.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.2.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.2.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.2.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.2.1.RELEASE:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.8:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.8:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.14:runtime\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.4.4:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.4.0:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.4.4:compile\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.1.3.Final:compile\n[INFO] |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.1.3.GA:compile\n[INFO] |  |  \\- com.fasterxml:classmate:jar:1.0.0:compile\n[INFO] |  +- org.springframework:spring-web:jar:4.1.4.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:4.1.4.RELEASE:compile\n[INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:4.1.4.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-context:jar:4.1.4.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.1.4.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:4.1.4.RELEASE:compile\n</code></pre>\n\n<p>... yet calling the <code>test</code> service gives the error mentioned above. <code>test2</code> and <code>test3</code> work fine proving that it must just be the attempted conversion to JSON that is failing? Am I missing some configuration problem or annotations? From all the examples I can find, annotating the class for basic Jackson JSON conversion is no longer necessary.</p>\n\n<p>Any help greatly appreciated.</p>\n"},{"tags":["java","pom.xml"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677597305,"post_id":75593692,"comment_id":133367114,"body_markdown":"What is your server ? What is your error message ? Tomcat version ? WAR ? Jakarta EE version ? Spring Boot Version ?","body":"What is your server ? What is your error message ? Tomcat version ? WAR ? Jakarta EE version ? Spring Boot Version ?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1677597636,"post_id":75593692,"comment_id":133367231,"body_markdown":"&quot;it becomes red&quot; implies an IDE is telling you that. What happens when you run `mvn install` ? In IntelliJ for example you need to hit a button before it will download any new artifacts that you added to the pom so until you do it will claim that the artifact does not exist.","body":"&quot;it becomes red&quot; implies an IDE is telling you that. What happens when you run <code>mvn install</code> ? In IntelliJ for example you need to hit a button before it will download any new artifacts that you added to the pom so until you do it will claim that the artifact does not exist."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1677603325,"post_id":75593692,"comment_id":133369118,"body_markdown":"Try to google maven jstl, then goto https://mvnrepository.com/artifact/jstl/jstl and copy-pasta. You&#39;ve using a real old manual.","body":"Try to google maven jstl, then goto <a href=\"https://mvnrepository.com/artifact/jstl/jstl\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/jstl/jstl</a> and copy-pasta. You&#39;ve using a real old manual."},{"owner":{"account_id":25114763,"reputation":54,"user_id":19928451,"display_name":"Артём Орёл"},"score":0,"creation_date":1677606494,"post_id":75593692,"comment_id":133369954,"body_markdown":"Thank you all. I really appreciate your help. I wil try each proposal.","body":"Thank you all. I really appreciate your help. I wil try each proposal."}],"owner":{"account_id":25114763,"reputation":54,"user_id":19928451,"display_name":"Артём Орёл"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677596218,"creation_date":1677596218,"question_id":75593692,"body_markdown":"Please, explain,\r\n\r\nI try to add jstl. I do everycing according manual. But jstl still remains red.\r\n\r\n&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;1.2&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n\r\nand jstl and 1.2 becane red and server gives me a error.\r\n\r\nMay be I did soethign wrong. There is no higher viersion....\r\n\r\nThank you in advance!","title":"dependencies in pom file","body":"<p>Please, explain,</p>\n<p>I try to add jstl. I do everycing according manual. But jstl still remains red.</p>\n<blockquote>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>and jstl and 1.2 becane red and server gives me a error.</p>\n<p>May be I did soethign wrong. There is no higher viersion....</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","android","listview","firebase-storage","android-volley"],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677596118,"creation_date":1677581022,"question_id":75590928,"body_markdown":"I am trying to get and show images from firebase storage and display it in a Listview. Most parts of the code work, retrieving the images from firebase storage is successful but  only the Imageview of the first row in the Listview is loaded and shown. How do all the images get shown in all rows in the listview not just the first row?  I tried saving the links to each user in a ``` hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef)); ``` but displaying them in the Listview according to each user has been a problem for me. below is the complete code, Please help me.\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_users);\r\n\r\n        usersList = (ListView)findViewById(R.id.usersList);\r\n        noUsersText = (TextView)findViewById(R.id.noUsersText);\r\n\r\n        pd = new ProgressDialog(Users.this);\r\n        pd.setMessage(&quot;&quot;+getApplicationContext().getResources().getString(R.string.loading));\r\n        pd.show();\r\n\r\n        String url = &quot;https://PinBall-b9k94-default-rtdb.firebaseio.com/users.json&quot;;\r\n\r\n        StringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\r\n            @Override\r\n            public void onResponse(String s) {\r\n                doOnSuccess(s);\r\n            }\r\n        },new Response.ErrorListener(){\r\n            @Override\r\n            public void onErrorResponse(VolleyError volleyError) {\r\n                System.out.println(&quot;&quot; + volleyError);\r\n            }\r\n        });\r\n\r\n        RequestQueue rQueue = Volley.newRequestQueue(Users.this);\r\n        rQueue.add(request);\r\n\r\n        usersList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                UserDetails.chatWith = al.get(position);\r\n                startActivity(new Intent(Users.this, Chat.class));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public void doOnSuccess(String s){\r\n        try {\r\n            JSONObject obj = new JSONObject(s);\r\n\r\n            Iterator i = obj.keys();\r\n            String key = &quot;&quot;;\r\n\r\n            while(i.hasNext()){\r\n                key = i.next().toString();\r\n\r\n                if(!key.equals(UserDetails.username)) {\r\n                    al.add(key);\r\n                    HashMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\r\n                    hm.put(&quot;listview_title&quot;, key);\r\n                    hm.put(&quot;listview_discription&quot;, key);\r\n\r\n                    FirebaseStorage storage = FirebaseStorage.getInstance();\r\n                    StorageReference storageRef = storage.getReference();\r\n                    StorageReference mountainsRef = storageRef.child(key+&quot;.jpg&quot;);\r\n                    hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef));\r\n                    aList.add(hm);\r\n\r\n                    StorageReference uri = storageRef.child(key+&quot;.jpg&quot;);\r\n                    uri.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n                            // Set the profile picture using the download URL\r\n                            ImageView ProfilePicture2 = (ImageView) findViewById(R.id.listview_image);\r\n                            Picasso.get().load(uri).into(ProfilePicture2);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception exception) {\r\n                            // Handle any errors\r\n                        }\r\n                    });\r\n                }\r\n\r\n                totalUsers++;\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if(totalUsers &lt;=1){\r\n            noUsersText.setVisibility(View.VISIBLE);\r\n            usersList.setVisibility(View.GONE);\r\n        }\r\n        else{\r\n            noUsersText.setVisibility(View.GONE);\r\n            usersList.setVisibility(View.VISIBLE);\r\n\r\n            String[] from = {&quot;listview_image&quot;, &quot;listview_title&quot;, &quot;listview_discription&quot;};\r\n            int[] to = {R.id.listview_image, R.id.listview_item_title, R.id.listview_item_short_description};\r\n\r\n            SimpleAdapter simpleAdapter = new SimpleAdapter(getBaseContext(), aList, R.layout.listview_activity, from, to);\r\n            ListView androidListView = (ListView) findViewById(R.id.usersList);\r\n            androidListView.setAdapter(simpleAdapter);\r\n\r\n        }\r\n\r\n        pd.dismiss();\r\n    }\r\n}","title":"Get and Show image from firebase storage in a listview?","body":"<p>I am trying to get and show images from firebase storage and display it in a Listview. Most parts of the code work, retrieving the images from firebase storage is successful but  only the Imageview of the first row in the Listview is loaded and shown. How do all the images get shown in all rows in the listview not just the first row?  I tried saving the links to each user in a <code>hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef));</code> but displaying them in the Listview according to each user has been a problem for me. below is the complete code, Please help me.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_users);\n\n    usersList = (ListView)findViewById(R.id.usersList);\n    noUsersText = (TextView)findViewById(R.id.noUsersText);\n\n    pd = new ProgressDialog(Users.this);\n    pd.setMessage(&quot;&quot;+getApplicationContext().getResources().getString(R.string.loading));\n    pd.show();\n\n    String url = &quot;https://PinBall-b9k94-default-rtdb.firebaseio.com/users.json&quot;;\n\n    StringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\n        @Override\n        public void onResponse(String s) {\n            doOnSuccess(s);\n        }\n    },new Response.ErrorListener(){\n        @Override\n        public void onErrorResponse(VolleyError volleyError) {\n            System.out.println(&quot;&quot; + volleyError);\n        }\n    });\n\n    RequestQueue rQueue = Volley.newRequestQueue(Users.this);\n    rQueue.add(request);\n\n    usersList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            UserDetails.chatWith = al.get(position);\n            startActivity(new Intent(Users.this, Chat.class));\n\n        }\n    });\n}\n\npublic void doOnSuccess(String s){\n    try {\n        JSONObject obj = new JSONObject(s);\n\n        Iterator i = obj.keys();\n        String key = &quot;&quot;;\n\n        while(i.hasNext()){\n            key = i.next().toString();\n\n            if(!key.equals(UserDetails.username)) {\n                al.add(key);\n                HashMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\n                hm.put(&quot;listview_title&quot;, key);\n                hm.put(&quot;listview_discription&quot;, key);\n\n                FirebaseStorage storage = FirebaseStorage.getInstance();\n                StorageReference storageRef = storage.getReference();\n                StorageReference mountainsRef = storageRef.child(key+&quot;.jpg&quot;);\n                hm.put(&quot;listview_image&quot;, String.valueOf(mountainsRef));\n                aList.add(hm);\n\n                StorageReference uri = storageRef.child(key+&quot;.jpg&quot;);\n                uri.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n                        // Set the profile picture using the download URL\n                        ImageView ProfilePicture2 = (ImageView) findViewById(R.id.listview_image);\n                        Picasso.get().load(uri).into(ProfilePicture2);\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception exception) {\n                        // Handle any errors\n                    }\n                });\n            }\n\n            totalUsers++;\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    if(totalUsers &lt;=1){\n        noUsersText.setVisibility(View.VISIBLE);\n        usersList.setVisibility(View.GONE);\n    }\n    else{\n        noUsersText.setVisibility(View.GONE);\n        usersList.setVisibility(View.VISIBLE);\n\n        String[] from = {&quot;listview_image&quot;, &quot;listview_title&quot;, &quot;listview_discription&quot;};\n        int[] to = {R.id.listview_image, R.id.listview_item_title, R.id.listview_item_short_description};\n\n        SimpleAdapter simpleAdapter = new SimpleAdapter(getBaseContext(), aList, R.layout.listview_activity, from, to);\n        ListView androidListView = (ListView) findViewById(R.id.usersList);\n        androidListView.setAdapter(simpleAdapter);\n\n    }\n\n    pd.dismiss();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677583999,"post_id":75591050,"comment_id":133362777,"body_markdown":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677584021,"post_id":75591050,"comment_id":133362779,"body_markdown":"Please also indicate the exact data you to delete.","body":"Please also indicate the exact data you to delete."},{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1677584389,"post_id":75591050,"comment_id":133362870,"body_markdown":"Sure, here is the structure:\n`request: {\n        &quot;requestId&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;\n      }`, where every {} has an index in database: 0,1,2....\n\nAnd I want to delete by requestId","body":"Sure, here is the structure: <code>request: {         &quot;requestId&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;       }</code>, where every {} has an index in database: 0,1,2....  And I want to delete by requestId"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677586356,"post_id":75591050,"comment_id":133363408,"body_markdown":"Please edit your question as requested in the first comment.","body":"Please edit your question as requested in the first comment."},{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1677586846,"post_id":75591050,"comment_id":133363551,"body_markdown":"Sure, I changed","body":"Sure, I changed"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677589153,"post_id":75591050,"comment_id":133364276,"body_markdown":"I&#39;m having a hard time understanding what you&#39;re trying to achieve. What exact from this schema would you like to delete?","body":"I&#39;m having a hard time understanding what you&#39;re trying to achieve. What exact from this schema would you like to delete?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1677596090,"post_id":75591050,"comment_id":133366690,"body_markdown":"Please edit your question to answer these 3 questions: 1) What is the value of `index` in your code? Can you reproduce the problem with a hard-coded value instead of a variable, so that we&#39;re all looking at the same, standalone problem? --- 2) How does the `.getReference(&quot;database&quot;)` in your code relate to the `request` in the data you shared? --- 3) What part of the data are you data that you shared are you trying to delete?","body":"Please edit your question to answer these 3 questions: 1) What is the value of <code>index</code> in your code? Can you reproduce the problem with a hard-coded value instead of a variable, so that we&#39;re all looking at the same, standalone problem? --- 2) How does the <code>.getReference(&quot;database&quot;)</code> in your code relate to the <code>request</code> in the data you shared? --- 3) What part of the data are you data that you shared are you trying to delete?"}],"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677595922,"creation_date":1677581732,"question_id":75591050,"body_markdown":"I have a structure in firebase that looks like:\r\n\r\n```\r\nrequest: {\r\n   &quot;field1&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;       \r\n  },\r\n  {\r\n   &quot;field2: &quot;b45f769c-23dd-4eaa-9930-684b131ef378&quot;\r\n }\r\n```\r\n\r\nHow should I delete the document by field1, without mentioning index in firebase using Java?\r\n\r\nSo far I tried this:\r\n\r\n    public void deleteIndex(String index) throws WriteException {\r\n        WriteEventListener listener = new WriteEventListener();\r\n        this.database\r\n                .getReference(&quot;database&quot;)\r\n                .child(index)\r\n                .removeValue(listener);\r\n\r\n        listener.getResponse();\r\n    }\r\n\r\nBut here I don&#39;t want to delete by index, and by field. Is there any way I can work with that or a query that uses where clause on java? so far I only saw something but in android. Thanks!","title":"Delete by field firebase java","body":"<p>I have a structure in firebase that looks like:</p>\n<pre><code>request: {\n   &quot;field1&quot;: &quot;b45f769c-23dd-4eaa-9930-684b131ef377&quot;       \n  },\n  {\n   &quot;field2: &quot;b45f769c-23dd-4eaa-9930-684b131ef378&quot;\n }\n</code></pre>\n<p>How should I delete the document by field1, without mentioning index in firebase using Java?</p>\n<p>So far I tried this:</p>\n<pre><code>public void deleteIndex(String index) throws WriteException {\n    WriteEventListener listener = new WriteEventListener();\n    this.database\n            .getReference(&quot;database&quot;)\n            .child(index)\n            .removeValue(listener);\n\n    listener.getResponse();\n}\n</code></pre>\n<p>But here I don't want to delete by index, and by field. Is there any way I can work with that or a query that uses where clause on java? so far I only saw something but in android. Thanks!</p>\n"},{"tags":["java","amazon-s3","aws-lambda","aws-java-sdk","zipoutputstream"],"comments":[{"owner":{"account_id":18149595,"reputation":19,"user_id":13202519,"display_name":"Eugene Kukhol"},"score":0,"creation_date":1617636164,"post_id":55204181,"comment_id":118351920,"body_markdown":"[Answered similar question here](https://stackoverflow.com/a/66955328/13202519)","body":"<a href=\"https://stackoverflow.com/a/66955328/13202519\">Answered similar question here</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1634013225,"post_id":55204181,"comment_id":122905601,"body_markdown":"As normal images are already compressed (exception *.bmp), you  can add explicitly not compressing those files. I am amazed that you want to use a huge zip file. Own R/O file system?","body":"As normal images are already compressed (exception *.bmp), you  can add explicitly not compressing those files. I am amazed that you want to use a huge zip file. Own R/O file system?"}],"answers":[{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565868101,"creation_date":1565868101,"answer_id":57508899,"question_id":55204181,"body_markdown":"The basic idea is to use streaming operations. This way you won&#39;t wait till the ZIP is generated on a filesystem, but start uploading as soon, as the ZIP algorithm produces any data. Obviously, some data will be buffered in memory, still no need to wait for the whole ZIP to be generated on a disk. We&#39;ll also use stream compositions and `PipedInputStream` / `PipedOutputStream` in two threads: one to read the data, and the other to ZIP the contents.\r\n\r\nHere is a version for [tag:aws-java-sdk]:\r\n\r\n```java\r\nfinal AmazonS3 client = AmazonS3ClientBuilder.defaultClient();\r\n\r\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\r\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\r\n\r\nfinal Thread s3In = new Thread(() -&gt; {\r\n\ttry (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\r\n\t\tS3Objects\r\n\t\t\t\t// It&#39;s just a convenient way to list all the objects. Replace with you own logic.\r\n\t\t\t\t.inBucket(client, &quot;bucket&quot;)\r\n\t\t\t\t.forEach((S3ObjectSummary objectSummary) -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (objectSummary.getKey().endsWith(&quot;.png&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Processing &quot; + objectSummary.getKey());\r\n\r\n\t\t\t\t\t\t\tfinal ZipEntry entry = new ZipEntry(\r\n\t\t\t\t\t\t\t\t\tUUID.randomUUID().toString() + &quot;.png&quot; // I&#39;m too lazy to extract file name from the\r\n\t\t\t\t\t\t\t\t\t// objectSummary\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.putNextEntry(entry);\r\n\r\n\t\t\t\t\t\t\tIOUtils.copy(\r\n\t\t\t\t\t\t\t\t\tclient.getObject(\r\n\t\t\t\t\t\t\t\t\t\t\tobjectSummary.getBucketName(),\r\n\t\t\t\t\t\t\t\t\t\t\tobjectSummary.getKey()\r\n\t\t\t\t\t\t\t\t\t).getObjectContent(),\r\n\t\t\t\t\t\t\t\t\tzipOutputStream\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.closeEntry();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (final Exception all) {\r\n\t\t\t\t\t\tall.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\nfinal Thread s3Out = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tclient.putObject(\r\n\t\t\t\t&quot;another-bucket&quot;,\r\n\t\t\t\t&quot;previews.zip&quot;,\r\n\t\t\t\tpipedInputStream,\r\n\t\t\t\tnew ObjectMetadata()\r\n\t\t);\r\n\r\n\t\tpipedInputStream.close();\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\n\r\ns3In.start();\r\ns3Out.start();\r\n\r\ns3In.join();\r\ns3Out.join();\r\n```\r\n\r\nHowever, note that it will print a warning:\r\n\r\n    WARNING: No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.\r\n\r\nThat&#39;s because S3 needs to know the size of data in advance, before the upload. It&#39;s impossible to know the size of a resulting ZIP in advance. You can probably try your luck with [multipart uploads](https://docs.aws.amazon.com/AmazonS3/latest/dev/uploadobjusingmpu.html), but the code will be more trickier. Though, the idea would be similar: one thread should read the data and send the content in ZIP stream and the other thread should read ZIPped entries and upload them as multiparts. After all the entries (parts) are uploaded, the multipart should be completed.\r\n\r\nHere is an example for [tag:aws-java-sdk-2.x]:\r\n\r\n```java\r\nfinal S3Client client = S3Client.create();\r\n\r\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\r\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\r\n\r\nfinal Thread s3In = new Thread(() -&gt; {\r\n\ttry (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\r\n\t\tclient.listObjectsV2Paginator(\r\n\t\t\t\tListObjectsV2Request\r\n\t\t\t\t\t\t.builder()\r\n\t\t\t\t\t\t.bucket(&quot;bucket&quot;)\r\n\t\t\t\t\t\t.build()\r\n\t\t)\r\n\t\t\t\t.contents()\r\n\t\t\t\t.forEach((S3Object object) -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (object.key().endsWith(&quot;.png&quot;)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Processing &quot; + object.key());\r\n\r\n\t\t\t\t\t\t\tfinal ZipEntry entry = new ZipEntry(\r\n\t\t\t\t\t\t\t\t\tUUID.randomUUID().toString() + &quot;.png&quot; // I&#39;m too lazy to extract file name from the object\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.putNextEntry(entry);\r\n\r\n\t\t\t\t\t\t\tclient.getObject(\r\n\t\t\t\t\t\t\t\t\tGetObjectRequest\r\n\t\t\t\t\t\t\t\t\t\t\t.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t.bucket(&quot;bucket&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t.key(object.key())\r\n\t\t\t\t\t\t\t\t\t\t\t.build(),\r\n\t\t\t\t\t\t\t\t\tResponseTransformer.toOutputStream(zipOutputStream)\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tzipOutputStream.closeEntry();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (final Exception all) {\r\n\t\t\t\t\t\tall.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\nfinal Thread s3Out = new Thread(() -&gt; {\r\n\ttry {\r\n\t\tclient.putObject(\r\n\t\t\t\tPutObjectRequest\r\n\t\t\t\t\t\t.builder()\r\n\t\t\t\t\t\t.bucket(&quot;another-bucket&quot;)\r\n\t\t\t\t\t\t.key(&quot;previews.zip&quot;)\r\n\t\t\t\t\t\t.build(),\r\n\t\t\t\tRequestBody.fromBytes(\r\n\t\t\t\t\t\tIOUtils.toByteArray(pipedInputStream)\r\n\t\t\t\t)\r\n\t\t);\r\n\t} catch (final Exception all) {\r\n\t\tall.printStackTrace();\r\n\t}\r\n});\r\n\r\ns3In.start();\r\ns3Out.start();\r\n\r\ns3In.join();\r\ns3Out.join();\r\n```\r\n\r\nIt suffers from the same plague: the ZIP needs to be prepared in memory before the upload.\r\n\r\nIf you&#39;re interested, I&#39;ve prepared a [demo project](https://gitlab.com/madhead-playgrounds/so55204181), so you can play with the code.","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>The basic idea is to use streaming operations. This way you won't wait till the ZIP is generated on a filesystem, but start uploading as soon, as the ZIP algorithm produces any data. Obviously, some data will be buffered in memory, still no need to wait for the whole ZIP to be generated on a disk. We'll also use stream compositions and <code>PipedInputStream</code> / <code>PipedOutputStream</code> in two threads: one to read the data, and the other to ZIP the contents.</p>\n\n<p>Here is a version for <a href=\"/questions/tagged/aws-java-sdk\" class=\"post-tag\" title=\"show questions tagged &#39;aws-java-sdk&#39;\" rel=\"tag\">aws-java-sdk</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final AmazonS3 client = AmazonS3ClientBuilder.defaultClient();\n\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\n\nfinal Thread s3In = new Thread(() -&gt; {\n    try (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\n        S3Objects\n                // It's just a convenient way to list all the objects. Replace with you own logic.\n                .inBucket(client, \"bucket\")\n                .forEach((S3ObjectSummary objectSummary) -&gt; {\n                    try {\n                        if (objectSummary.getKey().endsWith(\".png\")) {\n                            System.out.println(\"Processing \" + objectSummary.getKey());\n\n                            final ZipEntry entry = new ZipEntry(\n                                    UUID.randomUUID().toString() + \".png\" // I'm too lazy to extract file name from the\n                                    // objectSummary\n                            );\n\n                            zipOutputStream.putNextEntry(entry);\n\n                            IOUtils.copy(\n                                    client.getObject(\n                                            objectSummary.getBucketName(),\n                                            objectSummary.getKey()\n                                    ).getObjectContent(),\n                                    zipOutputStream\n                            );\n\n                            zipOutputStream.closeEntry();\n                        }\n                    } catch (final Exception all) {\n                        all.printStackTrace();\n                    }\n                });\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\nfinal Thread s3Out = new Thread(() -&gt; {\n    try {\n        client.putObject(\n                \"another-bucket\",\n                \"previews.zip\",\n                pipedInputStream,\n                new ObjectMetadata()\n        );\n\n        pipedInputStream.close();\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\n\ns3In.start();\ns3Out.start();\n\ns3In.join();\ns3Out.join();\n</code></pre>\n\n<p>However, note that it will print a warning:</p>\n\n<pre><code>WARNING: No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.\n</code></pre>\n\n<p>That's because S3 needs to know the size of data in advance, before the upload. It's impossible to know the size of a resulting ZIP in advance. You can probably try your luck with <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/uploadobjusingmpu.html\" rel=\"nofollow noreferrer\">multipart uploads</a>, but the code will be more trickier. Though, the idea would be similar: one thread should read the data and send the content in ZIP stream and the other thread should read ZIPped entries and upload them as multiparts. After all the entries (parts) are uploaded, the multipart should be completed.</p>\n\n<p>Here is an example for <a href=\"/questions/tagged/aws-java-sdk-2.x\" class=\"post-tag\" title=\"show questions tagged &#39;aws-java-sdk-2.x&#39;\" rel=\"tag\">aws-java-sdk-2.x</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final S3Client client = S3Client.create();\n\nfinal PipedOutputStream pipedOutputStream = new PipedOutputStream();\nfinal PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\n\nfinal Thread s3In = new Thread(() -&gt; {\n    try (final ZipOutputStream zipOutputStream = new ZipOutputStream(pipedOutputStream)) {\n        client.listObjectsV2Paginator(\n                ListObjectsV2Request\n                        .builder()\n                        .bucket(\"bucket\")\n                        .build()\n        )\n                .contents()\n                .forEach((S3Object object) -&gt; {\n                    try {\n                        if (object.key().endsWith(\".png\")) {\n                            System.out.println(\"Processing \" + object.key());\n\n                            final ZipEntry entry = new ZipEntry(\n                                    UUID.randomUUID().toString() + \".png\" // I'm too lazy to extract file name from the object\n                            );\n\n                            zipOutputStream.putNextEntry(entry);\n\n                            client.getObject(\n                                    GetObjectRequest\n                                            .builder()\n                                            .bucket(\"bucket\")\n                                            .key(object.key())\n                                            .build(),\n                                    ResponseTransformer.toOutputStream(zipOutputStream)\n                            );\n\n                            zipOutputStream.closeEntry();\n                        }\n                    } catch (final Exception all) {\n                        all.printStackTrace();\n                    }\n                });\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\nfinal Thread s3Out = new Thread(() -&gt; {\n    try {\n        client.putObject(\n                PutObjectRequest\n                        .builder()\n                        .bucket(\"another-bucket\")\n                        .key(\"previews.zip\")\n                        .build(),\n                RequestBody.fromBytes(\n                        IOUtils.toByteArray(pipedInputStream)\n                )\n        );\n    } catch (final Exception all) {\n        all.printStackTrace();\n    }\n});\n\ns3In.start();\ns3Out.start();\n\ns3In.join();\ns3Out.join();\n</code></pre>\n\n<p>It suffers from the same plague: the ZIP needs to be prepared in memory before the upload.</p>\n\n<p>If you're interested, I've prepared a <a href=\"https://gitlab.com/madhead-playgrounds/so55204181\" rel=\"nofollow noreferrer\">demo project</a>, so you can play with the code.</p>\n"},{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602163191,"creation_date":1602163191,"answer_id":64263423,"question_id":55204181,"body_markdown":"The problem is the AWS Java SDK for S3 does not support a way to stream writing to an OutputStream. The following snippet implements an &#39;S3OutputStream&#39;, which extends from OutputStream and will automatically perform the &#39;putObject&#39; or &#39;initiateMultipartUpload&#39;, depending on the size. This allows you to pass this S3OutputStream to the constructor of ZipOutputStream, e.g. `new ZipOutputStream(new S3OutputStream(s3Client, &quot;my_bucket&quot;, &quot;path&quot;))`\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.model.AbortMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\r\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\r\nimport com.amazonaws.services.s3.model.ObjectMetadata;\r\nimport com.amazonaws.services.s3.model.PartETag;\r\nimport com.amazonaws.services.s3.model.PutObjectRequest;\r\nimport com.amazonaws.services.s3.model.UploadPartRequest;\r\nimport com.amazonaws.services.s3.model.UploadPartResult;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class S3OutputStream extends OutputStream {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(S3OutputStream.class);\r\n\r\n    /** Default chunk size is 10MB */\r\n    protected static final int BUFFER_SIZE = 10000000;\r\n\r\n    /** The bucket-name on Amazon S3 */\r\n    private final String bucket;\r\n\r\n    /** The path (key) name within the bucket */\r\n    private final String path;\r\n\r\n    /** The temporary buffer used for storing the chunks */\r\n    private final byte[] buf;\r\n\r\n    /** The position in the buffer */\r\n    private int position;\r\n\r\n    /** Amazon S3 client. TODO: support KMS */\r\n    private final AmazonS3 s3Client;\r\n\r\n    /** The unique id for this upload */\r\n    private String uploadId;\r\n\r\n    /** Collection of the etags for the parts that have been uploaded */\r\n    private final List&lt;PartETag&gt; etags;\r\n\r\n    /** indicates whether the stream is still open / valid */\r\n    private boolean open;\r\n\r\n    /**\r\n     * Creates a new S3 OutputStream\r\n     * @param s3Client the AmazonS3 client\r\n     * @param bucket name of the bucket\r\n     * @param path path within the bucket\r\n     */\r\n    public S3OutputStream(AmazonS3 s3Client, String bucket, String path) {\r\n        this.s3Client = s3Client;\r\n        this.bucket = bucket;\r\n        this.path = path;\r\n        this.buf = new byte[BUFFER_SIZE];\r\n        this.position = 0;\r\n        this.etags = new ArrayList&lt;&gt;();\r\n        this.open = true;\r\n    }\r\n\r\n    /**\r\n     * Write an array to the S3 output stream.\r\n     *\r\n     * @param b the byte-array to append\r\n     */\r\n    @Override\r\n    public void write(byte[] b) {\r\n        write(b,0,b.length);\r\n    }\r\n\r\n    /**\r\n     * Writes an array to the S3 Output Stream\r\n     *\r\n     * @param byteArray the array to write\r\n     * @param o the offset into the array\r\n     * @param l the number of bytes to write\r\n     */\r\n    @Override\r\n    public void write(final byte[] byteArray, final int o, final int l) {\r\n        this.assertOpen();\r\n        int ofs = o, len = l;\r\n        int size;\r\n        while (len &gt; (size = this.buf.length - position)) {\r\n            System.arraycopy(byteArray, ofs, this.buf, this.position, size);\r\n            this.position += size;\r\n            flushBufferAndRewind();\r\n            ofs += size;\r\n            len -= size;\r\n        }\r\n        System.arraycopy(byteArray, ofs, this.buf, this.position, len);\r\n        this.position += len;\r\n    }\r\n\r\n    /**\r\n     * Flushes the buffer by uploading a part to S3.\r\n     */\r\n    @Override\r\n    public synchronized void flush() {\r\n        this.assertOpen();\r\n        LOG.debug(&quot;Flush was called&quot;);\r\n    }\r\n\r\n    protected void flushBufferAndRewind() {\r\n        if (uploadId == null) {\r\n            LOG.debug(&quot;Starting a multipart upload for {}/{}&quot;,this.bucket,this.path);\r\n            final InitiateMultipartUploadRequest request = new InitiateMultipartUploadRequest(this.bucket, this.path)\r\n                    .withCannedACL(CannedAccessControlList.BucketOwnerFullControl);\r\n            InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(request);\r\n            this.uploadId = initResponse.getUploadId();\r\n        }\r\n        uploadPart();\r\n        this.position = 0;\r\n    }\r\n\r\n    protected void uploadPart() {\r\n        LOG.debug(&quot;Uploading part {}&quot;,this.etags.size());\r\n        UploadPartResult uploadResult = this.s3Client.uploadPart(new UploadPartRequest()\r\n                .withBucketName(this.bucket)\r\n                .withKey(this.path)\r\n                .withUploadId(this.uploadId)\r\n                .withInputStream(new ByteArrayInputStream(buf,0,this.position))\r\n                .withPartNumber(this.etags.size() + 1)\r\n                .withPartSize(this.position));\r\n        this.etags.add(uploadResult.getPartETag());\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        if (this.open) {\r\n            this.open = false;\r\n            if (this.uploadId != null) {\r\n                if (this.position &gt; 0) {\r\n                    uploadPart();\r\n                }\r\n                LOG.debug(&quot;Completing multipart&quot;);\r\n                this.s3Client.completeMultipartUpload(new CompleteMultipartUploadRequest(bucket, path, uploadId, etags));\r\n            }\r\n            else {\r\n                LOG.debug(&quot;Uploading object at once to {}/{}&quot;,this.bucket,this.path);\r\n                final ObjectMetadata metadata = new ObjectMetadata();\r\n                metadata.setContentLength(this.position);\r\n                final PutObjectRequest request = new PutObjectRequest(this.bucket, this.path, new ByteArrayInputStream(this.buf, 0, this.position), metadata)\r\n                        .withCannedAcl(CannedAccessControlList.BucketOwnerFullControl);\r\n                this.s3Client.putObject(request);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void cancel() {\r\n        this.open = false;\r\n        if (this.uploadId != null) {\r\n            LOG.debug(&quot;Aborting multipart upload&quot;);\r\n            this.s3Client.abortMultipartUpload(new AbortMultipartUploadRequest(this.bucket, this.path, this.uploadId));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void write(int b) {\r\n        this.assertOpen();\r\n        if (position &gt;= this.buf.length) {\r\n            flushBufferAndRewind();\r\n        }\r\n        this.buf[position++] = (byte)b;\r\n    }\r\n\r\n    private void assertOpen() {\r\n        if (!this.open) {\r\n            throw new IllegalStateException(&quot;Closed&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>The problem is the AWS Java SDK for S3 does not support a way to stream writing to an OutputStream. The following snippet implements an 'S3OutputStream', which extends from OutputStream and will automatically perform the 'putObject' or 'initiateMultipartUpload', depending on the size. This allows you to pass this S3OutputStream to the constructor of ZipOutputStream, e.g. <code>new ZipOutputStream(new S3OutputStream(s3Client, &quot;my_bucket&quot;, &quot;path&quot;))</code></p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.model.AbortMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport com.amazonaws.services.s3.model.PartETag;\nimport com.amazonaws.services.s3.model.PutObjectRequest;\nimport com.amazonaws.services.s3.model.UploadPartRequest;\nimport com.amazonaws.services.s3.model.UploadPartResult;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class S3OutputStream extends OutputStream {\n\n    private static final Logger LOG = LoggerFactory.getLogger(S3OutputStream.class);\n\n    /** Default chunk size is 10MB */\n    protected static final int BUFFER_SIZE = 10000000;\n\n    /** The bucket-name on Amazon S3 */\n    private final String bucket;\n\n    /** The path (key) name within the bucket */\n    private final String path;\n\n    /** The temporary buffer used for storing the chunks */\n    private final byte[] buf;\n\n    /** The position in the buffer */\n    private int position;\n\n    /** Amazon S3 client. TODO: support KMS */\n    private final AmazonS3 s3Client;\n\n    /** The unique id for this upload */\n    private String uploadId;\n\n    /** Collection of the etags for the parts that have been uploaded */\n    private final List&lt;PartETag&gt; etags;\n\n    /** indicates whether the stream is still open / valid */\n    private boolean open;\n\n    /**\n     * Creates a new S3 OutputStream\n     * @param s3Client the AmazonS3 client\n     * @param bucket name of the bucket\n     * @param path path within the bucket\n     */\n    public S3OutputStream(AmazonS3 s3Client, String bucket, String path) {\n        this.s3Client = s3Client;\n        this.bucket = bucket;\n        this.path = path;\n        this.buf = new byte[BUFFER_SIZE];\n        this.position = 0;\n        this.etags = new ArrayList&lt;&gt;();\n        this.open = true;\n    }\n\n    /**\n     * Write an array to the S3 output stream.\n     *\n     * @param b the byte-array to append\n     */\n    @Override\n    public void write(byte[] b) {\n        write(b,0,b.length);\n    }\n\n    /**\n     * Writes an array to the S3 Output Stream\n     *\n     * @param byteArray the array to write\n     * @param o the offset into the array\n     * @param l the number of bytes to write\n     */\n    @Override\n    public void write(final byte[] byteArray, final int o, final int l) {\n        this.assertOpen();\n        int ofs = o, len = l;\n        int size;\n        while (len &gt; (size = this.buf.length - position)) {\n            System.arraycopy(byteArray, ofs, this.buf, this.position, size);\n            this.position += size;\n            flushBufferAndRewind();\n            ofs += size;\n            len -= size;\n        }\n        System.arraycopy(byteArray, ofs, this.buf, this.position, len);\n        this.position += len;\n    }\n\n    /**\n     * Flushes the buffer by uploading a part to S3.\n     */\n    @Override\n    public synchronized void flush() {\n        this.assertOpen();\n        LOG.debug(&quot;Flush was called&quot;);\n    }\n\n    protected void flushBufferAndRewind() {\n        if (uploadId == null) {\n            LOG.debug(&quot;Starting a multipart upload for {}/{}&quot;,this.bucket,this.path);\n            final InitiateMultipartUploadRequest request = new InitiateMultipartUploadRequest(this.bucket, this.path)\n                    .withCannedACL(CannedAccessControlList.BucketOwnerFullControl);\n            InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(request);\n            this.uploadId = initResponse.getUploadId();\n        }\n        uploadPart();\n        this.position = 0;\n    }\n\n    protected void uploadPart() {\n        LOG.debug(&quot;Uploading part {}&quot;,this.etags.size());\n        UploadPartResult uploadResult = this.s3Client.uploadPart(new UploadPartRequest()\n                .withBucketName(this.bucket)\n                .withKey(this.path)\n                .withUploadId(this.uploadId)\n                .withInputStream(new ByteArrayInputStream(buf,0,this.position))\n                .withPartNumber(this.etags.size() + 1)\n                .withPartSize(this.position));\n        this.etags.add(uploadResult.getPartETag());\n    }\n\n    @Override\n    public void close() {\n        if (this.open) {\n            this.open = false;\n            if (this.uploadId != null) {\n                if (this.position &gt; 0) {\n                    uploadPart();\n                }\n                LOG.debug(&quot;Completing multipart&quot;);\n                this.s3Client.completeMultipartUpload(new CompleteMultipartUploadRequest(bucket, path, uploadId, etags));\n            }\n            else {\n                LOG.debug(&quot;Uploading object at once to {}/{}&quot;,this.bucket,this.path);\n                final ObjectMetadata metadata = new ObjectMetadata();\n                metadata.setContentLength(this.position);\n                final PutObjectRequest request = new PutObjectRequest(this.bucket, this.path, new ByteArrayInputStream(this.buf, 0, this.position), metadata)\n                        .withCannedAcl(CannedAccessControlList.BucketOwnerFullControl);\n                this.s3Client.putObject(request);\n            }\n        }\n    }\n\n    public void cancel() {\n        this.open = false;\n        if (this.uploadId != null) {\n            LOG.debug(&quot;Aborting multipart upload&quot;);\n            this.s3Client.abortMultipartUpload(new AbortMultipartUploadRequest(this.bucket, this.path, this.uploadId));\n        }\n    }\n\n    @Override\n    public void write(int b) {\n        this.assertOpen();\n        if (position &gt;= this.buf.length) {\n            flushBufferAndRewind();\n        }\n        this.buf[position++] = (byte)b;\n    }\n\n    private void assertOpen() {\n        if (!this.open) {\n            throw new IllegalStateException(&quot;Closed&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1669714806,"post_id":70844373,"comment_id":131699928,"body_markdown":"how to unzip the archive file through lambda and move that unzipped file to existing key into the same bucket, lets say, i have one zip file uploaded in folder 1 and now my lambda trigger, lambda unzipped the file and now i want to move the same to the another folder into the same bucket, how to achieve that, because s3 follows flat file storage system there is no concept of folder.","body":"how to unzip the archive file through lambda and move that unzipped file to existing key into the same bucket, lets say, i have one zip file uploaded in folder 1 and now my lambda trigger, lambda unzipped the file and now i want to move the same to the another folder into the same bucket, how to achieve that, because s3 follows flat file storage system there is no concept of folder."}],"tags":[],"owner":{"account_id":4971565,"reputation":336,"user_id":3999107,"accept_rate":20,"display_name":"Dheeraj Upadhyay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643092899,"creation_date":1643092899,"answer_id":70844373,"question_id":55204181,"body_markdown":"I am very late to answer your question\r\nI did it for my latest project yesterday, have a look at full code below \r\n\r\nLet say when we upload a file on s3 it returns ObjectKey of uploaded file, here I created a class for same and named as FileKey.\r\n\r\n \r\n\r\n    package com.myprojectName.model.key;\r\n    \r\n    import java.time.Instant;\r\n    \r\n    import javax.persistence.Entity;\r\n    \r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    public class FileKey {\r\n    \r\n    \tprivate String fileObjectKey;\r\n    \t\r\n    \tprivate String fileName;\r\n    \t\r\n    \tprivate int fileSize;\r\n    \t\r\n    \tprivate String fileType;\r\n    \t\r\n    }\r\n\r\nThe return values of presignedUrl I stored in DownloadDetailsDTO\r\n\r\n \r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.net.URL;\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Builder\r\n    public class FileDownloadDetailsDTO {\r\n    \r\n        private String name;\r\n        private Long size;\r\n        private String contentType;\r\n        private URL preSignedDownloadUrl;\r\n    \r\n        public FileDownloadDetailsDTO(PreSignedUrlAndMetadata objectMetadata) {\r\n            this.name = objectMetadata.getName();\r\n            this.size = objectMetadata.getSize();\r\n            this.contentType = objectMetadata.getContentType();\r\n            this.preSignedDownloadUrl = objectMetadata.getUrl();\r\n        }\r\n    \r\n    }\r\n  \r\nPreSignedUrlAndMetaData contains Url created on s3 bucket, If not sure look at below code \r\n\r\n    public class PreSignedUrlAndMetadata {\r\n\r\n    private final URL url;\r\n\r\n    private final String name;\r\n\r\n    private final String contentType;\r\n\r\n    private final Long size;\r\n\r\n    }\r\n\r\nThe below method will take each file of s3 bucket and store to zip file as zip entry and return a presigned URL of zip file (**No need to store in local temp**)\r\n\r\n   \r\n\r\n     public FileDownloadDetailsDTO getDownloadFilesInZipDetails(String zipFileName, List&lt;FileKey&gt; files) {\r\n    \r\n            PreSignedUrlAndMetadata preSignedUrlAndMetadata;\r\n            File zipFile = null;\r\n            try {\r\n                zipFile = File.createTempFile(zipFileName, &quot;file&quot;);\r\n    \r\n                try (FileOutputStream fos = new FileOutputStream(zipFile); ZipOutputStream zos = new ZipOutputStream(fos)) {\r\n    \r\n                    for (FileKey file : files) {\r\n                        String name = null;\r\n                        if (ObjectUtils.isNotEmpty(file.getFileName())) {\r\n                            name = file.getFileName();\r\n                        }\r\n                            ZipEntry entry = new ZipEntry(name);\r\n    \r\n                        try (InputStream inputStream = getInputStreamForFileKey(file.getFileObjectKey())) {\r\n                            zos.putNextEntry(entry);\r\n                            IOUtils.copy(inputStream, zos);\r\n                            zos.closeEntry();\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                try (FileInputStream fis = new FileInputStream(zipFile)) {\r\n                    TempFileObjectKey fileObjectKey =uploadTemp(fis, zipFile.length());\r\n                    preSignedUrlAndMetadata = new PreSignedUrlAndMetadata(url, metadata.getUserMetaDataOf(USER_METADATA_NAME), contentType, metadata.getContentLength());\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                throw new ApplicationException(&quot;Error while creating zip file for &quot; + archiveRequestDTO.getArchiveName(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\r\n            } finally {\r\n                FileUtils.deleteQuietly(zipFile);\r\n            }\r\n    \r\n            return FileDownloadDetailsDTO.builder().name(archiveRequestDTO.getArchiveName() + &quot;.zip&quot;)\r\n                    .size(preSignedUrlAndMetadata.getSize()).preSignedDownloadUrl(preSignedUrlAndMetadata.getUrl()).build();\r\n    \r\n        }\r\n\r\n     public InputStream getInputStreamForFileKey(String key) {\r\n        TempFileObjectKey tempFileObjectKey = new TempFileObjectKey(getActualPrefix(key));\r\n        return storageService.getInputStream(tempFileObjectKey);\r\n    }\r\n\r\n\r\n    String getActualPrefix(String prefix){\r\n        return prefix.replaceAll(&quot;_&quot;,&quot;/&quot;);\r\n    }\r\n\r\n    public TempFileObjectKey uploadTemp(InputStream inputStream, Long length) {\r\n        TempFileObjectKey tempFileObjectKey = s3StorageManager.buildTempFileFullKey();\r\n        ObjectMetadata objectMetadata = new ObjectMetadata();\r\n        if (length != null) {\r\n            objectMetadata.setContentLength(length);\r\n        }\r\n        Upload upload = com.amazonaws.services.s3.transfer.TransferManager.upload(getBucketName(abstractObjectKey), abstractObjectKey.getObjectKey(), inputStream, objectMetadata);\r\n        try {\r\n            upload.waitForCompletion();\r\n        } catch (InterruptedException e) {\r\n            throw new ApplicationException(e.getMessage(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\r\n        }\r\n        return tempFileObjectKey;\r\n    }\r\n    \r\nI hope this will help you folks.\r\nYou are open to ask me if still having any doubt.\r\nThanks, ","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>I am very late to answer your question\nI did it for my latest project yesterday, have a look at full code below</p>\n<p>Let say when we upload a file on s3 it returns ObjectKey of uploaded file, here I created a class for same and named as FileKey.</p>\n<pre><code>package com.myprojectName.model.key;\n\nimport java.time.Instant;\n\nimport javax.persistence.Entity;\n\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@NoArgsConstructor\npublic class FileKey {\n\n    private String fileObjectKey;\n    \n    private String fileName;\n    \n    private int fileSize;\n    \n    private String fileType;\n    \n}\n</code></pre>\n<p>The return values of presignedUrl I stored in DownloadDetailsDTO</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\nimport java.net.URL;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Builder\npublic class FileDownloadDetailsDTO {\n\n    private String name;\n    private Long size;\n    private String contentType;\n    private URL preSignedDownloadUrl;\n\n    public FileDownloadDetailsDTO(PreSignedUrlAndMetadata objectMetadata) {\n        this.name = objectMetadata.getName();\n        this.size = objectMetadata.getSize();\n        this.contentType = objectMetadata.getContentType();\n        this.preSignedDownloadUrl = objectMetadata.getUrl();\n    }\n\n}\n</code></pre>\n<p>PreSignedUrlAndMetaData contains Url created on s3 bucket, If not sure look at below code</p>\n<pre><code>public class PreSignedUrlAndMetadata {\n\nprivate final URL url;\n\nprivate final String name;\n\nprivate final String contentType;\n\nprivate final Long size;\n\n}\n</code></pre>\n<p>The below method will take each file of s3 bucket and store to zip file as zip entry and return a presigned URL of zip file (<strong>No need to store in local temp</strong>)</p>\n<pre><code> public FileDownloadDetailsDTO getDownloadFilesInZipDetails(String zipFileName, List&lt;FileKey&gt; files) {\n\n        PreSignedUrlAndMetadata preSignedUrlAndMetadata;\n        File zipFile = null;\n        try {\n            zipFile = File.createTempFile(zipFileName, &quot;file&quot;);\n\n            try (FileOutputStream fos = new FileOutputStream(zipFile); ZipOutputStream zos = new ZipOutputStream(fos)) {\n\n                for (FileKey file : files) {\n                    String name = null;\n                    if (ObjectUtils.isNotEmpty(file.getFileName())) {\n                        name = file.getFileName();\n                    }\n                        ZipEntry entry = new ZipEntry(name);\n\n                    try (InputStream inputStream = getInputStreamForFileKey(file.getFileObjectKey())) {\n                        zos.putNextEntry(entry);\n                        IOUtils.copy(inputStream, zos);\n                        zos.closeEntry();\n                    }\n                }\n            }\n\n            try (FileInputStream fis = new FileInputStream(zipFile)) {\n                TempFileObjectKey fileObjectKey =uploadTemp(fis, zipFile.length());\n                preSignedUrlAndMetadata = new PreSignedUrlAndMetadata(url, metadata.getUserMetaDataOf(USER_METADATA_NAME), contentType, metadata.getContentLength());\n            }\n\n        } catch (Exception e) {\n            throw new ApplicationException(&quot;Error while creating zip file for &quot; + archiveRequestDTO.getArchiveName(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\n        } finally {\n            FileUtils.deleteQuietly(zipFile);\n        }\n\n        return FileDownloadDetailsDTO.builder().name(archiveRequestDTO.getArchiveName() + &quot;.zip&quot;)\n                .size(preSignedUrlAndMetadata.getSize()).preSignedDownloadUrl(preSignedUrlAndMetadata.getUrl()).build();\n\n    }\n\n public InputStream getInputStreamForFileKey(String key) {\n    TempFileObjectKey tempFileObjectKey = new TempFileObjectKey(getActualPrefix(key));\n    return storageService.getInputStream(tempFileObjectKey);\n}\n\n\nString getActualPrefix(String prefix){\n    return prefix.replaceAll(&quot;_&quot;,&quot;/&quot;);\n}\n\npublic TempFileObjectKey uploadTemp(InputStream inputStream, Long length) {\n    TempFileObjectKey tempFileObjectKey = s3StorageManager.buildTempFileFullKey();\n    ObjectMetadata objectMetadata = new ObjectMetadata();\n    if (length != null) {\n        objectMetadata.setContentLength(length);\n    }\n    Upload upload = com.amazonaws.services.s3.transfer.TransferManager.upload(getBucketName(abstractObjectKey), abstractObjectKey.getObjectKey(), inputStream, objectMetadata);\n    try {\n        upload.waitForCompletion();\n    } catch (InterruptedException e) {\n        throw new ApplicationException(e.getMessage(), e, ApplicationErrorCode.INTERNAL_SERVER_ERROR);\n    }\n    return tempFileObjectKey;\n}\n</code></pre>\n<p>I hope this will help you folks.\nYou are open to ask me if still having any doubt.\nThanks,</p>\n"},{"comments":[{"owner":{"account_id":5462275,"reputation":649,"user_id":4343984,"display_name":"Kasid Khan"},"score":0,"creation_date":1677980645,"post_id":75593607,"comment_id":133444376,"body_markdown":"It will be great if you could add some more details related your package structure and how to use it. The user may not be familiar with node.js or lambda.","body":"It will be great if you could add some more details related your package structure and how to use it. The user may not be familiar with node.js or lambda."}],"tags":[],"owner":{"account_id":11044018,"reputation":1,"user_id":8110897,"display_name":"kang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677595704,"creation_date":1677595704,"answer_id":75593607,"question_id":55204181,"body_markdown":"I&#39;ve created a GitHub repository with my implementation that you can check out here:\r\n https://github.com/yufeikang/serverless-zip-s3\r\nThe repository includes a Lambda function written in Node.js that you can use to zip your S3 directory, as well as instructions on how to deploy and use the function.","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>I've created a GitHub repository with my implementation that you can check out here:\n<a href=\"https://github.com/yufeikang/serverless-zip-s3\" rel=\"nofollow noreferrer\">https://github.com/yufeikang/serverless-zip-s3</a>\nThe repository includes a Lambda function written in Node.js that you can use to zip your S3 directory, as well as instructions on how to deploy and use the function.</p>\n"}],"owner":{"account_id":1567301,"reputation":1653,"user_id":1455802,"accept_rate":18,"display_name":"pankaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10471,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1677595704,"creation_date":1552801164,"question_id":55204181,"body_markdown":"I have a requirement to download photos (not in same directory) from S3, ZIP them and again upload to S3 using AWS S3 Java SDK. This zip file size can go in GBs. Currently I am using AWS Lambda which has a limitation of temporary storage up to 500 MB. So I don&#39;t want to save ZIP file on disk instead I want to stream ZIP file (which is being created dynamically using downloaded photos from S3) directly to S3. I need this using AWS S3 Java SDK.","title":"Upload ZipOutputStream to S3 without saving zip file (large) temporary to disk using AWS S3 Java","body":"<p>I have a requirement to download photos (not in same directory) from S3, ZIP them and again upload to S3 using AWS S3 Java SDK. This zip file size can go in GBs. Currently I am using AWS Lambda which has a limitation of temporary storage up to 500 MB. So I don't want to save ZIP file on disk instead I want to stream ZIP file (which is being created dynamically using downloaded photos from S3) directly to S3. I need this using AWS S3 Java SDK.</p>\n"},{"tags":["java","spring-boot","exception","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7154253,"reputation":11,"user_id":5467275,"display_name":"huang kangda"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677581807,"creation_date":1677581807,"answer_id":75591067,"question_id":75590772,"body_markdown":"        \r\nyou can try it.\r\n\r\n    @ExceptionHandler(AuthenticationException.class)\r\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException(AuthenticationException exception) {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\r\n        return ResponseEntity.badRequest().body(errorResponse);\r\n    }","title":"Client gets the wrong exception message","body":"<p>you can try it.</p>\n<pre><code>@ExceptionHandler(AuthenticationException.class)\npublic ResponseEntity&lt;Object&gt; handleBadCredentialsException(AuthenticationException exception) {\n    ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\n    return ResponseEntity.badRequest().body(errorResponse);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677595630,"creation_date":1677595630,"answer_id":75593591,"question_id":75590772,"body_markdown":"This is the correct behavior because the class CustomAuthenticationException extends AuthenticationException. And the exception handler is only defined fot the super class AuthenticationException.\r\n\r\nPlease add another handler for your custom exception. Similar to this:\r\n\r\n    @ExceptionHandler(CustomAuthenticationException.class)\r\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException(Exception exception) {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\r\n        return ResponseEntity.badRequest().body(errorResponse);\r\n    }","title":"Client gets the wrong exception message","body":"<p>This is the correct behavior because the class CustomAuthenticationException extends AuthenticationException. And the exception handler is only defined fot the super class AuthenticationException.</p>\n<p>Please add another handler for your custom exception. Similar to this:</p>\n<pre><code>@ExceptionHandler(CustomAuthenticationException.class)\npublic ResponseEntity&lt;Object&gt; handleBadCredentialsException(Exception exception) {\n    ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), exception.getMessage());\n    return ResponseEntity.badRequest().body(errorResponse);\n}\n</code></pre>\n"}],"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75593591,"answer_count":2,"score":-2,"last_activity_date":1677595630,"creation_date":1677580185,"question_id":75590772,"body_markdown":"I would like to get an exception with the message &quot;Password is not correct&quot;.\r\n\r\nThis is what I have tried:\r\n\r\n```java\r\n@PostMapping(&quot;/login&quot;)\r\npublic ResponseEntity&lt;Object&gt; login(@RequestBody CustomUserDetails user) {\r\n    UserDetails userDetails = userDetailsService.loadUserByUsername(user.getUsername());\r\n    if (userDetails == null || !passwordEncoder.matches(user.getPassword(), userDetails.getPassword())) {\r\n        throw new CustomAuthenticationException(&quot;Password is not correct&quot;);\r\n    }\r\n\r\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword()));\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    String token = jwt.generateToken(user);\r\n\r\n    return ResponseEntity.ok(token);\r\n}\r\n```\r\n\r\n```java\r\npublic class CustomAuthenticationException extends AuthenticationException {\r\n    public CustomAuthenticationException(String msg) {\r\n        super(msg);\r\n    }\r\n}\r\n```\r\n```java\r\n@RestControllerAdvice\r\npublic class AuthControllerAdvice extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(PSQLException.class)\r\n    public ResponseEntity&lt;ErrorResponse&gt; handlePSQLException() {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.INTERNAL_SERVER_ERROR, LocalDateTime.now(), &quot;User already exists&quot;);\r\n        return ResponseEntity.internalServerError().body(errorResponse);\r\n    }\r\n\r\n    @ExceptionHandler(AuthenticationException.class)\r\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException() {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), &quot;Invalid username or password&quot;);\r\n        return ResponseEntity.badRequest().body(errorResponse);\r\n    }\r\n}\r\n```\r\n\r\nIf the password is not correct, this is the response that the client receives:\r\n```json\r\n{\r\n    &quot;status&quot;: &quot;BAD_REQUEST&quot;,\r\n    &quot;timestamp&quot;: &quot;28.02.2023, 11:06:14&quot;,\r\n    &quot;message&quot;: &quot;Invalid username or password&quot;\r\n}\r\n```\r\n\r\nThis is the wrong message. What I expect is `throw new CustomAuthenticationException(&quot;Password is not correct&quot;);`. When I run the debug mode, that line will get executed but it is not returning anything.","title":"Client gets the wrong exception message","body":"<p>I would like to get an exception with the message &quot;Password is not correct&quot;.</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;Object&gt; login(@RequestBody CustomUserDetails user) {\n    UserDetails userDetails = userDetailsService.loadUserByUsername(user.getUsername());\n    if (userDetails == null || !passwordEncoder.matches(user.getPassword(), userDetails.getPassword())) {\n        throw new CustomAuthenticationException(&quot;Password is not correct&quot;);\n    }\n\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword()));\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    String token = jwt.generateToken(user);\n\n    return ResponseEntity.ok(token);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAuthenticationException extends AuthenticationException {\n    public CustomAuthenticationException(String msg) {\n        super(msg);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class AuthControllerAdvice extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(PSQLException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handlePSQLException() {\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.INTERNAL_SERVER_ERROR, LocalDateTime.now(), &quot;User already exists&quot;);\n        return ResponseEntity.internalServerError().body(errorResponse);\n    }\n\n    @ExceptionHandler(AuthenticationException.class)\n    public ResponseEntity&lt;Object&gt; handleBadCredentialsException() {\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.BAD_REQUEST, LocalDateTime.now(), &quot;Invalid username or password&quot;);\n        return ResponseEntity.badRequest().body(errorResponse);\n    }\n}\n</code></pre>\n<p>If the password is not correct, this is the response that the client receives:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: &quot;BAD_REQUEST&quot;,\n    &quot;timestamp&quot;: &quot;28.02.2023, 11:06:14&quot;,\n    &quot;message&quot;: &quot;Invalid username or password&quot;\n}\n</code></pre>\n<p>This is the wrong message. What I expect is <code>throw new CustomAuthenticationException(&quot;Password is not correct&quot;);</code>. When I run the debug mode, that line will get executed but it is not returning anything.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"score":0,"creation_date":1677542359,"post_id":75586569,"comment_id":133354997,"body_markdown":"I&#39;d suggest adding debug points so you can see exactly where the data is being reset and what data is being sent to and returned from your other pages. I&#39;d also add debug points to where you are displaying the data to your textboxes, so you also know what data is being pulled and where it&#39;s being pulled from for that display, wit ha focus on the &quot;onSensorChanged&quot; method to see the value of &quot;event&quot;.","body":"I&#39;d suggest adding debug points so you can see exactly where the data is being reset and what data is being sent to and returned from your other pages. I&#39;d also add debug points to where you are displaying the data to your textboxes, so you also know what data is being pulled and where it&#39;s being pulled from for that display, wit ha focus on the &quot;onSensorChanged&quot; method to see the value of &quot;event&quot;."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1677544580,"post_id":75586569,"comment_id":133355351,"body_markdown":"The TYPE_STEP_COUNTER sensor only resets on a reboot - so next time the sensor fires an event you are back to its value no matter what you stored in your DB.  From API: &quot;and is reset to zero only on a system reboot&quot;.  To compensate you&#39;d need to save the step value at the time of reset and then offset the &quot;real&quot; step value with the saved values to achieve &quot;values since last reset button press&quot;.","body":"The TYPE_STEP_COUNTER sensor only resets on a reboot - so next time the sensor fires an event you are back to its value no matter what you stored in your DB.  From API: &quot;and is reset to zero only on a system reboot&quot;.  To compensate you&#39;d need to save the step value at the time of reset and then offset the &quot;real&quot; step value with the saved values to achieve &quot;values since last reset button press&quot;."},{"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"score":0,"creation_date":1677545069,"post_id":75586569,"comment_id":133355422,"body_markdown":"@5f3bde39-70a2-4df1-afa2-47f61b isn&#39;t there another type of sensor which I could use instead.","body":"@5f3bde39-70a2-4df1-afa2-47f61b isn&#39;t there another type of sensor which I could use instead."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1677545205,"post_id":75586569,"comment_id":133355442,"body_markdown":"Well you could use TYPE_STEP_DETECTOR and count the steps in your app.  But compensating for your own reset with the saved value (or a negative offset) would be straight forward.","body":"Well you could use TYPE_STEP_DETECTOR and count the steps in your app.  But compensating for your own reset with the saved value (or a negative offset) would be straight forward."},{"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"score":0,"creation_date":1677545294,"post_id":75586569,"comment_id":133355454,"body_markdown":"I am already using TYPE_STEP_DETECTOR @5f3bde39-70a2-4df1-afa2-47f61b","body":"I am already using TYPE_STEP_DETECTOR @5f3bde39-70a2-4df1-afa2-47f61b"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1677545364,"post_id":75586569,"comment_id":133355465,"body_markdown":"Your posted code is using TYPE_STEP_COUNTER.","body":"Your posted code is using TYPE_STEP_COUNTER."}],"answers":[{"comments":[{"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"score":0,"creation_date":1677545016,"post_id":75586752,"comment_id":133355410,"body_markdown":"If I comment it out the reset button works like before but now the value is staying the issue with this is that now the counters are not working when I move the phone.","body":"If I comment it out the reset button works like before but now the value is staying the issue with this is that now the counters are not working when I move the phone."}],"tags":[],"owner":{"account_id":18895937,"reputation":54,"user_id":13785124,"display_name":"Djoxy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677543060,"creation_date":1677543060,"answer_id":75586752,"question_id":75586569,"body_markdown":"when you change the page you are triggering the &quot;onResume()&quot; followed by &quot;onSensorChanged&quot; and this last will write the new data in the  DB, you  can try commenting &quot;onResume()&quot; and see if the values has changed.","title":"Reset button working and the counters are set to 0 but when I change the page or move the phone the value returns the same as before","body":"<p>when you change the page you are triggering the &quot;onResume()&quot; followed by &quot;onSensorChanged&quot; and this last will write the new data in the  DB, you  can try commenting &quot;onResume()&quot; and see if the values has changed.</p>\n"},{"tags":[],"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677595622,"creation_date":1677595622,"answer_id":75593587,"question_id":75586569,"body_markdown":"Changed sensor to Step Detector now it works fine.","title":"Reset button working and the counters are set to 0 but when I change the page or move the phone the value returns the same as before","body":"<p>Changed sensor to Step Detector now it works fine.</p>\n"}],"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677595622,"creation_date":1677541010,"question_id":75586569,"body_markdown":"I am developing a step counter app in Android Studio in Java, the counters are all working fine, I have added a button which would reset all the counters to 0, but when I click the reset button the counters are set to 0 but when I change the page or move the phone the value returns the same as before.\r\n\r\n``` package com.example.walktofit;\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.navigation.NavigationBarView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements SensorEventListener {\r\n\r\n    FirebaseAuth auth;\r\n    TextView textViewSteps, textViewCalories, textViewMiles;\r\n    FirebaseUser user;\r\n    SensorManager sensorManager;\r\n    FirebaseFirestore db;\r\n    Button resetBtn;\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        textViewSteps = findViewById(R.id.step_counter);\r\n        textViewCalories = findViewById(R.id.calories);\r\n        textViewMiles = findViewById(R.id.miles);\r\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n        resetBtn = findViewById(R.id.resetBtn);\r\n\r\n        user = auth.getCurrentUser();\r\n        if (user == null) {\r\n            Intent intent = new Intent(getApplicationContext(), Login.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (checkSelfPermission(Manifest.permission.BODY_SENSORS) != PackageManager.PERMISSION_GRANTED\r\n                    || checkSelfPermission(Manifest.permission.ACTIVITY_RECOGNITION) != PackageManager.PERMISSION_GRANTED\r\n                    || checkSelfPermission(Manifest.permission.READ_CALENDAR) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(new String[]{Manifest.permission.BODY_SENSORS, Manifest.permission.ACTIVITY_RECOGNITION, Manifest.permission.READ_CALENDAR}, 1);\r\n            }\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottom_nav);\r\n\r\n        bottomNavigationView.setSelectedItemId(R.id.home);\r\n\r\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                switch (menuItem.getItemId()) {\r\n                    case R.id.home:\r\n                        return true;\r\n                    case R.id.health:\r\n                        startActivity(new Intent(getApplicationContext()\r\n                                , Health.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n                    case R.id.rewards:\r\n                        startActivity(new Intent(getApplicationContext()\r\n                                , Reward.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n                    case R.id.profile:\r\n                        startActivity(new Intent(getApplicationContext()\r\n                                , Profile.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        resetBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                reset();\r\n            }\r\n        });\r\n\r\n        \r\n        DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\r\n        countersDocRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                if (documentSnapshot.exists()) {\r\n                    int savedSteps = documentSnapshot.getLong(&quot;steps&quot;).intValue();\r\n                    double savedCalories = documentSnapshot.getDouble(&quot;calories&quot;);\r\n                    double savedMiles = documentSnapshot.getDouble(&quot;miles&quot;);\r\n                    textViewSteps.setText(String.valueOf(savedSteps));\r\n                    textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, savedCalories));\r\n                    textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, savedMiles));\r\n                } else {\r\n                  \r\n                    reset();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error retrieving saved data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 1) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Permissions granted!&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Permissions denied!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n        if (event.sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\r\n            int newSteps = (int) event.values[0];\r\n            double calories = newSteps * 0.04;\r\n            double miles = newSteps * 0.0005;\r\n            textViewSteps.setText(String.valueOf(newSteps));\r\n            textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, calories));\r\n            textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, miles));\r\n\r\n            db = FirebaseFirestore.getInstance();\r\n            DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\r\n\r\n            Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n            data.put(&quot;steps&quot;, newSteps);\r\n            data.put(&quot;calories&quot;, calories);\r\n            data.put(&quot;miles&quot;, miles);\r\n\r\n            countersDocRef.set(data)\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Error Saving Data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n        if (countSensor != null) {\r\n            sensorManager.registerListener(this, countSensor, SensorManager.SENSOR_DELAY_UI);\r\n        } else {\r\n            Toast.makeText(this, &quot;Sensor not found&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        db = FirebaseFirestore.getInstance();\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        sensorManager.unregisterListener(this);\r\n    }\r\n\r\n    public void reset() {\r\n        db.collection(&quot;CounterDetails&quot;).document(user.getUid())\r\n                .update(&quot;steps&quot;, 0, &quot;calories&quot;, 0, &quot;miles&quot;, 0)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(getApplicationContext(), &quot;Counter reset successful&quot;, Toast.LENGTH_SHORT).show();\r\n                        \r\n                        textViewSteps.setText(&quot;0&quot;);\r\n                        textViewCalories.setText(&quot;0 Kcal&quot;);\r\n                        textViewMiles.setText(&quot;0 Miles&quot;);\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(getApplicationContext(), &quot;Error resetting counter: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n}\r\n","title":"Reset button working and the counters are set to 0 but when I change the page or move the phone the value returns the same as before","body":"<p>I am developing a step counter app in Android Studio in Java, the counters are all working fine, I have added a button which would reset all the counters to 0, but when I click the reset button the counters are set to 0 but when I change the page or move the phone the value returns the same as before.</p>\n<pre><code>\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationBarView;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\n\npublic class MainActivity extends AppCompatActivity implements SensorEventListener {\n\n    FirebaseAuth auth;\n    TextView textViewSteps, textViewCalories, textViewMiles;\n    FirebaseUser user;\n    SensorManager sensorManager;\n    FirebaseFirestore db;\n    Button resetBtn;\n\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        auth = FirebaseAuth.getInstance();\n        db = FirebaseFirestore.getInstance();\n\n        textViewSteps = findViewById(R.id.step_counter);\n        textViewCalories = findViewById(R.id.calories);\n        textViewMiles = findViewById(R.id.miles);\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n        resetBtn = findViewById(R.id.resetBtn);\n\n        user = auth.getCurrentUser();\n        if (user == null) {\n            Intent intent = new Intent(getApplicationContext(), Login.class);\n            startActivity(intent);\n            finish();\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (checkSelfPermission(Manifest.permission.BODY_SENSORS) != PackageManager.PERMISSION_GRANTED\n                    || checkSelfPermission(Manifest.permission.ACTIVITY_RECOGNITION) != PackageManager.PERMISSION_GRANTED\n                    || checkSelfPermission(Manifest.permission.READ_CALENDAR) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(new String[]{Manifest.permission.BODY_SENSORS, Manifest.permission.ACTIVITY_RECOGNITION, Manifest.permission.READ_CALENDAR}, 1);\n            }\n        }\n\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottom_nav);\n\n        bottomNavigationView.setSelectedItemId(R.id.home);\n\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n                switch (menuItem.getItemId()) {\n                    case R.id.home:\n                        return true;\n                    case R.id.health:\n                        startActivity(new Intent(getApplicationContext()\n                                , Health.class));\n                        overridePendingTransition(0, 0);\n                        return true;\n                    case R.id.rewards:\n                        startActivity(new Intent(getApplicationContext()\n                                , Reward.class));\n                        overridePendingTransition(0, 0);\n                        return true;\n                    case R.id.profile:\n                        startActivity(new Intent(getApplicationContext()\n                                , Profile.class));\n                        overridePendingTransition(0, 0);\n                        return true;\n\n                }\n                return false;\n            }\n        });\n\n        resetBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                reset();\n            }\n        });\n\n        \n        DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\n        countersDocRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                if (documentSnapshot.exists()) {\n                    int savedSteps = documentSnapshot.getLong(&quot;steps&quot;).intValue();\n                    double savedCalories = documentSnapshot.getDouble(&quot;calories&quot;);\n                    double savedMiles = documentSnapshot.getDouble(&quot;miles&quot;);\n                    textViewSteps.setText(String.valueOf(savedSteps));\n                    textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, savedCalories));\n                    textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, savedMiles));\n                } else {\n                  \n                    reset();\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(getApplicationContext(), &quot;Error retrieving saved data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n\n\n\n\n\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 1) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED\n                    &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Permissions granted!&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(this, &quot;Permissions denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n        if (event.sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\n            int newSteps = (int) event.values[0];\n            double calories = newSteps * 0.04;\n            double miles = newSteps * 0.0005;\n            textViewSteps.setText(String.valueOf(newSteps));\n            textViewCalories.setText(String.format(&quot;%.2f Kcal&quot;, calories));\n            textViewMiles.setText(String.format(&quot;%.2f Miles&quot;, miles));\n\n            db = FirebaseFirestore.getInstance();\n            DocumentReference countersDocRef = db.collection(&quot;CounterDetails&quot;).document(user.getUid());\n\n            Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n            data.put(&quot;steps&quot;, newSteps);\n            data.put(&quot;calories&quot;, calories);\n            data.put(&quot;miles&quot;, miles);\n\n            countersDocRef.set(data)\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(getApplicationContext(), &quot;Error Saving Data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n        }\n    }\n\n\n\n\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Sensor countSensor = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n        if (countSensor != null) {\n            sensorManager.registerListener(this, countSensor, SensorManager.SENSOR_DELAY_UI);\n        } else {\n            Toast.makeText(this, &quot;Sensor not found&quot;, Toast.LENGTH_SHORT).show();\n        }\n        db = FirebaseFirestore.getInstance();\n        user = FirebaseAuth.getInstance().getCurrentUser();\n    }\n\n\n\n\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        sensorManager.unregisterListener(this);\n    }\n\n    public void reset() {\n        db.collection(&quot;CounterDetails&quot;).document(user.getUid())\n                .update(&quot;steps&quot;, 0, &quot;calories&quot;, 0, &quot;miles&quot;, 0)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(getApplicationContext(), &quot;Counter reset successful&quot;, Toast.LENGTH_SHORT).show();\n                        \n                        textViewSteps.setText(&quot;0&quot;);\n                        textViewCalories.setText(&quot;0 Kcal&quot;);\n                        textViewMiles.setText(&quot;0 Miles&quot;);\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(getApplicationContext(), &quot;Error resetting counter: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9612,"page":613,"page_size":100}
