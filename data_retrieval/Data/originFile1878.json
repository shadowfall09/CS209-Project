{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":11834347,"reputation":12390,"user_id":9636037,"display_name":"Abhimanyu"},"score":1,"creation_date":1636121305,"post_id":69854529,"comment_id":123479283,"body_markdown":"You have a commented TODO which you have to complete.","body":"You have a commented TODO which you have to complete."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1636127567,"post_id":69854529,"comment_id":123481977,"body_markdown":"You&#39;re checking permissions at runtime, but not requesting them.  So unless you manually granted them in settings, you don&#39;t have them.  Also, you&#39;re setting yourself up for hurt by using getLastKnownLocation.  Usually the last location isn&#39;t known, so it returns null.  You should instead requestSingleUpdate if you need a location.","body":"You&#39;re checking permissions at runtime, but not requesting them.  So unless you manually granted them in settings, you don&#39;t have them.  Also, you&#39;re setting yourself up for hurt by using getLastKnownLocation.  Usually the last location isn&#39;t known, so it returns null.  You should instead requestSingleUpdate if you need a location."}],"answers":[{"tags":[],"owner":{"account_id":19397897,"reputation":16,"user_id":14185158,"display_name":"Mohamed Hesham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636121736,"creation_date":1636121736,"answer_id":69854649,"question_id":69854529,"body_markdown":"Starting from Android 6 you need to request permission at runtime \r\n\r\nexample:\r\n    \r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[] { permission }, requestCode);\r\n    \r\n","title":"Android Studio location permission denied","body":"<p>Starting from Android 6 you need to request permission at runtime</p>\n<p>example:</p>\n<pre><code>ActivityCompat.requestPermissions(MainActivity.this, new String[] { permission }, requestCode);\n</code></pre>\n"}],"owner":{"account_id":19599441,"reputation":11,"user_id":14344628,"display_name":"ehssan Moosavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636121736,"creation_date":1636121192,"question_id":69854529,"body_markdown":"Hello Guys I&#39;m facing &quot;gps&quot; location provider requires ACCESS_FINE_LOCATION permission.\r\nAlthough I included the libraries and also added all the required permissions to Manifest file. when I run the code it is giving me the permission error.\r\n\r\n```\r\nLocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n\r\n        }\r\n\r\n        Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n```\r\nhere is the manifest file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;ca.dal.cs.csci3130.quickcash&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\r\n        &lt;activity android:name=&quot;.User.SignupActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.User.LoginActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.EmployeeDashboardActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.EmployeeHomeActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.EmployerHomeActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.ManualSearchActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.PreferencesActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.PreferenceSearchActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.ProfileActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.TaskDescriptionActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.Home.EmployerCreateJobActivity&quot;&gt;&lt;/activity&gt;\r\n\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"Android Studio location permission denied","body":"<p>Hello Guys I'm facing &quot;gps&quot; location provider requires ACCESS_FINE_LOCATION permission.\nAlthough I included the libraries and also added all the required permissions to Manifest file. when I run the code it is giving me the permission error.</p>\n<pre><code>LocationManager lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n\n        }\n\n        Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n</code></pre>\n<p>here is the manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;ca.dal.cs.csci3130.quickcash&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\n        &lt;activity android:name=&quot;.User.SignupActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.User.LoginActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.EmployeeDashboardActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.EmployeeHomeActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.EmployerHomeActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.ManualSearchActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.PreferencesActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.PreferenceSearchActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.ProfileActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.TaskDescriptionActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.Home.EmployerCreateJobActivity&quot;&gt;&lt;/activity&gt;\n\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1636114146,"post_id":69852773,"comment_id":123476337,"body_markdown":"https://stackoverflow.com/questions/55877188/spring-boot-actuator-returns-404-not-found this link could help","body":"<a href=\"https://stackoverflow.com/questions/55877188/spring-boot-actuator-returns-404-not-found\" title=\"spring boot actuator returns 404 not found\">stackoverflow.com/questions/55877188/&hellip;</a> this link could help"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636121534,"creation_date":1636113965,"answer_id":69853007,"question_id":69852773,"body_markdown":"Assuming you are using Spring Boot 2.x, by default, all Actuator endpoints are placed under the /actuator path, so please try `http://localhost:9000/actuator/health` instead. If `application` is indeed part of your context path, then try `http://localhost:9000/application/actuator/health`.\r\n\r\nAlso, `compileOnly &#39;org.springframework.boot:spring-boot-starter-actuator&#39;` should be `implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;`.","title":"404 when accessing Actuator endpoint","body":"<p>Assuming you are using Spring Boot 2.x, by default, all Actuator endpoints are placed under the /actuator path, so please try <code>http://localhost:9000/actuator/health</code> instead. If <code>application</code> is indeed part of your context path, then try <code>http://localhost:9000/application/actuator/health</code>.</p>\n<p>Also, <code>compileOnly 'org.springframework.boot:spring-boot-starter-actuator'</code> should be <code>implementation 'org.springframework.boot:spring-boot-starter-actuator'</code>.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69853007,"answer_count":1,"score":0,"last_activity_date":1636121534,"creation_date":1636112769,"question_id":69852773,"body_markdown":"I added the `compileOnly &#39;org.springframework.boot:spring-boot-starter-actuator&#39;` to my `build.gradle`, in the Gradle tools window I then right clicked the project and selected `Refresh Gradle Dependencies`. I then added `endpoints.health.enabled=true` to my `application.properties`.\r\n\r\nWhen I start my application and do a GET on URL `http://localhost:9000/application/health` I get the following:\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2021-11-05T11:40:13.663+00:00&quot;,\r\n    &quot;path&quot;: &quot;/application/&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: null,\r\n    &quot;requestId&quot;: &quot;c8352103-2&quot;\r\n}\r\n```\r\n\r\nHave I missed something when enabling Actuators?","title":"404 when accessing Actuator endpoint","body":"<p>I added the <code>compileOnly 'org.springframework.boot:spring-boot-starter-actuator'</code> to my <code>build.gradle</code>, in the Gradle tools window I then right clicked the project and selected <code>Refresh Gradle Dependencies</code>. I then added <code>endpoints.health.enabled=true</code> to my <code>application.properties</code>.</p>\n<p>When I start my application and do a GET on URL <code>http://localhost:9000/application/health</code> I get the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2021-11-05T11:40:13.663+00:00&quot;,\n    &quot;path&quot;: &quot;/application/&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: null,\n    &quot;requestId&quot;: &quot;c8352103-2&quot;\n}\n</code></pre>\n<p>Have I missed something when enabling Actuators?</p>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":7106117,"reputation":1818,"user_id":5435679,"display_name":"Victor"},"score":0,"creation_date":1647386538,"post_id":69854588,"comment_id":126357312,"body_markdown":"is your service using android:exported=&quot;true&quot;? I experienced the same but only in that case for Samsung devices.","body":"is your service using android:exported=&quot;true&quot;? I experienced the same but only in that case for Samsung devices."}],"owner":{"account_id":5050301,"reputation":562,"user_id":4055088,"accept_rate":73,"display_name":"Hans-Martin Goebel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636121474,"creation_date":1636121474,"question_id":69854588,"body_markdown":"For uploading files I create a foregroundservice, which should be removed when the upload is finished, but it doesn&#39;t get removed when I call this function:\r\n\r\n     public void unbindServiceAndStop() throws Throwable{\r\n        context.unbindService(serviceconnection);\r\n        serviceconnection = null;\r\n        context = null;\r\n        stopForeground(true);\r\n        //NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        //mNotificationManager.cancel(SERVICE_NOTIFICATION_ID);\r\n        stopSelf();\r\n    }","title":"StopForeground(true) does not stop the service and doesn&#39;t remove the notification","body":"<p>For uploading files I create a foregroundservice, which should be removed when the upload is finished, but it doesn't get removed when I call this function:</p>\n<pre><code> public void unbindServiceAndStop() throws Throwable{\n    context.unbindService(serviceconnection);\n    serviceconnection = null;\n    context = null;\n    stopForeground(true);\n    //NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    //mNotificationManager.cancel(SERVICE_NOTIFICATION_ID);\n    stopSelf();\n}\n</code></pre>\n"},{"tags":["java","serialization","avro"],"answers":[{"tags":[],"owner":{"account_id":542932,"reputation":275,"user_id":911917,"display_name":"BryceCicada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636121403,"creation_date":1636121403,"answer_id":69854572,"question_id":69839789,"body_markdown":"The binary data you describe will not deserialize to avro.  \r\n\r\n&gt; I assume this happens because Avro expects the buffer data to be in a specific format serialized by Avro itself.\r\n\r\nYou&#39;ve answered your own question, but it&#39;s interesting to think about why there&#39;s unlikely to be the general purpose utility method that you desire.\r\n\r\n 1. A deserializer would need to know the endianness of the runtime that serialized fields by casting to bytes.  https://en.wikipedia.org/wiki/Endianness.  In the case of C++, this would likely be the endianess of the machine on which the code runs.  There&#39;s usually two strategies for serialization when this is a concern.  Serializer fixes the endianness of the serialized bytes (eg network byte order), or includes an indicator commonly known as a &#39;byte order mark&#39; that allows the deserializer to correctly infer the endianness of the serializing architecture and deserialize correctly.  Your question suggests neither of these are present in the serialized data. \r\n 2. The C++ standard defines only the minimum size of numeric datatypes.  This means that the serialized &#39;int&#39; fields could, in principle, be any size 32-bits or more.  \r\n\r\nThese two ambiguities alone might help explain why your binary data will need some special handling.  It might be that you can address these points based your knowledge of the serializing machine and/or compiler.  However, this is typically outside the scope of a general serialization library that are normally limited to serializing and deserializing their own binary data formats. \r\n\r\n","title":"Deserializing Byte Buffer to Avro","body":"<p>The binary data you describe will not deserialize to avro.</p>\n<blockquote>\n<p>I assume this happens because Avro expects the buffer data to be in a specific format serialized by Avro itself.</p>\n</blockquote>\n<p>You've answered your own question, but it's interesting to think about why there's unlikely to be the general purpose utility method that you desire.</p>\n<ol>\n<li>A deserializer would need to know the endianness of the runtime that serialized fields by casting to bytes.  <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Endianness</a>.  In the case of C++, this would likely be the endianess of the machine on which the code runs.  There's usually two strategies for serialization when this is a concern.  Serializer fixes the endianness of the serialized bytes (eg network byte order), or includes an indicator commonly known as a 'byte order mark' that allows the deserializer to correctly infer the endianness of the serializing architecture and deserialize correctly.  Your question suggests neither of these are present in the serialized data.</li>\n<li>The C++ standard defines only the minimum size of numeric datatypes.  This means that the serialized 'int' fields could, in principle, be any size 32-bits or more.</li>\n</ol>\n<p>These two ambiguities alone might help explain why your binary data will need some special handling.  It might be that you can address these points based your knowledge of the serializing machine and/or compiler.  However, this is typically outside the scope of a general serialization library that are normally limited to serializing and deserializing their own binary data formats.</p>\n"}],"owner":{"account_id":7998503,"reputation":115,"user_id":14419062,"display_name":"ZenCoding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636121403,"creation_date":1636031473,"question_id":69839789,"body_markdown":"I would like to deserialize data from a byte array to an Avro-generated Class.\r\n\r\nThe data is coming from a file mapping which is written in another process written in C++, which I can&#39;t control.\r\nEssentially the data comes from a bigger structure where every item is just cast to byte and then put into an array.\r\nFor example\r\n\r\n    struct Sample {\r\n        int firstInt;\r\n        float firtFloat;\r\n        int secondInt;\r\n        ...\r\n    }\r\n\r\nthe first 4 bytes are `firstInt` data, the next 4 would be the float, and so on.\r\nWhen I try to read the bytes with \r\n\r\n    AvroClassName.fromByteBuffer(bBuffer(0, 500));\r\n\r\nI get an error:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.avro.message.BadHeaderException: Unrecognized header bytes: 0x5A 0x03\r\n\r\nI assume this happens because Avro expects the buffer data to be in a specific format serialized by Avro itself.\r\n\r\nI could probably use some kind of builder where I manually map every part of the buffer to the Avro objects fields, but because there are several hundred fields in this class, this would not be the best strategy.\r\n\r\nIs there any method that could deserialize the data to the Avro-generated Object? The order of the fields in the Avro Class is the same as they are occurring in the Byte Buffer.\r\n","title":"Deserializing Byte Buffer to Avro","body":"<p>I would like to deserialize data from a byte array to an Avro-generated Class.</p>\n<p>The data is coming from a file mapping which is written in another process written in C++, which I can't control.\nEssentially the data comes from a bigger structure where every item is just cast to byte and then put into an array.\nFor example</p>\n<pre><code>struct Sample {\n    int firstInt;\n    float firtFloat;\n    int secondInt;\n    ...\n}\n</code></pre>\n<p>the first 4 bytes are <code>firstInt</code> data, the next 4 would be the float, and so on.\nWhen I try to read the bytes with</p>\n<pre><code>AvroClassName.fromByteBuffer(bBuffer(0, 500));\n</code></pre>\n<p>I get an error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.avro.message.BadHeaderException: Unrecognized header bytes: 0x5A 0x03\n</code></pre>\n<p>I assume this happens because Avro expects the buffer data to be in a specific format serialized by Avro itself.</p>\n<p>I could probably use some kind of builder where I manually map every part of the buffer to the Avro objects fields, but because there are several hundred fields in this class, this would not be the best strategy.</p>\n<p>Is there any method that could deserialize the data to the Avro-generated Object? The order of the fields in the Avro Class is the same as they are occurring in the Byte Buffer.</p>\n"},{"tags":["java","opc-ua","milo"],"answers":[{"tags":[],"owner":{"account_id":31322,"reputation":6570,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636120738,"creation_date":1636120738,"answer_id":69854415,"question_id":69854183,"body_markdown":"UaExpert is doing more bookkeeping than you are doing. You should have knowledge of which Nodes you have created MonitoredItems for and be able to get the BrowseName or DisplayName attribute from those Nodes.\r\n\r\nInside that callback you have access to the NodeId - that should be your key to get to the Node and any attributes you are interested in.","title":"How can I get OPC UA node name in Eclipse Milo?","body":"<p>UaExpert is doing more bookkeeping than you are doing. You should have knowledge of which Nodes you have created MonitoredItems for and be able to get the BrowseName or DisplayName attribute from those Nodes.</p>\n<p>Inside that callback you have access to the NodeId - that should be your key to get to the Node and any attributes you are interested in.</p>\n"}],"owner":{"account_id":4217278,"reputation":799,"user_id":3453066,"accept_rate":92,"display_name":"Jure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69854415,"answer_count":1,"score":1,"last_activity_date":1636120738,"creation_date":1636119559,"question_id":69854183,"body_markdown":"I followed ManagedSubscriptionDataExample.java (https://github.com/eclipse/milo/blob/master/milo-examples/client-examples/src/main/java/org/eclipse/milo/examples/client/ManagedSubscriptionDataExample.java) example on github page to read OPC nodes from PLC S7-1200.\r\n\r\nValue for nodes are getting updated but I can&#39;t get name.\r\n\r\nFor code:\r\n```\r\nsubscription.addDataChangeListener((items, values) -&gt; {\r\n                for (int i = 0; i &lt; items.size(); i++) {\r\n                    logger.info(\r\n                            &quot;subscription value received: item={}, value={}, valueID={}&quot;,\r\n                            items.get(i).getNodeId(), values.get(i).getValue(), items.get(i).getReadValueId());\r\n                }\r\n```\r\n\r\nI get response:\r\n\r\n&gt; INFO: subscription value received: item=NodeId{ns=4, id=4},\r\n&gt; value=Variant{value=false}, valueID=ReadValueId(nodeId=NodeId{ns=4,\r\n&gt; id=4}, attributeId=13, indexRange=null,\r\n&gt; dataEncoding=QualifiedName{name=null, namespaceIndex=0})\r\n\r\nI see that name is null and that there is no method to get name for node. But if I use OPC client &quot;OPC Expert&quot; I can also get names for nodes as they are on PLC:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2bGsi.png\r\n\r\nIs there any other option to get name of the variable?","title":"How can I get OPC UA node name in Eclipse Milo?","body":"<p>I followed ManagedSubscriptionDataExample.java (<a href=\"https://github.com/eclipse/milo/blob/master/milo-examples/client-examples/src/main/java/org/eclipse/milo/examples/client/ManagedSubscriptionDataExample.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/milo/blob/master/milo-examples/client-examples/src/main/java/org/eclipse/milo/examples/client/ManagedSubscriptionDataExample.java</a>) example on github page to read OPC nodes from PLC S7-1200.</p>\n<p>Value for nodes are getting updated but I can't get name.</p>\n<p>For code:</p>\n<pre><code>subscription.addDataChangeListener((items, values) -&gt; {\n                for (int i = 0; i &lt; items.size(); i++) {\n                    logger.info(\n                            &quot;subscription value received: item={}, value={}, valueID={}&quot;,\n                            items.get(i).getNodeId(), values.get(i).getValue(), items.get(i).getReadValueId());\n                }\n</code></pre>\n<p>I get response:</p>\n<blockquote>\n<p>INFO: subscription value received: item=NodeId{ns=4, id=4},\nvalue=Variant{value=false}, valueID=ReadValueId(nodeId=NodeId{ns=4,\nid=4}, attributeId=13, indexRange=null,\ndataEncoding=QualifiedName{name=null, namespaceIndex=0})</p>\n</blockquote>\n<p>I see that name is null and that there is no method to get name for node. But if I use OPC client &quot;OPC Expert&quot; I can also get names for nodes as they are on PLC:\n<a href=\"https://i.stack.imgur.com/2bGsi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2bGsi.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any other option to get name of the variable?</p>\n"},{"tags":["java","date","timestamp"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636127365,"post_id":11421527,"comment_id":123481901,"body_markdown":"For new readers to the question I recommend you don’t use  `Date` and `SimpleDateFormat` . Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use `ZoneId, ``ZonedDateTime` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For new readers to the question I recommend you don’t use  <code>Date</code> and <code>SimpleDateFormat</code> . Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use <code>ZoneId, ``ZonedDateTime</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":140518,"reputation":1243,"user_id":346899,"accept_rate":82,"display_name":"s106mo"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1525787659,"creation_date":1341953013,"answer_id":11421638,"question_id":11421527,"body_markdown":"Use SimpleDateFormat instead:\r\n\r\n\tprivate String toDate(long timestamp) {\r\n        Date date = new Date(timestamp * 1000);\r\n        return new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(date);\r\n   \t}\r\n\r\n*Updated*: Java 8 solution:\r\n\r\n\tprivate String toDate(long timestamp) {\r\n\t\tLocalDate date = Instant.ofEpochMilli(timestamp * 1000).atZone(ZoneId.systemDefault()).toLocalDate();\r\n\t\treturn date.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\r\n   \t}","title":"Get only the date from the timestamp","body":"<p>Use SimpleDateFormat instead:</p>\n\n<pre><code>private String toDate(long timestamp) {\n    Date date = new Date(timestamp * 1000);\n    return new SimpleDateFormat(\"yyyy-MM-dd\").format(date);\n}\n</code></pre>\n\n<p><em>Updated</em>: Java 8 solution:</p>\n\n<pre><code>private String toDate(long timestamp) {\n    LocalDate date = Instant.ofEpochMilli(timestamp * 1000).atZone(ZoneId.systemDefault()).toLocalDate();\n    return date.format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411112601,"creation_date":1411112244,"answer_id":25928747,"question_id":11421527,"body_markdown":"# Joda-Time\r\n\r\nThe [Joda-Time][1] library offers a [`LocalDate`][2] class to represent a date-only value without any time-of-day nor time zone.\r\n\r\n## Time Zone\r\n\r\nDetermining a date requires a [time zone][3]. A moment just after midnight in Paris means a date that is a day ahead of the same simultaneous moment in Montr&#233;al. If you neglect to specify a time zone, the JVM’s current default time zone is applied –&#160;probably not what you want as results may vary.\r\n\r\n## Example Code\r\n\r\n    long millisecondsSinceUnixEpoch = ( yourNumberOfSecondsSinceUnixEpoch * 1000 ); // Convert seconds to milliseconds.\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;America/Montreal&quot; );\r\n    LocalDate localDate = new LocalDate( millisecondsSinceUnixEpoch, timeZone );\r\n    String output = localDate.toString(); // Defaults to ISO 8601 standard format, YYYY-MM-DD.\r\n\r\n## Previous Day\r\n\r\nTo get the day before, as requested in a comment.\r\n\r\n    LocalDate dayBefore = localDate.minusDays( 1 );\r\n\r\n## Convert to j.u.Date\r\n\r\nThe java.util.Date &amp; .Calendar classes **should be avoided** as they are notoriously troublesome. But if required, you may convert.\r\n\r\n    java.util.Date date = localDate.toDate(); // Time-of-day set to earliest valid for that date.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\r\n  [3]: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"Get only the date from the timestamp","body":"<h1>Joda-Time</h1>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> library offers a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"nofollow\"><code>LocalDate</code></a> class to represent a date-only value without any time-of-day nor time zone.</p>\n\n<h2>Time Zone</h2>\n\n<p>Determining a date requires a <a href=\"http://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow\">time zone</a>. A moment just after midnight in Paris means a date that is a day ahead of the same simultaneous moment in Montréal. If you neglect to specify a time zone, the JVM’s current default time zone is applied – probably not what you want as results may vary.</p>\n\n<h2>Example Code</h2>\n\n<pre><code>long millisecondsSinceUnixEpoch = ( yourNumberOfSecondsSinceUnixEpoch * 1000 ); // Convert seconds to milliseconds.\nDateTimeZone timeZone = DateTimeZone.forID( \"America/Montreal\" );\nLocalDate localDate = new LocalDate( millisecondsSinceUnixEpoch, timeZone );\nString output = localDate.toString(); // Defaults to ISO 8601 standard format, YYYY-MM-DD.\n</code></pre>\n\n<h2>Previous Day</h2>\n\n<p>To get the day before, as requested in a comment.</p>\n\n<pre><code>LocalDate dayBefore = localDate.minusDays( 1 );\n</code></pre>\n\n<h2>Convert to j.u.Date</h2>\n\n<p>The java.util.Date &amp; .Calendar classes <strong>should be avoided</strong> as they are notoriously troublesome. But if required, you may convert.</p>\n\n<pre><code>java.util.Date date = localDate.toDate(); // Time-of-day set to earliest valid for that date.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9254912,"reputation":21,"user_id":6874133,"display_name":"garima"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636114950,"creation_date":1481627236,"answer_id":41119566,"question_id":11421527,"body_markdown":"You can use this code to get the required results\r\n\r\n    protected Timestamp timestamp = new Timestamp(Calendar.getInstance().getTimeInMillis());\r\n\r\n\t\r\n    protected String today_Date=timestamp.toString().split(&quot; &quot;)[0];","title":"Get only the date from the timestamp","body":"<p>You can use this code to get the required results</p>\n<pre><code>protected Timestamp timestamp = new Timestamp(Calendar.getInstance().getTimeInMillis());\n\n\nprotected String today_Date=timestamp.toString().split(&quot; &quot;)[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636120546,"creation_date":1636120546,"answer_id":69854377,"question_id":11421527,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\nYou can use [`Instant#ofEpochSecond`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-) to get an `Instant` out of the given `timestamp` and then use [`LocalDate.ofInstant`](https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html#ofInstant-java.time.Instant-java.time.ZoneId-) to get a `LocalDate` out of the obtained `Instant`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(toDate(1636120105L));\r\n    \t}\r\n    \r\n    \tstatic LocalDate toDate(long timestamp) {\r\n    \t\treturn LocalDate.ofInstant(Instant.ofEpochSecond(timestamp), ZoneId.systemDefault());\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    2021-11-05\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/P350dp","title":"Get only the date from the timestamp","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-\" rel=\"nofollow noreferrer\"><code>Instant#ofEpochSecond</code></a> to get an <code>Instant</code> out of the given <code>timestamp</code> and then use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html#ofInstant-java.time.Instant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>LocalDate.ofInstant</code></a> to get a <code>LocalDate</code> out of the obtained <code>Instant</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(toDate(1636120105L));\n    }\n\n    static LocalDate toDate(long timestamp) {\n        return LocalDate.ofInstant(Instant.ofEpochSecond(timestamp), ZoneId.systemDefault());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-11-05\n</code></pre>\n<p><a href=\"https://ideone.com/P350dp\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57793,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":11421638,"answer_count":4,"score":13,"last_activity_date":1636120546,"creation_date":1341952617,"question_id":11421527,"body_markdown":"This is my Below function in which I am passing timestamp, I need only the date in return from the timestamp not the Hours and Second. With the below code I am getting-\r\n\r\n    private String toDate(long timestamp) {\r\n            Date date = new Date (timestamp * 1000);\r\n            return DateFormat.getInstance().format(date).toString();\r\n    }\r\n\r\nThis is the output I am getting.\r\n\r\n    11/4/01 11:27 PM\r\n\r\nBut I need only the date like this\r\n\r\n    2001-11-04\r\n\r\nAny suggestions?","title":"Get only the date from the timestamp","body":"<p>This is my Below function in which I am passing timestamp, I need only the date in return from the timestamp not the Hours and Second. With the below code I am getting-</p>\n\n<pre><code>private String toDate(long timestamp) {\n        Date date = new Date (timestamp * 1000);\n        return DateFormat.getInstance().format(date).toString();\n}\n</code></pre>\n\n<p>This is the output I am getting.</p>\n\n<pre><code>11/4/01 11:27 PM\n</code></pre>\n\n<p>But I need only the date like this</p>\n\n<pre><code>2001-11-04\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","jenkins-pipeline","testcontainers"],"comments":[{"owner":{"account_id":284523,"reputation":1279,"user_id":582686,"accept_rate":62,"display_name":"Rajan Panneer Selvam"},"score":0,"creation_date":1626590927,"post_id":68426305,"comment_id":120930365,"body_markdown":"Based on the error message, it looks like your tests are reaching out to Postgres database, &quot;Could not connect to Ryuk at localhost:49153&quot;. You have to mock your dependencies when you are running unit tests. In case you want to connect to the real database cluster, you have to deploy a database cluster and make sure its reachable from your pod.","body":"Based on the error message, it looks like your tests are reaching out to Postgres database, &quot;Could not connect to Ryuk at localhost:49153&quot;. You have to mock your dependencies when you are running unit tests. In case you want to connect to the real database cluster, you have to deploy a database cluster and make sure its reachable from your pod."},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1626596073,"post_id":68426305,"comment_id":120931193,"body_markdown":"So basically, testcontainer and zonky are used to create docker container for postgresql database which can be used by springboot test, This code is already working on local without creating any explicit database.","body":"So basically, testcontainer and zonky are used to create docker container for postgresql database which can be used by springboot test, This code is already working on local without creating any explicit database."},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1626603351,"post_id":68426305,"comment_id":120932661,"body_markdown":"are you able to ssh on to your jenkins machine while it is running your tests and inspect the `Ryuk` docker container? You can then compare that to what you see locally. Is there any noticeable difference between local and jenkins?","body":"are you able to ssh on to your jenkins machine while it is running your tests and inspect the <code>Ryuk</code> docker container? You can then compare that to what you see locally. Is there any noticeable difference between local and jenkins?"},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1626604258,"post_id":68426305,"comment_id":120932846,"body_markdown":"@MichaelMcFadyen I am using Kubernetes so I can go inside the running pod. I am adding few more details in my question, please check update1","body":"@MichaelMcFadyen I am using Kubernetes so I can go inside the running pod. I am adding few more details in my question, please check update1"}],"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636120484,"creation_date":1626586183,"question_id":68426305,"body_markdown":"I am running my **jenkins on kubernetes** with following configuration\r\n\r\nKubernets version : 1.21\r\n\r\njenkins docker image : jenkins/jenkins:2.263.3\r\n\r\nKubernetes plugin : kubernetes:1.30.0\r\n\r\nSpringboot : 1.5.18.RELEASE\r\n\r\nand testcontainer maven dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n      &lt;version&gt;1.15.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;1.15.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.zonky.test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;embedded-database-spring-test&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.flywaydb.flyway-test-extensions&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flyway-spring-test&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSpringboot test class annotated with\r\n\r\n    @org.junit.runner.RunWith(SpringRunner.class)\r\n    @org.springframework.boot.test.context.SpringBootTest\r\n    @org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc\r\n    @io.zonky.test.db.AutoConfigureEmbeddedDatabase\r\n    \r\n    public class MyTest{}\r\n\r\nWhen I run this test on local machine it works fine.\r\n\r\nBut when similar test gets run on Jenkins pod it is giving following error\r\n\r\n\r\n    2021-07-18;09:26:13.161;prefetching-1;ERROR;o.t.u.ResourceReaper;Timed out waiting for Ryuk container to start. Ryuk&#39;s logs:\r\n    2021/07/18 09:25:13 Pinging Docker...\r\n    2021/07/18 09:25:13 Docker daemon is available!\r\n    2021/07/18 09:25:13 Starting on port 8080...\r\n    2021/07/18 09:25:13 Started!\r\n    panic: Timed out waiting for the initial connection\r\n    \r\n    goroutine 1 [running]:\r\n    main.main()\r\n    \t/go/src/github.com/testcontainers/moby-ryuk/main.go:104 +0xce7\r\n    \r\n    2021-07-18;09:26:13.180;main;ERROR;i.z.t.d.p.FlywayEmbeddedPostgresDataSourceFactoryBean;Unexpected error during the initialization of embedded database\r\n    java.util.concurrent.CompletionException: com.google.common.util.concurrent.UncheckedExecutionException: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat io.zonky.test.db.flyway.DefaultFlywayDataSourceContext.lambda$reload$0(DefaultFlywayDataSourceContext.java:113)\r\n    \tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n    \tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n    \tat java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:442)\r\n    \tat java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:529)\r\n    \tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:599)\r\n    \tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n    \tat java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:617)\r\n    \tat java.util.concurrent.CompletableFuture.thenApplyAsync(CompletableFuture.java:1993)\r\n    \tat io.zonky.test.db.flyway.DefaultFlywayDataSourceContext.reload(DefaultFlywayDataSourceContext.java:106)\r\n    \tat io.zonky.test.db.postgres.FlywayEmbeddedPostgresDataSourceFactoryBean.postProcessBeforeInitialization(FlywayEmbeddedPostgresDataSourceFactoryBean.java:89)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1623)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1080)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)\r\n    Caused by: com.google.common.util.concurrent.UncheckedExecutionException: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2214)\r\n    \tat com.google.common.cache.LocalCache.get(LocalCache.java:4053)\r\n    \tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:4057)\r\n    \tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4986)\r\n    \tat com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4992)\r\n    \tat io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider.getDatabase(DockerPostgresDatabaseProvider.java:92)\r\n    \tat io.zonky.test.db.provider.impl.PrefetchingDatabaseProvider$PrefetchingTask.lambda$new$0(PrefetchingDatabaseProvider.java:252)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat io.zonky.test.db.provider.impl.PrefetchingDatabaseProvider$PrefetchingTask.run(PrefetchingDatabaseProvider.java:259)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:331)\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:312)\r\n    \tat io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$DatabaseInstance.&lt;init&gt;(DockerPostgresDatabaseProvider.java:155)\r\n    \tat io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$DatabaseInstance.&lt;init&gt;(DockerPostgresDatabaseProvider.java:111)\r\n    \tat io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$1.load(DockerPostgresDatabaseProvider.java:60)\r\n    \tat io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$1.load(DockerPostgresDatabaseProvider.java:58)\r\n    \tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3628)\r\n    \tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2336)\r\n    \tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2295)\r\n    \tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2208)\r\n    \t... 11 common frames omitted\r\n    Caused by: org.testcontainers.containers.ContainerFetchException: Can&#39;t get Docker image: RemoteDockerImage(imageName=postgres:10.7-alpine, imagePullPolicy=DefaultPullPolicy())\r\n    \tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1282)\r\n    \tat org.testcontainers.containers.GenericContainer.logger(GenericContainer.java:616)\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:321)\r\n    \t... 20 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Could not connect to Ryuk at localhost:49157\r\n    \tat org.testcontainers.utility.ResourceReaper.start(ResourceReaper.java:171)\r\n    \tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:201)\r\n    \tat org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\r\n    \tat org.testcontainers.LazyDockerClient.listImagesCmd(LazyDockerClient.java:12)\r\n    \tat org.testcontainers.images.LocalImagesCache.maybeInitCache(LocalImagesCache.java:68)\r\n    \tat org.testcontainers.images.LocalImagesCache.get(LocalImagesCache.java:32)\r\n    \tat org.testcontainers.images.AbstractImagePullPolicy.shouldPull(AbstractImagePullPolicy.java:18)\r\n    \tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:65)\r\n    \tat org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:26)\r\n    \tat org.testcontainers.utility.LazyFuture.getResolvedValue(LazyFuture.java:17)\r\n    \tat org.testcontainers.utility.LazyFuture.get(LazyFuture.java:39)\r\n    \tat org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1280)\r\n    \t... 22 common frames omitted\r\n    2021-07-18;09:26:13.299;main;ERROR;o.s.b.SpringApplication;Application startup failed\r\n\r\nI found one interesting exception line as below.\r\n\r\n    Caused by: org.testcontainers.containers.ContainerFetchException: Can&#39;t get Docker image: RemoteDockerImage(imageName=postgres:10.7-alpine, imagePullPolicy=DefaultPullPolicy())\r\n\r\n**Update 1:**\r\nI was running my Jenkins on kubernetes 1.21 version,\r\n\r\nAfter downgrading the kubernetes version 1.19 its working fine.\r\n----\r\nDoes anyone know why it was failing on 1.21 and not on 1.19 ?\r\n\r\nThanks\r\nAlpesh\r\n","title":"Springboot testcontainers fail on kubernetes Jenkins pipeline","body":"<p>I am running my <strong>jenkins on kubernetes</strong> with following configuration</p>\n<p>Kubernets version : 1.21</p>\n<p>jenkins docker image : jenkins/jenkins:2.263.3</p>\n<p>Kubernetes plugin : kubernetes:1.30.0</p>\n<p>Springboot : 1.5.18.RELEASE</p>\n<p>and testcontainer maven dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n  &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n  &lt;version&gt;1.15.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n  &lt;version&gt;1.15.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.zonky.test&lt;/groupId&gt;\n  &lt;artifactId&gt;embedded-database-spring-test&lt;/artifactId&gt;\n  &lt;version&gt;1.4.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.flywaydb.flyway-test-extensions&lt;/groupId&gt;\n  &lt;artifactId&gt;flyway-spring-test&lt;/artifactId&gt;\n  &lt;version&gt;5.2.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Springboot test class annotated with</p>\n<pre><code>@org.junit.runner.RunWith(SpringRunner.class)\n@org.springframework.boot.test.context.SpringBootTest\n@org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc\n@io.zonky.test.db.AutoConfigureEmbeddedDatabase\n\npublic class MyTest{}\n</code></pre>\n<p>When I run this test on local machine it works fine.</p>\n<p>But when similar test gets run on Jenkins pod it is giving following error</p>\n<pre><code>2021-07-18;09:26:13.161;prefetching-1;ERROR;o.t.u.ResourceReaper;Timed out waiting for Ryuk container to start. Ryuk's logs:\n2021/07/18 09:25:13 Pinging Docker...\n2021/07/18 09:25:13 Docker daemon is available!\n2021/07/18 09:25:13 Starting on port 8080...\n2021/07/18 09:25:13 Started!\npanic: Timed out waiting for the initial connection\n\ngoroutine 1 [running]:\nmain.main()\n    /go/src/github.com/testcontainers/moby-ryuk/main.go:104 +0xce7\n\n2021-07-18;09:26:13.180;main;ERROR;i.z.t.d.p.FlywayEmbeddedPostgresDataSourceFactoryBean;Unexpected error during the initialization of embedded database\njava.util.concurrent.CompletionException: com.google.common.util.concurrent.UncheckedExecutionException: org.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at io.zonky.test.db.flyway.DefaultFlywayDataSourceContext.lambda$reload$0(DefaultFlywayDataSourceContext.java:113)\n    at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\n    at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\n    at java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:442)\n    at java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:529)\n    at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:599)\n    at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\n    at java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:617)\n    at java.util.concurrent.CompletableFuture.thenApplyAsync(CompletableFuture.java:1993)\n    at io.zonky.test.db.flyway.DefaultFlywayDataSourceContext.reload(DefaultFlywayDataSourceContext.java:106)\n    at io.zonky.test.db.postgres.FlywayEmbeddedPostgresDataSourceFactoryBean.postProcessBeforeInitialization(FlywayEmbeddedPostgresDataSourceFactoryBean.java:89)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1623)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1080)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)\nCaused by: com.google.common.util.concurrent.UncheckedExecutionException: org.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2214)\n    at com.google.common.cache.LocalCache.get(LocalCache.java:4053)\n    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:4057)\n    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4986)\n    at com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4992)\n    at io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider.getDatabase(DockerPostgresDatabaseProvider.java:92)\n    at io.zonky.test.db.provider.impl.PrefetchingDatabaseProvider$PrefetchingTask.lambda$new$0(PrefetchingDatabaseProvider.java:252)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at io.zonky.test.db.provider.impl.PrefetchingDatabaseProvider$PrefetchingTask.run(PrefetchingDatabaseProvider.java:259)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:331)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:312)\n    at io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$DatabaseInstance.&lt;init&gt;(DockerPostgresDatabaseProvider.java:155)\n    at io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$DatabaseInstance.&lt;init&gt;(DockerPostgresDatabaseProvider.java:111)\n    at io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$1.load(DockerPostgresDatabaseProvider.java:60)\n    at io.zonky.test.db.provider.impl.DockerPostgresDatabaseProvider$1.load(DockerPostgresDatabaseProvider.java:58)\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3628)\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2336)\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2295)\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2208)\n    ... 11 common frames omitted\nCaused by: org.testcontainers.containers.ContainerFetchException: Can't get Docker image: RemoteDockerImage(imageName=postgres:10.7-alpine, imagePullPolicy=DefaultPullPolicy())\n    at org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1282)\n    at org.testcontainers.containers.GenericContainer.logger(GenericContainer.java:616)\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:321)\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalStateException: Could not connect to Ryuk at localhost:49157\n    at org.testcontainers.utility.ResourceReaper.start(ResourceReaper.java:171)\n    at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:201)\n    at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\n    at org.testcontainers.LazyDockerClient.listImagesCmd(LazyDockerClient.java:12)\n    at org.testcontainers.images.LocalImagesCache.maybeInitCache(LocalImagesCache.java:68)\n    at org.testcontainers.images.LocalImagesCache.get(LocalImagesCache.java:32)\n    at org.testcontainers.images.AbstractImagePullPolicy.shouldPull(AbstractImagePullPolicy.java:18)\n    at org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:65)\n    at org.testcontainers.images.RemoteDockerImage.resolve(RemoteDockerImage.java:26)\n    at org.testcontainers.utility.LazyFuture.getResolvedValue(LazyFuture.java:17)\n    at org.testcontainers.utility.LazyFuture.get(LazyFuture.java:39)\n    at org.testcontainers.containers.GenericContainer.getDockerImageName(GenericContainer.java:1280)\n    ... 22 common frames omitted\n2021-07-18;09:26:13.299;main;ERROR;o.s.b.SpringApplication;Application startup failed\n</code></pre>\n<p>I found one interesting exception line as below.</p>\n<pre><code>Caused by: org.testcontainers.containers.ContainerFetchException: Can't get Docker image: RemoteDockerImage(imageName=postgres:10.7-alpine, imagePullPolicy=DefaultPullPolicy())\n</code></pre>\n<p><strong>Update 1:</strong>\nI was running my Jenkins on kubernetes 1.21 version,</p>\n<h2 id=\"after-downgrading-the-kubernetes-version-1.19-its-working-fine\">After downgrading the kubernetes version 1.19 its working fine.</h2>\n<p>Does anyone know why it was failing on 1.21 and not on 1.19 ?</p>\n<p>Thanks\nAlpesh</p>\n"},{"tags":["java","spring","maven","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1636139651,"post_id":69854348,"comment_id":123486125,"body_markdown":"Each test configuration combination (and a few more things) uniquely will define a key for a cached application context (by default the test context framework caches 32 of them). So if you have a lot of integration tests with `@MockBean` or deducted test listeners, overridden properties it will create a new applicationcontext and add it to the cache. So yes you will have multiple instances.","body":"Each test configuration combination (and a few more things) uniquely will define a key for a cached application context (by default the test context framework caches 32 of them). So if you have a lot of integration tests with <code>@MockBean</code> or deducted test listeners, overridden properties it will create a new applicationcontext and add it to the cache. So yes you will have multiple instances."},{"owner":{"account_id":14131235,"reputation":515,"user_id":10209198,"display_name":"Manuel Waltschek"},"score":0,"creation_date":1636475320,"post_id":69854348,"comment_id":123564608,"body_markdown":"Thanks for your answer. \nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html\n\nI thought that DirtiesContext will mark the context as dirty: \n&quot; should therefore be closed and removed from the context cache. &quot;\n\nIs it a bug that it still remains within the cache?\n\nIf not: What is a sensible size for the heap for integration tests, when the context cache of the test framework can grow to up to 32 instances of the application context?","body":"Thanks for your answer.  <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>  I thought that DirtiesContext will mark the context as dirty:  &quot; should therefore be closed and removed from the context cache. &quot;  Is it a bug that it still remains within the cache?  If not: What is a sensible size for the heap for integration tests, when the context cache of the test framework can grow to up to 32 instances of the application context?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636523697,"post_id":69854348,"comment_id":123576888,"body_markdown":"What size you need depends on your needs. If you set it to 1 nothing will be cached basically, however this will impact performance of your tests. On the other hand if you use a lot of `@MOckBean` or other changes in your contexts you might have to reconsider those integration tests and write plain unit tests instead, `@DirtiesContext` refreshes the application context it doesn&#39;t remove it from the cache.","body":"What size you need depends on your needs. If you set it to 1 nothing will be cached basically, however this will impact performance of your tests. On the other hand if you use a lot of <code>@MOckBean</code> or other changes in your contexts you might have to reconsider those integration tests and write plain unit tests instead, <code>@DirtiesContext</code> refreshes the application context it doesn&#39;t remove it from the cache."}],"owner":{"account_id":14131235,"reputation":515,"user_id":10209198,"display_name":"Manuel Waltschek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636120424,"creation_date":1636120424,"question_id":69854348,"body_markdown":"Due to the fact that we are using de.flapdoodle embedded mongoDB for our integration tests with maven failsave plugin. We are getting an OutOfMemoryException when running multiple tests at once.\r\n\r\nThe heap space is limited by -Xmx256m \r\nIncreasing it to 1G for the failsave plugin eliminates (postpones) this problem.\r\n\r\nI created a heap dump with -XX:+HeapDumpOnOutOfMemoryError and analyzed it with eclipse mat. It seems that DefaultListableBeanFactory is the top consumer.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iraCX.png\r\n\r\nRunning a single test is not an issue, but it seems to accumulate over multiple test cases.\r\n\r\nSome of our integration tests are annotated with the following annotations:\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n\r\nHow do those both relate to each other?\r\nIs my assumption right that the DefaultListableBeanFactory instances are singleton instances possibly from multiple test cases and not garbage collected?\r\n\r\n","title":"Spring DefaultListableBeanFactory Memory Leak in conjunction with @DirtiesContext","body":"<p>Due to the fact that we are using de.flapdoodle embedded mongoDB for our integration tests with maven failsave plugin. We are getting an OutOfMemoryException when running multiple tests at once.</p>\n<p>The heap space is limited by -Xmx256m\nIncreasing it to 1G for the failsave plugin eliminates (postpones) this problem.</p>\n<p>I created a heap dump with -XX:+HeapDumpOnOutOfMemoryError and analyzed it with eclipse mat. It seems that DefaultListableBeanFactory is the top consumer.</p>\n<p><a href=\"https://i.stack.imgur.com/iraCX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iraCX.png\" alt=\"enter image description here\" /></a></p>\n<p>Running a single test is not an issue, but it seems to accumulate over multiple test cases.</p>\n<p>Some of our integration tests are annotated with the following annotations:</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\n</code></pre>\n<p>How do those both relate to each other?\nIs my assumption right that the DefaultListableBeanFactory instances are singleton instances possibly from multiple test cases and not garbage collected?</p>\n"},{"tags":["java","android","xml","exception","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":21466998,"reputation":57,"user_id":15816759,"display_name":"Bat BRT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636119679,"creation_date":1636110636,"answer_id":69852335,"question_id":69851188,"body_markdown":"I&#39;ve solved the problem. It was due to a undeclared `onClick` function on buttons of a layout.","title":"Exception while gradle build (Task: &#39;app:mergeDebugResources&#39;)","body":"<p>I've solved the problem. It was due to a undeclared <code>onClick</code> function on buttons of a layout.</p>\n"}],"owner":{"account_id":21466998,"reputation":57,"user_id":15816759,"display_name":"Bat BRT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69852335,"answer_count":1,"score":0,"last_activity_date":1636119679,"creation_date":1636105198,"question_id":69851188,"body_markdown":"I tried to build my project in order to test it on my AVD, and I got the exception below (:app:mergeDebugResources FAILED) and since then I get it every time I try even though I modified some elements in my XML files that weren&#39;t &quot;well written&quot;...\r\n\r\nDoes somebody know what could be the cause of this?\r\n\r\nHere is what I get:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nExecution failed for task &#39;:app:mergeDebugResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n   &gt; Resource compilation failed. Check logs for details.\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:187)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:185)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:506)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:483)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:466)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:105)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:270)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:248)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:84)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:41)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:78)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:49)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:283)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:49)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:35)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: com.android.aaptcompiler.ResourceCompilationException: Resource compilation failed. Check logs for details.\r\n\tat com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:121)\r\n\tat com.android.build.gradle.internal.res.ResourceCompilerRunnable$Companion.compileSingleResource(ResourceCompilerRunnable.kt:32)\r\n\tat com.android.build.gradle.internal.res.ResourceCompilerRunnable.run(ResourceCompilerRunnable.kt:15)\r\n\tat com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n\tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:206)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\r\n\t... 3 more\r\nCaused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[44,59]\r\nMessage: http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributePrefixUnbound?Button&amp;tools:ignore&amp;tools\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:652)\r\n\tat java.xml/com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(XMLEventReaderImpl.java:83)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:282)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\r\n\tat com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\r\n\tat com.android.aaptcompiler.XmlProcessor.process(XmlProcessor.kt:127)\r\n\tat com.android.aaptcompiler.ResourceCompiler.compileXml(ResourceCompiler.kt:267)\r\n\tat com.android.aaptcompiler.ResourceCompiler.access$compileXml(ResourceCompiler.kt:1)\r\n\tat com.android.aaptcompiler.ResourceCompiler$getCompileMethod$2.invoke(ResourceCompiler.kt:143)\r\n\tat com.android.aaptcompiler.ResourceCompiler$getCompileMethod$2.invoke(ResourceCompiler.kt:143)\r\n\tat com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:118)\r\n\t... 29 more\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Exception while gradle build (Task: &#39;app:mergeDebugResources&#39;)","body":"<p>I tried to build my project in order to test it on my AVD, and I got the exception below (:app:mergeDebugResources FAILED) and since then I get it every time I try even though I modified some elements in my XML files that weren't &quot;well written&quot;...</p>\n<p>Does somebody know what could be the cause of this?</p>\n<p>Here is what I get:</p>\n<pre><code>\nExecution failed for task ':app:mergeDebugResources'.\n> A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\n   > Resource compilation failed. Check logs for details.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeDebugResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:187)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:185)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:506)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:483)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:466)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:105)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:270)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:248)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:84)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:41)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:78)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:49)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:283)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:49)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:35)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: com.android.aaptcompiler.ResourceCompilationException: Resource compilation failed. Check logs for details.\n    at com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:121)\n    at com.android.build.gradle.internal.res.ResourceCompilerRunnable$Companion.compileSingleResource(ResourceCompilerRunnable.kt:32)\n    at com.android.build.gradle.internal.res.ResourceCompilerRunnable.run(ResourceCompilerRunnable.kt:15)\n    at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:206)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\n    ... 3 more\nCaused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[44,59]\nMessage: http://www.w3.org/TR/1999/REC-xml-names-19990114#AttributePrefixUnbound?Button&tools:ignore&tools\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:652)\n    at java.xml/com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(XMLEventReaderImpl.java:83)\n    at com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:282)\n    at com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\n    at com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\n    at com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\n    at com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\n    at com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\n    at com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\n    at com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\n    at com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\n    at com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\n    at com.android.aaptcompiler.XmlProcessor.processElement(XmlProcessor.kt:305)\n    at com.android.aaptcompiler.XmlProcessor.processElement$default(XmlProcessor.kt:198)\n    at com.android.aaptcompiler.XmlProcessor.process(XmlProcessor.kt:127)\n    at com.android.aaptcompiler.ResourceCompiler.compileXml(ResourceCompiler.kt:267)\n    at com.android.aaptcompiler.ResourceCompiler.access$compileXml(ResourceCompiler.kt:1)\n    at com.android.aaptcompiler.ResourceCompiler$getCompileMethod$2.invoke(ResourceCompiler.kt:143)\n    at com.android.aaptcompiler.ResourceCompiler$getCompileMethod$2.invoke(ResourceCompiler.kt:143)\n    at com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:118)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23239323,"reputation":16,"user_id":17328907,"display_name":"Weyrloc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636119665,"creation_date":1636037127,"answer_id":69841088,"question_id":69840604,"body_markdown":"It seems your `list` is not initialized when you call the method `ExtractMemes` so the object is null.\r\n\r\nThe method is called before the `onCreateView`\r\n\r\nTry to init it at the declaration.\r\n\r\n**Edit :**\r\n\r\nIn first case, you are initializing the fragment twice and use the method in the instance who is not send to the FragmentTransaction.\r\nHere a correct way :\r\n\r\n    case R.id.explore:\r\n            ExploreFragment exploreFragment = new ExploreFragment();\r\n            transaction.replace(R.id.framelayout, exploreFragment);\r\n            exploreFragment.ExtractMemes(getApplicationContext(), &quot;https://meme-api.herokuapp.com/gimme/30&quot;);\r\n            break;\r\n\r\nThen, in `ExtractMemes` method, you are using `list` who is initialized in `OnCreatView`.\r\n\r\nBut, the createView is called after the `transaction.commit()`.\r\nYou have to init `list` at the declaration or at the creation of the Fragment.","title":"when i use a method in other class it returns a nullpointerexception","body":"<p>It seems your <code>list</code> is not initialized when you call the method <code>ExtractMemes</code> so the object is null.</p>\n<p>The method is called before the <code>onCreateView</code></p>\n<p>Try to init it at the declaration.</p>\n<p><strong>Edit :</strong></p>\n<p>In first case, you are initializing the fragment twice and use the method in the instance who is not send to the FragmentTransaction.\nHere a correct way :</p>\n<pre><code>case R.id.explore:\n        ExploreFragment exploreFragment = new ExploreFragment();\n        transaction.replace(R.id.framelayout, exploreFragment);\n        exploreFragment.ExtractMemes(getApplicationContext(), &quot;https://meme-api.herokuapp.com/gimme/30&quot;);\n        break;\n</code></pre>\n<p>Then, in <code>ExtractMemes</code> method, you are using <code>list</code> who is initialized in <code>OnCreatView</code>.</p>\n<p>But, the createView is called after the <code>transaction.commit()</code>.\nYou have to init <code>list</code> at the declaration or at the creation of the Fragment.</p>\n"}],"owner":{"account_id":22305461,"reputation":1,"user_id":16530191,"display_name":"Jeet Saluja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636037274,"answer_count":1,"score":0,"last_activity_date":1636119665,"creation_date":1636035104,"question_id":69840604,"body_markdown":"Ok, so im currently working on a app that gives memes, its a project for my own learning but im really stuck at one point from 4 days and this error is just a small part of it... so now i have created a method in afragment called Explore Fragment and i have created a switch in mainactivity which changes the fragment when a particular button in bottom navigation is clicked, so there i call this method when the user clicks on explore tab, but when i click on explore tab the app crashes and returns 2 errors. errors are - \r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.util.ArrayList.add(java.lang.Object)&#39; on a null object reference\r\n        at com.example.memeit.ExploreFragment$2.onResponse(ExploreFragment.java:148)\r\n        at com.example.memeit.ExploreFragment$2.onResponse(ExploreFragment.java:136)\r\n\r\nline 148 -  list.add(class_object);\r\n\r\nline 136 - JsonObjectRequest response = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() \r\n\r\nplease help\r\n\r\n   Main Activity - \r\n\r\n\r\n    package com.example.memeit;\r\n    \r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.view.MenuItem;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import androidx.fragment.app.FragmentManager;\r\n    import androidx.fragment.app.FragmentTransaction;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.android.volley.Request;\r\n    import com.android.volley.RequestQueue;\r\n    import com.android.volley.Response;\r\n    import com.android.volley.VolleyError;\r\n    import com.android.volley.toolbox.JsonObjectRequest;\r\n    import com.android.volley.toolbox.Volley;\r\n    import com.google.android.material.bottomnavigation.BottomNavigationView;\r\n    import com.google.android.material.navigation.NavigationBarView;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        BottomNavigationView bottomnavigation;\r\n        Toolbar toolbar;\r\n        FragmentTransaction transaction;\r\n        ArrayList&lt;exploreclass&gt; list;\r\n        public RecyclerView rcv1_explore;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            setSupportActionBar(toolbar);\r\n    \r\n            transaction = getSupportFragmentManager().beginTransaction();\r\n            transaction.replace(R.id.framelayout, new HomeFragment());\r\n            transaction.commit();\r\n            toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            bottomnavigation = (BottomNavigationView) findViewById(R.id.bottom_navigation);\r\n            rcv1_explore =(RecyclerView) findViewById(R.id.rcv_explore);\r\n            list = new ArrayList&lt;&gt;();\r\n    \r\n            bottomnavigation.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@org.jetbrains.annotations.NotNull MenuItem item) {\r\n                    FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n    \r\n                    switch (item.getItemId())\r\n                    {\r\n                        case R.id.home :\r\n                            transaction.replace(R.id.framelayout, new HomeFragment());\r\n                            break;\r\n    \r\n                        case R.id.explore:\r\n                            transaction.replace(R.id.framelayout, new ExploreFragment());\r\n                            ExploreFragment exploreFragment = new ExploreFragment();\r\n                            exploreFragment.ExtractMemes(getApplicationContext(), &quot;https://meme-api.herokuapp.com/gimme/30&quot;);\r\n                            break;\r\n    \r\n                        case R.id.saved:\r\n                            transaction.replace(R.id.framelayout, new SavedFragment());\r\n                            break;\r\n    \r\n                        case R.id.settings:\r\n                            transaction.replace(R.id.framelayout, new SettingsFragment());\r\n                            break;\r\n                    }\r\n                    transaction.commit();\r\n    \r\n                    return true;\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nExplore Fragment - \r\n\r\n    package com.example.memeit;\r\n    \r\n    import static com.android.volley.VolleyLog.TAG;\r\n    \r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentManager;\r\n    import androidx.fragment.app.FragmentTransaction;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.AbsListView;\r\n    import android.widget.Adapter;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.android.volley.Request;\r\n    import com.android.volley.RequestQueue;\r\n    import com.android.volley.Response;\r\n    import com.android.volley.VolleyError;\r\n    import com.android.volley.toolbox.JsonObjectRequest;\r\n    import com.android.volley.toolbox.Volley;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * A simple {@link Fragment} subclass.\r\n     * Use the {@link ExploreFragment#newInstance} factory method to\r\n     * create an instance of this fragment.\r\n     */\r\n    public class ExploreFragment extends Fragment {\r\n    \r\n        // TODO: Rename parameter arguments, choose names that match\r\n        // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n        private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n        private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n    \r\n        // TODO: Rename and change types of parameters\r\n        private String mParam1;\r\n        private String mParam2;\r\n        public String BASEURL = &quot;https://meme-api.herokuapp.com/gimme/30&quot;;\r\n        public TextView tv1_likes;\r\n        public RecyclerView rcv1_explore;\r\n        public Context context;\r\n        public ArrayList&lt;exploreclass&gt; list;\r\n        public boolean isScrolling = false;\r\n        public int currentItems, totalItems, scrolledOutItems;\r\n        public LinearLayoutManager manager;\r\n        public explore_adapter adapter;\r\n    \r\n        public ExploreFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        /**\r\n         * Use this factory method to create a new instance of\r\n         * this fragment using the provided parameters.\r\n         *\r\n         * @param param1 Parameter 1.\r\n         * @param param2 Parameter 2.\r\n         * @return A new instance of fragment ExploreFragment.\r\n         */\r\n        // TODO: Rename and change types and number of parameters\r\n        public static ExploreFragment newInstance(String param1, String param2) {\r\n            ExploreFragment fragment = new ExploreFragment();\r\n            Bundle args = new Bundle();\r\n            args.putString(ARG_PARAM1, param1);\r\n            args.putString(ARG_PARAM2, param2);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getArguments() != null) {\r\n                mParam1 = getArguments().getString(ARG_PARAM1);\r\n                mParam2 = getArguments().getString(ARG_PARAM2);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_explore, container, false);\r\n            tv1_likes =(TextView) view.findViewById(R.id.tv1_explore);\r\n            list = new ArrayList&lt;&gt;();\r\n            rcv1_explore =(RecyclerView) view.findViewById(R.id.rcv_explore);\r\n            rcv1_explore.setHasFixedSize(true);\r\n    \r\n            rcv1_explore.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                @Override\r\n                public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\r\n                    super.onScrollStateChanged(recyclerView, newState);\r\n                    if(newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\r\n                        isScrolling = true;\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                    super.onScrolled(recyclerView, dx, dy);\r\n    \r\n                    totalItems = manager.getItemCount();\r\n                    currentItems = manager.getChildCount();\r\n                    scrolledOutItems = manager.findFirstVisibleItemPosition();\r\n    \r\n    \r\n                    if(isScrolling &amp;&amp; (totalItems == currentItems + scrolledOutItems)) {\r\n                        isScrolling = false;\r\n                        fetchMoreData();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            return view;\r\n        }\r\n    \r\n    \r\n        public void ExtractMemes(Context context, String url) {\r\n            RequestQueue queue = Volley.newRequestQueue(context);\r\n            JsonObjectRequest response = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n                @Override\r\n                public void onResponse(JSONObject response) {\r\n                    try {\r\n                        JSONArray memes_array = response.getJSONArray(&quot;memes&quot;);\r\n                        for(int i=0; i&lt;memes_array.length(); i++) {\r\n                            JSONObject memes_object = memes_array.getJSONObject(i);\r\n    \r\n                            exploreclass class_object = new exploreclass();\r\n                            class_object.setUps(memes_object.getInt(&quot;ups&quot;));\r\n                            class_object.setUrl(memes_object.getString(&quot;url&quot;));\r\n                            class_object.setPostLink(memes_object.getString(&quot;postLink&quot;));\r\n                            list.add(class_object);\r\n                        }\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    LinearLayoutManager manager = new LinearLayoutManager(getContext());\r\n                    explore_adapter adapter = new explore_adapter(list, getContext());\r\n                    rcv1_explore.setLayoutManager(manager);\r\n                    rcv1_explore.setAdapter(adapter);\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(getContext(), error.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            queue.add(response);\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        private void fetchMoreData() {\r\n    \r\n            RequestQueue queue = Volley.newRequestQueue(getContext());\r\n            JsonObjectRequest response = new JsonObjectRequest(Request.Method.GET, BASEURL, null, new Response.Listener&lt;JSONObject&gt;() {\r\n                @Override\r\n                public void onResponse(JSONObject response) {\r\n    \r\n                    try {\r\n                        JSONArray memes_array = response.getJSONArray(&quot;memes&quot;);\r\n                        for(int i=0; i&lt;memes_array.length(); i++) {\r\n                            JSONObject memes_object = memes_array.getJSONObject(i);\r\n    \r\n                            exploreclass class_object = new exploreclass();\r\n                            class_object.setUps(memes_object.getInt(&quot;ups&quot;));\r\n                            class_object.setUrl(memes_object.getString(&quot;url&quot;));\r\n                            class_object.setPostLink(memes_object.getString(&quot;postLink&quot;));\r\n                            list.add(class_object);\r\n                            adapter.notifyDataSetChanged();\r\n                            Toast.makeText(getContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(getContext(), error.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            queue.add(response);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"when i use a method in other class it returns a nullpointerexception","body":"<p>Ok, so im currently working on a app that gives memes, its a project for my own learning but im really stuck at one point from 4 days and this error is just a small part of it... so now i have created a method in afragment called Explore Fragment and i have created a switch in mainactivity which changes the fragment when a particular button in bottom navigation is clicked, so there i call this method when the user clicks on explore tab, but when i click on explore tab the app crashes and returns 2 errors. errors are -</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.util.ArrayList.add(java.lang.Object)' on a null object reference\nat com.example.memeit.ExploreFragment$2.onResponse(ExploreFragment.java:148)\nat com.example.memeit.ExploreFragment$2.onResponse(ExploreFragment.java:136)</p>\n<p>line 148 -  list.add(class_object);</p>\n<p>line 136 - JsonObjectRequest response = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener()</p>\n<p>please help</p>\n<p>Main Activity -</p>\n<pre><code>package com.example.memeit;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationBarView;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    BottomNavigationView bottomnavigation;\n    Toolbar toolbar;\n    FragmentTransaction transaction;\n    ArrayList&lt;exploreclass&gt; list;\n    public RecyclerView rcv1_explore;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        setSupportActionBar(toolbar);\n\n        transaction = getSupportFragmentManager().beginTransaction();\n        transaction.replace(R.id.framelayout, new HomeFragment());\n        transaction.commit();\n        toolbar = (Toolbar) findViewById(R.id.toolbar);\n        bottomnavigation = (BottomNavigationView) findViewById(R.id.bottom_navigation);\n        rcv1_explore =(RecyclerView) findViewById(R.id.rcv_explore);\n        list = new ArrayList&lt;&gt;();\n\n        bottomnavigation.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@org.jetbrains.annotations.NotNull MenuItem item) {\n                FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n\n                switch (item.getItemId())\n                {\n                    case R.id.home :\n                        transaction.replace(R.id.framelayout, new HomeFragment());\n                        break;\n\n                    case R.id.explore:\n                        transaction.replace(R.id.framelayout, new ExploreFragment());\n                        ExploreFragment exploreFragment = new ExploreFragment();\n                        exploreFragment.ExtractMemes(getApplicationContext(), &quot;https://meme-api.herokuapp.com/gimme/30&quot;);\n                        break;\n\n                    case R.id.saved:\n                        transaction.replace(R.id.framelayout, new SavedFragment());\n                        break;\n\n                    case R.id.settings:\n                        transaction.replace(R.id.framelayout, new SettingsFragment());\n                        break;\n                }\n                transaction.commit();\n\n                return true;\n            }\n        });\n\n    }\n\n}\n</code></pre>\n<p>Explore Fragment -</p>\n<pre><code>package com.example.memeit;\n\nimport static com.android.volley.VolleyLog.TAG;\n\nimport android.content.Context;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AbsListView;\nimport android.widget.Adapter;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link ExploreFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class ExploreFragment extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n    public String BASEURL = &quot;https://meme-api.herokuapp.com/gimme/30&quot;;\n    public TextView tv1_likes;\n    public RecyclerView rcv1_explore;\n    public Context context;\n    public ArrayList&lt;exploreclass&gt; list;\n    public boolean isScrolling = false;\n    public int currentItems, totalItems, scrolledOutItems;\n    public LinearLayoutManager manager;\n    public explore_adapter adapter;\n\n    public ExploreFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment ExploreFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static ExploreFragment newInstance(String param1, String param2) {\n        ExploreFragment fragment = new ExploreFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_explore, container, false);\n        tv1_likes =(TextView) view.findViewById(R.id.tv1_explore);\n        list = new ArrayList&lt;&gt;();\n        rcv1_explore =(RecyclerView) view.findViewById(R.id.rcv_explore);\n        rcv1_explore.setHasFixedSize(true);\n\n        rcv1_explore.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @Override\n            public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\n                super.onScrollStateChanged(recyclerView, newState);\n                if(newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\n                    isScrolling = true;\n                }\n            }\n\n            @Override\n            public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n                super.onScrolled(recyclerView, dx, dy);\n\n                totalItems = manager.getItemCount();\n                currentItems = manager.getChildCount();\n                scrolledOutItems = manager.findFirstVisibleItemPosition();\n\n\n                if(isScrolling &amp;&amp; (totalItems == currentItems + scrolledOutItems)) {\n                    isScrolling = false;\n                    fetchMoreData();\n                }\n            }\n        });\n\n        return view;\n    }\n\n\n    public void ExtractMemes(Context context, String url) {\n        RequestQueue queue = Volley.newRequestQueue(context);\n        JsonObjectRequest response = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                try {\n                    JSONArray memes_array = response.getJSONArray(&quot;memes&quot;);\n                    for(int i=0; i&lt;memes_array.length(); i++) {\n                        JSONObject memes_object = memes_array.getJSONObject(i);\n\n                        exploreclass class_object = new exploreclass();\n                        class_object.setUps(memes_object.getInt(&quot;ups&quot;));\n                        class_object.setUrl(memes_object.getString(&quot;url&quot;));\n                        class_object.setPostLink(memes_object.getString(&quot;postLink&quot;));\n                        list.add(class_object);\n                    }\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n                LinearLayoutManager manager = new LinearLayoutManager(getContext());\n                explore_adapter adapter = new explore_adapter(list, getContext());\n                rcv1_explore.setLayoutManager(manager);\n                rcv1_explore.setAdapter(adapter);\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getContext(), error.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        queue.add(response);\n\n    }\n\n\n\n    private void fetchMoreData() {\n\n        RequestQueue queue = Volley.newRequestQueue(getContext());\n        JsonObjectRequest response = new JsonObjectRequest(Request.Method.GET, BASEURL, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n\n                try {\n                    JSONArray memes_array = response.getJSONArray(&quot;memes&quot;);\n                    for(int i=0; i&lt;memes_array.length(); i++) {\n                        JSONObject memes_object = memes_array.getJSONObject(i);\n\n                        exploreclass class_object = new exploreclass();\n                        class_object.setUps(memes_object.getInt(&quot;ups&quot;));\n                        class_object.setUrl(memes_object.getString(&quot;url&quot;));\n                        class_object.setPostLink(memes_object.getString(&quot;postLink&quot;));\n                        list.add(class_object);\n                        adapter.notifyDataSetChanged();\n                        Toast.makeText(getContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getContext(), error.getLocalizedMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        queue.add(response);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-manifest"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1605338868,"post_id":64831728,"comment_id":114624723,"body_markdown":"So you do have a file `values/xml/backup_descriptor.xml`?","body":"So you do have a file <code>values&#47;xml&#47;backup_descriptor.xml</code>?"},{"owner":{"account_id":19923882,"reputation":31,"user_id":14599069,"display_name":"Binni G."},"score":0,"creation_date":1605339532,"post_id":64831728,"comment_id":114624817,"body_markdown":"no I have cloned this file from Github","body":"no I have cloned this file from Github"}],"answers":[{"tags":[],"owner":{"account_id":18896918,"reputation":118,"user_id":13785879,"display_name":"Ali Najafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605338495,"creation_date":1605338495,"answer_id":64831749,"question_id":64831728,"body_markdown":" in Android Studio , try This\r\n\r\n    File &gt; Invalidate Caches/Restart","title":"Having Error in Android Manifest while building","body":"<p>in Android Studio , try This</p>\n<pre><code>File &gt; Invalidate Caches/Restart\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6426437,"reputation":843,"user_id":4981406,"display_name":"sajjad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605350773,"creation_date":1605350773,"answer_id":64833043,"question_id":64831728,"body_markdown":"Remove the line `android:fullBackupContent=&quot;@xml/backup_descriptor&quot;` in your application tag in `manifest` file, or add the needed `xml` file to your project.\r\n\r\n    &lt;application\r\n        android:fullBackupContent=&quot;@xml/backup_descriptor&quot;&gt;\r\n        ...\r\n    &lt;/application&gt;","title":"Having Error in Android Manifest while building","body":"<p>Remove the line <code>android:fullBackupContent=&quot;@xml/backup_descriptor&quot;</code> in your application tag in <code>manifest</code> file, or add the needed <code>xml</code> file to your project.</p>\n<pre><code>&lt;application\n    android:fullBackupContent=&quot;@xml/backup_descriptor&quot;&gt;\n    ...\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19751658,"reputation":1,"user_id":16835722,"display_name":"Diogo Jos&#233; Silva Ribeiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630851101,"creation_date":1630851101,"answer_id":69064154,"question_id":64831728,"body_markdown":"Only remove \r\n\r\n    &lt;meta-data\r\n     android:name=&quot;preloaded_fonts&quot;\r\n     android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n\r\n","title":"Having Error in Android Manifest while building","body":"<p>Only remove</p>\n<pre><code>&lt;meta-data\n android:name=&quot;preloaded_fonts&quot;\n android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7582389,"reputation":385,"user_id":5752702,"accept_rate":48,"display_name":"Hossain Ehsani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636119601,"creation_date":1636119601,"answer_id":69854191,"question_id":64831728,"body_markdown":"looks like if you have clone the project that uses shared preferences, this error wont go away by simply deleting \r\n\r\n     android:fullBackupContent=&quot;@xml/backup_descriptor\r\n\r\n  \r\nIn order to solve this problem, create a  new resource directory of type xml in res folder. \r\nInside this folder create a a file named : &quot;backup_descriptor&quot; \r\nand copy this tag into it : \r\n\r\n    &lt;full-backup-content&gt;\r\n    &lt;/full-backup-content&gt;\r\n","title":"Having Error in Android Manifest while building","body":"<p>looks like if you have clone the project that uses shared preferences, this error wont go away by simply deleting</p>\n<pre><code> android:fullBackupContent=&quot;@xml/backup_descriptor\n</code></pre>\n<p>In order to solve this problem, create a  new resource directory of type xml in res folder.\nInside this folder create a a file named : &quot;backup_descriptor&quot;\nand copy this tag into it :</p>\n<pre><code>&lt;full-backup-content&gt;\n&lt;/full-backup-content&gt;\n</code></pre>\n"}],"owner":{"account_id":19923882,"reputation":31,"user_id":14599069,"display_name":"Binni G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9031,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1636119601,"creation_date":1605338184,"question_id":64831728,"body_markdown":"Execution failed for task &#39;:app:processDebugResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; Android resource linking failed\r\n     C:\\Users\\kcs\\AndroidStudioProjects\\OURVEDIC\\app\\build\\intermediates\\packaged_manifests\\debug\\AndroidManifest.xml:11: AAPT: error: resource xml/backup_descriptor (aka com.binni.ourvedic:xml/backup_descriptor) not found.\r\n\r\nThis is the error I am having \r\n\r\n\r\n\r\n\r\nmy code :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.binni.ourvedic&quot;&gt;\r\n\r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.OURVEDIC&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_descriptor&quot;&gt;\r\n            &lt;activity android:name=&quot;.SplashScreen&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n\r\n            &lt;/activity&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;preloaded_fonts&quot;\r\n                android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n        &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Having Error in Android Manifest while building","body":"<p>Execution failed for task ':app:processDebugResources'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nAndroid resource linking failed\nC:\\Users\\kcs\\AndroidStudioProjects\\OURVEDIC\\app\\build\\intermediates\\packaged_manifests\\debug\\AndroidManifest.xml:11: AAPT: error: resource xml/backup_descriptor (aka com.binni.ourvedic:xml/backup_descriptor) not found.</p>\n</blockquote>\n<p>This is the error I am having</p>\n<p>my code :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.binni.ourvedic\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.OURVEDIC\"\n        android:fullBackupContent=\"@xml/backup_descriptor\"&gt;\n        &lt;activity android:name=\".SplashScreen\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=\"preloaded_fonts\"\n            android:resource=\"@array/preloaded_fonts\" /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android-layout","listview"],"owner":{"account_id":20721797,"reputation":251,"user_id":15216027,"display_name":"KCYrgn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636119454,"creation_date":1636119454,"question_id":69854155,"body_markdown":"I want to be able to add multiple values on a list but properly style the list view.\r\n\r\nFor example right now the list view will look like this:\r\n**namepostcodedate**\r\nwhich is because of the following code\r\n`ListArray.add(jobs.get(finalJ).customer.getName() + job.getPostcode() +  job.getDate());`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F0EyP.jpg\r\n\r\nThe way that I am currently adding the values in the `ListArray` doesn&#39;t seem ideal but I am not sure if there is another way to do this and display the list formated?\r\n\r\nThis is my `list_item` file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:padding=&quot;5dip&quot;&gt;\r\n    \r\n    &lt;TableLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        &gt;\r\n\r\n        &lt;TableRow\r\n            android:id=&quot;@+id/rows2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/ddOrangeLight&quot;\r\n            android:showDividers=&quot;middle&quot;&gt;\r\n&lt;!--            android:divider=&quot;?android:attr/dividerHorizontal&quot;--&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/customerNameView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginStart=&quot;4sp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;4sp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/TableRow&gt;\r\n    &lt;/TableLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\nMy adapter class\r\n```\r\npublic class SearchableAdapter extends BaseAdapter implements Filterable {\r\n\r\n    private List&lt;String&gt;originalData = null;\r\n    private List&lt;String&gt;filteredData = null;\r\n    private final LayoutInflater mInflater;\r\n    private final ItemFilter mFilter = new ItemFilter();\r\n\r\n    public SearchableAdapter(Context context, List&lt;String&gt; data) {\r\n        this.filteredData = data ;\r\n        this.originalData = data ;\r\n        mInflater = LayoutInflater.from(context);\r\n    }\r\n\r\n    public int getCount() {\r\n        return filteredData.size();\r\n    }\r\n\r\n    public Object getItem(int position) {\r\n        return filteredData.get(position);\r\n    }\r\n\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        // A ViewHolder keeps references to children views to avoid unnecessary calls\r\n        // to findViewById() on each row.\r\n        ViewHolder holder;\r\n\r\n        // When convertView is not null, we can reuse it directly, there is no need\r\n        // to reinflate it. We only inflate a new View when the convertView supplied\r\n        // by ListView is null.\r\n        if (convertView == null) {\r\n            convertView = mInflater.inflate(R.layout.list_item, null);\r\n\r\n            // Creates a ViewHolder and store references to the two children views\r\n            // we want to bind data to.\r\n            holder = new ViewHolder();\r\n            holder.uName = (TextView) convertView.findViewById(R.id.customerNameView);\r\n//            holder.uPostCode = (TextView) convertView.findViewById(R.id.postCode);\r\n//            holder.UDateTime = (TextView) convertView.findViewById(R.id.dateTimeView);\r\n\r\n            // Bind the data efficiently with the holder.\r\n\r\n            convertView.setTag(holder);\r\n        } else {\r\n            // Get the ViewHolder back to get fast access to the TextView\r\n            // and the ImageView.\r\n            holder = (ViewHolder) convertView.getTag();\r\n        }\r\n\r\n        // If weren&#39;t re-ordering this you could rely on what you set last time\r\n//        holder.text.setText(filteredData.get(position));\r\n\r\n        holder.uName.setText(filteredData.get(position));\r\n//        holder.uPostCode.setText(filteredData.get(position));\r\n//        holder.UDateTime.setText(filteredData.get(position));\r\n\r\n        return convertView;\r\n    }\r\n\r\n    static class ViewHolder {\r\n        TextView uName;\r\n//        TextView uPostCode;\r\n//        TextView UDateTime;\r\n    }\r\n\r\n    public Filter getFilter() {\r\n        return mFilter;\r\n    }\r\n\r\n    private class ItemFilter extends Filter {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n\r\n            String filterString = constraint.toString().toLowerCase();\r\n\r\n            FilterResults results = new FilterResults();\r\n\r\n            final List&lt;String&gt; list = originalData;\r\n\r\n            int count = list.size();\r\n            final ArrayList&lt;String&gt; nlist = new ArrayList&lt;String&gt;(count);\r\n\r\n            String filterableString ;\r\n\r\n            for (int i = 0; i &lt; count; i++) {\r\n                filterableString = list.get(i);\r\n                if (filterableString.toLowerCase().contains(filterString)) {\r\n                    nlist.add(filterableString);\r\n                }\r\n            }\r\n\r\n            results.values = nlist;\r\n            results.count = nlist.size();\r\n\r\n            return results;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            filteredData = (ArrayList&lt;String&gt;) results.values;\r\n            notifyDataSetChanged();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nFragment class\r\n```\r\npublic class CompletedJobsFragment extends Fragment {\r\n    AppActivity a;\r\n\r\n    String search;\r\n    TableLayout tableLayout;\r\n    Vehicle vehicle;\r\n\r\n    ListView listView;\r\n    SearchableAdapter arrayAdapter;\r\n    EditText searchInput;\r\n    List&lt;String&gt; ListArray = new ArrayList&lt;String&gt;();\r\n\r\n    ArrayList&lt;ListItem&gt; results = new ArrayList&lt;&gt;();\r\n    ListItem repairDetails = new ListItem();\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v= inflater.inflate(R.layout.fragment_completed_jobs,container,false);\r\n\r\n        a = (AppActivity) getActivity();\r\n        assert a != null;\r\n\r\n        tableLayout = (TableLayout) v.findViewById(R.id.completedJobsTable);\r\n\r\n        Button clear = v.findViewById(R.id.btnClearTextCarReg);\r\n\r\n        searchInput = v.findViewById(R.id.txtEditSearchCarReg);\r\n        listView = v.findViewById(R.id.list__View);\r\n        search = searchInput.getText().toString().trim();\r\n        clear.setOnClickListener(av -&gt; searchInput.setText(&quot;&quot;));\r\n//        Button searchButton = v.findViewById(R.id.btnSearchVehicleReg);\r\n        arrayAdapter = new SearchableAdapter(getContext(),ListArray);\r\n        listView.setAdapter(arrayAdapter);\r\n        listView.setClickable(true);\r\n        searchInput.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                arrayAdapter.getFilter().filter(s);\r\n            }\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n            }\r\n        });\r\n\r\n        JobRepository jobRepository = new JobRepository(a.getApplication());\r\n        VehicleRepository vehicleRepository = new VehicleRepository(a.getApplication());\r\n        jobRepository.findCompleted().observe(getViewLifecycleOwner(), jobs -&gt; {\r\n            for (int j = 0; j &lt; jobs.size(); j++) {\r\n                if (jobs.get(j).job == null) {\r\n                    continue;\r\n                }\r\n                int finalJ = j;\r\n                vehicleRepository.findByJob(jobs.get(j).job.getUuid()).observe(getViewLifecycleOwner(), vehicles -&gt; {\r\n\r\n                    for (int vh = 0; vh &lt; vehicles.size(); vh++) {\r\n                        if (vehicles.get(vh).vehicle == null) {\r\n                            continue;\r\n                        }\r\n                        vehicle = vehicles.get(vh).vehicle;\r\n                        Job job = jobs.get(finalJ).job;\r\n\r\n                        ListArray.add(jobs.get(finalJ).customer.getName() + job.getPostcode() +  job.getDate());\r\n\r\n                        View viewToAdd = arrayAdapter.getView(finalJ, null, null);\r\n                        TableRow[] tableRows = new TableRow[jobs.size()];\r\n                        tableRows[finalJ] = new TableRow(a);\r\n                        tableRows[finalJ].setId(finalJ + 1);\r\n                        tableRows[finalJ].setPadding(0, 20, 0, 20);\r\n                        tableRows[finalJ].setBackgroundResource(android.R.drawable.list_selector_background);\r\n                        tableRows[finalJ].setBackgroundResource(R.drawable.table_outline);\r\n                        tableRows[finalJ].setLayoutParams(new TableRow.LayoutParams(\r\n                                TableRow.LayoutParams.MATCH_PARENT,\r\n                                TableRow.LayoutParams.WRAP_CONTENT\r\n                        ));\r\n                        tableRows[finalJ].addView(viewToAdd);\r\n\r\n                        tableLayout.addView(tableRows[finalJ], new TableLayout.LayoutParams(\r\n                                TableLayout.LayoutParams.MATCH_PARENT,\r\n                                TableLayout.LayoutParams.WRAP_CONTENT\r\n                        ));\r\n\r\n                        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                                // When clicked, show a toast with the TextView text or do whatever you need.\r\n//                                Toast.makeText(getContext(), &quot;asd&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                Bundle bundle = new Bundle();\r\n                                bundle.putString(JOB_ID, job.getUuid().toString());\r\n                                bundle.putString(CUSTOMER_NAME, jobs.get(finalJ).customer.getName());\r\n                                // bundle.putString(JOB_DATE, sdf.format(job.getDate()));\r\n\r\n                                Fragment fragment = new ViewCustomerInformationFragment();\r\n\r\n                                fragment.setArguments(bundle);\r\n                                FragmentTransaction transaction = requireActivity().getSupportFragmentManager().beginTransaction();\r\n                                transaction.replace(R.id.fragment_container, fragment);\r\n                                transaction.addToBackStack(null);\r\n\r\n                                // Commit the transaction\r\n                                transaction.commit();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        return v;\r\n    }\r\n```\r\n\r\nFragment xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/imageViewBGhm&quot;\r\n    android:scaleType=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtTitle2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;80dp&quot;\r\n        android:layout_marginEnd=&quot;180dp&quot;\r\n        android:text=&quot;@string/completed_jobs&quot;\r\n        android:textColor=&quot;@color/ddGrey&quot;\r\n        android:textSize=&quot;28sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.375&quot;\r\n        app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/txtEditSearchCarReg&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/txtTitle2&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:ems=&quot;12&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:paddingStart=&quot;5dp&quot;\r\n        android:paddingEnd=&quot;10dp&quot;\r\n        android:paddingBottom=&quot;22dp&quot;\r\n        android:textAlignment=&quot;textStart&quot;\r\n        android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n    &lt;TableRow\r\n        android:id=&quot;@+id/tableTitleRow&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/txtEditSearchCarReg&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;6dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;6dp&quot;\r\n        android:background=&quot;@color/lightGrey&quot;\r\n        android:divider=&quot;?android:attr/dividerHorizontal&quot;\r\n        android:showDividers=&quot;middle&quot;\r\n        android:visibility=&quot;visible&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtCustomerNameTitle&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginStart=&quot;4sp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginEnd=&quot;4sp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/customer_name_hc&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtPostcodeTitle&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/postcode_placeholder&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtDateTitle&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/date&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtTimeTitle&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginEnd=&quot;20sp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/enquiry_vat_value&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;/TableRow&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list__View&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:layout_below=&quot;@id/tableTitleRow&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;TableLayout\r\n        android:id=&quot;@+id/completedJobsTable&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/txtEditSearchCarReg&quot;\r\n        android:layout_marginStart=&quot;2dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;2dp&quot;\r\n        android:layout_marginBottom=&quot;2dp&quot;\r\n        android:stretchColumns=&quot;0,1,2&quot;\r\n        android:visibility=&quot;gone&quot;&gt;\r\n    &lt;/TableLayout&gt;\r\n\r\n    &lt;Button\r\n            android:id=&quot;@+id/btnClearTextCarReg&quot;\r\n            android:layout_width=&quot;22dp&quot;\r\n            android:layout_height=&quot;22dp&quot;\r\n            android:layout_alignTop=&quot;@+id/txtEditSearchCarReg&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;175dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginEnd=&quot;20dp&quot;\r\n            android:background=&quot;@drawable/ic_outline_cancel_24&quot;\r\n            android:backgroundTint=&quot;@color/ddOrange&quot;\r\n            android:clickable=&quot;true&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:foreground=&quot;?android:attr/selectableItemBackground&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnSearchVehicleReg&quot;\r\n        style=&quot;@style/DDButtons&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_below=&quot;@+id/txtEditSearchCarReg&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;14dp&quot;\r\n        android:background=&quot;@drawable/custom_buttons&quot;\r\n        android:drawableStart=&quot;@drawable/ic_outline_search_24&quot;\r\n        android:drawablePadding=&quot;12dp&quot;\r\n        android:letterSpacing=&quot;0.2&quot;\r\n        android:paddingLeft=&quot;16dp&quot;\r\n        android:paddingRight=&quot;16dp&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        android:text=&quot;@string/search_postcode&quot;\r\n        android:textAlignment=&quot;textStart&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:visibility=&quot;gone&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```","title":"How to add multiple values inside 1 list view and style it approriatle","body":"<p>I want to be able to add multiple values on a list but properly style the list view.</p>\n<p>For example right now the list view will look like this:\n<strong>namepostcodedate</strong>\nwhich is because of the following code\n<code>ListArray.add(jobs.get(finalJ).customer.getName() + job.getPostcode() +  job.getDate());</code></p>\n<p><a href=\"https://i.stack.imgur.com/F0EyP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F0EyP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The way that I am currently adding the values in the <code>ListArray</code> doesn't seem ideal but I am not sure if there is another way to do this and display the list formated?</p>\n<p>This is my <code>list_item</code> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:padding=&quot;5dip&quot;&gt;\n    \n    &lt;TableLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        &gt;\n\n        &lt;TableRow\n            android:id=&quot;@+id/rows2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/ddOrangeLight&quot;\n            android:showDividers=&quot;middle&quot;&gt;\n&lt;!--            android:divider=&quot;?android:attr/dividerHorizontal&quot;--&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/customerNameView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginStart=&quot;4sp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginEnd=&quot;4sp&quot;\n                android:layout_marginBottom=&quot;10dp&quot;\n                android:gravity=&quot;center&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;18sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n        &lt;/TableRow&gt;\n    &lt;/TableLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>My adapter class</p>\n<pre><code>public class SearchableAdapter extends BaseAdapter implements Filterable {\n\n    private List&lt;String&gt;originalData = null;\n    private List&lt;String&gt;filteredData = null;\n    private final LayoutInflater mInflater;\n    private final ItemFilter mFilter = new ItemFilter();\n\n    public SearchableAdapter(Context context, List&lt;String&gt; data) {\n        this.filteredData = data ;\n        this.originalData = data ;\n        mInflater = LayoutInflater.from(context);\n    }\n\n    public int getCount() {\n        return filteredData.size();\n    }\n\n    public Object getItem(int position) {\n        return filteredData.get(position);\n    }\n\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public View getView(int position, View convertView, ViewGroup parent) {\n        // A ViewHolder keeps references to children views to avoid unnecessary calls\n        // to findViewById() on each row.\n        ViewHolder holder;\n\n        // When convertView is not null, we can reuse it directly, there is no need\n        // to reinflate it. We only inflate a new View when the convertView supplied\n        // by ListView is null.\n        if (convertView == null) {\n            convertView = mInflater.inflate(R.layout.list_item, null);\n\n            // Creates a ViewHolder and store references to the two children views\n            // we want to bind data to.\n            holder = new ViewHolder();\n            holder.uName = (TextView) convertView.findViewById(R.id.customerNameView);\n//            holder.uPostCode = (TextView) convertView.findViewById(R.id.postCode);\n//            holder.UDateTime = (TextView) convertView.findViewById(R.id.dateTimeView);\n\n            // Bind the data efficiently with the holder.\n\n            convertView.setTag(holder);\n        } else {\n            // Get the ViewHolder back to get fast access to the TextView\n            // and the ImageView.\n            holder = (ViewHolder) convertView.getTag();\n        }\n\n        // If weren't re-ordering this you could rely on what you set last time\n//        holder.text.setText(filteredData.get(position));\n\n        holder.uName.setText(filteredData.get(position));\n//        holder.uPostCode.setText(filteredData.get(position));\n//        holder.UDateTime.setText(filteredData.get(position));\n\n        return convertView;\n    }\n\n    static class ViewHolder {\n        TextView uName;\n//        TextView uPostCode;\n//        TextView UDateTime;\n    }\n\n    public Filter getFilter() {\n        return mFilter;\n    }\n\n    private class ItemFilter extends Filter {\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n\n            String filterString = constraint.toString().toLowerCase();\n\n            FilterResults results = new FilterResults();\n\n            final List&lt;String&gt; list = originalData;\n\n            int count = list.size();\n            final ArrayList&lt;String&gt; nlist = new ArrayList&lt;String&gt;(count);\n\n            String filterableString ;\n\n            for (int i = 0; i &lt; count; i++) {\n                filterableString = list.get(i);\n                if (filterableString.toLowerCase().contains(filterString)) {\n                    nlist.add(filterableString);\n                }\n            }\n\n            results.values = nlist;\n            results.count = nlist.size();\n\n            return results;\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n            filteredData = (ArrayList&lt;String&gt;) results.values;\n            notifyDataSetChanged();\n        }\n\n    }\n}\n</code></pre>\n<p>Fragment class</p>\n<pre><code>public class CompletedJobsFragment extends Fragment {\n    AppActivity a;\n\n    String search;\n    TableLayout tableLayout;\n    Vehicle vehicle;\n\n    ListView listView;\n    SearchableAdapter arrayAdapter;\n    EditText searchInput;\n    List&lt;String&gt; ListArray = new ArrayList&lt;String&gt;();\n\n    ArrayList&lt;ListItem&gt; results = new ArrayList&lt;&gt;();\n    ListItem repairDetails = new ListItem();\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v= inflater.inflate(R.layout.fragment_completed_jobs,container,false);\n\n        a = (AppActivity) getActivity();\n        assert a != null;\n\n        tableLayout = (TableLayout) v.findViewById(R.id.completedJobsTable);\n\n        Button clear = v.findViewById(R.id.btnClearTextCarReg);\n\n        searchInput = v.findViewById(R.id.txtEditSearchCarReg);\n        listView = v.findViewById(R.id.list__View);\n        search = searchInput.getText().toString().trim();\n        clear.setOnClickListener(av -&gt; searchInput.setText(&quot;&quot;));\n//        Button searchButton = v.findViewById(R.id.btnSearchVehicleReg);\n        arrayAdapter = new SearchableAdapter(getContext(),ListArray);\n        listView.setAdapter(arrayAdapter);\n        listView.setClickable(true);\n        searchInput.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n            }\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                arrayAdapter.getFilter().filter(s);\n            }\n            @Override\n            public void afterTextChanged(Editable s) {\n            }\n        });\n\n        JobRepository jobRepository = new JobRepository(a.getApplication());\n        VehicleRepository vehicleRepository = new VehicleRepository(a.getApplication());\n        jobRepository.findCompleted().observe(getViewLifecycleOwner(), jobs -&gt; {\n            for (int j = 0; j &lt; jobs.size(); j++) {\n                if (jobs.get(j).job == null) {\n                    continue;\n                }\n                int finalJ = j;\n                vehicleRepository.findByJob(jobs.get(j).job.getUuid()).observe(getViewLifecycleOwner(), vehicles -&gt; {\n\n                    for (int vh = 0; vh &lt; vehicles.size(); vh++) {\n                        if (vehicles.get(vh).vehicle == null) {\n                            continue;\n                        }\n                        vehicle = vehicles.get(vh).vehicle;\n                        Job job = jobs.get(finalJ).job;\n\n                        ListArray.add(jobs.get(finalJ).customer.getName() + job.getPostcode() +  job.getDate());\n\n                        View viewToAdd = arrayAdapter.getView(finalJ, null, null);\n                        TableRow[] tableRows = new TableRow[jobs.size()];\n                        tableRows[finalJ] = new TableRow(a);\n                        tableRows[finalJ].setId(finalJ + 1);\n                        tableRows[finalJ].setPadding(0, 20, 0, 20);\n                        tableRows[finalJ].setBackgroundResource(android.R.drawable.list_selector_background);\n                        tableRows[finalJ].setBackgroundResource(R.drawable.table_outline);\n                        tableRows[finalJ].setLayoutParams(new TableRow.LayoutParams(\n                                TableRow.LayoutParams.MATCH_PARENT,\n                                TableRow.LayoutParams.WRAP_CONTENT\n                        ));\n                        tableRows[finalJ].addView(viewToAdd);\n\n                        tableLayout.addView(tableRows[finalJ], new TableLayout.LayoutParams(\n                                TableLayout.LayoutParams.MATCH_PARENT,\n                                TableLayout.LayoutParams.WRAP_CONTENT\n                        ));\n\n                        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                                // When clicked, show a toast with the TextView text or do whatever you need.\n//                                Toast.makeText(getContext(), &quot;asd&quot;, Toast.LENGTH_SHORT).show();\n\n                                Bundle bundle = new Bundle();\n                                bundle.putString(JOB_ID, job.getUuid().toString());\n                                bundle.putString(CUSTOMER_NAME, jobs.get(finalJ).customer.getName());\n                                // bundle.putString(JOB_DATE, sdf.format(job.getDate()));\n\n                                Fragment fragment = new ViewCustomerInformationFragment();\n\n                                fragment.setArguments(bundle);\n                                FragmentTransaction transaction = requireActivity().getSupportFragmentManager().beginTransaction();\n                                transaction.replace(R.id.fragment_container, fragment);\n                                transaction.addToBackStack(null);\n\n                                // Commit the transaction\n                                transaction.commit();\n                            }\n                        });\n                    }\n                });\n            }\n        });\n\n        return v;\n    }\n</code></pre>\n<p>Fragment xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/imageViewBGhm&quot;\n    android:scaleType=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/white&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtTitle2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginTop=&quot;80dp&quot;\n        android:layout_marginEnd=&quot;180dp&quot;\n        android:text=&quot;@string/completed_jobs&quot;\n        android:textColor=&quot;@color/ddGrey&quot;\n        android:textSize=&quot;28sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.375&quot;\n        app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/txtEditSearchCarReg&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/txtTitle2&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:ems=&quot;12&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:paddingStart=&quot;5dp&quot;\n        android:paddingEnd=&quot;10dp&quot;\n        android:paddingBottom=&quot;22dp&quot;\n        android:textAlignment=&quot;textStart&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n\n    &lt;TableRow\n        android:id=&quot;@+id/tableTitleRow&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/txtEditSearchCarReg&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginTop=&quot;6dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;6dp&quot;\n        android:background=&quot;@color/lightGrey&quot;\n        android:divider=&quot;?android:attr/dividerHorizontal&quot;\n        android:showDividers=&quot;middle&quot;\n        android:visibility=&quot;visible&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtCustomerNameTitle&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginStart=&quot;4sp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;4sp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/customer_name_hc&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtPostcodeTitle&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/postcode_placeholder&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtDateTitle&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/date&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtTimeTitle&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;20sp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/enquiry_vat_value&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;/TableRow&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/list__View&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_below=&quot;@id/tableTitleRow&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n\n    &lt;TableLayout\n        android:id=&quot;@+id/completedJobsTable&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/txtEditSearchCarReg&quot;\n        android:layout_marginStart=&quot;2dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;2dp&quot;\n        android:layout_marginBottom=&quot;2dp&quot;\n        android:stretchColumns=&quot;0,1,2&quot;\n        android:visibility=&quot;gone&quot;&gt;\n    &lt;/TableLayout&gt;\n\n    &lt;Button\n            android:id=&quot;@+id/btnClearTextCarReg&quot;\n            android:layout_width=&quot;22dp&quot;\n            android:layout_height=&quot;22dp&quot;\n            android:layout_alignTop=&quot;@+id/txtEditSearchCarReg&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;175dp&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginEnd=&quot;20dp&quot;\n            android:background=&quot;@drawable/ic_outline_cancel_24&quot;\n            android:backgroundTint=&quot;@color/ddOrange&quot;\n            android:clickable=&quot;true&quot;\n            android:focusable=&quot;true&quot;\n            android:foreground=&quot;?android:attr/selectableItemBackground&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnSearchVehicleReg&quot;\n        style=&quot;@style/DDButtons&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_below=&quot;@+id/txtEditSearchCarReg&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;14dp&quot;\n        android:background=&quot;@drawable/custom_buttons&quot;\n        android:drawableStart=&quot;@drawable/ic_outline_search_24&quot;\n        android:drawablePadding=&quot;12dp&quot;\n        android:letterSpacing=&quot;0.2&quot;\n        android:paddingLeft=&quot;16dp&quot;\n        android:paddingRight=&quot;16dp&quot;\n        android:singleLine=&quot;true&quot;\n        android:text=&quot;@string/search_postcode&quot;\n        android:textAlignment=&quot;textStart&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:visibility=&quot;gone&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n"},{"tags":["java","asynchronous","lambda","java-8","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1544778627,"post_id":53774471,"comment_id":94404178,"body_markdown":"Possible duplicate of [How to use CompletableFuture in java 8 to start an async task and let main thread finish and exit](https://stackoverflow.com/questions/48573856/how-to-use-completablefuture-in-java-8-to-start-an-async-task-and-let-main-threa)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/48573856/how-to-use-completablefuture-in-java-8-to-start-an-async-task-and-let-main-threa\">How to use CompletableFuture in java 8 to start an async task and let main thread finish and exit</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1544779431,"post_id":53774471,"comment_id":94404602,"body_markdown":"There might be a better duplicate but I cannot find it right now.","body":"There might be a better duplicate but I cannot find it right now."}],"answers":[{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544773533,"creation_date":1544773533,"answer_id":53775416,"question_id":53774471,"body_markdown":"**Explanation**\r\n\r\nYou&#39;re not joining the child thread `ForkJoinPool.commonPool-worker-1` to the main thread. So it gets killed once thread `main` finishes.\r\n\r\n**Solution**\r\n\r\nTry calling `.join()` on your completable future at some point in your code. Note that this method is blocking the `main` thread. So the execution after the join point will be suspended until the child thread finishes its execution.\r\n\r\n    CompletableFuture.supplyAsync(() -&gt; {\r\n        System.out.println(&quot;=&gt; supplyAsync Thread name &quot; + Thread.currentThread().getName());\r\n        // ...\r\n    }).thenApply(str -&gt; {\r\n        System.out.println(&quot;thenApply Thread name &quot; + Thread.currentThread().getName());\r\n        // ...\r\n    }).thenApply(str1 -&gt; {\r\n        System.out.println(&quot;thenApply Thread name &quot; + Thread.currentThread().getName());\r\n        // ...\r\n    }).thenAccept(str3 -&gt; {\r\n        System.out.println(&quot;thenAccept Thread name &quot; + Thread.currentThread().getName());\r\n        // ...\r\n    }).join()\r\n\r\nWill print:\r\n\r\n    supplyAsync Thread name ForkJoinPool.commonPool-worker-1\r\n    thenApply Thread name ForkJoinPool.commonPool-worker-1\r\n    thenApply Thread name ForkJoinPool.commonPool-worker-1\r\n    thenAccept Thread name ForkJoinPool.commonPool-worker-1\r\n    Thread name main\r\n\r\nIf you want the last `System.out.println(...)` not depend from execution of the child thread then assign your `CompletableFuture` to a variable and join it in the very end of main:\r\n\r\n    CompletableFuture&lt;Void&gt; future = CompletableFuture.supplyAsync(...) ... // \r\n\r\n    System.out.println(&quot;Thread name &quot; + Thread.currentThread().getName());\r\n\r\n    future.join();    \r\n","title":"CompletableFuture not working as expected","body":"<p><strong>Explanation</strong></p>\n\n<p>You're not joining the child thread <code>ForkJoinPool.commonPool-worker-1</code> to the main thread. So it gets killed once thread <code>main</code> finishes.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Try calling <code>.join()</code> on your completable future at some point in your code. Note that this method is blocking the <code>main</code> thread. So the execution after the join point will be suspended until the child thread finishes its execution.</p>\n\n<pre><code>CompletableFuture.supplyAsync(() -&gt; {\n    System.out.println(\"=&gt; supplyAsync Thread name \" + Thread.currentThread().getName());\n    // ...\n}).thenApply(str -&gt; {\n    System.out.println(\"thenApply Thread name \" + Thread.currentThread().getName());\n    // ...\n}).thenApply(str1 -&gt; {\n    System.out.println(\"thenApply Thread name \" + Thread.currentThread().getName());\n    // ...\n}).thenAccept(str3 -&gt; {\n    System.out.println(\"thenAccept Thread name \" + Thread.currentThread().getName());\n    // ...\n}).join()\n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>supplyAsync Thread name ForkJoinPool.commonPool-worker-1\nthenApply Thread name ForkJoinPool.commonPool-worker-1\nthenApply Thread name ForkJoinPool.commonPool-worker-1\nthenAccept Thread name ForkJoinPool.commonPool-worker-1\nThread name main\n</code></pre>\n\n<p>If you want the last <code>System.out.println(...)</code> not depend from execution of the child thread then assign your <code>CompletableFuture</code> to a variable and join it in the very end of main:</p>\n\n<pre><code>CompletableFuture&lt;Void&gt; future = CompletableFuture.supplyAsync(...) ... // \n\nSystem.out.println(\"Thread name \" + Thread.currentThread().getName());\n\nfuture.join();    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636119397,"creation_date":1636118973,"answer_id":69854055,"question_id":53774471,"body_markdown":"&gt; My understanding is child thread should print the statements\r\n&gt; independently of main thread.\r\n\r\nYour understanding is incorrect.\r\n\r\nPer [the documentation](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html):\r\n\r\n&gt; Actions supplied for dependent completions of non-async methods may be\r\n&gt; performed by the thread that completes the current CompletableFuture,\r\n&gt; or by any other caller of a completion method.\r\n\r\nThis does not insist that the dependent completion be executed by the thread that completes the async operation, it merely allows it.\r\n\r\nStill, I concur with the other answer which says that you should arrange to have the main routine not exit until the chain of computations is complete.\r\n\r\n","title":"CompletableFuture not working as expected","body":"<blockquote>\n<p>My understanding is child thread should print the statements\nindependently of main thread.</p>\n</blockquote>\n<p>Your understanding is incorrect.</p>\n<p>Per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Actions supplied for dependent completions of non-async methods may be\nperformed by the thread that completes the current CompletableFuture,\nor by any other caller of a completion method.</p>\n</blockquote>\n<p>This does not insist that the dependent completion be executed by the thread that completes the async operation, it merely allows it.</p>\n<p>Still, I concur with the other answer which says that you should arrange to have the main routine not exit until the chain of computations is complete.</p>\n"}],"owner":{"account_id":2601780,"reputation":129,"user_id":2253950,"display_name":"Vishwanath Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8779,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1636119397,"creation_date":1544768713,"question_id":53774471,"body_markdown":"I am trying to understand the working of `CompletableFuture` from Java 8. Below code works as expected \r\n\t\t\r\n    CompletableFuture.supplyAsync(() -&gt; {\r\n\t\tSystem.out.println(&quot;supplyAsync Thread name &quot; + Thread.currentThread().getName());\r\n\t\treturn &quot;str&quot;;\r\n\t}).thenApply(str -&gt; {\r\n\t\tSystem.out.println(&quot;thenApply Thread name &quot; + Thread.currentThread().getName());\r\n\t\treturn str;\r\n\t}).thenApply(str1 -&gt; {\r\n\t\tSystem.out.println(&quot;thenApply Thread name &quot; + Thread.currentThread().getName());\r\n\t\treturn str1;\r\n\t}).thenAccept(str3 -&gt; {\r\n\t\tSystem.out.println(&quot;thenAccept Thread name &quot; + Thread.currentThread().getName());\r\n\t});\r\n\tSystem.out.println(&quot;Thread name &quot; + Thread.currentThread().getName());\r\n\r\n\r\nOutput:\r\n\r\n    supplyAsync Thread name ForkJoinPool.commonPool-worker-1\r\n    thenApply Thread name main\r\n    thenApply Thread name main\r\n    thenAccept Thread name main\r\n    Thread name main\r\n\r\nBut when I put in some computation, it doesn&#39;t work as expected please correct me if I am missing something.\r\n\r\n\tCompletableFuture.supplyAsync(() -&gt; {\r\n\t\tSystem.out.println(&quot;supplyAsync Thread name &quot; + Thread.currentThread().getName());\r\n\t\tlong val = 0;\r\n\t\tfor (long i = 0; i &lt; 1000000; i++) {\r\n\t\t\tval++;\r\n\t\t}\r\n\t\treturn &quot;str&quot;;\r\n\t}).thenApply(str -&gt; {\r\n\t\tSystem.out.println(&quot;thenApply Thread name &quot; + Thread.currentThread().getName());\r\n\t\tlong val = 0;\r\n\t\tfor (long i = 0; i &lt; 1000000; i++) {\r\n\t\t\tval++;\r\n\t\t}\r\n\t\treturn str;\r\n\t}).thenApply(str1 -&gt; {\r\n\t\tSystem.out.println(&quot;thenApply Thread name &quot; + Thread.currentThread().getName());\r\n\t\tlong val = 0;\r\n\t\tfor (long i = 0; i &lt; 1000000; i++) {\r\n\t\t\tval++;\r\n\t\t}\r\n\t\treturn str1;\r\n\t}).thenAccept(str3 -&gt; {\r\n\t\tSystem.out.println(&quot;thenAccept Thread name &quot; + Thread.currentThread().getName());\r\n\t\tlong val = 0;\r\n\t\tfor (long i = 0; i &lt; 1000000; i++) {\r\n\t\t\tval++;\r\n\t\t}\r\n\t});\r\n\r\n    System.out.println(&quot;Thread name &quot; + Thread.currentThread().getName());\r\n\r\nOutput is:\r\n\r\n    supplyAsync Thread name ForkJoinPool.commonPool-worker-1\r\n    Thread name main\r\n\r\nI agree that I am not joining the child thread to main thread. My understanding is child thread should print the statements independently of main thread. The question is why is it not printing at all.","title":"CompletableFuture not working as expected","body":"<p>I am trying to understand the working of <code>CompletableFuture</code> from Java 8. Below code works as expected </p>\n\n<pre><code>CompletableFuture.supplyAsync(() -&gt; {\n    System.out.println(\"supplyAsync Thread name \" + Thread.currentThread().getName());\n    return \"str\";\n}).thenApply(str -&gt; {\n    System.out.println(\"thenApply Thread name \" + Thread.currentThread().getName());\n    return str;\n}).thenApply(str1 -&gt; {\n    System.out.println(\"thenApply Thread name \" + Thread.currentThread().getName());\n    return str1;\n}).thenAccept(str3 -&gt; {\n    System.out.println(\"thenAccept Thread name \" + Thread.currentThread().getName());\n});\nSystem.out.println(\"Thread name \" + Thread.currentThread().getName());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>supplyAsync Thread name ForkJoinPool.commonPool-worker-1\nthenApply Thread name main\nthenApply Thread name main\nthenAccept Thread name main\nThread name main\n</code></pre>\n\n<p>But when I put in some computation, it doesn't work as expected please correct me if I am missing something.</p>\n\n<pre><code>CompletableFuture.supplyAsync(() -&gt; {\n    System.out.println(\"supplyAsync Thread name \" + Thread.currentThread().getName());\n    long val = 0;\n    for (long i = 0; i &lt; 1000000; i++) {\n        val++;\n    }\n    return \"str\";\n}).thenApply(str -&gt; {\n    System.out.println(\"thenApply Thread name \" + Thread.currentThread().getName());\n    long val = 0;\n    for (long i = 0; i &lt; 1000000; i++) {\n        val++;\n    }\n    return str;\n}).thenApply(str1 -&gt; {\n    System.out.println(\"thenApply Thread name \" + Thread.currentThread().getName());\n    long val = 0;\n    for (long i = 0; i &lt; 1000000; i++) {\n        val++;\n    }\n    return str1;\n}).thenAccept(str3 -&gt; {\n    System.out.println(\"thenAccept Thread name \" + Thread.currentThread().getName());\n    long val = 0;\n    for (long i = 0; i &lt; 1000000; i++) {\n        val++;\n    }\n});\n\nSystem.out.println(\"Thread name \" + Thread.currentThread().getName());\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>supplyAsync Thread name ForkJoinPool.commonPool-worker-1\nThread name main\n</code></pre>\n\n<p>I agree that I am not joining the child thread to main thread. My understanding is child thread should print the statements independently of main thread. The question is why is it not printing at all.</p>\n"},{"tags":["java","inheritance","java-8","interface","static-methods"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636018278,"post_id":69836343,"comment_id":123447549,"body_markdown":"I suspect that the compiler is preventing a bug. Because static methods on a superclass can be invoked on instances (yes, with a warning), this may end up being misleading... `subObject.doIt()` would be calling which method? You can&#39;t use `subObject.doIt()` to call `Super.doIt()` if `Super` is an interface, the compiler already prohibits that.","body":"I suspect that the compiler is preventing a bug. Because static methods on a superclass can be invoked on instances (yes, with a warning), this may end up being misleading... <code>subObject.doIt()</code> would be calling which method? You can&#39;t use <code>subObject.doIt()</code> to call <code>Super.doIt()</code> if <code>Super</code> is an interface, the compiler already prohibits that."},{"owner":{"account_id":23002935,"reputation":86,"user_id":17126650,"display_name":"Fahad-Android"},"score":0,"creation_date":1636021549,"post_id":69836343,"comment_id":123448748,"body_markdown":"The members that are the part of the instance of a class are overridden (i.e public and protected) , static members aren&#39;t the part of the instance of a class, its the part of actual class.","body":"The members that are the part of the instance of a class are overridden (i.e public and protected) , static members aren&#39;t the part of the instance of a class, its the part of actual class."}],"answers":[{"tags":[],"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636119257,"creation_date":1636020736,"answer_id":69837545,"question_id":69836343,"body_markdown":"The reason for this is that Java allows invoking `static` methods in a non-static manner. Consider this example:\r\n\r\n    public class MyClass {\r\n\t    public static void sayHello() {\r\n\t    }\r\n\t\r\n        public void test() {\r\n\t\t    this.sayHello();\r\n\t    }\r\n    }\r\n\r\nThis will produce a compiler warning (*The static method `sayHello()` from the type `MyClass` should be accessed in a static way*), but it will compile and invoke the static method correctly at runtime.\r\n\r\nThat&#39;s why the following code will not compile because of an ambiguity (*Duplicate method `test()` in type MyClass*):\r\n\r\n    public class MyClass {\r\n\t    public static void test() {\r\n\t    }\r\n\t\r\n        public void test() {\r\n\t    }\r\n    }\r\n\r\nThe reason for the compile error is, that if you write the following, the compiler cannot know which method to invoke, because it allows to call `static` methods in a non-static manner:\r\n\r\n    public class MyClass {\r\n\t    public static void test() {\r\n\t    }\r\n\t\r\n        public void test() {\r\n\t    }\r\n\r\n        public void execute() {\r\n            this.test();\r\n        }\r\n    }\r\n\r\nFor the same reason it is not possible to have the `static test()` method in the parent class - the same rules apply. It is possible in Java to call `static` methods of super classes with or without qualification:\r\n\r\n    public class Super {\r\n\t    public static void test() {\r\n\t    }\r\n    }\r\n\r\n    public class Sub extends Super {\r\n        public void execute() {\r\n            this.test();\r\n        }\r\n    }\r\n\r\nOR\r\n\r\n    public class Sub {\r\n        public void execute() {\r\n            test();\r\n        }\r\n    }\r\n\r\nwhere the invocation of `this.test()` will produce a warning, but will work at runtime.\r\n\r\nFor `static` methods in interfaces, the above example will not work, because the compiler forces you to call the `static` method of the interface in a qualified manner (edit: because they are not being inherited). The following will **not** work (*The method interfaceStatic() is undefined for the type Sub*):\r\n\r\n    public interface Interface {\r\n\t    public static void interfaceStatic() {\t\r\n\t    }\r\n    }\r\n\r\n    public class Sub implements Interface {\r\n\t    public void test() {\r\n            interfaceStatic();\r\n\t    }\r\n    }\r\n\r\nIn order to call `interfaceStatic()` the invocation has to be qualified like this:\r\n\r\n    public class Sub implements Interface {\r\n\t    public void test() {\r\n            Interface.interfaceStatic();\r\n\t    }\r\n    }\r\n\r\nThat&#39;s the difference between defining the `static` method in an interface and defining it in the `super` class: The way of invocation. If you implement multiple interfaces which all have a `static` method with the same signature, the compiler cannot know which one to call.\r\n\r\nThis is the reason why it is allowed to define a `static` method with the same signature in an implemented interface, but not in the parent classes. \r\n\r\n","title":"Static member method to Instance member method redeclaration allowed for Interface-Class but not for Class-Class or Interface-Interface","body":"<p>The reason for this is that Java allows invoking <code>static</code> methods in a non-static manner. Consider this example:</p>\n<pre><code>public class MyClass {\n    public static void sayHello() {\n    }\n\n    public void test() {\n        this.sayHello();\n    }\n}\n</code></pre>\n<p>This will produce a compiler warning (<em>The static method <code>sayHello()</code> from the type <code>MyClass</code> should be accessed in a static way</em>), but it will compile and invoke the static method correctly at runtime.</p>\n<p>That's why the following code will not compile because of an ambiguity (<em>Duplicate method <code>test()</code> in type MyClass</em>):</p>\n<pre><code>public class MyClass {\n    public static void test() {\n    }\n\n    public void test() {\n    }\n}\n</code></pre>\n<p>The reason for the compile error is, that if you write the following, the compiler cannot know which method to invoke, because it allows to call <code>static</code> methods in a non-static manner:</p>\n<pre><code>public class MyClass {\n    public static void test() {\n    }\n\n    public void test() {\n    }\n\n    public void execute() {\n        this.test();\n    }\n}\n</code></pre>\n<p>For the same reason it is not possible to have the <code>static test()</code> method in the parent class - the same rules apply. It is possible in Java to call <code>static</code> methods of super classes with or without qualification:</p>\n<pre><code>public class Super {\n    public static void test() {\n    }\n}\n\npublic class Sub extends Super {\n    public void execute() {\n        this.test();\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>public class Sub {\n    public void execute() {\n        test();\n    }\n}\n</code></pre>\n<p>where the invocation of <code>this.test()</code> will produce a warning, but will work at runtime.</p>\n<p>For <code>static</code> methods in interfaces, the above example will not work, because the compiler forces you to call the <code>static</code> method of the interface in a qualified manner (edit: because they are not being inherited). The following will <strong>not</strong> work (<em>The method interfaceStatic() is undefined for the type Sub</em>):</p>\n<pre><code>public interface Interface {\n    public static void interfaceStatic() {  \n    }\n}\n\npublic class Sub implements Interface {\n    public void test() {\n        interfaceStatic();\n    }\n}\n</code></pre>\n<p>In order to call <code>interfaceStatic()</code> the invocation has to be qualified like this:</p>\n<pre><code>public class Sub implements Interface {\n    public void test() {\n        Interface.interfaceStatic();\n    }\n}\n</code></pre>\n<p>That's the difference between defining the <code>static</code> method in an interface and defining it in the <code>super</code> class: The way of invocation. If you implement multiple interfaces which all have a <code>static</code> method with the same signature, the compiler cannot know which one to call.</p>\n<p>This is the reason why it is allowed to define a <code>static</code> method with the same signature in an implemented interface, but not in the parent classes.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1636115307,"accepted_answer_id":69837545,"answer_count":1,"score":2,"last_activity_date":1636119257,"creation_date":1636014873,"question_id":69836343,"body_markdown":"Consider the following snippet:\r\n```java\r\ninterface Super{\r\n    public static void doIt(){}\r\n}\r\nclass Sub implements Super{\r\n    public void doIt(){}\r\n}\r\n```\r\n* Here I have declared a static member method and it is being redeclared as the instance method in the child class.\r\n* This is allowed by the compiler - but when I do the same with the superclass and subclass types - this gives  compilation error:\r\n```java\r\nclass Super{\r\n    public static void doIt(){}\r\n}\r\nclass Sub extends Super{\r\n    public void doIt(){}\r\n}\r\n```\r\n* **What is the rationale behind the same?** - ideally the way to access the subclass is essentially the same - then why this restriction?","title":"Static member method to Instance member method redeclaration allowed for Interface-Class but not for Class-Class or Interface-Interface","body":"<p>Consider the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Super{\n    public static void doIt(){}\n}\nclass Sub implements Super{\n    public void doIt(){}\n}\n</code></pre>\n<ul>\n<li>Here I have declared a static member method and it is being redeclared as the instance method in the child class.</li>\n<li>This is allowed by the compiler - but when I do the same with the superclass and subclass types - this gives  compilation error:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class Super{\n    public static void doIt(){}\n}\nclass Sub extends Super{\n    public void doIt(){}\n}\n</code></pre>\n<ul>\n<li><strong>What is the rationale behind the same?</strong> - ideally the way to access the subclass is essentially the same - then why this restriction?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","application.properties"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1636112915,"post_id":69852749,"comment_id":123475895,"body_markdown":"Looks like the `env` variable is null. Oh, and probably it is bad practice or doesn&#39;t even have an effect to autowire a static variable: https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields","body":"Looks like the <code>env</code> variable is null. Oh, and probably it is bad practice or doesn&#39;t even have an effect to autowire a static variable: <a href=\"https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields\" title=\"can you use autowired with static fields\">stackoverflow.com/questions/1018797/&hellip;</a>"},{"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"score":0,"creation_date":1636113051,"post_id":69852749,"comment_id":123475937,"body_markdown":"Any idea why? This is how i have seen examples online do it","body":"Any idea why? This is how i have seen examples online do it"}],"answers":[{"tags":[],"owner":{"account_id":5378376,"reputation":113,"user_id":4284466,"display_name":"typekcz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636114074,"creation_date":1636114074,"answer_id":69853027,"question_id":69852749,"body_markdown":"Autowired works only on class instances managed by Spring. The value is injected after the constructor. Your class isn&#39;t managed by Spring and your environment property is static.\r\n\r\nSomething like this will work:\r\n\r\n    @Service // Will be instantiated by spring\r\n    public class MailService {\r\n        private static Environment env;\r\n\r\n        @Autowired // This will be called after instantiation\r\n        public void initEnvironment(Environment env){\r\n            MailService.env = env;\r\n        }\r\n\r\n        public static void send(){\r\n            // NullPointerException will be thrown if this method is called\r\n            // before Spring created the MailService instance\r\n            System.out.println(&quot;env {}&quot; + env.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;));\r\n        }\r\n    }\r\n\r\nYou should avoid using static method if you want access to object managed by Spring.\r\n\r\nInstead let Spring manage all your class instances and inject your service when you need it.\r\n\r\n    @Service\r\n    class AnotherService {\r\n        @Autowired\r\n        private MailService mailSvc;\r\n        ...\r\n        ","title":"Program crashes with NullPointerException when trying to access environment variables from application.properties","body":"<p>Autowired works only on class instances managed by Spring. The value is injected after the constructor. Your class isn't managed by Spring and your environment property is static.</p>\n<p>Something like this will work:</p>\n<pre><code>@Service // Will be instantiated by spring\npublic class MailService {\n    private static Environment env;\n\n    @Autowired // This will be called after instantiation\n    public void initEnvironment(Environment env){\n        MailService.env = env;\n    }\n\n    public static void send(){\n        // NullPointerException will be thrown if this method is called\n        // before Spring created the MailService instance\n        System.out.println(&quot;env {}&quot; + env.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;));\n    }\n}\n</code></pre>\n<p>You should avoid using static method if you want access to object managed by Spring.</p>\n<p>Instead let Spring manage all your class instances and inject your service when you need it.</p>\n<pre><code>@Service\nclass AnotherService {\n    @Autowired\n    private MailService mailSvc;\n    ...\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636114542,"creation_date":1636114542,"answer_id":69853097,"question_id":69852749,"body_markdown":"Your class should have the `@Service` annotation or `Configuration` : \r\n\r\n    @Service\r\n    public class MailService {\r\n    \r\n        @Autowired\r\n        private Environment env;\r\n    \r\n        ...\r\n    }\r\n\r\nRead [this][1] for more details on why you should avoid `static`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields","title":"Program crashes with NullPointerException when trying to access environment variables from application.properties","body":"<p>Your class should have the <code>@Service</code> annotation or <code>Configuration</code> :</p>\n<pre><code>@Service\npublic class MailService {\n\n    @Autowired\n    private Environment env;\n\n    ...\n}\n</code></pre>\n<p>Read <a href=\"https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields\">this</a> for more details on why you should avoid <code>static</code>.</p>\n"}],"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636119224,"accepted_answer_id":69853027,"answer_count":2,"score":0,"last_activity_date":1636119233,"creation_date":1636112665,"question_id":69852749,"body_markdown":"This is fairly straight forward, but I can&#39;t figure out what the problem is. I am trying to access environment variables from `application.properties` but when I do so like this:\r\n```\r\nimport org.springframework.core.env.Environment;\r\n\r\npublic class MailService {\r\n\r\n    @Autowired\r\n    private static Environment env;\r\n\r\n...\r\n...\r\n...\r\npublic static void send(){\r\n        System.out.println(&quot;env {}&quot; + env.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;));\r\n}\r\n```\r\nThen I get a NullPointerException.\r\nSo what is going on? Why am I getting an error. Here is my `application.properties` file with fake values:\r\n```\r\nAWS_ACCESS_KEY_ID=&quot;Asdsds&quot;\r\nAWS_SECRET_KEY=&quot;sdsdsdsdsdsd&quot;\r\n```","title":"Program crashes with NullPointerException when trying to access environment variables from application.properties","body":"<p>This is fairly straight forward, but I can't figure out what the problem is. I am trying to access environment variables from <code>application.properties</code> but when I do so like this:</p>\n<pre><code>import org.springframework.core.env.Environment;\n\npublic class MailService {\n\n    @Autowired\n    private static Environment env;\n\n...\n...\n...\npublic static void send(){\n        System.out.println(&quot;env {}&quot; + env.getProperty(&quot;AWS_ACCESS_KEY_ID&quot;));\n}\n</code></pre>\n<p>Then I get a NullPointerException.\nSo what is going on? Why am I getting an error. Here is my <code>application.properties</code> file with fake values:</p>\n<pre><code>AWS_ACCESS_KEY_ID=&quot;Asdsds&quot;\nAWS_SECRET_KEY=&quot;sdsdsdsdsdsd&quot;\n</code></pre>\n"},{"tags":["java","swing","jbutton","actionlistener","jtextarea"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1636118707,"post_id":69853933,"comment_id":123478133,"body_markdown":"There are a couple of ways to do this, but surely you can just make it invisible using `text.setVisible(false);` then add it to the jframe. To show it again use `text.setVisible(true);` inside your button event","body":"There are a couple of ways to do this, but surely you can just make it invisible using <code>text.setVisible(false);</code> then add it to the jframe. To show it again use <code>text.setVisible(true);</code> inside your button event"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1636119201,"post_id":69853933,"comment_id":123478369,"body_markdown":"Better to use a CardLayout to swap components. Better still -- show the JTextArea but make it disabled via `.seteEnabled(false)`, and then when needed, enable it.","body":"Better to use a CardLayout to swap components. Better still -- show the JTextArea but make it disabled via <code>.seteEnabled(false)</code>, and then when needed, enable it."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636119513,"post_id":69853933,"comment_id":123478483,"body_markdown":"setEnabled doesn&#39;t really mean make visible or not, so I guess the setVisible option is better. Swapping components would make it a bit &#39;heavier&#39; to run. Also a bit more difficult for someone who&#39;s just starting up. Might be a good follow up, though","body":"setEnabled doesn&#39;t really mean make visible or not, so I guess the setVisible option is better. Swapping components would make it a bit &#39;heavier&#39; to run. Also a bit more difficult for someone who&#39;s just starting up. Might be a good follow up, though"}],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1636118736,"creation_date":1636118736,"answer_id":69853994,"question_id":69853933,"body_markdown":"All Swing components have a `setVisible` method you can use. You start with an invisible component, and make it visible on the button click.\r\n\r\nAn alternative is to add it to the parent container on a button click (`Container#add`), but this requires revalidating the layout. As such, the first option is easier.","title":"How can I make a JTextArea appear after clicking button","body":"<p>All Swing components have a <code>setVisible</code> method you can use. You start with an invisible component, and make it visible on the button click.</p>\n<p>An alternative is to add it to the parent container on a button click (<code>Container#add</code>), but this requires revalidating the layout. As such, the first option is easier.</p>\n"}],"owner":{"account_id":23013024,"reputation":1,"user_id":17135280,"display_name":"Hussein M Malkawi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69853994,"answer_count":1,"score":-1,"last_activity_date":1636119085,"creation_date":1636118513,"question_id":69853933,"body_markdown":"I&#39;m doing a simple program that display information about specific university in a `JTextArea` after clicking a JButton.\r\n\r\nHow can I make the JTextArea appears after clicking the button?\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\npackage toolBar;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n\r\npublic class ToolBar extends JFrame {\r\n\tJFrame frame=new JFrame();\r\n\tJButton uni1=new JButton(&quot;Hasheimte University&quot;);\r\n\tJButton uni2=new JButton(&quot;The University of Jordan&quot;);\r\n\tJButton uni3=new JButton(&quot;German Jordanian University&quot;);\r\n\tJButton exit=new JButton(&quot;Close&quot;);\r\n\tJToolBar tb = new JToolBar();\r\n\tJTextArea text = new JTextArea(&quot;bla bla bla&quot;);\r\n\t\r\n\t\r\n\tpublic ToolBar(){\r\n\t\tsetTitle(&quot;Jordanian universities&quot;);\r\n\t\tsetSize(600,300);\r\n\t\tsetVisible(true);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tadd(tb);\r\n\t\ttb.add(uni1);\r\n\t\ttb.add(uni2);\r\n\t\ttb.add(uni3);\r\n\t\ttb.add(exit);\r\n\t\t\r\n\t\ttb.setFloatable(false);\r\n\t\tsetLayout(new FlowLayout (FlowLayout.CENTER));\r\n\t\t\r\n\t\tuni1.addActionListener(e -&gt;{\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\texit.addActionListener(e -&gt; {\r\n\t\t\tdispose();\r\n\t\t});\r\n\t}\r\n}\r\n```","title":"How can I make a JTextArea appear after clicking button","body":"<p>I'm doing a simple program that display information about specific university in a <code>JTextArea</code> after clicking a JButton.</p>\n<p>How can I make the JTextArea appears after clicking the button?</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package toolBar;\nimport javax.swing.*;\nimport java.awt.*;\n\n\npublic class ToolBar extends JFrame {\n    JFrame frame=new JFrame();\n    JButton uni1=new JButton(&quot;Hasheimte University&quot;);\n    JButton uni2=new JButton(&quot;The University of Jordan&quot;);\n    JButton uni3=new JButton(&quot;German Jordanian University&quot;);\n    JButton exit=new JButton(&quot;Close&quot;);\n    JToolBar tb = new JToolBar();\n    JTextArea text = new JTextArea(&quot;bla bla bla&quot;);\n    \n    \n    public ToolBar(){\n        setTitle(&quot;Jordanian universities&quot;);\n        setSize(600,300);\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        add(tb);\n        tb.add(uni1);\n        tb.add(uni2);\n        tb.add(uni3);\n        tb.add(exit);\n        \n        tb.setFloatable(false);\n        setLayout(new FlowLayout (FlowLayout.CENTER));\n        \n        uni1.addActionListener(e -&gt;{\n            \n        });\n        \n        exit.addActionListener(e -&gt; {\n            dispose();\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":4,"creation_date":1636118185,"post_id":69853850,"comment_id":123477878,"body_markdown":"Does this answer your question? [Non-static variable cannot be referenced from a static context](https://stackoverflow.com/questions/2559527/non-static-variable-cannot-be-referenced-from-a-static-context)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2559527/non-static-variable-cannot-be-referenced-from-a-static-context\">Non-static variable cannot be referenced from a static context</a>"},{"owner":{"account_id":23196928,"reputation":1,"user_id":17292434,"display_name":"Jason Wobblewitz"},"score":0,"creation_date":1636118281,"post_id":69853850,"comment_id":123477915,"body_markdown":"I&#39;m afraid not because in my problem i encounter the error when im calling a method.","body":"I&#39;m afraid not because in my problem i encounter the error when im calling a method."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1636122579,"post_id":69853850,"comment_id":123479871,"body_markdown":"@JasonWobblewitz Have you read the linked duplicate *and* the error message?","body":"@JasonWobblewitz Have you read the linked duplicate <i>and</i> the error message?"}],"answers":[{"tags":[],"owner":{"account_id":12536069,"reputation":480,"user_id":9122719,"display_name":"Tal Glik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636118653,"creation_date":1636118653,"answer_id":69853975,"question_id":69853850,"body_markdown":"Static methods (in your case: withdraw, deposit, transfer, balanceCheck) cannot use not static variable (in your case: initBalance).\r\nIn order to use the non static variable you must create an object somewhere ( ATM anATM = new ATM()) and to use the static methods you do not create the object you just do for example: ATM.withdraw())\r\n","title":"ATM using methods java","body":"<p>Static methods (in your case: withdraw, deposit, transfer, balanceCheck) cannot use not static variable (in your case: initBalance).\nIn order to use the non static variable you must create an object somewhere ( ATM anATM = new ATM()) and to use the static methods you do not create the object you just do for example: ATM.withdraw())</p>\n"}],"owner":{"account_id":23196928,"reputation":1,"user_id":17292434,"display_name":"Jason Wobblewitz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1636118878,"answer_count":1,"score":-2,"last_activity_date":1636118865,"creation_date":1636118121,"question_id":69853850,"body_markdown":"I have been working on a project, and I&#39;m encountering a mistake which I can&#39;t seem to solve. I encounter an error _&quot;non-static variable initBalance cannot be referenced from a static context&quot;_. I&#39;ve researched what this is about, but I don&#39;t understand what it means. \r\n\r\nHere is my code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ATM {\r\n\tScanner kbd = new Scanner(System.in);\r\n\tint initBalance = 0;\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.print(&quot;\\n---------------------ATM----------------\\n1. Withdraw\\n2. Deposit\\n3. Transfer\\n4. Check balance\\n5. EXIT&quot;);\r\n\t\tSystem.out.print(&quot;\\nChoose operation: &quot;);\r\n\t\tint option = kbd.nextInt();\r\n\t\twhile (option&lt;5) {\r\n\t\t\tif(option==1)\r\n\t\t\t\twithdraw();\r\n\t\t\telse\r\n\t\t\t\tif(option==2)\r\n\t\t\t\t\tdeposit();\r\n\t\t\t\telse\r\n\t\t\t\t\tif(option==3)\r\n\t\t\t\t\t\ttransfer();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tif(option==4)\r\n\t\t\t\t\t\t\tbalanceCheck();\r\n\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void withdraw() {\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter amount to be withdrawn: &quot;);\r\n\t\tint withdrawBalance = kbd.nextInt();\r\n\t\tif (withdrawBalance &gt; initBalance) {\r\n\t\t\tSystem.out.print(&quot;Collect your money.&quot;);\r\n\t\t\tinitBalance = initBalance - withdrawBalance;\r\n\t\t\tSystem.out.print(&quot;Chceck balance? 1. Yes 2. No : &quot;);\r\n\t\t\tint balanceOption = kbd.nextInt();\r\n\t\t\tif (balanceOption==1) {\r\n\t\t\t\tSystem.out.print(&quot;Remaining balance: &quot; + initBalance);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\tSystem.out.print(&quot;Insufficient Balance&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void deposit() {\r\n\t\tSystem.out.print(&quot;Enter amount you want to deposit: &quot;);\r\n\t\tint depositBalance = kbd.nextInt();\r\n\t\tinitBalance = initBalance + depositBalance;\r\n\t\tSystem.out.print(&quot;Chceck balance? 1. Yes 2. No : &quot;);\r\n\t\t\tint balanceOption = kbd.nextInt();\r\n\t\t\tif (balanceOption==1) \r\n\t\t\t\tSystem.out.print(&quot;Remaining balance: &quot; + initBalance);\r\n\t\t\telse\r\n\t\t\t\tif(balanceOption==2)\r\n\t\t\t\t\tSystem.out.print(&quot;\\nThank you for using this ATM!&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tSystem.out.print(&quot;Number not in the option.&quot;);\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\tpublic static void transfer() {\r\n\t\tSystem.out.print(&quot;Enter Account number: &quot;);\r\n\t\tint accNum = kbd.nextInt();\r\n\t\tSystem.out.print(&quot;Enter amount to be transferred: &quot;);\r\n\t\tint moneySent = kbd.nextInt();\r\n\t\tif(moneySent &gt; initBalance) {\r\n\t\t\tSystem.out.print(&quot;Transfer Success!&quot;);\r\n\t\t\tinitBalance = initBalance - moneySent;\r\n\t\t\tSystem.out.print(&quot;Chceck balance? 1. Yes 2. No : &quot;);\r\n\t\t\tint balanceOption = kbd.nextInt();\r\n\t\t\t\tif (balanceOption==1) \r\n\t\t\t\tSystem.out.print(&quot;Remaining balance: &quot; + initBalance);\r\n\t\t\t\telse\r\n\t\t\t\t\tif(balanceOption==2)\r\n\t\t\t\t\t\tSystem.out.print(&quot;\\nThank you for using this ATM!&quot;);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tSystem.out.print(&quot;Number not in the option.&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.print(&quot;Insufficient Balance&quot;);\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tpublic static void balanceCheck() {\r\n\t\tSystem.out.print(&quot;Remaining balance: &quot; + initBalance);\r\n\t\r\n\t}\r\n}\r\n```\r\n\r\n","title":"ATM using methods java","body":"<p>I have been working on a project, and I'm encountering a mistake which I can't seem to solve. I encounter an error <em>&quot;non-static variable initBalance cannot be referenced from a static context&quot;</em>. I've researched what this is about, but I don't understand what it means.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ATM {\n    Scanner kbd = new Scanner(System.in);\n    int initBalance = 0;\n    public static void main(String[] args) {\n        System.out.print(&quot;\\n---------------------ATM----------------\\n1. Withdraw\\n2. Deposit\\n3. Transfer\\n4. Check balance\\n5. EXIT&quot;);\n        System.out.print(&quot;\\nChoose operation: &quot;);\n        int option = kbd.nextInt();\n        while (option&lt;5) {\n            if(option==1)\n                withdraw();\n            else\n                if(option==2)\n                    deposit();\n                else\n                    if(option==3)\n                        transfer();\n                    else\n                        if(option==4)\n                            balanceCheck();\n\n        }\n    }\n    \n    public static void withdraw() {\n        \n        System.out.print(&quot;Enter amount to be withdrawn: &quot;);\n        int withdrawBalance = kbd.nextInt();\n        if (withdrawBalance &gt; initBalance) {\n            System.out.print(&quot;Collect your money.&quot;);\n            initBalance = initBalance - withdrawBalance;\n            System.out.print(&quot;Chceck balance? 1. Yes 2. No : &quot;);\n            int balanceOption = kbd.nextInt();\n            if (balanceOption==1) {\n                System.out.print(&quot;Remaining balance: &quot; + initBalance);\n            }\n        }\n        \n        else {\n            System.out.print(&quot;Insufficient Balance&quot;);\n        }\n        \n    }\n    \n    public static void deposit() {\n        System.out.print(&quot;Enter amount you want to deposit: &quot;);\n        int depositBalance = kbd.nextInt();\n        initBalance = initBalance + depositBalance;\n        System.out.print(&quot;Chceck balance? 1. Yes 2. No : &quot;);\n            int balanceOption = kbd.nextInt();\n            if (balanceOption==1) \n                System.out.print(&quot;Remaining balance: &quot; + initBalance);\n            else\n                if(balanceOption==2)\n                    System.out.print(&quot;\\nThank you for using this ATM!&quot;);\n                else\n                    System.out.print(&quot;Number not in the option.&quot;);\n                \n    }\n    \n    public static void transfer() {\n        System.out.print(&quot;Enter Account number: &quot;);\n        int accNum = kbd.nextInt();\n        System.out.print(&quot;Enter amount to be transferred: &quot;);\n        int moneySent = kbd.nextInt();\n        if(moneySent &gt; initBalance) {\n            System.out.print(&quot;Transfer Success!&quot;);\n            initBalance = initBalance - moneySent;\n            System.out.print(&quot;Chceck balance? 1. Yes 2. No : &quot;);\n            int balanceOption = kbd.nextInt();\n                if (balanceOption==1) \n                System.out.print(&quot;Remaining balance: &quot; + initBalance);\n                else\n                    if(balanceOption==2)\n                        System.out.print(&quot;\\nThank you for using this ATM!&quot;);\n                    else\n                        System.out.print(&quot;Number not in the option.&quot;);\n        }\n        else {\n            System.out.print(&quot;Insufficient Balance&quot;);\n        }\n    \n    }\n    \n    public static void balanceCheck() {\n        System.out.print(&quot;Remaining balance: &quot; + initBalance);\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","guice"],"answers":[{"tags":[],"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636118800,"creation_date":1636111960,"answer_id":69852596,"question_id":69852012,"body_markdown":"No, it is not possible to achieve this in a way you are trying to.\r\n\r\n\r\nBut you could pass `Class`/`Type` object to `Base`&#39;s constructor and use it to create needed type literal, e.g. (I use `Set` as key since you mentioned multibinder):\r\n\r\n```java\r\npublic class Base&lt;T extends Stoppable&gt; {\r\n\r\n  protected final Injector injector;\r\n  protected T stoppable;\r\n\r\n  public Base(Class&lt;T&gt; type, Module... module) {\r\n    injector = Guice.createInjector(module);\r\n    var key = Key.get(com.google.inject.util.Types.setOf(type));\r\n    stoppable = injector.getInstance(key);\r\n  }\r\n}\r\n``` ","title":"Guice generic type injection","body":"<p>No, it is not possible to achieve this in a way you are trying to.</p>\n<p>But you could pass <code>Class</code>/<code>Type</code> object to <code>Base</code>'s constructor and use it to create needed type literal, e.g. (I use <code>Set</code> as key since you mentioned multibinder):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Base&lt;T extends Stoppable&gt; {\n\n  protected final Injector injector;\n  protected T stoppable;\n\n  public Base(Class&lt;T&gt; type, Module... module) {\n    injector = Guice.createInjector(module);\n    var key = Key.get(com.google.inject.util.Types.setOf(type));\n    stoppable = injector.getInstance(key);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":178568,"reputation":1722,"user_id":410624,"accept_rate":84,"display_name":"krizajb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69852596,"answer_count":1,"score":1,"last_activity_date":1636118800,"creation_date":1636109039,"question_id":69852012,"body_markdown":"Lets say I have a generic class as follows:\r\n\r\n    public class Base&lt;T extends Stoppable&gt; {\r\n  \r\n      protected final Injector injector;\r\n      protected T stoppable;\r\n  \r\n      public Base(Module... module) {\r\n        injector = Guice.createInjector(module);\r\n        Key&lt;T&gt; key = Key.get(new TypeLiteral&lt;T&gt;() {});  &lt;-- T cannot be used as a key; It is not fully specified.\r\n        stoppable = injector.getInstance(key);\r\n      }\r\n    }\r\n\r\nThe instance of type `Stoppable` is binded using `Multibinder`:\r\n\r\n    Multibinder&lt;Stoppable&gt; taskBinder =\r\n        Multibinder.newSetBinder(binder, Stoppable.class);\r\n    taskBinder.addBinding().to(MyClass.class);\r\n\r\nIs it possible to achieve this?","title":"Guice generic type injection","body":"<p>Lets say I have a generic class as follows:</p>\n<pre><code>public class Base&lt;T extends Stoppable&gt; {\n\n  protected final Injector injector;\n  protected T stoppable;\n\n  public Base(Module... module) {\n    injector = Guice.createInjector(module);\n    Key&lt;T&gt; key = Key.get(new TypeLiteral&lt;T&gt;() {});  &lt;-- T cannot be used as a key; It is not fully specified.\n    stoppable = injector.getInstance(key);\n  }\n}\n</code></pre>\n<p>The instance of type <code>Stoppable</code> is binded using <code>Multibinder</code>:</p>\n<pre><code>Multibinder&lt;Stoppable&gt; taskBinder =\n    Multibinder.newSetBinder(binder, Stoppable.class);\ntaskBinder.addBinding().to(MyClass.class);\n</code></pre>\n<p>Is it possible to achieve this?</p>\n"},{"tags":["java","selenium","iframe","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":14887878,"reputation":23,"user_id":10857810,"display_name":"StarBuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636118650,"creation_date":1636118650,"answer_id":69853974,"question_id":69675369,"body_markdown":"I found a solution to this after a few hours at it, my first discovery was that the iframes have dynamic names - I used debugging code like this to dig down \r\n\r\n    List&lt;WebElement&gt; frameList = driver.findElements(By.tagName(&quot;iframe&quot;));\r\n        System.out.println(&quot;Num Frames: &quot; + frameList.size());\r\n\r\n        for (WebElement element : frameList) {\r\n            String frameName = element.getAttribute(&quot;name&quot;);\r\n            System.out.println(&quot;Frame Name is &quot; + frameName);\r\n        } \r\n\r\nIn the end I found the cancel button on a different layer to the buttons but to interact with the buttons themselves I did this:\r\n\r\n      private void completeOrFail3dsAuthentication(String action) throws InterruptedException {\r\n        Thread.sleep(5000);\r\n        WebDriver driver = BrowseTheWeb.as(OnStage.theActorInTheSpotlight()).getDriver();\r\n      \r\n        // try switching to a frame\r\n        driver.switchTo().frame(0); // cancel button\r\n        Thread.sleep(500);\r\n        driver.switchTo().frame(0); // sub frame\r\n        Thread.sleep(500);\r\n        driver.switchTo().frame(0); // frame with Complete or Fail Authentication\r\n\r\n        if(action.equalsIgnoreCase(&quot;fail&quot;)) {\r\n            BaseTasks.waitAndClick(OnStage.theActorInTheSpotlight(), StripePaymentDetailsPage.THREE_D_S_FAIL_AUTH_BUTTON);\r\n        } else {\r\n            BaseTasks.waitAndClick(OnStage.theActorInTheSpotlight(), StripePaymentDetailsPage.THREE_D_S_COMPLETE_AUTH_BUTTON);\r\n        }\r\n        Thread.sleep(500);\r\n        //switch back to original frame\r\n        driver.switchTo().parentFrame();\r\n        Thread.sleep(500);\r\n        driver.switchTo().parentFrame();\r\n        Thread.sleep(500);\r\n        driver.switchTo().parentFrame();\r\n    }\r\n\r\n","title":"Nested iframe in Stripe 3DS - unable to attach to them using Selenium/Serenity","body":"<p>I found a solution to this after a few hours at it, my first discovery was that the iframes have dynamic names - I used debugging code like this to dig down</p>\n<pre><code>List&lt;WebElement&gt; frameList = driver.findElements(By.tagName(&quot;iframe&quot;));\n    System.out.println(&quot;Num Frames: &quot; + frameList.size());\n\n    for (WebElement element : frameList) {\n        String frameName = element.getAttribute(&quot;name&quot;);\n        System.out.println(&quot;Frame Name is &quot; + frameName);\n    } \n</code></pre>\n<p>In the end I found the cancel button on a different layer to the buttons but to interact with the buttons themselves I did this:</p>\n<pre><code>  private void completeOrFail3dsAuthentication(String action) throws InterruptedException {\n    Thread.sleep(5000);\n    WebDriver driver = BrowseTheWeb.as(OnStage.theActorInTheSpotlight()).getDriver();\n  \n    // try switching to a frame\n    driver.switchTo().frame(0); // cancel button\n    Thread.sleep(500);\n    driver.switchTo().frame(0); // sub frame\n    Thread.sleep(500);\n    driver.switchTo().frame(0); // frame with Complete or Fail Authentication\n\n    if(action.equalsIgnoreCase(&quot;fail&quot;)) {\n        BaseTasks.waitAndClick(OnStage.theActorInTheSpotlight(), StripePaymentDetailsPage.THREE_D_S_FAIL_AUTH_BUTTON);\n    } else {\n        BaseTasks.waitAndClick(OnStage.theActorInTheSpotlight(), StripePaymentDetailsPage.THREE_D_S_COMPLETE_AUTH_BUTTON);\n    }\n    Thread.sleep(500);\n    //switch back to original frame\n    driver.switchTo().parentFrame();\n    Thread.sleep(500);\n    driver.switchTo().parentFrame();\n    Thread.sleep(500);\n    driver.switchTo().parentFrame();\n}\n</code></pre>\n"}],"owner":{"account_id":14887878,"reputation":23,"user_id":10857810,"display_name":"StarBuck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636118650,"creation_date":1634898868,"question_id":69675369,"body_markdown":"I&#39;m having trouble with locating the buttons in this Stripe 3DS sandbox which appear to be 3 iframes down into the page. The layout is in the attached image.\r\n\r\nI have tried the following:\r\n\r\nThe below results in a message that the frame cannot be found\r\n\r\n            OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame(&quot;__privateStripeFrame8499&quot;));\r\n            OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame(&quot;__stripeJSChallengeFrame&quot;));\r\n            OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame(&quot;acsFrame&quot;));\r\n\r\n\r\nThe below results in null pointer exceptions (even with this at the top of the file)\r\n\r\n    @Managed\r\n    WebDriver driver;\r\n\r\n    driver.switchTo().frame(driver.findElement(By.xpath(&quot;/html/body/div[1]/iframe&quot;)));\r\n    driver.switchTo().frame(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;challengeFrame\\&quot;]&quot;)));\r\n    driver.switchTo().frame(driver.findElement(By.xpath(&quot;/html/body/div/iframe&quot;)));\r\n\r\n\r\nThis variant results in a casting error\r\n\r\n            OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame((WebElement) StripePaymentDetailsPage.STRIPE_IFRAME));\r\n            OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame((WebElement)StripePaymentDetailsPage.STRIPE_CHALLENGE_IFRAME));\r\n            OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame((WebElement)StripePaymentDetailsPage.STRIPE_FULLSCREEN_FRAME));\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![Code Layout][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/avqGK.png\r\n  [2]: https://i.stack.imgur.com/xnBFp.png","title":"Nested iframe in Stripe 3DS - unable to attach to them using Selenium/Serenity","body":"<p>I'm having trouble with locating the buttons in this Stripe 3DS sandbox which appear to be 3 iframes down into the page. The layout is in the attached image.</p>\n<p>I have tried the following:</p>\n<p>The below results in a message that the frame cannot be found</p>\n<pre><code>        OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame(&quot;__privateStripeFrame8499&quot;));\n        OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame(&quot;__stripeJSChallengeFrame&quot;));\n        OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame(&quot;acsFrame&quot;));\n</code></pre>\n<p>The below results in null pointer exceptions (even with this at the top of the file)</p>\n<pre><code>@Managed\nWebDriver driver;\n\ndriver.switchTo().frame(driver.findElement(By.xpath(&quot;/html/body/div[1]/iframe&quot;)));\ndriver.switchTo().frame(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;challengeFrame\\&quot;]&quot;)));\ndriver.switchTo().frame(driver.findElement(By.xpath(&quot;/html/body/div/iframe&quot;)));\n</code></pre>\n<p>This variant results in a casting error</p>\n<pre><code>        OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame((WebElement) StripePaymentDetailsPage.STRIPE_IFRAME));\n        OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame((WebElement)StripePaymentDetailsPage.STRIPE_CHALLENGE_IFRAME));\n        OnStage.theActorInTheSpotlight().attemptsTo(Switch.toFrame((WebElement)StripePaymentDetailsPage.STRIPE_FULLSCREEN_FRAME));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/avqGK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/avqGK.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/xnBFp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnBFp.png\" alt=\"Code Layout\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":23002935,"reputation":86,"user_id":17126650,"display_name":"Fahad-Android"},"score":0,"creation_date":1636110011,"post_id":69852093,"comment_id":123474915,"body_markdown":"You have coded it right, you just have to select &quot;Logcat&quot; from the bottom nav menu inside android studio, and select debug in the third drop-down menu from left in the pop up window. After running the app you will be able to see your log. If not, type &quot;onCreate&quot; in the search bar.","body":"You have coded it right, you just have to select &quot;Logcat&quot; from the bottom nav menu inside android studio, and select debug in the third drop-down menu from left in the pop up window. After running the app you will be able to see your log. If not, type &quot;onCreate&quot; in the search bar."}],"answers":[{"tags":[],"owner":{"account_id":20563305,"reputation":247,"user_id":15093317,"display_name":"Tanveer Hasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636117858,"creation_date":1636109672,"answer_id":69852141,"question_id":69852093,"body_markdown":"you can display the logs by Toast or set in textView\r\n\r\n    Toast.makeText(getApplicationContext(),timeStamp,Toast.LENGTH_SHORT).show();\r\n\r\nor\r\n\r\n    textView.setText(timeStamp);","title":"Logs in Android Studio","body":"<p>you can display the logs by Toast or set in textView</p>\n<pre><code>Toast.makeText(getApplicationContext(),timeStamp,Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>or</p>\n<pre><code>textView.setText(timeStamp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17380095,"reputation":697,"user_id":12592517,"display_name":"Swapnil Padaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636110853,"creation_date":1636110853,"answer_id":69852386,"question_id":69852093,"body_markdown":"What you have done is write but you can get confused as in where&#39;s the log, Log has `tag` and `message`, Tags are usually Activity or fragment name so that its easier for one to locate from where did a particular `error` or `message` came from, and you can include anything in the message part of it.\r\n\r\nwe have different types of `logs` this can be [found here](https://stackoverflow.com/questions/7959263/android-log-v-log-d-log-i-log-w-log-e-when-to-use-each-one)\r\n\r\nYou will find a `logcat` button on bottom side left side of android studio from there you can select depending on which type you want to see? in your case it&#39;s `debug`","title":"Logs in Android Studio","body":"<p>What you have done is write but you can get confused as in where's the log, Log has <code>tag</code> and <code>message</code>, Tags are usually Activity or fragment name so that its easier for one to locate from where did a particular <code>error</code> or <code>message</code> came from, and you can include anything in the message part of it.</p>\n<p>we have different types of <code>logs</code> this can be <a href=\"https://stackoverflow.com/questions/7959263/android-log-v-log-d-log-i-log-w-log-e-when-to-use-each-one\">found here</a></p>\n<p>You will find a <code>logcat</code> button on bottom side left side of android studio from there you can select depending on which type you want to see? in your case it's <code>debug</code></p>\n"},{"tags":[],"owner":{"account_id":23247271,"reputation":15,"user_id":17335675,"display_name":"RichieSambora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636112457,"creation_date":1636112457,"answer_id":69852696,"question_id":69852093,"body_markdown":"Ok, it works well\r\n\r\n    textView.setText(timeStamp)  \r\n\r\nBut I don&#39;t know why it doesn&#39;t work, when I want to build my string:\r\n\r\n    textView.setText(timeStamp + &quot;my string&quot;)  \r\n\r\n\r\n","title":"Logs in Android Studio","body":"<p>Ok, it works well</p>\n<pre><code>textView.setText(timeStamp)  \n</code></pre>\n<p>But I don't know why it doesn't work, when I want to build my string:</p>\n<pre><code>textView.setText(timeStamp + &quot;my string&quot;)  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636118642,"creation_date":1636118642,"answer_id":69853971,"question_id":69852093,"body_markdown":"Actually [Log][1] is not displaying in app , it will display in android studio . For displaying in app , we need to use [Toast][2] . your code is working fine you can check it in your android studio , as its shown in image [![Log in Android Studio][3]][3] We can display like this `Log.d(&quot;onCreate&quot;, timeStamp);` and search using TAG as onCreate.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/util/Log\r\n  [2]: https://developer.android.com/guide/topics/ui/notifiers/toasts\r\n  [3]: https://i.stack.imgur.com/OdRXz.png","title":"Logs in Android Studio","body":"<p>Actually <a href=\"https://developer.android.com/reference/android/util/Log\" rel=\"nofollow noreferrer\">Log</a> is not displaying in app , it will display in android studio . For displaying in app , we need to use <a href=\"https://developer.android.com/guide/topics/ui/notifiers/toasts\" rel=\"nofollow noreferrer\">Toast</a> . your code is working fine you can check it in your android studio , as its shown in image <a href=\"https://i.stack.imgur.com/OdRXz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OdRXz.png\" alt=\"Log in Android Studio\" /></a> We can display like this <code>Log.d(&quot;onCreate&quot;, timeStamp);</code> and search using TAG as onCreate.</p>\n"}],"owner":{"account_id":23247271,"reputation":15,"user_id":17335675,"display_name":"RichieSambora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1636118642,"creation_date":1636109439,"question_id":69852093,"body_markdown":"I am a newbie of Android Studio.\r\nI have a problem with display the logs in my app.\r\nFor example:\r\n\r\n    String timeStamp = new \r\n    SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Calendar.getInstance().getTime());\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cycle);\r\n        TextView textView = (TextView) findViewById(R.id.cykleoncreate);\r\n        Log.d(&quot;[ &quot; + timeStamp + &quot;]&quot;, &quot;[onCreate]&quot;);\r\n\r\nI only want to display this log in my app. How can I do it?\r\n","title":"Logs in Android Studio","body":"<p>I am a newbie of Android Studio.\nI have a problem with display the logs in my app.\nFor example:</p>\n<pre><code>String timeStamp = new \nSimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(Calendar.getInstance().getTime());\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_cycle);\n    TextView textView = (TextView) findViewById(R.id.cykleoncreate);\n    Log.d(&quot;[ &quot; + timeStamp + &quot;]&quot;, &quot;[onCreate]&quot;);\n</code></pre>\n<p>I only want to display this log in my app. How can I do it?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1310651051,"post_id":6694114,"comment_id":7921396,"body_markdown":"What exactly do you mean? You&#39;d normally just write a subclass and override the method as normal...","body":"What exactly do you mean? You&#39;d normally just write a subclass and override the method as normal..."},{"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"score":0,"creation_date":1310651176,"post_id":6694114,"comment_id":7921435,"body_markdown":"I think he/she means changing the existing method. Not sure though...","body":"I think he/she means changing the existing method. Not sure though..."}],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1310651142,"creation_date":1310651142,"answer_id":6694155,"question_id":6694114,"body_markdown":"You need to subclass the class inside your JAR and then override the method. There is no way to &quot;change&quot; an existing method on an existing class in Java unless you change the source code and recompile it.","title":"How to override a method in a jar file?","body":"<p>You need to subclass the class inside your JAR and then override the method. There is no way to \"change\" an existing method on an existing class in Java unless you change the source code and recompile it.</p>\n"},{"tags":[],"owner":{"account_id":422618,"reputation":171,"user_id":801489,"accept_rate":25,"display_name":"dotrc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310651370,"creation_date":1310651370,"answer_id":6694207,"question_id":6694114,"body_markdown":"If you mean to kind of &#39;patch&#39; the current behavior, then you&#39;ll need to copy the existing java file, update the method you want to override and place its .class ahead in the CLASSPATH.","title":"How to override a method in a jar file?","body":"<p>If you mean to kind of 'patch' the current behavior, then you'll need to copy the existing java file, update the method you want to override and place its .class ahead in the CLASSPATH.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1538561233,"creation_date":1310651436,"answer_id":6694228,"question_id":6694114,"body_markdown":"@Pablo Santa Cruz is right (+1): you cannot change existing code. You have to inherit existing class and override what you want in subclass.\r\n\r\nBUT if you really want to change something in existing compiled module you can still do it using byte-code modification techniques. There are a lot of packages that can do this. A popular higher level package that implements aspect-oriented paradigm for Java AspectJ can also help.\r\n","title":"How to override a method in a jar file?","body":"<p>@Pablo Santa Cruz is right (+1): you cannot change existing code. You have to inherit existing class and override what you want in subclass.</p>\n\n<p>BUT if you really want to change something in existing compiled module you can still do it using byte-code modification techniques. There are a lot of packages that can do this. A popular higher level package that implements aspect-oriented paradigm for Java AspectJ can also help.</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310651512,"creation_date":1310651512,"answer_id":6694245,"question_id":6694114,"body_markdown":"If you&#39;re talking about overriding the method in terms of inheriting from the class and then overriding it (i.e. from a polymorphic viewpoint) then unless the class is final you can extend from it as you would any other.\r\n\r\nIf you&#39;re talking about changing the method behaviour inside the jar file itself, you&#39;ll need to get the source, change the method yourself, then recompile it and repackage it in another jar file. Note however I really wouldn&#39;t recommend that approach especially if the jar is a common library jar - someone maintaining your code later on will be really confused / hacked off if the behaviour of a library class has been altered (bug fixes aside)!\r\n\r\nIf you haven&#39;t got the source then yes, you can hack the bytecode and do things that way. But I&#39;m pretty confident that isn&#39;t what&#39;s needed here :-)","title":"How to override a method in a jar file?","body":"<p>If you're talking about overriding the method in terms of inheriting from the class and then overriding it (i.e. from a polymorphic viewpoint) then unless the class is final you can extend from it as you would any other.</p>\n\n<p>If you're talking about changing the method behaviour inside the jar file itself, you'll need to get the source, change the method yourself, then recompile it and repackage it in another jar file. Note however I really wouldn't recommend that approach especially if the jar is a common library jar - someone maintaining your code later on will be really confused / hacked off if the behaviour of a library class has been altered (bug fixes aside)!</p>\n\n<p>If you haven't got the source then yes, you can hack the bytecode and do things that way. But I'm pretty confident that isn't what's needed here :-)</p>\n"},{"tags":[],"owner":{"account_id":146250,"reputation":186,"user_id":356587,"display_name":"Bjarni S&#230;varsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310651809,"creation_date":1310651809,"answer_id":6694312,"question_id":6694114,"body_markdown":"If you are thinking about overriding a method in an already loaded class then look at this https://stackoverflow.com/questions/1054777/java-reflection-how-do-i-override-or-generate-methods-at-runtime","title":"How to override a method in a jar file?","body":"<p>If you are thinking about overriding a method in an already loaded class then look at this <a href=\"https://stackoverflow.com/questions/1054777/java-reflection-how-do-i-override-or-generate-methods-at-runtime\">Java reflection: How do I override or generate methods at runtime?</a></p>\n"}],"owner":{"account_id":255799,"reputation":6589,"user_id":536091,"accept_rate":63,"display_name":"indira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16400,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6694228,"answer_count":5,"score":3,"last_activity_date":1636118626,"creation_date":1310650990,"question_id":6694114,"body_markdown":"I have a method in a class and a jar file is created using this class. The jar file is included in the project.\r\n\r\nHow can I override this method in the application?","title":"How to override a method in a jar file?","body":"<p>I have a method in a class and a jar file is created using this class. The jar file is included in the project.</p>\n<p>How can I override this method in the application?</p>\n"},{"tags":["java","date","exception","formatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1636118145,"post_id":69853782,"comment_id":123477860,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1636118363,"post_id":69853782,"comment_id":123477960,"body_markdown":"@celikler_data there is nothing wrong with your code. I just executed it since I didn&#39;t see any errors in it. It works just fine. What error do you get, exactly? Maybe the message that there is a possible exception you don&#39;t throw or catch?","body":"@celikler_data there is nothing wrong with your code. I just executed it since I didn&#39;t see any errors in it. It works just fine. What error do you get, exactly? Maybe the message that there is a possible exception you don&#39;t throw or catch?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636118455,"post_id":69853782,"comment_id":123477997,"body_markdown":"@Stultuske There is something wrong with the code. It does not specify the locale to be used for parsing. Not all languages have a month that is abbreviated `Mar`.","body":"@Stultuske There is something wrong with the code. It does not specify the locale to be used for parsing. Not all languages have a month that is abbreviated <code>Mar</code>."},{"owner":{"display_name":"user16516510"},"score":0,"creation_date":1636118518,"post_id":69853782,"comment_id":123478029,"body_markdown":"i get this error message: Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;2020 Mar 11 11:09:42&quot;","body":"i get this error message: Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;2020 Mar 11 11:09:42&quot;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1636118547,"post_id":69853782,"comment_id":123478042,"body_markdown":"@celikler_data Ole is on to something. What language is your system in?","body":"@celikler_data Ole is on to something. What language is your system in?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636118678,"post_id":69853782,"comment_id":123478122,"body_markdown":"We mean, the default language of your JVM, is it English, Turkish or something else? (It probably picks up a default language from the OS, not guaranteed.)","body":"We mean, the default language of your JVM, is it English, Turkish or something else? (It probably picks up a default language from the OS, not guaranteed.)"},{"owner":{"display_name":"user16516510"},"score":0,"creation_date":1636118832,"post_id":69853782,"comment_id":123478196,"body_markdown":"my system language is german..","body":"my system language is german.."},{"owner":{"display_name":"user16516510"},"score":0,"creation_date":1636118848,"post_id":69853782,"comment_id":123478202,"body_markdown":"Thank you so much it works now i changed the month","body":"Thank you so much it works now i changed the month"},{"owner":{"display_name":"user16516510"},"score":1,"creation_date":1636118883,"post_id":69853782,"comment_id":123478214,"body_markdown":"the reason of the error was the system language :))","body":"the reason of the error was the system language :))"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1636119189,"post_id":69853782,"comment_id":123478359,"body_markdown":"I still recommend that you switch to java.time. Use `LocalDateTime parsedDate = LocalDateTime.parse(s, DateTimeFormatter.ofPattern(&quot;u MMM d HH:mm:ss&quot;, Locale.ENGLISH));` (still remembering to specify locale). It yields `2020-03-11T11:09:42`.","body":"I still recommend that you switch to java.time. Use <code>LocalDateTime parsedDate = LocalDateTime.parse(s, DateTimeFormatter.ofPattern(&quot;u MMM d HH:mm:ss&quot;, Locale.ENGLISH));</code> (still remembering to specify locale). It yields <code>2020-03-11T11:09:42</code>."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1636119377,"post_id":69853782,"comment_id":123478433,"body_markdown":"[Never use SimpleDateFormat or DateTimeFormatter without a Locale](https://stackoverflow.com/a/65544056/10819573).","body":"<a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use SimpleDateFormat or DateTimeFormatter without a Locale</a>."}],"owner":{"display_name":"user16516510"},"comment_count":11,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636118207,"answer_count":0,"score":0,"last_activity_date":1636118373,"creation_date":1636117846,"question_id":69853782,"body_markdown":"I am a beginner and i want to convert this String into a Date Instance. Why get i an unparsable Exception ? Can anyone help me ?  \r\n\r\n\r\n    String s=  &quot;2020 Mar 11 11:09:42&quot;;\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy MMM d HH:mm:ss&quot;);\r\n    Date parsedDate =  formatter.parse(s);","title":"java Unparseable date &quot;yyyy MMM d HH:mm:ss&quot;","body":"<p>I am a beginner and i want to convert this String into a Date Instance. Why get i an unparsable Exception ? Can anyone help me ?</p>\n<pre><code>String s=  &quot;2020 Mar 11 11:09:42&quot;;\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy MMM d HH:mm:ss&quot;);\nDate parsedDate =  formatter.parse(s);\n</code></pre>\n"},{"tags":["java","jar","processbuilder"],"comments":[{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":0,"creation_date":1466690734,"post_id":37993915,"comment_id":63431552,"body_markdown":"Do you have any errors/exceptions within the process ?","body":"Do you have any errors/exceptions within the process ?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1466690855,"post_id":37993915,"comment_id":63431650,"body_markdown":"Try to give full path to `java`.","body":"Try to give full path to <code>java</code>."},{"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"score":0,"creation_date":1466691613,"post_id":37993915,"comment_id":63432255,"body_markdown":"@Micka&#235;lB: No unfortunately not.","body":"@Micka&#235;lB: No unfortunately not."},{"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"score":0,"creation_date":1466691631,"post_id":37993915,"comment_id":63432280,"body_markdown":"@PeterMmm: I tryed this too, but same result. Or wait...what do you mean with java. Do you mean full path to the jar-file or the java jre?","body":"@PeterMmm: I tryed this too, but same result. Or wait...what do you mean with java. Do you mean full path to the jar-file or the java jre?"},{"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"score":0,"creation_date":1466692070,"post_id":37993915,"comment_id":63432615,"body_markdown":"@PeterMmm: I now tried this: /usr/lib64/jvm/java-7-openjdk/bin/java -jar.... but this doesn&#39;t work either.","body":"@PeterMmm: I now tried this: /usr/lib64/jvm/java-7-openjdk/bin/java -jar.... but this doesn&#39;t work either."},{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":0,"creation_date":1466692153,"post_id":37993915,"comment_id":63432685,"body_markdown":"Did you use `getErrorStream()` (http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#getErrorStream()) or `getOutputStream()` (http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#getOutputStream()) to see what&#39;s happening ?","body":"Did you use <code>getErrorStream()</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#getErrorStream()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>) or <code>getOutputStream()</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#getOutputStream()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>) to see what&#39;s happening ?"},{"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"score":0,"creation_date":1466692296,"post_id":37993915,"comment_id":63432795,"body_markdown":"@Micka&#235;lB: Yes I did, please see my edit.","body":"@Micka&#235;lB: Yes I did, please see my edit."},{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":0,"creation_date":1466752796,"post_id":37993915,"comment_id":63458692,"body_markdown":"First you said that `java -jar test.jar 135 3 3 appName` is working and now you&#39;re saying that `java -jar test.jar &quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &quot;$4&quot;` is not working. It&#39;s wierd. Also why do you have 2 different JAR ?","body":"First you said that <code>java -jar test.jar 135 3 3 appName</code> is working and now you&#39;re saying that <code>java -jar test.jar &quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &quot;$4&quot;</code> is not working. It&#39;s wierd. Also why do you have 2 different JAR ?"},{"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"score":0,"creation_date":1466778075,"post_id":37993915,"comment_id":63473340,"body_markdown":"@Micka&#235;lB: Yes this is Weird! But when writing &quot;gnome-terminal -x&quot; infront of the statement it works. I don&#39;t get it why. Sorry for the confusing second Name of the jar. This was a copy/paste mistake.","body":"@Micka&#235;lB: Yes this is Weird! But when writing &quot;gnome-terminal -x&quot; infront of the statement it works. I don&#39;t get it why. Sorry for the confusing second Name of the jar. This was a copy/paste mistake."},{"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"score":0,"creation_date":1466785955,"post_id":37993915,"comment_id":63478147,"body_markdown":"@Micka&#235;lB: I just realised that I understood your question wrong. I said, that this command &#39;java -jar test.jar 135 3 3&#39; is working, becuase it works if I type it in the terminal. But when doing this in a file like test.sh and starting this test.sh from my javacode with processbuilder, it does not work. Hope it is clear now.","body":"@Micka&#235;lB: I just realised that I understood your question wrong. I said, that this command &#39;java -jar test.jar 135 3 3&#39; is working, becuase it works if I type it in the terminal. But when doing this in a file like test.sh and starting this test.sh from my javacode with processbuilder, it does not work. Hope it is clear now."},{"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"score":0,"creation_date":1466874288,"post_id":37993915,"comment_id":63502008,"body_markdown":"You are calling `process.getInputStream()` after process died. Instead you should call it before calling `process.waitFor()` or just use [processBuilder.redirectOutput()](https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html#redirectOutput(java.lang.ProcessBuilder.Redirect)). Also you better wrap `process.getInputStream()` and `process.getErrorStream()` with a [BufferedInputStream](https://docs.oracle.com/javase/7/docs/api/java/io/BufferedInputStream.html)","body":"You are calling <code>process.getInputStream()</code> after process died. Instead you should call it before calling <code>process.waitFor()</code> or just use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html#redirectOutput(java.lang.ProcessBuilder.Redirect)\" rel=\"nofollow noreferrer\">processBuilder.redirectOutput()</a>. Also you better wrap <code>process.getInputStream()</code> and <code>process.getErrorStream()</code> with a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/BufferedInputStream.html\" rel=\"nofollow noreferrer\">BufferedInputStream</a>"},{"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"score":0,"creation_date":1466954307,"post_id":37993915,"comment_id":63519731,"body_markdown":"@Onur: Could you write an answer for that, so that I can undestand that in detail?","body":"@Onur: Could you write an answer for that, so that I can undestand that in detail?"}],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466693031,"creation_date":1466692700,"answer_id":37994776,"question_id":37993915,"body_markdown":"Can you try this instead ?\r\n\r\nUPDATE\r\n------\r\n\r\n**Code :**\r\n\r\n    // Java runtime\r\n    Runtime runtime = Runtime.getRuntime();\r\n    // Command\r\n    String[] command = {&quot;java&quot;, &quot;-jar&quot;, &quot;test.jar&quot;, Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application};\r\n    // Process\r\n    Process process = runtime.exec(command, null, new File(&quot;/home/userName/TestBSC&quot;));","title":"Running jar with Processbuilder doesn&#39;t work properly","body":"<p>Can you try this instead ?</p>\n\n<h2>UPDATE</h2>\n\n<p><strong>Code :</strong></p>\n\n<pre><code>// Java runtime\nRuntime runtime = Runtime.getRuntime();\n// Command\nString[] command = {\"java\", \"-jar\", \"test.jar\", Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application};\n// Process\nProcess process = runtime.exec(command, null, new File(\"/home/userName/TestBSC\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1636118360,"creation_date":1466993958,"answer_id":38045043,"question_id":37993915,"body_markdown":"First of all, I couldn&#39;t reproduce your problem so this answer will be based solely on documentation.\r\n\r\n&gt; By default, the created subprocess does not have its own terminal or\r\n&gt; console. All its standard I/O (i.e. stdin, stdout, stderr) operations\r\n&gt; will be redirected to the parent process, where they can be accessed\r\n&gt; via the streams obtained using the methods getOutputStream(),\r\n&gt; getInputStream(), and getErrorStream(). The parent process uses these\r\n&gt; streams to feed input to and get output from the subprocess. **Because\r\n&gt; some native platforms only provide limited buffer size for standard\r\n&gt; input and output streams, failure to promptly write the input stream\r\n&gt; or read the output stream of the subprocess may cause the subprocess\r\n&gt; to block, or even deadlock.**\r\n\r\n&lt;sup&gt;[java.lang.Process Documentation][1]&lt;/sup&gt;\r\n\r\nBasically this tells you that you need to handle the streams of your external process **properly** otherwise it **may cause deadlocks** in some platforms. Which means if the command we run produces some output you have to read that output.\r\n\r\nSo lets take a look at your code; you are calling `process.waitFor()` to wait until process is finished but the thing is your **process can&#39;t finish** without you read/consume it&#39;s output hence you are creating a deadlock.\r\n\r\nHow to overcome this:\r\n\r\n 1. Method is using an `InputStreamConsumerThread` to handle input/error stream properly;\r\n\r\n        public class InputStreamConsumerThread extends Thread\r\n        {\r\n          private InputStream is;\r\n          private boolean sysout;\r\n          private StringBuilder output = new StringBuilder();\r\n\r\n          public InputStreamConsumerThread (InputStream is, boolean sysout)\r\n          {\r\n            this.is=is;\r\n            this.sysout=sysout;\r\n          }\r\n\r\n          public void run()\r\n          {\r\n            try(BufferedReader br = new BufferedReader(new InputStreamReader(is)))\r\n            {\r\n              for (String line = br.readLine(); line != null; line = br.readLine())\r\n              {\r\n                if (sysout)\r\n                  System.out.println(line);    \r\n                output.append(line).append(&quot;\\n&quot;);\r\n              }\r\n            }\r\n          }\r\n          public String getOutput(){\r\n            return output.toString();\r\n          }\r\n        }\r\nyour code will be;\r\n\r\n\t    String systemProperties = &quot;-Dkey=value&quot;;\t\r\n        ProcessBuilder pb = new ProcessBuilder( &quot;java&quot;, systemProperties, &quot;-jar&quot;, &quot;test.jar&quot;, Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\r\n\t\tpb.directory( new File(&quot;/home/userName/TestBSC&quot;) );\r\n\t\tProcess proc = pb.start();\r\n\r\n\t\tInputStreamConsumerThread inputConsumer = \r\n             new InputStreamConsumerThread(proc.getInputStream(), true);\r\n\t\tInputStreamConsumerThread errorConsumer = \r\n             new InputStreamConsumerThread(proc.getErrorStream(), true);\r\n\r\n        inputConsumer.start();\r\n        errorConsumer.start();\r\n\r\n\t\tSystem.out.println( &quot;Job running&quot; );\r\n\t\tproc.waitFor(); // wait until jar is finished\r\n\t\tSystem.out.println( &quot;Job finished&quot; );\r\n\r\n        inputConsumer.join(); // wait for consumer threads to read the whole output\r\n        errorConsumer.join();\r\n\r\n        String processOutput = inputConsumer.getOutput();\r\n        String processError = errorConsumer.getOutput();\r\n        \r\n        if(!processOutput.isEmpty()){\r\n            //there were some output\r\n        }\r\n\r\n        if(!processError.isEmpty()){\r\n            //there were some error\r\n        }\r\n\r\n\t\t\r\n\r\n 2. Method is using `ProcessBuilder` to redirect output. If you just want your  sub-process use the same input/output stream with your parent process, you can use [`ProcessBuilder.Redirect.INHERIT`][2] like this;\r\n\r\n\t\tProcessBuilder pb = new ProcessBuilder( &quot;java&quot;, &quot;-jar&quot;, &quot;test.jar&quot;, Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\r\n\t\tpb.directory( new File(&quot;/home/userName/TestBSC&quot;) );\r\n        pb.redirectErrorStream(true); // redirect error stream to output stream\r\n        pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n\t\tProcess proc = pb.start();\r\n\r\n\t\tSystem.out.println( &quot;Job running&quot; );\r\n        //since process builder will handle the streams for us\r\n        //we can call waitFor() safely\r\n\t\tproc.waitFor(); \r\n\t\tSystem.out.println( &quot;Job finished&quot; );\r\n\r\n 3. Method is using a 3rd party library. If you don&#39;t wanna hassle with `ProcessBuilder` and the consumer threads yourself, there are 2 libraries that I know of that handles creating sub-process very nicely.\r\n&gt; A low-overhead, non-blocking I/O, external Process execution\r\n&gt; implementation for Java. It is a replacement for\r\n&gt; java.lang.ProcessBuilder and java.lang.Process.\r\n&gt; \r\n&gt; **Have you ever been annoyed by the fact that whenever you spawn a\r\n&gt; process in Java you have to create two or three &quot;pumper&quot; threads (for\r\n&gt; every process) to pull data out of the stdout and stderr pipes and\r\n&gt; pump data into stdin?** If your code starts a lot of processes you can\r\n&gt; have dozens or hundreds of threads doing nothing but pumping data.\r\n&gt; \r\n&gt; NuProcess uses the JNA library to use platform-specific native APIs to\r\n&gt; achive non-blocking I/O on the pipes between your Java process and the\r\n&gt; spawned processes.\r\n\r\n &lt;sup&gt;[NuProcess][3]&lt;/sup&gt;\r\n&gt; There are many approaches to take when running external processes from\r\n&gt; Java. There are the JRE options such as the Runtime.exec() and\r\n&gt; ProcessBuilder. Also there is the Apache Commons Exec. Nevertheless we\r\n&gt; created yet another process library (YAPL).\r\n&gt; \r\n&gt; Some of the reasons for this crazy endeavour\r\n&gt; \r\n&gt; **Improved handling of streams Reading/writing to streams Redirecting\r\n&gt; stderr to stdout** Improved handling of timeouts Improved checking of\r\n&gt; exit codes Improved API One liners for quite complex usecases One\r\n&gt; liners to get process output into a String Access to the Process\r\n&gt; object available Support for async processes ( Future ) Improved\r\n&gt; logging with SLF4J API Support for multiple processes\r\n\r\n &lt;sup&gt;[ZT Process Executor][4]&lt;/sup&gt;\r\n\r\n\r\nAlso there are other pitfalls in Java&#39;s Process API, take a look at this JavaWorld article for more info [When Runtime.exec() won&#39;t][5].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.Redirect.html#INHERIT\r\n  [3]: https://github.com/brettwooldridge/NuProcess\r\n  [4]: https://github.com/zeroturnaround/zt-exec\r\n  [5]: http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html","title":"Running jar with Processbuilder doesn&#39;t work properly","body":"<p>First of all, I couldn't reproduce your problem so this answer will be based solely on documentation.</p>\n<blockquote>\n<p>By default, the created subprocess does not have its own terminal or\nconsole. All its standard I/O (i.e. stdin, stdout, stderr) operations\nwill be redirected to the parent process, where they can be accessed\nvia the streams obtained using the methods getOutputStream(),\ngetInputStream(), and getErrorStream(). The parent process uses these\nstreams to feed input to and get output from the subprocess. <strong>Because\nsome native platforms only provide limited buffer size for standard\ninput and output streams, failure to promptly write the input stream\nor read the output stream of the subprocess may cause the subprocess\nto block, or even deadlock.</strong></p>\n</blockquote>\n<p><sup><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\">java.lang.Process Documentation</a></sup></p>\n<p>Basically this tells you that you need to handle the streams of your external process <strong>properly</strong> otherwise it <strong>may cause deadlocks</strong> in some platforms. Which means if the command we run produces some output you have to read that output.</p>\n<p>So lets take a look at your code; you are calling <code>process.waitFor()</code> to wait until process is finished but the thing is your <strong>process can't finish</strong> without you read/consume it's output hence you are creating a deadlock.</p>\n<p>How to overcome this:</p>\n<ol>\n<li><p>Method is using an <code>InputStreamConsumerThread</code> to handle input/error stream properly;</p>\n<pre><code>public class InputStreamConsumerThread extends Thread\n{\n  private InputStream is;\n  private boolean sysout;\n  private StringBuilder output = new StringBuilder();\n\n  public InputStreamConsumerThread (InputStream is, boolean sysout)\n  {\n    this.is=is;\n    this.sysout=sysout;\n  }\n\n  public void run()\n  {\n    try(BufferedReader br = new BufferedReader(new InputStreamReader(is)))\n    {\n      for (String line = br.readLine(); line != null; line = br.readLine())\n      {\n        if (sysout)\n          System.out.println(line);    \n        output.append(line).append(&quot;\\n&quot;);\n      }\n    }\n  }\n  public String getOutput(){\n    return output.toString();\n  }\n}\n</code></pre>\n</li>\n</ol>\n<p>your code will be;</p>\n<pre><code>    String systemProperties = &quot;-Dkey=value&quot;;    \n    ProcessBuilder pb = new ProcessBuilder( &quot;java&quot;, systemProperties, &quot;-jar&quot;, &quot;test.jar&quot;, Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\n    pb.directory( new File(&quot;/home/userName/TestBSC&quot;) );\n    Process proc = pb.start();\n\n    InputStreamConsumerThread inputConsumer = \n         new InputStreamConsumerThread(proc.getInputStream(), true);\n    InputStreamConsumerThread errorConsumer = \n         new InputStreamConsumerThread(proc.getErrorStream(), true);\n\n    inputConsumer.start();\n    errorConsumer.start();\n\n    System.out.println( &quot;Job running&quot; );\n    proc.waitFor(); // wait until jar is finished\n    System.out.println( &quot;Job finished&quot; );\n\n    inputConsumer.join(); // wait for consumer threads to read the whole output\n    errorConsumer.join();\n\n    String processOutput = inputConsumer.getOutput();\n    String processError = errorConsumer.getOutput();\n    \n    if(!processOutput.isEmpty()){\n        //there were some output\n    }\n\n    if(!processError.isEmpty()){\n        //there were some error\n    }\n\n    \n</code></pre>\n<ol start=\"2\">\n<li><p>Method is using <code>ProcessBuilder</code> to redirect output. If you just want your  sub-process use the same input/output stream with your parent process, you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.Redirect.html#INHERIT\" rel=\"nofollow noreferrer\"><code>ProcessBuilder.Redirect.INHERIT</code></a> like this;</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder( &quot;java&quot;, &quot;-jar&quot;, &quot;test.jar&quot;, Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\npb.directory( new File(&quot;/home/userName/TestBSC&quot;) );\npb.redirectErrorStream(true); // redirect error stream to output stream\npb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\nProcess proc = pb.start();\n\nSystem.out.println( &quot;Job running&quot; );\n//since process builder will handle the streams for us\n//we can call waitFor() safely\nproc.waitFor(); \nSystem.out.println( &quot;Job finished&quot; );\n</code></pre>\n</li>\n<li><p>Method is using a 3rd party library. If you don't wanna hassle with <code>ProcessBuilder</code> and the consumer threads yourself, there are 2 libraries that I know of that handles creating sub-process very nicely.</p>\n</li>\n</ol>\n<blockquote>\n<p>A low-overhead, non-blocking I/O, external Process execution\nimplementation for Java. It is a replacement for\njava.lang.ProcessBuilder and java.lang.Process.</p>\n<p><strong>Have you ever been annoyed by the fact that whenever you spawn a\nprocess in Java you have to create two or three &quot;pumper&quot; threads (for\nevery process) to pull data out of the stdout and stderr pipes and\npump data into stdin?</strong> If your code starts a lot of processes you can\nhave dozens or hundreds of threads doing nothing but pumping data.</p>\n<p>NuProcess uses the JNA library to use platform-specific native APIs to\nachive non-blocking I/O on the pipes between your Java process and the\nspawned processes.</p>\n</blockquote>\n<p><sup><a href=\"https://github.com/brettwooldridge/NuProcess\" rel=\"nofollow noreferrer\">NuProcess</a></sup></p>\n<blockquote>\n<p>There are many approaches to take when running external processes from\nJava. There are the JRE options such as the Runtime.exec() and\nProcessBuilder. Also there is the Apache Commons Exec. Nevertheless we\ncreated yet another process library (YAPL).</p>\n<p>Some of the reasons for this crazy endeavour</p>\n<p><strong>Improved handling of streams Reading/writing to streams Redirecting\nstderr to stdout</strong> Improved handling of timeouts Improved checking of\nexit codes Improved API One liners for quite complex usecases One\nliners to get process output into a String Access to the Process\nobject available Support for async processes ( Future ) Improved\nlogging with SLF4J API Support for multiple processes</p>\n</blockquote>\n<p><sup><a href=\"https://github.com/zeroturnaround/zt-exec\" rel=\"nofollow noreferrer\">ZT Process Executor</a></sup></p>\n<p>Also there are other pitfalls in Java's Process API, take a look at this JavaWorld article for more info <a href=\"http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">When Runtime.exec() won't</a>.</p>\n"}],"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4339,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":38045043,"answer_count":2,"score":7,"last_activity_date":1636118360,"creation_date":1466690585,"question_id":37993915,"body_markdown":"I have the following code:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder( &quot;java&quot;, &quot;-jar&quot;, &quot;test.jar&quot;, Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\r\n    pb.directory( new File(&quot;/home/userName/TestBSC&quot;) );\r\n    Process proc = pb.start();\r\n\r\nWhen running the jar file from my terminal with this command:\r\n\r\n&gt; java -jar test.jar 135 3 3 appName\r\n\r\nThen it works like a charm. The jar pushes some stuff in my database so I see that it is working. But when doing it from my JavaServlet with the processBuilder-code mentioned above, I don&#39;t get any data in my database and I don&#39;t get any errors either.\r\n\r\nHowever the process itself is running, I checked it with &quot;ps ax&quot; in my terminal. So I wonder where is here the difference? What am I doing wrong?\r\n\r\nHas someone an idea?\r\n\r\n**Edit:** more Code:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder( &quot;java&quot;, &quot;-jar&quot;, &quot;test.jar&quot;, Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\r\n    pb.directory( new File(&quot;/home/userName/TestBSC&quot;) );\r\n    Process proc = pb.start();\r\n        \t\r\n    System.out.println( &quot;Job running&quot; );\r\n    proc.waitFor(); // wait until jar is finished\r\n\tSystem.out.println( &quot;Job finished&quot; );\r\n\t\t\t\r\n\tInputStream in = proc.getInputStream();\r\n\tInputStream err = proc.getErrorStream();\r\n\t\t\t\r\n\tbyte result[] = new byte[ in.available() ];\r\n\tin.read( result, 0, result.length );\r\n\tSystem.out.println( new String( result ) );\r\n\t\t\t\r\n\tbyte error[] = new byte[ err.available() ];\r\n\terr.read( error, 0, error.length );\r\n\tSystem.out.println( new String( error ) );\r\n\r\n\r\n-----------\r\n**UPDATE:**\r\n-----------\r\nI tried to call a shell-script instead of my jar. So I called a shell script with the processbuilder from my java-file.\r\n\r\nMy shell script does this:\r\n\r\n    java -jar test.jar &quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &quot;$4&quot;\r\nWell it still didn&#39;t work. So I tried this:\r\n\r\n    gnome-terminal -x java -jar test.jar &quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &quot;$4&quot;\r\n\r\nAnd suddenly it works!! **BUT** it opens the gnome-terminal, which executes the jar-file.\r\n\r\nSo I wonder, could this has anything to do with the output which isn&#39;t shown in eclipse? I really don&#39;t get it. This is now a nice workaround. But I really would like to get this working without having my terminal opening each time the jar gets executed.\r\n\r\n","title":"Running jar with Processbuilder doesn&#39;t work properly","body":"<p>I have the following code:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder( \"java\", \"-jar\", \"test.jar\", Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\npb.directory( new File(\"/home/userName/TestBSC\") );\nProcess proc = pb.start();\n</code></pre>\n\n<p>When running the jar file from my terminal with this command:</p>\n\n<blockquote>\n  <p>java -jar test.jar 135 3 3 appName</p>\n</blockquote>\n\n<p>Then it works like a charm. The jar pushes some stuff in my database so I see that it is working. But when doing it from my JavaServlet with the processBuilder-code mentioned above, I don't get any data in my database and I don't get any errors either.</p>\n\n<p>However the process itself is running, I checked it with \"ps ax\" in my terminal. So I wonder where is here the difference? What am I doing wrong?</p>\n\n<p>Has someone an idea?</p>\n\n<p><strong>Edit:</strong> more Code:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder( \"java\", \"-jar\", \"test.jar\", Integer.toString( jobId ), Integer.toString( software ), Integer.toString( entryPoint ), application );\npb.directory( new File(\"/home/userName/TestBSC\") );\nProcess proc = pb.start();\n\nSystem.out.println( \"Job running\" );\nproc.waitFor(); // wait until jar is finished\nSystem.out.println( \"Job finished\" );\n\nInputStream in = proc.getInputStream();\nInputStream err = proc.getErrorStream();\n\nbyte result[] = new byte[ in.available() ];\nin.read( result, 0, result.length );\nSystem.out.println( new String( result ) );\n\nbyte error[] = new byte[ err.available() ];\nerr.read( error, 0, error.length );\nSystem.out.println( new String( error ) );\n</code></pre>\n\n<hr>\n\n<h2><strong>UPDATE:</strong></h2>\n\n<p>I tried to call a shell-script instead of my jar. So I called a shell script with the processbuilder from my java-file.</p>\n\n<p>My shell script does this:</p>\n\n<pre><code>java -jar test.jar \"$1\" \"$2\" \"$3\" \"$4\"\n</code></pre>\n\n<p>Well it still didn't work. So I tried this:</p>\n\n<pre><code>gnome-terminal -x java -jar test.jar \"$1\" \"$2\" \"$3\" \"$4\"\n</code></pre>\n\n<p>And suddenly it works!! <strong>BUT</strong> it opens the gnome-terminal, which executes the jar-file.</p>\n\n<p>So I wonder, could this has anything to do with the output which isn't shown in eclipse? I really don't get it. This is now a nice workaround. But I really would like to get this working without having my terminal opening each time the jar gets executed.</p>\n"},{"tags":["java","methods","interface","static"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1600071313,"post_id":63868869,"comment_id":112961273,"body_markdown":"Also https://stackoverflow.com/questions/2475259/can-i-override-and-overload-static-methods-in-java and https://stackoverflow.com/questions/2831426/is-it-possible-to-override-a-static-method-in-derived-class","body":"Also <a href=\"https://stackoverflow.com/questions/2475259/can-i-override-and-overload-static-methods-in-java\" title=\"can i override and overload static methods in java\">stackoverflow.com/questions/2475259/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/2831426/is-it-possible-to-override-a-static-method-in-derived-class\" title=\"is it possible to override a static method in derived class\">stackoverflow.com/questions/2831426/&hellip;</a>"},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1600100222,"post_id":63868869,"comment_id":112974887,"body_markdown":"The static method on the interface is completely unrelated to any class that implements the interface. Classes implementing the interface know nothing of the interface (except for default methods).","body":"The static method on the interface is completely unrelated to any class that implements the interface. Classes implementing the interface know nothing of the interface (except for default methods)."}],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1599991687,"creation_date":1599991687,"answer_id":63869535,"question_id":63868869,"body_markdown":"If a subclass defines a static method with the same signature as another static method in its parent class, then the method in the subclass *hides* the one in the superclass. This is distinct from overriding an instance method in two ways: \r\n\r\n - When you override an instance method and invoke it, you invoke the one in the subclass.\r\n - When you do the same for a static method, the invoked version depends on from which class you invoke it.\r\n\r\nAs for interfaces, static methods in interfaces are not inherited. Therefore it&#39;s technically not an override. In your example, you could call `log()` from class `DD`, or you could call `log()` from interface `CC` (in which case you&#39;d need to call it using the name of the interface: `CC.log()`). They are separate methods.\r\n\r\n[This](https://docs.oracle.com/javase/tutorial/java/IandI/override.html) is a good resource on overriding methods that covers both static and instance methods in classes, and static methods in interfaces.","title":"Why can I override a static interface method?","body":"<p>If a subclass defines a static method with the same signature as another static method in its parent class, then the method in the subclass <em>hides</em> the one in the superclass. This is distinct from overriding an instance method in two ways:</p>\n<ul>\n<li>When you override an instance method and invoke it, you invoke the one in the subclass.</li>\n<li>When you do the same for a static method, the invoked version depends on from which class you invoke it.</li>\n</ul>\n<p>As for interfaces, static methods in interfaces are not inherited. Therefore it's technically not an override. In your example, you could call <code>log()</code> from class <code>DD</code>, or you could call <code>log()</code> from interface <code>CC</code> (in which case you'd need to call it using the name of the interface: <code>CC.log()</code>). They are separate methods.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"noreferrer\">This</a> is a good resource on overriding methods that covers both static and instance methods in classes, and static methods in interfaces.</p>\n"}],"owner":{"account_id":15031267,"reputation":159,"user_id":10849324,"display_name":"Adolis Pali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4273,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":1,"score":6,"last_activity_date":1636118133,"creation_date":1599987041,"question_id":63868869,"body_markdown":"I can&#39;t find any good source explaining why:\r\n\r\n```java\r\nabstract class AA {\r\n    public static void log() {}\r\n}\r\n\r\nclass BB extends AA {\r\n    public void log() {} //error\r\n}\r\n```\r\n\r\n```java\r\ninterface CC {\r\n    public static void log() {}\r\n}\r\n\r\nclass DD implements CC {\r\n    public void log() {} //Ok\r\n}\r\n```\r\n","title":"Why can I override a static interface method?","body":"<p>I can't find any good source explaining why:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class AA {\n    public static void log() {}\n}\n\nclass BB extends AA {\n    public void log() {} //error\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>interface CC {\n    public static void log() {}\n}\n\nclass DD implements CC {\n    public void log() {} //Ok\n}\n</code></pre>\n"},{"tags":["java","kotlin","exception","crash"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636104976,"creation_date":1636104535,"answer_id":69851061,"question_id":69850726,"body_markdown":"I don&#39;t know if this is what happens here, but we should not really cast read-only types to mutable like this. If the return type of `getProductMap()` is `Map`, not `MutableMap` then this is probably for a reason and we should not try to use it as it is mutable.\r\n\r\nFor example, [buildList(): List](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/build-list.html) utility actually returns a list that implements `MutableList`, but is in fact read-only and throws exceptions when we try to modify it. Similarly, collections returned from utils like [Collections.unmodifiableMap()](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableMap(java.util.Map)) can be cast to mutable.\r\n\r\nI think what you really need to do here is to create a mutable copy of the data in the map:\r\n\r\n```kotlin\r\nbinding.myView.getProductMap().toMutableMap()\r\n```\r\nOr, if `getProductMap()` returns nullable:\r\n\r\n```kotlin\r\nbinding.myView.getProductMap()?.toMutableMap() ?: mutableMapOf()\r\n```\r\nAs a side note, your code seems strange to me. It uses the contents of the source map if it is mutable, but it ignores its contents if it is not.","title":"UnsupportedOperationException when adding to a map in kotlin","body":"<p>I don't know if this is what happens here, but we should not really cast read-only types to mutable like this. If the return type of <code>getProductMap()</code> is <code>Map</code>, not <code>MutableMap</code> then this is probably for a reason and we should not try to use it as it is mutable.</p>\n<p>For example, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/build-list.html\" rel=\"nofollow noreferrer\">buildList(): List</a> utility actually returns a list that implements <code>MutableList</code>, but is in fact read-only and throws exceptions when we try to modify it. Similarly, collections returned from utils like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableMap(java.util.Map)\" rel=\"nofollow noreferrer\">Collections.unmodifiableMap()</a> can be cast to mutable.</p>\n<p>I think what you really need to do here is to create a mutable copy of the data in the map:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>binding.myView.getProductMap().toMutableMap()\n</code></pre>\n<p>Or, if <code>getProductMap()</code> returns nullable:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>binding.myView.getProductMap()?.toMutableMap() ?: mutableMapOf()\n</code></pre>\n<p>As a side note, your code seems strange to me. It uses the contents of the source map if it is mutable, but it ignores its contents if it is not.</p>\n"},{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636118030,"creation_date":1636118030,"answer_id":69853834,"question_id":69850726,"body_markdown":"I think the issue here is that **[`MutableMap`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/) is a [mapped type](https://kotlinlang.org/docs/java-interop.html#mapped-types)**: the Kotlin compiler knows about the difference between `Map` and `MutableMap`, but they both compile down to [`java.util.Map`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html) in the Java&lt;sup&gt;*&lt;/sup&gt; bytecode. That&#39;s because the underlying Java classes don&#39;t distinguish mutable from immutable collections; they use the same interface for both, and immutable implementations simply throw `UnsupportedOperationException`.\r\n\r\nSo in this case, **the `as?` safe cast doesn&#39;t do what you want**: it&#39;s effectively checking only whether the object is a `Map`, not whether it&#39;s mutable. (I don&#39;t know Android, but if `getProductMap()` is defined to return a `Map`, then that boils down to a simple null check.)\r\n\r\nThere are several approaches to fixing this, depending on your needs, e.g.:\r\n\r\n* If you happen to know the concrete, mutable type you expect (such as `ArrayList`), then you could cast to that. Since `ArrayList`s are always mutable, the `put()` should then be safe; but it would do nothing any other type of map was provided.\r\n\r\n* You could trap the `UnsupportedOperationException` in a `try`…`catch` block. This would avoid the error, but do nothing if an immutable map was provided.\r\n\r\n* You could create a mutable map from the given map, using `toMutableMap()`. This would always update the map — but it might be a private map not used by the view.\r\n\r\n---\r\n\r\n&lt;sup&gt;(* The stack trace shows that this question is about Kotlin/JVM.  You might get different results on other platforms.)&lt;/sup&gt;","title":"UnsupportedOperationException when adding to a map in kotlin","body":"<p>I think the issue here is that <strong><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/\" rel=\"nofollow noreferrer\"><code>MutableMap</code></a> is a <a href=\"https://kotlinlang.org/docs/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a></strong>: the Kotlin compiler knows about the difference between <code>Map</code> and <code>MutableMap</code>, but they both compile down to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>java.util.Map</code></a> in the Java<sup>*</sup> bytecode. That's because the underlying Java classes don't distinguish mutable from immutable collections; they use the same interface for both, and immutable implementations simply throw <code>UnsupportedOperationException</code>.</p>\n<p>So in this case, <strong>the <code>as?</code> safe cast doesn't do what you want</strong>: it's effectively checking only whether the object is a <code>Map</code>, not whether it's mutable. (I don't know Android, but if <code>getProductMap()</code> is defined to return a <code>Map</code>, then that boils down to a simple null check.)</p>\n<p>There are several approaches to fixing this, depending on your needs, e.g.:</p>\n<ul>\n<li><p>If you happen to know the concrete, mutable type you expect (such as <code>ArrayList</code>), then you could cast to that. Since <code>ArrayList</code>s are always mutable, the <code>put()</code> should then be safe; but it would do nothing any other type of map was provided.</p>\n</li>\n<li><p>You could trap the <code>UnsupportedOperationException</code> in a <code>try</code>…<code>catch</code> block. This would avoid the error, but do nothing if an immutable map was provided.</p>\n</li>\n<li><p>You could create a mutable map from the given map, using <code>toMutableMap()</code>. This would always update the map — but it might be a private map not used by the view.</p>\n</li>\n</ul>\n<hr />\n<p><sup>(* The stack trace shows that this question is about Kotlin/JVM.  You might get different results on other platforms.)</sup></p>\n"}],"owner":{"account_id":4751411,"reputation":181,"user_id":3841352,"display_name":"Pol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636118030,"creation_date":1636102817,"question_id":69850726,"body_markdown":"I have a crash, that only happened once in my app, due to an UnsupportedOperationException when I try to add an item to a map. For the stacktrace it seems that an AbstractMap is instantiated instead of a MutableMap. The code is in kotlin:\r\n\r\n\r\n``` \r\nval productMap: MutableMap&lt;ProductModel, Int&gt; =\r\n            binding.myView.getProductMap() as? MutableMap&lt;ProductModel, Int&gt;\r\n                ?: mutableMapOf()\r\n\r\n            presenter.getProduct()?.let {\r\n                productMap.put(it, 0)\r\n            }\r\n```\r\n\r\nCould it be that kotlin/java did something weird behind curtains or is there anything I am missing?\r\n\r\nThe stacktrace:\r\n```\r\nFatal Exception: java.lang.UnsupportedOperationException\r\n       at java.util.AbstractMap.put(AbstractMap.java:218)\r\n       at com.package.MyView.method2(MyView.java:108)\r\n       at com.package.MyParentView.method1(MyParentView.java:1278)\r\n\r\n","title":"UnsupportedOperationException when adding to a map in kotlin","body":"<p>I have a crash, that only happened once in my app, due to an UnsupportedOperationException when I try to add an item to a map. For the stacktrace it seems that an AbstractMap is instantiated instead of a MutableMap. The code is in kotlin:</p>\n<pre><code>val productMap: MutableMap&lt;ProductModel, Int&gt; =\n            binding.myView.getProductMap() as? MutableMap&lt;ProductModel, Int&gt;\n                ?: mutableMapOf()\n\n            presenter.getProduct()?.let {\n                productMap.put(it, 0)\n            }\n</code></pre>\n<p>Could it be that kotlin/java did something weird behind curtains or is there anything I am missing?</p>\n<p>The stacktrace:</p>\n<pre><code>Fatal Exception: java.lang.UnsupportedOperationException\n       at java.util.AbstractMap.put(AbstractMap.java:218)\n       at com.package.MyView.method2(MyView.java:108)\n       at com.package.MyParentView.method1(MyParentView.java:1278)\n\n</code></pre>\n"},{"tags":["java","wicket","el"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1637231117,"post_id":69853791,"comment_id":123772895,"body_markdown":"You could use Wicket for this (seems a bit overkill, but hey ;))","body":"You could use Wicket for this (seems a bit overkill, but hey ;))"}],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1636117866,"creation_date":1636117866,"question_id":69853791,"body_markdown":"When reading properties in a Wicket Application we can have properties like this and the values will be automatically replaced with the values of the model object.\r\n\r\n     weather.message=Weather station reports that the temperature is ${currentTemperature} ${units}\r\n\r\nNow I want to use something similar in a non-wicket application, but can&#39;t find a library to do it. I looked at commons-configuration, but it seems very complicate compared to how easy it is to set it up with Wicket.","title":"Wicket alike property substitution","body":"<p>When reading properties in a Wicket Application we can have properties like this and the values will be automatically replaced with the values of the model object.</p>\n<pre><code> weather.message=Weather station reports that the temperature is ${currentTemperature} ${units}\n</code></pre>\n<p>Now I want to use something similar in a non-wicket application, but can't find a library to do it. I looked at commons-configuration, but it seems very complicate compared to how easy it is to set it up with Wicket.</p>\n"},{"tags":["java","date","timezone"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1320058360,"creation_date":1320058360,"answer_id":7952706,"question_id":7952686,"body_markdown":"You&#39;re printing out the result of `Date.toString()`. A `Date` doesn&#39;t have any concept of a timezone - it&#39;s just the number of milliseconds since the UTC Unix epoch. `Date.toString()` *always* uses the system default time zone.\r\n\r\nNote that you shouldn&#39;t be expecting &quot;Mon Oct 31 13:19:56 GMT 2011&quot; given that you&#39;ve given a time which specifies a GMT hour of 11, not 13.\r\n\r\nIf you want to use a specific time zone for printing, you should use another `DateFormat` for the printing, rather than using `Date.toString()`. (`Date.toString()` keeps causing confusion like this; it&#39;s really unfortunate.)","title":"Java SimpleDateFormat Wrong Timezone after parsing","body":"<p>You're printing out the result of <code>Date.toString()</code>. A <code>Date</code> doesn't have any concept of a timezone - it's just the number of milliseconds since the UTC Unix epoch. <code>Date.toString()</code> <em>always</em> uses the system default time zone.</p>\n\n<p>Note that you shouldn't be expecting \"Mon Oct 31 13:19:56 GMT 2011\" given that you've given a time which specifies a GMT hour of 11, not 13.</p>\n\n<p>If you want to use a specific time zone for printing, you should use another <code>DateFormat</code> for the printing, rather than using <code>Date.toString()</code>. (<code>Date.toString()</code> keeps causing confusion like this; it's really unfortunate.)</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626467057,"creation_date":1626466213,"answer_id":68414757,"question_id":7952686,"body_markdown":"`java.util.Date` does not hold timezone information.\r\n---\r\n\r\nA `java.util.Date` object simply represents the number of ***milliseconds*** since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT (or UTC). Since it does not hold any timezone information, its **[`toString`](https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toString--)** function applies the JVM&#39;s timezone to return a `String` in the format, `EEE MMM dd HH:mm:ss zzz yyyy`, derived from this ***milliseconds*** value. To get the `String` representation of the `java.util.Date` object in a different format and **timezone**, you need to use `SimpleDateFormat` with the desired format and the applicable **timezone**.\r\n\r\nApart from this, there are a couple of problems with your code:\r\n\r\n 1. Use `H` instead of `h` for the 24-Hour format. The letter, `h` is used for the 12-Hour format (i.e. with AM/PM marker).\r\n 2. Even though `MMM` works for parsing the long name of the month (e.g. January) with `SimpleDateFormat`, it is meant for the 3-letter month name (e.g. Jan). If you try doing it with the modern Date-Time API, you will be greeted with the [`DateTimeParseException`][1]. You should use `MMMM` for the long name of the month.\r\n\r\n**Demo incorporating these points:**\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    import java.util.TimeZone;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tString strDateTime = &quot;31 October 2011 11:19:56 GMT&quot;;\r\n    \r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd MMMM yyyy HH:mm:ss z&quot;, Locale.ENGLISH);\r\n    \t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \r\n    \t\tDate date = sdf.parse(strDateTime);\r\n    \r\n    \t\tString strDate = sdf.format(date);\r\n    \t\tSystem.out.println(strDate);\r\n    \r\n    \t\t// Some other format\r\n    \t\tsdf = new SimpleDateFormat(&quot;MMMM dd HH:mm:ss z yyyy&quot;, Locale.ENGLISH);\r\n    \t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \t\tstrDate = sdf.format(date);\r\n    \t\tSystem.out.println(strDate);\r\n    \r\n    \t\t// The last format with some other timezone\r\n    \t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;America/New_York&quot;));\r\n    \t\tstrDate = sdf.format(date);\r\n    \t\tSystem.out.println(strDate);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    31 October 2011 11:19:56 GMT\r\n    October 31 11:19:56 GMT 2011\r\n    October 31 07:19:56 EDT 2011\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\nSwitch to `java.time` API.\r\n---\r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDateTime = &quot;31 October 2011 11:19:56 GMT&quot;;\r\n    \r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd MMMM uuuu HH:mm:ss z&quot;, Locale.ENGLISH);\r\n    \r\n    \t\tZonedDateTime zdt = ZonedDateTime.parse(strDateTime, dtf);\r\n    \t\tSystem.out.println(zdt);\r\n    \r\n    \t\t// Some other format\r\n    \t\tDateTimeFormatter dtfAnother = DateTimeFormatter.ofPattern(&quot;MMMM dd HH:mm:ss z uuuu&quot;, Locale.ENGLISH);\r\n    \t\tString strDate = dtfAnother.format(zdt);\r\n    \t\tSystem.out.println(strDate);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    2011-10-31T11:19:56Z[GMT]\r\n    October 31 11:19:56 GMT 2011\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][3]\r\n\r\nThe `Z` in the output is the [timezone designator](https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators) for zero-timezone offset. It stands for Zulu and specifies the `Etc/UTC` timezone (which has the timezone offset of `+00:00` hours).\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\r\n  [2]: https://ideone.com/s0nH99\r\n  [3]: https://ideone.com/uieg2D\r\n","title":"Java SimpleDateFormat Wrong Timezone after parsing","body":"<h2 id=\"java.util.date-does-not-hold-timezone-information\"><code>java.util.Date</code> does not hold timezone information.</h2>\n<p>A <code>java.util.Date</code> object simply represents the number of <em><strong>milliseconds</strong></em> since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT (or UTC). Since it does not hold any timezone information, its <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toString--\" rel=\"nofollow noreferrer\"><code>toString</code></a></strong> function applies the JVM's timezone to return a <code>String</code> in the format, <code>EEE MMM dd HH:mm:ss zzz yyyy</code>, derived from this <em><strong>milliseconds</strong></em> value. To get the <code>String</code> representation of the <code>java.util.Date</code> object in a different format and <strong>timezone</strong>, you need to use <code>SimpleDateFormat</code> with the desired format and the applicable <strong>timezone</strong>.</p>\n<p>Apart from this, there are a couple of problems with your code:</p>\n<ol>\n<li>Use <code>H</code> instead of <code>h</code> for the 24-Hour format. The letter, <code>h</code> is used for the 12-Hour format (i.e. with AM/PM marker).</li>\n<li>Even though <code>MMM</code> works for parsing the long name of the month (e.g. January) with <code>SimpleDateFormat</code>, it is meant for the 3-letter month name (e.g. Jan). If you try doing it with the modern Date-Time API, you will be greeted with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\" rel=\"nofollow noreferrer\"><code>DateTimeParseException</code></a>. You should use <code>MMMM</code> for the long name of the month.</li>\n</ol>\n<p><strong>Demo incorporating these points:</strong></p>\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.TimeZone;\n\npublic class Main {\n    public static void main(String[] args) throws ParseException {\n        String strDateTime = &quot;31 October 2011 11:19:56 GMT&quot;;\n\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd MMMM yyyy HH:mm:ss z&quot;, Locale.ENGLISH);\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n\n        Date date = sdf.parse(strDateTime);\n\n        String strDate = sdf.format(date);\n        System.out.println(strDate);\n\n        // Some other format\n        sdf = new SimpleDateFormat(&quot;MMMM dd HH:mm:ss z yyyy&quot;, Locale.ENGLISH);\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n        strDate = sdf.format(date);\n        System.out.println(strDate);\n\n        // The last format with some other timezone\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;America/New_York&quot;));\n        strDate = sdf.format(date);\n        System.out.println(strDate);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>31 October 2011 11:19:56 GMT\nOctober 31 11:19:56 GMT 2011\nOctober 31 07:19:56 EDT 2011\n</code></pre>\n<p><a href=\"https://ideone.com/s0nH99\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h2 id=\"switch-to-java.time-api\">Switch to <code>java.time</code> API.</h2>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDateTime = &quot;31 October 2011 11:19:56 GMT&quot;;\n\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd MMMM uuuu HH:mm:ss z&quot;, Locale.ENGLISH);\n\n        ZonedDateTime zdt = ZonedDateTime.parse(strDateTime, dtf);\n        System.out.println(zdt);\n\n        // Some other format\n        DateTimeFormatter dtfAnother = DateTimeFormatter.ofPattern(&quot;MMMM dd HH:mm:ss z uuuu&quot;, Locale.ENGLISH);\n        String strDate = dtfAnother.format(zdt);\n        System.out.println(strDate);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2011-10-31T11:19:56Z[GMT]\nOctober 31 11:19:56 GMT 2011\n</code></pre>\n<p><a href=\"https://ideone.com/uieg2D\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>The <code>Z</code> in the output is the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">timezone designator</a> for zero-timezone offset. It stands for Zulu and specifies the <code>Etc/UTC</code> timezone (which has the timezone offset of <code>+00:00</code> hours).</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":256724,"reputation":919,"user_id":537646,"accept_rate":90,"display_name":"IgorDiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6798,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":7952706,"answer_count":2,"score":6,"last_activity_date":1636117809,"creation_date":1320058218,"question_id":7952686,"body_markdown":"Why: When I give input date string with GMT timezone, `SimpleDateFormat` parses it and outputs EET timezone?\r\n\r\n```java\r\npublic static String DATE_FORMAT=&quot;dd MMM yyyy hh:mm:ss z&quot;;\r\npublic static String CURRENT_DATE_STRING =&quot;31 October 2011 11:19:56 GMT&quot;;\r\n...\r\nSimpleDateFormat simpleDateFormat =  new SimpleDateFormat(DATE_FORMAT, Locale.US);\r\nsimpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\nSystem.out.println(simpleDateFormat.parseObject(CURRENT_DATE_STRING));\r\n```\r\n\r\nAnd the output is:\r\n\r\n&gt; Mon Oct 31 13:19:56 EET 2011\r\n\r\nrather than\r\n\r\n&gt; Mon Oct 31 13:19:56 GMT 2011\r\n","title":"Java SimpleDateFormat Wrong Timezone after parsing","body":"<p>Why: When I give input date string with GMT timezone, <code>SimpleDateFormat</code> parses it and outputs EET timezone?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String DATE_FORMAT=&quot;dd MMM yyyy hh:mm:ss z&quot;;\npublic static String CURRENT_DATE_STRING =&quot;31 October 2011 11:19:56 GMT&quot;;\n...\nSimpleDateFormat simpleDateFormat =  new SimpleDateFormat(DATE_FORMAT, Locale.US);\nsimpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\nSystem.out.println(simpleDateFormat.parseObject(CURRENT_DATE_STRING));\n</code></pre>\n<p>And the output is:</p>\n<blockquote>\n<p>Mon Oct 31 13:19:56 EET 2011</p>\n</blockquote>\n<p>rather than</p>\n<blockquote>\n<p>Mon Oct 31 13:19:56 GMT 2011</p>\n</blockquote>\n"},{"tags":["java","scala","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":901397,"reputation":384,"user_id":937467,"display_name":"Archie"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1414590860,"creation_date":1315597962,"answer_id":7366757,"question_id":7230330,"body_markdown":"Ok ... I was looking to do the same stuff and for the life of me I couldn&#39;t figure out how. The APIs all talk about generating the key pairs and then generating the cert but not how to sign a CSR. Somehow, quite by chance - here&#39;s what I found. \r\n\r\nSince PKCS10 represents the format of the request (of the CSR), you first need to put your CSR into a PKCS10Holder. Then, you pass it to a CertificateBuilder (since CertificateGenerator is deprecated). The way you pass it is to call getSubject on the holder.  \r\n\r\nHere&#39;s the code (Java, please adapt as you need):\r\n\r\n    public static X509Certificate sign(PKCS10CertificationRequest inputCSR, PrivateKey caPrivate, KeyPair pair)\r\n\t\t\tthrows InvalidKeyException, NoSuchAlgorithmException,\r\n\t\t\tNoSuchProviderException, SignatureException, IOException,\r\n\t\t\tOperatorCreationException, CertificateException {\t\r\n\t\t\r\n\t\tAlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder()\r\n\t\t\t\t.find(&quot;SHA1withRSA&quot;);\r\n\t\tAlgorithmIdentifier digAlgId = new DefaultDigestAlgorithmIdentifierFinder()\r\n\t\t\t\t.find(sigAlgId);\r\n\r\n\t\tAsymmetricKeyParameter foo = PrivateKeyFactory.createKey(caPrivate\r\n\t\t\t\t.getEncoded());\r\n\t\tSubjectPublicKeyInfo keyInfo = SubjectPublicKeyInfo.getInstance(pair\r\n\t\t\t\t.getPublic().getEncoded());\r\n\t\t\r\n\t\tPKCS10CertificationRequestHolder pk10Holder = new PKCS10CertificationRequestHolder(inputCSR);\r\n        //in newer version of BC such as 1.51, this is \r\n        //PKCS10CertificationRequest pk10Holder = new PKCS10CertificationRequest(inputCSR);\r\n\r\n\t\tX509v3CertificateBuilder myCertificateGenerator = new X509v3CertificateBuilder(\r\n\t\t\t\tnew X500Name(&quot;CN=issuer&quot;), new BigInteger(&quot;1&quot;), new Date(\r\n\t\t\t\t\t\tSystem.currentTimeMillis()), new Date(\r\n\t\t\t\t\t\tSystem.currentTimeMillis() + 30 * 365 * 24 * 60 * 60\r\n\t\t\t\t\t\t\t\t* 1000), pk10Holder.getSubject(), keyInfo);\r\n\t\t\r\n\t\tContentSigner sigGen = new BcRSAContentSignerBuilder(sigAlgId, digAlgId)\r\n\t\t\t\t.build(foo);\t\t\r\n\t\t\r\n\t\tX509CertificateHolder holder = myCertificateGenerator.build(sigGen);\r\n\t\tX509CertificateStructure eeX509CertificateStructure = holder.toASN1Structure();\t\r\n        //in newer version of BC such as 1.51, this is \r\n        //org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure = holder.toASN1Structure();\t\r\n\t\t\r\n\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;, &quot;BC&quot;);\r\n\t\r\n\t\t// Read Certificate\r\n\t\tInputStream is1 = new ByteArrayInputStream(eeX509CertificateStructure.getEncoded());\r\n\t\tX509Certificate theCert = (X509Certificate) cf.generateCertificate(is1);\r\n\t\tis1.close();\r\n\t\treturn theCert;\r\n\t\t//return null;\r\n\t}\r\n\r\n\r\nAs you can see, I&#39;ve generated the request outside this method, but passed it in. Then, I have the PKCS10CertificationRequestHolder to accept this as a constructor arg. \r\n\r\nNext, in the X509v3CertificateBuilder arguments, you&#39;ll see the pk10Holder.getSubject - this is apparently all you need? If something is missing, please let me know too!!! It worked for me. The cert I generated correctly had the DN info I needed. \r\n\r\nWikipedia has a killer section on PKCS - &lt;http://en.wikipedia.org/wiki/PKCS&gt;","title":"Sign CSR using Bouncy Castle","body":"<p>Ok ... I was looking to do the same stuff and for the life of me I couldn't figure out how. The APIs all talk about generating the key pairs and then generating the cert but not how to sign a CSR. Somehow, quite by chance - here's what I found. </p>\n\n<p>Since PKCS10 represents the format of the request (of the CSR), you first need to put your CSR into a PKCS10Holder. Then, you pass it to a CertificateBuilder (since CertificateGenerator is deprecated). The way you pass it is to call getSubject on the holder.  </p>\n\n<p>Here's the code (Java, please adapt as you need):</p>\n\n<pre><code>public static X509Certificate sign(PKCS10CertificationRequest inputCSR, PrivateKey caPrivate, KeyPair pair)\n        throws InvalidKeyException, NoSuchAlgorithmException,\n        NoSuchProviderException, SignatureException, IOException,\n        OperatorCreationException, CertificateException {   \n\n    AlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder()\n            .find(\"SHA1withRSA\");\n    AlgorithmIdentifier digAlgId = new DefaultDigestAlgorithmIdentifierFinder()\n            .find(sigAlgId);\n\n    AsymmetricKeyParameter foo = PrivateKeyFactory.createKey(caPrivate\n            .getEncoded());\n    SubjectPublicKeyInfo keyInfo = SubjectPublicKeyInfo.getInstance(pair\n            .getPublic().getEncoded());\n\n    PKCS10CertificationRequestHolder pk10Holder = new PKCS10CertificationRequestHolder(inputCSR);\n    //in newer version of BC such as 1.51, this is \n    //PKCS10CertificationRequest pk10Holder = new PKCS10CertificationRequest(inputCSR);\n\n    X509v3CertificateBuilder myCertificateGenerator = new X509v3CertificateBuilder(\n            new X500Name(\"CN=issuer\"), new BigInteger(\"1\"), new Date(\n                    System.currentTimeMillis()), new Date(\n                    System.currentTimeMillis() + 30 * 365 * 24 * 60 * 60\n                            * 1000), pk10Holder.getSubject(), keyInfo);\n\n    ContentSigner sigGen = new BcRSAContentSignerBuilder(sigAlgId, digAlgId)\n            .build(foo);        \n\n    X509CertificateHolder holder = myCertificateGenerator.build(sigGen);\n    X509CertificateStructure eeX509CertificateStructure = holder.toASN1Structure(); \n    //in newer version of BC such as 1.51, this is \n    //org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure = holder.toASN1Structure(); \n\n    CertificateFactory cf = CertificateFactory.getInstance(\"X.509\", \"BC\");\n\n    // Read Certificate\n    InputStream is1 = new ByteArrayInputStream(eeX509CertificateStructure.getEncoded());\n    X509Certificate theCert = (X509Certificate) cf.generateCertificate(is1);\n    is1.close();\n    return theCert;\n    //return null;\n}\n</code></pre>\n\n<p>As you can see, I've generated the request outside this method, but passed it in. Then, I have the PKCS10CertificationRequestHolder to accept this as a constructor arg. </p>\n\n<p>Next, in the X509v3CertificateBuilder arguments, you'll see the pk10Holder.getSubject - this is apparently all you need? If something is missing, please let me know too!!! It worked for me. The cert I generated correctly had the DN info I needed. </p>\n\n<p>Wikipedia has a killer section on PKCS - <a href=\"http://en.wikipedia.org/wiki/PKCS\">http://en.wikipedia.org/wiki/PKCS</a></p>\n"},{"tags":[],"owner":{"account_id":23285,"reputation":3784,"user_id":58237,"accept_rate":77,"display_name":"Fredrik Jansson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1316692433,"creation_date":1316692433,"answer_id":7514320,"question_id":7230330,"body_markdown":"Archie thanks!\r\n\r\nI made some changes to you code, see below.\r\n\r\nThe main changes are to pass the issuer&#39;s name and use the public key from the CSR.\r\n\r\n    val caCert = PEMToCert(issuerPEM).get\r\n    val issuer = PrincipalUtil.getIssuerX509Principal(caCert)\r\n    val csr = new PKCS10CertificationRequestHolder(csrData)\r\n    val serial = BigInt(CertSerialNumber.nextSerialNumber)\r\n    val spi = csr.getSubjectPublicKeyInfo();\r\n    \r\n    val certgen = new X509v3CertificateBuilder(\r\n        new X500Name(issuer.getName),\r\n        serial.bigInteger,\r\n        new java.util.Date(),\r\n        new Date(System.currentTimeMillis() + 30 * 365 * 24 * 60 * 60 * 1000),\r\n        csr.getSubject,\r\n        csr.getSubjectPublicKeyInfo())\r\n            \r\n    certgen.addExtension(\r\n        X509Extension.subjectKeyIdentifier,\r\n        false,\r\n        spi\r\n    )\r\n\r\n    val issuerPK = PEMToPK(issuerPKPEM, caPassword).get\r\n    val contentSigner = new JcaContentSignerBuilder(contentSignerAlg).setProvider(BC).build(issuerPK.getPrivate())\r\n    val x509 = (new JcaX509CertificateConverter).setProvider(BC).getCertificate(certgen.build(contentSigner))\r\n","title":"Sign CSR using Bouncy Castle","body":"<p>Archie thanks!</p>\n\n<p>I made some changes to you code, see below.</p>\n\n<p>The main changes are to pass the issuer's name and use the public key from the CSR.</p>\n\n<pre><code>val caCert = PEMToCert(issuerPEM).get\nval issuer = PrincipalUtil.getIssuerX509Principal(caCert)\nval csr = new PKCS10CertificationRequestHolder(csrData)\nval serial = BigInt(CertSerialNumber.nextSerialNumber)\nval spi = csr.getSubjectPublicKeyInfo();\n\nval certgen = new X509v3CertificateBuilder(\n    new X500Name(issuer.getName),\n    serial.bigInteger,\n    new java.util.Date(),\n    new Date(System.currentTimeMillis() + 30 * 365 * 24 * 60 * 60 * 1000),\n    csr.getSubject,\n    csr.getSubjectPublicKeyInfo())\n\ncertgen.addExtension(\n    X509Extension.subjectKeyIdentifier,\n    false,\n    spi\n)\n\nval issuerPK = PEMToPK(issuerPKPEM, caPassword).get\nval contentSigner = new JcaContentSignerBuilder(contentSignerAlg).setProvider(BC).build(issuerPK.getPrivate())\nval x509 = (new JcaX509CertificateConverter).setProvider(BC).getCertificate(certgen.build(contentSigner))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74797,"reputation":1629,"user_id":214756,"display_name":"Mike B"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1372095377,"creation_date":1372095377,"answer_id":17281551,"question_id":7230330,"body_markdown":"The following code is based on the above answers but will compile and, given a PEM encoded CSR (of the kind exported by keytool), will return a valid PEM-encoded signedData object containing a signed Certificate chain (of the type that can be imported by keytool).\r\n\r\nOh and it&#39;s against BouncyCastle 1.49.\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.security.*;\r\n    import java.io.*;\r\n    import java.util.Date;\r\n    import java.math.BigInteger;\r\n    import java.security.cert.X509Certificate;\r\n    import org.bouncycastle.asn1.x509.*;\r\n    import org.bouncycastle.asn1.x500.*;\r\n    import org.bouncycastle.asn1.pkcs.*;\r\n    import org.bouncycastle.openssl.*;\r\n    import org.bouncycastle.pkcs.*;\r\n    import org.bouncycastle.cert.*;\r\n    import org.bouncycastle.cms.*;\r\n    import org.bouncycastle.cms.jcajce.*;\r\n    import org.bouncycastle.crypto.util.*;\r\n    import org.bouncycastle.operator.*;\r\n    import org.bouncycastle.operator.bc.*;\r\n    import org.bouncycastle.operator.jcajce.*;\r\n    import org.bouncycastle.util.encoders.Base64;\r\n    \r\n    /**\r\n     * Given a Keystore containing a private key and certificate and a Reader containing a PEM-encoded\r\n     * Certificiate Signing Request (CSR), sign the CSR with that private key and return the signed\r\n     * certificate as a PEM-encoded PKCS#7 signedData object. The returned value can be written to a file\r\n     * and imported into a Java KeyStore with &quot;keytool -import -trustcacerts -alias subjectalias -file file.pem&quot;\r\n     *\r\n     * @param pemcsr a Reader from which will be read a PEM-encoded CSR (begins &quot;-----BEGIN NEW CERTIFICATE REQUEST-----&quot;)\r\n     * @param validity the number of days to sign the Certificate for\r\n     * @param keystore the KeyStore containing the CA signing key\r\n     * @param alias the alias of the CA signing key in the KeyStore\r\n     * @param password the password of the CA signing key in the KeyStore\r\n     *\r\n     * @return a String containing the PEM-encoded signed Certificate (begins &quot;-----BEGIN PKCS #7 SIGNED DATA-----&quot;)\r\n     */\r\n    public static String signCSR(Reader pemcsr, int validity, KeyStore keystore, String alias, char[] password) throws Exception {\r\n        PrivateKey cakey = (PrivateKey)keystore.getKey(alias, password);\r\n        X509Certificate cacert = (X509Certificate)keystore.getCertificate(alias);\r\n        PEMReader reader = new PEMReader(pemcsr);\r\n        PKCS10CertificationRequest csr = new PKCS10CertificationRequest((CertificationRequest)reader.readObject());\r\n    \r\n        AlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA1withRSA&quot;);\r\n        AlgorithmIdentifier digAlgId = new DefaultDigestAlgorithmIdentifierFinder().find(sigAlgId);\r\n        X500Name issuer = new X500Name(cacert.getSubjectX500Principal().getName());\r\n        BigInteger serial = new BigInteger(32, new SecureRandom());\r\n        Date from = new Date();\r\n        Date to = new Date(System.currentTimeMillis() + (validity * 86400000L));\r\n    \r\n        X509v3CertificateBuilder certgen = new X509v3CertificateBuilder(issuer, serial, from, to, csr.getSubject(), csr.getSubjectPublicKeyInfo());\r\n        certgen.addExtension(X509Extension.basicConstraints, false, new BasicConstraints(false));\r\n        certgen.addExtension(X509Extension.subjectKeyIdentifier, false, new SubjectKeyIdentifier(csr.getSubjectPublicKeyInfo()));\r\n        certgen.addExtension(X509Extension.authorityKeyIdentifier, false, new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(new X509Name(cacert.getSubjectX500Principal().getName()))), cacert.getSerialNumber()));\r\n    \r\n        ContentSigner signer = new BcRSAContentSignerBuilder(sigAlgId, digAlgId).build(PrivateKeyFactory.createKey(cakey.getEncoded()));\r\n        X509CertificateHolder holder = certgen.build(signer);\r\n        byte[] certencoded = holder.toASN1Structure().getEncoded();\r\n    \r\n        CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\r\n        signer = new JcaContentSignerBuilder(&quot;SHA1withRSA&quot;).build(cakey);\r\n        generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).build(signer, cacert));\r\n        generator.addCertificate(new X509CertificateHolder(certencoded));\r\n        generator.addCertificate(new X509CertificateHolder(cacert.getEncoded()));\r\n        CMSTypedData content = new CMSProcessableByteArray(certencoded);\r\n        CMSSignedData signeddata = generator.generate(content, true);\r\n    \r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        out.write(&quot;-----BEGIN PKCS #7 SIGNED DATA-----\\n&quot;.getBytes(&quot;ISO-8859-1&quot;));\r\n        out.write(Base64.encode(signeddata.getEncoded()));\r\n        out.write(&quot;\\n-----END PKCS #7 SIGNED DATA-----\\n&quot;.getBytes(&quot;ISO-8859-1&quot;));\r\n        out.close();\r\n        return new String(out.toByteArray(), &quot;ISO-8859-1&quot;);\r\n    }","title":"Sign CSR using Bouncy Castle","body":"<p>The following code is based on the above answers but will compile and, given a PEM encoded CSR (of the kind exported by keytool), will return a valid PEM-encoded signedData object containing a signed Certificate chain (of the type that can be imported by keytool).</p>\n\n<p>Oh and it's against BouncyCastle 1.49.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.*;\nimport java.io.*;\nimport java.util.Date;\nimport java.math.BigInteger;\nimport java.security.cert.X509Certificate;\nimport org.bouncycastle.asn1.x509.*;\nimport org.bouncycastle.asn1.x500.*;\nimport org.bouncycastle.asn1.pkcs.*;\nimport org.bouncycastle.openssl.*;\nimport org.bouncycastle.pkcs.*;\nimport org.bouncycastle.cert.*;\nimport org.bouncycastle.cms.*;\nimport org.bouncycastle.cms.jcajce.*;\nimport org.bouncycastle.crypto.util.*;\nimport org.bouncycastle.operator.*;\nimport org.bouncycastle.operator.bc.*;\nimport org.bouncycastle.operator.jcajce.*;\nimport org.bouncycastle.util.encoders.Base64;\n\n/**\n * Given a Keystore containing a private key and certificate and a Reader containing a PEM-encoded\n * Certificiate Signing Request (CSR), sign the CSR with that private key and return the signed\n * certificate as a PEM-encoded PKCS#7 signedData object. The returned value can be written to a file\n * and imported into a Java KeyStore with \"keytool -import -trustcacerts -alias subjectalias -file file.pem\"\n *\n * @param pemcsr a Reader from which will be read a PEM-encoded CSR (begins \"-----BEGIN NEW CERTIFICATE REQUEST-----\")\n * @param validity the number of days to sign the Certificate for\n * @param keystore the KeyStore containing the CA signing key\n * @param alias the alias of the CA signing key in the KeyStore\n * @param password the password of the CA signing key in the KeyStore\n *\n * @return a String containing the PEM-encoded signed Certificate (begins \"-----BEGIN PKCS #7 SIGNED DATA-----\")\n */\npublic static String signCSR(Reader pemcsr, int validity, KeyStore keystore, String alias, char[] password) throws Exception {\n    PrivateKey cakey = (PrivateKey)keystore.getKey(alias, password);\n    X509Certificate cacert = (X509Certificate)keystore.getCertificate(alias);\n    PEMReader reader = new PEMReader(pemcsr);\n    PKCS10CertificationRequest csr = new PKCS10CertificationRequest((CertificationRequest)reader.readObject());\n\n    AlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder().find(\"SHA1withRSA\");\n    AlgorithmIdentifier digAlgId = new DefaultDigestAlgorithmIdentifierFinder().find(sigAlgId);\n    X500Name issuer = new X500Name(cacert.getSubjectX500Principal().getName());\n    BigInteger serial = new BigInteger(32, new SecureRandom());\n    Date from = new Date();\n    Date to = new Date(System.currentTimeMillis() + (validity * 86400000L));\n\n    X509v3CertificateBuilder certgen = new X509v3CertificateBuilder(issuer, serial, from, to, csr.getSubject(), csr.getSubjectPublicKeyInfo());\n    certgen.addExtension(X509Extension.basicConstraints, false, new BasicConstraints(false));\n    certgen.addExtension(X509Extension.subjectKeyIdentifier, false, new SubjectKeyIdentifier(csr.getSubjectPublicKeyInfo()));\n    certgen.addExtension(X509Extension.authorityKeyIdentifier, false, new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(new X509Name(cacert.getSubjectX500Principal().getName()))), cacert.getSerialNumber()));\n\n    ContentSigner signer = new BcRSAContentSignerBuilder(sigAlgId, digAlgId).build(PrivateKeyFactory.createKey(cakey.getEncoded()));\n    X509CertificateHolder holder = certgen.build(signer);\n    byte[] certencoded = holder.toASN1Structure().getEncoded();\n\n    CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\n    signer = new JcaContentSignerBuilder(\"SHA1withRSA\").build(cakey);\n    generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).build(signer, cacert));\n    generator.addCertificate(new X509CertificateHolder(certencoded));\n    generator.addCertificate(new X509CertificateHolder(cacert.getEncoded()));\n    CMSTypedData content = new CMSProcessableByteArray(certencoded);\n    CMSSignedData signeddata = generator.generate(content, true);\n\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    out.write(\"-----BEGIN PKCS #7 SIGNED DATA-----\\n\".getBytes(\"ISO-8859-1\"));\n    out.write(Base64.encode(signeddata.getEncoded()));\n    out.write(\"\\n-----END PKCS #7 SIGNED DATA-----\\n\".getBytes(\"ISO-8859-1\"));\n    out.close();\n    return new String(out.toByteArray(), \"ISO-8859-1\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1250322,"reputation":435,"user_id":1210852,"accept_rate":43,"display_name":"Tsonev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409226667,"creation_date":1409217275,"answer_id":25545069,"question_id":7230330,"body_markdown":"@Mike B - have you tested your example thoroughly ? I get a strange behavior with your code:\r\nIm using bc15on version. When I sign the client request with a self signed CA I import it in IE and it shows the certificate as valid with the CA in the chain![enter image description here][1]\r\n\r\n\r\nHowever you can see that when imported in FF the images on the right the CA in the chain is missing and ff cannot verify it to a Trusted Authority. Also with IE or FF when attempting to authenticate to the web server with it it fails as http cannot verify it to a trusted authority too.\r\n\r\nIve made some changes to your code just to suit my needs but in general it should be the same, can anyone give me some pointers onto what Im doing wrong here:\r\n\r\n        public static String GenCert(long SerNum, int addYear, int addHours,\r\n                                 String reqText,\r\n                                 String reqName) throws Exception,\r\n                                                        SQLException {\r\n\r\n        String result = &quot;&quot;;\r\n        reqText = csr; // hard code base64 csr for testing purposes\r\n        reqText =\r\n            &quot;-----BEGIN CERTIFICATE REQUEST-----\\n&quot; + reqText +\r\n            &quot;\\n-----END CERTIFICATE REQUEST-----\\n&quot;;\r\n\r\n        try {\r\n\r\n\r\n            String castr = ca + &quot;\\n&quot;; // hard code base64 CA pub key for testing\r\n            String strPriv = caPrivk + &quot;\\n&quot;; // hard code base64 CA private key for testing\r\n\r\n\r\n            byte[] encKey = castr.getBytes();\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            X509Certificate caCert =\r\n                (X509Certificate)cf.generateCertificate(new ByteArrayInputStream(encKey));\r\n\r\n            PEMParser pr = new PEMParser(new StringReader(strPriv));\r\n            Object obj = pr.readObject();\r\n            JcaPEMKeyConverter converter =\r\n                new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n            KeyPair kp;\r\n            kp = converter.getKeyPair((PEMKeyPair)obj);\r\n\r\n            PrivateKey privateKey = kp.getPrivate();\r\n\r\n            // parse the request\r\n            PEMParser pRd =\r\n                new PEMParser(new InputStreamReader(new ByteArrayInputStream(reqText.getBytes())));\r\n            PKCS10CertificationRequest csr =\r\n                (PKCS10CertificationRequest)pRd.readObject();\r\n\r\n            String strReq = csr.getSubject().toString();\r\n\r\n            strReq = strReq.substring(strReq.indexOf(&quot;CN=&quot;) + 3).trim();\r\n            if (strReq.indexOf(&quot;,&quot;) &gt; 0)\r\n                strReq = strReq.substring(0, strReq.indexOf(&quot;,&quot;)).trim();\r\n            if (!strReq.equals(reqName)) {\r\n                return &quot;&quot;;\r\n            }\r\n\r\n            AlgorithmIdentifier sigAlgId =\r\n                new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA1withRSA&quot;); //SHA1withRSA\r\n            AlgorithmIdentifier digAlgId =\r\n                new DefaultDigestAlgorithmIdentifierFinder().find(sigAlgId);\r\n            X500Name issuer =\r\n                new X500Name(caCert.getSubjectX500Principal().getName());\r\n            BigInteger serial = BigInteger.valueOf(SerNum);\r\n\r\n            // The date object returns GMT format\r\n            Date date = new Date(System.currentTimeMillis() - 180 * 1000);\r\n            date.setHours(date.getHours() + addHours);\r\n            Calendar cal = Calendar.getInstance();\r\n            Date from = date;\r\n            cal.setTime(date);\r\n            cal.add(1, addYear);\r\n            Date to = cal.getTime();\r\n\r\n            SubjectPublicKeyInfo pkInfo = csr.getSubjectPublicKeyInfo();\r\n            //SubjectPublicKeyInfo pkInfo = SubjectPublicKeyInfo.getInstance(kp.getPublic().getEncoded());\r\n            RSAKeyParameters rsa =\r\n                (RSAKeyParameters)PublicKeyFactory.createKey(pkInfo);\r\n            RSAPublicKeySpec rsaSpec =\r\n                new RSAPublicKeySpec(rsa.getModulus(), rsa.getExponent());\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey rsaPub = kf.generatePublic(rsaSpec);\r\n\r\n\r\n            X509v3CertificateBuilder certgen =\r\n                new X509v3CertificateBuilder(issuer, serial, from, to,\r\n                                             csr.getSubject(),\r\n                                             csr.getSubjectPublicKeyInfo());\r\n\r\n            certgen.addExtension(X509Extension.basicConstraints, false,\r\n                                 new BasicConstraints(false));\r\n            certgen.addExtension(X509Extension.subjectKeyIdentifier, false,\r\n                                 new SubjectKeyIdentifier(pkInfo));\r\n            //            certgen.addExtension(X509Extension.subjectKeyIdentifier, false,\r\n            //                                 new SubjectKeyIdentifierStructure(rsaPub)); // In old version done with much more extensive parsing\r\n            certgen.addExtension(X509Extensions.AuthorityKeyIdentifier, false,\r\n                                 new AuthorityKeyIdentifierStructure(caCert));\r\n            //            certgen.addExtension(X509Extension.authorityKeyIdentifier, false,\r\n            //                                 new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(new X509Name(caCert.getSubjectX500Principal().getName()))),\r\n            //                                                            caCert.getSerialNumber()));\r\n\r\n            // add certificate purposes\r\n            ASN1EncodableVector vector = new ASN1EncodableVector();\r\n            vector.add(new DERObjectIdentifier(&quot;1.3.6.1.5.5.7.3.2&quot;));\r\n            vector.add(new DERObjectIdentifier(&quot;1.3.6.1.4.1.311.20.2.2&quot;));\r\n            vector.add(new DERObjectIdentifier(&quot;1.3.6.1.4.1.311.10.3.12&quot;));\r\n            vector.add(new DERObjectIdentifier(&quot;1.3.6.1.5.5.7.3.4&quot;));\r\n\r\n\r\n            DERSequence seq = new DERSequence(vector);\r\n            certgen.addExtension(X509Extensions.ExtendedKeyUsage, false, seq);\r\n\r\n\r\n            ContentSigner signer =\r\n                new BcRSAContentSignerBuilder(sigAlgId,\r\n                                              digAlgId).build(PrivateKeyFactory.createKey(privateKey.getEncoded()));\r\n            X509CertificateHolder holder = certgen.build(signer);\r\n            byte[] certencoded = holder.toASN1Structure().getEncoded();\r\n\r\n            CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\r\n            signer =\r\n                new JcaContentSignerBuilder(&quot;SHA1withRSA&quot;).build(privateKey);\r\n            generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).build(signer,\r\n                                                                                                                                       caCert));\r\n            generator.addCertificate(new X509CertificateHolder(certencoded));\r\n            generator.addCertificate(new X509CertificateHolder(caCert.getEncoded()));\r\n            CMSTypedData content = new CMSProcessableByteArray(certencoded);\r\n            CMSSignedData signeddata = generator.generate(content, true);\r\n\r\n            result = Base64Utils.base64Encode(signeddata.getEncoded());\r\n\r\n        } catch (Exception e) {\r\n            result = e.toString();\r\n            getStackTrace(e);\r\n        }\r\n        return result;\r\n    }\r\n\r\nIn the old version of my code where I used bouncy castle 1.4 we used the X509V3CertificateGenerator and just before returning the content we used to build the chain like so:\r\n\r\n                X509Certificate newCert =\r\n                certGen.generateX509Certificate(privateKey, &quot;BC&quot;);\r\n            //=============================\r\n            List chain = new ArrayList();\r\n            chain.add(newCert);\r\n            //-------------------------------------------------\r\n            //  create the CertPath with old BouncyCastle\r\n            CertificateFactory fact =\r\n                CertificateFactory.getInstance(&quot;X.509&quot;, &quot;BC&quot;);\r\n            CertPath path = fact.generateCertPath(chain);\r\n            result = Base64Utils.base64Encode(path.getEncoded(&quot;PKCS7&quot;));\r\n**UPDATE**: OK Case solved. Thanks to [this thread][2] Obviously when using:\r\n \r\ncacert.getSubjectX500Principal().getName() \r\n\r\nI got the names of the issuer in reverse, which broke the chain, using instead: \r\n\r\ncert.getSubjectX500Principal().getEncoded() solved it for me! So when your CA does not get verified upto trusted authority make sure you are getting the names correctly.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Gqq0z.png\r\n  [2]: https://stackoverflow.com/questions/23736305/certificate-generated-through-csr-signing-with-bouncycastle-considered-untrusted","title":"Sign CSR using Bouncy Castle","body":"<p>@Mike B - have you tested your example thoroughly ? I get a strange behavior with your code:\nIm using bc15on version. When I sign the client request with a self signed CA I import it in IE and it shows the certificate as valid with the CA in the chain<img src=\"https://i.stack.imgur.com/Gqq0z.png\" alt=\"enter image description here\"></p>\n\n<p>However you can see that when imported in FF the images on the right the CA in the chain is missing and ff cannot verify it to a Trusted Authority. Also with IE or FF when attempting to authenticate to the web server with it it fails as http cannot verify it to a trusted authority too.</p>\n\n<p>Ive made some changes to your code just to suit my needs but in general it should be the same, can anyone give me some pointers onto what Im doing wrong here:</p>\n\n<pre><code>    public static String GenCert(long SerNum, int addYear, int addHours,\n                             String reqText,\n                             String reqName) throws Exception,\n                                                    SQLException {\n\n    String result = \"\";\n    reqText = csr; // hard code base64 csr for testing purposes\n    reqText =\n        \"-----BEGIN CERTIFICATE REQUEST-----\\n\" + reqText +\n        \"\\n-----END CERTIFICATE REQUEST-----\\n\";\n\n    try {\n\n\n        String castr = ca + \"\\n\"; // hard code base64 CA pub key for testing\n        String strPriv = caPrivk + \"\\n\"; // hard code base64 CA private key for testing\n\n\n        byte[] encKey = castr.getBytes();\n        CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n        X509Certificate caCert =\n            (X509Certificate)cf.generateCertificate(new ByteArrayInputStream(encKey));\n\n        PEMParser pr = new PEMParser(new StringReader(strPriv));\n        Object obj = pr.readObject();\n        JcaPEMKeyConverter converter =\n            new JcaPEMKeyConverter().setProvider(\"BC\");\n        KeyPair kp;\n        kp = converter.getKeyPair((PEMKeyPair)obj);\n\n        PrivateKey privateKey = kp.getPrivate();\n\n        // parse the request\n        PEMParser pRd =\n            new PEMParser(new InputStreamReader(new ByteArrayInputStream(reqText.getBytes())));\n        PKCS10CertificationRequest csr =\n            (PKCS10CertificationRequest)pRd.readObject();\n\n        String strReq = csr.getSubject().toString();\n\n        strReq = strReq.substring(strReq.indexOf(\"CN=\") + 3).trim();\n        if (strReq.indexOf(\",\") &gt; 0)\n            strReq = strReq.substring(0, strReq.indexOf(\",\")).trim();\n        if (!strReq.equals(reqName)) {\n            return \"\";\n        }\n\n        AlgorithmIdentifier sigAlgId =\n            new DefaultSignatureAlgorithmIdentifierFinder().find(\"SHA1withRSA\"); //SHA1withRSA\n        AlgorithmIdentifier digAlgId =\n            new DefaultDigestAlgorithmIdentifierFinder().find(sigAlgId);\n        X500Name issuer =\n            new X500Name(caCert.getSubjectX500Principal().getName());\n        BigInteger serial = BigInteger.valueOf(SerNum);\n\n        // The date object returns GMT format\n        Date date = new Date(System.currentTimeMillis() - 180 * 1000);\n        date.setHours(date.getHours() + addHours);\n        Calendar cal = Calendar.getInstance();\n        Date from = date;\n        cal.setTime(date);\n        cal.add(1, addYear);\n        Date to = cal.getTime();\n\n        SubjectPublicKeyInfo pkInfo = csr.getSubjectPublicKeyInfo();\n        //SubjectPublicKeyInfo pkInfo = SubjectPublicKeyInfo.getInstance(kp.getPublic().getEncoded());\n        RSAKeyParameters rsa =\n            (RSAKeyParameters)PublicKeyFactory.createKey(pkInfo);\n        RSAPublicKeySpec rsaSpec =\n            new RSAPublicKeySpec(rsa.getModulus(), rsa.getExponent());\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n        PublicKey rsaPub = kf.generatePublic(rsaSpec);\n\n\n        X509v3CertificateBuilder certgen =\n            new X509v3CertificateBuilder(issuer, serial, from, to,\n                                         csr.getSubject(),\n                                         csr.getSubjectPublicKeyInfo());\n\n        certgen.addExtension(X509Extension.basicConstraints, false,\n                             new BasicConstraints(false));\n        certgen.addExtension(X509Extension.subjectKeyIdentifier, false,\n                             new SubjectKeyIdentifier(pkInfo));\n        //            certgen.addExtension(X509Extension.subjectKeyIdentifier, false,\n        //                                 new SubjectKeyIdentifierStructure(rsaPub)); // In old version done with much more extensive parsing\n        certgen.addExtension(X509Extensions.AuthorityKeyIdentifier, false,\n                             new AuthorityKeyIdentifierStructure(caCert));\n        //            certgen.addExtension(X509Extension.authorityKeyIdentifier, false,\n        //                                 new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(new X509Name(caCert.getSubjectX500Principal().getName()))),\n        //                                                            caCert.getSerialNumber()));\n\n        // add certificate purposes\n        ASN1EncodableVector vector = new ASN1EncodableVector();\n        vector.add(new DERObjectIdentifier(\"1.3.6.1.5.5.7.3.2\"));\n        vector.add(new DERObjectIdentifier(\"1.3.6.1.4.1.311.20.2.2\"));\n        vector.add(new DERObjectIdentifier(\"1.3.6.1.4.1.311.10.3.12\"));\n        vector.add(new DERObjectIdentifier(\"1.3.6.1.5.5.7.3.4\"));\n\n\n        DERSequence seq = new DERSequence(vector);\n        certgen.addExtension(X509Extensions.ExtendedKeyUsage, false, seq);\n\n\n        ContentSigner signer =\n            new BcRSAContentSignerBuilder(sigAlgId,\n                                          digAlgId).build(PrivateKeyFactory.createKey(privateKey.getEncoded()));\n        X509CertificateHolder holder = certgen.build(signer);\n        byte[] certencoded = holder.toASN1Structure().getEncoded();\n\n        CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\n        signer =\n            new JcaContentSignerBuilder(\"SHA1withRSA\").build(privateKey);\n        generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).build(signer,\n                                                                                                                                   caCert));\n        generator.addCertificate(new X509CertificateHolder(certencoded));\n        generator.addCertificate(new X509CertificateHolder(caCert.getEncoded()));\n        CMSTypedData content = new CMSProcessableByteArray(certencoded);\n        CMSSignedData signeddata = generator.generate(content, true);\n\n        result = Base64Utils.base64Encode(signeddata.getEncoded());\n\n    } catch (Exception e) {\n        result = e.toString();\n        getStackTrace(e);\n    }\n    return result;\n}\n</code></pre>\n\n<p>In the old version of my code where I used bouncy castle 1.4 we used the X509V3CertificateGenerator and just before returning the content we used to build the chain like so:</p>\n\n<pre><code>            X509Certificate newCert =\n            certGen.generateX509Certificate(privateKey, \"BC\");\n        //=============================\n        List chain = new ArrayList();\n        chain.add(newCert);\n        //-------------------------------------------------\n        //  create the CertPath with old BouncyCastle\n        CertificateFactory fact =\n            CertificateFactory.getInstance(\"X.509\", \"BC\");\n        CertPath path = fact.generateCertPath(chain);\n        result = Base64Utils.base64Encode(path.getEncoded(\"PKCS7\"));\n</code></pre>\n\n<p><strong>UPDATE</strong>: OK Case solved. Thanks to <a href=\"https://stackoverflow.com/questions/23736305/certificate-generated-through-csr-signing-with-bouncycastle-considered-untrusted\">this thread</a> Obviously when using:</p>\n\n<p>cacert.getSubjectX500Principal().getName() </p>\n\n<p>I got the names of the issuer in reverse, which broke the chain, using instead: </p>\n\n<p>cert.getSubjectX500Principal().getEncoded() solved it for me! So when your CA does not get verified upto trusted authority make sure you are getting the names correctly.</p>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415283832,"creation_date":1415283832,"answer_id":26781812,"question_id":7230330,"body_markdown":"In the end, this is what worked for me:\r\n\r\n    KeyPair serverKeyPair = keyPairLoader.getKeyPair(); //my own class\r\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;, &quot;BC&quot;);\r\n    X509Certificate serverCertificate = getServerCertificate(certificateFactory);\r\n\r\n    org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure = signCertificateSigningRequest(\r\n      jcaPKCS10CertificationRequest, keyPair, serverCertificate);\r\n\r\n    java.security.cert.X509Certificate signedCertificate = readCertificateFromASN1Certificate(\r\n      eeX509CertificateStructure, certificateFactory);\r\n\r\n\r\nWhere code is\r\n\r\n\r\n      private org.spongycastle.asn1.x509.Certificate signCertificateSigningRequest(\r\n        JcaPKCS10CertificationRequest jcaPKCS10CertificationRequest,\r\n        KeyPair keyPair, X509Certificate serverCertificate)\r\n          throws IOException, OperatorCreationException, NoSuchAlgorithmException, InvalidKeyException\r\n      {\r\n        // Signing CSR\r\n        AlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder()\r\n          .find(&quot;SHA1withRSA&quot;);\r\n    \r\n        X509v3CertificateBuilder certificateBuilder = new JcaX509v3CertificateBuilder(\r\n            serverCertificate, \r\n            new BigInteger(&quot;1&quot;), //serial\r\n            new Date(System.currentTimeMillis()),\r\n            new Date(System.currentTimeMillis() + 30L * 365L * 24L * 60L * 60L * 1000L),\r\n            jcaPKCS10CertificationRequest.getSubject(),\r\n            jcaPKCS10CertificationRequest.getPublicKey()\r\n        /*).addExtension(\r\n            new ASN1ObjectIdentifier(&quot;2.5.29.35&quot;),\r\n            false,\r\n            new AuthorityKeyIdentifier(keyPair.getPublic().getEncoded())*/\r\n        ).addExtension(\r\n                new ASN1ObjectIdentifier(&quot;2.5.29.19&quot;),\r\n                false,\r\n                new BasicConstraints(false) // true if it is allowed to sign other certs\r\n        ).addExtension(\r\n                new ASN1ObjectIdentifier(&quot;2.5.29.15&quot;),\r\n                true,\r\n                new X509KeyUsage(\r\n                    X509KeyUsage.digitalSignature |\r\n                        X509KeyUsage.nonRepudiation   |\r\n                        X509KeyUsage.keyEncipherment  |\r\n                        X509KeyUsage.dataEncipherment));\r\n    \r\n        AsymmetricKeyParameter asymmetricKeyParameter =\r\n              PrivateKeyFactory.createKey(keyPair.getPrivate().getEncoded());\r\n        //ContentSigner sigGen = new BcRSAContentSignerBuilder(sigAlgId, digAlgId).build(asymmetricKeyParameter);\r\n        ContentSigner sigGen = new JcaContentSignerBuilder(&quot;SHA1withRSA&quot;).build(keyPair.getPrivate());\r\n    \r\n    \r\n        X509CertificateHolder x509CertificateHolder = certificateBuilder.build(sigGen);\r\n        org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure =\r\n          x509CertificateHolder.toASN1Structure();\r\n        return eeX509CertificateStructure;\r\n      }\r\n    \r\n      private X509Certificate readCertificateFromASN1Certificate(\r\n        org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure,\r\n        CertificateFactory certificateFactory)\r\n        throws IOException, CertificateException {\r\n        // Read Certificate\r\n        InputStream is1 = new ByteArrayInputStream(eeX509CertificateStructure.getEncoded());\r\n        X509Certificate signedCertificate =\r\n          (X509Certificate) certificateFactory.generateCertificate(is1);\r\n        return signedCertificate;\r\n      }\r\n\r\nAnd this can be converted to PEM:\r\n\r\n      private String convertCertificateToPEM(X509Certificate signedCertificate) throws IOException {\r\n        StringWriter signedCertificatePEMDataStringWriter = new StringWriter();\r\n        JcaPEMWriter pemWriter = new JcaPEMWriter(signedCertificatePEMDataStringWriter);\r\n        pemWriter.writeObject(signedCertificate);\r\n        pemWriter.close();\r\n        log.info(&quot;PEM data:&quot;);\r\n        log.info(&quot;&quot; + signedCertificatePEMDataStringWriter.toString());\r\n        return signedCertificatePEMDataStringWriter.toString();\r\n      }","title":"Sign CSR using Bouncy Castle","body":"<p>In the end, this is what worked for me:</p>\n\n<pre><code>KeyPair serverKeyPair = keyPairLoader.getKeyPair(); //my own class\nCertificateFactory certificateFactory = CertificateFactory.getInstance(\"X.509\", \"BC\");\nX509Certificate serverCertificate = getServerCertificate(certificateFactory);\n\norg.spongycastle.asn1.x509.Certificate eeX509CertificateStructure = signCertificateSigningRequest(\n  jcaPKCS10CertificationRequest, keyPair, serverCertificate);\n\njava.security.cert.X509Certificate signedCertificate = readCertificateFromASN1Certificate(\n  eeX509CertificateStructure, certificateFactory);\n</code></pre>\n\n<p>Where code is</p>\n\n<pre><code>  private org.spongycastle.asn1.x509.Certificate signCertificateSigningRequest(\n    JcaPKCS10CertificationRequest jcaPKCS10CertificationRequest,\n    KeyPair keyPair, X509Certificate serverCertificate)\n      throws IOException, OperatorCreationException, NoSuchAlgorithmException, InvalidKeyException\n  {\n    // Signing CSR\n    AlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder()\n      .find(\"SHA1withRSA\");\n\n    X509v3CertificateBuilder certificateBuilder = new JcaX509v3CertificateBuilder(\n        serverCertificate, \n        new BigInteger(\"1\"), //serial\n        new Date(System.currentTimeMillis()),\n        new Date(System.currentTimeMillis() + 30L * 365L * 24L * 60L * 60L * 1000L),\n        jcaPKCS10CertificationRequest.getSubject(),\n        jcaPKCS10CertificationRequest.getPublicKey()\n    /*).addExtension(\n        new ASN1ObjectIdentifier(\"2.5.29.35\"),\n        false,\n        new AuthorityKeyIdentifier(keyPair.getPublic().getEncoded())*/\n    ).addExtension(\n            new ASN1ObjectIdentifier(\"2.5.29.19\"),\n            false,\n            new BasicConstraints(false) // true if it is allowed to sign other certs\n    ).addExtension(\n            new ASN1ObjectIdentifier(\"2.5.29.15\"),\n            true,\n            new X509KeyUsage(\n                X509KeyUsage.digitalSignature |\n                    X509KeyUsage.nonRepudiation   |\n                    X509KeyUsage.keyEncipherment  |\n                    X509KeyUsage.dataEncipherment));\n\n    AsymmetricKeyParameter asymmetricKeyParameter =\n          PrivateKeyFactory.createKey(keyPair.getPrivate().getEncoded());\n    //ContentSigner sigGen = new BcRSAContentSignerBuilder(sigAlgId, digAlgId).build(asymmetricKeyParameter);\n    ContentSigner sigGen = new JcaContentSignerBuilder(\"SHA1withRSA\").build(keyPair.getPrivate());\n\n\n    X509CertificateHolder x509CertificateHolder = certificateBuilder.build(sigGen);\n    org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure =\n      x509CertificateHolder.toASN1Structure();\n    return eeX509CertificateStructure;\n  }\n\n  private X509Certificate readCertificateFromASN1Certificate(\n    org.spongycastle.asn1.x509.Certificate eeX509CertificateStructure,\n    CertificateFactory certificateFactory)\n    throws IOException, CertificateException {\n    // Read Certificate\n    InputStream is1 = new ByteArrayInputStream(eeX509CertificateStructure.getEncoded());\n    X509Certificate signedCertificate =\n      (X509Certificate) certificateFactory.generateCertificate(is1);\n    return signedCertificate;\n  }\n</code></pre>\n\n<p>And this can be converted to PEM:</p>\n\n<pre><code>  private String convertCertificateToPEM(X509Certificate signedCertificate) throws IOException {\n    StringWriter signedCertificatePEMDataStringWriter = new StringWriter();\n    JcaPEMWriter pemWriter = new JcaPEMWriter(signedCertificatePEMDataStringWriter);\n    pemWriter.writeObject(signedCertificate);\n    pemWriter.close();\n    log.info(\"PEM data:\");\n    log.info(\"\" + signedCertificatePEMDataStringWriter.toString());\n    return signedCertificatePEMDataStringWriter.toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148178,"reputation":1992,"user_id":359765,"accept_rate":71,"display_name":"bgh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636117677,"creation_date":1636117677,"answer_id":69853754,"question_id":7230330,"body_markdown":"Here&#39;s my solution in C# using BouncyCastle NuGet package version 1.8.9:\r\n\r\n```\r\npublic static X509Certificate2 SignCertificate(TextReader pemEncodedCsrReader, X509Certificate2 caCertificate, AsymmetricKeyParameter issuerPrivateKey)\r\n{\r\n    var csr = (Pkcs10CertificationRequest)new PemReader(pemEncodedCsrReader).ReadObject();\r\n\r\n    var certificateGenerator = new X509V3CertificateGenerator();\r\n    certificateGenerator.SetNotBefore(DateTime.Now.Date);\r\n    certificateGenerator.SetNotAfter(DateTime.Now.Date.AddYears(20));\r\n    certificateGenerator.SetIssuerDN(new X509Name(caCertificate.IssuerName.Name));\r\n    certificateGenerator.SetSubjectDN(csr.GetCertificationRequestInfo().Subject);\r\n    certificateGenerator.SetPublicKey(PublicKeyFactory.CreateKey(csr.GetCertificationRequestInfo().SubjectPublicKeyInfo);\r\n    var serialNumber = BigIntegers.CreateRandomInRange(BigInteger.One, BigInteger.ValueOf(long.MaxValue), random);\r\n    certificateGenerator.SetSerialNumber(serialNumber);\r\n\r\n    certificateGenerator.AddExtension(X509Extensions.BasicConstraints, false, new BasicConstraints(cA: false));\r\n    certificateGenerator.AddExtension(X509Extensions.SubjectKeyIdentifier, false,\r\n        new SubjectKeyIdentifier(csr.GetCertificationRequestInfo().SubjectPublicKeyInfo));\r\n    certificateGenerator.AddExtension(X509Extensions.AuthorityKeyIdentifier, false,\r\n        new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(new X509Name(caCertificate.SubjectName.Name))), new BigInteger(caCertificate.SerialNumber, 16)));\r\n\r\n    var signatureFactory = new Asn1SignatureFactory(SignatureAlgorithm, issuerPrivateKey, random);\r\n    var certificate = certificateGenerator.Generate(signatureFactory);\r\n    return new X509Certificate2(certificate.GetEncoded());\r\n}\r\n```","title":"Sign CSR using Bouncy Castle","body":"<p>Here's my solution in C# using BouncyCastle NuGet package version 1.8.9:</p>\n<pre><code>public static X509Certificate2 SignCertificate(TextReader pemEncodedCsrReader, X509Certificate2 caCertificate, AsymmetricKeyParameter issuerPrivateKey)\n{\n    var csr = (Pkcs10CertificationRequest)new PemReader(pemEncodedCsrReader).ReadObject();\n\n    var certificateGenerator = new X509V3CertificateGenerator();\n    certificateGenerator.SetNotBefore(DateTime.Now.Date);\n    certificateGenerator.SetNotAfter(DateTime.Now.Date.AddYears(20));\n    certificateGenerator.SetIssuerDN(new X509Name(caCertificate.IssuerName.Name));\n    certificateGenerator.SetSubjectDN(csr.GetCertificationRequestInfo().Subject);\n    certificateGenerator.SetPublicKey(PublicKeyFactory.CreateKey(csr.GetCertificationRequestInfo().SubjectPublicKeyInfo);\n    var serialNumber = BigIntegers.CreateRandomInRange(BigInteger.One, BigInteger.ValueOf(long.MaxValue), random);\n    certificateGenerator.SetSerialNumber(serialNumber);\n\n    certificateGenerator.AddExtension(X509Extensions.BasicConstraints, false, new BasicConstraints(cA: false));\n    certificateGenerator.AddExtension(X509Extensions.SubjectKeyIdentifier, false,\n        new SubjectKeyIdentifier(csr.GetCertificationRequestInfo().SubjectPublicKeyInfo));\n    certificateGenerator.AddExtension(X509Extensions.AuthorityKeyIdentifier, false,\n        new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(new X509Name(caCertificate.SubjectName.Name))), new BigInteger(caCertificate.SerialNumber, 16)));\n\n    var signatureFactory = new Asn1SignatureFactory(SignatureAlgorithm, issuerPrivateKey, random);\n    var certificate = certificateGenerator.Generate(signatureFactory);\n    return new X509Certificate2(certificate.GetEncoded());\n}\n</code></pre>\n"}],"owner":{"account_id":23285,"reputation":3784,"user_id":58237,"accept_rate":77,"display_name":"Fredrik Jansson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45525,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":7366757,"answer_count":6,"score":37,"last_activity_date":1636117677,"creation_date":1314622352,"question_id":7230330,"body_markdown":"I cannot find any code/doc describing how to sign a CSR using BC. As input I have a CSR as a byte array and would like to get the cert in PEM and/or DER format.\r\n\r\nI have gotten this far\r\n\r\n\r\n    def signCSR(csrData:Array[Byte], ca:CACertificate, caPassword:String) = {\r\n      val csr = new PKCS10CertificationRequestHolder(csrData)\r\n      val spi = csr.getSubjectPublicKeyInfo\r\n    \r\n      val ks = new java.security.spec.X509EncodedKeySpec(spi.getDEREncoded())\r\n      val kf = java.security.KeyFactory.getInstance(&quot;RSA&quot;)\r\n      val pk = kf.generatePublic(ks)\r\n    \r\n      val (caCert, caPriv) = parsePKCS12(ca.pkcs12data, caPassword)\r\n    \r\n      val fromDate : java.util.Date = new java.util.Date // FixMe\r\n      val toDate = fromDate // FixMe\r\n      val issuer = PrincipalUtil.getIssuerX509Principal(caCert)\r\n      val contentSigner = new JcaContentSignerBuilder(&quot;SHA256WithRSAEncryption&quot;).setProvider(BC).build(caPriv)\r\n      val serial = BigInt(CertSerialnumber.nextSerialNumber)\r\n      val certgen = new JcaX509v3CertificateBuilder(new X500Name(issuer.getName), serial.bigInteger, fromDate, toDate, csr.getSubject, pk)\r\n\r\nI have trouble figuring out get from a certificate generator to store this in PEM or DER format.\r\n\r\nOr am I going down the wrong path all together?","title":"Sign CSR using Bouncy Castle","body":"<p>I cannot find any code/doc describing how to sign a CSR using BC. As input I have a CSR as a byte array and would like to get the cert in PEM and/or DER format.</p>\n\n<p>I have gotten this far</p>\n\n<pre><code>def signCSR(csrData:Array[Byte], ca:CACertificate, caPassword:String) = {\n  val csr = new PKCS10CertificationRequestHolder(csrData)\n  val spi = csr.getSubjectPublicKeyInfo\n\n  val ks = new java.security.spec.X509EncodedKeySpec(spi.getDEREncoded())\n  val kf = java.security.KeyFactory.getInstance(\"RSA\")\n  val pk = kf.generatePublic(ks)\n\n  val (caCert, caPriv) = parsePKCS12(ca.pkcs12data, caPassword)\n\n  val fromDate : java.util.Date = new java.util.Date // FixMe\n  val toDate = fromDate // FixMe\n  val issuer = PrincipalUtil.getIssuerX509Principal(caCert)\n  val contentSigner = new JcaContentSignerBuilder(\"SHA256WithRSAEncryption\").setProvider(BC).build(caPriv)\n  val serial = BigInt(CertSerialnumber.nextSerialNumber)\n  val certgen = new JcaX509v3CertificateBuilder(new X500Name(issuer.getName), serial.bigInteger, fromDate, toDate, csr.getSubject, pk)\n</code></pre>\n\n<p>I have trouble figuring out get from a certificate generator to store this in PEM or DER format.</p>\n\n<p>Or am I going down the wrong path all together?</p>\n"},{"tags":["java","android","date","utc","gmt"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1375086736,"post_id":17919259,"comment_id":26178546,"body_markdown":"Set the timezone to GMT.  BTW Like most languages, Java doesn&#39;t support leap seconds so UTC is actually mapped to GMT.","body":"Set the timezone to GMT.  BTW Like most languages, Java doesn&#39;t support leap seconds so UTC is actually mapped to GMT."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1375086653,"creation_date":1375086653,"answer_id":17919316,"question_id":17919259,"body_markdown":"It&#39;s not clear what difference you&#39;re expecting between UTC and GMT - for the purposes we&#39;re talking here, they&#39;re equivalent. (They&#39;re not quite technically the same, but...)\r\n\r\nIn terms of *formatting*, you just need to set the time zone on your formatter:\r\n\r\n    // TODO: Consider setting a locale explicitly\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    String time = format.format(date);","title":"Android get UTC milliseconds from GMT milliseconds","body":"<p>It's not clear what difference you're expecting between UTC and GMT - for the purposes we're talking here, they're equivalent. (They're not quite technically the same, but...)</p>\n\n<p>In terms of <em>formatting</em>, you just need to set the time zone on your formatter:</p>\n\n<pre><code>// TODO: Consider setting a locale explicitly\nSimpleDateFormat format = new SimpleDateFormat(\"HH:mm\");\nformat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nString time = format.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2130680,"reputation":6054,"user_id":1891581,"display_name":"Suji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375086728,"creation_date":1375086728,"answer_id":17919339,"question_id":17919259,"body_markdown":"Try this:\r\n\r\n    long mytime = 1376824500000;\r\n    Date date = new Date(mytime);\r\n    SimpleDateFormat formater = = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    formater .setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    String time formater.format(date);","title":"Android get UTC milliseconds from GMT milliseconds","body":"<p>Try this:</p>\n\n<pre><code>long mytime = 1376824500000;\nDate date = new Date(mytime);\nSimpleDateFormat formater = = new SimpleDateFormat(\"HH:mm\");\nformater .setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nString time formater.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625170905,"creation_date":1625170905,"answer_id":68216484,"question_id":17919259,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.OffsetTime;\r\n    import java.time.ZoneOffset;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInstant instant = Instant.ofEpochMilli(1_376_824_500_000L);\r\n    \t\tOffsetDateTime odtUtc = instant.atOffset(ZoneOffset.UTC);\r\n    \t\tLocalTime time = odtUtc.toLocalTime();\r\n    \t\tSystem.out.println(time);\r\n    \r\n    \t\t// If you want the time with timezone offset\r\n    \t\tOffsetTime ot = odtUtc.toOffsetTime();\r\n    \t\tSystem.out.println(ot);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    11:15\r\n    11:15Z\r\n\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nThe `Z` in the output is the [timezone designator](https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators) for zero-timezone offset. It stands for Zulu and specifies the `Etc/UTC` timezone (which has the timezone offset of `+00:00` hours).\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/j7fVOw","title":"Android get UTC milliseconds from GMT milliseconds","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalTime;\nimport java.time.OffsetDateTime;\nimport java.time.OffsetTime;\nimport java.time.ZoneOffset;\n\npublic class Main {\n    public static void main(String[] args) {\n        Instant instant = Instant.ofEpochMilli(1_376_824_500_000L);\n        OffsetDateTime odtUtc = instant.atOffset(ZoneOffset.UTC);\n        LocalTime time = odtUtc.toLocalTime();\n        System.out.println(time);\n\n        // If you want the time with timezone offset\n        OffsetTime ot = odtUtc.toOffsetTime();\n        System.out.println(ot);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>11:15\n11:15Z\n</code></pre>\n<p><a href=\"https://ideone.com/j7fVOw\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>The <code>Z</code> in the output is the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">timezone designator</a> for zero-timezone offset. It stands for Zulu and specifies the <code>Etc/UTC</code> timezone (which has the timezone offset of <code>+00:00</code> hours).</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":2734374,"reputation":3448,"user_id":2357365,"accept_rate":52,"display_name":"Tenaciousd93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17919316,"answer_count":3,"score":0,"last_activity_date":1636117675,"creation_date":1375086442,"question_id":17919259,"body_markdown":"I have a time variable in GMT and I will convert in UTC. I post my code:\r\n\r\n    long mytime = 1376824500000;\r\n    Date date = new Date(mytime);\r\n    String time = new SimpleDateFormat(&quot;HH:mm&quot;).format(date);\r\n\r\nThis return `&quot;13:15&quot;` in some device, but I would like to have always UTC date: `&quot;11:15&quot;`.\r\nHow can I do that?","title":"Android get UTC milliseconds from GMT milliseconds","body":"<p>I have a time variable in GMT and I will convert in UTC. I post my code:</p>\n<pre><code>long mytime = 1376824500000;\nDate date = new Date(mytime);\nString time = new SimpleDateFormat(&quot;HH:mm&quot;).format(date);\n</code></pre>\n<p>This return <code>&quot;13:15&quot;</code> in some device, but I would like to have always UTC date: <code>&quot;11:15&quot;</code>.\nHow can I do that?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1636107697,"post_id":69851588,"comment_id":123474110,"body_markdown":"What version of Apache POI are you using? If it isn&#39;t the latest (5.1.0), what happens when you upgrade?","body":"What version of Apache POI are you using? If it isn&#39;t the latest (5.1.0), what happens when you upgrade?"},{"owner":{"account_id":9680350,"reputation":13,"user_id":7182293,"display_name":"Macltoff"},"score":0,"creation_date":1636108526,"post_id":69851588,"comment_id":123474396,"body_markdown":"i also tried it in a maven project (5.0.0 and 5.1.0). Exactly same error.","body":"i also tried it in a maven project (5.0.0 and 5.1.0). Exactly same error."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1636109885,"post_id":69851588,"comment_id":123474858,"body_markdown":"`sheet.getLastRowNum()` should not be applied as `endColumn` in [Sheet.shiftColumns](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#shiftColumns-int-int-int-) as it is the last row and not the last column.","body":"<code>sheet.getLastRowNum()</code> should not be applied as <code>endColumn</code> in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#shiftColumns-int-int-int-\" rel=\"nofollow noreferrer\">Sheet.shiftColumns</a> as it is the last row and not the last column."},{"owner":{"account_id":9680350,"reputation":13,"user_id":7182293,"display_name":"Macltoff"},"score":0,"creation_date":1636110351,"post_id":69851588,"comment_id":123475006,"body_markdown":"Thx, changed it to 5, which is the last column with content. But doesn&#39;t change anything in the outcome.","body":"Thx, changed it to 5, which is the last column with content. But doesn&#39;t change anything in the outcome."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1636114858,"post_id":69851588,"comment_id":123476561,"body_markdown":"I logged https://bz.apache.org/bugzilla/show_bug.cgi?id=65671","body":"I logged <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=65671\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/show_bug.cgi?id=65671</a>"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636117637,"creation_date":1636112706,"answer_id":69852759,"question_id":69851588,"body_markdown":"Yes, here are still problems in [Sheet.shiftColumns](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#shiftColumns-int-int-int-) even in latest version Apache POI 5.1.0. The `shiftColumns` does not removing the cells properly when negative shifted. That&#39;s why the error while writing then.\r\n\r\nIf you explicitly remove the cells of the column you want over-shfting, then the error is gone. So we need to remove all cells from second column (index 1) before shifting third column (index 2) to left.\r\n\r\nBut there are additional problems too. Even the last version does not update the calculation chain while shifting formulas. This is the problem of this Q/A: https://stackoverflow.com/questions/66895305/shiftcolumn-method-is-not-working-when-cell-has-formula/66902353#66902353.\r\n\r\nComplete example:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.model.CalculationChain;\r\n    import org.apache.poi.ooxml.POIXMLDocumentPart;\r\n    import java.lang.reflect.Method;\r\n    \r\n    public class ExcelShiftColums {\r\n    \r\n     private static void removeCalcChain(XSSFWorkbook workbook) throws Exception {\r\n      CalculationChain calcchain = workbook.getCalculationChain();\r\n      Method removeRelation = POIXMLDocumentPart.class.getDeclaredMethod(&quot;removeRelation&quot;, POIXMLDocumentPart.class); \r\n      removeRelation.setAccessible(true); \r\n      removeRelation.invoke(workbook, calcchain);\r\n     }\r\n    \r\n    \r\n     private static void removeColumn(Sheet sheet, int column) {\r\n      for (Row row : sheet) {\r\n       Cell cell = row.getCell(column);\r\n       if (cell != null) {\r\n        row.removeCell(cell);\r\n       }\r\n      }\r\n     }\r\n     \r\n     private static int getLastFilledColumn(Sheet sheet) {\r\n      int result = 0;\r\n      for (Row row : sheet) {\r\n       if (row.getLastCellNum() &gt; result) result = row.getLastCellNum();\r\n      }\r\n      return result;\t \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\r\n    \r\n      //String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\r\n    \r\n      \r\n      try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\r\n           FileOutputStream out = new FileOutputStream(outFilePath ) ) {\r\n    \r\n       Sheet sheet = workbook.getSheetAt(0);\r\n       \r\n       int lastFilledColumn = getLastFilledColumn(sheet);\r\n    \r\n       removeColumn(sheet, 1);\r\n       sheet.shiftColumns(2, lastFilledColumn, -1);\r\n       \r\n       if (workbook instanceof XSSFWorkbook) removeCalcChain((XSSFWorkbook)workbook);\r\n      \r\n       workbook.write(out);\r\n      }\r\n     }\r\n    }\r\n\r\n","title":"How to delete column with shiftColumns method","body":"<p>Yes, here are still problems in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#shiftColumns-int-int-int-\" rel=\"nofollow noreferrer\">Sheet.shiftColumns</a> even in latest version Apache POI 5.1.0. The <code>shiftColumns</code> does not removing the cells properly when negative shifted. That's why the error while writing then.</p>\n<p>If you explicitly remove the cells of the column you want over-shfting, then the error is gone. So we need to remove all cells from second column (index 1) before shifting third column (index 2) to left.</p>\n<p>But there are additional problems too. Even the last version does not update the calculation chain while shifting formulas. This is the problem of this Q/A: <a href=\"https://stackoverflow.com/questions/66895305/shiftcolumn-method-is-not-working-when-cell-has-formula/66902353#66902353\">shiftColumn method is not working when cell has formula</a>.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.model.CalculationChain;\nimport org.apache.poi.ooxml.POIXMLDocumentPart;\nimport java.lang.reflect.Method;\n\npublic class ExcelShiftColums {\n\n private static void removeCalcChain(XSSFWorkbook workbook) throws Exception {\n  CalculationChain calcchain = workbook.getCalculationChain();\n  Method removeRelation = POIXMLDocumentPart.class.getDeclaredMethod(&quot;removeRelation&quot;, POIXMLDocumentPart.class); \n  removeRelation.setAccessible(true); \n  removeRelation.invoke(workbook, calcchain);\n }\n\n\n private static void removeColumn(Sheet sheet, int column) {\n  for (Row row : sheet) {\n   Cell cell = row.getCell(column);\n   if (cell != null) {\n    row.removeCell(cell);\n   }\n  }\n }\n \n private static int getLastFilledColumn(Sheet sheet) {\n  int result = 0;\n  for (Row row : sheet) {\n   if (row.getLastCellNum() &gt; result) result = row.getLastCellNum();\n  }\n  return result;     \n }\n\n public static void main(String[] args) throws Exception {\n\n  String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\n\n  //String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\n\n  \n  try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\n       FileOutputStream out = new FileOutputStream(outFilePath ) ) {\n\n   Sheet sheet = workbook.getSheetAt(0);\n   \n   int lastFilledColumn = getLastFilledColumn(sheet);\n\n   removeColumn(sheet, 1);\n   sheet.shiftColumns(2, lastFilledColumn, -1);\n   \n   if (workbook instanceof XSSFWorkbook) removeCalcChain((XSSFWorkbook)workbook);\n  \n   workbook.write(out);\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":9680350,"reputation":13,"user_id":7182293,"display_name":"Macltoff"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69852759,"answer_count":1,"score":1,"last_activity_date":1636117637,"creation_date":1636107008,"question_id":69851588,"body_markdown":"I would like to delete a column in Excel (XLSX) with the Apache POI 5.0.0. I want to use the `shiftColumns` method, so affected formulas get adjusted automatically.\r\n\r\n    void shiftColumns(int startColumn, int endColumn, int n)\r\n\r\nhttps://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html\r\n\r\nThe documentation says that, if you want to shift left (overriding columns on the left side), you should use a negative number.\r\n\r\nI tried the following example on the following Excel file:\r\n\r\n    String path = &quot;pathOfTheExcelFile&quot;;\r\n    File file = new File(path);\r\n    \t\r\n    Workbook wb = null;\r\n    \r\n    try (FileInputStream inputStream = new FileInputStream(file)) {\r\n    \r\n    \twb = WorkbookFactory.create(inputStream); // read workbook\r\n    \r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n    \t\r\n    if(wb == null)\r\n    \t\treturn;\r\n    \t\r\n    Sheet sheet = wb.getSheetAt(0); // read first sheet\r\n    \t\r\n    // deleting / overriding 2nd column\r\n    sheet.shiftColumns(2, 5, -1); // shifting from 3rd to last column to the left\r\n    \t\r\n    try (OutputStream fileOut = new FileOutputStream(path)) {\r\n    \twb.write(fileOut); // writing the result in the Excel file (ERROR)\r\n    }\r\n    catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n    finally {\r\n    \ttry {\r\n    \t\tif (wb != null)\r\n    \t\t\twb.close();\r\n    \t}\r\n    \tcatch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nExcel file I want to alter:  \r\n![Excel file I want to alter][1]\r\n\r\nAfter executing the code, I get this error on line `wb.write(fileOut);`:\r\n\r\n    java.lang.IndexOutOfBoundsException\r\n    \tat org.apache.xmlbeans.impl.store.Xobj.removeElement(Xobj.java:2099)\r\n    \tat org.apache.xmlbeans.impl.store.Xobj.remove_element(Xobj.java:2130)\r\n    \tat org.openxmlformats.schemas.spreadsheetml.x2006.main.impl.CTRowImpl.removeC(CTRowImpl.java:173)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFRow.fixupCTCells(XSSFRow.java:612)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFRow.onDocumentWrite(XSSFRow.java:582)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFSheet.write(XSSFSheet.java:3625)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFSheet.commit(XSSFSheet.java:3570)\r\n    \tat org.apache.poi.ooxml.POIXMLDocumentPart.onSave(POIXMLDocumentPart.java:465)\r\n    \tat org.apache.poi.ooxml.POIXMLDocumentPart.onSave(POIXMLDocumentPart.java:470)\r\n    \tat org.apache.poi.ooxml.POIXMLDocument.write(POIXMLDocument.java:221)\r\n    \tat test.App.main(App.java:38)\r\n\r\nFYI, I use Java 11 and these libraries:\r\n\r\n[libraries][2]\r\n\r\nAfter execution, my file has 0KB.\r\n\r\nI debugged into the Apache POI library while saving the workbook in the Excel file. This is where the problem starts. Maybe it helps you:\r\n\r\n[pic1][3]\r\n\r\n[pic2][4]\r\n\r\n[pic3][5]\r\n\r\n  [1]: https://i.stack.imgur.com/4dpEa.png\r\n  [2]: https://i.stack.imgur.com/5eIGd.png\r\n  [3]: https://i.stack.imgur.com/T0TCR.png\r\n  [4]: https://i.stack.imgur.com/hXEAK.png\r\n  [5]: https://i.stack.imgur.com/x2uLN.png","title":"How to delete column with shiftColumns method","body":"<p>I would like to delete a column in Excel (XLSX) with the Apache POI 5.0.0. I want to use the <code>shiftColumns</code> method, so affected formulas get adjusted automatically.</p>\n<pre><code>void shiftColumns(int startColumn, int endColumn, int n)\n</code></pre>\n<p><a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html</a></p>\n<p>The documentation says that, if you want to shift left (overriding columns on the left side), you should use a negative number.</p>\n<p>I tried the following example on the following Excel file:</p>\n<pre><code>String path = &quot;pathOfTheExcelFile&quot;;\nFile file = new File(path);\n    \nWorkbook wb = null;\n\ntry (FileInputStream inputStream = new FileInputStream(file)) {\n\n    wb = WorkbookFactory.create(inputStream); // read workbook\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n    \nif(wb == null)\n        return;\n    \nSheet sheet = wb.getSheetAt(0); // read first sheet\n    \n// deleting / overriding 2nd column\nsheet.shiftColumns(2, 5, -1); // shifting from 3rd to last column to the left\n    \ntry (OutputStream fileOut = new FileOutputStream(path)) {\n    wb.write(fileOut); // writing the result in the Excel file (ERROR)\n}\ncatch (Exception e) {\n    e.printStackTrace();\n}\nfinally {\n    try {\n        if (wb != null)\n            wb.close();\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Excel file I want to alter:<br />\n<img src=\"https://i.stack.imgur.com/4dpEa.png\" alt=\"Excel file I want to alter\" /></p>\n<p>After executing the code, I get this error on line <code>wb.write(fileOut);</code>:</p>\n<pre><code>java.lang.IndexOutOfBoundsException\n    at org.apache.xmlbeans.impl.store.Xobj.removeElement(Xobj.java:2099)\n    at org.apache.xmlbeans.impl.store.Xobj.remove_element(Xobj.java:2130)\n    at org.openxmlformats.schemas.spreadsheetml.x2006.main.impl.CTRowImpl.removeC(CTRowImpl.java:173)\n    at org.apache.poi.xssf.usermodel.XSSFRow.fixupCTCells(XSSFRow.java:612)\n    at org.apache.poi.xssf.usermodel.XSSFRow.onDocumentWrite(XSSFRow.java:582)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.write(XSSFSheet.java:3625)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.commit(XSSFSheet.java:3570)\n    at org.apache.poi.ooxml.POIXMLDocumentPart.onSave(POIXMLDocumentPart.java:465)\n    at org.apache.poi.ooxml.POIXMLDocumentPart.onSave(POIXMLDocumentPart.java:470)\n    at org.apache.poi.ooxml.POIXMLDocument.write(POIXMLDocument.java:221)\n    at test.App.main(App.java:38)\n</code></pre>\n<p>FYI, I use Java 11 and these libraries:</p>\n<p><a href=\"https://i.stack.imgur.com/5eIGd.png\" rel=\"nofollow noreferrer\">libraries</a></p>\n<p>After execution, my file has 0KB.</p>\n<p>I debugged into the Apache POI library while saving the workbook in the Excel file. This is where the problem starts. Maybe it helps you:</p>\n<p><a href=\"https://i.stack.imgur.com/T0TCR.png\" rel=\"nofollow noreferrer\">pic1</a></p>\n<p><a href=\"https://i.stack.imgur.com/hXEAK.png\" rel=\"nofollow noreferrer\">pic2</a></p>\n<p><a href=\"https://i.stack.imgur.com/x2uLN.png\" rel=\"nofollow noreferrer\">pic3</a></p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9976290,"reputation":16486,"user_id":7380779,"display_name":"Frenchy"},"score":0,"creation_date":1636113616,"post_id":69852882,"comment_id":123476155,"body_markdown":"what is the url?","body":"what is the url?"},{"owner":{"account_id":23247713,"reputation":1,"user_id":17336057,"display_name":"Ronan O&#39;Reilly"},"score":0,"creation_date":1636116442,"post_id":69852882,"comment_id":123477152,"body_markdown":"I&#39;m using it on youtube -&gt; www.youtube.com","body":"I&#39;m using it on youtube -&gt; www.youtube.com"},{"owner":{"account_id":9976290,"reputation":16486,"user_id":7380779,"display_name":"Frenchy"},"score":0,"creation_date":1636116799,"post_id":69852882,"comment_id":123477292,"body_markdown":"the button agree is not in frame..","body":"the button agree is not in frame.."},{"owner":{"account_id":23247713,"reputation":1,"user_id":17336057,"display_name":"Ronan O&#39;Reilly"},"score":0,"creation_date":1636116976,"post_id":69852882,"comment_id":123477361,"body_markdown":"If you haven&#39;t had a cookie for youtube set on your machine, you&#39;ll get a consent form popped up when you visit www.youtube.com.  on this popup is the &quot;I Agree&quot; button which needs to be pressed","body":"If you haven&#39;t had a cookie for youtube set on your machine, you&#39;ll get a consent form popped up when you visit www.youtube.com.  on this popup is the &quot;I Agree&quot; button which needs to be pressed"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1636117074,"post_id":69852882,"comment_id":123477411,"body_markdown":"With implicit wait (10 sec) this works just fine: `driver.findElements(By.xpath(&quot;//*[(@class=&#39;style-scope ytd-button-renderer style-primary size-default&#39;) and (@id=&#39;text&#39;)]&quot;)).get(1).click();` Be aware there are more elements with `ID=text`, you have to specify which one you want to click. In my example I&#39;m using xpath for both the blue buttons and click the second one.","body":"With implicit wait (10 sec) this works just fine: <code>driver.findElements(By.xpath(&quot;&#47;&#47;*[(@class=&#39;style-scope ytd-button-renderer style-primary size-default&#39;) and (@id=&#39;text&#39;)]&quot;)).get(1).click();</code> Be aware there are more elements with <code>ID=text</code>, you have to specify which one you want to click. In my example I&#39;m using xpath for both the blue buttons and click the second one."},{"owner":{"account_id":23247713,"reputation":1,"user_id":17336057,"display_name":"Ronan O&#39;Reilly"},"score":0,"creation_date":1636117296,"post_id":69852882,"comment_id":123477501,"body_markdown":"Thanks pburgu - that solves my (current) problem!   Is there a way however to generalise this - by looking for objects (iframes etc) attached to the webdriver object?","body":"Thanks pburgu - that solves my (current) problem!   Is there a way however to generalise this - by looking for objects (iframes etc) attached to the webdriver object?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1636117892,"post_id":69852882,"comment_id":123477740,"body_markdown":"Inspect more websites how the consent bar is displaying. Some similarities you will find but not enought to make it general. Iterating will jut slow down your tests. Better to make a method for every tested domain.","body":"Inspect more websites how the consent bar is displaying. Some similarities you will find but not enought to make it general. Iterating will jut slow down your tests. Better to make a method for every tested domain."}],"answers":[{"tags":[],"owner":{"account_id":23247713,"reputation":1,"user_id":17336057,"display_name":"Ronan O&#39;Reilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636117622,"creation_date":1636117411,"answer_id":69853703,"question_id":69852882,"body_markdown":"Answered by pburgr\r\n\r\n\r\nWith implicit wait (10 sec) this works just fine: \r\n\r\n`driver.findElements(By.xpath(&quot;//*[(@class=&#39;style-scope ytd-button-renderer style-primary size-default&#39;) and (@id=&#39;text&#39;)]&quot;)).get(1).click();` \r\n\r\n\r\nBe aware there are more elements with ID=text, you have to specify which one you want to click. In my example I&#39;m using xpath for both the blue buttons and click the second one. – \r\npburgr\r\n\r\n","title":"How to handle consent frames on websites with selenium in Java","body":"<p>Answered by pburgr</p>\n<p>With implicit wait (10 sec) this works just fine:</p>\n<p><code>driver.findElements(By.xpath(&quot;//*[(@class='style-scope ytd-button-renderer style-primary size-default') and (@id='text')]&quot;)).get(1).click();</code></p>\n<p>Be aware there are more elements with ID=text, you have to specify which one you want to click. In my example I'm using xpath for both the blue buttons and click the second one. –\npburgr</p>\n"}],"owner":{"account_id":23247713,"reputation":1,"user_id":17336057,"display_name":"Ronan O&#39;Reilly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636117622,"creation_date":1636113320,"question_id":69852882,"body_markdown":"How to find child iframes on a webDriver object?\r\n\r\nWhen attempting to access sites through Selenium, I will often encounter consent frames , asking if the site can use cookies.\r\nI want to click &quot;ok&quot; or &quot;agree&quot; on these frames, and continue, but finding the controls is problematic, as they are in child frames which I cannot see.\r\n\r\nI&#39;m using the code below, but it cannot find the element, as it doesn&#39;t find the frame passive_signin\r\n\r\n    //wait for site to load\r\n    WebDriverWait wait1 = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    wait1.until(ExpectedConditions.visibilityOfElementLocated(By.className(&quot;passive_signin&quot;)));\r\n    //switch to the new frame\r\n    driver.switchTo().frame(driver.findElement(By.className(&quot;passive_signin&quot;)));\r\n    //allow controls on the frame to load\r\n    WebDriverWait wait2 = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    wait2.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;text\\&quot;]&quot;)));\r\n    \r\n    //agree to cookies, closing the frame\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;text\\&quot;]&quot;)).click();\r\n\r\n","title":"How to handle consent frames on websites with selenium in Java","body":"<p>How to find child iframes on a webDriver object?</p>\n<p>When attempting to access sites through Selenium, I will often encounter consent frames , asking if the site can use cookies.\nI want to click &quot;ok&quot; or &quot;agree&quot; on these frames, and continue, but finding the controls is problematic, as they are in child frames which I cannot see.</p>\n<p>I'm using the code below, but it cannot find the element, as it doesn't find the frame passive_signin</p>\n<pre><code>//wait for site to load\nWebDriverWait wait1 = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait1.until(ExpectedConditions.visibilityOfElementLocated(By.className(&quot;passive_signin&quot;)));\n//switch to the new frame\ndriver.switchTo().frame(driver.findElement(By.className(&quot;passive_signin&quot;)));\n//allow controls on the frame to load\nWebDriverWait wait2 = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait2.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;text\\&quot;]&quot;)));\n\n//agree to cookies, closing the frame\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;text\\&quot;]&quot;)).click();\n</code></pre>\n"},{"tags":["javascript","java","intellij-idea","glassfish"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1636123247,"post_id":69853698,"comment_id":123480163,"body_markdown":"You try to connect to the debugger bit as a server on a port.  It has not been configured to listen to that port.","body":"You try to connect to the debugger bit as a server on a port.  It has not been configured to listen to that port."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636192892,"post_id":69853698,"comment_id":123494475,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19487697,"reputation":1,"user_id":14256649,"display_name":"Shaqeel Less"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636117388,"creation_date":1636117388,"question_id":69853698,"body_markdown":"ERROR: transport error 202: connect failed: Connection refused\r\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)","title":"Working with glassfish and runninga a project on intelliji and the project build build and start up in debug but once i select run the project doesnt","body":"<p>ERROR: transport error 202: connect failed: Connection refused\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636117381,"creation_date":1636114879,"answer_id":69853166,"question_id":69852686,"body_markdown":"Use an [`PVector`](https://processing.org/reference/PVector.html) to represent a the center point of the circle\r\n\r\n```java\r\nPVector centerPoint = new PVector(random(640), random(640));\r\n```\r\n\r\nWhen the mouse button is pressed, calculate the distance from the mouse to the center of the circle. If the distance is less than the radius of the circle, create a new random center point:\r\n\r\n```java\r\nPVector mousePoint = new PVector(mouseX, mouseY);\r\nif (mousePoint.dist(centerPoint) &lt;= 30.0) {\r\n    centerPoint = new PVector(random(640), random(640));\r\n}\r\n```\r\n\r\n---\r\n\r\nComplete example:\r\n\r\n[![][1]][1]\r\n\r\n```java\r\nPVector centerPoint = new PVector(random(640), random(640));\r\n\r\nvoid setup() {\r\n    size(640, 640);\r\n}\r\n\r\nvoid draw() {\r\n    background(34, 45, 323);\r\n    ellipse(centerPoint.x, centerPoint.y, 60, 60);\r\n}\r\n\r\nvoid mousePressed() {\r\n    PVector mousePoint = new PVector(mouseX, mouseY);\r\n    if (mousePoint.dist(centerPoint) &lt;= 30.0) {\r\n        centerPoint = new PVector(random(640), random(640));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1FUza.gif","title":"Processing making object spawn after clicking object","body":"<p>Use an <a href=\"https://processing.org/reference/PVector.html\" rel=\"nofollow noreferrer\"><code>PVector</code></a> to represent a the center point of the circle</p>\n<pre class=\"lang-java prettyprint-override\"><code>PVector centerPoint = new PVector(random(640), random(640));\n</code></pre>\n<p>When the mouse button is pressed, calculate the distance from the mouse to the center of the circle. If the distance is less than the radius of the circle, create a new random center point:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PVector mousePoint = new PVector(mouseX, mouseY);\nif (mousePoint.dist(centerPoint) &lt;= 30.0) {\n    centerPoint = new PVector(random(640), random(640));\n}\n</code></pre>\n<hr />\n<p>Complete example:</p>\n<p><a href=\"https://i.stack.imgur.com/1FUza.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1FUza.gif\" alt=\"\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>PVector centerPoint = new PVector(random(640), random(640));\n\nvoid setup() {\n    size(640, 640);\n}\n\nvoid draw() {\n    background(34, 45, 323);\n    ellipse(centerPoint.x, centerPoint.y, 60, 60);\n}\n\nvoid mousePressed() {\n    PVector mousePoint = new PVector(mouseX, mouseY);\n    if (mousePoint.dist(centerPoint) &lt;= 30.0) {\n        centerPoint = new PVector(random(640), random(640));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23025258,"reputation":15,"user_id":17145625,"display_name":"somebody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1636117381,"creation_date":1636112398,"question_id":69852686,"body_markdown":"Hi this is my code the code should work like after clicking the new spawned cirlce another one should apear and after cliking the new one another one should spawn but it has some problem , for example i dont know what type of logic i should write for it? should i write \r\nrecursion if yes then how?\r\n\r\n\r\n```\r\nfloat xpaikka =random(640);\r\nfloat ypaikka =random(640) ;\r\nint value_y = 0 ;\r\nint value_x = 0 ;\r\nvoid setup(){\r\n  size(640,640);\r\n  frameRate(500);\r\n  background(34,45,323);\r\n}\r\n\r\n\r\nvoid draw(){\r\n  ellipse(xpaikka,ypaikka,60,60);\r\n  float randomi_x = random(630);\r\n  float randomi_y = random(630);\r\n  var d= dist(mouseX,mouseY,randomi_x,ypaikka);\r\n  if (d &lt; 30 &amp;&amp; value_x != 0){\r\n    ellipse(randomi_x,randomi_y,60,60);\r\n    value_x = 0;\r\n  }\r\n}\r\n\r\n\r\n\r\nvoid mousePressed() {\r\n  if (value_x == 0) {\r\n    value_x = mouseX;\r\n    print(&quot;mouseX&quot;,value_x);\r\n  } else {\r\n    value_x = 0;\r\n  }\r\n}\r\n\r\n\r\nvoid mousePressed2() {\r\n  if (value_y == 0) {\r\n    value_y = mouseY;\r\n    print(&quot;mouseY&quot;,mouseY);\r\n  } else {\r\n    value_y = 0;\r\n  }\r\n}\r\n```\r\n\r\n \r\n\r\n                                      \r\n\r\n","title":"Processing making object spawn after clicking object","body":"<p>Hi this is my code the code should work like after clicking the new spawned cirlce another one should apear and after cliking the new one another one should spawn but it has some problem , for example i dont know what type of logic i should write for it? should i write\nrecursion if yes then how?</p>\n<pre><code>float xpaikka =random(640);\nfloat ypaikka =random(640) ;\nint value_y = 0 ;\nint value_x = 0 ;\nvoid setup(){\n  size(640,640);\n  frameRate(500);\n  background(34,45,323);\n}\n\n\nvoid draw(){\n  ellipse(xpaikka,ypaikka,60,60);\n  float randomi_x = random(630);\n  float randomi_y = random(630);\n  var d= dist(mouseX,mouseY,randomi_x,ypaikka);\n  if (d &lt; 30 &amp;&amp; value_x != 0){\n    ellipse(randomi_x,randomi_y,60,60);\n    value_x = 0;\n  }\n}\n\n\n\nvoid mousePressed() {\n  if (value_x == 0) {\n    value_x = mouseX;\n    print(&quot;mouseX&quot;,value_x);\n  } else {\n    value_x = 0;\n  }\n}\n\n\nvoid mousePressed2() {\n  if (value_y == 0) {\n    value_y = mouseY;\n    print(&quot;mouseY&quot;,mouseY);\n  } else {\n    value_y = 0;\n  }\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1636020316,"post_id":69837429,"comment_id":123448301,"body_markdown":"I&#39;m not sure what the problem is here. Presumably *you* wrote `Appointment#toString`, so can&#39;t you change that method? Alternatively you can create a `toNiceString` method and call that when you push onto `appointments`.","body":"I&#39;m not sure what the problem is here. Presumably <i>you</i> wrote <code>Appointment#toString</code>, so can&#39;t you change that method? Alternatively you can create a <code>toNiceString</code> method and call that when you push onto <code>appointments</code>."},{"owner":{"account_id":21764341,"reputation":1,"user_id":16068462,"display_name":"Matt Nguyen"},"score":0,"creation_date":1636021581,"post_id":69837429,"comment_id":123448761,"body_markdown":"@Botje problem is we are reading binary file and its printing Appointment{day=Mark,hour=24,name=6} . I&#39;ve uploaded screenshot. I only want Mark,24,6 printed.","body":"@Botje problem is we are reading binary file and its printing Appointment{day=Mark,hour=24,name=6} . I&#39;ve uploaded screenshot. I only want Mark,24,6 printed."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1636022909,"post_id":69837429,"comment_id":123449304,"body_markdown":"Where you get the object from does not matter. Your dialog shows the output of  calling `Appointment#toString`, and you can clearly see how it constructs the result. Change the definition to the one you want.","body":"Where you get the object from does not matter. Your dialog shows the output of  calling <code>Appointment#toString</code>, and you can clearly see how it constructs the result. Change the definition to the one you want."}],"owner":{"account_id":21764341,"reputation":1,"user_id":16068462,"display_name":"Matt Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636117364,"creation_date":1636020189,"question_id":69837429,"body_markdown":"I have a simple Java GUI application that reads objects from a binary file.\r\nMy model class for appointment contains properties - name, day and hour.\r\n\r\nHowever, when I read the file the output printed in dialogue box is \r\n\r\n&gt; Appointment{day=Mark,hour=24,name=6}\r\n\r\nThis is not what I want, as it has included firstly the class name and the properties with curly brackets and equal signs. It should just be **Mark,24,6**. How do I stop this from happening?\r\n\r\nBelow is an image of what&#39;s displayed in the dialogue window. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nCurrent Result: Appointment{day=Mark,hour=24,name=6}\r\n\r\nMy Desired Result: `Mark,24,6`\r\n\r\nThe section that iterates through Appointment objects is below - \r\n\r\n**button2 in FrontEnd.java**\r\n\r\n    for( Appointment a : list )\r\n      {\r\n          if ( a instanceof Appointment )\r\n          appointments += a.toString() + &quot;\\n&quot;;\r\n      }\r\n    JOptionPane.showMessageDialog(null, appointments);\r\n\r\n\r\n```\r\npublic class MeetingCalendar \r\n{\r\n\r\n    public static void main(String[] args) throws FileNotFoundException, \r\n        IOException, NotSerializableException, ClassNotFoundException\r\n    {\r\n        FrontEnd feframe = new FrontEnd();\r\n        \r\n        //Setup FrontEnd\r\n        feframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n        feframe.setPreferredSize(new Dimension(300, 200));\r\n        feframe.pack();\r\n        feframe.setVisible(true);\r\n       \r\n        //setup file\r\n        InputOutput.setupFile();\r\n     \r\n    }    \r\n}\r\n```\r\n**Appointment.java (Model for record)**\r\n```\r\npublic class Appointment implements Serializable\r\n{\r\n    private String day;\r\n    private String hour;\r\n    private String name;\r\n\r\n    public Appointment(String day, String hour, String name) {\r\n        this.day = day;\r\n        this.hour = hour;\r\n        this.name = name;\r\n    }\r\n    \r\n    public String getDay() {\r\n        return day;\r\n    }\r\n\r\n    public void setDay(String day) {\r\n        this.day = day;\r\n    }\r\n\r\n    public String getHour() {\r\n        return hour;\r\n    }\r\n\r\n    public void setHour(String hour) {\r\n        this.hour = hour;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Appointment{&quot; + &quot;day=&quot; + day + &quot;, hour=&quot; + hour + &quot;, name=&quot; + name + &#39;}&#39;;\r\n    }\r\n                \r\n}\r\n```\r\n\r\n\r\n\r\n**FrontEnd.java**  -- this is where I believe the issue is at for( Appointment a : list )\r\n\r\n```\r\npublic class FrontEnd extends JFrame implements ActionListener\r\n{\r\n\r\n    private JPanel pnlNorth, pnlSouth;\r\n    public JButton button1, button2, btnHelp;\r\n    \r\n    public FrontEnd()\r\n    {\r\n        \r\n        super(&quot;Meeting Calendar&quot;);\r\n        \r\n        pnlNorth = new JPanel(new GridLayout(2,2));\r\n        pnlNorth.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\r\n\r\n        JLabel welcomeLabel= new JLabel(&quot;Meeting Calendar&quot;,SwingConstants.CENTER); \r\n        welcomeLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD + Font.ITALIC, 30)); \r\n        \r\n        pnlNorth.add(welcomeLabel);\r\n        pnlNorth.add(new JLabel(&quot;Enter or search Appointment:&quot;, SwingConstants.CENTER));\r\n        \r\n        button1 = new JButton(&quot;Add Appointment&quot;);\r\n        \r\n        button1.addActionListener(this);\r\n        \r\n        button2 = new JButton(&quot;Search Appointment&quot;);\r\n        button2.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent e)\r\n\r\n            {\r\n                    String appointments = &quot;&quot;;\r\n \r\n                    ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;();\r\n                    try {\r\n                    list = InputOutput.readRecord(&quot;people.bin&quot;);\r\n                    } catch (NotSerializableException ex) {\r\n                    Logger.getLogger(FrontEnd.class.getName()).log(Level.SEVERE, null, ex);\r\n                    } catch (IOException ex) {\r\n                    Logger.getLogger(FrontEnd.class.getName()).log(Level.SEVERE, null, ex);\r\n                    } catch (ClassNotFoundException ex) {\r\n                    Logger.getLogger(FrontEnd.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                    \r\n                    for( Appointment a : list )\r\n                    {\r\n                        if ( a instanceof Appointment )\r\n                        appointments += a.toString() + &quot;\\n&quot;;\r\n                    }\r\n                    JOptionPane.showMessageDialog(null, appointments);\r\n                }        \r\n            });\r\n        \r\n        \r\n        btnHelp = new JButton(&quot;Help&quot;);\r\n        btnHelp.addActionListener(this);\r\n        \r\n        btnHelp.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent e)\r\n            {\r\n                    JOptionPane.showMessageDialog(null, &quot;Hello Help&quot;);\r\n                }        \r\n            });\r\n\r\n        //Setup panel\r\n       \r\n        pnlSouth = new JPanel(new GridLayout(2,2));\r\n        pnlSouth.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\r\n        \r\n        pnlSouth.add(button1);\r\n        pnlSouth.add(button2);\r\n        \r\n        pnlNorth.add(btnHelp);\r\n        \r\n        //get the container for the JFrame\r\n        Container con = getContentPane();\r\n        con.setLayout(new BorderLayout(2,30));\r\n        con.add(pnlNorth, BorderLayout.NORTH);\r\n        con.add(pnlSouth, BorderLayout.CENTER);\r\n  \r\n\r\n    }  \r\n    \r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) \r\n    {\r\n        this.setVisible(false);\r\n        //JOptionPane.showMessageDialog(null, &quot;\\nNo lastname exists in records!\\n&quot;);\r\n        AddAppointment.createWindow();        \r\n    }\r\n\r\n}\r\n```\r\n\r\n**InputOutput.java**\r\n\r\n```\r\npublic class InputOutput \r\n{\r\n    \r\n    public static void setupFile()\r\n             throws FileNotFoundException, NotSerializableException, IOException, ClassNotFoundException\r\n    {\r\n          \r\n        ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;();\r\n        String file = &quot;people.bin&quot;;\r\n\r\n        File f = new File(file);\r\n        \r\n        if(f.exists())\r\n        { \r\n            list = InputOutput.readRecord(file);\r\n        }\r\n        \r\n    }\r\n    \r\n \r\n    public static void saveRecord(String fileName, ArrayList&lt;Appointment&gt; list)\r\n        throws FileNotFoundException, NotSerializableException, IOException\r\n    {\r\n        FileOutputStream fileoutstream = new FileOutputStream(fileName); \r\n        \r\n        ObjectOutputStream objectoutstream = new ObjectOutputStream(fileoutstream);\r\n        \r\n        // write the arraylist of objects to file\r\n        objectoutstream.writeObject(list);\r\n        objectoutstream.close();\r\n    }\r\n    \r\n    public static ArrayList&lt;Appointment&gt; readRecord(String fileName)\r\n        throws FileNotFoundException, NotSerializableException, IOException, ClassNotFoundException\r\n    {\r\n        ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;();\r\n        \r\n        FileInputStream fin = new FileInputStream(fileName);\r\n        ObjectInputStream ois = new ObjectInputStream(fin);\r\n        \r\n        // read the objects from the file and dump them into the arraylist\r\n        list = (ArrayList&lt;Appointment&gt;)ois.readObject();\r\n        \r\n        ois.close();\r\n        \r\n        return list;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vrEmu.png","title":"Appointment objects from read binary file has included class name and curly brackets in printed string","body":"<p>I have a simple Java GUI application that reads objects from a binary file.\nMy model class for appointment contains properties - name, day and hour.</p>\n<p>However, when I read the file the output printed in dialogue box is</p>\n<blockquote>\n<p>Appointment{day=Mark,hour=24,name=6}</p>\n</blockquote>\n<p>This is not what I want, as it has included firstly the class name and the properties with curly brackets and equal signs. It should just be <strong>Mark,24,6</strong>. How do I stop this from happening?</p>\n<p>Below is an image of what's displayed in the dialogue window.</p>\n<p>[![enter image description here][1]][1]</p>\n<p>Current Result: Appointment{day=Mark,hour=24,name=6}</p>\n<p>My Desired Result: <code>Mark,24,6</code></p>\n<p>The section that iterates through Appointment objects is below -</p>\n<p><strong>button2 in FrontEnd.java</strong></p>\n<pre><code>for( Appointment a : list )\n  {\n      if ( a instanceof Appointment )\n      appointments += a.toString() + &quot;\\n&quot;;\n  }\nJOptionPane.showMessageDialog(null, appointments);\n</code></pre>\n<pre><code>public class MeetingCalendar \n{\n\n    public static void main(String[] args) throws FileNotFoundException, \n        IOException, NotSerializableException, ClassNotFoundException\n    {\n        FrontEnd feframe = new FrontEnd();\n        \n        //Setup FrontEnd\n        feframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        feframe.setPreferredSize(new Dimension(300, 200));\n        feframe.pack();\n        feframe.setVisible(true);\n       \n        //setup file\n        InputOutput.setupFile();\n     \n    }    \n}\n</code></pre>\n<p><strong>Appointment.java (Model for record)</strong></p>\n<pre><code>public class Appointment implements Serializable\n{\n    private String day;\n    private String hour;\n    private String name;\n\n    public Appointment(String day, String hour, String name) {\n        this.day = day;\n        this.hour = hour;\n        this.name = name;\n    }\n    \n    public String getDay() {\n        return day;\n    }\n\n    public void setDay(String day) {\n        this.day = day;\n    }\n\n    public String getHour() {\n        return hour;\n    }\n\n    public void setHour(String hour) {\n        this.hour = hour;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Appointment{&quot; + &quot;day=&quot; + day + &quot;, hour=&quot; + hour + &quot;, name=&quot; + name + '}';\n    }\n                \n}\n</code></pre>\n<p><strong>FrontEnd.java</strong>  -- this is where I believe the issue is at for( Appointment a : list )</p>\n<pre><code>public class FrontEnd extends JFrame implements ActionListener\n{\n\n    private JPanel pnlNorth, pnlSouth;\n    public JButton button1, button2, btnHelp;\n    \n    public FrontEnd()\n    {\n        \n        super(&quot;Meeting Calendar&quot;);\n        \n        pnlNorth = new JPanel(new GridLayout(2,2));\n        pnlNorth.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\n\n        JLabel welcomeLabel= new JLabel(&quot;Meeting Calendar&quot;,SwingConstants.CENTER); \n        welcomeLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD + Font.ITALIC, 30)); \n        \n        pnlNorth.add(welcomeLabel);\n        pnlNorth.add(new JLabel(&quot;Enter or search Appointment:&quot;, SwingConstants.CENTER));\n        \n        button1 = new JButton(&quot;Add Appointment&quot;);\n        \n        button1.addActionListener(this);\n        \n        button2 = new JButton(&quot;Search Appointment&quot;);\n        button2.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n\n            {\n                    String appointments = &quot;&quot;;\n \n                    ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;();\n                    try {\n                    list = InputOutput.readRecord(&quot;people.bin&quot;);\n                    } catch (NotSerializableException ex) {\n                    Logger.getLogger(FrontEnd.class.getName()).log(Level.SEVERE, null, ex);\n                    } catch (IOException ex) {\n                    Logger.getLogger(FrontEnd.class.getName()).log(Level.SEVERE, null, ex);\n                    } catch (ClassNotFoundException ex) {\n                    Logger.getLogger(FrontEnd.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                    \n                    for( Appointment a : list )\n                    {\n                        if ( a instanceof Appointment )\n                        appointments += a.toString() + &quot;\\n&quot;;\n                    }\n                    JOptionPane.showMessageDialog(null, appointments);\n                }        \n            });\n        \n        \n        btnHelp = new JButton(&quot;Help&quot;);\n        btnHelp.addActionListener(this);\n        \n        btnHelp.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                    JOptionPane.showMessageDialog(null, &quot;Hello Help&quot;);\n                }        \n            });\n\n        //Setup panel\n       \n        pnlSouth = new JPanel(new GridLayout(2,2));\n        pnlSouth.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\n        \n        pnlSouth.add(button1);\n        pnlSouth.add(button2);\n        \n        pnlNorth.add(btnHelp);\n        \n        //get the container for the JFrame\n        Container con = getContentPane();\n        con.setLayout(new BorderLayout(2,30));\n        con.add(pnlNorth, BorderLayout.NORTH);\n        con.add(pnlSouth, BorderLayout.CENTER);\n  \n\n    }  \n    \n\n    @Override\n    public void actionPerformed(ActionEvent e) \n    {\n        this.setVisible(false);\n        //JOptionPane.showMessageDialog(null, &quot;\\nNo lastname exists in records!\\n&quot;);\n        AddAppointment.createWindow();        \n    }\n\n}\n</code></pre>\n<p><strong>InputOutput.java</strong></p>\n<pre><code>public class InputOutput \n{\n    \n    public static void setupFile()\n             throws FileNotFoundException, NotSerializableException, IOException, ClassNotFoundException\n    {\n          \n        ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;();\n        String file = &quot;people.bin&quot;;\n\n        File f = new File(file);\n        \n        if(f.exists())\n        { \n            list = InputOutput.readRecord(file);\n        }\n        \n    }\n    \n \n    public static void saveRecord(String fileName, ArrayList&lt;Appointment&gt; list)\n        throws FileNotFoundException, NotSerializableException, IOException\n    {\n        FileOutputStream fileoutstream = new FileOutputStream(fileName); \n        \n        ObjectOutputStream objectoutstream = new ObjectOutputStream(fileoutstream);\n        \n        // write the arraylist of objects to file\n        objectoutstream.writeObject(list);\n        objectoutstream.close();\n    }\n    \n    public static ArrayList&lt;Appointment&gt; readRecord(String fileName)\n        throws FileNotFoundException, NotSerializableException, IOException, ClassNotFoundException\n    {\n        ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;();\n        \n        FileInputStream fin = new FileInputStream(fileName);\n        ObjectInputStream ois = new ObjectInputStream(fin);\n        \n        // read the objects from the file and dump them into the arraylist\n        list = (ArrayList&lt;Appointment&gt;)ois.readObject();\n        \n        ois.close();\n        \n        return list;\n    }\n\n\n  [1]: https://i.stack.imgur.com/vrEmu.png\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","websphere","ear"],"answers":[{"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636117327,"creation_date":1636117327,"answer_id":69853686,"question_id":69845803,"body_markdown":"You can create singleton startup bean - see this - https://docs.oracle.com/cd/E19798-01/821-1841/gippq/index.html and deploy your application as EJB jar module in WebSphere, or EAR that contains just ejb jar, without any web ui (war).","title":"How to deploy and run EAR java Program with out Web Interface?","body":"<p>You can create singleton startup bean - see this - <a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/gippq/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19798-01/821-1841/gippq/index.html</a> and deploy your application as EJB jar module in WebSphere, or EAR that contains just ejb jar, without any web ui (war).</p>\n"}],"owner":{"account_id":11264751,"reputation":81,"user_id":8261913,"accept_rate":100,"display_name":"Harishfysx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636117327,"creation_date":1636059869,"question_id":69845803,"body_markdown":"HI I am trying to develop an application (EAR) to deploy it on WebSphere application server.\r\n\r\n\r\nThe goal is after deployment, the program needs to run automatically. There is no Web UI required, how do I achieve that? Below is the code. Its just a simple consumer that listens to kafka topic and prints messages.\r\n\r\n\r\n    \r\n\r\n\r\n//Create java class named &quot;SimpleProducer”\r\npublic class SimpleConsumer{\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t/*\r\n\t\t * // Check arguments length value if(args.length == 0){\r\n\t\t * System.out.println(&quot;Enter topic name&quot;); return; }\r\n\t\t */\r\n\t\tLogger logger = LoggerFactory.getLogger(SimpleConsumer.class);\r\n\r\n\t\t// Assign topicName to string variable\r\n\t\tString topicName = &quot;first_topic&quot;;\r\n\r\n\t\t// create instance for properties to access producer configs\r\n\t\tProperties props = new Properties();\r\n\r\n\t\t// Assign localhost id\r\n\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka165.harishfysx.com:9092&quot;);\r\n\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG , StringDeserializer.class.getName());\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\t\tprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-fourth-applicaiton&quot;);\r\n\t\tprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG , &quot;earliest&quot;);\r\n\r\n\t\r\n\r\n\t\t// Create Consumer\r\n\t\tKafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(props);\r\n\t\t// Subscribe\r\n\t\tconsumer.subscribe(Collections.singleton(topicName));\r\n\t\t//Poll data\r\n\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\tConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\r\n\t\t\tfor (ConsumerRecord&lt;String, String&gt; record :  records) {\r\n\t\t\t\tlogger.info( &quot;Value :&quot; + record.value());\r\n\t\t\t\tlogger.info(&quot;Offset :&quot; + record.offset());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","title":"How to deploy and run EAR java Program with out Web Interface?","body":"<p>HI I am trying to develop an application (EAR) to deploy it on WebSphere application server.</p>\n<p>The goal is after deployment, the program needs to run automatically. There is no Web UI required, how do I achieve that? Below is the code. Its just a simple consumer that listens to kafka topic and prints messages.</p>\n<p>//Create java class named &quot;SimpleProducer”\npublic class SimpleConsumer{</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    /*\n     * // Check arguments length value if(args.length == 0){\n     * System.out.println(&quot;Enter topic name&quot;); return; }\n     */\n    Logger logger = LoggerFactory.getLogger(SimpleConsumer.class);\n\n    // Assign topicName to string variable\n    String topicName = &quot;first_topic&quot;;\n\n    // create instance for properties to access producer configs\n    Properties props = new Properties();\n\n    // Assign localhost id\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka165.harishfysx.com:9092&quot;);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG , StringDeserializer.class.getName());\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-fourth-applicaiton&quot;);\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG , &quot;earliest&quot;);\n\n\n\n    // Create Consumer\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;String, String&gt;(props);\n    // Subscribe\n    consumer.subscribe(Collections.singleton(topicName));\n    //Poll data\n\n    \n    while(true) {\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\n        for (ConsumerRecord&lt;String, String&gt; record :  records) {\n            logger.info( &quot;Value :&quot; + record.value());\n            logger.info(&quot;Offset :&quot; + record.offset());\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","spring-mvc","redhat","java-web-start"],"comments":[{"owner":{"account_id":171070,"reputation":101534,"user_id":398242,"accept_rate":98,"display_name":"Wesley Murch"},"score":0,"creation_date":1648583697,"post_id":69668604,"comment_id":126660307,"body_markdown":"can u post pdf?","body":"can u post pdf?"},{"owner":{"account_id":61494,"reputation":7905,"user_id":183254,"accept_rate":96,"display_name":"stormdrain"},"score":1,"creation_date":1648648046,"post_id":69668604,"comment_id":126677852,"body_markdown":"yes haf posted on yahoo answers thread check there plz","body":"yes haf posted on yahoo answers thread check there plz"}],"answers":[{"tags":[],"owner":{"account_id":61494,"reputation":7905,"user_id":183254,"accept_rate":96,"display_name":"stormdrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636117242,"creation_date":1636117242,"answer_id":69853665,"question_id":69668604,"body_markdown":"We were able to solve the problem by using xpra and Xdummy (https://xpra.org/repos/CentOS/xpra.repo) instead of using xvfb.","title":"Redhat 8.4 Java Swing web -- components are not visible, but do exist","body":"<p>We were able to solve the problem by using xpra and Xdummy (<a href=\"https://xpra.org/repos/CentOS/xpra.repo\" rel=\"nofollow noreferrer\">https://xpra.org/repos/CentOS/xpra.repo</a>) instead of using xvfb.</p>\n"}],"owner":{"account_id":61494,"reputation":7905,"user_id":183254,"accept_rate":96,"display_name":"stormdrain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69853665,"answer_count":1,"score":0,"last_activity_date":1636117242,"creation_date":1634849275,"question_id":69668604,"body_markdown":"We are running some new software that is java-based and are trying to run it on Redhat 8.4. The vendor claims that they have it running on Ubuntu, but I have not been able to do the same. The application runs fine via java thin-client, but the web application exhibits strange behavior: after logging in, most of the content except for menus, is just blank. The content is there because mousover works and I can click on things and see the activity in the logs from the clicks, but the content is not visible. \r\n\r\nWe are running \r\n\r\n - jre-1.8.0_101 \r\n - Webswing version 2.4 \r\n - Chrome 94.0.4606\r\n - X-Atmosphere-Framework 2.3.1 \r\n - RedHat 8.4 (I&#39;ve installed several recommended libraries to include, xorg, Xvfb, and X11 to name a few. I create a Xvfb window and make it available via ENV variable before running the application).\r\n\r\nI&#39;ve tried on multiple OS (MacOS, Windows, Linux) using multiple browsers (Edge, Chrome, Safari, Firefox) and always get the same result. Interestingly, when inspecting the components, everything that is not visible seems to be rendering via canvas. However, I have not been successful in digging into the canvas components with any tools as of yet. \r\n\r\nUnfortunately, I don&#39;t have access to the source code as it&#39;s software we have purchased, but I&#39;m hoping someone has seen something like this before and I can help the devs look in the right place or I can correct whatever may be wrong with my setup. Happy to provide more info where I can. Nothing in the wrapper.log or stdout.log lends any guidance as to what could be going wrong. \r\n\r\nDoes anyone know what webswing/swing canvas web application components are needed to run successfully on Redhat 8.4? Any other advice or suggestions welcome. \r\n","title":"Redhat 8.4 Java Swing web -- components are not visible, but do exist","body":"<p>We are running some new software that is java-based and are trying to run it on Redhat 8.4. The vendor claims that they have it running on Ubuntu, but I have not been able to do the same. The application runs fine via java thin-client, but the web application exhibits strange behavior: after logging in, most of the content except for menus, is just blank. The content is there because mousover works and I can click on things and see the activity in the logs from the clicks, but the content is not visible.</p>\n<p>We are running</p>\n<ul>\n<li>jre-1.8.0_101</li>\n<li>Webswing version 2.4</li>\n<li>Chrome 94.0.4606</li>\n<li>X-Atmosphere-Framework 2.3.1</li>\n<li>RedHat 8.4 (I've installed several recommended libraries to include, xorg, Xvfb, and X11 to name a few. I create a Xvfb window and make it available via ENV variable before running the application).</li>\n</ul>\n<p>I've tried on multiple OS (MacOS, Windows, Linux) using multiple browsers (Edge, Chrome, Safari, Firefox) and always get the same result. Interestingly, when inspecting the components, everything that is not visible seems to be rendering via canvas. However, I have not been successful in digging into the canvas components with any tools as of yet.</p>\n<p>Unfortunately, I don't have access to the source code as it's software we have purchased, but I'm hoping someone has seen something like this before and I can help the devs look in the right place or I can correct whatever may be wrong with my setup. Happy to provide more info where I can. Nothing in the wrapper.log or stdout.log lends any guidance as to what could be going wrong.</p>\n<p>Does anyone know what webswing/swing canvas web application components are needed to run successfully on Redhat 8.4? Any other advice or suggestions welcome.</p>\n"},{"tags":["java","oracle","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"score":0,"creation_date":1540383056,"post_id":52968473,"comment_id":92843497,"body_markdown":"Do you use suitable drivers in your `DataSource` / `JPA configuration` for each database?","body":"Do you use suitable drivers in your <code>DataSource</code> / <code>JPA configuration</code> for each database?"},{"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"score":0,"creation_date":1540383204,"post_id":52968473,"comment_id":92843581,"body_markdown":"of course. I have separate profiles for configuration. There are dependencies for drivers and `oracle` and `postgresql`.","body":"of course. I have separate profiles for configuration. There are dependencies for drivers and <code>oracle</code> and <code>postgresql</code>."},{"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"score":0,"creation_date":1540383598,"post_id":52968473,"comment_id":92843836,"body_markdown":"Hmmm.. try add `columnDefinition = &quot;VARBINARY&quot;` attribute to your `@Column` annotation and let check what&#39;s happen. Do two cases: with and without `@Type` annotation.","body":"Hmmm.. try add <code>columnDefinition = &quot;VARBINARY&quot;</code> attribute to your <code>@Column</code> annotation and let check what&#39;s happen. Do two cases: with and without <code>@Type</code> annotation."},{"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"score":0,"creation_date":1540383792,"post_id":52968473,"comment_id":92843975,"body_markdown":"It is not helped","body":"It is not helped"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613016680,"creation_date":1613016680,"answer_id":66148658,"question_id":52968473,"body_markdown":"Unfortunately hibernate entities are db-provider specific.","title":"How to make BLOB work on Oracle and PostgreSQL?","body":"<p>Unfortunately hibernate entities are db-provider specific.</p>\n"},{"tags":[],"owner":{"account_id":6184168,"reputation":1,"user_id":4818744,"display_name":"Amine EL HABIL"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636114017,"creation_date":1636114017,"answer_id":69853017,"question_id":52968473,"body_markdown":"your sql type should be : bytea (Postgres database)","title":"How to make BLOB work on Oracle and PostgreSQL?","body":"<p>your sql type should be : bytea (Postgres database)</p>\n"}],"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1343,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1636117179,"creation_date":1540382400,"question_id":52968473,"body_markdown":"I have entity with a `BLOB` column:\r\n\r\n    @Lob\r\n    @Column(name = &quot;SRC&quot;)\r\n    private byte[] src;\r\n\r\nMy application works with two databases, Oracle and PostgreSQL. When I start the application with Oracle as written above, all works fine, but when I start with PostgreSQL, I get an error:\r\n\r\n    Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [src] in table [catalogs]; found [bytea (Types#BINARY)], but expecting [oid (Types#BLOB)]\r\n\r\nAfter that I read articles and advice in Google and fix it:\r\n\r\n    @Lob\r\n    @Type(type=&quot;org.hibernate.type.BinaryType&quot;)\r\n    @Column(name = &quot;SRC&quot;)\r\n    private byte[] src;\r\n\r\nNow it works fine with PostgreSQL, but with Oracle I get exception:\r\n\r\n    Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [src] in table [catalogs]; found [blob (Types#BLOB)], but expecting [raw(255) (Types#VARBINARY)]\r\n\r\nWhat should I do to make it work on both databases?\r\n\r\nP.S. I have similar problems with CLOB","title":"How to make BLOB work on Oracle and PostgreSQL?","body":"<p>I have entity with a <code>BLOB</code> column:</p>\n<pre><code>@Lob\n@Column(name = &quot;SRC&quot;)\nprivate byte[] src;\n</code></pre>\n<p>My application works with two databases, Oracle and PostgreSQL. When I start the application with Oracle as written above, all works fine, but when I start with PostgreSQL, I get an error:</p>\n<pre><code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [src] in table [catalogs]; found [bytea (Types#BINARY)], but expecting [oid (Types#BLOB)]\n</code></pre>\n<p>After that I read articles and advice in Google and fix it:</p>\n<pre><code>@Lob\n@Type(type=&quot;org.hibernate.type.BinaryType&quot;)\n@Column(name = &quot;SRC&quot;)\nprivate byte[] src;\n</code></pre>\n<p>Now it works fine with PostgreSQL, but with Oracle I get exception:</p>\n<pre><code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [src] in table [catalogs]; found [blob (Types#BLOB)], but expecting [raw(255) (Types#VARBINARY)]\n</code></pre>\n<p>What should I do to make it work on both databases?</p>\n<p>P.S. I have similar problems with CLOB</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":58621,"reputation":1481,"user_id":175469,"accept_rate":93,"display_name":"Jim Downing"},"score":0,"creation_date":1254395542,"post_id":1503284,"comment_id":1356253,"body_markdown":"Hmmm. Never seen that. Does `echo $HOME` work from the command line? \n\nTry printing out `System.getProperties()`?","body":"Hmmm. Never seen that. Does <code>echo $HOME</code> work from the command line?   Try printing out <code>System.getProperties()</code>?"},{"owner":{"account_id":6090,"reputation":31973,"user_id":10098,"accept_rate":80,"display_name":"wds"},"score":0,"creation_date":1254397154,"post_id":1503284,"comment_id":1356376,"body_markdown":"From /etc/passwd maybe? Is the home directory dynamic?","body":"From /etc/passwd maybe? Is the home directory dynamic?"},{"owner":{"account_id":18572,"reputation":10668,"user_id":42645,"accept_rate":76,"display_name":"zedoo"},"score":0,"creation_date":1254397247,"post_id":1503284,"comment_id":1356385,"body_markdown":"Are you sure this is the sun implementation?","body":"Are you sure this is the sun implementation?"}],"answers":[{"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1254397526,"creation_date":1254395972,"answer_id":1503341,"question_id":1503284,"body_markdown":"That&#39;s really interesting. Looks like `user.home` property is not taken from $HOME environment variable.\r\nI&#39;ve tried this:\r\n\r\n    $ echo $HOME &amp;&amp; java Test &amp;&amp; unset HOME &amp;&amp; echo $HOME &amp;&amp; java Test\r\n    /home/grzole\r\n    /home/grzole\r\n    \r\n    /home/grzole\r\n\r\nNote that the shell forgets the HOME variable value, but Java doesn&#39;t.\r\n\r\n\r\nEDIT:\r\nI suspect Java just takes the `/home/` prefix and adds the user name.\r\nConsider this:\r\n    \r\n    # adduser b\r\n    ...\r\n    # rm -fr /home/b\r\n    # su - b\r\n    No directory, logging in with HOME=/\r\n    $ cd /tmp/jb\r\n    $ java Test\r\n    /home/b\r\n\r\nMaybe you don&#39;t have the `/home` directory in your file system at all?\r\n","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>That's really interesting. Looks like <code>user.home</code> property is not taken from $HOME environment variable.\nI've tried this:</p>\n\n<pre><code>$ echo $HOME &amp;&amp; java Test &amp;&amp; unset HOME &amp;&amp; echo $HOME &amp;&amp; java Test\n/home/grzole\n/home/grzole\n\n/home/grzole\n</code></pre>\n\n<p>Note that the shell forgets the HOME variable value, but Java doesn't.</p>\n\n<p>EDIT:\nI suspect Java just takes the <code>/home/</code> prefix and adds the user name.\nConsider this:</p>\n\n<pre><code># adduser b\n...\n# rm -fr /home/b\n# su - b\nNo directory, logging in with HOME=/\n$ cd /tmp/jb\n$ java Test\n/home/b\n</code></pre>\n\n<p>Maybe you don't have the <code>/home</code> directory in your file system at all?</p>\n"},{"tags":[],"owner":{"account_id":42474,"reputation":2894,"user_id":123724,"display_name":"Billy Bob Bain"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1254397058,"creation_date":1254397058,"answer_id":1503436,"question_id":1503284,"body_markdown":"A workaround, not a solution. You should be able to set it with by adding `-Duser.home=$HOME` as an argument.\r\n\r\n    java -Duser.home=$HOME Test","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>A workaround, not a solution. You should be able to set it with by adding <code>-Duser.home=$HOME</code> as an argument.</p>\n\n<pre><code>java -Duser.home=$HOME Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254397311,"creation_date":1254397311,"answer_id":1503457,"question_id":1503284,"body_markdown":"What about the other guaranteed properties?   What happens if you make a call to something like the following?\r\n&lt;pre&gt;&lt;code&gt;\r\n   public static void printAllGuaranteedProperties() {\r\n       printAProperty (&quot;java.version&quot;, &quot;Java version number&quot;);\r\n       printAProperty (&quot;java.vendor&quot;, &quot;Java vendor specific string&quot;);\r\n       printAProperty (&quot;java.vendor.url&quot;, &quot;Java vendor URL&quot;);\r\n       printAProperty (&quot;java.home&quot;, &quot;Java installation directory&quot;);\r\n       printAProperty (&quot;java.class.version&quot;, &quot;Java class version number&quot;);\r\n       printAProperty (&quot;java.class.path&quot;, &quot;Java classpath&quot;);\r\n       printAProperty (&quot;os.name&quot;, &quot;Operating System Name&quot;);\r\n       printAProperty (&quot;os.arch&quot;, &quot;Operating System Architecture&quot;);\r\n       printAProperty (&quot;os.version&quot;, &quot;Operating System Version&quot;);\r\n       printAProperty (&quot;file.separator&quot;, &quot;File separator&quot;);\r\n       printAProperty (&quot;path.separator&quot;, &quot;Path separator&quot;);\r\n       printAProperty (&quot;line.separator&quot;, &quot;Line separator&quot;);\r\n       printAProperty (&quot;user.name&quot;, &quot;User account name&quot;);\r\n       printAProperty (&quot;user.home&quot;, &quot;User home directory&quot;);\r\n       printAProperty (&quot;user.dir&quot;, &quot;User&#39;s current working directory&quot;);\r\n    }\r\n    public static void printAProperty (String propName, String desc) {\r\n       System.out.println (&quot;Value for &#39;&quot; + desc + &quot;&#39; is &#39;&quot; + System.getProperty(propName) + &quot;&#39;.&quot;);\r\n    }\r\n   \r\n&lt;/code&gt;&lt;/pre&gt;","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>What about the other guaranteed properties?   What happens if you make a call to something like the following?</p>\n\n<pre><code>\n   public static void printAllGuaranteedProperties() {\n       printAProperty (\"java.version\", \"Java version number\");\n       printAProperty (\"java.vendor\", \"Java vendor specific string\");\n       printAProperty (\"java.vendor.url\", \"Java vendor URL\");\n       printAProperty (\"java.home\", \"Java installation directory\");\n       printAProperty (\"java.class.version\", \"Java class version number\");\n       printAProperty (\"java.class.path\", \"Java classpath\");\n       printAProperty (\"os.name\", \"Operating System Name\");\n       printAProperty (\"os.arch\", \"Operating System Architecture\");\n       printAProperty (\"os.version\", \"Operating System Version\");\n       printAProperty (\"file.separator\", \"File separator\");\n       printAProperty (\"path.separator\", \"Path separator\");\n       printAProperty (\"line.separator\", \"Line separator\");\n       printAProperty (\"user.name\", \"User account name\");\n       printAProperty (\"user.home\", \"User home directory\");\n       printAProperty (\"user.dir\", \"User's current working directory\");\n    }\n    public static void printAProperty (String propName, String desc) {\n       System.out.println (\"Value for '\" + desc + \"' is '\" + System.getProperty(propName) + \"'.\");\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254397727,"creation_date":1254397727,"answer_id":1503500,"question_id":1503284,"body_markdown":"wds is right in his/her comment. The `user.home` value  seems to be taken from /etc/passwd.\r\nWhat is your line in `/etc/passwd` for your user?\r\n\r\nIf I changed the entry to `/home/nonexisting`, the `Test` class printed `/home/nonexisting`. Do you happen to have `?` in /etc/passwd?","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>wds is right in his/her comment. The <code>user.home</code> value  seems to be taken from /etc/passwd.\nWhat is your line in <code>/etc/passwd</code> for your user?</p>\n\n<p>If I changed the entry to <code>/home/nonexisting</code>, the <code>Test</code> class printed <code>/home/nonexisting</code>. Do you happen to have <code>?</code> in /etc/passwd?</p>\n"},{"tags":[],"owner":{"account_id":59126,"reputation":5430,"user_id":176958,"accept_rate":89,"display_name":"whatnick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1254404143,"creation_date":1254404143,"answer_id":1504013,"question_id":1503284,"body_markdown":"Need to pore through the native code to figure out what exactly is happening. The user.home variable is set by the &quot;PAM&quot; modules in Linux systems and if the module in use generates these dynamically and the Java implementation is trying to get the value without explicitly using PAM then the behaviour is unpredictable hence the &quot;?&quot;","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>Need to pore through the native code to figure out what exactly is happening. The user.home variable is set by the \"PAM\" modules in Linux systems and if the module in use generates these dynamically and the Java implementation is trying to get the value without explicitly using PAM then the behaviour is unpredictable hence the \"?\"</p>\n"},{"tags":[],"owner":{"account_id":28153,"reputation":3983,"user_id":74890,"accept_rate":64,"display_name":"digitalbreed"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1254476393,"creation_date":1254476393,"answer_id":1508616,"question_id":1503284,"body_markdown":"It&#39;s a bit embarrassing but the solution was simply to use a 64-bit JDK on a 64-bit system. I copied everything from my old machine, which meant also a 32-bit JDK, and this was the problem. It worked as expected with a 64-bit runtime.\r\n\r\nSorry for bothering.","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>It's a bit embarrassing but the solution was simply to use a 64-bit JDK on a 64-bit system. I copied everything from my old machine, which meant also a 32-bit JDK, and this was the problem. It worked as expected with a 64-bit runtime.</p>\n\n<p>Sorry for bothering.</p>\n"},{"tags":[],"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393509928,"creation_date":1391444893,"answer_id":21532495,"question_id":1503284,"body_markdown":"For completeness, it also looks like, if the system in question is configured to use LDAP authentication (and not /etc/passwd), then the issue outlined in this bug report may be the problem: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6972329.  Make sure the appropriate libnss_ldap.so is installed for your system (e.g.: a 32-bit LDAP library for use with a 32-bit Java).  Some commands that might be helpful for determining this might be:\r\n\r\n    &gt; rpm -qa | grep ldap\r\n    nss-pam-ldapd-0.7.5-14.el6_2.1.x86_64   # Note x86_64 bit version installed\r\n\r\n    &gt; ls -l /lib64/libnss_ldap*\r\n    -rwxr-xr-x. 1 root root 44328 Jan  3  2012 /lib64/libnss_ldap.so.2\r\n    # ^^^ note 64 bit version installed.\r\n\r\n    &gt; ls /lib/libnss_ldap*\r\n    ls: cannot access /lib/libnss_ldap*: No such file or directory\r\n    # ^^^ Indicates 32 bit version is not installed!","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>For completeness, it also looks like, if the system in question is configured to use LDAP authentication (and not /etc/passwd), then the issue outlined in this bug report may be the problem: <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6972329\" rel=\"nofollow\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6972329</a>.  Make sure the appropriate libnss_ldap.so is installed for your system (e.g.: a 32-bit LDAP library for use with a 32-bit Java).  Some commands that might be helpful for determining this might be:</p>\n\n<pre><code>&gt; rpm -qa | grep ldap\nnss-pam-ldapd-0.7.5-14.el6_2.1.x86_64   # Note x86_64 bit version installed\n\n&gt; ls -l /lib64/libnss_ldap*\n-rwxr-xr-x. 1 root root 44328 Jan  3  2012 /lib64/libnss_ldap.so.2\n# ^^^ note 64 bit version installed.\n\n&gt; ls /lib/libnss_ldap*\nls: cannot access /lib/libnss_ldap*: No such file or directory\n# ^^^ Indicates 32 bit version is not installed!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5154661,"reputation":1,"user_id":4128197,"display_name":"Steffen Kux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412921991,"creation_date":1412921991,"answer_id":26293113,"question_id":1503284,"body_markdown":"I had the same problem. As mentioned above, the problem is, that the 32 bit Java needs also the 32 bit ldap libraries to be installed. If not, the decribed error occurs.\r\n\r\nInstalling the libnss_ldap.so.2 and the depending packages solves the problem.","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>I had the same problem. As mentioned above, the problem is, that the 32 bit Java needs also the 32 bit ldap libraries to be installed. If not, the decribed error occurs.</p>\n\n<p>Installing the libnss_ldap.so.2 and the depending packages solves the problem.</p>\n"},{"tags":[],"owner":{"account_id":1678320,"reputation":1582,"user_id":1543290,"accept_rate":50,"display_name":"Zvika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621496140,"creation_date":1621496140,"answer_id":67615939,"question_id":1503284,"body_markdown":"I had the same problem, and inspired on @digitalbreed&#39;s answer I&#39;ve discovered a similar, but different solution. In my case everything was 64 bit. However, I noticed that the problem was only when running from command line, while if I tried it from IntelliJ, it worked fine - because it used a different JDK.\r\n\r\nThus, I&#39;ve removed the JDK I was using from CLI (`openjdk-15.0.1-ga`, supplied by nix-env), and added IntelliJ&#39;s JDK (`openjdk-16.0.1`) to `PATH`, and now it&#39;s fine.","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>I had the same problem, and inspired on @digitalbreed's answer I've discovered a similar, but different solution. In my case everything was 64 bit. However, I noticed that the problem was only when running from command line, while if I tried it from IntelliJ, it worked fine - because it used a different JDK.</p>\n<p>Thus, I've removed the JDK I was using from CLI (<code>openjdk-15.0.1-ga</code>, supplied by nix-env), and added IntelliJ's JDK (<code>openjdk-16.0.1</code>) to <code>PATH</code>, and now it's fine.</p>\n"},{"tags":[],"owner":{"account_id":23247708,"reputation":11,"user_id":17336523,"display_name":"Mech"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636117103,"creation_date":1636117103,"answer_id":69853634,"question_id":1503284,"body_markdown":"I had this problem when running the `mvn` docker image, which is running java in the background and shares this problem. I think [this answer](https://stackoverflow.com/a/1503500) had the right diagnosis, but the solution didn&#39;t work for me. I had to mount a local `.m2` folder in two places to get the folder to cache properly. It wanted to use the `/root/.m2` for some things and `/scratch/?/.m2` for other things, so I mounted them both\r\n\r\n```\r\nmkdir -p root/.m2\r\ndocker run --rm -it \\\r\n  --user $(id -u):$(id -g) \\\r\n  -v `pwd`:/scratch --workdir /scratch -e HOME=/scratch \\\r\n  -v `pwd`/root:/root/ -v `pwd`/root:&#39;/scratch/?&#39; \\\r\n  maven:3-jdk-11 mvn package\r\n```\r\n","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>I had this problem when running the <code>mvn</code> docker image, which is running java in the background and shares this problem. I think <a href=\"https://stackoverflow.com/a/1503500\">this answer</a> had the right diagnosis, but the solution didn't work for me. I had to mount a local <code>.m2</code> folder in two places to get the folder to cache properly. It wanted to use the <code>/root/.m2</code> for some things and <code>/scratch/?/.m2</code> for other things, so I mounted them both</p>\n<pre><code>mkdir -p root/.m2\ndocker run --rm -it \\\n  --user $(id -u):$(id -g) \\\n  -v `pwd`:/scratch --workdir /scratch -e HOME=/scratch \\\n  -v `pwd`/root:/root/ -v `pwd`/root:'/scratch/?' \\\n  maven:3-jdk-11 mvn package\n</code></pre>\n"}],"owner":{"account_id":28153,"reputation":3983,"user_id":74890,"accept_rate":64,"display_name":"digitalbreed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58039,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":1508616,"answer_count":10,"score":34,"last_activity_date":1636117103,"creation_date":1254395279,"question_id":1503284,"body_markdown":"I&#39;m completely lost on this one: `System.getProperty(&quot;user.home&quot;)` and `System.getProperty(&quot;user.name&quot;)` returns a questionmark &quot;?&quot;.\r\n\r\n    System-Specs:\r\n    Kubuntu 9.04\r\n    Gnome 2.2.61\r\n    Java 1.5.0_16\r\n\r\nMy testcase looks like that:\r\n\r\n    $ more Test.java\r\n    class Test { public static void main( String[] args ) { System.out.println( System.getProperties() ); } }\r\n\r\nThe result is (added line-breaks for better readability, replaced company name and own name):\r\n\r\n    $ javac Test.java\r\n    $ java Test\r\n    {\r\n\tjava.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition,\r\n\tsun.boot.library.path=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i386,\r\n\tjava.vm.version=1.5.0_16-b02,\r\n\tjava.vm.vendor=Sun Microsystems Inc.,\r\n\tjava.vendor.url=http://java.sun.com/,\r\n\tpath.separator=:,\r\n\tjava.vm.name=Java HotSpot(TM) Server VM,\r\n\tfile.encoding.pkg=sun.io,\r\n\tsun.java.launcher=SUN_STANDARD,\r\n\tuser.country=US,\r\n\tsun.os.patch.level=unknown,\r\n\tjava.vm.specification.name=Java Virtual Machine Specification,\r\n\tuser.dir=/home/MYCOMPANY/myname/temp,\r\n\tjava.runtime.version=1.5.0_16-b02,\r\n\tjava.awt.graphicsenv=sun.awt.X11GraphicsEnvironment,\r\n\tjava.endorsed.dirs=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/endorsed,\r\n\tos.arch=i386,\r\n\tjava.io.tmpdir=/tmp,\r\n\tline.separator=\r\n    ,\r\n\tjava.vm.specification.vendor=Sun Microsystems Inc.,\r\n\tos.name=Linux,\r\n\tsun.jnu.encoding=UTF-8,\r\n\tjava.library.path=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i386/server:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i386:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/../lib/i386,\r\n\tjava.specification.name=Java Platform API Specification,\r\n\tjava.class.version=49.0,\r\n\tsun.management.compiler=HotSpot Server Compiler,\r\n\tos.version=2.6.28-15-generic,\r\n\tuser.home=?,\r\n\tuser.timezone=,\r\n\tjava.awt.printerjob=sun.print.PSPrinterJob,\r\n\tfile.encoding=UTF-8,\r\n\tjava.specification.version=1.5,\r\n\tjava.class.path=.,\r\n\tuser.name=?,\r\n\tjava.vm.specification.version=1.0,\r\n\tjava.home=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre,\r\n\tsun.arch.data.model=32,\r\n\tuser.language=en,\r\n\tjava.specification.vendor=Sun Microsystems Inc.,\r\n\tjava.vm.info=mixed mode,\r\n\tjava.version=1.5.0_16,\r\n\tjava.ext.dirs=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/ext,\r\n\tsun.boot.class.path=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/rt.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i18n.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/sunrsasign.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/jsse.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/jce.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/charsets.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/classes,\r\n\tjava.vendor=Sun Microsystems Inc.,\r\n\tfile.separator=/,\r\n\tjava.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi,\r\n\tsun.io.unicode.encoding=UnicodeLittle,\r\n\tsun.cpu.endian=little,\r\n\tsun.desktop=gnome,\r\n\tsun.cpu.isalist=\r\n    }\r\n\r\nDid someone ever experience that? Where is Java looking to find the user and home directory? I already checked the HOME environment variable which is set correctly.\r\n","title":"Java: System.getProperty(&quot;user.home&quot;) returns &quot;?&quot;","body":"<p>I'm completely lost on this one: <code>System.getProperty(\"user.home\")</code> and <code>System.getProperty(\"user.name\")</code> returns a questionmark \"?\".</p>\n\n<pre><code>System-Specs:\nKubuntu 9.04\nGnome 2.2.61\nJava 1.5.0_16\n</code></pre>\n\n<p>My testcase looks like that:</p>\n\n<pre><code>$ more Test.java\nclass Test { public static void main( String[] args ) { System.out.println( System.getProperties() ); } }\n</code></pre>\n\n<p>The result is (added line-breaks for better readability, replaced company name and own name):</p>\n\n<pre><code>$ javac Test.java\n$ java Test\n{\njava.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition,\nsun.boot.library.path=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i386,\njava.vm.version=1.5.0_16-b02,\njava.vm.vendor=Sun Microsystems Inc.,\njava.vendor.url=http://java.sun.com/,\npath.separator=:,\njava.vm.name=Java HotSpot(TM) Server VM,\nfile.encoding.pkg=sun.io,\nsun.java.launcher=SUN_STANDARD,\nuser.country=US,\nsun.os.patch.level=unknown,\njava.vm.specification.name=Java Virtual Machine Specification,\nuser.dir=/home/MYCOMPANY/myname/temp,\njava.runtime.version=1.5.0_16-b02,\njava.awt.graphicsenv=sun.awt.X11GraphicsEnvironment,\njava.endorsed.dirs=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/endorsed,\nos.arch=i386,\njava.io.tmpdir=/tmp,\nline.separator=\n,\njava.vm.specification.vendor=Sun Microsystems Inc.,\nos.name=Linux,\nsun.jnu.encoding=UTF-8,\njava.library.path=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i386/server:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i386:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/../lib/i386,\njava.specification.name=Java Platform API Specification,\njava.class.version=49.0,\nsun.management.compiler=HotSpot Server Compiler,\nos.version=2.6.28-15-generic,\nuser.home=?,\nuser.timezone=,\njava.awt.printerjob=sun.print.PSPrinterJob,\nfile.encoding=UTF-8,\njava.specification.version=1.5,\njava.class.path=.,\nuser.name=?,\njava.vm.specification.version=1.0,\njava.home=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre,\nsun.arch.data.model=32,\nuser.language=en,\njava.specification.vendor=Sun Microsystems Inc.,\njava.vm.info=mixed mode,\njava.version=1.5.0_16,\njava.ext.dirs=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/ext,\nsun.boot.class.path=/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/rt.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/i18n.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/sunrsasign.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/jsse.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/jce.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/lib/charsets.jar:/home/MYCOMPANY/myname/apps/jdk1.5.0_16/jre/classes,\njava.vendor=Sun Microsystems Inc.,\nfile.separator=/,\njava.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi,\nsun.io.unicode.encoding=UnicodeLittle,\nsun.cpu.endian=little,\nsun.desktop=gnome,\nsun.cpu.isalist=\n}\n</code></pre>\n\n<p>Did someone ever experience that? Where is Java looking to find the user and home directory? I already checked the HOME environment variable which is set correctly.</p>\n"},{"tags":["java","oracle","junit","syntax","hsqldb"],"comments":[{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1636241202,"post_id":69853623,"comment_id":123504875,"body_markdown":"What is the query you are executing?","body":"What is the query you are executing?"},{"owner":{"account_id":23248140,"reputation":1,"user_id":17336417,"display_name":"McAmplifier"},"score":0,"creation_date":1636356320,"post_id":69853623,"comment_id":123524761,"body_markdown":"I have to test the query `select * from (select a,b,c from myTable order by a) where rownum = 1;` . `rownum` is not supported by hsqldb, so this is why I want to execute the query `SET DATABASE SQL SYNTAX ORA TRUE;` in order to support `rownum`.","body":"I have to test the query <code>select * from (select a,b,c from myTable order by a) where rownum = 1;</code> . <code>rownum</code> is not supported by hsqldb, so this is why I want to execute the query <code>SET DATABASE SQL SYNTAX ORA TRUE;</code> in order to support <code>rownum</code>."},{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1636467058,"post_id":69853623,"comment_id":123560732,"body_markdown":"How come the error didn&#39;t occur when the data was inserted into the table? There may be something wrong with your test setup.","body":"How come the error didn&#39;t occur when the data was inserted into the table? There may be something wrong with your test setup."}],"owner":{"account_id":23248140,"reputation":1,"user_id":17336417,"display_name":"McAmplifier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636117022,"creation_date":1636117022,"question_id":69853623,"body_markdown":"I am using HSQLDB for JUnit Tests, the test data is provided by XML Files with dbUnit. Our application uses an Oracle DB in production.\r\n\r\nIn order to suppert Oracle-specific queries I have added the property sql.syntax_ora=true to the url like this:\r\n\r\n    db.url=jdbc:hsqldb:mem:unitdb;sql.syntax_ora=true\r\n\r\nWhen I run my JUnit test I get the exception \r\n\r\n    org.hsqldb.HsqlException: The table data is read only\r\n\r\nI have also tried to execute the query `SET DATABASE SQL SYNTAX ORA TRUE;`\r\n\r\nbut this gives me the same exception.\r\n\r\nPlease help me with this problem. Thanks!","title":"HSQLDB SET DATABASE SQL SYNTAX: Table Data is Read Only","body":"<p>I am using HSQLDB for JUnit Tests, the test data is provided by XML Files with dbUnit. Our application uses an Oracle DB in production.</p>\n<p>In order to suppert Oracle-specific queries I have added the property sql.syntax_ora=true to the url like this:</p>\n<pre><code>db.url=jdbc:hsqldb:mem:unitdb;sql.syntax_ora=true\n</code></pre>\n<p>When I run my JUnit test I get the exception</p>\n<pre><code>org.hsqldb.HsqlException: The table data is read only\n</code></pre>\n<p>I have also tried to execute the query <code>SET DATABASE SQL SYNTAX ORA TRUE;</code></p>\n<p>but this gives me the same exception.</p>\n<p>Please help me with this problem. Thanks!</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1636110480,"post_id":69851871,"comment_id":123475038,"body_markdown":"Are you sure of the URI `&quot;../upload&quot;`? I am getting an error with it - `Target host is not specified`.","body":"Are you sure of the URI <code>&quot;..&#47;upload&quot;</code>? I am getting an error with it - <code>Target host is not specified</code>."},{"owner":{"account_id":392394,"reputation":3527,"user_id":753628,"accept_rate":88,"display_name":"NDY"},"score":0,"creation_date":1636112020,"post_id":69851871,"comment_id":123475584,"body_markdown":"I did not want to post the real url but this part should be fine. The error I receive would be different if the url/path is wrong.","body":"I did not want to post the real url but this part should be fine. The error I receive would be different if the url/path is wrong."}],"answers":[{"tags":[],"owner":{"account_id":392394,"reputation":3527,"user_id":753628,"accept_rate":88,"display_name":"NDY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636116855,"creation_date":1636116855,"answer_id":69853591,"question_id":69851871,"body_markdown":"I had to remove this line\r\n\r\n    request.setHeader(&quot;Content-type&quot;, &quot;multipart/form-data&quot;);   \r\n\r\nto make it work. I dont really know why so if someone can help me out with this and give some explanation I&#39;m up for it. For the moment I&#39;m happy because it works now.","title":"File upload with postman works but fails with Apache HttpClient","body":"<p>I had to remove this line</p>\n<pre><code>request.setHeader(&quot;Content-type&quot;, &quot;multipart/form-data&quot;);   \n</code></pre>\n<p>to make it work. I dont really know why so if someone can help me out with this and give some explanation I'm up for it. For the moment I'm happy because it works now.</p>\n"}],"owner":{"account_id":392394,"reputation":3527,"user_id":753628,"accept_rate":88,"display_name":"NDY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69853591,"answer_count":1,"score":1,"last_activity_date":1636116855,"creation_date":1636108322,"question_id":69851871,"body_markdown":"&lt;h2&gt;Problem&lt;/h2&gt;\r\n\r\nI&#39;m working with an external REST API on a test system. There is an upload path I&#39;m trying to implement and I am using the Apache HTTPClient. I tried it with the following postman configuration and it works perfectly:\r\n\r\n[![Postman Request][1]][1]\r\n\r\nThe upload works fine like that.\r\n\r\n&lt;h2&gt;Implementation in Java&lt;/h2&gt;\r\n\r\n``` lang-java\r\nCloseableHttpClient httpClient = HttpClients.createDefault();\r\nHttpPut request = new HttpPut(&quot;../upload&quot;) // placeholder url, not the real one\r\n    \r\nrequest.setHeader(&quot;Content-type&quot;, &quot;multipart/form-data&quot;);\t\r\nrequest.setHeader(HttpHeaders.AUTHORIZATION, &quot;HEY I AM A TOKEN&quot;);\t\t\r\n    \r\nFileBody fileBody = new FileBody(new File(&quot;dummy.pdf&quot;), ContentType.create(&quot;application/pdf&quot;));\r\nMultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\nbuilder.addPart(&quot;file&quot;, fileBody);\r\nrequest.setEntity(builder.build());\r\n    \r\nCloseableHttpResponse response = httpClient.execute(request);\r\n\r\n```\r\n\r\n&lt;h2&gt;Error&lt;/h2&gt;\r\n\r\nI always get a specific error from the rest api:\r\n\r\n    File could not have been parsed\r\n\r\n\r\nThe documentation of the upload path mentions the following details:\r\n- Header Content-Type multipart/form-data\r\n- Only one multipart element\r\n- Content-Type of the element needs to be application/pdf\r\n- Name needs to be &quot;file&quot;\r\n\r\nI think I do every point of this list in my request - so what is the difference between the postman request and my own java http request?\r\n\r\nWhat do I miss?\r\n\r\nEDIT:\r\n\r\nThe same code with OkHTTP works. Still don&#39;t know why it does not work with Apache HttpClient.\r\n\r\n``` lang-java\r\nOkHttpClient testClient = new OkHttpClient();\r\nFile testfile = new File(&quot;dummy.pdf&quot;);\r\n\r\nRequestBody body = new MultipartBuilder().type(MultipartBuilder.FORM).addFormDataPart(&quot;file&quot;,&quot;dummy.pdf&quot;,\r\nRequestBody.create(MediaType.parse(&quot;application/pdf&quot;),testfile)).build();\r\n\r\nRequest testreq = new Request.Builder()\r\n.url(&quot;../upload&quot;)\r\n.header(&quot;Authorization&quot;, &quot;HI I AM A TOKEN&quot;)\r\n.put(body)\r\n.build();\r\nResponse testres = testClient.newCall(testreq).execute();\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sabFQ.png","title":"File upload with postman works but fails with Apache HttpClient","body":"<h2>Problem</h2>\n<p>I'm working with an external REST API on a test system. There is an upload path I'm trying to implement and I am using the Apache HTTPClient. I tried it with the following postman configuration and it works perfectly:</p>\n<p><a href=\"https://i.stack.imgur.com/sabFQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sabFQ.png\" alt=\"Postman Request\" /></a></p>\n<p>The upload works fine like that.</p>\n<h2>Implementation in Java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>CloseableHttpClient httpClient = HttpClients.createDefault();\nHttpPut request = new HttpPut(&quot;../upload&quot;) // placeholder url, not the real one\n    \nrequest.setHeader(&quot;Content-type&quot;, &quot;multipart/form-data&quot;);   \nrequest.setHeader(HttpHeaders.AUTHORIZATION, &quot;HEY I AM A TOKEN&quot;);       \n    \nFileBody fileBody = new FileBody(new File(&quot;dummy.pdf&quot;), ContentType.create(&quot;application/pdf&quot;));\nMultipartEntityBuilder builder = MultipartEntityBuilder.create();\nbuilder.addPart(&quot;file&quot;, fileBody);\nrequest.setEntity(builder.build());\n    \nCloseableHttpResponse response = httpClient.execute(request);\n\n</code></pre>\n<h2>Error</h2>\n<p>I always get a specific error from the rest api:</p>\n<pre><code>File could not have been parsed\n</code></pre>\n<p>The documentation of the upload path mentions the following details:</p>\n<ul>\n<li>Header Content-Type multipart/form-data</li>\n<li>Only one multipart element</li>\n<li>Content-Type of the element needs to be application/pdf</li>\n<li>Name needs to be &quot;file&quot;</li>\n</ul>\n<p>I think I do every point of this list in my request - so what is the difference between the postman request and my own java http request?</p>\n<p>What do I miss?</p>\n<p>EDIT:</p>\n<p>The same code with OkHTTP works. Still don't know why it does not work with Apache HttpClient.</p>\n<pre class=\"lang-java prettyprint-override\"><code>OkHttpClient testClient = new OkHttpClient();\nFile testfile = new File(&quot;dummy.pdf&quot;);\n\nRequestBody body = new MultipartBuilder().type(MultipartBuilder.FORM).addFormDataPart(&quot;file&quot;,&quot;dummy.pdf&quot;,\nRequestBody.create(MediaType.parse(&quot;application/pdf&quot;),testfile)).build();\n\nRequest testreq = new Request.Builder()\n.url(&quot;../upload&quot;)\n.header(&quot;Authorization&quot;, &quot;HI I AM A TOKEN&quot;)\n.put(body)\n.build();\nResponse testres = testClient.newCall(testreq).execute();\n</code></pre>\n"},{"tags":["java","spring-boot","ehcache","spring-cache","ehcache-3"],"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1568300504,"post_id":57909228,"comment_id":102238879,"body_markdown":"@Sambit it is not a duplicate. I mentioned that topic in my question. Please, be attentive","body":"@Sambit it is not a duplicate. I mentioned that topic in my question. Please, be attentive"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568300907,"post_id":57909228,"comment_id":102239134,"body_markdown":"Thanks for informing me.","body":"Thanks for informing me."}],"answers":[{"tags":[],"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1569008293,"creation_date":1568644467,"answer_id":57959086,"question_id":57909228,"body_markdown":"As EhCache [seems to be JSR-107 compliant][1], you&#39;ll need to use it this way to have a programatic configuration:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() throws URISyntaxException {\r\n        CachingProvider provider = Caching.getCachingProvider();  \r\n        CacheManager cacheManager = provider.getCacheManager();   \r\n\r\n        CacheConfigurationBuilder&lt;SimpleKey, Double&gt; configuration = \r\n        CacheConfigurationBuilder.newCacheConfigurationBuilder(org.springframework.cache.interceptor.SimpleKey.class,\r\n            java.lang.Double.class, \r\n            ResourcePoolsBuilder.heap(2).offheap(10, MemoryUnit.MB))\r\n            .withExpiry(Expirations.timeToLiveExpiration(new Duration(15, TimeUnit.SECONDS)));\r\n\r\n        Cache cache = cacheManager.createCache(&quot;pow_cache&quot;, configuration);\r\n        cache.getRuntimeConfiguration().registerCacheEventListener(listener, EventOrdering.UNORDERED,\r\n            EventFiring.ASYNCHRONOUS, EnumSet.of(EventType.CREATED, EventType.EXPIRED)); \r\n        return cacheManager;\r\n    }\r\n\r\nHaven&#39;t tested it myself, but this should work for you.\r\n\r\nCheck out [this programatic sample with more configuration options][2] from the EhCache repo and the docs part on [how to register listeners programatically][3] too.\r\n\r\n\r\n  [1]: http://www.ehcache.org/documentation/3.0/107.html#getting-started-with-ehcache-3-jcache\r\n  [2]: https://github.com/ehcache/ehcache3-samples/blob/master/basic/src/main/java/org/ehcache/sample/BasicProgrammatic.java\r\n  [3]: https://www.ehcache.org/documentation/3.0/cache-event-listeners.html","title":"How to use spring boot 2 and ehcache 3 without xml?","body":"<p>As EhCache <a href=\"http://www.ehcache.org/documentation/3.0/107.html#getting-started-with-ehcache-3-jcache\" rel=\"noreferrer\">seems to be JSR-107 compliant</a>, you'll need to use it this way to have a programatic configuration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CacheManager cacheManager() throws URISyntaxException {\n    CachingProvider provider = Caching.getCachingProvider();  \n    CacheManager cacheManager = provider.getCacheManager();   \n\n    CacheConfigurationBuilder&lt;SimpleKey, Double&gt; configuration = \n    CacheConfigurationBuilder.newCacheConfigurationBuilder(org.springframework.cache.interceptor.SimpleKey.class,\n        java.lang.Double.class, \n        ResourcePoolsBuilder.heap(2).offheap(10, MemoryUnit.MB))\n        .withExpiry(Expirations.timeToLiveExpiration(new Duration(15, TimeUnit.SECONDS)));\n\n    Cache cache = cacheManager.createCache(\"pow_cache\", configuration);\n    cache.getRuntimeConfiguration().registerCacheEventListener(listener, EventOrdering.UNORDERED,\n        EventFiring.ASYNCHRONOUS, EnumSet.of(EventType.CREATED, EventType.EXPIRED)); \n    return cacheManager;\n}\n</code></pre>\n\n<p>Haven't tested it myself, but this should work for you.</p>\n\n<p>Check out <a href=\"https://github.com/ehcache/ehcache3-samples/blob/master/basic/src/main/java/org/ehcache/sample/BasicProgrammatic.java\" rel=\"noreferrer\">this programatic sample with more configuration options</a> from the EhCache repo and the docs part on <a href=\"https://www.ehcache.org/documentation/3.0/cache-event-listeners.html\" rel=\"noreferrer\">how to register listeners programatically</a> too.</p>\n"},{"tags":[],"owner":{"account_id":5718264,"reputation":552,"user_id":4517646,"accept_rate":7,"display_name":"Nodirbek Shamsiev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1636116721,"creation_date":1601394371,"answer_id":64123100,"question_id":57909228,"body_markdown":"Here is my solution \r\n\r\n    @Bean\r\n    CacheManager getCacheManager() {\r\n\r\n        CachingProvider provider = Caching.getCachingProvider();\r\n        CacheManager cacheManager = provider.getCacheManager();\r\n\r\n        CacheConfigurationBuilder&lt;String, String&gt; configurationBuilder =\r\n                CacheConfigurationBuilder.newCacheConfigurationBuilder(\r\n                        String.class, String.class,\r\n                        ResourcePoolsBuilder.heap(1000)\r\n                                            .offheap(25, MemoryUnit.MB))\r\n                                         .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofHours(3)));\r\n\r\n        CacheEventListenerConfigurationBuilder asynchronousListener = CacheEventListenerConfigurationBuilder\r\n                .newEventListenerConfiguration(new CacheEventLogger()\r\n                        , EventType.CREATED, EventType.EXPIRED).unordered().asynchronous();\r\n\r\n        //create caches we need\r\n        cacheManager.createCache(&quot;productCatalogConfig&quot;,\r\n                                 Eh107Configuration.fromEhcacheCacheConfiguration(configurationBuilder.withService(asynchronousListener)));\r\n\r\n        return cacheManager;\r\n    }\r\n\r\nequivalent of : \r\n\r\n    &lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://www.ehcache.org/v3&quot;\r\n        xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\r\n            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\r\n\r\n    &lt;cache alias=&quot;productCatalogConfig&quot;&gt;\r\n        &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\r\n        &lt;value-type&gt;java.lang.String&lt;/value-type&gt;\r\n        &lt;expiry&gt;\r\n            &lt;ttl unit=&quot;seconds&quot;&gt;1600&lt;/ttl&gt;\r\n        &lt;/expiry&gt;\r\n\r\n        &lt;listeners&gt;\r\n            &lt;listener&gt;\r\n                &lt;class&gt;com.klarna.config.CacheEventLogger&lt;/class&gt;\r\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                &lt;event-ordering-mode&gt;UNORDERED&lt;/event-ordering-mode&gt;\r\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n            &lt;/listener&gt;\r\n        &lt;/listeners&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\r\n            &lt;offheap unit=&quot;MB&quot;&gt;25&lt;/offheap&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/cache&gt;\r\n\r\n&lt;/config&gt;","title":"How to use spring boot 2 and ehcache 3 without xml?","body":"<p>Here is my solution</p>\n<pre><code>@Bean\nCacheManager getCacheManager() {\n\n    CachingProvider provider = Caching.getCachingProvider();\n    CacheManager cacheManager = provider.getCacheManager();\n\n    CacheConfigurationBuilder&lt;String, String&gt; configurationBuilder =\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(\n                    String.class, String.class,\n                    ResourcePoolsBuilder.heap(1000)\n                                        .offheap(25, MemoryUnit.MB))\n                                     .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofHours(3)));\n\n    CacheEventListenerConfigurationBuilder asynchronousListener = CacheEventListenerConfigurationBuilder\n            .newEventListenerConfiguration(new CacheEventLogger()\n                    , EventType.CREATED, EventType.EXPIRED).unordered().asynchronous();\n\n    //create caches we need\n    cacheManager.createCache(&quot;productCatalogConfig&quot;,\n                             Eh107Configuration.fromEhcacheCacheConfiguration(configurationBuilder.withService(asynchronousListener)));\n\n    return cacheManager;\n}\n</code></pre>\n<p>equivalent of :</p>\n<pre><code>&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://www.ehcache.org/v3&quot;\n    xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\n    xsi:schemaLocation=&quot;\n        http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\n        http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\n\n&lt;cache alias=&quot;productCatalogConfig&quot;&gt;\n    &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\n    &lt;value-type&gt;java.lang.String&lt;/value-type&gt;\n    &lt;expiry&gt;\n        &lt;ttl unit=&quot;seconds&quot;&gt;1600&lt;/ttl&gt;\n    &lt;/expiry&gt;\n\n    &lt;listeners&gt;\n        &lt;listener&gt;\n            &lt;class&gt;com.klarna.config.CacheEventLogger&lt;/class&gt;\n            &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n            &lt;event-ordering-mode&gt;UNORDERED&lt;/event-ordering-mode&gt;\n            &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n            &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n        &lt;/listener&gt;\n    &lt;/listeners&gt;\n\n    &lt;resources&gt;\n        &lt;heap unit=&quot;entries&quot;&gt;1000&lt;/heap&gt;\n        &lt;offheap unit=&quot;MB&quot;&gt;25&lt;/offheap&gt;\n    &lt;/resources&gt;\n&lt;/cache&gt;\n</code></pre>\n\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11878,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":57959086,"answer_count":2,"score":7,"last_activity_date":1636116721,"creation_date":1568299501,"question_id":57909228,"body_markdown":"For now I have following config:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class EhcacheConfig {\r\n        @Bean\r\n        public CacheManager cacheManager() throws URISyntaxException {\r\n            return new JCacheCacheManager(Caching.getCachingProvider().getCacheManager(\r\n                    getClass().getResource(&quot;/ehcache.xml&quot;).toURI(),\r\n                    getClass().getClassLoader()\r\n            ));\r\n        }\r\n    }\r\n\r\nIt refers to the following XML:\r\n\r\n    &lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns=&quot;http://www.ehcache.org/v3&quot;\r\n            xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\r\n            xsi:schemaLocation=&quot;\r\n                http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\r\n                http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\r\n    \r\n        &lt;cache alias=&quot;pow_cache&quot;&gt;\r\n            &lt;key-type&gt;org.springframework.cache.interceptor.SimpleKey&lt;/key-type&gt;\r\n            &lt;value-type&gt;java.lang.Double&lt;/value-type&gt;\r\n            &lt;expiry&gt;\r\n                &lt;ttl unit=&quot;seconds&quot;&gt;15&lt;/ttl&gt;\r\n            &lt;/expiry&gt;\r\n    \r\n            &lt;listeners&gt;\r\n                &lt;listener&gt;\r\n                    &lt;class&gt;my.pack.CacheEventLogger&lt;/class&gt;\r\n                    &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\r\n                    &lt;event-ordering-mode&gt;UNORDERED&lt;/event-ordering-mode&gt;\r\n                    &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\r\n                    &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\r\n                &lt;/listener&gt;\r\n            &lt;/listeners&gt;\r\n    \r\n            &lt;resources&gt;\r\n                &lt;heap unit=&quot;entries&quot;&gt;2&lt;/heap&gt;\r\n                &lt;offheap unit=&quot;MB&quot;&gt;10&lt;/offheap&gt;\r\n            &lt;/resources&gt;\r\n        &lt;/cache&gt;\r\n    \r\n    &lt;/config&gt;\r\n\r\n\r\nAnd service look like this:\r\n\r\n    @Cacheable(value = &quot;pow_cache&quot;, unless = &quot;#pow==3||#result&gt;100&quot;, condition = &quot;#val&lt;5&quot;)\r\n    public Double pow(int val, int pow) throws InterruptedException {\r\n        System.out.println(String.format(&quot;REAL invocation myService.pow(%s, %s)&quot;, val, pow));\r\n        Thread.sleep(3000);\r\n        return Math.pow(val, pow);\r\n    }\r\n\r\n\r\nIt works properly but I want to get free of xml configuration.\r\n\r\nI&#39;ve read and tried to apply [following answer][1](last piece of code) But it works only for Ehcache 2 but I am going to use Eehcache 3\r\n\r\n\r\nHow can I achieve it ?\r\n\r\n  [1]: https://stackoverflow.com/a/21944585/2674303","title":"How to use spring boot 2 and ehcache 3 without xml?","body":"<p>For now I have following config:</p>\n\n<pre><code>@Configuration\n@EnableCaching\npublic class EhcacheConfig {\n    @Bean\n    public CacheManager cacheManager() throws URISyntaxException {\n        return new JCacheCacheManager(Caching.getCachingProvider().getCacheManager(\n                getClass().getResource(\"/ehcache.xml\").toURI(),\n                getClass().getClassLoader()\n        ));\n    }\n}\n</code></pre>\n\n<p>It refers to the following XML:</p>\n\n<pre><code>&lt;config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns=\"http://www.ehcache.org/v3\"\n        xmlns:jsr107=\"http://www.ehcache.org/v3/jsr107\"\n        xsi:schemaLocation=\"\n            http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\n            http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd\"&gt;\n\n    &lt;cache alias=\"pow_cache\"&gt;\n        &lt;key-type&gt;org.springframework.cache.interceptor.SimpleKey&lt;/key-type&gt;\n        &lt;value-type&gt;java.lang.Double&lt;/value-type&gt;\n        &lt;expiry&gt;\n            &lt;ttl unit=\"seconds\"&gt;15&lt;/ttl&gt;\n        &lt;/expiry&gt;\n\n        &lt;listeners&gt;\n            &lt;listener&gt;\n                &lt;class&gt;my.pack.CacheEventLogger&lt;/class&gt;\n                &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt;\n                &lt;event-ordering-mode&gt;UNORDERED&lt;/event-ordering-mode&gt;\n                &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt;\n                &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt;\n            &lt;/listener&gt;\n        &lt;/listeners&gt;\n\n        &lt;resources&gt;\n            &lt;heap unit=\"entries\"&gt;2&lt;/heap&gt;\n            &lt;offheap unit=\"MB\"&gt;10&lt;/offheap&gt;\n        &lt;/resources&gt;\n    &lt;/cache&gt;\n\n&lt;/config&gt;\n</code></pre>\n\n<p>And service look like this:</p>\n\n<pre><code>@Cacheable(value = \"pow_cache\", unless = \"#pow==3||#result&gt;100\", condition = \"#val&lt;5\")\npublic Double pow(int val, int pow) throws InterruptedException {\n    System.out.println(String.format(\"REAL invocation myService.pow(%s, %s)\", val, pow));\n    Thread.sleep(3000);\n    return Math.pow(val, pow);\n}\n</code></pre>\n\n<p>It works properly but I want to get free of xml configuration.</p>\n\n<p>I've read and tried to apply <a href=\"https://stackoverflow.com/a/21944585/2674303\">following answer</a>(last piece of code) But it works only for Ehcache 2 but I am going to use Eehcache 3</p>\n\n<p>How can I achieve it ?</p>\n"},{"tags":["java","dataframe","apache-spark","foreach","dataset"],"answers":[{"tags":[],"owner":{"account_id":6371072,"reputation":80,"user_id":4943455,"display_name":"Vinodh Thimmisetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635963715,"creation_date":1635963715,"answer_id":69829933,"question_id":69829289,"body_markdown":"This might be due to serialization issue.\r\nCan you try converting your anonymous Function into static method of class?\r\n","title":"Error while iterating a dataframe using Java Spark foreach function","body":"<p>This might be due to serialization issue.\nCan you try converting your anonymous Function into static method of class?</p>\n"}],"owner":{"account_id":3292048,"reputation":101,"user_id":2770125,"display_name":"Rarm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636116586,"creation_date":1635960708,"question_id":69829289,"body_markdown":"**edited**\r\n\r\nI am trying to iterate trough a dataframe to create another one. In this example I am not using data from the first one, it is just to show what I am trying to do. However, the idea is to use the first one to generate a new one much bigger based on data from the first one.\r\n\r\nWhatever I try in the void function, I always get the error in the `foreach`.\r\n\r\nSample dataframe to iterate:\r\n\r\n\r\n    Dataset&lt;Row&gt; obtencionRents = spark.createDataFrame(Arrays.asList(\r\n            new testRentabilidades(&quot;0000A0&quot;,&quot;PORTAL&quot;,&quot;4-ANUAL&quot;,&quot;asdasd&quot;,&quot;asdasd&quot;),\r\n            new testRentabilidades(&quot;00A00&quot;,&quot;PORTAL&quot;,&quot;&quot;,&quot;asdasd&quot;,&quot;sdasd&quot;),\r\n            new testRentabilidades(&quot;00A&quot;,&quot;PORTAL&quot;,&quot;4-ANUAL&quot;,&quot;asdasd&quot;,&quot;asdasd&quot;)\r\n    ), testRentabilidades.class);\r\n\r\nForeach function to iterate sample dataframe:\r\n\r\n    obtencionRents.toJavaRDD().foreach(new VoidFunction&lt;Row&gt;() {\r\n            public void call(Row r) throws Exception {\r\n    \r\n               //add registers to new collection/arraylist/etc.\r\n            }\r\n        });\r\n\r\nThe Error I&#39;ve got:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Driver stacktrace:\r\n    2021-11-03 17:34:41 INFO  DAGScheduler:54 - Job 0 failed: foreach at CargarRentabilidades.java:154, took 0,812094 s\r\n    Exception in thread &quot;main&quot; org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0, localhost, executor driver): java.lang.NullPointerException\r\n    \tat org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:139)\r\n    \tat org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:137)\r\n    \tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:73)\r\n    \tat org.apache.spark.sql.SparkSession.createDataFrame(SparkSession.scala:419)\r\n    \tat batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:157)\r\n    \tat batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:154)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\r\n    \tat scala.collection.Iterator$class.foreach(Iterator.scala:893)\r\n    \tat scala.collection.AbstractIterator.foreach(Iterator.scala:1336)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\r\n    \tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\r\n    \tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:109)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    \r\n    Driver stacktrace:\r\n    \tat org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1599)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1587)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1586)\r\n    \tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n    \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1586)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\r\n    \tat org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\r\n    \tat scala.Option.foreach(Option.scala:257)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:831)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1820)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1769)\r\n    \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1758)\r\n    \tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)\r\n    \tat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:642)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2027)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2048)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2067)\r\n    \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2092)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:921)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:919)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n    \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n    \tat org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\r\n    \tat org.apache.spark.rdd.RDD.foreach(RDD.scala:919)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$class.foreach(JavaRDDLike.scala:351)\r\n    \tat org.apache.spark.api.java.AbstractJavaRDDLike.foreach(JavaRDDLike.scala:45)\r\n    \tat batchload.proceso.builder.CargarRentabilidades.transformacionRentabilidades(CargarRentabilidades.java:154)\r\n    \tat batchload.proceso.builder.CargarRentabilidades.coleccionRentabilidades(CargarRentabilidades.java:78)\r\n    \tat batchload.proceso.builder.CargarRentabilidades.coleccionCargaRentabilidades(CargarRentabilidades.java:52)\r\n    \tat batchload.proceso.MainBatch.init(MainBatch.java:59)\r\n    \tat batchload.BatchloadRentabilidades.main(BatchloadRentabilidades.java:24)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:139)\r\n    \tat org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:137)\r\n    \tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:73)\r\n    \tat org.apache.spark.sql.SparkSession.createDataFrame(SparkSession.scala:419)\r\n    \tat batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:157)\r\n    \tat batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:154)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\r\n    \tat scala.collection.Iterator$class.foreach(Iterator.scala:893)\r\n    \tat scala.collection.AbstractIterator.foreach(Iterator.scala:1336)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\r\n    \tat org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\r\n    \tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\r\n    \tat org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:109)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    \r\n\r\n\r\n\r\n\r\nVersions:\r\n\r\nmongo-spark-connector_2.11-2.3.0\r\nJava 1.8\r\nIntelliJ 2021 1.2 Community\r\nSpark library versions 2.11\r\n\r\nother dependency versions I am using:\r\n\r\nhadoop 2.7, spark 2.3.0, java driver 2.7, spark catalyst,core,hive,sql ....all 2.11:2.3.0, scala scala-library:2.11.12\r\n\r\nStuck with this, any help is more than welcome\r\n\r\nThanks!","title":"Error while iterating a dataframe using Java Spark foreach function","body":"<p><strong>edited</strong></p>\n<p>I am trying to iterate trough a dataframe to create another one. In this example I am not using data from the first one, it is just to show what I am trying to do. However, the idea is to use the first one to generate a new one much bigger based on data from the first one.</p>\n<p>Whatever I try in the void function, I always get the error in the <code>foreach</code>.</p>\n<p>Sample dataframe to iterate:</p>\n<pre><code>Dataset&lt;Row&gt; obtencionRents = spark.createDataFrame(Arrays.asList(\n        new testRentabilidades(&quot;0000A0&quot;,&quot;PORTAL&quot;,&quot;4-ANUAL&quot;,&quot;asdasd&quot;,&quot;asdasd&quot;),\n        new testRentabilidades(&quot;00A00&quot;,&quot;PORTAL&quot;,&quot;&quot;,&quot;asdasd&quot;,&quot;sdasd&quot;),\n        new testRentabilidades(&quot;00A&quot;,&quot;PORTAL&quot;,&quot;4-ANUAL&quot;,&quot;asdasd&quot;,&quot;asdasd&quot;)\n), testRentabilidades.class);\n</code></pre>\n<p>Foreach function to iterate sample dataframe:</p>\n<pre><code>obtencionRents.toJavaRDD().foreach(new VoidFunction&lt;Row&gt;() {\n        public void call(Row r) throws Exception {\n\n           //add registers to new collection/arraylist/etc.\n        }\n    });\n</code></pre>\n<p>The Error I've got:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Driver stacktrace:\n2021-11-03 17:34:41 INFO  DAGScheduler:54 - Job 0 failed: foreach at CargarRentabilidades.java:154, took 0,812094 s\nException in thread &quot;main&quot; org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0, localhost, executor driver): java.lang.NullPointerException\n    at org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:139)\n    at org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:137)\n    at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:73)\n    at org.apache.spark.sql.SparkSession.createDataFrame(SparkSession.scala:419)\n    at batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:157)\n    at batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:154)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\n    at scala.collection.Iterator$class.foreach(Iterator.scala:893)\n    at scala.collection.AbstractIterator.foreach(Iterator.scala:1336)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\n    at org.apache.spark.scheduler.Task.run(Task.scala:109)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\nDriver stacktrace:\n    at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1599)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1587)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1586)\n    at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\n    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1586)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\n    at scala.Option.foreach(Option.scala:257)\n    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:831)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1820)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1769)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1758)\n    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)\n    at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:642)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2027)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2048)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2067)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2092)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:921)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:919)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\n    at org.apache.spark.rdd.RDD.foreach(RDD.scala:919)\n    at org.apache.spark.api.java.JavaRDDLike$class.foreach(JavaRDDLike.scala:351)\n    at org.apache.spark.api.java.AbstractJavaRDDLike.foreach(JavaRDDLike.scala:45)\n    at batchload.proceso.builder.CargarRentabilidades.transformacionRentabilidades(CargarRentabilidades.java:154)\n    at batchload.proceso.builder.CargarRentabilidades.coleccionRentabilidades(CargarRentabilidades.java:78)\n    at batchload.proceso.builder.CargarRentabilidades.coleccionCargaRentabilidades(CargarRentabilidades.java:52)\n    at batchload.proceso.MainBatch.init(MainBatch.java:59)\n    at batchload.BatchloadRentabilidades.main(BatchloadRentabilidades.java:24)\nCaused by: java.lang.NullPointerException\n    at org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:139)\n    at org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:137)\n    at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:73)\n    at org.apache.spark.sql.SparkSession.createDataFrame(SparkSession.scala:419)\n    at batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:157)\n    at batchload.proceso.builder.CargarRentabilidades$1.call(CargarRentabilidades.java:154)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreach$1.apply(JavaRDDLike.scala:351)\n    at scala.collection.Iterator$class.foreach(Iterator.scala:893)\n    at scala.collection.AbstractIterator.foreach(Iterator.scala:1336)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1$$anonfun$apply$28.apply(RDD.scala:921)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2067)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\n    at org.apache.spark.scheduler.Task.run(Task.scala:109)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Versions:</p>\n<p>mongo-spark-connector_2.11-2.3.0\nJava 1.8\nIntelliJ 2021 1.2 Community\nSpark library versions 2.11</p>\n<p>other dependency versions I am using:</p>\n<p>hadoop 2.7, spark 2.3.0, java driver 2.7, spark catalyst,core,hive,sql ....all 2.11:2.3.0, scala scala-library:2.11.12</p>\n<p>Stuck with this, any help is more than welcome</p>\n<p>Thanks!</p>\n"},{"tags":["java","cucumber"],"comments":[{"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"score":0,"creation_date":1581536524,"post_id":60192292,"comment_id":106471679,"body_markdown":"Have you tried with `scenario.getName()`?","body":"Have you tried with <code>scenario.getName()</code>?"},{"owner":{"account_id":17100294,"reputation":1,"user_id":12374378,"display_name":"Victor"},"score":0,"creation_date":1581627828,"post_id":60192292,"comment_id":106510522,"body_markdown":"Yes it didn&#39;t work. That works if you have info.cucumber version but not with io.cucumber","body":"Yes it didn&#39;t work. That works if you have info.cucumber version but not with io.cucumber"}],"answers":[{"tags":[],"owner":{"account_id":5588093,"reputation":620,"user_id":4428123,"accept_rate":86,"display_name":"M Monis Ahmed Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636116264,"creation_date":1636116264,"answer_id":69853487,"question_id":60192292,"body_markdown":"I dont know if it is still relevant but I got it by using:\r\n\r\n     /**\r\n     * Extracts the feature name from the feature file.\r\n     *\r\n     * @param filePath the path of feature file.\r\n     * @return String feature name or empty if encounters an error.\r\n     */\r\n    public static String getFeatureName(String filePath) {\r\n        final String FEATURE_PATTERN = &quot;Feature:&quot;;\r\n        File file = new File(filePath);\r\n        try {\r\n            List&lt;String&gt; data = Files.readAllLines(file.toPath());\r\n            for(String line : data) {\r\n                if(line.contains(FEATURE_PATTERN))\r\n                    return line.substring(FEATURE_PATTERN.length());  //get everything after feature pattern\r\n            }\r\n        } catch (IOException e) {\r\n            e.getMessage();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\nCucumber version: 6.11.0","title":"How to read cucumber feature name from feature file during runtime using latest cucumber version with io.cucumber","body":"<p>I dont know if it is still relevant but I got it by using:</p>\n<pre><code> /**\n * Extracts the feature name from the feature file.\n *\n * @param filePath the path of feature file.\n * @return String feature name or empty if encounters an error.\n */\npublic static String getFeatureName(String filePath) {\n    final String FEATURE_PATTERN = &quot;Feature:&quot;;\n    File file = new File(filePath);\n    try {\n        List&lt;String&gt; data = Files.readAllLines(file.toPath());\n        for(String line : data) {\n            if(line.contains(FEATURE_PATTERN))\n                return line.substring(FEATURE_PATTERN.length());  //get everything after feature pattern\n        }\n    } catch (IOException e) {\n        e.getMessage();\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>Cucumber version: 6.11.0</p>\n"}],"owner":{"account_id":17100294,"reputation":1,"user_id":12374378,"display_name":"Victor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636116264,"creation_date":1581522964,"question_id":60192292,"body_markdown":"With info.cucumber version i used to have this code to read feature name from feature file during runtime and it was working fine \r\n\r\n    **private String getFeatureFileNameFromScenarioId(Scenario scenario) {\r\n    String featureName = &quot;Feature &quot;;\r\n    String Feature = scenario.getId().split(&quot;;&quot;)[0].replace(&quot;-&quot;,&quot; &quot;);\r\n    return Feature;\r\n    }**\r\n\r\nAfter upgrading cucumber version with list of dependencies which is latest out there\r\n\r\n    **io.cucumber cucumber-core 5.0.0-RC1 compile io.cucumber cucumber-java 5.0.0-RC1 compile io.cucumber cucumber-java8 5.0.0-RC1 compile io.cucumber cucumber-junit 5.0.0-RC1 compile io.cucumber cucumber-testng 5.0.0-RC1 compile**\r\n\r\nThe above code has stopped working and not returning &quot;Feature name from feature file&quot; during runtime.\r\n\r\nCan someone out there please help suggest solution on this. \r\n\r\n\r\n\r\n\r\n","title":"How to read cucumber feature name from feature file during runtime using latest cucumber version with io.cucumber","body":"<p>With info.cucumber version i used to have this code to read feature name from feature file during runtime and it was working fine </p>\n\n<pre><code>**private String getFeatureFileNameFromScenarioId(Scenario scenario) {\nString featureName = \"Feature \";\nString Feature = scenario.getId().split(\";\")[0].replace(\"-\",\" \");\nreturn Feature;\n}**\n</code></pre>\n\n<p>After upgrading cucumber version with list of dependencies which is latest out there</p>\n\n<pre><code>**io.cucumber cucumber-core 5.0.0-RC1 compile io.cucumber cucumber-java 5.0.0-RC1 compile io.cucumber cucumber-java8 5.0.0-RC1 compile io.cucumber cucumber-junit 5.0.0-RC1 compile io.cucumber cucumber-testng 5.0.0-RC1 compile**\n</code></pre>\n\n<p>The above code has stopped working and not returning \"Feature name from feature file\" during runtime.</p>\n\n<p>Can someone out there please help suggest solution on this. </p>\n"},{"tags":["java","amazon-web-services","apache-spark","hadoop","amazon-s3"],"comments":[{"owner":{"account_id":11337658,"reputation":301,"user_id":8684750,"display_name":"no-stale-reads"},"score":0,"creation_date":1636046908,"post_id":69843170,"comment_id":123459596,"body_markdown":"I also tried with Spark v. 3.1.2 and Hadoop v. 3.2.","body":"I also tried with Spark v. 3.1.2 and Hadoop v. 3.2."},{"owner":{"account_id":11337658,"reputation":301,"user_id":8684750,"display_name":"no-stale-reads"},"score":0,"creation_date":1636046945,"post_id":69843170,"comment_id":123459611,"body_markdown":"and used the following cfg: \n`spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)`","body":"and used the following cfg:  <code>spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636051633,"post_id":69843170,"comment_id":123461291,"body_markdown":"What Java version are you using?","body":"What Java version are you using?"},{"owner":{"account_id":11337658,"reputation":301,"user_id":8684750,"display_name":"no-stale-reads"},"score":1,"creation_date":1636052981,"post_id":69843170,"comment_id":123461806,"body_markdown":"@OneCricketeer 1.8.0_311","body":"@OneCricketeer 1.8.0_311"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636053050,"post_id":69843170,"comment_id":123461836,"body_markdown":"IIRC, Spark 3 should ideally be using Java 11. The error seems version related, though","body":"IIRC, Spark 3 should ideally be using Java 11. The error seems version related, though"}],"answers":[{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636116179,"creation_date":1636116179,"answer_id":69853461,"question_id":69843170,"body_markdown":"1. use a consistent set of hadoop 3.2 JARs\r\n2. looks like one of the native DLLs isn&#39;t on PATH, or of a different version.\r\n3. set `fs.s3a.fast.upload.buffer` to `bytebuffer`\r\n\r\naction #3 will dodge the problem until you do something like try and use an s3a committer; #2 is where you need to put some effort in\r\n\r\nthe libraries you need will be on https://github.com/cdarlint/winutils","title":"&quot;java.lang.UnsatisfiedLinkError&quot; when writing single CSV on S3","body":"<ol>\n<li>use a consistent set of hadoop 3.2 JARs</li>\n<li>looks like one of the native DLLs isn't on PATH, or of a different version.</li>\n<li>set <code>fs.s3a.fast.upload.buffer</code> to <code>bytebuffer</code></li>\n</ol>\n<p>action #3 will dodge the problem until you do something like try and use an s3a committer; #2 is where you need to put some effort in</p>\n<p>the libraries you need will be on <a href=\"https://github.com/cdarlint/winutils\" rel=\"nofollow noreferrer\">https://github.com/cdarlint/winutils</a></p>\n"}],"owner":{"account_id":11337658,"reputation":301,"user_id":8684750,"display_name":"no-stale-reads"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636116179,"creation_date":1636045487,"question_id":69843170,"body_markdown":"I&#39;m facing the error above when trying to write a single CSV file from my on-prem Spark cluster to a S3 bucket.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nspark = SparkSession \\\r\n\t.builder \\\r\n\t.master(&#39;local[*]&#39;) \\\r\n\t.appName(&#39;my-app&#39;) \\\r\n\t.config(&quot;spark.driver.host&quot;, my_host_ip) \\\r\n\t.config(&quot;spark.driver.port&quot;, &quot;12345&quot;) \\\r\n\t.config(&quot;spark.network.timeout&quot;, 10000000) \\\r\n\t.config(&quot;spark.executor.heartbeatInterval&quot;, 10000000) \\\r\n\t.config(&quot;spark.storage.blockManagerSlaveTimeoutMs&quot;, 10000000) \\\r\n\t.config(&quot;spark.sql.debug.maxToStringFields&quot;, 2000) \\\r\n\t.config(&quot;spark.driver.maxResultSize&quot;, &quot;100g&quot;) \\\r\n\t.config(&quot;spark.cores.max&quot;, str(processador)) \\\r\n\t.config(&quot;spark.executor.memory&quot;, f&#39;{str(mem)}g&#39;) \\\r\n\t.config(&quot;spark.driver.memory&quot;, f&#39;{str(mem)}g&#39;) \\\r\n\t.config(&quot;spark.sql.session.timeZone&quot;, &quot;UTC&quot;) \\\r\n\t.config(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Duser.timezone=GMT&quot;) \\\r\n\t.config(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Duser.timezone=GMT&quot;) \\\r\n\t.config(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dcom.amazonaws.services.s3.enableV4=true&quot;) \\\r\n\t.config(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dcom.amazonaws.services.s3.enableV4=true&quot;) \\\r\n\t.getOrCreate()\r\n\t\t\t\r\nspark.sparkContext.setSystemProperty(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;)\r\n\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.us-east-2.amazonaws.com&quot;)\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;org.apache.hadoop.fs.s3a.BasicAWSCredentialsProvider&quot;)\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&#39;fs.s3a.access.key&#39;, &#39;my-key&#39;)\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&#39;fs.s3a.secret.key&#39;, &#39;the-secret&#39;)\r\n\r\n# creating a DF with 2 reg\r\ndf = spark.createDataFrame([(1, &#39;val-col-1&#39;), (2, &#39;val-col-2&#39;)], [&#39;col1&#39;, &#39;col2&#39;])\r\n\r\n# writing on bucket\r\ndf.repartition(1).write \\\r\n    .save(path=f&#39;s3a://folder1/folder2/csv_output/&#39;, mode=&#39;overwrite&#39;, format=&#39;csv&#39;, header=True)\r\n```\r\n\r\nHere&#39;s the things I tried:\r\n\r\n 1. Persist on my machine (it worked);\r\n 2. Change hadoop version (and the dependencies as well);\r\n 3. (Because my tests are running on windows): add and delete &quot;[winutils](https://github.com/steveloughran/winutils)&quot; and &quot;hadoop.dll&quot;;\r\n 4. Reading instead of writing;\r\n\r\nHere&#39;s the jars and versions:\r\n- **Spark version = 3.0.1**\r\n- **Hadoop version = 2.7.4**\r\n- jets3t-0.9.0\r\n- aws-java-sdk-1.7.4\r\n- hadoop-aws-2.7.4\r\n- hadoop-client-2.7.4\r\n- hadoop-common-2.7.4\r\n\r\nHere&#39;s the stack of the error:\r\n\r\n```\r\nERROR Executor: Exception in task 35.0 in stage 0.0 (TID 35)\r\njava.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:609)\r\n\tat org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:977)\r\n\tat org.apache.hadoop.util.DiskChecker.checkAccessByFileMethods(DiskChecker.java:187)\r\n\tat org.apache.hadoop.util.DiskChecker.checkDirAccess(DiskChecker.java:174)\r\n\tat org.apache.hadoop.util.DiskChecker.checkDir(DiskChecker.java:108)\r\n\tat org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.confChanged(LocalDirAllocator.java:285)\r\n\tat org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.getLocalPathForWrite(LocalDirAllocator.java:344)\r\n\tat org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.createTmpFileForWrite(LocalDirAllocator.java:416)\r\n\tat org.apache.hadoop.fs.LocalDirAllocator.createTmpFileForWrite(LocalDirAllocator.java:198)\r\n\tat org.apache.hadoop.fs.s3a.S3AOutputStream.&lt;init&gt;(S3AOutputStream.java:87)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.create(S3AFileSystem.java:410)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:911)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:892)\r\n\tat org.apache.hadoop.fs.FileSystem.create(FileSystem.java:789)\r\n\tat org.apache.spark.sql.execution.datasources.CodecStreams$.createOutputStream(CodecStreams.scala:81)\r\n\tat org.apache.spark.sql.execution.datasources.CodecStreams$.createOutputStreamWriter(CodecStreams.scala:92)\r\n\tat org.apache.spark.sql.execution.datasources.csv.CsvOutputWriter.&lt;init&gt;(CsvOutputWriter.scala:38)\r\n\tat org.apache.spark.sql.execution.datasources.csv.CSVFileFormat$$anon$1.newInstance(CSVFileFormat.scala:84)\r\n\tat org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.newOutputWriter(FileFormatDataWriter.scala:126)\r\n\tat org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.&lt;init&gt;(FileFormatDataWriter.scala:111)\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:264)\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$15(FileFormatWriter.scala:205)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:127)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:446)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:449)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nIn the end, is there even possible to write a single CSV from Spark (pyspark) to S3 and it is substantially faster than using a traditional approach (boto3, technically)? \r\n\r\nDid I misunderstood anything?\r\n\r\nThanks in advance.","title":"&quot;java.lang.UnsatisfiedLinkError&quot; when writing single CSV on S3","body":"<p>I'm facing the error above when trying to write a single CSV file from my on-prem Spark cluster to a S3 bucket.</p>\n<p>Here's my code:</p>\n<pre><code>spark = SparkSession \\\n    .builder \\\n    .master('local[*]') \\\n    .appName('my-app') \\\n    .config(&quot;spark.driver.host&quot;, my_host_ip) \\\n    .config(&quot;spark.driver.port&quot;, &quot;12345&quot;) \\\n    .config(&quot;spark.network.timeout&quot;, 10000000) \\\n    .config(&quot;spark.executor.heartbeatInterval&quot;, 10000000) \\\n    .config(&quot;spark.storage.blockManagerSlaveTimeoutMs&quot;, 10000000) \\\n    .config(&quot;spark.sql.debug.maxToStringFields&quot;, 2000) \\\n    .config(&quot;spark.driver.maxResultSize&quot;, &quot;100g&quot;) \\\n    .config(&quot;spark.cores.max&quot;, str(processador)) \\\n    .config(&quot;spark.executor.memory&quot;, f'{str(mem)}g') \\\n    .config(&quot;spark.driver.memory&quot;, f'{str(mem)}g') \\\n    .config(&quot;spark.sql.session.timeZone&quot;, &quot;UTC&quot;) \\\n    .config(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Duser.timezone=GMT&quot;) \\\n    .config(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Duser.timezone=GMT&quot;) \\\n    .config(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dcom.amazonaws.services.s3.enableV4=true&quot;) \\\n    .config(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dcom.amazonaws.services.s3.enableV4=true&quot;) \\\n    .getOrCreate()\n            \nspark.sparkContext.setSystemProperty(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;)\n\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.us-east-2.amazonaws.com&quot;)\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;org.apache.hadoop.fs.s3a.BasicAWSCredentialsProvider&quot;)\nspark.sparkContext._jsc.hadoopConfiguration().set('fs.s3a.access.key', 'my-key')\nspark.sparkContext._jsc.hadoopConfiguration().set('fs.s3a.secret.key', 'the-secret')\n\n# creating a DF with 2 reg\ndf = spark.createDataFrame([(1, 'val-col-1'), (2, 'val-col-2')], ['col1', 'col2'])\n\n# writing on bucket\ndf.repartition(1).write \\\n    .save(path=f's3a://folder1/folder2/csv_output/', mode='overwrite', format='csv', header=True)\n</code></pre>\n<p>Here's the things I tried:</p>\n<ol>\n<li>Persist on my machine (it worked);</li>\n<li>Change hadoop version (and the dependencies as well);</li>\n<li>(Because my tests are running on windows): add and delete &quot;<a href=\"https://github.com/steveloughran/winutils\" rel=\"nofollow noreferrer\">winutils</a>&quot; and &quot;hadoop.dll&quot;;</li>\n<li>Reading instead of writing;</li>\n</ol>\n<p>Here's the jars and versions:</p>\n<ul>\n<li><strong>Spark version = 3.0.1</strong></li>\n<li><strong>Hadoop version = 2.7.4</strong></li>\n<li>jets3t-0.9.0</li>\n<li>aws-java-sdk-1.7.4</li>\n<li>hadoop-aws-2.7.4</li>\n<li>hadoop-client-2.7.4</li>\n<li>hadoop-common-2.7.4</li>\n</ul>\n<p>Here's the stack of the error:</p>\n<pre><code>ERROR Executor: Exception in task 35.0 in stage 0.0 (TID 35)\njava.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:609)\n    at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:977)\n    at org.apache.hadoop.util.DiskChecker.checkAccessByFileMethods(DiskChecker.java:187)\n    at org.apache.hadoop.util.DiskChecker.checkDirAccess(DiskChecker.java:174)\n    at org.apache.hadoop.util.DiskChecker.checkDir(DiskChecker.java:108)\n    at org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.confChanged(LocalDirAllocator.java:285)\n    at org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.getLocalPathForWrite(LocalDirAllocator.java:344)\n    at org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.createTmpFileForWrite(LocalDirAllocator.java:416)\n    at org.apache.hadoop.fs.LocalDirAllocator.createTmpFileForWrite(LocalDirAllocator.java:198)\n    at org.apache.hadoop.fs.s3a.S3AOutputStream.&lt;init&gt;(S3AOutputStream.java:87)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.create(S3AFileSystem.java:410)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:911)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:892)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:789)\n    at org.apache.spark.sql.execution.datasources.CodecStreams$.createOutputStream(CodecStreams.scala:81)\n    at org.apache.spark.sql.execution.datasources.CodecStreams$.createOutputStreamWriter(CodecStreams.scala:92)\n    at org.apache.spark.sql.execution.datasources.csv.CsvOutputWriter.&lt;init&gt;(CsvOutputWriter.scala:38)\n    at org.apache.spark.sql.execution.datasources.csv.CSVFileFormat$$anon$1.newInstance(CSVFileFormat.scala:84)\n    at org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.newOutputWriter(FileFormatDataWriter.scala:126)\n    at org.apache.spark.sql.execution.datasources.SingleDirectoryDataWriter.&lt;init&gt;(FileFormatDataWriter.scala:111)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:264)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$15(FileFormatWriter.scala:205)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:127)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:446)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:449)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>In the end, is there even possible to write a single CSV from Spark (pyspark) to S3 and it is substantially faster than using a traditional approach (boto3, technically)?</p>\n<p>Did I misunderstood anything?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1636101316,"post_id":69850127,"comment_id":123471791,"body_markdown":"Does this answer your question? [Why the event AbstractAuthenticationFailureEvent is never triggered in spring security?](https://stackoverflow.com/questions/31782913/why-the-event-abstractauthenticationfailureevent-is-never-triggered-in-spring-se)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31782913/why-the-event-abstractauthenticationfailureevent-is-never-triggered-in-spring-se\">Why the event AbstractAuthenticationFailureEvent is never triggered in spring security?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636116129,"creation_date":1636110108,"answer_id":69852231,"question_id":69850127,"body_markdown":"Configure `DefaultAuthenticationEventPublisher` like the following\r\n\r\n    @Bean\r\n    DefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher(ApplicationEventPublisher applicationEventPublisher) {\r\n         return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\r\n      }\r\n\r\nand use it in your authentication manager like\r\n\r\n      @Autowired\r\n      DefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher;\r\n      @Override\r\n      protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationEventPublisher(defaultAuthenticationEventPublisher);\r\n      }\r\n\r\n\r\nThe test I did:\r\n\r\n**config class**\r\n\r\n    @Configuration\r\n    public class ProjectConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n            .anyRequest().authenticated()\r\n            .and().httpBasic();\r\n      }\r\n    \r\n      @Autowired\r\n      DefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher;\r\n    \r\n      @Override\r\n      protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n            .inMemoryAuthentication()\r\n            .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n            .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\r\n        auth.authenticationEventPublisher(defaultAuthenticationEventPublisher);\r\n      }\r\n    \r\n      @Override\r\n      @Bean\r\n      public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n      }\r\n    \r\n      @Bean\r\n      DefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher(\r\n          ApplicationEventPublisher applicationEventPublisher) {\r\n        return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\r\n      }\r\n    }\r\n\r\n\r\nand the listener class:\r\n\r\n    @Component\r\n    public class GlobalEventsHandlers {\r\n    \r\n      @EventListener\r\n      public void authFailedEventListener(\r\n          AbstractAuthenticationFailureEvent authenticationFailureEvent) {\r\n        // code for logging audit\r\n        if (authenticationFailureEvent instanceof AbstractAuthenticationFailureEvent) {\r\n          System.out.println(&quot;authenticationFailureEvent&quot;);\r\n        } else {\r\n          System.out.println(&quot;not authenticationFailureEvent&quot;);\r\n    \r\n        }\r\n        System.out.println(authenticationFailureEvent);\r\n        //System.out.println(&quot;login failed for --&gt;&quot;+authenticationFailureEvent.getAuthentication().getPrincipal());\r\n        System.out.println(&quot;Event Catched for Failed&quot;);\r\n      }\r\n    \r\n      @EventListener\r\n      public void authSuccessEventListener(AuthenticationSuccessEvent authenticationSuccessEvent) {\r\n        // code for logging audit\r\n        if (authenticationSuccessEvent instanceof AuthenticationSuccessEvent) {\r\n          System.out.println(&quot;authenticationSuccessEvent&quot;);\r\n        } else {\r\n          System.out.println(&quot;not authenticationSuccessEvent&quot;);\r\n    \r\n        }\r\n        System.out.println(authenticationSuccessEvent);\r\n        System.out.println(&quot;Event Catched for success&quot;);\r\n      }\r\n    }\r\n\r\n\r\nresult:\r\n\r\n    authenticationFailureEvent\r\n    org.springframework.security.authentication.event.AuthenticationFailureBadCredentialsEvent[source=UsernamePasswordAuthenticationToken [Principal=use, Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]]\r\n    Event Catched for Failed\r\n    authenticationSuccessEvent\r\n    org.springframework.security.authentication.event.AuthenticationSuccessEvent[source=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F6977BE6F40E41D5972C4233868DF312], Granted Authorities=[ROLE_USER]]]\r\n    Event Catched for success","title":"Spring AbstractAuthenticationFailureEvent is not working. When authentication is Failed","body":"<p>Configure <code>DefaultAuthenticationEventPublisher</code> like the following</p>\n<pre><code>@Bean\nDefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher(ApplicationEventPublisher applicationEventPublisher) {\n     return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\n  }\n</code></pre>\n<p>and use it in your authentication manager like</p>\n<pre><code>  @Autowired\n  DefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher;\n  @Override\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.authenticationEventPublisher(defaultAuthenticationEventPublisher);\n  }\n</code></pre>\n<p>The test I did:</p>\n<p><strong>config class</strong></p>\n<pre><code>@Configuration\npublic class ProjectConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n        .anyRequest().authenticated()\n        .and().httpBasic();\n  }\n\n  @Autowired\n  DefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher;\n\n  @Override\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n        .inMemoryAuthentication()\n        .passwordEncoder(NoOpPasswordEncoder.getInstance())\n        .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\n    auth.authenticationEventPublisher(defaultAuthenticationEventPublisher);\n  }\n\n  @Override\n  @Bean\n  public AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n  }\n\n  @Bean\n  DefaultAuthenticationEventPublisher defaultAuthenticationEventPublisher(\n      ApplicationEventPublisher applicationEventPublisher) {\n    return new DefaultAuthenticationEventPublisher(applicationEventPublisher);\n  }\n}\n</code></pre>\n<p>and the listener class:</p>\n<pre><code>@Component\npublic class GlobalEventsHandlers {\n\n  @EventListener\n  public void authFailedEventListener(\n      AbstractAuthenticationFailureEvent authenticationFailureEvent) {\n    // code for logging audit\n    if (authenticationFailureEvent instanceof AbstractAuthenticationFailureEvent) {\n      System.out.println(&quot;authenticationFailureEvent&quot;);\n    } else {\n      System.out.println(&quot;not authenticationFailureEvent&quot;);\n\n    }\n    System.out.println(authenticationFailureEvent);\n    //System.out.println(&quot;login failed for --&gt;&quot;+authenticationFailureEvent.getAuthentication().getPrincipal());\n    System.out.println(&quot;Event Catched for Failed&quot;);\n  }\n\n  @EventListener\n  public void authSuccessEventListener(AuthenticationSuccessEvent authenticationSuccessEvent) {\n    // code for logging audit\n    if (authenticationSuccessEvent instanceof AuthenticationSuccessEvent) {\n      System.out.println(&quot;authenticationSuccessEvent&quot;);\n    } else {\n      System.out.println(&quot;not authenticationSuccessEvent&quot;);\n\n    }\n    System.out.println(authenticationSuccessEvent);\n    System.out.println(&quot;Event Catched for success&quot;);\n  }\n}\n</code></pre>\n<p>result:</p>\n<pre><code>authenticationFailureEvent\norg.springframework.security.authentication.event.AuthenticationFailureBadCredentialsEvent[source=UsernamePasswordAuthenticationToken [Principal=use, Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]]\nEvent Catched for Failed\nauthenticationSuccessEvent\norg.springframework.security.authentication.event.AuthenticationSuccessEvent[source=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F6977BE6F40E41D5972C4233868DF312], Granted Authorities=[ROLE_USER]]]\nEvent Catched for success\n</code></pre>\n"}],"owner":{"account_id":10845174,"reputation":31,"user_id":7974957,"display_name":"vinay saddanapu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69852231,"answer_count":1,"score":-1,"last_activity_date":1636116129,"creation_date":1636099370,"question_id":69850127,"body_markdown":"Trying to trigger authentication failed event. But it was not triggered\r\n```\r\n@EventListener\r\n\tpublic void authFailedEventListener(AbstractAuthenticationFailureEvent authenticationFailureEvent) {\r\n\t\t// code for logging audit\r\n\t\tif(authenticationFailureEvent instanceof AbstractAuthenticationFailureEvent) { System.out.print(true);\r\n\t}else {\r\n\t\tSystem.out.print(false);\r\n\t\t\r\n\t}\r\n\t\tSystem.out.println(authenticationFailureEvent);\r\n\t\t//System.out.println(&quot;login failed for --&gt;&quot;+authenticationFailureEvent.getAuthentication().getPrincipal());\r\n\t\tSystem.out.print(&quot;Event Catched for Failed&quot;);\r\n\t}\r\n````\r\nConfig class\r\n\r\n`````\r\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n\t\ttry {\r\n\t\tauth.authenticationProvider(customAuthentication);\r\n\t\tauth.authenticationEventPublisher(new DefaultAuthenticationEventPublisher(applicationEventPublisher));\r\n\t\t}catch(OAuth2Exception ex) {\r\n\t\t\tthrow new CustomOauthException(ex.getMessage());\r\n\t\t}\r\n\t}\r\n`````","title":"Spring AbstractAuthenticationFailureEvent is not working. When authentication is Failed","body":"<p>Trying to trigger authentication failed event. But it was not triggered</p>\n<pre><code>@EventListener\n    public void authFailedEventListener(AbstractAuthenticationFailureEvent authenticationFailureEvent) {\n        // code for logging audit\n        if(authenticationFailureEvent instanceof AbstractAuthenticationFailureEvent) { System.out.print(true);\n    }else {\n        System.out.print(false);\n        \n    }\n        System.out.println(authenticationFailureEvent);\n        //System.out.println(&quot;login failed for --&gt;&quot;+authenticationFailureEvent.getAuthentication().getPrincipal());\n        System.out.print(&quot;Event Catched for Failed&quot;);\n    }\n</code></pre>\n<p>Config class</p>\n<pre><code>protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        try {\n        auth.authenticationProvider(customAuthentication);\n        auth.authenticationEventPublisher(new DefaultAuthenticationEventPublisher(applicationEventPublisher));\n        }catch(OAuth2Exception ex) {\n            throw new CustomOauthException(ex.getMessage());\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","unit-testing","spring-boot"],"comments":[{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":0,"creation_date":1479828296,"post_id":40726055,"comment_id":68717036,"body_markdown":"Is the file in `/src/test/resources` or `src/main/resources`? If it is in `src/main/resources`, you will need to either put it in the test resources, or load the main source set as part of your test source sets.","body":"Is the file in <code>&#47;src&#47;test&#47;resources</code> or <code>src&#47;main&#47;resources</code>? If it is in <code>src&#47;main&#47;resources</code>, you will need to either put it in the test resources, or load the main source set as part of your test source sets."},{"owner":{"account_id":1397395,"reputation":2049,"user_id":1326907,"accept_rate":86,"display_name":"jerome"},"score":0,"creation_date":1479834960,"post_id":40726055,"comment_id":68721387,"body_markdown":"It is in src/main/resources but I think it is best to create one in src/test/resources for test purpose, how could I do it ?","body":"It is in src/main/resources but I think it is best to create one in src/test/resources for test purpose, how could I do it ?"},{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":0,"creation_date":1479839059,"post_id":40726055,"comment_id":68723797,"body_markdown":"Copy and paste the file. The downside is you will now have to duplicate everything.","body":"Copy and paste the file. The downside is you will now have to duplicate everything."},{"owner":{"account_id":1397395,"reputation":2049,"user_id":1326907,"accept_rate":86,"display_name":"jerome"},"score":0,"creation_date":1479884814,"post_id":40726055,"comment_id":68740957,"body_markdown":"And if I want to keep using the file in src/main/resources (it is actually the case, but not working) how to proceed ?","body":"And if I want to keep using the file in src/main/resources (it is actually the case, but not working) how to proceed ?"},{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":0,"creation_date":1480013006,"post_id":40726055,"comment_id":68808049,"body_markdown":"Assuming you are using gradle, you want to add the `/src/main/resources` to your &quot;test&quot; source set. Add something like the following to your `build.gradle`: `sourceSets {  test { resources [${project.projectDir}/src/${sourceSet.name}/resources], [${project.projectDir}/src/main/resources] } }`","body":"Assuming you are using gradle, you want to add the <code>&#47;src&#47;main&#47;resources</code> to your &quot;test&quot; source set. Add something like the following to your <code>build.gradle</code>: <code>sourceSets {  test { resources [${project.projectDir}&#47;src&#47;${sourceSet.name}&#47;resources], [${project.projectDir}&#47;src&#47;main&#47;resources] } }</code>"}],"answers":[{"tags":[],"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1479753756,"creation_date":1479753756,"answer_id":40727231,"question_id":40726055,"body_markdown":"I would consider this an integration test, not a unit-test because you are testing the interaction between various components. Regardless, here is how I would do it.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = YourApplication.class)\r\n    public class InternationalizationTests() {\r\n\r\n      @Autowired\r\n      ConnectionProperties connectionProperties;\r\n\r\n      @Test\r\n      public void testCorrectTranslationLoaded() {\r\n        Assert.assertEquals(&quot;english-username&quot;, connectionProperties.getUsername());\r\n      }    \r\n\r\n    }\r\n\r\nYou can also create a test configuration if you would like to, which you can specify which translation to load. You would then need different classes to test different configurations. See the docs: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html","title":"SpringBoot unit test configuration","body":"<p>I would consider this an integration test, not a unit-test because you are testing the interaction between various components. Regardless, here is how I would do it.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = YourApplication.class)\npublic class InternationalizationTests() {\n\n  @Autowired\n  ConnectionProperties connectionProperties;\n\n  @Test\n  public void testCorrectTranslationLoaded() {\n    Assert.assertEquals(\"english-username\", connectionProperties.getUsername());\n  }    \n\n}\n</code></pre>\n\n<p>You can also create a test configuration if you would like to, which you can specify which translation to load. You would then need different classes to test different configurations. See the docs: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html</a></p>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636115811,"creation_date":1636115811,"answer_id":69853374,"question_id":40726055,"body_markdown":"Unit test can be done easily with Jmockit\r\n\r\n        import org.junit.jupiter.api.Test;\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.context.ConfigurableApplicationContext;\r\n\r\n        import mockit.Mock;\r\n        import mockit.MockUp;\r\n        import mockit.Mocked;\r\n        import mockit.Verifications;\r\n\r\n        class RuleApiApplicationTest {\r\n            \r\n            @Mocked\r\n            private ConfigurableApplicationContext mockedContext;\r\n\r\n            @Test\r\n            void testApplicationRun() {\r\n                new MockUp&lt;SpringApplication&gt;() {\r\n                    @Mock\r\n                    public ConfigurableApplicationContext run(Class&lt;?&gt; primarySource, String... args) {\r\n                        return mockedContext;\r\n                    }\r\n                };\r\n\r\n                RuleApiApplication.main(new String[]{});\r\n                \r\n                new Verifications() {{\r\n                    SpringApplication.run(RuleApiApplication.class, new String[]{});\r\n                }};\r\n            }\r\n        }\r\n\r\n","title":"SpringBoot unit test configuration","body":"<p>Unit test can be done easily with Jmockit</p>\n<pre><code>    import org.junit.jupiter.api.Test;\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.context.ConfigurableApplicationContext;\n\n    import mockit.Mock;\n    import mockit.MockUp;\n    import mockit.Mocked;\n    import mockit.Verifications;\n\n    class RuleApiApplicationTest {\n        \n        @Mocked\n        private ConfigurableApplicationContext mockedContext;\n\n        @Test\n        void testApplicationRun() {\n            new MockUp&lt;SpringApplication&gt;() {\n                @Mock\n                public ConfigurableApplicationContext run(Class&lt;?&gt; primarySource, String... args) {\n                    return mockedContext;\n                }\n            };\n\n            RuleApiApplication.main(new String[]{});\n            \n            new Verifications() {{\n                SpringApplication.run(RuleApiApplication.class, new String[]{});\n            }};\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1397395,"reputation":2049,"user_id":1326907,"accept_rate":86,"display_name":"jerome"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40727231,"answer_count":2,"score":1,"last_activity_date":1636115811,"creation_date":1479749516,"question_id":40726055,"body_markdown":"I created a spring-boot 1.4.0 application and I would like to internationlize it using yaml file.\r\n\r\nI created a class for loading the configuration from the yaml file like it is explained in the documentation here http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties.\r\n\r\nI would like to create a test to check that my class has correctly loaded the properties from the yaml file.\r\n\r\nIf we keep the exemple from the documentation how to create a unit test that will load a yaml file (with a different name that application.yml) and check that the method `getUsername()` will return the value from the yaml file ?\r\n\r\n---------\r\n\r\nHere is the code I have but still can&#39;t load the username :\r\n\r\n    @Component\r\n    @ConfigurationProperties(locations = &quot;classpath:mylocalizedprops.yml&quot;, prefix=&quot;connection&quot;)\r\n    public class ConnectionProperties {\r\n    \r\n        private String username;\r\n    \r\n        // ... getters and setters\r\n    \r\n    }\r\n\r\nand the test class\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(classes = Application.class)\r\n    public class InternationalizationTest {\r\n        @Autowired\r\n        private ConnectionProperties connectionProperties;\r\n    \r\n        public void propsShouldBeNotNull() {\r\n            assertNotNull(connectionProperties);\r\n        }\r\n    \r\n        public void userNameShouldBeCorrect() {\r\n            assertEquals(connectionProperties.getUsername(), expectedUserName);\r\n        }\r\n    }\r\n\r\nI have failed the userNameShouldBeCorrect test.  The file mylocalizedprops.yml is located in the src/main/resources folder of a Maven structured application.","title":"SpringBoot unit test configuration","body":"<p>I created a spring-boot 1.4.0 application and I would like to internationlize it using yaml file.</p>\n\n<p>I created a class for loading the configuration from the yaml file like it is explained in the documentation here <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties</a>.</p>\n\n<p>I would like to create a test to check that my class has correctly loaded the properties from the yaml file.</p>\n\n<p>If we keep the exemple from the documentation how to create a unit test that will load a yaml file (with a different name that application.yml) and check that the method <code>getUsername()</code> will return the value from the yaml file ?</p>\n\n<hr>\n\n<p>Here is the code I have but still can't load the username :</p>\n\n<pre><code>@Component\n@ConfigurationProperties(locations = \"classpath:mylocalizedprops.yml\", prefix=\"connection\")\npublic class ConnectionProperties {\n\n    private String username;\n\n    // ... getters and setters\n\n}\n</code></pre>\n\n<p>and the test class</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes = Application.class)\npublic class InternationalizationTest {\n    @Autowired\n    private ConnectionProperties connectionProperties;\n\n    public void propsShouldBeNotNull() {\n        assertNotNull(connectionProperties);\n    }\n\n    public void userNameShouldBeCorrect() {\n        assertEquals(connectionProperties.getUsername(), expectedUserName);\n    }\n}\n</code></pre>\n\n<p>I have failed the userNameShouldBeCorrect test.  The file mylocalizedprops.yml is located in the src/main/resources folder of a Maven structured application.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8358777,"reputation":1554,"user_id":6277983,"accept_rate":67,"display_name":"Suraj Gautam"},"score":0,"creation_date":1576515552,"post_id":59360466,"comment_id":104916175,"body_markdown":"Are you sending these environment variables through docker run command or using docker-compose? Could you please edit the post and make clear.","body":"Are you sending these environment variables through docker run command or using docker-compose? Could you please edit the post and make clear."},{"owner":{"account_id":5796052,"reputation":352,"user_id":4571851,"display_name":"Fernando Lozano"},"score":0,"creation_date":1576516926,"post_id":59360466,"comment_id":104916839,"body_markdown":"I&#39;m using ConfigMaps of Kubernetes to send it. It works with a single String but not with Maps.","body":"I&#39;m using ConfigMaps of Kubernetes to send it. It works with a single String but not with Maps."}],"answers":[{"tags":[],"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1576513837,"creation_date":1576513837,"answer_id":59360641,"question_id":59360466,"body_markdown":"I think you can initialize it just by doing @Value(&quot;${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}&quot;) or whatever the key in your env var is\r\n\r\nThen give it the variable you want it in like so\r\n\r\n    @Value(&quot;${variable}&quot;)\r\n    private String variable;","title":"Using environment variables to fill a Map in a @ConfigurationProperties","body":"<p>I think you can initialize it just by doing @Value(\"${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}\") or whatever the key in your env var is</p>\n\n<p>Then give it the variable you want it in like so</p>\n\n<pre><code>@Value(\"${variable}\")\nprivate String variable;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12597082,"reputation":496,"user_id":9161255,"display_name":"Mohit Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576587291,"creation_date":1576533692,"answer_id":59364891,"question_id":59360466,"body_markdown":"You can map these properties to the environment variables in spring profile i.e. application or bootstrap properties *(like in application.properties/yml or bootstrap.properties/yml file)* by using the placeholders. You can map to the environment variable placeholders as below. These will resolve to the corresponding environment variable.\r\n\r\n````\r\nmyapp.namespace.namespace1.connection=${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}\r\nmyapp.namespace.namespace1.url=${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}\r\nmyapp.namespace.namespace2.topic=${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}\r\nmyapp.namespace.namespace2.id=${MYAPP_NAMESPACE_NAMESPACE2_ID}\r\n````\r\n\r\n**If you know know the properties name in advance and know only the prefix:**\r\n\r\nYou only need to map with one placeholder and provide environmental variables by appending that placeholder and with underscores like:\r\n```\r\nmyapp.namespace=${MYAPP_NAMESPACE}\r\n````\r\nIf you provide env variable,\r\n\r\n```\r\nMYAPP_NAMESPACE_NAMESPACE1_CONNECTION=xxx\r\n````\r\nSpringboot is smart enough to resolve this to \r\n```\r\nmyapp.namespace.namespace1.connection==xxx\r\n````\r\nYou just have to follow the convention to use underscores (_) only which will be resolved to dots (.).\r\n\r\nWe are using it in our application. I also tested this particular scenario and when it prints the namespaces as below:\r\n\r\n    {namespace1.connection=xxxx}\r\n\r\nI hope I understood correctly what you want to achieve here.","title":"Using environment variables to fill a Map in a @ConfigurationProperties","body":"<p>You can map these properties to the environment variables in spring profile i.e. application or bootstrap properties <em>(like in application.properties/yml or bootstrap.properties/yml file)</em> by using the placeholders. You can map to the environment variable placeholders as below. These will resolve to the corresponding environment variable.</p>\n\n<pre><code>myapp.namespace.namespace1.connection=${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}\nmyapp.namespace.namespace1.url=${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}\nmyapp.namespace.namespace2.topic=${MYAPP_NAMESPACE_NAMESPACE1_CONNECTION}\nmyapp.namespace.namespace2.id=${MYAPP_NAMESPACE_NAMESPACE2_ID}\n</code></pre>\n\n<p><strong>If you know know the properties name in advance and know only the prefix:</strong></p>\n\n<p>You only need to map with one placeholder and provide environmental variables by appending that placeholder and with underscores like:</p>\n\n<pre><code>myapp.namespace=${MYAPP_NAMESPACE}\n</code></pre>\n\n<p>If you provide env variable,</p>\n\n<pre><code>MYAPP_NAMESPACE_NAMESPACE1_CONNECTION=xxx\n</code></pre>\n\n<p>Springboot is smart enough to resolve this to </p>\n\n<pre><code>myapp.namespace.namespace1.connection==xxx\n</code></pre>\n\n<p>You just have to follow the convention to use underscores (_) only which will be resolved to dots (.).</p>\n\n<p>We are using it in our application. I also tested this particular scenario and when it prints the namespaces as below:</p>\n\n<pre><code>{namespace1.connection=xxxx}\n</code></pre>\n\n<p>I hope I understood correctly what you want to achieve here.</p>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636115786,"creation_date":1636115786,"answer_id":69853365,"question_id":59360466,"body_markdown":"Just in case it helps someone else using Kubernetes, there is a simpler way, than environment variables, to inject complex config into spring boot applications. We can have a config map entry named `application.yml` with the required config, inject the entry into the container through a volume and set the environment variable `SPRING_CONFIG_ADDITIONAL_LOCATION` to point to that location\r\n\r\n**Steps:**\r\n- Create a config map named `demo-config` which contains a multi-line data with the key `application.yml`\r\n- Create a volume named `config-volume` from config map demo-config mapping only the data key `application.yml`\r\n- Mount the config volume into the container at `/etc/config`\r\n- Set the environment variable `SPRING_CONFIG_ADDITIONAL_LOCATION` to `/etc/config/` - the trailing slash is required\r\n- The app starts up, reads the config from `/etc/config/application.yml` and logs the line `com.example.demo.AppProps - Namespace: {namespace2.id=ccc, namespace1.connection=xxxx, namespace2.topic=zzz, namespace1.url=yyy}`\r\n\r\n\r\n**Test Configuration class:**\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@Getter\r\n@Setter\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\r\npublic class AppProps {\r\n\r\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\r\n    \r\n    @PostConstruct\r\n    public void init() {\r\n        log.info(&quot;Namespace: {}&quot;, namespace);\r\n    }\r\n}\r\n```\r\n\r\n**Config map:**\r\n\r\n```yml\r\napiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  name: demo-config\r\ndata:\r\n  application.yml: |\r\n    myapp:\r\n      namespace:\r\n        namespace1.connection: xxxx\r\n        namespace1.url: yyy\r\n        namespace2.topic: zzz\r\n        namespace2.id: ccc\r\n```\r\n\r\n**Deployment:**\r\n\r\n```yml\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: demo-deployment\r\n  labels:\r\n    app: demo\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: demo\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: demo\r\n    spec:\r\n      volumes:\r\n        - name: config-volume\r\n          configMap:\r\n            name: demo-config\r\n            items:\r\n              - key: application.yml\r\n                path: application.yml\r\n      containers:\r\n        - name: app\r\n          image: devatherock/demo:0.1.0-local.1\r\n          imagePullPolicy: Never\r\n          ports:\r\n            - containerPort: 8080\r\n          volumeMounts:\r\n            - name: config-volume\r\n              mountPath: /etc/config  \r\n          env:\r\n           - name: SPRING_CONFIG_ADDITIONAL_LOCATION\r\n             value: &quot;/etc/config/&quot;\r\n```","title":"Using environment variables to fill a Map in a @ConfigurationProperties","body":"<p>Just in case it helps someone else using Kubernetes, there is a simpler way, than environment variables, to inject complex config into spring boot applications. We can have a config map entry named <code>application.yml</code> with the required config, inject the entry into the container through a volume and set the environment variable <code>SPRING_CONFIG_ADDITIONAL_LOCATION</code> to point to that location</p>\n<p><strong>Steps:</strong></p>\n<ul>\n<li>Create a config map named <code>demo-config</code> which contains a multi-line data with the key <code>application.yml</code></li>\n<li>Create a volume named <code>config-volume</code> from config map demo-config mapping only the data key <code>application.yml</code></li>\n<li>Mount the config volume into the container at <code>/etc/config</code></li>\n<li>Set the environment variable <code>SPRING_CONFIG_ADDITIONAL_LOCATION</code> to <code>/etc/config/</code> - the trailing slash is required</li>\n<li>The app starts up, reads the config from <code>/etc/config/application.yml</code> and logs the line <code>com.example.demo.AppProps - Namespace: {namespace2.id=ccc, namespace1.connection=xxxx, namespace2.topic=zzz, namespace1.url=yyy}</code></li>\n</ul>\n<p><strong>Test Configuration class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.annotation.PostConstruct;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\n@Getter\n@Setter\n@Component\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\npublic class AppProps {\n\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\n    \n    @PostConstruct\n    public void init() {\n        log.info(&quot;Namespace: {}&quot;, namespace);\n    }\n}\n</code></pre>\n<p><strong>Config map:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: demo-config\ndata:\n  application.yml: |\n    myapp:\n      namespace:\n        namespace1.connection: xxxx\n        namespace1.url: yyy\n        namespace2.topic: zzz\n        namespace2.id: ccc\n</code></pre>\n<p><strong>Deployment:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: demo-deployment\n  labels:\n    app: demo\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: demo\n  template:\n    metadata:\n      labels:\n        app: demo\n    spec:\n      volumes:\n        - name: config-volume\n          configMap:\n            name: demo-config\n            items:\n              - key: application.yml\n                path: application.yml\n      containers:\n        - name: app\n          image: devatherock/demo:0.1.0-local.1\n          imagePullPolicy: Never\n          ports:\n            - containerPort: 8080\n          volumeMounts:\n            - name: config-volume\n              mountPath: /etc/config  \n          env:\n           - name: SPRING_CONFIG_ADDITIONAL_LOCATION\n             value: &quot;/etc/config/&quot;\n</code></pre>\n"}],"owner":{"account_id":5796052,"reputation":352,"user_id":4571851,"display_name":"Fernando Lozano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5480,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69853365,"answer_count":3,"score":2,"last_activity_date":1636115786,"creation_date":1576513212,"question_id":59360466,"body_markdown":"I have this @ConfigurationProperties:\r\n\r\n```\r\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\r\npublic class CustomProperties {\r\n\r\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\r\n\r\n    public Map&lt;String, String&gt; getNamespace() {\r\n        return namespace;\r\n    }\r\n}\r\n```\r\n\r\nBefore I start the application, I put these arguments as a program arguments:\r\n\r\n```\r\n--myapp.namespace.namespace1.connection=&quot;xxxx&quot;\r\n--myapp.namespace.namespace1.url=&quot;yyy&quot;\r\n--myapp.namespace.namespace2.topic=&quot;zzz&quot;\r\n--myapp.namespace.namespace2.id=&quot;ccc&quot;\r\n```\r\n\r\nAnd it works successfully, the namespace map will contain four entries:\r\n\r\n```\r\n{namespace2.id=ccc, namespace1.connection=xxxx, namespace2.topic=zzz, namespace1.url=yyy}\r\n```\r\n\r\nNow I am &quot;dockerizing&quot; the application. How can I make it work with environment variables? I tried:\r\n\r\n```\r\nMYAPP_NAMESPACE_NAMESPACE1.CONNECTION=&quot;xxxx&quot;\r\nMYAPP_NAMESPACE_NAMESPACE1.URL=&quot;yyy&quot;\r\nMYAPP_NAMESPACE_NAMESPACE2.TOPIC=&quot;zzz&quot;\r\nMYAPP_NAMESPACE_NAMESPACE2.ID=&quot;ccc&quot;\r\n```\r\n\r\nand \r\n\r\n```\r\nMYAPP_NAMESPACE_NAMESPACE1_CONNECTION=&quot;xxxx&quot;\r\nMYAPP_NAMESPACE_NAMESPACE1_URL=&quot;yyy&quot;\r\nMYAPP_NAMESPACE_NAMESPACE2_TOPIC=&quot;zzz&quot;\r\nMYAPP_NAMESPACE_NAMESPACE2_ID=&quot;ccc&quot;\r\n```\r\n\r\nAnd it doesn&#39;t work. Can you help me?\r\n\r\nThanks Fernando.","title":"Using environment variables to fill a Map in a @ConfigurationProperties","body":"<p>I have this @ConfigurationProperties:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"myapp\")\npublic class CustomProperties {\n\n    private Map&lt;String, String&gt; namespace = new HashMap&lt;&gt;();\n\n    public Map&lt;String, String&gt; getNamespace() {\n        return namespace;\n    }\n}\n</code></pre>\n\n<p>Before I start the application, I put these arguments as a program arguments:</p>\n\n<pre><code>--myapp.namespace.namespace1.connection=\"xxxx\"\n--myapp.namespace.namespace1.url=\"yyy\"\n--myapp.namespace.namespace2.topic=\"zzz\"\n--myapp.namespace.namespace2.id=\"ccc\"\n</code></pre>\n\n<p>And it works successfully, the namespace map will contain four entries:</p>\n\n<pre><code>{namespace2.id=ccc, namespace1.connection=xxxx, namespace2.topic=zzz, namespace1.url=yyy}\n</code></pre>\n\n<p>Now I am \"dockerizing\" the application. How can I make it work with environment variables? I tried:</p>\n\n<pre><code>MYAPP_NAMESPACE_NAMESPACE1.CONNECTION=\"xxxx\"\nMYAPP_NAMESPACE_NAMESPACE1.URL=\"yyy\"\nMYAPP_NAMESPACE_NAMESPACE2.TOPIC=\"zzz\"\nMYAPP_NAMESPACE_NAMESPACE2.ID=\"ccc\"\n</code></pre>\n\n<p>and </p>\n\n<pre><code>MYAPP_NAMESPACE_NAMESPACE1_CONNECTION=\"xxxx\"\nMYAPP_NAMESPACE_NAMESPACE1_URL=\"yyy\"\nMYAPP_NAMESPACE_NAMESPACE2_TOPIC=\"zzz\"\nMYAPP_NAMESPACE_NAMESPACE2_ID=\"ccc\"\n</code></pre>\n\n<p>And it doesn't work. Can you help me?</p>\n\n<p>Thanks Fernando.</p>\n"},{"tags":["java","html","xml","maven","maven-site-plugin"],"answers":[{"tags":[],"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636115418,"creation_date":1636115418,"answer_id":69853277,"question_id":67315542,"body_markdown":"In recent versions of the [maven-site-plugin](https://maven.apache.org/plugins/maven-site-plugin/) you have to escape whatever you want to inject into the `&lt;head&gt;` section.\r\n\r\nFrom the [docs](https://maven.apache.org/plugins/maven-site-plugin/examples/sitedescriptor.html#Inject_xhtml_into_.3Chead.3E):\r\n\r\n&gt; since Maven Site Plugin version 3.5, if XHTML content is used, it has to be escaped, for example through CDATA XML notation. Previously, XML content didn&#39;t need such escaping.\r\n\r\nSo you should use:\r\n\r\n```xml\r\n&lt;head&gt;\r\n    &lt;![CDATA[\r\n    &lt;script src=&quot;js/jquery-1.12.4.min.js&quot; type=&quot;text/javascript&quot; /&gt;\r\n    &lt;script src=&quot;js/lunr.min.js&quot; type=&quot;text/javascript&quot; /&gt;\r\n    &lt;script src=&quot;js/superscript.js&quot; type=&quot;text/javascript&quot; /&gt;\r\n    ]]&gt;\r\n&lt;/head&gt;\r\n```","title":"mvn site plugin error TEXT must be immediately followed by END_TAG and not START_TAG","body":"<p>In recent versions of the <a href=\"https://maven.apache.org/plugins/maven-site-plugin/\" rel=\"nofollow noreferrer\">maven-site-plugin</a> you have to escape whatever you want to inject into the <code>&lt;head&gt;</code> section.</p>\n<p>From the <a href=\"https://maven.apache.org/plugins/maven-site-plugin/examples/sitedescriptor.html#Inject_xhtml_into_.3Chead.3E\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>since Maven Site Plugin version 3.5, if XHTML content is used, it has to be escaped, for example through CDATA XML notation. Previously, XML content didn't need such escaping.</p>\n</blockquote>\n<p>So you should use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;head&gt;\n    &lt;![CDATA[\n    &lt;script src=&quot;js/jquery-1.12.4.min.js&quot; type=&quot;text/javascript&quot; /&gt;\n    &lt;script src=&quot;js/lunr.min.js&quot; type=&quot;text/javascript&quot; /&gt;\n    &lt;script src=&quot;js/superscript.js&quot; type=&quot;text/javascript&quot; /&gt;\n    ]]&gt;\n&lt;/head&gt;\n</code></pre>\n"}],"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636115418,"creation_date":1619691939,"question_id":67315542,"body_markdown":"I get this error when I run mvn site:\r\n\r\n    SiteToolException: Error parsing site descriptor: TEXT must be immediately\r\n    followed by END_TAG and not START_TAG (position: START_TAG seen \r\n    ...ead&gt;\\r\\n\\t\\t\\t&lt;script src=&quot;js/jquery-1.12.4.min.js&quot; type=&quot;text/javascript&quot; /&gt;... @16:67)\r\n\r\nWith this `site.xml`:\r\n\r\n     1&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n     2&lt;project name=&quot;documentation&quot;&gt;\r\n     3  &lt;skin&gt;\r\n     4    &lt;groupId&gt;org.apache.maven.skins&lt;/groupId&gt;\r\n     5    &lt;artifactId&gt;maven-fluido-skin&lt;/artifactId&gt;\r\n     6    &lt;version&gt;1.9&lt;/version&gt;\r\n     7  &lt;/skin&gt;\r\n     8  &lt;bannerLeft&gt;\r\n     9    &lt;src&gt;images/doc-banner-color.jpg&lt;/src&gt;\r\n    10    &lt;href&gt;introduction.html&lt;/href&gt;\r\n    11  &lt;/bannerLeft&gt;\r\n    12  &lt;version position=&quot;none&quot; /&gt;\r\n    13  &lt;publishDate position=&quot;none&quot; /&gt;\r\n    14  &lt;body&gt;\r\n    15    &lt;head&gt;\r\n    16      &lt;script src=&quot;js/jquery-1.12.4.min.js&quot; type=&quot;text/javascript&quot; /&gt;\r\n    17      &lt;script src=&quot;js/lunr.min.js&quot; type=&quot;text/javascript&quot; /&gt;\r\n    18      &lt;script src=&quot;js/superscript.js&quot; type=&quot;text/javascript&quot; /&gt;\r\n    19    &lt;/head&gt;\r\n    ...\r\n\r\nHow should I fix the XML to solve this error?  The `site.xml` was working when I used an older version of the asciidoctor \r\n    ","title":"mvn site plugin error TEXT must be immediately followed by END_TAG and not START_TAG","body":"<p>I get this error when I run mvn site:</p>\n<pre><code>SiteToolException: Error parsing site descriptor: TEXT must be immediately\nfollowed by END_TAG and not START_TAG (position: START_TAG seen \n...ead&gt;\\r\\n\\t\\t\\t&lt;script src=&quot;js/jquery-1.12.4.min.js&quot; type=&quot;text/javascript&quot; /&gt;... @16:67)\n</code></pre>\n<p>With this <code>site.xml</code>:</p>\n<pre><code> 1&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\n 2&lt;project name=&quot;documentation&quot;&gt;\n 3  &lt;skin&gt;\n 4    &lt;groupId&gt;org.apache.maven.skins&lt;/groupId&gt;\n 5    &lt;artifactId&gt;maven-fluido-skin&lt;/artifactId&gt;\n 6    &lt;version&gt;1.9&lt;/version&gt;\n 7  &lt;/skin&gt;\n 8  &lt;bannerLeft&gt;\n 9    &lt;src&gt;images/doc-banner-color.jpg&lt;/src&gt;\n10    &lt;href&gt;introduction.html&lt;/href&gt;\n11  &lt;/bannerLeft&gt;\n12  &lt;version position=&quot;none&quot; /&gt;\n13  &lt;publishDate position=&quot;none&quot; /&gt;\n14  &lt;body&gt;\n15    &lt;head&gt;\n16      &lt;script src=&quot;js/jquery-1.12.4.min.js&quot; type=&quot;text/javascript&quot; /&gt;\n17      &lt;script src=&quot;js/lunr.min.js&quot; type=&quot;text/javascript&quot; /&gt;\n18      &lt;script src=&quot;js/superscript.js&quot; type=&quot;text/javascript&quot; /&gt;\n19    &lt;/head&gt;\n...\n</code></pre>\n<p>How should I fix the XML to solve this error?  The <code>site.xml</code> was working when I used an older version of the asciidoctor</p>\n"},{"tags":["java","datetime","hashmap"],"comments":[{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1636014355,"post_id":69836115,"comment_id":123446063,"body_markdown":"where does the `Date` come from your model ? I only see a `String` and `Doubles`.  Btw if you find a way to manipulate a Date, you can filter your stream using prebuilt comparaison function from LocalDate objetcs","body":"where does the <code>Date</code> come from your model ? I only see a <code>String</code> and <code>Doubles</code>.  Btw if you find a way to manipulate a Date, you can filter your stream using prebuilt comparaison function from LocalDate objetcs"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1636018055,"post_id":69836115,"comment_id":123447470,"body_markdown":"a `LocalDate` (assuming that is meant by &quot;Locale Date&quot;) has methods `isAfter()` and `isBefore()` that can be user in a `filter(...)` in your `Stream`. (if still using the ancient `java.util.Date` class, it has `after()` and `before()`)","body":"a <code>LocalDate</code> (assuming that is meant by &quot;Locale Date&quot;) has methods <code>isAfter()</code> and <code>isBefore()</code> that can be user in a <code>filter(...)</code> in your <code>Stream</code>. (if still using the ancient <code>java.util.Date</code> class, it has <code>after()</code> and <code>before()</code>)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636022814,"post_id":69836115,"comment_id":123449271,"body_markdown":"I am unsure what is stopping you. Does this answer your question? [Java: how do I check if a Date is within a certain range?](https://stackoverflow.com/questions/494180/java-how-do-i-check-if-a-date-is-within-a-certain-range)","body":"I am unsure what is stopping you. Does this answer your question? <a href=\"https://stackoverflow.com/questions/494180/java-how-do-i-check-if-a-date-is-within-a-certain-range\">Java: how do I check if a Date is within a certain range?</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636087446,"post_id":69836115,"comment_id":123468902,"body_markdown":"Do you want grouping by *date **and** name*? It seems to me the two rows `28-Dec-20   Jore    303.00` and `28-Dec-20   Jore    81.67` have been summed into `28-Dec-20   Jore    384.67` in your required/expected output whereas the two rows with name `Jomon` have not been added together.","body":"Do you want grouping by <i>date <b>and</b> name</i>? It seems to me the two rows <code>28-Dec-20   Jore    303.00</code> and <code>28-Dec-20   Jore    81.67</code> have been summed into <code>28-Dec-20   Jore    384.67</code> in your required/expected output whereas the two rows with name <code>Jomon</code> have not been added together."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636087589,"post_id":69836115,"comment_id":123468923,"body_markdown":"Does this answer your question? [Group by multiple field names in java 8](https://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28342814/group-by-multiple-field-names-in-java-8\">Group by multiple field names in java 8</a>"}],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636015020,"creation_date":1636015020,"answer_id":69836375,"question_id":69836115,"body_markdown":"I think you should filter a stream based on a **predicate** (condition) provided as an argument with the **filter()** method.\r\n\r\nIn case you need to filter a string stream and only return strings starting with ’n’ \r\n\r\n    strFlux.filter(s-&gt;s.startsWith(&quot;n&quot;)).log();\r\n\r\nif length of a string is greater than 4, then return it’s length as an element of the stream.\r\n\r\n    strFlux.filter(s -&gt; s.length() &gt; 4).map(s-&gt;s.length()).log(); //Now it will be a Flux&lt;Integer&gt;","title":"Java HashMap filter between two dates","body":"<p>I think you should filter a stream based on a <strong>predicate</strong> (condition) provided as an argument with the <strong>filter()</strong> method.</p>\n<p>In case you need to filter a string stream and only return strings starting with ’n’</p>\n<pre><code>strFlux.filter(s-&gt;s.startsWith(&quot;n&quot;)).log();\n</code></pre>\n<p>if length of a string is greater than 4, then return it’s length as an element of the stream.</p>\n<pre><code>strFlux.filter(s -&gt; s.length() &gt; 4).map(s-&gt;s.length()).log(); //Now it will be a Flux&lt;Integer&gt;\n</code></pre>\n"}],"owner":{"account_id":23149977,"reputation":1,"user_id":17252145,"display_name":"Ajit V"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1636115203,"answer_count":1,"score":-1,"last_activity_date":1636115223,"creation_date":1636013707,"question_id":69836115,"body_markdown":"I&#39;m trying to filter or limit between two dates (Locale Date), and I&#39;m not sure how to do it in the code below.\r\n\r\n**My Code**\r\n```\r\n        Map&lt;String, Double&gt; Total_IExpense = datatransaction.stream()\r\n                .collect(groupingBy(TransactionData::getName,\r\n                        Collectors.summingDouble(TransactionData::getAmount)));\r\n```\r\n\r\n```\r\nDate\t\tName\tAmount\r\n\r\n04-Jan-21\tJomon\t3,900.00\r\n01-Jan-21\tJohn\t650.00\r\n29-Dec-20\tPriya\t1,435.00\r\n28-Dec-20\tJore\t303.00\r\n28-Dec-20\tJomon\t453.74\r\n28-Dec-20\tJore\t81.67\r\n26-Dec-20\tJohn\t25.12\r\n21-Nov-20\tPriya\t118.38\r\n21-Nov-20\tJomon\t21.31\r\n20-Nov-20\tJohn\t438.24\r\n20-Nov-20\tJohn\t78.88\r\n19-Nov-20\tJai\t1,612.81\r\n19-Nov-20\tPriya\t68.22\r\n```\r\n\r\nI required to filter - 21-Nov-20 to 28-Dec-20 and expected output\r\n\r\n```\r\nDate\t\tName\tAmount\r\n21-Nov-20\tJomon\t21.31\r\n21-Nov-20\tPriya\t118.38\r\n26-Dec-20\tJohn\t25.12\r\n28-Dec-20\tJomon\t453.74\r\n28-Dec-20\tJore\t384.67\r\n```","title":"Java HashMap filter between two dates","body":"<p>I'm trying to filter or limit between two dates (Locale Date), and I'm not sure how to do it in the code below.</p>\n<p><strong>My Code</strong></p>\n<pre><code>        Map&lt;String, Double&gt; Total_IExpense = datatransaction.stream()\n                .collect(groupingBy(TransactionData::getName,\n                        Collectors.summingDouble(TransactionData::getAmount)));\n</code></pre>\n<pre><code>Date        Name    Amount\n\n04-Jan-21   Jomon   3,900.00\n01-Jan-21   John    650.00\n29-Dec-20   Priya   1,435.00\n28-Dec-20   Jore    303.00\n28-Dec-20   Jomon   453.74\n28-Dec-20   Jore    81.67\n26-Dec-20   John    25.12\n21-Nov-20   Priya   118.38\n21-Nov-20   Jomon   21.31\n20-Nov-20   John    438.24\n20-Nov-20   John    78.88\n19-Nov-20   Jai 1,612.81\n19-Nov-20   Priya   68.22\n</code></pre>\n<p>I required to filter - 21-Nov-20 to 28-Dec-20 and expected output</p>\n<pre><code>Date        Name    Amount\n21-Nov-20   Jomon   21.31\n21-Nov-20   Priya   118.38\n26-Dec-20   John    25.12\n28-Dec-20   Jomon   453.74\n28-Dec-20   Jore    384.67\n</code></pre>\n"},{"tags":["java","mutation","pitest"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1636046365,"post_id":69843291,"comment_id":123459376,"body_markdown":"Parameters are generally considered local variables (they have basically the same scope and behaviour), so I guess Pitest does as well.","body":"Parameters are generally considered local variables (they have basically the same scope and behaviour), so I guess Pitest does as well."}],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636100479,"creation_date":1636100479,"answer_id":69850295,"question_id":69843291,"body_markdown":"Pitest mutates bytecode rather than source code. The mutators attempt to describe the equivalent change in the source file, but sometimes this is less than straightforward. \r\n\r\nThese mutations look to have been generated by the &#39;rv&#39; mutators. These are generally of lower quality than the standard set and are not reccomended for general use. Do not use them unless you have a particular reason to do so.\r\n\r\nThe &quot;incremented a local variable&quot; should really read &quot;incremented a the local variable or paramter&quot;. The operator would need to do additional analysis to work out which.\r\n\r\nThe not equal to greater than mutation will have mutated a IFNE instruction in the bytecode. In the simplest case this will map to a != check as the mutation description suggests, but the compiler may choose to use this instruction when generated other logic constructs (in this case equality checks combined with an &amp;&amp;). The description is certainly misleading, updating the mutator to make it more accurate would however involve writing the large part of a decompiler.","title":"Pitest mutates Java source code in ways that seem not possible","body":"<p>Pitest mutates bytecode rather than source code. The mutators attempt to describe the equivalent change in the source file, but sometimes this is less than straightforward.</p>\n<p>These mutations look to have been generated by the 'rv' mutators. These are generally of lower quality than the standard set and are not reccomended for general use. Do not use them unless you have a particular reason to do so.</p>\n<p>The &quot;incremented a local variable&quot; should really read &quot;incremented a the local variable or paramter&quot;. The operator would need to do additional analysis to work out which.</p>\n<p>The not equal to greater than mutation will have mutated a IFNE instruction in the bytecode. In the simplest case this will map to a != check as the mutation description suggests, but the compiler may choose to use this instruction when generated other logic constructs (in this case equality checks combined with an &amp;&amp;). The description is certainly misleading, updating the mutator to make it more accurate would however involve writing the large part of a decompiler.</p>\n"}],"owner":{"account_id":20634759,"reputation":27,"user_id":15148737,"display_name":"bustharime"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69850295,"answer_count":1,"score":1,"last_activity_date":1636114863,"creation_date":1636046188,"question_id":69843291,"body_markdown":"I wrote a simple program that given three integers representing the lengths of the sides of a triangle, outputs which type of triangle it is.\r\nThen I wrote a set of test cases and ran mutation coverage using pitest.\r\n\r\nMy goal is to obtain a 100% mutation coverage which I think is doable since it is a very simple program.\r\n\r\nMy problem is that pitest introduces mutations that I don&#39;t understand and thus don&#39;t know how to kill.\r\n\r\nHere is the program: \r\n\r\n```\r\npublic class TriangleType {\r\n\t\r\n\tpublic String triangleType(int ab, int ac, int bc) {\r\n\t\t\r\n\t\tif(ab &lt;= 0 || ac &lt;= 0 || bc &lt;= 0) {\r\n\t\t\treturn &quot;sign fail&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tif(ab + ac &lt;= bc || ab + bc &lt;= ac || ac + bc &lt;= ab) {\r\n\t\t\treturn &quot;triangle inequality fail&quot;;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(ab == ac &amp;&amp; ab == bc) {\r\n\t\t\treturn &quot;equilateral&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tif(ab == ac || ab == bc || ac == bc) {\r\n\t\t\treturn &quot;isoceles&quot;;\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;scalene&quot;;\r\n\t\t\r\n\t}\r\n}\r\n```\r\nHere are the test cases :\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass TriangleTypeTestMutation extends TriangleTypeTest{\r\n\t\r\n    protected TriangleType triangleType;\r\n\t\r\n\t@BeforeEach\r\n\tvoid setUp() {\r\n\t\ttriangleType = new TriangleType();\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testEquilateral() {\r\n\t\tassertEquals(&quot;equilateral&quot;, triangleType.triangleType(1,1,1));\r\n\t\tassertEquals(&quot;equilateral&quot;, triangleType.triangleType(7, 7, 7));\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testIsoceles() {\r\n\t\tassertEquals(&quot;isoceles&quot;, triangleType.triangleType(5, 5, 2));\r\n\t\tassertEquals(&quot;isoceles&quot;, triangleType.triangleType(2, 5, 5));\r\n\t\tassertEquals(&quot;isoceles&quot;, triangleType.triangleType(5, 2, 5));\r\n\t}\t\r\n\t\r\n\t@Test\r\n\tvoid testScalene() {\r\n\t\tassertEquals(&quot;scalene&quot;, triangleType.triangleType(3, 5, 7));\r\n\t\tassertEquals(&quot;scalene&quot;, triangleType.triangleType(10, 4, 7));\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testTriangleInequalityFail() {\r\n\t\t\r\n\t\t//Should not answer scalene\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(100, 3, 4));\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(2, 50, 3));\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 2, 33));\r\n\t\t\r\n\t\t//Should not answer isoceles\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(100, 3, 3));\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(2, 50, 2));\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 1, 33));\t\t\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testKillConditionalBoundaryMutation() {\r\n\t\t\r\n\t\tassertEquals(&quot;sign fail&quot;, triangleType.triangleType(0, 1, 2));\r\n\t\tassertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, 0, 2));\r\n\t\tassertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, 1, 0));\r\n\t\t\t\t\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 1, 2));\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(2, 1, 1));\r\n\t\tassertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 2, 1));\r\n\t\t\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testKillLessOrEqualToEqual() {\r\n\t\tassertEquals(&quot;sign fail&quot;, triangleType.triangleType(-1, 1, 5));\r\n\t\tassertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, -1, 5));\r\n\t\tassertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, 1, -5));\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nHere are some of the mutations that I don&#39;t understand : \r\n\r\nFor example about the line `if(ab == ac &amp;&amp; ab == bc){ return &quot;equilateral&quot;;}`\r\n\r\n- not equal to greater than -&gt; SURVIVED\r\n- incremented (a++) integer local variable number 3 -&gt; SURVIVED \r\n\r\n\r\nHow can it mutate not equal to greater than if I have no not equal in my code?\r\n\r\nAlso, I have no local variable. Does it consider the arguments of the method as local variables?\r\n","title":"Pitest mutates Java source code in ways that seem not possible","body":"<p>I wrote a simple program that given three integers representing the lengths of the sides of a triangle, outputs which type of triangle it is.\nThen I wrote a set of test cases and ran mutation coverage using pitest.</p>\n<p>My goal is to obtain a 100% mutation coverage which I think is doable since it is a very simple program.</p>\n<p>My problem is that pitest introduces mutations that I don't understand and thus don't know how to kill.</p>\n<p>Here is the program:</p>\n<pre><code>public class TriangleType {\n    \n    public String triangleType(int ab, int ac, int bc) {\n        \n        if(ab &lt;= 0 || ac &lt;= 0 || bc &lt;= 0) {\n            return &quot;sign fail&quot;;\n        }\n        \n        if(ab + ac &lt;= bc || ab + bc &lt;= ac || ac + bc &lt;= ab) {\n            return &quot;triangle inequality fail&quot;;\n        }\n        \n        \n        if(ab == ac &amp;&amp; ab == bc) {\n            return &quot;equilateral&quot;;\n        }\n        \n        if(ab == ac || ab == bc || ac == bc) {\n            return &quot;isoceles&quot;;\n        }\n        \n        return &quot;scalene&quot;;\n        \n    }\n}\n</code></pre>\n<p>Here are the test cases :</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.Test;\n\nclass TriangleTypeTestMutation extends TriangleTypeTest{\n    \n    protected TriangleType triangleType;\n    \n    @BeforeEach\n    void setUp() {\n        triangleType = new TriangleType();\n    }\n    \n    @Test\n    void testEquilateral() {\n        assertEquals(&quot;equilateral&quot;, triangleType.triangleType(1,1,1));\n        assertEquals(&quot;equilateral&quot;, triangleType.triangleType(7, 7, 7));\n    }\n    \n    @Test\n    void testIsoceles() {\n        assertEquals(&quot;isoceles&quot;, triangleType.triangleType(5, 5, 2));\n        assertEquals(&quot;isoceles&quot;, triangleType.triangleType(2, 5, 5));\n        assertEquals(&quot;isoceles&quot;, triangleType.triangleType(5, 2, 5));\n    }   \n    \n    @Test\n    void testScalene() {\n        assertEquals(&quot;scalene&quot;, triangleType.triangleType(3, 5, 7));\n        assertEquals(&quot;scalene&quot;, triangleType.triangleType(10, 4, 7));\n    }\n    \n    @Test\n    void testTriangleInequalityFail() {\n        \n        //Should not answer scalene\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(100, 3, 4));\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(2, 50, 3));\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 2, 33));\n        \n        //Should not answer isoceles\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(100, 3, 3));\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(2, 50, 2));\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 1, 33));      \n    }\n\n    @Test\n    public void testKillConditionalBoundaryMutation() {\n        \n        assertEquals(&quot;sign fail&quot;, triangleType.triangleType(0, 1, 2));\n        assertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, 0, 2));\n        assertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, 1, 0));\n                \n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 1, 2));\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(2, 1, 1));\n        assertEquals(&quot;triangle inequality fail&quot;, triangleType.triangleType(1, 2, 1));\n        \n    }\n    \n    @Test\n    public void testKillLessOrEqualToEqual() {\n        assertEquals(&quot;sign fail&quot;, triangleType.triangleType(-1, 1, 5));\n        assertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, -1, 5));\n        assertEquals(&quot;sign fail&quot;, triangleType.triangleType(1, 1, -5));\n        \n    }\n\n}\n\n</code></pre>\n<p>Here are some of the mutations that I don't understand :</p>\n<p>For example about the line <code>if(ab == ac &amp;&amp; ab == bc){ return &quot;equilateral&quot;;}</code></p>\n<ul>\n<li>not equal to greater than -&gt; SURVIVED</li>\n<li>incremented (a++) integer local variable number 3 -&gt; SURVIVED</li>\n</ul>\n<p>How can it mutate not equal to greater than if I have no not equal in my code?</p>\n<p>Also, I have no local variable. Does it consider the arguments of the method as local variables?</p>\n"},{"tags":["java","groovy","katalon-studio","katalon"],"comments":[{"owner":{"account_id":4086750,"reputation":2070,"user_id":3355860,"display_name":"ou_ryperd"},"score":2,"creation_date":1635956159,"post_id":69827649,"comment_id":123431687,"body_markdown":"If you want the length of the telephone number, I suggest you get the length of the string a. Also, converting it to integer like that will drop leading zero&#39;s if there are any.","body":"If you want the length of the telephone number, I suggest you get the length of the string a. Also, converting it to integer like that will drop leading zero&#39;s if there are any."},{"owner":{"account_id":18323958,"reputation":285,"user_id":13344100,"display_name":"aspok"},"score":0,"creation_date":1635956397,"post_id":69827649,"comment_id":123431810,"body_markdown":"Can you edit your question to include what &quot;a&quot; might resolve to/what sort of input this method is getting?","body":"Can you edit your question to include what &quot;a&quot; might resolve to/what sort of input this method is getting?"}],"answers":[{"tags":[],"owner":{"account_id":18323958,"reputation":285,"user_id":13344100,"display_name":"aspok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635996991,"creation_date":1635996991,"answer_id":69834277,"question_id":69827649,"body_markdown":"You are getting this error:\r\n\r\n    groovy.lang.MissingMethodException: No signature of method: java.lang.Integer.length() is applicable\r\n\r\nfor exactly the reason it says - there is no .length() method for an Integer.\r\n\r\nI&#39;m going to take a guess at what you&#39;re attempting to do, which appears to be to read in a phone number and call the &quot;Mobile.tap&quot; method per digit. In that case, I would suggest treating the number as a String so that you can iterate over each character:\r\n\r\n```\r\nvoid enterPhoneNumber(number) {\r\n    String numberAsStr = number as String\r\n    numberAsStr.each { digit -&gt;\r\n        Mobile.tap(&quot;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - $digit&quot; , GlobalVariable.avgWait);\r\n    }\r\n}\r\n```","title":"I need to tap on the mobile keyboard from a generated number","body":"<p>You are getting this error:</p>\n<pre><code>groovy.lang.MissingMethodException: No signature of method: java.lang.Integer.length() is applicable\n</code></pre>\n<p>for exactly the reason it says - there is no .length() method for an Integer.</p>\n<p>I'm going to take a guess at what you're attempting to do, which appears to be to read in a phone number and call the &quot;Mobile.tap&quot; method per digit. In that case, I would suggest treating the number as a String so that you can iterate over each character:</p>\n<pre><code>void enterPhoneNumber(number) {\n    String numberAsStr = number as String\n    numberAsStr.each { digit -&gt;\n        Mobile.tap(&quot;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - $digit&quot; , GlobalVariable.avgWait);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16287371,"reputation":9,"user_id":11761770,"display_name":"nadiakhouri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1636114684,"creation_date":1636114684,"answer_id":69853126,"question_id":69827649,"body_markdown":"solved by : \r\n\r\n    \r\n\r\n\t@Keyword\r\n\t//tap on related button on numeric keyboard based on phone number passed\r\n\tdef void enterPhoneNumber(a){\r\n\t\tdef ref = &quot;&quot;\r\n\t\tString max = a.length()-1\r\n\t\tint maxInt = Integer.valueOf(max)\r\n\t\tfor(int i=0; i&lt;= maxInt; i++){\r\n\t\t\tref = a.substring(i, i+1 )\r\n\t\t\tswitch (ref) {\r\n\t\t\t\tcase &quot;0&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 0&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;1&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 1&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;2&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 2&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;3&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 3&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;4&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 4&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;5&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 5&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;6&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 6&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;7&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 7&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;8&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 8&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;9&quot;:\r\n\t\t\t\t\tMobile.tap(findTestObject(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 9&#39;) , 5);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"I need to tap on the mobile keyboard from a generated number","body":"<p>solved by :</p>\n<pre><code>@Keyword\n//tap on related button on numeric keyboard based on phone number passed\ndef void enterPhoneNumber(a){\n    def ref = &quot;&quot;\n    String max = a.length()-1\n    int maxInt = Integer.valueOf(max)\n    for(int i=0; i&lt;= maxInt; i++){\n        ref = a.substring(i, i+1 )\n        switch (ref) {\n            case &quot;0&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 0') , 5);\n                break;\n            case &quot;1&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 1') , 5);\n                break;\n            case &quot;2&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 2') , 5);\n                break;\n            case &quot;3&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 3') , 5);\n                break;\n            case &quot;4&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 4') , 5);\n                break;\n            case &quot;5&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 5') , 5);\n                break;\n            case &quot;6&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 6') , 5);\n                break;\n            case &quot;7&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 7') , 5);\n                break;\n            case &quot;8&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 8') , 5);\n                break;\n            case &quot;9&quot;:\n                Mobile.tap(findTestObject('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 9') , 5);\n                break;\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16287371,"reputation":9,"user_id":11761770,"display_name":"nadiakhouri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69853126,"answer_count":2,"score":0,"last_activity_date":1636114684,"creation_date":1635953802,"question_id":69827649,"body_markdown":"on Katalon I made this custom method : \r\n\r\n    def void enterPhoneNumber(a){\r\n\t\ta = Integer.valueOf(a)\r\n\t\tdef ref = &quot;&quot;\r\n\t\tint max = a.length()\r\n\t\tfor(int i=0; i&lt; max; i++){\r\n\t\t\tref = a.substring(i, i + 1)\r\n\t\t\tswitch (ref) {\r\n\t\t\t\tcase &quot;0&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 0&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;1&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 1&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;2&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 2&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;3&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 4&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;4&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 3&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;5&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 5&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;6&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 6&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;7&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 7&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;8&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 8&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;9&quot;:\r\n\t\t\t\t\tMobile.tap(&#39;Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 9&#39; , GlobalVariable.avgWait);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}}\r\n\r\nbut am getting this error :\r\nCaused by: org.codehaus.groovy.runtime.InvokerInvocationException: groovy.lang.MissingMethodException: No signature of method: java.lang.Integer.length() is applicable for argument types: () values: []\r\n\r\nReason:\r\ncom.kms.katalon.core.exception.StepErrorException: org.codehaus.groovy.runtime.InvokerInvocationException: groovy.lang.MissingMethodException: No signature of method: java.lang.Integer.length() is applicable for argument types: () values: []\r\nPossible solutions: next(), each(groovy.lang.Closure), getAt(java.lang.String), with(groovy.lang.Closure), signum(int), wait()\r\n\r\n\r\n\r\nplease advise !\r\n","title":"I need to tap on the mobile keyboard from a generated number","body":"<p>on Katalon I made this custom method :</p>\n<pre><code>def void enterPhoneNumber(a){\n    a = Integer.valueOf(a)\n    def ref = &quot;&quot;\n    int max = a.length()\n    for(int i=0; i&lt; max; i++){\n        ref = a.substring(i, i + 1)\n        switch (ref) {\n            case &quot;0&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 0' , GlobalVariable.avgWait);\n                break;\n            case &quot;1&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 1' , GlobalVariable.avgWait);\n                break;\n            case &quot;2&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 2' , GlobalVariable.avgWait);\n                break;\n            case &quot;3&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 4' , GlobalVariable.avgWait);\n                break;\n            case &quot;4&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 3' , GlobalVariable.avgWait);\n                break;\n            case &quot;5&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 5' , GlobalVariable.avgWait);\n                break;\n            case &quot;6&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 6' , GlobalVariable.avgWait);\n                break;\n            case &quot;7&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 7' , GlobalVariable.avgWait);\n                break;\n            case &quot;8&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 8' , GlobalVariable.avgWait);\n                break;\n            case &quot;9&quot;:\n                Mobile.tap('Object Repository/Onboarding/001-Startup page/001-Phone number fields/002-Numeric Keyboard/Button - 9' , GlobalVariable.avgWait);\n                break;\n            default:\n                break;\n        }\n    }}\n</code></pre>\n<p>but am getting this error :\nCaused by: org.codehaus.groovy.runtime.InvokerInvocationException: groovy.lang.MissingMethodException: No signature of method: java.lang.Integer.length() is applicable for argument types: () values: []</p>\n<p>Reason:\ncom.kms.katalon.core.exception.StepErrorException: org.codehaus.groovy.runtime.InvokerInvocationException: groovy.lang.MissingMethodException: No signature of method: java.lang.Integer.length() is applicable for argument types: () values: []\nPossible solutions: next(), each(groovy.lang.Closure), getAt(java.lang.String), with(groovy.lang.Closure), signum(int), wait()</p>\n<p>please advise !</p>\n"},{"tags":["java","bouncycastle","ecdsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1636099840,"post_id":69849968,"comment_id":123471314,"body_markdown":"You should be able to cast private and public key to `ECPrivateKey` and `ECPublicKey` respectively and then get the required parameters using `getD()` and `getQ()`.","body":"You should be able to cast private and public key to <code>ECPrivateKey</code> and <code>ECPublicKey</code> respectively and then get the required parameters using <code>getD()</code> and <code>getQ()</code>."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1636109479,"post_id":69849968,"comment_id":123474723,"body_markdown":"@Topaco: if you use the ones in `org.bouncycastle.jce.interfaces`; standard JCE is different. And `BigInteger` doesn&#39;t give you a fixed-size encoding, and even the X9.62 encoding from Bouncy `ECPoint` isn&#39;t _exactly_ right. However you can get the _signature_ in fixed format with Bouncy &#39;{hash}with{PLAIN-,CVC-}ECDSA&#39; _or_ SunEC 9+ &#39;{hash}withECDSAinP1363format&#39;. Michal: there are several existing Qs on getting &#39;raw&#39; keys _into_ JCE, but for getting them out the closest I can find are https://stackoverflow.com/questions/52299691/ and https://stackoverflow.com/questions/51347513/ .","body":"@Topaco: if you use the ones in <code>org.bouncycastle.jce.interfaces</code>; standard JCE is different. And <code>BigInteger</code> doesn&#39;t give you a fixed-size encoding, and even the X9.62 encoding from Bouncy <code>ECPoint</code> isn&#39;t <i>exactly</i> right. However you can get the <i>signature</i> in fixed format with Bouncy &#39;{hash}with{PLAIN-,CVC-}ECDSA&#39; <i>or</i> SunEC 9+ &#39;{hash}withECDSAinP1363format&#39;. Michal: there are several existing Qs on getting &#39;raw&#39; keys <i>into</i> JCE, but for getting them out the closest I can find are <a href=\"https://stackoverflow.com/questions/52299691/\">stackoverflow.com/questions/52299691</a> and <a href=\"https://stackoverflow.com/questions/51347513/\">stackoverflow.com/questions/51347513</a> ."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1636113064,"post_id":69849968,"comment_id":123475943,"body_markdown":"@dave_thompson_085 - I was referring to BouncyCastle (`getD()` and `getQ()` are used by BC), but thanks for the clarification. I made it clearer in my answer.","body":"@dave_thompson_085 - I was referring to BouncyCastle (<code>getD()</code> and <code>getQ()</code> are used by BC), but thanks for the clarification. I made it clearer in my answer."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636112920,"creation_date":1636112920,"answer_id":69852805,"question_id":69849968,"body_markdown":"The private key or the x and y coordinates of the public key can be determined with BouncyCastle via its implementations `ECPrivateKey` and `ECPublicKey`. With `getD()` the private and with `getQ()` the public key can be determined, e.g.:\r\n\r\n```java\r\nimport org.bouncycastle.jce.interfaces.ECPrivateKey;\r\nimport org.bouncycastle.jce.interfaces.ECPublicKey;\r\nimport org.bouncycastle.util.BigIntegers;\r\nimport org.bouncycastle.util.encoders.Hex;\r\n...\r\nECPublicKey publickKey = (ECPublicKey)vendorKeys.getPublic();\r\nECPrivateKey privateKey = (ECPrivateKey)vendorKeys.getPrivate();\r\nbyte[] rawPrivate = BigIntegers.asUnsignedByteArray(privateKey.getD());\r\nbyte[] x = publickKey.getQ().getAffineXCoord().getEncoded();\r\nbyte[] y = publickKey.getQ().getAffineYCoord().getEncoded();\t    \r\nbyte[] rawPublic = ByteBuffer.allocate(x.length + y.length).put(x).put(y).array();\r\n\r\nSystem.out.println(Hex.toHexString(rawPrivate));\r\nSystem.out.println(Hex.toHexString(rawPublic));\r\n```\r\n\r\nThe public key here for secp256r1 always has a length of 64 bytes. The private key is 32 bytes in size, but can also be smaller.\r\n\r\n------------\r\n\r\ndave_thompson_085 has pointed out the built-in Java implementations for `ECPublicKey` and `ECPrivateKey` in his comment (`java.security.interfaces`). Here the corresponding methods for the private and public key are `getS()` and `getW()`, respectively.&lt;br&gt;\r\nThis implementation does not automatically pad with leading 0x00 values in the case of an x or y smaller than 32 bytes, so this must be done manually. Therefore, the BouncyCastle approach is probably more convenient for you, also because you already use BouncyCastle.\r\n","title":"Get raw keys from Bouncy Castle Java","body":"<p>The private key or the x and y coordinates of the public key can be determined with BouncyCastle via its implementations <code>ECPrivateKey</code> and <code>ECPublicKey</code>. With <code>getD()</code> the private and with <code>getQ()</code> the public key can be determined, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.jce.interfaces.ECPrivateKey;\nimport org.bouncycastle.jce.interfaces.ECPublicKey;\nimport org.bouncycastle.util.BigIntegers;\nimport org.bouncycastle.util.encoders.Hex;\n...\nECPublicKey publickKey = (ECPublicKey)vendorKeys.getPublic();\nECPrivateKey privateKey = (ECPrivateKey)vendorKeys.getPrivate();\nbyte[] rawPrivate = BigIntegers.asUnsignedByteArray(privateKey.getD());\nbyte[] x = publickKey.getQ().getAffineXCoord().getEncoded();\nbyte[] y = publickKey.getQ().getAffineYCoord().getEncoded();        \nbyte[] rawPublic = ByteBuffer.allocate(x.length + y.length).put(x).put(y).array();\n\nSystem.out.println(Hex.toHexString(rawPrivate));\nSystem.out.println(Hex.toHexString(rawPublic));\n</code></pre>\n<p>The public key here for secp256r1 always has a length of 64 bytes. The private key is 32 bytes in size, but can also be smaller.</p>\n<hr />\n<p>dave_thompson_085 has pointed out the built-in Java implementations for <code>ECPublicKey</code> and <code>ECPrivateKey</code> in his comment (<code>java.security.interfaces</code>). Here the corresponding methods for the private and public key are <code>getS()</code> and <code>getW()</code>, respectively.<br>\nThis implementation does not automatically pad with leading 0x00 values in the case of an x or y smaller than 32 bytes, so this must be done manually. Therefore, the BouncyCastle approach is probably more convenient for you, also because you already use BouncyCastle.</p>\n"}],"owner":{"account_id":8376739,"reputation":701,"user_id":6290005,"accept_rate":100,"display_name":"Michał"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69852805,"answer_count":1,"score":2,"last_activity_date":1636112920,"creation_date":1636098414,"question_id":69849968,"body_markdown":"I am working with both C and Java implementations for ECDSA. C implementation is using raw formats - 32-byte private key, 64-byte public key, 64-byte signature.\r\n\r\nI am creating keys in Java using Bouncy Castle:\r\n```\r\n\tpublic static KeyPair GenerateKeys() throws NoSuchAlgorithmException,\r\n\t\tNoSuchProviderException, InvalidAlgorithmParameterException {\r\n\t\tECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\r\n\t\tKeyPairGenerator g = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\r\n\r\n\t\tg.initialize(ecSpec, new SecureRandom());\r\n\r\n\t\treturn g.generateKeyPair();\r\n\t}\r\n```\r\n\r\nand want to store them as byte arrays, as I need to export them to my C application later on. I noticed that:\r\n\r\n```\r\n\t\tKeyPair vendorKeys = GenerateKeys();\r\n\t\tfor (byte byt : vendorKeys.getPublic().getEncoded()) {\r\n\t\t\tSystem.out.println(&quot;byt: &quot; +  byt);\r\n\t\t}\r\n```\r\n\r\nwill return bytes of Public key, but length is wrong. I guess it is related to format which is `X.509` for PublicKey and `PKCS#8` for private. Looking for help I found out that there are some classes in Java like `PKCS8EncodedKeySpec` which should help me get raw key, but wasn&#39;t able to figure out how to do it.","title":"Get raw keys from Bouncy Castle Java","body":"<p>I am working with both C and Java implementations for ECDSA. C implementation is using raw formats - 32-byte private key, 64-byte public key, 64-byte signature.</p>\n<p>I am creating keys in Java using Bouncy Castle:</p>\n<pre><code>    public static KeyPair GenerateKeys() throws NoSuchAlgorithmException,\n        NoSuchProviderException, InvalidAlgorithmParameterException {\n        ECParameterSpec ecSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\n        KeyPairGenerator g = KeyPairGenerator.getInstance(&quot;ECDSA&quot;, &quot;BC&quot;);\n\n        g.initialize(ecSpec, new SecureRandom());\n\n        return g.generateKeyPair();\n    }\n</code></pre>\n<p>and want to store them as byte arrays, as I need to export them to my C application later on. I noticed that:</p>\n<pre><code>        KeyPair vendorKeys = GenerateKeys();\n        for (byte byt : vendorKeys.getPublic().getEncoded()) {\n            System.out.println(&quot;byt: &quot; +  byt);\n        }\n</code></pre>\n<p>will return bytes of Public key, but length is wrong. I guess it is related to format which is <code>X.509</code> for PublicKey and <code>PKCS#8</code> for private. Looking for help I found out that there are some classes in Java like <code>PKCS8EncodedKeySpec</code> which should help me get raw key, but wasn't able to figure out how to do it.</p>\n"},{"tags":["java","android","xamarin"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556264815,"post_id":55862934,"comment_id":98386354,"body_markdown":"Do all validation inside `onBindViewHolder()` not inside `onCreateViewHolder`. `holder.getAdapterPosition` will return -1 inside `onCreateViewHolder` because You have just created it .","body":"Do all validation inside <code>onBindViewHolder()</code> not inside <code>onCreateViewHolder</code>. <code>holder.getAdapterPosition</code> will return -1 inside <code>onCreateViewHolder</code> because You have just created it ."},{"owner":{"account_id":14315963,"reputation":157,"user_id":10340745,"display_name":"Dhi"},"score":0,"creation_date":1556264944,"post_id":55862934,"comment_id":98386420,"body_markdown":"Thank you Adm. but isn&#39;t useless to repeat color in each row? When the color of my rows is  standard?","body":"Thank you Adm. but isn&#39;t useless to repeat color in each row? When the color of my rows is  standard?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556265052,"post_id":55862934,"comment_id":98386465,"body_markdown":"`@Override\n    public void onBindViewHolder(ViewHolder  holder, int position) {\n        if(position % 2 ==0) {\n            mView .setBackgroundColor(ContextCompat.getColor(this, R.color.color_red));\n        } else {\n            mView.setBackgroundColor(ContextCompat.getColor(this, R.color.color_green));\n        }\n    }`","body":"<code>@Override     public void onBindViewHolder(ViewHolder  holder, int position) {         if(position % 2 ==0) {             mView .setBackgroundColor(ContextCompat.getColor(this, R.color.color_red));         } else {             mView.setBackgroundColor(ContextCompat.getColor(this, R.color.color_green));         }     }</code>"},{"owner":{"account_id":12638560,"reputation":956,"user_id":9186913,"display_name":"raj kavadia"},"score":0,"creation_date":1556265070,"post_id":55862934,"comment_id":98386472,"body_markdown":"i think problem is in the getitemcount() method of holder check it properly.","body":"i think problem is in the getitemcount() method of holder check it properly."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556265105,"post_id":55862934,"comment_id":98386487,"body_markdown":"Your code will look like above .. And i did not get what you have just asked .","body":"Your code will look like above .. And i did not get what you have just asked ."},{"owner":{"account_id":14315963,"reputation":157,"user_id":10340745,"display_name":"Dhi"},"score":0,"creation_date":1556265200,"post_id":55862934,"comment_id":98386532,"body_markdown":"onBindViewHolder it will repeat my background Color, on every scroll right? Why to do that when i know the standar color of all my rows? Isn&#39;t it better to set them while they are create? Or there is not way to do that?","body":"onBindViewHolder it will repeat my background Color, on every scroll right? Why to do that when i know the standar color of all my rows? Isn&#39;t it better to set them while they are create? Or there is not way to do that?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556266201,"post_id":55862934,"comment_id":98387009,"body_markdown":"You are setting color as per Even Odd row . And  Since you are using only one view type so you have to do this in `onBindViewHolder`.","body":"You are setting color as per Even Odd row . And  Since you are using only one view type so you have to do this in <code>onBindViewHolder</code>."}],"answers":[{"tags":[],"owner":{"account_id":1771660,"reputation":8667,"user_id":1616317,"display_name":"karan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556264729,"creation_date":1556264729,"answer_id":55863033,"question_id":55862934,"body_markdown":"You can set color to the view that you have inflated. \r\n\r\n    View mView = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\r\n    ViewHolder holder= new ViewHolder(mView);\r\n    if(holder.getAdapterPosition % 2 ==0) {\r\n        mView .setBackgroundColor(ContextCompat.getColor(this, R.color.color_red));\r\n    } else {\r\n        mView.setBackgroundColor(ContextCompat.getColor(this, R.color.color_green));\r\n    }\r\n\r\n","title":"RecyclerView onCreateViewHolder position background Color","body":"<p>You can set color to the view that you have inflated. </p>\n\n<pre><code>View mView = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\nViewHolder holder= new ViewHolder(mView);\nif(holder.getAdapterPosition % 2 ==0) {\n    mView .setBackgroundColor(ContextCompat.getColor(this, R.color.color_red));\n} else {\n    mView.setBackgroundColor(ContextCompat.getColor(this, R.color.color_green));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318900,"reputation":76,"user_id":4242870,"display_name":"VIKAS SHARMA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636112912,"creation_date":1556266310,"answer_id":55863436,"question_id":55862934,"body_markdown":" \r\nAccording to ideal solution you should write this code in onBindViewHolder to use &quot;getAdapterPosition&quot;.\r\n\r\nif you want only different background Color of row in onCreateViewHolder than you can try this,This will give you one red color row and one other color row continuously.\r\n\r\nyou need to create a global variable.\r\n```java\r\nboolean Manual_color = true;\r\n\r\n@Override\r\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n\r\n    View mView = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\r\n    ViewHolder holder= new ViewHolder(mView);\r\n    if(Manual_color)\r\n    {\r\n       //Row BackgroundColor to red.\r\n       Manual_color = false;\r\n    }\r\n    else\r\n    {\r\n      //Row BackgroundColor to Green.\r\n      Manual_color = true;\r\n    }\r\n    return holder;\r\n}\r\n```","title":"RecyclerView onCreateViewHolder position background Color","body":"<p>According to ideal solution you should write this code in onBindViewHolder to use &quot;getAdapterPosition&quot;.</p>\n<p>if you want only different background Color of row in onCreateViewHolder than you can try this,This will give you one red color row and one other color row continuously.</p>\n<p>you need to create a global variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean Manual_color = true;\n\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n\n    View mView = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\n    ViewHolder holder= new ViewHolder(mView);\n    if(Manual_color)\n    {\n       //Row BackgroundColor to red.\n       Manual_color = false;\n    }\n    else\n    {\n      //Row BackgroundColor to Green.\n      Manual_color = true;\n    }\n    return holder;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3531756,"reputation":1299,"user_id":2951088,"display_name":"JiajiaGu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556266381,"creation_date":1556266381,"answer_id":55863460,"question_id":55862934,"body_markdown":"Try this:\r\n\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n        if(position % 2 ==0) {\r\n            holder.itemView.setBackgroundColor(\r\n                    ContextCompat.getColor(holder.itemView.getContext(), R.color.color_red));\r\n        } else {\r\n            holder.itemView.setBackgroundColor(\r\n                    ContextCompat.getColor(holder.itemView.getContext(), R.color.color_green)); \r\n        }\r\n    }\r\n","title":"RecyclerView onCreateViewHolder position background Color","body":"<p>Try this:</p>\n\n<pre><code>@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n    View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n    if(position % 2 ==0) {\n        holder.itemView.setBackgroundColor(\n                ContextCompat.getColor(holder.itemView.getContext(), R.color.color_red));\n    } else {\n        holder.itemView.setBackgroundColor(\n                ContextCompat.getColor(holder.itemView.getContext(), R.color.color_green)); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14315963,"reputation":157,"user_id":10340745,"display_name":"Dhi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55863436,"answer_count":3,"score":0,"last_activity_date":1636112912,"creation_date":1556264359,"question_id":55862934,"body_markdown":"I need to set  background color inside ` onCreateViewHolder`. \r\nSo, when my `position` is equal to` position % 2 == 0 ` then set a background Color, else to set another Color.\r\nMy background color is standard from all of my rows, that&#39;s why i thought to use it inside `onCreateViewHolder` and not `onBindViewHolder`. Correct me if i am wrong. The problem is that when i am using `holder.getAdapterPosition` inside `onCreateViewHolder` it returns `&#39;-1&#39;`. It seems normal to me. But how can i fix that?\r\n\r\n      @Override\r\n      public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n    \r\n\r\n        View mView = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\r\n        ViewHolder holder= new ViewHolder(mView);\r\n        if(holder.getAdapterPosition % 2 ==0)\r\n        {\r\n           //Row BackgroundColor to red.\r\n        }\r\n        else\r\n        {\r\n          //Row BackgroundColor to Green.\r\n        }\r\n        return holder;\r\n\r\n}\r\n\r\n\r\nSo when i use the code above i am getting exception that it is index out of bound.\r\nIs there any way to fix ?\r\n\r\n    \r\n","title":"RecyclerView onCreateViewHolder position background Color","body":"<p>I need to set  background color inside <code>onCreateViewHolder</code>. \nSo, when my <code>position</code> is equal to<code>position % 2 == 0</code> then set a background Color, else to set another Color.\nMy background color is standard from all of my rows, that's why i thought to use it inside <code>onCreateViewHolder</code> and not <code>onBindViewHolder</code>. Correct me if i am wrong. The problem is that when i am using <code>holder.getAdapterPosition</code> inside <code>onCreateViewHolder</code> it returns <code>'-1'</code>. It seems normal to me. But how can i fix that?</p>\n\n<pre><code>  @Override\n  public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n\n\n    View mView = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.inflate_common_item, viewGroup, false);\n    ViewHolder holder= new ViewHolder(mView);\n    if(holder.getAdapterPosition % 2 ==0)\n    {\n       //Row BackgroundColor to red.\n    }\n    else\n    {\n      //Row BackgroundColor to Green.\n    }\n    return holder;\n</code></pre>\n\n<p>}</p>\n\n<p>So when i use the code above i am getting exception that it is index out of bound.\nIs there any way to fix ?</p>\n"},{"tags":["java","spring-webflux","spring-hateoas"],"answers":[{"tags":[],"owner":{"account_id":20026642,"reputation":1,"user_id":14680323,"display_name":"gilrea liang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627282739,"creation_date":1627282739,"answer_id":68525651,"question_id":67354166,"body_markdown":"try to set spring.main.web-application-type=reactive","title":"Doesn&#39;t show me absolute path when I use webflux and hateoas","body":"<p>try to set spring.main.web-application-type=reactive</p>\n"}],"owner":{"account_id":21462882,"reputation":11,"user_id":15813293,"display_name":"ByteTouch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636112858,"creation_date":1619942562,"question_id":67354166,"body_markdown":"I&#39;m reading *spring in action 5th* and learning spring-cloud, hateoas and webflux.I tried to write a rest controller as following\r\n\r\n```\r\nimport static org.springframework.hateoas.server.reactive.WebFluxLinkBuilder.*;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;/&quot;)\r\npublic class ServiceController {  \r\n    \r\n    private IngredientServiceClient ingredientClient;\r\n\r\n    @Autowired\r\n    public ServiceController(IngredientServiceClient ingredientClient) {\r\n        this.ingredientClient = ingredientClient;\r\n    }\r\n\r\n    @GetMapping(&quot;/ingredients/{id}&quot;)\r\n    public Mono&lt;EntityModel&lt;Ingredient&gt;&gt; getIngredientById(@PathVariable(&quot;id&quot;) String id) {\r\n        return ingredientClient.getIngredientById(id)\r\n            .flatMap(ingredient -&gt; {\r\n                EntityModel&lt;Ingredient&gt; model = EntityModel.of(ingredient);\r\n                Mono&lt;Link&gt; link = linkTo(methodOn(ServiceController.class).getIngredientById(id)).withSelfRel().toMono();\r\n                return link.map(lk -&gt; model.add(lk));\r\n            });\r\n    }\r\n}\r\n```\r\nIngredientServiceClient.getIngredientById\r\n```\r\n    public Mono&lt;Ingredient&gt; getIngredientById(String id) {\r\n        return wcBuilder.build()\r\n                .get().uri(&quot;http://ingredient-api/ingredients/{id}&quot;, id)\r\n                .retrieve().bodyToMono(Ingredient.class);\r\n    }\r\n```\r\nWhen I access to `localhost:8082/ingredients/FLTO` a node of my webapp, it shows me only the relative path like this\r\n```\r\n{\r\n  &quot;id&quot;: &quot;FLTO&quot;,\r\n  &quot;name&quot;: &quot;Flour Tortilla&quot;,\r\n  &quot;type&quot;: &quot;WRAP&quot;,\r\n  &quot;_links&quot;: {\r\n    &quot;self&quot;: {\r\n      &quot;href&quot;: &quot;/ingredients/FLTO&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nI&#39;ve tried the `WebMvcLinkBuilder` but it still did not work correctly. I found [some explanations](https://gitter.im/spring-projects/spring-hateoas?at=5eac7fab5cd4fe50a3e3d568) about my problem. But I&#39;m not sure whether the context/exchange was null (and why). Could you help me? ","title":"Doesn&#39;t show me absolute path when I use webflux and hateoas","body":"<p>I'm reading <em>spring in action 5th</em> and learning spring-cloud, hateoas and webflux.I tried to write a rest controller as following</p>\n<pre><code>import static org.springframework.hateoas.server.reactive.WebFluxLinkBuilder.*;\n\n@RestController\n@RequestMapping(path = &quot;/&quot;)\npublic class ServiceController {  \n    \n    private IngredientServiceClient ingredientClient;\n\n    @Autowired\n    public ServiceController(IngredientServiceClient ingredientClient) {\n        this.ingredientClient = ingredientClient;\n    }\n\n    @GetMapping(&quot;/ingredients/{id}&quot;)\n    public Mono&lt;EntityModel&lt;Ingredient&gt;&gt; getIngredientById(@PathVariable(&quot;id&quot;) String id) {\n        return ingredientClient.getIngredientById(id)\n            .flatMap(ingredient -&gt; {\n                EntityModel&lt;Ingredient&gt; model = EntityModel.of(ingredient);\n                Mono&lt;Link&gt; link = linkTo(methodOn(ServiceController.class).getIngredientById(id)).withSelfRel().toMono();\n                return link.map(lk -&gt; model.add(lk));\n            });\n    }\n}\n</code></pre>\n<p>IngredientServiceClient.getIngredientById</p>\n<pre><code>    public Mono&lt;Ingredient&gt; getIngredientById(String id) {\n        return wcBuilder.build()\n                .get().uri(&quot;http://ingredient-api/ingredients/{id}&quot;, id)\n                .retrieve().bodyToMono(Ingredient.class);\n    }\n</code></pre>\n<p>When I access to <code>localhost:8082/ingredients/FLTO</code> a node of my webapp, it shows me only the relative path like this</p>\n<pre><code>{\n  &quot;id&quot;: &quot;FLTO&quot;,\n  &quot;name&quot;: &quot;Flour Tortilla&quot;,\n  &quot;type&quot;: &quot;WRAP&quot;,\n  &quot;_links&quot;: {\n    &quot;self&quot;: {\n      &quot;href&quot;: &quot;/ingredients/FLTO&quot;\n    }\n  }\n}\n</code></pre>\n<p>I've tried the <code>WebMvcLinkBuilder</code> but it still did not work correctly. I found <a href=\"https://gitter.im/spring-projects/spring-hateoas?at=5eac7fab5cd4fe50a3e3d568\" rel=\"nofollow noreferrer\">some explanations</a> about my problem. But I'm not sure whether the context/exchange was null (and why). Could you help me?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1636112271,"post_id":69852600,"comment_id":123475671,"body_markdown":"Please post your code as text, not as images. Also post the entire execution command that you&#39;re using, because the error is clearly saying you&#39;re trying to run the `Main` class when you should be running the `Second` class.","body":"Please post your code as text, not as images. Also post the entire execution command that you&#39;re using, because the error is clearly saying you&#39;re trying to run the <code>Main</code> class when you should be running the <code>Second</code> class."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636207280,"post_id":69852600,"comment_id":123497356,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636112732,"creation_date":1636112732,"answer_id":69852768,"question_id":69852600,"body_markdown":"Running test from `Second` class will fix your issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bh8hk.png","title":"I cannot use multiple classes in IntelliJ","body":"<p>Running test from <code>Second</code> class will fix your issue.</p>\n<p><a href=\"https://i.stack.imgur.com/Bh8hk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bh8hk.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23247524,"reputation":1,"user_id":17335893,"display_name":"AndreiSlaShh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1636112732,"creation_date":1636111992,"question_id":69852600,"body_markdown":"I recently started learning Java from w3schools and I am using IntelliJ. Right now I&#39;ve just begun learning OOP and I wanted to test one example from the w3schools tutorial inside IntelliJ, using multiple classes. So we have two classes, Main and Second , and we have to use the object x from class Main inside the class second, [like in the tutorial][1] , but when I try to run, i have this Error: Main method not found in class com.company.Main, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n\r\nBelow you can see the [Main][2] and the [Second][3] class. Any information would be useful. Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G0OMU.png\r\n  [2]: https://i.stack.imgur.com/6OR99.png\r\n  [3]: https://i.stack.imgur.com/RgAaF.png","title":"I cannot use multiple classes in IntelliJ","body":"<p>I recently started learning Java from w3schools and I am using IntelliJ. Right now I've just begun learning OOP and I wanted to test one example from the w3schools tutorial inside IntelliJ, using multiple classes. So we have two classes, Main and Second , and we have to use the object x from class Main inside the class second, <a href=\"https://i.stack.imgur.com/G0OMU.png\" rel=\"nofollow noreferrer\">like in the tutorial</a> , but when I try to run, i have this Error: Main method not found in class com.company.Main, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application</p>\n<p>Below you can see the <a href=\"https://i.stack.imgur.com/6OR99.png\" rel=\"nofollow noreferrer\">Main</a> and the <a href=\"https://i.stack.imgur.com/RgAaF.png\" rel=\"nofollow noreferrer\">Second</a> class. Any information would be useful. Thank you.</p>\n"},{"tags":["java","multithreading","api","rest","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636112207,"creation_date":1636112207,"answer_id":69852649,"question_id":69850019,"body_markdown":"OkHttpClient objects are safe for concurrent use. This is exactly what you&#39;re supposed to do.\r\n\r\nhttps://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/#okhttpclients-should-be-shared\r\n\r\n&gt; ### OkHttpClients Should Be Shared\r\n&gt;\r\n&gt; OkHttp performs best when you create a single OkHttpClient instance and reuse it for all of your HTTP calls. This is because each client holds its own connection pool and thread pools. Reusing connections and threads reduces latency and saves memory. Conversely, creating a client for each request wastes resources on idle pools.","title":"OKHTTP Singleton object to handle different API calls in a multi-threaded system","body":"<p>OkHttpClient objects are safe for concurrent use. This is exactly what you're supposed to do.</p>\n<p><a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/#okhttpclients-should-be-shared\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/#okhttpclients-should-be-shared</a></p>\n<blockquote>\n<h3>OkHttpClients Should Be Shared</h3>\n<p>OkHttp performs best when you create a single OkHttpClient instance and reuse it for all of your HTTP calls. This is because each client holds its own connection pool and thread pools. Reusing connections and threads reduces latency and saves memory. Conversely, creating a client for each request wastes resources on idle pools.</p>\n</blockquote>\n"}],"owner":{"account_id":11075112,"reputation":89,"user_id":11310230,"display_name":"Zohaib ZJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636112207,"creation_date":1636098795,"question_id":69850019,"body_markdown":"I&#39;ve a multi-threaded application which has multiple different API calls for different purposes. My question is if I make a singleton object of OKHTTP and multiple threads try to make the API call at the same time with different endpoints, Will it cause any problem for me or not?\r\nOr should I use the singleton object for same endpoints?","title":"OKHTTP Singleton object to handle different API calls in a multi-threaded system","body":"<p>I've a multi-threaded application which has multiple different API calls for different purposes. My question is if I make a singleton object of OKHTTP and multiple threads try to make the API call at the same time with different endpoints, Will it cause any problem for me or not?\nOr should I use the singleton object for same endpoints?</p>\n"},{"tags":["java","csv","apache-spark","parquet","spark-csv"],"comments":[{"owner":{"account_id":2638897,"reputation":7820,"user_id":2282988,"accept_rate":50,"display_name":"Sandeep Singh"},"score":0,"creation_date":1491898955,"post_id":43340080,"comment_id":73744002,"body_markdown":"Which version of spark you are using ?","body":"Which version of spark you are using ?"},{"owner":{"account_id":5803269,"reputation":1008,"user_id":4576795,"display_name":"Sanchit Grover"},"score":0,"creation_date":1491899174,"post_id":43340080,"comment_id":73744171,"body_markdown":"Can you try to do : df.show and see if that works?","body":"Can you try to do : df.show and see if that works?"},{"owner":{"account_id":7334545,"reputation":870,"user_id":5586390,"accept_rate":79,"display_name":"br0ken.pipe"},"score":0,"creation_date":1491899205,"post_id":43340080,"comment_id":73744195,"body_markdown":"Spark 2.1.0 built for Hadoop 2.7.3. And all pom-dependency versions are adjusted to 2.1.0","body":"Spark 2.1.0 built for Hadoop 2.7.3. And all pom-dependency versions are adjusted to 2.1.0"},{"owner":{"account_id":7334545,"reputation":870,"user_id":5586390,"accept_rate":79,"display_name":"br0ken.pipe"},"score":0,"creation_date":1491899312,"post_id":43340080,"comment_id":73744260,"body_markdown":"yes, df.show() shows me the top 20 records.","body":"yes, df.show() shows me the top 20 records."},{"owner":{"account_id":2638897,"reputation":7820,"user_id":2282988,"accept_rate":50,"display_name":"Sandeep Singh"},"score":1,"creation_date":1491899519,"post_id":43340080,"comment_id":73744392,"body_markdown":"try `df.printSchema()`. If you are getting the schema then try with `df.write.parque`. If you are not getting schema then you need to register your `df` as temporary table by supplying schema name.","body":"try <code>df.printSchema()</code>. If you are getting the schema then try with <code>df.write.parque</code>. If you are not getting schema then you need to register your <code>df</code> as temporary table by supplying schema name."},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1491903021,"post_id":43340080,"comment_id":73747070,"body_markdown":"Side note: with Spark 2.x you don&#39;t need Spark-CSV any more... the CSV format is supported natively: `spark.read.option(&quot;header&quot;,&quot;true&quot;).option(&quot;inferSchema&quot;,&quot;true&quot;).csv(&quot;sample.csv&quot;)`","body":"Side note: with Spark 2.x you don&#39;t need Spark-CSV any more... the CSV format is supported natively: <code>spark.read.option(&quot;header&quot;,&quot;true&quot;).option(&quot;inferSchema&quot;,&quot;tru&zwnj;&#8203;e&quot;).csv(&quot;sample.csv&quot;&zwnj;&#8203;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7334545,"reputation":870,"user_id":5586390,"accept_rate":79,"display_name":"br0ken.pipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491899884,"creation_date":1491899884,"answer_id":43340777,"question_id":43340080,"body_markdown":"I fixed it with a workaround. I had to comment out these two parquet dependencies, but i&#39;m not really sure why they get in each other&#39;s way:\r\n\r\n    &lt;!-- \t\t&lt;dependency&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;groupId&gt;org.apache.parquet&lt;/groupId&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;artifactId&gt;parquet-hadoop&lt;/artifactId&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;version&gt;1.9.0&lt;/version&gt; --&gt;\r\n    &lt;!-- \t\t&lt;/dependency&gt; --&gt;\r\n    \r\n    \r\n    &lt;!-- \t\t&lt;dependency&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;groupId&gt;org.apache.parquet&lt;/groupId&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;artifactId&gt;parquet-common&lt;/artifactId&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;version&gt;1.9.0&lt;/version&gt; --&gt;\r\n    &lt;!-- \t\t&lt;/dependency&gt; --&gt;","title":"Writing a Parquet file from a CSV file using Apache Spark in Java","body":"<p>I fixed it with a workaround. I had to comment out these two parquet dependencies, but i'm not really sure why they get in each other's way:</p>\n\n<pre><code>&lt;!--        &lt;dependency&gt; --&gt;\n&lt;!--            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt; --&gt;\n&lt;!--            &lt;artifactId&gt;parquet-hadoop&lt;/artifactId&gt; --&gt;\n&lt;!--            &lt;version&gt;1.9.0&lt;/version&gt; --&gt;\n&lt;!--        &lt;/dependency&gt; --&gt;\n\n\n&lt;!--        &lt;dependency&gt; --&gt;\n&lt;!--            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt; --&gt;\n&lt;!--            &lt;artifactId&gt;parquet-common&lt;/artifactId&gt; --&gt;\n&lt;!--            &lt;version&gt;1.9.0&lt;/version&gt; --&gt;\n&lt;!--        &lt;/dependency&gt; --&gt;\n</code></pre>\n"}],"owner":{"account_id":7334545,"reputation":870,"user_id":5586390,"accept_rate":79,"display_name":"br0ken.pipe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43340777,"answer_count":1,"score":0,"last_activity_date":1636111727,"creation_date":1491897778,"question_id":43340080,"body_markdown":"I would like to convert CSV to Parquet using spark-csv. \r\n\r\nReading the file and saving it as a dataset works. Unfortunately, I can&#39;t write it back as a Parquet file. Is there any way to achieve this?\r\n\r\n\r\n\t\r\n\tSparkSession spark = SparkSession.builder().appName(&quot;Java Spark SQL basic example&quot;)\r\n\t\t\t.config(&quot;spark.master&quot;, &quot;local&quot;).config(&quot;spark.sql.warehouse.dir&quot;, &quot;file:///C:\\\\spark_warehouse&quot;)\r\n\t\t\t.getOrCreate();\r\n\r\n\tDataset&lt;Row&gt; df = spark.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;inferSchema&quot;, &quot;true&quot;)\r\n\t\t\t.option(&quot;header&quot;, &quot;true&quot;).load(&quot;sample.csv&quot;);\r\n\r\n\tdf.write().parquet(&quot;test.parquet&quot;);\r\n\r\nException:\r\n\r\n    17/04/11 09:57:32 ERROR Executor: Exception in task 0.0 in stage 3.0\r\n    (TID 3) java.lang.NoSuchMethodError:\r\n     org.apache.parquet.column.ParquetProperties.builder()Lorg/apache/parquet/column/ParquetProperties$Builder;\r\n     \tat\r\n     org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:362)\r\n     \tat\r\n     org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:350)\r\n     \tat\r\n     org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.&lt;init&gt;(ParquetOutputWriter.scala:37)\r\n     \tat\r\n     org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$$anon$1.newInstance(ParquetFileFormat.scala:145)\r\n     \tat\r\n     org.apache.spark.sql.execution.datasources.FileFormatWriter$SingleDirectoryWriteTask.&lt;init&gt;(FileFormatWriter.scala:234)\r\n     \tat\r\n     org.apache.spark.sql.execution.datasources.FileFormatWriter$.org$apache$spark$sql$execution$datasources$FileFormatWriter$$executeTask(FileFormatWriter.scala:182)\r\n     \tat\r\n     org.apache.spark.sql.execution.datasources.FileFormatWriter$$anonfun$write$1$$anonfun$3.apply(FileFormatWriter.scala:129)\r\n     \tat\r\n     org.apache.spark.sql.execution.datasources.FileFormatWriter$$anonfun$write$1$$anonfun$3.apply(FileFormatWriter.scala:128)\r\n     \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\r\n     \tat org.apache.spark.scheduler.Task.run(Task.scala:99) \tat\r\n     org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:282)\r\n     \tat\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n     \tat\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n     \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n","title":"Writing a Parquet file from a CSV file using Apache Spark in Java","body":"<p>I would like to convert CSV to Parquet using spark-csv.</p>\n<p>Reading the file and saving it as a dataset works. Unfortunately, I can't write it back as a Parquet file. Is there any way to achieve this?</p>\n<pre><code>SparkSession spark = SparkSession.builder().appName(&quot;Java Spark SQL basic example&quot;)\n        .config(&quot;spark.master&quot;, &quot;local&quot;).config(&quot;spark.sql.warehouse.dir&quot;, &quot;file:///C:\\\\spark_warehouse&quot;)\n        .getOrCreate();\n\nDataset&lt;Row&gt; df = spark.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;inferSchema&quot;, &quot;true&quot;)\n        .option(&quot;header&quot;, &quot;true&quot;).load(&quot;sample.csv&quot;);\n\ndf.write().parquet(&quot;test.parquet&quot;);\n</code></pre>\n<p>Exception:</p>\n<pre><code>17/04/11 09:57:32 ERROR Executor: Exception in task 0.0 in stage 3.0\n(TID 3) java.lang.NoSuchMethodError:\n org.apache.parquet.column.ParquetProperties.builder()Lorg/apache/parquet/column/ParquetProperties$Builder;\n    at\n org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:362)\n    at\n org.apache.parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:350)\n    at\n org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.&lt;init&gt;(ParquetOutputWriter.scala:37)\n    at\n org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$$anon$1.newInstance(ParquetFileFormat.scala:145)\n    at\n org.apache.spark.sql.execution.datasources.FileFormatWriter$SingleDirectoryWriteTask.&lt;init&gt;(FileFormatWriter.scala:234)\n    at\n org.apache.spark.sql.execution.datasources.FileFormatWriter$.org$apache$spark$sql$execution$datasources$FileFormatWriter$$executeTask(FileFormatWriter.scala:182)\n    at\n org.apache.spark.sql.execution.datasources.FileFormatWriter$$anonfun$write$1$$anonfun$3.apply(FileFormatWriter.scala:129)\n    at\n org.apache.spark.sql.execution.datasources.FileFormatWriter$$anonfun$write$1$$anonfun$3.apply(FileFormatWriter.scala:128)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\n    at org.apache.spark.scheduler.Task.run(Task.scala:99)   at\n org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:282)\n    at\n java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","genexus"],"comments":[{"owner":{"account_id":547719,"reputation":140,"user_id":1607666,"display_name":"Sandro Magrinelli Vianna"},"score":1,"creation_date":1529372930,"post_id":50891595,"comment_id":88838989,"body_markdown":"In order to help you better, you should let us know which version of GeneXus you&#39;re using. What kind of object inspectionform is?","body":"In order to help you better, you should let us know which version of GeneXus you&#39;re using. What kind of object inspectionform is?"}],"answers":[{"tags":[],"owner":{"account_id":12018350,"reputation":1,"user_id":8792708,"display_name":"JLD64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529465109,"creation_date":1529465109,"answer_id":50939732,"question_id":50891595,"body_markdown":"I&#39;ve split it into smaller pieces, and that has resolved the issue.","title":"Java Error: &quot;code too large public void draw( )&quot;","body":"<p>I've split it into smaller pieces, and that has resolved the issue.</p>\n"}],"owner":{"account_id":12018350,"reputation":1,"user_id":8792708,"display_name":"JLD64"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636111692,"creation_date":1529181773,"question_id":50891595,"body_markdown":"When I attempt to run Developer Menu, I get the following error and warnings:\r\n````\r\nGeneXus Java Make v1.0\r\ncom\\alpharoovs\\inspectionform_impl.java:220: error: code too large\r\n   public void draw( )\r\n               ^\r\nNote: com\\alpharoovs\\inspectionform_impl.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: com\\alpharoovs\\inspectionform_impl.java uses unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n1 error\r\n\r\nfailed ( error code=1)\r\nBuild failed.\r\nDeveloperMenu Compilation for Default (Java Web) Failed\r\nRun Developer Menu Failed\r\n````\r\n\r\nAt this point, I&#39;m only interested in resolving the &quot;code too large&quot; error.","title":"Java Error: &quot;code too large public void draw( )&quot;","body":"<p>When I attempt to run Developer Menu, I get the following error and warnings:</p>\n<pre><code>GeneXus Java Make v1.0\ncom\\alpharoovs\\inspectionform_impl.java:220: error: code too large\n   public void draw( )\n               ^\nNote: com\\alpharoovs\\inspectionform_impl.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: com\\alpharoovs\\inspectionform_impl.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n1 error\n\nfailed ( error code=1)\nBuild failed.\nDeveloperMenu Compilation for Default (Java Web) Failed\nRun Developer Menu Failed\n</code></pre>\n<p>At this point, I'm only interested in resolving the &quot;code too large&quot; error.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux","thread-local"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1636029178,"post_id":69827097,"comment_id":123451741,"body_markdown":"Webflux might switch thread whenever it wants to so using thread local is not safe as the information in threadlocal might be lost at any time. It looks to me you are trying to implement a custom security context. Why implement something that already exists","body":"Webflux might switch thread whenever it wants to so using thread local is not safe as the information in threadlocal might be lost at any time. It looks to me you are trying to implement a custom security context. Why implement something that already exists"},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1636029971,"post_id":69827097,"comment_id":123452043,"body_markdown":"Yes, the thread pool in reactive flow messes it up. You might be right about reinventing the wheel here, but I&#39;m trying to understand how it would be in a reactive world. I just want to extract something from request headers and make it available to all the stack without passing it as parameter (I updated my post quoting it)","body":"Yes, the thread pool in reactive flow messes it up. You might be right about reinventing the wheel here, but I&#39;m trying to understand how it would be in a reactive world. I just want to extract something from request headers and make it available to all the stack without passing it as parameter (I updated my post quoting it)"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1636031335,"post_id":69827097,"comment_id":123452599,"body_markdown":"Then read the reactor reference documentation. What you are looking for is called the ”context” or ”reactive context”","body":"Then read the reactor reference documentation. What you are looking for is called the ”context” or ”reactive context”"}],"answers":[{"tags":[],"owner":{"account_id":9685706,"reputation":741,"user_id":7185610,"display_name":"Yauhen Balykin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636111493,"creation_date":1636111493,"answer_id":69852520,"question_id":69827097,"body_markdown":"So, better to use reactor context instead of ThreadLocal, here you can read about: https://projectreactor.io/docs/core/release/reference/#context ","title":"Thread Local remove() in Spring Boot webflux","body":"<p>So, better to use reactor context instead of ThreadLocal, here you can read about: <a href=\"https://projectreactor.io/docs/core/release/reference/#context\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#context</a></p>\n"}],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2086,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1636111493,"creation_date":1635951538,"question_id":69827097,"body_markdown":"I have a Web Filter that sets an object in a ThreadLocal attribute and I&#39;m trying to understand how/when this Thread local should be cleaned-up (ThreadLocal.remove()) to avoid the exception &quot;User context already initiated.&quot; that happens because it is being retrieved from the Spring Boot Thread Pool with the previous values set.\r\n\r\nI&#39;m using Spring Webflux.\r\n\r\nWhere can I hook this SecurityAuthorizationContext.clean() call?\r\n    \r\n    public class SecurityAuthorizationContext\r\n    {\r\n        private static final ThreadLocal&lt;PrivilegeHolder&gt; userContext = new ThreadLocal&lt;&gt;();\r\n    \r\n        private final List&lt;String&gt; roles;\r\n    \r\n        private SecurityAuthorizationContext(List&lt;String&gt; roles)\r\n        {\r\n            this.roles = roles;\r\n        }\r\n    \r\n        public static void create(List&lt;String&gt; roles)\r\n        {\r\n            if (nonNull(userContext.get()))\r\n            {\r\n                log.error(&quot;User context already initiated.&quot;);\r\n                throw new AuthorizationException(&quot;User context already initiated.&quot;);\r\n            }\r\n    \r\n            PrivilegeHolder privilegeHolder = new PrivilegeHolder();\r\n            userContext.set(privilegeHolder);\r\n    \r\n            // example of privileges retrieved from database by the user roles\r\n            privilegeHolder.add(INSERT);\r\n            privilegeHolder.add(DELETE);\r\n        }\r\n    \r\n        public static void clean()\r\n        {\r\n            userContext.remove();\r\n        }\r\n\r\n        public static boolean hasInsertPrivilege()\r\n        {\r\n            return userContext.get().hasPrivilege(INSERT);\r\n        }\r\n\r\n        public static boolean hasDeletePrivilege()\r\n        {\r\n            return userContext.get().hasPrivilege(DELETE);\r\n        } \r\n    }\r\n\r\n---\r\n\r\n    public class AuthorizationFilter implements OrderedWebFilter\r\n    {\r\n        private static final String USER_ROLES = &quot;user-roles&quot;;\r\n    \r\n        @Override\r\n        public int getOrder()\r\n        {\r\n            return SecurityWebFiltersOrder.AUTHORIZATION.getOrder();\r\n        }\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain)\r\n        {\r\n            ServerHttpRequest request = serverWebExchange.getRequest();\r\n            HttpHeaders headers = request.getHeaders();\r\n    \r\n            List&lt;String&gt; roles = headers.get(USER_ROLES);\r\n    \r\n            SecurityAuthorizationContext.create(roles);\r\n    \r\n            return webFilterChain.filter(serverWebExchange);\r\n        }        \r\n    }\r\n\r\n---\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    @EnableTransactionManagement\r\n    public class ApplicationConfiguration\r\n    {    \r\n        @Autowired\r\n        private AuthorizationFilter authorizationFilter;\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http)\r\n        {\r\n            return http\r\n                .csrf().disable()\r\n                .authorizeExchange()\r\n                .pathMatchers(&quot;/**&quot;).permitAll()\r\n                .and()\r\n                .addFilterAt(authorizationFilter, AUTHORIZATION)\r\n                .build();\r\n        }    \r\n    }\r\n\r\n---\r\n\r\n**UPDATE**: Long story short ...  I just want to extract something from request headers and make it available to all the stack without passing it as parameter.","title":"Thread Local remove() in Spring Boot webflux","body":"<p>I have a Web Filter that sets an object in a ThreadLocal attribute and I'm trying to understand how/when this Thread local should be cleaned-up (ThreadLocal.remove()) to avoid the exception &quot;User context already initiated.&quot; that happens because it is being retrieved from the Spring Boot Thread Pool with the previous values set.</p>\n<p>I'm using Spring Webflux.</p>\n<p>Where can I hook this SecurityAuthorizationContext.clean() call?</p>\n<pre><code>public class SecurityAuthorizationContext\n{\n    private static final ThreadLocal&lt;PrivilegeHolder&gt; userContext = new ThreadLocal&lt;&gt;();\n\n    private final List&lt;String&gt; roles;\n\n    private SecurityAuthorizationContext(List&lt;String&gt; roles)\n    {\n        this.roles = roles;\n    }\n\n    public static void create(List&lt;String&gt; roles)\n    {\n        if (nonNull(userContext.get()))\n        {\n            log.error(&quot;User context already initiated.&quot;);\n            throw new AuthorizationException(&quot;User context already initiated.&quot;);\n        }\n\n        PrivilegeHolder privilegeHolder = new PrivilegeHolder();\n        userContext.set(privilegeHolder);\n\n        // example of privileges retrieved from database by the user roles\n        privilegeHolder.add(INSERT);\n        privilegeHolder.add(DELETE);\n    }\n\n    public static void clean()\n    {\n        userContext.remove();\n    }\n\n    public static boolean hasInsertPrivilege()\n    {\n        return userContext.get().hasPrivilege(INSERT);\n    }\n\n    public static boolean hasDeletePrivilege()\n    {\n        return userContext.get().hasPrivilege(DELETE);\n    } \n}\n</code></pre>\n<hr />\n<pre><code>public class AuthorizationFilter implements OrderedWebFilter\n{\n    private static final String USER_ROLES = &quot;user-roles&quot;;\n\n    @Override\n    public int getOrder()\n    {\n        return SecurityWebFiltersOrder.AUTHORIZATION.getOrder();\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain)\n    {\n        ServerHttpRequest request = serverWebExchange.getRequest();\n        HttpHeaders headers = request.getHeaders();\n\n        List&lt;String&gt; roles = headers.get(USER_ROLES);\n\n        SecurityAuthorizationContext.create(roles);\n\n        return webFilterChain.filter(serverWebExchange);\n    }        \n}\n</code></pre>\n<hr />\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableTransactionManagement\npublic class ApplicationConfiguration\n{    \n    @Autowired\n    private AuthorizationFilter authorizationFilter;\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http)\n    {\n        return http\n            .csrf().disable()\n            .authorizeExchange()\n            .pathMatchers(&quot;/**&quot;).permitAll()\n            .and()\n            .addFilterAt(authorizationFilter, AUTHORIZATION)\n            .build();\n    }    \n}\n</code></pre>\n<hr />\n<p><strong>UPDATE</strong>: Long story short ...  I just want to extract something from request headers and make it available to all the stack without passing it as parameter.</p>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636111490,"creation_date":1636111490,"answer_id":69852519,"question_id":69852430,"body_markdown":"If you want to process all strings in way that they are at most 2 digits long, you can use the following approach. \r\n\r\nIt uses [streams][1] instead of a loop, which is more elegant solution, because it uses less lines of code to solve the same problem as a loop, without sacrificing code readability.\r\n\r\n```\r\n// ... contains a list like &#39;95&#39;,&#39;764&#39;, etc .. \r\n// getListOfStrings() is the method, which wraps  hParamsRecherche.get\r\nvar stringsToCut = getListOfString()\r\n\r\n// The result variable now contains the list of strings, which are at most 2 digits long\r\nvar result = stringsToCut.stream\r\n.map(s -&gt; s.length() &lt;= 2 ? s :s.substring(0,2))\r\n.collect(Collectors.toList())\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-8-streams-introduction","title":"Use substring for every element of Hashtable JSP","body":"<p>If you want to process all strings in way that they are at most 2 digits long, you can use the following approach.</p>\n<p>It uses <a href=\"https://www.baeldung.com/java-8-streams-introduction\" rel=\"nofollow noreferrer\">streams</a> instead of a loop, which is more elegant solution, because it uses less lines of code to solve the same problem as a loop, without sacrificing code readability.</p>\n<pre><code>// ... contains a list like '95','764', etc .. \n// getListOfStrings() is the method, which wraps  hParamsRecherche.get\nvar stringsToCut = getListOfString()\n\n// The result variable now contains the list of strings, which are at most 2 digits long\nvar result = stringsToCut.stream\n.map(s -&gt; s.length() &lt;= 2 ? s :s.substring(0,2))\n.collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":21665106,"reputation":19,"user_id":15983639,"display_name":"Zed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636111490,"creation_date":1636111081,"question_id":69852430,"body_markdown":"I&#39;m working on my first project in JSP. I have a istance of Hashtable (hParamsRecherche) that get some values from a form. \r\n\r\nI have to substring every element of this Hashtable :\r\n\r\n     hParamsRecherche.get(&quot;INVERSE_GEO&quot;).toString()\r\n\r\nThat contains values like:\r\n\r\n    &#39;95&#39;,&#39;14&#39;,&#39;300&#39;,&#39;165&#39;\r\n\r\nI have to substring all the element that have a length bigger than 2 char, et take the first two number.\r\n\r\n        &#39;95&#39;,&#39;14&#39;,&#39;30&#39;,&#39;16&#39;\r\nI think that i have to do this with a loop, but i m open to others suggestions ! Thank you !\r\n","title":"Use substring for every element of Hashtable JSP","body":"<p>I'm working on my first project in JSP. I have a istance of Hashtable (hParamsRecherche) that get some values from a form.</p>\n<p>I have to substring every element of this Hashtable :</p>\n<pre><code> hParamsRecherche.get(&quot;INVERSE_GEO&quot;).toString()\n</code></pre>\n<p>That contains values like:</p>\n<pre><code>'95','14','300','165'\n</code></pre>\n<p>I have to substring all the element that have a length bigger than 2 char, et take the first two number.</p>\n<pre><code>    '95','14','30','16'\n</code></pre>\n<p>I think that i have to do this with a loop, but i m open to others suggestions ! Thank you !</p>\n"},{"tags":["java","unsigned"],"comments":[{"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"score":2,"creation_date":1405726024,"post_id":4266756,"comment_id":38559154,"body_markdown":"Guava: UnsignedBytes.toint(byte value)","body":"Guava: UnsignedBytes.toint(byte value)"},{"owner":{"account_id":217395,"reputation":682,"user_id":473180,"accept_rate":100,"display_name":"themarketka"},"score":28,"creation_date":1430067486,"post_id":4266756,"comment_id":47885355,"body_markdown":"java.lang.Byte.toUnsignedInt(byte value);","body":"java.lang.Byte.toUnsignedInt(byte value);"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1290601969,"creation_date":1290601969,"answer_id":4266794,"question_id":4266756,"body_markdown":"If you have a function which must be passed a signed byte, what do you expect it to do if you pass an unsigned byte?  \r\n\r\nWhy can&#39;t you use any other data type?\r\n\r\nUnsually you can use a byte as an unsigned byte with simple or no translations.  It all depends on how it is used. You would need to clarify what you indend to do with it.","title":"Can we make unsigned byte in Java","body":"<p>If you have a function which must be passed a signed byte, what do you expect it to do if you pass an unsigned byte?  </p>\n\n<p>Why can't you use any other data type?</p>\n\n<p>Unsually you can use a byte as an unsigned byte with simple or no translations.  It all depends on how it is used. You would need to clarify what you indend to do with it.</p>\n"},{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":7,"up_vote_count":224,"is_accepted":false,"score":217,"last_activity_date":1448441477,"creation_date":1290602189,"answer_id":4266841,"question_id":4266756,"body_markdown":"The fact that primitives are signed in Java is irrelevant to how they&#39;re represented in memory / transit - a byte is merely 8 bits and whether you interpret that as a signed range or not is up to you. There is no magic flag to say &quot;this is signed&quot; or &quot;this is unsigned&quot;.\r\n\r\nAs primitives are signed the Java compiler will prevent you from assigning a value higher than +127 to a byte (or lower than -128). However, there&#39;s nothing to stop you downcasting an int (or short) in order to achieve this:\r\n\r\n    int i = 200; // 0000 0000 0000 0000 0000 0000 1100 1000 (200)\r\n    byte b = (byte) 200; // 1100 1000 (-56 by Java specification, 200 by convention)\r\n\r\n    /*\r\n     * Will print a negative int -56 because upcasting byte to int does\r\n     * so called &quot;sign extension&quot; which yields those bits:\r\n     * 1111 1111 1111 1111 1111 1111 1100 1000 (-56)\r\n     *\r\n     * But you could still choose to interpret this as +200.\r\n     */\r\n    System.out.println(b); // &quot;-56&quot;\r\n\r\n    /*\r\n     * Will print a positive int 200 because bitwise AND with 0xFF will\r\n     * zero all the 24 most significant bits that:\r\n     * a) were added during upcasting to int which took place silently\r\n     *    just before evaluating the bitwise AND operator.\r\n     *    So the `b &amp; 0xFF` is equivalent with `((int) b) &amp; 0xFF`.\r\n     * b) were set to 1s because of &quot;sign extension&quot; during the upcasting\r\n     *\r\n     * 1111 1111 1111 1111 1111 1111 1100 1000 (the int)\r\n     * &amp;\r\n     * 0000 0000 0000 0000 0000 0000 1111 1111 (the 0xFF)\r\n     * =======================================\r\n     * 0000 0000 0000 0000 0000 0000 1100 1000 (200)\r\n     */\r\n    System.out.println(b &amp; 0xFF); // &quot;200&quot;\r\n\r\n    /*\r\n     * You would typically do this *within* the method that expected an \r\n     * unsigned byte and the advantage is you apply `0xFF` only once\r\n     * and than you use the `unsignedByte` variable in all your bitwise\r\n     * operations.\r\n     *\r\n     * You could use any integer type longer than `byte` for the `unsignedByte` variable,\r\n     * i.e. `short`, `int`, `long` and even `char`, but during bitwise operations\r\n     * it would get casted to `int` anyway.\r\n     */\r\n    void printUnsignedByte(byte b) {\r\n        int unsignedByte = b &amp; 0xFF;\r\n        System.out.println(unsignedByte); // &quot;200&quot;\r\n    }\r\n","title":"Can we make unsigned byte in Java","body":"<p>The fact that primitives are signed in Java is irrelevant to how they're represented in memory / transit - a byte is merely 8 bits and whether you interpret that as a signed range or not is up to you. There is no magic flag to say \"this is signed\" or \"this is unsigned\".</p>\n\n<p>As primitives are signed the Java compiler will prevent you from assigning a value higher than +127 to a byte (or lower than -128). However, there's nothing to stop you downcasting an int (or short) in order to achieve this:</p>\n\n<pre><code>int i = 200; // 0000 0000 0000 0000 0000 0000 1100 1000 (200)\nbyte b = (byte) 200; // 1100 1000 (-56 by Java specification, 200 by convention)\n\n/*\n * Will print a negative int -56 because upcasting byte to int does\n * so called \"sign extension\" which yields those bits:\n * 1111 1111 1111 1111 1111 1111 1100 1000 (-56)\n *\n * But you could still choose to interpret this as +200.\n */\nSystem.out.println(b); // \"-56\"\n\n/*\n * Will print a positive int 200 because bitwise AND with 0xFF will\n * zero all the 24 most significant bits that:\n * a) were added during upcasting to int which took place silently\n *    just before evaluating the bitwise AND operator.\n *    So the `b &amp; 0xFF` is equivalent with `((int) b) &amp; 0xFF`.\n * b) were set to 1s because of \"sign extension\" during the upcasting\n *\n * 1111 1111 1111 1111 1111 1111 1100 1000 (the int)\n * &amp;\n * 0000 0000 0000 0000 0000 0000 1111 1111 (the 0xFF)\n * =======================================\n * 0000 0000 0000 0000 0000 0000 1100 1000 (200)\n */\nSystem.out.println(b &amp; 0xFF); // \"200\"\n\n/*\n * You would typically do this *within* the method that expected an \n * unsigned byte and the advantage is you apply `0xFF` only once\n * and than you use the `unsignedByte` variable in all your bitwise\n * operations.\n *\n * You could use any integer type longer than `byte` for the `unsignedByte` variable,\n * i.e. `short`, `int`, `long` and even `char`, but during bitwise operations\n * it would get casted to `int` anyway.\n */\nvoid printUnsignedByte(byte b) {\n    int unsignedByte = b &amp; 0xFF;\n    System.out.println(unsignedByte); // \"200\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":3,"up_vote_count":57,"is_accepted":false,"score":54,"last_activity_date":1594109230,"creation_date":1290602193,"answer_id":4266843,"question_id":4266756,"body_markdown":"Complete guide for working with unsigned bytes in Java:\r\n\r\n[Unsigned byte in Java](https://programming.guide/java/unsigned-byte.html)\r\n-\r\n(Source for this answer.)\r\n\r\n----\r\n\r\nThe Java Language does not provide anything like the `unsigned` keyword. A `byte` according to the language spec represents a value between &amp;minus;128 - 127. For instance, if a `byte` is cast to an `int` Java will interpret the first bit as the sign and use [sign extension](https://en.wikipedia.org/wiki/Sign_extension).\r\n\r\nThat being said, nothing prevents you from viewing a `byte` simply as 8 bits and interpret those bits as a value between 0 and 255. Just keep in mind that there&#39;s nothing you can do to force your interpretation upon someone else&#39;s method. If a method accepts a `byte`, then that method accepts a value between &amp;minus;128 and 127 unless explicitly stated otherwise.\r\n\r\nHere are a couple of useful conversions / manipulations for your convenience:\r\n\r\n\r\nConversions to / from int\r\n-\r\n\r\n    // From int to unsigned byte\r\n    int i = 200;                    // some value between 0 and 255\r\n    byte b = (byte) i;              // 8 bits representing that value\r\n\r\n&lt;br /&gt;\r\n\r\n    // From unsigned byte to int\r\n    byte b = 123;                   // 8 bits representing a value between 0 and 255\r\n    int i = b &amp; 0xFF;               // an int representing the same value\r\n\r\n(Or, if you&#39;re on Java 8+, use [`Byte.toUnsignedInt`](https://docs.oracle.com/javase/8/docs/api/java/lang/Byte.html#toUnsignedInt-byte-).)\r\n\r\nParsing / formatting\r\n-\r\nBest way is to use the above conversions:\r\n\r\n    // Parse an unsigned byte\r\n    byte b = (byte) Integer.parseInt(&quot;200&quot;);\r\n&lt;br&gt;\r\n\r\n    // Print an unsigned byte\r\n    System.out.println(&quot;Value of my unsigned byte: &quot; + (b &amp; 0xFF));\r\n\r\n\r\nArithmetics\r\n-\r\nThe 2-complement representation &quot;just works&quot; for addition, subtraction and multiplication:\r\n\r\n    // two unsigned bytes\r\n    byte b1 = (byte) 200;\r\n    byte b2 = (byte) 15;\r\n\r\n    byte sum  = (byte) (b1 + b2);  // 215\r\n    byte diff = (byte) (b1 - b2);  // 185\r\n    byte prod = (byte) (b2 * b2);  // 225\r\n\r\nDivision requires manual conversion of operands:\r\n    \r\n    byte ratio = (byte) ((b1 &amp; 0xFF) / (b2 &amp; 0xFF));\r\n\r\n","title":"Can we make unsigned byte in Java","body":"<p>Complete guide for working with unsigned bytes in Java:</p>\n<h2><a href=\"https://programming.guide/java/unsigned-byte.html\" rel=\"noreferrer\">Unsigned byte in Java</a></h2>\n<p>(Source for this answer.)</p>\n<hr />\n<p>The Java Language does not provide anything like the <code>unsigned</code> keyword. A <code>byte</code> according to the language spec represents a value between −128 - 127. For instance, if a <code>byte</code> is cast to an <code>int</code> Java will interpret the first bit as the sign and use <a href=\"https://en.wikipedia.org/wiki/Sign_extension\" rel=\"noreferrer\">sign extension</a>.</p>\n<p>That being said, nothing prevents you from viewing a <code>byte</code> simply as 8 bits and interpret those bits as a value between 0 and 255. Just keep in mind that there's nothing you can do to force your interpretation upon someone else's method. If a method accepts a <code>byte</code>, then that method accepts a value between −128 and 127 unless explicitly stated otherwise.</p>\n<p>Here are a couple of useful conversions / manipulations for your convenience:</p>\n<h2>Conversions to / from int</h2>\n<pre><code>// From int to unsigned byte\nint i = 200;                    // some value between 0 and 255\nbyte b = (byte) i;              // 8 bits representing that value\n</code></pre>\n<br />\n<pre><code>// From unsigned byte to int\nbyte b = 123;                   // 8 bits representing a value between 0 and 255\nint i = b &amp; 0xFF;               // an int representing the same value\n</code></pre>\n<p>(Or, if you're on Java 8+, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Byte.html#toUnsignedInt-byte-\" rel=\"noreferrer\"><code>Byte.toUnsignedInt</code></a>.)</p>\n<h2>Parsing / formatting</h2>\n<p>Best way is to use the above conversions:</p>\n<pre><code>// Parse an unsigned byte\nbyte b = (byte) Integer.parseInt(&quot;200&quot;);\n</code></pre>\n<br>\n<pre><code>// Print an unsigned byte\nSystem.out.println(&quot;Value of my unsigned byte: &quot; + (b &amp; 0xFF));\n</code></pre>\n<h2>Arithmetics</h2>\n<p>The 2-complement representation &quot;just works&quot; for addition, subtraction and multiplication:</p>\n<pre><code>// two unsigned bytes\nbyte b1 = (byte) 200;\nbyte b2 = (byte) 15;\n\nbyte sum  = (byte) (b1 + b2);  // 215\nbyte diff = (byte) (b1 - b2);  // 185\nbyte prod = (byte) (b2 * b2);  // 225\n</code></pre>\n<p>Division requires manual conversion of operands:</p>\n<pre><code>byte ratio = (byte) ((b1 &amp; 0xFF) / (b2 &amp; 0xFF));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90755,"reputation":5544,"user_id":249663,"display_name":"Guillaume"},"down_vote_count":19,"up_vote_count":132,"is_accepted":true,"score":113,"last_activity_date":1602940477,"creation_date":1290602421,"answer_id":4266881,"question_id":4266756,"body_markdown":"I&#39;m not sure I understand your question.\r\n\r\nI just tried this and for byte -12 (signed value) it returned integer 244 (equivalent to unsigned byte value but typed as an `int`):\r\n\r\n      public static int unsignedToBytes(byte b) {\r\n        return b &amp; 0xFF;\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        System.out.println(unsignedToBytes((byte) -12));\r\n      }\r\n\r\nIs it what you want to do?\r\n\r\nJava does not allow to express 244 as a `byte` value, as would C. To express positive integers above `Byte.MAX_VALUE` (127) you have to use a different integral type, like `short`, `int` or `long`.","title":"Can we make unsigned byte in Java","body":"<p>I'm not sure I understand your question.</p>\n<p>I just tried this and for byte -12 (signed value) it returned integer 244 (equivalent to unsigned byte value but typed as an <code>int</code>):</p>\n<pre><code>  public static int unsignedToBytes(byte b) {\n    return b &amp; 0xFF;\n  }\n\n  public static void main(String[] args) {\n    System.out.println(unsignedToBytes((byte) -12));\n  }\n</code></pre>\n<p>Is it what you want to do?</p>\n<p>Java does not allow to express 244 as a <code>byte</code> value, as would C. To express positive integers above <code>Byte.MAX_VALUE</code> (127) you have to use a different integral type, like <code>short</code>, <code>int</code> or <code>long</code>.</p>\n"},{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1513333800,"creation_date":1290603082,"answer_id":4266978,"question_id":4266756,"body_markdown":"There are no primitive unsigned bytes in Java. The usual thing is to cast it to bigger type:\r\n\r\n    int anUnsignedByte = (int) aSignedByte &amp; 0xff;","title":"Can we make unsigned byte in Java","body":"<p>There are no primitive unsigned bytes in Java. The usual thing is to cast it to bigger type:</p>\n\n<pre><code>int anUnsignedByte = (int) aSignedByte &amp; 0xff;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245380,"reputation":9116,"user_id":518832,"accept_rate":83,"display_name":"Pritesh Jain"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1435407414,"creation_date":1290668393,"answer_id":4274468,"question_id":4266756,"body_markdown":"As per limitations in Java, unsigned byte is almost impossible in the current data-type format. You can go for some other libraries of another language for what you are implementing and then you can call them using [JNI][1].\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Native_Interface\r\n","title":"Can we make unsigned byte in Java","body":"<p>As per limitations in Java, unsigned byte is almost impossible in the current data-type format. You can go for some other libraries of another language for what you are implementing and then you can call them using <a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow\">JNI</a>.</p>\n"},{"tags":[],"owner":{"account_id":1040959,"reputation":77,"user_id":1046994,"display_name":"Kyle Kinkade"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1353014208,"creation_date":1353014208,"answer_id":13406359,"question_id":4266756,"body_markdown":"A side note, if you want to print it out, you can just say\r\n\r\n    byte b = 255;\r\n    System.out.println((b &lt; 0 ? 256 + b : b));","title":"Can we make unsigned byte in Java","body":"<p>A side note, if you want to print it out, you can just say</p>\n\n<pre><code>byte b = 255;\nSystem.out.println((b &lt; 0 ? 256 + b : b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2071951,"reputation":1428,"user_id":1846228,"accept_rate":93,"display_name":"XapaJIaMnu"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1435407611,"creation_date":1359126668,"answer_id":14524641,"question_id":4266756,"body_markdown":"If you want unsigned bytes in Java, just subtract 256 from the number you&#39;re interested in. It will produce [two&#39;s complement][1] with a negative value, which is the desired number in unsigned bytes.\r\n\r\nExample:\r\n    \r\n    int speed = 255; //Integer with the desired byte value\r\n    byte speed_unsigned = (byte)(speed-256);\r\n    //This will be represented in two&#39;s complement so its binary value will be 1111 1111\r\n    //which is the unsigned byte we desire.\r\n\r\nYou need to use such dirty hacks when using [leJOS][2] to program the [NXT brick][3].\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Two%27s_complement\r\n  [2]: https://en.wikipedia.org/wiki/LeJOS\r\n  [3]: https://en.wikipedia.org/wiki/Lego_Mindstorms_NXT#NXT_Intelligent_Brick\r\n","title":"Can we make unsigned byte in Java","body":"<p>If you want unsigned bytes in Java, just subtract 256 from the number you're interested in. It will produce <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow\">two's complement</a> with a negative value, which is the desired number in unsigned bytes.</p>\n\n<p>Example:</p>\n\n<pre><code>int speed = 255; //Integer with the desired byte value\nbyte speed_unsigned = (byte)(speed-256);\n//This will be represented in two's complement so its binary value will be 1111 1111\n//which is the unsigned byte we desire.\n</code></pre>\n\n<p>You need to use such dirty hacks when using <a href=\"https://en.wikipedia.org/wiki/LeJOS\" rel=\"nofollow\">leJOS</a> to program the <a href=\"https://en.wikipedia.org/wiki/Lego_Mindstorms_NXT#NXT_Intelligent_Brick\" rel=\"nofollow\">NXT brick</a>.</p>\n"},{"tags":[],"owner":{"account_id":2469748,"reputation":17,"user_id":2151950,"display_name":"Bob"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1362846848,"creation_date":1362846848,"answer_id":15313128,"question_id":4266756,"body_markdown":"Although it may seem annoying (coming from C) that Java did not include unsigned byte in the language it really is no big deal since a simple &quot;b &amp; 0xFF&quot; operation yields the unsigned value for (signed) byte b in the (rare) situations that it is actually needed. The bits don&#39;t actually change -- just the interpretation (which is important only when doing for example some math operations on the values).","title":"Can we make unsigned byte in Java","body":"<p>Although it may seem annoying (coming from C) that Java did not include unsigned byte in the language it really is no big deal since a simple \"b &amp; 0xFF\" operation yields the unsigned value for (signed) byte b in the (rare) situations that it is actually needed. The bits don't actually change -- just the interpretation (which is important only when doing for example some math operations on the values).</p>\n"},{"tags":[],"owner":{"account_id":4279736,"reputation":17,"user_id":3499509,"display_name":"Ewe Loon"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1435438037,"creation_date":1396639934,"answer_id":22871561,"question_id":4266756,"body_markdown":"Adamski provided the best answer, but it is not quite complete, so read his reply, as it explains the details I&#39;m not.\r\n\r\nIf you have a system function that requires an unsigned byte to be passed to it, you can pass a signed byte as it will automatically treat it as an unsigned byte.\r\n\r\nSo if a system function requires four bytes, for example, 192 168 0 1 as unsigned bytes you can pass -64 -88 0 1, and the function will still work, because the act of passing them to the function will un-sign them.\r\n\r\nHowever you are unlikely to have this problem as system functions are hidden behind classes for cross-platform compatibility, though some of the java.io read methods return unsighed bytes as an int.\r\n\r\nIf you want to see this working, try writing signed bytes to a file and read them back as unsigned bytes.\r\n","title":"Can we make unsigned byte in Java","body":"<p>Adamski provided the best answer, but it is not quite complete, so read his reply, as it explains the details I'm not.</p>\n\n<p>If you have a system function that requires an unsigned byte to be passed to it, you can pass a signed byte as it will automatically treat it as an unsigned byte.</p>\n\n<p>So if a system function requires four bytes, for example, 192 168 0 1 as unsigned bytes you can pass -64 -88 0 1, and the function will still work, because the act of passing them to the function will un-sign them.</p>\n\n<p>However you are unlikely to have this problem as system functions are hidden behind classes for cross-platform compatibility, though some of the java.io read methods return unsighed bytes as an int.</p>\n\n<p>If you want to see this working, try writing signed bytes to a file and read them back as unsigned bytes.</p>\n"},{"tags":[],"owner":{"account_id":5620991,"reputation":378,"user_id":4450851,"accept_rate":100,"display_name":"Tobias Johansson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426242371,"creation_date":1426242371,"answer_id":29029868,"question_id":4266756,"body_markdown":"If think you are looking for something like this.\r\n\r\n    public static char toUnsigned(byte b) {\r\n        return (char) (b &gt;= 0 ? b : 256 + b);\r\n    }","title":"Can we make unsigned byte in Java","body":"<p>If think you are looking for something like this.</p>\n\n<pre><code>public static char toUnsigned(byte b) {\n    return (char) (b &gt;= 0 ? b : 256 + b);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2530400,"reputation":829,"user_id":2198815,"accept_rate":100,"display_name":"Jyo the Whiff"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1435438838,"creation_date":1428658876,"answer_id":29558143,"question_id":4266756,"body_markdown":"There is no unsigned byte in Java, but if you want to display a byte, you can do,\r\n\r\n    int myInt = 144;\r\n    \r\n    byte myByte = (byte) myInt;\r\n    \r\n    char myChar = (char) (myByte &amp; 0xFF);\r\n    \r\n    System.out.println(&quot;myChar :&quot; + Integer.toHexString(myChar));\r\n\r\nOutput:\r\n\r\n    myChar : 90\r\n\r\nFor more information, please check, *https://stackoverflow.com/questions/29553993/how-to-get-rid-of-extra-bits-while-displaying-byte*.\r\n","title":"Can we make unsigned byte in Java","body":"<p>There is no unsigned byte in Java, but if you want to display a byte, you can do,</p>\n\n<pre><code>int myInt = 144;\n\nbyte myByte = (byte) myInt;\n\nchar myChar = (char) (myByte &amp; 0xFF);\n\nSystem.out.println(\"myChar :\" + Integer.toHexString(myChar));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>myChar : 90\n</code></pre>\n\n<p>For more information, please check, <em><a href=\"https://stackoverflow.com/questions/29553993/how-to-get-rid-of-extra-bits-while-displaying-byte\">How to display a hex/byte value in Java</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1448359795,"creation_date":1441208460,"answer_id":32357481,"question_id":4266756,"body_markdown":"I think the other answers have covered memory representation and how you handle these depends on the context of how you plan on using it. I&#39;ll add that [Java 8 added some support for dealing with unsigned types][1]. In this case, you could use [`Byte.toUnsignedInt`][2]\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int unsignedInt = Byte.toUnsignedInt(myByte);\r\n\r\n\r\n  [1]: https://blogs.oracle.com/darcy/entry/unsigned_api\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Byte.html#toUnsignedInt-byte-","title":"Can we make unsigned byte in Java","body":"<p>I think the other answers have covered memory representation and how you handle these depends on the context of how you plan on using it. I'll add that <a href=\"https://blogs.oracle.com/darcy/entry/unsigned_api\" rel=\"noreferrer\">Java 8 added some support for dealing with unsigned types</a>. In this case, you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Byte.html#toUnsignedInt-byte-\" rel=\"noreferrer\"><code>Byte.toUnsignedInt</code></a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int unsignedInt = Byte.toUnsignedInt(myByte);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3085249,"reputation":2907,"user_id":2612536,"accept_rate":67,"display_name":"Sindri &#222;&#243;r"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1453815471,"creation_date":1453815471,"answer_id":35015102,"question_id":4266756,"body_markdown":"Yes and no. Ive been digging around with this problem. \r\nLike i understand this: \r\n\r\nThe fact is that java has signed interger -128 to 127..\r\nIt is possible to present a unsigned in java with: \r\n    \r\n    public static int toUnsignedInt(byte x) {\r\n        return ((int) x) &amp; 0xff;\r\n    }\r\n\r\nIf you for example add -12 signed number to be unsigned you get 244. But you can use that number again in signed, it has to be shifted back to signed and it&#180;ll be again -12. \r\n\r\nIf you try to add 244 to java byte you&#39;ll get outOfIndexException.\r\n\r\nCheers..\r\n\r\n","title":"Can we make unsigned byte in Java","body":"<p>Yes and no. Ive been digging around with this problem. \nLike i understand this: </p>\n\n<p>The fact is that java has signed interger -128 to 127..\nIt is possible to present a unsigned in java with: </p>\n\n<pre><code>public static int toUnsignedInt(byte x) {\n    return ((int) x) &amp; 0xff;\n}\n</code></pre>\n\n<p>If you for example add -12 signed number to be unsigned you get 244. But you can use that number again in signed, it has to be shifted back to signed and it´ll be again -12. </p>\n\n<p>If you try to add 244 to java byte you'll get outOfIndexException.</p>\n\n<p>Cheers..</p>\n"},{"tags":[],"owner":{"account_id":6149312,"reputation":383,"user_id":4794229,"display_name":"mark_infinite"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552230855,"creation_date":1552162442,"answer_id":55081528,"question_id":4266756,"body_markdown":"You can also:\r\n\r\n    public static int unsignedToBytes(byte a)\r\n    {\r\n        return (int) ( ( a &lt;&lt; 24) &gt;&gt;&gt; 24);\r\n    }    \r\n\r\n**Explanation:** \r\n   \r\nlet&#39;s say `a = (byte) 133;`\r\n\r\nIn memory it&#39;s stored as: &quot;1000 0101&quot; (0x85 in hex)\r\n\r\nSo its representation translates  **unsigned**=133, **signed**=-123 (as 2&#39;s complement)\r\n\r\n\r\n\r\n&gt; **a &lt;&lt; 24** \r\n\r\n\r\nWhen left shift is performed 24 bits to the left, the **result** is now a 4 byte integer which is represented as: \r\n\r\n&quot;10000101 00000000 00000000 00000000&quot; (or &quot;0x85000000&quot; in hex)\r\n\r\nthen we have \r\n\r\n&gt; ( a &lt;&lt; 24) **&gt;&gt;&gt; 24**\r\n\r\nand it shifts again on the right 24 bits but fills with leading zeros. So it results to:\r\n\r\n&quot;00000000 00000000 00000000 10000101&quot; (or &quot;0x00000085&quot; in hex)\r\n\r\nand that is the unsigned representation which equals to 133.\r\n\r\nIf you tried to cast `a = (int) a;`\r\nthen what would happen is it keeps the 2&#39;s complement representation of byte and stores it as int also as 2&#39;s complement:\r\n\r\n(int) &quot;10000101&quot; ---&gt; &quot;11111111 11111111 11111111 10000101&quot;\r\n\r\nAnd that translates as: -123\r\n\r\n","title":"Can we make unsigned byte in Java","body":"<p>You can also:</p>\n\n<pre><code>public static int unsignedToBytes(byte a)\n{\n    return (int) ( ( a &lt;&lt; 24) &gt;&gt;&gt; 24);\n}    \n</code></pre>\n\n<p><strong>Explanation:</strong> </p>\n\n<p>let's say <code>a = (byte) 133;</code></p>\n\n<p>In memory it's stored as: \"1000 0101\" (0x85 in hex)</p>\n\n<p>So its representation translates  <strong>unsigned</strong>=133, <strong>signed</strong>=-123 (as 2's complement)</p>\n\n<blockquote>\n  <p><strong>a &lt;&lt; 24</strong> </p>\n</blockquote>\n\n<p>When left shift is performed 24 bits to the left, the <strong>result</strong> is now a 4 byte integer which is represented as: </p>\n\n<p>\"10000101 00000000 00000000 00000000\" (or \"0x85000000\" in hex)</p>\n\n<p>then we have </p>\n\n<blockquote>\n  <p>( a &lt;&lt; 24) <strong>>>> 24</strong></p>\n</blockquote>\n\n<p>and it shifts again on the right 24 bits but fills with leading zeros. So it results to:</p>\n\n<p>\"00000000 00000000 00000000 10000101\" (or \"0x00000085\" in hex)</p>\n\n<p>and that is the unsigned representation which equals to 133.</p>\n\n<p>If you tried to cast <code>a = (int) a;</code>\nthen what would happen is it keeps the 2's complement representation of byte and stores it as int also as 2's complement:</p>\n\n<p>(int) \"10000101\" ---> \"11111111 11111111 11111111 10000101\"</p>\n\n<p>And that translates as: -123</p>\n"},{"tags":[],"owner":{"account_id":11534503,"reputation":136,"user_id":8452443,"display_name":"Kevin Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582266417,"creation_date":1582266417,"answer_id":60333202,"question_id":4266756,"body_markdown":"&gt; I am trying to use this data as a parameter to a function of Java that accepts only a byte as parameter\r\n\r\nThis is not substantially different from a function accepting an integer to which you want to pass a value larger than 2^32-1.\r\n\r\nThat sounds like it depends on how the function is defined and documented; I can see three possibilities:\r\n\r\n 1. It may explicitly document that the function treats the byte as an unsigned value, in which case the function probably should do what you expect but would seem to be implemented wrong. For the integer case, the function would probably declare the parameter as an unsigned integer, but that is not possible for the byte case.\r\n\r\n 2. It may document that the value for this argument must be greater than (or perhaps equal to) zero, in which case you are misusing the function (passing an out-of-range parameter), expecting it to do more than it was designed to do. With some level of debugging support you might expect the function to throw an exception or fail an assertion.\r\n\r\n 3. The documentation may say nothing, in which case a negative parameter is, well, a negative parameter and whether that has any meaning depends on what the function does. If this is meaningless then perhaps the function should really be defined/documented as (2). If this is meaningful in an nonobvious manner (e.g. non-negative values are used to index into an array, and negative values are used to index back from the end of the array so -1 means the last element) the documentation should say what it means and I would expect that it isn&#39;t what you want it to do anyway.","title":"Can we make unsigned byte in Java","body":"<blockquote>\n  <p>I am trying to use this data as a parameter to a function of Java that accepts only a byte as parameter</p>\n</blockquote>\n\n<p>This is not substantially different from a function accepting an integer to which you want to pass a value larger than 2^32-1.</p>\n\n<p>That sounds like it depends on how the function is defined and documented; I can see three possibilities:</p>\n\n<ol>\n<li><p>It may explicitly document that the function treats the byte as an unsigned value, in which case the function probably should do what you expect but would seem to be implemented wrong. For the integer case, the function would probably declare the parameter as an unsigned integer, but that is not possible for the byte case.</p></li>\n<li><p>It may document that the value for this argument must be greater than (or perhaps equal to) zero, in which case you are misusing the function (passing an out-of-range parameter), expecting it to do more than it was designed to do. With some level of debugging support you might expect the function to throw an exception or fail an assertion.</p></li>\n<li><p>The documentation may say nothing, in which case a negative parameter is, well, a negative parameter and whether that has any meaning depends on what the function does. If this is meaningless then perhaps the function should really be defined/documented as (2). If this is meaningful in an nonobvious manner (e.g. non-negative values are used to index into an array, and negative values are used to index back from the end of the array so -1 means the last element) the documentation should say what it means and I would expect that it isn't what you want it to do anyway.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7032595,"reputation":132,"user_id":5387752,"display_name":"Edvaaart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636111309,"creation_date":1636111309,"answer_id":69852478,"question_id":4266756,"body_markdown":"I happened to accidentally land on this page after wondering about the apparent asymmetry of the netty ByteBuf writeInt and readUnsignedInt methods.\r\n\r\nAfter reading the interesting and educational answers I am still wondering what function you were calling when you said:\r\n\r\n&gt; I am trying to use this data as a parameter to a function of Java that\r\n&gt; accepts only a byte as parameter.\r\n\r\n\r\nFor what it&#39;s worth after so many years, here is my fifty cents:\r\n\r\nLet&#39;s assume the method you are calling is updating some balance with micro amounts and that it behaves according to some well-defined set of requirements. Ie, it is considered to have a correct implementation for its intended behavior:\r\n\r\n    long processMicroPayment(byte amount) {\r\n    \tthis.balance += amount;\r\n        return balance;  \t\r\n    }\r\n\r\nBasically, if you supply a positive amount it will be added to the balance, and a negative amount will effectively be subtracted from the balance. Now because it accepts a byte as its parameter the implicit assumption is that it functionally only accepts amounts between -128 and +127. So if you want to use this method to add, say, 130 to the balance, it simply will not produce the result YOU desire, because there is no way within the implementation of this method to represent an amount higher than 127. So passing it 130 will not result in your desired \r\nbehavior. Note that the method has no way of implementing a (say) AmountOutOfBoundsException because 130 will be &#39;interpreted&#39; as a negative value that is still obeying the method&#39;s contract.\r\n\r\nSo I have the following questions:\r\n- are you using the method according to its (implicit or explicit) contract?\r\n- is the method implemented correctly?\r\n- am I still misunderstanding your question?\r\n","title":"Can we make unsigned byte in Java","body":"<p>I happened to accidentally land on this page after wondering about the apparent asymmetry of the netty ByteBuf writeInt and readUnsignedInt methods.</p>\n<p>After reading the interesting and educational answers I am still wondering what function you were calling when you said:</p>\n<blockquote>\n<p>I am trying to use this data as a parameter to a function of Java that\naccepts only a byte as parameter.</p>\n</blockquote>\n<p>For what it's worth after so many years, here is my fifty cents:</p>\n<p>Let's assume the method you are calling is updating some balance with micro amounts and that it behaves according to some well-defined set of requirements. Ie, it is considered to have a correct implementation for its intended behavior:</p>\n<pre><code>long processMicroPayment(byte amount) {\n    this.balance += amount;\n    return balance;     \n}\n</code></pre>\n<p>Basically, if you supply a positive amount it will be added to the balance, and a negative amount will effectively be subtracted from the balance. Now because it accepts a byte as its parameter the implicit assumption is that it functionally only accepts amounts between -128 and +127. So if you want to use this method to add, say, 130 to the balance, it simply will not produce the result YOU desire, because there is no way within the implementation of this method to represent an amount higher than 127. So passing it 130 will not result in your desired\nbehavior. Note that the method has no way of implementing a (say) AmountOutOfBoundsException because 130 will be 'interpreted' as a negative value that is still obeying the method's contract.</p>\n<p>So I have the following questions:</p>\n<ul>\n<li>are you using the method according to its (implicit or explicit) contract?</li>\n<li>is the method implemented correctly?</li>\n<li>am I still misunderstanding your question?</li>\n</ul>\n"}],"owner":{"account_id":660627,"reputation":2155,"user_id":472282,"display_name":"dln"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316991,"favorite_count":0,"down_vote_count":1,"up_vote_count":213,"accepted_answer_id":4266881,"answer_count":17,"score":212,"last_activity_date":1636111309,"creation_date":1290601772,"question_id":4266756,"body_markdown":"I am trying to convert a signed byte in unsigned. The problem is the data I am receiving is unsigned and Java does not support unsigned byte, so when it reads the data it treats it as signed.\r\n\r\nI tried it to convert it by the following solution I got from Stack&amp;nbsp;Overflow.\r\n\r\n    public static int unsignedToBytes(byte a)\r\n    {\r\n        int b = a &amp; 0xFF;\r\n        return b;\r\n    }\r\n\r\nBut when again it&#39;s converted in byte, I get the same signed data. I am trying to use this data as a parameter to a function of Java that accepts only a byte as parameter, so I can&#39;t use any other data type. How can I fix this problem?\r\n","title":"Can we make unsigned byte in Java","body":"<p>I am trying to convert a signed byte in unsigned. The problem is the data I am receiving is unsigned and Java does not support unsigned byte, so when it reads the data it treats it as signed.</p>\n\n<p>I tried it to convert it by the following solution I got from Stack&nbsp;Overflow.</p>\n\n<pre><code>public static int unsignedToBytes(byte a)\n{\n    int b = a &amp; 0xFF;\n    return b;\n}\n</code></pre>\n\n<p>But when again it's converted in byte, I get the same signed data. I am trying to use this data as a parameter to a function of Java that accepts only a byte as parameter, so I can't use any other data type. How can I fix this problem?</p>\n"},{"tags":["java","spring","csv","csvtojson"],"comments":[{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":0,"creation_date":1636109740,"post_id":69852072,"comment_id":123474822,"body_markdown":"What error do you get, if not error what output do you get?","body":"What error do you get, if not error what output do you get?"},{"owner":{"account_id":15180325,"reputation":1,"user_id":12446524,"display_name":"Indranil"},"score":0,"creation_date":1636111302,"post_id":69852072,"comment_id":123475335,"body_markdown":"output is [] only","body":"output is [] only"},{"owner":{"account_id":11762528,"reputation":4100,"user_id":8608146,"display_name":"Phani Rithvij"},"score":0,"creation_date":1636178126,"post_id":69852072,"comment_id":123492328,"body_markdown":"what is the purpose of `split(&quot;۞&quot;)`?","body":"what is the purpose of <code>split(&quot;۞&quot;)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636109944,"creation_date":1636109944,"answer_id":69852198,"question_id":69852072,"body_markdown":"\r\n\r\n\r\nYour implementation looks very low level. \r\nInstead, you can do it like this and make use of the `ObjectMapper` class.\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;,&quot;);\r\ntry (BufferedReader in = new BufferedReader(new FileReader(csvFile));) {\r\n    List &lt; Product &gt; products = in .lines().skip(1).map(line - &gt; {\r\n        String[] fields = pattern.split(line);\r\n        return new Product(...use values in fields to create product...);\r\n    }).collect(Collectors.toList());\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    mapper.writeValue(System.out, products);\r\n}\r\n```\r\n\r\nMore details are available [here][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/how-to-convert-csv-to-json-in-java","title":"Java8 convert csv to json object","body":"<p>Your implementation looks very low level.\nInstead, you can do it like this and make use of the <code>ObjectMapper</code> class.</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;,&quot;);\ntry (BufferedReader in = new BufferedReader(new FileReader(csvFile));) {\n    List &lt; Product &gt; products = in .lines().skip(1).map(line - &gt; {\n        String[] fields = pattern.split(line);\n        return new Product(...use values in fields to create product...);\n    }).collect(Collectors.toList());\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\n    mapper.writeValue(System.out, products);\n}\n</code></pre>\n<p>More details are available <a href=\"https://dzone.com/articles/how-to-convert-csv-to-json-in-java\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636110395,"creation_date":1636110395,"answer_id":69852279,"question_id":69852072,"body_markdown":"Instead of using your own logic to parse CSV and convert it to JSON, you can take use of some libraries.\r\n\r\nFor Reading CSV you can use opencsv, this gives you option to directly read a CSV to a Map\r\n\r\n    Map&lt;String, String&gt; values = new CSVReaderHeaderAware(new FileReader(&quot;yourfile.csv&quot;)).readMap();\r\n\r\nPost this you can use Jackon to convert map to a JSON.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    mapper.writeValueAsString(map);\r\n\r\nThere are many different frameworks available for Reading CSV file and converting text to JSON, you can explore.","title":"Java8 convert csv to json object","body":"<p>Instead of using your own logic to parse CSV and convert it to JSON, you can take use of some libraries.</p>\n<p>For Reading CSV you can use opencsv, this gives you option to directly read a CSV to a Map</p>\n<pre><code>Map&lt;String, String&gt; values = new CSVReaderHeaderAware(new FileReader(&quot;yourfile.csv&quot;)).readMap();\n</code></pre>\n<p>Post this you can use Jackon to convert map to a JSON.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nmapper.writeValueAsString(map);\n</code></pre>\n<p>There are many different frameworks available for Reading CSV file and converting text to JSON, you can explore.</p>\n"}],"owner":{"account_id":15180325,"reputation":1,"user_id":12446524,"display_name":"Indranil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636110395,"creation_date":1636109314,"question_id":69852072,"body_markdown":"i am comparing two json objects, one of them get request and other input from csv file ---\r\nfor the csv to json logic -- following code, \r\n\r\ncsv file looks like this ----\r\nthe csv file looks like this -\r\n```\r\nsw product,sw product module,technology\r\nProduct 1,Module 1,REGULAR\r\nProduct 1,Module 2,SPRING CLOUD\r\nProduct 2,Module 1,REGULAR\r\nProduct 2,Module 3,REGULAR\r\n```\r\nJAVA CODE \r\n\r\n```\r\npackage com.beandependencyinjection.configurationbeans.service;\r\n\r\npublic class ConvertCsvToJson {\r\n    public static void main(String[] args)  {\r\n\r\n        String filesss = &quot;C:\\products\\\\swproduct.csv&quot;;\r\n        ConvertCsvToJson result = new ConvertCsvToJson();\r\n\r\n        System.out.println(result.CSVtoJSON(filesss));\r\n\r\n\r\n    }\r\n\r\n    public String CSVtoJSON(String output) {\r\n\r\n            String[] lines = output.split(&quot;,&quot;);\r\n\r\n            StringBuilder builder = new StringBuilder();\r\n            builder.append(&#39;[&#39;);\r\n            String[] headers = new String[0];\r\n\r\n            //CSV TO JSON\r\n            for (int i = 0; i &lt; lines.length; i++) {\r\n                String[] values = lines[i].replaceAll(&quot;,&quot;, &quot;&quot;).split(&quot;۞&quot;);\r\n\r\n                if (i == 0) //INDEX LIST\r\n                {\r\n                    headers = values;\r\n                } else {\r\n                    builder.append(&#39;{&#39;);\r\n                    for (int j = 0; j &lt; values.length &amp;&amp; j &lt; headers.length; j++) {\r\n\r\n                        String jsonvalue = &quot;\\&quot;&quot; + headers[j] + &quot;\\&quot;:\\&quot;&quot; + values[j] + &quot;\\&quot;&quot;;\r\n                        if (j != values.length - 1) { //if not last value of values...\r\n                            jsonvalue += &#39;,&#39;;\r\n                        }\r\n                        builder.append(jsonvalue);\r\n                    }\r\n                    builder.append(&#39;}&#39;);\r\n                    if (i != lines.length - 1) {\r\n                        builder.append(&#39;,&#39;);\r\n                    }\r\n                }\r\n            }\r\n            builder.append(&#39;]&#39;);\r\n            output = builder.toString();\r\n\r\n            return output;\r\n        }\r\n}\r\n\r\n```\r\nbut its not working -- any help appreciated ","title":"Java8 convert csv to json object","body":"<p>i am comparing two json objects, one of them get request and other input from csv file ---\nfor the csv to json logic -- following code,</p>\n<p>csv file looks like this ----\nthe csv file looks like this -</p>\n<pre><code>sw product,sw product module,technology\nProduct 1,Module 1,REGULAR\nProduct 1,Module 2,SPRING CLOUD\nProduct 2,Module 1,REGULAR\nProduct 2,Module 3,REGULAR\n</code></pre>\n<p>JAVA CODE</p>\n<pre><code>package com.beandependencyinjection.configurationbeans.service;\n\npublic class ConvertCsvToJson {\n    public static void main(String[] args)  {\n\n        String filesss = &quot;C:\\products\\\\swproduct.csv&quot;;\n        ConvertCsvToJson result = new ConvertCsvToJson();\n\n        System.out.println(result.CSVtoJSON(filesss));\n\n\n    }\n\n    public String CSVtoJSON(String output) {\n\n            String[] lines = output.split(&quot;,&quot;);\n\n            StringBuilder builder = new StringBuilder();\n            builder.append('[');\n            String[] headers = new String[0];\n\n            //CSV TO JSON\n            for (int i = 0; i &lt; lines.length; i++) {\n                String[] values = lines[i].replaceAll(&quot;,&quot;, &quot;&quot;).split(&quot;۞&quot;);\n\n                if (i == 0) //INDEX LIST\n                {\n                    headers = values;\n                } else {\n                    builder.append('{');\n                    for (int j = 0; j &lt; values.length &amp;&amp; j &lt; headers.length; j++) {\n\n                        String jsonvalue = &quot;\\&quot;&quot; + headers[j] + &quot;\\&quot;:\\&quot;&quot; + values[j] + &quot;\\&quot;&quot;;\n                        if (j != values.length - 1) { //if not last value of values...\n                            jsonvalue += ',';\n                        }\n                        builder.append(jsonvalue);\n                    }\n                    builder.append('}');\n                    if (i != lines.length - 1) {\n                        builder.append(',');\n                    }\n                }\n            }\n            builder.append(']');\n            output = builder.toString();\n\n            return output;\n        }\n}\n\n</code></pre>\n<p>but its not working -- any help appreciated</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1636109189,"post_id":69852014,"comment_id":123474627,"body_markdown":"You could replace all the commas with another character or sequence","body":"You could replace all the commas with another character or sequence"},{"owner":{"account_id":18016429,"reputation":53,"user_id":13094836,"display_name":"Rishikesh-12"},"score":0,"creation_date":1636109274,"post_id":69852014,"comment_id":123474653,"body_markdown":"Suppose  we pass \n=&quot;370143030&quot;,=&quot;SPRING TOWNSHIP CENTRE&quot;,=&quot;1869 ZION ROAD BELLEFONTE PA 16823&quot;,=&quot;8143551&quot;,=&quot;02&quot;,=&quot;13-005B,162-,0000-&quot;, \nto the outputUtill function. We want output as\n\n370143030\nSPRING TOWNSHIP CENTRE\n1869 ZION ROAD BELLEFONTE PA 16823\n8143551\n02\n13-005B,162-,0000-","body":"Suppose  we pass  =&quot;370143030&quot;,=&quot;SPRING TOWNSHIP CENTRE&quot;,=&quot;1869 ZION ROAD BELLEFONTE PA 16823&quot;,=&quot;8143551&quot;,=&quot;02&quot;,=&quot;13-005B,162-,0000-&quot;,  to the outputUtill function. We want output as  370143030 SPRING TOWNSHIP CENTRE 1869 ZION ROAD BELLEFONTE PA 16823 8143551 02 13-005B,162-,0000-"},{"owner":{"account_id":9669464,"reputation":122,"user_id":7174922,"display_name":"Andrei Tornea"},"score":0,"creation_date":1636109438,"post_id":69852014,"comment_id":123474706,"body_markdown":"I don&#39;t get what should be the result, this question is very confusing.\nYou have &quot;13-005B,162-,0000-&quot; in input, then you need the same string without commas? and should be one string and not 3 separated strings?","body":"I don&#39;t get what should be the result, this question is very confusing. You have &quot;13-005B,162-,0000-&quot; in input, then you need the same string without commas? and should be one string and not 3 separated strings?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":2,"creation_date":1636109446,"post_id":69852014,"comment_id":123474710,"body_markdown":"That&#39;s not a valid String","body":"That&#39;s not a valid String"},{"owner":{"account_id":18016429,"reputation":53,"user_id":13094836,"display_name":"Rishikesh-12"},"score":0,"creation_date":1636109577,"post_id":69852014,"comment_id":123474762,"body_markdown":"check the question once again. I have tried to make it more readable.","body":"check the question once again. I have tried to make it more readable."},{"owner":{"account_id":9669464,"reputation":122,"user_id":7174922,"display_name":"Andrei Tornea"},"score":0,"creation_date":1636109680,"post_id":69852014,"comment_id":123474799,"body_markdown":"as @AdriaanKoster said, you can&#39;t pass such a string, it&#39;s not even a string, try to use lists instead.","body":"as @AdriaanKoster said, you can&#39;t pass such a string, it&#39;s not even a string, try to use lists instead."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636109701,"post_id":69852014,"comment_id":123474804,"body_markdown":"Isn&#39;t the entire point of those `=&quot;...&quot;` to enclose single values? If so, the problem is not that you need to escape things, it means that you need to fix however you&#39;re parsing things right now, because I think it should already work the way you want, and if it doesn&#39;t that would be a bug. In other words, your code should not just split on `,`, it needs to actually **parse** the row to distinguish quoted values and separators.","body":"Isn&#39;t the entire point of those <code>=&quot;...&quot;</code> to enclose single values? If so, the problem is not that you need to escape things, it means that you need to fix however you&#39;re parsing things right now, because I think it should already work the way you want, and if it doesn&#39;t that would be a bug. In other words, your code should not just split on <code>,</code>, it needs to actually <b>parse</b> the row to distinguish quoted values and separators."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636109738,"post_id":69852014,"comment_id":123474820,"body_markdown":"Are you in control of implementation of the `outputUtill` function ?\n\nRight of the bat the best solution seems to use a different separator. A kind of a separator that you would not encounter within the token body ... \n\nOtherwise, you could replace commas with something like &quot;&lt;comma&gt;&quot; string in the input before the split, and then replace the &quot;&lt;comma&gt;&quot; string back to &quot;,&quot; after the split is done.","body":"Are you in control of implementation of the <code>outputUtill</code> function ?  Right of the bat the best solution seems to use a different separator. A kind of a separator that you would not encounter within the token body ...   Otherwise, you could replace commas with something like &quot;&lt;comma&gt;&quot; string in the input before the split, and then replace the &quot;&lt;comma&gt;&quot; string back to &quot;,&quot; after the split is done."},{"owner":{"account_id":18016429,"reputation":53,"user_id":13094836,"display_name":"Rishikesh-12"},"score":0,"creation_date":1636110144,"post_id":69852014,"comment_id":123474960,"body_markdown":"The main input and output is a csv file. The csv input gets processed and then formatted into the required format and passed on to `outputUtill` function. That is a reason for which I cannot replace &quot;,&quot; with &quot;&lt;comma&gt;&quot; or any other delimiter.","body":"The main input and output is a csv file. The csv input gets processed and then formatted into the required format and passed on to <code>outputUtill</code> function. That is a reason for which I cannot replace &quot;,&quot; with &quot;&lt;comma&gt;&quot; or any other delimiter."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1636110584,"post_id":69852014,"comment_id":123475073,"body_markdown":"Maybe take a look at OpenCSV (https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/)","body":"Maybe take a look at OpenCSV (<a href=\"https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-read-and-parse-csv-file-in-java</a>)"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636110205,"creation_date":1636109893,"answer_id":69852185,"question_id":69852014,"body_markdown":"outputUtil could split on the sequence &quot;,=&quot; and trim the leading and ending =&quot; and &quot;,\r\n\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;=\\&quot;370143030\\&quot;,=\\&quot;SPRING TOWNSHIP CENTRE\\&quot;,=\\&quot;1869 ZION ROAD BELLEFONTE PA 16823\\&quot;,=\\&quot;8143551\\&quot;,=\\&quot;02\\&quot;,=\\&quot;13-005B,162-,0000-\\&quot;, &quot;;\r\n        String sep = &quot;\\&quot;,=\\&quot;&quot;;\r\n\r\n        String[] output = input.substring(2, input.length() - 3).split(sep);\r\n        Arrays.stream(output).forEach(s -&gt; System.out.println(s));\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    370143030\r\n    SPRING TOWNSHIP CENTRE\r\n    1869 ZION ROAD BELLEFONTE PA 16823\r\n    8143551\r\n    02\r\n    13-005B,162-,0000-","title":"Is there any way to make commas(,) escapable in a String in Java?","body":"<p>outputUtil could split on the sequence &quot;,=&quot; and trim the leading and ending =&quot; and &quot;,</p>\n<pre><code>public static void main(String[] args) {\n    String input = &quot;=\\&quot;370143030\\&quot;,=\\&quot;SPRING TOWNSHIP CENTRE\\&quot;,=\\&quot;1869 ZION ROAD BELLEFONTE PA 16823\\&quot;,=\\&quot;8143551\\&quot;,=\\&quot;02\\&quot;,=\\&quot;13-005B,162-,0000-\\&quot;, &quot;;\n    String sep = &quot;\\&quot;,=\\&quot;&quot;;\n\n    String[] output = input.substring(2, input.length() - 3).split(sep);\n    Arrays.stream(output).forEach(s -&gt; System.out.println(s));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>370143030\nSPRING TOWNSHIP CENTRE\n1869 ZION ROAD BELLEFONTE PA 16823\n8143551\n02\n13-005B,162-,0000-\n</code></pre>\n"}],"owner":{"account_id":18016429,"reputation":53,"user_id":13094836,"display_name":"Rishikesh-12"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1636111485,"answer_count":1,"score":1,"last_activity_date":1636110205,"creation_date":1636109044,"question_id":69852014,"body_markdown":"I have a `String str = &quot;13-005B,162-,0000-&quot;`. I have a function named `outputUtill` which need a input in format:-  `=&quot;(string1 value)&quot;,=&quot;(string2 value)&quot;,=&quot;(string3 value)&quot;`. The `outputUtill` function splits the input string based on `&quot;,&quot;` as delimiter. Is there any way so I can make the commas(,) escapable in `String str` so that when it becomes of format:-  `=&quot;13-005B,162-,0000-&quot;` and passes to `outputUtill function` it does not get split into three substring \r\n1) 13-005B \r\n2) 162- \r\n3) 0000-\r\n\r\nFor example, we pass \r\n\r\n    =&quot;370143030&quot;,=&quot;SPRING TOWNSHIP CENTRE&quot;,=&quot;1869 ZION ROAD BELLEFONTE PA 16823&quot;,=&quot;8143551&quot;,=&quot;02&quot;,=&quot;13-005B,162-,0000-&quot;, \r\n\r\nto the outputUtill function. We want output as\r\n\r\n    370143030\r\n    SPRING TOWNSHIP CENTRE\r\n    1869 ZION ROAD BELLEFONTE PA 16823\r\n    8143551\r\n    02\r\n    13-005B,162-,0000-","title":"Is there any way to make commas(,) escapable in a String in Java?","body":"<p>I have a <code>String str = &quot;13-005B,162-,0000-&quot;</code>. I have a function named <code>outputUtill</code> which need a input in format:-  <code>=&quot;(string1 value)&quot;,=&quot;(string2 value)&quot;,=&quot;(string3 value)&quot;</code>. The <code>outputUtill</code> function splits the input string based on <code>&quot;,&quot;</code> as delimiter. Is there any way so I can make the commas(,) escapable in <code>String str</code> so that when it becomes of format:-  <code>=&quot;13-005B,162-,0000-&quot;</code> and passes to <code>outputUtill function</code> it does not get split into three substring</p>\n<ol>\n<li>13-005B</li>\n<li>162-</li>\n<li>0000-</li>\n</ol>\n<p>For example, we pass</p>\n<pre><code>=&quot;370143030&quot;,=&quot;SPRING TOWNSHIP CENTRE&quot;,=&quot;1869 ZION ROAD BELLEFONTE PA 16823&quot;,=&quot;8143551&quot;,=&quot;02&quot;,=&quot;13-005B,162-,0000-&quot;, \n</code></pre>\n<p>to the outputUtill function. We want output as</p>\n<pre><code>370143030\nSPRING TOWNSHIP CENTRE\n1869 ZION ROAD BELLEFONTE PA 16823\n8143551\n02\n13-005B,162-,0000-\n</code></pre>\n"},{"tags":["java","android","database","gps"],"comments":[{"owner":{"account_id":106953,"reputation":3478,"user_id":284624,"accept_rate":73,"display_name":"Gautham"},"score":0,"creation_date":1343991688,"post_id":11794301,"comment_id":15669664,"body_markdown":"Simple googling will provide you with lot of online resources","body":"Simple googling will provide you with lot of online resources"}],"answers":[{"tags":[],"owner":{"account_id":1716480,"reputation":11,"user_id":1573431,"display_name":"sabz23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343991931,"creation_date":1343991931,"answer_id":11794494,"question_id":11794301,"body_markdown":"\t\tdb = openOrCreateDatabase(&quot;mydb.db&quot;, Context.MODE_PRIVATE, null);\r\n \t\tdb.execSQL(&quot;CREATE TABLE IF NOT EXISTS gps_details (ID INTEGER PRIMARY KEY AUTOINCREMENT, Latitude REAL, Longitude REAL);&quot;);\r\n\t\t\r\n\t     ContentValues values;\r\n\t     values = new ContentValues();\r\n\t     values.put(&quot;Latitude&quot;, latitudeValue);\r\n\t     values.put(&quot;Longitude&quot;, longitudeValue);\r\n\t     \r\n\t     db.insert(&quot;gps_details&quot;, null, values);\r\n\t     db.close();","title":"use database in android app to save gps location","body":"<pre><code>    db = openOrCreateDatabase(\"mydb.db\", Context.MODE_PRIVATE, null);\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS gps_details (ID INTEGER PRIMARY KEY AUTOINCREMENT, Latitude REAL, Longitude REAL);\");\n\n     ContentValues values;\n     values = new ContentValues();\n     values.put(\"Latitude\", latitudeValue);\n     values.put(\"Longitude\", longitudeValue);\n\n     db.insert(\"gps_details\", null, values);\n     db.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1666707,"reputation":1739,"user_id":1533953,"display_name":"Hans Hohenfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343991975,"creation_date":1343991975,"answer_id":11794504,"question_id":11794301,"body_markdown":"Some hints, start here for some information on how to get the location\r\n\r\nhttp://developer.android.com/guide/topics/location/index.html\r\n\r\nAnd go on here with information on how to work with databases in Android\r\n\r\nhttp://developer.android.com/guide/topics/data/data-storage.html#db\r\n\r\nSections 1. - 4. of this\r\n\r\nhttp://www.vogella.com/articles/AndroidSQLite/article.html\r\n\r\n tutorial will provide some more valuable information on handling databases\r\n\r\nI&#39;d advise not to copy&amp;paste some code you find here or on the web, but rather read the necessary documents to actually learn how it works","title":"use database in android app to save gps location","body":"<p>Some hints, start here for some information on how to get the location</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/location/index.html\" rel=\"nofollow\">http://developer.android.com/guide/topics/location/index.html</a></p>\n\n<p>And go on here with information on how to work with databases in Android</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/data/data-storage.html#db\" rel=\"nofollow\">http://developer.android.com/guide/topics/data/data-storage.html#db</a></p>\n\n<p>Sections 1. - 4. of this</p>\n\n<p><a href=\"http://www.vogella.com/articles/AndroidSQLite/article.html\" rel=\"nofollow\">http://www.vogella.com/articles/AndroidSQLite/article.html</a></p>\n\n<p>tutorial will provide some more valuable information on handling databases</p>\n\n<p>I'd advise not to copy&amp;paste some code you find here or on the web, but rather read the necessary documents to actually learn how it works</p>\n"}],"owner":{"account_id":1603362,"reputation":3,"user_id":1484859,"display_name":"user1484859"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636110170,"creation_date":1343991192,"question_id":11794301,"body_markdown":"I&#39;m new to programming, and I&#39;m trying to make a android application. I want to make a button, that when you press it it will save your GPS location in an database. I can make a simple access database, but I&#39;m not even sure if access can be used. Could someone, please help me with the java coding to link java to the database.\r\n\r\nThank you !","title":"use database in android app to save gps location","body":"<p>I'm new to programming, and I'm trying to make a android application. I want to make a button, that when you press it it will save your GPS location in an database. I can make a simple access database, but I'm not even sure if access can be used. Could someone, please help me with the java coding to link java to the database.</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","oop","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1636108136,"post_id":69851750,"comment_id":123474258,"body_markdown":"Assuming `HomeSearchResponse` etc implements `SearchResponse`, you can just do `ResponseWrapper&lt;? extends SearchResponse&gt;`. You should also change the `getData` methods in the subclasses to return `ResponseWrapper&lt;? extends SearchResponse&gt;`","body":"Assuming <code>HomeSearchResponse</code> etc implements <code>SearchResponse</code>, you can just do <code>ResponseWrapper&lt;? extends SearchResponse&gt;</code>. You should also change the <code>getData</code> methods in the subclasses to return <code>ResponseWrapper&lt;? extends SearchResponse&gt;</code>"},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":1,"creation_date":1636108166,"post_id":69851750,"comment_id":123474268,"body_markdown":"use generic abstract class SearchResponseFlow&lt;T extends SearchResponse&gt; { abstract ResponseWrapper&lt;T&gt; getData();}","body":"use generic abstract class SearchResponseFlow&lt;T extends SearchResponse&gt; { abstract ResponseWrapper&lt;T&gt; getData();}"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1636108662,"post_id":69851750,"comment_id":123474439,"body_markdown":"SearchResponse is imaginary as both CarSearchResponse and HomeSearchResponse do not implement SearchResponse since both are separately generated from different JSON schema files,","body":"SearchResponse is imaginary as both CarSearchResponse and HomeSearchResponse do not implement SearchResponse since both are separately generated from different JSON schema files,"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636110099,"creation_date":1636109575,"answer_id":69852126,"question_id":69851750,"body_markdown":"You can do that with Generics:\r\n\r\n    class ResponseWrapper&lt;T&gt;{\r\n\r\n    }\r\n    class HomeSearchResponse {\r\n    }\r\n\r\n    class CarSearchResponse {\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    abstract class SearchResponseFlow&lt;T&gt; {\r\n\r\n        public void execute(T response) {\r\n            System.out.println(response);\r\n        }\r\n\r\n        abstract ResponseWrapper&lt;T&gt; getData();\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    class HomeSearchResponseFlow extends SearchResponseFlow&lt;HomeSearchResponse&gt; {\r\n\r\n        @Override\r\n        public void execute(HomeSearchResponse homeSearchResponse) {\r\n            System.out.println(homeSearchResponse);\r\n        }\r\n\r\n        @Override\r\n        ResponseWrapper&lt;HomeSearchResponse&gt; getData() {\r\n            return new ResponseWrapper&lt;&gt;();\r\n        }\r\n\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    class CarSearchResponseFlow extends SearchResponseFlow&lt;CarSearchResponse&gt; {\r\n\r\n        @Override\r\n        public void execute(CarSearchResponse carSearchResponse) {\r\n            System.out.println(carSearchResponse);\r\n        }\r\n\r\n        @Override\r\n        ResponseWrapper&lt;CarSearchResponse&gt; getData() {\r\n            return new ResponseWrapper&lt;&gt;();\r\n        }\r\n    }\r\n","title":"How to relate two unrelated classes so they can be used in abstract class for same method","body":"<p>You can do that with Generics:</p>\n<pre><code>class ResponseWrapper&lt;T&gt;{\n\n}\nclass HomeSearchResponse {\n}\n\nclass CarSearchResponse {\n}\n</code></pre>\n<hr />\n<pre><code>abstract class SearchResponseFlow&lt;T&gt; {\n\n    public void execute(T response) {\n        System.out.println(response);\n    }\n\n    abstract ResponseWrapper&lt;T&gt; getData();\n}\n</code></pre>\n<hr />\n<pre><code>class HomeSearchResponseFlow extends SearchResponseFlow&lt;HomeSearchResponse&gt; {\n\n    @Override\n    public void execute(HomeSearchResponse homeSearchResponse) {\n        System.out.println(homeSearchResponse);\n    }\n\n    @Override\n    ResponseWrapper&lt;HomeSearchResponse&gt; getData() {\n        return new ResponseWrapper&lt;&gt;();\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>class CarSearchResponseFlow extends SearchResponseFlow&lt;CarSearchResponse&gt; {\n\n    @Override\n    public void execute(CarSearchResponse carSearchResponse) {\n        System.out.println(carSearchResponse);\n    }\n\n    @Override\n    ResponseWrapper&lt;CarSearchResponse&gt; getData() {\n        return new ResponseWrapper&lt;&gt;();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69852126,"answer_count":1,"score":0,"last_activity_date":1636110099,"creation_date":1636107745,"question_id":69851750,"body_markdown":"I have two json schema files from which two classes have been generated using jackson- \r\nCarSearchResponse, and HomeSearchResponse. They are not related.\r\n\r\nIn my implementation, I have created an abstract class with common functionality, and then created two concrete implementation for Car and Home.\r\n\r\n    abstract class SearchResponseFlow {\r\n    \tvoid execute() {\r\n    \t\tresponseFlow.map(response);\r\n    \t}\r\n    \r\n    \tabstract ResponseWrapper&lt;SearchResponse&gt; getData(); // SearchResponse is imaginary, what change can I make to make it accept both CarSearchResponse and HomeSearchResponse.\r\n    }\r\n    \r\n    class HomeSearchResponseFlow extends SearchResponseFlow {\r\n    \tvoid map(HomeSearchResponse resp) {\r\n    \t\t// logic\r\n    \t}\r\n    \r\n    \tResponseWrapper&lt;HomeSearchResponse&gt; getData() {\r\n    \t\t// logic\r\n    \t}\r\n    }\r\n    \r\n    class CarSearchResponseFlow extends SearchResponseFlow {\r\n    \tvoid map(CarSearchResponse resp) {\r\n    \t\t// logic\r\n    \t}\r\n    \r\n    ResponseWrapper&lt;CarSearchResponse&gt; getData() {\r\n    \t\t// logic\r\n    \t}\r\n    }\r\n\r\n`SearchResponse` is imaginary as both CarSearchResponse and HomeSearchResponse do not implement SearchResponse since both are separately generated from different JSON schema files, what change can I make to make it accept both CarSearchResponse and HomeSearchResponse.\r\nI have to consume *SearchResponse outside also, so what can be done?","title":"How to relate two unrelated classes so they can be used in abstract class for same method","body":"<p>I have two json schema files from which two classes have been generated using jackson-\nCarSearchResponse, and HomeSearchResponse. They are not related.</p>\n<p>In my implementation, I have created an abstract class with common functionality, and then created two concrete implementation for Car and Home.</p>\n<pre><code>abstract class SearchResponseFlow {\n    void execute() {\n        responseFlow.map(response);\n    }\n\n    abstract ResponseWrapper&lt;SearchResponse&gt; getData(); // SearchResponse is imaginary, what change can I make to make it accept both CarSearchResponse and HomeSearchResponse.\n}\n\nclass HomeSearchResponseFlow extends SearchResponseFlow {\n    void map(HomeSearchResponse resp) {\n        // logic\n    }\n\n    ResponseWrapper&lt;HomeSearchResponse&gt; getData() {\n        // logic\n    }\n}\n\nclass CarSearchResponseFlow extends SearchResponseFlow {\n    void map(CarSearchResponse resp) {\n        // logic\n    }\n\nResponseWrapper&lt;CarSearchResponse&gt; getData() {\n        // logic\n    }\n}\n</code></pre>\n<p><code>SearchResponse</code> is imaginary as both CarSearchResponse and HomeSearchResponse do not implement SearchResponse since both are separately generated from different JSON schema files, what change can I make to make it accept both CarSearchResponse and HomeSearchResponse.\nI have to consume *SearchResponse outside also, so what can be done?</p>\n"},{"tags":["java","selenium","google-chrome","click","load"],"answers":[{"tags":[],"owner":{"account_id":19384625,"reputation":53,"user_id":14175135,"display_name":"Priyanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598960914,"creation_date":1598960914,"answer_id":63687064,"question_id":63647716,"body_markdown":"We have explicit wait conditions to wait for the elements to be loaded.\r\nRemove the explicit, fluent, implicit wait conditions if you&#39;ve in your code.\r\n\r\nYou don&#39;t need to implement this I think it is already there in Selenium that is why we&#39;ve so many conditions for explicit wait like &quot;wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;xpath&quot;)));&quot;\r\n","title":"How to run the next line of code without waiting for page to load after click () java selenium on Chrome?","body":"<p>We have explicit wait conditions to wait for the elements to be loaded.\nRemove the explicit, fluent, implicit wait conditions if you've in your code.</p>\n<p>You don't need to implement this I think it is already there in Selenium that is why we've so many conditions for explicit wait like &quot;wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;xpath&quot;)));&quot;</p>\n"},{"tags":[],"owner":{"account_id":19222346,"reputation":1,"user_id":14045864,"display_name":"pavan kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636109858,"creation_date":1636109858,"answer_id":69852176,"question_id":63647716,"body_markdown":"I found that there is no such way and the only best possible option is to use the multithreading concept in case if we&#39;re looking to perform parallel tests on different URLs.","title":"How to run the next line of code without waiting for page to load after click () java selenium on Chrome?","body":"<p>I found that there is no such way and the only best possible option is to use the multithreading concept in case if we're looking to perform parallel tests on different URLs.</p>\n"}],"owner":{"account_id":19222346,"reputation":1,"user_id":14045864,"display_name":"pavan kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69852176,"answer_count":2,"score":0,"last_activity_date":1636109858,"creation_date":1598709145,"question_id":63647716,"body_markdown":"After a page is loaded, I will `click()` an element. Once the click is performed, I want the next command to be performed. How can I do that?\r\n\r\nI have two conditions:\r\n1. The next line of command has nothing to do with the page being loaded.\r\n2. The page needed to be continued to load.\r\n\r\nExample:\r\n\r\n\r\n    Driver.findeelementby(&quot;SignIn&quot;).click();\r\n    System.out.println(&quot;Random Done&quot;);\r\n\r\n\r\nAfter the click, the page takes 30-40 seconds to load. So, I want the o/p to be displayed as &quot;Random Done&quot; immediately after the click is performed and not to wait for those 30-40 seconds.\r\n\r\nAfter a minute or so, I will perform the actions to the page loaded manually.\r\n\r\n*Hope I&#39;m not confusing.\r\n","title":"How to run the next line of code without waiting for page to load after click () java selenium on Chrome?","body":"<p>After a page is loaded, I will <code>click()</code> an element. Once the click is performed, I want the next command to be performed. How can I do that?</p>\n<p>I have two conditions:</p>\n<ol>\n<li>The next line of command has nothing to do with the page being loaded.</li>\n<li>The page needed to be continued to load.</li>\n</ol>\n<p>Example:</p>\n<pre><code>Driver.findeelementby(&quot;SignIn&quot;).click();\nSystem.out.println(&quot;Random Done&quot;);\n</code></pre>\n<p>After the click, the page takes 30-40 seconds to load. So, I want the o/p to be displayed as &quot;Random Done&quot; immediately after the click is performed and not to wait for those 30-40 seconds.</p>\n<p>After a minute or so, I will perform the actions to the page loaded manually.</p>\n<p>*Hope I'm not confusing.</p>\n"},{"tags":["java","csv","export-to-csv","opencsv"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1635914434,"post_id":69819686,"comment_id":123416640,"body_markdown":"Please show your attempt so far and explain the difficulty you&#39;re having.","body":"Please show your attempt so far and explain the difficulty you&#39;re having."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1635916020,"post_id":69819686,"comment_id":123416878,"body_markdown":"What are you struggling with specifically? OpenCSV has very simple and clear [instructions](http://opencsv.sourceforge.net/#reading_into_an_array_of_strings) on how to open a CSV file using `CSVReader`, then you can process the file one line at a time to get/store the data in any way that you wish.","body":"What are you struggling with specifically? OpenCSV has very simple and clear <a href=\"http://opencsv.sourceforge.net/#reading_into_an_array_of_strings\" rel=\"nofollow noreferrer\">instructions</a> on how to open a CSV file using <code>CSVReader</code>, then you can process the file one line at a time to get/store the data in any way that you wish."}],"answers":[{"tags":[],"owner":{"account_id":23219944,"reputation":76,"user_id":17312340,"display_name":"Ravi Korrapati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635919084,"creation_date":1635919084,"answer_id":69820241,"question_id":69819686,"body_markdown":"There is no in-built method in CSVReader to read values using column names.\r\nBut you can have a workaround as below for that by have another method created to get the correct column position.\r\n\r\n        private int getPositionUsingName(String[] allColumnNames, String columnName) {\r\n               return Arrays.asList(allColumnNames).indexOf(columnName);\r\n        }\r\n\r\nSo your method will be like:\r\n\r\n    CSVReader csvReader = new CSVReader(new FileReader(&quot;inputFile.csv&quot;));\r\n    String [] allColumnNames;\r\n    String [] nextLine;\r\n    int idPosition;\r\n    int namePosition;\r\n    int agePosition;\r\n    \r\n    allColumnNames = csvReader.readNext();\r\n    idPosition = getPositionUsingName(allColumnNames, &quot;ID&quot;);\r\n    namePosition = getPositionUsingName(allColumnNames, &quot;Name&quot;);\r\n    agePosition = getPositionUsingName(allColumnNames, &quot;Age&quot;);\r\n    \r\n    while ((nextLine = csvReader.readNext()) != null) {\r\n       System.out.println(nextLine[idPosition]+&quot; &quot;+nextLine[namePosition]+&quot; &quot;+nextLine[agePosition]);\r\n    }\r\n\r\n","title":"How to extract CSV columns with the specific header names and output to a new file?","body":"<p>There is no in-built method in CSVReader to read values using column names.\nBut you can have a workaround as below for that by have another method created to get the correct column position.</p>\n<pre><code>    private int getPositionUsingName(String[] allColumnNames, String columnName) {\n           return Arrays.asList(allColumnNames).indexOf(columnName);\n    }\n</code></pre>\n<p>So your method will be like:</p>\n<pre><code>CSVReader csvReader = new CSVReader(new FileReader(&quot;inputFile.csv&quot;));\nString [] allColumnNames;\nString [] nextLine;\nint idPosition;\nint namePosition;\nint agePosition;\n\nallColumnNames = csvReader.readNext();\nidPosition = getPositionUsingName(allColumnNames, &quot;ID&quot;);\nnamePosition = getPositionUsingName(allColumnNames, &quot;Name&quot;);\nagePosition = getPositionUsingName(allColumnNames, &quot;Age&quot;);\n\nwhile ((nextLine = csvReader.readNext()) != null) {\n   System.out.println(nextLine[idPosition]+&quot; &quot;+nextLine[namePosition]+&quot; &quot;+nextLine[agePosition]);\n}\n</code></pre>\n"}],"owner":{"account_id":17410509,"reputation":23,"user_id":12617767,"display_name":"LeeGeon-jin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69820241,"answer_count":1,"score":1,"last_activity_date":1636109725,"creation_date":1635913717,"question_id":69819686,"body_markdown":"If I have the file. The content inside looks like this: \r\n\r\n    ID,Name,Gender,Age,Enabled\r\n    1,Kevin,M,1,true\r\n    2,James,M,2,true\r\n    3,Jane,F,3,true\r\n    4,Jenny,F,4,true\r\n\r\nNow I would like to extract the columns: ID, name, Gender and output them to a new file the following:\r\n\r\n    ID,Name,Age\r\n    1,Kevin,1\r\n    2,James,2\r\n    3,Jane,3\r\n    4,Jenny,4\r\n\r\nI would like to extract the columns based on the header name, instead of the index number.\r\n\r\nI would like to use OpenCSV.\r\n\r\nHow to achieve it? \r\n\r\n","title":"How to extract CSV columns with the specific header names and output to a new file?","body":"<p>If I have the file. The content inside looks like this:</p>\n<pre><code>ID,Name,Gender,Age,Enabled\n1,Kevin,M,1,true\n2,James,M,2,true\n3,Jane,F,3,true\n4,Jenny,F,4,true\n</code></pre>\n<p>Now I would like to extract the columns: ID, name, Gender and output them to a new file the following:</p>\n<pre><code>ID,Name,Age\n1,Kevin,1\n2,James,2\n3,Jane,3\n4,Jenny,4\n</code></pre>\n<p>I would like to extract the columns based on the header name, instead of the index number.</p>\n<p>I would like to use OpenCSV.</p>\n<p>How to achieve it?</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1636102463,"post_id":69850604,"comment_id":123472153,"body_markdown":"Obviously your `warehouseService.partialUpdate()` doesn&#39;t do what you think it does.","body":"Obviously your <code>warehouseService.partialUpdate()</code> doesn&#39;t do what you think it does."},{"owner":{"account_id":5928209,"reputation":313,"user_id":4663507,"display_name":"Mateusz Jaszewski"},"score":0,"creation_date":1636103514,"post_id":69850604,"comment_id":123472518,"body_markdown":"Can you post warehouseService.partialUpdate() source code ?","body":"Can you post warehouseService.partialUpdate() source code ?"},{"owner":{"account_id":21089091,"reputation":11,"user_id":15501433,"display_name":"Erick Caron"},"score":0,"creation_date":1636107268,"post_id":69850604,"comment_id":123473961,"body_markdown":"Here it is: public void partialUpdate(Integer id, Warehouse warehouse) {\n        findById(id);\n        warehouse.setId(id);\n        warehouseRepository.save(warehouse);\n    }\n\nI think that I even by myself understood the issue at this point.. but not sure about resolution..","body":"Here it is: public void partialUpdate(Integer id, Warehouse warehouse) {         findById(id);         warehouse.setId(id);         warehouseRepository.save(warehouse);     }  I think that I even by myself understood the issue at this point.. but not sure about resolution.."},{"owner":{"account_id":21089091,"reputation":11,"user_id":15501433,"display_name":"Erick Caron"},"score":0,"creation_date":1636107955,"post_id":69850604,"comment_id":123474195,"body_markdown":"Is there any needs to iterate threw the new warehouse object from Request Body, comparing it to the actual one on DB, and if fields are differents, replace their values from actual one on DB to new warehouse object from Request Body ?","body":"Is there any needs to iterate threw the new warehouse object from Request Body, comparing it to the actual one on DB, and if fields are differents, replace their values from actual one on DB to new warehouse object from Request Body ?"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636109724,"creation_date":1636109724,"answer_id":69852151,"question_id":69850604,"body_markdown":"Use a `mapper` to update your Entity and then persist it again. I can more than recommend [MapStruct][1]!\r\n\r\nYou can create a `Mapper` this way:\r\n\r\n```java\r\n@Mapper\r\npublic interface WarehouseMapper {\r\n    \r\n    // Ignore null Values\r\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    void updateWarehouse(Warehouse updatedWarehouse, @MappingTarget Warehouse oldWarehouse);\r\n}\r\n```\r\n\r\nThen you can get your mapper in the `partialUpdate()` function and use it this way:\r\n\r\n```java\r\npublic void partialUpdate(Integer id, Warehouse updatedWarehouse) \r\n{ \r\n\tWarehouse oldWarehouse = findById(id); \r\n\t\r\n\tWarehouseMapper mapperInstance = Mappers.getMapper( WarehouseMapper.class );\r\n\r\n\tmapperInstance.updateWarehouse(updatedWarehouse, oldWarehouse); // Maps the NON NULL fields of updatedWarehouse to oldWarehouse fields\r\n\t\r\n\twarehouseRepository.save(oldWarehouse); \r\n}\r\n```\r\n\r\n\r\n# OR\r\n\r\nDo the mapping yourself and do not use any external dependencies:\r\n\r\n```java\r\npublic void partialUpdate(Integer id, Warehouse updatedWarehouse) \r\n{ \r\n\tWarehouse oldWarehouse = findById(id); \r\n\t\r\n\tif(updatedWarehouse.getLocation() != null)\r\n\t{\r\n\t\toldWarehouse.setLocation(updatedWarehouse.getLocation());\r\n\t}\r\n\t\r\n\t// ... And so on for each field\r\n\t\r\n\twarehouseRepository.save(oldWarehouse); \r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://mapstruct.org/","title":"Java - RestAPI - Patch not working efficiently","body":"<p>Use a <code>mapper</code> to update your Entity and then persist it again. I can more than recommend <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>!</p>\n<p>You can create a <code>Mapper</code> this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface WarehouseMapper {\n    \n    // Ignore null Values\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n    void updateWarehouse(Warehouse updatedWarehouse, @MappingTarget Warehouse oldWarehouse);\n}\n</code></pre>\n<p>Then you can get your mapper in the <code>partialUpdate()</code> function and use it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void partialUpdate(Integer id, Warehouse updatedWarehouse) \n{ \n    Warehouse oldWarehouse = findById(id); \n    \n    WarehouseMapper mapperInstance = Mappers.getMapper( WarehouseMapper.class );\n\n    mapperInstance.updateWarehouse(updatedWarehouse, oldWarehouse); // Maps the NON NULL fields of updatedWarehouse to oldWarehouse fields\n    \n    warehouseRepository.save(oldWarehouse); \n}\n</code></pre>\n<h1>OR</h1>\n<p>Do the mapping yourself and do not use any external dependencies:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void partialUpdate(Integer id, Warehouse updatedWarehouse) \n{ \n    Warehouse oldWarehouse = findById(id); \n    \n    if(updatedWarehouse.getLocation() != null)\n    {\n        oldWarehouse.setLocation(updatedWarehouse.getLocation());\n    }\n    \n    // ... And so on for each field\n    \n    warehouseRepository.save(oldWarehouse); \n}\n</code></pre>\n"}],"owner":{"account_id":21089091,"reputation":11,"user_id":15501433,"display_name":"Erick Caron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69852151,"answer_count":1,"score":0,"last_activity_date":1636109724,"creation_date":1636102197,"question_id":69850604,"body_markdown":"I&#39;ve a small problem with my method using protocol PATCH in my RestController, I&#39;m creating an object Warehouse.\r\n\r\n1st I&#39;m creating it via POST:\r\n\r\n    {\r\n        &quot;location&quot; : &quot;Paris&quot;,\r\n        &quot;maxCapacity&quot; : &quot;200&quot;\r\n    }\r\n\r\nResult:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;location&quot;: &quot;Paris&quot;,\r\n            &quot;currentCapacity&quot;: 0,\r\n            &quot;maxCapacity&quot;: 200,\r\n            &quot;cargosList&quot;: [],\r\n            &quot;status&quot;: &quot;EMPTY&quot;\r\n        }\r\n    ]\r\n\r\nWhen for example, PATCHing only field location:\r\n\r\n    {\r\n        &quot;location&quot; : &quot;New York&quot;\r\n    }\r\n\r\nAnd when reading with GET:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;location&quot;: &quot;New York&quot;,\r\n            &quot;currentCapacity&quot;: 0,\r\n            &quot;maxCapacity&quot;: null,\r\n            &quot;cargosList&quot;: [],\r\n            &quot;status&quot;: &quot;EMPTY&quot;\r\n        }\r\n    ]\r\n\r\nWhy the field maxCapacity have been changed to null although my PATCH request was only on field location?\r\n\r\nMy Entity:\r\n\r\n    package net.erickcaron.warehouseapplicationapi.models;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonManagedReference;\r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.*;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    \r\n    @Entity(name = &quot;warehouses&quot;)\r\n    public class Warehouse {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String location;\r\n        private Integer currentCapacity = 0;\r\n        private Integer maxCapacity;\r\n    \r\n        @OneToMany\r\n        @JsonManagedReference\r\n        private List&lt;Cargo&gt; cargosList = new ArrayList&lt;&gt;();\r\n    \r\n        @Enumerated(value = EnumType.STRING)\r\n        private WarehouseStatus status = WarehouseStatus.EMPTY;\r\n    \r\n    \r\n    }\r\n\r\nMy RestController:\r\n\r\n    package net.erickcaron.warehouseapplicationapi.rest;\r\n    \r\n    import net.erickcaron.warehouseapplicationapi.models.Warehouse;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import net.erickcaron.warehouseapplicationapi.services.WarehouseService;\r\n    \r\n    import javax.transaction.Transactional;\r\n    import java.util.List;\r\n    \r\n    @Transactional\r\n    @RestController\r\n    @RequestMapping(&quot;/warehouses&quot;)\r\n    public class WarehouseRestController {\r\n    \r\n        @Autowired\r\n        private WarehouseService warehouseService;\r\n    \r\n        @PostMapping\r\n        public Integer create(@RequestBody Warehouse warehouse){\r\n            return warehouseService.create(warehouse);\r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public Warehouse findById(@PathVariable Integer id){\r\n            return warehouseService.findById(id);\r\n        }\r\n    \r\n        @GetMapping\r\n        public List&lt;Warehouse&gt; findAll(){\r\n            return warehouseService.findAll();\r\n        }\r\n    \r\n        @PatchMapping(&quot;/{id}&quot;) //TODO not working!\r\n        public void partialUpdate(@PathVariable Integer id, @RequestBody Warehouse warehouse){\r\n            warehouseService.partialUpdate(id, warehouse);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public void deleteById(@PathVariable Integer id){\r\n            warehouseService.deleteById(id);\r\n        }\r\n    \r\n        @PatchMapping(&quot;/{warehouseId}/cargos/{cargoId}&quot;)\r\n        public void addCargoToWarehouse(@PathVariable Integer warehouseId, @PathVariable Integer cargoId){\r\n            warehouseService.addCargoToWarehouse(warehouseId, cargoId);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\nThanks for any help,\r\nRegards,\r\nErick\r\n\r\n\r\n","title":"Java - RestAPI - Patch not working efficiently","body":"<p>I've a small problem with my method using protocol PATCH in my RestController, I'm creating an object Warehouse.</p>\n<p>1st I'm creating it via POST:</p>\n<pre><code>{\n    &quot;location&quot; : &quot;Paris&quot;,\n    &quot;maxCapacity&quot; : &quot;200&quot;\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;location&quot;: &quot;Paris&quot;,\n        &quot;currentCapacity&quot;: 0,\n        &quot;maxCapacity&quot;: 200,\n        &quot;cargosList&quot;: [],\n        &quot;status&quot;: &quot;EMPTY&quot;\n    }\n]\n</code></pre>\n<p>When for example, PATCHing only field location:</p>\n<pre><code>{\n    &quot;location&quot; : &quot;New York&quot;\n}\n</code></pre>\n<p>And when reading with GET:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;location&quot;: &quot;New York&quot;,\n        &quot;currentCapacity&quot;: 0,\n        &quot;maxCapacity&quot;: null,\n        &quot;cargosList&quot;: [],\n        &quot;status&quot;: &quot;EMPTY&quot;\n    }\n]\n</code></pre>\n<p>Why the field maxCapacity have been changed to null although my PATCH request was only on field location?</p>\n<p>My Entity:</p>\n<pre><code>package net.erickcaron.warehouseapplicationapi.models;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n\n@Entity(name = &quot;warehouses&quot;)\npublic class Warehouse {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String location;\n    private Integer currentCapacity = 0;\n    private Integer maxCapacity;\n\n    @OneToMany\n    @JsonManagedReference\n    private List&lt;Cargo&gt; cargosList = new ArrayList&lt;&gt;();\n\n    @Enumerated(value = EnumType.STRING)\n    private WarehouseStatus status = WarehouseStatus.EMPTY;\n\n\n}\n</code></pre>\n<p>My RestController:</p>\n<pre><code>package net.erickcaron.warehouseapplicationapi.rest;\n\nimport net.erickcaron.warehouseapplicationapi.models.Warehouse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport net.erickcaron.warehouseapplicationapi.services.WarehouseService;\n\nimport javax.transaction.Transactional;\nimport java.util.List;\n\n@Transactional\n@RestController\n@RequestMapping(&quot;/warehouses&quot;)\npublic class WarehouseRestController {\n\n    @Autowired\n    private WarehouseService warehouseService;\n\n    @PostMapping\n    public Integer create(@RequestBody Warehouse warehouse){\n        return warehouseService.create(warehouse);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Warehouse findById(@PathVariable Integer id){\n        return warehouseService.findById(id);\n    }\n\n    @GetMapping\n    public List&lt;Warehouse&gt; findAll(){\n        return warehouseService.findAll();\n    }\n\n    @PatchMapping(&quot;/{id}&quot;) //TODO not working!\n    public void partialUpdate(@PathVariable Integer id, @RequestBody Warehouse warehouse){\n        warehouseService.partialUpdate(id, warehouse);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteById(@PathVariable Integer id){\n        warehouseService.deleteById(id);\n    }\n\n    @PatchMapping(&quot;/{warehouseId}/cargos/{cargoId}&quot;)\n    public void addCargoToWarehouse(@PathVariable Integer warehouseId, @PathVariable Integer cargoId){\n        warehouseService.addCargoToWarehouse(warehouseId, cargoId);\n    }\n\n\n\n\n\n\n}\n</code></pre>\n<p>Thanks for any help,\nRegards,\nErick</p>\n"},{"tags":["java","maven","jpa","config","system"],"comments":[{"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"score":0,"creation_date":1612620216,"post_id":66065806,"comment_id":116826211,"body_markdown":"Wildfly/JBoss suports this, using ${} placeholders.","body":"Wildfly/JBoss suports this, using ${} placeholders."},{"owner":{"account_id":19556453,"reputation":21,"user_id":14310702,"display_name":"kim ling hang"},"score":0,"creation_date":1612689208,"post_id":66065806,"comment_id":116840472,"body_markdown":"thank you I&#39;ll look for a way to this","body":"thank you I&#39;ll look for a way to this"}],"answers":[{"tags":[],"owner":{"account_id":17904646,"reputation":1,"user_id":13008140,"display_name":"SuaadBatis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636109577,"creation_date":1636109577,"answer_id":69852128,"question_id":66065806,"body_markdown":"\r\n\r\nFollow the below steps:\r\n\r\n1- Inside  the.xml file add these :\r\n```\r\n&lt;parameter name=&quot;user key  &quot; value= &quot;user name&quot; &gt;&lt;/parameter&gt;\r\n&lt;parameter pass=&quot;pass key  &quot; value= &quot;user pass&quot; &gt;&lt;/parameter&gt;\r\n```\r\n2- Inside method:\r\n\r\n```\r\nSystem.getProperty(&quot;User Key here&quot;) \r\nand System.getProperty(&quot;pass  key here&quot;) \r\n```","title":"how can I use System.getProperty in persistence.xml file","body":"<p>Follow the below steps:</p>\n<p>1- Inside  the.xml file add these :</p>\n<pre><code>&lt;parameter name=&quot;user key  &quot; value= &quot;user name&quot; &gt;&lt;/parameter&gt;\n&lt;parameter pass=&quot;pass key  &quot; value= &quot;user pass&quot; &gt;&lt;/parameter&gt;\n</code></pre>\n<p>2- Inside method:</p>\n<pre><code>System.getProperty(&quot;User Key here&quot;) \nand System.getProperty(&quot;pass  key here&quot;) \n</code></pre>\n"}],"owner":{"account_id":19556453,"reputation":21,"user_id":14310702,"display_name":"kim ling hang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636109577,"creation_date":1612538132,"question_id":66065806,"body_markdown":"I&#39;m workin in on java project ( with maven) I have a file (env-dev-windows.vars) for config like this :\r\n\r\n    APPLICATION_LOG_DIR=C:\\DIRLOG\r\n    APPLICATION_BDD_URL=jdbc::PostgreSQL://localhost:5432/postgres\r\n    APPLICATION_USER=user_name\r\n    APPLICATION_PASSWD=passwd\r\n    ...\r\nin persistence.xml file instead of using the username and password like this  :\r\n\r\n    \t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/test&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;James123&quot; /&gt;\r\n\r\nI want to replace them with\r\n \r\n    System.getProperty(&quot;APPLICATION_USER&quot;) \r\n    and System.getProperty(&quot;APPLICATION_PASSWD&quot;) \r\n\r\nI just want to use the Application properties and not for exemple ( the windows env variables defined in a local machine (in the parameters of a machine)\r\n \r\nIs this possible ? for the moment I have no idea how to do it? is there another alternative \r\n","title":"how can I use System.getProperty in persistence.xml file","body":"<p>I'm workin in on java project ( with maven) I have a file (env-dev-windows.vars) for config like this :</p>\n<pre><code>APPLICATION_LOG_DIR=C:\\DIRLOG\nAPPLICATION_BDD_URL=jdbc::PostgreSQL://localhost:5432/postgres\nAPPLICATION_USER=user_name\nAPPLICATION_PASSWD=passwd\n...\n</code></pre>\n<p>in persistence.xml file instead of using the username and password like this  :</p>\n<pre><code>    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/test&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;James123&quot; /&gt;\n</code></pre>\n<p>I want to replace them with</p>\n<pre><code>System.getProperty(&quot;APPLICATION_USER&quot;) \nand System.getProperty(&quot;APPLICATION_PASSWD&quot;) \n</code></pre>\n<p>I just want to use the Application properties and not for exemple ( the windows env variables defined in a local machine (in the parameters of a machine)</p>\n<p>Is this possible ? for the moment I have no idea how to do it? is there another alternative</p>\n"},{"tags":["java","eclipse","selenium","selenium-webdriver","windows-10"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636109429,"creation_date":1636109429,"answer_id":69852088,"question_id":69837809,"body_markdown":"As you don&#39;t see any compilation errors, it seems installation of Selenium within Eclipse IDE or configuration of Selenium jars within Eclipse IDE have no issues.\r\n\r\nHowever, as you are in [tag:windows-10] environment within the `System.setProperty()` line you need to pass the absolute path of the [ChromeDriver](https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747) executable including the extension i.e. _`exe`_.\r\n\r\nSo effectively, your line of code will be:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\user\\\\Desktop\\\\Selenuim\\\\chromedriver.exe&quot;);\r\n\t\r\nAdditionally, which invoking the url through _`get()`_ you need to pass the complete url as:\r\n\r\n\tdriver.get(&quot;https://www.google.com/&quot;);","title":"How to Install Selenium on Eclipse (Java) with WebDriver for Chrome Windows 10","body":"<p>As you don't see any compilation errors, it seems installation of Selenium within Eclipse IDE or configuration of Selenium jars within Eclipse IDE have no issues.</p>\n<p>However, as you are in <a href=\"/questions/tagged/windows-10\" class=\"post-tag\" title=\"show questions tagged &#39;windows-10&#39;\" rel=\"tag\">windows-10</a> environment within the <code>System.setProperty()</code> line you need to pass the absolute path of the <a href=\"https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747\">ChromeDriver</a> executable including the extension i.e. <em><code>exe</code></em>.</p>\n<p>So effectively, your line of code will be:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\user\\\\Desktop\\\\Selenuim\\\\chromedriver.exe&quot;);\n</code></pre>\n<p>Additionally, which invoking the url through <em><code>get()</code></em> you need to pass the complete url as:</p>\n<pre><code>driver.get(&quot;https://www.google.com/&quot;);\n</code></pre>\n"}],"owner":{"account_id":23064537,"reputation":1,"user_id":17179161,"display_name":"LiquidChild"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636109429,"creation_date":1636021977,"question_id":69837809,"body_markdown":"How do I install Selenium on Windows10 with WebDriver for Chrome?\r\nI didn&#39;t find a full tutorial for that and I keep getting this error:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fYLRU.png\r\n\r\nAnd this Exception in Eclipse:\r\n\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.chrome.FatalChromeException: Cannot create chrome driver\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.chrome.ChromeCommandExecutor.start(ChromeCommandExecutor.java:382)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.startClient(ChromeDriver.java:65)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:85)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:25)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:43)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:53)\r\n\tat Priority_Automation.MyAutomation.main(MyAutomation.java:18)\r\n```\r\n\r\nThis is the code:\r\n\r\n    import java.io.File;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    public class MyAutomation {\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t//ChromeOptions options = new ChromeOptions();\r\n    \t\t//options.addExtensions(new File(&quot;/path/to/extension.crx&quot;));\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, \r\n      &quot;C:\\\\Users\\\\user\\\\Desktop\\\\Selenuim\\\\chromedriver&quot;);\r\n    \t\t ChromeDriver driver = new ChromeDriver();\r\n    \t\tdriver.get(&quot;www.google.com&quot;);\r\n    \t\tSystem.out.println(&quot;Testing&quot;);\r\n    \t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nPlease assist.","title":"How to Install Selenium on Eclipse (Java) with WebDriver for Chrome Windows 10","body":"<p>How do I install Selenium on Windows10 with WebDriver for Chrome?\nI didn't find a full tutorial for that and I keep getting this error:</p>\n<p><img src=\"https://i.stack.imgur.com/fYLRU.png\" alt=\"enter image description here\" /></p>\n<p>And this Exception in Eclipse:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.chrome.FatalChromeException: Cannot create chrome driver\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.chrome.ChromeCommandExecutor.start(ChromeCommandExecutor.java:382)\n    at org.openqa.selenium.chrome.ChromeDriver.startClient(ChromeDriver.java:65)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:85)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:25)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:43)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:53)\n    at Priority_Automation.MyAutomation.main(MyAutomation.java:18)\n</code></pre>\n<p>This is the code:</p>\n<pre><code>import java.io.File;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class MyAutomation {\n    \n    public static void main(String[] args)\n    {\n        //ChromeOptions options = new ChromeOptions();\n        //options.addExtensions(new File(&quot;/path/to/extension.crx&quot;));\n        \n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;, \n  &quot;C:\\\\Users\\\\user\\\\Desktop\\\\Selenuim\\\\chromedriver&quot;);\n         ChromeDriver driver = new ChromeDriver();\n        driver.get(&quot;www.google.com&quot;);\n        System.out.println(&quot;Testing&quot;);\n            \n    }\n\n}\n</code></pre>\n<p>Please assist.</p>\n"},{"tags":["java","generics","interface","comparable","raw-types"],"comments":[{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":2,"creation_date":1391492517,"post_id":21544716,"comment_id":32535131,"body_markdown":"Not 100% sure, but should this: `compareTo(Item o)` be `compareTo(Item&lt;T&gt; o)`?","body":"Not 100% sure, but should this: <code>compareTo(Item o)</code> be <code>compareTo(Item&lt;T&gt; o)</code>?"},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":3,"creation_date":1391549557,"post_id":21544716,"comment_id":32569350,"body_markdown":"for best results use `&lt;T extends Comparable&lt;? super T&gt;&gt;`","body":"for best results use <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code>"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1490578107,"post_id":21544716,"comment_id":73158449,"body_markdown":"You should select an answer for this question.","body":"You should select an answer for this question."}],"answers":[{"tags":[],"owner":{"account_id":2876105,"reputation":3271,"user_id":2468131,"display_name":"Njol"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1391492532,"creation_date":1391492532,"answer_id":21544790,"question_id":21544716,"body_markdown":"You&#39;re using raw types in your class definition (`Item&lt;T&gt;` is generic, but you&#39;re omitting the type parameter `&lt;T&gt;`), change it to:\r\n\r\n    class Item&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;Item&lt;T&gt;&gt;\r\n\r\n(Note the last `&lt;T&gt;`)\r\n\r\nThe `compareTo` method will then have to be changed as well:\r\n\r\n    public int compareTo(Item&lt;T&gt; o) { // again, use generics\r\n        return getT().compareTo(o.getT());\r\n    }","title":"Implementing Comparable with a generic class","body":"<p>You're using raw types in your class definition (<code>Item&lt;T&gt;</code> is generic, but you're omitting the type parameter <code>&lt;T&gt;</code>), change it to:</p>\n\n<pre><code>class Item&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;Item&lt;T&gt;&gt;\n</code></pre>\n\n<p>(Note the last <code>&lt;T&gt;</code>)</p>\n\n<p>The <code>compareTo</code> method will then have to be changed as well:</p>\n\n<pre><code>public int compareTo(Item&lt;T&gt; o) { // again, use generics\n    return getT().compareTo(o.getT());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1531320402,"creation_date":1391492542,"answer_id":21544792,"question_id":21544716,"body_markdown":"`Item` (without any type argument) is a [raw type](https://stackoverflow.com/q/2770321/2891664), so:\r\n\r\n1. We could pass any kind of `Item` to `Item.compareTo`. For example, this would compile:\r\n\r\n        new Item&lt;String&gt;().compareTo(new Item&lt;Integer&gt;())\r\n\r\n2. The method `o.getT()` returns `Comparable` instead of `T`, which causes the compilation error.\r\n\r\n In the example under the 1st point, after passing `Item&lt;Integer&gt;` to `Item.compareTo`, we would then erroneously pass an `Integer` to `String.compareTo`. The compilation error prevents us from writing the code which does that.\r\n\r\nI think you just need to remove the raw types:\r\n\r\n    public class Item&lt;T extends Comparable&lt;T&gt;&gt;\r\n    implements Comparable&lt;Item&lt;T&gt;&gt; {\r\n\r\n        ...\r\n\r\n        @Override\r\n        public int compareTo(Item&lt;T&gt; o) {\r\n            return getT().compareTo(o.getT());\r\n        }\r\n    }","title":"Implementing Comparable with a generic class","body":"<p><code>Item</code> (without any type argument) is a <a href=\"https://stackoverflow.com/q/2770321/2891664\">raw type</a>, so:</p>\n\n<ol>\n<li><p>We could pass any kind of <code>Item</code> to <code>Item.compareTo</code>. For example, this would compile:</p>\n\n<pre><code>new Item&lt;String&gt;().compareTo(new Item&lt;Integer&gt;())\n</code></pre></li>\n<li><p>The method <code>o.getT()</code> returns <code>Comparable</code> instead of <code>T</code>, which causes the compilation error.</p>\n\n<p>In the example under the 1st point, after passing <code>Item&lt;Integer&gt;</code> to <code>Item.compareTo</code>, we would then erroneously pass an <code>Integer</code> to <code>String.compareTo</code>. The compilation error prevents us from writing the code which does that.</p></li>\n</ol>\n\n<p>I think you just need to remove the raw types:</p>\n\n<pre><code>public class Item&lt;T extends Comparable&lt;T&gt;&gt;\nimplements Comparable&lt;Item&lt;T&gt;&gt; {\n\n    ...\n\n    @Override\n    public int compareTo(Item&lt;T&gt; o) {\n        return getT().compareTo(o.getT());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3654320,"reputation":182,"user_id":3045749,"accept_rate":33,"display_name":"aditya"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1391755230,"creation_date":1391497804,"answer_id":21546112,"question_id":21544716,"body_markdown":"I think, this makes more sense. I have compiled and tested the following  : \r\n\r\n    class Item&lt;E extends Comparable&lt;E&gt;&gt; implements Comparable&lt;E&gt; {\r\n\r\n\t private int s;\r\n\t private E t;\r\n\r\n\t public E getE() {\r\n\t     return t;\r\n\t }\r\n\r\n\t @Override\r\n\t public int compareTo(E e) {\r\n\t     return getE().compareTo(e);\r\n\t }\r\n\t \r\n\t public int compareTo(Item&lt;E&gt; other)\r\n\t    {\r\n\t        return getE().compareTo(other.getE());\r\n\t    }\r\n\t \r\n\t }\r\nNotice that you now need to have two compareTo methods.","title":"Implementing Comparable with a generic class","body":"<p>I think, this makes more sense. I have compiled and tested the following  : </p>\n\n<pre><code>class Item&lt;E extends Comparable&lt;E&gt;&gt; implements Comparable&lt;E&gt; {\n\n private int s;\n private E t;\n\n public E getE() {\n     return t;\n }\n\n @Override\n public int compareTo(E e) {\n     return getE().compareTo(e);\n }\n\n public int compareTo(Item&lt;E&gt; other)\n    {\n        return getE().compareTo(other.getE());\n    }\n\n }\n</code></pre>\n\n<p>Notice that you now need to have two compareTo methods.</p>\n"},{"tags":[],"owner":{"account_id":2204705,"reputation":311,"user_id":1948214,"accept_rate":75,"display_name":"keesp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636108965,"creation_date":1636108965,"answer_id":69851997,"question_id":21544716,"body_markdown":"A bit of a related issue that I ran into, and couldn&#39;t find a concrete answer.\r\n\r\nSuppose you have an interface\r\n\r\n    public interface myInt extends Comparable&lt;myInt&gt;\r\n\r\nAnd a class `MyClass` that implements `myInt`. \r\n\r\nNow you *only* want to compare `MyClass` with `MyClass` objects. How should we rewrite the interface and the class?\r\n\r\nAnswer:\r\n\r\n\r\n    public interface myInt&lt;T extends myInt&lt;T&gt;&gt; extends Comparable&lt;T&gt;\r\n    public class MyClass implements myInt&lt;MyClass&gt;\r\n\r\n","title":"Implementing Comparable with a generic class","body":"<p>A bit of a related issue that I ran into, and couldn't find a concrete answer.</p>\n<p>Suppose you have an interface</p>\n<pre><code>public interface myInt extends Comparable&lt;myInt&gt;\n</code></pre>\n<p>And a class <code>MyClass</code> that implements <code>myInt</code>.</p>\n<p>Now you <em>only</em> want to compare <code>MyClass</code> with <code>MyClass</code> objects. How should we rewrite the interface and the class?</p>\n<p>Answer:</p>\n<pre><code>public interface myInt&lt;T extends myInt&lt;T&gt;&gt; extends Comparable&lt;T&gt;\npublic class MyClass implements myInt&lt;MyClass&gt;\n</code></pre>\n"}],"owner":{"account_id":1560690,"reputation":477,"user_id":1450620,"accept_rate":17,"display_name":"frank.liu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89082,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":21544792,"answer_count":4,"score":27,"last_activity_date":1636108965,"creation_date":1391492146,"question_id":21544716,"body_markdown":"I want to define a class that implements the generic Comparable interface. While in my class I also defined a generic type element `T`. In order to implement the interface, I delegate the comparison to `T`. Here is my code:\r\n\r\n    public class Item&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;Item&gt; {\r\n\r\n        private int s;\r\n        private T t;\r\n\r\n        public T getT() {\r\n            return t;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Item o) {\r\n            return getT().compareTo(o.getT());\r\n        }\r\n    }\r\n\r\nWhen I try to compile it, I get the following error information:\r\n\r\n    Item.java:11: error: method compareTo in interface Comparable&lt;T#2&gt; cannot be applied to given types;\r\n            return getT().compareTo(o.getT());\r\n                         ^\r\n      required: T#1\r\n      found: Comparable\r\n      reason: actual argument Comparable cannot be converted to T#1 by method invocation conversion\r\n      where T#1,T#2 are type-variables:\r\n        T#1 extends Comparable&lt;T#1&gt; declared in class Item\r\n        T#2 extends Object declared in interface Comparable\r\n    1 error\r\n\r\nCan anybody tell me why and how to fix it?","title":"Implementing Comparable with a generic class","body":"<p>I want to define a class that implements the generic Comparable interface. While in my class I also defined a generic type element <code>T</code>. In order to implement the interface, I delegate the comparison to <code>T</code>. Here is my code:</p>\n\n<pre><code>public class Item&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;Item&gt; {\n\n    private int s;\n    private T t;\n\n    public T getT() {\n        return t;\n    }\n\n    @Override\n    public int compareTo(Item o) {\n        return getT().compareTo(o.getT());\n    }\n}\n</code></pre>\n\n<p>When I try to compile it, I get the following error information:</p>\n\n<pre><code>Item.java:11: error: method compareTo in interface Comparable&lt;T#2&gt; cannot be applied to given types;\n        return getT().compareTo(o.getT());\n                     ^\n  required: T#1\n  found: Comparable\n  reason: actual argument Comparable cannot be converted to T#1 by method invocation conversion\n  where T#1,T#2 are type-variables:\n    T#1 extends Comparable&lt;T#1&gt; declared in class Item\n    T#2 extends Object declared in interface Comparable\n1 error\n</code></pre>\n\n<p>Can anybody tell me why and how to fix it?</p>\n"},{"tags":["javascript","java","ajax","datatables"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1636117646,"post_id":69851950,"comment_id":123477647,"body_markdown":"Client-side sorting is disabled when you use server-side processing (the same as client-side paging and filtering are also disabled). For all of these actions, you are normally expected to handle them in your server-side code. Is there a reason why you cannot do that here?","body":"Client-side sorting is disabled when you use server-side processing (the same as client-side paging and filtering are also disabled). For all of these actions, you are normally expected to handle them in your server-side code. Is there a reason why you cannot do that here?"},{"owner":{"account_id":21817029,"reputation":1,"user_id":16113732,"display_name":"FatimaHamieh"},"score":0,"creation_date":1636376029,"post_id":69851950,"comment_id":123531897,"body_markdown":"@andrewJames thank u for the clarification. Yes I will try to handle the ordering from the server-side but I don&#39;t know how can I send the clicked column name and its current order to the server-side to apply the sorting from the server","body":"@andrewJames thank u for the clarification. Yes I will try to handle the ordering from the server-side but I don&#39;t know how can I send the clicked column name and its current order to the server-side to apply the sorting from the server"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1636377867,"post_id":69851950,"comment_id":123532744,"body_markdown":"Take a look at the [official documentation](https://datatables.net/manual/server-side), where this is described. You can also take a look at [this answer](https://stackoverflow.com/a/65039190/12567365) which focuses on filtering (searching), but also shows an actual example for sorting: `&quot;order[0][column]&quot;: &quot;1&quot;, &quot;order[0][dir]&quot;: &quot;asc&quot;`. For more background, see [here](https://stackoverflow.com/a/67959632/12567365). The key point is: This data is _automatically_ sent from the DataTable to the server whenever the user performs a paging, sorting, or filtering action on the table.","body":"Take a look at the <a href=\"https://datatables.net/manual/server-side\" rel=\"nofollow noreferrer\">official documentation</a>, where this is described. You can also take a look at <a href=\"https://stackoverflow.com/a/65039190/12567365\">this answer</a> which focuses on filtering (searching), but also shows an actual example for sorting: <code>&quot;order[0][column]&quot;: &quot;1&quot;, &quot;order[0][dir]&quot;: &quot;asc&quot;</code>. For more background, see <a href=\"https://stackoverflow.com/a/67959632/12567365\">here</a>. The key point is: This data is <i>automatically</i> sent from the DataTable to the server whenever the user performs a paging, sorting, or filtering action on the table."}],"owner":{"account_id":21817029,"reputation":1,"user_id":16113732,"display_name":"FatimaHamieh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636108731,"creation_date":1636108731,"question_id":69851950,"body_markdown":"I have a java project that needs to display a huge data in a data table with the option to sort data from the client-side (In the browser).\r\n\r\nI used server-side processing to perform the code and the data was displayed well. But the problem is that the ordering (sorting column by clicking on the column name) does not work from the client-side.\r\n\r\nHow can I solve this problem?\r\n\r\n\r\nHere is the code of my data table:\r\n\r\n    RecycleBinTable = $(&quot;#RecycleBinDataTable&quot;).DataTable({\r\n                        ajax: function (data, callback, settings) {\r\n                            GetMainParentWindow(window).showLoading();\r\n    \r\n                            var recycleBinUrl = document.getElementById(&quot;RecycleBinURL&quot;).value;\r\n                            var isAdmin = getQuerystringByURL(recycleBinUrl, &quot;admin&quot;);\r\n    \r\n                            if (isAdmin == &#39;&#39;)\r\n                                isAdmin = false;\r\n    \r\n                            if (RecycleBinTable) {\r\n                                pageSize = RecycleBinTable.page.len();\r\n                                startIndex = RecycleBinTable.page.info().page * pageSize;\r\n                            }\r\n    \r\n                            var url = AppSettings.RecycleBinUrl + &quot;FillGrid?startIndex=&quot; + startIndex +\r\n                                &quot;&amp;pageSize=&quot; + pageSize;\r\n    \r\n                            $.ajax({\r\n                                dataType: &quot;json&quot;,\r\n                                type: &quot;POST&quot;,\r\n                                url: url,\r\n                                contentType: &quot;application/json; charset=utf-8&quot;,\r\n                                data: JSON.stringify({ isAdmin: isAdmin }),\r\n                                processData: false,\r\n                                cache: false,\r\n                                headers: {\r\n                                    &quot;Authorization&quot;: &#39;Bearer &#39; + loggedInUser.Token\r\n                                }\r\n                            }).done(function (result) {\r\n    \r\n                                callback({\r\n                                    recordsFiltered: result.recordsFiltered,\r\n                                    recordsTotal: result.recordsTotal,\r\n                                    data: result.data\r\n                                });\r\n    \r\n                            }).fail(function () {\r\n                                GetMainParentWindow(window).alertMessage(resources_Warning, resources_Error, resources_Ok);\r\n                            }).always(function () {\r\n                                GetMainParentWindow(window).hideLoading();\r\n                            });\r\n                        },\r\n                        serverSide: true,\r\n                        processing: true,\r\n                        ordering: true,\r\n                        bPaginate: true,\r\n                        pageLength: pageSize,\r\n                        bJQueryUI: true,\r\n                        pagingType: &quot;input&quot;,\r\n                        language: {\r\n                            &quot;sSearch&quot;: &quot; &quot; + resources_Search + &quot; &quot;,\r\n                            &quot;zeroRecords&quot;: resources_NoMatchingRecordsFound,\r\n                            &quot;info&quot;: resources_Of + &quot; _TOTAL_ &quot; + resources_PagingItems,\r\n                            &quot;infoFiltered&quot;: &#39;&#39;,\r\n                            &quot;sLengthMenu&quot;: &quot; _MENU_ &quot;,\r\n                            &quot;infoEmpty&quot;: resources_ShowingZeroEntries,\r\n                            &quot;sEmptyTable&quot;: resources_NoDataInTable,\r\n                            oPaginate: {\r\n                                &quot;sFirst&quot;: &quot;&quot;,\r\n                                &quot;sLast&quot;: &quot;&quot;,\r\n                                &quot;sNext&quot;: &quot;&quot;,\r\n                                &quot;sPrevious&quot;: &quot;&quot;\r\n                            }\r\n                        },\r\n                        dom: &#39;C&lt;&quot;clear&quot;&gt;RZfrtpli&#39;,\r\n                        columns: columns,\r\n                        scrollX: true,\r\n                        scrollCollapse: false,\r\n                        scrollY: &quot;300px&quot;,\r\n                        bAutoWidth: false,\r\n                        deferRender: true,\r\n                        bLengthChange: true,\r\n                        lengthMenu: [10, 25, 50, 75, 100, 250, 500],\r\n                        searching: false,\r\n                        responsive: true,\r\n                        createdRow: function (row, data, index) {\r\n                            $(&#39;td&#39;, row).eq(1).html(imgRendererRecycleBin(data));\r\n                        },\r\n                        columnDefs: [\r\n                            {\r\n                                &#39;targets&#39;: 0,\r\n                                &#39;searchable&#39;: false,\r\n                                &#39;orderable&#39;: false,\r\n                                &#39;className&#39;: &#39;dt-body-center checkBoxWidth&#39;,\r\n                                &#39;render&#39;: function (data, type, full, meta) {\r\n                                    return &#39;&lt;input type=&quot;checkbox&quot;&gt;&#39;;\r\n                                }\r\n                            },\r\n                        {\r\n                            &quot;autoWidth&quot;: false,\r\n                            &quot;bAutoWidth&quot;: false,\r\n                            &#39;targets&#39;: 1,\r\n                            &#39;orderable&#39;: false,\r\n                            &#39;render&#39;: function (data, type, row, meta) {\r\n                                return &#39;&lt;/img&gt;&#39;\r\n                            }\r\n                        },\r\n                        {\r\n                            &#39;targets&#39;: 3,\r\n                            &#39;render&#39;: function (data) {\r\n                                return &#39;&lt;span style=&quot;whitespace=nowrap&quot;&gt;&#39; + data + &#39;&lt;/span&gt;&#39;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;autoWidth&quot;: false,\r\n                            &quot;bAutoWidth&quot;: false,\r\n                            &#39;targets&#39;: 5,\r\n                            &#39;orderable&#39;: true,\r\n                            &#39;sortable&#39;: true,\r\n                            &#39;visible&#39;: ((getQuerystringByURL($(&quot;#RecycleBinURL&quot;).val(), &quot;admin&quot;, &quot;&quot;)) ? true : false),\r\n                            &#39;render&#39;: function (data, type, row, meta) {\r\n                                return data;\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;autoWidth&quot;: false,\r\n                            &quot;bAutoWidth&quot;: false,\r\n                            &#39;targets&#39;: 6,\r\n                            &#39;render&#39;: function (data, type, row, meta) {\r\n                                return dateRendererRecycleBin(data);\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;autoWidth&quot;: false,\r\n                            &quot;bAutoWidth&quot;: false,\r\n                            &#39;targets&#39;: -2,\r\n                            &#39;render&#39;: function (data, type, row, meta) {\r\n                                return convertBytesToKb(data);\r\n                            }\r\n                        },\r\n                        {\r\n                            &quot;autoWidth&quot;: false,\r\n                            &quot;bAutoWidth&quot;: false,\r\n                            &#39;searchable&#39;: false,\r\n                            &#39;orderable&#39;: false,\r\n                            &#39;targets&#39;: -1,\r\n                            &#39;render&#39;: function (data, type, row, meta) {\r\n                                return &quot;&lt;a href=\\&quot;#\\&quot; onclick=&#39;RestoreItem()&#39;&gt;&lt;i title=&#39;&quot; + resources_Restore + &quot;&#39; class=\\&quot;SVGContainer StaticPosition\\&quot;&gt;&quot; + GetMainParentWindow(window).resourceicon_Restore + &quot;&lt;/i&gt;&lt;/a&gt;&quot;;\r\n                            }\r\n                        }],\r\n                    });","title":"How to support client-side ordering for Datatable in sever-side processing","body":"<p>I have a java project that needs to display a huge data in a data table with the option to sort data from the client-side (In the browser).</p>\n<p>I used server-side processing to perform the code and the data was displayed well. But the problem is that the ordering (sorting column by clicking on the column name) does not work from the client-side.</p>\n<p>How can I solve this problem?</p>\n<p>Here is the code of my data table:</p>\n<pre><code>RecycleBinTable = $(&quot;#RecycleBinDataTable&quot;).DataTable({\n                    ajax: function (data, callback, settings) {\n                        GetMainParentWindow(window).showLoading();\n\n                        var recycleBinUrl = document.getElementById(&quot;RecycleBinURL&quot;).value;\n                        var isAdmin = getQuerystringByURL(recycleBinUrl, &quot;admin&quot;);\n\n                        if (isAdmin == '')\n                            isAdmin = false;\n\n                        if (RecycleBinTable) {\n                            pageSize = RecycleBinTable.page.len();\n                            startIndex = RecycleBinTable.page.info().page * pageSize;\n                        }\n\n                        var url = AppSettings.RecycleBinUrl + &quot;FillGrid?startIndex=&quot; + startIndex +\n                            &quot;&amp;pageSize=&quot; + pageSize;\n\n                        $.ajax({\n                            dataType: &quot;json&quot;,\n                            type: &quot;POST&quot;,\n                            url: url,\n                            contentType: &quot;application/json; charset=utf-8&quot;,\n                            data: JSON.stringify({ isAdmin: isAdmin }),\n                            processData: false,\n                            cache: false,\n                            headers: {\n                                &quot;Authorization&quot;: 'Bearer ' + loggedInUser.Token\n                            }\n                        }).done(function (result) {\n\n                            callback({\n                                recordsFiltered: result.recordsFiltered,\n                                recordsTotal: result.recordsTotal,\n                                data: result.data\n                            });\n\n                        }).fail(function () {\n                            GetMainParentWindow(window).alertMessage(resources_Warning, resources_Error, resources_Ok);\n                        }).always(function () {\n                            GetMainParentWindow(window).hideLoading();\n                        });\n                    },\n                    serverSide: true,\n                    processing: true,\n                    ordering: true,\n                    bPaginate: true,\n                    pageLength: pageSize,\n                    bJQueryUI: true,\n                    pagingType: &quot;input&quot;,\n                    language: {\n                        &quot;sSearch&quot;: &quot; &quot; + resources_Search + &quot; &quot;,\n                        &quot;zeroRecords&quot;: resources_NoMatchingRecordsFound,\n                        &quot;info&quot;: resources_Of + &quot; _TOTAL_ &quot; + resources_PagingItems,\n                        &quot;infoFiltered&quot;: '',\n                        &quot;sLengthMenu&quot;: &quot; _MENU_ &quot;,\n                        &quot;infoEmpty&quot;: resources_ShowingZeroEntries,\n                        &quot;sEmptyTable&quot;: resources_NoDataInTable,\n                        oPaginate: {\n                            &quot;sFirst&quot;: &quot;&quot;,\n                            &quot;sLast&quot;: &quot;&quot;,\n                            &quot;sNext&quot;: &quot;&quot;,\n                            &quot;sPrevious&quot;: &quot;&quot;\n                        }\n                    },\n                    dom: 'C&lt;&quot;clear&quot;&gt;RZfrtpli',\n                    columns: columns,\n                    scrollX: true,\n                    scrollCollapse: false,\n                    scrollY: &quot;300px&quot;,\n                    bAutoWidth: false,\n                    deferRender: true,\n                    bLengthChange: true,\n                    lengthMenu: [10, 25, 50, 75, 100, 250, 500],\n                    searching: false,\n                    responsive: true,\n                    createdRow: function (row, data, index) {\n                        $('td', row).eq(1).html(imgRendererRecycleBin(data));\n                    },\n                    columnDefs: [\n                        {\n                            'targets': 0,\n                            'searchable': false,\n                            'orderable': false,\n                            'className': 'dt-body-center checkBoxWidth',\n                            'render': function (data, type, full, meta) {\n                                return '&lt;input type=&quot;checkbox&quot;&gt;';\n                            }\n                        },\n                    {\n                        &quot;autoWidth&quot;: false,\n                        &quot;bAutoWidth&quot;: false,\n                        'targets': 1,\n                        'orderable': false,\n                        'render': function (data, type, row, meta) {\n                            return '&lt;/img&gt;'\n                        }\n                    },\n                    {\n                        'targets': 3,\n                        'render': function (data) {\n                            return '&lt;span style=&quot;whitespace=nowrap&quot;&gt;' + data + '&lt;/span&gt;'\n                        }\n                    },\n                    {\n                        &quot;autoWidth&quot;: false,\n                        &quot;bAutoWidth&quot;: false,\n                        'targets': 5,\n                        'orderable': true,\n                        'sortable': true,\n                        'visible': ((getQuerystringByURL($(&quot;#RecycleBinURL&quot;).val(), &quot;admin&quot;, &quot;&quot;)) ? true : false),\n                        'render': function (data, type, row, meta) {\n                            return data;\n                        }\n                    },\n                    {\n                        &quot;autoWidth&quot;: false,\n                        &quot;bAutoWidth&quot;: false,\n                        'targets': 6,\n                        'render': function (data, type, row, meta) {\n                            return dateRendererRecycleBin(data);\n                        }\n                    },\n                    {\n                        &quot;autoWidth&quot;: false,\n                        &quot;bAutoWidth&quot;: false,\n                        'targets': -2,\n                        'render': function (data, type, row, meta) {\n                            return convertBytesToKb(data);\n                        }\n                    },\n                    {\n                        &quot;autoWidth&quot;: false,\n                        &quot;bAutoWidth&quot;: false,\n                        'searchable': false,\n                        'orderable': false,\n                        'targets': -1,\n                        'render': function (data, type, row, meta) {\n                            return &quot;&lt;a href=\\&quot;#\\&quot; onclick='RestoreItem()'&gt;&lt;i title='&quot; + resources_Restore + &quot;' class=\\&quot;SVGContainer StaticPosition\\&quot;&gt;&quot; + GetMainParentWindow(window).resourceicon_Restore + &quot;&lt;/i&gt;&lt;/a&gt;&quot;;\n                        }\n                    }],\n                });\n</code></pre>\n"},{"tags":["java","jboss-arquillian"],"comments":[{"owner":{"account_id":1120176,"reputation":131,"user_id":1108684,"display_name":"Lukas Fryc"},"score":0,"creation_date":1381323683,"post_id":19246684,"comment_id":28533770,"body_markdown":"Could you please report the issue in Arquillian issue tracker? http://issues.jboss.org/browse/ARQ","body":"Could you please report the issue in Arquillian issue tracker? <a href=\"http://issues.jboss.org/browse/ARQ\" rel=\"nofollow noreferrer\">issues.jboss.org/browse/ARQ</a>"},{"owner":{"account_id":759215,"reputation":1047,"user_id":766719,"accept_rate":26,"display_name":"Kelly Goedert"},"score":0,"creation_date":1381335760,"post_id":19246684,"comment_id":28542129,"body_markdown":"Yes. Will do it. https://issues.jboss.org/browse/ARQ-1532","body":"Yes. Will do it. <a href=\"https://issues.jboss.org/browse/ARQ-1532\" rel=\"nofollow noreferrer\">issues.jboss.org/browse/ARQ-1532</a>"}],"answers":[{"tags":[],"owner":{"account_id":1120176,"reputation":131,"user_id":1108684,"display_name":"Lukas Fryc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381323934,"creation_date":1381323934,"answer_id":19272922,"question_id":19246684,"body_markdown":"the problem here is a combination of two factors:\r\n\r\n* Hibernate scans classes in web archive and can&#39;t load anonymous class Activity and fails (even though it should ignore such a failure - the same as CDI/Weld do)\r\n\r\n* Warp doesn&#39;t strip Activities from package\r\n\r\nAs a workaround, I believe it could help to: archive.addClass(Activity.class).","title":"arquillian warp NoClassDefFoundError","body":"<p>the problem here is a combination of two factors:</p>\n\n<ul>\n<li><p>Hibernate scans classes in web archive and can't load anonymous class Activity and fails (even though it should ignore such a failure - the same as CDI/Weld do)</p></li>\n<li><p>Warp doesn't strip Activities from package</p></li>\n</ul>\n\n<p>As a workaround, I believe it could help to: archive.addClass(Activity.class).</p>\n"},{"tags":[],"owner":{"account_id":4382732,"reputation":41,"user_id":5290667,"display_name":"Marcos Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475851164,"creation_date":1475851164,"answer_id":39919920,"question_id":19246684,"body_markdown":"Arquillian make a micro deploy for each test, you need to load all the test needs to run .Libraries, resources and so on.\r\n\r\nIn my tests I used the the following configuration, and this has been working fine:\r\n\r\n\r\n    @RunWith(Arquillian.class)\r\n    @DataSource(&quot;java:/analyticsTestDS&quot;)\r\n    @UsingDataSet(&quot;datasets/account/account-registration-activate.xml&quot;)\r\n    public class AccountRegistrationActivateServiceImplTest extends PostgresDBTestCase {\r\n    \r\n    \t\r\n    \t@Deployment\r\n    \tpublic static Archive&lt;?&gt; createTestArchive() {\r\n    \t\t\r\n    \t\tPomEquippedResolveStage pom = Maven.resolver().loadPomFromFile(&quot;pom.xml&quot;);\r\n    \t\tFile[] commonsLang = pom.resolve(\r\n    \t\t\t\t&quot;org.jadira.usertype:usertype.core&quot;,\r\n    \t\t\t\t&quot;org.hibernate:hibernate-validator&quot;,\r\n    \t\t\t\t&quot;edu.vt.middleware:vt-password&quot;,\r\n    \t\t\t\t &quot;monetdb:monetdb-jdbc&quot;,\r\n    \t\t\t\t&quot;joda-time:joda-time&quot;\r\n    \t\t).withTransitivity().asFile();\r\n    \t\t\r\n    \t\tWebArchive war = ShrinkWrap.create(WebArchive.class, &quot;test.war&quot;)\r\n    \t\t\t\t.addPackages(true, &quot;com.atomsail.analytics.accounts&quot;)\r\n    \t            .addAsResource(&quot;META-INF/test-persistence.xml&quot;, &quot;META-INF/persistence.xml&quot;)\r\n    \t            .addAsWebInfResource(&quot;ejb/account/account-registration-services-jboss-ejb3.xml&quot;, &quot;jboss-ejb3.xml&quot;)\r\n    \t            .addAsWebInfResource(&quot;test-web.xml&quot;, &quot;web.xml&quot;)\r\n    \t            .addAsResource(&quot;truncate_all_app.sql&quot;)\r\n    \t            .addAsLibraries(commonsLang);\r\n    \t\t\r\n    \t\tSystem.out.println(war.toString(true));\r\n    \t\t\r\n    \t\t\r\n    \t\treturn war;\r\n    \t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t@Test\r\n\t@InSequence(1)\r\n\tpublic void activationTest()  {\r\n\t\t\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n\r\n","title":"arquillian warp NoClassDefFoundError","body":"<p>Arquillian make a micro deploy for each test, you need to load all the test needs to run .Libraries, resources and so on.</p>\n\n<p>In my tests I used the the following configuration, and this has been working fine:</p>\n\n<pre><code>@RunWith(Arquillian.class)\n@DataSource(\"java:/analyticsTestDS\")\n@UsingDataSet(\"datasets/account/account-registration-activate.xml\")\npublic class AccountRegistrationActivateServiceImplTest extends PostgresDBTestCase {\n\n\n    @Deployment\n    public static Archive&lt;?&gt; createTestArchive() {\n\n        PomEquippedResolveStage pom = Maven.resolver().loadPomFromFile(\"pom.xml\");\n        File[] commonsLang = pom.resolve(\n                \"org.jadira.usertype:usertype.core\",\n                \"org.hibernate:hibernate-validator\",\n                \"edu.vt.middleware:vt-password\",\n                 \"monetdb:monetdb-jdbc\",\n                \"joda-time:joda-time\"\n        ).withTransitivity().asFile();\n\n        WebArchive war = ShrinkWrap.create(WebArchive.class, \"test.war\")\n                .addPackages(true, \"com.atomsail.analytics.accounts\")\n                .addAsResource(\"META-INF/test-persistence.xml\", \"META-INF/persistence.xml\")\n                .addAsWebInfResource(\"ejb/account/account-registration-services-jboss-ejb3.xml\", \"jboss-ejb3.xml\")\n                .addAsWebInfResource(\"test-web.xml\", \"web.xml\")\n                .addAsResource(\"truncate_all_app.sql\")\n                .addAsLibraries(commonsLang);\n\n        System.out.println(war.toString(true));\n\n\n        return war;\n    }\n\n\n\n\n@Test\n@InSequence(1)\npublic void activationTest()  {\n\n\n\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":759215,"reputation":1047,"user_id":766719,"accept_rate":26,"display_name":"Kelly Goedert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636108727,"creation_date":1381232176,"question_id":19246684,"body_markdown":"I have a project using arquillian 1.1.1.Final and I have some working tests using graphene and other extensions. Now I would like to add some tests with warp. But I am getting a NoClassDefFoundError. The exception is this:\r\n\r\n     class br.com.sample.view.LoginTest$1 in Module &quot;deployment.login.war:main&quot; from Service Module Loader: java.lang.LinkageError: Failed to link br/com/sample/view/LoginTest$1 (Module &quot;deployment.login.war:main&quot; from Service Module Loader)\r\n      at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:396) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:243) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:73) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.Module.loadModuleClass(Module.java:517) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:182) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.as.jpa.hibernate4.HibernateAnnotationScanner.getPackagesInJar(HibernateAnnotationScanner.java:171)\r\n      at org.hibernate.ejb.Ejb3Configuration.addScannedEntries(Ejb3Configuration.java:489) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n      at org.hibernate.ejb.Ejb3Configuration.scanForClasses(Ejb3Configuration.java:851) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n      at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:596) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n      at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n      at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]\r\n      at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]\r\n      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]\r\n      at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]\r\n    Caused by: java.lang.NoClassDefFoundError: org/jboss/arquillian/warp/Activity\r\n      at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.7.0_25]\r\n      at java.lang.ClassLoader.defineClass(ClassLoader.java:788) [rt.jar:1.7.0_25]\r\n      at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) [rt.jar:1.7.0_25]\r\n      at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:327) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:391) [jboss-modules.jar:1.1.1.GA]\r\n      ... 20 more\r\n    Caused by: java.lang.ClassNotFoundException: org.jboss.arquillian.warp.Activity from [Module &quot;deployment.login.war:main&quot; from Service Module Loader]\r\n      at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:190) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) [jboss-modules.jar:1.1.1.GA]\r\n      ... 25 more\r\n     \r\n     \r\n    13:26:07,636 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC00001: Failed to start service jboss.persistenceunit.&quot;login.war#test-ds&quot;: org.jboss.msc.service.StartException in service jboss.persistenceunit.&quot;login.war#test-ds&quot;: Failed to start service\r\n      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1767) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]\r\n      at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]\r\n    Caused by: java.lang.RuntimeException: error trying to scan &lt;jar-file&gt;: vfs:/content/login.war/WEB-INF/classes/\r\n      at org.hibernate.ejb.Ejb3Configuration.scanForClasses(Ejb3Configuration.java:854)\r\n      at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:596)\r\n      at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)\r\n      at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162)\r\n      at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85)\r\n      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n      ... 3 more\r\n    Caused by: java.lang.RuntimeException: JBAS011431: Could not load entity class &#39;br.com.sample.view.LoginTest$1&#39; with PersistenceUnitInfo.getClassLoader()\r\n      at org.jboss.as.jpa.hibernate4.HibernateAnnotationScanner.getPackagesInJar(HibernateAnnotationScanner.java:175)\r\n      at org.hibernate.ejb.Ejb3Configuration.addScannedEntries(Ejb3Configuration.java:489)\r\n      at org.hibernate.ejb.Ejb3Configuration.scanForClasses(Ejb3Configuration.java:851)\r\n      ... 9 more\r\n    Caused by: java.lang.ClassNotFoundException: br.com.sample.view.LoginTest$1 from [Module &quot;deployment.login.war:main&quot; from Service Module Loader]\r\n      at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:190) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) [jboss-modules.jar:1.1.1.GA]\r\n      at org.jboss.as.jpa.hibernate4.HibernateAnnotationScanner.getPackagesInJar(HibernateAnnotationScanner.java:171)\r\n      ... 11 more\r\n\r\nMy test looks like this:\r\n\r\n    @RunWith(Arquillian.class)  \r\n    @WarpTest  \r\n    @RunAsClient  \r\n    public class LoginTest {  \r\n      \r\n      @Drone  \r\n      private WebDriver browser;  \r\n      \r\n      @Page  \r\n      private LoginPage loginPage;  \r\n      \r\n      \r\n      @ArquillianResource  \r\n      URL deploymentUrl;  \r\n      \r\n      \r\n      @Deployment  \r\n      public static WebArchive createDeployment() {  \r\n      DatabaseUtils.createDatabase();  \r\n      return Deployments.createDefaultDeployment();  \r\n      }  \r\n      \r\n      private void insertDataAndGetLoginUrl() {  \r\n      DatabaseUtils.setTestData(&quot;datasets/users.xml&quot;);  \r\n      browser.get(deploymentUrl + &quot;/login&quot; + Constants.JSF_EXTENSION);  \r\n      }  \r\n      \r\n      @Test  \r\n      public void loginSuccessful() {  \r\n      insertDataAndGetLoginUrl();  \r\n      \r\n      Warp.initiate(new Activity() {  \r\n      @Override  \r\n      public void perform() {  \r\n      loginPage.login(&quot;admin&quot;, &quot;Admin123&quot;);  \r\n      \r\n      }  \r\n      });  \r\n      \r\n      String location = browser.getCurrentUrl();  \r\n      \r\n      \r\n      assertThat(location, containsString(&quot;user/search&quot; + Constants.JSF_EXTENSION));  \r\n      }}  \r\n\r\nAnd in my pom I have:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.arquillian.extension&lt;/groupId&gt;\r\n      &lt;artifactId&gt;arquillian-warp-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.arquillian.extension&lt;/groupId&gt;\r\n      &lt;artifactId&gt;arquillian-warp&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan anybody help?","title":"arquillian warp NoClassDefFoundError","body":"<p>I have a project using arquillian 1.1.1.Final and I have some working tests using graphene and other extensions. Now I would like to add some tests with warp. But I am getting a NoClassDefFoundError. The exception is this:</p>\n\n<pre><code> class br.com.sample.view.LoginTest$1 in Module \"deployment.login.war:main\" from Service Module Loader: java.lang.LinkageError: Failed to link br/com/sample/view/LoginTest$1 (Module \"deployment.login.war:main\" from Service Module Loader)\n  at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:396) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:243) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:73) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.Module.loadModuleClass(Module.java:517) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:182) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.as.jpa.hibernate4.HibernateAnnotationScanner.getPackagesInJar(HibernateAnnotationScanner.java:171)\n  at org.hibernate.ejb.Ejb3Configuration.addScannedEntries(Ejb3Configuration.java:489) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n  at org.hibernate.ejb.Ejb3Configuration.scanForClasses(Ejb3Configuration.java:851) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n  at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:596) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n  at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n  at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]\n  at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]\n  at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n  at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]\n  at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]\nCaused by: java.lang.NoClassDefFoundError: org/jboss/arquillian/warp/Activity\n  at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.7.0_25]\n  at java.lang.ClassLoader.defineClass(ClassLoader.java:788) [rt.jar:1.7.0_25]\n  at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) [rt.jar:1.7.0_25]\n  at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:327) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:391) [jboss-modules.jar:1.1.1.GA]\n  ... 20 more\nCaused by: java.lang.ClassNotFoundException: org.jboss.arquillian.warp.Activity from [Module \"deployment.login.war:main\" from Service Module Loader]\n  at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:190) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) [jboss-modules.jar:1.1.1.GA]\n  ... 25 more\n\n\n13:26:07,636 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC00001: Failed to start service jboss.persistenceunit.\"login.war#test-ds\": org.jboss.msc.service.StartException in service jboss.persistenceunit.\"login.war#test-ds\": Failed to start service\n  at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1767) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]\n  at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]\nCaused by: java.lang.RuntimeException: error trying to scan &lt;jar-file&gt;: vfs:/content/login.war/WEB-INF/classes/\n  at org.hibernate.ejb.Ejb3Configuration.scanForClasses(Ejb3Configuration.java:854)\n  at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:596)\n  at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)\n  at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:162)\n  at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.start(PersistenceUnitServiceImpl.java:85)\n  at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n  at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n  ... 3 more\nCaused by: java.lang.RuntimeException: JBAS011431: Could not load entity class 'br.com.sample.view.LoginTest$1' with PersistenceUnitInfo.getClassLoader()\n  at org.jboss.as.jpa.hibernate4.HibernateAnnotationScanner.getPackagesInJar(HibernateAnnotationScanner.java:175)\n  at org.hibernate.ejb.Ejb3Configuration.addScannedEntries(Ejb3Configuration.java:489)\n  at org.hibernate.ejb.Ejb3Configuration.scanForClasses(Ejb3Configuration.java:851)\n  ... 9 more\nCaused by: java.lang.ClassNotFoundException: br.com.sample.view.LoginTest$1 from [Module \"deployment.login.war:main\" from Service Module Loader]\n  at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:190) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:468) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:456) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120) [jboss-modules.jar:1.1.1.GA]\n  at org.jboss.as.jpa.hibernate4.HibernateAnnotationScanner.getPackagesInJar(HibernateAnnotationScanner.java:171)\n  ... 11 more\n</code></pre>\n\n<p>My test looks like this:</p>\n\n<pre><code>@RunWith(Arquillian.class)  \n@WarpTest  \n@RunAsClient  \npublic class LoginTest {  \n\n  @Drone  \n  private WebDriver browser;  \n\n  @Page  \n  private LoginPage loginPage;  \n\n\n  @ArquillianResource  \n  URL deploymentUrl;  \n\n\n  @Deployment  \n  public static WebArchive createDeployment() {  \n  DatabaseUtils.createDatabase();  \n  return Deployments.createDefaultDeployment();  \n  }  \n\n  private void insertDataAndGetLoginUrl() {  \n  DatabaseUtils.setTestData(\"datasets/users.xml\");  \n  browser.get(deploymentUrl + \"/login\" + Constants.JSF_EXTENSION);  \n  }  \n\n  @Test  \n  public void loginSuccessful() {  \n  insertDataAndGetLoginUrl();  \n\n  Warp.initiate(new Activity() {  \n  @Override  \n  public void perform() {  \n  loginPage.login(\"admin\", \"Admin123\");  \n\n  }  \n  });  \n\n  String location = browser.getCurrentUrl();  \n\n\n  assertThat(location, containsString(\"user/search\" + Constants.JSF_EXTENSION));  \n  }}  \n</code></pre>\n\n<p>And in my pom I have:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.jboss.arquillian.extension&lt;/groupId&gt;\n  &lt;artifactId&gt;arquillian-warp-bom&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jboss.arquillian.extension&lt;/groupId&gt;\n  &lt;artifactId&gt;arquillian-warp&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0.Alpha4&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can anybody help?</p>\n"},{"tags":["java","arrays","if-statement","nested"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1636036636,"post_id":69840938,"comment_id":123455098,"body_markdown":"Only tangentially related, but consistent indentation would help understand the nesting structure more easily. (And would likely help you see the logical error.)","body":"Only tangentially related, but consistent indentation would help understand the nesting structure more easily. (And would likely help you see the logical error.)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1636036882,"post_id":69840938,"comment_id":123455222,"body_markdown":"@JohnnyMopp You&#39;re right--I did the indentation in my head and still didn&#39;t see it; it wasn&#39;t until I formatted it that it was super-obvious.","body":"@JohnnyMopp You&#39;re right--I did the indentation in my head and still didn&#39;t see it; it wasn&#39;t until I formatted it that it was super-obvious."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1636037479,"post_id":69840938,"comment_id":123455465,"body_markdown":"Can you specify the rules?","body":"Can you specify the rules?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1636038058,"post_id":69840938,"comment_id":123455736,"body_markdown":"@AdriaanKoster The rules are there, just implemented incorrectly, e.g., if a mark is &gt; 79 a nested check for &lt;= 59 will always fail.","body":"@AdriaanKoster The rules are there, just implemented incorrectly, e.g., if a mark is &gt; 79 a nested check for &lt;= 59 will always fail."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1636038314,"post_id":69840938,"comment_id":123455833,"body_markdown":"@DaveNewton Would you accept an incorrect implementation as your requirements specification? Also I think OP himself might understand the problem better if he takes the time to write down the specifications.","body":"@DaveNewton Would you accept an incorrect implementation as your requirements specification? Also I think OP himself might understand the problem better if he takes the time to write down the specifications."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1636040740,"post_id":69840938,"comment_id":123456893,"body_markdown":"@AdriaanKoster IMO the requirements are clear, if only implied (and it seems like others came to roughly the same conclusion). One way we can help new devs/users is by using our experience to help not *just* by asking for more information, but by understanding how code is *likely* intended to work and pointing out clear logical flaws. YMMV.","body":"@AdriaanKoster IMO the requirements are clear, if only implied (and it seems like others came to roughly the same conclusion). One way we can help new devs/users is by using our experience to help not <i>just</i> by asking for more information, but by understanding how code is <i>likely</i> intended to work and pointing out clear logical flaws. YMMV."},{"owner":{"account_id":23123040,"reputation":5,"user_id":17229288,"display_name":"Konark Baggal"},"score":0,"creation_date":1636042776,"post_id":69840938,"comment_id":123457802,"body_markdown":"Thank you all. Your suggestions helped me understand my logical flaw. I was so off with the nested if...else structure. I got it now.","body":"Thank you all. Your suggestions helped me understand my logical flaw. I was so off with the nested if...else structure. I got it now."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1636108529,"post_id":69840938,"comment_id":123474397,"body_markdown":"Ok my final remark @DaveNewton: I really think an important part of being a good developer is not to jump into assumptions about how something is supposed to work, and also to take the time to think about the requirements and spot any flaws or omissions before you start typing.","body":"Ok my final remark @DaveNewton: I really think an important part of being a good developer is not to jump into assumptions about how something is supposed to work, and also to take the time to think about the requirements and spot any flaws or omissions before you start typing."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1636115804,"post_id":69840938,"comment_id":123476883,"body_markdown":"@AdriaanKoster The OP knows the requirements, they just weren&#39;t explicitly communicated in the question. The flaw in the code was clear. Feel free to think I&#39;m not a &quot;good developer&quot;--I&#39;m more interested in helping people and not being gate-keepy, but you do you.","body":"@AdriaanKoster The OP knows the requirements, they just weren&#39;t explicitly communicated in the question. The flaw in the code was clear. Feel free to think I&#39;m not a &quot;good developer&quot;--I&#39;m more interested in helping people and not being gate-keepy, but you do you."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636108718,"creation_date":1636037622,"answer_id":69841210,"question_id":69840938,"body_markdown":"I don&#39;t know what the expected behavior is really, but this is clearly an issue:\r\n\r\n    if(marks[i]&gt;79) {\r\n        System.out.println(rollNumber[i] + &quot; Honors&quot;);                \r\n            if(marks[i]&gt;59){\r\n                System.out.println(rollNumber[i] + &quot; First Division&quot;);\r\n            } else {\r\n                System.out.println(rollNumber[i] + &quot; Second Division&quot;);\r\n            }\r\n            \r\n\r\nif marks[i] &gt; 79 it will always be &gt; 59, so the else will never be entered\r\n\r\nEDIT: Instead of working with arrays and using the index i to take the corresponding values from them, you could create a domain model using classes:\r\n\r\n    class Category {\r\n        final String name;\r\n        final int boundary;\r\n\r\n        Category(String name, int boundary) {\r\n            this.name = name;\r\n            this.boundary = boundary;\r\n        }\r\n    }\r\n\r\n    class Grade {\r\n        final int mark;\r\n        final int rollNumber;\r\n\r\n        Grade(int mark, int rollNumber) {\r\n            this.mark = mark;\r\n            this.rollNumber = rollNumber;\r\n        }\r\n    }\r\n\r\n (getters and setters omitted)\r\n\r\nThis can clarify the meaning of your code.\r\n\r\nEDIT 2: And then you can do this\r\n\r\n      Category[] categories = new Category[]{\r\n            new Category(&quot;Honors&quot;, 80),\r\n            new Category(&quot;First Division&quot;, 60),\r\n            new Category(&quot;Second Division&quot;, 50),\r\n            new Category(&quot;Fail&quot;, Integer.MIN_VALUE)\r\n        };\r\n\r\n        Grade[] grades = new Grade[]{\r\n            new Grade(81, 111),\r\n            new Grade(75, 222),\r\n            new Grade(43, 333),\r\n            new Grade(58, 444)\r\n        };\r\n\r\n        for (Grade grade : grades) {\r\n            for (Category category : categories) {\r\n                if (grade.mark &gt;= category.boundary) {\r\n                    System.out.printf(&quot;%s %s%n&quot;, grade.rollNumber, category.name);\r\n                }\r\n            }\r\n        }","title":"Why are the correct array values not getting printed?","body":"<p>I don't know what the expected behavior is really, but this is clearly an issue:</p>\n<pre><code>if(marks[i]&gt;79) {\n    System.out.println(rollNumber[i] + &quot; Honors&quot;);                \n        if(marks[i]&gt;59){\n            System.out.println(rollNumber[i] + &quot; First Division&quot;);\n        } else {\n            System.out.println(rollNumber[i] + &quot; Second Division&quot;);\n        }\n        \n</code></pre>\n<p>if marks[i] &gt; 79 it will always be &gt; 59, so the else will never be entered</p>\n<p>EDIT: Instead of working with arrays and using the index i to take the corresponding values from them, you could create a domain model using classes:</p>\n<pre><code>class Category {\n    final String name;\n    final int boundary;\n\n    Category(String name, int boundary) {\n        this.name = name;\n        this.boundary = boundary;\n    }\n}\n\nclass Grade {\n    final int mark;\n    final int rollNumber;\n\n    Grade(int mark, int rollNumber) {\n        this.mark = mark;\n        this.rollNumber = rollNumber;\n    }\n}\n</code></pre>\n<p>(getters and setters omitted)</p>\n<p>This can clarify the meaning of your code.</p>\n<p>EDIT 2: And then you can do this</p>\n<pre><code>  Category[] categories = new Category[]{\n        new Category(&quot;Honors&quot;, 80),\n        new Category(&quot;First Division&quot;, 60),\n        new Category(&quot;Second Division&quot;, 50),\n        new Category(&quot;Fail&quot;, Integer.MIN_VALUE)\n    };\n\n    Grade[] grades = new Grade[]{\n        new Grade(81, 111),\n        new Grade(75, 222),\n        new Grade(43, 333),\n        new Grade(58, 444)\n    };\n\n    for (Grade grade : grades) {\n        for (Category category : categories) {\n            if (grade.mark &gt;= category.boundary) {\n                System.out.printf(&quot;%s %s%n&quot;, grade.rollNumber, category.name);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4362238,"reputation":24233,"user_id":3558931,"accept_rate":85,"display_name":"PeterKA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636038822,"creation_date":1636037685,"answer_id":69841226,"question_id":69840938,"body_markdown":"**Your logic is off.** If you&#39;ve already tested for `&gt;79`, it does not make sense to test for `&gt;59` in the `if` clause. Use the `else` clause instead. The innermost `if` should be in the `else` of the `if` it is in.\r\n\r\n    if(marks[i]&gt;79) {\r\n    ......\r\n    } else {\r\n        //move this if from the if clause to here: else clause\r\n        if(marks[i]&gt;59){\r\n          .......\r\n        }\r\n    }\r\n\r\nAlternatively, it pays to be systematic so you do not confuse yourself. You started off with testing the lowest points - 49 - and then followed that by testing the highest points - 79. Maybe 49, 59, 79 would avoid confusion as follows:\r\n\r\n    if(marks[i]&gt;49) {\r\n        if(marks[i]&gt;59) {\r\n            if(marks[i]&gt;79) {\r\n                System.out.println(rollNumber[i] + &quot; Honors&quot;);\r\n            } else {\r\n                System.out.println(rollNumber[i] + &quot; First Division&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(rollNumber[i] + &quot; Second Division&quot;);\r\n        }\r\n    } else {\r\n        System.out.println(rollNumber[i]+ &quot; Fail&quot;);\r\n    }\r\n\r\nOR:\r\n\r\n    if(marks[i]&gt;79) {\r\n        System.out.println(rollNumber[i] + &quot; Honors&quot;);\r\n    } else if(marks[i]&gt;59) {\r\n        System.out.println(rollNumber[i] + &quot; First Division&quot;);\r\n    } else if(marks[i]&gt;49) {\r\n        System.out.println(rollNumber[i] + &quot; Second Division&quot;);\r\n    } else {\r\n        System.out.println(rollNumber[i]+ &quot; Fail&quot;);\r\n    }","title":"Why are the correct array values not getting printed?","body":"<p><strong>Your logic is off.</strong> If you've already tested for <code>&gt;79</code>, it does not make sense to test for <code>&gt;59</code> in the <code>if</code> clause. Use the <code>else</code> clause instead. The innermost <code>if</code> should be in the <code>else</code> of the <code>if</code> it is in.</p>\n<pre><code>if(marks[i]&gt;79) {\n......\n} else {\n    //move this if from the if clause to here: else clause\n    if(marks[i]&gt;59){\n      .......\n    }\n}\n</code></pre>\n<p>Alternatively, it pays to be systematic so you do not confuse yourself. You started off with testing the lowest points - 49 - and then followed that by testing the highest points - 79. Maybe 49, 59, 79 would avoid confusion as follows:</p>\n<pre><code>if(marks[i]&gt;49) {\n    if(marks[i]&gt;59) {\n        if(marks[i]&gt;79) {\n            System.out.println(rollNumber[i] + &quot; Honors&quot;);\n        } else {\n            System.out.println(rollNumber[i] + &quot; First Division&quot;);\n        }\n    } else {\n        System.out.println(rollNumber[i] + &quot; Second Division&quot;);\n    }\n} else {\n    System.out.println(rollNumber[i]+ &quot; Fail&quot;);\n}\n</code></pre>\n<p>OR:</p>\n<pre><code>if(marks[i]&gt;79) {\n    System.out.println(rollNumber[i] + &quot; Honors&quot;);\n} else if(marks[i]&gt;59) {\n    System.out.println(rollNumber[i] + &quot; First Division&quot;);\n} else if(marks[i]&gt;49) {\n    System.out.println(rollNumber[i] + &quot; Second Division&quot;);\n} else {\n    System.out.println(rollNumber[i]+ &quot; Fail&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22296763,"reputation":23,"user_id":16522661,"display_name":"Sunghyeon Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636038216,"creation_date":1636038216,"answer_id":69841359,"question_id":69840938,"body_markdown":"I&#39;ve improved your code. Use this.\r\n\r\n    public static void main(String[] args) {\r\n        int rollNumber[]={111, 222, 333, 444};\r\n        int marks[]={81, 75, 43, 58};\r\n        \r\n        for(int i=0; i&lt;rollNumber.length; i++) {\r\n            if(marks[i]&gt;79) {\r\n                System.out.println(rollNumber[i] + &quot; Honors&quot;);\r\n            } else if(marks[i]&gt;59) {\r\n                System.out.println(rollNumber[i] + &quot; First Division&quot;);\r\n            } else if(marks[i]&gt;49) {\r\n                System.out.println(rollNumber[i] + &quot; Second Division&quot;);\r\n            } else {\r\n                System.out.println(rollNumber[i] + &quot; Fail&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nHope the problem gets better!","title":"Why are the correct array values not getting printed?","body":"<p>I've improved your code. Use this.</p>\n<pre><code>public static void main(String[] args) {\n    int rollNumber[]={111, 222, 333, 444};\n    int marks[]={81, 75, 43, 58};\n    \n    for(int i=0; i&lt;rollNumber.length; i++) {\n        if(marks[i]&gt;79) {\n            System.out.println(rollNumber[i] + &quot; Honors&quot;);\n        } else if(marks[i]&gt;59) {\n            System.out.println(rollNumber[i] + &quot; First Division&quot;);\n        } else if(marks[i]&gt;49) {\n            System.out.println(rollNumber[i] + &quot; Second Division&quot;);\n        } else {\n            System.out.println(rollNumber[i] + &quot; Fail&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Hope the problem gets better!</p>\n"}],"owner":{"account_id":23123040,"reputation":5,"user_id":17229288,"display_name":"Konark Baggal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69841226,"answer_count":3,"score":0,"last_activity_date":1636108718,"creation_date":1636036422,"question_id":69840938,"body_markdown":"\r\nI&#39;m trying to print the marks of the rollNumber array using only nested if else. However, the output that I&#39;m getting is:\r\n```none\r\n111 Honors\r\n111 First Division\r\n333 Fail\r\n```\r\nWhereas the output should be\r\n```none\r\n111 Honors\r\n222 First Division\r\n333 Fail\r\n444 Second Division\r\n```\r\nWhere am I going wrong? The code that I&#39;ve written is stated below:\r\n\r\n```\r\npublic class JavaApplication53 {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        int rollNumber[]={111, 222, 333, 444};\r\n        int marks[]={81, 75, 43, 58};\r\n        \r\n        for(int i=0; i&lt;rollNumber.length; i++) {\r\n            if(marks[i]&gt;49) {\r\n                if(marks[i]&gt;79) {\r\n                    System.out.println(rollNumber[i] + &quot; Honors&quot;);\r\n                \r\n                    if(marks[i]&gt;59){\r\n                        System.out.println(rollNumber[i] + &quot; First Division&quot;);\r\n                    } else {\r\n                        System.out.println(rollNumber[i] + &quot; Second Division&quot;);\r\n                    }\r\n                }\r\n            } else {\r\n                System.out.println(rollNumber[i]+ &quot; Fail&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Why are the correct array values not getting printed?","body":"<p>I'm trying to print the marks of the rollNumber array using only nested if else. However, the output that I'm getting is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>111 Honors\n111 First Division\n333 Fail\n</code></pre>\n<p>Whereas the output should be</p>\n<pre class=\"lang-none prettyprint-override\"><code>111 Honors\n222 First Division\n333 Fail\n444 Second Division\n</code></pre>\n<p>Where am I going wrong? The code that I've written is stated below:</p>\n<pre><code>public class JavaApplication53 {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        int rollNumber[]={111, 222, 333, 444};\n        int marks[]={81, 75, 43, 58};\n        \n        for(int i=0; i&lt;rollNumber.length; i++) {\n            if(marks[i]&gt;49) {\n                if(marks[i]&gt;79) {\n                    System.out.println(rollNumber[i] + &quot; Honors&quot;);\n                \n                    if(marks[i]&gt;59){\n                        System.out.println(rollNumber[i] + &quot; First Division&quot;);\n                    } else {\n                        System.out.println(rollNumber[i] + &quot; Second Division&quot;);\n                    }\n                }\n            } else {\n                System.out.println(rollNumber[i]+ &quot; Fail&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1636022703,"post_id":69837910,"comment_id":123449230,"body_markdown":"Hibernate doesn&#39;t manage connection pool, you have to use some this like HikariCP or C3PO or similar library.","body":"Hibernate doesn&#39;t manage connection pool, you have to use some this like HikariCP or C3PO or similar library."},{"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"score":0,"creation_date":1636022957,"post_id":69837910,"comment_id":123449323,"body_markdown":"it does, but it isn&#39;t recommended to use in production.\ni don&#39;t find in my app any use of HikariCP or C3PO","body":"it does, but it isn&#39;t recommended to use in production. i don&#39;t find in my app any use of HikariCP or C3PO"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1636024060,"post_id":69837910,"comment_id":123449758,"body_markdown":"Check [this](https://stackoverflow.com/questions/4880577/hibernate-what-is-the-connection-pool-and-why-is-the-default-one-unsuitable-for#:~:text=Hibernate%20doesn%27t%20really,mechanism%20by%20default.)","body":"Check <a href=\"https://stackoverflow.com/questions/4880577/hibernate-what-is-the-connection-pool-and-why-is-the-default-one-unsuitable-for#:~:text=Hibernate%20doesn%27t%20really,mechanism%20by%20default.\">this</a>"},{"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"score":0,"creation_date":1636033022,"post_id":69837910,"comment_id":123453288,"body_markdown":"tnx, but this is not giving me news :/","body":"tnx, but this is not giving me news :/"}],"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636108507,"creation_date":1636022375,"question_id":69837910,"body_markdown":"I have an app that is written in java spring.\r\nIt uses hibernate to handle connections to postgres DB.\r\nI want to get the size of the connection pool, but it isn&#39;t defined on the app&#39;s hibernate configurations.\r\nSo I guess it uses hibernate default size, which is 1?\r\nThat sounds very low to me.\r\nHow can I be sure what is the size of connection pool?\r\nI read that it is recommended to use third party manager for this, but I don&#39;t think it&#39;s in used also.","title":"how to get the size of hibernate connection pool?","body":"<p>I have an app that is written in java spring.\nIt uses hibernate to handle connections to postgres DB.\nI want to get the size of the connection pool, but it isn't defined on the app's hibernate configurations.\nSo I guess it uses hibernate default size, which is 1?\nThat sounds very low to me.\nHow can I be sure what is the size of connection pool?\nI read that it is recommended to use third party manager for this, but I don't think it's in used also.</p>\n"},{"tags":["java","android","retrofit2","rx-java"],"owner":{"account_id":12244530,"reputation":2176,"user_id":8936551,"accept_rate":20,"display_name":"sejn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2816,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":0,"score":5,"last_activity_date":1636108252,"creation_date":1602584646,"question_id":64333385,"body_markdown":"I cannot make a new request because the previous response is still open: please call `response.close()` in retrofit\r\n\r\n    APIService.userLogin(jobj).enqueue(new Callback&lt;LoginRequest&gt;(){\r\n\r\n            @Override\r\n            public void onResponse(Call&lt;LoginRequest&gt; call, Response&lt;LoginRequest&gt; response) {\r\n                System.out.println((&quot;response ===&quot; + response));\r\n                ApiService getUser1 = RetrofitRequest.getClient().create(ApiService.class);\r\n       \r\n               final Profile profile = Profile.getInstance();\r\n               getUser1.getUser().enqueue(new Callback&lt;GetUser&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;GetUser&gt; call, Response &lt;GetUser&gt; response) {\r\n                LoginRequest user = response.body();\r\n                ApiService getUser1 = RetrofitRequest.getClient().create(ApiService.class);\r\n                getUser1.getUser().enqueue(new Callback&lt;GetUser&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;GetUser&gt; call, Response &lt;GetUser&gt; response) {\r\n               }\r\n              @Override\r\n              public void onFailure(Call&lt;GetUser&gt; call, Throwable t) {\r\n                System.out.println(&quot;GetUseronFailure&quot; + t );\r\n            }\r\n        });\r\n      }\r\n                @Override\r\n                public void onFailure(Call&lt; LoginRequest &gt; call, Throwable t) {\r\n                    System.out.println((&quot;ttttttttt ===&quot; + t));\r\n                    Log.i(String.valueOf(t), &quot;Response: &quot; + t.getMessage());\r\n                }\r\n            });","title":"cannot make a new request because the previous response is still open: please call response.close() in retrofit","body":"<p>I cannot make a new request because the previous response is still open: please call <code>response.close()</code> in retrofit</p>\n<pre><code>APIService.userLogin(jobj).enqueue(new Callback&lt;LoginRequest&gt;(){\n\n        @Override\n        public void onResponse(Call&lt;LoginRequest&gt; call, Response&lt;LoginRequest&gt; response) {\n            System.out.println((&quot;response ===&quot; + response));\n            ApiService getUser1 = RetrofitRequest.getClient().create(ApiService.class);\n   \n           final Profile profile = Profile.getInstance();\n           getUser1.getUser().enqueue(new Callback&lt;GetUser&gt;() {\n            @Override\n            public void onResponse(Call&lt;GetUser&gt; call, Response &lt;GetUser&gt; response) {\n            LoginRequest user = response.body();\n            ApiService getUser1 = RetrofitRequest.getClient().create(ApiService.class);\n            getUser1.getUser().enqueue(new Callback&lt;GetUser&gt;() {\n            @Override\n            public void onResponse(Call&lt;GetUser&gt; call, Response &lt;GetUser&gt; response) {\n           }\n          @Override\n          public void onFailure(Call&lt;GetUser&gt; call, Throwable t) {\n            System.out.println(&quot;GetUseronFailure&quot; + t );\n        }\n    });\n  }\n            @Override\n            public void onFailure(Call&lt; LoginRequest &gt; call, Throwable t) {\n                System.out.println((&quot;ttttttttt ===&quot; + t));\n                Log.i(String.valueOf(t), &quot;Response: &quot; + t.getMessage());\n            }\n        });\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636081436,"post_id":69837559,"comment_id":123468147,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636026300,"creation_date":1636026300,"answer_id":69838722,"question_id":69837559,"body_markdown":"Use `element.findElement(By by)` or `element.findElements(By by)` to get child element(s). See https://www.tutorialspoint.com/locating-child-nodes-of-webelements-in-selenium.","title":"How to access to non unique subclass of every element during iteration with Selenium?","body":"<p>Use <code>element.findElement(By by)</code> or <code>element.findElements(By by)</code> to get child element(s). See <a href=\"https://www.tutorialspoint.com/locating-child-nodes-of-webelements-in-selenium\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/locating-child-nodes-of-webelements-in-selenium</a>.</p>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636108242,"creation_date":1636108242,"answer_id":69851855,"question_id":69837559,"body_markdown":"**Code :**\r\n\r\n\r\n\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n\tint divSize = driver.findElements(By.xpath(&quot;//*[@id=&#39;app&#39;]/div[1]/main/div[2]/section/div/section/div[4]/div[1]/div&quot;)).size();\r\n\t\r\n\tfor (int i = 1; i&lt;= divSize; i++) {\r\n\t\tWebElement parentDiv = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=&#39;app&#39;]/div[1]/main/div[2]/section/div/section/div[4]/div[1]/div[&#39;&quot;+i+&quot;&#39;]&quot;)));\r\n\t\tWebElement image = parentDiv.findElement(By.xpath(&quot;.//descendant::div[contains(@class,&#39;shop-card__image-block&#39;)]&quot;));\r\n\t\t\r\n\t\t// now image is a web element, you can perform a click on it like image.click(); or any other operation. \r\n\t}\r\n\r\n\r\nnow image is a web element, you can perform a click on it like `image.click();` or any other operation. \r\n\r\ntrust this helps. ","title":"How to access to non unique subclass of every element during iteration with Selenium?","body":"<p><strong>Code :</strong></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nint divSize = driver.findElements(By.xpath(&quot;//*[@id='app']/div[1]/main/div[2]/section/div/section/div[4]/div[1]/div&quot;)).size();\n\nfor (int i = 1; i&lt;= divSize; i++) {\n    WebElement parentDiv = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id='app']/div[1]/main/div[2]/section/div/section/div[4]/div[1]/div['&quot;+i+&quot;']&quot;)));\n    WebElement image = parentDiv.findElement(By.xpath(&quot;.//descendant::div[contains(@class,'shop-card__image-block')]&quot;));\n    \n    // now image is a web element, you can perform a click on it like image.click(); or any other operation. \n}\n</code></pre>\n<p>now image is a web element, you can perform a click on it like <code>image.click();</code> or any other operation.</p>\n<p>trust this helps.</p>\n"}],"owner":{"account_id":23185981,"reputation":1,"user_id":17283070,"display_name":"Georgije Tanasic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636108242,"creation_date":1636020820,"question_id":69837559,"body_markdown":"I am iterating through elements on the website with XPath of each element.\r\n\r\n    //*[@id=&quot;app&quot;]/div[1]/main/div[2]/section/div/section/div[4]/div[1]/div[X]\r\n\r\n`X values:` from `1 to n`. Where X is an ordinal number of the element.\r\n\r\n`xpath.getText()` give me the name and price of current item.\r\nI want to download the image also. Class name for the image isn&#39;t unique. It same for every element: &quot;`shop-card__image-block`&quot;.\r\n\r\nHow to access&quot;`shop-card__image-block`&quot; for every element? I want to take the link to the image and download it with the name and price.\r\n\r\nSee the images.\r\n\r\n[First image][1]\r\n\r\n[Second image][2]\r\n\r\n\r\n  [1]: https://ibb.co/84G27pM\r\n  [2]: https://ibb.co/zXRK81X","title":"How to access to non unique subclass of every element during iteration with Selenium?","body":"<p>I am iterating through elements on the website with XPath of each element.</p>\n<pre><code>//*[@id=&quot;app&quot;]/div[1]/main/div[2]/section/div/section/div[4]/div[1]/div[X]\n</code></pre>\n<p><code>X values:</code> from <code>1 to n</code>. Where X is an ordinal number of the element.</p>\n<p><code>xpath.getText()</code> give me the name and price of current item.\nI want to download the image also. Class name for the image isn't unique. It same for every element: &quot;<code>shop-card__image-block</code>&quot;.</p>\n<p>How to access&quot;<code>shop-card__image-block</code>&quot; for every element? I want to take the link to the image and download it with the name and price.</p>\n<p>See the images.</p>\n<p><a href=\"https://ibb.co/84G27pM\" rel=\"nofollow noreferrer\">First image</a></p>\n<p><a href=\"https://ibb.co/zXRK81X\" rel=\"nofollow noreferrer\">Second image</a></p>\n"},{"tags":["java","spring","spring-boot","kotlin","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620723331,"creation_date":1620715537,"answer_id":67481773,"question_id":67481468,"body_markdown":"how do you create the RestTemplate instance?\r\n\r\ntry adding a Bean, then the customizer should be used\r\n\r\n    @Configuration\r\n    class ClientHttpConfig(\r\n        @Autowired\r\n        val agentAuthService: AgentAuthService,\r\n        @Autowired val builder: RestTemplateBuilder\r\n    ) {\r\n        @Bean\r\n        fun customRestTemplateCustomizer(): CustomRestTemplateCustomizer {\r\n            return CustomRestTemplateCustomizer(agentAuthService = agentAuthService);\r\n        }\r\n\r\n        @Bean\r\n        fun customizedRestTemplate(): RestTemplate {\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\n\r\nEdit: needs to be created by RestTemplateBuilder","title":"Kotlin: RestTemplateCustomizer customize() method is not being called","body":"<p>how do you create the RestTemplate instance?</p>\n<p>try adding a Bean, then the customizer should be used</p>\n<pre><code>@Configuration\nclass ClientHttpConfig(\n    @Autowired\n    val agentAuthService: AgentAuthService,\n    @Autowired val builder: RestTemplateBuilder\n) {\n    @Bean\n    fun customRestTemplateCustomizer(): CustomRestTemplateCustomizer {\n        return CustomRestTemplateCustomizer(agentAuthService = agentAuthService);\n    }\n\n    @Bean\n    fun customizedRestTemplate(): RestTemplate {\n        return builder.build();\n    }\n}\n</code></pre>\n<p>Edit: needs to be created by RestTemplateBuilder</p>\n"}],"owner":{"account_id":15558166,"reputation":302,"user_id":11223954,"display_name":"Dattq2303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67481773,"answer_count":1,"score":2,"last_activity_date":1636108111,"creation_date":1620713894,"question_id":67481468,"body_markdown":"- I am writing a customize ResponseErrorHandler for all RestTemplate api call in application. This application is a Spring Boot application and written in Kotlin\r\n\r\nMy code: \r\n\r\nServiceApiErrorHandler.class\r\n\r\n \r\n    class ServiceApiErrorHandler(\r\n        @Autowired\r\n        val agentAuthService: AgentAuthService\r\n    ) : DefaultResponseErrorHandler() {\r\n        companion object {\r\n            private val logger: LogService = LogServiceImpl(ServiceApiErrorHandler::class.java)\r\n        }\r\n    \r\n        override fun hasError(response: ClientHttpResponse): Boolean {\r\n            return (response.statusCode.is4xxClientError || response.statusCode.is5xxServerError)\r\n        }\r\n    \r\n        override fun handleError(response: ClientHttpResponse) {\r\n            logger.info(&quot;LOGIN AGAIN 1&quot;)\r\n    \r\n        }\r\n    \r\n        override fun handleError(url: URI, method: HttpMethod, response: ClientHttpResponse) {\r\n            if (response.statusCode == HttpStatus.UNAUTHORIZED &amp;&amp; ServiceApiEnpoint.isServiceApiEndpoint(url = url.toString())) {\r\n                logger.info(&quot;LOGIN AGAIN&quot;)\r\n                agentAuthService.callLogin();\r\n            }\r\n        }\r\n    }\r\n\r\nCustomRestTemplateCustomizer class\r\n\r\n    \r\n    class CustomRestTemplateCustomizer(\r\n        @Autowired\r\n        val agentAuthService: AgentAuthService\r\n    ) : RestTemplateCustomizer {\r\n        override fun customize(restTemplate: RestTemplate) {\r\n                restTemplate.errorHandler = ServiceApiErrorHandler(agentAuthService = agentAuthService)\r\n        }\r\n    }\r\n\r\nClientHttpConfig class\r\n\r\n\r\n    @Configuration\r\n    class ClientHttpConfig(\r\n        @Autowired\r\n        val agentAuthService: AgentAuthService\r\n    ) {\r\n        @Bean\r\n        fun customRestTemplateCustomizer(): CustomRestTemplateCustomizer {\r\n            return CustomRestTemplateCustomizer(agentAuthService = agentAuthService);\r\n        }\r\n    }\r\n\r\nThe problem is when I run, RestTemplate still handle error using DefaultResponseErrorHandler and after debug, I quickly realize that **the customize() method in class CustomRestTemplateCustomizer was never being called.**\r\n\r\nSo my questions is: \r\n- Is customize() method suppose to be automatic called? If not, how should i call it?\r\n- Does my code is ok to implement customize ResponseErrorHandler?\r\n\r\nNote: I follow the tutorial in Java: https://www.baeldung.com/spring-rest-template-builder to write this version in Kotlin.\r\n\r\n","title":"Kotlin: RestTemplateCustomizer customize() method is not being called","body":"<ul>\n<li>I am writing a customize ResponseErrorHandler for all RestTemplate api call in application. This application is a Spring Boot application and written in Kotlin</li>\n</ul>\n<p>My code:</p>\n<p>ServiceApiErrorHandler.class</p>\n<pre><code>class ServiceApiErrorHandler(\n    @Autowired\n    val agentAuthService: AgentAuthService\n) : DefaultResponseErrorHandler() {\n    companion object {\n        private val logger: LogService = LogServiceImpl(ServiceApiErrorHandler::class.java)\n    }\n\n    override fun hasError(response: ClientHttpResponse): Boolean {\n        return (response.statusCode.is4xxClientError || response.statusCode.is5xxServerError)\n    }\n\n    override fun handleError(response: ClientHttpResponse) {\n        logger.info(&quot;LOGIN AGAIN 1&quot;)\n\n    }\n\n    override fun handleError(url: URI, method: HttpMethod, response: ClientHttpResponse) {\n        if (response.statusCode == HttpStatus.UNAUTHORIZED &amp;&amp; ServiceApiEnpoint.isServiceApiEndpoint(url = url.toString())) {\n            logger.info(&quot;LOGIN AGAIN&quot;)\n            agentAuthService.callLogin();\n        }\n    }\n}\n</code></pre>\n<p>CustomRestTemplateCustomizer class</p>\n<pre><code>class CustomRestTemplateCustomizer(\n    @Autowired\n    val agentAuthService: AgentAuthService\n) : RestTemplateCustomizer {\n    override fun customize(restTemplate: RestTemplate) {\n            restTemplate.errorHandler = ServiceApiErrorHandler(agentAuthService = agentAuthService)\n    }\n}\n</code></pre>\n<p>ClientHttpConfig class</p>\n<pre><code>@Configuration\nclass ClientHttpConfig(\n    @Autowired\n    val agentAuthService: AgentAuthService\n) {\n    @Bean\n    fun customRestTemplateCustomizer(): CustomRestTemplateCustomizer {\n        return CustomRestTemplateCustomizer(agentAuthService = agentAuthService);\n    }\n}\n</code></pre>\n<p>The problem is when I run, RestTemplate still handle error using DefaultResponseErrorHandler and after debug, I quickly realize that <strong>the customize() method in class CustomRestTemplateCustomizer was never being called.</strong></p>\n<p>So my questions is:</p>\n<ul>\n<li>Is customize() method suppose to be automatic called? If not, how should i call it?</li>\n<li>Does my code is ok to implement customize ResponseErrorHandler?</li>\n</ul>\n<p>Note: I follow the tutorial in Java: <a href=\"https://www.baeldung.com/spring-rest-template-builder\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-template-builder</a> to write this version in Kotlin.</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":3,"creation_date":1636091531,"post_id":69849118,"comment_id":123469498,"body_markdown":"Why do you want this? The variable name should have no effect on the execution of the code and also no relevance to the user of the software.","body":"Why do you want this? The variable name should have no effect on the execution of the code and also no relevance to the user of the software."},{"owner":{"account_id":10131794,"reputation":3,"user_id":15743933,"display_name":"Kinnlm"},"score":0,"creation_date":1636092711,"post_id":69849118,"comment_id":123469695,"body_markdown":"@jmizv because that is what I was told to do. If it is impossible fine, but I just want to do my due diligence, before I say it can&#39;t be done.","body":"@jmizv because that is what I was told to do. If it is impossible fine, but I just want to do my due diligence, before I say it can&#39;t be done."},{"owner":{"account_id":16076125,"reputation":162,"user_id":11603305,"display_name":"Nora Na"},"score":0,"creation_date":1636094334,"post_id":69849118,"comment_id":123469970,"body_markdown":"Does this answer your question? [Get object name in Java](https://stackoverflow.com/questions/15345159/get-object-name-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15345159/get-object-name-in-java\">Get object name in Java</a>"},{"owner":{"account_id":10131794,"reputation":3,"user_id":15743933,"display_name":"Kinnlm"},"score":0,"creation_date":1636094694,"post_id":69849118,"comment_id":123470045,"body_markdown":"@Nora Na I was asked to do it without creating an instance/field.  Which I have been told is currently impossible and will probably remain so for security reasons. Thank you all the same.","body":"@Nora Na I was asked to do it without creating an instance/field.  Which I have been told is currently impossible and will probably remain so for security reasons. Thank you all the same."}],"answers":[{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636092956,"creation_date":1636092956,"answer_id":69849264,"question_id":69849118,"body_markdown":"Just create a student object and call the `toString()` method on the student object.\r\n\r\nFor eg,\r\n\r\n    Student student1 = new Student(***, ***, ***, ***);  \r\n    student1.toString();\r\n\r\nThis will call your override method `toString()` in your Student class.\r\n\r\nIn your toString method on Student class, you don&#39;t need stdout or any output.\r\n\r\nJust `return &quot;Student { &quot;id =&quot; + this.id }&quot;;` ","title":"How to call the name of the object in Java?","body":"<p>Just create a student object and call the <code>toString()</code> method on the student object.</p>\n<p>For eg,</p>\n<pre><code>Student student1 = new Student(***, ***, ***, ***);  \nstudent1.toString();\n</code></pre>\n<p>This will call your override method <code>toString()</code> in your Student class.</p>\n<p>In your toString method on Student class, you don't need stdout or any output.</p>\n<p>Just <code>return &quot;Student { &quot;id =&quot; + this.id }&quot;;</code></p>\n"},{"tags":[],"owner":{"account_id":14698565,"reputation":36,"user_id":10962914,"display_name":"Arman Arshakyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636108087,"creation_date":1636093047,"answer_id":69849276,"question_id":69849118,"body_markdown":"Objects exist independently of any variables that reference them. You **can&#39;t** use their variable name in a `toString()` or any other method.","title":"How to call the name of the object in Java?","body":"<p>Objects exist independently of any variables that reference them. You <strong>can't</strong> use their variable name in a <code>toString()</code> or any other method.</p>\n"}],"owner":{"account_id":10131794,"reputation":3,"user_id":15743933,"display_name":"Kinnlm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69849276,"answer_count":2,"score":0,"last_activity_date":1636108087,"creation_date":1636091324,"question_id":69849118,"body_markdown":"I have created an object \r\n\r\n`Student student1 = new Student(***, ***, ***, ***);` \r\n\r\nIn my toString override, how do I pull/reference the object&#39;s identifier student1? Without creating a field for it.\r\n\r\n       @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;id=&quot; + this.id +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    System.out.println(student1)\r\n\r\nI want the output to be Student{student1, id=***}","title":"How to call the name of the object in Java?","body":"<p>I have created an object</p>\n<p><code>Student student1 = new Student(***, ***, ***, ***);</code></p>\n<p>In my toString override, how do I pull/reference the object's identifier student1? Without creating a field for it.</p>\n<pre><code>   @Override\npublic String toString() {\n    return &quot;Student{&quot; +\n            &quot;id=&quot; + this.id +\n            '}';\n}\n\nSystem.out.println(student1)\n</code></pre>\n<p>I want the output to be Student{student1, id=***}</p>\n"},{"tags":["java","class","static","initialization"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1636107751,"post_id":69851712,"comment_id":123474129,"body_markdown":"That&#39;s not a static initializer. That&#39;s an initializer block. Static initializer are done like `static { ... }` See [here](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html).","body":"That&#39;s not a static initializer. That&#39;s an initializer block. Static initializer are done like <code>static { ... }</code> See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1636107892,"post_id":69851712,"comment_id":123474176,"body_markdown":"Yes, add `static` so it looks like `static {icons_init();}`","body":"Yes, add <code>static</code> so it looks like <code>static {icons_init();}</code>"}],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636108012,"creation_date":1636108012,"answer_id":69851806,"question_id":69851712,"body_markdown":"The block that you have added is not static initializer block. You are missing static keyword.\r\n\r\nTry adding initializer in static block?\r\n\r\n    static {\r\n            icons_init();\r\n    }","title":"Why the static initializer is called on every new object instance?","body":"<p>The block that you have added is not static initializer block. You are missing static keyword.</p>\n<p>Try adding initializer in static block?</p>\n<pre><code>static {\n        icons_init();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636108035,"creation_date":1636108035,"answer_id":69851813,"question_id":69851712,"body_markdown":"As pointed out by the comments, your code in `Cell.java` should look like this:\r\n\r\n```java\r\n// represents single cell\r\npublic class Cell {\r\n    ...\r\n    static final HashMap&lt;String,Image&gt; icons = new HashMap&lt;String, Image&gt;();\r\n\r\n    static {\r\n        icons_init();\r\n    }\r\n    \r\n    ...\r\n    \r\n    Cell()\r\n    {\r\n        setCovered(true);\r\n    }\r\n...\r\n```\r\n\r\nWith adding the `static` keyword to the block it becomes a static initializers which is called only once in the beginning when the class is initialized.","title":"Why the static initializer is called on every new object instance?","body":"<p>As pointed out by the comments, your code in <code>Cell.java</code> should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// represents single cell\npublic class Cell {\n    ...\n    static final HashMap&lt;String,Image&gt; icons = new HashMap&lt;String, Image&gt;();\n\n    static {\n        icons_init();\n    }\n    \n    ...\n    \n    Cell()\n    {\n        setCovered(true);\n    }\n...\n</code></pre>\n<p>With adding the <code>static</code> keyword to the block it becomes a static initializers which is called only once in the beginning when the class is initialized.</p>\n"}],"owner":{"account_id":16482232,"reputation":61,"user_id":11908690,"display_name":"Maxim Voloshin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1636108420,"answer_count":2,"score":-2,"last_activity_date":1636108035,"creation_date":1636107541,"question_id":69851712,"body_markdown":"In my Cell class `HashMap&lt;String,Image&gt;` icons is meant to be initialized just once (on creating the first instance, for example). But in fact such initializer is called each time I create a new `Cell` instance. What did I misunderstand? \r\n\r\nCell.java\r\n\r\n    // represents single cell\r\n    public class Cell {\r\n    \t...\r\n    \tstatic final HashMap&lt;String,Image&gt; icons = new HashMap&lt;String, Image&gt;();\r\n    \t{\r\n    \t\ticons_init();\r\n    \t}\r\n    \t\r\n    \t...\r\n    \t\r\n    \tCell()\r\n    \t{\r\n    \t\tsetCovered(true);\r\n    \t}\r\n    \t\r\n    \t...\r\n    \t\r\n    \tprivate static void icons_init()\r\n        {\r\n            // load icons that represent different cell types and states\r\n            icons.clear();\r\n            try {\r\n            for(int i=0; i&lt;=8; i++)\r\n                {\r\n                    // Current cell is open and has N (0-8) mines around (horiz., vert. and diag.)\r\n                    icons.put(Integer.toString(i), ImageIO.read(Game.class.getResource(&quot;images/&quot;+Integer.toString(i)+&quot;.png&quot;)));\r\n                }\r\n                icons.put(&quot;covered&quot;, ImageIO.read(Game.class.getResource(&quot;images/coveredCell.png&quot;))); // cell is covered (and has no flag)\r\n                icons.put(&quot;covered_flagged&quot;, ImageIO.read(MainWindow.class.getResource(&quot;images/coveredFlaggedCell.png&quot;))); // cell is covered and has a flag\r\n                icons.put(&quot;mined&quot;, ImageIO.read(Game.class.getResource(&quot;images/minedCell.png&quot;))); // cell is open and mined\r\n                icons.put(&quot;mined_flagged&quot;, ImageIO.read(Game.class.getResource(&quot;images/minedFlaggedCell.png&quot;))); // cell is open, mined and was previously marked with a flag\r\n            }\r\n            catch(IOException ex)\r\n            {\r\n                ex.printStackTrace(); // could not load icon(s) for some reason\r\n            }\r\n        }\r\n    \t\r\n    }\r\n\r\nBoard.java\r\n\r\n        public class Board extends JPanel {\r\n    \t\r\n    \tprotected ArrayList&lt;Cell&gt; minefield;\r\n    \t\r\n    \tpublic Board(int cols, int rows) {\r\n    \t\t...\r\n    \t\tthis.minefield = new ArrayList&lt;Cell&gt;(nCols*nRows);\r\n    \t\tfieldInit();\r\n    \t}\r\n    \t\r\n    \tprotected void fieldInit()\r\n    \t{\r\n    \t\t// initialize an array by filling it with cell objects\r\n    \t\tfor(int i=0; i&lt;(nRows*nCols); i++)\r\n    \t\t{\r\n    \t\t\tminefield.add(new Cell());\r\n    \t\t}\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\n","title":"Why the static initializer is called on every new object instance?","body":"<p>In my Cell class <code>HashMap&lt;String,Image&gt;</code> icons is meant to be initialized just once (on creating the first instance, for example). But in fact such initializer is called each time I create a new <code>Cell</code> instance. What did I misunderstand?</p>\n<p>Cell.java</p>\n<pre><code>// represents single cell\npublic class Cell {\n    ...\n    static final HashMap&lt;String,Image&gt; icons = new HashMap&lt;String, Image&gt;();\n    {\n        icons_init();\n    }\n    \n    ...\n    \n    Cell()\n    {\n        setCovered(true);\n    }\n    \n    ...\n    \n    private static void icons_init()\n    {\n        // load icons that represent different cell types and states\n        icons.clear();\n        try {\n        for(int i=0; i&lt;=8; i++)\n            {\n                // Current cell is open and has N (0-8) mines around (horiz., vert. and diag.)\n                icons.put(Integer.toString(i), ImageIO.read(Game.class.getResource(&quot;images/&quot;+Integer.toString(i)+&quot;.png&quot;)));\n            }\n            icons.put(&quot;covered&quot;, ImageIO.read(Game.class.getResource(&quot;images/coveredCell.png&quot;))); // cell is covered (and has no flag)\n            icons.put(&quot;covered_flagged&quot;, ImageIO.read(MainWindow.class.getResource(&quot;images/coveredFlaggedCell.png&quot;))); // cell is covered and has a flag\n            icons.put(&quot;mined&quot;, ImageIO.read(Game.class.getResource(&quot;images/minedCell.png&quot;))); // cell is open and mined\n            icons.put(&quot;mined_flagged&quot;, ImageIO.read(Game.class.getResource(&quot;images/minedFlaggedCell.png&quot;))); // cell is open, mined and was previously marked with a flag\n        }\n        catch(IOException ex)\n        {\n            ex.printStackTrace(); // could not load icon(s) for some reason\n        }\n    }\n    \n}\n</code></pre>\n<p>Board.java</p>\n<pre><code>    public class Board extends JPanel {\n    \n    protected ArrayList&lt;Cell&gt; minefield;\n    \n    public Board(int cols, int rows) {\n        ...\n        this.minefield = new ArrayList&lt;Cell&gt;(nCols*nRows);\n        fieldInit();\n    }\n    \n    protected void fieldInit()\n    {\n        // initialize an array by filling it with cell objects\n        for(int i=0; i&lt;(nRows*nCols); i++)\n        {\n            minefield.add(new Cell());\n        }\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","validation","java-8","pojo"],"answers":[{"tags":[],"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636107970,"creation_date":1636107970,"answer_id":69851792,"question_id":69851606,"body_markdown":"You could use the Bean Validation API directly in your constructor:\r\n\r\n```lang-java\r\nValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\nValidator validator = factory.getValidator();\r\nSet&lt;ConstraintViolation&lt;Sample&gt;&gt; violations = validator.validate(this);\r\nif (!violations.isEmpty()) {\r\n    throw new ConstraintViolationException(violations);\r\n}\r\n```","title":"Validating field values in a Java POJO","body":"<p>You could use the Bean Validation API directly in your constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\nValidator validator = factory.getValidator();\nSet&lt;ConstraintViolation&lt;Sample&gt;&gt; violations = validator.validate(this);\nif (!violations.isEmpty()) {\n    throw new ConstraintViolationException(violations);\n}\n</code></pre>\n"}],"owner":{"account_id":11013479,"reputation":161,"user_id":8089991,"accept_rate":86,"display_name":"Mayank Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69851792,"answer_count":1,"score":0,"last_activity_date":1636107970,"creation_date":1636107067,"question_id":69851606,"body_markdown":"**Use Case:**\r\n\r\nLet&#39;s assume this is my POJO:\r\n\r\n    class Sample{\r\n        \r\n        String field1;\r\n\r\n        String field2;\r\n\r\n        double field3;\r\n\r\n        LocalDateTime field4;\r\n\r\n        LocalDateTime field5;\r\n\r\n        //...getters, setters and parameterised constructor\r\n    }\r\n\r\nI am reading certain values from an external file and creating a POJO using a parameterised constructor. All the fields have certain validation constraints for them.\r\n\r\nWhat I am looking for is a way for those constraints to be evaluated automatically when I am creating an object using the parameterised constructor. If one or more validation constraints fail, it should throw an error.\r\n\r\n**What I have tried so far:**\r\n\r\nI have tried the Bean Validation approach in Spring by creating my own annotation and validator. The code is below:\r\n\r\n**POJO**\r\n\r\n    @ValidChecker(groups = Default.class)\r\n    class Sample{\r\n        \r\n        String field1;\r\n\r\n        String field2;\r\n\r\n        double field3;\r\n\r\n        LocalDateTime field4;\r\n\r\n        LocalDateTime field5;\r\n\r\n        //...getters, setters and parameterised constructor\r\n    }\r\n\r\n**ValidChecker Annotation**\r\n\r\n    @Constraint(validatedBy = DataValidator.class)\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ValidChecker {\r\n    \r\n        String message() default &quot;Data is not valid&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n**DataValidator.java**\r\n\r\n    @SupportedValidationTarget(ValidationTarget.ANNOTATED_ELEMENT)\r\n    public class DataValidator implements ConstraintValidator&lt;ValidChecker, ValidationData&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ValidChecker constraintAnnotation) {\r\n            ConstraintValidator.super.initialize(constraintAnnotation);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(ValidationData validationData, ConstraintValidatorContext constraintValidatorContext) {\r\n    \r\n            if (validationData == null) {\r\n                return false;\r\n            }\r\n    \r\n            if (BigDecimal.valueOf(validationData.getField3()).scale() != 2) {\r\n                return false;\r\n            }\r\n    \r\n            if (validationData.getField5().isBefore(validationData.getField4())) {\r\n                return false;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\nThe above code didn&#39;t work.\r\n\r\n**Suggestions Needed**\r\n\r\n 1. Problem with the above approach\r\n 2. Alternate approach using Spring\r\n 3. Alternate approach by using some third party library\r\n\r\nI looked quite a bit but couldn&#39;t find an approach without Spring bean validation. Can someone please help?","title":"Validating field values in a Java POJO","body":"<p><strong>Use Case:</strong></p>\n<p>Let's assume this is my POJO:</p>\n<pre><code>class Sample{\n    \n    String field1;\n\n    String field2;\n\n    double field3;\n\n    LocalDateTime field4;\n\n    LocalDateTime field5;\n\n    //...getters, setters and parameterised constructor\n}\n</code></pre>\n<p>I am reading certain values from an external file and creating a POJO using a parameterised constructor. All the fields have certain validation constraints for them.</p>\n<p>What I am looking for is a way for those constraints to be evaluated automatically when I am creating an object using the parameterised constructor. If one or more validation constraints fail, it should throw an error.</p>\n<p><strong>What I have tried so far:</strong></p>\n<p>I have tried the Bean Validation approach in Spring by creating my own annotation and validator. The code is below:</p>\n<p><strong>POJO</strong></p>\n<pre><code>@ValidChecker(groups = Default.class)\nclass Sample{\n    \n    String field1;\n\n    String field2;\n\n    double field3;\n\n    LocalDateTime field4;\n\n    LocalDateTime field5;\n\n    //...getters, setters and parameterised constructor\n}\n</code></pre>\n<p><strong>ValidChecker Annotation</strong></p>\n<pre><code>@Constraint(validatedBy = DataValidator.class)\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidChecker {\n\n    String message() default &quot;Data is not valid&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><strong>DataValidator.java</strong></p>\n<pre><code>@SupportedValidationTarget(ValidationTarget.ANNOTATED_ELEMENT)\npublic class DataValidator implements ConstraintValidator&lt;ValidChecker, ValidationData&gt; {\n\n    @Override\n    public void initialize(ValidChecker constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(ValidationData validationData, ConstraintValidatorContext constraintValidatorContext) {\n\n        if (validationData == null) {\n            return false;\n        }\n\n        if (BigDecimal.valueOf(validationData.getField3()).scale() != 2) {\n            return false;\n        }\n\n        if (validationData.getField5().isBefore(validationData.getField4())) {\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>The above code didn't work.</p>\n<p><strong>Suggestions Needed</strong></p>\n<ol>\n<li>Problem with the above approach</li>\n<li>Alternate approach using Spring</li>\n<li>Alternate approach by using some third party library</li>\n</ol>\n<p>I looked quite a bit but couldn't find an approach without Spring bean validation. Can someone please help?</p>\n"},{"tags":["java","casting","wrapper","long-integer","primitive"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1636107553,"post_id":69851658,"comment_id":123474057,"body_markdown":"`10` is an `int` (`10L` would be a `long`). And an `int` doesn&#39;t get boxed into a `Long`. Boxing `10` to `Integer` doesn&#39;t make it a `Long`, because an `Integer` is **not** a `Long`.","body":"<code>10</code> is an <code>int</code> (<code>10L</code> would be a <code>long</code>). And an <code>int</code> doesn&#39;t get boxed into a <code>Long</code>. Boxing <code>10</code> to <code>Integer</code> doesn&#39;t make it a <code>Long</code>, because an <code>Integer</code> is <b>not</b> a <code>Long</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1636107932,"post_id":69851658,"comment_id":123474191,"body_markdown":"The constructor of `Long` takes a `long`, which the `int` can be converted to. In the second example, a `int` or the autoboxed `Integer` can not be assigned to a `Long` though. You can use a `long` literal to make it work, use `Long l2 = 10L;`.","body":"The constructor of <code>Long</code> takes a <code>long</code>, which the <code>int</code> can be converted to. In the second example, a <code>int</code> or the autoboxed <code>Integer</code> can not be assigned to a <code>Long</code> though. You can use a <code>long</code> literal to make it work, use <code>Long l2 = 10L;</code>."}],"owner":{"account_id":23246919,"reputation":1,"user_id":17335374,"display_name":"EuginK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636107730,"answer_count":0,"score":0,"last_activity_date":1636107870,"creation_date":1636107334,"question_id":69851658,"body_markdown":"Why it&#39;s correct:\r\n\r\n    Long l = new Long(10);\r\n\r\nbut it&#39;s not correct:\r\n\r\n    Long l2 = 10; \r\n\r\nI understand that int is substituted here, but why is `new Long(10)` correct?\r\n","title":"Java casting in wrapper Number classes","body":"<p>Why it's correct:</p>\n<pre><code>Long l = new Long(10);\n</code></pre>\n<p>but it's not correct:</p>\n<pre><code>Long l2 = 10; \n</code></pre>\n<p>I understand that int is substituted here, but why is <code>new Long(10)</code> correct?</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636102030,"post_id":69849752,"comment_id":123472011,"body_markdown":"`I am saving the image taken by the camera to my SQLite database by using this code:` Sorry but i see you saving nothing. And the table FIELD_IMG cannot hold an image file but only text. So probably only a file path. If so then give that field a better non confusing name. Please elaborate and edit your post to solve this confusion.","body":"<code>I am saving the image taken by the camera to my SQLite database by using this code:</code> Sorry but i see you saving nothing. And the table FIELD_IMG cannot hold an image file but only text. So probably only a file path. If so then give that field a better non confusing name. Please elaborate and edit your post to solve this confusion."},{"owner":{"display_name":"user14568805"},"score":0,"creation_date":1636102723,"post_id":69849752,"comment_id":123472231,"body_markdown":"Hi, its saving the image file path to that FIELD_IMG in the following format `/storage/emulated/0/MapImages/MapImages/JPEG_20211105_091000_.jpg`  Si i can see the file being saved.  I just can&#39;t retrieve the file to display in the `ImageView`.  And the FIELD_IMG is as a `text` not a blob","body":"Hi, its saving the image file path to that FIELD_IMG in the following format <code>&#47;storage&#47;emulated&#47;0&#47;MapImages&#47;MapImages&#47;JPEG_20211105_091000&zwnj;&#8203;_.jpg</code>  Si i can see the file being saved.  I just can&#39;t retrieve the file to display in the <code>ImageView</code>.  And the FIELD_IMG is as a <code>text</code> not a blob"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1636102835,"post_id":69849752,"comment_id":123472266,"body_markdown":"`Please edit your post to solve this confusion` We wait until you did.","body":"<code>Please edit your post to solve this confusion</code> We wait until you did."},{"owner":{"display_name":"user14568805"},"score":0,"creation_date":1636104583,"post_id":69849752,"comment_id":123472934,"body_markdown":"Sorry that it is confusing to you but the question is quite clear.\n\n1. Save image taken by Camera to SQLite Database\n2. Image file path (not blob) is saved to table in this format `/storage/emulated/0/MapImages/MapImages/JPEG_20211105_091000_.jpg`\n3. Having trouble retrieving the image file from the table to display in the `ImageView`","body":"Sorry that it is confusing to you but the question is quite clear.  1. Save image taken by Camera to SQLite Database 2. Image file path (not blob) is saved to table in this format <code>&#47;storage&#47;emulated&#47;0&#47;MapImages&#47;MapImages&#47;JPEG_20211105_091000&zwnj;&#8203;_.jpg</code> 3. Having trouble retrieving the image file from the table to display in the <code>ImageView</code>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636107800,"creation_date":1636107800,"answer_id":69851757,"question_id":69849752,"body_markdown":"Replace:\r\n\r\n```java\r\nimg = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_IMG));\r\n```\r\n\r\nwith:\r\n\r\n```java\r\nimg = arg1.getString(arg1.getColumnIndex(LocationsDB.FIELD_IMG));\r\n```\r\n\r\nThis will also require you to declare `img` as a `String`.\r\n\r\nA filesystem path is a string, not a floating-point number.\r\n","title":"How to decode an image file path saved to SQLite database and display in ImageView","body":"<p>Replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>img = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_IMG));\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>img = arg1.getString(arg1.getColumnIndex(LocationsDB.FIELD_IMG));\n</code></pre>\n<p>This will also require you to declare <code>img</code> as a <code>String</code>.</p>\n<p>A filesystem path is a string, not a floating-point number.</p>\n"}],"owner":{"display_name":"user14568805"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636107800,"creation_date":1636096917,"question_id":69849752,"body_markdown":"So here is what I am struggling with at the moment.  I am saving the image taken by the camera to my SQLite database by using this code:\r\n\r\nDatabaseDB:\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String sql =     &quot;create table &quot; + DATABASE_TABLE + &quot; ( &quot; +\r\n                FIELD_ROW_ID + &quot; integer primary key autoincrement , &quot; +\r\n                FIELD_LNG + &quot; double , &quot; +\r\n                FIELD_LAT + &quot; double , &quot; +\r\n                FIELD_ZOOM + &quot; text , &quot; +\r\n                FIELD_IMG + &quot; text &quot; +\r\n                &quot; ) &quot;;\r\n\r\n        db.execSQL(sql);\r\n    }\r\n\r\nThen in the camera intent (Main Activity)\r\n  \r\n    StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\r\n                StrictMode.setVmPolicy(builder.build());\r\n                Intent getCameraImage = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                File cameraFolder;\r\n                if   (android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED))\r\n                    cameraFolder = new    File(android.os.Environment.getExternalStorageDirectory(),&quot;MapImages/&quot;);\r\n                else\r\n                    cameraFolder= context.getFilesDir();\r\n                if(!cameraFolder.exists())\r\n                    cameraFolder.mkdirs();\r\n                String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n                String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n                File photo = new File(cameraFolder, &quot;MapImages/&quot; + imageFileName + &quot;.jpg&quot;);\r\n                getCameraImage.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photo));\r\n                Uri.fromFile(photo);\r\n                startActivityForResult(getCameraImage, TAKE_PICTURE);\r\n\r\n                drawMarker(point);\r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(LocationsDB.FIELD_LAT, point.latitude);\r\n                contentValues.put(LocationsDB.FIELD_LNG, point.longitude);\r\n                contentValues.put(LocationsDB.FIELD_ZOOM, mMap.getCameraPosition().zoom);\r\n                contentValues.put(FIELD_IMG, String.valueOf(photo));\r\n                LocationInsertTask insertTask = new LocationInsertTask();\r\n                insertTask.execute(contentValues);\r\n\r\nSo when I look in the database it save the image file location as:\r\n\r\n    /storage/emulated/0/MapImages/MapImages/JPEG_20211105_091000_.jpg\r\n\r\nSo that all works great! But how do I now go about retrieving that image and displaying it in a `ImageView`?\r\n\r\nI have tried this (in the onloadFinished)\r\n\r\n    public void onLoadFinished(Loader&lt;Cursor&gt; arg0, Cursor arg1) {\r\n        int locationCount = 0;\r\n        double lat = 0;\r\n        double lng = 0;\r\n        float zoom = 0;\r\n        double img = 0;\r\n\r\n        locationCount = arg1.getCount();\r\n        arg1.moveToFirst();\r\n\r\n        for (int i = 0; i &lt; locationCount; i++) {\r\n            lat = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_LAT));\r\n            lng = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_LNG));\r\n            zoom = arg1.getFloat(arg1.getColumnIndex(LocationsDB.FIELD_ZOOM));\r\n            img = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_IMG));\r\n            LatLng location = new LatLng(lat, lng);\r\n            drawMarker(location);\r\n            arg1.moveToNext();\r\n        }\r\n\r\n        if (locationCount &gt; 0) {\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLng(new LatLng(lat, lng)));\r\n            mMap.animateCamera(CameraUpdateFactory.zoomTo(zoom));\r\n            Bitmap myBitmap = BitmapFactory.decodeFile(String.valueOf(img));\r\n            ImageView myImage = (ImageView) findViewById(R.id.imageView);\r\n            myImage.setImageBitmap(myBitmap);\r\n            }\r\n        }\r\n\r\nBut then receives the following error:\r\n\r\n    E/BitmapFactory: Unable to decode stream: java.io.FileNotFoundException: 0.0: open failed: ENOENT (No such file or directory)\r\n\r\nI do not want to save the image as a `blob` as it is bad practice hence why I am saving the file path to the DB\r\n\r\nIf someone can please assist in guiding me to retrieve the file from the DB and display in my `ImageView`\r\n\r\nThanks everyone!\r\n\r\n    ","title":"How to decode an image file path saved to SQLite database and display in ImageView","body":"<p>So here is what I am struggling with at the moment.  I am saving the image taken by the camera to my SQLite database by using this code:</p>\n<p>DatabaseDB:</p>\n<pre><code>@Override\npublic void onCreate(SQLiteDatabase db) {\n    String sql =     &quot;create table &quot; + DATABASE_TABLE + &quot; ( &quot; +\n            FIELD_ROW_ID + &quot; integer primary key autoincrement , &quot; +\n            FIELD_LNG + &quot; double , &quot; +\n            FIELD_LAT + &quot; double , &quot; +\n            FIELD_ZOOM + &quot; text , &quot; +\n            FIELD_IMG + &quot; text &quot; +\n            &quot; ) &quot;;\n\n    db.execSQL(sql);\n}\n</code></pre>\n<p>Then in the camera intent (Main Activity)</p>\n<pre><code>StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\n            StrictMode.setVmPolicy(builder.build());\n            Intent getCameraImage = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            File cameraFolder;\n            if   (android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED))\n                cameraFolder = new    File(android.os.Environment.getExternalStorageDirectory(),&quot;MapImages/&quot;);\n            else\n                cameraFolder= context.getFilesDir();\n            if(!cameraFolder.exists())\n                cameraFolder.mkdirs();\n            String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n            String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n            File photo = new File(cameraFolder, &quot;MapImages/&quot; + imageFileName + &quot;.jpg&quot;);\n            getCameraImage.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photo));\n            Uri.fromFile(photo);\n            startActivityForResult(getCameraImage, TAKE_PICTURE);\n\n            drawMarker(point);\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(LocationsDB.FIELD_LAT, point.latitude);\n            contentValues.put(LocationsDB.FIELD_LNG, point.longitude);\n            contentValues.put(LocationsDB.FIELD_ZOOM, mMap.getCameraPosition().zoom);\n            contentValues.put(FIELD_IMG, String.valueOf(photo));\n            LocationInsertTask insertTask = new LocationInsertTask();\n            insertTask.execute(contentValues);\n</code></pre>\n<p>So when I look in the database it save the image file location as:</p>\n<pre><code>/storage/emulated/0/MapImages/MapImages/JPEG_20211105_091000_.jpg\n</code></pre>\n<p>So that all works great! But how do I now go about retrieving that image and displaying it in a <code>ImageView</code>?</p>\n<p>I have tried this (in the onloadFinished)</p>\n<pre><code>public void onLoadFinished(Loader&lt;Cursor&gt; arg0, Cursor arg1) {\n    int locationCount = 0;\n    double lat = 0;\n    double lng = 0;\n    float zoom = 0;\n    double img = 0;\n\n    locationCount = arg1.getCount();\n    arg1.moveToFirst();\n\n    for (int i = 0; i &lt; locationCount; i++) {\n        lat = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_LAT));\n        lng = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_LNG));\n        zoom = arg1.getFloat(arg1.getColumnIndex(LocationsDB.FIELD_ZOOM));\n        img = arg1.getDouble(arg1.getColumnIndex(LocationsDB.FIELD_IMG));\n        LatLng location = new LatLng(lat, lng);\n        drawMarker(location);\n        arg1.moveToNext();\n    }\n\n    if (locationCount &gt; 0) {\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(new LatLng(lat, lng)));\n        mMap.animateCamera(CameraUpdateFactory.zoomTo(zoom));\n        Bitmap myBitmap = BitmapFactory.decodeFile(String.valueOf(img));\n        ImageView myImage = (ImageView) findViewById(R.id.imageView);\n        myImage.setImageBitmap(myBitmap);\n        }\n    }\n</code></pre>\n<p>But then receives the following error:</p>\n<pre><code>E/BitmapFactory: Unable to decode stream: java.io.FileNotFoundException: 0.0: open failed: ENOENT (No such file or directory)\n</code></pre>\n<p>I do not want to save the image as a <code>blob</code> as it is bad practice hence why I am saving the file path to the DB</p>\n<p>If someone can please assist in guiding me to retrieve the file from the DB and display in my <code>ImageView</code></p>\n<p>Thanks everyone!</p>\n"},{"tags":["java","jmonkeyengine"],"answers":[{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636107520,"creation_date":1636107520,"answer_id":69851703,"question_id":69851702,"body_markdown":"## Create an additional camera and view port to support these additional graphics\r\n\r\nIn JMonkeyEngine its possible to have more than one viewport and layer them on top of each other to provide the described effect. Each viewport is internally 3d, but the view ports themselves layer over the top of each other.\r\n\r\n### Code example\r\n\r\nMain class to get things set up\r\n\r\n    public class Example extends SimpleApplication {\r\n    \r\n        public static void main(String[] args){\r\n            Example app = new Example();\r\n            app.start(); // start the game\r\n        }\r\n    \r\n        @Override\r\n        public void simpleInitApp() {\r\n            //this represents the &quot;real world&quot; in this example\r\n            Box b = new Box(1, 1, 1);\r\n            Geometry geom = new Geometry(&quot;Box&quot;, b);\r\n            Material mat = new Material(assetManager,&quot;Common/MatDefs/Misc/Unshaded.j3md&quot;);\r\n            mat.setColor(&quot;Color&quot;, ColorRGBA.Blue);\r\n            geom.setMaterial(mat);\r\n            rootNode.attachChild(geom);\r\n    \r\n            this.stateManager.attach(new UnderGui());\r\n        }\r\n    }\r\n\r\nAn UnderGui layer, that has a 3d scene between the gui layer and the main 3d scene\r\n\r\n    /**\r\n     * The under gui is for things like the held tool. Things that are kind of 3d but also want to be &quot;over&quot; everything\r\n     * else\r\n     */\r\n    public class UnderGui extends AbstractAppState {\r\n    \r\n        private Node root;\r\n    \r\n        public UnderGui() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void initialize(AppStateManager stateManager, Application app )\r\n    \r\n        {\r\n            root = new Node( &quot;Under gui viewport Root&quot; );\r\n    \r\n            Camera originalCam = app.getCamera();\r\n    \r\n            Camera cam = new Camera(originalCam.getWidth(), originalCam.getHeight());\r\n            //the default camera is an orthoganal camera, use the main cam to copy sensible camera properties\r\n            cam.setParallelProjection(originalCam.isParallelProjection());\r\n            cam.setFrustum(originalCam.getFrustumNear(), originalCam.getFrustumFar(), originalCam.getFrustumLeft(), originalCam.getFrustumRight(),originalCam.getFrustumTop(), originalCam.getFrustumBottom()  );\r\n            cam.setFov(originalCam.getFov());\r\n            //camera is looking in a +Z direction. -X is right, +X is left. +Y is up\r\n    \r\n            ViewPort view = app.getRenderManager().createMainView(&quot;Under gui ViewPort&quot;, cam);\r\n            view.setEnabled(true);\r\n            view.setClearFlags(false, true, false);\r\n            view.attachScene( root );\r\n    \r\n            root.attachChild(createWeapon(app.getAssetManager()));\r\n    \r\n        }\r\n    \r\n        /**\r\n         * This just creates a red box to be a &quot;weapon&quot; as an example\r\n         * @return\r\n         */\r\n        private Geometry createWeapon(AssetManager assetManager){\r\n            Box b = new Box(1, 1, 1); // create cube shape\r\n            Geometry geom = new Geometry(&quot;Box&quot;, b);  // create cube geometry from the shape\r\n            Material mat = new Material(assetManager,\r\n                    &quot;Common/MatDefs/Misc/Unshaded.j3md&quot;);  // create a simple material\r\n            mat.setColor(&quot;Color&quot;, ColorRGBA.Blue);   // set color of material to blue\r\n            geom.setMaterial(mat);                   // set the cube&#39;s material\r\n            geom.setLocalTranslation(-2,0,2);\r\n            return geom;\r\n        }\r\n    \r\n        @Override\r\n        public void render(RenderManager rm) {\r\n            root.updateGeometricState();\r\n        }\r\n    \r\n        @Override\r\n        public void update( float tpf ) {\r\n            root.updateLogicalState(tpf);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis can also be used for any &quot;ability to see through walls&quot; overlay\r\n\r\n## Alternative bad solution; setDepthTest\r\n\r\nYou can also just put the weapon in the main scene and set `geometry.getMaterial().getAdditionalRenderState().setDepthTest(false);`. However this is a less good option because it requires the weapon to constantly be moved as the camera changes position and direction and can only cope with &quot;simple&quot; 3D overlays as if 1 part of the weapon is in front of another part (e.g. the stock is in front of the trigger) which bit is rendered is random, as you&#39;ve asked JME not to do any depth testing","title":"In JMonkeyEngine how can I have an FPS style weapon in front of the scene","body":"<h2>Create an additional camera and view port to support these additional graphics</h2>\n<p>In JMonkeyEngine its possible to have more than one viewport and layer them on top of each other to provide the described effect. Each viewport is internally 3d, but the view ports themselves layer over the top of each other.</p>\n<h3>Code example</h3>\n<p>Main class to get things set up</p>\n<pre><code>public class Example extends SimpleApplication {\n\n    public static void main(String[] args){\n        Example app = new Example();\n        app.start(); // start the game\n    }\n\n    @Override\n    public void simpleInitApp() {\n        //this represents the &quot;real world&quot; in this example\n        Box b = new Box(1, 1, 1);\n        Geometry geom = new Geometry(&quot;Box&quot;, b);\n        Material mat = new Material(assetManager,&quot;Common/MatDefs/Misc/Unshaded.j3md&quot;);\n        mat.setColor(&quot;Color&quot;, ColorRGBA.Blue);\n        geom.setMaterial(mat);\n        rootNode.attachChild(geom);\n\n        this.stateManager.attach(new UnderGui());\n    }\n}\n</code></pre>\n<p>An UnderGui layer, that has a 3d scene between the gui layer and the main 3d scene</p>\n<pre><code>/**\n * The under gui is for things like the held tool. Things that are kind of 3d but also want to be &quot;over&quot; everything\n * else\n */\npublic class UnderGui extends AbstractAppState {\n\n    private Node root;\n\n    public UnderGui() {\n\n    }\n\n    @Override\n    public void initialize(AppStateManager stateManager, Application app )\n\n    {\n        root = new Node( &quot;Under gui viewport Root&quot; );\n\n        Camera originalCam = app.getCamera();\n\n        Camera cam = new Camera(originalCam.getWidth(), originalCam.getHeight());\n        //the default camera is an orthoganal camera, use the main cam to copy sensible camera properties\n        cam.setParallelProjection(originalCam.isParallelProjection());\n        cam.setFrustum(originalCam.getFrustumNear(), originalCam.getFrustumFar(), originalCam.getFrustumLeft(), originalCam.getFrustumRight(),originalCam.getFrustumTop(), originalCam.getFrustumBottom()  );\n        cam.setFov(originalCam.getFov());\n        //camera is looking in a +Z direction. -X is right, +X is left. +Y is up\n\n        ViewPort view = app.getRenderManager().createMainView(&quot;Under gui ViewPort&quot;, cam);\n        view.setEnabled(true);\n        view.setClearFlags(false, true, false);\n        view.attachScene( root );\n\n        root.attachChild(createWeapon(app.getAssetManager()));\n\n    }\n\n    /**\n     * This just creates a red box to be a &quot;weapon&quot; as an example\n     * @return\n     */\n    private Geometry createWeapon(AssetManager assetManager){\n        Box b = new Box(1, 1, 1); // create cube shape\n        Geometry geom = new Geometry(&quot;Box&quot;, b);  // create cube geometry from the shape\n        Material mat = new Material(assetManager,\n                &quot;Common/MatDefs/Misc/Unshaded.j3md&quot;);  // create a simple material\n        mat.setColor(&quot;Color&quot;, ColorRGBA.Blue);   // set color of material to blue\n        geom.setMaterial(mat);                   // set the cube's material\n        geom.setLocalTranslation(-2,0,2);\n        return geom;\n    }\n\n    @Override\n    public void render(RenderManager rm) {\n        root.updateGeometricState();\n    }\n\n    @Override\n    public void update( float tpf ) {\n        root.updateLogicalState(tpf);\n    }\n}\n</code></pre>\n<p>This can also be used for any &quot;ability to see through walls&quot; overlay</p>\n<h2>Alternative bad solution; setDepthTest</h2>\n<p>You can also just put the weapon in the main scene and set <code>geometry.getMaterial().getAdditionalRenderState().setDepthTest(false);</code>. However this is a less good option because it requires the weapon to constantly be moved as the camera changes position and direction and can only cope with &quot;simple&quot; 3D overlays as if 1 part of the weapon is in front of another part (e.g. the stock is in front of the trigger) which bit is rendered is random, as you've asked JME not to do any depth testing</p>\n"}],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636107520,"creation_date":1636107520,"question_id":69851702,"body_markdown":"Aka Can I have a 3d scene that is in front of the main scene without it being clipped.\r\n\r\nAka The front of my weapon keeps getting hidden by the scene in my game\r\n\r\n## Situation\r\n\r\nI have a 3d scene, rendered by JMonkey, and additionally have 3d weapons held by the player. Additionally the player may stand so close to walls that they may (if treated realistically) stick the end of their gun through the wall. This means that if the gun is placed &quot;by dead reckoning&quot; in the scene so it looks right the end of the gun gets clipped off and looks stupid.\r\n\r\nBecause this is a 3d object (that may be rotated or moved) I can&#39;t just use a 2d image and put it in the gui layer\r\n","title":"In JMonkeyEngine how can I have an FPS style weapon in front of the scene","body":"<p>Aka Can I have a 3d scene that is in front of the main scene without it being clipped.</p>\n<p>Aka The front of my weapon keeps getting hidden by the scene in my game</p>\n<h2>Situation</h2>\n<p>I have a 3d scene, rendered by JMonkey, and additionally have 3d weapons held by the player. Additionally the player may stand so close to walls that they may (if treated realistically) stick the end of their gun through the wall. This means that if the gun is placed &quot;by dead reckoning&quot; in the scene so it looks right the end of the gun gets clipped off and looks stupid.</p>\n<p>Because this is a 3d object (that may be rotated or moved) I can't just use a 2d image and put it in the gui layer</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1636052883,"post_id":69844455,"comment_id":123461772,"body_markdown":"`jdbc:sqlite:..db/` shouldn&#39;t this be `jdbc:sqlite:../db/`? (notice the `/` before &quot;db&quot;)","body":"<code>jdbc:sqlite:..db&#47;</code> shouldn&#39;t this be <code>jdbc:sqlite:..&#47;db&#47;</code>? (notice the <code>&#47;</code> before &quot;db&quot;)"},{"owner":{"account_id":16933460,"reputation":81,"user_id":12247112,"display_name":"N7Legend"},"score":0,"creation_date":1636053012,"post_id":69844455,"comment_id":123461817,"body_markdown":"Still the same issue, he&#39;s trying to reach ../db :/","body":"Still the same issue, he&#39;s trying to reach ../db :/"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1636100891,"post_id":69844455,"comment_id":123471659,"body_markdown":"Are you asking how to create a new directory?  Edit the question with details of the exception.","body":"Are you asking how to create a new directory?  Edit the question with details of the exception."},{"owner":{"account_id":16933460,"reputation":81,"user_id":12247112,"display_name":"N7Legend"},"score":0,"creation_date":1636101976,"post_id":69844455,"comment_id":123472000,"body_markdown":"I am asking how to create a database in the parent folder of my working directory, I don&#39;t know why, someone edited the title of my question, now it&#39;s clearer","body":"I am asking how to create a database in the parent folder of my working directory, I don&#39;t know why, someone edited the title of my question, now it&#39;s clearer"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1636106562,"post_id":69844455,"comment_id":123473742,"body_markdown":"It not clear unless you show the actual exception you get back from SQLite. The answer by @Harry Coder ought to work with url `jdbc:sqlite:../db/yourdb` unless you&#39;ve not created the parent directory.","body":"It not clear unless you show the actual exception you get back from SQLite. The answer by @Harry Coder ought to work with url <code>jdbc:sqlite:..&#47;db&#47;yourdb</code> unless you&#39;ve not created the parent directory."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636107450,"creation_date":1636107086,"answer_id":69851616,"question_id":69844455,"body_markdown":"You can use NIO path to validate the path for the SQLite db connection. Note that `toRealPath()` is applied to the parent to ensure the parent dir exists, before resolving the absolute pathname to the database inside the parent directory:\r\n\r\n    Path dbPath = Path.of(&quot;../db/yourdb&quot;);\r\n    String dbURL = &quot;jdbc:sqlite:&quot;+dbPath.getParent().toRealPath().resolve(dbPath.getFileName());\r\n    System.out.println(&quot;dbURL=&quot;+dbURL);\r\n\r\n    try(Connection conn = DriverManager.getConnection(dbURL)) {\r\n    ...\r\n\r\nor as one liner:\r\n\r\n    String dbURL = &quot;jdbc:sqlite:&quot;+Path.of(&quot;../db&quot;).toRealPath().resolve(&quot;dbName&quot;);\r\n","title":"Create database in parent directory","body":"<p>You can use NIO path to validate the path for the SQLite db connection. Note that <code>toRealPath()</code> is applied to the parent to ensure the parent dir exists, before resolving the absolute pathname to the database inside the parent directory:</p>\n<pre><code>Path dbPath = Path.of(&quot;../db/yourdb&quot;);\nString dbURL = &quot;jdbc:sqlite:&quot;+dbPath.getParent().toRealPath().resolve(dbPath.getFileName());\nSystem.out.println(&quot;dbURL=&quot;+dbURL);\n\ntry(Connection conn = DriverManager.getConnection(dbURL)) {\n...\n</code></pre>\n<p>or as one liner:</p>\n<pre><code>String dbURL = &quot;jdbc:sqlite:&quot;+Path.of(&quot;../db&quot;).toRealPath().resolve(&quot;dbName&quot;);\n</code></pre>\n"}],"owner":{"account_id":16933460,"reputation":81,"user_id":12247112,"display_name":"N7Legend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69851616,"answer_count":1,"score":-1,"last_activity_date":1636107450,"creation_date":1636052058,"question_id":69844455,"body_markdown":"I&#39;m trying to create a database file in the parent directory according to my working directory, so far here is what I&#39;ve done\r\n\r\n    public void createNewDatabase(String dbName) {\r\n\t\t\r\n        try (Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite:..db/&quot;+dbName)) {\r\n            if (conn != null) {\r\n                DatabaseMetaData meta = conn.getMetaData();\r\n                System.out.println(&quot;The driver name is &quot; + meta.getDriverName());\r\n                System.out.println(&quot;A new database has been created.&quot;);\r\n            }\r\n\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n        }\t\t\r\n\t}\r\n\r\nThe problem is, as you can see here `try (Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite:..db/&quot;+dbName))` the `DriverManager` is trying to access the directory ../db which doesn&#39;t exist.\r\n\r\nHave you got any idea how can I achieve that?","title":"Create database in parent directory","body":"<p>I'm trying to create a database file in the parent directory according to my working directory, so far here is what I've done</p>\n<pre><code>public void createNewDatabase(String dbName) {\n    \n    try (Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite:..db/&quot;+dbName)) {\n        if (conn != null) {\n            DatabaseMetaData meta = conn.getMetaData();\n            System.out.println(&quot;The driver name is &quot; + meta.getDriverName());\n            System.out.println(&quot;A new database has been created.&quot;);\n        }\n\n    } catch (SQLException e) {\n        System.out.println(e.getMessage());\n    }       \n}\n</code></pre>\n<p>The problem is, as you can see here <code>try (Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite:..db/&quot;+dbName))</code> the <code>DriverManager</code> is trying to access the directory ../db which doesn't exist.</p>\n<p>Have you got any idea how can I achieve that?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13319059,"reputation":551,"user_id":9614419,"display_name":"Noman khanbhai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636107370,"creation_date":1636107370,"answer_id":69851665,"question_id":69840139,"body_markdown":"```\r\nFirebaseUser user = mAuth.getCurrentUser();\r\n   if (user != null) {\r\n       String userEmail = user.getEmail();\r\n       firstButton.setText(userEmail);\r\n   } else {\r\n       // No user is signed in\r\n   }\r\n```\r\nPlease mark this answer as correct if it worked for you thanks!","title":"How do get the Firebase getcurrentuser() into a button or editTextview?","body":"<pre><code>FirebaseUser user = mAuth.getCurrentUser();\n   if (user != null) {\n       String userEmail = user.getEmail();\n       firstButton.setText(userEmail);\n   } else {\n       // No user is signed in\n   }\n</code></pre>\n<p>Please mark this answer as correct if it worked for you thanks!</p>\n"}],"owner":{"account_id":7511851,"reputation":64,"user_id":5706527,"accept_rate":80,"display_name":"MikeBroski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69851665,"answer_count":1,"score":0,"last_activity_date":1636107370,"creation_date":1636033120,"question_id":69840139,"body_markdown":" Hello I am basically trying to get the mAuth.getCurrentUser() or any of authitcation data from firebase into the textview/button. Android studio whenver I try to insert anything from firebase it needs to be turned into string however, the object/value you get from getCurrentUsers() alternativly I am wondering how you can get email. From the SignInWithEmailAndPassword method.\r\n\r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.loggetscreen);\r\n    \r\n            logoutBtn =(Button) findViewById(R.id.logoutBtn);\r\n            loginText =(TextView) findViewById(R.id.loggedInTextview);\r\n            firstButton =(Button) findViewById(R.id.firstButton);\r\n            secondButton =(Button) findViewById(R.id.secondButton);\r\n    \r\n            mAuth = FirebaseAuth.getInstance();\r\n    \r\n            String welcomeMessage = &quot;WELCOME to the app&quot;;\r\n            FirebaseUser user =mAuth.getCurrentUser();\r\n    \r\n            //welcomeMessage = user.getEmail().toString();\r\n            //loginText.getText(welcomeMessage);\r\n    \r\n            firstButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    loginText.setText(&quot;hi &quot;+ welcomeMessage)\r\n                }\r\n            });\r\n    \r\n    \r\n            secondButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    loginText.setText(&quot;I HAVE CHANGED INTO &quot;+ secondButton.getText());\r\n                    firstButton.setText(mAuth.getCurrentUser());\r\n    \r\n                }\r\n            });","title":"How do get the Firebase getcurrentuser() into a button or editTextview?","body":"<p>Hello I am basically trying to get the mAuth.getCurrentUser() or any of authitcation data from firebase into the textview/button. Android studio whenver I try to insert anything from firebase it needs to be turned into string however, the object/value you get from getCurrentUsers() alternativly I am wondering how you can get email. From the SignInWithEmailAndPassword method.</p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.loggetscreen);\n\n        logoutBtn =(Button) findViewById(R.id.logoutBtn);\n        loginText =(TextView) findViewById(R.id.loggedInTextview);\n        firstButton =(Button) findViewById(R.id.firstButton);\n        secondButton =(Button) findViewById(R.id.secondButton);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        String welcomeMessage = &quot;WELCOME to the app&quot;;\n        FirebaseUser user =mAuth.getCurrentUser();\n\n        //welcomeMessage = user.getEmail().toString();\n        //loginText.getText(welcomeMessage);\n\n        firstButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                loginText.setText(&quot;hi &quot;+ welcomeMessage)\n            }\n        });\n\n\n        secondButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                loginText.setText(&quot;I HAVE CHANGED INTO &quot;+ secondButton.getText());\n                firstButton.setText(mAuth.getCurrentUser());\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":6067817,"reputation":948,"user_id":4737559,"accept_rate":78,"display_name":"shriyog"},"score":1,"creation_date":1521651633,"post_id":49412302,"comment_id":85826536,"body_markdown":"Have you really verified what you claim?","body":"Have you really verified what you claim?"},{"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"score":1,"creation_date":1521651746,"post_id":49412302,"comment_id":85826605,"body_markdown":"@narush yes I verified it. It&#39;s what&#39;s happening to me.","body":"@narush yes I verified it. It&#39;s what&#39;s happening to me."}],"answers":[{"tags":[],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1636107353,"creation_date":1521651767,"answer_id":49412474,"question_id":49412302,"body_markdown":"The thread you are creating is independent and does not depend on the Main Thread termination. You can use `Daemon` thread for the same. **Daemon threads will be terminated by the JVM when there are none of the other non- daemon threads running, it includes a main thread of execution as well.**\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tThread t = new Thread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tSystem.out.println(&quot;Daemon thread&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tt.setDaemon(true);\r\n\t\tt.start();\r\n\r\n\t\tSystem.out.println(&quot;End of main&quot;);\r\n\t}","title":"Java - Stop a thread automatically when program ends","body":"<p>The thread you are creating is independent and does not depend on the Main Thread termination. You can use <code>Daemon</code> thread for the same. <strong>Daemon threads will be terminated by the JVM when there are none of the other non- daemon threads running, it includes a main thread of execution as well.</strong></p>\n<pre><code>public static void main(String[] args) {\n    Thread t = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            while (true) {\n                System.out.println(&quot;Daemon thread&quot;);\n            }\n        }\n    });\n    t.setDaemon(true);\n    t.start();\n\n    System.out.println(&quot;End of main&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521651773,"creation_date":1521651773,"answer_id":49412477,"question_id":49412302,"body_markdown":"Make it [a daemon thread](https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#setDaemon(boolean)).\r\n\r\n&gt; `public final void setDaemon(boolean on)`&lt;br/&gt;&lt;br/&gt;Marks this thread as either a\r\n&gt; daemon thread or a user thread. **The Java Virtual Machine exits when\r\n&gt; the only threads running are all daemon threads**. This method must be\r\n&gt; invoked before the thread is started.\r\n\r\n    Thread t = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            while(true) {\r\n                //some code here\r\n            }\r\n        }\r\n    });\r\n    \r\n    t.setDaemon(true);\r\n    t.start();\r\n\r\n    System.out.println(&quot;End of main&quot;);","title":"Java - Stop a thread automatically when program ends","body":"<p>Make it <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#setDaemon(boolean)\" rel=\"nofollow noreferrer\">a daemon thread</a>.</p>\n\n<blockquote>\n  <p><code>public final void setDaemon(boolean on)</code><br/><br/>Marks this thread as either a\n  daemon thread or a user thread. <strong>The Java Virtual Machine exits when\n  the only threads running are all daemon threads</strong>. This method must be\n  invoked before the thread is started.</p>\n</blockquote>\n\n<pre><code>Thread t = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        while(true) {\n            //some code here\n        }\n    }\n});\n\nt.setDaemon(true);\nt.start();\n\nSystem.out.println(\"End of main\");\n</code></pre>\n"}],"owner":{"account_id":7683842,"reputation":738,"user_id":5822306,"accept_rate":33,"display_name":"Conner Dassen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3006,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":49412474,"answer_count":2,"score":6,"last_activity_date":1636107353,"creation_date":1521651295,"question_id":49412302,"body_markdown":"Take a look at this code:\r\n\r\n    public class ThreadTest {\r\n    \r\n        public static void main(String[] args) {\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    while(true) {\r\n                        //some code here\r\n                    }\r\n                }\r\n            }).start();\r\n    \r\n            System.out.println(&quot;End of main&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nNormally, when the end of `main` is reached, the program terminates. But in this example, the program will prints &quot;End of main&quot; and then keeps running because the thread is still running. Is there a way that the thread can stop _automatically_ when the end is reached, without using something like `while(isRunning)`?","title":"Java - Stop a thread automatically when program ends","body":"<p>Take a look at this code:</p>\n\n<pre><code>public class ThreadTest {\n\n    public static void main(String[] args) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while(true) {\n                    //some code here\n                }\n            }\n        }).start();\n\n        System.out.println(\"End of main\");\n    }\n\n}\n</code></pre>\n\n<p>Normally, when the end of <code>main</code> is reached, the program terminates. But in this example, the program will prints \"End of main\" and then keeps running because the thread is still running. Is there a way that the thread can stop <em>automatically</em> when the end is reached, without using something like <code>while(isRunning)</code>?</p>\n"},{"tags":["java","android","dji-sdk"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636107167,"creation_date":1636107167,"answer_id":69851628,"question_id":69851177,"body_markdown":"Your best bet is to invalidate caches and restart. Solves 99% of problems like this for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can also try to reimport the project using the gradle tool window ...\r\n\r\nClick the reload button here ...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qdp31.png\r\n  [2]: https://i.stack.imgur.com/EBDyx.png","title":"Android java class/symbol not found despite being placed in the same directory","body":"<p>Your best bet is to invalidate caches and restart. Solves 99% of problems like this for me.</p>\n<p><a href=\"https://i.stack.imgur.com/qdp31.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qdp31.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also try to reimport the project using the gradle tool window ...</p>\n<p>Click the reload button here ...</p>\n<p><a href=\"https://i.stack.imgur.com/EBDyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBDyx.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22026996,"reputation":372,"user_id":16295405,"display_name":"fatbringer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69851628,"answer_count":1,"score":0,"last_activity_date":1636107167,"creation_date":1636105145,"question_id":69851177,"body_markdown":"I have encountered issues in my android studio regarding java classes/symbols not found, despite these classes and symbols being placed in the same directory, or under the same parent directory. I am making use of the DJI&#39;s mobile SDK for android. \r\n\r\nExample of errors:\r\n\r\nCannot resolve symbol &#39;DJISampleApplication&#39;\r\n\r\n\r\n\r\nFor illustration, here are 2 screenshots\r\nFirst example. Clicking on &quot;import class&quot; causes android studio to create a brand new class instead of linking it to the existing one. \r\n[![Example of class not found][1]][1]\r\n\r\n\r\nsecond example\r\n[![Multiple classes not found][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3KX83.png\r\n  [2]: https://i.stack.imgur.com/zttLS.png\r\n\r\nHowever, oddly, when I go under &quot;Build &gt;&gt; Make Project&quot; , or &quot;Run&quot; to deploy on a real android device, the app can be installed, and there are no errors (only warnings). \r\n\r\nThings I have tried:\r\n1) Uninstalling and re-installing android studio\r\n2) copying the whole project from the original files in again\r\n3) Trying on another computer, which works. However, as i am only assigned this pc, i have to get this to work here as well.\r\n\r\nThank you in advance !","title":"Android java class/symbol not found despite being placed in the same directory","body":"<p>I have encountered issues in my android studio regarding java classes/symbols not found, despite these classes and symbols being placed in the same directory, or under the same parent directory. I am making use of the DJI's mobile SDK for android.</p>\n<p>Example of errors:</p>\n<p>Cannot resolve symbol 'DJISampleApplication'</p>\n<p>For illustration, here are 2 screenshots\nFirst example. Clicking on &quot;import class&quot; causes android studio to create a brand new class instead of linking it to the existing one.\n<a href=\"https://i.stack.imgur.com/3KX83.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3KX83.png\" alt=\"Example of class not found\" /></a></p>\n<p>second example\n<a href=\"https://i.stack.imgur.com/zttLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zttLS.png\" alt=\"Multiple classes not found\" /></a></p>\n<p>However, oddly, when I go under &quot;Build &gt;&gt; Make Project&quot; , or &quot;Run&quot; to deploy on a real android device, the app can be installed, and there are no errors (only warnings).</p>\n<p>Things I have tried:</p>\n<ol>\n<li>Uninstalling and re-installing android studio</li>\n<li>copying the whole project from the original files in again</li>\n<li>Trying on another computer, which works. However, as i am only assigned this pc, i have to get this to work here as well.</li>\n</ol>\n<p>Thank you in advance !</p>\n"},{"tags":["java","android","httprequest"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1335162707,"post_id":10275814,"comment_id":13216725,"body_markdown":"Use `System.out.println(e)` instead. Or `e.printStackTrace()`. Or at the very least `System.out.println(e.getClass())`.","body":"Use <code>System.out.println(e)</code> instead. Or <code>e.printStackTrace()</code>. Or at the very least <code>System.out.println(e.getClass())</code>."},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":0,"creation_date":1335162788,"post_id":10275814,"comment_id":13216754,"body_markdown":"@JonSkeet Are you sure this lines will show when running Android code?","body":"@JonSkeet Are you sure this lines will show when running Android code?"},{"owner":{"account_id":1173269,"reputation":3163,"user_id":1149919,"accept_rate":62,"display_name":"antoniom"},"score":0,"creation_date":1335162816,"post_id":10275814,"comment_id":13216762,"body_markdown":"Maybe exception was created withoud message. Try `e.printStackTrace();`","body":"Maybe exception was created withoud message. Try <code>e.printStackTrace();</code>"},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":0,"creation_date":1335162902,"post_id":10275814,"comment_id":13216791,"body_markdown":"Android does not show the standard console output. Use `Log.e(&quot;TAG&quot;, e)` (you will need to import `android.util.Log`) and then see the error in the LogCat.","body":"Android does not show the standard console output. Use <code>Log.e(&quot;TAG&quot;, e)</code> (you will need to import <code>android.util.Log</code>) and then see the error in the LogCat."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1335163167,"post_id":10275814,"comment_id":13216870,"body_markdown":"@BorisStrandjev: I was assuming the OP already had that covered given that his current code *apparently* reports &quot;DIED&quot;.","body":"@BorisStrandjev: I was assuming the OP already had that covered given that his current code <i>apparently</i> reports &quot;DIED&quot;."},{"owner":{"account_id":920876,"reputation":4754,"user_id":952608,"accept_rate":75,"display_name":"Moe"},"score":0,"creation_date":1335192631,"post_id":10275814,"comment_id":13228220,"body_markdown":"So, I found why it was throwing this exception. All internet connections now need to be done in an AsyncTask class. For anyone wondering.","body":"So, I found why it was throwing this exception. All internet connections now need to be done in an AsyncTask class. For anyone wondering."}],"answers":[{"tags":[],"owner":{"account_id":154393,"reputation":108787,"user_id":370305,"accept_rate":71,"display_name":"user370305"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1335162790,"creation_date":1335162790,"answer_id":10275843,"question_id":10275814,"body_markdown":"Use `android.util.Log` class for Logger..\r\n\r\n    catch(Exception e)\r\n      {\r\n         Log.e(&quot;Exception:&quot;,e.toString());\r\n          // or  \r\n         e.printStackTrace();\r\n      }\r\n\r\n","title":"DefaultHTTPClient throwing unknown exception","body":"<p>Use <code>android.util.Log</code> class for Logger..</p>\n\n<pre><code>catch(Exception e)\n  {\n     Log.e(\"Exception:\",e.toString());\n      // or  \n     e.printStackTrace();\n  }\n</code></pre>\n"}],"owner":{"account_id":920876,"reputation":4754,"user_id":952608,"accept_rate":75,"display_name":"Moe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10275843,"answer_count":1,"score":0,"last_activity_date":1636107142,"creation_date":1335162604,"question_id":10275814,"body_markdown":"I&#39;m try to retrieve the response of a POST to a URL in an Android Java Environment:\r\n\r\nHere&#39;s my code:\r\n\r\n              try{\r\n        \t\t        DefaultHttpClient httpClient = new DefaultHttpClient();\r\n        \t\t        ResponseHandler &lt;String&gt; resonseHandler = new BasicResponseHandler();\r\n        \t\t        HttpPost postMethod = new HttpPost(&quot;http://myurl.com/post.php&quot;);\r\n        \t\t        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(2);\r\n        \t\t \r\n        \t\t        JSONObject jsonObject = new JSONObject();\r\n        \t\t        jsonObject.put(&quot;data1&quot;, &quot;OK&quot;);\r\n        \t\t        jsonObject.put(&quot;data2&quot;, &quot;OK2&quot;);\r\n        \t\t \r\n        \t\t        nameValuePairs.add(new BasicNameValuePair(&quot;jsonString&quot;, jsonObject.toString()));\r\n        \t\t        postMethod.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n        \t\t        String response = httpClient.execute(postMethod,resonseHandler);\r\n        \t\t        \r\n        \t\t        System.out.println(response);\r\n        \t\t}\r\n        \t\tcatch(Exception e)\r\n        \t\t{\r\n        \t\t\tSystem.out.println(&quot;DIED&quot;);\r\n        \t\t}\r\n\r\n\r\nSure enough, it returns &quot;DIED&quot;.\r\nIf I change `System.out.println(&quot;DIED&quot;);` to: `System.out.println(e.getMessage())`\r\nthen my application crashes.\r\n\r\nWhat am I doing wrong?","title":"DefaultHTTPClient throwing unknown exception","body":"<p>I'm try to retrieve the response of a POST to a URL in an Android Java Environment:</p>\n<p>Here's my code:</p>\n<pre><code>          try{\n                    DefaultHttpClient httpClient = new DefaultHttpClient();\n                    ResponseHandler &lt;String&gt; resonseHandler = new BasicResponseHandler();\n                    HttpPost postMethod = new HttpPost(&quot;http://myurl.com/post.php&quot;);\n                    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(2);\n             \n                    JSONObject jsonObject = new JSONObject();\n                    jsonObject.put(&quot;data1&quot;, &quot;OK&quot;);\n                    jsonObject.put(&quot;data2&quot;, &quot;OK2&quot;);\n             \n                    nameValuePairs.add(new BasicNameValuePair(&quot;jsonString&quot;, jsonObject.toString()));\n                    postMethod.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n                    String response = httpClient.execute(postMethod,resonseHandler);\n                    \n                    System.out.println(response);\n            }\n            catch(Exception e)\n            {\n                System.out.println(&quot;DIED&quot;);\n            }\n</code></pre>\n<p>Sure enough, it returns &quot;DIED&quot;.\nIf I change <code>System.out.println(&quot;DIED&quot;);</code> to: <code>System.out.println(e.getMessage())</code>\nthen my application crashes.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","selenium","timestamp","runnable"],"answers":[{"tags":[],"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636107060,"creation_date":1636107060,"answer_id":69851604,"question_id":69824292,"body_markdown":"I was finally able to solve this problem! For those interested, here&#39;s what I did.\r\nI edited `subTestDelay` to take in a `Supplier&lt;Boolean&gt; condition` instead of a `boolean condition`. Now, the evaluation of `condition.get()` is timed. This seems to be what fixed the issue (I don&#39;t know why, though).\r\n\r\n`subTestDelay` now looks like this:\r\n\r\n    public static void subTestDelay(boolean log, Supplier&lt;Boolean&gt; condition, int delay, String message) {\r\n        String msg = &quot;Timeout after waiting &quot;.concat(String.valueOf(delay)).concat(&quot; seconds for &quot;);\r\n        if (log) {\r\n            Assert.assertTrue(ExtentTestManager.benchmark(() -&gt; {\r\n                if (!condition.get()) {\r\n                    tempData.failStatus();\r\n                    return false;\r\n                }\r\n                return true;\r\n            }), msg.concat(message));\r\n        } else {\r\n            Assert.assertTrue(condition.get(), msg.concat(message));\r\n        }\r\n    }\r\n\r\n`benchmark` was also edited to take in a `Supplier&lt;Boolean&gt;` instead of a `Runnable`:\r\n\r\n    public static boolean benchmark(Supplier&lt;Boolean&gt; supplier) {\r\n        LocalDateTime before = LocalDateTime.now();\r\n        boolean returnValue = supplier.get();\r\n        logToDocument(before, LocalDateTime.now());\r\n        return returnValue;\r\n    }\r\n\r\nThe same test now yields the correct results:\r\n\r\n    Before loading:2021-11-05T11:08:39.758627100\r\n    After loading:2021-11-05T11:08:43.953063700\r\n    Before loading:2021-11-05T11:08:45.309372500\r\n    After loading:2021-11-05T11:08:52.510232700\r\n    Before loading:2021-11-05T11:08:53.963683900\r\n    After loading:2021-11-05T11:08:56.048520300\r\n    Before loading:2021-11-05T11:08:57.233896600\r\n    After loading:2021-11-05T11:08:58.438004100","title":"Boolean with delay is evaluated, but not properly timed","body":"<p>I was finally able to solve this problem! For those interested, here's what I did.\nI edited <code>subTestDelay</code> to take in a <code>Supplier&lt;Boolean&gt; condition</code> instead of a <code>boolean condition</code>. Now, the evaluation of <code>condition.get()</code> is timed. This seems to be what fixed the issue (I don't know why, though).</p>\n<p><code>subTestDelay</code> now looks like this:</p>\n<pre><code>public static void subTestDelay(boolean log, Supplier&lt;Boolean&gt; condition, int delay, String message) {\n    String msg = &quot;Timeout after waiting &quot;.concat(String.valueOf(delay)).concat(&quot; seconds for &quot;);\n    if (log) {\n        Assert.assertTrue(ExtentTestManager.benchmark(() -&gt; {\n            if (!condition.get()) {\n                tempData.failStatus();\n                return false;\n            }\n            return true;\n        }), msg.concat(message));\n    } else {\n        Assert.assertTrue(condition.get(), msg.concat(message));\n    }\n}\n</code></pre>\n<p><code>benchmark</code> was also edited to take in a <code>Supplier&lt;Boolean&gt;</code> instead of a <code>Runnable</code>:</p>\n<pre><code>public static boolean benchmark(Supplier&lt;Boolean&gt; supplier) {\n    LocalDateTime before = LocalDateTime.now();\n    boolean returnValue = supplier.get();\n    logToDocument(before, LocalDateTime.now());\n    return returnValue;\n}\n</code></pre>\n<p>The same test now yields the correct results:</p>\n<pre><code>Before loading:2021-11-05T11:08:39.758627100\nAfter loading:2021-11-05T11:08:43.953063700\nBefore loading:2021-11-05T11:08:45.309372500\nAfter loading:2021-11-05T11:08:52.510232700\nBefore loading:2021-11-05T11:08:53.963683900\nAfter loading:2021-11-05T11:08:56.048520300\nBefore loading:2021-11-05T11:08:57.233896600\nAfter loading:2021-11-05T11:08:58.438004100\n</code></pre>\n"}],"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69851604,"answer_count":1,"score":0,"last_activity_date":1636107060,"creation_date":1635940034,"question_id":69824292,"body_markdown":"I have a method that executes a `Runnable` and then passes the time it took for it to finish to another method:\r\n\r\n    public static void benchmark(Runnable runnable) {\r\n        LocalDateTime before = LocalDateTime.now();\r\n        runnable.run();\r\n        logToDocument(before, LocalDateTime.now());\r\n    }\r\n\r\nWhen I use this method to time the loading of a webpage, both timestamps are exactly the same, i.e. `LocalDateTime before = LocalDateTime.now()` and `logToDocument(before, LocalDateTime.now())` happen at the same time, even though I observe that in reality it takes a couple of seconds for each page to load. The method from which I call `benchmark` is as follows:\r\n\r\n    public static void subTestDelay(boolean log, boolean condition, int delay, String message) {\r\n        if (log) {\r\n            SoftAssert softAssert = new SoftAssert();\r\n            ExtentTestManager.benchmark(() -&gt; {\r\n                if (!condition) {\r\n                   tempData.failStatus();\r\n                   softAssert.fail(&quot;Timeout after waiting &quot;.concat(String.valueOf(delay)).concat(&quot; seconds for &quot;).concat(message));\r\n               }\r\n            });\r\n            softAssert.assertAll();\r\n        } else {\r\n            Assert.assertTrue(condition, &quot;Timeout after waiting &quot;.concat(String.valueOf(delay)).concat(&quot; seconds for &quot;).concat(message));\r\n        }\r\n    }\r\nThe variable `condition`, in this case, is this:\r\n\r\n    public static boolean expectedPageIsLoaded(WebDriver driver, int seconds, String pageName) {\r\n        final By loadingBar = By.cssSelector(&quot;div[class*=&#39;progress&#39;]&quot;);\r\n        final Wait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver).withTimeout(Duration.ofSeconds(seconds)).pollingEvery(Duration.ofSeconds(1)).ignoring(NoSuchElementException.class).ignoring(NullPointerException.class);\r\n        String originalPageName = driver.findElement(By.tagName(&quot;body&quot;)).getAttribute(&quot;page-name&quot;);\r\n        if (originalPageName == null) {\r\n            originalPageName = &quot;no previous page&quot;;\r\n            tempData.setAction(tempData.REDIRECT);\r\n            tempData.setArbitraryData(driver,tempData.TRIGGER, tempData.NAVIGATION, tempData.ORIGIN, originalPageName, tempData.DESTINATION, &quot;user authentication&quot;);\r\n        }\r\n        ExtentTestManager.log(logger, Level.INFO, &quot;Loading page: &quot;.concat(pageName).concat(&quot;; Waiting a maximum of: &quot;).concat(String.valueOf(seconds)).concat(&quot; seconds&quot;));\r\n        try {\r\n            startDateTime = LocalDateTime.now();\r\n            wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(loadingBar));\r\n            wait.until(wd -&gt; (GenericTestMethods.pageName(wd).equals(pageName) &amp;&amp; wd.findElements(loadingBar).size() == 0));\r\n            endDateTime = LocalDateTime.now();\r\n            ExtentTestManager.log(logger, Level.INFO, &quot;Page: &quot;.concat(pageName).concat(&quot; loaded after: &quot;).concat(String.valueOf(Duration.between(startDateTime, endDateTime).toMillis())).concat(&quot; milliseconds&quot;));\r\n            return true;\r\n        } catch (TimeoutException ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nWhen I test this for 4 webpages in a row, I get the correct duration of each page load, as you can see here:\r\n\r\n    12:35:36.774 [main] INFO  test_classes.base.DriverInit - Loading page: user authentication; Waiting a maximum of: 180 seconds\r\n    12:35:39.902 [main] INFO  test_classes.base.DriverInit - Page: user authentication loaded after: 3124 milliseconds\r\n    12:35:41.333 [main] INFO  test_classes.base.DriverInit - Loading page: user_cockpit; Waiting a maximum of: 180 seconds\r\n    12:35:46.474 [main] INFO  test_classes.base.DriverInit - Page: user_cockpit loaded after: 5140 milliseconds\r\n    12:35:47.947 [main] INFO  test_classes.base.DriverInit - Loading page: organization_overview_time_focus; Waiting a maximum of: 180 seconds\r\n    12:35:50.013 [main] INFO  test_classes.base.DriverInit - Page: organization_overview_time_focus loaded after: 2066 milliseconds\r\n    12:35:51.210 [main] INFO  test_classes.base.DriverInit - Loading page: project_time_overview; Waiting a maximum of: 180 seconds\r\n    12:35:52.604 [main] INFO  test_classes.base.DriverInit - Page: project_time_overview loaded after: 1393 milliseconds\r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.446 s - in TestSuite\r\n\r\nThis feedback comes from these lines from the `boolean` `expectedPageIsLoaded` :\r\n\r\n    startDateTime = LocalDateTime.now();\r\n        wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(loadingBar));\r\n        wait.until(wd -&gt; (GenericTestMethods.pageName(wd).equals(pageName) &amp;&amp; wd.findElements(loadingBar).size() == 0));\r\n        endDateTime = LocalDateTime.now();\r\n        ExtentTestManager.log(logger, Level.INFO, &quot;Page: &quot;.concat(pageName).concat(&quot; loaded after: &quot;).concat(String.valueOf(Duration.between(startDateTime, endDateTime).toMillis())).concat(&quot; milliseconds&quot;));\r\n\r\nHowever, the feedback I get from `benchmark` is two timestamps each time before and after loading a page, which are always the same. To illustrate this, I modified `benchmark` to print out the timestamps before and after the `Runnable`. This is what I got:\r\n\r\n    Before loading: 2021-11-03T12:42:42.855008800\r\n    After loading: 2021-11-03T12:42:42.855008800\r\n    Before loading: 2021-11-03T12:42:51.505117900\r\n    After loading: 2021-11-03T12:42:51.505117900\r\n    Before loading: 2021-11-03T12:42:55.145636200\r\n    After loading: 2021-11-03T12:42:55.145636200\r\n    Before loading: 2021-11-03T12:42:57.555875200\r\n    After loading: 2021-11-03T12:42:57.555875200\r\n\r\nIt seems that `condition` in my `subTestDelay` method is evaluated correctly, but the actual time it takes is ignored. I suspect this is because `runnable.run()` inside the `benchmark` method is executed on another thread, but I lack the experience to figure out a solution to that. Could anyone steer me in the right direction?","title":"Boolean with delay is evaluated, but not properly timed","body":"<p>I have a method that executes a <code>Runnable</code> and then passes the time it took for it to finish to another method:</p>\n<pre><code>public static void benchmark(Runnable runnable) {\n    LocalDateTime before = LocalDateTime.now();\n    runnable.run();\n    logToDocument(before, LocalDateTime.now());\n}\n</code></pre>\n<p>When I use this method to time the loading of a webpage, both timestamps are exactly the same, i.e. <code>LocalDateTime before = LocalDateTime.now()</code> and <code>logToDocument(before, LocalDateTime.now())</code> happen at the same time, even though I observe that in reality it takes a couple of seconds for each page to load. The method from which I call <code>benchmark</code> is as follows:</p>\n<pre><code>public static void subTestDelay(boolean log, boolean condition, int delay, String message) {\n    if (log) {\n        SoftAssert softAssert = new SoftAssert();\n        ExtentTestManager.benchmark(() -&gt; {\n            if (!condition) {\n               tempData.failStatus();\n               softAssert.fail(&quot;Timeout after waiting &quot;.concat(String.valueOf(delay)).concat(&quot; seconds for &quot;).concat(message));\n           }\n        });\n        softAssert.assertAll();\n    } else {\n        Assert.assertTrue(condition, &quot;Timeout after waiting &quot;.concat(String.valueOf(delay)).concat(&quot; seconds for &quot;).concat(message));\n    }\n}\n</code></pre>\n<p>The variable <code>condition</code>, in this case, is this:</p>\n<pre><code>public static boolean expectedPageIsLoaded(WebDriver driver, int seconds, String pageName) {\n    final By loadingBar = By.cssSelector(&quot;div[class*='progress']&quot;);\n    final Wait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver).withTimeout(Duration.ofSeconds(seconds)).pollingEvery(Duration.ofSeconds(1)).ignoring(NoSuchElementException.class).ignoring(NullPointerException.class);\n    String originalPageName = driver.findElement(By.tagName(&quot;body&quot;)).getAttribute(&quot;page-name&quot;);\n    if (originalPageName == null) {\n        originalPageName = &quot;no previous page&quot;;\n        tempData.setAction(tempData.REDIRECT);\n        tempData.setArbitraryData(driver,tempData.TRIGGER, tempData.NAVIGATION, tempData.ORIGIN, originalPageName, tempData.DESTINATION, &quot;user authentication&quot;);\n    }\n    ExtentTestManager.log(logger, Level.INFO, &quot;Loading page: &quot;.concat(pageName).concat(&quot;; Waiting a maximum of: &quot;).concat(String.valueOf(seconds)).concat(&quot; seconds&quot;));\n    try {\n        startDateTime = LocalDateTime.now();\n        wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(loadingBar));\n        wait.until(wd -&gt; (GenericTestMethods.pageName(wd).equals(pageName) &amp;&amp; wd.findElements(loadingBar).size() == 0));\n        endDateTime = LocalDateTime.now();\n        ExtentTestManager.log(logger, Level.INFO, &quot;Page: &quot;.concat(pageName).concat(&quot; loaded after: &quot;).concat(String.valueOf(Duration.between(startDateTime, endDateTime).toMillis())).concat(&quot; milliseconds&quot;));\n        return true;\n    } catch (TimeoutException ex) {\n        return false;\n    }\n}\n</code></pre>\n<p>When I test this for 4 webpages in a row, I get the correct duration of each page load, as you can see here:</p>\n<pre><code>12:35:36.774 [main] INFO  test_classes.base.DriverInit - Loading page: user authentication; Waiting a maximum of: 180 seconds\n12:35:39.902 [main] INFO  test_classes.base.DriverInit - Page: user authentication loaded after: 3124 milliseconds\n12:35:41.333 [main] INFO  test_classes.base.DriverInit - Loading page: user_cockpit; Waiting a maximum of: 180 seconds\n12:35:46.474 [main] INFO  test_classes.base.DriverInit - Page: user_cockpit loaded after: 5140 milliseconds\n12:35:47.947 [main] INFO  test_classes.base.DriverInit - Loading page: organization_overview_time_focus; Waiting a maximum of: 180 seconds\n12:35:50.013 [main] INFO  test_classes.base.DriverInit - Page: organization_overview_time_focus loaded after: 2066 milliseconds\n12:35:51.210 [main] INFO  test_classes.base.DriverInit - Loading page: project_time_overview; Waiting a maximum of: 180 seconds\n12:35:52.604 [main] INFO  test_classes.base.DriverInit - Page: project_time_overview loaded after: 1393 milliseconds\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.446 s - in TestSuite\n</code></pre>\n<p>This feedback comes from these lines from the <code>boolean</code> <code>expectedPageIsLoaded</code> :</p>\n<pre><code>startDateTime = LocalDateTime.now();\n    wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(loadingBar));\n    wait.until(wd -&gt; (GenericTestMethods.pageName(wd).equals(pageName) &amp;&amp; wd.findElements(loadingBar).size() == 0));\n    endDateTime = LocalDateTime.now();\n    ExtentTestManager.log(logger, Level.INFO, &quot;Page: &quot;.concat(pageName).concat(&quot; loaded after: &quot;).concat(String.valueOf(Duration.between(startDateTime, endDateTime).toMillis())).concat(&quot; milliseconds&quot;));\n</code></pre>\n<p>However, the feedback I get from <code>benchmark</code> is two timestamps each time before and after loading a page, which are always the same. To illustrate this, I modified <code>benchmark</code> to print out the timestamps before and after the <code>Runnable</code>. This is what I got:</p>\n<pre><code>Before loading: 2021-11-03T12:42:42.855008800\nAfter loading: 2021-11-03T12:42:42.855008800\nBefore loading: 2021-11-03T12:42:51.505117900\nAfter loading: 2021-11-03T12:42:51.505117900\nBefore loading: 2021-11-03T12:42:55.145636200\nAfter loading: 2021-11-03T12:42:55.145636200\nBefore loading: 2021-11-03T12:42:57.555875200\nAfter loading: 2021-11-03T12:42:57.555875200\n</code></pre>\n<p>It seems that <code>condition</code> in my <code>subTestDelay</code> method is evaluated correctly, but the actual time it takes is ignored. I suspect this is because <code>runnable.run()</code> inside the <code>benchmark</code> method is executed on another thread, but I lack the experience to figure out a solution to that. Could anyone steer me in the right direction?</p>\n"},{"tags":["java","spring-boot","generics","objectmapper"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1619173176,"post_id":67228124,"comment_id":118830587,"body_markdown":"Please show how you are invoking it.","body":"Please show how you are invoking it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1619173204,"post_id":67228124,"comment_id":118830599,"body_markdown":"Oh: `new TypeReference&lt;&gt;() {}` isn&#39;t going to work. You need to pass in a `TypeReference&lt;D&gt;` as a parameter.","body":"Oh: <code>new TypeReference&lt;&gt;() {}</code> isn&#39;t going to work. You need to pass in a <code>TypeReference&lt;D&gt;</code> as a parameter."},{"owner":{"account_id":15558166,"reputation":302,"user_id":11223954,"display_name":"Dattq2303"},"score":0,"creation_date":1619173876,"post_id":67228124,"comment_id":118830899,"body_markdown":"@AndyTurner Here is how i invoke it `filterBlockRequestDto.setPopularFiltersList(ApiUtil.convertStringListToObject(filterBlockRequestDto.getPopularFilters()));`. I have tried to add like you said before but the complier and IDE keep complain so I follow suggestion and the final result is above function. Can u provide me an example with pass type D in?","body":"@AndyTurner Here is how i invoke it <code>filterBlockRequestDto.setPopularFiltersList(ApiUtil.convertS&zwnj;&#8203;tringListToObject(fi&zwnj;&#8203;lterBlockRequestDto.&zwnj;&#8203;getPopularFilters())&zwnj;&#8203;);</code>. I have tried to add like you said before but the complier and IDE keep complain so I follow suggestion and the final result is above function. Can u provide me an example with pass type D in?"}],"answers":[{"tags":[],"owner":{"account_id":3348142,"reputation":326,"user_id":2812848,"display_name":"Alex Bondor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619173837,"creation_date":1619173837,"answer_id":67228352,"question_id":67228124,"body_markdown":"You&#39;ll have to pass the type you want to deserialize your string to as well..\r\n\r\nMy approach on this would be something like this:\r\n\r\n    public static &lt;T&gt; T convertStringListToObject(String string, Class&lt;T&gt; clazz) {\r\n        if (string == null) {\r\n            return null;\r\n        }\r\n        try {\r\n           return objectMapper.readValue(string, clazz);\r\n        } catch (JsonProcessingException e) {\r\n           e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\nand then  use this method as follows:\r\n\r\n    List&lt;Model&gt; models = \r\n        Arrays.asList(Mapper.convertStringListToObject(stringList, Model[].class));","title":"Is there a way to cast List Object into exact List Class in an generic function?","body":"<p>You'll have to pass the type you want to deserialize your string to as well..</p>\n<p>My approach on this would be something like this:</p>\n<pre><code>public static &lt;T&gt; T convertStringListToObject(String string, Class&lt;T&gt; clazz) {\n    if (string == null) {\n        return null;\n    }\n    try {\n       return objectMapper.readValue(string, clazz);\n    } catch (JsonProcessingException e) {\n       e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>and then  use this method as follows:</p>\n<pre><code>List&lt;Model&gt; models = \n    Arrays.asList(Mapper.convertStringListToObject(stringList, Model[].class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":448055,"reputation":1447,"user_id":842056,"accept_rate":62,"display_name":"Sachin Gorade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619173852,"creation_date":1619173852,"answer_id":67228359,"question_id":67228124,"body_markdown":"One way is to accept type reference as parameter so that the caller can provide the target class and as `TypeReference` is a subclass, generic type information will be available at runtime.\r\n\r\n```\r\n    public static &lt;D&gt; List&lt;D&gt; convertStringListToObject(String string, TypeReference&lt;List&lt;D&gt;&gt; typeReference) {\r\n        if (string == null) return null;\r\n        try {\r\n            return objectMapper.readValue(string, typeReference);\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```","title":"Is there a way to cast List Object into exact List Class in an generic function?","body":"<p>One way is to accept type reference as parameter so that the caller can provide the target class and as <code>TypeReference</code> is a subclass, generic type information will be available at runtime.</p>\n<pre><code>    public static &lt;D&gt; List&lt;D&gt; convertStringListToObject(String string, TypeReference&lt;List&lt;D&gt;&gt; typeReference) {\n        if (string == null) return null;\n        try {\n            return objectMapper.readValue(string, typeReference);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":15558166,"reputation":302,"user_id":11223954,"display_name":"Dattq2303"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67228359,"answer_count":2,"score":1,"last_activity_date":1636106985,"creation_date":1619172974,"question_id":67228124,"body_markdown":"I am coding in an Spring Boot Project and there was a lot of API with diffrent Request Param so I&#39;m trying to write a generic function with mapper an request param into a list object, then cast it into a class like the code below\r\n```\r\n    public static &lt;D&gt; List&lt;D&gt; convertStringListToObject(String string) {\r\n        if (string == null) return null;\r\n        try {\r\n            return objectMapper.readValue(string, new TypeReference&lt;&gt;() {\r\n            });\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\nBut the result is it can only return a list of Object not the list of D class like I&#39;m expected. Does anyone have any ideas how to write this function?\r\n\r\nEddited: \r\nHere is how I invoke it:\r\n\r\n```\r\nfilterBlockRequestDto.setPopularFiltersList(ApiUtil.convertStringListToObject(filterBlockRequestDto.getPopularFilters()));\r\n```\r\nThe FilterBlockRequestDto class\r\n```\r\nimport lombok.*;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class FilterBlockRequestDto {\r\n    Integer locationId;\r\n    Integer projectId;\r\n    String totalBudget;\r\n    List&lt;TotalBudgetDto&gt; totalBudgetList;\r\n    // The string was pass in Request param\r\n    String popularFilters;\r\n    List&lt;PopularFiltersDto&gt; popularFiltersList;\r\n    Integer viewRating;\r\n    Integer numberOfBed;\r\n}\r\n\r\n```\r\n\r\n","title":"Is there a way to cast List Object into exact List Class in an generic function?","body":"<p>I am coding in an Spring Boot Project and there was a lot of API with diffrent Request Param so I'm trying to write a generic function with mapper an request param into a list object, then cast it into a class like the code below</p>\n<pre><code>    public static &lt;D&gt; List&lt;D&gt; convertStringListToObject(String string) {\n        if (string == null) return null;\n        try {\n            return objectMapper.readValue(string, new TypeReference&lt;&gt;() {\n            });\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>But the result is it can only return a list of Object not the list of D class like I'm expected. Does anyone have any ideas how to write this function?</p>\n<p>Eddited:\nHere is how I invoke it:</p>\n<pre><code>filterBlockRequestDto.setPopularFiltersList(ApiUtil.convertStringListToObject(filterBlockRequestDto.getPopularFilters()));\n</code></pre>\n<p>The FilterBlockRequestDto class</p>\n<pre><code>import lombok.*;\n\nimport java.util.List;\n\n@Getter\n@Setter\n@Builder\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class FilterBlockRequestDto {\n    Integer locationId;\n    Integer projectId;\n    String totalBudget;\n    List&lt;TotalBudgetDto&gt; totalBudgetList;\n    // The string was pass in Request param\n    String popularFilters;\n    List&lt;PopularFiltersDto&gt; popularFiltersList;\n    Integer viewRating;\n    Integer numberOfBed;\n}\n\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":2844102,"reputation":946,"user_id":2442991,"accept_rate":49,"display_name":"algiogia"},"score":8,"creation_date":1466597291,"post_id":1978933,"comment_id":63380878,"body_markdown":"As some users have already said, StringUtils.join() will do the job and it&#39;s been there forever. No need for Java 8.","body":"As some users have already said, StringUtils.join() will do the job and it&#39;s been there forever. No need for Java 8."},{"owner":{"account_id":1750961,"reputation":13745,"user_id":1600058,"accept_rate":47,"display_name":"Amit Prajapati"},"score":0,"creation_date":1571753169,"post_id":1978933,"comment_id":103340394,"body_markdown":"Try with new way in kotlin : https://stackoverflow.com/questions/40822304/arraylist-of-strings-into-one-comma-separated-string/58506124#58506124","body":"Try with new way in kotlin : <a href=\"https://stackoverflow.com/questions/40822304/arraylist-of-strings-into-one-comma-separated-string/58506124#58506124\" title=\"arraylist of strings into one comma separated string\">stackoverflow.com/questions/40822304/&hellip;</a>"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1650554017,"post_id":1978933,"comment_id":127150473,"body_markdown":"use java.util.StringJoiner","body":"use java.util.StringJoiner"}],"answers":[{"tags":[],"owner":{"account_id":45406,"reputation":128657,"user_id":133802,"accept_rate":82,"display_name":"David Hedlund"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1262158857,"creation_date":1262158857,"answer_id":1978942,"question_id":1978933,"body_markdown":"it&#39;s in StringUtils:\r\n\r\nhttp://www.java2s.com/Code/JavaAPI/org.apache.commons.lang/StringUtilsjoinObjectarrayStringseparator.htm","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>it's in StringUtils:</p>\n\n<p><a href=\"http://www.java2s.com/Code/JavaAPI/org.apache.commons.lang/StringUtilsjoinObjectarrayStringseparator.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/JavaAPI/org.apache.commons.lang/StringUtilsjoinObjectarrayStringseparator.htm</a></p>\n"},{"tags":[],"owner":{"account_id":83981,"reputation":31313,"user_id":235058,"accept_rate":70,"display_name":"Roland Bouman"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1262158902,"creation_date":1262158902,"answer_id":1978945,"question_id":1978933,"body_markdown":"&quot;I&#39;m sure there is a certified, efficient way to do it (Apache Commons?)&quot;\r\n\r\nyes, apparenty it&#39;s\r\n\r\n    StringUtils.join(array, separator)\r\n\r\n\r\n[http://www.java2s.com/Code/JavaAPI/org.apache.commons.lang/StringUtilsjoinObjectarrayStringseparator.htm][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/JavaAPI/org.apache.commons.lang/StringUtilsjoinObjectarrayStringseparator.htm","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>\"I'm sure there is a certified, efficient way to do it (Apache Commons?)\"</p>\n\n<p>yes, apparenty it's</p>\n\n<pre><code>StringUtils.join(array, separator)\n</code></pre>\n\n<p><a href=\"http://www.java2s.com/Code/JavaAPI/org.apache.commons.lang/StringUtilsjoinObjectarrayStringseparator.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/JavaAPI/org.apache.commons.lang/StringUtilsjoinObjectarrayStringseparator.htm</a></p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":3,"up_vote_count":116,"is_accepted":false,"score":113,"last_activity_date":1365947268,"creation_date":1262158972,"answer_id":1978949,"question_id":1978933,"body_markdown":"[Apache Commons Lang][1] does indeed have a [`StringUtils.join`][2] method which will connect `String` arrays together with a specified separator.\r\n\r\nFor example:\r\n\r\n    String[] s = new String[] {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    String joined = StringUtils.join(s, &quot;,&quot;);  // &quot;a,b,c&quot;\r\n\r\nHowever, I suspect that, as you mention, there must be some kind of conditional or substring processing in the actual implementation of the above mentioned method.\r\n\r\nIf I were to perform the `String` joining and didn&#39;t have any other reasons to use Commons Lang, I would probably roll my own to reduce the number of dependencies to external libraries.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.util.Collection,%20char)\r\n","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> does indeed have a <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.util.Collection,%20char)\" rel=\"noreferrer\"><code>StringUtils.join</code></a> method which will connect <code>String</code> arrays together with a specified separator.</p>\n\n<p>For example:</p>\n\n<pre><code>String[] s = new String[] {\"a\", \"b\", \"c\"};\nString joined = StringUtils.join(s, \",\");  // \"a,b,c\"\n</code></pre>\n\n<p>However, I suspect that, as you mention, there must be some kind of conditional or substring processing in the actual implementation of the above mentioned method.</p>\n\n<p>If I were to perform the <code>String</code> joining and didn't have any other reasons to use Commons Lang, I would probably roll my own to reduce the number of dependencies to external libraries.</p>\n"},{"tags":[],"owner":{"account_id":39206,"reputation":8779,"user_id":112964,"accept_rate":100,"display_name":"nd."},"down_vote_count":3,"up_vote_count":122,"is_accepted":false,"score":119,"last_activity_date":1636106980,"creation_date":1262159281,"answer_id":1978960,"question_id":1978933,"body_markdown":"I prefer [Guava][1] over Apache StringUtils for this particular problem:\r\n\r\n    Joiner.on(separator).join(array)\r\n\r\nCompared to StringUtils, the Joiner API has a fluent design and is a bit more flexible, e.g. `null` elements may be skipped or replaced by a placeholder. Also, `Joiner` has a feature for joining maps with a separator between key and value. \r\n\r\n  [1]: https://guava.dev/releases/16.0/api/docs/com/google/common/base/Joiner.html","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>I prefer <a href=\"https://guava.dev/releases/16.0/api/docs/com/google/common/base/Joiner.html\" rel=\"nofollow noreferrer\">Guava</a> over Apache StringUtils for this particular problem:</p>\n<pre><code>Joiner.on(separator).join(array)\n</code></pre>\n<p>Compared to StringUtils, the Joiner API has a fluent design and is a bit more flexible, e.g. <code>null</code> elements may be skipped or replaced by a placeholder. Also, <code>Joiner</code> has a feature for joining maps with a separator between key and value.</p>\n"},{"tags":[],"owner":{"account_id":477984,"reputation":401,"user_id":889790,"display_name":"wadjakman"},"down_vote_count":7,"up_vote_count":24,"is_accepted":false,"score":17,"last_activity_date":1321123092,"creation_date":1318579995,"answer_id":7764834,"question_id":1978933,"body_markdown":"You can use replace and replaceAll with regular expressions.\r\n\r\n    String[] strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    \r\n    String result = Arrays.asList(strings).toString().replaceAll(&quot;(^\\\\[|\\\\]$)&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;,&quot;);\r\n\r\nBecause `Arrays.asList().toString()` produces: &quot;[a, b, c]&quot;, we do a `replaceAll` to remove the first and last brackets and then (optionally) you can change the &quot;, &quot; sequence for &quot;,&quot; (your new separator).\r\n\r\nA stripped version (fewer chars):\r\n\r\n    String[] strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    \r\n    String result = (&quot;&quot; + Arrays.asList(strings)).replaceAll(&quot;(^.|.$)&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;,&quot; );\r\n\r\nRegular expressions are very powerful, specially String methods &quot;replaceFirst&quot; and &quot;replaceAll&quot;. Give them a try.","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>You can use replace and replaceAll with regular expressions.</p>\n\n<pre><code>String[] strings = {\"a\", \"b\", \"c\"};\n\nString result = Arrays.asList(strings).toString().replaceAll(\"(^\\\\[|\\\\]$)\", \"\").replace(\", \", \",\");\n</code></pre>\n\n<p>Because <code>Arrays.asList().toString()</code> produces: \"[a, b, c]\", we do a <code>replaceAll</code> to remove the first and last brackets and then (optionally) you can change the \", \" sequence for \",\" (your new separator).</p>\n\n<p>A stripped version (fewer chars):</p>\n\n<pre><code>String[] strings = {\"a\", \"b\", \"c\"};\n\nString result = (\"\" + Arrays.asList(strings)).replaceAll(\"(^.|.$)\", \"\").replace(\", \", \",\" );\n</code></pre>\n\n<p>Regular expressions are very powerful, specially String methods \"replaceFirst\" and \"replaceAll\". Give them a try.</p>\n"},{"tags":[],"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1355486375,"creation_date":1355486375,"answer_id":13878279,"question_id":1978933,"body_markdown":"All of these other answers include runtime overhead...  like using ArrayList.toString().replaceAll(...) which are very wasteful.\r\n\r\nI will give you the optimal algorithm with zero overhead;\r\nit doesn&#39;t look as pretty as the other options, but internally, this is what they are all doing (after piles of other hidden checks, multiple array allocation and other crud).\r\n\r\nSince you already know you are dealing with strings, you can save a bunch of array allocations by performing everything manually.  This isn&#39;t pretty, but if you trace the actual method calls made by the other implementations, you&#39;ll see it has the least runtime overhead possible.\r\n\r\n    public static String join(String separator, String ... values) {\r\n      if (values.length==0)return &quot;&quot;;//need at least one element\r\n      //all string operations use a new array, so minimize all calls possible\r\n      char[] sep = separator.toCharArray();\r\n    \r\n      // determine final size and normalize nulls\r\n      int totalSize = (values.length - 1) * sep.length;// separator size\r\n      for (int i = 0; i &lt; values.length; i++) {\r\n        if (values[i] == null)\r\n          values[i] = &quot;&quot;;\r\n        else\r\n          totalSize += values[i].length();\r\n      }\r\n    \r\n      //exact size; no bounds checks or resizes\r\n      char[] joined = new char[totalSize];\r\n      int pos = 0;\r\n      //note, we are iterating all the elements except the last one\r\n      for (int i = 0, end = values.length-1; i &lt; end; i++) {\r\n        System.arraycopy(values[i].toCharArray(), 0, \r\n          joined, pos, values[i].length());\r\n        pos += values[i].length();\r\n        System.arraycopy(sep, 0, joined, pos, sep.length);\r\n        pos += sep.length;\r\n      }\r\n      //now, add the last element; \r\n      //this is why we checked values.length == 0 off the hop\r\n      System.arraycopy(values[values.length-1].toCharArray(), 0,\r\n        joined, pos, values[values.length-1].length());\r\n    \r\n      return new String(joined);\r\n    }","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>All of these other answers include runtime overhead...  like using ArrayList.toString().replaceAll(...) which are very wasteful.</p>\n\n<p>I will give you the optimal algorithm with zero overhead;\nit doesn't look as pretty as the other options, but internally, this is what they are all doing (after piles of other hidden checks, multiple array allocation and other crud).</p>\n\n<p>Since you already know you are dealing with strings, you can save a bunch of array allocations by performing everything manually.  This isn't pretty, but if you trace the actual method calls made by the other implementations, you'll see it has the least runtime overhead possible.</p>\n\n<pre><code>public static String join(String separator, String ... values) {\n  if (values.length==0)return \"\";//need at least one element\n  //all string operations use a new array, so minimize all calls possible\n  char[] sep = separator.toCharArray();\n\n  // determine final size and normalize nulls\n  int totalSize = (values.length - 1) * sep.length;// separator size\n  for (int i = 0; i &lt; values.length; i++) {\n    if (values[i] == null)\n      values[i] = \"\";\n    else\n      totalSize += values[i].length();\n  }\n\n  //exact size; no bounds checks or resizes\n  char[] joined = new char[totalSize];\n  int pos = 0;\n  //note, we are iterating all the elements except the last one\n  for (int i = 0, end = values.length-1; i &lt; end; i++) {\n    System.arraycopy(values[i].toCharArray(), 0, \n      joined, pos, values[i].length());\n    pos += values[i].length();\n    System.arraycopy(sep, 0, joined, pos, sep.length);\n    pos += sep.length;\n  }\n  //now, add the last element; \n  //this is why we checked values.length == 0 off the hop\n  System.arraycopy(values[values.length-1].toCharArray(), 0,\n    joined, pos, values[values.length-1].length());\n\n  return new String(joined);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464913,"reputation":557,"user_id":2148236,"display_name":"Zedas"},"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1362743066,"creation_date":1362743066,"answer_id":15293227,"question_id":1978933,"body_markdown":"A fast and simple solution without any 3rd party includes.\r\n\r\n    public static String strJoin(String[] aArr, String sSep) {\r\n    \tStringBuilder sbStr = new StringBuilder();\r\n    \tfor (int i = 0, il = aArr.length; i &lt; il; i++) {\r\n    \t\tif (i &gt; 0)\r\n    \t\t\tsbStr.append(sSep);\r\n    \t\tsbStr.append(aArr[i]);\r\n    \t}\r\n    \treturn sbStr.toString();\r\n    }","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>A fast and simple solution without any 3rd party includes.</p>\n\n<pre><code>public static String strJoin(String[] aArr, String sSep) {\n    StringBuilder sbStr = new StringBuilder();\n    for (int i = 0, il = aArr.length; i &lt; il; i++) {\n        if (i &gt; 0)\n            sbStr.append(sSep);\n        sbStr.append(aArr[i]);\n    }\n    return sbStr.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271777,"reputation":1939,"user_id":562492,"display_name":"eivindw"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1449009222,"creation_date":1394522832,"answer_id":22319032,"question_id":1978933,"body_markdown":"With Java 1.8 there is a new [StringJoiner class][1] - so no need for Guava or Apache Commons:\r\n\r\n    String str = new StringJoiner(&quot;,&quot;).add(&quot;a&quot;).add(&quot;b&quot;).add(&quot;c&quot;).toString();\r\n\r\nOr using a collection directly with the new stream api:\r\n\r\n    String str = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).stream().collect(Collectors.joining(&quot;,&quot;));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>With Java 1.8 there is a new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\">StringJoiner class</a> - so no need for Guava or Apache Commons:</p>\n\n<pre><code>String str = new StringJoiner(\",\").add(\"a\").add(\"b\").add(\"c\").toString();\n</code></pre>\n\n<p>Or using a collection directly with the new stream api:</p>\n\n<pre><code>String str = Arrays.asList(\"a\", \"b\", \"c\").stream().collect(Collectors.joining(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1396015045,"creation_date":1396015045,"answer_id":22714883,"question_id":1978933,"body_markdown":"This small function always comes in handy.\r\n\r\n    public static String join(String[] strings, int startIndex, String separator) {\r\n        StringBuffer sb = new StringBuffer();\r\n        for (int i=startIndex; i &lt; strings.length; i++) {\r\n            if (i != startIndex) sb.append(separator);\r\n            sb.append(strings[i]);\r\n        }\r\n        return sb.toString();\r\n    }","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>This small function always comes in handy.</p>\n\n<pre><code>public static String join(String[] strings, int startIndex, String separator) {\n    StringBuffer sb = new StringBuffer();\n    for (int i=startIndex; i &lt; strings.length; i++) {\n        if (i != startIndex) sb.append(separator);\n        sb.append(strings[i]);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1654043,"reputation":2659,"user_id":1524027,"display_name":"mnesarco"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401384712,"creation_date":1401384712,"answer_id":23939390,"question_id":1978933,"body_markdown":"This options is fast and clear:\r\n\r\n      public static String join(String separator, String... values) {\r\n        StringBuilder sb = new StringBuilder(128);\r\n        int end = 0;\r\n        for (String s : values) {\r\n          if (s != null) {\r\n            sb.append(s);\r\n            end = sb.length();\r\n            sb.append(separator);\r\n          }\r\n        }\r\n        return sb.substring(0, end);\r\n      }\r\n\r\n","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>This options is fast and clear:</p>\n\n<pre><code>  public static String join(String separator, String... values) {\n    StringBuilder sb = new StringBuilder(128);\n    int end = 0;\n    for (String s : values) {\n      if (s != null) {\n        sb.append(s);\n        end = sb.length();\n        sb.append(separator);\n      }\n    }\n    return sb.substring(0, end);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1589812,"reputation":1305,"user_id":1473401,"accept_rate":56,"display_name":"alexm"},"down_vote_count":9,"up_vote_count":31,"is_accepted":false,"score":22,"last_activity_date":1587130479,"creation_date":1404911886,"answer_id":24654819,"question_id":1978933,"body_markdown":"Even easier you can just use Arrays, so you will get a String with the values of the array separated by a &quot;,&quot; \r\n\r\n    String concat = Arrays.toString(myArray);\r\n\r\nso you will end up with this: concat = &quot;[a,b,c]&quot;\r\n\r\n**Update**\r\n\r\nYou can then get rid of the brackets using a sub-string as suggested by Jeff\r\n  \r\n    concat = concat.substring(1, concat.length() -1);\r\nso you end up with concat = &quot;a,b,c&quot;\r\n\r\nif you want to use Kotlin:\r\n\r\n   \r\n\r\n     val concat = myArray.joinToString(separator = &quot;,&quot;) //&quot;a,b,c&quot;\r\n\r\n","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>Even easier you can just use Arrays, so you will get a String with the values of the array separated by a \",\" </p>\n\n<pre><code>String concat = Arrays.toString(myArray);\n</code></pre>\n\n<p>so you will end up with this: concat = \"[a,b,c]\"</p>\n\n<p><strong>Update</strong></p>\n\n<p>You can then get rid of the brackets using a sub-string as suggested by Jeff</p>\n\n<pre><code>concat = concat.substring(1, concat.length() -1);\n</code></pre>\n\n<p>so you end up with concat = \"a,b,c\"</p>\n\n<p>if you want to use Kotlin:</p>\n\n<pre><code> val concat = myArray.joinToString(separator = \",\") //\"a,b,c\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283271,"reputation":16653,"user_id":580677,"accept_rate":63,"display_name":"nmr"},"down_vote_count":3,"up_vote_count":329,"is_accepted":false,"score":326,"last_activity_date":1405725298,"creation_date":1405725298,"answer_id":24835096,"question_id":1978933,"body_markdown":"If you&#39;re on Android you can [`TextUtils.join(delimiter, tokens)`](http://developer.android.com/reference/android/text/TextUtils.html#join%28java.lang.CharSequence,%20java.lang.Object[]%29)","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>If you're on Android you can <a href=\"http://developer.android.com/reference/android/text/TextUtils.html#join%28java.lang.CharSequence,%20java.lang.Object[]%29\"><code>TextUtils.join(delimiter, tokens)</code></a></p>\n"},{"tags":[],"owner":{"account_id":5127290,"reputation":31,"user_id":4108825,"display_name":"IvanP"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1412439368,"creation_date":1412439368,"answer_id":26194665,"question_id":1978933,"body_markdown":"    public String join(String[] str, String separator){\r\n    \tString retval = &quot;&quot;;\r\n    \tfor (String s: str){ retval+= separator + s;}\r\n    \treturn retval.replaceFirst(separator, &quot;&quot;);\r\n    }","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<pre><code>public String join(String[] str, String separator){\n    String retval = \"\";\n    for (String s: str){ retval+= separator + s;}\n    return retval.replaceFirst(separator, \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":926,"is_accepted":true,"score":926,"last_activity_date":1492548923,"creation_date":1412442152,"answer_id":26195047,"question_id":1978933,"body_markdown":"Using Java 8 you can do this in a very clean way:\r\n\r\n    String.join(delimiter, elements);\r\n\r\nThis works in three ways:\r\n\r\n1) directly specifying the elements\r\n\r\n    String joined1 = String.join(&quot;,&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\r\n2) using arrays\r\n\r\n    String[] array = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\r\n    String joined2 = String.join(&quot;,&quot;, array);\r\n\r\n3) using iterables\r\n\r\n    List&lt;String&gt; list = Arrays.asList(array);\r\n    String joined3 = String.join(&quot;,&quot;, list);","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>Using Java 8 you can do this in a very clean way:</p>\n\n<pre><code>String.join(delimiter, elements);\n</code></pre>\n\n<p>This works in three ways:</p>\n\n<p>1) directly specifying the elements</p>\n\n<pre><code>String joined1 = String.join(\",\", \"a\", \"b\", \"c\");\n</code></pre>\n\n<p>2) using arrays</p>\n\n<pre><code>String[] array = new String[] { \"a\", \"b\", \"c\" };\nString joined2 = String.join(\",\", array);\n</code></pre>\n\n<p>3) using iterables</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(array);\nString joined3 = String.join(\",\", list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2369743,"reputation":7275,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434333871,"creation_date":1434332762,"answer_id":30836368,"question_id":1978933,"body_markdown":"The approach that I&#39;ve taken has evolved since Java 1.0 to provide readability and maintain reasonable options for backward-compatibility with older Java versions, while also providing method signatures that are drop-in replacements for those from apache commons-lang. For performance reasons, I can see some possible objections to the use of Arrays.asList but I prefer helper methods that have sensible defaults without duplicating the one method that performs the actual work. This approach provides appropriate entry points to a reliable method that does not require array/list conversions prior to calling.\r\n\r\nPossible variations for Java version compatibility include substituting StringBuffer (Java 1.0) for StringBuilder (Java 1.5), switching out the Java 1.5 iterator and removing the generic wildcard (Java 1.5) from the Collection (Java 1.2). If you want to take backward compatibility a step or two further, delete the methods that use Collection and move the logic into the array-based method.\r\n\r\n    public static String join(String[] values)\r\n    {\r\n        return join(values, &#39;,&#39;);\r\n    }\r\n    \r\n    public static String join(String[] values, char delimiter)\r\n    {\r\n        return join(Arrays.asList(values), String.valueOf(delimiter));\r\n    }\r\n    \r\n    // To match Apache commons-lang: StringUtils.join(values, delimiter)\r\n    public static String join(String[] values, String delimiter)\r\n    {\r\n        return join(Arrays.asList(values), delimiter);\r\n    }\r\n    \r\n    public static String join(Collection&lt;?&gt; values)\r\n    {\r\n        return join(values, &#39;,&#39;);\r\n    }\r\n    \r\n    public static String join(Collection&lt;?&gt; values, char delimiter)\r\n    {\r\n        return join(values, String.valueOf(delimiter));\r\n    }\r\n    \r\n    public static String join(Collection&lt;?&gt; values, String delimiter)\r\n    {\r\n        if (values == null)\r\n        {\r\n            return new String();\r\n        }\r\n    \r\n        StringBuffer strbuf = new StringBuffer();\r\n    \r\n        boolean first = true;\r\n    \r\n        for (Object value : values)\r\n        {\r\n            if (!first) { strbuf.append(delimiter); } else { first = false; }\r\n            strbuf.append(value.toString());\r\n        }\r\n    \r\n        return strbuf.toString();\r\n    }\r\n\r\n","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>The approach that I've taken has evolved since Java 1.0 to provide readability and maintain reasonable options for backward-compatibility with older Java versions, while also providing method signatures that are drop-in replacements for those from apache commons-lang. For performance reasons, I can see some possible objections to the use of Arrays.asList but I prefer helper methods that have sensible defaults without duplicating the one method that performs the actual work. This approach provides appropriate entry points to a reliable method that does not require array/list conversions prior to calling.</p>\n\n<p>Possible variations for Java version compatibility include substituting StringBuffer (Java 1.0) for StringBuilder (Java 1.5), switching out the Java 1.5 iterator and removing the generic wildcard (Java 1.5) from the Collection (Java 1.2). If you want to take backward compatibility a step or two further, delete the methods that use Collection and move the logic into the array-based method.</p>\n\n<pre><code>public static String join(String[] values)\n{\n    return join(values, ',');\n}\n\npublic static String join(String[] values, char delimiter)\n{\n    return join(Arrays.asList(values), String.valueOf(delimiter));\n}\n\n// To match Apache commons-lang: StringUtils.join(values, delimiter)\npublic static String join(String[] values, String delimiter)\n{\n    return join(Arrays.asList(values), delimiter);\n}\n\npublic static String join(Collection&lt;?&gt; values)\n{\n    return join(values, ',');\n}\n\npublic static String join(Collection&lt;?&gt; values, char delimiter)\n{\n    return join(values, String.valueOf(delimiter));\n}\n\npublic static String join(Collection&lt;?&gt; values, String delimiter)\n{\n    if (values == null)\n    {\n        return new String();\n    }\n\n    StringBuffer strbuf = new StringBuffer();\n\n    boolean first = true;\n\n    for (Object value : values)\n    {\n        if (!first) { strbuf.append(delimiter); } else { first = false; }\n        strbuf.append(value.toString());\n    }\n\n    return strbuf.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690607,"favorite_count":0,"down_vote_count":0,"up_vote_count":584,"closed_date":1444182157,"accepted_answer_id":26195047,"answer_count":15,"score":584,"last_activity_date":1636106980,"creation_date":1262158728,"question_id":1978933,"body_markdown":"See [Related .NET question][1] \r\n\r\nI&#39;m looking for a quick and easy way to do exactly the opposite of split\r\nso that it will cause  `[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]` to become `&quot;a,b,c&quot;`\r\n\r\nIterating through an array requires either adding a condition (if this is not the last element, add the seperator) or using substring to remove the last separator.\r\n\r\nI&#39;m sure there is a certified, efficient way to do it (Apache Commons?)\r\n\r\nHow do you prefer doing it in your projects?\r\n\r\n  [1]: https://stackoverflow.com/questions/455438/opposite-of-string-split-with-separators-net","title":"A quick and easy way to join array elements with a separator (the opposite of split) in Java","body":"<p>See <a href=\"https://stackoverflow.com/questions/455438/opposite-of-string-split-with-separators-net\">Related .NET question</a> </p>\n\n<p>I'm looking for a quick and easy way to do exactly the opposite of split\nso that it will cause  <code>[\"a\",\"b\",\"c\"]</code> to become <code>\"a,b,c\"</code></p>\n\n<p>Iterating through an array requires either adding a condition (if this is not the last element, add the seperator) or using substring to remove the last separator.</p>\n\n<p>I'm sure there is a certified, efficient way to do it (Apache Commons?)</p>\n\n<p>How do you prefer doing it in your projects?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":7566699,"reputation":654,"user_id":5741961,"display_name":"rudi Ladeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451996151,"creation_date":1451994176,"answer_id":34610922,"question_id":34610354,"body_markdown":"I propose not to convert the jsonObj object to a String object. And therefore to replace the line: \r\n\r\n    jsonAjaxModel.setJsonString(jsonObj.toString ()) \r\n\r\nby a function like:\r\n\r\n    jsonAjaxModel.setJsonObj(jsonObj);","title":"Using org.json.JSONObject and Jackson together","body":"<p>I propose not to convert the jsonObj object to a String object. And therefore to replace the line: </p>\n\n<pre><code>jsonAjaxModel.setJsonString(jsonObj.toString ()) \n</code></pre>\n\n<p>by a function like:</p>\n\n<pre><code>jsonAjaxModel.setJsonObj(jsonObj);\n</code></pre>\n"}],"owner":{"account_id":1577314,"reputation":167,"user_id":1502017,"accept_rate":20,"display_name":"Arunabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636106936,"creation_date":1451992484,"question_id":34610354,"body_markdown":"\tpublic String convertToJson(List&lt;MyModelDTO&gt; modelDTO) {\r\n\t\tcom.fasterxml.jackson.databind.ObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\ttry {\r\n\t\t\treturn mapper.writeValueAsString(modelDTO);\r\n\t\t} catch (JsonGenerationException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t} catch (JsonMappingException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic Model getDefinition(ModelDTO modelDTO) {\r\n\t\tJsonAjaxModel jsonAjaxModel = new JsonAjaxModel();\r\n\r\n\t\t//resultMap is a map to initialise the JSON\r\n\t\torg.json.JSONObject modelStepsJson = new JSONObject(resultMap);\r\n\t\torg.json.JSONObject jsonObj = new JSONObject();\r\n\t\tjsonObj.put(&quot;MODELLING_STEPS&quot;, modelStepsJson);\r\n\r\n\t\tList&lt;MyModelDTO&gt; methodModelList = myDAO.getSavedsteps(MyModelDTO.getModelId());\r\n\t\tjsonObj.put(&quot;STEPS&quot;, convertToJson(methodModelList));\r\n\r\n\t\tjsonAjaxModel.setJsonString(jsonObj.toString());\r\n\t\treturn jsonAjaxModel;\r\n\t}\r\n\r\nAs seen above I am using Jackson with `org.json.JSONObject`. The problem is that the final JSON string generated has &#39;\\&#39; in it which is giving an error while using eval in JavaScript.\r\n\r\n```lang-json\r\n{&quot;MODELLING_STEPS&quot;:{\r\n    &quot;1&quot;:&quot;Data Set,UOM and modelling methodology Selection&quot;,\r\n    &quot;2&quot;:&quot;Loss Data Frequency modelling&quot;},\r\n&quot;STEPS&quot;:&quot;[\r\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:1},\r\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:2}\r\n]\r\n```\r\n\r\nPlease note that I cannot use `org.json.simple.JSONObject.escape()` as my project doesn&#39;t allow that.\r\n\r\nHope the question is clear. Please let me know how to escape &#39;\\&#39;.","title":"Using org.json.JSONObject and Jackson together","body":"<pre><code>public String convertToJson(List&lt;MyModelDTO&gt; modelDTO) {\n    com.fasterxml.jackson.databind.ObjectMapper mapper = new ObjectMapper();\n\n    try {\n        return mapper.writeValueAsString(modelDTO);\n    } catch (JsonGenerationException ex) {\n        ex.printStackTrace();\n    } catch (JsonMappingException ex) {\n        ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n    return null;\n}\n\npublic Model getDefinition(ModelDTO modelDTO) {\n    JsonAjaxModel jsonAjaxModel = new JsonAjaxModel();\n\n    //resultMap is a map to initialise the JSON\n    org.json.JSONObject modelStepsJson = new JSONObject(resultMap);\n    org.json.JSONObject jsonObj = new JSONObject();\n    jsonObj.put(&quot;MODELLING_STEPS&quot;, modelStepsJson);\n\n    List&lt;MyModelDTO&gt; methodModelList = myDAO.getSavedsteps(MyModelDTO.getModelId());\n    jsonObj.put(&quot;STEPS&quot;, convertToJson(methodModelList));\n\n    jsonAjaxModel.setJsonString(jsonObj.toString());\n    return jsonAjaxModel;\n}\n</code></pre>\n<p>As seen above I am using Jackson with <code>org.json.JSONObject</code>. The problem is that the final JSON string generated has '' in it which is giving an error while using eval in JavaScript.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;MODELLING_STEPS&quot;:{\n    &quot;1&quot;:&quot;Data Set,UOM and modelling methodology Selection&quot;,\n    &quot;2&quot;:&quot;Loss Data Frequency modelling&quot;},\n&quot;STEPS&quot;:&quot;[\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:1},\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:2}\n]\n</code></pre>\n<p>Please note that I cannot use <code>org.json.simple.JSONObject.escape()</code> as my project doesn't allow that.</p>\n<p>Hope the question is clear. Please let me know how to escape ''.</p>\n"},{"tags":["java","mysql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636113498,"post_id":69848203,"comment_id":123476114,"body_markdown":"You need to use `pS.execute()`. Also, you need to ensure you&#39;re actually executing/preparing a valid statement, because your current statement is not valid.","body":"You need to use <code>pS.execute()</code>. Also, you need to ensure you&#39;re actually executing/preparing a valid statement, because your current statement is not valid."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636084001,"creation_date":1636084001,"answer_id":69848466,"question_id":69848203,"body_markdown":"    resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select\r\n\r\nwill give you an error because a the end, the result of your query look like this : \r\n\r\n    INSERT INTO Clientes(nome) VALUES(?)INSERT INTO Clientes(nome) VALUES(?)UPDATE Clientes SET nome = ? WHERE id = ?UPDATE Clientes SET nome = ? WHERE id = ?...\r\n\r\nwhat is `syntaxically` incorrect as stated in your exception. What you have to do is to add `;` at the end of your queries.\r\n\r\nYour queries should look like this : \r\n\r\n        //ADD\r\n        String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\r\n        String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\r\n\r\n        //UPDATE\r\n        String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\r\n        String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\r\n\r\n        //DELETE\r\n        String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\r\n        String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\r\n\r\n        //SELECT\r\n        String select = &quot;Select * FROM Clientes;&quot;;\r\n\r\nThis [link][1] can help you for more details.\r\n\r\nI am a bit confused about this call : \r\n\r\n    pS.execute(resultSet1 + resultSet2);\r\n\r\nas per the [Java Doc][2], there is no such method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10797794/multiple-queries-executed-in-java-in-single-statement\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html#execute()","title":"Error SQL: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax","body":"<pre><code>resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select\n</code></pre>\n<p>will give you an error because a the end, the result of your query look like this :</p>\n<pre><code>INSERT INTO Clientes(nome) VALUES(?)INSERT INTO Clientes(nome) VALUES(?)UPDATE Clientes SET nome = ? WHERE id = ?UPDATE Clientes SET nome = ? WHERE id = ?...\n</code></pre>\n<p>what is <code>syntaxically</code> incorrect as stated in your exception. What you have to do is to add <code>;</code> at the end of your queries.</p>\n<p>Your queries should look like this :</p>\n<pre><code>    //ADD\n    String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\n    String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\n\n    //UPDATE\n    String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\n    String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\n\n    //DELETE\n    String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\n    String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\n\n    //SELECT\n    String select = &quot;Select * FROM Clientes;&quot;;\n</code></pre>\n<p>This <a href=\"https://stackoverflow.com/questions/10797794/multiple-queries-executed-in-java-in-single-statement\">link</a> can help you for more details.</p>\n<p>I am a bit confused about this call :</p>\n<pre><code>pS.execute(resultSet1 + resultSet2);\n</code></pre>\n<p>as per the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html#execute()\" rel=\"nofollow noreferrer\">Java Doc</a>, there is no such method.</p>\n"}],"owner":{"account_id":23244090,"reputation":3,"user_id":17332909,"display_name":"Guilherme Aguiar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636113471,"accepted_answer_id":69848466,"answer_count":1,"score":0,"last_activity_date":1636106880,"creation_date":1636080921,"question_id":69848203,"body_markdown":"I&#39;ve been trying to do a JDBC connection with MySQL using the **preparedStatement**.\r\n\r\nHere is my code so far:\r\n```\r\npackage uni.jdbc.preparedStatement;\r\nimport java.sql.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/banco_Teste&quot;,&quot;root&quot;,&quot;password&quot;);\r\n\r\n            //ADD\r\n            String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\r\n            String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\r\n\r\n            //UPDATE\r\n            String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\r\n            String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\r\n\r\n            //DELETE\r\n            String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\r\n            String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\r\n\r\n            //SELECT\r\n            String select = &quot;Select * FROM Clientes&quot;;\r\n\r\n            try (PreparedStatement pS = conn.prepareStatement(resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select)){\r\n\r\n                //INSERT\r\n                pS.setString(1, &quot;Jo&#227;o&quot;);\r\n                pS.setString(2, &quot;Maria&quot;);\r\n                pS.execute(resultSet1 + resultSet2);\r\n\r\n                //UPDATE\r\n                pS.setString(1, &quot;John&quot;);\r\n                pS.setString(2, &quot;Marya&quot;);\r\n                pS.execute(resultSet3 + resultSet4);\r\n\r\n                //DELETE\r\n                pS.setString(1, &quot;John&quot;);\r\n                pS.setString(2, &quot;Marya&quot;);\r\n                pS.execute(resultSet5 + resultSet6 );\r\n\r\n                //SELECT\r\n                pS.execute(select);\r\n\r\n            }catch (SQLException e){\r\n\r\n                e.printStackTrace();\r\n\r\n            }\r\n\r\n        }catch(SQLException | ClassNotFoundException e){\r\n\r\n            e.printStackTrace();\r\n\r\n            System.out.println(&quot;Conex&#227;o falhou!&quot;);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n**Here is the query:**\r\n\r\n    create database banco_Teste\r\n\r\n    use banco_Teste\r\n\r\n    CREATE TABLE Clientes(\r\n\r\n\t    id_cliente INTEGER PRIMARY KEY AUTO_INCREMENT,\r\n\t    nome varchar (100)\r\n\r\n    )\r\n\r\nThe problem is: as I run, the following error is returned:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;?)INSERT INTO Clientes(nome) VALUES(?)&#39; at line 1\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:768)\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)\r\n\tat uni.jdbc.preparedStatement.Main.main(Main.java:46)\r\n\r\nCould it be a version problem? The connector version is 8.0.27.\r\n","title":"Error SQL: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax","body":"<p>I've been trying to do a JDBC connection with MySQL using the <strong>preparedStatement</strong>.</p>\n<p>Here is my code so far:</p>\n<pre><code>package uni.jdbc.preparedStatement;\nimport java.sql.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        try {\n\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/banco_Teste&quot;,&quot;root&quot;,&quot;password&quot;);\n\n            //ADD\n            String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\n            String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\n\n            //UPDATE\n            String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\n            String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\n\n            //DELETE\n            String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\n            String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\n\n            //SELECT\n            String select = &quot;Select * FROM Clientes&quot;;\n\n            try (PreparedStatement pS = conn.prepareStatement(resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select)){\n\n                //INSERT\n                pS.setString(1, &quot;João&quot;);\n                pS.setString(2, &quot;Maria&quot;);\n                pS.execute(resultSet1 + resultSet2);\n\n                //UPDATE\n                pS.setString(1, &quot;John&quot;);\n                pS.setString(2, &quot;Marya&quot;);\n                pS.execute(resultSet3 + resultSet4);\n\n                //DELETE\n                pS.setString(1, &quot;John&quot;);\n                pS.setString(2, &quot;Marya&quot;);\n                pS.execute(resultSet5 + resultSet6 );\n\n                //SELECT\n                pS.execute(select);\n\n            }catch (SQLException e){\n\n                e.printStackTrace();\n\n            }\n\n        }catch(SQLException | ClassNotFoundException e){\n\n            e.printStackTrace();\n\n            System.out.println(&quot;Conexão falhou!&quot;);\n\n        }\n    }\n}\n</code></pre>\n<p><strong>Here is the query:</strong></p>\n<pre><code>create database banco_Teste\n\nuse banco_Teste\n\nCREATE TABLE Clientes(\n\n    id_cliente INTEGER PRIMARY KEY AUTO_INCREMENT,\n    nome varchar (100)\n\n)\n</code></pre>\n<p>The problem is: as I run, the following error is returned:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '?)INSERT INTO Clientes(nome) VALUES(?)' at line 1\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:768)\nat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)\nat uni.jdbc.preparedStatement.Main.main(Main.java:46)</p>\n</blockquote>\n<p>Could it be a version problem? The connector version is 8.0.27.</p>\n"},{"tags":["java","android","kotlin","gradle","preferences"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1636104081,"post_id":69850885,"comment_id":123472712,"body_markdown":"Have you tried adding the ```androidx.preference.PreferenceScreen``` prefix to the xml objects?","body":"Have you tried adding the <code>androidx.preference.PreferenceScreen</code> prefix to the xml objects?"},{"owner":{"account_id":20107678,"reputation":151,"user_id":14744778,"display_name":"Arek Kubiński"},"score":0,"creation_date":1636104587,"post_id":69850885,"comment_id":123472936,"body_markdown":"Yes, same problem. It looks like its just don&#39;t recognise it","body":"Yes, same problem. It looks like its just don&#39;t recognise it"}],"answers":[{"tags":[],"owner":{"account_id":17984397,"reputation":562,"user_id":13069994,"display_name":"Supertommino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636106824,"creation_date":1636105358,"answer_id":69851222,"question_id":69850885,"body_markdown":"Did you put the xml file under the &quot;xml&quot; folder?\r\n\r\nIt must be placed under &quot;xml&quot; folder not under &quot;layout&quot; folder\r\n\r\n![Like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9JI7M.jpg\r\n\r\nYou have to use a PreferenceActivity and call the file with:\r\n\r\n    addPreferencesFromResource(R.xml.settings);\r\n\r\nOfficial documentation: https://developer.android.com/guide/topics/ui/settings","title":"Looks like android studio can&#39;t find classes from dependency","body":"<p>Did you put the xml file under the &quot;xml&quot; folder?</p>\n<p>It must be placed under &quot;xml&quot; folder not under &quot;layout&quot; folder</p>\n<p><img src=\"https://i.stack.imgur.com/9JI7M.jpg\" alt=\"Like this\" /></p>\n<p>You have to use a PreferenceActivity and call the file with:</p>\n<pre><code>addPreferencesFromResource(R.xml.settings);\n</code></pre>\n<p>Official documentation: <a href=\"https://developer.android.com/guide/topics/ui/settings\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/settings</a></p>\n"}],"owner":{"account_id":20107678,"reputation":151,"user_id":14744778,"display_name":"Arek Kubiński"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69851222,"answer_count":1,"score":0,"last_activity_date":1636106824,"creation_date":1636103688,"question_id":69850885,"body_markdown":"I wanted to make settings fragment for my app so I added preference dependency to my build.gradle\r\n```\r\ndef preference_version = &quot;1.1.1&quot;\r\n    implementation &quot;androidx.preference:preference:$preference_version&quot;\r\n    implementation &quot;androidx.preference:preference-ktx:$preference_version&quot;\r\n```\r\nbut when I want to use any class from this library in XML Layout like for example \r\n```\r\n&lt;PreferenceScreen\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;SwitchPreferenceCompat\r\n        app:key=&quot;notifications&quot;\r\n        app:title=&quot;Enable message notifications&quot;/&gt;\r\n\r\n    &lt;Preference\r\n        app:key=&quot;feedback&quot;\r\n        app:title=&quot;Send feedback&quot;\r\n        app:summary=&quot;Report technical issues or suggest new features&quot;/&gt;\r\n\r\n&lt;/PreferenceScreen&gt;\r\n```\r\nI&#39;m getting errors: \r\n\r\n - Cannot resolve class PreferenceScreen \r\n - Cannot resolve class SwitchPreferenceCompat \r\n - Cannot resolve class Preference \r\n\r\nI tried to build project after using /gradlew clean but nothing helped, I tried to use different versions of dependencies, different versions of gradle and use only dependency for java and only dependency for kotlin multiple times with different configurations but nothing helped. What is strange outside of XML files everything seems to work just fine and I can use classes from this library just fine, but I need to make layout with PreferenceScreen class and it&#39;s not recognising it.","title":"Looks like android studio can&#39;t find classes from dependency","body":"<p>I wanted to make settings fragment for my app so I added preference dependency to my build.gradle</p>\n<pre><code>def preference_version = &quot;1.1.1&quot;\n    implementation &quot;androidx.preference:preference:$preference_version&quot;\n    implementation &quot;androidx.preference:preference-ktx:$preference_version&quot;\n</code></pre>\n<p>but when I want to use any class from this library in XML Layout like for example</p>\n<pre><code>&lt;PreferenceScreen\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;SwitchPreferenceCompat\n        app:key=&quot;notifications&quot;\n        app:title=&quot;Enable message notifications&quot;/&gt;\n\n    &lt;Preference\n        app:key=&quot;feedback&quot;\n        app:title=&quot;Send feedback&quot;\n        app:summary=&quot;Report technical issues or suggest new features&quot;/&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p>I'm getting errors:</p>\n<ul>\n<li>Cannot resolve class PreferenceScreen</li>\n<li>Cannot resolve class SwitchPreferenceCompat</li>\n<li>Cannot resolve class Preference</li>\n</ul>\n<p>I tried to build project after using /gradlew clean but nothing helped, I tried to use different versions of dependencies, different versions of gradle and use only dependency for java and only dependency for kotlin multiple times with different configurations but nothing helped. What is strange outside of XML files everything seems to work just fine and I can use classes from this library just fine, but I need to make layout with PreferenceScreen class and it's not recognising it.</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635973988,"post_id":69830860,"comment_id":123438232,"body_markdown":"The 1.10.0 release says that it runs on Java 11, and I don&#39;t see any mention of later JDKs in later release notes. I&#39;d try running it on 11.","body":"The 1.10.0 release says that it runs on Java 11, and I don&#39;t see any mention of later JDKs in later release notes. I&#39;d try running it on 11."}],"answers":[{"tags":[],"owner":{"account_id":4910556,"reputation":1932,"user_id":3955972,"display_name":"Sdairs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636106412,"creation_date":1636106412,"answer_id":69851469,"question_id":69830860,"body_markdown":"Only Java 8 or Java 11 are supported by NiFi at this time. \r\n\r\nhttps://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#system_requirements","title":"Nifi will run but won&#39;t open in browser- Possible error with JAVA","body":"<p>Only Java 8 or Java 11 are supported by NiFi at this time.</p>\n<p><a href=\"https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#system_requirements\" rel=\"nofollow noreferrer\">https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#system_requirements</a></p>\n"}],"owner":{"account_id":19396957,"reputation":41,"user_id":14184427,"display_name":"woodardj0303"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636106412,"creation_date":1635968493,"question_id":69830860,"body_markdown":"I am able to start and stop nifi from terminal, but I cannot get it to appear in chrome local host. I just downloaded JAVA 17.0.1 and nifi 1.14.0 so one or both may not be configured correctly. Here is an error I found in the logs-any guidance would be appreciated.\r\n\r\n```2021-11-03 14:14:24,057 ERROR [main] org.apache.nifi.NiFi Failure to launch NiFi due to org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @47f0e078\r\norg.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @47f0e078\r\n\tat org.xerial.snappy.SnappyLoader.injectSnappyNativeLoader(SnappyLoader.java:297)\r\n\tat org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:227)\r\n\tat org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:48)\r\n\tat org.apache.nifi.processors.hive.PutHiveStreaming.&lt;clinit&gt;(PutHiveStreaming.java:158)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n\tat org.apache.nifi.nar.StandardExtensionDiscoveringManager.getClass(StandardExtensionDiscoveringManager.java:328)\r\n\tat org.apache.nifi.documentation.DocGenerator.documentConfigurableComponent(DocGenerator.java:100)\r\n\tat org.apache.nifi.documentation.DocGenerator.generate(DocGenerator.java:65)\r\n\tat org.apache.nifi.web.server.JettyServer.start(JettyServer.java:1126)\r\n\tat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:159)\r\n\tat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:71)\r\n\tat org.apache.nifi.NiFi.main(NiFi.java:303)```\r\n","title":"Nifi will run but won&#39;t open in browser- Possible error with JAVA","body":"<p>I am able to start and stop nifi from terminal, but I cannot get it to appear in chrome local host. I just downloaded JAVA 17.0.1 and nifi 1.14.0 so one or both may not be configured correctly. Here is an error I found in the logs-any guidance would be appreciated.</p>\n<pre><code>org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @47f0e078\n    at org.xerial.snappy.SnappyLoader.injectSnappyNativeLoader(SnappyLoader.java:297)\n    at org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:227)\n    at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:48)\n    at org.apache.nifi.processors.hive.PutHiveStreaming.&lt;clinit&gt;(PutHiveStreaming.java:158)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at org.apache.nifi.nar.StandardExtensionDiscoveringManager.getClass(StandardExtensionDiscoveringManager.java:328)\n    at org.apache.nifi.documentation.DocGenerator.documentConfigurableComponent(DocGenerator.java:100)\n    at org.apache.nifi.documentation.DocGenerator.generate(DocGenerator.java:65)\n    at org.apache.nifi.web.server.JettyServer.start(JettyServer.java:1126)\n    at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:159)\n    at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:71)\n    at org.apache.nifi.NiFi.main(NiFi.java:303)```\n</code></pre>\n"},{"tags":["java","eclipse","com","powerdesigner","ole-automation"],"comments":[{"owner":{"account_id":69588,"reputation":3307,"user_id":202367,"display_name":"pascal"},"score":0,"creation_date":1625469786,"post_id":68225270,"comment_id":120625904,"body_markdown":"You&#39;re just trying to use the sample code from JavaProxy.doc?","body":"You&#39;re just trying to use the sample code from JavaProxy.doc?"},{"owner":{"account_id":9571842,"reputation":75,"user_id":7109249,"accept_rate":17,"display_name":"Darla"},"score":0,"creation_date":1625478735,"post_id":68225270,"comment_id":120629370,"body_markdown":"Yes, @Pascal. Once im able to connect and build a model i will have to customise","body":"Yes, @Pascal. Once im able to connect and build a model i will have to customise"}],"answers":[{"tags":[],"owner":{"account_id":69588,"reputation":3307,"user_id":202367,"display_name":"pascal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625250167,"creation_date":1625250167,"answer_id":68229780,"question_id":68225270,"body_markdown":"The swt.win.win32.x86_64 jar is for 64-bit, so I assume you&#39;re using a 64-bit Java.\r\n\r\nIn my case, the pdj2com jar is named something like **pdj2com_16.N.Nx64.jar** for the 64-bit version. pdj2com_16.N.N.jar is the name of the 32-bit version.","title":"Unable to Connect to PowerDesigner through java","body":"<p>The swt.win.win32.x86_64 jar is for 64-bit, so I assume you're using a 64-bit Java.</p>\n<p>In my case, the pdj2com jar is named something like <strong>pdj2com_16.N.Nx64.jar</strong> for the 64-bit version. pdj2com_16.N.N.jar is the name of the 32-bit version.</p>\n"}],"owner":{"account_id":9571842,"reputation":75,"user_id":7109249,"accept_rate":17,"display_name":"Darla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636106361,"creation_date":1625229143,"question_id":68225270,"body_markdown":"I have a requirement to automate the process of connecting to PowerDesigner through java to extract the models from repository. I have used the OLE Automation JavaProxy document to configure the process. \r\n\r\nwhen trying to run, I&#39;m getting this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.eclipse.swt.internal.ole.win32.COM.CoCreateInstance(Lorg/eclipse/swt/internal/ole/win32/GUID;IILorg/eclipse/swt/internal/ole/win32/GUID;[I)I\r\n&gt; \tat\r\n&gt; com.sybase.stf.powerdesigner.PdCommon.Application.start(Application.java:57)\r\n&gt; \tat\r\n&gt; com.sybase.stf.powerdesigner.PdCommon.Application.&lt;init&gt;(Application.java:31)\r\n&gt; \tat\r\n&gt; com.sybase.stf.powerdesigner.PdCommon.Application.getInstance(Application.java:42)\r\n&gt; \tat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:37)\r\n&gt; \tat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\r\n\r\n**Versions:**\r\n- PowerDesigner - 16.5.5.0\r\n- Eclipse 4.18\r\n\r\n**Supporting Jars:**\r\n- pdj2com_16.5.5.jar\r\n- org.eclipse.swt.win32.win32.x86_64_3.115.100.v20201202-1103.jar\r\n\r\n**The above issue is resolved Thanks!**\r\n\r\n\r\nNow i&#39;m facing trouble connecting again with the below issue.\r\n\r\n\r\norg.eclipse.swt.SWTException: Action can not be performed. result = -2137456383 (com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101])\r\n\tat org.eclipse.swt.ole.win32.OLE.error(OLE.java:345)\r\n\tat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:83)\r\n\tat com.sybase.stf.powerdesigner.com.IDispatchEx.raisingInvoke(IDispatchEx.java:231)\r\n\tat com.sybase.stf.powerdesigner.PdCommon.IApplication.CreateModel(IApplication.java:84)\r\n\tat OOM.src.createOOM.CreateOOM.createOOM(CreateOOM.java:68)\r\n\tat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:42)\r\n\tat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\r\nCaused by: com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101]\r\n\tat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:88)\r\n\t... 5 more\r\nIs there anything else to add to the code to connect?\r\n\r\nI am not able to find any solution online. Kindly help me figure this out. Thanks in advance.","title":"Unable to Connect to PowerDesigner through java","body":"<p>I have a requirement to automate the process of connecting to PowerDesigner through java to extract the models from repository. I have used the OLE Automation JavaProxy document to configure the process.</p>\n<p>when trying to run, I'm getting this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.eclipse.swt.internal.ole.win32.COM.CoCreateInstance(Lorg/eclipse/swt/internal/ole/win32/GUID;IILorg/eclipse/swt/internal/ole/win32/GUID;[I)I\nat\ncom.sybase.stf.powerdesigner.PdCommon.Application.start(Application.java:57)\nat\ncom.sybase.stf.powerdesigner.PdCommon.Application.(Application.java:31)\nat\ncom.sybase.stf.powerdesigner.PdCommon.Application.getInstance(Application.java:42)\nat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:37)\nat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)</p>\n</blockquote>\n<p><strong>Versions:</strong></p>\n<ul>\n<li>PowerDesigner - 16.5.5.0</li>\n<li>Eclipse 4.18</li>\n</ul>\n<p><strong>Supporting Jars:</strong></p>\n<ul>\n<li>pdj2com_16.5.5.jar</li>\n<li>org.eclipse.swt.win32.win32.x86_64_3.115.100.v20201202-1103.jar</li>\n</ul>\n<p><strong>The above issue is resolved Thanks!</strong></p>\n<p>Now i'm facing trouble connecting again with the below issue.</p>\n<p>org.eclipse.swt.SWTException: Action can not be performed. result = -2137456383 (com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101])\nat org.eclipse.swt.ole.win32.OLE.error(OLE.java:345)\nat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:83)\nat com.sybase.stf.powerdesigner.com.IDispatchEx.raisingInvoke(IDispatchEx.java:231)\nat com.sybase.stf.powerdesigner.PdCommon.IApplication.CreateModel(IApplication.java:84)\nat OOM.src.createOOM.CreateOOM.createOOM(CreateOOM.java:68)\nat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:42)\nat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\nCaused by: com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101]\nat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:88)\n... 5 more\nIs there anything else to add to the code to connect?</p>\n<p>I am not able to find any solution online. Kindly help me figure this out. Thanks in advance.</p>\n"},{"tags":["java","xml","rest-assured"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1634579451,"post_id":69620026,"comment_id":123057879,"body_markdown":"Perhaps it&#39;s `response.getBody().xmlPath().get(&quot;count(//code[text()=0])&quot;)==3`","body":"Perhaps it&#39;s <code>response.getBody().xmlPath().get(&quot;count(&#47;&#47;code[text()=0])&quot;)=&zwnj;&#8203;=3</code>"},{"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"score":0,"creation_date":1634818266,"post_id":69620026,"comment_id":123131824,"body_markdown":"@LMC it&#39;s not working, count is returning 1. But thanks. When I tried the xpath in http://xpather.com/ it&#39;s working as expected","body":"@LMC it&#39;s not working, count is returning 1. But thanks. When I tried the xpath in <a href=\"http://xpather.com/\" rel=\"nofollow noreferrer\">xpather.com</a> it&#39;s working as expected"}],"answers":[{"tags":[],"owner":{"account_id":15371775,"reputation":514,"user_id":11089623,"display_name":"cheparsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636106314,"creation_date":1636106314,"answer_id":69851448,"question_id":69620026,"body_markdown":"Rest-Assured framework mainly supports testing REST services. You can find a lot of examples on Internet but they not always it will work for your unique SOAP response body.\r\n\r\nFrom my experience, I suggest you pay attention to [Karate](https://github.com/intuit/karate) as it has built-in support for SOAP, and also makes XML manipulation a lot easier.","title":"RestAssured XmlPath array","body":"<p>Rest-Assured framework mainly supports testing REST services. You can find a lot of examples on Internet but they not always it will work for your unique SOAP response body.</p>\n<p>From my experience, I suggest you pay attention to <a href=\"https://github.com/intuit/karate\" rel=\"nofollow noreferrer\">Karate</a> as it has built-in support for SOAP, and also makes XML manipulation a lot easier.</p>\n"}],"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636106314,"creation_date":1634577243,"question_id":69620026,"body_markdown":"I&#39;m using RestAssured to test a few SOAP services. And I want to verify parts of the XML response, but I have problems to do that for an array. I want to verify, that there are 3 &quot;*code*&quot; fields in the response with value 0.\r\n\r\nXML Response:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;...&quot;&gt;\r\n      &lt;soap:Body&gt;\r\n        &lt;Response xmlns=&quot;...&quot;&gt;\r\n          &lt;Result xmlns=&quot;&quot;&gt;\r\n            &lt;code&gt;0&lt;/code&gt;\r\n          &lt;/Result&gt;\r\n          &lt;Result xmlns=&quot;&quot;&gt;\r\n            &lt;code&gt;0&lt;/code&gt;\r\n          &lt;/Result&gt;\r\n          &lt;Result xmlns=&quot;&quot;&gt;\r\n            &lt;code&gt;0&lt;/code&gt;\r\n          &lt;/Result&gt;\r\n        &lt;/Response&gt;\r\n      &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nI tried this, but I&#39;m getting this [000] instead of this [0, 0, 0]:\r\n\r\n    response.getBody().xmlPath().get(&quot;code.list()&quot;);\r\n\r\nI also tried to use Xpath, this works, but it doesn&#39;t check the number of *&quot;code&quot;* fields\r\n\r\n    response.then().body(hasXPath(&quot;//code[text()=0]&quot;));\r\n\r\nbut when I want to check the count, it&#39;s failing (java.lang.AssertionError: 1 expectation failed.)\r\n\r\n    response.then().body(hasXPath(&quot;count(//code[text()=0])=3&quot;));","title":"RestAssured XmlPath array","body":"<p>I'm using RestAssured to test a few SOAP services. And I want to verify parts of the XML response, but I have problems to do that for an array. I want to verify, that there are 3 &quot;<em>code</em>&quot; fields in the response with value 0.</p>\n<p>XML Response:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;...&quot;&gt;\n  &lt;soap:Body&gt;\n    &lt;Response xmlns=&quot;...&quot;&gt;\n      &lt;Result xmlns=&quot;&quot;&gt;\n        &lt;code&gt;0&lt;/code&gt;\n      &lt;/Result&gt;\n      &lt;Result xmlns=&quot;&quot;&gt;\n        &lt;code&gt;0&lt;/code&gt;\n      &lt;/Result&gt;\n      &lt;Result xmlns=&quot;&quot;&gt;\n        &lt;code&gt;0&lt;/code&gt;\n      &lt;/Result&gt;\n    &lt;/Response&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I tried this, but I'm getting this [000] instead of this [0, 0, 0]:</p>\n<pre><code>response.getBody().xmlPath().get(&quot;code.list()&quot;);\n</code></pre>\n<p>I also tried to use Xpath, this works, but it doesn't check the number of <em>&quot;code&quot;</em> fields</p>\n<pre><code>response.then().body(hasXPath(&quot;//code[text()=0]&quot;));\n</code></pre>\n<p>but when I want to check the count, it's failing (java.lang.AssertionError: 1 expectation failed.)</p>\n<pre><code>response.then().body(hasXPath(&quot;count(//code[text()=0])=3&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data","deserialization","spring-data-gemfire"],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1635877428,"creation_date":1635794299,"answer_id":69801760,"question_id":69797245,"body_markdown":"First, please be precise when you ask questions.\r\n\r\nYour `Key` class is not even valid *Java*.  The `Key` class by itself would not even compile as is.\r\n\r\nThe constructors (`JsonWebKey`) in this case are 1) not named after the class (`Key`) and 2) you cannot have 2 no arg constructors.\r\n\r\nI am assuming the second constructor would be:\r\n\r\n```java\r\npublic Key(String id, Jwk jwk) {\r\n  this.id = id;\r\n  this.jwk = jwk;\r\n}\r\n```\r\n\r\nI am guessing either the constructors are misnamed or perhaps are part of some [static] inner class??\r\n\r\nNever-the-less, assuming you are using ***Spring Boot for Apache Geode*** (*and VMware Tanzu (Pivotal) GemFire*), a.k.a. SBDG (see [here][1]; if you are **not** using SBDG, you should be!), and since SBDG [enables GemFire/Geode PDX serialization by default][2], then SBDG with the help of ***Spring Data for Apache Geode*** (*and VMware Tanzu GemFire*), a.k.a. SDG (upon which SBDG is built, along with the core *Spring Framework*, *Spring Data* and *Spring Boot*) will handle these serialization concerns for you, with no extra effort on your part.  See the corresponding SDG [documentation][3].\r\n\r\nBy way of example, I wrote this [test class][4], which resides in this [package][5], to demonstrate.\r\n\r\nBy default, the test class is using PDX serialization [configured with Spring][6] using the [test configuration][7].  The Spring-based configuration class is [here][8].  The [other test configuration classes][9] are only enabled with the appropriate [test Spring profile configured][6].\r\n\r\nThe model class for this test is the [`CompositeValue` class][10] in the `model` sub-package.\r\n\r\nAs you can see, the class has [2 primary constructors][11]. I also declared a [commented-out, default, public no-arg constructor][12], which I will explain further below.\r\n\r\nThis `CompositeValue` model class was designed very deliberately. You will notice that it is (mostly) immutable.\r\n\r\nI use a Spring Data `CrudRepository` (see [here][13]) to save (persist/store) an instance of `CompositeValue` in a GemFire/Geode *Region* (&quot;*Values*&quot;) and then retrieve it (findBy..).  The &quot;*Values*&quot; Region is necessarily a `PARTITION` Region (see [here][14]), since a `PARTITION` Region stores values in serialized form, and in our case, PDX serialized.\r\n\r\nUsing the Spring configuration, the [test][15] runs and passes successfully!  Spring is doing all the heavy lifting!\r\n\r\nIf you are NOT using Spring to its fullest extent, then you are (most likely) going to have problems unless you know what you are doing with GemFire/Geode.\r\n\r\nOut-of-the-box, GemFire/Geode PDX serialization has certain limitations. See the [documentation][16]. Specifically, see [here][17].\r\n\r\nFor instance, if you are using GemFire/Geode&#39;s `ReflectionBasedAutoSerializer` class ([*Javadoc*][18], [documentation][19]; and I suspect you are) and not Spring, then it requires your application domain objects (model classes / entities) to have a default, public no-arg constructor.\r\n\r\nThis flies in the face of immutable, effectively immutable and mostly immutable classes since then you cannot appropriately initialize classes using constructors, which is crucial in a highly concurrent, multi-Threaded context, like GemFire/Geode.\r\n\r\nYou can see the effects of trying to use GemFire/Geode&#39;s `ReflectionBasedAutoSerializer` by enabling the &quot;gemfire&quot; profile [in the example test class][6] I wrote, for which the configuration is [here][20].\r\n\r\nThe test will NOT pass without the [commented-out, default, public no-arg constructor][12]. \r\n\r\nWhen using Apache Geode `1.13.4`, I get the following error:\r\n\r\n```\r\n2021-11-01 11:53:08,720  WARN ode.pdx.internal.AutoSerializableManager: 274 - Class \r\nio.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue \r\nmatched with &#39;.*&#39; cannot be auto-serialized due to missing public no-arg constructor.\r\nWill attempt using Java serialization.\r\n```\r\n\r\nHowever, even with Java serialization (the GemFire/Geode backup serialization strategy), the test results in a failure:\r\n\r\n```\r\nCaused by: java.io.NotSerializableException: io.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat org.apache.geode.internal.InternalDataSerializer.writeSerializableObject(InternalDataSerializer.java:2184)\r\n\tat org.apache.geode.internal.InternalDataSerializer.basicWriteObject(InternalDataSerializer.java:2058)\r\n\tat org.apache.geode.DataSerializer.writeObject(DataSerializer.java:2839)\r\n\tat org.apache.geode.internal.cache.CachedDeserializableFactory.calcSerializedSize(CachedDeserializableFactory.java:245)\r\n\t... 60 common frames omitted\r\n```\r\n\r\nWell, the `java.io.NotSerializableException` is thrown because the `CompositeValue` class (deliberately) does not implement the `java.io.Serialiable` interface.\r\n\r\nWhy deliberately? Because you cannot implement `java.io.Serializable` on classes you do not own, which is true when using 3rd party libraries and their classes. Even though we own the `CompositeValue` in my case, I am making a point, because in your case, you don&#39;t own `Jwk`.\r\n\r\nSo, not only can we not use (mostly/effectively) immutable classes, we also cannot rely on default serialization mechanisms baked into GemFire/Geode.\r\n\r\nOf course, we can handle this by implementing a custom `PdxSerializer`, the second strategy in the [documentation][17] (under &quot;**Procedure**&quot;, Step 1, &quot;[Serializing your Domain Object with a PdxSerializer][21]&quot;).\r\n\r\nIf we again [change][6] the active Spring profile to &quot;gemfire-custom-pdxserializer&quot; in the example test I wrote, then the test will pass.\r\n\r\nBut, it comes at a high price! See the [necessary configuration][22] to make this arrangement work.\r\n\r\nIn our case, we have only 1 such model / entity class to build a custom `PdxSerializer` for. However, imagine if we had hundreds of classes to handle.\r\n\r\nTo make matters worse, GemFire/Geode only allows a single `PdxSerializer` to be registered with a Singleton GemFire/Geode cache, which means you can only have 1.  Now you must rely on the [*Composite Software Design Pattern*][23] to compose multiple `PdxSerializers` necessary to handle all your application domain model types requiring serialization. While this is elegant, you must build a custom `PdxSerializer` per application model / entity type.  Of course, you could bake all type handling into 1 `PdxSerializer` implementation, but that would get ugly rather quickly!\r\n\r\nFinally, your application model / entity types could implement GemFire/Geode&#39;s `PdxSerializable` interface ([*Javadoc*][24]). This is no better than `java.io.Serializable` and (again) does not work for types you don&#39;t own. It also couples your application to GemFire/Geode and is why I did NOT demonstrate this approach, as it should be considered an anti-pattern.\r\n\r\nWith SDG&#39;s `MappingPdxSerializer`, which SBDG&#39;s auto-configures for you (by default), you do not need to do any of the above. SBDG auto-configures PDX by default (making the SDG `@EnablePdx` annotation unnecessary) and there is no special requirement for your application domain object (model) / entity classes.\r\n\r\nHowever, if you have **more than 1** constructor in your entity class, then you will need to designate 1 constructor as the primary persistence constructor.  In the `CompositeValue` class, this [constructor][25] was designated as the primary, persistence constructor using Spring Data&#39;s `@PersistenceConstructor` annotation, which SDG&#39;s `MappingPdxSerializer` takes into account when deserializing and constructing your application domain object model types.\r\n\r\nIf you only have 1 constructor in your class, then you do not even need to declare the `@PersistenceConstructor` annotation on the only constructor.  That is if the [other constructor][26] in `CompositeValue` did not exist, then the `@PersistenceConstructor` annotation on this [constructor][25] would not be necessary. SD[G] can figure it out.\r\n\r\nFeel free to play around with my example test for you learning purposes.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot-data-geode\r\n  [2]: https://docs.spring.io/spring-boot-data-geode-build/current/reference/html5/#geode-data-serialization\r\n  [3]: https://docs.spring.io/spring-data/geode/docs/current/reference/html/#mapping.pdx-serializer\r\n  [4]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java\r\n  [5]: https://github.com/jxblum/stackoverflow-questions-answers/tree/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx\r\n  [6]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\r\n  [7]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L94-L99\r\n  [8]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L158-L161\r\n  [9]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L156\r\n  [10]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java\r\n  [11]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L71\r\n  [12]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L52-L56\r\n  [13]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/repo/CompositeValueRepository.java\r\n  [14]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L95-L96\r\n  [15]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L77-L92\r\n  [16]: https://geode.apache.org/docs/guide/114/developing/data_serialization/gemfire_pdx_serialization.html\r\n  [17]: https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_high_level_steps.html\r\n  [18]: https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/ReflectionBasedAutoSerializer.html\r\n  [19]: https://geode.apache.org/docs/guide/114/developing/data_serialization/auto_serialization.html\r\n  [20]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L110\r\n  [21]: https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_serializer.html\r\n  [22]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L112-L156\r\n  [23]: https://en.wikipedia.org/wiki/Composite_pattern\r\n  [24]: https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/PdxSerializable.html\r\n  [25]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L63-L71\r\n  [26]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L61","title":"How to deserialize com.auth0.jwk.Jwk that does not have no-arg constructor?","body":"<p>First, please be precise when you ask questions.</p>\n<p>Your <code>Key</code> class is not even valid <em>Java</em>.  The <code>Key</code> class by itself would not even compile as is.</p>\n<p>The constructors (<code>JsonWebKey</code>) in this case are 1) not named after the class (<code>Key</code>) and 2) you cannot have 2 no arg constructors.</p>\n<p>I am assuming the second constructor would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Key(String id, Jwk jwk) {\n  this.id = id;\n  this.jwk = jwk;\n}\n</code></pre>\n<p>I am guessing either the constructors are misnamed or perhaps are part of some [static] inner class??</p>\n<p>Never-the-less, assuming you are using <em><strong>Spring Boot for Apache Geode</strong></em> (<em>and VMware Tanzu (Pivotal) GemFire</em>), a.k.a. SBDG (see <a href=\"https://github.com/spring-projects/spring-boot-data-geode\" rel=\"nofollow noreferrer\">here</a>; if you are <strong>not</strong> using SBDG, you should be!), and since SBDG <a href=\"https://docs.spring.io/spring-boot-data-geode-build/current/reference/html5/#geode-data-serialization\" rel=\"nofollow noreferrer\">enables GemFire/Geode PDX serialization by default</a>, then SBDG with the help of <em><strong>Spring Data for Apache Geode</strong></em> (<em>and VMware Tanzu GemFire</em>), a.k.a. SDG (upon which SBDG is built, along with the core <em>Spring Framework</em>, <em>Spring Data</em> and <em>Spring Boot</em>) will handle these serialization concerns for you, with no extra effort on your part.  See the corresponding SDG <a href=\"https://docs.spring.io/spring-data/geode/docs/current/reference/html/#mapping.pdx-serializer\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>By way of example, I wrote this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java\" rel=\"nofollow noreferrer\">test class</a>, which resides in this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/tree/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx\" rel=\"nofollow noreferrer\">package</a>, to demonstrate.</p>\n<p>By default, the test class is using PDX serialization <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">configured with Spring</a> using the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L94-L99\" rel=\"nofollow noreferrer\">test configuration</a>.  The Spring-based configuration class is <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L158-L161\" rel=\"nofollow noreferrer\">here</a>.  The <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L156\" rel=\"nofollow noreferrer\">other test configuration classes</a> are only enabled with the appropriate <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">test Spring profile configured</a>.</p>\n<p>The model class for this test is the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java\" rel=\"nofollow noreferrer\"><code>CompositeValue</code> class</a> in the <code>model</code> sub-package.</p>\n<p>As you can see, the class has <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L71\" rel=\"nofollow noreferrer\">2 primary constructors</a>. I also declared a <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L52-L56\" rel=\"nofollow noreferrer\">commented-out, default, public no-arg constructor</a>, which I will explain further below.</p>\n<p>This <code>CompositeValue</code> model class was designed very deliberately. You will notice that it is (mostly) immutable.</p>\n<p>I use a Spring Data <code>CrudRepository</code> (see <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/repo/CompositeValueRepository.java\" rel=\"nofollow noreferrer\">here</a>) to save (persist/store) an instance of <code>CompositeValue</code> in a GemFire/Geode <em>Region</em> (&quot;<em>Values</em>&quot;) and then retrieve it (findBy..).  The &quot;<em>Values</em>&quot; Region is necessarily a <code>PARTITION</code> Region (see <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L95-L96\" rel=\"nofollow noreferrer\">here</a>), since a <code>PARTITION</code> Region stores values in serialized form, and in our case, PDX serialized.</p>\n<p>Using the Spring configuration, the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L77-L92\" rel=\"nofollow noreferrer\">test</a> runs and passes successfully!  Spring is doing all the heavy lifting!</p>\n<p>If you are NOT using Spring to its fullest extent, then you are (most likely) going to have problems unless you know what you are doing with GemFire/Geode.</p>\n<p>Out-of-the-box, GemFire/Geode PDX serialization has certain limitations. See the <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/gemfire_pdx_serialization.html\" rel=\"nofollow noreferrer\">documentation</a>. Specifically, see <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_high_level_steps.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For instance, if you are using GemFire/Geode's <code>ReflectionBasedAutoSerializer</code> class (<a href=\"https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/ReflectionBasedAutoSerializer.html\" rel=\"nofollow noreferrer\"><em>Javadoc</em></a>, <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/auto_serialization.html\" rel=\"nofollow noreferrer\">documentation</a>; and I suspect you are) and not Spring, then it requires your application domain objects (model classes / entities) to have a default, public no-arg constructor.</p>\n<p>This flies in the face of immutable, effectively immutable and mostly immutable classes since then you cannot appropriately initialize classes using constructors, which is crucial in a highly concurrent, multi-Threaded context, like GemFire/Geode.</p>\n<p>You can see the effects of trying to use GemFire/Geode's <code>ReflectionBasedAutoSerializer</code> by enabling the &quot;gemfire&quot; profile <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">in the example test class</a> I wrote, for which the configuration is <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L110\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The test will NOT pass without the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L52-L56\" rel=\"nofollow noreferrer\">commented-out, default, public no-arg constructor</a>.</p>\n<p>When using Apache Geode <code>1.13.4</code>, I get the following error:</p>\n<pre><code>2021-11-01 11:53:08,720  WARN ode.pdx.internal.AutoSerializableManager: 274 - Class \nio.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue \nmatched with '.*' cannot be auto-serialized due to missing public no-arg constructor.\nWill attempt using Java serialization.\n</code></pre>\n<p>However, even with Java serialization (the GemFire/Geode backup serialization strategy), the test results in a failure:</p>\n<pre><code>Caused by: java.io.NotSerializableException: io.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n    at org.apache.geode.internal.InternalDataSerializer.writeSerializableObject(InternalDataSerializer.java:2184)\n    at org.apache.geode.internal.InternalDataSerializer.basicWriteObject(InternalDataSerializer.java:2058)\n    at org.apache.geode.DataSerializer.writeObject(DataSerializer.java:2839)\n    at org.apache.geode.internal.cache.CachedDeserializableFactory.calcSerializedSize(CachedDeserializableFactory.java:245)\n    ... 60 common frames omitted\n</code></pre>\n<p>Well, the <code>java.io.NotSerializableException</code> is thrown because the <code>CompositeValue</code> class (deliberately) does not implement the <code>java.io.Serialiable</code> interface.</p>\n<p>Why deliberately? Because you cannot implement <code>java.io.Serializable</code> on classes you do not own, which is true when using 3rd party libraries and their classes. Even though we own the <code>CompositeValue</code> in my case, I am making a point, because in your case, you don't own <code>Jwk</code>.</p>\n<p>So, not only can we not use (mostly/effectively) immutable classes, we also cannot rely on default serialization mechanisms baked into GemFire/Geode.</p>\n<p>Of course, we can handle this by implementing a custom <code>PdxSerializer</code>, the second strategy in the <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_high_level_steps.html\" rel=\"nofollow noreferrer\">documentation</a> (under &quot;<strong>Procedure</strong>&quot;, Step 1, &quot;<a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_serializer.html\" rel=\"nofollow noreferrer\">Serializing your Domain Object with a PdxSerializer</a>&quot;).</p>\n<p>If we again <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">change</a> the active Spring profile to &quot;gemfire-custom-pdxserializer&quot; in the example test I wrote, then the test will pass.</p>\n<p>But, it comes at a high price! See the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L112-L156\" rel=\"nofollow noreferrer\">necessary configuration</a> to make this arrangement work.</p>\n<p>In our case, we have only 1 such model / entity class to build a custom <code>PdxSerializer</code> for. However, imagine if we had hundreds of classes to handle.</p>\n<p>To make matters worse, GemFire/Geode only allows a single <code>PdxSerializer</code> to be registered with a Singleton GemFire/Geode cache, which means you can only have 1.  Now you must rely on the <a href=\"https://en.wikipedia.org/wiki/Composite_pattern\" rel=\"nofollow noreferrer\"><em>Composite Software Design Pattern</em></a> to compose multiple <code>PdxSerializers</code> necessary to handle all your application domain model types requiring serialization. While this is elegant, you must build a custom <code>PdxSerializer</code> per application model / entity type.  Of course, you could bake all type handling into 1 <code>PdxSerializer</code> implementation, but that would get ugly rather quickly!</p>\n<p>Finally, your application model / entity types could implement GemFire/Geode's <code>PdxSerializable</code> interface (<a href=\"https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/PdxSerializable.html\" rel=\"nofollow noreferrer\"><em>Javadoc</em></a>). This is no better than <code>java.io.Serializable</code> and (again) does not work for types you don't own. It also couples your application to GemFire/Geode and is why I did NOT demonstrate this approach, as it should be considered an anti-pattern.</p>\n<p>With SDG's <code>MappingPdxSerializer</code>, which SBDG's auto-configures for you (by default), you do not need to do any of the above. SBDG auto-configures PDX by default (making the SDG <code>@EnablePdx</code> annotation unnecessary) and there is no special requirement for your application domain object (model) / entity classes.</p>\n<p>However, if you have <strong>more than 1</strong> constructor in your entity class, then you will need to designate 1 constructor as the primary persistence constructor.  In the <code>CompositeValue</code> class, this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L63-L71\" rel=\"nofollow noreferrer\">constructor</a> was designated as the primary, persistence constructor using Spring Data's <code>@PersistenceConstructor</code> annotation, which SDG's <code>MappingPdxSerializer</code> takes into account when deserializing and constructing your application domain object model types.</p>\n<p>If you only have 1 constructor in your class, then you do not even need to declare the <code>@PersistenceConstructor</code> annotation on the only constructor.  That is if the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L61\" rel=\"nofollow noreferrer\">other constructor</a> in <code>CompositeValue</code> did not exist, then the <code>@PersistenceConstructor</code> annotation on this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L63-L71\" rel=\"nofollow noreferrer\">constructor</a> would not be necessary. SD[G] can figure it out.</p>\n<p>Feel free to play around with my example test for you learning purposes.</p>\n"}],"owner":{"account_id":14385183,"reputation":493,"user_id":10391394,"display_name":"Vaishnavi Killekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636106290,"creation_date":1635771371,"question_id":69797245,"body_markdown":"I&#39;m implementing caching in my Spring Boot (v2.5.2) app using `GemFire`.\r\n\r\nThe class which needs to be cached - \r\n```\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.gemfire.mapping.annotation.Region;\r\n\r\nimport com.auth0.jwk.Jwk;\r\n\r\n@Region(&quot;jwks&quot;)\r\npublic class Key {\r\n\r\n   @Id\r\n   private String id;\r\n\r\n   private Jwk jwk;\r\n\r\n   @PersistenceConstructor\r\n   public Key(String id, Jwk jwk){\r\n       this.id = id;\r\n       this.jwk = jwk;\r\n   }\r\n\r\n   // Getters and setters for variables\r\n}\r\n```\r\n\r\nI get the following error while fetching the stored entity from cache - \r\n```\r\norg.apache.geode.SerializationException : While deserializing query result with root cause\r\njava.lang.NoSuchMethodException: com.auth0.jwk.Jwk.&lt;init&gt;()\r\nat java.lang.Class.getConstructors0(Class.java:3082)\r\nat java.lang.Class.getDeclaredConstructor(Class.java:2187)\r\n...\r\n```\r\n\r\nHow can I deserialize this object when Jwk doesn&#39;t have a no-arg constructor?\r\n\r\nEdit - \r\n`build.gradle`\r\n```\r\nimplementation &#39;org.springframework.geode:spring-geode-starter&#39;\r\nimplementation &#39;org.springframework.geode:spring-data-geode&#39;\r\n```\r\nAlso, updated the constructor as per suggested answer which continues to give the same error.\r\n\r\nError causing code -\r\n```\r\nOptional&lt;Key&gt; key = this.keyRepository.findById(id);\r\n```","title":"How to deserialize com.auth0.jwk.Jwk that does not have no-arg constructor?","body":"<p>I'm implementing caching in my Spring Boot (v2.5.2) app using <code>GemFire</code>.</p>\n<p>The class which needs to be cached -</p>\n<pre><code>import org.springframework.data.annotation.Id;\nimport org.springframework.data.gemfire.mapping.annotation.Region;\n\nimport com.auth0.jwk.Jwk;\n\n@Region(&quot;jwks&quot;)\npublic class Key {\n\n   @Id\n   private String id;\n\n   private Jwk jwk;\n\n   @PersistenceConstructor\n   public Key(String id, Jwk jwk){\n       this.id = id;\n       this.jwk = jwk;\n   }\n\n   // Getters and setters for variables\n}\n</code></pre>\n<p>I get the following error while fetching the stored entity from cache -</p>\n<pre><code>org.apache.geode.SerializationException : While deserializing query result with root cause\njava.lang.NoSuchMethodException: com.auth0.jwk.Jwk.&lt;init&gt;()\nat java.lang.Class.getConstructors0(Class.java:3082)\nat java.lang.Class.getDeclaredConstructor(Class.java:2187)\n...\n</code></pre>\n<p>How can I deserialize this object when Jwk doesn't have a no-arg constructor?</p>\n<p>Edit -\n<code>build.gradle</code></p>\n<pre><code>implementation 'org.springframework.geode:spring-geode-starter'\nimplementation 'org.springframework.geode:spring-data-geode'\n</code></pre>\n<p>Also, updated the constructor as per suggested answer which continues to give the same error.</p>\n<p>Error causing code -</p>\n<pre><code>Optional&lt;Key&gt; key = this.keyRepository.findById(id);\n</code></pre>\n"},{"tags":["java","google-calendar-api","google-contacts-api"],"comments":[{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586184042,"post_id":61050432,"comment_id":108027556,"body_markdown":"What steps from the link you provided are you talking about? It seems completely irrelevant to your code.","body":"What steps from the link you provided are you talking about? It seems completely irrelevant to your code."},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586203279,"post_id":61050432,"comment_id":108037776,"body_markdown":"Hi. Create a Servirce Account and Delegating domain-wide authority to the service account (here is more about https://developers.google.com/calendar/auth) . This are required before use the client API . \n\nCredential credential = ModuloCalendarSalud.authorize();\nclient = new com.google.api.services.calendar.Calendar.Builder(\n\t\t\t      httpTransport, JSON_FACTORY, credential  ).setApplicationName(APPLICATION_NAME).build();","body":"Hi. Create a Servirce Account and Delegating domain-wide authority to the service account (here is more about <a href=\"https://developers.google.com/calendar/auth\" rel=\"nofollow noreferrer\">developers.google.com/calendar/auth</a>) . This are required before use the client API .   Credential credential = ModuloCalendarSalud.authorize(); client = new com.google.api.services.calendar.Calendar.Builder( \t\t\t      httpTransport, JSON_FACTORY, credential  ).setApplicationName(APPLICATION_NAME).build();"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586242815,"post_id":61050432,"comment_id":108048839,"body_markdown":"Can I ask; what are you trying to accomplish here? The only reason you need to delegate domain-wide authority to a service account it if you want to execute a task as another user on your domain. Without a full picture of what you are trying to do I am unable to understand about your situation.","body":"Can I ask; what are you trying to accomplish here? The only reason you need to delegate domain-wide authority to a service account it if you want to execute a task as another user on your domain. Without a full picture of what you are trying to do I am unable to understand about your situation."},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586284480,"post_id":61050432,"comment_id":108071227,"body_markdown":"Yes, exactly. Rafa I want to create  Calendar &#39;s Event (using Calendar API)  with a conference (hangoutMeet) using my  domain. I can create a Calendar Event (but with  hangout, not meet).","body":"Yes, exactly. Rafa I want to create  Calendar &#39;s Event (using Calendar API)  with a conference (hangoutMeet) using my  domain. I can create a Calendar Event (but with  hangout, not meet)."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586330507,"post_id":61050432,"comment_id":108085513,"body_markdown":"`Calendars: insert` doesn&#39;t create an event, it creates an entire calendar. Are you sure this is what you need to do? See the difference between [`Calendars: insert`](https://developers.google.com/calendar/v3/reference/calendars/insert) and [`Events: insert`](https://developers.google.com/calendar/v3/reference/events/insert).","body":"<code>Calendars: insert</code> doesn&#39;t create an event, it creates an entire calendar. Are you sure this is what you need to do? See the difference between <a href=\"https://developers.google.com/calendar/v3/reference/calendars/insert\" rel=\"nofollow noreferrer\"><code>Calendars: insert</code></a> and <a href=\"https://developers.google.com/calendar/v3/reference/events/insert\" rel=\"nofollow noreferrer\"><code>Events: insert</code></a>."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586330510,"post_id":61050432,"comment_id":108085515,"body_markdown":"That said, I have tried creating a calendar using the &#39;Try this API&#39; feature of the aforementioned `Calendars: insert` page and I got a return of `hangoutsMeet` with no issue. Can you please confirm if this is the same for you? (The Try this API feature can be found [here](https://developers.google.com/calendar/v3/reference/calendars/insert)).","body":"That said, I have tried creating a calendar using the &#39;Try this API&#39; feature of the aforementioned <code>Calendars: insert</code> page and I got a return of <code>hangoutsMeet</code> with no issue. Can you please confirm if this is the same for you? (The Try this API feature can be found <a href=\"https://developers.google.com/calendar/v3/reference/calendars/insert\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586348758,"post_id":61050432,"comment_id":108094671,"body_markdown":"Hi Guillermo... yes to both... first a i create a calendar (that is the code  passed before), but the calendar &quot;insert&quot; returns &quot;conferenceProperties&quot;:{&quot;allowedConferenceSolutionTypes&quot;:[&quot;eventHangout&quot;]} ... of course then i tried to create an event with &quot;hangoutsMeet&quot;, but it falil without error.  ..... second: i &quot;try  this API&quot; using the page, with Google OAuth 2.0 and it&#39;s return only hangoutMeet. It&#39;is Ok.  My problem is in the server side using Java (It is only working for hangout, not for hangoutMeet)","body":"Hi Guillermo... yes to both... first a i create a calendar (that is the code  passed before), but the calendar &quot;insert&quot; returns &quot;conferenceProperties&quot;:{&quot;allowedConferenceSolutionTypes&quot;:[&quot;e&zwnj;&#8203;ventHangout&quot;]} ... of course then i tried to create an event with &quot;hangoutsMeet&quot;, but it falil without error.  ..... second: i &quot;try  this API&quot; using the page, with Google OAuth 2.0 and it&#39;s return only hangoutMeet. It&#39;is Ok.  My problem is in the server side using Java (It is only working for hangout, not for hangoutMeet)"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586353091,"post_id":61050432,"comment_id":108097055,"body_markdown":"Just to check; are you doing this logged in as a G Suite domain user, or an `@gmail.com` account?","body":"Just to check; are you doing this logged in as a G Suite domain user, or an <code>@gmail.com</code> account?"},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586356884,"post_id":61050432,"comment_id":108099308,"body_markdown":"i am doing it, with a service account  see authorize(). and i grant  this service account in a GSuite Domian.","body":"i am doing it, with a service account  see authorize(). and i grant  this service account in a GSuite Domian."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586358223,"post_id":61050432,"comment_id":108100168,"body_markdown":"Okay, I see.  And finally to be clear, are you sure you&#39;re vreating the calendar on behalf of a user, and not as the service account itself? Are you able to view the calendar when you go to [https://calendar.google.com](https://calendar.google.com)?","body":"Okay, I see.  And finally to be clear, are you sure you&#39;re vreating the calendar on behalf of a user, and not as the service account itself? Are you able to view the calendar when you go to <a href=\"https://calendar.google.com\" rel=\"nofollow noreferrer\">https://calendar.google.com</a>?"},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586358635,"post_id":61050432,"comment_id":108100431,"body_markdown":"Now, I am creating the calendar in the service account itself.","body":"Now, I am creating the calendar in the service account itself."}],"answers":[{"tags":[],"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636106189,"creation_date":1586359796,"answer_id":61104363,"question_id":61050432,"body_markdown":"### Answer:\r\n*As Service accounts are not part of your domain, they can not create calendars that they own with a `conferenceSolution` of `hangoutsMeet`.*\r\n\r\n### More Information:\r\nIt took me a little while to understand this but, as per the documentation for the [`Events` resource of the Calendar API](https://developers.google.com/calendar/v3/reference/events), the conference solution types are as follows:\r\n\r\n&gt; - `&quot;eventHangout&quot;`: for Hangouts for consumers (http://hangouts.google.com)\r\n&gt;\r\n&gt; - `&quot;eventNamedHangout&quot;`: for classic Hangouts ***for G Suite users*** (http://hangouts.google.com)\r\n&gt;\r\n&gt; - `&quot;hangoutsMeet&quot;`: for Hangouts Meet (http://meet.google.com)\r\n&gt;\r\n&gt; - `&quot;addOn&quot;`: for 3P conference providers\r\n\r\nAnd from the [Google Cloud Service Account documentation](https://cloud.google.com/iam/docs/service-accounts):\r\n\r\n&gt; Service accounts are **not** members of your G Suite domain, unlike user accounts. For example, if you share assets with all members in your G Suite domain, they will not be shared with service accounts. Similarly, any assets created by a service account cannot be owned or managed by G Suite admins.\r\n\r\nWhat you&#39;re experiencing is a result of this: a Service Account is not part of your domain, and therefore can not create a calendar ***for itself*** that has the `hangoutsMeet` value for the Conference Solution Type. \r\n\r\nIf you wish the Calendar to have this conference solution type, you must create the calendar such that it is owned by a member of your G Suite domain; that is to say, **have the service account create a calendar impersonating as a member of your G Suite domain.**\r\n\r\nThe reason you are getting the correct result from the `Try this API` feature of `Calendars: insert` is because the API call is being authorised as you - a G Suite domain user.\r\n\r\n### Building the Service Account credentials:\r\nWhen you&#39;re doing your authentication you need to set the user that you wish to impersonate before building:\r\n```lang-java\r\nGoogleCredential.Builder b = new GoogleCredential.Builder()\r\n .setTransport(httpTransport)\r\n .setJsonFactory(jacksonFactory)\r\n .setServiceAccountId(serviceAccountId)\r\n .setServiceAccountPrivateKey(yourPrivateKey)\r\n .setServiceAccountScopes(scopes)\r\n //the user whom you want to impersonate here:\r\n .setServiceAccountUser(email-to-impersonate);\r\n\r\ncredential = b.build();\r\n\r\nreturn credential;\r\n```\r\nOr with pk12 file:\r\n```lang-java\r\nGoogleCredential.Builder b = new GoogleCredential.Builder()\r\n .setTransport(httpTransport)\r\n .setJsonFactory(jsonFactory)\r\n .setServiceAccountId(serviceAccountId)\r\n .setServiceAccountPrivateKeyFromP12File(pk12)\r\n .setServiceAccountScopes(scopes)\r\n //the user whom you want to impersonate here:\r\n .setServiceAccountUser(email-to-impersonate);\r\n\r\ncredential = b.build();\r\n\r\nreturn credential;\r\n```\r\n\r\n\r\n### References:\r\n\r\n- [`Calendars: insert` | Google Calendar API | Google Developers](https://developers.google.com/calendar/v3/reference/calendars/insert)\r\n- [Events | Calendar API | Google Developers](https://developers.google.com/calendar/v3/reference/events)\r\n- [Understanding service accounts | Cloud IAM Documentation](https://cloud.google.com/iam/docs/understanding-service-accounts)\r\n- [Service accounts | Cloud IAM Documentation | Google Cloud](https://cloud.google.com/iam/docs/service-accounts)","title":"Can&#39;t create a hangoutsMeet with calendar API using Java","body":"<h3>Answer:</h3>\n<p><em>As Service accounts are not part of your domain, they can not create calendars that they own with a <code>conferenceSolution</code> of <code>hangoutsMeet</code>.</em></p>\n<h3>More Information:</h3>\n<p>It took me a little while to understand this but, as per the documentation for the <a href=\"https://developers.google.com/calendar/v3/reference/events\" rel=\"nofollow noreferrer\"><code>Events</code> resource of the Calendar API</a>, the conference solution types are as follows:</p>\n<blockquote>\n<ul>\n<li><p><code>&quot;eventHangout&quot;</code>: for Hangouts for consumers (<a href=\"http://hangouts.google.com\" rel=\"nofollow noreferrer\">http://hangouts.google.com</a>)</p>\n</li>\n<li><p><code>&quot;eventNamedHangout&quot;</code>: for classic Hangouts <em><strong>for G Suite users</strong></em> (<a href=\"http://hangouts.google.com\" rel=\"nofollow noreferrer\">http://hangouts.google.com</a>)</p>\n</li>\n<li><p><code>&quot;hangoutsMeet&quot;</code>: for Hangouts Meet (<a href=\"http://meet.google.com\" rel=\"nofollow noreferrer\">http://meet.google.com</a>)</p>\n</li>\n<li><p><code>&quot;addOn&quot;</code>: for 3P conference providers</p>\n</li>\n</ul>\n</blockquote>\n<p>And from the <a href=\"https://cloud.google.com/iam/docs/service-accounts\" rel=\"nofollow noreferrer\">Google Cloud Service Account documentation</a>:</p>\n<blockquote>\n<p>Service accounts are <strong>not</strong> members of your G Suite domain, unlike user accounts. For example, if you share assets with all members in your G Suite domain, they will not be shared with service accounts. Similarly, any assets created by a service account cannot be owned or managed by G Suite admins.</p>\n</blockquote>\n<p>What you're experiencing is a result of this: a Service Account is not part of your domain, and therefore can not create a calendar <em><strong>for itself</strong></em> that has the <code>hangoutsMeet</code> value for the Conference Solution Type.</p>\n<p>If you wish the Calendar to have this conference solution type, you must create the calendar such that it is owned by a member of your G Suite domain; that is to say, <strong>have the service account create a calendar impersonating as a member of your G Suite domain.</strong></p>\n<p>The reason you are getting the correct result from the <code>Try this API</code> feature of <code>Calendars: insert</code> is because the API call is being authorised as you - a G Suite domain user.</p>\n<h3>Building the Service Account credentials:</h3>\n<p>When you're doing your authentication you need to set the user that you wish to impersonate before building:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GoogleCredential.Builder b = new GoogleCredential.Builder()\n .setTransport(httpTransport)\n .setJsonFactory(jacksonFactory)\n .setServiceAccountId(serviceAccountId)\n .setServiceAccountPrivateKey(yourPrivateKey)\n .setServiceAccountScopes(scopes)\n //the user whom you want to impersonate here:\n .setServiceAccountUser(email-to-impersonate);\n\ncredential = b.build();\n\nreturn credential;\n</code></pre>\n<p>Or with pk12 file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GoogleCredential.Builder b = new GoogleCredential.Builder()\n .setTransport(httpTransport)\n .setJsonFactory(jsonFactory)\n .setServiceAccountId(serviceAccountId)\n .setServiceAccountPrivateKeyFromP12File(pk12)\n .setServiceAccountScopes(scopes)\n //the user whom you want to impersonate here:\n .setServiceAccountUser(email-to-impersonate);\n\ncredential = b.build();\n\nreturn credential;\n</code></pre>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/calendar/v3/reference/calendars/insert\" rel=\"nofollow noreferrer\"><code>Calendars: insert</code> | Google Calendar API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/calendar/v3/reference/events\" rel=\"nofollow noreferrer\">Events | Calendar API | Google Developers</a></li>\n<li><a href=\"https://cloud.google.com/iam/docs/understanding-service-accounts\" rel=\"nofollow noreferrer\">Understanding service accounts | Cloud IAM Documentation</a></li>\n<li><a href=\"https://cloud.google.com/iam/docs/service-accounts\" rel=\"nofollow noreferrer\">Service accounts | Cloud IAM Documentation | Google Cloud</a></li>\n</ul>\n"}],"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636106189,"creation_date":1586126037,"question_id":61050432,"body_markdown":"here is the code.\r\n```\r\nprivate static Credential authorize() throws Exception {\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n    InputStream in = ModuloCalendar.class.getResourceAsStream(&quot;quickstart-1585944958709-f0acf97c5fa8.json&quot;);  \r\n\t  \r\n    Collection&lt;String&gt; scopes  = CalendarScopes.all();\r\n\t  \r\n    GoogleCredential credential = GoogleCredential.fromStream(in).createScopes(scopes);\r\n    return credential;\r\n}\r\n```\r\n\r\n```\r\nCalendar entry = new Calendar();\r\nentry.setSummary(descripcion);\r\n\r\nConferenceProperties conferenceProperties=new ConferenceProperties();\r\n\r\nList&lt;String&gt; allowedConferenceSolutionTypes = new ArrayList&lt;String&gt;();\r\n\r\nallowedConferenceSolutionTypes.add(&quot;hangoutsMeet&quot;);\r\n\r\nconferenceProperties.setAllowedConferenceSolutionTypes(allowedConferenceSolutionTypes);\r\n\r\nentry.setConferenceProperties(conferenceProperties);\r\nView.display(entry);\r\n\r\nCalendar result = client.calendars().insert(entry).execute();\r\nView.display(result);\r\n```\r\n\r\nI have done steps on https://developers.google.com/identity/protocols/oauth2/service-account\r\n\r\nit create the calendar, but it&#39;s always return \r\n`&quot;allowedConferenceSolutionTypes&quot;:[&quot;eventHangout&quot;]`\r\n\r\nNot `hangoutsMeet`\r\n","title":"Can&#39;t create a hangoutsMeet with calendar API using Java","body":"<p>here is the code.</p>\n\n<pre><code>private static Credential authorize() throws Exception {\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n    InputStream in = ModuloCalendar.class.getResourceAsStream(\"quickstart-1585944958709-f0acf97c5fa8.json\");  \n\n    Collection&lt;String&gt; scopes  = CalendarScopes.all();\n\n    GoogleCredential credential = GoogleCredential.fromStream(in).createScopes(scopes);\n    return credential;\n}\n</code></pre>\n\n<pre><code>Calendar entry = new Calendar();\nentry.setSummary(descripcion);\n\nConferenceProperties conferenceProperties=new ConferenceProperties();\n\nList&lt;String&gt; allowedConferenceSolutionTypes = new ArrayList&lt;String&gt;();\n\nallowedConferenceSolutionTypes.add(\"hangoutsMeet\");\n\nconferenceProperties.setAllowedConferenceSolutionTypes(allowedConferenceSolutionTypes);\n\nentry.setConferenceProperties(conferenceProperties);\nView.display(entry);\n\nCalendar result = client.calendars().insert(entry).execute();\nView.display(result);\n</code></pre>\n\n<p>I have done steps on <a href=\"https://developers.google.com/identity/protocols/oauth2/service-account\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/protocols/oauth2/service-account</a></p>\n\n<p>it create the calendar, but it's always return \n<code>\"allowedConferenceSolutionTypes\":[\"eventHangout\"]</code></p>\n\n<p>Not <code>hangoutsMeet</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8114,"page":1878,"page_size":100}
