{"items":[{"tags":["java","maven","gitlab-ci","gitlab-ci-runner"],"comments":[{"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"score":0,"creation_date":1505740876,"post_id":45770980,"comment_id":79523631,"body_markdown":"I struggle one level bellow, could you tell me how you point settings.xml with credentials and profiles to maven:3-jdk-8 image? or if you could provide some link, thx a lot. I am going to achieve same as you.","body":"I struggle one level bellow, could you tell me how you point settings.xml with credentials and profiles to maven:3-jdk-8 image? or if you could provide some link, thx a lot. I am going to achieve same as you."},{"owner":{"account_id":1140339,"reputation":1503,"user_id":1124447,"accept_rate":45,"display_name":"vimal prakash"},"score":0,"creation_date":1505756095,"post_id":45770980,"comment_id":79533306,"body_markdown":"@kensai I added the Group Level variable and stored over there.","body":"@kensai I added the Group Level variable and stored over there."}],"answers":[{"tags":[],"owner":{"account_id":1079942,"reputation":61,"user_id":9023251,"display_name":"Alexey Khisamutdinov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1511920577,"creation_date":1511920577,"answer_id":47543822,"question_id":45770980,"body_markdown":"I have the following job for releasing an artifact:\r\n\r\n    Release Maven:\r\n      stage: release\r\n      image: maven:3-jdk-8\r\n      script:\r\n        - git checkout master\r\n        - git reset --hard &quot;origin/master&quot;\r\n        # Gitlab clones as HTTPS and there&#39;s no plan to support SSH\r\n        # The SSH key needed is built into the custom Maven image\r\n        - git remote set-url origin $SSH_GIT_URL\r\n        - mvn --batch-mode clean release:prepare release:perform -Dresume=false -DautoVersionSubmodules=true -DdryRun=false -Dmaven.test.skip=true -DskipITs -DscmCommentPrefix=&quot;[ci skip]&quot;\r\n\r\nThe main attribute here is `-DscmCommentPrefix=&quot;[ci skip]&quot;` - this creates a commit message with a prefix, that prevents the gitlab-ci from starting a new pipeline","title":"How to configure gitlab ci + nexus release for Maven projects","body":"<p>I have the following job for releasing an artifact:</p>\n\n<pre><code>Release Maven:\n  stage: release\n  image: maven:3-jdk-8\n  script:\n    - git checkout master\n    - git reset --hard \"origin/master\"\n    # Gitlab clones as HTTPS and there's no plan to support SSH\n    # The SSH key needed is built into the custom Maven image\n    - git remote set-url origin $SSH_GIT_URL\n    - mvn --batch-mode clean release:prepare release:perform -Dresume=false -DautoVersionSubmodules=true -DdryRun=false -Dmaven.test.skip=true -DskipITs -DscmCommentPrefix=\"[ci skip]\"\n</code></pre>\n\n<p>The main attribute here is <code>-DscmCommentPrefix=\"[ci skip]\"</code> - this creates a commit message with a prefix, that prevents the gitlab-ci from starting a new pipeline</p>\n"},{"tags":[],"owner":{"account_id":7997113,"reputation":51,"user_id":6033045,"display_name":"S. Toledano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663086325,"creation_date":1540369879,"answer_id":52964320,"question_id":45770980,"body_markdown":"You can use gitlab ci *except variables*:\r\n\r\n    release:\r\n      stage: release\r\n      only:\r\n        - /^(release|RELEASE).*/\r\n      except:\r\n         variables:\r\n            - $CI_COMMIT_MESSAGE =~ /maven-release-plugin/\r\n      script:\r\n        - git checkout -B &quot;$CI_COMMIT_REF_NAME&quot;\r\n        - mvn -B release:prepare ...\r\n\r\n\r\nMore info about variables: https://docs.gitlab.com/ee/ci/variables/","title":"How to configure gitlab ci + nexus release for Maven projects","body":"<p>You can use gitlab ci <em>except variables</em>:</p>\n<pre><code>release:\n  stage: release\n  only:\n    - /^(release|RELEASE).*/\n  except:\n     variables:\n        - $CI_COMMIT_MESSAGE =~ /maven-release-plugin/\n  script:\n    - git checkout -B &quot;$CI_COMMIT_REF_NAME&quot;\n    - mvn -B release:prepare ...\n</code></pre>\n<p>More info about variables: <a href=\"https://docs.gitlab.com/ee/ci/variables/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/ci/variables/</a></p>\n"}],"owner":{"account_id":1140339,"reputation":1503,"user_id":1124447,"accept_rate":45,"display_name":"vimal prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8880,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1663086325,"creation_date":1503142032,"question_id":45770980,"body_markdown":"Hi I started using the gitlab ci for my CI and CD. I am using Nexus for storing my jar and wars. \r\n\r\ngitlab config\r\n\r\n    stages:\r\n        - build\r\n        - package\r\n        \r\n    \r\n    services:\r\n        - name: mongo:3.2.4\r\n          alias: mongodb\r\n    \r\n            \r\n    variables:\r\n        mongodb_hosts: &quot;mongodb&quot;\r\n            \r\n    build_maven:\r\n        image: maven:3-jdk-8\r\n        stage: build\r\n        script:\r\n            - echo $pwd\r\n            - &quot;./docker/wait-for-it.sh mongodb:27107 -t 30 -- git checkout master &amp;&amp; mvn -B -Dresume=false release:prepare release:perform&quot;\r\n            \r\n        artifacts:\r\n            paths:\r\n                - target/*.jar\r\n        only:\r\n            - master\r\n\r\nThis works fine, But it triggers the build circular way. Because I am using maven release plugin for release maven artefacts. \r\n\r\nThe release plugin changes the changes the snapshot and commits back to gitlab again. in that time git lab triggers builds again, so it because circular trigger. \r\n\r\nHow to handle this properly? I like to achieve the following. \r\n\r\nwhen it build the master branch, I like to release the final version to nexus and increase the version in pom file automatically like the release plugin does. \r\n\r\n\r\n","title":"How to configure gitlab ci + nexus release for Maven projects","body":"<p>Hi I started using the gitlab ci for my CI and CD. I am using Nexus for storing my jar and wars. </p>\n\n<p>gitlab config</p>\n\n<pre><code>stages:\n    - build\n    - package\n\n\nservices:\n    - name: mongo:3.2.4\n      alias: mongodb\n\n\nvariables:\n    mongodb_hosts: \"mongodb\"\n\nbuild_maven:\n    image: maven:3-jdk-8\n    stage: build\n    script:\n        - echo $pwd\n        - \"./docker/wait-for-it.sh mongodb:27107 -t 30 -- git checkout master &amp;&amp; mvn -B -Dresume=false release:prepare release:perform\"\n\n    artifacts:\n        paths:\n            - target/*.jar\n    only:\n        - master\n</code></pre>\n\n<p>This works fine, But it triggers the build circular way. Because I am using maven release plugin for release maven artefacts. </p>\n\n<p>The release plugin changes the changes the snapshot and commits back to gitlab again. in that time git lab triggers builds again, so it because circular trigger. </p>\n\n<p>How to handle this properly? I like to achieve the following. </p>\n\n<p>when it build the master branch, I like to release the final version to nexus and increase the version in pom file automatically like the release plugin does. </p>\n"},{"tags":["java","multithreading","executorservice","concurrent.futures"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663082846,"creation_date":1663082846,"answer_id":73705610,"question_id":73705480,"body_markdown":"The first is better from human point of view:\r\n- Task 1 and Task 2 are equivalent tasks\r\n- Both are executed as secondary tasks \r\n- You explicitly define the order of threads to wait \r\n\r\nThe second is better from jvm point of view:\r\n- There is just one external thread added to the main thread (instead of 2)\r\n- You wait only for the second result \r\n\r\nBut generally over optimize the code is not a good idea if the resulting code is less human readable. My tip is: \r\n\r\n&gt; Don&#39;t optimize the code if not needed. ","title":"Right way to execute 2 independent tasks in Java","body":"<p>The first is better from human point of view:</p>\n<ul>\n<li>Task 1 and Task 2 are equivalent tasks</li>\n<li>Both are executed as secondary tasks</li>\n<li>You explicitly define the order of threads to wait</li>\n</ul>\n<p>The second is better from jvm point of view:</p>\n<ul>\n<li>There is just one external thread added to the main thread (instead of 2)</li>\n<li>You wait only for the second result</li>\n</ul>\n<p>But generally over optimize the code is not a good idea if the resulting code is less human readable. My tip is:</p>\n<blockquote>\n<p>Don't optimize the code if not needed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663086145,"creation_date":1663086145,"answer_id":73706336,"question_id":73705480,"body_markdown":"I would think method 1 is preferable. You are kicking off both tasks, then telling the compiler that you have nothing else to do until both tasks complete. Once both tasks are complete you can proceed. You leave any decisions/optimisations on how to run the tasks to the JVM which is best positioned to make those decisions. \r\n\r\nI would suspect that there is little difference with respect to threads, processing time, etc. to either approach once the code is compiled and optimised by the JVM - the &#39;work&#39; to be done is the same either way.","title":"Right way to execute 2 independent tasks in Java","body":"<p>I would think method 1 is preferable. You are kicking off both tasks, then telling the compiler that you have nothing else to do until both tasks complete. Once both tasks are complete you can proceed. You leave any decisions/optimisations on how to run the tasks to the JVM which is best positioned to make those decisions.</p>\n<p>I would suspect that there is little difference with respect to threads, processing time, etc. to either approach once the code is compiled and optimised by the JVM - the 'work' to be done is the same either way.</p>\n"}],"owner":{"account_id":3976529,"reputation":1,"user_id":3279587,"display_name":"jarvis_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663086145,"creation_date":1663082372,"question_id":73705480,"body_markdown":"I have 2 independent tasks to execute. I need the result of Task1 first followed by task2. \r\n\r\nWhich of the below 2 ways is better in terms of number of threads and performance(if at all) and why ?\r\nWill there be any performance difference between the 2 methods ? \r\n\r\nMethod1:\r\n```\r\n1. Execute Task1 &amp; Task2 asynchronously by submitting them to ExecutorService\r\n2. Get the results by calling future1.get() followed future2.get()\r\n```\r\n\r\nMethod2:\r\n```\r\n1. Execute task2 asynchronously by submitting it to ExecutorService.\r\n2. Execute Task1 on main thread\r\n3. Get the result of task2 by calling future2.get()\r\n```","title":"Right way to execute 2 independent tasks in Java","body":"<p>I have 2 independent tasks to execute. I need the result of Task1 first followed by task2.</p>\n<p>Which of the below 2 ways is better in terms of number of threads and performance(if at all) and why ?\nWill there be any performance difference between the 2 methods ?</p>\n<p>Method1:</p>\n<pre><code>1. Execute Task1 &amp; Task2 asynchronously by submitting them to ExecutorService\n2. Get the results by calling future1.get() followed future2.get()\n</code></pre>\n<p>Method2:</p>\n<pre><code>1. Execute task2 asynchronously by submitting it to ExecutorService.\n2. Execute Task1 on main thread\n3. Get the result of task2 by calling future2.get()\n</code></pre>\n"},{"tags":["java","azure-functions","azure-functions-runtime","azure-functions-core-tools"],"comments":[{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1663074281,"post_id":73700394,"comment_id":130149702,"body_markdown":"try uninstall and install again of Azure Function Core tools. Also, if you are connected to corp network, disconnect and try on home or private network, similar [issue](https://github.com/microsoft/vscode-azurefunctions/issues/1731)","body":"try uninstall and install again of Azure Function Core tools. Also, if you are connected to corp network, disconnect and try on home or private network, similar <a href=\"https://github.com/microsoft/vscode-azurefunctions/issues/1731\" rel=\"nofollow noreferrer\">issue</a>"}],"answers":[{"tags":[],"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663085529,"creation_date":1663085529,"answer_id":73706210,"question_id":73700394,"body_markdown":"- This might be the known bug in the azure function extension bundle. So a work around for that, in your project remove the following code from the `host.json` file \r\n```\r\n&quot;extensionBundle&quot;: {\r\n\r\n&quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n\r\n&quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\r\n\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n- Then restart the project with the following command \r\n```\r\n mvn -e  azure-functions:run\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nRefer the work around given in this [question](https://stackoverflow.com/questions/65410908/local-debug-azure-function-fail-with-error-value-cannot-be-null-parameter-p#:~:text=in%20the%20host.json%20as%20a%20workaround.) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/46pW0.png\r\n  [2]: https://i.stack.imgur.com/5kLAi.png","title":"Java Azure Functions throws error during running locally - A host error has occurred during startup operation","body":"<ul>\n<li>This might be the known bug in the azure function extension bundle. So a work around for that, in your project remove the following code from the <code>host.json</code> file</li>\n</ul>\n<pre><code>&quot;extensionBundle&quot;: {\n\n&quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n\n&quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/46pW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/46pW0.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Then restart the project with the following command</li>\n</ul>\n<pre><code> mvn -e  azure-functions:run\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5kLAi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5kLAi.png\" alt=\"enter image description here\" /></a></p>\n<p>Refer the work around given in this <a href=\"https://stackoverflow.com/questions/65410908/local-debug-azure-function-fail-with-error-value-cannot-be-null-parameter-p#:%7E:text=in%20the%20host.json%20as%20a%20workaround.\">question</a></p>\n"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73706210,"answer_count":1,"score":0,"last_activity_date":1663085529,"creation_date":1663060439,"question_id":73700394,"body_markdown":"I have created a azure function in java created Using Command line by following below given Microsoft guide https://docs.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java\r\n\r\nI have followed all the steps, but while running function locally using command as attached in below screenshot.\r\n[![Running function locally][1]][1]\r\n\r\nI am getting the following error:\r\n\r\n[![error][2]][2]\r\n\r\nAnyone please help me in resolving the above error to run the azure function locally.\r\n\r\nThanks &amp; Regards,\r\nPreethi H R\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qzI2b.png\r\n  [2]: https://i.stack.imgur.com/FSldL.png","title":"Java Azure Functions throws error during running locally - A host error has occurred during startup operation","body":"<p>I have created a azure function in java created Using Command line by following below given Microsoft guide <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java</a></p>\n<p>I have followed all the steps, but while running function locally using command as attached in below screenshot.\n<a href=\"https://i.stack.imgur.com/qzI2b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzI2b.png\" alt=\"Running function locally\" /></a></p>\n<p>I am getting the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/FSldL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FSldL.png\" alt=\"error\" /></a></p>\n<p>Anyone please help me in resolving the above error to run the azure function locally.</p>\n<p>Thanks &amp; Regards,\nPreethi H R</p>\n"},{"tags":["java","sql-server","error-handling"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1663083680,"post_id":73705766,"comment_id":130153753,"body_markdown":"Include the actual application code you are running (in Tomcat).","body":"Include the actual application code you are running (in Tomcat)."},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1663084043,"post_id":73705766,"comment_id":130153892,"body_markdown":"Thanks @Larnu. I added the Java code run from Tomcat","body":"Thanks @Larnu. I added the Java code run from Tomcat"},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1663084044,"post_id":73705766,"comment_id":130153893,"body_markdown":"What&#39;s your connection string/settings for Tomcat? Do you have `autocommit` on or off?","body":"What&#39;s your connection string/settings for Tomcat? Do you have <code>autocommit</code> on or off?"},{"owner":{"account_id":7689132,"reputation":7040,"user_id":5825963,"accept_rate":82,"display_name":"George Menoutis"},"score":0,"creation_date":1663084263,"post_id":73705766,"comment_id":130153969,"body_markdown":"Fire up the profiler","body":"Fire up the profiler"},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1663084302,"post_id":73705766,"comment_id":130153981,"body_markdown":"Thanks @Charlieface. I added more of the Java code. `autocommit` is off.","body":"Thanks @Charlieface. I added more of the Java code. <code>autocommit</code> is off."},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":3,"creation_date":1663084340,"post_id":73705766,"comment_id":130153996,"body_markdown":"Set `autocommit` to on, then it will work the same as SSMS","body":"Set <code>autocommit</code> to on, then it will work the same as SSMS"},{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1663084491,"post_id":73705766,"comment_id":130154060,"body_markdown":"If `autocommit` is off, where are you committing the changes?","body":"If <code>autocommit</code> is off, where are you committing the changes?"},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1663084935,"post_id":73705766,"comment_id":130154221,"body_markdown":"@Larnu. I have added more Java code to show where I am committing the changes.","body":"@Larnu. I have added more Java code to show where I am committing the changes."},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1663085144,"post_id":73705766,"comment_id":130154314,"body_markdown":"@Charlieface. Thanks. You have answered my original question. If you post this as an answer I will accept it. As a follow-up, is there any SQL code that I could add to the TSQL which will commit despite being called with `autocommit` being off?","body":"@Charlieface. Thanks. You have answered my original question. If you post this as an answer I will accept it. As a follow-up, is there any SQL code that I could add to the TSQL which will commit despite being called with <code>autocommit</code> being off?"}],"answers":[{"tags":[],"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663085488,"creation_date":1663085488,"answer_id":73706192,"question_id":73705766,"body_markdown":"This is caused by the fact that `auto_commit` is set to off, which means that the driver executes the command [`SET IMPLICIT_TRANSACTIONS ON;`][1]\r\n\r\nYou can see this in action in [this fiddle][2].\r\n\r\nTo get around it, you can explicitly rollback the original transaction first. You should also ideally use `XACT_ABORT` to prevent hanging transactions, and use `THROW;` to rethrow the original error.\r\n```tsql\r\nCREATE PROCEDURE MyPROC\r\nAS\r\nBEGIN\r\n    SET XACT_ABORT ON;\r\n\r\n    BEGIN TRY\r\n        SELECT 1/0;\r\n    END TRY\r\n    BEGIN CATCH\r\n        IF @@TRANCOUNT &gt; 0\r\n            ROLLBACK;\r\n\r\n        UPDATE error_log SET error_desc = &#39;test&#39;;\r\n\r\n        THROW;  -- only if you want the error to propagate back to Tomcat\r\n    END CATCH;\r\nEND;\r\n```\r\nTo be brutally honest, I do not recommend using `BEGIN CATCH` to log errors, as not all errors are catchable. Instead, use the SQL Server error log, or an XEvent session, to log errors.\r\n\r\n\r\n  [1]: https://docs.microsoft.com/en-us/sql/t-sql/statements/set-implicit-transactions-transact-sql?view=sql-server-ver16\r\n  [2]: https://dbfiddle.uk/-ter_Nfi","title":"Why does TRY CATCH successfully update rows on SSMS but not when run from Tomcat application?","body":"<p>This is caused by the fact that <code>auto_commit</code> is set to off, which means that the driver executes the command <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/statements/set-implicit-transactions-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>SET IMPLICIT_TRANSACTIONS ON;</code></a></p>\n<p>You can see this in action in <a href=\"https://dbfiddle.uk/-ter_Nfi\" rel=\"nofollow noreferrer\">this fiddle</a>.</p>\n<p>To get around it, you can explicitly rollback the original transaction first. You should also ideally use <code>XACT_ABORT</code> to prevent hanging transactions, and use <code>THROW;</code> to rethrow the original error.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE PROCEDURE MyPROC\nAS\nBEGIN\n    SET XACT_ABORT ON;\n\n    BEGIN TRY\n        SELECT 1/0;\n    END TRY\n    BEGIN CATCH\n        IF @@TRANCOUNT &gt; 0\n            ROLLBACK;\n\n        UPDATE error_log SET error_desc = 'test';\n\n        THROW;  -- only if you want the error to propagate back to Tomcat\n    END CATCH;\nEND;\n</code></pre>\n<p>To be brutally honest, I do not recommend using <code>BEGIN CATCH</code> to log errors, as not all errors are catchable. Instead, use the SQL Server error log, or an XEvent session, to log errors.</p>\n"}],"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73706192,"answer_count":1,"score":1,"last_activity_date":1663085488,"creation_date":1663083521,"question_id":73705766,"body_markdown":"I have a TSQL procedure, on SQL for Azure. Here is a minimal reproducible example.\r\n\r\n    CREATE PROCEDURE MyPROC\r\n    AS\r\n    BEGIN\r\n    \tBEGIN TRY\r\n    \t\tSELECT 1/0\r\n    \tEND TRY\r\n    \tBEGIN CATCH\r\n    \t\tUPDATE error_log SET error_desc=&#39;test&#39;\r\n    \tEND CATCH\r\n    END\r\n\r\nWhen run directly from SSMS, then `error_log` is successfully updated.\r\n\r\nWhen run from my Tomcat application (using the Tomcat user) then the procedure is executed but `error_log` is not updated.\r\n\r\nTomcat executes the procedure using the following Java code\r\n        \r\n        DBConnection dbConn  = DBConnection.getInstance();\r\n\t\tConnection conn = null;\r\n\t\ttry {\r\n\t\t\tconn = dbConn.getConnection();\r\n\t\t\tconn.setAutoCommit(false);\r\n            CallableStatement stmt = conn.prepareCall(&quot;{CALL MyPROC}&quot;);\r\n            stmt.execute();\r\n            result = stmt.getInt(fields.size());\r\n            if (result == DBProcedures.RESULT_FAILED) { // error\r\n\t\t\t\tconn.rollback();\r\n\t\t\t} else { // ok\r\n\t\t\t\tconn.commit();\r\n\t\t\t}\r\n\t\t} catch (SQLException e) {\r\n\t\t\tresult = DBProcedures.RESULT_FAILED;\r\n\t\t\ttry {\r\n\t\t\t\tconn.rollback();\r\n\t\t\t} catch (SQLException e1) {\r\n\t\t\t\tSystem.out.println(&quot;Exception on &quot; + this.toString() + &quot; &quot; + e.toString());\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Exception on &quot; + this.toString() + &quot; &quot; + e.toString());\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tconn.setAutoCommit(true);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\tSystem.out.println(&quot;Exception on &quot; + this.toString() + &quot; &quot; + e.toString());\r\n\t\t\t}\r\n\t\t\tdbConn.returnConnection(conn);\r\n\t\t}\r\n\r\nI have checked that the Tomcat user has permissions on the `error_log` table.\r\n\r\nWhat am I missing? I understand that [not all errors are caught by `TRY CATCH`][1]  and I understand that sometimes the transaction [cannot execute any Transact-SQL statements][2] that would generate a write operation. However my example does not seem to fall under either of these two categories. Further it does work under SSMS.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15092479/try-and-catch-on-tsql-catch-not-catching\r\n  [2]: https://docs.microsoft.com/en-us/sql/t-sql/language-elements/try-catch-transact-sql?view=sql-server-ver16","title":"Why does TRY CATCH successfully update rows on SSMS but not when run from Tomcat application?","body":"<p>I have a TSQL procedure, on SQL for Azure. Here is a minimal reproducible example.</p>\n<pre><code>CREATE PROCEDURE MyPROC\nAS\nBEGIN\n    BEGIN TRY\n        SELECT 1/0\n    END TRY\n    BEGIN CATCH\n        UPDATE error_log SET error_desc='test'\n    END CATCH\nEND\n</code></pre>\n<p>When run directly from SSMS, then <code>error_log</code> is successfully updated.</p>\n<p>When run from my Tomcat application (using the Tomcat user) then the procedure is executed but <code>error_log</code> is not updated.</p>\n<p>Tomcat executes the procedure using the following Java code</p>\n<pre><code>    DBConnection dbConn  = DBConnection.getInstance();\n    Connection conn = null;\n    try {\n        conn = dbConn.getConnection();\n        conn.setAutoCommit(false);\n        CallableStatement stmt = conn.prepareCall(&quot;{CALL MyPROC}&quot;);\n        stmt.execute();\n        result = stmt.getInt(fields.size());\n        if (result == DBProcedures.RESULT_FAILED) { // error\n            conn.rollback();\n        } else { // ok\n            conn.commit();\n        }\n    } catch (SQLException e) {\n        result = DBProcedures.RESULT_FAILED;\n        try {\n            conn.rollback();\n        } catch (SQLException e1) {\n            System.out.println(&quot;Exception on &quot; + this.toString() + &quot; &quot; + e.toString());\n        }\n        System.out.println(&quot;Exception on &quot; + this.toString() + &quot; &quot; + e.toString());\n    } finally {\n        try {\n            conn.setAutoCommit(true);\n        } catch (SQLException e) {\n            System.out.println(&quot;Exception on &quot; + this.toString() + &quot; &quot; + e.toString());\n        }\n        dbConn.returnConnection(conn);\n    }\n</code></pre>\n<p>I have checked that the Tomcat user has permissions on the <code>error_log</code> table.</p>\n<p>What am I missing? I understand that <a href=\"https://stackoverflow.com/questions/15092479/try-and-catch-on-tsql-catch-not-catching\">not all errors are caught by <code>TRY CATCH</code></a>  and I understand that sometimes the transaction <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/language-elements/try-catch-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\">cannot execute any Transact-SQL statements</a> that would generate a write operation. However my example does not seem to fall under either of these two categories. Further it does work under SSMS.</p>\n"},{"tags":["java","swing","user-interface","look-and-feel","uimanager"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1490565973,"post_id":43034911,"comment_id":73155557,"body_markdown":"Might be out of date, but maybe [some of this](http://www.jtattoo.net/ThemeProps.html) might help","body":"Might be out of date, but maybe <a href=\"http://www.jtattoo.net/ThemeProps.html\" rel=\"nofollow noreferrer\">some of this</a> might help"}],"answers":[{"tags":[],"owner":{"account_id":4140209,"reputation":549,"user_id":3395778,"accept_rate":100,"display_name":"AndreaTaroni86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663085451,"creation_date":1663085451,"answer_id":73706179,"question_id":43034911,"body_markdown":"You can do it with `java.util.Properties` as follows.\r\nbefore initializing your window:\r\n\r\n    try{\r\n      Properties props = new Properties();\r\n      props.put(&quot;windowDecoration&quot;, &quot;on&quot;);\r\n      &lt;your lookandfeel&gt;.setCurrentTheme(props);\t\t\t\t\t\t \r\n      UIManager.setLookAndFeel(&lt;your lookandfeel&gt;);\r\n    }catch(Exception e){...}\r\n\r\nYou can for example use `McWinLookAndFeel` or `AluminiumLookAndFeel` as your lookandfeel, it is not specified in your example.\r\nDecorated (property on):\r\n[![enter image description here][1]][1]\r\nUndecorated (property off):\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mWfxP.png\r\n  [2]: https://i.stack.imgur.com/9KGTo.png","title":"How to undecorate JFrame while using jtattoo","body":"<p>You can do it with <code>java.util.Properties</code> as follows.\nbefore initializing your window:</p>\n<pre><code>try{\n  Properties props = new Properties();\n  props.put(&quot;windowDecoration&quot;, &quot;on&quot;);\n  &lt;your lookandfeel&gt;.setCurrentTheme(props);                         \n  UIManager.setLookAndFeel(&lt;your lookandfeel&gt;);\n}catch(Exception e){...}\n</code></pre>\n<p>You can for example use <code>McWinLookAndFeel</code> or <code>AluminiumLookAndFeel</code> as your lookandfeel, it is not specified in your example.\nDecorated (property on):\n<a href=\"https://i.stack.imgur.com/mWfxP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mWfxP.png\" alt=\"enter image description here\" /></a>\nUndecorated (property off):\n<a href=\"https://i.stack.imgur.com/9KGTo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9KGTo.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9946953,"reputation":321,"user_id":7361279,"display_name":"utopia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663085451,"creation_date":1490564548,"question_id":43034911,"body_markdown":"Although a similar question has been asked once before (https://stackoverflow.com/questions/38341856/how-to-make-frame-undecorated-after-jtattoo-theme-installed), but I&#39;m unable to follow the solution to solve the problem. I didn&#39;t find the instruction is clear enough and hence failed  many tries.\r\n\r\nI want an undecorated JFrame (and not only on fullscreen mode), but using any of the jtattoo themes unable me to do so.\r\n\r\nIs there any way I can get my JFrame to be undecorated while using a jtattoo theme?","title":"How to undecorate JFrame while using jtattoo","body":"<p>Although a similar question has been asked once before (<a href=\"https://stackoverflow.com/questions/38341856/how-to-make-frame-undecorated-after-jtattoo-theme-installed\">how to make frame undecorated after jTattoo theme installed</a>), but I'm unable to follow the solution to solve the problem. I didn't find the instruction is clear enough and hence failed  many tries.</p>\n\n<p>I want an undecorated JFrame (and not only on fullscreen mode), but using any of the jtattoo themes unable me to do so.</p>\n\n<p>Is there any way I can get my JFrame to be undecorated while using a jtattoo theme?</p>\n"},{"tags":["java","httprequest","gateway"],"answers":[{"tags":[],"owner":{"account_id":1058660,"reputation":1737,"user_id":1060779,"accept_rate":77,"display_name":"maxivis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663085394,"creation_date":1663084236,"answer_id":73705901,"question_id":73691972,"body_markdown":"Finally I made it work, the problem was with the content length of the request (keep in mind that my original request was encrypted, and the new input stream is decrypted, so the length differs). I have to overwrite the getContentLength method, and some other minor changes:\r\n\r\n    public class MyRequestWraper extends HttpServletRequestWrapper {\r\n\r\n    private byte[] content;\r\n\r\n    public MyRequestWraper(HttpServletRequest request) {\r\n        super(request);\r\n        content = decryptPayload(getRequest().getInputStream(), getRequest().getCharacterEncoding());\r\n    }\r\n\r\n    @Override\r\n\tpublic int getContentLength() {\r\n\t\tif (content != null) {\r\n\t\t\treturn content.length;\r\n\t\t}\r\n\t\treturn super.getContentLength();\r\n\t}\r\n\r\n    @Override\r\n    public ServletInputStream getInputStream() throws IOException {\r\n    try {\r\n        \r\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(content);\r\n        return new ServletInputStream(){\r\n            \r\n            @SuppressWarnings(&quot;unused&quot;)\r\n            private ReadListener readListener = null;\r\n            \r\n            @Override\r\n            public int read() throws IOException {\r\n                return byteArrayInputStream.read();\r\n            }\r\n            \r\n            @Override\r\n            public void close() throws IOException {\r\n                byteArrayInputStream.close();\r\n            }\r\n            \r\n            @Override\r\n            public int read(byte[] b, int off, int len) throws IOException {\r\n                return byteArrayInputStream.read(b, off, len);\r\n            }\r\n            \r\n            @Override\r\n            public boolean isFinished() {\r\n                return byteArrayInputStream.available() &gt; 0;\r\n            }\r\n            \r\n            @Override\r\n            public boolean isReady() {\r\n                return isFinished();\r\n            }\r\n            \r\n            @Override\r\n            public void setReadListener(ReadListener readListener) {\r\n                this.readListener = readListener;\r\n                if (!isFinished()) {\r\n                    try {\r\n                        readListener.onDataAvailable();\r\n                    } catch (IOException e) {\r\n                        readListener.onError(e);\r\n                    }\r\n                } else {\r\n                    try {\r\n                        readListener.onAllDataRead();\r\n                    } catch (IOException e) {\r\n                        readListener.onError(e);\r\n                    }\r\n                }\r\n            }\r\n            \r\n        };\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        return super.getInputStream();\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public BufferedReader getReader() throws IOException {\r\n        return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n    }\r\n    }\r\n\r\n","title":"IOException when sending request through custom HttpServletRequestWrapper","body":"<p>Finally I made it work, the problem was with the content length of the request (keep in mind that my original request was encrypted, and the new input stream is decrypted, so the length differs). I have to overwrite the getContentLength method, and some other minor changes:</p>\n<pre><code>public class MyRequestWraper extends HttpServletRequestWrapper {\n\nprivate byte[] content;\n\npublic MyRequestWraper(HttpServletRequest request) {\n    super(request);\n    content = decryptPayload(getRequest().getInputStream(), getRequest().getCharacterEncoding());\n}\n\n@Override\npublic int getContentLength() {\n    if (content != null) {\n        return content.length;\n    }\n    return super.getContentLength();\n}\n\n@Override\npublic ServletInputStream getInputStream() throws IOException {\ntry {\n    \n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(content);\n    return new ServletInputStream(){\n        \n        @SuppressWarnings(&quot;unused&quot;)\n        private ReadListener readListener = null;\n        \n        @Override\n        public int read() throws IOException {\n            return byteArrayInputStream.read();\n        }\n        \n        @Override\n        public void close() throws IOException {\n            byteArrayInputStream.close();\n        }\n        \n        @Override\n        public int read(byte[] b, int off, int len) throws IOException {\n            return byteArrayInputStream.read(b, off, len);\n        }\n        \n        @Override\n        public boolean isFinished() {\n            return byteArrayInputStream.available() &gt; 0;\n        }\n        \n        @Override\n        public boolean isReady() {\n            return isFinished();\n        }\n        \n        @Override\n        public void setReadListener(ReadListener readListener) {\n            this.readListener = readListener;\n            if (!isFinished()) {\n                try {\n                    readListener.onDataAvailable();\n                } catch (IOException e) {\n                    readListener.onError(e);\n                }\n            } else {\n                try {\n                    readListener.onAllDataRead();\n                } catch (IOException e) {\n                    readListener.onError(e);\n                }\n            }\n        }\n        \n    };\n} catch (Exception e) {\n    e.printStackTrace();\n    return super.getInputStream();\n}\n}\n\n@Override\npublic BufferedReader getReader() throws IOException {\n    return new BufferedReader(new InputStreamReader(this.getInputStream()));\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1058660,"reputation":1737,"user_id":1060779,"accept_rate":77,"display_name":"maxivis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73705901,"answer_count":1,"score":0,"last_activity_date":1663085394,"creation_date":1662997932,"question_id":73691972,"body_markdown":"I have a Gateway implementation, which redirects requests, but also I&#39;m adding a capability to decrypt the body of the received request. The thing is that I&#39;ve found a lot of answers here on SO with instructions to implement it, wrapping the original request, but in some point, I do not know why, the request get lost before reaching the target and throws an IOException (the decryption works perfectly).\r\nThis is my implementation:\r\n\r\n    public class MyRequestWraper extends HttpServletRequestWrapper {\r\n\t\r\n\tpublic MyRequestWraper(HttpServletRequest request) {\r\n\t\tsuper(request);\r\n\t}\r\n    \r\n\t@Override\r\n\tpublic ServletInputStream getInputStream() throws IOException {\r\n\t\ttry {\r\n\t\t\tString decryptedPayload = decryptPayload(getRequest().getInputStream(), getRequest().getCharacterEncoding());\r\n\t\t\t\r\n\t\t\tByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(decryptedPayload.getBytes(getRequest().getCharacterEncoding()));\r\n\t\t\treturn new ServletInputStream(){\r\n\t\t\t\t\r\n\t\t        @SuppressWarnings(&quot;unused&quot;)\r\n\t\t\t\tprivate ReadListener readListener = null;\r\n\t\t        \r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int read() throws IOException {\r\n\t\t\t\t\treturn byteArrayInputStream.read();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void close() throws IOException {\r\n\t\t\t\t\tbyteArrayInputStream.close();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int read(byte[] b, int off, int len) throws IOException {\r\n\t\t\t\t\treturn byteArrayInputStream.read(b, off, len);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean isFinished() {\r\n\t\t\t\t\treturn byteArrayInputStream.available() &gt; 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean isReady() {\r\n\t\t\t\t\treturn isFinished();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void setReadListener(ReadListener readListener) {\r\n\t\t\t\t\tthis.readListener = readListener;\r\n\t\t            if (!isFinished()) {\r\n\t\t                try {\r\n\t\t                    readListener.onDataAvailable();\r\n\t\t                } catch (IOException e) {\r\n\t\t                    readListener.onError(e);\r\n\t\t                }\r\n\t\t            } else {\r\n\t\t                try {\r\n\t\t                    readListener.onAllDataRead();\r\n\t\t                } catch (IOException e) {\r\n\t\t                    readListener.onError(e);\r\n\t\t                }\r\n\t\t            }\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn super.getInputStream();\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic BufferedReader getReader() throws IOException {\r\n\t\treturn new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n\t}\r\n    }\r\n\r\nAnd this is the exception I get:\r\n\r\n    org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: UT000128: Remote peer closed connection before all data could be read\r\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:243)\r\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:225)\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:201)\r\n\r\nThe wrapper instance is used inside a Filter implementation, so I&#39;m passing in it to the &quot;chain.doFilter&quot; (and as I said, I can see that the decryption is executed and successful). Any clue will be appreciated.\r\n\r\n**EDIT**&lt;br/&gt;\r\nAlso tried to use a `byte[]` instead of `ByteArrayInputStream` for the `getInputStream()` implementation, based on [this comment][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33836552/1060779","title":"IOException when sending request through custom HttpServletRequestWrapper","body":"<p>I have a Gateway implementation, which redirects requests, but also I'm adding a capability to decrypt the body of the received request. The thing is that I've found a lot of answers here on SO with instructions to implement it, wrapping the original request, but in some point, I do not know why, the request get lost before reaching the target and throws an IOException (the decryption works perfectly).\nThis is my implementation:</p>\n<pre><code>public class MyRequestWraper extends HttpServletRequestWrapper {\n\npublic MyRequestWraper(HttpServletRequest request) {\n    super(request);\n}\n\n@Override\npublic ServletInputStream getInputStream() throws IOException {\n    try {\n        String decryptedPayload = decryptPayload(getRequest().getInputStream(), getRequest().getCharacterEncoding());\n        \n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(decryptedPayload.getBytes(getRequest().getCharacterEncoding()));\n        return new ServletInputStream(){\n            \n            @SuppressWarnings(&quot;unused&quot;)\n            private ReadListener readListener = null;\n            \n            @Override\n            public int read() throws IOException {\n                return byteArrayInputStream.read();\n            }\n            \n            @Override\n            public void close() throws IOException {\n                byteArrayInputStream.close();\n            }\n            \n            @Override\n            public int read(byte[] b, int off, int len) throws IOException {\n                return byteArrayInputStream.read(b, off, len);\n            }\n            \n            @Override\n            public boolean isFinished() {\n                return byteArrayInputStream.available() &gt; 0;\n            }\n            \n            @Override\n            public boolean isReady() {\n                return isFinished();\n            }\n            \n            @Override\n            public void setReadListener(ReadListener readListener) {\n                this.readListener = readListener;\n                if (!isFinished()) {\n                    try {\n                        readListener.onDataAvailable();\n                    } catch (IOException e) {\n                        readListener.onError(e);\n                    }\n                } else {\n                    try {\n                        readListener.onAllDataRead();\n                    } catch (IOException e) {\n                        readListener.onError(e);\n                    }\n                }\n            }\n            \n        };\n    } catch (Exception e) {\n        e.printStackTrace();\n        return super.getInputStream();\n    }\n}\n\n@Override\npublic BufferedReader getReader() throws IOException {\n    return new BufferedReader(new InputStreamReader(this.getInputStream()));\n}\n}\n</code></pre>\n<p>And this is the exception I get:</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: UT000128: Remote peer closed connection before all data could be read\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:243)\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:225)\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:201)\n</code></pre>\n<p>The wrapper instance is used inside a Filter implementation, so I'm passing in it to the &quot;chain.doFilter&quot; (and as I said, I can see that the decryption is executed and successful). Any clue will be appreciated.</p>\n<p><strong>EDIT</strong><br/>\nAlso tried to use a <code>byte[]</code> instead of <code>ByteArrayInputStream</code> for the <code>getInputStream()</code> implementation, based on <a href=\"https://stackoverflow.com/a/33836552/1060779\">this comment</a></p>\n"},{"tags":["java","unit-testing","intellij-idea","groovy"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663085991,"post_id":73706126,"comment_id":130154648,"body_markdown":"Does [this answer](https://intellij-support.jetbrains.com/hc/en-us/community/posts/206224119-How-to-configure-new-Groovy-SDK?page=1#community_comment_360000152759) help?","body":"Does <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206224119-How-to-configure-new-Groovy-SDK?page=1#community_comment_360000152759\" rel=\"nofollow noreferrer\">this answer</a> help?"},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1663087022,"post_id":73706126,"comment_id":130154969,"body_markdown":"I am checking but the weired thing is when I go to add framework support and I tick the groovy box, then when I click ok and try to open again the add framework support I find groovy unticked, is that normal&gt;?","body":"I am checking but the weired thing is when I go to add framework support and I tick the groovy box, then when I click ok and try to open again the add framework support I find groovy unticked, is that normal&gt;?"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663087079,"post_id":73706126,"comment_id":130154990,"body_markdown":"If your project is Maven or Gradle based, the dependency should be added via pom.xml/build.gradle file instead.","body":"If your project is Maven or Gradle based, the dependency should be added via pom.xml/build.gradle file instead."},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1663088656,"post_id":73706126,"comment_id":130155534,"body_markdown":"yes it is maven based , but is there other way?other than adding it in pom?","body":"yes it is maven based , but is there other way?other than adding it in pom?"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663089627,"post_id":73706126,"comment_id":130155869,"body_markdown":"No, if your project uses Groovy, it must be added in pom.xml.","body":"No, if your project uses Groovy, it must be added in pom.xml."},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1663157654,"post_id":73706126,"comment_id":130172109,"body_markdown":"note that when I run mvn test the test runs normally, however when I right click on the unit test of the class and try to run the test it fails now with another error (groovyc internal error) , any clue?","body":"note that when I run mvn test the test runs normally, however when I right click on the unit test of the class and try to run the test it fails now with another error (groovyc internal error) , any clue?"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663168792,"post_id":73706126,"comment_id":130176861,"body_markdown":"Hard to say, if possible, please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) or contact support at https://intellij-support.jetbrains.com/hc/requests/new with the steps to reproduce this issue.","body":"Hard to say, if possible, please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> or contact support at <a href=\"https://intellij-support.jetbrains.com/hc/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/requests/new</a> with the steps to reproduce this issue."}],"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663085364,"creation_date":1663085221,"question_id":73706126,"body_markdown":"I am working on a project where unit tests are written in Groovy, when I am trying to launch the tests I am getting &quot;**Groovyc: parsing failed**&quot; error. I tried to do some few changes randomly, when I added groovy jar file in global libraries, the error disappeared but then I got another error.\r\nIt seems I should implement groovy into intellij but I&#39;m not a groovy expert, any idea what is causing these groovy errors and how to fix them?\r\n","title":"Add Groovy to IntelliJ","body":"<p>I am working on a project where unit tests are written in Groovy, when I am trying to launch the tests I am getting &quot;<strong>Groovyc: parsing failed</strong>&quot; error. I tried to do some few changes randomly, when I added groovy jar file in global libraries, the error disappeared but then I got another error.\nIt seems I should implement groovy into intellij but I'm not a groovy expert, any idea what is causing these groovy errors and how to fix them?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678888773,"post_id":73705896,"comment_id":133620391,"body_markdown":"Aside from my answer, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-realtime-database-using-jetpack-compose-bd49084c8fd4) will help. Here is the corresponding [repo](https://github.com/alexmamo/RealtimeDatabasePaginationJetpackCompose).","body":"Aside from my answer, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-realtime-database-using-jetpack-compose-bd49084c8fd4\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/RealtimeDatabasePaginationJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663085358,"creation_date":1663085358,"answer_id":73706150,"question_id":73705896,"body_markdown":"&gt; But it&#39;s too time-consuming to read all 20,000 messages at a time.\r\n\r\n20,000 messages can be considered a lot of data. So I strongly recommend against loading such an amount of data in one go.\r\n\r\n&gt; What I want is, to read 30-40 messages at a time and show those to the user. When the user presses more message button, I will read another 30-40 messages and show them to users. and so on.... it would faster and more convenient.\r\n\r\nWhat you&#39;re looking for is called pagination. This means that you need to load the data progressively in smaller chunks. You need to load a group of 30-40 messages, one after another. This was already covered a lot of times before, and this question already has a lot of solutions for the Realtime Database:\r\n\r\n* https://stackoverflow.com/search?q=Firebase+Realtime+Database+Pagination+Android\r\n\r\n&gt; I also tried reference.limitToFirst(30) but it read the first 30 messages, then what do I do? How can I read the next 30 messages?\r\n\r\nI recommend you have a look at some of those questions and give it a try. If you have a hard time implementing it, then show us an [MCVE][1] with what you have tried, and this way, I and other Firebase developers can help you.\r\n\r\nHowever, if you consider at some point in time trying using [Cloud Firestore][2], I think that this answer will help:\r\n\r\n* https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\r\n\r\nIf you want to go further and try using Jetpack Compose, then I think that this resource will help:\r\n\r\n&gt; [How to implement pagination in Firestore using Jetpack Compose?][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/mcve\r\n  [2]: https://firebase.google.com/docs/firestore/\r\n  [3]: https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-firestore-using-jetpack-compose-76b4c0b5acd5","title":"Reading some of data (not all) from a Firebase database node","body":"<blockquote>\n<p>But it's too time-consuming to read all 20,000 messages at a time.</p>\n</blockquote>\n<p>20,000 messages can be considered a lot of data. So I strongly recommend against loading such an amount of data in one go.</p>\n<blockquote>\n<p>What I want is, to read 30-40 messages at a time and show those to the user. When the user presses more message button, I will read another 30-40 messages and show them to users. and so on.... it would faster and more convenient.</p>\n</blockquote>\n<p>What you're looking for is called pagination. This means that you need to load the data progressively in smaller chunks. You need to load a group of 30-40 messages, one after another. This was already covered a lot of times before, and this question already has a lot of solutions for the Realtime Database:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/search?q=Firebase+Realtime+Database+Pagination+Android\">https://stackoverflow.com/search?q=Firebase+Realtime+Database+Pagination+Android</a></li>\n</ul>\n<blockquote>\n<p>I also tried reference.limitToFirst(30) but it read the first 30 messages, then what do I do? How can I read the next 30 messages?</p>\n</blockquote>\n<p>I recommend you have a look at some of those questions and give it a try. If you have a hard time implementing it, then show us an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> with what you have tried, and this way, I and other Firebase developers can help you.</p>\n<p>However, if you consider at some point in time trying using <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, I think that this answer will help:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\">How to paginate Firestore with Android?</a></li>\n</ul>\n<p>If you want to go further and try using Jetpack Compose, then I think that this resource will help:</p>\n<blockquote>\n<p><a href=\"https://medium.com/firebase-tips-tricks/how-to-implement-pagination-in-firestore-using-jetpack-compose-76b4c0b5acd5\" rel=\"nofollow noreferrer\">How to implement pagination in Firestore using Jetpack Compose?</a></p>\n</blockquote>\n"}],"owner":{"account_id":19691930,"reputation":39,"user_id":14416687,"display_name":"Fahad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73706150,"answer_count":1,"score":0,"last_activity_date":1663085358,"creation_date":1663084206,"question_id":73705896,"body_markdown":"I&#39;m working on project in which I need to read the firebase node in this manner:\r\n\r\nSuppose I have a node `messages` in a firebase realtime database. In that node, I have `20, 000` messages. \r\nWhen a user enter in the message box, I need to show messages. But Its too time consuming to read all `20, 000` messages at a time. \r\n\r\nWhat I want it, to read `30-40` messages at a time and show those to the user. \r\nWhen user press `more message` button, I will read another `30-40` messages and show them to users. and so on.... it would faster and convenient. \r\n\r\nBut I can&#39;t find any way to make the things work like this.\r\nI tried with `ValueEventListener()`, but it reads all the data in that `messages` node and it&#39;s time consuming. I also tried `reference.limitToFirst(30)` but it read first 30 messages, then what do I do? How can I read next 30 messages? \r\n\r\n\r\nCould I have present my problem clearly? :( \r\nThanks in advance.","title":"Reading some of data (not all) from a Firebase database node","body":"<p>I'm working on project in which I need to read the firebase node in this manner:</p>\n<p>Suppose I have a node <code>messages</code> in a firebase realtime database. In that node, I have <code>20, 000</code> messages.\nWhen a user enter in the message box, I need to show messages. But Its too time consuming to read all <code>20, 000</code> messages at a time.</p>\n<p>What I want it, to read <code>30-40</code> messages at a time and show those to the user.\nWhen user press <code>more message</code> button, I will read another <code>30-40</code> messages and show them to users. and so on.... it would faster and convenient.</p>\n<p>But I can't find any way to make the things work like this.\nI tried with <code>ValueEventListener()</code>, but it reads all the data in that <code>messages</code> node and it's time consuming. I also tried <code>reference.limitToFirst(30)</code> but it read first 30 messages, then what do I do? How can I read next 30 messages?</p>\n<p>Could I have present my problem clearly? :(\nThanks in advance.</p>\n"},{"tags":["java","search","lucene","token","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":316863,"reputation":59335,"user_id":633239,"accept_rate":90,"display_name":"javanna"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1619678394,"creation_date":1351781266,"answer_id":13179545,"question_id":13178550,"body_markdown":"If you mean the tokens that have been indexed you can make a [terms facet][1] on the message field. Increase the ``size`` value in order to get more entries back, or set to ``0`` to get all terms.  \r\n\r\nLucene provides the ability to store the term vectors, but there&#39;s no way to have access to it with elasticsearch by now (as far as I know).\r\n\r\nWhy do you need that? If you only want to check what you&#39;re indexing you can have a look at the [analyze api][2].\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/app-search/current/facets.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html","title":"elasticsearch - Return the tokens of a field","body":"<p>If you mean the tokens that have been indexed you can make a <a href=\"https://www.elastic.co/guide/en/app-search/current/facets.html\" rel=\"nofollow noreferrer\">terms facet</a> on the message field. Increase the <code>size</code> value in order to get more entries back, or set to <code>0</code> to get all terms.</p>\n<p>Lucene provides the ability to store the term vectors, but there's no way to have access to it with elasticsearch by now (as far as I know).</p>\n<p>Why do you need that? If you only want to check what you're indexing you can have a look at the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html\" rel=\"nofollow noreferrer\">analyze api</a>.</p>\n"},{"tags":[],"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1607585311,"creation_date":1351789398,"answer_id":13182001,"question_id":13178550,"body_markdown":"There is also another way to do it using the following script_fields script:\r\n\r\n    curl -H &#39;Content-Type: application/json&#39; -XPOST &#39;http://localhost:9200/test-idx/_search?pretty=true&#39; -d &#39;{\r\n        &quot;query&quot; : {\r\n            &quot;match_all&quot; : { }\r\n        },\r\n        &quot;script_fields&quot;: {\r\n            &quot;terms&quot; : {\r\n                &quot;script&quot;: &quot;doc[field].values&quot;,\r\n                &quot;params&quot;: {\r\n                    &quot;field&quot;: &quot;message&quot;\r\n                }\r\n            }\r\n    \r\n        }\r\n    }&#39;\r\n\r\nIt&#39;s important to note that while this script returns the actual terms that were indexed, it also caches all field values and on large indices can use a lot of memory. So, on large indices, it might be more useful to retrieve field values from stored fields or source and reparse them again on the fly using the following MVEL script:\r\n\r\n    import org.apache.lucene.analysis.tokenattributes.CharTermAttribute;\r\n    import java.io.StringReader;\r\n\r\n    // Cache analyzer for further use\r\n    cachedAnalyzer=(isdef cachedAnalyzer)?cachedAnalyzer:doc.mapperService().documentMapper(doc._type.value).mappers().indexAnalyzer();\r\n\r\n    terms=[];\r\n    // Get value from Fields Lookup\r\n    //val=_fields[field].values;\r\n\r\n    // Get value from Source Lookup\r\n    val=_source[field];\r\n\r\n    if(val != null) {\r\n      tokenStream=cachedAnalyzer.tokenStream(field, new StringReader(val)); \r\n      CharTermAttribute termAttribute = tokenStream.addAttribute(CharTermAttribute); \r\n      while(tokenStream.incrementToken()) { \r\n        terms.add(termAttribute.toString())\r\n      }; \r\n      tokenStream.close(); \r\n    } \r\n    terms\r\n\r\n\r\nThis MVEL script can be stored as `config/scripts/analyze.mvel` and used with the following query:\r\n\r\n    curl &#39;http://localhost:9200/test-idx/_search?pretty=true&#39; -d &#39;{\r\n        &quot;query&quot; : {\r\n            &quot;match_all&quot; : { }\r\n        },\r\n        &quot;script_fields&quot;: {\r\n            &quot;terms&quot; : {\r\n                &quot;script&quot;: &quot;analyze&quot;,\r\n                &quot;params&quot;: {\r\n                    &quot;field&quot;: &quot;message&quot;\r\n                }\r\n            }\r\n        \r\n        }\r\n    }&#39;","title":"elasticsearch - Return the tokens of a field","body":"<p>There is also another way to do it using the following script_fields script:</p>\n<pre><code>curl -H 'Content-Type: application/json' -XPOST 'http://localhost:9200/test-idx/_search?pretty=true' -d '{\n    &quot;query&quot; : {\n        &quot;match_all&quot; : { }\n    },\n    &quot;script_fields&quot;: {\n        &quot;terms&quot; : {\n            &quot;script&quot;: &quot;doc[field].values&quot;,\n            &quot;params&quot;: {\n                &quot;field&quot;: &quot;message&quot;\n            }\n        }\n\n    }\n}'\n</code></pre>\n<p>It's important to note that while this script returns the actual terms that were indexed, it also caches all field values and on large indices can use a lot of memory. So, on large indices, it might be more useful to retrieve field values from stored fields or source and reparse them again on the fly using the following MVEL script:</p>\n<pre><code>import org.apache.lucene.analysis.tokenattributes.CharTermAttribute;\nimport java.io.StringReader;\n\n// Cache analyzer for further use\ncachedAnalyzer=(isdef cachedAnalyzer)?cachedAnalyzer:doc.mapperService().documentMapper(doc._type.value).mappers().indexAnalyzer();\n\nterms=[];\n// Get value from Fields Lookup\n//val=_fields[field].values;\n\n// Get value from Source Lookup\nval=_source[field];\n\nif(val != null) {\n  tokenStream=cachedAnalyzer.tokenStream(field, new StringReader(val)); \n  CharTermAttribute termAttribute = tokenStream.addAttribute(CharTermAttribute); \n  while(tokenStream.incrementToken()) { \n    terms.add(termAttribute.toString())\n  }; \n  tokenStream.close(); \n} \nterms\n</code></pre>\n<p>This MVEL script can be stored as <code>config/scripts/analyze.mvel</code> and used with the following query:</p>\n<pre><code>curl 'http://localhost:9200/test-idx/_search?pretty=true' -d '{\n    &quot;query&quot; : {\n        &quot;match_all&quot; : { }\n    },\n    &quot;script_fields&quot;: {\n        &quot;terms&quot; : {\n            &quot;script&quot;: &quot;analyze&quot;,\n            &quot;params&quot;: {\n                &quot;field&quot;: &quot;message&quot;\n            }\n        }\n    \n    }\n}'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1526451,"reputation":336,"user_id":1424765,"display_name":"F1refly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663085123,"creation_date":1663085123,"answer_id":73706101,"question_id":13178550,"body_markdown":"Nowadays, it&#39;s possible with the [Term vectors API][1]:\r\n\r\n    curl http://localhost:9200/twitter/_termvectors/1?fields=message\r\n\r\nResult:\r\n\r\n    {\r\n      &quot;_index&quot;: &quot;twitter&quot;,\r\n      &quot;_id&quot;: &quot;1&quot;,\r\n      &quot;_version&quot;: 1,\r\n      &quot;found&quot;: true,\r\n      &quot;took&quot;: 0,\r\n      &quot;term_vectors&quot;: {\r\n        &quot;message&quot;: {\r\n          &quot;field_statistics&quot;: {\r\n            &quot;sum_doc_freq&quot;: 4,\r\n            &quot;doc_count&quot;: 1,\r\n            &quot;sum_ttf&quot;: 4\r\n          },\r\n          &quot;terms&quot;: {\r\n            &quot;elastic&quot;: {\r\n              &quot;term_freq&quot;: 1,\r\n              &quot;tokens&quot;: [\r\n                {\r\n                  &quot;position&quot;: 2,\r\n                  &quot;start_offset&quot;: 11,\r\n                  &quot;end_offset&quot;: 18\r\n                }\r\n              ]\r\n            },\r\n            &quot;out&quot;: {\r\n              &quot;term_freq&quot;: 1,\r\n              &quot;tokens&quot;: [\r\n                {\r\n                  &quot;position&quot;: 1,\r\n                  &quot;start_offset&quot;: 7,\r\n                  &quot;end_offset&quot;: 10\r\n                }\r\n              ]\r\n            },\r\n            &quot;search&quot;: {\r\n              &quot;term_freq&quot;: 1,\r\n              &quot;tokens&quot;: [\r\n                {\r\n                  &quot;position&quot;: 3,\r\n                  &quot;start_offset&quot;: 19,\r\n                  &quot;end_offset&quot;: 25\r\n                }\r\n              ]\r\n            },\r\n            &quot;trying&quot;: {\r\n              &quot;term_freq&quot;: 1,\r\n              &quot;tokens&quot;: [\r\n                {\r\n                  &quot;position&quot;: 0,\r\n                  &quot;start_offset&quot;: 0,\r\n                  &quot;end_offset&quot;: 6\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nNote: Mapping types (here: tweets) have been removed in Elasticsearch 8.x (see [migration guide][2]).\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/7.17/removal-of-types.html#_why_are_mapping_types_being_removed","title":"elasticsearch - Return the tokens of a field","body":"<p>Nowadays, it's possible with the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html\" rel=\"nofollow noreferrer\">Term vectors API</a>:</p>\n<pre><code>curl http://localhost:9200/twitter/_termvectors/1?fields=message\n</code></pre>\n<p>Result:</p>\n<pre><code>{\n  &quot;_index&quot;: &quot;twitter&quot;,\n  &quot;_id&quot;: &quot;1&quot;,\n  &quot;_version&quot;: 1,\n  &quot;found&quot;: true,\n  &quot;took&quot;: 0,\n  &quot;term_vectors&quot;: {\n    &quot;message&quot;: {\n      &quot;field_statistics&quot;: {\n        &quot;sum_doc_freq&quot;: 4,\n        &quot;doc_count&quot;: 1,\n        &quot;sum_ttf&quot;: 4\n      },\n      &quot;terms&quot;: {\n        &quot;elastic&quot;: {\n          &quot;term_freq&quot;: 1,\n          &quot;tokens&quot;: [\n            {\n              &quot;position&quot;: 2,\n              &quot;start_offset&quot;: 11,\n              &quot;end_offset&quot;: 18\n            }\n          ]\n        },\n        &quot;out&quot;: {\n          &quot;term_freq&quot;: 1,\n          &quot;tokens&quot;: [\n            {\n              &quot;position&quot;: 1,\n              &quot;start_offset&quot;: 7,\n              &quot;end_offset&quot;: 10\n            }\n          ]\n        },\n        &quot;search&quot;: {\n          &quot;term_freq&quot;: 1,\n          &quot;tokens&quot;: [\n            {\n              &quot;position&quot;: 3,\n              &quot;start_offset&quot;: 19,\n              &quot;end_offset&quot;: 25\n            }\n          ]\n        },\n        &quot;trying&quot;: {\n          &quot;term_freq&quot;: 1,\n          &quot;tokens&quot;: [\n            {\n              &quot;position&quot;: 0,\n              &quot;start_offset&quot;: 0,\n              &quot;end_offset&quot;: 6\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Note: Mapping types (here: tweets) have been removed in Elasticsearch 8.x (see <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.17/removal-of-types.html#_why_are_mapping_types_being_removed\" rel=\"nofollow noreferrer\">migration guide</a>).</p>\n"}],"owner":{"account_id":47438,"reputation":2166,"user_id":140477,"accept_rate":62,"display_name":"Kennedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20739,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":13182001,"answer_count":3,"score":23,"last_activity_date":1663085123,"creation_date":1351778067,"question_id":13178550,"body_markdown":"How can I have the tokens of a particular field returned in the result\r\n\r\nFor example, A GET request\r\n\r\n    curl -XGET &#39;http://localhost:9200/twitter/tweet/1&#39;\r\n\r\nreturns \r\n\r\n    {\r\n        &quot;_index&quot; : &quot;twitter&quot;,\r\n        &quot;_type&quot; : &quot;tweet&quot;,\r\n        &quot;_id&quot; : &quot;1&quot;, \r\n        &quot;_source&quot; : {\r\n            &quot;user&quot; : &quot;kimchy&quot;,\r\n            &quot;postDate&quot; : &quot;2009-11-15T14:12:12&quot;,\r\n            &quot;message&quot; : &quot;trying out Elastic Search&quot;\r\n        } \r\n    }\r\n\r\nI would like to have the tokens of &#39;_source.message&#39; field included in the result","title":"elasticsearch - Return the tokens of a field","body":"<p>How can I have the tokens of a particular field returned in the result</p>\n\n<p>For example, A GET request</p>\n\n<pre><code>curl -XGET 'http://localhost:9200/twitter/tweet/1'\n</code></pre>\n\n<p>returns </p>\n\n<pre><code>{\n    \"_index\" : \"twitter\",\n    \"_type\" : \"tweet\",\n    \"_id\" : \"1\", \n    \"_source\" : {\n        \"user\" : \"kimchy\",\n        \"postDate\" : \"2009-11-15T14:12:12\",\n        \"message\" : \"trying out Elastic Search\"\n    } \n}\n</code></pre>\n\n<p>I would like to have the tokens of '_source.message' field included in the result</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1632237356,"post_id":69270657,"comment_id":122435421,"body_markdown":"I think you may need to provide an `ArgumentConverter` with a `@ConvertWith` annotation. See [this example](https://www.baeldung.com/parameterized-tests-junit-5#2-explicit-conversion) for reference.","body":"I think you may need to provide an <code>ArgumentConverter</code> with a <code>@ConvertWith</code> annotation. See <a href=\"https://www.baeldung.com/parameterized-tests-junit-5#2-explicit-conversion\" rel=\"nofollow noreferrer\">this example</a> for reference."}],"answers":[{"tags":[],"owner":{"account_id":1216707,"reputation":3468,"user_id":1184154,"display_name":"Renan Franca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663085008,"creation_date":1663085008,"answer_id":73706071,"question_id":69270657,"body_markdown":"I found the solution that uses the Default Converter:\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;true, 3.14159265359, AUGUST, 2018, 2018-08-23T22:00:00&quot;})\r\n    void testDefaultConverters(\r\n    \tboolean b, double d, Summer s, Year y, LocalDateTime dt) { }\r\n    \r\n    enum Summer {\r\n    \tJUNE, JULY, AUGUST, SEPTEMBER;\r\n    }\r\n\r\nIf your dates don&#39;t come in ISO 8601, @JavaTimeConversionPattern helps you out:\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;true, 3.14159265359, AUGUST, 2018, 23.08.2018&quot;})\r\n    void testDefaultConverters(\r\n    \tboolean b, double d, Summer s, Year y,\r\n    \t@JavaTimeConversionPattern(&quot;dd.MM.yyyy&quot;) LocalDate dt) { }\r\n\r\n\r\n\r\nKudos to Nicolai Parlog: https://nipafx.dev/junit-5-parameterized-tests/","title":"How to use Junit5 to receive the LocalDate value as params?","body":"<p>I found the solution that uses the Default Converter:</p>\n<pre><code>@ParameterizedTest\n@CsvSource({&quot;true, 3.14159265359, AUGUST, 2018, 2018-08-23T22:00:00&quot;})\nvoid testDefaultConverters(\n    boolean b, double d, Summer s, Year y, LocalDateTime dt) { }\n\nenum Summer {\n    JUNE, JULY, AUGUST, SEPTEMBER;\n}\n</code></pre>\n<p>If your dates don't come in ISO 8601, @JavaTimeConversionPattern helps you out:</p>\n<pre><code>@ParameterizedTest\n@CsvSource({&quot;true, 3.14159265359, AUGUST, 2018, 23.08.2018&quot;})\nvoid testDefaultConverters(\n    boolean b, double d, Summer s, Year y,\n    @JavaTimeConversionPattern(&quot;dd.MM.yyyy&quot;) LocalDate dt) { }\n</code></pre>\n<p>Kudos to Nicolai Parlog: <a href=\"https://nipafx.dev/junit-5-parameterized-tests/\" rel=\"nofollow noreferrer\">https://nipafx.dev/junit-5-parameterized-tests/</a></p>\n"}],"owner":{"account_id":22665860,"reputation":43,"user_id":16838235,"display_name":"user16838235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1538,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663085008,"creation_date":1632234300,"question_id":69270657,"body_markdown":"Last few days I learned the Junit5 in offical. And Recently I want to use it as my test instance,But I meet a difficulty.\r\n\r\nI try to let LocalDate value as the params,But I have tried all of my knowledge to do it and all failed.\r\n\r\nthis is my code\r\n```java\r\n    @ParameterizedTest\r\n@CsvSource({&quot;2020-2-2,2010-2-3&quot;})\r\n    void t5_1(LocalDate a, LocalDate b) {\r\n        final Duration between = Duration.between(a, b);\r\n        System.out.println(between.toDays());\r\n    }\r\n    static Stream&lt;Arguments&gt;timeArrayProvider() {\r\n        return Stream.of(\r\n                Arguments.of((Object) new String[]{&quot;2020-2-2&quot;,&quot;2010-2-3&quot;})\r\n        );\r\n    }\r\n\r\n```\r\nIf you know it ,Thank you in advance.\r\n","title":"How to use Junit5 to receive the LocalDate value as params?","body":"<p>Last few days I learned the Junit5 in offical. And Recently I want to use it as my test instance,But I meet a difficulty.</p>\n<p>I try to let LocalDate value as the params,But I have tried all of my knowledge to do it and all failed.</p>\n<p>this is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ParameterizedTest\n@CsvSource({&quot;2020-2-2,2010-2-3&quot;})\n    void t5_1(LocalDate a, LocalDate b) {\n        final Duration between = Duration.between(a, b);\n        System.out.println(between.toDays());\n    }\n    static Stream&lt;Arguments&gt;timeArrayProvider() {\n        return Stream.of(\n                Arguments.of((Object) new String[]{&quot;2020-2-2&quot;,&quot;2010-2-3&quot;})\n        );\n    }\n\n</code></pre>\n<p>If you know it ,Thank you in advance.</p>\n"},{"tags":["java","jakarta-ee","transactions","ejb"],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1231492923,"creation_date":1231492923,"answer_id":427493,"question_id":427452,"body_markdown":"They will use the same transaction.\r\n\r\nIf I remember well, the transaction is started by the container &quot;before&quot; the method is invoked and commited after it &quot;finish&quot;.\r\n\r\nSince &quot;a&quot; calls &quot;b&quot;, &quot;b&quot; would use the same transaction. \r\n\r\n\r\n:S \r\n\r\nI guess the best thing you can do is test it to verify it! :) \r\n\r\n\r\n","title":"EJB Transactions in local method-calls","body":"<p>They will use the same transaction.</p>\n\n<p>If I remember well, the transaction is started by the container \"before\" the method is invoked and commited after it \"finish\".</p>\n\n<p>Since \"a\" calls \"b\", \"b\" would use the same transaction. </p>\n\n<p>:S </p>\n\n<p>I guess the best thing you can do is test it to verify it! :) </p>\n"},{"tags":[],"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1325103457,"creation_date":1231495791,"answer_id":427582,"question_id":427452,"body_markdown":"Your call to `methodB()` is an ordinary call of a method, not intercepted by the EJB container; at run-time the EJB container will inject a [proxy][1] and not an instance of your class, this is the way it intercepts calls and setup the environment before calling your method. If you use `this` you&#39;re calling a method directly and not through the proxy. Hence both methods will use the same transaction, regardless to what is defined in ejb-jar.xml for calls through EJB interfaces. \r\n\r\n\r\n\r\n   [1]: http://en.wikipedia.org/wiki/Proxy_pattern","title":"EJB Transactions in local method-calls","body":"<p>Your call to <code>methodB()</code> is an ordinary call of a method, not intercepted by the EJB container; at run-time the EJB container will inject a <a href=\"http://en.wikipedia.org/wiki/Proxy_pattern\" rel=\"noreferrer\">proxy</a> and not an instance of your class, this is the way it intercepts calls and setup the environment before calling your method. If you use <code>this</code> you're calling a method directly and not through the proxy. Hence both methods will use the same transaction, regardless to what is defined in ejb-jar.xml for calls through EJB interfaces. </p>\n"},{"tags":[],"owner":{"account_id":1823070,"reputation":731,"user_id":1656654,"accept_rate":70,"display_name":"DrAhmedJava"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1615988746,"creation_date":1347106298,"answer_id":12330628,"question_id":427452,"body_markdown":"inject SessionContext, and ask it for your proxy instance:\r\n\r\n    @Stateless\r\n    public class UserFacade implements UserFacadeLocal {\r\n        @Resource\r\n        private SessionContext context;\r\n    \r\n        @Override\r\n        @TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n        private void create(User user) {\r\n            System.out.println(&quot;Users Count: &quot;+count()); //invocation#1\r\n            System.out.println(&quot;Users Count Through Context: &quot;+context.getBusinessObject(UserFacadeLocal.class).count()); //invocation#2\r\n        }\r\n    \r\n        @Override\r\n        @TransactionAttribute(TransactionAttributeType.NEVER)\r\n        public int count() {\r\n            return ((Long) q.getSingleResult()).intValue();\r\n        }\r\n    }\r\n\r\nin &#39;invocation#1&#39; this is a Local call, not passing through proxy, it will return the count\r\n\r\nin &#39;invocation#2&#39; this is a call through the proxy, and hence you annotate it not to support transaction -which is now opened by create(user) method-, this invocation will throw a transaction exception: \r\n\r\njavax.ejb.EJBException: EJB cannot be invoked in global transaction","title":"EJB Transactions in local method-calls","body":"<p>inject SessionContext, and ask it for your proxy instance:</p>\n<pre><code>@Stateless\npublic class UserFacade implements UserFacadeLocal {\n    @Resource\n    private SessionContext context;\n\n    @Override\n    @TransactionAttribute(TransactionAttributeType.REQUIRED)\n    private void create(User user) {\n        System.out.println(&quot;Users Count: &quot;+count()); //invocation#1\n        System.out.println(&quot;Users Count Through Context: &quot;+context.getBusinessObject(UserFacadeLocal.class).count()); //invocation#2\n    }\n\n    @Override\n    @TransactionAttribute(TransactionAttributeType.NEVER)\n    public int count() {\n        return ((Long) q.getSingleResult()).intValue();\n    }\n}\n</code></pre>\n<p>in 'invocation#1' this is a Local call, not passing through proxy, it will return the count</p>\n<p>in 'invocation#2' this is a call through the proxy, and hence you annotate it not to support transaction -which is now opened by create(user) method-, this invocation will throw a transaction exception:</p>\n<p>javax.ejb.EJBException: EJB cannot be invoked in global transaction</p>\n"}],"owner":{"display_name":"Koos Gadellaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26319,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":3,"score":23,"last_activity_date":1663084854,"creation_date":1231491745,"question_id":427452,"body_markdown":"In the following setup, does method B run in a (new) transaction?\r\n\r\nAn EJB, having two methods, method A and method B\r\n\r\n    public class MyEJB implements SessionBean\r\n        public void methodA() {\r\n           doImportantStuff();\r\n           methodB();\r\n           doMoreImportantStuff();\r\n        }\r\n\r\n        public void methodB() {\r\n           doDatabaseThing();\r\n        }\r\n    }\r\n\r\nThe EJB is container managed, with methodB in requires_new transaction, and method A in required transaction. thus:\r\n\r\n    &lt;container-transaction id=&quot;MethodTransaction_1178709616940&quot;&gt;\r\n      &lt;method id=&quot;MethodElement_1178709616955&quot;&gt;\r\n        &lt;ejb-name&gt;MyName&lt;/ejb-name&gt;\r\n        &lt;method-name&gt;*&lt;/method-name&gt;\r\n      &lt;trans-attribute&gt;Required&lt;/trans-attribute&gt;\r\n      &lt;/method&gt;\r\n      &lt;method id=&quot;MethodElement_1178709616971&quot;&gt;\r\n        &lt;ejb-name&gt;MyName&lt;/ejb-name&gt;\r\n        &lt;method-name&gt;methodB&lt;/method-name&gt;\r\n      &lt;/method&gt;\r\n      &lt;trans-attribute&gt;RequiresNew&lt;/trans-attribute&gt;\r\n    &lt;/container-transaction&gt;\r\n\r\nNow let another EJB call methodA with an EJB method call.\r\nmethodA now runs in an transaction. Will the subsequent call to methodB from methodA run in the same transaction, or does it run in a new transaction?\r\n(mind, it&#39;s the actual code here. There is no explicit ejb-call to method B)\r\n","title":"EJB Transactions in local method-calls","body":"<p>In the following setup, does method B run in a (new) transaction?</p>\n\n<p>An EJB, having two methods, method A and method B</p>\n\n<pre><code>public class MyEJB implements SessionBean\n    public void methodA() {\n       doImportantStuff();\n       methodB();\n       doMoreImportantStuff();\n    }\n\n    public void methodB() {\n       doDatabaseThing();\n    }\n}\n</code></pre>\n\n<p>The EJB is container managed, with methodB in requires_new transaction, and method A in required transaction. thus:</p>\n\n<pre><code>&lt;container-transaction id=\"MethodTransaction_1178709616940\"&gt;\n  &lt;method id=\"MethodElement_1178709616955\"&gt;\n    &lt;ejb-name&gt;MyName&lt;/ejb-name&gt;\n    &lt;method-name&gt;*&lt;/method-name&gt;\n  &lt;trans-attribute&gt;Required&lt;/trans-attribute&gt;\n  &lt;/method&gt;\n  &lt;method id=\"MethodElement_1178709616971\"&gt;\n    &lt;ejb-name&gt;MyName&lt;/ejb-name&gt;\n    &lt;method-name&gt;methodB&lt;/method-name&gt;\n  &lt;/method&gt;\n  &lt;trans-attribute&gt;RequiresNew&lt;/trans-attribute&gt;\n&lt;/container-transaction&gt;\n</code></pre>\n\n<p>Now let another EJB call methodA with an EJB method call.\nmethodA now runs in an transaction. Will the subsequent call to methodB from methodA run in the same transaction, or does it run in a new transaction?\n(mind, it's the actual code here. There is no explicit ejb-call to method B)</p>\n"},{"tags":["java","android","android-studio","kotlin","ide"],"answers":[{"tags":[],"owner":{"account_id":6017463,"reputation":1130,"user_id":4725753,"accept_rate":50,"display_name":"Mahdi Javaheri"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661147535,"creation_date":1661147535,"answer_id":73440695,"question_id":73440694,"body_markdown":"Seems like the file named &quot;Windows copy.xml&quot; was corrupted. doing this solved my issue:\r\n\r\n- Open this directory from Run menu by pressing **Win + R**: `%APPDATA%/Google/AndroidStudio2021.2/keymaps` (change 2021.2 to your version or just open Google folder and navigate to keymaps yourself)\r\n\r\n- Open `Windows copy.xml` file and replace it&#39;s content with this:\r\n  ```xml\r\n   &lt;keymap version=&quot;1&quot; name=&quot;Windows copy&quot; parent=&quot;$default&quot;&gt;\r\n     &lt;action id=&quot;CheckinFiles&quot;&gt;\r\n       &lt;keyboard-shortcut first-keystroke=&quot;ctrl alt r&quot; /&gt;\r\n     &lt;/action&gt;\r\n     &lt;action id=&quot;UpdateRunningApplication&quot; /&gt;\r\n     &lt;action id=&quot;android.deploy.ApplyChanges&quot;&gt;\r\n       &lt;keyboard-shortcut first-keystroke=&quot;ctrl f10&quot; /&gt;\r\n     &lt;/action&gt;\r\n     &lt;action id=&quot;android.deploy.CodeSwap&quot;&gt;\r\n       &lt;keyboard-shortcut first-keystroke=&quot;ctrl alt f10&quot; /&gt;\r\n     &lt;/action&gt;\r\n  &lt;/keymap&gt;\r\n  ```\r\n\r\n- Reopen your Android Studio","title":"Android Studio &quot;Cannot find keymap windows copy&quot;","body":"<p>Seems like the file named &quot;Windows copy.xml&quot; was corrupted. doing this solved my issue:</p>\n<ul>\n<li><p>Open this directory from Run menu by pressing <strong>Win + R</strong>: <code>%APPDATA%/Google/AndroidStudio2021.2/keymaps</code> (change 2021.2 to your version or just open Google folder and navigate to keymaps yourself)</p>\n</li>\n<li><p>Open <code>Windows copy.xml</code> file and replace it's content with this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;keymap version=&quot;1&quot; name=&quot;Windows copy&quot; parent=&quot;$default&quot;&gt;\n   &lt;action id=&quot;CheckinFiles&quot;&gt;\n     &lt;keyboard-shortcut first-keystroke=&quot;ctrl alt r&quot; /&gt;\n   &lt;/action&gt;\n   &lt;action id=&quot;UpdateRunningApplication&quot; /&gt;\n   &lt;action id=&quot;android.deploy.ApplyChanges&quot;&gt;\n     &lt;keyboard-shortcut first-keystroke=&quot;ctrl f10&quot; /&gt;\n   &lt;/action&gt;\n   &lt;action id=&quot;android.deploy.CodeSwap&quot;&gt;\n     &lt;keyboard-shortcut first-keystroke=&quot;ctrl alt f10&quot; /&gt;\n   &lt;/action&gt;\n&lt;/keymap&gt;\n</code></pre>\n</li>\n<li><p>Reopen your Android Studio</p>\n</li>\n</ul>\n"}],"owner":{"account_id":6017463,"reputation":1130,"user_id":4725753,"accept_rate":50,"display_name":"Mahdi Javaheri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1663084834,"creation_date":1661147535,"question_id":73440694,"body_markdown":"I have installed android studio Bumblebee and after some time it&#39;s showing this error message in the **event log** when opening the IDE:\r\n\r\n`Cannot find keymap Windows copy.xml, search for proper windows copy plugin`\r\n\r\nI didn&#39;t change any settings related to the keymaps, yet this error is shown.\r\n","title":"Android Studio &quot;Cannot find keymap windows copy&quot;","body":"<p>I have installed android studio Bumblebee and after some time it's showing this error message in the <strong>event log</strong> when opening the IDE:</p>\n<p><code>Cannot find keymap Windows copy.xml, search for proper windows copy plugin</code></p>\n<p>I didn't change any settings related to the keymaps, yet this error is shown.</p>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":1,"creation_date":1453192461,"post_id":34871889,"comment_id":57481989,"body_markdown":"You need to create a mapping between your enum and `now.get(Calendar.DAY_OF_WEEK)`","body":"You need to create a mapping between your enum and <code>now.get(Calendar.DAY_OF_WEEK)</code>"},{"owner":{"account_id":3122840,"reputation":429,"user_id":2642282,"display_name":"stevops"},"score":0,"creation_date":1453192784,"post_id":34871889,"comment_id":57482172,"body_markdown":"TradingDays.Monday.ordinal()","body":"TradingDays.Monday.ordinal()"},{"owner":{"account_id":1510024,"reputation":613,"user_id":1412389,"accept_rate":50,"display_name":"Otvazhnii"},"score":0,"creation_date":1453199474,"post_id":34871889,"comment_id":57486714,"body_markdown":"In fact ordinal() is great. This is it: never look for more complex solutions","body":"In fact ordinal() is great. This is it: never look for more complex solutions"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1471482975,"post_id":34871889,"comment_id":65368730,"body_markdown":"`ordinal()` is not so great. It starts at 0 and is meant for internal use, as specified in the [documentation](https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#ordinal()).","body":"<code>ordinal()</code> is not so great. It starts at 0 and is meant for internal use, as specified in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#ordinal()\" rel=\"nofollow noreferrer\">documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":6570112,"reputation":362,"user_id":5078465,"display_name":"Noam Mansur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453194317,"creation_date":1453194317,"answer_id":34872541,"question_id":34871889,"body_markdown":"You can try using a constructor inside your enum, like in this example:\n\n        public enum Currency {\n        PENNY(1),\n        NICKLE(5),\n        DIME(10),\n        QUARTER(25);\n\n         private final int value;\n         \n         private Currency(int value) {\n             this.value=value;\n         }\n    }\n\nWhile iterating you can use coin.value like this:\n\n    for(Currency coin: Currency.values()){\n            \n            System.out.println(coin+&quot; &quot;+coin.value);\n            if(coin.value==1){\n                System.out.println(&quot;THIS is the PENNY&quot;);\n            }\n            \n        }\n\nWhich output is:\n\n&gt; PENNY 1\n&gt;\n&gt; THIS is the PENNY\n&gt;\n&gt; NICKLE 5\n&gt; \n&gt; DIME 10\n&gt; \n&gt; QUARTER 25","title":"Create a custom collection of days-of-the-week in JAVA","body":"<p>You can try using a constructor inside your enum, like in this example:</p>\n<pre><code>    public enum Currency {\n    PENNY(1),\n    NICKLE(5),\n    DIME(10),\n    QUARTER(25);\n\n     private final int value;\n     \n     private Currency(int value) {\n         this.value=value;\n     }\n}\n</code></pre>\n<p>While iterating you can use coin.value like this:</p>\n<pre><code>for(Currency coin: Currency.values()){\n        \n        System.out.println(coin+&quot; &quot;+coin.value);\n        if(coin.value==1){\n            System.out.println(&quot;THIS is the PENNY&quot;);\n        }\n        \n    }\n</code></pre>\n<p>Which output is:</p>\n<blockquote>\n<p>PENNY 1</p>\n<p>THIS is the PENNY</p>\n<p>NICKLE 5</p>\n<p>DIME 10</p>\n<p>QUARTER 25</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3200848,"reputation":2052,"user_id":2702917,"accept_rate":50,"display_name":"Francesco Pitzalis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453194923,"creation_date":1453194923,"answer_id":34872732,"question_id":34871889,"body_markdown":"With `enum`s you can do a lot of things that probably are familiar to you:\r\n\r\nFile `TradingDays.java`:\r\n\r\n    public enum TradingDays {\r\n        Monday(Calendar.MONDAY),\r\n        Tuesday(Calendar.TUESDAY),\r\n        Wednesday(Calendar.WEDNESDAY),\r\n        Thursday(Calendar.THURSDAY),\r\n        Friday(Calendar.FRIDAY);\r\n    \r\n        private int calendarValue;\r\n    \r\n        TradingDays(int calendarValue) {\r\n            this.calendarValue = calendarValue;\r\n        }\r\n    \r\n        public static TradingDays today() {\r\n            return fromCalendarValue(Calendar.getInstance().get(Calendar.DAY_OF_WEEK));\r\n        }\r\n    \r\n        public static TradingDays fromCalendarValue(int calendarValue) {\r\n            for(TradingDays td : TradingDays.values()) {\r\n                if(td.calendarValue == calendarValue) {\r\n                    return td;\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(calendarValue + &quot; is not a valid TradingDays calendarValue&quot;);\r\n            // or simply return null\r\n        }\r\n    \r\n    };","title":"Create a custom collection of days-of-the-week in JAVA","body":"<p>With <code>enum</code>s you can do a lot of things that probably are familiar to you:</p>\n\n<p>File <code>TradingDays.java</code>:</p>\n\n<pre><code>public enum TradingDays {\n    Monday(Calendar.MONDAY),\n    Tuesday(Calendar.TUESDAY),\n    Wednesday(Calendar.WEDNESDAY),\n    Thursday(Calendar.THURSDAY),\n    Friday(Calendar.FRIDAY);\n\n    private int calendarValue;\n\n    TradingDays(int calendarValue) {\n        this.calendarValue = calendarValue;\n    }\n\n    public static TradingDays today() {\n        return fromCalendarValue(Calendar.getInstance().get(Calendar.DAY_OF_WEEK));\n    }\n\n    public static TradingDays fromCalendarValue(int calendarValue) {\n        for(TradingDays td : TradingDays.values()) {\n            if(td.calendarValue == calendarValue) {\n                return td;\n            }\n        }\n        throw new IllegalArgumentException(calendarValue + \" is not a valid TradingDays calendarValue\");\n        // or simply return null\n    }\n\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4441504,"reputation":201,"user_id":3615962,"display_name":"Lingani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453201730,"creation_date":1453201730,"answer_id":34875206,"question_id":34871889,"body_markdown":"Create a constructor inside your enum which takes an int value:\r\n\r\npublic class CalendarMain {\r\n\r\n    enum TradingDays {\r\n\tMonday(2), Tuesday(3), Wednesday(4), Thursday(5), Friday(6);\r\n\t\r\n\tprivate int value;\r\n\r\n\tprivate TradingDays(int value) {\r\n\t    this.value = value;\r\n\t}\r\n    };\r\n\r\n    public static void main(String[] args) {\r\n\r\n\tCalendar now = Calendar.getInstance();\r\n\r\n\tif (now.get(Calendar.DAY_OF_WEEK) == TradingDays.Tuesday.value) {\r\n\t    // Chose Wednesday as the day to trade\r\n\t    System.out.println(now.get(Calendar.DAY_OF_WEEK));\r\n\t    System.out.println(TradingDays.Tuesday.value);\r\n\t}\r\n    }\r\n}\r\n","title":"Create a custom collection of days-of-the-week in JAVA","body":"<p>Create a constructor inside your enum which takes an int value:</p>\n\n<p>public class CalendarMain {</p>\n\n<pre><code>enum TradingDays {\nMonday(2), Tuesday(3), Wednesday(4), Thursday(5), Friday(6);\n\nprivate int value;\n\nprivate TradingDays(int value) {\n    this.value = value;\n}\n};\n\npublic static void main(String[] args) {\n\nCalendar now = Calendar.getInstance();\n\nif (now.get(Calendar.DAY_OF_WEEK) == TradingDays.Tuesday.value) {\n    // Chose Wednesday as the day to trade\n    System.out.println(now.get(Calendar.DAY_OF_WEEK));\n    System.out.println(TradingDays.Tuesday.value);\n}\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663084046,"creation_date":1471483451,"answer_id":39008574,"question_id":34871889,"body_markdown":"# tl;dr\r\n\r\n    Set&lt;DayOfWeek&gt; tradingDays = EnumSet.range( DayOfWeek.MONDAY , DayOfWeek.FRIDAY ) ; // Mon, Tue, Wed, Thu, &amp; Fri.\r\n    Boolean todayIsTradingDay = tradingDays.contains( LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ).getDayOfWeek() ) ;\r\n\r\n# Details\r\n\r\nThis functionality is built into Java. \r\n\r\n# `java.time.DayOfWeek` enum\r\n\r\nJava includes the [`java.time.DayOfWeek`][1] enum. \r\n\r\nPass around objects of this enum rather than mere integers 1-7 to make your code more self-documenting, provide type-safety, and ensure a range of valid values.\r\n\r\n    invoices.printReportForDayOfWeek( DayOfWeek.MONDAY );\r\n\r\nNumbering is 1-7 for Monday to Sunday, per [ISO 8601][2] standard.\r\n\r\nGet a localized name of the day by calling `getDisplayName`.\r\n\r\n    String output = DayOfWeek.MONDAY.getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH ) ;  // Or Locale.US, etc.\r\n\r\n# Collection of day-of-week objects\r\n\r\nTo track multiple days of the week, use an `EnumSet` (implementation of [`Set`](http://docs.oracle.com/javase/8/docs/api/java/util/Set.html)) or `EnumMap` (implementation of [`Map`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html)).\r\n\r\n    Set&lt;DayOfWeek&gt; weekend = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ) ;\r\n    …\r\n    DayOfWeek dowToday = \r\n        LocalDate\r\n        .now( ZoneId.of( &quot;America/Montreal&quot; ) )\r\n        .getDayOfWeek() ;\r\n    Boolean todayIsWeekend = weekend.contains( dowToday ) ;\r\n\r\nOr in the case of this Question specifically, a collection of the weekdays. Perhaps define as a static final constant if the definition does not change during execution of the app.\r\n\r\n    static final Set&lt;DayOfWeek&gt; tradingDays = EnumSet.of( DayOfWeek.MONDAY , DayOfWeek.TUESDAY , DayOfWeek.WEDNESDAY , DayOfWeek.THURSDAY , DayOfWeek.FRIDAY ) ;\r\n\r\nOr make that even shorter by defining an EnumSet as a range of enum objects defined in a sequential order. Specify MONDAY &amp; FRIDAY and let `EnumSet` fill in the values in between. Use [`EnumSet.range`][3].\r\n\r\n    static final Set&lt;DayOfWeek&gt; tradingDays = EnumSet.range( DayOfWeek.MONDAY , DayOfWeek.FRIDAY ) ; // Mon, Tue, Wed, Thu, &amp; Fri.\r\n\r\nThen test for today. Note that a time zone is crucial in determining the current date. For any given moment the date varies around the globe by zone.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; ) ;\r\n    LocalDate today = LocalDate.now( zoneId ) ;\r\n    DayOfWeek dowToday = today.getDayOfWeek() ;\r\n    Boolean todayIsTradingDay = tradingDays.contains( dowToday ).getDayOfWeek() ) ;\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as `Interval`, `YearWeek`, `YearQuarter`, and more.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html#range-E-E-","title":"Create a custom collection of days-of-the-week in JAVA","body":"<h1>tl;dr</h1>\n<pre><code>Set&lt;DayOfWeek&gt; tradingDays = EnumSet.range( DayOfWeek.MONDAY , DayOfWeek.FRIDAY ) ; // Mon, Tue, Wed, Thu, &amp; Fri.\nBoolean todayIsTradingDay = tradingDays.contains( LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ).getDayOfWeek() ) ;\n</code></pre>\n<h1>Details</h1>\n<p>This functionality is built into Java.</p>\n<h1><code>java.time.DayOfWeek</code> enum</h1>\n<p>Java includes the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>java.time.DayOfWeek</code></a> enum.</p>\n<p>Pass around objects of this enum rather than mere integers 1-7 to make your code more self-documenting, provide type-safety, and ensure a range of valid values.</p>\n<pre><code>invoices.printReportForDayOfWeek( DayOfWeek.MONDAY );\n</code></pre>\n<p>Numbering is 1-7 for Monday to Sunday, per <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard.</p>\n<p>Get a localized name of the day by calling <code>getDisplayName</code>.</p>\n<pre><code>String output = DayOfWeek.MONDAY.getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH ) ;  // Or Locale.US, etc.\n</code></pre>\n<h1>Collection of day-of-week objects</h1>\n<p>To track multiple days of the week, use an <code>EnumSet</code> (implementation of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>) or <code>EnumMap</code> (implementation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>).</p>\n<pre><code>Set&lt;DayOfWeek&gt; weekend = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ) ;\n…\nDayOfWeek dowToday = \n    LocalDate\n    .now( ZoneId.of( &quot;America/Montreal&quot; ) )\n    .getDayOfWeek() ;\nBoolean todayIsWeekend = weekend.contains( dowToday ) ;\n</code></pre>\n<p>Or in the case of this Question specifically, a collection of the weekdays. Perhaps define as a static final constant if the definition does not change during execution of the app.</p>\n<pre><code>static final Set&lt;DayOfWeek&gt; tradingDays = EnumSet.of( DayOfWeek.MONDAY , DayOfWeek.TUESDAY , DayOfWeek.WEDNESDAY , DayOfWeek.THURSDAY , DayOfWeek.FRIDAY ) ;\n</code></pre>\n<p>Or make that even shorter by defining an EnumSet as a range of enum objects defined in a sequential order. Specify MONDAY &amp; FRIDAY and let <code>EnumSet</code> fill in the values in between. Use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html#range-E-E-\" rel=\"nofollow noreferrer\"><code>EnumSet.range</code></a>.</p>\n<pre><code>static final Set&lt;DayOfWeek&gt; tradingDays = EnumSet.range( DayOfWeek.MONDAY , DayOfWeek.FRIDAY ) ; // Mon, Tue, Wed, Thu, &amp; Fri.\n</code></pre>\n<p>Then test for today. Note that a time zone is crucial in determining the current date. For any given moment the date varies around the globe by zone.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; ) ;\nLocalDate today = LocalDate.now( zoneId ) ;\nDayOfWeek dowToday = today.getDayOfWeek() ;\nBoolean todayIsTradingDay = tradingDays.contains( dowToday ).getDayOfWeek() ) ;\n</code></pre>\n<h1>About java.time</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <code>Interval</code>, <code>YearWeek</code>, <code>YearQuarter</code>, and more.</p>\n"}],"owner":{"account_id":1510024,"reputation":613,"user_id":1412389,"accept_rate":50,"display_name":"Otvazhnii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1663084046,"creation_date":1453192373,"question_id":34871889,"body_markdown":"I want a custom calendar like this:\r\n\r\n    enum TradingDays {Monday, Tuesday, Wednesday, Thursday, Friday};\r\n\r\nThen I need to iterate over it and check if a particular enum element is the day of week TODAY. The problem is that the JAVA calendar does not match to days of week from my calendar. So:\r\n\r\n    Calendar now = Calendar.getInstance();\r\n\r\n    TradingDays.Monday is not equal to any of now.get(Calendar.DAY_OF_WEEK);\r\n\r\nSo how do I assign Monday, Tuesday etc from my calendar TradingDays the same type (in this case an integer value) from the JAVA calendar?\r\n\r\nP.S. I need to have that calendar TradingDays like that because it is then shown to the user so he/she chooses on which days to trade.","title":"Create a custom collection of days-of-the-week in JAVA","body":"<p>I want a custom calendar like this:</p>\n\n<pre><code>enum TradingDays {Monday, Tuesday, Wednesday, Thursday, Friday};\n</code></pre>\n\n<p>Then I need to iterate over it and check if a particular enum element is the day of week TODAY. The problem is that the JAVA calendar does not match to days of week from my calendar. So:</p>\n\n<pre><code>Calendar now = Calendar.getInstance();\n\nTradingDays.Monday is not equal to any of now.get(Calendar.DAY_OF_WEEK);\n</code></pre>\n\n<p>So how do I assign Monday, Tuesday etc from my calendar TradingDays the same type (in this case an integer value) from the JAVA calendar?</p>\n\n<p>P.S. I need to have that calendar TradingDays like that because it is then shown to the user so he/she chooses on which days to trade.</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663084033,"creation_date":1663084033,"answer_id":73705858,"question_id":73705552,"body_markdown":"You can use the method [`put`][1] that uses a stream to upload an object on AmazonS3:\r\n\r\n&gt; Uploads the specified input stream and object metadata to Amazon S3 under the specified bucket and key name\r\n\r\nSo basically you can:\r\n- download from zoom as stream\r\n- use this stream as parameter to AmazonS3\r\n\r\nIn this case you don&#39;t need to store locally the file because the stream is redirected to AWS.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-com.amazonaws.services.s3.model.ObjectMetadata-","title":"Uploading video file to Amazon S3 from an url without having to download the file in java","body":"<p>You can use the method <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#putObject-java.lang.String-java.lang.String-java.io.InputStream-com.amazonaws.services.s3.model.ObjectMetadata-\" rel=\"nofollow noreferrer\"><code>put</code></a> that uses a stream to upload an object on AmazonS3:</p>\n<blockquote>\n<p>Uploads the specified input stream and object metadata to Amazon S3 under the specified bucket and key name</p>\n</blockquote>\n<p>So basically you can:</p>\n<ul>\n<li>download from zoom as stream</li>\n<li>use this stream as parameter to AmazonS3</li>\n</ul>\n<p>In this case you don't need to store locally the file because the stream is redirected to AWS.</p>\n"}],"owner":{"account_id":1710011,"reputation":3,"user_id":1568259,"display_name":"Guerline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73705858,"answer_count":1,"score":-2,"last_activity_date":1663084033,"creation_date":1663082619,"question_id":73705552,"body_markdown":"I&#39;m trying to upload a file from a Zoom recording to Amazon S3. I have the download url but I don&#39;t want to download the file in the server before uploading it to Amazon S3 to avoid using all the resources. Is there a way to do that?","title":"Uploading video file to Amazon S3 from an url without having to download the file in java","body":"<p>I'm trying to upload a file from a Zoom recording to Amazon S3. I have the download url but I don't want to download the file in the server before uploading it to Amazon S3 to avoid using all the resources. Is there a way to do that?</p>\n"},{"tags":["java","mysql","datatable","locking"],"comments":[{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1663083279,"post_id":73705655,"comment_id":130153601,"body_markdown":"Are you using explicit transactions? If you rely on the default autocommit, the lock is released as soon as the SELECT finishes.","body":"Are you using explicit transactions? If you rely on the default autocommit, the lock is released as soon as the SELECT finishes."},{"owner":{"account_id":13463807,"reputation":39,"user_id":9714863,"display_name":"khg"},"score":0,"creation_date":1663083724,"post_id":73705655,"comment_id":130153767,"body_markdown":"no, first i select the row from my instance application and then update the row with add 100 to last_seq.","body":"no, first i select the row from my instance application and then update the row with add 100 to last_seq."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663083685,"creation_date":1663083685,"answer_id":73705802,"question_id":73705655,"body_markdown":"There are many ways that can generate the same result. Some of them are:\r\n\r\n- Use autocommit instead of explicit transactions\r\n- Don&#39;t update the record but only selecting it (for example update the record only if a condition is satisfied)\r\n- Try catch the code so that in case of a failed update there is no rollback\r\n- If some code reset values or decrement values\r\n\r\nYou should investigate the different possibilities or post an updated question with the full code.","title":"How to lock row in mysql that access from 2 difference instance application?","body":"<p>There are many ways that can generate the same result. Some of them are:</p>\n<ul>\n<li>Use autocommit instead of explicit transactions</li>\n<li>Don't update the record but only selecting it (for example update the record only if a condition is satisfied)</li>\n<li>Try catch the code so that in case of a failed update there is no rollback</li>\n<li>If some code reset values or decrement values</li>\n</ul>\n<p>You should investigate the different possibilities or post an updated question with the full code.</p>\n"}],"owner":{"account_id":13463807,"reputation":39,"user_id":9714863,"display_name":"khg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663083911,"creation_date":1663083031,"question_id":73705655,"body_markdown":"I have a problem with mysql query i am using SELECT ... FOR UPDATE to locking a row in my table data source so that two instance application cannot get the same row at the same time. But when i test with jmetter to hit my program, sometime mysql return the same value.\r\n\r\nThe goal is i want to select example : [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6WItK.png\r\n\r\ni have a table that have id | name | last_seq\r\nso when my 1st instace application select that row will add 100 to last_seq.\r\nso the value for that rows now is 1 | opr_sequece | 100\r\nand when my 2nd instance application select that row will add 100 to last_seq.\r\nso the value for that rows after selection from 2nd instance is 1 | opr_sequence | 200.\r\n\r\nbut when i run, sometimes 2 instance applications get same value and update the same value too to table. \r\n\r\ni do SELECT ... FOR UPDATE but it sill happend.\r\nPlease help me\r\n\r\n\r\nUPDATE\r\n\r\n    public synchronized String constructTraceNo(){\r\n        if(counter % 100 == 0){\r\n            OprSeq oprSeq= oprSeqRepo.findByNm(&quot;opr_sequence&quot;);\r\n            //update to repository\r\n            counter = oprSeq.getLastSequence();\r\n            oprSeq.setLastSequence(counter+100);\r\n            oprSeqRepo.save(oprSeq);\r\n        }else if(counter == 999999){\r\n            OprSeq oprSeq= oprSeqRepo.findByNm(&quot;opr_sequence&quot;);\r\n            counter = 0;\r\n            oprSeq.setLastSequence(counter+100);\r\n            oprSeqRepo.save(oprSeq);\r\n        }\r\n        counter+=1;\r\n        return padding(String.valueOf(counter),6,&quot;0&quot;,0);\r\n    }\r\n\r\n\r\nOprSeq oprSeq= oprSeqRepo.findByNm(&quot;opr_sequence&quot;); this will select the row and the update below that selection.","title":"How to lock row in mysql that access from 2 difference instance application?","body":"<p>I have a problem with mysql query i am using SELECT ... FOR UPDATE to locking a row in my table data source so that two instance application cannot get the same row at the same time. But when i test with jmetter to hit my program, sometime mysql return the same value.</p>\n<p>The goal is i want to select example : <a href=\"https://i.stack.imgur.com/6WItK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6WItK.png\" alt=\"enter image description here\" /></a></p>\n<p>i have a table that have id | name | last_seq\nso when my 1st instace application select that row will add 100 to last_seq.\nso the value for that rows now is 1 | opr_sequece | 100\nand when my 2nd instance application select that row will add 100 to last_seq.\nso the value for that rows after selection from 2nd instance is 1 | opr_sequence | 200.</p>\n<p>but when i run, sometimes 2 instance applications get same value and update the same value too to table.</p>\n<p>i do SELECT ... FOR UPDATE but it sill happend.\nPlease help me</p>\n<p>UPDATE</p>\n<pre><code>public synchronized String constructTraceNo(){\n    if(counter % 100 == 0){\n        OprSeq oprSeq= oprSeqRepo.findByNm(&quot;opr_sequence&quot;);\n        //update to repository\n        counter = oprSeq.getLastSequence();\n        oprSeq.setLastSequence(counter+100);\n        oprSeqRepo.save(oprSeq);\n    }else if(counter == 999999){\n        OprSeq oprSeq= oprSeqRepo.findByNm(&quot;opr_sequence&quot;);\n        counter = 0;\n        oprSeq.setLastSequence(counter+100);\n        oprSeqRepo.save(oprSeq);\n    }\n    counter+=1;\n    return padding(String.valueOf(counter),6,&quot;0&quot;,0);\n}\n</code></pre>\n<p>OprSeq oprSeq= oprSeqRepo.findByNm(&quot;opr_sequence&quot;); this will select the row and the update below that selection.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":0,"creation_date":1655325795,"post_id":72637522,"comment_id":128309287,"body_markdown":"You are probably missing `@EnableJpaRepositories` in your configuration","body":"You are probably missing <code>@EnableJpaRepositories</code> in your configuration"}],"answers":[{"tags":[],"owner":{"account_id":8889721,"reputation":166,"user_id":6636772,"display_name":"anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655343463,"creation_date":1655343463,"answer_id":72639547,"question_id":72637522,"body_markdown":"Annotate FilterDao with @Repository","title":"Consider defining a bean of type &#39;com.example.filter.FilterDao&#39; in your configuration","body":"<p>Annotate FilterDao with @Repository</p>\n"},{"tags":[],"owner":{"account_id":2261604,"reputation":72,"user_id":1991545,"display_name":"abhi_88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663083611,"creation_date":1655392372,"answer_id":72648096,"question_id":72637522,"body_markdown":"Seems spring has not created bean for FilterDao repository and you are trying to use that` \r\n\r\n@Autowired\r\nprivate FilterDao filterDao;`\r\n\r\nThere might different reasons for this exception. Please try the below solution.\r\n\r\n 1. Use @EnableJpaRepositories(basePackages = &quot;com.example.filter&quot;) with your FilterApplication class.\r\n 2. Use @ComponentScan(basePackages = &quot;com.example.*&quot;) with FilterApplication class\r\n 3. Use @Repoitory annotation with FilterDao interface.\r\n\r\nHope this helps. For more details check the below tutorial.\r\n\r\nhttps://javatute.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/\r\n\r\n\r\n  [1]: https://www.netsurfingzone.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/","title":"Consider defining a bean of type &#39;com.example.filter.FilterDao&#39; in your configuration","body":"<p>Seems spring has not created bean for FilterDao repository and you are trying to use that`</p>\n<p>@Autowired\nprivate FilterDao filterDao;`</p>\n<p>There might different reasons for this exception. Please try the below solution.</p>\n<ol>\n<li>Use @EnableJpaRepositories(basePackages = &quot;com.example.filter&quot;) with your FilterApplication class.</li>\n<li>Use @ComponentScan(basePackages = &quot;com.example.*&quot;) with FilterApplication class</li>\n<li>Use @Repoitory annotation with FilterDao interface.</li>\n</ol>\n<p>Hope this helps. For more details check the below tutorial.</p>\n<p><a href=\"https://javatute.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/\" rel=\"nofollow noreferrer\">https://javatute.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/</a></p>\n"}],"owner":{"account_id":23544429,"reputation":129,"user_id":17588101,"display_name":"Usama Hameed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663083611,"creation_date":1655325262,"question_id":72637522,"body_markdown":"I am trying to connect spring boot application with MySQL for that I have created a interface with name FilterDao which extend JpaRepository class. but whenever I try to make object of implemented class in Service I got this error &quot;Consider defining a bean of type &#39;com.example.filter.FilterDao&#39; in your configuration&quot; as I am new to spring boot I don&#39;t understand this error. \r\n\r\nFilterApplication.java\r\n```\r\npackage com.example.filter;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\npublic class FilterApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(FilterApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nFilterDao.java\r\n```\r\npackage com.example.filter;\r\n\r\nimport com.example.filter.Filter;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.domain.Example;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.repository.query.FluentQuery;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.function.Function;\r\n\r\n//@Configuration\r\npublic interface FilterDao extends JpaRepository&lt;Filter, Integer&gt; {\r\n\r\n}\r\n\r\n```\r\nFilterService.java\r\n```\r\npackage com.example.filter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class FilterService {\r\n    @Autowired\r\n    private FilterDao filterDao;\r\n\r\n    public List&lt;Filter&gt; getData() {\r\n        System.out.println(&quot;----------------------HERE-------------&quot;);\r\n        return filterDao.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\nFilterConnector.java\r\n```\r\npackage com.example.filter;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class FilterConnector {\r\n\r\n    @Autowired\r\n    private FilterService filterService;\r\n    @GetMapping(&quot;/home&quot;)\r\n    public List&lt;Filter&gt; home()\r\n    {\r\n\r\n        return this.filterService.getData();\r\n    }\r\n}\r\n\r\n```\r\nProject Structure \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FP8Ky.png","title":"Consider defining a bean of type &#39;com.example.filter.FilterDao&#39; in your configuration","body":"<p>I am trying to connect spring boot application with MySQL for that I have created a interface with name FilterDao which extend JpaRepository class. but whenever I try to make object of implemented class in Service I got this error &quot;Consider defining a bean of type 'com.example.filter.FilterDao' in your configuration&quot; as I am new to spring boot I don't understand this error.</p>\n<p>FilterApplication.java</p>\n<pre><code>package com.example.filter;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class FilterApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FilterApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>FilterDao.java</p>\n<pre><code>package com.example.filter;\n\nimport com.example.filter.Filter;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.domain.Example;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.query.FluentQuery;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.function.Function;\n\n//@Configuration\npublic interface FilterDao extends JpaRepository&lt;Filter, Integer&gt; {\n\n}\n\n</code></pre>\n<p>FilterService.java</p>\n<pre><code>package com.example.filter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\n\n@Service\npublic class FilterService {\n    @Autowired\n    private FilterDao filterDao;\n\n    public List&lt;Filter&gt; getData() {\n        System.out.println(&quot;----------------------HERE-------------&quot;);\n        return filterDao.findAll();\n    }\n}\n\n</code></pre>\n<p>FilterConnector.java</p>\n<pre><code>package com.example.filter;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class FilterConnector {\n\n    @Autowired\n    private FilterService filterService;\n    @GetMapping(&quot;/home&quot;)\n    public List&lt;Filter&gt; home()\n    {\n\n        return this.filterService.getData();\n    }\n}\n\n</code></pre>\n<p>Project Structure\n<a href=\"https://i.stack.imgur.com/FP8Ky.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FP8Ky.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","database","performance","prepared-statement"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1238102454,"post_id":687550,"comment_id":501237,"body_markdown":"If you&#39;re not using PrepardStatements and have no fear of SQL injection attacks, then you don&#39;t know enough about SQL injection attacks.","body":"If you&#39;re not using PrepardStatements and have no fear of SQL injection attacks, then you don&#39;t know enough about SQL injection attacks."},{"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"score":1,"creation_date":1238106320,"post_id":687550,"comment_id":501445,"body_markdown":"not only sql injection, but reduced errors of passing types as strings, escaping special characters, etc.\n\nAlso, you close the PS when you&#39;re done using it, just like everything else, which is generally at the end of a &quot;batch&quot; of updates.  cursor leaks are often from leaving a ResultSet open.","body":"not only sql injection, but reduced errors of passing types as strings, escaping special characters, etc.  Also, you close the PS when you&#39;re done using it, just like everything else, which is generally at the end of a &quot;batch&quot; of updates.  cursor leaks are often from leaving a ResultSet open."},{"owner":{"account_id":37665,"reputation":107191,"user_id":107744,"accept_rate":100,"display_name":"spencer7593"},"score":6,"creation_date":1243974599,"post_id":687550,"comment_id":749940,"body_markdown":"+1 good question, and several good answers.  For Oracle, the big &quot;performance&quot; benefit of prepared statements comes on database server, not one a single statement execution, but on the repeated execution of IDENTICAL SQL text.  You aren&#39;t going to see any performance boost on the single execution of a new statement.  The savings in CPU cycles comes when that statement is executed a second time, a third time.  Oracle skips all of the heavy lifting of the &quot;hard parse&quot;, and reuses the previously prepared query plan.","body":"+1 good question, and several good answers.  For Oracle, the big &quot;performance&quot; benefit of prepared statements comes on database server, not one a single statement execution, but on the repeated execution of IDENTICAL SQL text.  You aren&#39;t going to see any performance boost on the single execution of a new statement.  The savings in CPU cycles comes when that statement is executed a second time, a third time.  Oracle skips all of the heavy lifting of the &quot;hard parse&quot;, and reuses the previously prepared query plan."},{"owner":{"account_id":26480,"reputation":4038,"user_id":68905,"accept_rate":84,"display_name":"jakejgordon"},"score":1,"creation_date":1417798250,"post_id":687550,"comment_id":43100856,"body_markdown":"Geeze, 5 years later and it feels like there still isn&#39;t a good answer out here. In particular, I think an answer to the part about  whether you get any performance benefit when preparing the identical query over and over using different connections is key here. I&#39;ll offer up a bounty for a good, in-depth answer to this one.","body":"Geeze, 5 years later and it feels like there still isn&#39;t a good answer out here. In particular, I think an answer to the part about  whether you get any performance benefit when preparing the identical query over and over using different connections is key here. I&#39;ll offer up a bounty for a good, in-depth answer to this one."},{"owner":{"account_id":4163517,"reputation":2571,"user_id":3413036,"display_name":"isak gilbert"},"score":1,"creation_date":1418259927,"post_id":687550,"comment_id":43271534,"body_markdown":"You say in the question: &quot;There is no way to actually reuse the &#39;ps&#39; java object&quot;. Why not? This is exactly how you will achieve the performance gain.","body":"You say in the question: &quot;There is no way to actually reuse the &#39;ps&#39; java object&quot;. Why not? This is exactly how you will achieve the performance gain."}],"answers":[{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1238102760,"creation_date":1238102760,"answer_id":687600,"question_id":687550,"body_markdown":"Prepared statements are indeed cached after their first use, which is what they provide in performance over standard statements.  If your statement doesn&#39;t change then it&#39;s advised to use this method.  They are generally stored within a statement cache for alter use.\r\n\r\nMore info can be found here:\r\n\r\nhttp://www.theserverside.com/tt/articles/article.tss?l=Prepared-Statments\r\n\r\nand you might want to look at Spring JDBCTemplate as an alternative to using JDBC directly.\r\n\r\nhttp://static.springframework.org/spring/docs/2.0.x/reference/jdbc.html\r\n","title":"PreparedStatements and performance","body":"<p>Prepared statements are indeed cached after their first use, which is what they provide in performance over standard statements.  If your statement doesn't change then it's advised to use this method.  They are generally stored within a statement cache for alter use.</p>\n\n<p>More info can be found here:</p>\n\n<p><a href=\"http://www.theserverside.com/tt/articles/article.tss?l=Prepared-Statments\" rel=\"noreferrer\">http://www.theserverside.com/tt/articles/article.tss?l=Prepared-Statments</a></p>\n\n<p>and you might want to look at Spring JDBCTemplate as an alternative to using JDBC directly.</p>\n\n<p><a href=\"http://static.springframework.org/spring/docs/2.0.x/reference/jdbc.html\" rel=\"noreferrer\">http://static.springframework.org/spring/docs/2.0.x/reference/jdbc.html</a></p>\n"},{"tags":[],"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New 安宇"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1238103039,"creation_date":1238103039,"answer_id":687619,"question_id":687550,"body_markdown":"Prepared statements can improve performance when re-using the same statement that you prepared:\r\n\r\n    PreparedStatement ps = connection.prepare(&quot;SOME SQL&quot;);\r\n\r\n    for (Data data : dataList) {\r\n      ps.setInt(1, data.getId());\r\n      ps.setString(2, data.getValue();\r\n      ps.executeUpdate();\r\n    }\r\n\r\n    ps.close();\r\n\r\nThis is much faster than creating the statement in the loop.\r\n\r\nSome platforms also cache prepared statements so that even if you close them they can be reconstructed more quickly.\r\n\r\nHowever even if the performance were identical you should still use prepared statements to prevent SQL Injection.  At my company this is an interview question; get it wrong and we might not hire you.","title":"PreparedStatements and performance","body":"<p>Prepared statements can improve performance when re-using the same statement that you prepared:</p>\n\n<pre><code>PreparedStatement ps = connection.prepare(\"SOME SQL\");\n\nfor (Data data : dataList) {\n  ps.setInt(1, data.getId());\n  ps.setString(2, data.getValue();\n  ps.executeUpdate();\n}\n\nps.close();\n</code></pre>\n\n<p>This is much faster than creating the statement in the loop.</p>\n\n<p>Some platforms also cache prepared statements so that even if you close them they can be reconstructed more quickly.</p>\n\n<p>However even if the performance were identical you should still use prepared statements to prevent SQL Injection.  At my company this is an interview question; get it wrong and we might not hire you.</p>\n"},{"tags":[],"owner":{"account_id":27071,"reputation":11482,"user_id":71034,"display_name":"Dan Breslau"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1238103093,"creation_date":1238103093,"answer_id":687624,"question_id":687550,"body_markdown":"Anecdotally: I did some experiments with prepared vs. dynamic statements using ODBC in Java 1.4 some years ago, with both Oracle and SQL Server back-ends. I found that prepared statements could be as much as 20% faster for certain queries, but there were vendor-specific differences regarding which queries were improved to what extent. (This should not be surprising, really.)\r\n\r\nThe bottom line is that if you will be re-using the same query repeatedly, prepared statements may help improve performance; but if your performance is bad enough that you need to do something about it immediately, don&#39;t count on the use of prepared statements to give you a radical boost. (20% is usually nothing to write home about.)\r\n\r\nYour mileage may vary, of course.","title":"PreparedStatements and performance","body":"<p>Anecdotally: I did some experiments with prepared vs. dynamic statements using ODBC in Java 1.4 some years ago, with both Oracle and SQL Server back-ends. I found that prepared statements could be as much as 20% faster for certain queries, but there were vendor-specific differences regarding which queries were improved to what extent. (This should not be surprising, really.)</p>\n\n<p>The bottom line is that if you will be re-using the same query repeatedly, prepared statements may help improve performance; but if your performance is bad enough that you need to do something about it immediately, don't count on the use of prepared statements to give you a radical boost. (20% is usually nothing to write home about.)</p>\n\n<p>Your mileage may vary, of course.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1238104198,"creation_date":1238104198,"answer_id":687697,"question_id":687550,"body_markdown":"The notion that prepared statements are primarily about performance is something of a misconception, although it&#39;s quite a common one.\r\n\r\nAnother poster mentioned that he noted a speed improvement of about 20% in Oracle and SQL Server. I&#39;ve noted a similar figure with MySQL. It turns out that parsing the query just isn&#39;t such a significant part of the work involved. On a very busy database system, it&#39;s also not clear that query parsing will affect overall throughput: overall, it&#39;ll probably just be using up CPU time that would otherwise be idle while data was coming back from the disk.\r\n\r\nSo as a reason for using prepared statements, the **protection against SQL injection attacks far outweighs** the performance improvement. And if you&#39;re not worried about SQL injection attacks, you probably should be...","title":"PreparedStatements and performance","body":"<p>The notion that prepared statements are primarily about performance is something of a misconception, although it's quite a common one.</p>\n\n<p>Another poster mentioned that he noted a speed improvement of about 20% in Oracle and SQL Server. I've noted a similar figure with MySQL. It turns out that parsing the query just isn't such a significant part of the work involved. On a very busy database system, it's also not clear that query parsing will affect overall throughput: overall, it'll probably just be using up CPU time that would otherwise be idle while data was coming back from the disk.</p>\n\n<p>So as a reason for using prepared statements, the <strong>protection against SQL injection attacks far outweighs</strong> the performance improvement. And if you're not worried about SQL injection attacks, you probably should be...</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1238107889,"creation_date":1238107889,"answer_id":687860,"question_id":687550,"body_markdown":"Parsing the SQL isn&#39;t the only thing that&#39;s going on.  There&#39;s validating that the tables and columns do indeed exist, creating a query plan, etc.  You pay that once with a PreparedStatement.\r\n\r\nBinding to guard against SQL injection is a very good thing, indeed.  Not sufficient, IMO.  You still should validate input prior to getting to the persistence layer.\r\n","title":"PreparedStatements and performance","body":"<p>Parsing the SQL isn't the only thing that's going on.  There's validating that the tables and columns do indeed exist, creating a query plan, etc.  You pay that once with a PreparedStatement.</p>\n\n<p>Binding to guard against SQL injection is a very good thing, indeed.  Not sufficient, IMO.  You still should validate input prior to getting to the persistence layer.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418026374,"creation_date":1418026374,"answer_id":27353849,"question_id":687550,"body_markdown":"*Which is what brings me back to the original question. Is this &quot;some sql&quot; PreparedStatement still being cached and reused under the covers that I dont know about?*\n\nYes at least with Oracle. Per Oracle&#174; Database JDBC Developer&#39;s Guide [Implicit Statement Caching](http://docs.oracle.com/cd/E18283_01/java.112/e16548/stmtcach.htm#i1071993) (emphasis added),\n\n&gt; When you enable implicit Statement caching, JDBC automatically caches the prepared or callable statement when you call the `close` method of this statement object. The prepared and callable statements are cached and retrieved using standard connection object and statement object methods.\n&gt;\n&gt; Plain statements are not implicitly cached, because implicit Statement caching uses a SQL string as a key and plain statements are created without a SQL string. Therefore, implicit Statement caching applies only to the `OraclePreparedStatement` and `OracleCallableStatement` objects, which are created with a SQL string. You cannot use implicit Statement caching with OracleStatement. When you create an `OraclePreparedStatement` or `OracleCallableStatement`, the JDBC driver **automatically searches the cache for a matching statement**.","title":"PreparedStatements and performance","body":"<p><em>Which is what brings me back to the original question. Is this &quot;some sql&quot; PreparedStatement still being cached and reused under the covers that I dont know about?</em></p>\n<p>Yes at least with Oracle. Per Oracle® Database JDBC Developer's Guide <a href=\"http://docs.oracle.com/cd/E18283_01/java.112/e16548/stmtcach.htm#i1071993\" rel=\"nofollow noreferrer\">Implicit Statement Caching</a> (emphasis added),</p>\n<blockquote>\n<p>When you enable implicit Statement caching, JDBC automatically caches the prepared or callable statement when you call the <code>close</code> method of this statement object. The prepared and callable statements are cached and retrieved using standard connection object and statement object methods.</p>\n<p>Plain statements are not implicitly cached, because implicit Statement caching uses a SQL string as a key and plain statements are created without a SQL string. Therefore, implicit Statement caching applies only to the <code>OraclePreparedStatement</code> and <code>OracleCallableStatement</code> objects, which are created with a SQL string. You cannot use implicit Statement caching with OracleStatement. When you create an <code>OraclePreparedStatement</code> or <code>OracleCallableStatement</code>, the JDBC driver <strong>automatically searches the cache for a matching statement</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5356521,"reputation":4071,"user_id":4269046,"accept_rate":69,"display_name":"Nicola Ferraro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418259851,"creation_date":1418259076,"answer_id":27413593,"question_id":687550,"body_markdown":"Prepared statements have some advantages in terms of performance with respect to normal statements, depending on how you use them. As someone stated before, if you need to execute the same query multiple times with different parameters, you can reuse the prepared statement and pass only the new parameter set. The performance improvement depends on the specific driver and database you are using.\r\n\r\nAs instance, in terms of database performance, Oracle database caches the execution plan of some queries after each computation (this is not true for all versions and all configuration of Oracle). You can find improvements even if you close a statement and open a new one, because this is done at RDBMS level. This kind of caching is activated only if the two subsequent queries are (char-by-char) the same. This does not holds for normal statements because the parameters are part of the query and produce different SQL strings. \r\n\r\nSome other RDBMS can be more &quot;intelligent&quot;, but I don&#39;t expect they will use complex pattern matching algorithms for caching the execution plans because it would lower performance. You may argue that the computation of the execution plan is only a small part of the query execution. For the general case, I agree, but.. it depends. Keep in mind that, usually, computing an execution plan can be an expensive task, because the rdbms needs to consult off-memory data like statistics (not only Oracle).\r\n\r\nHowever, the argument about caching range from execution-plans to other parts of the extraction process. Giving to the RDBMS multiple times the same query (without going in depth for a particular implementation) helps identifying already computed structures at JDBC (driver) or RDBMS level. If you don&#39;t find any particular advantage in performance now, you can&#39;t exclude that performance improvement will be implemented in future/alternative versions of the driver/rdbms.\r\n\r\nPerformance improvements for updates can be obtained by using prepared statements in batch-mode but this is another story.","title":"PreparedStatements and performance","body":"<p>Prepared statements have some advantages in terms of performance with respect to normal statements, depending on how you use them. As someone stated before, if you need to execute the same query multiple times with different parameters, you can reuse the prepared statement and pass only the new parameter set. The performance improvement depends on the specific driver and database you are using.</p>\n\n<p>As instance, in terms of database performance, Oracle database caches the execution plan of some queries after each computation (this is not true for all versions and all configuration of Oracle). You can find improvements even if you close a statement and open a new one, because this is done at RDBMS level. This kind of caching is activated only if the two subsequent queries are (char-by-char) the same. This does not holds for normal statements because the parameters are part of the query and produce different SQL strings. </p>\n\n<p>Some other RDBMS can be more \"intelligent\", but I don't expect they will use complex pattern matching algorithms for caching the execution plans because it would lower performance. You may argue that the computation of the execution plan is only a small part of the query execution. For the general case, I agree, but.. it depends. Keep in mind that, usually, computing an execution plan can be an expensive task, because the rdbms needs to consult off-memory data like statistics (not only Oracle).</p>\n\n<p>However, the argument about caching range from execution-plans to other parts of the extraction process. Giving to the RDBMS multiple times the same query (without going in depth for a particular implementation) helps identifying already computed structures at JDBC (driver) or RDBMS level. If you don't find any particular advantage in performance now, you can't exclude that performance improvement will be implemented in future/alternative versions of the driver/rdbms.</p>\n\n<p>Performance improvements for updates can be obtained by using prepared statements in batch-mode but this is another story.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1418904392,"creation_date":1418293835,"answer_id":27420644,"question_id":687550,"body_markdown":"&gt; So how does it help with performance? Does the driver cache the\r\n&gt; precompiled statement and give me a copy the next time I do\r\n&gt; connection.prepareStatement? Or does the DB server help?\r\n\r\nI will answer in terms of performance. Others here have already stipulated that `PreparedStatement`s are resilient to SQL injection (blessed advantage).\r\n\r\nThe application (JDBC Driver) creates the `PreparedStatement` and passes it to the RDBMS with placeholders (the `?`). The RDBMS precompiles, applying query optimization (if needed) of the received `PreparedStatement` and (in some) generally caches them. During execution of the `PreparedStatement`, the precompiled `PreparedStatement` is used, replacing each placeholders with their relevant values and calculated. This is in contrast to `Statement` which compiles it and executes it directly, the `PreparedStatement` compiles and optimizes the query *only once*. Now, this scenario explained above is not an absolute case by ALL JDBC vendors but in essence that&#39;s how `PreparedStatement` are used and operated on.\r\n","title":"PreparedStatements and performance","body":"<blockquote>\n  <p>So how does it help with performance? Does the driver cache the\n  precompiled statement and give me a copy the next time I do\n  connection.prepareStatement? Or does the DB server help?</p>\n</blockquote>\n\n<p>I will answer in terms of performance. Others here have already stipulated that <code>PreparedStatement</code>s are resilient to SQL injection (blessed advantage).</p>\n\n<p>The application (JDBC Driver) creates the <code>PreparedStatement</code> and passes it to the RDBMS with placeholders (the <code>?</code>). The RDBMS precompiles, applying query optimization (if needed) of the received <code>PreparedStatement</code> and (in some) generally caches them. During execution of the <code>PreparedStatement</code>, the precompiled <code>PreparedStatement</code> is used, replacing each placeholders with their relevant values and calculated. This is in contrast to <code>Statement</code> which compiles it and executes it directly, the <code>PreparedStatement</code> compiles and optimizes the query <em>only once</em>. Now, this scenario explained above is not an absolute case by ALL JDBC vendors but in essence that's how <code>PreparedStatement</code> are used and operated on.</p>\n"},{"tags":[],"owner":{"account_id":2098088,"reputation":1983,"user_id":1866426,"accept_rate":25,"display_name":"Siva Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418360017,"creation_date":1418360017,"answer_id":27437091,"question_id":687550,"body_markdown":"**1. PreparedStatement allows you to write dynamic and parametric query**\r\n\r\nBy using PreparedStatement in Java you can write parametrized sql queries and send different parameters by using same sql queries which is lot better than creating different queries. \r\n\r\n\r\n**2. PreparedStatement is faster than Statement in Java**\r\n\r\nOne of the major benefits of using PreparedStatement is better performance. PreparedStatement gets pre compiled\r\nIn database and there access plan is also cached in database, which allows database to execute parametric query written using prepared statement much faster than normal query because it has less work to do. You should always try to use PreparedStatement in production JDBC code to reduce load on database. In order to get performance benefit its worth noting to use only parametrized version of sql query and not with string concatenation\r\n\r\n**3. PreparedStatement prevents SQL Injection attacks in Java**\r\n\r\n\r\nRead more: http://javarevisited.blogspot.com/2012/03/why-use-preparedstatement-in-java-jdbc.html#ixzz3LejuMnVL","title":"PreparedStatements and performance","body":"<p><strong>1. PreparedStatement allows you to write dynamic and parametric query</strong></p>\n\n<p>By using PreparedStatement in Java you can write parametrized sql queries and send different parameters by using same sql queries which is lot better than creating different queries. </p>\n\n<p><strong>2. PreparedStatement is faster than Statement in Java</strong></p>\n\n<p>One of the major benefits of using PreparedStatement is better performance. PreparedStatement gets pre compiled\nIn database and there access plan is also cached in database, which allows database to execute parametric query written using prepared statement much faster than normal query because it has less work to do. You should always try to use PreparedStatement in production JDBC code to reduce load on database. In order to get performance benefit its worth noting to use only parametrized version of sql query and not with string concatenation</p>\n\n<p><strong>3. PreparedStatement prevents SQL Injection attacks in Java</strong></p>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2012/03/why-use-preparedstatement-in-java-jdbc.html#ixzz3LejuMnVL\" rel=\"nofollow\">http://javarevisited.blogspot.com/2012/03/why-use-preparedstatement-in-java-jdbc.html#ixzz3LejuMnVL</a></p>\n"},{"tags":[],"owner":{"account_id":30900,"reputation":9089,"user_id":84540,"accept_rate":81,"display_name":"nybon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498543834,"creation_date":1453283343,"answer_id":34896621,"question_id":687550,"body_markdown":"**Short answer:**\n\nPreparedStatement helps performance because typically DB clients perform the same query repetitively, and this makes it possible to **do some pre-processing** for the initial query **to speed up the following repetitive queries**.\n\n\n**Long answer:**\n\nAccording to [Wikipedia][1], the typical workflow of using a prepared statement is as follows:\n\n&gt; **Prepare**: The statement template is created by the application and sent\n&gt; to the database management system (DBMS). Certain values are left\n&gt; unspecified, called parameters, placeholders or bind variables\n&gt; (labelled &quot;?&quot; below): INSERT INTO PRODUCT (name, price) VALUES (?, ?)\n&gt;\n&gt; **(Pre-compilation)**: The DBMS parses, compiles, and performs query optimization on the\n&gt; statement template, and stores the result without executing it.\n&gt;\n&gt; **Execute**: At a later time, the application supplies (or binds) values\n&gt; for the parameters, and the DBMS executes the statement (possibly\n&gt; returning a result). The application may execute the statement as many\n&gt; times as it wants with different values. In this example, it might\n&gt; supply &#39;Bread&#39; for the first parameter and &#39;1.00&#39; for the second\n&gt; parameter.\n\n**Prepare:**\n\nIn JDBC, the &quot;Prepare&quot; step is done by calling java.sql.Connection.[prepareStatement][2](String sql) API. According to its Javadoc:\n\n&gt; This method is optimized for handling parametric SQL statements that benefit from precompilation. If the driver supports precompilation, the method prepareStatement will send the statement to the database for precompilation. Some drivers may not support precompilation. In this case, the statement may not be sent to the database until the PreparedStatement object is executed. This has no direct effect on users; however, it does affect which methods throw certain SQLException objects.\n\nSince calling this API may send the SQL statement to database, it is an expensive call typically. Depending on JDBC driver&#39;s implementation, if you have the same sql statement template, for better performance, you may have to avoiding calling this API multiple times in client side for the same sql statement template.\n\n**Precompilation:**\n\nThe sent statement template will be **pre-compiled on database** and cached in db server. The database will probably use the connection and sql statement template as the key, and the pre-compiled query and the computed query plan as value in the cache. Parsing query may need to validate table, columns to be queried, so it could be an expensive operation, and computation of [query plan][3] is an expensive operation too.\n\n**Execute:**\n\nFor following queries from the same connection and sql statement template, the pre-compiled query and query plan will be looked up directly from cache by database server without re-computation again. \n\n**Conclusion:**\n\nFrom performance perspective, using prepare statement is a two-phase process:\n\n 1. Phase 1, prepare-and-precompilation, this phase is expected to be\n    done once and add some overhead for the performance. \n 1. Phase 2,\n    repeated executions of the same query, since phase 1 has some pre\n    processing for the query, if the number of repeating query is large\n    enough, this can save lots of pre-processing effort for the same\n    query.\n\nAnd if you want to know more details, there are some articles explaining the benefits of PrepareStatement:\n\n 1. http://javarevisited.blogspot.com/2012/03/why-use-preparedstatement-in-java-jdbc.html\n 1. http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\n\n  [1]: https://en.wikipedia.org/wiki/Prepared_statement\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement(java.lang.String)\n  [3]: https://en.wikipedia.org/wiki/Query_plan","title":"PreparedStatements and performance","body":"<p><strong>Short answer:</strong></p>\n<p>PreparedStatement helps performance because typically DB clients perform the same query repetitively, and this makes it possible to <strong>do some pre-processing</strong> for the initial query <strong>to speed up the following repetitive queries</strong>.</p>\n<p><strong>Long answer:</strong></p>\n<p>According to <a href=\"https://en.wikipedia.org/wiki/Prepared_statement\" rel=\"nofollow noreferrer\">Wikipedia</a>, the typical workflow of using a prepared statement is as follows:</p>\n<blockquote>\n<p><strong>Prepare</strong>: The statement template is created by the application and sent\nto the database management system (DBMS). Certain values are left\nunspecified, called parameters, placeholders or bind variables\n(labelled &quot;?&quot; below): INSERT INTO PRODUCT (name, price) VALUES (?, ?)</p>\n<p><strong>(Pre-compilation)</strong>: The DBMS parses, compiles, and performs query optimization on the\nstatement template, and stores the result without executing it.</p>\n<p><strong>Execute</strong>: At a later time, the application supplies (or binds) values\nfor the parameters, and the DBMS executes the statement (possibly\nreturning a result). The application may execute the statement as many\ntimes as it wants with different values. In this example, it might\nsupply 'Bread' for the first parameter and '1.00' for the second\nparameter.</p>\n</blockquote>\n<p><strong>Prepare:</strong></p>\n<p>In JDBC, the &quot;Prepare&quot; step is done by calling java.sql.Connection.<a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement(java.lang.String)\" rel=\"nofollow noreferrer\">prepareStatement</a>(String sql) API. According to its Javadoc:</p>\n<blockquote>\n<p>This method is optimized for handling parametric SQL statements that benefit from precompilation. If the driver supports precompilation, the method prepareStatement will send the statement to the database for precompilation. Some drivers may not support precompilation. In this case, the statement may not be sent to the database until the PreparedStatement object is executed. This has no direct effect on users; however, it does affect which methods throw certain SQLException objects.</p>\n</blockquote>\n<p>Since calling this API may send the SQL statement to database, it is an expensive call typically. Depending on JDBC driver's implementation, if you have the same sql statement template, for better performance, you may have to avoiding calling this API multiple times in client side for the same sql statement template.</p>\n<p><strong>Precompilation:</strong></p>\n<p>The sent statement template will be <strong>pre-compiled on database</strong> and cached in db server. The database will probably use the connection and sql statement template as the key, and the pre-compiled query and the computed query plan as value in the cache. Parsing query may need to validate table, columns to be queried, so it could be an expensive operation, and computation of <a href=\"https://en.wikipedia.org/wiki/Query_plan\" rel=\"nofollow noreferrer\">query plan</a> is an expensive operation too.</p>\n<p><strong>Execute:</strong></p>\n<p>For following queries from the same connection and sql statement template, the pre-compiled query and query plan will be looked up directly from cache by database server without re-computation again.</p>\n<p><strong>Conclusion:</strong></p>\n<p>From performance perspective, using prepare statement is a two-phase process:</p>\n<ol>\n<li>Phase 1, prepare-and-precompilation, this phase is expected to be\ndone once and add some overhead for the performance.</li>\n<li>Phase 2,\nrepeated executions of the same query, since phase 1 has some pre\nprocessing for the query, if the number of repeating query is large\nenough, this can save lots of pre-processing effort for the same\nquery.</li>\n</ol>\n<p>And if you want to know more details, there are some articles explaining the benefits of PrepareStatement:</p>\n<ol>\n<li><a href=\"http://javarevisited.blogspot.com/2012/03/why-use-preparedstatement-in-java-jdbc.html\" rel=\"nofollow noreferrer\">http://javarevisited.blogspot.com/2012/03/why-use-preparedstatement-in-java-jdbc.html</a></li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5614833,"reputation":11,"user_id":5730454,"display_name":"John D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663083462,"creation_date":1662204055,"answer_id":73591840,"question_id":687550,"body_markdown":"Ok finally there is a paper that tests this, and the conclusion is that it doesn&#39;t improve performance, and in some cases its slower:\r\nhttps://ieeexplore.ieee.org/document/9854303\r\n\r\nPDF: https://www.bib.irb.hr/1205158/download/1205158.Performance_analysis_of_SQL_Prepared_Statements_in_CRUD_operations_final.pdf\r\n\r\n","title":"PreparedStatements and performance","body":"<p>Ok finally there is a paper that tests this, and the conclusion is that it doesn't improve performance, and in some cases its slower:\n<a href=\"https://ieeexplore.ieee.org/document/9854303\" rel=\"nofollow noreferrer\">https://ieeexplore.ieee.org/document/9854303</a></p>\n<p>PDF: <a href=\"https://www.bib.irb.hr/1205158/download/1205158.Performance_analysis_of_SQL_Prepared_Statements_in_CRUD_operations_final.pdf\" rel=\"nofollow noreferrer\">https://www.bib.irb.hr/1205158/download/1205158.Performance_analysis_of_SQL_Prepared_Statements_in_CRUD_operations_final.pdf</a></p>\n"}],"owner":{"account_id":19488,"reputation":20991,"user_id":45730,"accept_rate":53,"display_name":"Kapsh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38673,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":11,"score":60,"last_activity_date":1663083462,"creation_date":1238101814,"question_id":687550,"body_markdown":"So I keep hearing that PreparedStatements are good for performance.\r\n\r\nWe have a Java application in which we use the regular &#39;Statement&#39; more than we use the &#39;PreparedStatement&#39;. While trying to move towards using more PreparedStatements, I am trying to get a more thorough understanding of how PreparedStatements work - on the client side and the server side.\r\n\r\nSo if we have some typical CRUD operations and update an object repeatedly in the application, does it help to use a PS? I understand that we will have to close the PS every time otherwise it will result in a cursor leak.\r\n\r\nSo how does it help with performance? Does the driver cache the precompiled statement and give me a copy the next time I do connection.prepareStatement? Or does the DB server help? \r\n\r\nI understand the argument about the security benefits of PreparedStatements and I appreciate the answers below which emphasize it. However I really want to keep this discussion focused on the performance benefits of PreparedStatements.\r\n\r\nUpdate: When I say update data, I really mean more in terms of that method randomly being called several times. I understand the advantage in the answer offered below which asks to re-use the statement inside a loop.\r\n   \r\n   \r\n\r\n        // some code blah blah\r\n        update();\r\n\r\n        // some more code blah blah \r\n        update();\r\n\r\n    .... \r\n\r\n    public void update () throws SQLException{\r\n     try{\r\n          PreparedStatement ps = connection.prepareStatement(&quot;some sql&quot;);\r\n          ps.setString(1, &quot;foobar1&quot;);\r\n          ps.setString(2, &quot;foobar2&quot;);\r\n          ps.execute();\r\n     }finally {\r\n         ps.close();\r\n         \r\n     }\r\n\r\n    }\r\n    \r\n\r\n\r\nThere is no way to actually reuse the &#39;ps&#39; java object and I understand that the actual connection.prepareStatement call is quite expensive. \r\n\r\nWhich is what brings me back to the original question. Is this &quot;some sql&quot; PreparedStatement still being cached and reused under the covers that I dont know about?\r\n\r\nI should also mention that we support several databases.\r\n\r\nThanks in advance.","title":"PreparedStatements and performance","body":"<p>So I keep hearing that PreparedStatements are good for performance.</p>\n\n<p>We have a Java application in which we use the regular 'Statement' more than we use the 'PreparedStatement'. While trying to move towards using more PreparedStatements, I am trying to get a more thorough understanding of how PreparedStatements work - on the client side and the server side.</p>\n\n<p>So if we have some typical CRUD operations and update an object repeatedly in the application, does it help to use a PS? I understand that we will have to close the PS every time otherwise it will result in a cursor leak.</p>\n\n<p>So how does it help with performance? Does the driver cache the precompiled statement and give me a copy the next time I do connection.prepareStatement? Or does the DB server help? </p>\n\n<p>I understand the argument about the security benefits of PreparedStatements and I appreciate the answers below which emphasize it. However I really want to keep this discussion focused on the performance benefits of PreparedStatements.</p>\n\n<p>Update: When I say update data, I really mean more in terms of that method randomly being called several times. I understand the advantage in the answer offered below which asks to re-use the statement inside a loop.</p>\n\n<pre><code>    // some code blah blah\n    update();\n\n    // some more code blah blah \n    update();\n\n.... \n\npublic void update () throws SQLException{\n try{\n      PreparedStatement ps = connection.prepareStatement(\"some sql\");\n      ps.setString(1, \"foobar1\");\n      ps.setString(2, \"foobar2\");\n      ps.execute();\n }finally {\n     ps.close();\n\n }\n\n}\n</code></pre>\n\n<p>There is no way to actually reuse the 'ps' java object and I understand that the actual connection.prepareStatement call is quite expensive. </p>\n\n<p>Which is what brings me back to the original question. Is this \"some sql\" PreparedStatement still being cached and reused under the covers that I dont know about?</p>\n\n<p>I should also mention that we support several databases.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","intellij-idea","wildfly","remote-debugging","jpda"],"answers":[{"tags":[],"owner":{"account_id":26325700,"reputation":11,"user_id":19987048,"display_name":"NikolayD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663082764,"creation_date":1663082764,"answer_id":73705591,"question_id":73705310,"body_markdown":"The HotSwap mechanism in InteliJ Idea lets you reload classes changed during a debugging session without having to restart the entire application.\r\n\r\nReload single file\r\n------------------\r\n\r\n&gt; Right-click in the editor tab of the modified file and select Compile\r\n&gt; and Reload File.\r\n&gt; \r\n&gt; You can also configure automatic reloading of classes after they have\r\n&gt; been recompiled using the Reload classes after compilation option in\r\n&gt; Settings/Preferences | Build, Execution, Deployment | Debugger |\r\n&gt; HotSwap. Automatic reloading can be enabled/disabled, or you can\r\n&gt; configure it so that the debugger asks you whether to reload the file\r\n&gt; in each specific case.\r\n\r\nReload all files\r\n----------------\r\n\r\n&gt; From the main menu, select Run | Debugging Actions | Reload Changed\r\n&gt; Classes.\r\n&gt; \r\n&gt; Recompilation happens automatically if the Build project before\r\n&gt; reloading classes option is enabled in Settings/Preferences | Build,\r\n&gt; Execution, Deployment | Debugger | HotSwap. If this option is\r\n&gt; disabled, you need to recompile the files before reloading (Build |\r\n&gt; Recompile Ctrl+Shift+F9).\r\n\r\n","title":"Is there an &quot;Apply changes&quot; feature when remote debugging with intelij idea?","body":"<p>The HotSwap mechanism in InteliJ Idea lets you reload classes changed during a debugging session without having to restart the entire application.</p>\n<h2>Reload single file</h2>\n<blockquote>\n<p>Right-click in the editor tab of the modified file and select Compile\nand Reload File.</p>\n<p>You can also configure automatic reloading of classes after they have\nbeen recompiled using the Reload classes after compilation option in\nSettings/Preferences | Build, Execution, Deployment | Debugger |\nHotSwap. Automatic reloading can be enabled/disabled, or you can\nconfigure it so that the debugger asks you whether to reload the file\nin each specific case.</p>\n</blockquote>\n<h2>Reload all files</h2>\n<blockquote>\n<p>From the main menu, select Run | Debugging Actions | Reload Changed\nClasses.</p>\n<p>Recompilation happens automatically if the Build project before\nreloading classes option is enabled in Settings/Preferences | Build,\nExecution, Deployment | Debugger | HotSwap. If this option is\ndisabled, you need to recompile the files before reloading (Build |\nRecompile Ctrl+Shift+F9).</p>\n</blockquote>\n"}],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663082764,"creation_date":1663081676,"question_id":73705310,"body_markdown":"When using JPDA remote debugging feature with netbeans there is an &quot;Apply changes&quot; feature. This tries to apply the current code changes in the remote jvm.\r\n\r\nIs there such a feature with `intelij idea`? If not, is there any other way to perform this? e.g. via command line?","title":"Is there an &quot;Apply changes&quot; feature when remote debugging with intelij idea?","body":"<p>When using JPDA remote debugging feature with netbeans there is an &quot;Apply changes&quot; feature. This tries to apply the current code changes in the remote jvm.</p>\n<p>Is there such a feature with <code>intelij idea</code>? If not, is there any other way to perform this? e.g. via command line?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1663080582,"post_id":73704929,"comment_id":130152577,"body_markdown":"`.filter(x -&gt; thirdPartySet != null || !x.startWith(&quot;Al&quot;))`?","body":"<code>.filter(x -&gt; thirdPartySet != null || !x.startWith(&quot;Al&quot;))</code>?"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":2,"creation_date":1663080644,"post_id":73704929,"comment_id":130152612,"body_markdown":"Or add an &quot;else true&quot; to the ternary: `filter(x -&gt; thirdPartySet == null ? !x.startsWith(&quot;Al&quot;) : true)`. But what exactly is the purpose of `thirdPartySet`? Are those the prefixes to be filtered out?","body":"Or add an &quot;else true&quot; to the ternary: <code>filter(x -&gt; thirdPartySet == null ? !x.startsWith(&quot;Al&quot;) : true)</code>. But what exactly is the purpose of <code>thirdPartySet</code>? Are those the prefixes to be filtered out?"},{"owner":{"account_id":16688975,"reputation":161,"user_id":12062075,"display_name":"Anam Qureshi"},"score":0,"creation_date":1663081031,"post_id":73704929,"comment_id":130152786,"body_markdown":"@tobias_k Thank you it works! actually it contains some kind of results and if it is null then I need to remove few names from filtered set","body":"@tobias_k Thank you it works! actually it contains some kind of results and if it is null then I need to remove few names from filtered set"}],"answers":[{"tags":[],"owner":{"account_id":7855019,"reputation":117,"user_id":5937189,"display_name":"Edson Passos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663082573,"creation_date":1663080830,"answer_id":73705106,"question_id":73704929,"body_markdown":"If thirdPartySet is null, check if x doesn&#39;t start with &quot;Al&quot;:\r\n```java\r\nfilter(x -&gt; thirdPartySet != null || !x.startsWith(&quot;Al&quot;))\r\n```\r\n\r\nYou asked about an if:\r\n```java\r\nfilter(x -&gt; {\r\n    if (thirdPartySet == null) {\r\n        return !x.startsWith(&quot;Al&quot;);\r\n    }\r\n    return true;\r\n})\r\n```","title":"How to use a single conditional statement while streaming a Set&lt;String&gt;","body":"<p>If thirdPartySet is null, check if x doesn't start with &quot;Al&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>filter(x -&gt; thirdPartySet != null || !x.startsWith(&quot;Al&quot;))\n</code></pre>\n<p>You asked about an if:</p>\n<pre class=\"lang-java prettyprint-override\"><code>filter(x -&gt; {\n    if (thirdPartySet == null) {\n        return !x.startsWith(&quot;Al&quot;);\n    }\n    return true;\n})\n</code></pre>\n"}],"owner":{"account_id":16688975,"reputation":161,"user_id":12062075,"display_name":"Anam Qureshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663082573,"creation_date":1663080064,"question_id":73704929,"body_markdown":"I have a `Set&lt;String&gt; allNames`. I am creating a new Set by applying some filtering.\r\n\r\n```java\r\nSet&lt;String&gt; allNames = Set.of(\r\n    &quot;Alex&quot;,\r\n    &quot;Joseph&quot;,\r\n    &quot;Mark&quot;,\r\n    &quot;John&quot;,\r\n    &quot;Peter&quot;,\r\n    &quot;Joe&quot;,\r\n    &quot;Adam&quot;,\r\n    &quot;Harry&quot;,\r\n    &quot;Jacob&quot;,\r\n    &quot;Alan&quot;\r\n);\r\nSet&lt;String&gt; filteredSet = allNames.stream()\r\n    .filter(name -&gt; names.startsWith(&quot;Jo&quot;)\r\n    .collect(toSet());\r\n```\r\n\r\nI have another `Set&lt;String&gt; thirdPartySet` coming from some API call. I want to check if this thirdPartySet is null then filtered out the names which are starting from `Al` otherwise keep them.\r\n\r\nI tried to use `filter(x -&gt; thirdPartySet == null ? !x.startsWith(&quot;Al&quot;))` but since it&#39;s a ternary operator it is asking an else conditon. Is there any way I can achieve `if condition` while streaming?","title":"How to use a single conditional statement while streaming a Set&lt;String&gt;","body":"<p>I have a <code>Set&lt;String&gt; allNames</code>. I am creating a new Set by applying some filtering.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; allNames = Set.of(\n    &quot;Alex&quot;,\n    &quot;Joseph&quot;,\n    &quot;Mark&quot;,\n    &quot;John&quot;,\n    &quot;Peter&quot;,\n    &quot;Joe&quot;,\n    &quot;Adam&quot;,\n    &quot;Harry&quot;,\n    &quot;Jacob&quot;,\n    &quot;Alan&quot;\n);\nSet&lt;String&gt; filteredSet = allNames.stream()\n    .filter(name -&gt; names.startsWith(&quot;Jo&quot;)\n    .collect(toSet());\n</code></pre>\n<p>I have another <code>Set&lt;String&gt; thirdPartySet</code> coming from some API call. I want to check if this thirdPartySet is null then filtered out the names which are starting from <code>Al</code> otherwise keep them.</p>\n<p>I tried to use <code>filter(x -&gt; thirdPartySet == null ? !x.startsWith(&quot;Al&quot;))</code> but since it's a ternary operator it is asking an else conditon. Is there any way I can achieve <code>if condition</code> while streaming?</p>\n"},{"tags":["java","thread-local","static-block"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1363113822,"creation_date":1363113822,"answer_id":15369526,"question_id":15369476,"body_markdown":"You just override the `initialValue()` method:\r\n\r\n    private static ThreadLocal&lt;List&lt;String&gt;&gt; myThreadLocal =\r\n        new ThreadLocal&lt;List&lt;String&gt;&gt;() {\r\n            @Override public List&lt;String&gt; initialValue() {\r\n                return new ArrayList&lt;String&gt;();\r\n            }\r\n        };","title":"How to initialize ThreadLocal objects in Java","body":"<p>You just override the <code>initialValue()</code> method:</p>\n\n<pre><code>private static ThreadLocal&lt;List&lt;String&gt;&gt; myThreadLocal =\n    new ThreadLocal&lt;List&lt;String&gt;&gt;() {\n        @Override public List&lt;String&gt; initialValue() {\n            return new ArrayList&lt;String&gt;();\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1497368927,"creation_date":1363114844,"answer_id":15369859,"question_id":15369476,"body_markdown":"Your solution is fine. A little simplification:\r\n\r\n    private static Whatever getMyVariable() \r\n    {\r\n        Whatever w = myThreadLocalVariable.get();\r\n        if(w == null) \r\n            myThreadLocalVariable.set(w=new Whatever());\r\n        return w; \r\n    } \r\n\r\nIn Java 8, we are able to do:\r\n\r\n    ThreadLocal&lt;ArrayList&lt;Whatever&gt;&gt; myThreadLocal = ThreadLocal.withInitial(ArrayList::new);\r\n\r\nwhich uses the [`Supplier&lt;T&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html) functional interface.\r\n","title":"How to initialize ThreadLocal objects in Java","body":"<p>Your solution is fine. A little simplification:</p>\n\n<pre><code>private static Whatever getMyVariable() \n{\n    Whatever w = myThreadLocalVariable.get();\n    if(w == null) \n        myThreadLocalVariable.set(w=new Whatever());\n    return w; \n} \n</code></pre>\n\n<p>In Java 8, we are able to do:</p>\n\n<pre><code>ThreadLocal&lt;ArrayList&lt;Whatever&gt;&gt; myThreadLocal = ThreadLocal.withInitial(ArrayList::new);\n</code></pre>\n\n<p>which uses the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"noreferrer\"><code>Supplier&lt;T&gt;</code></a> functional interface.</p>\n"},{"tags":[],"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1497447389,"creation_date":1495616423,"answer_id":44153693,"question_id":15369476,"body_markdown":"The accepted answer is outdated in JDK8. This is the best way since then:\r\n\r\n    private static final ThreadLocal&lt;List&lt;Foo&gt;&gt; A_LIST = \r\n        ThreadLocal.withInitial(ArrayList::new);","title":"How to initialize ThreadLocal objects in Java","body":"<p>The accepted answer is outdated in JDK8. This is the best way since then:</p>\n\n<pre><code>private static final ThreadLocal&lt;List&lt;Foo&gt;&gt; A_LIST = \n    ThreadLocal.withInitial(ArrayList::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5412976,"reputation":1,"user_id":4309095,"display_name":"Devesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663082522,"creation_date":1663082522,"answer_id":73705533,"question_id":15369476,"body_markdown":"Thread local storage is the area where each thread have it&#39;s own sperate variable so that concurrency and parallelism can be achieved.\r\n\r\nHere is the example to initialize ThreadLocalVariable of SimpleDateFormat- object.\r\n\r\n\r\n\r\n    public class ThreadLocalTest {\r\n\r\n\r\n    private static ExecutorService threadPool = Executors.newFixedThreadPool(10);\r\n\r\n\r\n    //Thread Local SimpleDateFormat\r\n    public static ThreadLocal&lt;SimpleDateFormat&gt; dateFormatter = new ThreadLocal&lt;&gt;() {\r\n        @Override\r\n        protected SimpleDateFormat initialValue() {\r\n            return new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        }\r\n\r\n        @Override\r\n        public SimpleDateFormat get() {\r\n            return super.get();\r\n        }\r\n    };\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n\r\n            threadPool.submit(()-&gt; {\r\n                String birthDate = new ThreadLocalV3().birthdate(100);\r\n                System.out.println(birthDate);\r\n            });\r\n\r\n        }\r\n\r\n        Thread.sleep(1000);\r\n    }\r\n\r\n\r\n    public String birthdate(int userId) {\r\n\r\n        Date birthDate = new Date(); //instead of new Date()  suppose we need to fetch birthdate bu userId\r\n\r\n        //now each thread will have it&#39;s own sdf object\r\n        final SimpleDateFormat sdf = ThreadLocalTest.dateFormatter.get();\r\n\r\n        return sdf.format(birthDate);\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\nAfter java 8 versions, you can achieve ThreadLocal initialization using lambda expressions as below:\r\n\r\n\r\n    \r\n    public static ThreadLocal&lt;SimpleDateFormat&gt; dateFormatter = ThreadLocal.withInitial(()-&gt; new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));","title":"How to initialize ThreadLocal objects in Java","body":"<p>Thread local storage is the area where each thread have it's own sperate variable so that concurrency and parallelism can be achieved.</p>\n<p>Here is the example to initialize ThreadLocalVariable of SimpleDateFormat- object.</p>\n<pre><code>public class ThreadLocalTest {\n\n\nprivate static ExecutorService threadPool = Executors.newFixedThreadPool(10);\n\n\n//Thread Local SimpleDateFormat\npublic static ThreadLocal&lt;SimpleDateFormat&gt; dateFormatter = new ThreadLocal&lt;&gt;() {\n    @Override\n    protected SimpleDateFormat initialValue() {\n        return new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    }\n\n    @Override\n    public SimpleDateFormat get() {\n        return super.get();\n    }\n};\n\n\npublic static void main(String[] args) throws InterruptedException {\n\n    for (int i = 0; i &lt; 100; i++) {\n\n        threadPool.submit(()-&gt; {\n            String birthDate = new ThreadLocalV3().birthdate(100);\n            System.out.println(birthDate);\n        });\n\n    }\n\n    Thread.sleep(1000);\n}\n\n\npublic String birthdate(int userId) {\n\n    Date birthDate = new Date(); //instead of new Date()  suppose we need to fetch birthdate bu userId\n\n    //now each thread will have it's own sdf object\n    final SimpleDateFormat sdf = ThreadLocalTest.dateFormatter.get();\n\n    return sdf.format(birthDate);\n}\n}\n</code></pre>\n<p>After java 8 versions, you can achieve ThreadLocal initialization using lambda expressions as below:</p>\n<pre><code>public static ThreadLocal&lt;SimpleDateFormat&gt; dateFormatter = ThreadLocal.withInitial(()-&gt; new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\n</code></pre>\n"}],"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29959,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":15369526,"answer_count":4,"score":32,"last_activity_date":1663082522,"creation_date":1363113674,"question_id":15369476,"body_markdown":"I&#39;m having an issue where I&#39;m creating a ThreadLocal&lt;List&gt; and initializing it with new ThreadLocal&lt;List&gt; . The problem is, I really conceptually just want a persistent list that lasts the life of the thread, but I don&#39;t know if there&#39;s a way to initialize something per-thread in Java.\r\n\r\nE.g. what I want is something like:\r\n\r\n    ThreadLocal static {\r\n      myThreadLocalVariable.set(new ArrayList&lt;Whatever&gt;());\r\n    }\r\n\r\nSo that it initializes it for every thread. I know I can do this:\r\n\r\n    private static Whatever getMyVariable() {\r\n      Whatever w = myThreadLocalVariable.get();\r\n      if(w == null) {\r\n        w = new ArrayList&lt;Whatever&gt;();\r\n        myThreadLocalVariable.set(w);\r\n      }\r\n      return w; \r\n    }\r\n\r\nbut I&#39;d really rather not have to do a check on that every time it&#39;s used. Is there anything better I can do here?","title":"How to initialize ThreadLocal objects in Java","body":"<p>I'm having an issue where I'm creating a ThreadLocal and initializing it with new ThreadLocal . The problem is, I really conceptually just want a persistent list that lasts the life of the thread, but I don't know if there's a way to initialize something per-thread in Java.</p>\n\n<p>E.g. what I want is something like:</p>\n\n<pre><code>ThreadLocal static {\n  myThreadLocalVariable.set(new ArrayList&lt;Whatever&gt;());\n}\n</code></pre>\n\n<p>So that it initializes it for every thread. I know I can do this:</p>\n\n<pre><code>private static Whatever getMyVariable() {\n  Whatever w = myThreadLocalVariable.get();\n  if(w == null) {\n    w = new ArrayList&lt;Whatever&gt;();\n    myThreadLocalVariable.set(w);\n  }\n  return w; \n}\n</code></pre>\n\n<p>but I'd really rather not have to do a check on that every time it's used. Is there anything better I can do here?</p>\n"},{"tags":["java","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":5625629,"reputation":570,"user_id":4454157,"display_name":"Kevin Kreps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605446923,"creation_date":1605446923,"answer_id":64844958,"question_id":64844824,"body_markdown":"Unfortunately, something like you described is not possible. One would simply read the document and update it with the read value.","title":"Use a field value to update another field in same document","body":"<p>Unfortunately, something like you described is not possible. One would simply read the document and update it with the read value.</p>\n"},{"tags":[],"owner":{"account_id":4917910,"reputation":73,"user_id":3961343,"display_name":"an92kz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663082010,"creation_date":1663082010,"answer_id":73705401,"question_id":64844824,"body_markdown":"Depending on your needs, you can use transactions. For instance, I used it for the rating functionality, and actually, you might find [this thread][1]  helpful.  \r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/solutions/aggregation","title":"Use a field value to update another field in same document","body":"<p>Depending on your needs, you can use transactions. For instance, I used it for the rating functionality, and actually, you might find <a href=\"https://firebase.google.com/docs/firestore/solutions/aggregation\" rel=\"nofollow noreferrer\">this thread</a>  helpful.</p>\n"}],"owner":{"account_id":3277277,"reputation":4540,"user_id":2813152,"accept_rate":83,"display_name":"progNewbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64844958,"answer_count":2,"score":2,"last_activity_date":1663082010,"creation_date":1605446038,"question_id":64844824,"body_markdown":"I am using Firebase Firestore and have documents with two fields:\r\n\r\n    field X\r\n    field Y\r\n\r\nThey are both numbers. Now I want to copy the value from X to Y. Of course I can just read the document to have the value X and then do a write operation on the same document and update field Y.\r\n\r\nMy question is, if there is a possibility to do this with just an update-operation as I couldn&#39;t find anything related but it seems to me like this might be something that&#39;s implemented by Firebase.\r\n\r\nThank you","title":"Use a field value to update another field in same document","body":"<p>I am using Firebase Firestore and have documents with two fields:</p>\n<pre><code>field X\nfield Y\n</code></pre>\n<p>They are both numbers. Now I want to copy the value from X to Y. Of course I can just read the document to have the value X and then do a write operation on the same document and update field Y.</p>\n<p>My question is, if there is a possibility to do this with just an update-operation as I couldn't find anything related but it seems to me like this might be something that's implemented by Firebase.</p>\n<p>Thank you</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1614582378,"creation_date":1504184594,"answer_id":45982130,"question_id":45981964,"body_markdown":"Why with streams? You just have to get a random number from 0 to the size of the list and then call `get` on this index:\r\n\r\n    Random r = new Random();\r\n    ElementType e = list.get(r.nextInt(list.size()));\r\n\r\n Stream will give you nothing interesting here, but you can try with:\r\n\r\n    Random r = new Random();\r\n    ElementType e = list.stream().skip(r.nextInt(list.size())).findFirst().get();\r\n\r\nIdea is to skip an arbitrary number of elements (but not the last one!), then get the first element if it exists. As a result you will have an `Optional&lt;ElementType&gt;` which will be non empty and then extract its value with `get`. You have a lot of options here after having skip.\r\n\r\nUsing streams here is highly inefficient...\r\n\r\nNote: that none of these solutions take in account empty lists, but the problem is defined on non-empty lists.\r\n&lt;!-- 6 chars limit --&gt;","title":"How to get a random element from a list with stream api?","body":"<p>Why with streams? You just have to get a random number from 0 to the size of the list and then call <code>get</code> on this index:</p>\n<pre><code>Random r = new Random();\nElementType e = list.get(r.nextInt(list.size()));\n</code></pre>\n<p>Stream will give you nothing interesting here, but you can try with:</p>\n<pre><code>Random r = new Random();\nElementType e = list.stream().skip(r.nextInt(list.size())).findFirst().get();\n</code></pre>\n<p>Idea is to skip an arbitrary number of elements (but not the last one!), then get the first element if it exists. As a result you will have an <code>Optional&lt;ElementType&gt;</code> which will be non empty and then extract its value with <code>get</code>. You have a lot of options here after having skip.</p>\n<p>Using streams here is highly inefficient...</p>\n<p>Note: that none of these solutions take in account empty lists, but the problem is defined on non-empty lists.</p>\n\n"},{"tags":[],"owner":{"account_id":78490,"reputation":1643,"user_id":223365,"accept_rate":50,"display_name":"KidCrippler"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1508245438,"creation_date":1508245438,"answer_id":46790862,"question_id":45981964,"body_markdown":"If you **HAVE** to use streams, I wrote an elegant, albeit very inefficient collector that does the job:\r\n\r\n    /**\r\n\t * Returns a random item from the stream (or null in case of an empty stream).\r\n\t * This operation can&#39;t be lazy and is inefficient, and therefore shouldn&#39;t\r\n\t * be used on streams with a large number or items or in performance critical sections.\r\n\t * @return a random item from the stream or null if the stream is empty.\r\n\t */\r\n\tpublic static &lt;T&gt; Collector&lt;T, List&lt;T&gt;, T&gt; randomItem() {\r\n\t\tfinal Random RANDOM = new Random();\r\n\t\treturn Collector.of(() -&gt; (List&lt;T&gt;) new ArrayList&lt;T&gt;(), \r\n\t\t\t\t\t\t\t\t  (acc, elem) -&gt; acc.add(elem),\r\n\t\t\t\t\t\t\t\t  (list1, list2) -&gt; ListUtils.union(list1, list2), // Using a 3rd party for list union, could be done &quot;purely&quot;\r\n\t\t\t\t\t\t\t\t  list -&gt; list.isEmpty() ? null : list.get(RANDOM.nextInt(list.size())));\r\n\t}\r\n\r\nUsage:\r\n\r\n    @Test\r\n\tpublic void standardRandomTest() {\r\n\t\tassertThat(Stream.of(1, 2, 3, 4).collect(randomItem())).isBetween(1, 4);\r\n\t}\r\n","title":"How to get a random element from a list with stream api?","body":"<p>If you <strong>HAVE</strong> to use streams, I wrote an elegant, albeit very inefficient collector that does the job:</p>\n\n<pre><code>/**\n * Returns a random item from the stream (or null in case of an empty stream).\n * This operation can't be lazy and is inefficient, and therefore shouldn't\n * be used on streams with a large number or items or in performance critical sections.\n * @return a random item from the stream or null if the stream is empty.\n */\npublic static &lt;T&gt; Collector&lt;T, List&lt;T&gt;, T&gt; randomItem() {\n    final Random RANDOM = new Random();\n    return Collector.of(() -&gt; (List&lt;T&gt;) new ArrayList&lt;T&gt;(), \n                              (acc, elem) -&gt; acc.add(elem),\n                              (list1, list2) -&gt; ListUtils.union(list1, list2), // Using a 3rd party for list union, could be done \"purely\"\n                              list -&gt; list.isEmpty() ? null : list.get(RANDOM.nextInt(list.size())));\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>@Test\npublic void standardRandomTest() {\n    assertThat(Stream.of(1, 2, 3, 4).collect(randomItem())).isBetween(1, 4);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3551933,"reputation":3290,"user_id":2966603,"accept_rate":36,"display_name":"RichardK"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1526391017,"creation_date":1521814298,"answer_id":49451594,"question_id":45981964,"body_markdown":"There are much more efficient ways to do it, but if this has to be Stream the easiest way is to create your own Comparator, which returns random result (-1, 0, 1) and sort your stream:\r\n\r\n\r\n     List&lt;String&gt; strings = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;);\r\n        String randomString = strings\r\n                .stream()\r\n                .sorted((o1, o2) -&gt; ThreadLocalRandom.current().nextInt(-1, 2))\r\n                .findAny()\r\n                .get();\r\n\r\nThreadLocalRandom has ready &quot;out of the box&quot; method to get random number in your required range for comparator.","title":"How to get a random element from a list with stream api?","body":"<p>There are much more efficient ways to do it, but if this has to be Stream the easiest way is to create your own Comparator, which returns random result (-1, 0, 1) and sort your stream:</p>\n\n<pre><code> List&lt;String&gt; strings = Arrays.asList(\"a\", \"b\", \"c\", \"d\", \"e\", \"f\");\n    String randomString = strings\n            .stream()\n            .sorted((o1, o2) -&gt; ThreadLocalRandom.current().nextInt(-1, 2))\n            .findAny()\n            .get();\n</code></pre>\n\n<p>ThreadLocalRandom has ready \"out of the box\" method to get random number in your required range for comparator.</p>\n"},{"tags":[],"owner":{"account_id":11095788,"reputation":51,"user_id":8145986,"display_name":"Chris A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562509070,"creation_date":1530997132,"answer_id":51226900,"question_id":45981964,"body_markdown":"If you don&#39;t know in advance the size of the your list, you could do something like that : \r\n\r\n     yourStream.collect(new RandomListCollector&lt;&gt;(randomSetSize));\r\n\r\n\r\nI guess that you will have to write your own Collector implementation like this one to have an homogeneous randomization :\r\n\r\n   \r\n\r\n \r\n    \r\n     public class RandomListCollector&lt;T&gt; implements Collector&lt;T, RandomListCollector.ListAccumulator&lt;T&gt;, List&lt;T&gt;&gt; {\r\n\r\n\tprivate final Random rand;\r\n\tprivate final int size;\r\n\r\n\tpublic RandomListCollector(Random random , int size) {\r\n\t\tsuper();\r\n\t\tthis.rand = random;\r\n\t\tthis.size = size;\r\n\t}\r\n\t\r\n\tpublic RandomListCollector(int size) {\r\n\t\tthis(new Random(System.nanoTime()), size);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Supplier&lt;ListAccumulator&lt;T&gt;&gt; supplier() {\r\n\t\treturn () -&gt; new ListAccumulator&lt;T&gt;();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BiConsumer&lt;ListAccumulator&lt;T&gt;, T&gt; accumulator() {\r\n\t\treturn (l, t) -&gt; {\r\n\t\t\tif (l.size() &lt; size) {\r\n\t\t\t\tl.add(t);\r\n\t\t\t} else if (rand.nextDouble() &lt;= ((double) size) / (l.gSize() + 1)) {\r\n\t\t\t\tl.add(t);\r\n\t\t\t\tl.remove(rand.nextInt(size));\r\n\t\t\t} else {\r\n\t\t\t\t// in any case gSize needs to be incremented\r\n\t\t\t\tl.gSizeInc();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BinaryOperator&lt;ListAccumulator&lt;T&gt;&gt; combiner() {\r\n\t\treturn (l1, l2) -&gt; {\r\n\t\t\tint lgSize = l1.gSize() + l2.gSize();\r\n\t\t\tListAccumulator&lt;T&gt; l = new ListAccumulator&lt;&gt;();\r\n\t\t\tif (l1.size() + l2.size()&lt;size) {\r\n\t\t\t\tl.addAll(l1);\r\n\t\t\t\tl.addAll(l2);\r\n\t\t\t} else {\r\n\t\t\t\twhile (l.size() &lt; size) {\r\n\t\t\t\t\tif (l1.size()==0 || l2.size()&gt;0 &amp;&amp; rand.nextDouble() &lt; (double) l2.gSize() / (l1.gSize() + l2.gSize())) {\r\n\t\t\t\t\t\tl.add(l2.remove(rand.nextInt(l2.size()), true));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tl.add(l1.remove(rand.nextInt(l1.size()), true));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// set the gSize of l :\r\n\t\t\tl.gSize(lgSize);\r\n\t\t\treturn l;\r\n\r\n\t\t};\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Function&lt;ListAccumulator&lt;T&gt;, List&lt;T&gt;&gt; finisher() {\r\n\r\n\t\treturn (la) -&gt; la.list;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;Characteristics&gt; characteristics() {\r\n\t\treturn Collections.singleton(Characteristics.CONCURRENT);\r\n\t}\r\n\r\n\tstatic class ListAccumulator&lt;T&gt; implements Iterable&lt;T&gt; {\r\n\t\tList&lt;T&gt; list;\r\n\t\tvolatile int gSize;\r\n\t\r\n\t\tpublic ListAccumulator() {\r\n\t\t\tlist = new ArrayList&lt;&gt;();\r\n\t\t\tgSize = 0;\r\n\t\t}\r\n\t\r\n\t\tpublic void addAll(ListAccumulator&lt;T&gt; l) {\r\n\t\t\tlist.addAll(l.list);\r\n\t\t\tgSize += l.gSize;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic T remove(int index) {\r\n\t\t\treturn remove(index, false);\r\n\t\t}\r\n\t\r\n\t\tpublic T remove(int index, boolean global) {\r\n\t\t\tT t = list.remove(index);\r\n\t\t\tif (t != null &amp;&amp; global)\r\n\t\t\t\tgSize--;\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\r\n\t\tpublic void add(T t) {\r\n\t\t\tlist.add(t);\r\n\t\t\tgSize++;\r\n\t\r\n\t\t}\r\n\t\r\n\t\tpublic int gSize() {\r\n\t\t\treturn gSize;\r\n\t\t}\r\n\t\r\n\t\tpublic void gSize(int gSize) {\r\n\t\t\tthis.gSize = gSize;\r\n\t\r\n\t\t}\r\n\t\r\n\t\tpublic void gSizeInc() {\r\n\t\t\tgSize++;\r\n\t\t}\r\n\t\r\n\t\tpublic int size() {\r\n\t\t\treturn list.size();\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic Iterator&lt;T&gt; iterator() {\r\n\t\t\treturn list.iterator();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n\r\nIf you want something easier and still don&#39;t want to load all your list in memory: \r\n\r\n    public &lt;T&gt; Stream&lt;T&gt; getRandomStreamSubset(Stream&lt;T&gt; stream, int subsetSize) {\r\n\t\tint cnt = 0;\r\n\r\n\t\tRandom r = new Random(System.nanoTime());\r\n\t\tObject[] tArr = new Object[subsetSize];\r\n\t\tIterator&lt;T&gt; iter = stream.iterator();\r\n\t\twhile (iter.hasNext() &amp;&amp; cnt &lt;subsetSize) {\r\n\t\t\ttArr[cnt++] = iter.next();\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\twhile (iter.hasNext()) {\r\n\t\t\tcnt++;\r\n\t\t\tT t = iter.next();\r\n\t\t\tif (r.nextDouble() &lt;= (double) subsetSize / cnt) {\r\n\t\t\t\ttArr[r.nextInt(subsetSize)] = t;\t\t\t\t\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn Arrays.stream(tArr).map(o -&gt; (T)o );\r\n\t}\r\n\r\nbut you are then away from the stream api and could do the same with a basic iterator","title":"How to get a random element from a list with stream api?","body":"<p>If you don't know in advance the size of the your list, you could do something like that : </p>\n\n<pre><code> yourStream.collect(new RandomListCollector&lt;&gt;(randomSetSize));\n</code></pre>\n\n<p>I guess that you will have to write your own Collector implementation like this one to have an homogeneous randomization :</p>\n\n<pre><code> public class RandomListCollector&lt;T&gt; implements Collector&lt;T, RandomListCollector.ListAccumulator&lt;T&gt;, List&lt;T&gt;&gt; {\n\nprivate final Random rand;\nprivate final int size;\n\npublic RandomListCollector(Random random , int size) {\n    super();\n    this.rand = random;\n    this.size = size;\n}\n\npublic RandomListCollector(int size) {\n    this(new Random(System.nanoTime()), size);\n}\n\n@Override\npublic Supplier&lt;ListAccumulator&lt;T&gt;&gt; supplier() {\n    return () -&gt; new ListAccumulator&lt;T&gt;();\n}\n\n@Override\npublic BiConsumer&lt;ListAccumulator&lt;T&gt;, T&gt; accumulator() {\n    return (l, t) -&gt; {\n        if (l.size() &lt; size) {\n            l.add(t);\n        } else if (rand.nextDouble() &lt;= ((double) size) / (l.gSize() + 1)) {\n            l.add(t);\n            l.remove(rand.nextInt(size));\n        } else {\n            // in any case gSize needs to be incremented\n            l.gSizeInc();\n        }\n    };\n\n}\n\n@Override\npublic BinaryOperator&lt;ListAccumulator&lt;T&gt;&gt; combiner() {\n    return (l1, l2) -&gt; {\n        int lgSize = l1.gSize() + l2.gSize();\n        ListAccumulator&lt;T&gt; l = new ListAccumulator&lt;&gt;();\n        if (l1.size() + l2.size()&lt;size) {\n            l.addAll(l1);\n            l.addAll(l2);\n        } else {\n            while (l.size() &lt; size) {\n                if (l1.size()==0 || l2.size()&gt;0 &amp;&amp; rand.nextDouble() &lt; (double) l2.gSize() / (l1.gSize() + l2.gSize())) {\n                    l.add(l2.remove(rand.nextInt(l2.size()), true));\n                } else {\n                    l.add(l1.remove(rand.nextInt(l1.size()), true));\n                }\n            }\n        }\n        // set the gSize of l :\n        l.gSize(lgSize);\n        return l;\n\n    };\n}\n\n@Override\npublic Function&lt;ListAccumulator&lt;T&gt;, List&lt;T&gt;&gt; finisher() {\n\n    return (la) -&gt; la.list;\n}\n\n@Override\npublic Set&lt;Characteristics&gt; characteristics() {\n    return Collections.singleton(Characteristics.CONCURRENT);\n}\n\nstatic class ListAccumulator&lt;T&gt; implements Iterable&lt;T&gt; {\n    List&lt;T&gt; list;\n    volatile int gSize;\n\n    public ListAccumulator() {\n        list = new ArrayList&lt;&gt;();\n        gSize = 0;\n    }\n\n    public void addAll(ListAccumulator&lt;T&gt; l) {\n        list.addAll(l.list);\n        gSize += l.gSize;\n\n    }\n\n    public T remove(int index) {\n        return remove(index, false);\n    }\n\n    public T remove(int index, boolean global) {\n        T t = list.remove(index);\n        if (t != null &amp;&amp; global)\n            gSize--;\n        return t;\n    }\n\n    public void add(T t) {\n        list.add(t);\n        gSize++;\n\n    }\n\n    public int gSize() {\n        return gSize;\n    }\n\n    public void gSize(int gSize) {\n        this.gSize = gSize;\n\n    }\n\n    public void gSizeInc() {\n        gSize++;\n    }\n\n    public int size() {\n        return list.size();\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return list.iterator();\n    }\n}\n\n}\n</code></pre>\n\n<p>If you want something easier and still don't want to load all your list in memory: </p>\n\n<pre><code>public &lt;T&gt; Stream&lt;T&gt; getRandomStreamSubset(Stream&lt;T&gt; stream, int subsetSize) {\n    int cnt = 0;\n\n    Random r = new Random(System.nanoTime());\n    Object[] tArr = new Object[subsetSize];\n    Iterator&lt;T&gt; iter = stream.iterator();\n    while (iter.hasNext() &amp;&amp; cnt &lt;subsetSize) {\n        tArr[cnt++] = iter.next();          \n    }\n\n    while (iter.hasNext()) {\n        cnt++;\n        T t = iter.next();\n        if (r.nextDouble() &lt;= (double) subsetSize / cnt) {\n            tArr[r.nextInt(subsetSize)] = t;                \n\n        }\n\n    }\n\n    return Arrays.stream(tArr).map(o -&gt; (T)o );\n}\n</code></pre>\n\n<p>but you are then away from the stream api and could do the same with a basic iterator</p>\n"},{"tags":[],"owner":{"account_id":15122880,"reputation":1,"user_id":10913187,"display_name":"Tarandrus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547572910,"creation_date":1547572910,"answer_id":54203905,"question_id":45981964,"body_markdown":"The selected answer has errors in its stream solution...\r\nYou cannot use Random#nextInt with a non-positive long, &quot;0&quot; in this case. \r\nThe stream solution will also never choose the last in the list\r\nExample:\r\n\r\n    List&lt;Integer&gt; intList = Arrays.asList(0, 1, 2, 3, 4);\r\n\r\n    // #nextInt is exclusive, so here it means a returned value of 0-3\r\n    // if you have a list of size = 1, #next Int will throw an IllegalArgumentException (bound must be positive)\r\n    int skipIndex = new Random().nextInt(intList.size()-1);\r\n\r\n    // randomInt will only ever be 0, 1, 2, or 3. Never 4\r\n    int randomInt = intList.stream()\r\n                           .skip(skipIndex) // max skip of list#size - 2\r\n                           .findFirst()\r\n                           .get();\r\n\r\nMy recommendation would be to go with the non-stream approach that Jean-Baptiste Yun&#232;s put forth, but if you must do a stream approach, you could do something like this (but it&#39;s a little ugly):\r\n\r\n    list.stream()\r\n        .skip(list.isEmpty ? 0 : new Random().nextInt(list.size()))\r\n        .findFirst();","title":"How to get a random element from a list with stream api?","body":"<p>The selected answer has errors in its stream solution...\nYou cannot use Random#nextInt with a non-positive long, \"0\" in this case. \nThe stream solution will also never choose the last in the list\nExample:</p>\n\n<pre><code>List&lt;Integer&gt; intList = Arrays.asList(0, 1, 2, 3, 4);\n\n// #nextInt is exclusive, so here it means a returned value of 0-3\n// if you have a list of size = 1, #next Int will throw an IllegalArgumentException (bound must be positive)\nint skipIndex = new Random().nextInt(intList.size()-1);\n\n// randomInt will only ever be 0, 1, 2, or 3. Never 4\nint randomInt = intList.stream()\n                       .skip(skipIndex) // max skip of list#size - 2\n                       .findFirst()\n                       .get();\n</code></pre>\n\n<p>My recommendation would be to go with the non-stream approach that Jean-Baptiste Yunès put forth, but if you must do a stream approach, you could do something like this (but it's a little ugly):</p>\n\n<pre><code>list.stream()\n    .skip(list.isEmpty ? 0 : new Random().nextInt(list.size()))\n    .findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552716217,"creation_date":1547573669,"answer_id":54204097,"question_id":45981964,"body_markdown":"Another idea would be to implement your own `Spliterator` and then use it as a source for `Stream`:\r\n\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.Spliterator;\r\n    import java.util.function.Consumer;\r\n    import java.util.function.Supplier;\r\n\r\n    public class ImprovedRandomSpliterator&lt;T&gt; implements Spliterator&lt;T&gt; {\r\n\r\n        private final Random random;\r\n        private final T[] source;\r\n        private int size;\r\n\r\n        ImprovedRandomSpliterator(List&lt;T&gt; source, Supplier&lt;? extends Random&gt; random) {\r\n            if (source.isEmpty()) {\r\n                throw new IllegalArgumentException(&quot;RandomSpliterator can&#39;t be initialized with an empty collection&quot;);\r\n            }\r\n            this.source = (T[]) source.toArray();\r\n            this.random = random.get();\r\n            this.size = this.source.length;\r\n        }\r\n\r\n        @Override\r\n        public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\r\n            if (size &gt; 0) {\r\n                int nextIdx = random.nextInt(size); \r\n                int lastIdx = size - 1; \r\n\r\n                action.accept(source[nextIdx]); \r\n                source[nextIdx] = source[lastIdx]; \r\n                source[lastIdx] = null; // let object be GCed \r\n                size--;\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Spliterator&lt;T&gt; trySplit() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public long estimateSize() {\r\n            return source.length;\r\n        }\r\n\r\n        @Override\r\n        public int characteristics() {\r\n            return SIZED;\r\n        }\r\n    }\r\n\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, Stream&lt;T&gt;&gt; toShuffledStream() {\r\n        return Collectors.collectingAndThen(\r\n          toCollection(ArrayList::new),\r\n          list -&gt; !list.isEmpty()\r\n            ? StreamSupport.stream(new ImprovedRandomSpliterator&lt;&gt;(list, Random::new), false)\r\n            : Stream.empty());\r\n    }\r\n\r\nand then simply:\r\n\r\n    list.stream()\r\n      .collect(toShuffledStream())\r\n      .findAny();\r\n\r\n[Details can be found here.][1]\r\n\r\n...but it&#39;s definitely an overkill, so if you&#39;re looking for a pragmatic approach. Definitely go for [Jean&#39;s solution][2].\r\n\r\n\r\n  [1]: https://4comprehension.com/implementing-a-randomized-stream-spliterator-in-java/\r\n  [2]: https://stackoverflow.com/a/45982130/2229438","title":"How to get a random element from a list with stream api?","body":"<p>Another idea would be to implement your own <code>Spliterator</code> and then use it as a source for <code>Stream</code>:</p>\n\n<pre><code>import java.util.List;\nimport java.util.Random;\nimport java.util.Spliterator;\nimport java.util.function.Consumer;\nimport java.util.function.Supplier;\n\npublic class ImprovedRandomSpliterator&lt;T&gt; implements Spliterator&lt;T&gt; {\n\n    private final Random random;\n    private final T[] source;\n    private int size;\n\n    ImprovedRandomSpliterator(List&lt;T&gt; source, Supplier&lt;? extends Random&gt; random) {\n        if (source.isEmpty()) {\n            throw new IllegalArgumentException(\"RandomSpliterator can't be initialized with an empty collection\");\n        }\n        this.source = (T[]) source.toArray();\n        this.random = random.get();\n        this.size = this.source.length;\n    }\n\n    @Override\n    public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\n        if (size &gt; 0) {\n            int nextIdx = random.nextInt(size); \n            int lastIdx = size - 1; \n\n            action.accept(source[nextIdx]); \n            source[nextIdx] = source[lastIdx]; \n            source[lastIdx] = null; // let object be GCed \n            size--;\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; trySplit() {\n        return null;\n    }\n\n    @Override\n    public long estimateSize() {\n        return source.length;\n    }\n\n    @Override\n    public int characteristics() {\n        return SIZED;\n    }\n}\n\n\npublic static &lt;T&gt; Collector&lt;T, ?, Stream&lt;T&gt;&gt; toShuffledStream() {\n    return Collectors.collectingAndThen(\n      toCollection(ArrayList::new),\n      list -&gt; !list.isEmpty()\n        ? StreamSupport.stream(new ImprovedRandomSpliterator&lt;&gt;(list, Random::new), false)\n        : Stream.empty());\n}\n</code></pre>\n\n<p>and then simply:</p>\n\n<pre><code>list.stream()\n  .collect(toShuffledStream())\n  .findAny();\n</code></pre>\n\n<p><a href=\"https://4comprehension.com/implementing-a-randomized-stream-spliterator-in-java/\" rel=\"nofollow noreferrer\">Details can be found here.</a></p>\n\n<p>...but it's definitely an overkill, so if you're looking for a pragmatic approach. Definitely go for <a href=\"https://stackoverflow.com/a/45982130/2229438\">Jean's solution</a>.</p>\n"},{"tags":[],"owner":{"account_id":9309605,"reputation":125,"user_id":6911957,"accept_rate":60,"display_name":"Mikusch"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1551688364,"creation_date":1551688364,"answer_id":54979350,"question_id":45981964,"body_markdown":"While all the given answers work, there is a simple one-liner that does the trick without having to check if the list is empty first:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    list.stream().skip((int) (list.size() * Math.random())).findAny();\r\n\r\nFor an empty list this will return an `Optional.empty`.","title":"How to get a random element from a list with stream api?","body":"<p>While all the given answers work, there is a simple one-liner that does the trick without having to check if the list is empty first:</p>\n\n<pre><code>List&lt;String&gt; list = List.of(\"a\", \"b\", \"c\");\nlist.stream().skip((int) (list.size() * Math.random())).findAny();\n</code></pre>\n\n<p>For an empty list this will return an <code>Optional.empty</code>.</p>\n"},{"tags":[],"owner":{"account_id":5198803,"reputation":151,"user_id":6415045,"display_name":"adrianosymphony"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595647021,"creation_date":1595647021,"answer_id":63083952,"question_id":45981964,"body_markdown":"In the last time I needed to do something like that I did that:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    Collections.shuffle(list);\r\n    String letter = list.stream().findAny().orElse(null);\r\n    System.out.println(letter);","title":"How to get a random element from a list with stream api?","body":"<p>In the last time I needed to do something like that I did that:</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nCollections.shuffle(list);\nString letter = list.stream().findAny().orElse(null);\nSystem.out.println(letter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16542893,"reputation":752,"user_id":11953196,"display_name":"Atakan Yildirim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663082008,"creation_date":1663082008,"answer_id":73705400,"question_id":45981964,"body_markdown":"Sometimes you may want to get a random item somewhere in the stream. If you want to get random items even after filtering your list, this code snippet will work for you:\r\n\r\n    List&lt;String&gt; items = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\r\n    List&lt;String&gt; shuffledAndFilteredItems = items.stream()\r\n            .filter(value -&gt; value.equals(&quot;A&quot;) || value.equals(&quot;B&quot;))\r\n            //filter, map...\r\n            .collect(Collectors.collectingAndThen(\r\n                    Collectors.toCollection(ArrayList::new),\r\n                    list -&gt; {\r\n                        Collections.shuffle(list);\r\n                        return list;\r\n                    }));\r\n    String randomItem = shuffledAndFilteredItems\r\n            .stream()\r\n            .findFirst()\r\n            .orElse(null);\r\n\r\nOf course there may be faster / optimized ways, but it allows you to do it all at once.","title":"How to get a random element from a list with stream api?","body":"<p>Sometimes you may want to get a random item somewhere in the stream. If you want to get random items even after filtering your list, this code snippet will work for you:</p>\n<pre><code>List&lt;String&gt; items = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\nList&lt;String&gt; shuffledAndFilteredItems = items.stream()\n        .filter(value -&gt; value.equals(&quot;A&quot;) || value.equals(&quot;B&quot;))\n        //filter, map...\n        .collect(Collectors.collectingAndThen(\n                Collectors.toCollection(ArrayList::new),\n                list -&gt; {\n                    Collections.shuffle(list);\n                    return list;\n                }));\nString randomItem = shuffledAndFilteredItems\n        .stream()\n        .findFirst()\n        .orElse(null);\n</code></pre>\n<p>Of course there may be faster / optimized ways, but it allows you to do it all at once.</p>\n"}],"owner":{"account_id":51838,"reputation":490,"user_id":1348364,"display_name":"aekber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37991,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"accepted_answer_id":45982130,"answer_count":9,"score":31,"last_activity_date":1663082008,"creation_date":1504184075,"question_id":45981964,"body_markdown":"What is the most effective way to get a random element from a list with Java8 stream api?\r\n\r\n    Arrays.asList(new Obj1(), new Obj2(), new Obj3());\r\n\r\nThanks.\r\n\r\n","title":"How to get a random element from a list with stream api?","body":"<p>What is the most effective way to get a random element from a list with Java8 stream api?</p>\n\n<pre><code>Arrays.asList(new Obj1(), new Obj2(), new Obj3());\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","excel","eclipse","apache-poi"],"comments":[{"owner":{"account_id":5320558,"reputation":408,"user_id":4244130,"accept_rate":80,"display_name":"VinceLomba"},"score":1,"creation_date":1614279343,"post_id":66374350,"comment_id":117344510,"body_markdown":"You need to add more libraries, not only poi-5.0.0.\nCheck the last part of [this answer](https://stackoverflow.com/questions/65940340/how-to-update-an-excel-file-in-java/65945983#65945983) (&quot;Some final notes&quot;) for the list (with all links) of all libraries that i usually use when working with excel from java using ApachePoi. Also, i suggest you to use poi-4 (not poi-5) and [XSSF objects (not HSSF)](https://stackoverflow.com/questions/45936257/apache-poi-hssf-vs-poi-xssf) expecially if you are using .xlsx files!","body":"You need to add more libraries, not only poi-5.0.0. Check the last part of <a href=\"https://stackoverflow.com/questions/65940340/how-to-update-an-excel-file-in-java/65945983#65945983\">this answer</a> (&quot;Some final notes&quot;) for the list (with all links) of all libraries that i usually use when working with excel from java using ApachePoi. Also, i suggest you to use poi-4 (not poi-5) and <a href=\"https://stackoverflow.com/questions/45936257/apache-poi-hssf-vs-poi-xssf\">XSSF objects (not HSSF)</a> expecially if you are using .xlsx files!"},{"owner":{"account_id":20323310,"reputation":15,"user_id":14907402,"display_name":"LLnnRR"},"score":0,"creation_date":1614280557,"post_id":66374350,"comment_id":117344992,"body_markdown":"I tried everything you suggested, but it still gives the same error (this time the HSSF changed to XSSF: &quot;java.lang.NoClassDefFoundError: org/apache/poi/xssf/usermodel/XSSFWorkbook&quot;)","body":"I tried everything you suggested, but it still gives the same error (this time the HSSF changed to XSSF: &quot;java.lang.NoClassDefFoundError: org/apache/poi/xssf/usermodel/XSSFWorkbook&quot;)"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1614319036,"post_id":66374350,"comment_id":117354347,"body_markdown":"`NoClassDefFoundError` occurs if libraries which were present at compile time are not present at run time. So your `Eclipse` has access to `apache poi` libraries at compile time only.","body":"<code>NoClassDefFoundError</code> occurs if libraries which were present at compile time are not present at run time. So your <code>Eclipse</code> has access to <code>apache poi</code> libraries at compile time only."},{"owner":{"account_id":5320558,"reputation":408,"user_id":4244130,"accept_rate":80,"display_name":"VinceLomba"},"score":0,"creation_date":1614325814,"post_id":66374350,"comment_id":117356264,"body_markdown":"Did you add all the EIGHT libraries that are listed [in the post i linked](https://stackoverflow.com/questions/65940340/how-to-update-an-excel-file-in-java/65945983#65945983) AND also did you switch to Apache Poi 4 (and not 5)? &quot;java.lang.NoClassDefFoundError&quot; means that you&#39;re missing some libraries (it is happened to me a couple of times). Also, did you [add properly all the 8 required libraries to your eclipse project](https://stackoverflow.com/questions/2824515/how-to-add-external-library-properly-in-eclipse)?","body":"Did you add all the EIGHT libraries that are listed <a href=\"https://stackoverflow.com/questions/65940340/how-to-update-an-excel-file-in-java/65945983#65945983\">in the post i linked</a> AND also did you switch to Apache Poi 4 (and not 5)? &quot;java.lang.NoClassDefFoundError&quot; means that you&#39;re missing some libraries (it is happened to me a couple of times). Also, did you <a href=\"https://stackoverflow.com/questions/2824515/how-to-add-external-library-properly-in-eclipse\">add properly all the 8 required libraries to your eclipse project</a>?"},{"owner":{"account_id":20323310,"reputation":15,"user_id":14907402,"display_name":"LLnnRR"},"score":0,"creation_date":1614333454,"post_id":66374350,"comment_id":117359285,"body_markdown":"Yes, I added 8 JAR files (which are linked in the post) to the new folder &quot;lib&quot; and then added them as External JARS to the eclipse. I did download apache poi 4.1.2, but it still shows the same error. At this point it makes me assume that there is no solution to this","body":"Yes, I added 8 JAR files (which are linked in the post) to the new folder &quot;lib&quot; and then added them as External JARS to the eclipse. I did download apache poi 4.1.2, but it still shows the same error. At this point it makes me assume that there is no solution to this"},{"owner":{"account_id":5320558,"reputation":408,"user_id":4244130,"accept_rate":80,"display_name":"VinceLomba"},"score":1,"creation_date":1614419754,"post_id":66374350,"comment_id":117383537,"body_markdown":"There is always a solution! If you&#39;re still getting the *same* error it probably means that you&#39;re importing the libraries in your eclipse project not in the right way, maybe you can edit your question adding some images about your project importing settings in order to check if they are okay (maybe you add the to the modulepath and not to the classpath?)!","body":"There is always a solution! If you&#39;re still getting the <i>same</i> error it probably means that you&#39;re importing the libraries in your eclipse project not in the right way, maybe you can edit your question adding some images about your project importing settings in order to check if they are okay (maybe you add the to the modulepath and not to the classpath?)!"}],"answers":[{"tags":[],"owner":{"account_id":10150412,"reputation":182,"user_id":7497211,"display_name":"Christopher Hoffman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663081738,"creation_date":1663081738,"answer_id":73705323,"question_id":66374350,"body_markdown":"Reproduced this.  When you are adding apache .jar file dependencies after right clicking on the Project -&gt; Properties -&gt; Java Build Path, make sure you are adding the .jars to the ClassPath and not Modulepath.  If you add them to the Modulepath, this error shows up.  Also if you have a module dependencies class, recreate your eclipse project and deselect the &quot;Generate module&quot; option checkbox.  This is a work around until modules are sorted out. ","title":"Problem with exceuting java code that includes Apache POI (on Eclipse)","body":"<p>Reproduced this.  When you are adding apache .jar file dependencies after right clicking on the Project -&gt; Properties -&gt; Java Build Path, make sure you are adding the .jars to the ClassPath and not Modulepath.  If you add them to the Modulepath, this error shows up.  Also if you have a module dependencies class, recreate your eclipse project and deselect the &quot;Generate module&quot; option checkbox.  This is a work around until modules are sorted out.</p>\n"}],"owner":{"account_id":20323310,"reputation":15,"user_id":14907402,"display_name":"LLnnRR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73705323,"answer_count":1,"score":0,"last_activity_date":1663081738,"creation_date":1614277522,"question_id":66374350,"body_markdown":"I have downloaded the latest release of poi-5.0.0 and add the external jar to the Java Project.\r\nHere is the code:\r\n\r\n\r\n\r\n    import java.io.*;\r\n    import org.apache.poi.hssf.usermodel.*;\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tHSSFWorkbook workbook = new HSSFWorkbook();\r\n    \t\t\tHSSFSheet sheet = workbook.createSheet(&quot;FirstSheet&quot;);\r\n    \t\t\t\r\n    \t\t\tFileOutputStream fileOut = new FileOutputStream(&quot;NewExcelFile1.xlsx&quot;);\r\n    \t\t\tworkbook.write(fileOut);\r\n    \t\t\tfileOut.close();\r\n    \t\t\tSystem.out.println(&quot;Success&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    }  \r\n\r\n\r\n\r\n\r\nThe Error I am getting is:\r\n\r\n**Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook\r\n\tat test3.Test.main(Pleease.java:11)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.poi.hssf.usermodel.HSSFWorkbook\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 1 more**\r\n\r\n\r\nCould not find the solution for this issue on the internet so I would be very happy to find it here. Thanks in advance!","title":"Problem with exceuting java code that includes Apache POI (on Eclipse)","body":"<p>I have downloaded the latest release of poi-5.0.0 and add the external jar to the Java Project.\nHere is the code:</p>\n<pre><code>import java.io.*;\nimport org.apache.poi.hssf.usermodel.*;\npublic class Test {\n\n    public static void main(String[] args) {\n        try {\n            HSSFWorkbook workbook = new HSSFWorkbook();\n            HSSFSheet sheet = workbook.createSheet(&quot;FirstSheet&quot;);\n            \n            FileOutputStream fileOut = new FileOutputStream(&quot;NewExcelFile1.xlsx&quot;);\n            workbook.write(fileOut);\n            fileOut.close();\n            System.out.println(&quot;Success&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n            }\n        }\n}  \n</code></pre>\n<p>The Error I am getting is:</p>\n<p><strong>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook\nat test3.Test.main(Pleease.java:11)\nCaused by: java.lang.ClassNotFoundException: org.apache.poi.hssf.usermodel.HSSFWorkbook\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 1 more</strong></p>\n<p>Could not find the solution for this issue on the internet so I would be very happy to find it here. Thanks in advance!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":447693,"reputation":1640,"user_id":841467,"accept_rate":100,"display_name":"Igoris"},"score":2,"creation_date":1313698790,"post_id":7113603,"comment_id":8522238,"body_markdown":"my suggestion would be just replace `-` with nothing. Then use your ISBN checking function. And then if it is correct, you can use either one you need.","body":"my suggestion would be just replace <code>-</code> with nothing. Then use your ISBN checking function. And then if it is correct, you can use either one you need."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1313710247,"post_id":7113603,"comment_id":8525034,"body_markdown":"Some good regexes in the answers, and I&#39;d certainly use one because it would catch all valid ISBN formats -- but I just wanted to point out that the dashes in an ISBN aren&#39;t arbitrarily inserted; there are only certain combinations that are valid. (Of course you&#39;re not trying to validate the form of the number, just get the number)","body":"Some good regexes in the answers, and I&#39;d certainly use one because it would catch all valid ISBN formats -- but I just wanted to point out that the dashes in an ISBN aren&#39;t arbitrarily inserted; there are only certain combinations that are valid. (Of course you&#39;re not trying to validate the form of the number, just get the number)"}],"answers":[{"tags":[],"owner":{"account_id":464273,"reputation":1721,"user_id":867671,"accept_rate":67,"display_name":"beefyhalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313698825,"creation_date":1313698825,"answer_id":7113636,"question_id":7113603,"body_markdown":"Try stripping the dashes out, and regex the new string","title":"Extract an ISBN with regex","body":"<p>Try stripping the dashes out, and regex the new string</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1313698905,"creation_date":1313698905,"answer_id":7113655,"question_id":7113603,"body_markdown":"- Alternative 1:\r\n\r\n        pattern.matcher(ISBN.replace(&quot;-&quot;, &quot;&quot;))\r\n\r\n- Alternative 2: Something like\r\n\r\n        Pattern.compile(&quot;(\\\\d-?){13}&quot;)\r\n\r\n\r\n**Demo of second alternative:**\r\n\r\n    String ISBN = &quot;ISBN: 123-456-789-112-3, ISBN: 1234567891123&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(&quot;(\\\\d-?){13}&quot;);\r\n    Matcher matcher = pattern.matcher(ISBN);\r\n    \r\n    while (matcher.find())\r\n        System.out.println(matcher.group());\r\n\r\n**Output:**\r\n\r\n    123-456-789-112-3\r\n    1234567891123\r\n\r\n","title":"Extract an ISBN with regex","body":"<ul>\n<li><p>Alternative 1:</p>\n\n<pre><code>pattern.matcher(ISBN.replace(\"-\", \"\"))\n</code></pre></li>\n<li><p>Alternative 2: Something like</p>\n\n<pre><code>Pattern.compile(\"(\\\\d-?){13}\")\n</code></pre></li>\n</ul>\n\n<p><strong>Demo of second alternative:</strong></p>\n\n<pre><code>String ISBN = \"ISBN: 123-456-789-112-3, ISBN: 1234567891123\";\n\nPattern pattern = Pattern.compile(\"(\\\\d-?){13}\");\nMatcher matcher = pattern.matcher(ISBN);\n\nwhile (matcher.find())\n    System.out.println(matcher.group());\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>123-456-789-112-3\n1234567891123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391039,"reputation":17255,"user_id":751484,"accept_rate":86,"display_name":"Jonathan M"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313698920,"creation_date":1313698920,"answer_id":7113658,"question_id":7113603,"body_markdown":"Try this:\r\n\r\n    Pattern.compile(&quot;\\\\d(-?\\\\d){12}&quot;)","title":"Extract an ISBN with regex","body":"<p>Try this:</p>\n\n<pre><code>Pattern.compile(\"\\\\d(-?\\\\d){12}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1313698942,"creation_date":1313698942,"answer_id":7113660,"question_id":7113603,"body_markdown":"Use this pattern:\r\n\r\n    Pattern.compile(&quot;(?:\\\\d-?){13}&quot;)\r\n\r\nand strip all dashes from the found isbn number","title":"Extract an ISBN with regex","body":"<p>Use this pattern:</p>\n\n<pre><code>Pattern.compile(\"(?:\\\\d-?){13}\")\n</code></pre>\n\n<p>and strip all dashes from the found isbn number</p>\n"},{"tags":[],"owner":{"account_id":171931,"reputation":30125,"user_id":399649,"accept_rate":95,"display_name":"Justin Morgan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313763003,"creation_date":1313698946,"answer_id":7113662,"question_id":7113603,"body_markdown":"You can strip out the dashes with string manipulation, or you could use this:\r\n\r\n    &quot;\\\\b(?:\\\\d-?){13}\\\\b&quot;\r\n\r\nIt has the added bonus of making sure the string doesn&#39;t start or end with `-`.","title":"Extract an ISBN with regex","body":"<p>You can strip out the dashes with string manipulation, or you could use this:</p>\n\n<pre><code>\"\\\\b(?:\\\\d-?){13}\\\\b\"\n</code></pre>\n\n<p>It has the added bonus of making sure the string doesn't start or end with <code>-</code>.</p>\n"},{"tags":[],"owner":{"account_id":442669,"reputation":2220,"user_id":833402,"display_name":"J&#252;rgen Strobel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313699155,"creation_date":1313699155,"answer_id":7113696,"question_id":7113603,"body_markdown":"Do it in one step with a pattern recognizing everything, and optional dashes between digits. No need to fiddle with ISBN offset + substrings.\r\n\r\n    ISBN(\\d(-?\\d){12})\r\n\r\nIf you want the raw number, strip dashes from the first matched subgroup afterwards.\r\nI am not a Java guy so I won&#39;t show you code.","title":"Extract an ISBN with regex","body":"<p>Do it in one step with a pattern recognizing everything, and optional dashes between digits. No need to fiddle with ISBN offset + substrings.</p>\n\n<pre><code>ISBN(\\d(-?\\d){12})\n</code></pre>\n\n<p>If you want the raw number, strip dashes from the first matched subgroup afterwards.\nI am not a Java guy so I won't show you code.</p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313711512,"creation_date":1313711512,"answer_id":7115510,"question_id":7113603,"body_markdown":"If you&#39;re going to be calling the method a lot, the best thing you can do is *not* compile the Pattern inside it.  Otherwise, each time you call the method you&#39;ll spend more time *creating* the regex than you will actually searching for it.\r\n\r\nBut after looking at your code again, I think you have a bigger problem, performance-wise.  All that business of locating &quot;ISBN&quot; and then creating substrings to apply the regex to is completely unnecessary.  Let the regex do that stuff; it&#39;s what they&#39;re for.  The following regex finds the &quot;ISBN&quot; sentinel *and* the following thirteen digits, if they&#39;re there:\r\n\r\n    static final Pattern isbnPattern = Pattern.compile(\r\n        &quot;\\\\bISBN[^A-Z0-9]*+(\\\\d(?:-*+\\\\d){12})&quot;, Pattern.CASE_INSENSITIVE );\r\n\r\nThe `[^A-Z0-9]*+` gobbles up whatever characters may appear between the &quot;ISBN&quot; and the first digit.  The possessive quantifier (`*+`) prevents needless backtracking; if the next character is not a digit, the regex engine immediately quits that match attempt and resumes scanning for another &quot;ISBN&quot; instance.\r\n\r\nI used another possessive quantifier for the optional hyphens, plus a non-capturing group (`(?:...)`) for the repeated portion; that gives another slight performance gain over the capturing groups most of the other responders are using.  But I used a capturing group for the whole number, so it can be extracted from the overall match easily.  With these changes, your method reduces to this:\r\n\r\n    public String parseISBN (String source) {\r\n      Matcher m = isbnPattern.matcher(source); \r\n      return m.find() ? m.group(1) : null;\r\n    }\r\n\r\n...and it&#39;s much more efficient, too.  Note that we haven&#39;t addressed how the strings are getting into memory.  If you&#39;re doing the I/O yourself, it&#39;s possible there are significant performance gains to be achieved in that area, too.\r\n\r\n","title":"Extract an ISBN with regex","body":"<p>If you're going to be calling the method a lot, the best thing you can do is <em>not</em> compile the Pattern inside it.  Otherwise, each time you call the method you'll spend more time <em>creating</em> the regex than you will actually searching for it.</p>\n\n<p>But after looking at your code again, I think you have a bigger problem, performance-wise.  All that business of locating \"ISBN\" and then creating substrings to apply the regex to is completely unnecessary.  Let the regex do that stuff; it's what they're for.  The following regex finds the \"ISBN\" sentinel <em>and</em> the following thirteen digits, if they're there:</p>\n\n<pre><code>static final Pattern isbnPattern = Pattern.compile(\n    \"\\\\bISBN[^A-Z0-9]*+(\\\\d(?:-*+\\\\d){12})\", Pattern.CASE_INSENSITIVE );\n</code></pre>\n\n<p>The <code>[^A-Z0-9]*+</code> gobbles up whatever characters may appear between the \"ISBN\" and the first digit.  The possessive quantifier (<code>*+</code>) prevents needless backtracking; if the next character is not a digit, the regex engine immediately quits that match attempt and resumes scanning for another \"ISBN\" instance.</p>\n\n<p>I used another possessive quantifier for the optional hyphens, plus a non-capturing group (<code>(?:...)</code>) for the repeated portion; that gives another slight performance gain over the capturing groups most of the other responders are using.  But I used a capturing group for the whole number, so it can be extracted from the overall match easily.  With these changes, your method reduces to this:</p>\n\n<pre><code>public String parseISBN (String source) {\n  Matcher m = isbnPattern.matcher(source); \n  return m.find() ? m.group(1) : null;\n}\n</code></pre>\n\n<p>...and it's much more efficient, too.  Note that we haven't addressed how the strings are getting into memory.  If you're doing the I/O yourself, it's possible there are significant performance gains to be achieved in that area, too.</p>\n"},{"tags":[],"owner":{"account_id":543402,"reputation":61,"user_id":912521,"display_name":"Pankaj Rastogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663081553,"creation_date":1663081553,"answer_id":73705288,"question_id":7113603,"body_markdown":"you can try this\r\n\r\n&quot;(?:[0-9]{9}[0-9X]|[0-9]{13}|[0-9][0-9-]{11}[0-9X]|[0-9][0-9-]{15}[0-9])(?![0-9-])&quot;","title":"Extract an ISBN with regex","body":"<p>you can try this</p>\n<p>&quot;(?:[0-9]{9}[0-9X]|[0-9]{13}|[0-9][0-9-]{11}[0-9X]|[0-9][0-9-]{15}[0-9])(?![0-9-])&quot;</p>\n"}],"owner":{"account_id":435575,"reputation":724,"user_id":822240,"accept_rate":80,"display_name":"Adam Storm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25056,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7113655,"answer_count":8,"score":4,"last_activity_date":1663081553,"creation_date":1313698624,"question_id":7113603,"body_markdown":"I have an extremely long string that I want to parse for a numeric value that occurs after the substring &quot;ISBN&quot;. However, this grouping of 13 digits can be arranged differently via the &quot;-&quot; character. Examples: (these are all valid ISBNs) `123-456-789-123-4`, OR `1-2-3-4-5-67891234`, OR `12-34-56-78-91-23-4`. Essentially, I want to use a regex pattern matcher on the potential ISBN to see if there is a valid 13 digit ISBN. How do I &#39;ignore&#39; the &quot;-&quot; character so I can just regex for a `\\d{13}` pattern?  My function:\r\n\r\n    public String parseISBN (String sourceCode) {\r\n      int location = sourceCode.indexOf(&quot;ISBN&quot;) + 5;\r\n      String ISBN = sourceCode.substring(location); //substring after &quot;ISBN&quot; occurs\r\n      int i = 0;\r\n      while ( ISBN.charAt(i) != &#39; &#39; )\r\n        i++;\r\n      ISBN = ISBN.substring(0, i); //should contain potential ISBN value\r\n      Pattern pattern = Pattern.compile(&quot;\\\\d{13}&quot;); //this clearly will find 13 consecutive numbers, but I need it to ignore the &quot;-&quot; character\r\n      Matcher matcher = pattern.matcher(ISBN); \r\n      if (matcher.find()) return ISBN;\r\n      else return null;\r\n    }","title":"Extract an ISBN with regex","body":"<p>I have an extremely long string that I want to parse for a numeric value that occurs after the substring \"ISBN\". However, this grouping of 13 digits can be arranged differently via the \"-\" character. Examples: (these are all valid ISBNs) <code>123-456-789-123-4</code>, OR <code>1-2-3-4-5-67891234</code>, OR <code>12-34-56-78-91-23-4</code>. Essentially, I want to use a regex pattern matcher on the potential ISBN to see if there is a valid 13 digit ISBN. How do I 'ignore' the \"-\" character so I can just regex for a <code>\\d{13}</code> pattern?  My function:</p>\n\n<pre><code>public String parseISBN (String sourceCode) {\n  int location = sourceCode.indexOf(\"ISBN\") + 5;\n  String ISBN = sourceCode.substring(location); //substring after \"ISBN\" occurs\n  int i = 0;\n  while ( ISBN.charAt(i) != ' ' )\n    i++;\n  ISBN = ISBN.substring(0, i); //should contain potential ISBN value\n  Pattern pattern = Pattern.compile(\"\\\\d{13}\"); //this clearly will find 13 consecutive numbers, but I need it to ignore the \"-\" character\n  Matcher matcher = pattern.matcher(ISBN); \n  if (matcher.find()) return ISBN;\n  else return null;\n}\n</code></pre>\n"},{"tags":["java","gremlin","tinkerpop","tinkerpop3"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1661690133,"post_id":73512730,"comment_id":129827020,"body_markdown":"It will help people to provide you tested answers if you can provide the `addV` and `addE` steps that build a small example graph. It is likely that all you need is the `path` step, but a sample graph and an example of the desired output will help. An example of building a sample graph can be found in the answer to this post https://stackoverflow.com/questions/73433016/gremlin-traverse-path-along-the-same-property/73449813#73449813","body":"It will help people to provide you tested answers if you can provide the <code>addV</code> and <code>addE</code> steps that build a small example graph. It is likely that all you need is the <code>path</code> step, but a sample graph and an example of the desired output will help. An example of building a sample graph can be found in the answer to this post <a href=\"https://stackoverflow.com/questions/73433016/gremlin-traverse-path-along-the-same-property/73449813#73449813\" title=\"gremlin traverse path along the same property\">stackoverflow.com/questions/73433016/&hellip;</a>"},{"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"score":0,"creation_date":1661690435,"post_id":73512730,"comment_id":129827087,"body_markdown":"It is also fun to read Kelvin&#39;s book on gremlin, in particular, see: https://www.kelvinlawrence.net/book/PracticalGremlin.html#aselproj","body":"It is also fun to read Kelvin&#39;s book on gremlin, in particular, see: <a href=\"https://www.kelvinlawrence.net/book/PracticalGremlin.html#aselproj\" rel=\"nofollow noreferrer\">kelvinlawrence.net/book/PracticalGremlin.html#aselproj</a>"},{"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"score":0,"creation_date":1663075704,"post_id":73512730,"comment_id":130150308,"body_markdown":"@KelvinLawrence I edited my question and added an example graph. I made some small progress, but still can&#39;t get multiple values from multiple vertices.","body":"@KelvinLawrence I edited my question and added an example graph. I made some small progress, but still can&#39;t get multiple values from multiple vertices."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":1,"creation_date":1663113763,"post_id":73512730,"comment_id":130161747,"body_markdown":"Thanks will take a look. I also answered your other question and explained what those &quot;1&quot; values are in that answer: https://stackoverflow.com/questions/73709078/tinkerpop-multiple-by-only-returning-the-last-by-value","body":"Thanks will take a look. I also answered your other question and explained what those &quot;1&quot; values are in that answer: <a href=\"https://stackoverflow.com/questions/73709078/tinkerpop-multiple-by-only-returning-the-last-by-value\" title=\"tinkerpop multiple by only returning the last by value\">stackoverflow.com/questions/73709078/&hellip;</a>"}],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663081165,"creation_date":1661618367,"question_id":73512730,"body_markdown":"I am using Java with Tinkerpop v. 3.5.1\r\n\r\nI have a graph DB that contains many &quot;smaller&quot; graphs in it. I want to traverse the graph from a starting point (it could be different depending on the query) and collect some properties from different vertices along the way.\r\n\r\nThe basic outline of a &quot;smaller&quot; graph looks like:\r\n\r\n                 Admin\r\n                   |\r\n                   v\r\n     Student --&gt; School --&gt; Class &lt;-- ClassReq\r\n\r\nedited: (I made some small progress, so here is where I am at now)\r\n\r\nHere is an example graph from gremlify:\r\n```\r\ng.addV(&#39;Student&#39;).as(&#39;1&#39;).\r\n  property(single, &#39;name&#39;, &#39;Peter&#39;).\r\n  property(single, &#39;age&#39;, 22).addV(&#39;School&#39;).\r\n    as(&#39;2&#39;).\r\n  property(single, &#39;name&#39;, &#39;Jefferson&#39;).\r\n  property(single, &#39;address&#39;, &#39;1234 Jefferson St.&#39;).\r\n  addV(&#39;Administration&#39;).as(&#39;3&#39;).\r\n  property(single, &#39;status&#39;, &#39;AFW&#39;).\r\n  property(single, &#39;level&#39;, &#39;4.2A&#39;).\r\n  addV(&#39;Class&#39;).as(&#39;4&#39;).\r\n  property(single, &#39;name&#39;, &#39;Math&#39;).\r\n  property(single, &#39;level&#39;, 2).addV(&#39;ClassReq&#39;).\r\n    as(&#39;5&#39;).\r\n  property(single, &#39;name&#39;, &#39;Math&#39;).\r\n  property(single, &#39;level&#39;, 1).addV(&#39;Student&#39;).\r\n    as(&#39;6&#39;).\r\n  property(single, &#39;name&#39;, &#39;Sam&#39;).\r\n  property(single, &#39;age&#39;, 24).addV(&#39;Class&#39;).\r\n    as(&#39;7&#39;).\r\n  property(single, &#39;name&#39;, &#39;English&#39;).\r\n  property(single, &#39;level&#39;, 2).addE(&#39;attends&#39;).\r\n  from(&#39;1&#39;).to(&#39;2&#39;).addE(&#39;administers&#39;).\r\n  from(&#39;3&#39;).to(&#39;2&#39;).addE(&#39;isReqsFor&#39;).from(&#39;5&#39;).\r\n  to(&#39;4&#39;).addE(&#39;offers&#39;).from(&#39;2&#39;).to(&#39;4&#39;).\r\n  addE(&#39;attends&#39;).from(&#39;6&#39;).to(&#39;2&#39;).\r\n  addE(&#39;offers&#39;).from(&#39;2&#39;).to(&#39;7&#39;)\r\n```\r\nI am trying to use `.aggregate()` with `.by()`, but I am not getting all of the values out that I am expecting.\r\n\r\n```\r\ng.V().has(&quot;name&quot;, &quot;Jefferson&quot;).out(&quot;offers&quot;).aggregate(&quot;x&quot;).by(&quot;level&quot;).by(&quot;name&quot;).cap(&quot;x&quot;)\r\n```\r\n\r\nIf I do that, I only get the last `.by()` fields returned:\r\n```\r\n[\r\n  [\r\n    &quot;English&quot;,\r\n    1,\r\n    &quot;Math&quot;,\r\n    1\r\n  ]\r\n]\r\n```\r\nI don&#39;t know what those `1` fields are, because the `level` that I was expecting are `2`. But even if I don&#39;t include the `level` as a `.by()`, I get the exact same result.\r\n\r\nFrom the Tinkerpop docs, it looks like I should be able to use `.by(&quot;someField&quot;).by(&quot;someOtherField&quot;)` and it would return both fields...but I am not getting them.\r\n```\r\ngremlin&gt; g.V().out().out().path().by(&#39;name&#39;).by(&#39;age&#39;)\r\n==&gt;[marko,32,ripple]\r\n==&gt;[marko,32,lop]\r\n```\r\n\r\nEdit:\r\nSorry, forgot to add a desired result.\r\nI would like to have something like:\r\n```\r\ng.V().has(&quot;name&quot;, &quot;Jefferson&quot;).out(&quot;offers&quot;).aggregate(&quot;x&quot;).by(&quot;level&quot;).by(&quot;name&quot;).cap(&quot;x&quot;).in(&quot;offers&quot;).out(&quot;administers&quot;).aggregate(&quot;y&quot;).by(&quot;status&quot;).cap(&quot;y&quot;).in(&quot;administers&quot;).out(&quot;attends&quot;).aggregate(&quot;z&quot;).by(&quot;name&quot;).by(&quot;age&quot;).cap(&quot;z)\r\n```\r\nAnd have it return the data, preferably as key/value pairs, but I am unsure how to get the data with `.valueMap()` when I use `.aggregate()` and `.cap()`.\r\nSo a result something like:\r\n```\r\n[\r\n   [\r\n      &quot;level&quot;: 2,\r\n      &quot;name&quot;: &quot;English\r\n   ],\r\n   [\r\n      &quot;level&quot;: 2,\r\n      &quot;name&quot;: &quot;Math\r\n   ],\r\n   [\r\n      &quot;status&quot;: &quot;AFW&quot;\r\n   ],\r\n   [\r\n      &quot;name&quot;: &quot;Peter&quot;,\r\n      &quot;age&quot;: 22\r\n   ],\r\n   [\r\n      &quot;name&quot;: &quot;Sam&quot;,\r\n      &quot;age&quot;: 24\r\n   ]\r\n]\r\n```","title":"Retrieve multiple properties from different vertices in graph with Gremlin Tinkerpop","body":"<p>I am using Java with Tinkerpop v. 3.5.1</p>\n<p>I have a graph DB that contains many &quot;smaller&quot; graphs in it. I want to traverse the graph from a starting point (it could be different depending on the query) and collect some properties from different vertices along the way.</p>\n<p>The basic outline of a &quot;smaller&quot; graph looks like:</p>\n<pre><code>             Admin\n               |\n               v\n Student --&gt; School --&gt; Class &lt;-- ClassReq\n</code></pre>\n<p>edited: (I made some small progress, so here is where I am at now)</p>\n<p>Here is an example graph from gremlify:</p>\n<pre><code>g.addV('Student').as('1').\n  property(single, 'name', 'Peter').\n  property(single, 'age', 22).addV('School').\n    as('2').\n  property(single, 'name', 'Jefferson').\n  property(single, 'address', '1234 Jefferson St.').\n  addV('Administration').as('3').\n  property(single, 'status', 'AFW').\n  property(single, 'level', '4.2A').\n  addV('Class').as('4').\n  property(single, 'name', 'Math').\n  property(single, 'level', 2).addV('ClassReq').\n    as('5').\n  property(single, 'name', 'Math').\n  property(single, 'level', 1).addV('Student').\n    as('6').\n  property(single, 'name', 'Sam').\n  property(single, 'age', 24).addV('Class').\n    as('7').\n  property(single, 'name', 'English').\n  property(single, 'level', 2).addE('attends').\n  from('1').to('2').addE('administers').\n  from('3').to('2').addE('isReqsFor').from('5').\n  to('4').addE('offers').from('2').to('4').\n  addE('attends').from('6').to('2').\n  addE('offers').from('2').to('7')\n</code></pre>\n<p>I am trying to use <code>.aggregate()</code> with <code>.by()</code>, but I am not getting all of the values out that I am expecting.</p>\n<pre><code>g.V().has(&quot;name&quot;, &quot;Jefferson&quot;).out(&quot;offers&quot;).aggregate(&quot;x&quot;).by(&quot;level&quot;).by(&quot;name&quot;).cap(&quot;x&quot;)\n</code></pre>\n<p>If I do that, I only get the last <code>.by()</code> fields returned:</p>\n<pre><code>[\n  [\n    &quot;English&quot;,\n    1,\n    &quot;Math&quot;,\n    1\n  ]\n]\n</code></pre>\n<p>I don't know what those <code>1</code> fields are, because the <code>level</code> that I was expecting are <code>2</code>. But even if I don't include the <code>level</code> as a <code>.by()</code>, I get the exact same result.</p>\n<p>From the Tinkerpop docs, it looks like I should be able to use <code>.by(&quot;someField&quot;).by(&quot;someOtherField&quot;)</code> and it would return both fields...but I am not getting them.</p>\n<pre><code>gremlin&gt; g.V().out().out().path().by('name').by('age')\n==&gt;[marko,32,ripple]\n==&gt;[marko,32,lop]\n</code></pre>\n<p>Edit:\nSorry, forgot to add a desired result.\nI would like to have something like:</p>\n<pre><code>g.V().has(&quot;name&quot;, &quot;Jefferson&quot;).out(&quot;offers&quot;).aggregate(&quot;x&quot;).by(&quot;level&quot;).by(&quot;name&quot;).cap(&quot;x&quot;).in(&quot;offers&quot;).out(&quot;administers&quot;).aggregate(&quot;y&quot;).by(&quot;status&quot;).cap(&quot;y&quot;).in(&quot;administers&quot;).out(&quot;attends&quot;).aggregate(&quot;z&quot;).by(&quot;name&quot;).by(&quot;age&quot;).cap(&quot;z)\n</code></pre>\n<p>And have it return the data, preferably as key/value pairs, but I am unsure how to get the data with <code>.valueMap()</code> when I use <code>.aggregate()</code> and <code>.cap()</code>.\nSo a result something like:</p>\n<pre><code>[\n   [\n      &quot;level&quot;: 2,\n      &quot;name&quot;: &quot;English\n   ],\n   [\n      &quot;level&quot;: 2,\n      &quot;name&quot;: &quot;Math\n   ],\n   [\n      &quot;status&quot;: &quot;AFW&quot;\n   ],\n   [\n      &quot;name&quot;: &quot;Peter&quot;,\n      &quot;age&quot;: 22\n   ],\n   [\n      &quot;name&quot;: &quot;Sam&quot;,\n      &quot;age&quot;: 24\n   ]\n]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1663081047,"post_id":73705020,"comment_id":130152789,"body_markdown":"Because you initialize `i` once, at the beginning; in the inner `while` loop you increment `i`, but you never set it back to 1. You probably want to set `i` back to 1 inside the outer `while` loop. This is a good opportunity to learn how to debug your code: step through it with a debugger line by line to follow what happens.","body":"Because you initialize <code>i</code> once, at the beginning; in the inner <code>while</code> loop you increment <code>i</code>, but you never set it back to 1. You probably want to set <code>i</code> back to 1 inside the outer <code>while</code> loop. This is a good opportunity to learn how to debug your code: step through it with a debugger line by line to follow what happens."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1663084943,"post_id":73705020,"comment_id":130154226,"body_markdown":"It&#39;s also the case that your code is working it&#39;s way from the least significant digit to the most significant digit which is not what your examples shows.","body":"It&#39;s also the case that your code is working it&#39;s way from the least significant digit to the most significant digit which is not what your examples shows."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663081069,"creation_date":1663081069,"answer_id":73705158,"question_id":73705020,"body_markdown":"You need to reset `i` to 1 with each digit\r\n\r\n        while (n&gt;0) {\r\n            d = n%10;\r\n            i = 1;\r\n            while (i&lt;=d) {\r\n                if (d%i==0) {\r\n                    c++;\r\n                }\r\n                i++;\r\n            }\r\n            if (c==2) {\r\n                System.out.println(d);\r\n            }\r\n            n = n/10;\r\n        }\r\n\r\nBTW there are few enough prime numbers in the range to 1 - 9 that you could just manually code in checks for matching if digit is prime (not calculate for each digit)","title":"How to extract digit and check whether it is prime digit or not in java?","body":"<p>You need to reset <code>i</code> to 1 with each digit</p>\n<pre><code>    while (n&gt;0) {\n        d = n%10;\n        i = 1;\n        while (i&lt;=d) {\n            if (d%i==0) {\n                c++;\n            }\n            i++;\n        }\n        if (c==2) {\n            System.out.println(d);\n        }\n        n = n/10;\n    }\n</code></pre>\n<p>BTW there are few enough prime numbers in the range to 1 - 9 that you could just manually code in checks for matching if digit is prime (not calculate for each digit)</p>\n"}],"owner":{"account_id":20866314,"reputation":1,"user_id":15327265,"display_name":"Mayank Vikash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1663081069,"creation_date":1663080462,"question_id":73705020,"body_markdown":"Does anyone know how to take a number, extract its digits and display the digits which are prime numbers?\r\nfor ex - 762\r\nOutput: 7, 2\r\n\r\nI have written the programmed till here:\r\n\r\n     // program to input a number, print the prime digit, ex - 762 = 7,2\r\n            int n, d, i=1, c=0;\r\n            System.out.println(&quot;Enter a number&quot;);\r\n            n = in.nextInt();\r\n            while (n&gt;0) {\r\n                d = n%10;\r\n                while (i&lt;=d) {\r\n                    if (d%i==0) {\r\n                        c++;\r\n                    }\r\n                    i++;\r\n                }\r\n                if (c==2) {\r\n                    System.out.println(d);\r\n                }\r\n                n = n/10;\r\n            }\r\n\r\nOutput\r\n[screenshot][1]\r\n\r\nI don&#39;t know why the loop is not repeating.\r\nIf anyone knows, please help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HNSpE.jpg","title":"How to extract digit and check whether it is prime digit or not in java?","body":"<p>Does anyone know how to take a number, extract its digits and display the digits which are prime numbers?\nfor ex - 762\nOutput: 7, 2</p>\n<p>I have written the programmed till here:</p>\n<pre><code> // program to input a number, print the prime digit, ex - 762 = 7,2\n        int n, d, i=1, c=0;\n        System.out.println(&quot;Enter a number&quot;);\n        n = in.nextInt();\n        while (n&gt;0) {\n            d = n%10;\n            while (i&lt;=d) {\n                if (d%i==0) {\n                    c++;\n                }\n                i++;\n            }\n            if (c==2) {\n                System.out.println(d);\n            }\n            n = n/10;\n        }\n</code></pre>\n<p>Output\n<a href=\"https://i.stack.imgur.com/HNSpE.jpg\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>I don't know why the loop is not repeating.\nIf anyone knows, please help.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1662927981,"post_id":73682215,"comment_id":130113922,"body_markdown":"If `scripts.isConnection()` is a lengthy operation, it is holding up the processing of JavaFX events, which means the window is not redrawn and no user input is processed until the tryConnect method completes.","body":"If <code>scripts.isConnection()</code> is a lengthy operation, it is holding up the processing of JavaFX events, which means the window is not redrawn and no user input is processed until the tryConnect method completes."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1662928277,"post_id":73682215,"comment_id":130113964,"body_markdown":"Run `scripts.isConnection()` in a background thread, by implementing a `Task&lt;Boolean&gt;`. See the `Task` Javadocs.","body":"Run <code>scripts.isConnection()</code> in a background thread, by implementing a <code>Task&lt;Boolean&gt;</code>. See the <code>Task</code> Javadocs."},{"owner":{"account_id":26307918,"reputation":3,"user_id":19972032,"display_name":"BeWorld"},"score":0,"creation_date":1662969155,"post_id":73682215,"comment_id":130120098,"body_markdown":"@VGR, Did I understand correctly that the window will be drawn after the tryConnection method finishes, not while it is running?","body":"@VGR, Did I understand correctly that the window will be drawn after the tryConnection method finishes, not while it is running?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1662975077,"post_id":73682215,"comment_id":130121912,"body_markdown":"@BeWorld Yes, that’s correct. As in most (if not all) UI toolkits, window painting happens on the same thread as event handling.","body":"@BeWorld Yes, that’s correct. As in most (if not all) UI toolkits, window painting happens on the same thread as event handling."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663080945,"creation_date":1663080082,"answer_id":73704933,"question_id":73682215,"body_markdown":"Assuming `scripts.isConnection()` is a long-running process, executing it on the FX Application Thread will prevent the window from being redrawn until it completes. \r\n\r\nAt an intuitive level, the FX Application Thread executes a loop that does something like this:\r\n\r\n    while the application is running:\r\n        if there are user events to handle:\r\n            handle user events\r\n        if there are animations active:\r\n            update animations\r\n        if there are pending runnables in Platform.runLater(), execute them\r\n    \r\n        if it is time to repaint the scene:\r\n            if there are changes to the scene:\r\n                recompute layout and repaint scene\r\n\r\nTherefore, if you execute a long-running process on the FX Application Thread (e.g. in an event handler or in a `Runnable`\r\n passed to `Platform.runLater()`), this loop will not get to repaint the scene until that process is complete.\r\n\r\nYou need to run the long running process on a background thread. You can use the `Task` API to do this:\r\n\r\n    private void tryConnect() {\r\n        Label labelLoadAnimation = new Label(&quot;testText&quot;);\r\n\r\n        mVBox.getChildren().set(0, labelLoadAnimation);\r\n\r\n        Task&lt;Boolean&gt; testConnectionTask = new Task&lt;&gt;() {\r\n            @Override\r\n            public Boolean call() throws Exception {\r\n                return scripts.isConnection();\r\n            }\r\n        };\r\n\r\n        testConnectionTask.setOnSucceeded(e -&gt; {\r\n            if (testConnectionTask.getValue()) {\r\n                mVBox.getChildren().set(0, mErrorImage);\r\n            }\r\n        }\r\n\r\n        Thread thread = new Thread(testConnectionTask);\r\n        thread.start();\r\n    }","title":"How do I replace an ImageView with a label at the click of a button and then return the ImageView back?","body":"<p>Assuming <code>scripts.isConnection()</code> is a long-running process, executing it on the FX Application Thread will prevent the window from being redrawn until it completes.</p>\n<p>At an intuitive level, the FX Application Thread executes a loop that does something like this:</p>\n<pre><code>while the application is running:\n    if there are user events to handle:\n        handle user events\n    if there are animations active:\n        update animations\n    if there are pending runnables in Platform.runLater(), execute them\n\n    if it is time to repaint the scene:\n        if there are changes to the scene:\n            recompute layout and repaint scene\n</code></pre>\n<p>Therefore, if you execute a long-running process on the FX Application Thread (e.g. in an event handler or in a <code>Runnable</code>\npassed to <code>Platform.runLater()</code>), this loop will not get to repaint the scene until that process is complete.</p>\n<p>You need to run the long running process on a background thread. You can use the <code>Task</code> API to do this:</p>\n<pre><code>private void tryConnect() {\n    Label labelLoadAnimation = new Label(&quot;testText&quot;);\n\n    mVBox.getChildren().set(0, labelLoadAnimation);\n\n    Task&lt;Boolean&gt; testConnectionTask = new Task&lt;&gt;() {\n        @Override\n        public Boolean call() throws Exception {\n            return scripts.isConnection();\n        }\n    };\n\n    testConnectionTask.setOnSucceeded(e -&gt; {\n        if (testConnectionTask.getValue()) {\n            mVBox.getChildren().set(0, mErrorImage);\n        }\n    }\n\n    Thread thread = new Thread(testConnectionTask);\n    thread.start();\n}\n</code></pre>\n"}],"owner":{"account_id":26307918,"reputation":3,"user_id":19972032,"display_name":"BeWorld"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73704933,"answer_count":1,"score":0,"last_activity_date":1663080945,"creation_date":1662925491,"question_id":73682215,"body_markdown":"I have a no internet scene with an ImageView and a button, I need to replace the ImageView by a Label when the button is pressed, and after checking the internet if there is no internet, return the ImageView back.\r\n\r\nThe problem is that there is no element change in the application and the picture remains static, the Label doesn&#39;t even appear for seconds.\r\nMy code:\r\n\r\nMainApplication.java\r\n```\r\npackage com.streamvoice;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\nimport scripts.streamvoice.Scripts;\r\n\r\npublic class MainApplication extends Application {\r\n    Scripts scripts = new Scripts();\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader;\r\n\r\n        if (scripts.isConnection()) {\r\n            fxmlLoader = new FXMLLoader(getClass().getResource(&quot;StartScene.fxml&quot;));\r\n        }\r\n        else {\r\n            fxmlLoader = new FXMLLoader(getClass().getResource(&quot;ConnectionErrorScene.fxml&quot;));\r\n        }\r\n\r\n        Scene scene = new Scene(fxmlLoader.load(), 1000, 500);\r\n        stage.setTitle(&quot;Stream Voice&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\nConnectionErrorScene.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.Cursor?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ProgressIndicator?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;VBox fx:id=&quot;mVBox&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.streamvoice.ConnectionSceneController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ImageView fx:id=&quot;mErrorImage&quot; fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@../../images/connectionError.png&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;ProgressIndicator progress=&quot;0.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;mTryConnectButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#tryConnect&quot; text=&quot;try&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\nConnectionSceneController.java\r\n```\r\npackage com.streamvoice;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ProgressIndicator;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.VBox;\r\nimport scripts.streamvoice.Scripts;\r\n\r\npublic class ConnectionSceneController {\r\n    Scripts scripts = new Scripts();\r\n    @FXML private Button mTryConnectButton;\r\n    @FXML private ImageView mErrorImage;\r\n    @FXML private ProgressIndicator mConnectionProgressIndicator; //Затычка\r\n    @FXML private VBox mVBox;\r\n   \r\n    private void tryConnect() {\r\n        Label labelLoadAnimation = new Label(&quot;testText&quot;);\r\n\r\n        mVBox.getChildren().set(0, labelLoadAnimation);\r\n\r\n        if (scripts.isConnection())\r\n        {\r\n            mVBox.getChildren().set(0, mErrorImage);\r\n        }\r\n    }\r\n}\r\n```","title":"How do I replace an ImageView with a label at the click of a button and then return the ImageView back?","body":"<p>I have a no internet scene with an ImageView and a button, I need to replace the ImageView by a Label when the button is pressed, and after checking the internet if there is no internet, return the ImageView back.</p>\n<p>The problem is that there is no element change in the application and the picture remains static, the Label doesn't even appear for seconds.\nMy code:</p>\n<p>MainApplication.java</p>\n<pre><code>package com.streamvoice;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\nimport scripts.streamvoice.Scripts;\n\npublic class MainApplication extends Application {\n    Scripts scripts = new Scripts();\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader;\n\n        if (scripts.isConnection()) {\n            fxmlLoader = new FXMLLoader(getClass().getResource(&quot;StartScene.fxml&quot;));\n        }\n        else {\n            fxmlLoader = new FXMLLoader(getClass().getResource(&quot;ConnectionErrorScene.fxml&quot;));\n        }\n\n        Scene scene = new Scene(fxmlLoader.load(), 1000, 500);\n        stage.setTitle(&quot;Stream Voice&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>ConnectionErrorScene.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.Cursor?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ProgressIndicator?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox fx:id=&quot;mVBox&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.streamvoice.ConnectionSceneController&quot;&gt;\n   &lt;children&gt;\n      &lt;ImageView fx:id=&quot;mErrorImage&quot; fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@../../images/connectionError.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;ProgressIndicator progress=&quot;0.0&quot; /&gt;\n      &lt;Button fx:id=&quot;mTryConnectButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#tryConnect&quot; text=&quot;try&quot; /&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>ConnectionSceneController.java</p>\n<pre><code>package com.streamvoice;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ProgressIndicator;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.VBox;\nimport scripts.streamvoice.Scripts;\n\npublic class ConnectionSceneController {\n    Scripts scripts = new Scripts();\n    @FXML private Button mTryConnectButton;\n    @FXML private ImageView mErrorImage;\n    @FXML private ProgressIndicator mConnectionProgressIndicator; //Затычка\n    @FXML private VBox mVBox;\n   \n    private void tryConnect() {\n        Label labelLoadAnimation = new Label(&quot;testText&quot;);\n\n        mVBox.getChildren().set(0, labelLoadAnimation);\n\n        if (scripts.isConnection())\n        {\n            mVBox.getChildren().set(0, mErrorImage);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hql"],"answers":[{"tags":[],"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663080805,"creation_date":1663080805,"answer_id":73705096,"question_id":73697275,"body_markdown":"The solution was to query it like this:\r\n\r\n```sql\r\nSELECT person FROM Person person \r\nINNER JOIN person.vehicle vehicle, Car car\r\nWHERE vehicle.vehicleId = car.vehicleId\r\n    AND car.make = &#39;Honda&#39;\r\n```","title":"HQL Join Query with InheritanceType.JOINED Based on Subclass&#39; Criteria","body":"<p>The solution was to query it like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT person FROM Person person \nINNER JOIN person.vehicle vehicle, Car car\nWHERE vehicle.vehicleId = car.vehicleId\n    AND car.make = 'Honda'\n</code></pre>\n"}],"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73705096,"answer_count":1,"score":0,"last_activity_date":1663080805,"creation_date":1663040105,"question_id":73697275,"body_markdown":"Using a NamedQuery, how to fetch a related table that is using `InheritanceType.JOINED` based on a field of the subclass?\r\n\r\nI have a setup similar to this:\r\n\r\n**Class with the NamedQuery**:\r\n```java\r\n@NamedQuery(&lt;named-query&gt;)\r\n@Entity\r\n@Table(name=&quot;T_PERSON&quot;)\r\npublic class Person {\r\n    private Vehicle vehicle;\r\n}\r\n```\r\n\r\n**Abstract Class being referenced by first class:**\r\n```java\r\n@Entity\r\n@Table(name = &quot;T_VEHICLE&quot;)\r\n@DiscriminatorColumn(name = &quot;vehicleType&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic abstract class Vehicle {\r\n    private Long vehicleId;\r\n    private String vehicleType;\r\n}\r\n```\r\n\r\n**Concrete subclass of the Abstact Class:**\r\n```java\r\n@Entity\r\n@Table(name = &quot;T_CAR&quot;)\r\n@DiscriminatorValue(&quot;CAR&quot;)\r\npublic class Car extends Vehicle {\r\n    private String make;\r\n}\r\n```\r\n\r\nI&#39;m trying to write a `&lt;named-query&gt;` in the `Person` class which will be similar to this SQL:\r\n```sql\r\nSELECT * FROM T_PERSON person\r\nLEFT JOIN T_VEHICLE vehicle ON vehicle.VEHICLE_ID = person.VEHICLE_ID\r\nLEFT JOIN T_CAR car on car.VEHICLE_ID = vehicle.VEHICLE_ID\r\nWHERE car.MAKE = &#39;Honda&#39;\r\n```\r\n\r\nThe issue I&#39;m running into is that the `Person` class only has a reference to the superclass `Vehicle`, and not the subclass `Car`, so trying to write a NamedQuery simliar to this fails:\r\n```sql\r\nSelect person from Person person \r\nleft join person.Vehicle vehicle\r\nwhere vehicle.make = &#39;Honda&#39;\r\n```\r\n\r\n","title":"HQL Join Query with InheritanceType.JOINED Based on Subclass&#39; Criteria","body":"<p>Using a NamedQuery, how to fetch a related table that is using <code>InheritanceType.JOINED</code> based on a field of the subclass?</p>\n<p>I have a setup similar to this:</p>\n<p><strong>Class with the NamedQuery</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NamedQuery(&lt;named-query&gt;)\n@Entity\n@Table(name=&quot;T_PERSON&quot;)\npublic class Person {\n    private Vehicle vehicle;\n}\n</code></pre>\n<p><strong>Abstract Class being referenced by first class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;T_VEHICLE&quot;)\n@DiscriminatorColumn(name = &quot;vehicleType&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Vehicle {\n    private Long vehicleId;\n    private String vehicleType;\n}\n</code></pre>\n<p><strong>Concrete subclass of the Abstact Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;T_CAR&quot;)\n@DiscriminatorValue(&quot;CAR&quot;)\npublic class Car extends Vehicle {\n    private String make;\n}\n</code></pre>\n<p>I'm trying to write a <code>&lt;named-query&gt;</code> in the <code>Person</code> class which will be similar to this SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM T_PERSON person\nLEFT JOIN T_VEHICLE vehicle ON vehicle.VEHICLE_ID = person.VEHICLE_ID\nLEFT JOIN T_CAR car on car.VEHICLE_ID = vehicle.VEHICLE_ID\nWHERE car.MAKE = 'Honda'\n</code></pre>\n<p>The issue I'm running into is that the <code>Person</code> class only has a reference to the superclass <code>Vehicle</code>, and not the subclass <code>Car</code>, so trying to write a NamedQuery simliar to this fails:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Select person from Person person \nleft join person.Vehicle vehicle\nwhere vehicle.make = 'Honda'\n</code></pre>\n"},{"tags":["java","reactjs","spring","base64"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1663087315,"post_id":73705094,"comment_id":130155062,"body_markdown":"is `data:image/png;base64,iVBORw0K...` what `dish.getImage()` returns? I see no place where you extract the base64 string form the image url. And where exactly does `dataimagepngbase64iV...` come from?","body":"is <code>data:image&#47;png;base64,iVBORw0K...</code> what <code>dish.getImage()</code> returns? I see no place where you extract the base64 string form the image url. And where exactly does <code>dataimagepngbase64iV...</code> come from?"},{"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"score":0,"creation_date":1663090120,"post_id":73705094,"comment_id":130156054,"body_markdown":"look, in react i encode like that `data:image/png;base64,iVBORw0K...` then send it to spring, spring decoded it to byte[] and saves to MySql as blob, and when i get data from spring, i need to encode this byte[]. and `Base64.encodeBase64String(dishEntity.getImage())` returns `dataimagepngbase64iV...`","body":"look, in react i encode like that <code>data:image&#47;png;base64,iVBORw0K...</code> then send it to spring, spring decoded it to byte[] and saves to MySql as blob, and when i get data from spring, i need to encode this byte[]. and <code>Base64.encodeBase64String(dishEntity.getImage())</code> returns <code>dataimagepngbase64iV...</code>"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1663091632,"post_id":73705094,"comment_id":130156544,"body_markdown":"but if you get `data:image/png;base64,iVBORw0K...`, which is a Data URL, containing a Base64 String, and treat it like a Base64 string `Base64.decodeBase64URLSafe(dish.getImage())` then it is wrong. A Data URL (`data:image...`) contains Base64 data, but it is not Base64. The Base64 image starts after the `Base64,` with `iVBOR...`. I guess that is your problem here.","body":"but if you get <code>data:image&#47;png;base64,iVBORw0K...</code>, which is a Data URL, containing a Base64 String, and treat it like a Base64 string <code>Base64.decodeBase64URLSafe(dish.getImage())</code> then it is wrong. A Data URL (<code>data:image...</code>) contains Base64 data, but it is not Base64. The Base64 image starts after the <code>Base64,</code> with <code>iVBOR...</code>. I guess that is your problem here."},{"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"score":0,"creation_date":1663095301,"post_id":73705094,"comment_id":130157628,"body_markdown":"wow, thank you man, you realy helped me","body":"wow, thank you man, you realy helped me"}],"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1663080785,"creation_date":1663080785,"question_id":73705094,"body_markdown":"So, i have an opportunity in my application to add dish to menu. When a add it, i encode it in base64 and send to my server Spring Boot. It decodes this image and saves in db as blob. When i need to get my dishes, i encode images again and sent to the frontend(React). But i get bad encoding:\r\n\r\nThis is my encoding in React\r\n```\r\ndata:image/png;base64,iVBORw0K...\r\n```\r\n\r\nI send it to my controller:\r\n```\r\n @PostMapping\r\n    public ResponseEntity&lt;Dish&gt; saveDish(@RequestBody Dish dish) {\r\n        Dish response = dishService.save(dish);\r\n\r\n        return ResponseEntity.ok(response);\r\n    }\r\n\r\n@Override\r\n    public Dish save(Dish dish) {\r\n        log.info(&quot;Saving dish: {}&quot;, dish);\r\n\r\n        DishEntity dishEntity = DishEntity.builder()\r\n                .image(Base64.decodeBase64URLSafe(dish.getImage()))\r\n                .price(dish.getPrice())\r\n                .title(dish.getTitle())\r\n                .description(dish.getDescription())\r\n                .category(dish.getCategory())\r\n                .count(1L)\r\n                .totalPrice(dish.getPrice())\r\n                .build();\r\n\r\n        DishEntity savedDish;\r\n        try {\r\n            savedDish = dishRepository.save(dishEntity);\r\n        } catch (Exception ex) {\r\n            throw new OperationFailedException(&quot;Save dish method failed&quot;);\r\n        }\r\n\r\n        return Dish.builder()\r\n                .id(savedDish.getId())\r\n                .image(Base64.encodeBase64String(savedDish.getImage()))\r\n                .price(savedDish.getPrice())\r\n                .title(savedDish.getTitle())\r\n                .description(savedDish.getDescription())\r\n                .category(savedDish.getCategory())\r\n                .count(savedDish.getCount())\r\n                .totalPrice(savedDish.getTotalPrice())\r\n                .build();\r\n    }\r\n```\r\n\r\nWhen i get dishes, a make reversed things. And this is base64, i get from the server: \r\n```\r\ndataimagepngbase64iVBOR....\r\n```\r\n\r\nAnd therefore, images are not rendered\r\n\r\nI made a method to check image rendering if i send correct values, wrote method, which adds symbols, and when i change base64 encoding from ```dataimagepngbase64iVBOR....``` to ```data:image/png;base64,iVBORw0K...```, a get error in console: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C1con.png","title":"Image from base64 encodes bad in Spring and not shown React","body":"<p>So, i have an opportunity in my application to add dish to menu. When a add it, i encode it in base64 and send to my server Spring Boot. It decodes this image and saves in db as blob. When i need to get my dishes, i encode images again and sent to the frontend(React). But i get bad encoding:</p>\n<p>This is my encoding in React</p>\n<pre><code>data:image/png;base64,iVBORw0K...\n</code></pre>\n<p>I send it to my controller:</p>\n<pre><code> @PostMapping\n    public ResponseEntity&lt;Dish&gt; saveDish(@RequestBody Dish dish) {\n        Dish response = dishService.save(dish);\n\n        return ResponseEntity.ok(response);\n    }\n\n@Override\n    public Dish save(Dish dish) {\n        log.info(&quot;Saving dish: {}&quot;, dish);\n\n        DishEntity dishEntity = DishEntity.builder()\n                .image(Base64.decodeBase64URLSafe(dish.getImage()))\n                .price(dish.getPrice())\n                .title(dish.getTitle())\n                .description(dish.getDescription())\n                .category(dish.getCategory())\n                .count(1L)\n                .totalPrice(dish.getPrice())\n                .build();\n\n        DishEntity savedDish;\n        try {\n            savedDish = dishRepository.save(dishEntity);\n        } catch (Exception ex) {\n            throw new OperationFailedException(&quot;Save dish method failed&quot;);\n        }\n\n        return Dish.builder()\n                .id(savedDish.getId())\n                .image(Base64.encodeBase64String(savedDish.getImage()))\n                .price(savedDish.getPrice())\n                .title(savedDish.getTitle())\n                .description(savedDish.getDescription())\n                .category(savedDish.getCategory())\n                .count(savedDish.getCount())\n                .totalPrice(savedDish.getTotalPrice())\n                .build();\n    }\n</code></pre>\n<p>When i get dishes, a make reversed things. And this is base64, i get from the server:</p>\n<pre><code>dataimagepngbase64iVBOR....\n</code></pre>\n<p>And therefore, images are not rendered</p>\n<p>I made a method to check image rendering if i send correct values, wrote method, which adds symbols, and when i change base64 encoding from <code>dataimagepngbase64iVBOR....</code> to <code>data:image/png;base64,iVBORw0K...</code>, a get error in console:</p>\n<p><a href=\"https://i.stack.imgur.com/C1con.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C1con.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","android-dialogfragment"],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142491,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1652963209,"creation_date":1546928874,"answer_id":54086296,"question_id":54083639,"body_markdown":"In a Kotlin source `*.kt` file, you can place top-level declarations, such as types and top-level functions and properties, but not code statements that are not nested into some declarations.\r\n\r\nA Kotlin Script `*.kts` file, on contrary, contains code statements on the top level without any nesting. These statements are an equivalent of a `main` function. It is allowed to contain types, too, but with some limitations similar to those placed on nested type declarations.","title":"what is the different between Kotlin File/Class and Kotlin Script","body":"<p>In a Kotlin source <code>*.kt</code> file, you can place top-level declarations, such as types and top-level functions and properties, but not code statements that are not nested into some declarations.</p>\n<p>A Kotlin Script <code>*.kts</code> file, on contrary, contains code statements on the top level without any nesting. These statements are an equivalent of a <code>main</code> function. It is allowed to contain types, too, but with some limitations similar to those placed on nested type declarations.</p>\n"}],"owner":{"account_id":12711407,"reputation":250,"user_id":9234930,"display_name":"Youn Tivoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4386,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54086296,"answer_count":1,"score":7,"last_activity_date":1663080772,"creation_date":1546906252,"question_id":54083639,"body_markdown":"I discovering the programming language **kotlin** for some weeks, and I always start with new **File/Class**, and I&#39;ve noticed lately to **kotlin** **Script** in the menu and I ask now what&#39;s different between the **Script** and the normal **File** in **kotlin**\r\n\r\n","title":"what is the different between Kotlin File/Class and Kotlin Script","body":"<p>I discovering the programming language <strong>kotlin</strong> for some weeks, and I always start with new <strong>File/Class</strong>, and I've noticed lately to <strong>kotlin</strong> <strong>Script</strong> in the menu and I ask now what's different between the <strong>Script</strong> and the normal <strong>File</strong> in <strong>kotlin</strong></p>\n"},{"tags":["java","gradle","testing","cucumber"],"comments":[{"owner":{"account_id":15323328,"reputation":191,"user_id":11055151,"display_name":"Masoud Karimi"},"score":0,"creation_date":1663067743,"post_id":73701763,"comment_id":130147087,"body_markdown":"In Gradle, you can get command line arguments like this: `project.property(&quot;conf&quot;)`","body":"In Gradle, you can get command line arguments like this: <code>project.property(&quot;conf&quot;)</code>"},{"owner":{"account_id":16275122,"reputation":41,"user_id":11752470,"display_name":"Tt tt"},"score":0,"creation_date":1663068531,"post_id":73701763,"comment_id":130147370,"body_markdown":"How do I get that value in my java class?","body":"How do I get that value in my java class?"}],"owner":{"account_id":16275122,"reputation":41,"user_id":11752470,"display_name":"Tt tt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663080717,"creation_date":1663066603,"question_id":73701763,"body_markdown":"I want to access command line arguments provided by gradle in my step definition file. Same like maven ```mvn test -Dbrowser=firefox``` and then access in java stepdef file using code \r\n\r\n\r\n```java\r\nString browser = System.getProperty(&quot;browser&quot;, &quot;chrome&quot;);\r\n```\r\n\r\nMy `build.gradle` file is:\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;ts.api.automation.App&#39;\r\n}\r\n\r\nconfigurations {\r\n    cucumberRuntime {\r\n        extendsFrom testImplementation\r\n    }\r\n}\r\n\r\ntask cucumber() {\r\n    dependsOn assemble, testClasses\r\n    doLast {\r\n        javaexec {\r\n            main = &quot;io.cucumber.core.cli.Main&quot;\r\n            classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n            args = [&#39;--plugin&#39;, &#39;pretty&#39;, &#39;--glue&#39;, &#39;smartconnect.steps.grab&#39;, &#39;src/test/java/smartconnect/features/grab&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ntask runTests(type: JavaExec, dependsOn: &#39;classes&#39;) {\r\n    main = &#39;org.testng.TestNG&#39;\r\n    classpath = files(&quot;./src/test/resources&quot;,\r\n            project.sourceSets.main.runtimeClasspath,\r\n            project.sourceSets.test.runtimeClasspath)\r\n    args = [&quot;-parallel&quot;,  &quot;methods&quot;, &quot;-threadcount&quot;, &quot;1&quot;, &quot;-d&quot;, &quot;./build/test-output&quot;, &quot;./src/test/resources/TestNG.xml&quot;]\r\n}\r\n```\r\n\r\nHow should I pass arguments to my step def file which are fetch from command line using Gradle?\r\n\r\nProbably, I can access it in my base Java class \r\n","title":"How to pass Gradle command line arguments to Step definition in cucumber?","body":"<p>I want to access command line arguments provided by gradle in my step definition file. Same like maven <code>mvn test -Dbrowser=firefox</code> and then access in java stepdef file using code</p>\n<pre class=\"lang-java prettyprint-override\"><code>String browser = System.getProperty(&quot;browser&quot;, &quot;chrome&quot;);\n</code></pre>\n<p>My <code>build.gradle</code> file is:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'application'\n}\n\nrepositories {\n    mavenCentral()\n}\n\napplication {\n    mainClass = 'ts.api.automation.App'\n}\n\nconfigurations {\n    cucumberRuntime {\n        extendsFrom testImplementation\n    }\n}\n\ntask cucumber() {\n    dependsOn assemble, testClasses\n    doLast {\n        javaexec {\n            main = &quot;io.cucumber.core.cli.Main&quot;\n            classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n            args = ['--plugin', 'pretty', '--glue', 'smartconnect.steps.grab', 'src/test/java/smartconnect/features/grab']\n        }\n    }\n}\n\ntask runTests(type: JavaExec, dependsOn: 'classes') {\n    main = 'org.testng.TestNG'\n    classpath = files(&quot;./src/test/resources&quot;,\n            project.sourceSets.main.runtimeClasspath,\n            project.sourceSets.test.runtimeClasspath)\n    args = [&quot;-parallel&quot;,  &quot;methods&quot;, &quot;-threadcount&quot;, &quot;1&quot;, &quot;-d&quot;, &quot;./build/test-output&quot;, &quot;./src/test/resources/TestNG.xml&quot;]\n}\n</code></pre>\n<p>How should I pass arguments to my step def file which are fetch from command line using Gradle?</p>\n<p>Probably, I can access it in my base Java class</p>\n"},{"tags":["java","spring","database","null"],"comments":[{"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"score":0,"creation_date":1493106014,"post_id":43603880,"comment_id":74258156,"body_markdown":"Need to post your mapping structure, spring database connectivity code","body":"Need to post your mapping structure, spring database connectivity code"}],"answers":[{"tags":[],"owner":{"account_id":4502427,"reputation":501,"user_id":3660671,"display_name":"Martijn Wijns"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493105472,"creation_date":1493105472,"answer_id":43604324,"question_id":43603880,"body_markdown":"The first thing that comes to my mind is that you are looping over potentially multiple items and setting the order id of the single orderItem every time.\r\n\r\nThe best way to figure out these kind of problems and get a feeling for what your code is doing is to attach a debugger and step through the code.","title":"Spring: Not setting column value in table","body":"<p>The first thing that comes to my mind is that you are looping over potentially multiple items and setting the order id of the single orderItem every time.</p>\n\n<p>The best way to figure out these kind of problems and get a feeling for what your code is doing is to attach a debugger and step through the code.</p>\n"},{"tags":[],"owner":{"account_id":10222783,"reputation":634,"user_id":7546450,"accept_rate":57,"display_name":"SFAH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1493715926,"creation_date":1493715926,"answer_id":43734023,"question_id":43603880,"body_markdown":"Please check your field name and also attach a debugger to figure out the real problem ","title":"Spring: Not setting column value in table","body":"<p>Please check your field name and also attach a debugger to figure out the real problem </p>\n"}],"owner":{"account_id":5499950,"reputation":125,"user_id":4369594,"accept_rate":83,"display_name":"maria salahuddin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43734023,"answer_count":2,"score":0,"last_activity_date":1663080704,"creation_date":1493104056,"question_id":43603880,"body_markdown":"I have the following table in which I have to set `orderID` against each `itemName`, my `itemName` set successfully but `orderId` sets null , When I print the value at console it prints right value.\r\n\r\nCan anybody tell me what is the problem in my code?\r\n                  \r\n\tList&lt;String&gt; items;\r\n\titems=orderRequest.getOrderItem();\r\n\tOrderItem orderItem=new OrderItem();\r\n\tfor (String temp : items) {\r\n\t\torderItem.setItemName(temp);\r\n\t\torderItem.setOrderId(order.getId());\r\n\t\tSystem.out.println(&quot;Order Id &quot; + order.getId());\r\n\t\torderItemRepo.save(orderItem);\r\n\t\t\r\n\t}","title":"Spring: Not setting column value in table","body":"<p>I have the following table in which I have to set <code>orderID</code> against each <code>itemName</code>, my <code>itemName</code> set successfully but <code>orderId</code> sets null , When I print the value at console it prints right value.</p>\n<p>Can anybody tell me what is the problem in my code?</p>\n<pre><code>List&lt;String&gt; items;\nitems=orderRequest.getOrderItem();\nOrderItem orderItem=new OrderItem();\nfor (String temp : items) {\n    orderItem.setItemName(temp);\n    orderItem.setOrderId(order.getId());\n    System.out.println(&quot;Order Id &quot; + order.getId());\n    orderItemRepo.save(orderItem);\n    \n}\n</code></pre>\n"},{"tags":["java","spring","intellij-idea","jdbc","db2"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1663085275,"post_id":73704826,"comment_id":130154367,"body_markdown":"[Search thoroughly](https://duckduckgo.com/?q=get+version+of+jdbc+driver+site%3Astackoverflow.com&amp;t=ipad&amp;ia=web) before posting here.","body":"<a href=\"https://duckduckgo.com/?q=get+version+of+jdbc+driver+site%3Astackoverflow.com&amp;t=ipad&amp;ia=web\" rel=\"nofollow noreferrer\">Search thoroughly</a> before posting here."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1663085768,"post_id":73704826,"comment_id":130154555,"body_markdown":"You can get the JDBC driver version from the JDBC connection. Get the DatabaseMetaData object and then: https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html#getDriverVersion--","body":"You can get the JDBC driver version from the JDBC connection. Get the DatabaseMetaData object and then: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html#getDriverVersion--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/sql/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663080223,"creation_date":1663080223,"answer_id":73704968,"question_id":73704826,"body_markdown":"\r\n    java -cp ./db2jcc4.jar com.ibm.db2.jcc.DB2Jcc -version\r\n","title":"How to find the jdbc driver version of DB2 in our project?","body":"<pre><code>java -cp ./db2jcc4.jar com.ibm.db2.jcc.DB2Jcc -version\n</code></pre>\n"}],"owner":{"account_id":26189284,"reputation":17,"user_id":19871382,"display_name":"Pip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663085241,"accepted_answer_id":73704968,"answer_count":1,"score":0,"last_activity_date":1663080223,"creation_date":1663079702,"question_id":73704826,"body_markdown":"I can only find the version of db2jcc4 in pom.xml, which is 10.1.\r\nHow can I know the version of JDBC driver that the db2jcc4 is using?\r\nBTW, I did not install db2 in my computer. It&#39;s a remote database.","title":"How to find the jdbc driver version of DB2 in our project?","body":"<p>I can only find the version of db2jcc4 in pom.xml, which is 10.1.\nHow can I know the version of JDBC driver that the db2jcc4 is using?\nBTW, I did not install db2 in my computer. It's a remote database.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1662983026,"post_id":73688734,"comment_id":130124612,"body_markdown":"What&#39;s wrong with the first regex? Note `+` does not make sense there and `^` is redundant, `input.matches(&quot;NOT\\\\s.*&quot;))` will do the same job.","body":"What&#39;s wrong with the first regex? Note <code>+</code> does not make sense there and <code>^</code> is redundant, <code>input.matches(&quot;NOT\\\\s.*&quot;))</code> will do the same job."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1662983564,"post_id":73688734,"comment_id":130124824,"body_markdown":"Is this about Java `matches` and `startsWith`? Then maybe tag accordingly...","body":"Is this about Java <code>matches</code> and <code>startsWith</code>? Then maybe tag accordingly..."},{"owner":{"account_id":7566140,"reputation":10450,"user_id":5741643,"accept_rate":50,"display_name":"Poul Bak"},"score":1,"creation_date":1662987631,"post_id":73688734,"comment_id":130126274,"body_markdown":"@WiktorStribiżew: I don&#39;t understand why `^` is redundant, care to explain?","body":"@WiktorStribiżew: I don&#39;t understand why <code>^</code> is redundant, care to explain?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1662988131,"post_id":73688734,"comment_id":130126502,"body_markdown":"@PoulBak In Java, `String#matches` requires a full string match, `\\A` and `\\z` anchors are applied automatically.","body":"@PoulBak In Java, <code>String#matches</code> requires a full string match, <code>\\A</code> and <code>\\z</code> anchors are applied automatically."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1663218536,"post_id":73688734,"comment_id":130188310,"body_markdown":"Note that the argument for `String.startsWith` ISN&#39;T a regular expression so no, they are not the same","body":"Note that the argument for <code>String.startsWith</code> ISN&#39;T a regular expression so no, they are not the same"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663080094,"creation_date":1663080094,"answer_id":73704934,"question_id":73688734,"body_markdown":"The [OWASP page][1] describes evil regexes as those that contain\r\n&gt;\r\n&gt; - Grouping with repetition\r\n&gt; - Inside the repeated group:\r\n&gt;   - Repetition\r\n&gt;   - Alternation with overlapping\r\n\r\nwhich is not always right. Their examples are good, but the rules are too generic and even good and safe patterns can be trigger the vulnerability \r\n\r\nYou can actually remove the first `+` to stop the warning from showing:\r\n```java\r\ninput.matches(&quot;NOT\\\\s.*&quot;)\r\n```\r\nThis way, only one `*` is used.\r\n\r\n  [1]: https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS","title":"Will these two regex give me the same desired output?","body":"<p>The <a href=\"https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS\" rel=\"nofollow noreferrer\">OWASP page</a> describes evil regexes as those that contain</p>\n<blockquote>\n<ul>\n<li>Grouping with repetition</li>\n<li>Inside the repeated group:\n<ul>\n<li>Repetition</li>\n<li>Alternation with overlapping</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>which is not always right. Their examples are good, but the rules are too generic and even good and safe patterns can be trigger the vulnerability</p>\n<p>You can actually remove the first <code>+</code> to stop the warning from showing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>input.matches(&quot;NOT\\\\s.*&quot;)\n</code></pre>\n<p>This way, only one <code>*</code> is used.</p>\n"}],"owner":{"account_id":1999698,"reputation":148,"user_id":1920108,"display_name":"bladefist"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1663080094,"creation_date":1662982945,"question_id":73688734,"body_markdown":"I have a regex for validating input. \r\nI would like to process only the first part (up to \\s).\r\nWill the second line do the job, or am I missing something?\r\n\r\nmy research on regex101.com shows it matches the same text.\r\n\r\nOriginal:\r\n\r\n    input.matches(&quot;^NOT\\\\s+.*&quot;))\r\n\r\nand Modified:\r\n\r\n    input.startsWith(&quot;NOT\\\\s&quot;)\r\n\r\nthis was done to avoid https://www.regular-expressions.info/catastrophic.html\r\naccording to sonar.\r\n\r\nThanks!","title":"Will these two regex give me the same desired output?","body":"<p>I have a regex for validating input.\nI would like to process only the first part (up to \\s).\nWill the second line do the job, or am I missing something?</p>\n<p>my research on regex101.com shows it matches the same text.</p>\n<p>Original:</p>\n<pre><code>input.matches(&quot;^NOT\\\\s+.*&quot;))\n</code></pre>\n<p>and Modified:</p>\n<pre><code>input.startsWith(&quot;NOT\\\\s&quot;)\n</code></pre>\n<p>this was done to avoid <a href=\"https://www.regular-expressions.info/catastrophic.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/catastrophic.html</a>\naccording to sonar.</p>\n<p>Thanks!</p>\n"},{"tags":["java","selenium","data-layers"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1662493238,"post_id":73625753,"comment_id":130017008,"body_markdown":"Welcome to Stack Overflow! You are encouraged to make an attempt to write your code. If you encounter a specific technical problem during that attempt, such as an error or unexpected result, we can help with that. Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please read [ask] and its linked resources","body":"Welcome to Stack Overflow! You are encouraged to make an attempt to write your code. If you encounter a specific technical problem during that attempt, such as an error or unexpected result, we can help with that. Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources"}],"answers":[{"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662531272,"creation_date":1662531272,"answer_id":73630841,"question_id":73625753,"body_markdown":"Below code will help you to get data layer information\r\n\r\n\r\n   \r\n\r\n       JavascriptExecutor executor= (JavascriptExecutor)getDriver();\r\n    \r\n        ArrayList&lt;Map&lt;String, List&lt;String&gt; &gt;&gt; datalist = new ArrayList&lt;&gt;();\r\n    \r\n        //Execute google tag manage in the console using javascript executor to fetch values       \r\n        datalist =  (ArrayList) executor.executeScript(&quot;return window.dataLayer&quot;);\r\n    \r\n        // Parse through GTM arrayList  \r\n        for(int a=0; a &lt; datalist .size(); a++) {\r\n            for (String key : datalist .get(a).keySet()) {\r\n                System.out.println(key + &quot;      &quot; + datalist .get(a).get(key));\r\n    \r\n            }\r\n        }\r\n\r\n","title":"How to capture datalayer object and print in my eclipse console using selenium","body":"<p>Below code will help you to get data layer information</p>\n<pre><code>   JavascriptExecutor executor= (JavascriptExecutor)getDriver();\n\n    ArrayList&lt;Map&lt;String, List&lt;String&gt; &gt;&gt; datalist = new ArrayList&lt;&gt;();\n\n    //Execute google tag manage in the console using javascript executor to fetch values       \n    datalist =  (ArrayList) executor.executeScript(&quot;return window.dataLayer&quot;);\n\n    // Parse through GTM arrayList  \n    for(int a=0; a &lt; datalist .size(); a++) {\n        for (String key : datalist .get(a).keySet()) {\n            System.out.println(key + &quot;      &quot; + datalist .get(a).get(key));\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26262841,"reputation":5,"user_id":19933868,"display_name":"Ragav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663079324,"creation_date":1662999635,"answer_id":73692316,"question_id":73625753,"body_markdown":"Im using the following code @Zakaria Shahed , pls make correction and how to use assertion here?\r\n\r\n        List&lt;String&gt;actual_values=new ArrayList &lt;String&gt;();\r\n\t\tList&lt;String&gt;Notexist=new ArrayList &lt;String&gt;();\r\n\t\tJavascriptExecutor executor = (JavascriptExecutor)driver;\r\n\t\tList&lt;String&gt; datalist = new ArrayList&lt;String&gt;();\r\n\t\tdatalist =  (List&lt;String&gt;) executor.executeScript(&quot;return window.dataLayer&quot;);\r\n\t\t//System.out.println(datalist);\r\n\t\tString DLexpected_values=data[6];// i will read DLexpected values from excel sheet - data[6]\r\n\t\tList&lt;String&gt; splitword2 = Arrays.asList(DLexpected_values.split(&quot;,&quot;));\r\n\t\t\r\n\t\tfor(String value :splitword2) {\r\n\t\t\tboolean b = false;\r\n\t\t\tfor (String entry : datalist) {\r\n\t\t\t\tif(entry.toString().contains(value)) {\r\n\t\t\t\t\tactual_values.add(value);\r\n\t\t\t\t\tb = true;\r\n\t\t\t\t\tbreak; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif(!b) {\r\n\t\t\t\tif(!Notexist.contains(value)) {\r\n\t\t\t\t\tNotexist.add(value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(splitword2.equals(actual_values1)) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Expected_Values:&quot;+&quot; &quot;+splitword2);\r\n\t\t\tSystem.out.println(&quot;Actual_Values  :&quot;+&quot; &quot;+actual_values);\r\n\t\t\tSystem.out.println(&quot;Status         :      Pass&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Expected_Values:&quot;+&quot; &quot;+splitword2);\r\n\t\t\tSystem.out.println(&quot;Actual_Values  :&quot;+&quot; &quot;+actual_values);\r\n\t\t\tSystem.out.println(&quot;Missing_Values :&quot;+&quot; &quot;+Notexist);\r\n\t\t\tSystem.err.println(&quot;Status         :      Fail&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\t","title":"How to capture datalayer object and print in my eclipse console using selenium","body":"<p>Im using the following code @Zakaria Shahed , pls make correction and how to use assertion here?</p>\n<pre><code>    List&lt;String&gt;actual_values=new ArrayList &lt;String&gt;();\n    List&lt;String&gt;Notexist=new ArrayList &lt;String&gt;();\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\n    List&lt;String&gt; datalist = new ArrayList&lt;String&gt;();\n    datalist =  (List&lt;String&gt;) executor.executeScript(&quot;return window.dataLayer&quot;);\n    //System.out.println(datalist);\n    String DLexpected_values=data[6];// i will read DLexpected values from excel sheet - data[6]\n    List&lt;String&gt; splitword2 = Arrays.asList(DLexpected_values.split(&quot;,&quot;));\n    \n    for(String value :splitword2) {\n        boolean b = false;\n        for (String entry : datalist) {\n            if(entry.toString().contains(value)) {\n                actual_values.add(value);\n                b = true;\n                break; \n            }\n            \n        }\n        if(!b) {\n            if(!Notexist.contains(value)) {\n                Notexist.add(value);\n            }\n        }\n    }\n    if(splitword2.equals(actual_values1)) {\n        \n        System.out.println(&quot;Expected_Values:&quot;+&quot; &quot;+splitword2);\n        System.out.println(&quot;Actual_Values  :&quot;+&quot; &quot;+actual_values);\n        System.out.println(&quot;Status         :      Pass&quot;);\n        \n    }\n    else {\n        \n        System.out.println(&quot;Expected_Values:&quot;+&quot; &quot;+splitword2);\n        System.out.println(&quot;Actual_Values  :&quot;+&quot; &quot;+actual_values);\n        System.out.println(&quot;Missing_Values :&quot;+&quot; &quot;+Notexist);\n        System.err.println(&quot;Status         :      Fail&quot;);\n        \n    }\n    \n</code></pre>\n"}],"owner":{"account_id":26262841,"reputation":5,"user_id":19933868,"display_name":"Ragav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73630841,"answer_count":2,"score":0,"last_activity_date":1663079324,"creation_date":1662485008,"question_id":73625753,"body_markdown":"I need to capture the datalayer from the console tab in the chrome developer tools\r\n\r\n\r\n\r\n\r\n----------\r\n","title":"How to capture datalayer object and print in my eclipse console using selenium","body":"<p>I need to capture the datalayer from the console tab in the chrome developer tools</p>\n<hr />\n"},{"tags":["java","unicode"],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1312383288,"creation_date":1312383288,"answer_id":6928491,"question_id":6928429,"body_markdown":"No. Unicode does not define a combining strikeout mark. Unicode&#39;s view is that this is the job of markup -- like HTML.","title":"How to strike any letter using Unicode in Java","body":"<p>No. Unicode does not define a combining strikeout mark. Unicode's view is that this is the job of markup -- like HTML.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1312470364,"creation_date":1312383579,"answer_id":6928571,"question_id":6928429,"body_markdown":"No, this is not possible. While there is the concept of a [stroke as diacritic][1], it&#39;s not available as a separate Unicode character, probably because the various letters that use a stroke diacritic do not place it at the same height or even angle. So the result would not resemble strikethrough markup anyway.\r\n\r\nTo output strikethrough text in Java, you need to use an output format that allows you to use explicit markup. If you have a Swing app, you&#39;re in luck as many Swing components [support HTML][2]. Otherwise it depends on what presentation technology you&#39;re using.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Bar_%28diacritic%29\r\n  [2]: http://download.oracle.com/javase/tutorial/uiswing/components/html.html","title":"How to strike any letter using Unicode in Java","body":"<p>No, this is not possible. While there is the concept of a <a href=\"http://en.wikipedia.org/wiki/Bar_%28diacritic%29\" rel=\"nofollow\">stroke as diacritic</a>, it's not available as a separate Unicode character, probably because the various letters that use a stroke diacritic do not place it at the same height or even angle. So the result would not resemble strikethrough markup anyway.</p>\n\n<p>To output strikethrough text in Java, you need to use an output format that allows you to use explicit markup. If you have a Swing app, you're in luck as many Swing components <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/html.html\" rel=\"nofollow\">support HTML</a>. Otherwise it depends on what presentation technology you're using.</p>\n"},{"tags":[],"owner":{"account_id":374688,"reputation":2695,"user_id":725021,"accept_rate":100,"display_name":"Adrien Clerc"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1312383627,"creation_date":1312383627,"answer_id":6928583,"question_id":6928429,"body_markdown":"As said before, Unicode doesn&#39;t do that, but a lot of Swing components understand basic HTML tags.\r\n\r\n    JLabel label = new JLabel(&quot;&lt;html&gt;&lt;s&gt;My stroke&lt;/s&gt;&lt;/html&gt;&quot;)","title":"How to strike any letter using Unicode in Java","body":"<p>As said before, Unicode doesn't do that, but a lot of Swing components understand basic HTML tags.</p>\n\n<pre><code>JLabel label = new JLabel(\"&lt;html&gt;&lt;s&gt;My stroke&lt;/s&gt;&lt;/html&gt;\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663079218,"creation_date":1417462903,"answer_id":27235933,"question_id":6928429,"body_markdown":"You can use [U+0336](http://www.fileformat.info/info/unicode/char/0336/index.htm), the _combining long stroke overlay_, to accomplish this task.\r\n\r\nThe official [Combining Diacritical Marks](https://www.unicode.org/charts/PDF/U0300.pdf) unicode chart lists &quot;strikethrough&quot; as an &#39;informative alias&#39;, meaning that this is is the official specified purpose of this character.\r\n\r\n```lang-none\r\n0336 ̶◌ COMBINING LONG STROKE OVERLAY\r\n       = strikethrough\r\n       • connects on left and right\r\n```\r\n\r\nFor comparison, here is U+0336 compared to the html `&lt;strike&gt;` tag:\r\n\r\n&gt; U̶n̶i̶c̶o̶d̶e ̶c̶o̶m̶b̶i̶n̶i̶n̶g̶ ̶l̶o̶n̶g̶ ̶s̶t̶r̶o̶k̶e̶ ̶o̶v̶e̶r̶l̶a̶y̶  \r\n&gt; &lt;strike&gt;Hypertext strike tag&lt;/strike&gt;\r\n\r\nNote that many font rendering engines do not render U+0336 correctly, and when possible one should use markup formatting or another mechanism. Depending on your browser, the above text likely has a large gap in the line around the &quot;m&quot; in combining, and @Alex78191 reports that it renders so low for them that it looks more like an underline than a strikethrough.\r\nFor this reason, one should still prefer HTML another markup technology over U+0336 for this purpose, given the option.","title":"How to strike any letter using Unicode in Java","body":"<p>You can use <a href=\"http://www.fileformat.info/info/unicode/char/0336/index.htm\" rel=\"nofollow noreferrer\">U+0336</a>, the <em>combining long stroke overlay</em>, to accomplish this task.</p>\n<p>The official <a href=\"https://www.unicode.org/charts/PDF/U0300.pdf\" rel=\"nofollow noreferrer\">Combining Diacritical Marks</a> unicode chart lists &quot;strikethrough&quot; as an 'informative alias', meaning that this is is the official specified purpose of this character.</p>\n<pre class=\"lang-none prettyprint-override\"><code>0336 ̶◌ COMBINING LONG STROKE OVERLAY\n       = strikethrough\n       • connects on left and right\n</code></pre>\n<p>For comparison, here is U+0336 compared to the html <code>&lt;strike&gt;</code> tag:</p>\n<blockquote>\n<p>U̶n̶i̶c̶o̶d̶e ̶c̶o̶m̶b̶i̶n̶i̶n̶g̶ ̶l̶o̶n̶g̶ ̶s̶t̶r̶o̶k̶e̶ ̶o̶v̶e̶r̶l̶a̶y̶<br />\n<strike>Hypertext strike tag</strike></p>\n</blockquote>\n<p>Note that many font rendering engines do not render U+0336 correctly, and when possible one should use markup formatting or another mechanism. Depending on your browser, the above text likely has a large gap in the line around the &quot;m&quot; in combining, and @Alex78191 reports that it renders so low for them that it looks more like an underline than a strikethrough.\nFor this reason, one should still prefer HTML another markup technology over U+0336 for this purpose, given the option.</p>\n"}],"owner":{"account_id":91339,"reputation":10068,"user_id":250849,"accept_rate":89,"display_name":"vmg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1887,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6928571,"answer_count":4,"score":6,"last_activity_date":1663079218,"creation_date":1312383073,"question_id":6928429,"body_markdown":"In my Java application I want to output striked letters (like html tag &lt;strike&gt; do). Is there any way to do this using Unicode (combine )","title":"How to strike any letter using Unicode in Java","body":"<p>In my Java application I want to output striked letters (like html tag  do). Is there any way to do this using Unicode (combine )</p>\n"},{"tags":["java","user-interface","interface","maximize-window"],"comments":[{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":1,"creation_date":1663073557,"post_id":73703277,"comment_id":130149355,"body_markdown":"Hi, on what OS are you running this example. Running it Fedora did not hide the taskbar. Also, where is your &quot;icon.png&quot;  located?","body":"Hi, on what OS are you running this example. Running it Fedora did not hide the taskbar. Also, where is your &quot;icon.png&quot;  located?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1663076599,"post_id":73703277,"comment_id":130150703,"body_markdown":"Regarding your icon:  read about the [current working directory](https://en.wikipedia.org/wiki/Working_directory) and relative file paths, which are a general computing concept, not just a Java concept.  You probably want `new ImageIcon(Login.class.getResource(&quot;icon.png&quot;))`, so the current working directory won’t matter.","body":"Regarding your icon:  read about the <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current working directory</a> and relative file paths, which are a general computing concept, not just a Java concept.  You probably want <code>new ImageIcon(Login.class.getResource(&quot;icon.png&quot;))</code>, so the current working directory won’t matter."},{"owner":{"account_id":26324234,"reputation":7,"user_id":19985813,"display_name":"Varun Sahu"},"score":0,"creation_date":1663078287,"post_id":73703277,"comment_id":130151490,"body_markdown":"@swinkler I tried placing my icon.png file in Resources Folder It Didn&#39;t work then I tried Placing it in my Package Directory Where Login.java was Located That Didnt Work Either.I Am Running Windows 10 64bit. Using Netbeans IDE 15","body":"@swinkler I tried placing my icon.png file in Resources Folder It Didn&#39;t work then I tried Placing it in my Package Directory Where Login.java was Located That Didnt Work Either.I Am Running Windows 10 64bit. Using Netbeans IDE 15"},{"owner":{"account_id":26324234,"reputation":7,"user_id":19985813,"display_name":"Varun Sahu"},"score":0,"creation_date":1663078665,"post_id":73703277,"comment_id":130151668,"body_markdown":"@VGR Yeah I did Try The Code Before Didn&#39;t Work For Me. This Was Available on Net. I Even Tried Placing The icon.png File In Different Directories!","body":"@VGR Yeah I did Try The Code Before Didn&#39;t Work For Me. This Was Available on Net. I Even Tried Placing The icon.png File In Different Directories!"},{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":0,"creation_date":1663576559,"post_id":73703277,"comment_id":130263939,"body_markdown":"I put it in the project folder for simplicity - it resides next to the src folder etc. As @VGR mentioned, depending on the (final) image location using the resource loading would be preferrable IMHO.","body":"I put it in the project folder for simplicity - it resides next to the src folder etc. As @VGR mentioned, depending on the (final) image location using the resource loading would be preferrable IMHO."}],"owner":{"account_id":26324234,"reputation":7,"user_id":19985813,"display_name":"Varun Sahu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663079206,"creation_date":1663073021,"question_id":73703277,"body_markdown":"When I put my JFrame at Maximized Both and Not Resizable, it hides the taskbar, but it&#39;s good when I only put it at Maximized Both!\r\n\r\nAlso there is a problem with setting the icon in the title bar. I tried every method available on the Internet, but it doesn&#39;t take effect.\r\n\r\nNew to Java.\r\n\r\nOS - Windows 10 64 Bit  \r\nIDE - Apache Netbeans IDE 15  \r\nJava Version - 17.0.4.1  \r\nUsing Java with Gradle for this project\r\n\r\nHere is the code:\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n */\r\npackage SVM;\r\nimport java.awt.*;\r\nimport javax.swing.ImageIcon;\r\n/**\r\n *\r\n * @author VARUN\r\n */\r\npublic class Login extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form NewJFrame\r\n     */\r\n    public Login() {\r\n        initComponents();\r\n        setExtendedState(MAXIMIZED_BOTH);\r\n        setTitle(&quot;Login&quot;);\r\n        setIconImage(new ImageIcon(&quot;icon.png&quot;).getImage());    \r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n        java.awt.GridBagConstraints gridBagConstraints;\r\n\r\n        jPanel1 = new javax.swing.JPanel();\r\n        jTextField1 = new javax.swing.JTextField();\r\n        jPasswordField1 = new javax.swing.JPasswordField();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n        jLabel4 = new javax.swing.JLabel();\r\n        jButton1 = new javax.swing.JButton();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setResizable(false);\r\n\r\n        jPanel1.setBackground(new java.awt.Color(255, 255, 255));\r\n        jPanel1.setLayout(new java.awt.GridBagLayout());\r\n\r\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jTextField1ActionPerformed(evt);\r\n            }\r\n        });\r\n        gridBagConstraints = new java.awt.GridBagConstraints();\r\n        gridBagConstraints.gridx = 1;\r\n        gridBagConstraints.gridy = 2;\r\n        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;\r\n        gridBagConstraints.insets = new java.awt.Insets(7, 12, 7, 12);\r\n        jPanel1.add(jTextField1, gridBagConstraints);\r\n\r\n        jPasswordField1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jPasswordField1ActionPerformed(evt);\r\n            }\r\n        });\r\n        gridBagConstraints = new java.awt.GridBagConstraints();\r\n        gridBagConstraints.gridx = 1;\r\n        gridBagConstraints.gridy = 3;\r\n        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;\r\n        gridBagConstraints.insets = new java.awt.Insets(7, 12, 7, 12);\r\n        jPanel1.add(jPasswordField1, gridBagConstraints);\r\n\r\n        jLabel2.setFont(new java.awt.Font(&quot;CG Times&quot;, 1, 48)); // NOI18N\r\n        jLabel2.setText(&quot;Login&quot;);\r\n        gridBagConstraints = new java.awt.GridBagConstraints();\r\n        gridBagConstraints.gridx = 0;\r\n        gridBagConstraints.gridy = 1;\r\n        gridBagConstraints.gridwidth = 2;\r\n        gridBagConstraints.insets = new java.awt.Insets(19, 0, 19, 0);\r\n        jPanel1.add(jLabel2, gridBagConstraints);\r\n\r\n        jLabel3.setFont(new java.awt.Font(&quot;SimSun&quot;, 1, 24)); // NOI18N\r\n        jLabel3.setText(&quot;Username :&quot;);\r\n        gridBagConstraints = new java.awt.GridBagConstraints();\r\n        gridBagConstraints.gridx = 0;\r\n        gridBagConstraints.gridy = 2;\r\n        gridBagConstraints.insets = new java.awt.Insets(6, 0, 6, 0);\r\n        jPanel1.add(jLabel3, gridBagConstraints);\r\n\r\n        jLabel4.setFont(new java.awt.Font(&quot;SimSun&quot;, 1, 24)); // NOI18N\r\n        jLabel4.setText(&quot;Password :&quot;);\r\n        gridBagConstraints = new java.awt.GridBagConstraints();\r\n        gridBagConstraints.gridx = 0;\r\n        gridBagConstraints.gridy = 3;\r\n        gridBagConstraints.insets = new java.awt.Insets(6, 0, 6, 0);\r\n        jPanel1.add(jLabel4, gridBagConstraints);\r\n\r\n        jButton1.setFont(new java.awt.Font(&quot;SimSun&quot;, 1, 18)); // NOI18N\r\n        jButton1.setText(&quot;Login&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n        gridBagConstraints = new java.awt.GridBagConstraints();\r\n        gridBagConstraints.gridx = 1;\r\n        gridBagConstraints.gridy = 4;\r\n        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;\r\n        gridBagConstraints.insets = new java.awt.Insets(10, 13, 10, 0);\r\n        jPanel1.add(jButton1, gridBagConstraints);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 617, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 497, Short.MAX_VALUE)\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        // TODO add your handling code here:\r\n    }                                           \r\n\r\n    private void jPasswordField1ActionPerformed(java.awt.event.ActionEvent evt) {                                                \r\n        // TODO add your handling code here:\r\n    }                                               \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n    }                                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Login().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPasswordField jPasswordField1;\r\n    private javax.swing.JTextField jTextField1;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n","title":"When I Put my jFrame at Maximized Both And Not Resizable It Hides Taskbar But Its Good When I only Put it At Maximized Both","body":"<p>When I put my JFrame at Maximized Both and Not Resizable, it hides the taskbar, but it's good when I only put it at Maximized Both!</p>\n<p>Also there is a problem with setting the icon in the title bar. I tried every method available on the Internet, but it doesn't take effect.</p>\n<p>New to Java.</p>\n<p>OS - Windows 10 64 Bit<br />\nIDE - Apache Netbeans IDE 15<br />\nJava Version - 17.0.4.1<br />\nUsing Java with Gradle for this project</p>\n<p>Here is the code:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\npackage SVM;\nimport java.awt.*;\nimport javax.swing.ImageIcon;\n/**\n *\n * @author VARUN\n */\npublic class Login extends javax.swing.JFrame {\n\n    /**\n     * Creates new form NewJFrame\n     */\n    public Login() {\n        initComponents();\n        setExtendedState(MAXIMIZED_BOTH);\n        setTitle(&quot;Login&quot;);\n        setIconImage(new ImageIcon(&quot;icon.png&quot;).getImage());    \n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n        java.awt.GridBagConstraints gridBagConstraints;\n\n        jPanel1 = new javax.swing.JPanel();\n        jTextField1 = new javax.swing.JTextField();\n        jPasswordField1 = new javax.swing.JPasswordField();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n        jLabel4 = new javax.swing.JLabel();\n        jButton1 = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setResizable(false);\n\n        jPanel1.setBackground(new java.awt.Color(255, 255, 255));\n        jPanel1.setLayout(new java.awt.GridBagLayout());\n\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jTextField1ActionPerformed(evt);\n            }\n        });\n        gridBagConstraints = new java.awt.GridBagConstraints();\n        gridBagConstraints.gridx = 1;\n        gridBagConstraints.gridy = 2;\n        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;\n        gridBagConstraints.insets = new java.awt.Insets(7, 12, 7, 12);\n        jPanel1.add(jTextField1, gridBagConstraints);\n\n        jPasswordField1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jPasswordField1ActionPerformed(evt);\n            }\n        });\n        gridBagConstraints = new java.awt.GridBagConstraints();\n        gridBagConstraints.gridx = 1;\n        gridBagConstraints.gridy = 3;\n        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;\n        gridBagConstraints.insets = new java.awt.Insets(7, 12, 7, 12);\n        jPanel1.add(jPasswordField1, gridBagConstraints);\n\n        jLabel2.setFont(new java.awt.Font(&quot;CG Times&quot;, 1, 48)); // NOI18N\n        jLabel2.setText(&quot;Login&quot;);\n        gridBagConstraints = new java.awt.GridBagConstraints();\n        gridBagConstraints.gridx = 0;\n        gridBagConstraints.gridy = 1;\n        gridBagConstraints.gridwidth = 2;\n        gridBagConstraints.insets = new java.awt.Insets(19, 0, 19, 0);\n        jPanel1.add(jLabel2, gridBagConstraints);\n\n        jLabel3.setFont(new java.awt.Font(&quot;SimSun&quot;, 1, 24)); // NOI18N\n        jLabel3.setText(&quot;Username :&quot;);\n        gridBagConstraints = new java.awt.GridBagConstraints();\n        gridBagConstraints.gridx = 0;\n        gridBagConstraints.gridy = 2;\n        gridBagConstraints.insets = new java.awt.Insets(6, 0, 6, 0);\n        jPanel1.add(jLabel3, gridBagConstraints);\n\n        jLabel4.setFont(new java.awt.Font(&quot;SimSun&quot;, 1, 24)); // NOI18N\n        jLabel4.setText(&quot;Password :&quot;);\n        gridBagConstraints = new java.awt.GridBagConstraints();\n        gridBagConstraints.gridx = 0;\n        gridBagConstraints.gridy = 3;\n        gridBagConstraints.insets = new java.awt.Insets(6, 0, 6, 0);\n        jPanel1.add(jLabel4, gridBagConstraints);\n\n        jButton1.setFont(new java.awt.Font(&quot;SimSun&quot;, 1, 18)); // NOI18N\n        jButton1.setText(&quot;Login&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n        gridBagConstraints = new java.awt.GridBagConstraints();\n        gridBagConstraints.gridx = 1;\n        gridBagConstraints.gridy = 4;\n        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;\n        gridBagConstraints.insets = new java.awt.Insets(10, 13, 10, 0);\n        jPanel1.add(jButton1, gridBagConstraints);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 617, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 497, Short.MAX_VALUE)\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        // TODO add your handling code here:\n    }                                           \n\n    private void jPasswordField1ActionPerformed(java.awt.event.ActionEvent evt) {                                                \n        // TODO add your handling code here:\n    }                                               \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Login().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPasswordField jPasswordField1;\n    private javax.swing.JTextField jTextField1;\n    // End of variables declaration                   \n}\n\n</code></pre>\n"},{"tags":["java","maven","axis","java2wsdl"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1663077485,"post_id":73703252,"comment_id":130151125,"body_markdown":"Please add the relevant parts of your pom.xml. Are you using any maven plugins to generate the files?","body":"Please add the relevant parts of your pom.xml. Are you using any maven plugins to generate the files?"},{"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"score":0,"creation_date":1663078151,"post_id":73703252,"comment_id":130151428,"body_markdown":"Hi, i&#39;m using eclipe web service creation wizard to generate wsdl files from java classes","body":"Hi, i&#39;m using eclipe web service creation wizard to generate wsdl files from java classes"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1663078341,"post_id":73703252,"comment_id":130151519,"body_markdown":"Could this plugin do the job for you automatically perhaps? https://axis.apache.org/axis2/java/core/tools/maven-plugins/maven-java2wsdl-plugin.html","body":"Could this plugin do the job for you automatically perhaps? <a href=\"https://axis.apache.org/axis2/java/core/tools/maven-plugins/maven-java2wsdl-plugin.html\" rel=\"nofollow noreferrer\">axis.apache.org/axis2/java/core/tools/maven-plugins/&hellip;</a>"},{"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"score":0,"creation_date":1663078629,"post_id":73703252,"comment_id":130151648,"body_markdown":"actually i can&#39;t use axis2 because i have to generate RPC/encoded for the webservices, and axis2 do not support it","body":"actually i can&#39;t use axis2 because i have to generate RPC/encoded for the webservices, and axis2 do not support it"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1663078805,"post_id":73703252,"comment_id":130151725,"body_markdown":"It should also be available for axis 1.x: https://axis.apache.org/axis/java/maven/java2wsdl/plugin-info.html","body":"It should also be available for axis 1.x: <a href=\"https://axis.apache.org/axis/java/maven/java2wsdl/plugin-info.html\" rel=\"nofollow noreferrer\">axis.apache.org/axis/java/maven/java2wsdl/plugin-info.html</a>"},{"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"score":0,"creation_date":1663079184,"post_id":73703252,"comment_id":130151910,"body_markdown":"i added the plugin in my pom.xml .Do you have any idea on how tu use it th automaticly generate the wsdl when java class is updated?","body":"i added the plugin in my pom.xml .Do you have any idea on how tu use it th automaticly generate the wsdl when java class is updated?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1663079689,"post_id":73703252,"comment_id":130152165,"body_markdown":"Not sure if it&#39;s possible to generate only on changes, but you can define an `execution` to always run the plugin when you compile your project. For that you should lookup how maven plugin configuration works.","body":"Not sure if it&#39;s possible to generate only on changes, but you can define an <code>execution</code> to always run the plugin when you compile your project. For that you should lookup how maven plugin configuration works."},{"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"score":0,"creation_date":1663082201,"post_id":73703252,"comment_id":130153250,"body_markdown":"unfotunatly this plugin does not seem to be working anymore, is there another way to do the automation? i tried to find other version of this plugin but i could&#39;nt find any","body":"unfotunatly this plugin does not seem to be working anymore, is there another way to do the automation? i tried to find other version of this plugin but i could&#39;nt find any"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1663165010,"post_id":73703252,"comment_id":130175292,"body_markdown":"define &#39;not working&#39; ?","body":"define &#39;not working&#39; ?"}],"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1663078526,"creation_date":1663072913,"question_id":73703252,"body_markdown":"So i have w java project with AXIS 1.4 generated WSDL on eclipse\r\nusually when i update a webService java class, i have to manually regenerate the new WSDL on eclipse before creating the new war file with maven clean install\r\n\r\nIs there a way to make this process automtic =&gt; the new updated WSDL regenerate automaticly when running maven clean install?\r\n\r\nthese are the dependencies i have for axis\r\ni&#39;m using create web service wizard of eclipe to generate the wsdl\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;axis-jaxrpc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-discovery&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"Automaticly regeneration WSDL after update with AXIS 1.4","body":"<p>So i have w java project with AXIS 1.4 generated WSDL on eclipse\nusually when i update a webService java class, i have to manually regenerate the new WSDL on eclipse before creating the new war file with maven clean install</p>\n<p>Is there a way to make this process automtic =&gt; the new updated WSDL regenerate automaticly when running maven clean install?</p>\n<p>these are the dependencies i have for axis\ni'm using create web service wizard of eclipe to generate the wsdl</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n            &lt;artifactId&gt;axis&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n            &lt;artifactId&gt;axis-jaxrpc&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\n            &lt;version&gt;0.4&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","querydsl"],"comments":[{"owner":{"account_id":2876818,"reputation":643,"user_id":2468639,"display_name":"Anil Kumar Athuluri"},"score":0,"creation_date":1643593914,"post_id":70920113,"comment_id":125374338,"body_markdown":"It is due to the fact that getDescription() method in ClusterSettings could be missing, try with the newer version of it to see if it has the above method.","body":"It is due to the fact that getDescription() method in ClusterSettings could be missing, try with the newer version of it to see if it has the above method."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":1,"creation_date":1643614546,"post_id":70920113,"comment_id":125377625,"body_markdown":"The mongodb driver / integration is outdated. This is a known issue, but due to the many forks of mongodb drivers out there, there is no clear path forward with backwards compatibility still. As a result, no one has touched this issue yet. There seems to be a workaround by excluding the driver dependency that Querydsl ships from your project (https://github.com/querydsl/querydsl/issues/3134).","body":"The mongodb driver / integration is outdated. This is a known issue, but due to the many forks of mongodb drivers out there, there is no clear path forward with backwards compatibility still. As a result, no one has touched this issue yet. There seems to be a workaround by excluding the driver dependency that Querydsl ships from your project (<a href=\"https://github.com/querydsl/querydsl/issues/3134\" rel=\"nofollow noreferrer\">github.com/querydsl/querydsl/issues/3134</a>)."}],"answers":[{"tags":[],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663077141,"creation_date":1663077141,"answer_id":73704215,"question_id":70920113,"body_markdown":"The issue is due to the dependency `org.mongodb mongo-java-driver`\r\nincluded with `querydsl-mongodb`.\r\nHere https://github.com/querydsl/querydsl/issues/3134 the corresponding issue on GitHub but it does not seem to be actively \r\ndiscussed.\r\n\r\nIn order to fix this issue you have to exclude the above dependency and add the `org.mongodb mongo-driver-core` dependency as a replacement.\r\n\r\nHere the important parts of my pom.xml working with `Spring-Boot 2.7.3`\r\nand `MongoDB v5.0.8`\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t\t&lt;querydsl.version&gt;5.0.0&lt;/querydsl.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n","title":"The following method did not exist: com.mongodb.connection.ClusterSettings.getDescription()Ljava/lang/String;","body":"<p>The issue is due to the dependency <code>org.mongodb mongo-java-driver</code>\nincluded with <code>querydsl-mongodb</code>.\nHere <a href=\"https://github.com/querydsl/querydsl/issues/3134\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/issues/3134</a> the corresponding issue on GitHub but it does not seem to be actively\ndiscussed.</p>\n<p>In order to fix this issue you have to exclude the above dependency and add the <code>org.mongodb mongo-driver-core</code> dependency as a replacement.</p>\n<p>Here the important parts of my pom.xml working with <code>Spring-Boot 2.7.3</code>\nand <code>MongoDB v5.0.8</code></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;querydsl.version&gt;5.0.0&lt;/querydsl.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n                &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n        &lt;version&gt;4.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663077141,"creation_date":1643588256,"question_id":70920113,"body_markdown":"I use this dependency in my `spring-boot 2.6.2` with `spring-boot-starter-data-mongodb`\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n`querydsl-mongodb` uses `mongo-java-driver 3.12.8` but `spring-boot-starter-data-mongodb` uses `mongodb-driver-core`\r\n\r\nI get exception\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    Description:\r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n        com.mongodb.connection.DefaultClusterFactory.createCluster(DefaultClusterFactory.java:182)\r\n    The following method did not exist:\r\n        com.mongodb.connection.ClusterSettings.getDescription()Ljava/lang/String;\r\n    The calling method&#39;s class, com.mongodb.connection.DefaultClusterFactory, was loaded from the following location:\r\n        jar:file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongo-java-driver-3.12.8.jar!/com/mongodb/connection/DefaultClusterFactory.class\r\n    The called method&#39;s class, com.mongodb.connection.ClusterSettings, is available from the following locations:\r\n        jar:file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongodb-driver-core-4.4.0.jar!/com/mongodb/connection/ClusterSettings.class\r\n        jar:file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongo-java-driver-3.12.8.jar!/com/mongodb/connection/ClusterSettings.class\r\n    The called method&#39;s class hierarchy was loaded from the following locations:\r\n        com.mongodb.connection.ClusterSettings: file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongodb-driver-core-4.4.0.jar\r\n    Action:\r\n    Correct the classpath of your application so that it contains compatible versions of the classes com.mongodb.connection.DefaultClusterFactory and com.mongodb.connection.ClusterSettings\r\n\r\n","title":"The following method did not exist: com.mongodb.connection.ClusterSettings.getDescription()Ljava/lang/String;","body":"<p>I use this dependency in my <code>spring-boot 2.6.2</code> with <code>spring-boot-starter-data-mongodb</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>querydsl-mongodb</code> uses <code>mongo-java-driver 3.12.8</code> but <code>spring-boot-starter-data-mongodb</code> uses <code>mongodb-driver-core</code></p>\n<p>I get exception</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n    com.mongodb.connection.DefaultClusterFactory.createCluster(DefaultClusterFactory.java:182)\nThe following method did not exist:\n    com.mongodb.connection.ClusterSettings.getDescription()Ljava/lang/String;\nThe calling method's class, com.mongodb.connection.DefaultClusterFactory, was loaded from the following location:\n    jar:file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongo-java-driver-3.12.8.jar!/com/mongodb/connection/DefaultClusterFactory.class\nThe called method's class, com.mongodb.connection.ClusterSettings, is available from the following locations:\n    jar:file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongodb-driver-core-4.4.0.jar!/com/mongodb/connection/ClusterSettings.class\n    jar:file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongo-java-driver-3.12.8.jar!/com/mongodb/connection/ClusterSettings.class\nThe called method's class hierarchy was loaded from the following locations:\n    com.mongodb.connection.ClusterSettings: file:/usr/local/tomcat/webapps/app1/WEB-INF/lib/mongodb-driver-core-4.4.0.jar\nAction:\nCorrect the classpath of your application so that it contains compatible versions of the classes com.mongodb.connection.DefaultClusterFactory and com.mongodb.connection.ClusterSettings\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1663073511,"post_id":73703331,"comment_id":130149331,"body_markdown":"*Does anyone how I can do this* manually with `if-else` Statements","body":"<i>Does anyone how I can do this</i> manually with <code>if-else</code> Statements"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663073586,"post_id":73703331,"comment_id":130149373,"body_markdown":"You either do it by hand or you can use [mapstruct](https://mapstruct.org) or a similar library. All of them should have facilities for updating existing objects instead of creating new ones.","body":"You either do it by hand or you can use <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">mapstruct</a> or a similar library. All of them should have facilities for updating existing objects instead of creating new ones."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1663073923,"post_id":73703331,"comment_id":130149539,"body_markdown":"Apache Commons has BeanUtils copy properties method that i think works by reflection","body":"Apache Commons has BeanUtils copy properties method that i think works by reflection"},{"owner":{"account_id":12977358,"reputation":373,"user_id":11766857,"display_name":"Caroline"},"score":0,"creation_date":1663074169,"post_id":73703331,"comment_id":130149649,"body_markdown":"@Jens I want to update the fields dynamically","body":"@Jens I want to update the fields dynamically"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1663074205,"post_id":73703331,"comment_id":130149661,"body_markdown":"*dynamically* means?","body":"<i>dynamically</i> means?"},{"owner":{"account_id":12977358,"reputation":373,"user_id":11766857,"display_name":"Caroline"},"score":0,"creation_date":1663074283,"post_id":73703331,"comment_id":130149703,"body_markdown":"@Jens dynamically means not manually","body":"@Jens dynamically means not manually"},{"owner":{"account_id":16888402,"reputation":700,"user_id":12212617,"display_name":"Essay97"},"score":0,"creation_date":1663074486,"post_id":73703331,"comment_id":130149781,"body_markdown":"@Caroline I don&#39;t understand what you are trying to avoid... what&#39;s the drawback in the if else statements?","body":"@Caroline I don&#39;t understand what you are trying to avoid... what&#39;s the drawback in the if else statements?"},{"owner":{"account_id":8130642,"reputation":108,"user_id":6124047,"display_name":"ntepp jean marc"},"score":0,"creation_date":1663074596,"post_id":73703331,"comment_id":130149824,"body_markdown":"You can use [Jackson annotation\n@JsonInclude(Include.NON_NULL)](https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonInclude.Include.html) to ignore the fields with value null","body":"You can use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonInclude.Include.html\" rel=\"nofollow noreferrer\">Jackson annotation @JsonInclude(Include.NON_NULL)</a> to ignore the fields with value null"},{"owner":{"account_id":12977358,"reputation":373,"user_id":11766857,"display_name":"Caroline"},"score":0,"creation_date":1663077395,"post_id":73703331,"comment_id":130151081,"body_markdown":"@Essay97 I would like to avoid adding one more if-else statement in the source code every time I add a new property to the object.","body":"@Essay97 I would like to avoid adding one more if-else statement in the source code every time I add a new property to the object."}],"answers":[{"tags":[],"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663074532,"creation_date":1663074532,"answer_id":73703593,"question_id":73703331,"body_markdown":"Assuming your first choice ModelMapper is still something you want to use, it should perfectly work for your case. The User class has to provide the required `setName(String name)` method.\r\n\r\n \r\n\r\n    import org.modelmapper.ModelMapper;\r\n    \r\n    public class ModelMapperExample {\r\n\r\n     public static void main(String[] args) {\r\n        User user = new User(); // simplified, retrieved from elsewhere\r\n        UpdateUserDTO updated = new UpdateUserDTO(); // simplified, retrieved from elsewhere\r\n        updated.setName(&quot;Paula&quot;);\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        modelMapper.map(updated, user);\r\n        System.out.println(user.getName()); // prints Paula\r\n      }\r\n    }\r\n\r\nSee Javadoc for more information on this: http://modelmapper.org/javadoc/org/modelmapper/ModelMapper.html#map-java.lang.Object-java.lang.Object-\r\n","title":"How to update existing objects dynamically, without creating new ones?","body":"<p>Assuming your first choice ModelMapper is still something you want to use, it should perfectly work for your case. The User class has to provide the required <code>setName(String name)</code> method.</p>\n<pre><code>import org.modelmapper.ModelMapper;\n\npublic class ModelMapperExample {\n\n public static void main(String[] args) {\n    User user = new User(); // simplified, retrieved from elsewhere\n    UpdateUserDTO updated = new UpdateUserDTO(); // simplified, retrieved from elsewhere\n    updated.setName(&quot;Paula&quot;);\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.map(updated, user);\n    System.out.println(user.getName()); // prints Paula\n  }\n}\n</code></pre>\n<p>See Javadoc for more information on this: <a href=\"http://modelmapper.org/javadoc/org/modelmapper/ModelMapper.html#map-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\">http://modelmapper.org/javadoc/org/modelmapper/ModelMapper.html#map-java.lang.Object-java.lang.Object-</a></p>\n"}],"owner":{"account_id":12977358,"reputation":373,"user_id":11766857,"display_name":"Caroline"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663074619,"accepted_answer_id":73703593,"answer_count":1,"score":0,"last_activity_date":1663077124,"creation_date":1663073255,"question_id":73703331,"body_markdown":"I have an `User` class:\r\n```\r\npublic class User {\r\n   private Long id;\r\n   private String name;\r\n   private String ssn;\r\n   private int age;\r\n   private double height;\r\n   private double weight;\r\n}\r\n```\r\n\r\nAnd an `UpdateUserDTO` class:\r\n```\r\npublic class UpdateUserDTO {\r\n   private String name;\r\n   private int age;\r\n   private double height;\r\n   private double weight;\r\n}\r\n```\r\n\r\nThe `UpdateUserDTO` is used in the PUT request body to update the user&#39;s data. At least one of the fields is required to be **not null** in the `UpdateUserDTO` instance, but the client **can update as many as he wants**, so I am expecting this instance to have a different number of **not null** values each time a new request is received.\r\n\r\nI retrieve the User class (original data) from the database, and I want to map the **not null** fields from the `UpdateUserDTO` to the `User` class.\r\n\r\n**I don&#39;t want to do it using many `if-else` statements.**\r\n\r\nThanks in advance!\r\n","title":"How to update existing objects dynamically, without creating new ones?","body":"<p>I have an <code>User</code> class:</p>\n<pre><code>public class User {\n   private Long id;\n   private String name;\n   private String ssn;\n   private int age;\n   private double height;\n   private double weight;\n}\n</code></pre>\n<p>And an <code>UpdateUserDTO</code> class:</p>\n<pre><code>public class UpdateUserDTO {\n   private String name;\n   private int age;\n   private double height;\n   private double weight;\n}\n</code></pre>\n<p>The <code>UpdateUserDTO</code> is used in the PUT request body to update the user's data. At least one of the fields is required to be <strong>not null</strong> in the <code>UpdateUserDTO</code> instance, but the client <strong>can update as many as he wants</strong>, so I am expecting this instance to have a different number of <strong>not null</strong> values each time a new request is received.</p>\n<p>I retrieve the User class (original data) from the database, and I want to map the <strong>not null</strong> fields from the <code>UpdateUserDTO</code> to the <code>User</code> class.</p>\n<p><strong>I don't want to do it using many <code>if-else</code> statements.</strong></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","aidl"],"answers":[{"tags":[],"owner":{"account_id":2026540,"reputation":1942,"user_id":1811356,"display_name":"Hardian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555431447,"creation_date":1555430552,"answer_id":55712326,"question_id":55661377,"body_markdown":"The code shows its an implicit intent used while bindService call.\r\n\r\n    Intent it = new Intent(&quot;multiply&quot;);\r\n    it.setPackage(&quot;com.example.aidlserver&quot;);\r\n\r\nIf you are above API level 21, you must update your code with an explicit intent. Please update your code with setClassName() API to make the bind service call with an explicit intent.\r\n\r\n        Intent it = new Intent(&quot;multiply&quot;);            \r\n        it.setClassName(&quot;com.example.aidlserver&quot;,&quot;com.example.aidlserver.CalService&quot;);\r\n        if(getBaseContext().getApplicationContext().bindService(it, connection, Context.BIND_AUTO_CREATE) == true){\r\n            Log.v(&quot;Bind&quot;, &quot;Bind service Succeeded&quot;);\r\n        } else {\r\n            Log.v(&quot;Bind&quot;, &quot;Bind service failed&quot;);\r\n        }\r\n\r\n**Please note the following:**\r\n&gt; Caution: To ensure that your app is secure, always use an explicit\r\n&gt; intent when starting a Service and don&#39;t declare intent filters for\r\n&gt; your services. Using an implicit intent to start a service is a\r\n&gt; security hazard because you cannot be certain of the service that\r\n&gt; responds to the intent, and the user cannot see which service starts.\r\n&gt; Beginning with Android 5.0 (API level 21), the system throws an\r\n&gt; exception if you call bindService() with an implicit intent.\r\nRef: https://developer.android.com/guide/components/services\r\n\r\nAlso check this too,\r\n\r\n&quot;To receive implicit intents, you must include the CATEGORY_DEFAULT category in the intent filter&quot;\r\n\r\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n\r\n[https://developer.android.com/guide/components/intents-filters#Receiving][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/intents-filters#Receiving\r\n","title":"AIDL Client does not bind to remote service","body":"<p>The code shows its an implicit intent used while bindService call.</p>\n\n<pre><code>Intent it = new Intent(\"multiply\");\nit.setPackage(\"com.example.aidlserver\");\n</code></pre>\n\n<p>If you are above API level 21, you must update your code with an explicit intent. Please update your code with setClassName() API to make the bind service call with an explicit intent.</p>\n\n<pre><code>    Intent it = new Intent(\"multiply\");            \n    it.setClassName(\"com.example.aidlserver\",\"com.example.aidlserver.CalService\");\n    if(getBaseContext().getApplicationContext().bindService(it, connection, Context.BIND_AUTO_CREATE) == true){\n        Log.v(\"Bind\", \"Bind service Succeeded\");\n    } else {\n        Log.v(\"Bind\", \"Bind service failed\");\n    }\n</code></pre>\n\n<p><strong>Please note the following:</strong></p>\n\n<blockquote>\n  <p>Caution: To ensure that your app is secure, always use an explicit\n  intent when starting a Service and don't declare intent filters for\n  your services. Using an implicit intent to start a service is a\n  security hazard because you cannot be certain of the service that\n  responds to the intent, and the user cannot see which service starts.\n  Beginning with Android 5.0 (API level 21), the system throws an\n  exception if you call bindService() with an implicit intent.\n  Ref: <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a></p>\n</blockquote>\n\n<p>Also check this too,</p>\n\n<p>\"To receive implicit intents, you must include the CATEGORY_DEFAULT category in the intent filter\"</p>\n\n<pre><code>&lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n</code></pre>\n\n<p><a href=\"https://developer.android.com/guide/components/intents-filters#Receiving\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/intents-filters#Receiving</a></p>\n"},{"tags":[],"owner":{"account_id":9690980,"reputation":43,"user_id":7189070,"display_name":"kalpesh somani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663076886,"creation_date":1663076886,"answer_id":73704148,"question_id":55661377,"body_markdown":"All you need is to add &lt;queries&gt; in client app Manifest, where you want tu bind 3rd party app Service. With the same package name you set in the Intent:\r\n\r\n    val intent = Intent(&quot;example_action&quot;)\r\n    intent.`package` = &quot;your package name&quot;\r\n    bindService(intent, connection, Context.BIND_AUTO_CREATE)\r\n\r\nManifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;io.github.asvid.services.client&quot;&gt;\r\n        &lt;queries&gt;\r\n             &lt;package android:name=&quot;io.github.asvid.services.server&quot; /&gt;\r\n        &lt;/queries&gt;\r\n\t...\r\n    &lt;/manifest&gt;\r\n\r\n\r\nAlternatively you can stay with compileSdk 29 but I don’t recommend that :)","title":"AIDL Client does not bind to remote service","body":"<p>All you need is to add  in client app Manifest, where you want tu bind 3rd party app Service. With the same package name you set in the Intent:</p>\n<pre><code>val intent = Intent(&quot;example_action&quot;)\nintent.`package` = &quot;your package name&quot;\nbindService(intent, connection, Context.BIND_AUTO_CREATE)\n</code></pre>\n<p>Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;io.github.asvid.services.client&quot;&gt;\n    &lt;queries&gt;\n         &lt;package android:name=&quot;io.github.asvid.services.server&quot; /&gt;\n    &lt;/queries&gt;\n...\n&lt;/manifest&gt;\n</code></pre>\n<p>Alternatively you can stay with compileSdk 29 but I don’t recommend that :)</p>\n"}],"owner":{"account_id":14859600,"reputation":51,"user_id":10730895,"display_name":"Mann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2203,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1663076886,"creation_date":1555121047,"question_id":55661377,"body_markdown":"I am trying to run a simple multiplication with a remote service. I have AIDL server file declaring and defining methods. In AIDL, i have copied the same AIDL file as server under the server&#39;s package name. \r\nI have given the action for the intent filter of server&#39;s service.\r\nStill my AIDL client code is not connecting to the service.\r\n\r\nAIDLServer:\r\n\r\nManifest\r\n```\r\n&lt;service\r\n            android:name=&quot;.CalService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:process=&quot;:remote&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;mutliply&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n```\r\n\r\n ICalService.aidl\r\n```\r\ninterface ICalService {\r\n        String getMessage(String name);\r\n        int getResult(int val1, int val2);\r\n}\r\n```\r\n\r\nCalService.java\r\n```\r\npublic class CalService extends Service {\r\n    public CalService() {\r\n    }\r\n\r\n    private final ICalService.Stub binder = new ICalService.Stub() {\r\n        @Override\r\n        public String getMessage(String name) throws RemoteException {\r\n            return &quot;Hello &quot; + name + &quot;. The result is: &quot;;\r\n        }\r\n\r\n        @Override\r\n        public int getResult(int val1, int val2) throws RemoteException {\r\n            return val1 * val2;\r\n        }\r\n    };\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return binder;\r\n    }\r\n}\r\n```\r\n\r\nAIDLCLient:\r\n\r\nMainActivity.java\r\n\r\n```\r\n@Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        editName = (EditText) findViewById(R.id.editName);\r\n        editVal1 = (EditText) findViewById(R.id.editVal1);\r\n        editVal2 = (EditText) findViewById(R.id.editVal2);\r\n        resultView = (TextView) findViewById(R.id.resultView);\r\n\r\n        if(calService == null) {\r\n            Log.v(&quot;CALSERVICE&quot;, &quot;cal service null&quot;);\r\n            Intent it = new Intent(&quot;multiply&quot;);\r\n            it.setPackage(&quot;com.example.aidlserver&quot;);\r\n            if(getBaseContext().getApplicationContext().bindService(\r\n                    it, connection, Context.BIND_AUTO_CREATE\r\n            ) == true){\r\n                Log.v(&quot;Bind&quot;, &quot;Bind service Succeeded&quot;);\r\n            } else {\r\n                Log.v(&quot;Bind&quot;, &quot;Bind service failed&quot;);\r\n            }\r\n        } else {\r\n            Log.v(&quot;Cal&quot;, &quot;Cal Service not null&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        unbindService(connection);\r\n    }\r\n\r\n    public void mutiply(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.btnCal:\r\n                int num1 = Integer.parseInt(editVal1.getText().toString());\r\n                int num2 = Integer.parseInt(editVal2.getText().toString());\r\n                try {\r\n                    int result = calService.getResult(num1, num2);\r\n                    String msg = calService.getMessage(editName.getText().toString());\r\n                    resultView.setText(msg + result);\r\n                } catch (RemoteException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    private ServiceConnection connection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            Log.d(&quot;onServiceConnected&quot;, &quot;Connected&quot;);\r\n            calService = ICalService.Stub.asInterface(service);\r\n            Toast.makeText(getApplicationContext(), &quot;Service Connected&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            Log.d(&quot;onServiceDisconnected&quot;, &quot;Disconnected&quot;);\r\n            calService = null;\r\n            Toast.makeText(getApplicationContext(), &quot;Service Disconnected&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    };\r\n```","title":"AIDL Client does not bind to remote service","body":"<p>I am trying to run a simple multiplication with a remote service. I have AIDL server file declaring and defining methods. In AIDL, i have copied the same AIDL file as server under the server's package name. \nI have given the action for the intent filter of server's service.\nStill my AIDL client code is not connecting to the service.</p>\n\n<p>AIDLServer:</p>\n\n<p>Manifest</p>\n\n<pre><code>&lt;service\n            android:name=\".CalService\"\n            android:enabled=\"true\"\n            android:exported=\"true\"\n            android:process=\":remote\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"mutliply\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n\n<p>ICalService.aidl</p>\n\n<pre><code>interface ICalService {\n        String getMessage(String name);\n        int getResult(int val1, int val2);\n}\n</code></pre>\n\n<p>CalService.java</p>\n\n<pre><code>public class CalService extends Service {\n    public CalService() {\n    }\n\n    private final ICalService.Stub binder = new ICalService.Stub() {\n        @Override\n        public String getMessage(String name) throws RemoteException {\n            return \"Hello \" + name + \". The result is: \";\n        }\n\n        @Override\n        public int getResult(int val1, int val2) throws RemoteException {\n            return val1 * val2;\n        }\n    };\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return binder;\n    }\n}\n</code></pre>\n\n<p>AIDLCLient:</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>@Override\n    protected void onStart() {\n        super.onStart();\n        editName = (EditText) findViewById(R.id.editName);\n        editVal1 = (EditText) findViewById(R.id.editVal1);\n        editVal2 = (EditText) findViewById(R.id.editVal2);\n        resultView = (TextView) findViewById(R.id.resultView);\n\n        if(calService == null) {\n            Log.v(\"CALSERVICE\", \"cal service null\");\n            Intent it = new Intent(\"multiply\");\n            it.setPackage(\"com.example.aidlserver\");\n            if(getBaseContext().getApplicationContext().bindService(\n                    it, connection, Context.BIND_AUTO_CREATE\n            ) == true){\n                Log.v(\"Bind\", \"Bind service Succeeded\");\n            } else {\n                Log.v(\"Bind\", \"Bind service failed\");\n            }\n        } else {\n            Log.v(\"Cal\", \"Cal Service not null\");\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        unbindService(connection);\n    }\n\n    public void mutiply(View v) {\n        switch (v.getId()) {\n            case R.id.btnCal:\n                int num1 = Integer.parseInt(editVal1.getText().toString());\n                int num2 = Integer.parseInt(editVal2.getText().toString());\n                try {\n                    int result = calService.getResult(num1, num2);\n                    String msg = calService.getMessage(editName.getText().toString());\n                    resultView.setText(msg + result);\n                } catch (RemoteException e) {\n                    e.printStackTrace();\n                }\n                break;\n        }\n    }\n\n\n    private ServiceConnection connection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            Log.d(\"onServiceConnected\", \"Connected\");\n            calService = ICalService.Stub.asInterface(service);\n            Toast.makeText(getApplicationContext(), \"Service Connected\",\n                    Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            Log.d(\"onServiceDisconnected\", \"Disconnected\");\n            calService = null;\n            Toast.makeText(getApplicationContext(), \"Service Disconnected\",\n                    Toast.LENGTH_SHORT).show();\n        }\n    };\n</code></pre>\n"},{"tags":["java","html-select","htmlunit"],"comments":[{"owner":{"account_id":1830370,"reputation":2876,"user_id":1661938,"display_name":"Frederic Klein"},"score":0,"creation_date":1476880319,"post_id":40008348,"comment_id":67532812,"body_markdown":"Could you provide the url?","body":"Could you provide the url?"},{"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"score":0,"creation_date":1476903670,"post_id":40008348,"comment_id":67548828,"body_markdown":"Thanks, but I found the solution to the problem. Will post it below.","body":"Thanks, but I found the solution to the problem. Will post it below."}],"answers":[{"tags":[],"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1476904375,"creation_date":1476904375,"answer_id":40139706,"question_id":40008348,"body_markdown":"What I did was almost correct, but what was missing was following:\r\n\r\n        page.refresh();\r\n        return page.asXml();\r\n\r\nThen I had another problem to mark a checkbox as checked. Here is what worked for me:\r\n\r\n        HtmlCheckBoxInput checkbox = (HtmlCheckBoxInput) page.getElementById(&quot;cb4&quot;);\r\n        checkbox.setAttribute(&quot;checked&quot;, &quot;checked&quot;);\r\n        checkbox.fireEvent(Event.TYPE_CHANGE);\r\n        page.refresh();\r\n        System.out.println(page.asXml());\r\n\r\n\r\n","title":"HtmlUnit select option that is not in a form","body":"<p>What I did was almost correct, but what was missing was following:</p>\n\n<pre><code>    page.refresh();\n    return page.asXml();\n</code></pre>\n\n<p>Then I had another problem to mark a checkbox as checked. Here is what worked for me:</p>\n\n<pre><code>    HtmlCheckBoxInput checkbox = (HtmlCheckBoxInput) page.getElementById(\"cb4\");\n    checkbox.setAttribute(\"checked\", \"checked\");\n    checkbox.fireEvent(Event.TYPE_CHANGE);\n    page.refresh();\n    System.out.println(page.asXml());\n</code></pre>\n"}],"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40139706,"answer_count":1,"score":1,"last_activity_date":1663076738,"creation_date":1476306372,"question_id":40008348,"body_markdown":"Would like to use HtmlUnit to select an option that is not inside a form. Then I need to retrieve the resulting page of course. Here is what I tried:\r\n\r\n    public String getNewPage() throws Exception {\r\n        try (final WebClient webClient = new WebClient()) {\r\n\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n            webClient.getOptions().setPopupBlockerEnabled(true);\r\n            webClient.getOptions().setJavaScriptEnabled(true);\r\n\r\n            final HtmlPage page = webClient.getPage(URL);\r\n\r\n            HtmlOption option1 = (HtmlOption) page.getElementById(&quot;1&quot;);\r\n            option1.removeAttribute(&quot;selected&quot;);\r\n            HtmlOption option5 = (HtmlOption) page.getElementById(&quot;5&quot;);\r\n            option5.setSelected(true);\r\n\r\n            // Some code missing here........\r\n            \r\n            return newHtmlString;\r\n    }\r\n\r\nThe page updates automatically when an option is clicked. How can I get the new page after the correct option was selected?\r\n\r\n","title":"HtmlUnit select option that is not in a form","body":"<p>Would like to use HtmlUnit to select an option that is not inside a form. Then I need to retrieve the resulting page of course. Here is what I tried:</p>\n\n<pre><code>public String getNewPage() throws Exception {\n    try (final WebClient webClient = new WebClient()) {\n\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setPopupBlockerEnabled(true);\n        webClient.getOptions().setJavaScriptEnabled(true);\n\n        final HtmlPage page = webClient.getPage(URL);\n\n        HtmlOption option1 = (HtmlOption) page.getElementById(\"1\");\n        option1.removeAttribute(\"selected\");\n        HtmlOption option5 = (HtmlOption) page.getElementById(\"5\");\n        option5.setSelected(true);\n\n        // Some code missing here........\n\n        return newHtmlString;\n}\n</code></pre>\n\n<p>The page updates automatically when an option is clicked. How can I get the new page after the correct option was selected?</p>\n"},{"tags":["java","html-select","jcombobox","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482390213,"creation_date":1482390213,"answer_id":41277481,"question_id":41246253,"body_markdown":"HtmlSelect.setSelectedAttribute changes the value of the selected attribute of the given option. But usually you like to change the selection of the select box and not the dom attribute.\r\nTry using HtmlOption#setSelected(true). This will make the option the selected one (including deselecting the currently selected one).\r\n\r\nIn your code do choice.setSelected(true).\r\n\r\nHope that helps...","title":"Jcombobox selecting an element","body":"<p>HtmlSelect.setSelectedAttribute changes the value of the selected attribute of the given option. But usually you like to change the selection of the select box and not the dom attribute.\nTry using HtmlOption#setSelected(true). This will make the option the selected one (including deselecting the currently selected one).</p>\n\n<p>In your code do choice.setSelected(true).</p>\n\n<p>Hope that helps...</p>\n"}],"owner":{"account_id":9840836,"reputation":41,"user_id":7289881,"display_name":"Diederik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663076702,"creation_date":1482249027,"question_id":41246253,"body_markdown":"I&#39;ve got a JComboBox that replicates a dropdownmenu from a website. I retrieve the options via HtmlUnit. When the data is retrieved the jcombobox looks like this:\r\n\r\n[jcombobox1][1]\r\n\r\n\r\nNow obviously I want to select another year (let&#39;s say 2015) and retrieve the data that comes with that year and when I do this the following job gets executed:\r\n\r\n\r\n             int option = jComboBox_year.getSelectedIndex(); \r\n    //Gets the index of the selected combobox option\r\n      \r\n             HtmlSelect year = (HtmlSelect) page2.getElementById(&quot;dip_selector_select_i00083_5&quot;); \r\n    //this selects the dropdownmenu from the webpage\r\n            \r\n     HtmlOption choice = year.getOption(index);\r\n    //gets the option with the right index from the dropdownmenu\r\n    \r\n             year.setSelectedAttribute(choice, true);\r\n    //sets the selected attribute at the website\r\n        \r\nAfter this code my program waits for the resulting page to load and then starts collecting data from the site based on the changed option.\r\n\r\n\r\nAfter my described code however the output combobox looks like this:\r\n\r\n\r\n[jcombobox2][2]\r\n\r\nAfter this it still retrieves the data that goes with year 2016. So basically the option 2015 gets selected in some kind of way, but not in the right way. Can anyone help??\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NtyDl.png\r\n  [2]: https://i.stack.imgur.com/5Rxur.png\r\n","title":"Jcombobox selecting an element","body":"<p>I've got a JComboBox that replicates a dropdownmenu from a website. I retrieve the options via HtmlUnit. When the data is retrieved the jcombobox looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NtyDl.png\" rel=\"nofollow noreferrer\">jcombobox1</a></p>\n\n<p>Now obviously I want to select another year (let's say 2015) and retrieve the data that comes with that year and when I do this the following job gets executed:</p>\n\n<pre><code>         int option = jComboBox_year.getSelectedIndex(); \n//Gets the index of the selected combobox option\n\n         HtmlSelect year = (HtmlSelect) page2.getElementById(\"dip_selector_select_i00083_5\"); \n//this selects the dropdownmenu from the webpage\n\n HtmlOption choice = year.getOption(index);\n//gets the option with the right index from the dropdownmenu\n\n         year.setSelectedAttribute(choice, true);\n//sets the selected attribute at the website\n</code></pre>\n\n<p>After this code my program waits for the resulting page to load and then starts collecting data from the site based on the changed option.</p>\n\n<p>After my described code however the output combobox looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5Rxur.png\" rel=\"nofollow noreferrer\">jcombobox2</a></p>\n\n<p>After this it still retrieves the data that goes with year 2016. So basically the option 2015 gets selected in some kind of way, but not in the right way. Can anyone help??</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","firebase","react-native","build"],"answers":[{"tags":[],"owner":{"account_id":15005975,"reputation":351,"user_id":10832040,"display_name":"Pulasthi Aberathne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657198268,"creation_date":1657198268,"answer_id":72898126,"question_id":72791965,"body_markdown":"This happens when we try to have multiple packages that overlap when they compile together. This is a very common issue when we are using some older versions of packages. \r\n&gt;This specific instance occurs when the user tries to install and use `@react-native-firebase/app` and `react-native-firebase`. I used an older version of `react-native-firebase` for push notifications but as of my knowledge and experience `@react-native-firebase/app` covers that. So removing `react-native-firebase` and doing an `npm i` and then building worked for me. \r\n\r\nIn general cases, we have to check each package by package and check which one is causing the overlap and either remove it or find some alternatives for the package in the development and build. ","title":"Type io.invertase.firebase.BuildConfig is defined multiple times","body":"<p>This happens when we try to have multiple packages that overlap when they compile together. This is a very common issue when we are using some older versions of packages.</p>\n<blockquote>\n<p>This specific instance occurs when the user tries to install and use <code>@react-native-firebase/app</code> and <code>react-native-firebase</code>. I used an older version of <code>react-native-firebase</code> for push notifications but as of my knowledge and experience <code>@react-native-firebase/app</code> covers that. So removing <code>react-native-firebase</code> and doing an <code>npm i</code> and then building worked for me.</p>\n</blockquote>\n<p>In general cases, we have to check each package by package and check which one is causing the overlap and either remove it or find some alternatives for the package in the development and build.</p>\n"},{"tags":[],"owner":{"account_id":20706345,"reputation":169,"user_id":15204127,"display_name":"Manish Singh Chouhan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663076153,"creation_date":1663076153,"answer_id":73703960,"question_id":72791965,"body_markdown":"In My case I found this as an ultimate error here.\r\n\r\nIn my package.json file I had, at some point earlier, installed both the **@react-native-firebase/app** and the **react-native-firebase** packages.\r\n\r\nIt seems like the clever auto-importing/linking was bringing both these into the Android project (as it should) which was causing the duplicate class errors. I removed the **@react-native-firebase/** packages and now most of my issues have been resolved.\r\n\r\nIt works for me","title":"Type io.invertase.firebase.BuildConfig is defined multiple times","body":"<p>In My case I found this as an ultimate error here.</p>\n<p>In my package.json file I had, at some point earlier, installed both the <strong>@react-native-firebase/app</strong> and the <strong>react-native-firebase</strong> packages.</p>\n<p>It seems like the clever auto-importing/linking was bringing both these into the Android project (as it should) which was causing the duplicate class errors. I removed the <strong>@react-native-firebase/</strong> packages and now most of my issues have been resolved.</p>\n<p>It works for me</p>\n"}],"owner":{"account_id":15005975,"reputation":351,"user_id":10832040,"display_name":"Pulasthi Aberathne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72898126,"answer_count":2,"score":2,"last_activity_date":1663076153,"creation_date":1656443300,"question_id":72791965,"body_markdown":"I am trying to build a react native application in VSCode. I am getting the following error when I try to build the app. I keep getting the following issue while getting the build complete. I tried to change the firebase version and Gradle updates but did not work.\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDexRelease&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \r\n     Learn how to resolve the issue at https://developer.android.com/studio/build/dependencies#duplicate_classes.\r\n     Type io.invertase.firebase.BuildConfig is defined multiple times: /path/node_modules/@react-native-firebase/app/android/build/.transforms/7d2ce1f5b074ed872b704906f3d41618/classes/classes.dex, /path/node_modules/react-native-firebase/android/build/.transforms/0b00760c914c9cf3e84f7c87e9135514/classes/classes.dex\r\n\r\nBUILD FAILED in 3m 50s\r\n```\r\n\r\n&lt;br/&gt;\r\n`app/build.gradle` looks as follows\r\n\r\n    apply plugin: &quot;com.android.application&quot;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    import com.android.build.OutputFile;\r\n    // import androidx.core.content.FileProvider;\r\n    \r\n    project.ext.react = [\r\n        enableHermes: false,  // clean and rebuild if changing\r\n    ]\r\n    \r\n    apply from: &quot;../../node_modules/react-native/react.gradle&quot;\r\n    \r\n    def jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n    \r\n    def enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\r\n    \r\n    android {\r\n        compileSdkVersion rootProject.ext.compileSdkVersion\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.odotime&quot;\r\n            minSdkVersion rootProject.ext.minSdkVersion\r\n            targetSdkVersion rootProject.ext.targetSdkVersion\r\n            versionCode 40\r\n            versionName &quot;1.41&quot;\r\n            multiDexEnabled true\r\n        }\r\n        splits {\r\n            abi {\r\n                reset()\r\n                enable enableSeparateBuildPerCPUArchitecture\r\n                universalApk false  // If true, also generate a universal APK\r\n                include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n            }\r\n        }\r\n        signingConfigs {\r\n            debug {\r\n                storeFile file(&#39;debug.keystore&#39;)\r\n                storePassword &#39;android&#39;\r\n                keyAlias &#39;androiddebugkey&#39;\r\n                keyPassword &#39;android&#39;\r\n            }\r\n            release {\r\n                if (project.hasProperty(&#39;MYAPP_UPLOAD_STORE_FILE&#39;)) {\r\n                    storeFile file(MYAPP_UPLOAD_STORE_FILE)\r\n                    storePassword MYAPP_UPLOAD_STORE_PASSWORD\r\n                    keyAlias MYAPP_UPLOAD_KEY_ALIAS\r\n                    keyPassword MYAPP_UPLOAD_KEY_PASSWORD\r\n                }\r\n            }\r\n        }\r\n        buildTypes {\r\n            debug {\r\n                signingConfig signingConfigs.debug\r\n            }\r\n            release {\r\n                // Caution! In production, you need to generate your own keystore file.\r\n                // see https://reactnative.dev/docs/signed-apk-android.\r\n                signingConfig signingConfigs.debug\r\n                minifyEnabled enableProguardInReleaseBuilds\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n    \r\n        // applicationVariants are e.g. debug, release\r\n        applicationVariants.all { variant -&gt;\r\n            variant.outputs.each { output -&gt;\r\n                // For each separate APK per architecture, set a unique version code as described here:\r\n                // https://developer.android.com/studio/build/configure-apk-splits.html\r\n                def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n                def abi = output.getFilter(OutputFile.ABI)\r\n                if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                    output.versionCodeOverride =\r\n                            versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        //noinspection GradleDynamicVersion\r\n        implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n    \r\n        // Import the Firebase BoM\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:28.0.1&#39;) \r\n        \r\n        compile project(&#39;:react-native-sms-retriever&#39;)\r\n        \r\n        // Declare the dependency for the Firebase SDK for Google Analytics\r\n        implementation &#39;com.google.firebase:firebase-analytics:18.0.3&#39;\r\n    \r\n        implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    \r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &quot;com.android.support:support-v4:22.1.0&quot;\r\n        implementation &#39;com.android.support:design:27.1.0&#39;\r\n    \r\n        implementation project(&#39;:react-native-push-notification&#39;)\r\n    \r\n        debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n          exclude group:&#39;com.facebook.fbjni&#39;\r\n        }\r\n    \r\n        debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group:&#39;com.facebook.flipper&#39;\r\n            exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n        }\r\n    \r\n        debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group:&#39;com.facebook.flipper&#39;\r\n        }\r\n    \r\n        if (enableHermes) {\r\n            def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n            debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n            releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n        } else {\r\n            implementation jscFlavor\r\n        }\r\n    }\r\n    \r\n    // Run this once to be able to run the application with BUCK\r\n    // puts all compile dependencies into folder libs for BUCK to use\r\n    task copyDownloadableDepsToLibs(type: Copy) {\r\n        from configurations.compile\r\n        into &#39;libs&#39;\r\n    }\r\n    \r\n    apply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n\r\n\r\n&gt; `package.json` as follows\r\n\r\n```\r\n&quot;dependencies&quot;: {\r\n    &quot;@capacitor/android&quot;: &quot;^3.6.0&quot;,\r\n    &quot;@capacitor/core&quot;: &quot;^3.6.0&quot;,\r\n    &quot;@react-native-community/art&quot;: &quot;^1.2.0&quot;,\r\n    &quot;@react-native-community/async-storage&quot;: &quot;^1.12.0&quot;,\r\n    &quot;@react-native-community/masked-view&quot;: &quot;^0.1.10&quot;,\r\n    &quot;@react-native-community/netinfo&quot;: &quot;^5.9.6&quot;,\r\n    &quot;@react-native-community/push-notification-ios&quot;: &quot;^1.8.0&quot;,\r\n    &quot;@react-native-firebase/app&quot;: &quot;^12.1.0&quot;,\r\n    &quot;@react-native-firebase/messaging&quot;: &quot;^12.1.0&quot;,\r\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^5.8.0&quot;,\r\n    &quot;@react-navigation/material-bottom-tabs&quot;: &quot;^5.2.16&quot;,\r\n    &quot;@react-navigation/native&quot;: &quot;^5.7.3&quot;,\r\n    &quot;@react-navigation/stack&quot;: &quot;^5.9.0&quot;,\r\n    &quot;amazon-cognito-identity-js&quot;: &quot;^4.3.3&quot;,\r\n    &quot;aws-amplify&quot;: &quot;^3.0.23&quot;,\r\n    &quot;axios&quot;: &quot;^0.20.0&quot;,\r\n    &quot;cordova-plugin-androidx-adapter&quot;: &quot;^1.1.3&quot;,\r\n    &quot;i18n-js&quot;: &quot;^3.7.1&quot;,\r\n    &quot;jetifier&quot;: &quot;^2.0.0&quot;,\r\n    &quot;lodash.memoize&quot;: &quot;^4.1.2&quot;,\r\n    &quot;moment&quot;: &quot;^2.29.1&quot;,\r\n    &quot;moment-range&quot;: &quot;^4.0.2&quot;,\r\n    &quot;moment-timezone&quot;: &quot;^0.5.33&quot;,\r\n    &quot;react&quot;: &quot;16.13.1&quot;,\r\n    &quot;react-devtools&quot;: &quot;^4.8.2&quot;,\r\n    &quot;react-native&quot;: &quot;0.63.2&quot;,\r\n    &quot;react-native-calendars&quot;: &quot;^1.343.0&quot;,\r\n    &quot;react-native-contacts&quot;: &quot;^6.0.3&quot;,\r\n    &quot;react-native-country-picker-modal&quot;: &quot;^2.0.0&quot;,\r\n    &quot;react-native-date-picker&quot;: &quot;^3.2.3&quot;,\r\n    &quot;react-native-drop-shadow&quot;: &quot;^0.0.2&quot;,\r\n    &quot;react-native-dropdown-picker&quot;: &quot;^3.7.1&quot;,\r\n    &quot;react-native-email-link&quot;: &quot;^1.11.3&quot;,\r\n    &quot;react-native-firebase&quot;: &quot;^5.6.0&quot;,\r\n    &quot;react-native-gesture-handler&quot;: &quot;^1.7.0&quot;,\r\n    &quot;react-native-hyperlinked-text&quot;: &quot;^1.0.2&quot;,\r\n    &quot;react-native-image-picker&quot;: &quot;^2.3.4&quot;,\r\n    &quot;react-native-loading-spinner-overlay&quot;: &quot;^1.1.0&quot;,\r\n    &quot;react-native-localize&quot;: &quot;^2.0.1&quot;,\r\n    &quot;react-native-paper&quot;: &quot;^4.1.0&quot;,\r\n    &quot;react-native-pie&quot;: &quot;^1.1.2&quot;,\r\n    &quot;react-native-push-notification&quot;: &quot;^7.3.1&quot;,\r\n    &quot;react-native-raw-bottom-sheet&quot;: &quot;^2.2.0&quot;,\r\n    &quot;react-native-reanimated&quot;: &quot;^1.13.0&quot;,\r\n    &quot;react-native-safe-area-context&quot;: &quot;^3.1.6&quot;,\r\n    &quot;react-native-screens&quot;: &quot;^2.10.1&quot;,\r\n    &quot;react-native-sectioned-multi-select&quot;: &quot;^0.8.1&quot;,\r\n    &quot;react-native-simple-radio-button&quot;: &quot;^2.7.4&quot;,\r\n    &quot;react-native-simple-toast&quot;: &quot;^1.1.2&quot;,\r\n    &quot;react-native-sms-retriever&quot;: &quot;^1.1.1&quot;,\r\n    &quot;react-native-svg-transformer&quot;: &quot;^0.14.3&quot;,\r\n    &quot;react-native-switch-selector&quot;: &quot;^2.0.6&quot;,\r\n    &quot;react-native-vector-icons&quot;: &quot;^7.1.0&quot;,\r\n    &quot;react-redux&quot;: &quot;^7.2.1&quot;,\r\n    &quot;redux&quot;: &quot;^4.0.5&quot;,\r\n    &quot;redux-form&quot;: &quot;^8.3.6&quot;,\r\n    &quot;redux-persist&quot;: &quot;^6.0.0&quot;,\r\n    &quot;redux-persist-transform-filter&quot;: &quot;0.0.20&quot;,\r\n    &quot;redux-saga&quot;: &quot;^1.1.3&quot;,\r\n    &quot;reselect&quot;: &quot;^4.0.0&quot;,\r\n    &quot;save&quot;: &quot;^2.4.0&quot;,\r\n    &quot;toggle-switch-react-native&quot;: &quot;^2.3.0&quot;\r\n  },\r\n  &quot;devDependencies&quot;: {\r\n    &quot;@babel/core&quot;: &quot;^7.8.4&quot;,\r\n    &quot;@babel/runtime&quot;: &quot;^7.8.4&quot;,\r\n    &quot;@capacitor/cli&quot;: &quot;^3.6.0&quot;,\r\n    &quot;@react-native-community/eslint-config&quot;: &quot;^1.1.0&quot;,\r\n    &quot;babel-jest&quot;: &quot;^25.1.0&quot;,\r\n    &quot;eslint&quot;: &quot;^6.8.0&quot;,\r\n    &quot;jest&quot;: &quot;^25.1.0&quot;,\r\n    &quot;metro-react-native-babel-preset&quot;: &quot;^0.59.0&quot;,\r\n    &quot;react-test-renderer&quot;: &quot;16.13.1&quot;,\r\n    &quot;remote-redux-devtools&quot;: &quot;^0.5.16&quot;\r\n  },\r\n```\r\n\r\n\r\n","title":"Type io.invertase.firebase.BuildConfig is defined multiple times","body":"<p>I am trying to build a react native application in VSCode. I am getting the following error when I try to build the app. I keep getting the following issue while getting the build complete. I tried to change the firebase version and Gradle updates but did not work.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDexRelease'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \n     Learn how to resolve the issue at https://developer.android.com/studio/build/dependencies#duplicate_classes.\n     Type io.invertase.firebase.BuildConfig is defined multiple times: /path/node_modules/@react-native-firebase/app/android/build/.transforms/7d2ce1f5b074ed872b704906f3d41618/classes/classes.dex, /path/node_modules/react-native-firebase/android/build/.transforms/0b00760c914c9cf3e84f7c87e9135514/classes/classes.dex\n\nBUILD FAILED in 3m 50s\n</code></pre>\n<br/>\n`app/build.gradle` looks as follows\n<pre><code>apply plugin: &quot;com.android.application&quot;\napply plugin: 'com.google.gms.google-services'\n\nimport com.android.build.OutputFile;\n// import androidx.core.content.FileProvider;\n\nproject.ext.react = [\n    enableHermes: false,  // clean and rebuild if changing\n]\n\napply from: &quot;../../node_modules/react-native/react.gradle&quot;\n\ndef jscFlavor = 'org.webkit:android-jsc:+'\n\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId &quot;com.odotime&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 40\n        versionName &quot;1.41&quot;\n        multiDexEnabled true\n    }\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n        release {\n            if (project.hasProperty('MYAPP_UPLOAD_STORE_FILE')) {\n                storeFile file(MYAPP_UPLOAD_STORE_FILE)\n                storePassword MYAPP_UPLOAD_STORE_PASSWORD\n                keyAlias MYAPP_UPLOAD_KEY_ALIAS\n                keyPassword MYAPP_UPLOAD_KEY_PASSWORD\n            }\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n            signingConfig signingConfigs.release\n        }\n    }\n\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n            }\n\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    //noinspection GradleDynamicVersion\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\n\n    // Import the Firebase BoM\n    implementation platform('com.google.firebase:firebase-bom:28.0.1') \n    \n    compile project(':react-native-sms-retriever')\n    \n    // Declare the dependency for the Firebase SDK for Google Analytics\n    implementation 'com.google.firebase:firebase-analytics:18.0.3'\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation &quot;com.android.support:support-v4:22.1.0&quot;\n    implementation 'com.android.support:design:27.1.0'\n\n    implementation project(':react-native-push-notification')\n\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n      exclude group:'com.facebook.fbjni'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n    }\n\n    if (enableHermes) {\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\n    from configurations.compile\n    into 'libs'\n}\n\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\n</code></pre>\n<blockquote>\n<p><code>package.json</code> as follows</p>\n</blockquote>\n<pre><code>&quot;dependencies&quot;: {\n    &quot;@capacitor/android&quot;: &quot;^3.6.0&quot;,\n    &quot;@capacitor/core&quot;: &quot;^3.6.0&quot;,\n    &quot;@react-native-community/art&quot;: &quot;^1.2.0&quot;,\n    &quot;@react-native-community/async-storage&quot;: &quot;^1.12.0&quot;,\n    &quot;@react-native-community/masked-view&quot;: &quot;^0.1.10&quot;,\n    &quot;@react-native-community/netinfo&quot;: &quot;^5.9.6&quot;,\n    &quot;@react-native-community/push-notification-ios&quot;: &quot;^1.8.0&quot;,\n    &quot;@react-native-firebase/app&quot;: &quot;^12.1.0&quot;,\n    &quot;@react-native-firebase/messaging&quot;: &quot;^12.1.0&quot;,\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^5.8.0&quot;,\n    &quot;@react-navigation/material-bottom-tabs&quot;: &quot;^5.2.16&quot;,\n    &quot;@react-navigation/native&quot;: &quot;^5.7.3&quot;,\n    &quot;@react-navigation/stack&quot;: &quot;^5.9.0&quot;,\n    &quot;amazon-cognito-identity-js&quot;: &quot;^4.3.3&quot;,\n    &quot;aws-amplify&quot;: &quot;^3.0.23&quot;,\n    &quot;axios&quot;: &quot;^0.20.0&quot;,\n    &quot;cordova-plugin-androidx-adapter&quot;: &quot;^1.1.3&quot;,\n    &quot;i18n-js&quot;: &quot;^3.7.1&quot;,\n    &quot;jetifier&quot;: &quot;^2.0.0&quot;,\n    &quot;lodash.memoize&quot;: &quot;^4.1.2&quot;,\n    &quot;moment&quot;: &quot;^2.29.1&quot;,\n    &quot;moment-range&quot;: &quot;^4.0.2&quot;,\n    &quot;moment-timezone&quot;: &quot;^0.5.33&quot;,\n    &quot;react&quot;: &quot;16.13.1&quot;,\n    &quot;react-devtools&quot;: &quot;^4.8.2&quot;,\n    &quot;react-native&quot;: &quot;0.63.2&quot;,\n    &quot;react-native-calendars&quot;: &quot;^1.343.0&quot;,\n    &quot;react-native-contacts&quot;: &quot;^6.0.3&quot;,\n    &quot;react-native-country-picker-modal&quot;: &quot;^2.0.0&quot;,\n    &quot;react-native-date-picker&quot;: &quot;^3.2.3&quot;,\n    &quot;react-native-drop-shadow&quot;: &quot;^0.0.2&quot;,\n    &quot;react-native-dropdown-picker&quot;: &quot;^3.7.1&quot;,\n    &quot;react-native-email-link&quot;: &quot;^1.11.3&quot;,\n    &quot;react-native-firebase&quot;: &quot;^5.6.0&quot;,\n    &quot;react-native-gesture-handler&quot;: &quot;^1.7.0&quot;,\n    &quot;react-native-hyperlinked-text&quot;: &quot;^1.0.2&quot;,\n    &quot;react-native-image-picker&quot;: &quot;^2.3.4&quot;,\n    &quot;react-native-loading-spinner-overlay&quot;: &quot;^1.1.0&quot;,\n    &quot;react-native-localize&quot;: &quot;^2.0.1&quot;,\n    &quot;react-native-paper&quot;: &quot;^4.1.0&quot;,\n    &quot;react-native-pie&quot;: &quot;^1.1.2&quot;,\n    &quot;react-native-push-notification&quot;: &quot;^7.3.1&quot;,\n    &quot;react-native-raw-bottom-sheet&quot;: &quot;^2.2.0&quot;,\n    &quot;react-native-reanimated&quot;: &quot;^1.13.0&quot;,\n    &quot;react-native-safe-area-context&quot;: &quot;^3.1.6&quot;,\n    &quot;react-native-screens&quot;: &quot;^2.10.1&quot;,\n    &quot;react-native-sectioned-multi-select&quot;: &quot;^0.8.1&quot;,\n    &quot;react-native-simple-radio-button&quot;: &quot;^2.7.4&quot;,\n    &quot;react-native-simple-toast&quot;: &quot;^1.1.2&quot;,\n    &quot;react-native-sms-retriever&quot;: &quot;^1.1.1&quot;,\n    &quot;react-native-svg-transformer&quot;: &quot;^0.14.3&quot;,\n    &quot;react-native-switch-selector&quot;: &quot;^2.0.6&quot;,\n    &quot;react-native-vector-icons&quot;: &quot;^7.1.0&quot;,\n    &quot;react-redux&quot;: &quot;^7.2.1&quot;,\n    &quot;redux&quot;: &quot;^4.0.5&quot;,\n    &quot;redux-form&quot;: &quot;^8.3.6&quot;,\n    &quot;redux-persist&quot;: &quot;^6.0.0&quot;,\n    &quot;redux-persist-transform-filter&quot;: &quot;0.0.20&quot;,\n    &quot;redux-saga&quot;: &quot;^1.1.3&quot;,\n    &quot;reselect&quot;: &quot;^4.0.0&quot;,\n    &quot;save&quot;: &quot;^2.4.0&quot;,\n    &quot;toggle-switch-react-native&quot;: &quot;^2.3.0&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@babel/core&quot;: &quot;^7.8.4&quot;,\n    &quot;@babel/runtime&quot;: &quot;^7.8.4&quot;,\n    &quot;@capacitor/cli&quot;: &quot;^3.6.0&quot;,\n    &quot;@react-native-community/eslint-config&quot;: &quot;^1.1.0&quot;,\n    &quot;babel-jest&quot;: &quot;^25.1.0&quot;,\n    &quot;eslint&quot;: &quot;^6.8.0&quot;,\n    &quot;jest&quot;: &quot;^25.1.0&quot;,\n    &quot;metro-react-native-babel-preset&quot;: &quot;^0.59.0&quot;,\n    &quot;react-test-renderer&quot;: &quot;16.13.1&quot;,\n    &quot;remote-redux-devtools&quot;: &quot;^0.5.16&quot;\n  },\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663075942,"post_id":73703858,"comment_id":130150417,"body_markdown":"And why wouldn&#39;t that be possible? You can simply write an `ItemWriter` that does just that.","body":"And why wouldn&#39;t that be possible? You can simply write an <code>ItemWriter</code> that does just that."},{"owner":{"account_id":19697732,"reputation":21,"user_id":14421273,"display_name":"Manoel Ferreira"},"score":0,"creation_date":1663082458,"post_id":73703858,"comment_id":130153324,"body_markdown":"M. Dinum, thanks in advance but I tried just that, could you show me any simple example on how you would do it?","body":"M. Dinum, thanks in advance but I tried just that, could you show me any simple example on how you would do it?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663135888,"post_id":73703858,"comment_id":130164902,"body_markdown":"Inject a `JdbcTemplate` execute X insert statements (1 per table). Not sure how that can be complex.","body":"Inject a <code>JdbcTemplate</code> execute X insert statements (1 per table). Not sure how that can be complex."}],"owner":{"account_id":19697732,"reputation":21,"user_id":14421273,"display_name":"Manoel Ferreira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663075732,"creation_date":1663075732,"question_id":73703858,"body_markdown":"Hope someone can help me. \r\nI have no previous experience with springbatch. I am using it for the first time.\r\nI have one .csv file and need to persist its data  into three different tables in a SqlServer database with SpringBatch. It seems to me that it is not possible to do that. Springbatch can&#39;t persist into multiple tables from one .csv file read. I&#39;ve been browsing the internet for a solution and examples but found nothing so far.\r\nCan someone more experienced tell me whether it is possible or not. If so, Can send me any example with a solution, please.\r\nThank you all.","title":"In SpringBatch how do I persist data to multiple tables from one .csv file","body":"<p>Hope someone can help me.\nI have no previous experience with springbatch. I am using it for the first time.\nI have one .csv file and need to persist its data  into three different tables in a SqlServer database with SpringBatch. It seems to me that it is not possible to do that. Springbatch can't persist into multiple tables from one .csv file read. I've been browsing the internet for a solution and examples but found nothing so far.\nCan someone more experienced tell me whether it is possible or not. If so, Can send me any example with a solution, please.\nThank you all.</p>\n"},{"tags":["java","tomcat","jersey"],"comments":[{"owner":{"account_id":26317550,"reputation":11,"user_id":19980083,"display_name":"BradB"},"score":0,"creation_date":1663014259,"post_id":73694876,"comment_id":130135379,"body_markdown":"Note, we are stuck using Tomcat 10, OpenJDK 11, and Jersey.  We build with Apache Ant, so no poms or the like. I can send the entire classpath and list of jars that get put into the war file if need be.","body":"Note, we are stuck using Tomcat 10, OpenJDK 11, and Jersey.  We build with Apache Ant, so no poms or the like. I can send the entire classpath and list of jars that get put into the war file if need be."}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663027918,"creation_date":1663027918,"answer_id":73696401,"question_id":73694876,"body_markdown":"```xml\r\n&lt;init-param&gt;\r\n    &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n    &lt;param-value&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/param-value&gt;\r\n&lt;/init-param&gt;\r\n```\r\n\r\nIf you&#39;re using Jersey 3, then `javax` needs to be changed to `jakarta`. No more Javax anywhere. ","title":"404 error when upgrading from Tomcat7 / Jersey 2.25 / Servlet 2.5 to Tomcat 10 / Jersey 3.0.8 / Servlet 5","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;init-param&gt;\n    &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n    &lt;param-value&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n<p>If you're using Jersey 3, then <code>javax</code> needs to be changed to <code>jakarta</code>. No more Javax anywhere.</p>\n"},{"tags":[],"owner":{"account_id":26317550,"reputation":11,"user_id":19980083,"display_name":"BradB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663075594,"creation_date":1663075594,"answer_id":73703831,"question_id":73694876,"body_markdown":"Ok, So I found the issue! (Thank you Paul, your comment below the code helped trigger my thoughts this morning!)\r\n\r\nI was still including the javax.* pathed classes in my Connect class for the annotations. I deleted them and re imported them all as jakarta.ws.rs.* and it recognized the Connect class as a resource.","title":"404 error when upgrading from Tomcat7 / Jersey 2.25 / Servlet 2.5 to Tomcat 10 / Jersey 3.0.8 / Servlet 5","body":"<p>Ok, So I found the issue! (Thank you Paul, your comment below the code helped trigger my thoughts this morning!)</p>\n<p>I was still including the javax.* pathed classes in my Connect class for the annotations. I deleted them and re imported them all as jakarta.ws.rs.* and it recognized the Connect class as a resource.</p>\n"}],"owner":{"account_id":26317550,"reputation":11,"user_id":19980083,"display_name":"BradB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663075594,"creation_date":1663014102,"question_id":73694876,"body_markdown":"I have a Jersey application running on Tomcat that we&#39;ve had up for several years.\r\nWe are currently upgrading to Java 11 and Tomcat 10, which necessitates Servlet 5.0 and Jersey 3.0.8\r\n\r\nAfter satisfying all of the compile needs, and any runtime errors of &quot;class not found&quot;, I am running into a problem I have been bashing my head against all day.  No matter what I try, I keep getting a 404 error.\r\n\r\nI tried changing the original application from ResourceConfig:\r\n```\r\npublic class AppConfig extends ResourceConfig {\r\n\r\n    public AppConfig() {\r\n        packages(&quot;com.carpart.webservices.rest.oauth&quot;);\r\n        property(JspMvcFeature.TEMPLATE_BASE_PATH, &quot;/&quot;);\r\n        register(JspMvcFeature.class);\r\n    }\r\n}\r\n```\r\n\r\nto a subclass of application, overriding getClasses:\r\n\r\n```\r\n  \tpublic class AppConfig extends Application {\r\n  \t\t\r\n  \t\t@Override\r\n  \t\tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n  \t\t\tSet&lt;Class&lt;?&gt;&gt; s = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n  \t\t\ts.add( Connect.class );\r\n  \t\t\treturn s;\r\n  \t\t}\r\n  \t\t\r\n  \t}\r\n```\r\n\r\nI&#39;ve tried different web.xml variations from the original filter to the wording on the Jersey documentation:\r\n\r\nOriginal:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n\r\n&lt;filter&gt;\r\n    &lt;filter-name&gt;Jersey&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/filter-class&gt;\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n        &lt;param-value&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n  &lt;/filter&gt;\r\n\r\n  &lt;filter-mapping&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;filter-name&gt;Jersey&lt;/filter-name&gt;\r\n  &lt;/filter-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nNew:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app version=&quot;5.0&quot;\r\n    xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  \r\n\t&lt;servlet&gt;\r\n\t    &lt;servlet-name&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/servlet-name&gt;\r\n\t&lt;/servlet&gt;\r\n\t \r\n\t&lt;servlet-mapping&gt;\r\n\t    &lt;servlet-name&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/servlet-name&gt;\r\n\t    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n \r\n &lt;/web-app&gt;\r\n```\r\n\r\nI&#39;ve tried setting an @ApplicationPath on the application to various values from &quot;/&quot; to &quot;/*&quot; to &quot;/api&quot; just to see if I could get some different reaction.\r\n\r\n\r\nThe Connect class is defined as such:\r\n\r\n```\r\n@Path(&quot;/connect&quot;)\r\npublic class Connect {\r\n\r\n\t@GET\r\n\t@Path(&quot;/authorize&quot;)\r\n\t@Produces(MediaType.TEXT_HTML)\r\n\tpublic Response authorize(@QueryParam(&quot;client_id&quot;) String client_app_id ) {\r\n\t\tlog.debug(&quot;Inside authorize (phase 1) GET method...&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe Connect resource class hasn&#39;t changed. from what we had.\r\n\r\nI&#39;ve read the Jersey 3.0.8 documentation several times with regards to configuring and deploying, but I am not seeing what is wrong.\r\n","title":"404 error when upgrading from Tomcat7 / Jersey 2.25 / Servlet 2.5 to Tomcat 10 / Jersey 3.0.8 / Servlet 5","body":"<p>I have a Jersey application running on Tomcat that we've had up for several years.\nWe are currently upgrading to Java 11 and Tomcat 10, which necessitates Servlet 5.0 and Jersey 3.0.8</p>\n<p>After satisfying all of the compile needs, and any runtime errors of &quot;class not found&quot;, I am running into a problem I have been bashing my head against all day.  No matter what I try, I keep getting a 404 error.</p>\n<p>I tried changing the original application from ResourceConfig:</p>\n<pre><code>public class AppConfig extends ResourceConfig {\n\n    public AppConfig() {\n        packages(&quot;com.carpart.webservices.rest.oauth&quot;);\n        property(JspMvcFeature.TEMPLATE_BASE_PATH, &quot;/&quot;);\n        register(JspMvcFeature.class);\n    }\n}\n</code></pre>\n<p>to a subclass of application, overriding getClasses:</p>\n<pre><code>    public class AppConfig extends Application {\n        \n        @Override\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n            Set&lt;Class&lt;?&gt;&gt; s = new HashSet&lt;Class&lt;?&gt;&gt;();\n            s.add( Connect.class );\n            return s;\n        }\n        \n    }\n</code></pre>\n<p>I've tried different web.xml variations from the original filter to the wording on the Jersey documentation:</p>\n<p>Original:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n\n&lt;filter&gt;\n    &lt;filter-name&gt;Jersey&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/param-value&gt;\n    &lt;/init-param&gt;\n  &lt;/filter&gt;\n\n  &lt;filter-mapping&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;filter-name&gt;Jersey&lt;/filter-name&gt;\n  &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>New:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;5.0&quot;\n    xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/servlet-name&gt;\n    &lt;/servlet&gt;\n     \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;com.carpart.webservices.rest.oauth.AppConfig&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n \n &lt;/web-app&gt;\n</code></pre>\n<p>I've tried setting an @ApplicationPath on the application to various values from &quot;/&quot; to &quot;/*&quot; to &quot;/api&quot; just to see if I could get some different reaction.</p>\n<p>The Connect class is defined as such:</p>\n<pre><code>@Path(&quot;/connect&quot;)\npublic class Connect {\n\n    @GET\n    @Path(&quot;/authorize&quot;)\n    @Produces(MediaType.TEXT_HTML)\n    public Response authorize(@QueryParam(&quot;client_id&quot;) String client_app_id ) {\n        log.debug(&quot;Inside authorize (phase 1) GET method...&quot;);\n    }\n}\n</code></pre>\n<p>The Connect resource class hasn't changed. from what we had.</p>\n<p>I've read the Jersey 3.0.8 documentation several times with regards to configuring and deploying, but I am not seeing what is wrong.</p>\n"},{"tags":["java","multithreading","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1663077095,"post_id":73703749,"comment_id":130150938,"body_markdown":"You should synchronize static methods with big care. Because if thread gets into such method it obtains a lock of the entire class so that no other threads would be able to enter any other static methods of the same class","body":"You should synchronize static methods with big care. Because if thread gets into such method it obtains a lock of the entire class so that no other threads would be able to enter any other static methods of the same class"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1663077376,"post_id":73703749,"comment_id":130151068,"body_markdown":"https://www.javamex.com/tutorials/synchronization_concurrency_semaphore2.shtml","body":"<a href=\"https://www.javamex.com/tutorials/synchronization_concurrency_semaphore2.shtml\" rel=\"nofollow noreferrer\">javamex.com/tutorials/&hellip;</a>"}],"owner":{"account_id":15395572,"reputation":337,"user_id":11233636,"display_name":"Keker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1663075550,"creation_date":1663075191,"question_id":73703749,"body_markdown":"I write selenium tests and make it parallel via testng.\r\nThere are some tests which should use resource, and that resource cant be used in tests, while it using in another test.\r\nSo to make it clear let me describe in other words, I have 10 resources, and when some test start working with one of them, only 9 another resources should be available in another tests. If all 10 resources are busy, and another test attempts to get it, it should wait until one of test will finish execution and free it&#39;s resource.\r\nIm trying to create provider which  will control desired behaviour but it looks like I get deadlocks, because it hangs out some times at synchronized method call.\r\nMy plan is provider have 2 methods get() and remove()\r\n - get() called in test method to get resource\r\n - remove() called in method annotated with @AfterMethod annotation and this method is default method of specific interface which should be implemented in class, containing resource usage\r\n\r\nHere is provider class:\r\n\r\n    public class ResourceProvider {\r\n    private static final Logger logger = LogManager.getLogger();\r\n    private static List&lt;Resource&gt; freeResources;\r\n    private static Map&lt;String, List&lt;Resource&gt;&gt; resourcesInUse;\r\n\r\n    static {\r\n        freeResources = new ArrayList&lt;&gt;();\r\n        //here is resource initialization to fill freeResources list\r\n        resourcesInUse = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public static synchronized Resource get() {\r\n        String testName = Thread.currentThread().getStackTrace()[2].getClassName()\r\n                + &quot;.&quot; + Thread.currentThread().getStackTrace()[2].getMethodName();\r\n        Resource resource = null;\r\n        logger.info(String.format(&quot;Attempt to get resource for %s test&quot;, testName));\r\n\r\n        for (int i = 0; i &lt; 240; i++) {\r\n            if (freeResources.isEmpty()) {\r\n                try {\r\n                    Thread.sleep(5_000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                resource = freeResources.get(0);\r\n\r\n                if (resourcesInUse.containsKey(testName)) {\r\n                    resourcesInUse.get(testName).add(resource);\r\n                } else {\r\n                    List&lt;Resource&gt; resources = new ArrayList&lt;&gt;();\r\n                    resources.add(resource);\r\n                    resourcesInUse.put(testName, resources);\r\n                }\r\n\r\n                freeResources.remove(resource);\r\n                break;\r\n            }\r\n        }\r\n        if (resource == null) {\r\n            throw new RuntimeException(String.format(&quot;There is no free resource for &#39;%s&#39; in 20 minutes&quot;, testName));\r\n        }\r\n        logger.info(String.format(&quot;Resource %s used in %s&quot;, resource, testName));\r\n        return resource;\r\n    }\r\n\r\n    public static synchronized boolean remove(ITestResult result) {\r\n        String testName = result.getMethod().getTestClass().getName() + &quot;.&quot; + result.getMethod().getMethodName();\r\n        return remove(testName);\r\n    }\r\n\r\n    public static synchronized boolean remove(String testName) {\r\n        boolean isTestUseResource = resourcesInUse.containsKey(testName);\r\n        if (isTestUseResource) {\r\n            logger.info(String.format(&quot;Removing %s resources, used in %s&quot;, resourcesInUse.get(testName), testName));\r\n            freeResources.addAll(resourcesInUse.get(testName));\r\n            resourcesInUse.remove(testName);\r\n        }\r\n        return isTestUseResource;\r\n    }\r\n\r\nInterface:\r\n\r\n    public interface RemoveResource {\r\n\r\n    @AfterMethod\r\n    default void removeResource(ITestResult result) {\r\n        ResourceProvider.remove(result);\r\n    }\r\n\r\n\r\nBut this code doesnt work good, it hangs out at remove() call sometimes.\r\nMay you help me to understand why I get hangs out and how to resolve it?","title":"Share limited amount of resources between different threads","body":"<p>I write selenium tests and make it parallel via testng.\nThere are some tests which should use resource, and that resource cant be used in tests, while it using in another test.\nSo to make it clear let me describe in other words, I have 10 resources, and when some test start working with one of them, only 9 another resources should be available in another tests. If all 10 resources are busy, and another test attempts to get it, it should wait until one of test will finish execution and free it's resource.\nIm trying to create provider which  will control desired behaviour but it looks like I get deadlocks, because it hangs out some times at synchronized method call.\nMy plan is provider have 2 methods get() and remove()</p>\n<ul>\n<li>get() called in test method to get resource</li>\n<li>remove() called in method annotated with @AfterMethod annotation and this method is default method of specific interface which should be implemented in class, containing resource usage</li>\n</ul>\n<p>Here is provider class:</p>\n<pre><code>public class ResourceProvider {\nprivate static final Logger logger = LogManager.getLogger();\nprivate static List&lt;Resource&gt; freeResources;\nprivate static Map&lt;String, List&lt;Resource&gt;&gt; resourcesInUse;\n\nstatic {\n    freeResources = new ArrayList&lt;&gt;();\n    //here is resource initialization to fill freeResources list\n    resourcesInUse = new HashMap&lt;&gt;();\n}\n\npublic static synchronized Resource get() {\n    String testName = Thread.currentThread().getStackTrace()[2].getClassName()\n            + &quot;.&quot; + Thread.currentThread().getStackTrace()[2].getMethodName();\n    Resource resource = null;\n    logger.info(String.format(&quot;Attempt to get resource for %s test&quot;, testName));\n\n    for (int i = 0; i &lt; 240; i++) {\n        if (freeResources.isEmpty()) {\n            try {\n                Thread.sleep(5_000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        } else {\n            resource = freeResources.get(0);\n\n            if (resourcesInUse.containsKey(testName)) {\n                resourcesInUse.get(testName).add(resource);\n            } else {\n                List&lt;Resource&gt; resources = new ArrayList&lt;&gt;();\n                resources.add(resource);\n                resourcesInUse.put(testName, resources);\n            }\n\n            freeResources.remove(resource);\n            break;\n        }\n    }\n    if (resource == null) {\n        throw new RuntimeException(String.format(&quot;There is no free resource for '%s' in 20 minutes&quot;, testName));\n    }\n    logger.info(String.format(&quot;Resource %s used in %s&quot;, resource, testName));\n    return resource;\n}\n\npublic static synchronized boolean remove(ITestResult result) {\n    String testName = result.getMethod().getTestClass().getName() + &quot;.&quot; + result.getMethod().getMethodName();\n    return remove(testName);\n}\n\npublic static synchronized boolean remove(String testName) {\n    boolean isTestUseResource = resourcesInUse.containsKey(testName);\n    if (isTestUseResource) {\n        logger.info(String.format(&quot;Removing %s resources, used in %s&quot;, resourcesInUse.get(testName), testName));\n        freeResources.addAll(resourcesInUse.get(testName));\n        resourcesInUse.remove(testName);\n    }\n    return isTestUseResource;\n}\n</code></pre>\n<p>Interface:</p>\n<pre><code>public interface RemoveResource {\n\n@AfterMethod\ndefault void removeResource(ITestResult result) {\n    ResourceProvider.remove(result);\n}\n</code></pre>\n<p>But this code doesnt work good, it hangs out at remove() call sometimes.\nMay you help me to understand why I get hangs out and how to resolve it?</p>\n"},{"tags":["java","arrays","benchmarking","selection-sort"],"comments":[{"owner":{"account_id":19381252,"reputation":332,"user_id":14172469,"display_name":"Dorian Feyerer"},"score":0,"creation_date":1663074409,"post_id":73703394,"comment_id":130149747,"body_markdown":"You defined the time measuring methods, but you don&#180;t execute it in your main method. You should start measuring time at the beginning and at the end of your loops and then calculate the difference.","body":"You defined the time measuring methods, but you don&#180;t execute it in your main method. You should start measuring time at the beginning and at the end of your loops and then calculate the difference."}],"answers":[{"tags":[],"owner":{"account_id":19385659,"reputation":186,"user_id":14175406,"display_name":"bjalexmdd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663075422,"creation_date":1663075422,"answer_id":73703791,"question_id":73703394,"body_markdown":"You need to have the code you want to measure in between the start time and end time. One way to do it is to place the code portion you want to measure in a different method then call it like this: \r\n\r\n    public class Selection_Sort{\r\n\tpublic static void sortArray(int[] array)\r\n\t{\r\n\t\r\n        int smallestNumber;\r\n        int t;\r\n\r\n        // run an outer loop i from 0 to array.length-1 to repeat the process of selection sort\r\n        for(int i = 0; i &lt; array.length-1; i++)\r\n        {\r\n            // smallest number position\r\n            smallestNumber = i;\r\n\r\n            // run an inner loop j for selection sort from i+1 to array.length\r\n            for(int j = i + 1; j &lt; array.length; j++)\r\n            {\r\n                // now check if the value at array[j] is smaller than value at array[smallestNumber]\r\n                if(array[j] &lt; array[smallestNumber])\r\n                {\r\n                    // if the value is smaller, then store the value of j to smallestNumber\r\n                    smallestNumber = j;\r\n                }\r\n            }\r\n\r\n            // outside the body of inner loop j check if array[i] &gt; array[smallestNumber]. If yes then swap the numbers\r\n            if(array[i] &gt; array[smallestNumber])\r\n            {\r\n                t = array[i];\r\n                array[i] = array[smallestNumber];\r\n                array[smallestNumber] = t;\r\n            }\r\n        }\r\n\r\n       \r\n\t}\r\n\t\r\n      public static void main(String[] args)\r\n      {\r\n          // define an array\r\n          int[] array = {12, 3, 7, 6, 2};\r\n          /* … The code being measured starts … */\r\n          long startTime = System.nanoTime();\r\n\r\n          \r\n          sortArray( array);\r\n          /* … The code being measured ends … */\r\n\r\n          long endTime = System.nanoTime();\r\n\r\n          // get the difference between the two nano time valuess\r\n          long timeElapsed = endTime - startTime;\r\n\r\n          System.out.println(&quot;Execution time in nanoseconds: &quot; + timeElapsed);\r\n          System.out.println(&quot;Execution time in milliseconds: &quot; + timeElapsed / 1000000);\r\n          \r\n          // print the sorted array\r\n          System.out.print(&quot;Selection Sort:\\n&quot;);\r\n          for(int i = 0; i &lt; array.length; i++)\r\n          {\r\n              System.out.print(array[i]+&quot; &quot;);\r\n          }\r\n          \r\n      }\r\n          \r\n      }\r\n\r\n\r\n\r\n\r\n","title":"How to implement a benchmarking method for selection sort?","body":"<p>You need to have the code you want to measure in between the start time and end time. One way to do it is to place the code portion you want to measure in a different method then call it like this:</p>\n<pre><code>public class Selection_Sort{\npublic static void sortArray(int[] array)\n{\n\n    int smallestNumber;\n    int t;\n\n    // run an outer loop i from 0 to array.length-1 to repeat the process of selection sort\n    for(int i = 0; i &lt; array.length-1; i++)\n    {\n        // smallest number position\n        smallestNumber = i;\n\n        // run an inner loop j for selection sort from i+1 to array.length\n        for(int j = i + 1; j &lt; array.length; j++)\n        {\n            // now check if the value at array[j] is smaller than value at array[smallestNumber]\n            if(array[j] &lt; array[smallestNumber])\n            {\n                // if the value is smaller, then store the value of j to smallestNumber\n                smallestNumber = j;\n            }\n        }\n\n        // outside the body of inner loop j check if array[i] &gt; array[smallestNumber]. If yes then swap the numbers\n        if(array[i] &gt; array[smallestNumber])\n        {\n            t = array[i];\n            array[i] = array[smallestNumber];\n            array[smallestNumber] = t;\n        }\n    }\n\n   \n}\n\n  public static void main(String[] args)\n  {\n      // define an array\n      int[] array = {12, 3, 7, 6, 2};\n      /* … The code being measured starts … */\n      long startTime = System.nanoTime();\n\n      \n      sortArray( array);\n      /* … The code being measured ends … */\n\n      long endTime = System.nanoTime();\n\n      // get the difference between the two nano time valuess\n      long timeElapsed = endTime - startTime;\n\n      System.out.println(&quot;Execution time in nanoseconds: &quot; + timeElapsed);\n      System.out.println(&quot;Execution time in milliseconds: &quot; + timeElapsed / 1000000);\n      \n      // print the sorted array\n      System.out.print(&quot;Selection Sort:\\n&quot;);\n      for(int i = 0; i &lt; array.length; i++)\n      {\n          System.out.print(array[i]+&quot; &quot;);\n      }\n      \n  }\n      \n  }\n</code></pre>\n"}],"owner":{"account_id":26220241,"reputation":5,"user_id":19897789,"display_name":"Javaebeginner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73703791,"answer_count":1,"score":-1,"last_activity_date":1663075422,"creation_date":1663073527,"question_id":73703394,"body_markdown":"I have tried to measure the execution time for selection sorting an array in my code. The selection sort part is working but the benchmarking method &quot;time&quot; does not even get executed. What is wrong with my &quot;time&quot; method and how do I get it to execute and measure performance time? \r\n\r\n\r\n         public class Selection_Sort\r\n    {\r\n            public static void main(String[] args)\r\n            {\r\n                // define an array\r\n                int[] array = {12, 3, 7, 6, 2};\r\n                int i;\r\n                int j;\r\n                int t;\r\n                int smallestNumber;\r\n    \r\n    \r\n                // run an outer loop i from 0 to array.length-1 to repeat the process of selection sort\r\n                for(i = 0; i &lt; array.length-1; i++)\r\n                {\r\n                    // smallest number position\r\n                    smallestNumber = i;\r\n    \r\n                    // run an inner loop j for selection sort from i+1 to array.length\r\n                    for(j = i + 1; j &lt; array.length; j++)\r\n                    {\r\n                        // now check if the value at array[j] is smaller than value at array[smallestNumber]\r\n                        if(array[j] &lt; array[smallestNumber])\r\n                        {\r\n                            // if the value is smaller, then store the value of j to smallestNumber\r\n                            smallestNumber = j;\r\n                        }\r\n                    }\r\n    \r\n                    // outside the body of inner loop j check if array[i] &gt; array[smallestNumber]. If yes then swap the numbers\r\n                    if(array[i] &gt; array[smallestNumber])\r\n                    {\r\n                        t = array[i];\r\n                        array[i] = array[smallestNumber];\r\n                        array[smallestNumber] = t;\r\n                    }\r\n                }\r\n    \r\n                // print the sorted array\r\n                System.out.print(&quot;Selection Sort:\\n&quot;);\r\n                for(i = 0; i &lt; array.length; i++)\r\n                {\r\n                    System.out.print(array[i]+&quot; &quot;);\r\n                }\r\n            }\r\n    \r\n        public static void time(String[] args)\r\n        {\r\n            /* … The code being measured starts … */\r\n            long startTime = System.nanoTime();\r\n    \r\n            /* … The code being measured ends … */\r\n    \r\n            long endTime = System.nanoTime();\r\n    \r\n            // get the difference between the two nano time valuess\r\n            long timeElapsed = endTime - startTime;\r\n    \r\n            System.out.println(&quot;Execution time in nanoseconds: &quot; + timeElapsed);\r\n            System.out.println(&quot;Execution time in milliseconds: &quot; + timeElapsed / 1000000);\r\n        }\r\n    }","title":"How to implement a benchmarking method for selection sort?","body":"<p>I have tried to measure the execution time for selection sorting an array in my code. The selection sort part is working but the benchmarking method &quot;time&quot; does not even get executed. What is wrong with my &quot;time&quot; method and how do I get it to execute and measure performance time?</p>\n<pre><code>     public class Selection_Sort\n{\n        public static void main(String[] args)\n        {\n            // define an array\n            int[] array = {12, 3, 7, 6, 2};\n            int i;\n            int j;\n            int t;\n            int smallestNumber;\n\n\n            // run an outer loop i from 0 to array.length-1 to repeat the process of selection sort\n            for(i = 0; i &lt; array.length-1; i++)\n            {\n                // smallest number position\n                smallestNumber = i;\n\n                // run an inner loop j for selection sort from i+1 to array.length\n                for(j = i + 1; j &lt; array.length; j++)\n                {\n                    // now check if the value at array[j] is smaller than value at array[smallestNumber]\n                    if(array[j] &lt; array[smallestNumber])\n                    {\n                        // if the value is smaller, then store the value of j to smallestNumber\n                        smallestNumber = j;\n                    }\n                }\n\n                // outside the body of inner loop j check if array[i] &gt; array[smallestNumber]. If yes then swap the numbers\n                if(array[i] &gt; array[smallestNumber])\n                {\n                    t = array[i];\n                    array[i] = array[smallestNumber];\n                    array[smallestNumber] = t;\n                }\n            }\n\n            // print the sorted array\n            System.out.print(&quot;Selection Sort:\\n&quot;);\n            for(i = 0; i &lt; array.length; i++)\n            {\n                System.out.print(array[i]+&quot; &quot;);\n            }\n        }\n\n    public static void time(String[] args)\n    {\n        /* … The code being measured starts … */\n        long startTime = System.nanoTime();\n\n        /* … The code being measured ends … */\n\n        long endTime = System.nanoTime();\n\n        // get the difference between the two nano time valuess\n        long timeElapsed = endTime - startTime;\n\n        System.out.println(&quot;Execution time in nanoseconds: &quot; + timeElapsed);\n        System.out.println(&quot;Execution time in milliseconds: &quot; + timeElapsed / 1000000);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1663063515,"post_id":73700992,"comment_id":130145687,"body_markdown":"Why are you ` @ComponentScan` scanning? The @SpringBootApplication will do it by itself.","body":"Why are you ` @ComponentScan` scanning? The @SpringBootApplication will do it by itself."},{"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"score":0,"creation_date":1663065181,"post_id":73700992,"comment_id":130146216,"body_markdown":"@ZahidKhan It&#39;s a requirement for the self-written security dependency my company uses. I&#39;ve tried it using without component scanning, but this doesn&#39;t work. As they don&#39;t have proper documentation and every other project they have created it uses it, this is the only way I got it working","body":"@ZahidKhan It&#39;s a requirement for the self-written security dependency my company uses. I&#39;ve tried it using without component scanning, but this doesn&#39;t work. As they don&#39;t have proper documentation and every other project they have created it uses it, this is the only way I got it working"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663066632,"post_id":73700992,"comment_id":130146692,"body_markdown":"Which version of Spring Boot are you using? When you start to add things like OAuth and JWT with some old versions that is trouble waiting to happen.","body":"Which version of Spring Boot are you using? When you start to add things like OAuth and JWT with some old versions that is trouble waiting to happen."},{"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"score":0,"creation_date":1663067160,"post_id":73700992,"comment_id":130146871,"body_markdown":"@M.Deinum Spring Boot 2.6.6","body":"@M.Deinum Spring Boot 2.6.6"}],"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663075152,"creation_date":1663063088,"question_id":73700992,"body_markdown":"I&#39;m currently building an Spring boot application that is meant as a middle-man between an SPA and another platform. When started normally, the applications runs, but tests always fails for some reasons.\r\n\r\nWhen just adding a test case to check if the context is loaded (like described [here](https://spring.io/guides/gs/testing-web/) and the code piece below), the tests automatically fail and cannot be loaded.\r\n\r\n```java\r\n    package com.company.it.gdppwaapi;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @SpringBootTest\r\n    class GdpPwaApiApplicationTests {\r\n        @Test\r\n        void contextLoads() {\r\n    \r\n        }\r\n    }\r\n```\r\n\r\nThe resulting error message that I get is as follows:\r\n\r\n```\r\n    java.lang.StackOverflowError\r\n    \tat java.util.IdentityHashMap.hash(IdentityHashMap.java:297)\r\n    \tat java.util.IdentityHashMap.put(IdentityHashMap.java:428)\r\n    \tat java.util.Collections$SetFromMap.add(Collections.java:5515)\r\n    \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:82)\r\n    \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n        ...\r\n```\r\n\r\n*The last 2 lines are continually repeated in the logs, so I&#39;ve shorten it*\r\n\r\nWhen I use IntelliJ&#39;s debugger, I also see that the following exception is thrown from the `void contextLoads()` function:\r\n[![IntelliJ&#39;s Debugger output][1]][1]\r\n\r\nI&#39;ve tried the following things already:\r\n- Setting the `SpringBootTest` annotation as follows:\r\n```java\r\n  @SpringBootTest(classes = GdpPwaApiApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n```\r\n- Extending the Application context with ```@ExtendWith(SpringExtension.class)``` in the test file\r\n- Adding the logback dependencies explicitly (As some other projects in our company explicitly state that in the `pom.xml`)\r\n```xml\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n- Adding the component scan that is in the main startup class to the test class.\r\n\r\nHas somebody had a similar solution like this and found a way to resolve it? Thank you!\r\n\r\n`pom.xml` Dependencies\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n    \t&lt;!-- Spring Boot --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.9.RELEASE&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nMain startup class\r\n\r\n```java\r\n    package com.company.it.gdppwaapi;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.company.it.security&quot;, &quot;com.company.it.gdppwaapi&quot;})\r\n    public class GdpPwaApiApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(GdpPwaApiApplication.class, args);\r\n        }\r\n    }\r\n```\r\n\r\nMain test class\r\n\r\n```java\r\n    package com.company.it.gdppwaapi;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @SpringBootTest\r\n    class GdpPwaApiApplicationTests {\r\n        @Test\r\n        void contextLoads() {\r\n    \r\n        }\r\n    }\r\n```\r\n\r\n\r\n----------\r\n\r\n**Update 1**\r\n\r\nAfter searching for a while, we found out that the security package searches for a logback configuration file. While this has resolved the `StackOverflowException`, this revealed the underlying error that was being returned:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\r\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\r\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\r\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\r\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\r\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\r\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\r\n```\r\n\r\nFrom what I read around the web, it could be Mockito related. Any help on what is could be would be appreciated.\r\n  [1]: https://i.stack.imgur.com/zqh43.png","title":"Spring Boot 2.6.6 fails to run tests, but is able to load application","body":"<p>I'm currently building an Spring boot application that is meant as a middle-man between an SPA and another platform. When started normally, the applications runs, but tests always fails for some reasons.</p>\n<p>When just adding a test case to check if the context is loaded (like described <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">here</a> and the code piece below), the tests automatically fail and cannot be loaded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.company.it.gdppwaapi;\n    \n    import org.junit.jupiter.api.Test;\n    import org.springframework.boot.test.context.SpringBootTest;\n    \n    @SpringBootTest\n    class GdpPwaApiApplicationTests {\n        @Test\n        void contextLoads() {\n    \n        }\n    }\n</code></pre>\n<p>The resulting error message that I get is as follows:</p>\n<pre><code>    java.lang.StackOverflowError\n        at java.util.IdentityHashMap.hash(IdentityHashMap.java:297)\n        at java.util.IdentityHashMap.put(IdentityHashMap.java:428)\n        at java.util.Collections$SetFromMap.add(Collections.java:5515)\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:82)\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n        ...\n</code></pre>\n<p><em>The last 2 lines are continually repeated in the logs, so I've shorten it</em></p>\n<p>When I use IntelliJ's debugger, I also see that the following exception is thrown from the <code>void contextLoads()</code> function:\n[![IntelliJ's Debugger output][1]][1]</p>\n<p>I've tried the following things already:</p>\n<ul>\n<li>Setting the <code>SpringBootTest</code> annotation as follows:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>  @SpringBootTest(classes = GdpPwaApiApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<ul>\n<li>Extending the Application context with <code>@ExtendWith(SpringExtension.class)</code> in the test file</li>\n<li>Adding the logback dependencies explicitly (As some other projects in our company explicitly state that in the <code>pom.xml</code>)</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Adding the component scan that is in the main startup class to the test class.</li>\n</ul>\n<p>Has somebody had a similar solution like this and found a way to resolve it? Thank you!</p>\n<p><code>pom.xml</code> Dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;!-- Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Main startup class</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.company.it.gdppwaapi;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.context.annotation.ComponentScan;\n    \n    @SpringBootApplication\n    @ComponentScan({&quot;com.company.it.security&quot;, &quot;com.company.it.gdppwaapi&quot;})\n    public class GdpPwaApiApplication {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(GdpPwaApiApplication.class, args);\n        }\n    }\n</code></pre>\n<p>Main test class</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.company.it.gdppwaapi;\n    \n    import org.junit.jupiter.api.Test;\n    import org.springframework.boot.test.context.SpringBootTest;\n    \n    @SpringBootTest\n    class GdpPwaApiApplicationTests {\n        @Test\n        void contextLoads() {\n    \n        }\n    }\n</code></pre>\n<hr />\n<p><strong>Update 1</strong></p>\n<p>After searching for a while, we found out that the security package searches for a logback configuration file. While this has resolved the <code>StackOverflowException</code>, this revealed the underlying error that was being returned:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Failed to unwrap proxied object\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\nCaused by: java.lang.IllegalStateException: Failed to unwrap proxied object\n</code></pre>\n<p>From what I read around the web, it could be Mockito related. Any help on what is could be would be appreciated.\n[1]: <a href=\"https://i.stack.imgur.com/zqh43.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/zqh43.png</a></p>\n"},{"tags":["java","json","hashmap","streaming","jsonstream"],"answers":[{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663075106,"creation_date":1663075106,"answer_id":73703727,"question_id":47968816,"body_markdown":"Below is an example of writing a large array of objects (`HashMap` here but could be any other) with `writePOJOField` method. I use *jackson-core* and *jackson-databind* (see [https://github.com/FasterXML/jackson][1]).\r\n\r\n    // given\r\n    ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n    JsonFactory jfactory = new JsonFactory(new ObjectMapper());\r\n    JsonGenerator jGenerator = jfactory.createGenerator(stream, JsonEncoding.UTF8);\r\n    \r\n    // when\r\n    jGenerator.writeStartObject();\r\n    jGenerator.writeStringField(&quot;name&quot;, &quot;Tom&quot;);\r\n    jGenerator.writeNumberField(&quot;age&quot;, 25);\r\n    \r\n    jGenerator.writeFieldName(&quot;objects&quot;);\r\n    jGenerator.writeStartArray();\r\n    IntStream.range(0, 3).forEach(it -&gt; {\r\n        try {\r\n            jGenerator.writePOJO(new HashMap&lt;String, String&gt;() {{\r\n                put(&quot;key1&quot;, &quot;value1&quot;);\r\n                put(&quot;key2&quot;, &quot;value2&quot;);\r\n            }});\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n        }\r\n    });\r\n    jGenerator.writeEndArray();\r\n    \r\n    jGenerator.writeFieldName(&quot;strings&quot;);\r\n    jGenerator.writeStartArray();\r\n    jGenerator.writeString(&quot;textX&quot;);\r\n    jGenerator.writeString(&quot;textY&quot;);\r\n    IntStream.range(0, 3).forEach(it -&gt; {\r\n        try {\r\n            jGenerator.writeString(&quot;text-&quot; + it);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n        }\r\n    });\r\n    jGenerator.writeEndArray();\r\n    \r\n    jGenerator.writeNullField(&quot;nullField&quot;);\r\n    jGenerator.writeEndObject();\r\n    jGenerator.close();\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"How to write list of maps using Jackson Streaming API","body":"<p>Below is an example of writing a large array of objects (<code>HashMap</code> here but could be any other) with <code>writePOJOField</code> method. I use <em>jackson-core</em> and <em>jackson-databind</em> (see <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson</a>).</p>\n<pre><code>// given\nByteArrayOutputStream stream = new ByteArrayOutputStream();\nJsonFactory jfactory = new JsonFactory(new ObjectMapper());\nJsonGenerator jGenerator = jfactory.createGenerator(stream, JsonEncoding.UTF8);\n\n// when\njGenerator.writeStartObject();\njGenerator.writeStringField(&quot;name&quot;, &quot;Tom&quot;);\njGenerator.writeNumberField(&quot;age&quot;, 25);\n\njGenerator.writeFieldName(&quot;objects&quot;);\njGenerator.writeStartArray();\nIntStream.range(0, 3).forEach(it -&gt; {\n    try {\n        jGenerator.writePOJO(new HashMap&lt;String, String&gt;() {{\n            put(&quot;key1&quot;, &quot;value1&quot;);\n            put(&quot;key2&quot;, &quot;value2&quot;);\n        }});\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n    }\n});\njGenerator.writeEndArray();\n\njGenerator.writeFieldName(&quot;strings&quot;);\njGenerator.writeStartArray();\njGenerator.writeString(&quot;textX&quot;);\njGenerator.writeString(&quot;textY&quot;);\nIntStream.range(0, 3).forEach(it -&gt; {\n    try {\n        jGenerator.writeString(&quot;text-&quot; + it);\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n    }\n});\njGenerator.writeEndArray();\n\njGenerator.writeNullField(&quot;nullField&quot;);\njGenerator.writeEndObject();\njGenerator.close();\n</code></pre>\n"}],"owner":{"account_id":11915182,"reputation":33,"user_id":8719286,"display_name":"Balaji R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663075106,"creation_date":1514206181,"question_id":47968816,"body_markdown":"Going through some reading, I saw below example for Jackson Streaming API. They are writing for one object (kind of one map). Can any one please help me on how to write multiple objects. Like a List of Maps.\r\n\r\n    jsonFactory jfactory = new JsonFactory();\r\n\r\n\t/*** write to file ***/\r\n\tJsonGenerator jGenerator = jfactory.createJsonGenerator(new File(\r\n\t\t\t&quot;c:\\\\user.json&quot;), JsonEncoding.UTF8);\r\n\tjGenerator.writeStartObject(); // {\r\n\r\n\tjGenerator.writeStringField(&quot;name&quot;, &quot;mkyong&quot;); // &quot;name&quot; : &quot;mkyong&quot;\r\n\tjGenerator.writeNumberField(&quot;age&quot;, 29); // &quot;age&quot; : 29\r\n\r\n\tjGenerator.writeFieldName(&quot;messages&quot;); // &quot;messages&quot; :\r\n\tjGenerator.writeStartArray(); // [\r\n\r\n\tjGenerator.writeString(&quot;msg 1&quot;); // &quot;msg 1&quot;\r\n\tjGenerator.writeString(&quot;msg 2&quot;); // &quot;msg 2&quot;\r\n\tjGenerator.writeString(&quot;msg 3&quot;); // &quot;msg 3&quot;\r\n\r\n\tjGenerator.writeEndArray(); // ]\r\n\r\n\tjGenerator.writeEndObject(); // }\r\n\r\n\tjGenerator.close();\r\n\r\n\r\nI tried looping and got below result.\r\n\r\n    {“Item1label1”:”Item1value1”,”Item1label2”:”Item1value2&quot;} {“Item2label1”:”Item2value1”,”Item2label2”:”Item2value2&quot;}   \r\n\r\n  But this is not a valid JSON. As something is missing in between two objects.\r\n What code has to be made to make it valid JSON.\r\n","title":"How to write list of maps using Jackson Streaming API","body":"<p>Going through some reading, I saw below example for Jackson Streaming API. They are writing for one object (kind of one map). Can any one please help me on how to write multiple objects. Like a List of Maps.</p>\n\n<pre><code>jsonFactory jfactory = new JsonFactory();\n\n/*** write to file ***/\nJsonGenerator jGenerator = jfactory.createJsonGenerator(new File(\n        \"c:\\\\user.json\"), JsonEncoding.UTF8);\njGenerator.writeStartObject(); // {\n\njGenerator.writeStringField(\"name\", \"mkyong\"); // \"name\" : \"mkyong\"\njGenerator.writeNumberField(\"age\", 29); // \"age\" : 29\n\njGenerator.writeFieldName(\"messages\"); // \"messages\" :\njGenerator.writeStartArray(); // [\n\njGenerator.writeString(\"msg 1\"); // \"msg 1\"\njGenerator.writeString(\"msg 2\"); // \"msg 2\"\njGenerator.writeString(\"msg 3\"); // \"msg 3\"\n\njGenerator.writeEndArray(); // ]\n\njGenerator.writeEndObject(); // }\n\njGenerator.close();\n</code></pre>\n\n<p>I tried looping and got below result.</p>\n\n<pre><code>{“Item1label1”:”Item1value1”,”Item1label2”:”Item1value2\"} {“Item2label1”:”Item2value1”,”Item2label2”:”Item2value2\"}   \n</code></pre>\n\n<p>But this is not a valid JSON. As something is missing in between two objects.\n What code has to be made to make it valid JSON.</p>\n"},{"tags":["java","json","jackson","jackson2"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1506673334,"post_id":46484228,"comment_id":79923727,"body_markdown":"You gave an example of data you don&#39;t want (two objects, which makes perfect sense that it is happening since you write code to generate two objects). So what data *do* you want? Give an example of that too.","body":"You gave an example of data you don&#39;t want (two objects, which makes perfect sense that it is happening since you write code to generate two objects). So what data <i>do</i> you want? Give an example of that too."},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1506678141,"post_id":46484228,"comment_id":79926662,"body_markdown":"Question updated","body":"Question updated"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1506680439,"post_id":46484228,"comment_id":79927895,"body_markdown":"You could always use `ObjectMapper` insteed.","body":"You could always use <code>ObjectMapper</code> insteed."}],"answers":[{"tags":[],"owner":{"account_id":47141,"reputation":22981,"user_id":139506,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506678635,"creation_date":1506678338,"answer_id":46486172,"question_id":46484228,"body_markdown":"Just don&#39;t call `writeEndObject()` after you call `writeBinary` It should look like:\r\n\r\n    final JsonGenerator generator = new JsonFactory().createGenerator(System.out);\r\n            generator.writeStartObject();\r\n            generator.writeFieldName(&quot;data&quot;);\r\n            generator.writeBinary(new FileInputStream(new File(&quot;D:\\\\!Temp\\\\elasticsearch\\\\pdf.pdf&quot;)), -1);\r\n            generator.writeObject(object);\r\n            generator.writeEndObject();\r\n            generator.close();","title":"How inline object via jackson JsonGenerator?","body":"<p>Just don't call <code>writeEndObject()</code> after you call <code>writeBinary</code> It should look like:</p>\n\n<pre><code>final JsonGenerator generator = new JsonFactory().createGenerator(System.out);\n        generator.writeStartObject();\n        generator.writeFieldName(\"data\");\n        generator.writeBinary(new FileInputStream(new File(\"D:\\\\!Temp\\\\elasticsearch\\\\pdf.pdf\")), -1);\n        generator.writeObject(object);\n        generator.writeEndObject();\n        generator.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10699736,"reputation":133,"user_id":7875532,"display_name":"fxshlein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656419924,"creation_date":1656419924,"answer_id":72786594,"question_id":46484228,"body_markdown":"The `JsonSerializer` type has an `unwrappingSerializer` method that &quot;unwraps&quot; the serializer. For the `BeanSerialier` (which is the serializer used for writing objects), the returned serializer will simply not write the start and end of the object.\r\n\r\nThe provided example, rewritten to use this, looks like this:\r\n```java\r\nfinal SerializerProvider serializerProvider = /* obtain serializer provider */;\r\nfinal JsonSerializer&lt;Object&gt; objectSerializer = serializerProvider.findValueSerializer(object.getClass());\r\nfinal JsonSerializer&lt;Object&gt; unwrappingSerializer = objectSerializer.unwrappingSerializer(NameTransformer.NOP);\r\n\r\nfinal JsonGenerator generator = new JsonFactory().createGenerator(System.out);\r\ngenerator.writeStartObject();\r\ngenerator.writeFieldName(&quot;data&quot;);\r\ngenerator.writeBinary(new FileInputStream(new File(&quot;D:\\\\!Temp\\\\elasticsearch\\\\pdf.pdf&quot;)), -1);\r\nunwrappingSerializer.serialize(object, generator, serializerProvider);\r\ngenerator.close();\r\n```\r\n\r\nObtaining the `SerializerProvider` depends on the actual implementation, as the provided example does not use an `ObjectCodec`. Optimally, this code would live inside the `serialize` method of a custom serializer, where the `SerializerProvider` is given as an argument.\r\n\r\nThe `NameTransformer` passed to `unwrappingSerializer` can be used to easily map the names, for example by prefixing them. Using `NameTransformer.NOP` just writes the names as they are written by the original serializer.\r\n\r\n","title":"How inline object via jackson JsonGenerator?","body":"<p>The <code>JsonSerializer</code> type has an <code>unwrappingSerializer</code> method that &quot;unwraps&quot; the serializer. For the <code>BeanSerialier</code> (which is the serializer used for writing objects), the returned serializer will simply not write the start and end of the object.</p>\n<p>The provided example, rewritten to use this, looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final SerializerProvider serializerProvider = /* obtain serializer provider */;\nfinal JsonSerializer&lt;Object&gt; objectSerializer = serializerProvider.findValueSerializer(object.getClass());\nfinal JsonSerializer&lt;Object&gt; unwrappingSerializer = objectSerializer.unwrappingSerializer(NameTransformer.NOP);\n\nfinal JsonGenerator generator = new JsonFactory().createGenerator(System.out);\ngenerator.writeStartObject();\ngenerator.writeFieldName(&quot;data&quot;);\ngenerator.writeBinary(new FileInputStream(new File(&quot;D:\\\\!Temp\\\\elasticsearch\\\\pdf.pdf&quot;)), -1);\nunwrappingSerializer.serialize(object, generator, serializerProvider);\ngenerator.close();\n</code></pre>\n<p>Obtaining the <code>SerializerProvider</code> depends on the actual implementation, as the provided example does not use an <code>ObjectCodec</code>. Optimally, this code would live inside the <code>serialize</code> method of a custom serializer, where the <code>SerializerProvider</code> is given as an argument.</p>\n<p>The <code>NameTransformer</code> passed to <code>unwrappingSerializer</code> can be used to easily map the names, for example by prefixing them. Using <code>NameTransformer.NOP</code> just writes the names as they are written by the original serializer.</p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663074559,"creation_date":1663074246,"answer_id":73703536,"question_id":46484228,"body_markdown":"You basically want to merge `object` variable into the `generator`&#39;s target object. If you can access `object` variable and you know its properties than you can simply use `generator`&#39;s methods to write them, e.g.:\r\n\r\n    generator.writeStringField(&quot;id&quot;, object.id)\r\n\r\nSome properties might be complex objects (aka POJO) where you&#39;ll have to use `writePOJOField(String fieldName, Object pojo)`; for `writePOJOField` to work you&#39;ll have to properly instantiate your `JsonFactory`, e.g. `new JsonFactory(new ObjectMapper())`. See also https://stackoverflow.com/a/73702885/4681265.  \r\n\r\nThe other more generic approach is to generate the `object` JSON and then write it into `generator`&#39;s output using:\r\n\r\n    // see http://fasterxml.github.io/jackson-core/javadoc/2.13/\r\n    generator.writeRaw(char[] text, int offset, int len)\r\nby skipping the `object` JSON&#39;s opening and enclosing braces.","title":"How inline object via jackson JsonGenerator?","body":"<p>You basically want to merge <code>object</code> variable into the <code>generator</code>'s target object. If you can access <code>object</code> variable and you know its properties than you can simply use <code>generator</code>'s methods to write them, e.g.:</p>\n<pre><code>generator.writeStringField(&quot;id&quot;, object.id)\n</code></pre>\n<p>Some properties might be complex objects (aka POJO) where you'll have to use <code>writePOJOField(String fieldName, Object pojo)</code>; for <code>writePOJOField</code> to work you'll have to properly instantiate your <code>JsonFactory</code>, e.g. <code>new JsonFactory(new ObjectMapper())</code>. See also <a href=\"https://stackoverflow.com/a/73702885/4681265\">https://stackoverflow.com/a/73702885/4681265</a>.</p>\n<p>The other more generic approach is to generate the <code>object</code> JSON and then write it into <code>generator</code>'s output using:</p>\n<pre><code>// see http://fasterxml.github.io/jackson-core/javadoc/2.13/\ngenerator.writeRaw(char[] text, int offset, int len)\n</code></pre>\n<p>by skipping the <code>object</code> JSON's opening and enclosing braces.</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1663074559,"creation_date":1506671577,"question_id":46484228,"body_markdown":"Consider example:\r\n\r\n    import com.fasterxml.jackson.core.JsonFactory;\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n\r\n    public class Exmaple {\r\n        public static void main (String[] args) throws Exception {\r\n\r\n            Object object = new Object() {\r\n                private String id = &quot;someId&quot;;\r\n            };\r\n\r\n            final JsonGenerator generator = new JsonFactory().createGenerator(System.out);\r\n            generator.writeStartObject();\r\n            generator.writeFieldName(&quot;data&quot;);\r\n            generator.writeBinary(new FileInputStream(new File(&quot;D:\\\\!Temp\\\\elasticsearch\\\\pdf.pdf&quot;)), -1);\r\n            generator.writeEndObject();\r\n            generator.writeObject(object);\r\n            generator.close();\r\n        }\r\n    }\r\n\r\nThe goal is to add all fields from `object` during json streaming. With that code I got:\r\n\r\n    {\r\n      &quot;data&quot;: &quot;JVBERi0xLjMKJ=&quot;\r\n    } {\r\n      &quot;id&quot;: &quot;someId&quot;,\r\n    }\r\n\r\nHow tell `jackson` to not write `{}` from object?\r\n\r\n**UPDATED**\r\n\r\nThe exprected result is (e.g. `data` + all keys from java object):\r\n\r\n    {\r\n      &quot;data&quot;: &quot;JVBERi0xLjMKJ=&quot;,\r\n      &quot;id&quot;: &quot;someId&quot;,\r\n    }","title":"How inline object via jackson JsonGenerator?","body":"<p>Consider example:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.core.JsonGenerator;\n\nimport java.io.File;\nimport java.io.FileInputStream;\n\npublic class Exmaple {\n    public static void main (String[] args) throws Exception {\n\n        Object object = new Object() {\n            private String id = \"someId\";\n        };\n\n        final JsonGenerator generator = new JsonFactory().createGenerator(System.out);\n        generator.writeStartObject();\n        generator.writeFieldName(\"data\");\n        generator.writeBinary(new FileInputStream(new File(\"D:\\\\!Temp\\\\elasticsearch\\\\pdf.pdf\")), -1);\n        generator.writeEndObject();\n        generator.writeObject(object);\n        generator.close();\n    }\n}\n</code></pre>\n\n<p>The goal is to add all fields from <code>object</code> during json streaming. With that code I got:</p>\n\n<pre><code>{\n  \"data\": \"JVBERi0xLjMKJ=\"\n} {\n  \"id\": \"someId\",\n}\n</code></pre>\n\n<p>How tell <code>jackson</code> to not write <code>{}</code> from object?</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>The exprected result is (e.g. <code>data</code> + all keys from java object):</p>\n\n<pre><code>{\n  \"data\": \"JVBERi0xLjMKJ=\",\n  \"id\": \"someId\",\n}\n</code></pre>\n"},{"tags":["java","arduino","processing","arduino-ide"],"answers":[{"tags":[],"owner":{"account_id":3048887,"reputation":101,"user_id":4261703,"display_name":"justincouch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421799211,"creation_date":1421799211,"answer_id":28057538,"question_id":28055194,"body_markdown":"The code posted should work. The things to check here are whether you are using the correct serial port. Try printing out the list of serial ports in setup:\r\n\r\n    println( Serial.list() );\r\n\r\nIf your code is correct, the port you want will be the second one. If that&#39;s not correct, change the number of the array index when you specify portName.\r\n\r\nThe other thing to check is whether the Arduino is actually printing what you think it&#39;s printing. When you open up the Serial Monitor, is it actually printing &quot;Hello, world!&quot; a bunch of times?","title":"Return null result from reading data from Arduino into Processing","body":"<p>The code posted should work. The things to check here are whether you are using the correct serial port. Try printing out the list of serial ports in setup:</p>\n\n<pre><code>println( Serial.list() );\n</code></pre>\n\n<p>If your code is correct, the port you want will be the second one. If that's not correct, change the number of the array index when you specify portName.</p>\n\n<p>The other thing to check is whether the Arduino is actually printing what you think it's printing. When you open up the Serial Monitor, is it actually printing \"Hello, world!\" a bunch of times?</p>\n"},{"tags":[],"owner":{"account_id":6104063,"reputation":11,"user_id":4762195,"display_name":"Mara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663074320,"creation_date":1428473527,"answer_id":29507239,"question_id":28055194,"body_markdown":"In Processing, if you put in:\r\n\r\n    if (val == null) {\r\n        val = &quot;0&quot;;\r\n    }\r\n\r\nit should work. It&#39;ll keep printing &#39;val&#39; without halting the program, but it&#39;ll return a value of &quot;0&quot; instead of &quot;null&quot;.\r\n\r\nBasically, you have to tell Processing to run even if it receives a &quot;null&quot; value.\r\n\r\n","title":"Return null result from reading data from Arduino into Processing","body":"<p>In Processing, if you put in:</p>\n<pre><code>if (val == null) {\n    val = &quot;0&quot;;\n}\n</code></pre>\n<p>it should work. It'll keep printing 'val' without halting the program, but it'll return a value of &quot;0&quot; instead of &quot;null&quot;.</p>\n<p>Basically, you have to tell Processing to run even if it receives a &quot;null&quot; value.</p>\n"}],"owner":{"account_id":1580764,"reputation":593,"user_id":1466201,"accept_rate":0,"display_name":"Fortran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663074320,"creation_date":1421788208,"question_id":28055194,"body_markdown":"I want to read data from Arduino. My Arduino code is simple:\r\n\r\n    void setup()\r\n    {\r\n        // Initialize serial communications at a 9600 baud rate\r\n        Serial.begin(9600);\r\n    }\r\n\r\n    void loop()\r\n    {\r\n        // Send &#39;Hello, world!&#39; over the serial port\r\n        Serial.println(&quot;Hello, World!!&quot;);\r\n        // Wait 100 milliseconds so we don&#39;t drive ourselves crazy\r\n        delay(100);\r\n    }\r\n\r\nIn Processing I have the following code\r\n\r\n    import processing.serial.*;\r\n\r\n    Serial myPort;\r\n    String val;\r\n\r\n    void setup()  {\r\n\r\n        String portName = Serial.list()[1];\r\n        myPort = new Serial(this, portName, 9600);\r\n    }\r\n\r\n    void draw() {\r\n\r\n        if (myPort.available() &gt; 0)\r\n        {\r\n            // If data is available,\r\n            val = myPort.readStringUntil(&#39;\\n&#39;);\r\n        }\r\n        println(val); // pr\r\n    }\r\n\r\nBut *val* is always Null. I don&#39;t understand why it returns this value every time. The port is available.\r\n\r\n\r\n","title":"Return null result from reading data from Arduino into Processing","body":"<p>I want to read data from Arduino. My Arduino code is simple:</p>\n<pre><code>void setup()\n{\n    // Initialize serial communications at a 9600 baud rate\n    Serial.begin(9600);\n}\n\nvoid loop()\n{\n    // Send 'Hello, world!' over the serial port\n    Serial.println(&quot;Hello, World!!&quot;);\n    // Wait 100 milliseconds so we don't drive ourselves crazy\n    delay(100);\n}\n</code></pre>\n<p>In Processing I have the following code</p>\n<pre><code>import processing.serial.*;\n\nSerial myPort;\nString val;\n\nvoid setup()  {\n\n    String portName = Serial.list()[1];\n    myPort = new Serial(this, portName, 9600);\n}\n\nvoid draw() {\n\n    if (myPort.available() &gt; 0)\n    {\n        // If data is available,\n        val = myPort.readStringUntil('\\n');\n    }\n    println(val); // pr\n}\n</code></pre>\n<p>But <em>val</em> is always Null. I don't understand why it returns this value every time. The port is available.</p>\n"},{"tags":["java","spring","spring-boot","spring-retry","recover"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1663061871,"post_id":73700157,"comment_id":130145046,"body_markdown":"Maybe a conflict with the SneakyThrows?","body":"Maybe a conflict with the SneakyThrows?"},{"owner":{"account_id":25384004,"reputation":11,"user_id":19196025,"display_name":"IdanOst"},"score":0,"creation_date":1663067781,"post_id":73700157,"comment_id":130147099,"body_markdown":"I thought about that as well, but retry is working just fine so I don&#39;t think its the issue but I&#39;m not sure","body":"I thought about that as well, but retry is working just fine so I don&#39;t think its the issue but I&#39;m not sure"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1663074284,"post_id":73700157,"comment_id":130149704,"body_markdown":"Yep - `UndeclaredThrowableException` is thrown.","body":"Yep - <code>UndeclaredThrowableException</code> is thrown."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663074268,"creation_date":1663074268,"answer_id":73703540,"question_id":73700157,"body_markdown":"`@SneakyThrows` causes the exception to be wrapped in an `UndeclaredThrowableException`. So we don&#39;t find a matching `@Recover` method.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XpF0o.png","title":"Spring - recover annotation is not been called","body":"<p><code>@SneakyThrows</code> causes the exception to be wrapped in an <code>UndeclaredThrowableException</code>. So we don't find a matching <code>@Recover</code> method.</p>\n<p><a href=\"https://i.stack.imgur.com/XpF0o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XpF0o.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25384004,"reputation":11,"user_id":19196025,"display_name":"IdanOst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663074268,"creation_date":1663059375,"question_id":73700157,"body_markdown":"I&#39;m using Retryable and Recover annotation in spring, but the recover method is not triggered after all retry attempts\r\n\r\nMy code:\r\n\r\nin the application class I added - @EnableRetry(proxyTargetClass=true)\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class OpenAuditMessageReceiver implements MessageListener {\r\n    \r\n        @Autowired\r\n        private MessageReceiver messageReceiver;\r\n    \r\n        @SneakyThrows\r\n        @Override\r\n        @Retryable(value = {SQLException.class} , maxAttempts = 2, backoff = @Backoff(delay = 2000))\r\n        public void onMessage(Message message, byte[] pattern) {\r\n            try {\r\n                log.info(&quot;OpenAuditMessageReceiver got {}&quot;, new String(message.getBody()));\r\n                OpenAuditDTO openAuditDTO = messageReceiver.getObjectMapper().readValue(message.toString(), OpenAuditDTO.class);\r\n                log.debug(&quot;Consumed - {}&quot;, openAuditDTO);\r\n                messageReceiver.getAuditEntityRepository().insert(openAuditDTO);\r\n                log.info(&quot;Successfully saved Audit Information&quot;);\r\n            } catch (Exception e){\r\n                log.error(&quot;Error occurred while handling {}&quot;, message, e);\r\n                if(e instanceof SQLException){\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Recover\r\n        public void recover(SQLException e, Message message, byte[] pattern){\r\n            log.info(&quot;#####    handle Recovery Mechanism    #####&quot;);\r\n        }\r\n    }\r\n","title":"Spring - recover annotation is not been called","body":"<p>I'm using Retryable and Recover annotation in spring, but the recover method is not triggered after all retry attempts</p>\n<p>My code:</p>\n<p>in the application class I added - @EnableRetry(proxyTargetClass=true)</p>\n<pre><code>@Slf4j\n@Component\npublic class OpenAuditMessageReceiver implements MessageListener {\n\n    @Autowired\n    private MessageReceiver messageReceiver;\n\n    @SneakyThrows\n    @Override\n    @Retryable(value = {SQLException.class} , maxAttempts = 2, backoff = @Backoff(delay = 2000))\n    public void onMessage(Message message, byte[] pattern) {\n        try {\n            log.info(&quot;OpenAuditMessageReceiver got {}&quot;, new String(message.getBody()));\n            OpenAuditDTO openAuditDTO = messageReceiver.getObjectMapper().readValue(message.toString(), OpenAuditDTO.class);\n            log.debug(&quot;Consumed - {}&quot;, openAuditDTO);\n            messageReceiver.getAuditEntityRepository().insert(openAuditDTO);\n            log.info(&quot;Successfully saved Audit Information&quot;);\n        } catch (Exception e){\n            log.error(&quot;Error occurred while handling {}&quot;, message, e);\n            if(e instanceof SQLException){\n                throw e;\n            }\n        }\n    }\n\n    @Recover\n    public void recover(SQLException e, Message message, byte[] pattern){\n        log.info(&quot;#####    handle Recovery Mechanism    #####&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1663068111,"post_id":73702009,"comment_id":130147217,"body_markdown":"`return arr[j];`, that will return the value at that array index, but you want to return the value `j` instead, the actual array index.","body":"<code>return arr[j];</code>, that will return the value at that array index, but you want to return the value <code>j</code> instead, the actual array index."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663073984,"creation_date":1663073984,"answer_id":73703479,"question_id":73702009,"body_markdown":"The `for` loop, in method `Calc` will only execute, at most, one iteration since it contains an `if-else` where both the `if` returns a value and the `else` returns a value. If you run your code with a debugger, you will discover that.\r\n\r\nWhen I copied your code to my Eclipse, it warned me that the `j--` part of the `for` loop is *dead code*. In other words it will never be executed because of the `if-else` statement in the loop body.\r\n\r\nIf `lsum` does not equal `sum` then you need to continue with the next loop iteration. Hence you need to remove the `else`.\r\n\r\nAlso, method `Calc` needs to return an index and not an element. Hence rather than\r\n```java\r\nreturn arr[j];\r\n```\r\nyou should\r\n```java\r\nreturn j;\r\n```\r\nIf the `for` loop terminates, that means that you did not find a pivot point and so the method should return -1 (negative one) and not zero. Hence the last line of method `Calc` should be\r\n```java\r\nreturn -1;\r\n```\r\nAlso, since you are iterating the array backwards, `lsum` should initially contain the sum of all the array elements and `sum` should be zero. In fact you either need to reverse `sum` and `lsum` or iterate the array forwards instead of backwards.\r\n\r\nWhen iterating the array backwards, the terminating condition should be\r\n```java\r\nj &gt;= 0\r\n```\r\nand not\r\n```java\r\nj &gt; 0\r\n```\r\nbecause then you don&#39;t iterate the first element in the array.\r\n\r\nLastly, you need to adjust the value of `sum` **after** you test whether `sum` equals `lsum`.\r\n\r\nHere is my rewrite of your code, containing the changes that I have described, above. I added `print` statements so you can [partially] see what is happening but as I said before, you need to learn how to debug your code.\r\n```java\r\nstatic int Calc(int arr[]){\r\n    int sum = 0;\r\n    int lsum = 0;\r\n    //this loop is for sum\r\n    for(int i =0; i &lt; arr.length; i++){\r\n        lsum += arr[i];\r\n    }\r\n    //this loop is for calculating sum from reverse\r\n    for(int j= arr.length - 1; j &gt;= 0; j--){\r\n        lsum -= arr[j];\r\n        System.out.printf(&quot;%d. lsum = %d , sum = %d%n&quot;, j, lsum, sum);\r\n        if(lsum == sum){\r\n            System.out.println(&quot;Returning: &quot; + j);\r\n            return j;\r\n        }\r\n        sum += arr[j];\r\n    }\r\n    System.out.println(&quot;Returning: -1&quot;);\r\n    return -1; \r\n}\r\n```\r\nWhen I call method `Calc` with the sample array from your question, the following is printed:\r\n```none\r\n5. lsum = 22 , sum = 0\r\n4. lsum = 17 , sum = 6\r\n3. lsum = 11 , sum = 11\r\nReturning: 3\r\n```\r\n","title":"Finding the pivot point for the given array. Java","body":"<p>The <code>for</code> loop, in method <code>Calc</code> will only execute, at most, one iteration since it contains an <code>if-else</code> where both the <code>if</code> returns a value and the <code>else</code> returns a value. If you run your code with a debugger, you will discover that.</p>\n<p>When I copied your code to my Eclipse, it warned me that the <code>j--</code> part of the <code>for</code> loop is <em>dead code</em>. In other words it will never be executed because of the <code>if-else</code> statement in the loop body.</p>\n<p>If <code>lsum</code> does not equal <code>sum</code> then you need to continue with the next loop iteration. Hence you need to remove the <code>else</code>.</p>\n<p>Also, method <code>Calc</code> needs to return an index and not an element. Hence rather than</p>\n<pre class=\"lang-java prettyprint-override\"><code>return arr[j];\n</code></pre>\n<p>you should</p>\n<pre class=\"lang-java prettyprint-override\"><code>return j;\n</code></pre>\n<p>If the <code>for</code> loop terminates, that means that you did not find a pivot point and so the method should return -1 (negative one) and not zero. Hence the last line of method <code>Calc</code> should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>return -1;\n</code></pre>\n<p>Also, since you are iterating the array backwards, <code>lsum</code> should initially contain the sum of all the array elements and <code>sum</code> should be zero. In fact you either need to reverse <code>sum</code> and <code>lsum</code> or iterate the array forwards instead of backwards.</p>\n<p>When iterating the array backwards, the terminating condition should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>j &gt;= 0\n</code></pre>\n<p>and not</p>\n<pre class=\"lang-java prettyprint-override\"><code>j &gt; 0\n</code></pre>\n<p>because then you don't iterate the first element in the array.</p>\n<p>Lastly, you need to adjust the value of <code>sum</code> <strong>after</strong> you test whether <code>sum</code> equals <code>lsum</code>.</p>\n<p>Here is my rewrite of your code, containing the changes that I have described, above. I added <code>print</code> statements so you can [partially] see what is happening but as I said before, you need to learn how to debug your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int Calc(int arr[]){\n    int sum = 0;\n    int lsum = 0;\n    //this loop is for sum\n    for(int i =0; i &lt; arr.length; i++){\n        lsum += arr[i];\n    }\n    //this loop is for calculating sum from reverse\n    for(int j= arr.length - 1; j &gt;= 0; j--){\n        lsum -= arr[j];\n        System.out.printf(&quot;%d. lsum = %d , sum = %d%n&quot;, j, lsum, sum);\n        if(lsum == sum){\n            System.out.println(&quot;Returning: &quot; + j);\n            return j;\n        }\n        sum += arr[j];\n    }\n    System.out.println(&quot;Returning: -1&quot;);\n    return -1; \n}\n</code></pre>\n<p>When I call method <code>Calc</code> with the sample array from your question, the following is printed:</p>\n<pre class=\"lang-none prettyprint-override\"><code>5. lsum = 22 , sum = 0\n4. lsum = 17 , sum = 6\n3. lsum = 11 , sum = 11\nReturning: 3\n</code></pre>\n"}],"owner":{"account_id":23229879,"reputation":35,"user_id":17320810,"display_name":"Vaibhav Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663073984,"creation_date":1663067809,"question_id":73702009,"body_markdown":"[![This is the question][1]][1]**Question :-**\r\nIn the question we have to find the pivot index of the given array. And as per the given definition(given in the question) it is that point in the index such that if we calculate the sum of numbers on it&#39;s left and right they both comes out to be equal.\r\n\r\n**Example**\r\nInput: nums = [1,7,3,6,5,6]\r\n\r\nOutput: 3\r\nExplanation:\r\n\r\nThe pivot index is 3.\r\nLeft sum = nums[0] + nums\\[1] + nums[2] = 1 + 7 + 3 = 11\r\n\r\nRight sum = nums[4] + nums[5] = 5 + 6 = 11\r\n\r\n\r\n**My Approach and logic I tried**\r\n\r\nI calculate the total sum of array and then used a for loop to iterate from backwards in the array(from right to left) each time subtracting that element from total sum and comparing it to another loop which is calculating sum from right side such that when they get equal return that index element.\r\n\r\nBut I can&#39;t find the error\r\n\r\n\r\n**Code for the same**\r\n\r\n    import java.util.*;\r\n    public class webs{\r\n        public static void main(String[] args){\r\n            int arr[] = {1, 7, 3, 6, 5, 6};\r\n            System.out.println(Calc(arr));\r\n            \r\n        }\r\n        static int Calc(int arr[]){\r\n            int sum = 0;\r\n            int lsum = 0;\r\n            //this loop is for sum\r\n            for(int i =0; i &lt; arr.length; i++){\r\n                sum += arr[i];\r\n            }\r\n            //this loop is for calculating sum from reverse\r\n            for(int j= arr.length - 1; j &gt; 0; j--){\r\n                lsum += arr[j];\r\n                sum -= arr[j];\r\n    \r\n                if(lsum == sum){\r\n                    return arr[j];\r\n                }\r\n                else{\r\n                    return -1;\r\n                }\r\n            }\r\n            return 0; \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nPlease specify the error in this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UNT20.png","title":"Finding the pivot point for the given array. Java","body":"<p><a href=\"https://i.stack.imgur.com/UNT20.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UNT20.png\" alt=\"This is the question\" /></a><strong>Question :-</strong>\nIn the question we have to find the pivot index of the given array. And as per the given definition(given in the question) it is that point in the index such that if we calculate the sum of numbers on it's left and right they both comes out to be equal.</p>\n<p><strong>Example</strong>\nInput: nums = [1,7,3,6,5,6]</p>\n<p>Output: 3\nExplanation:</p>\n<p>The pivot index is 3.\nLeft sum = nums[0] + nums[1] + nums[2] = 1 + 7 + 3 = 11</p>\n<p>Right sum = nums[4] + nums[5] = 5 + 6 = 11</p>\n<p><strong>My Approach and logic I tried</strong></p>\n<p>I calculate the total sum of array and then used a for loop to iterate from backwards in the array(from right to left) each time subtracting that element from total sum and comparing it to another loop which is calculating sum from right side such that when they get equal return that index element.</p>\n<p>But I can't find the error</p>\n<p><strong>Code for the same</strong></p>\n<pre><code>import java.util.*;\npublic class webs{\n    public static void main(String[] args){\n        int arr[] = {1, 7, 3, 6, 5, 6};\n        System.out.println(Calc(arr));\n        \n    }\n    static int Calc(int arr[]){\n        int sum = 0;\n        int lsum = 0;\n        //this loop is for sum\n        for(int i =0; i &lt; arr.length; i++){\n            sum += arr[i];\n        }\n        //this loop is for calculating sum from reverse\n        for(int j= arr.length - 1; j &gt; 0; j--){\n            lsum += arr[j];\n            sum -= arr[j];\n\n            if(lsum == sum){\n                return arr[j];\n            }\n            else{\n                return -1;\n            }\n        }\n        return 0; \n    }\n}\n</code></pre>\n<p>Please specify the error in this.</p>\n"},{"tags":["java","kotlin","collections","java-stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663071368,"post_id":73702690,"comment_id":130148456,"body_markdown":"Sure there is. Did you try? Look at methods like `filter()`, `findFirst()` in `Stream` and `map()`, `orElse()` in `Optional`.","body":"Sure there is. Did you try? Look at methods like <code>filter()</code>, <code>findFirst()</code> in <code>Stream</code> and <code>map()</code>, <code>orElse()</code> in <code>Optional</code>."}],"answers":[{"tags":[],"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663073904,"creation_date":1663071464,"answer_id":73702869,"question_id":73702690,"body_markdown":"Try this:\r\n```\r\nString nameByCode = getProductList().stream()\r\n           .filter(Objects::nonNull)  // filters null values in the list\r\n           .filter(it -&gt; codeToFind.equals(it.code))\r\n           .findFirst()               // returns java.util.Optional wrapper\r\n           .map(it -&gt; it.getName())   // null-safe operation on the wrapper\r\n           .orElse(&quot;&quot;);               // fallback value\r\n```\r\n\r\nLinks:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#nonNull-java.lang.Object-","title":"How to safely filter elements in collection?","body":"<p>Try this:</p>\n<pre><code>String nameByCode = getProductList().stream()\n           .filter(Objects::nonNull)  // filters null values in the list\n           .filter(it -&gt; codeToFind.equals(it.code))\n           .findFirst()               // returns java.util.Optional wrapper\n           .map(it -&gt; it.getName())   // null-safe operation on the wrapper\n           .orElse(&quot;&quot;);               // fallback value\n</code></pre>\n<p>Links:</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html</a>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#nonNull-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#nonNull-java.lang.Object-</a></p>\n"}],"owner":{"account_id":21376295,"reputation":1124,"user_id":15742980,"display_name":"testivanivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663073904,"creation_date":1663070638,"question_id":73702690,"body_markdown":"I have data class Product: \r\n\r\n    data class Product(\r\n        val name: String,\r\n        val code: String?\r\n    )\r\n\r\nAnd I need to get product name from product list by given code. Here is my code in Kotlin: \r\n\r\n     val productList = getProductList()\r\n        val codeToFind = &quot;1234&quot;\r\n    \r\n        val nameByCode = productList.firstOrNull { it.code == codeToFind }\r\n            ?.name ?: &quot;&quot;\r\n\r\nIs it possible to write the same concise and safe code in the Java using Stream API ?","title":"How to safely filter elements in collection?","body":"<p>I have data class Product:</p>\n<pre><code>data class Product(\n    val name: String,\n    val code: String?\n)\n</code></pre>\n<p>And I need to get product name from product list by given code. Here is my code in Kotlin:</p>\n<pre><code> val productList = getProductList()\n    val codeToFind = &quot;1234&quot;\n\n    val nameByCode = productList.firstOrNull { it.code == codeToFind }\n        ?.name ?: &quot;&quot;\n</code></pre>\n<p>Is it possible to write the same concise and safe code in the Java using Stream API ?</p>\n"},{"tags":["java","junit","quarkus"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1663073989,"post_id":73703464,"comment_id":130149570,"body_markdown":"do you really have a folder called `br.com.org.product.reports.service` in `src/test/java`?","body":"do you really have a folder called <code>br.com.org.product.reports.service</code> in <code>src&#47;test&#47;java</code>?"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663073898,"creation_date":1663073898,"question_id":73703464,"body_markdown":"I&#39;m trying to write some unit tests for my Quarkus app. My configuration seems fine. However, Quarkus is not finding my tests.\r\n\r\nTo run the tests, I run `./gradlew quarkusDev` and then press the `[r]` key. This is the output I get:\r\n```\r\nStarting test run, 0 tests to run.\r\nRunning 1/0. Running: #JUnit Jupiter\r\n```\r\n\r\nMy test is located at `src/test/java/br.com.org.product.reports.service/ExampleTest.java`. This is the test:\r\n```java\r\npackage br.com.org.product.reports.service;\r\n\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@QuarkusTest\r\nclass ExampleTest {\r\n    @Test\r\n    public void example() {\r\n        assertEquals(1 + 1, 2);\r\n    }\r\n}\r\n```\r\n\r\nThese are the relevant parts of my `build.gradle` file:\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;io.quarkus&#39;\r\n    id &#39;jacoco&#39;\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_11\r\n    targetCompatibility = JavaVersion.VERSION_11\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;io.quarkus:quarkus-junit5&#39;\r\n    testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n}\r\n\r\ncompileJava {\r\n    options.encoding = &#39;UTF-8&#39;\r\n    options.compilerArgs &lt;&lt; &#39;-parameters&#39;\r\n}\r\n\r\ncompileTestJava {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n```\r\n\r\nAny ideas on why my test is not being found? If I generate a new Quarkus project from scratch, the tests run fine. The generated configuration looks exactly like the one I have right now. However, I can&#39;t re-generate the project, I need to fix this one. ","title":"Quarkus finds 0 tests to run","body":"<p>I'm trying to write some unit tests for my Quarkus app. My configuration seems fine. However, Quarkus is not finding my tests.</p>\n<p>To run the tests, I run <code>./gradlew quarkusDev</code> and then press the <code>[r]</code> key. This is the output I get:</p>\n<pre><code>Starting test run, 0 tests to run.\nRunning 1/0. Running: #JUnit Jupiter\n</code></pre>\n<p>My test is located at <code>src/test/java/br.com.org.product.reports.service/ExampleTest.java</code>. This is the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package br.com.org.product.reports.service;\n\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@QuarkusTest\nclass ExampleTest {\n    @Test\n    public void example() {\n        assertEquals(1 + 1, 2);\n    }\n}\n</code></pre>\n<p>These are the relevant parts of my <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.quarkus'\n    id 'jacoco'\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n\ndependencies {\n    testImplementation 'io.quarkus:quarkus-junit5'\n    testImplementation 'io.rest-assured:rest-assured'\n}\n\ncompileJava {\n    options.encoding = 'UTF-8'\n    options.compilerArgs &lt;&lt; '-parameters'\n}\n\ncompileTestJava {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n<p>Any ideas on why my test is not being found? If I generate a new Quarkus project from scratch, the tests run fine. The generated configuration looks exactly like the one I have right now. However, I can't re-generate the project, I need to fix this one.</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":11398309,"reputation":385,"user_id":8355969,"display_name":"Carapace"},"score":0,"creation_date":1663063911,"post_id":73701102,"comment_id":130145813,"body_markdown":"[Already asked](https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome)","body":"<a href=\"https://stackoverflow.com/questions/47316810/unable-to-locate-elements-on-webpage-with-headless-chrome\">Already asked</a>"},{"owner":{"account_id":14436989,"reputation":257,"user_id":10428748,"display_name":"JumpingJacks"},"score":0,"creation_date":1663064147,"post_id":73701102,"comment_id":130145903,"body_markdown":"@Carapace thanks for your response, however I am not getting a, &quot;nosuchelement&quot; exception. The element is found and the button is being pressed, it&#39;s just not functioning as it would when headless is disabled.","body":"@Carapace thanks for your response, however I am not getting a, &quot;nosuchelement&quot; exception. The element is found and the button is being pressed, it&#39;s just not functioning as it would when headless is disabled."},{"owner":{"account_id":11398309,"reputation":385,"user_id":8355969,"display_name":"Carapace"},"score":0,"creation_date":1663064331,"post_id":73701102,"comment_id":130145948,"body_markdown":"Did you read the answers? Tried the solutions? Did you try taking screenshot to understand what exactly is wrong for example?","body":"Did you read the answers? Tried the solutions? Did you try taking screenshot to understand what exactly is wrong for example?"},{"owner":{"account_id":14436989,"reputation":257,"user_id":10428748,"display_name":"JumpingJacks"},"score":0,"creation_date":1663065073,"post_id":73701102,"comment_id":130146170,"body_markdown":"Yes carapace. I have already read this thread before.","body":"Yes carapace. I have already read this thread before."},{"owner":{"account_id":25717722,"reputation":10119,"user_id":19475185,"display_name":"Barry the Platipus"},"score":0,"creation_date":1663065910,"post_id":73701102,"comment_id":130146450,"body_markdown":"Is that url publicly accessible (or can you create a dummy similar site) and can you share it?","body":"Is that url publicly accessible (or can you create a dummy similar site) and can you share it?"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1663068813,"post_id":73701102,"comment_id":130147466,"body_markdown":"The locator seems fragile. Please post the relevant html of the element. To debug that step please take the screenshot before clicking on the element to know where you are.","body":"The locator seems fragile. Please post the relevant html of the element. To debug that step please take the screenshot before clicking on the element to know where you are."},{"owner":{"account_id":14436989,"reputation":257,"user_id":10428748,"display_name":"JumpingJacks"},"score":0,"creation_date":1663069303,"post_id":73701102,"comment_id":130147677,"body_markdown":"Thanks for your response. Locator will be updated. I am already taking screenshots before and after. First is taken before the click, which shows the button in its original state, and another after the click were the button is highlighted after the click event. HTML added. Kindly let me know if you need anything else.","body":"Thanks for your response. Locator will be updated. I am already taking screenshots before and after. First is taken before the click, which shows the button in its original state, and another after the click were the button is highlighted after the click event. HTML added. Kindly let me know if you need anything else."}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663064337,"creation_date":1663064337,"answer_id":73701276,"question_id":73701102,"body_markdown":"Try adding a wait. I mean use `WebDriverWait` to wait for the element to be clickable.  \r\nSomething like:\r\n```java\r\nWebDriverWait wait = new WebDriverWait(webDriver, 20);\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/div/div/div/div/div/div/div[2]/form/p[3]/button[1]&quot;))).click();\r\n```\r\nAlso you need to improve your locator.  \r\nAbsolute XPaths are extremely fragile. ","title":"Button not working as expected in headless mode","body":"<p>Try adding a wait. I mean use <code>WebDriverWait</code> to wait for the element to be clickable.<br />\nSomething like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(webDriver, 20);\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/div/div/div/div/div/div/div[2]/form/p[3]/button[1]&quot;))).click();\n</code></pre>\n<p>Also you need to improve your locator.<br />\nAbsolute XPaths are extremely fragile.</p>\n"},{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663072002,"creation_date":1663072002,"answer_id":73703011,"question_id":73701102,"body_markdown":"First, try to avoid very long CSS or Xpath expression. You can find the button you need to click on like this:\r\n\r\n    driver.findElement(By.xpath(&quot;//button[contains(text(),&#39;Grant&#39;)]&quot;));\r\n\r\nThis code is more readable. If the site will be changed and the element will be moved to another div or span - your code will not work if it relays on the structure of all the divs and spans.\r\n\r\nNext, never just click on an element of hover over it in a Selenium test. First check if the element is clickable, then click:\r\n\r\n    WebElement term = driver.findElement(By.xpath(&quot;//button[contains(text(),&#39;Grant&#39;)]&quot;));\r\n    WebDriverWait wait = new WebDriverWait(webDriver, 20);\r\n    wait.until(ExpectedConditions.elementToBeClickable(term));\r\n    term.click();\r\n\r\n\r\n","title":"Button not working as expected in headless mode","body":"<p>First, try to avoid very long CSS or Xpath expression. You can find the button you need to click on like this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//button[contains(text(),'Grant')]&quot;));\n</code></pre>\n<p>This code is more readable. If the site will be changed and the element will be moved to another div or span - your code will not work if it relays on the structure of all the divs and spans.</p>\n<p>Next, never just click on an element of hover over it in a Selenium test. First check if the element is clickable, then click:</p>\n<pre><code>WebElement term = driver.findElement(By.xpath(&quot;//button[contains(text(),'Grant')]&quot;));\nWebDriverWait wait = new WebDriverWait(webDriver, 20);\nwait.until(ExpectedConditions.elementToBeClickable(term));\nterm.click();\n</code></pre>\n"}],"owner":{"account_id":14436989,"reputation":257,"user_id":10428748,"display_name":"JumpingJacks"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663073601,"creation_date":1663063564,"question_id":73701102,"body_markdown":"I am using the latest chrome driver with selenium to test a web application hosted on Microsoft Azure.\r\n\r\nThe script starts by logging into the web application. An authentication window opens that requires the user to login through Azure and then press a, &quot;Grant&quot; button that will allow the web application to speak to a Therefore database to populate a few metadata fields.\r\n\r\nThis all works perfectly when headless mode is disabled. However, when headless mode is enabled it seems as though the, &quot;Grant&quot; button doesn&#39;t function. I am logging and taking screenshots during this process, which is how I know that the &quot;Grant&quot; button element is found and is being clicked. The button becomes highlighted when clicked, which is shown in the screenshot, but nothing happens and the authentication window times out in headless which kills the test.\r\n\r\n[![Grant button found and highlighted as if clicked.][1]][1]\r\n\r\nI have tried different clicking methods, but this made no difference as the element is found and is being clicked. I have also pressed the, &quot;Sign in as a different user&quot; button on the form to ensure that the .click() method is functioning as expected, which of course works. I tried to add longer wait times but to no avail.\r\n\r\nI have also added the following Chromium driver options:\r\n\r\n    \tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;enable-automation&quot;);\r\n\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\toptions.addArguments(&quot;--window-size=1920,1080&quot;);\r\n\t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\t\toptions.addArguments(&quot;--disable-extensions&quot;);\r\n\t\toptions.addArguments(&quot;--dns-prefetch-disable&quot;);\r\n\t\toptions.addArguments(&quot;--disable-gpu&quot;);\r\n\t\toptions.addArguments(&quot;--incognito&quot;);\r\n\t\toptions.addArguments(&quot;--disable-web-security&quot;);\r\n\t\toptions.addArguments(&quot;--allow-running-insecure-content&quot;);\r\n\t\toptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\t\toptions.addArguments(&quot;--allow-insecure-localhost&quot;);\r\n\t\toptions.addArguments(&quot;--disable-popup-blocking&quot;);\r\n\t\toptions.setPageLoadStrategy(PageLoadStrategy.EAGER);\r\n    \r\nHow I am clicking the element:\r\n\r\n    System.out.println(&quot;Grant permission...&quot;);\r\n\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n\t\t        \t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),&#39;Grant&#39;)]&quot;))).click();\r\n\r\nWhat baffles me is how this works seamlessly when headless is disabled but not when it&#39;s enabled. I&#39;m wondering if this could be a Chrome driver issue? However I know that this is unlikely.\r\n\r\nAny recommendations are appreciated, thanks.\r\n\r\nAdding button HTML as requested:\r\n\r\n    &lt;form method=&quot;POST&quot;&gt;    \r\n    &lt;p&gt;Hello, Test&lt;/p&gt;\r\n    &lt;ul&gt;\r\n\r\n            &lt;li class=&quot;text-left&quot;&gt;Act with your access permissions&lt;/li&gt;\r\n            &lt;li class=&quot;text-left&quot;&gt;Allow continuous access while you are not online.&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    &lt;p&gt;\r\n        &lt;button type=&quot;submit&quot; name=&quot;submit.Grant&quot; value=&quot;Grant&quot; class=&quot;btn btn-primary btn-block&quot;&gt;Grant&lt;/button&gt;\r\n        &lt;button type=&quot;submit&quot; name=&quot;submit.Login&quot; value=&quot;Sign in as different user&quot; class=&quot;btn btn-outline-primary btn-block&quot;&gt;Sign in as different user&lt;/button&gt;\r\n    &lt;/p&gt;\r\n&lt;/form&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6GvqR.png","title":"Button not working as expected in headless mode","body":"<p>I am using the latest chrome driver with selenium to test a web application hosted on Microsoft Azure.</p>\n<p>The script starts by logging into the web application. An authentication window opens that requires the user to login through Azure and then press a, &quot;Grant&quot; button that will allow the web application to speak to a Therefore database to populate a few metadata fields.</p>\n<p>This all works perfectly when headless mode is disabled. However, when headless mode is enabled it seems as though the, &quot;Grant&quot; button doesn't function. I am logging and taking screenshots during this process, which is how I know that the &quot;Grant&quot; button element is found and is being clicked. The button becomes highlighted when clicked, which is shown in the screenshot, but nothing happens and the authentication window times out in headless which kills the test.</p>\n<p><a href=\"https://i.stack.imgur.com/6GvqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6GvqR.png\" alt=\"Grant button found and highlighted as if clicked.\" /></a></p>\n<p>I have tried different clicking methods, but this made no difference as the element is found and is being clicked. I have also pressed the, &quot;Sign in as a different user&quot; button on the form to ensure that the .click() method is functioning as expected, which of course works. I tried to add longer wait times but to no avail.</p>\n<p>I have also added the following Chromium driver options:</p>\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;enable-automation&quot;);\n    options.addArguments(&quot;--headless&quot;);\n    options.addArguments(&quot;--start-maximized&quot;);\n    options.addArguments(&quot;--window-size=1920,1080&quot;);\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--disable-extensions&quot;);\n    options.addArguments(&quot;--dns-prefetch-disable&quot;);\n    options.addArguments(&quot;--disable-gpu&quot;);\n    options.addArguments(&quot;--incognito&quot;);\n    options.addArguments(&quot;--disable-web-security&quot;);\n    options.addArguments(&quot;--allow-running-insecure-content&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    options.addArguments(&quot;--allow-insecure-localhost&quot;);\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\n    options.setPageLoadStrategy(PageLoadStrategy.EAGER);\n</code></pre>\n<p>How I am clicking the element:</p>\n<pre><code>System.out.println(&quot;Grant permission...&quot;);\nWebDriverWait wait = new WebDriverWait(driver, 30);\n                    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),'Grant')]&quot;))).click();\n</code></pre>\n<p>What baffles me is how this works seamlessly when headless is disabled but not when it's enabled. I'm wondering if this could be a Chrome driver issue? However I know that this is unlikely.</p>\n<p>Any recommendations are appreciated, thanks.</p>\n<p>Adding button HTML as requested:</p>\n<pre><code>&lt;form method=&quot;POST&quot;&gt;    \n&lt;p&gt;Hello, Test&lt;/p&gt;\n&lt;ul&gt;\n\n        &lt;li class=&quot;text-left&quot;&gt;Act with your access permissions&lt;/li&gt;\n        &lt;li class=&quot;text-left&quot;&gt;Allow continuous access while you are not online.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;\n    &lt;button type=&quot;submit&quot; name=&quot;submit.Grant&quot; value=&quot;Grant&quot; class=&quot;btn btn-primary btn-block&quot;&gt;Grant&lt;/button&gt;\n    &lt;button type=&quot;submit&quot; name=&quot;submit.Login&quot; value=&quot;Sign in as different user&quot; class=&quot;btn btn-outline-primary btn-block&quot;&gt;Sign in as different user&lt;/button&gt;\n&lt;/p&gt;\n</code></pre>\n\n"},{"tags":["java","json","spring"],"answers":[{"tags":[],"owner":{"account_id":11845776,"reputation":926,"user_id":8668332,"display_name":"Sebastian Heikamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663073552,"creation_date":1663073552,"answer_id":73703398,"question_id":73702903,"body_markdown":"Looks to me as if you are pretty close to the desired outcome.\r\nFirst of all you should add a member to your Tutorial entity:\r\n\r\n    @OneToMany(mappedBy = &quot;tutorial_id&quot;)\r\n    private List&lt;Comment&gt; comments;\r\n\r\nAnd the final missing part is making your controller return a tutorial instance:\r\n\r\n    public ResponseEntity&lt;Tutorial&gt; getTutorialWithComments(@PathVariable(value = &quot;tutorialId&quot;) int tutorialId) {\r\n      Tutorial tutorial = tutorialRepository.findById(tutorialId)\r\n        .orElseThrows(() -&gt; new ResourceNotFoundException(&quot;Not found Tutorial with id = &quot; + tutorialId));\r\n      return new ResponseEntity&lt;&gt;(tutorial, HttpStatus.OK);\r\n    }\r\n\r\nI wrote this without any IDE assistance, so please excuse any mistakes. The idea should be clear though, you need to return a tutorial that contains a list of comments.","title":"Nested JSON in JSON","body":"<p>Looks to me as if you are pretty close to the desired outcome.\nFirst of all you should add a member to your Tutorial entity:</p>\n<pre><code>@OneToMany(mappedBy = &quot;tutorial_id&quot;)\nprivate List&lt;Comment&gt; comments;\n</code></pre>\n<p>And the final missing part is making your controller return a tutorial instance:</p>\n<pre><code>public ResponseEntity&lt;Tutorial&gt; getTutorialWithComments(@PathVariable(value = &quot;tutorialId&quot;) int tutorialId) {\n  Tutorial tutorial = tutorialRepository.findById(tutorialId)\n    .orElseThrows(() -&gt; new ResourceNotFoundException(&quot;Not found Tutorial with id = &quot; + tutorialId));\n  return new ResponseEntity&lt;&gt;(tutorial, HttpStatus.OK);\n}\n</code></pre>\n<p>I wrote this without any IDE assistance, so please excuse any mistakes. The idea should be clear though, you need to return a tutorial that contains a list of comments.</p>\n"}],"owner":{"account_id":23976372,"reputation":29,"user_id":17988386,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73703398,"answer_count":1,"score":0,"last_activity_date":1663073552,"creation_date":1663071593,"question_id":73702903,"body_markdown":"How can I form JSON like that:\r\n\r\n     \r\n```json\r\n{\r\n         &quot;error&quot;: false,\r\n         &quot;errorCode&quot;: 0,\r\n         &quot;message&quot;: [{\r\n             &quot;id&quot;: &quot;93&quot;,\r\n             &quot;venueName&quot;: &quot;Sushi Kuni&quot;,\r\n             &quot;venueAddress&quot;: &quot;10211 S De Anza Blvd Cupertino CA&quot;,\r\n             &quot;showDate&quot;: &quot;1531022400&quot;,\r\n             &quot;showTime&quot;: &quot;&quot;,\r\n             &quot;description&quot;: &quot;&quot;\r\n         }, {\r\n             &quot;id&quot;: &quot;38&quot;,\r\n             &quot;venueName&quot;: &quot;Two Keys Tavern&quot;,\r\n             &quot;venueAddress&quot;: &quot;333 S Limestone Lexington KY&quot;,\r\n             &quot;showDate&quot;: &quot;1531368000&quot;,\r\n             &quot;showTime&quot;: &quot;8 pm - 1 am&quot;,\r\n             &quot;description&quot;: &quot;&quot;\r\n         }]\r\n     }\r\n```\r\nI tried creating models with one-to-one, many-to-one relationships.\r\n\r\n    @Entity\r\n    @Table(name = &quot;tutorials&quot;)\r\n    public class Tutorial {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;tutorial_generator&quot;)\r\n        private int id;\r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n        @Column(name = &quot;published&quot;)\r\n        private boolean published;\r\n\r\n    @Entity\r\n    @Table(name = &quot;comments&quot;)\r\n    public class Comment {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;comment_generator&quot;)\r\n        private int id;\r\n        @Lob\r\n        private String content;\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;tutorial_id&quot;, nullable = false)\r\n        @JsonIgnore\r\n        private Tutorial tutorial;\r\n\r\nController: \r\n\r\n    public ResponseEntity&lt;List&lt;Comment&gt;&gt; getAllCommentsByTutorialId(@PathVariable(value = &quot;tutorialId&quot;) int tutorialId) {\r\n            if (!tutorialRepository.existsById(tutorialId)) {\r\n                throw new ResourceNotFoundException(&quot;Not found Tutorial with id = &quot; + tutorialId);\r\n            }\r\n            List&lt;Comment&gt; comments = commentRepository.findByTutorialId(tutorialId);\r\n            return new ResponseEntity&lt;&gt;(comments, HttpStatus.OK);\r\n        }\r\n\r\nBut I got \r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;content&quot;: &quot;asdaasfaf&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 3,\r\n            &quot;content&quot;: &quot;ssaduy7tjyjt&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 4,\r\n            &quot;content&quot;: null\r\n        }\r\n    ]\r\nI read about creating nodes, but didn&#39;t understand, how integrate it with spring data.\r\nWhat i need to nest table Comments in table Tutorials? \r\n","title":"Nested JSON in JSON","body":"<p>How can I form JSON like that:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n         &quot;error&quot;: false,\n         &quot;errorCode&quot;: 0,\n         &quot;message&quot;: [{\n             &quot;id&quot;: &quot;93&quot;,\n             &quot;venueName&quot;: &quot;Sushi Kuni&quot;,\n             &quot;venueAddress&quot;: &quot;10211 S De Anza Blvd Cupertino CA&quot;,\n             &quot;showDate&quot;: &quot;1531022400&quot;,\n             &quot;showTime&quot;: &quot;&quot;,\n             &quot;description&quot;: &quot;&quot;\n         }, {\n             &quot;id&quot;: &quot;38&quot;,\n             &quot;venueName&quot;: &quot;Two Keys Tavern&quot;,\n             &quot;venueAddress&quot;: &quot;333 S Limestone Lexington KY&quot;,\n             &quot;showDate&quot;: &quot;1531368000&quot;,\n             &quot;showTime&quot;: &quot;8 pm - 1 am&quot;,\n             &quot;description&quot;: &quot;&quot;\n         }]\n     }\n</code></pre>\n<p>I tried creating models with one-to-one, many-to-one relationships.</p>\n<pre><code>@Entity\n@Table(name = &quot;tutorials&quot;)\npublic class Tutorial {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;tutorial_generator&quot;)\n    private int id;\n    @Column(name = &quot;title&quot;)\n    private String title;\n    @Column(name = &quot;description&quot;)\n    private String description;\n    @Column(name = &quot;published&quot;)\n    private boolean published;\n\n@Entity\n@Table(name = &quot;comments&quot;)\npublic class Comment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;comment_generator&quot;)\n    private int id;\n    @Lob\n    private String content;\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;tutorial_id&quot;, nullable = false)\n    @JsonIgnore\n    private Tutorial tutorial;\n</code></pre>\n<p>Controller:</p>\n<pre><code>public ResponseEntity&lt;List&lt;Comment&gt;&gt; getAllCommentsByTutorialId(@PathVariable(value = &quot;tutorialId&quot;) int tutorialId) {\n        if (!tutorialRepository.existsById(tutorialId)) {\n            throw new ResourceNotFoundException(&quot;Not found Tutorial with id = &quot; + tutorialId);\n        }\n        List&lt;Comment&gt; comments = commentRepository.findByTutorialId(tutorialId);\n        return new ResponseEntity&lt;&gt;(comments, HttpStatus.OK);\n    }\n</code></pre>\n<p>But I got</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;content&quot;: &quot;asdaasfaf&quot;\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;content&quot;: &quot;ssaduy7tjyjt&quot;\n    },\n    {\n        &quot;id&quot;: 4,\n        &quot;content&quot;: null\n    }\n]\n</code></pre>\n<p>I read about creating nodes, but didn't understand, how integrate it with spring data.\nWhat i need to nest table Comments in table Tutorials?</p>\n"},{"tags":["java","spring-boot","asynchronous","spring-data-jpa","hikaricp"],"comments":[{"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"score":0,"creation_date":1663069839,"post_id":73702441,"comment_id":130147897,"body_markdown":"I had experienced sort of same thing with a non-spring application. After my task was done, It still held connection","body":"I had experienced sort of same thing with a non-spring application. After my task was done, It still held connection"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663070118,"post_id":73702441,"comment_id":130147989,"body_markdown":"There is far too little information here. No code (just a skeleton) no configuration. I doubt it has anything to do with the `@Async` but rather with improper use of the datasource.","body":"There is far too little information here. No code (just a skeleton) no configuration. I doubt it has anything to do with the <code>@Async</code> but rather with improper use of the datasource."},{"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"score":0,"creation_date":1663072485,"post_id":73702441,"comment_id":130148888,"body_markdown":"@Ladu anand are you configuring your properties right?\n-&gt; spring.datasource.hikari.maximum-pool-size: &quot;80&quot;","body":"@Ladu anand are you configuring your properties right? -&gt; spring.datasource.hikari.maximum-pool-size: &quot;80&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663073374,"creation_date":1663073374,"answer_id":73703358,"question_id":73702441,"body_markdown":"I fixed it by wrapping it within @Transactional block which ensures that DB connections are closed once the function completes.","title":"Hikari CP DB connection not release in Async block","body":"<p>I fixed it by wrapping it within @Transactional block which ensures that DB connections are closed once the function completes.</p>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73703358,"answer_count":1,"score":0,"last_activity_date":1663073374,"creation_date":1663069560,"question_id":73702441,"body_markdown":"I am using Spring Boot application which has API controller to generate reports . The actual service function is wrapped around @Async annotation and function makes DB calls and generates the csv reports . I am also using Hikari CP for connection pool management and JPA + QueryDSL for forming select queries . \r\n\r\nI am seeing strange issue in that DB connections are not being released after the files are successfully generated. Every new call to the controller/service function creates new active connections and it remains active . Its not getting released because of which I am getting Connection is not available error from Hikari once my max pool size limit is reached. \r\n\r\nAny suggestions why connection is not being released . The service function issues only select queries , no updates or inserts. \r\n\r\nHikari CP configs: \r\n\r\n```\r\nspring.datasource.hikari.maximum-pool-size: &quot;80&quot;\r\nspring.datasource.hikari.idle-timeout: &quot;300000&quot;\r\nspring.datasource.hikari.connectionTimeout: &quot;600000&quot;\r\nspring.datasource.hikari.minimum-idle: &quot;15&quot;\r\n```\r\nMy service function \r\n```\r\n@Async\r\n@Override\r\npublic void exportListing(String[] filter) {\r\n\t\ttry {\r\n}\r\ncatch(Exception e)\r\n{\r\n}\r\n```","title":"Hikari CP DB connection not release in Async block","body":"<p>I am using Spring Boot application which has API controller to generate reports . The actual service function is wrapped around @Async annotation and function makes DB calls and generates the csv reports . I am also using Hikari CP for connection pool management and JPA + QueryDSL for forming select queries .</p>\n<p>I am seeing strange issue in that DB connections are not being released after the files are successfully generated. Every new call to the controller/service function creates new active connections and it remains active . Its not getting released because of which I am getting Connection is not available error from Hikari once my max pool size limit is reached.</p>\n<p>Any suggestions why connection is not being released . The service function issues only select queries , no updates or inserts.</p>\n<p>Hikari CP configs:</p>\n<pre><code>spring.datasource.hikari.maximum-pool-size: &quot;80&quot;\nspring.datasource.hikari.idle-timeout: &quot;300000&quot;\nspring.datasource.hikari.connectionTimeout: &quot;600000&quot;\nspring.datasource.hikari.minimum-idle: &quot;15&quot;\n</code></pre>\n<p>My service function</p>\n<pre><code>@Async\n@Override\npublic void exportListing(String[] filter) {\n        try {\n}\ncatch(Exception e)\n{\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663044116,"creation_date":1663044116,"answer_id":73697627,"question_id":73697531,"body_markdown":"step by step :\r\n[![click here][1]][1]\r\n\r\n\r\n[![click here][2]][2]\r\n\r\n\r\n[![code][3]][3]\r\n&gt; and your enter : mvn clean update \r\n\r\n  [1]: https://i.stack.imgur.com/CCwhL.png\r\n  [2]: https://i.stack.imgur.com/c7sfb.png\r\n  [3]: https://i.stack.imgur.com/yQpON.png","title":"How to do Maven Clean and maven update project in Intellij idea","body":"<p>step by step :\n<a href=\"https://i.stack.imgur.com/CCwhL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CCwhL.png\" alt=\"click here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/c7sfb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c7sfb.png\" alt=\"click here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yQpON.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQpON.png\" alt=\"code\" /></a></p>\n<blockquote>\n<p>and your enter : mvn clean update</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17745278,"reputation":46,"user_id":12884696,"display_name":"Faisal Behram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663044385,"creation_date":1663044385,"answer_id":73697646,"question_id":73697531,"body_markdown":"inside in IntelliJ, instead of Using maven update, we are using the maven install. so that it will install all the dependencies and update the project.\r\n[![CHeck the image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nCSZv.png","title":"How to do Maven Clean and maven update project in Intellij idea","body":"<p>inside in IntelliJ, instead of Using maven update, we are using the maven install. so that it will install all the dependencies and update the project.\n<a href=\"https://i.stack.imgur.com/nCSZv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nCSZv.png\" alt=\"CHeck the image\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663073293,"creation_date":1663073293,"answer_id":73703340,"question_id":73697531,"body_markdown":"To update the dependency it is enough to update its version in pom.xml and invoke **Reload All Maven Projects** action in Maven tool window. If dependency is not updated there is some problem.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/loseK.png","title":"How to do Maven Clean and maven update project in Intellij idea","body":"<p>To update the dependency it is enough to update its version in pom.xml and invoke <strong>Reload All Maven Projects</strong> action in Maven tool window. If dependency is not updated there is some problem.</p>\n<p><a href=\"https://i.stack.imgur.com/loseK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/loseK.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26320027,"reputation":21,"user_id":19982157,"display_name":"TCSInd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2109,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1663073293,"creation_date":1663042904,"question_id":73697531,"body_markdown":"I am shifted from eclipse to intellij idea to work with my Spring boot project. there i found only maven clean option, but I am unable to find out how to do maven update. instead there it has maven build option, the build option created .class files. But i need to update only my dependencies.","title":"How to do Maven Clean and maven update project in Intellij idea","body":"<p>I am shifted from eclipse to intellij idea to work with my Spring boot project. there i found only maven clean option, but I am unable to find out how to do maven update. instead there it has maven build option, the build option created .class files. But i need to update only my dependencies.</p>\n"},{"tags":["java","multithreading","event-dispatch-thread"],"comments":[{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":3,"creation_date":1420645379,"post_id":27822966,"comment_id":44051973,"body_markdown":"Your second thread is not EDT, just T. ;)","body":"Your second thread is not EDT, just T. ;)"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":2,"creation_date":1420645380,"post_id":27822966,"comment_id":44051974,"body_markdown":"I don&#39;t think you can create an EDT.  Swing creates its own EDT.  You can create as many threads as you like (up to some huge limit), but they won&#39;t be EDT&#39;s.  Your example code creates a `Runnable` object, but it won&#39;t run `panel.update` in your thread.  Instead, this object is given to Swing, which saves it somewhere, and then eventually the EDT finds it and runs it.","body":"I don&#39;t think you can create an EDT.  Swing creates its own EDT.  You can create as many threads as you like (up to some huge limit), but they won&#39;t be EDT&#39;s.  Your example code creates a <code>Runnable</code> object, but it won&#39;t run <code>panel.update</code> in your thread.  Instead, this object is given to Swing, which saves it somewhere, and then eventually the EDT finds it and runs it."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1420647028,"post_id":27822966,"comment_id":44053040,"body_markdown":"possible duplicate of [Multiple Event Dispatch Threads](http://stackoverflow.com/questions/7323306/multiple-event-dispatch-threads)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7323306/multiple-event-dispatch-threads\">Multiple Event Dispatch Threads</a>"}],"answers":[{"tags":[],"owner":{"account_id":2043135,"reputation":234,"user_id":1823853,"display_name":"jo-"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1420645679,"creation_date":1420645679,"answer_id":27823190,"question_id":27822966,"body_markdown":"There can only be one Event Dispatch Thread!\r\n\r\nBut why would you even want to have more than one thread for this? Even for &quot;heavy duty&quot; panels with many components (in the application i am currently working on there must be 1000s of components) one EDT is enough. Remember you should not perform any tasks on the EDT that use a lot of CPU time. Otherwise you will block the EDT for update events and your GUI will become &quot;sluggish&quot; in responding to user input.\r\n\r\nAlso remember that all GUI components should be created and manipulated only from within the EDT because many components are not thread save. Ignoring this guideline may work for specific tasks but sooner or later you will get strange behavior and/or crashes!","title":"Is there a way to set up two or more the event dispatch thread (EDT)?","body":"<p>There can only be one Event Dispatch Thread!</p>\n\n<p>But why would you even want to have more than one thread for this? Even for \"heavy duty\" panels with many components (in the application i am currently working on there must be 1000s of components) one EDT is enough. Remember you should not perform any tasks on the EDT that use a lot of CPU time. Otherwise you will block the EDT for update events and your GUI will become \"sluggish\" in responding to user input.</p>\n\n<p>Also remember that all GUI components should be created and manipulated only from within the EDT because many components are not thread save. Ignoring this guideline may work for specific tasks but sooner or later you will get strange behavior and/or crashes!</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420647173,"creation_date":1420647173,"answer_id":27823664,"question_id":27822966,"body_markdown":"The Swing GUI is single threaded. That single thread being the EDT. If you wanted to introduce a second EDT (and still have the GUI working) you would have to also rewrite a lot of the internal Swing code to account for the added complexity of thread safety.\r\n\r\nAdding another EDT would introduce more complexity for an unknown amount of increase (or decrease) in performance.","title":"Is there a way to set up two or more the event dispatch thread (EDT)?","body":"<p>The Swing GUI is single threaded. That single thread being the EDT. If you wanted to introduce a second EDT (and still have the GUI working) you would have to also rewrite a lot of the internal Swing code to account for the added complexity of thread safety.</p>\n\n<p>Adding another EDT would introduce more complexity for an unknown amount of increase (or decrease) in performance.</p>\n"},{"tags":[],"owner":{"account_id":4970075,"reputation":46,"user_id":3998190,"display_name":"Ivo Andonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663072724,"creation_date":1663072724,"answer_id":73703215,"question_id":27822966,"body_markdown":"The following applies in case one uses the Sun toolkit. I am not sure about other Java implementations (have not tested it).\r\n\r\nOne can have multiple EDT threads provided the toolkit is initialized from multiple threads from separate thread groups.\r\n\r\nPoC code:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] argv) {\r\n    \t\tfor (int i = 0; i &lt; 5; i++) {\r\n    \t\t\t// the separate thread group is needed at least for the Sun toolkit\r\n    \t\t\tThreadGroup tg = new ThreadGroup(&quot;Test Group &quot; + i);\r\n    \t\t\tThread t = new Thread(tg, new Runnable() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void run() {\r\n    \t\t\t\t\tstartApp();\r\n    \t\t\t\t}\r\n    \t\t\t}, &quot;Test &quot; + i);\r\n    \t\t\tt.start();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static void startApp() {\r\n    \t\tsun.awt.SunToolkit.createNewAppContext();\r\n    \t\tfinal JFrame frm = new JFrame(Thread.currentThread().getName()) {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void setVisible(boolean b) {\r\n    \t\t\t\tsuper.setVisible(b);\r\n    \t\t\t\tSystem.out.println(&quot;Closed&quot;);\r\n    \t\t\t\tif (!b) dispose();\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tfinal JTextArea ta = new JTextArea();\r\n    \t\tfrm.add(ta);\r\n    \t\tJButton btn = new JButton(&quot;Dialog&quot;);\r\n    \t\t// Showing a modal dialog will block only this frame\r\n    \t\tbtn.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(frm, &quot;Test message from &quot; + frm.getTitle());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tfrm.add(btn, BorderLayout.SOUTH);\r\n    \t\tfrm.setPreferredSize(new Dimension(300, 300));\r\n    \t\tfrm.pack();\r\n    \t\tfrm.show();\r\n    \t\tThread t = new Thread(new Runnable() {\r\n    \t\t\tint i = 0;\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\twhile (true) {\r\n    \t\t\t\t\t\ti++;\r\n    \t\t\t\t\t\tif (!frm.isVisible()) break;\r\n    \t\t\t\t\t\tSwingUtilities.invokeAndWait(new Runnable() {\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\t\tta.getDocument().insertString(0, &quot;Test &quot; + i + &quot; &quot; +\r\n    \t\t\t\t\t\t\t\t\t\tThread.currentThread().hashCode()  + // This is to show that we are actually on a different thread as invokeAndWait is static and one may suspect a different behaviour\r\n    \t\t\t\t\t\t\t\t\t\t&quot;\\n&quot;, null);\r\n    \t\t\t\t\t\t\t\t} catch (Throwable t) {\r\n    \t\t\t\t\t\t\t\t\tt.printStackTrace();\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t});\r\n    \t\t\t\t\t\tThread.sleep(1000 + (int)(Math.random() * 500));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tThread.sleep(4000); // This is just to show that the deamon thread might not have ended before the toolkit calls System.exit\r\n    \t\t\t\t} catch (Throwable t) {\r\n    \t\t\t\t\tt.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; exit&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tt.setDaemon(true);\r\n    \t\tt.start();\r\n    \t}\r\n    }\r\n\r\nThe above code demonstrates opening 5 frames on separate EDTs. When each frame is closed and disposed the respective EDT ends. When all the frames are closed and disposed the app will exit (automatically).\r\n\r\nNotes:\r\n - one should not use (mix) components created in one EDT from another EDT;\r\n - closing the modal dialog from the example has the side effect of not returning the focus to the parent frame (as one would expect) but to any of the others.\r\n\r\nI use the above approach in order to measure the height of a wrap enabled JTextArea that is populated with a multitude of different texts that might take some time and during that time I do not want to block the main UI. The result (the measured heights) is used on the main UI.\r\n\r\nTested with Java 1.6.0_25 and 1.8.0_60.","title":"Is there a way to set up two or more the event dispatch thread (EDT)?","body":"<p>The following applies in case one uses the Sun toolkit. I am not sure about other Java implementations (have not tested it).</p>\n<p>One can have multiple EDT threads provided the toolkit is initialized from multiple threads from separate thread groups.</p>\n<p>PoC code:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n    public static void main(String[] argv) {\n        for (int i = 0; i &lt; 5; i++) {\n            // the separate thread group is needed at least for the Sun toolkit\n            ThreadGroup tg = new ThreadGroup(&quot;Test Group &quot; + i);\n            Thread t = new Thread(tg, new Runnable() {\n                @Override\n                public void run() {\n                    startApp();\n                }\n            }, &quot;Test &quot; + i);\n            t.start();\n        }\n    }\n    \n    private static void startApp() {\n        sun.awt.SunToolkit.createNewAppContext();\n        final JFrame frm = new JFrame(Thread.currentThread().getName()) {\n            @Override\n            public void setVisible(boolean b) {\n                super.setVisible(b);\n                System.out.println(&quot;Closed&quot;);\n                if (!b) dispose();\n            }\n        };\n        final JTextArea ta = new JTextArea();\n        frm.add(ta);\n        JButton btn = new JButton(&quot;Dialog&quot;);\n        // Showing a modal dialog will block only this frame\n        btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(frm, &quot;Test message from &quot; + frm.getTitle());\n            }\n        });\n        frm.add(btn, BorderLayout.SOUTH);\n        frm.setPreferredSize(new Dimension(300, 300));\n        frm.pack();\n        frm.show();\n        Thread t = new Thread(new Runnable() {\n            int i = 0;\n            @Override\n            public void run() {\n                try {\n                    while (true) {\n                        i++;\n                        if (!frm.isVisible()) break;\n                        SwingUtilities.invokeAndWait(new Runnable() {\n                            @Override\n                            public void run() {\n                                try {\n                                    ta.getDocument().insertString(0, &quot;Test &quot; + i + &quot; &quot; +\n                                        Thread.currentThread().hashCode()  + // This is to show that we are actually on a different thread as invokeAndWait is static and one may suspect a different behaviour\n                                        &quot;\\n&quot;, null);\n                                } catch (Throwable t) {\n                                    t.printStackTrace();\n                                }\n                            }\n                        });\n                        Thread.sleep(1000 + (int)(Math.random() * 500));\n                    }\n                    Thread.sleep(4000); // This is just to show that the deamon thread might not have ended before the toolkit calls System.exit\n                } catch (Throwable t) {\n                    t.printStackTrace();\n                }\n                System.out.println(&quot;Thread &quot; + Thread.currentThread().getName() + &quot; exit&quot;);\n            }\n        });\n        t.setDaemon(true);\n        t.start();\n    }\n}\n</code></pre>\n<p>The above code demonstrates opening 5 frames on separate EDTs. When each frame is closed and disposed the respective EDT ends. When all the frames are closed and disposed the app will exit (automatically).</p>\n<p>Notes:</p>\n<ul>\n<li>one should not use (mix) components created in one EDT from another EDT;</li>\n<li>closing the modal dialog from the example has the side effect of not returning the focus to the parent frame (as one would expect) but to any of the others.</li>\n</ul>\n<p>I use the above approach in order to measure the height of a wrap enabled JTextArea that is populated with a multitude of different texts that might take some time and during that time I do not want to block the main UI. The result (the measured heights) is used on the main UI.</p>\n<p>Tested with Java 1.6.0_25 and 1.8.0_60.</p>\n"}],"owner":{"account_id":3002985,"reputation":150,"user_id":3135184,"accept_rate":86,"display_name":"mk7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":27823190,"answer_count":3,"score":5,"last_activity_date":1663072724,"creation_date":1420645001,"question_id":27822966,"body_markdown":"Is Java capable of creating more than one EDT at a time?\r\n\r\n\r\nI&#39;m experimenting with setting up EDT and how it works in updating the content of a &quot;heavy duty&quot; panel with potentially a dozen of panels embedded inside and with hundreds of components altogether. Currently I have\r\n\r\n            \r\n        \tpublic void run() {\r\n\t        \tSwingUtilities.invokeLater(new Runnable() {\r\n\t    \t\t\tpublic void run() {\r\n\t    \t\t        panel.update();\r\n\t    \t\t\t}\r\n\t    \t\t});\r\n        \t}\r\n        \r\n\r\n\r\nI&#39;ve looked at the following posts:\r\n\r\nhttps://stackoverflow.com/questions/4473520/measuring-busyness-of-the-event-dispatching-thread \r\n\r\nhttps://stackoverflow.com/questions/2484425/how-does-the-event-dispatch-thread-work\r\n\r\nhttps://stackoverflow.com/questions/7217013/java-event-dispatching-thread-explanation\r\n\r\nhttp://en.wiki2.org/wiki/Event_dispatching_thread\r\n\r\nand so forth.\r\n\r\n\r\nI sort of understand that if there are, say a dozen of events, that an single EDT has to handle, Java already has an internal scheduling mechanism to group/prioritize these events.\r\n\r\nAccording to http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n\r\n    &quot;This is necessary because most Swing object methods are not &quot;thread safe&quot;: invoking them from multiple threads risks thread interference or memory consistency errors.&quot;\r\n\r\n \r\nSo what if I create a 2nd EDT with new Thread(new Runnable() { ... }.start() below?\r\n\r\nWill java automatically merge the two EDTs back to one for fear of thread safety?\r\n\r\n\r\n           new Thread(new Runnable() {\r\n        \tpublic void run() {\r\n\t        \tSwingUtilities.invokeLater(new Runnable() {\r\n\t    \t\t\tpublic void run() {\r\n\t    \t\t        panel.update();\r\n\t    \t\t\t}\r\n\t    \t\t});\r\n        \t}\r\n        }).start();\r\n\r\n\r\n","title":"Is there a way to set up two or more the event dispatch thread (EDT)?","body":"<p>Is Java capable of creating more than one EDT at a time?</p>\n\n<p>I'm experimenting with setting up EDT and how it works in updating the content of a \"heavy duty\" panel with potentially a dozen of panels embedded inside and with hundreds of components altogether. Currently I have</p>\n\n<pre><code>        public void run() {\n            SwingUtilities.invokeLater(new Runnable() {\n                public void run() {\n                    panel.update();\n                }\n            });\n        }\n</code></pre>\n\n<p>I've looked at the following posts:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4473520/measuring-busyness-of-the-event-dispatching-thread\">Measuring &quot;busyness&quot; of the event dispatching thread</a> </p>\n\n<p><a href=\"https://stackoverflow.com/questions/2484425/how-does-the-event-dispatch-thread-work\">How does the event dispatch thread work?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7217013/java-event-dispatching-thread-explanation\">Java Event-Dispatching Thread explanation</a></p>\n\n<p><a href=\"http://en.wiki2.org/wiki/Event_dispatching_thread\" rel=\"nofollow noreferrer\">http://en.wiki2.org/wiki/Event_dispatching_thread</a></p>\n\n<p>and so forth.</p>\n\n<p>I sort of understand that if there are, say a dozen of events, that an single EDT has to handle, Java already has an internal scheduling mechanism to group/prioritize these events.</p>\n\n<p>According to <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html</a></p>\n\n<pre><code>\"This is necessary because most Swing object methods are not \"thread safe\": invoking them from multiple threads risks thread interference or memory consistency errors.\"\n</code></pre>\n\n<p>So what if I create a 2nd EDT with new Thread(new Runnable() { ... }.start() below?</p>\n\n<p>Will java automatically merge the two EDTs back to one for fear of thread safety?</p>\n\n<pre><code>       new Thread(new Runnable() {\n        public void run() {\n            SwingUtilities.invokeLater(new Runnable() {\n                public void run() {\n                    panel.update();\n                }\n            });\n        }\n    }).start();\n</code></pre>\n"},{"tags":["java","numbers"],"comments":[{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1662220773,"post_id":73593608,"comment_id":129958236,"body_markdown":"It will never be the case a number equals one and is divisible by two.","body":"It will never be the case a number equals one and is divisible by two."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":5,"creation_date":1662220773,"post_id":73593608,"comment_id":129958237,"body_markdown":"Look at your logic. It will be false for all inputs. You&#39;re saying that the number &quot;has to equal 1 AND be even&quot;","body":"Look at your logic. It will be false for all inputs. You&#39;re saying that the number &quot;has to equal 1 AND be even&quot;"},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":1,"creation_date":1662220802,"post_id":73593608,"comment_id":129958247,"body_markdown":"I think you need to replace `==` with `&gt;=`","body":"I think you need to replace <code>==</code> with <code>&gt;=</code>"},{"owner":{"account_id":85671,"reputation":40848,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1662232926,"post_id":73593608,"comment_id":129960696,"body_markdown":"*parity* is usually defined as the sum of the bits mod 2, but your test only looks at the low-order bit.","body":"<i>parity</i> is usually defined as the sum of the bits mod 2, but your test only looks at the low-order bit."}],"answers":[{"tags":[],"owner":{"account_id":11402627,"reputation":53,"user_id":8359115,"display_name":"Dr.Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663072603,"creation_date":1663072603,"answer_id":73703179,"question_id":73593608,"body_markdown":"completed the task.The error was related to num == 1. It was necessary to display num &gt;= 1","title":"Checking a number for parity","body":"<p>completed the task.The error was related to num == 1. It was necessary to display num &gt;= 1</p>\n"}],"owner":{"account_id":11402627,"reputation":53,"user_id":8359115,"display_name":"Dr.Joe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73703179,"answer_count":1,"score":-1,"last_activity_date":1663072603,"creation_date":1662220610,"question_id":73593608,"body_markdown":"To check that both expressions are true, you need to use &amp;&amp;. Syntax\r\nexpression1 &amp;&amp; expression2\r\nIn this problem, you need to check that the number passed is positive AND even\r\n\r\nmy code:\r\n\r\n    public static boolean check(int num) {\r\n            boolean result = (num == 1 &amp;&amp; num % 2 == 0);\r\n            return result;\r\n    }\r\n\r\ntest:\r\n\r\n    @Test\r\n    public void test() {\r\n        assertFalse(LogicAnd.check(-1));\r\n        assertFalse(LogicAnd.check(1));\r\n        assertTrue(LogicAnd.check(2));\r\n    }\r\n\r\nerror:\r\n\r\n&gt; java.lang.AssertionError: expected [true] but found [false]\r\n&gt; \r\n&gt; \tat org.testng.Assert.fail(Assert.java:93) \tat\r\n&gt; org.testng.Assert.failNotEquals(Assert.java:512) \tat\r\n&gt; org.testng.Assert.assertTrue(Assert.java:41) \tat\r\n&gt; org.testng.Assert.assertTrue(Assert.java:51) \tat\r\n&gt; ru.job4j.sentence.LogicAndTest.test(LogicAndTest.java:14) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) \tat\r\n&gt; org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n&gt; \tat\r\n&gt; org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n&gt; \tat\r\n&gt; org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n&gt; \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) \tat\r\n&gt; org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n&gt; \tat\r\n&gt; org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n&gt; \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) \tat\r\n&gt; org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) \tat\r\n&gt; org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) \tat\r\n&gt; org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) \tat\r\n&gt; org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) \tat\r\n&gt; org.junit.runners.ParentRunner.run(ParentRunner.java:363) \tat\r\n&gt; org.junit.runner.JUnitCore.run(JUnitCore.java:137) \tat\r\n&gt; com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n&gt; \tat\r\n&gt; com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n&gt; \tat\r\n&gt; com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n&gt; \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n\r\n\r\nPlease help me to correct","title":"Checking a number for parity","body":"<p>To check that both expressions are true, you need to use &amp;&amp;. Syntax\nexpression1 &amp;&amp; expression2\nIn this problem, you need to check that the number passed is positive AND even</p>\n<p>my code:</p>\n<pre><code>public static boolean check(int num) {\n        boolean result = (num == 1 &amp;&amp; num % 2 == 0);\n        return result;\n}\n</code></pre>\n<p>test:</p>\n<pre><code>@Test\npublic void test() {\n    assertFalse(LogicAnd.check(-1));\n    assertFalse(LogicAnd.check(1));\n    assertTrue(LogicAnd.check(2));\n}\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>java.lang.AssertionError: expected [true] but found [false]</p>\n<p>at org.testng.Assert.fail(Assert.java:93)   at\norg.testng.Assert.failNotEquals(Assert.java:512)  at\norg.testng.Assert.assertTrue(Assert.java:41)  at\norg.testng.Assert.assertTrue(Assert.java:51)  at\nru.job4j.sentence.LogicAndTest.test(LogicAndTest.java:14)     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)   at\norg.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat\norg.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat\norg.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat\norg.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)    at\norg.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat\norg.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)  at\norg.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)   at\norg.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)     at\norg.junit.runners.ParentRunner.access$000(ParentRunner.java:58)   at\norg.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)  at\norg.junit.runners.ParentRunner.run(ParentRunner.java:363)     at\norg.junit.runner.JUnitCore.run(JUnitCore.java:137)    at\ncom.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat\ncom.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat\ncom.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)</p>\n</blockquote>\n<p>Please help me to correct</p>\n"},{"tags":["java","function","reflection"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304499535,"creation_date":1304499535,"answer_id":5880977,"question_id":5880941,"body_markdown":"You&#39;re almost there. Once you have the `Method` object, just call it like this:\r\n\r\n    String param = (String) m.invoke(pObj.getSecClass());\r\n\r\nNote that such reflection games can lead to hard-to-grasp and complicated code that can be hard to maintain. If you told us what the numbered parameters represent, then we could provide a better solution (possibly a single parameter that is a `List&lt;String&gt;`?).","title":"calling numbered function name in loop using java reflection","body":"<p>You're almost there. Once you have the <code>Method</code> object, just call it like this:</p>\n\n<pre><code>String param = (String) m.invoke(pObj.getSecClass());\n</code></pre>\n\n<p>Note that such reflection games can lead to hard-to-grasp and complicated code that can be hard to maintain. If you told us what the numbered parameters represent, then we could provide a better solution (possibly a single parameter that is a <code>List&lt;String&gt;</code>?).</p>\n"},{"tags":[],"owner":{"account_id":37250,"reputation":12091,"user_id":106463,"display_name":"Mihai Toader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304499615,"creation_date":1304499615,"answer_id":5880992,"question_id":5880941,"body_markdown":"Like this:\r\n\r\n    Object result = m.invoke(pObj.getSecClass)","title":"calling numbered function name in loop using java reflection","body":"<p>Like this:</p>\n\n<pre><code>Object result = m.invoke(pObj.getSecClass)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1304500630,"creation_date":1304500630,"answer_id":5881179,"question_id":5880941,"body_markdown":"Are you sure this is what you need? For me, your code seems to be a typical example of the current trend of abusing reflection for every task. Why don&#39;t you use arrays or maps to store the properties `p[0-9]+Param`. \r\n\r\nArrays were invented to do exactly that. They provide a range of variables, indexed by numbers.","title":"calling numbered function name in loop using java reflection","body":"<p>Are you sure this is what you need? For me, your code seems to be a typical example of the current trend of abusing reflection for every task. Why don't you use arrays or maps to store the properties <code>p[0-9]+Param</code>. </p>\n\n<p>Arrays were invented to do exactly that. They provide a range of variables, indexed by numbers.</p>\n"}],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5881179,"answer_count":3,"score":2,"last_activity_date":1663072539,"creation_date":1304499363,"question_id":5880941,"body_markdown":"i have a problem as :\r\nMyFirstClass.java\r\n\r\n    public class MyFirstClass{\r\n      String strParam;\r\n      MySecondClass secClass;\r\n      //getters and setters\r\n    }\r\n\r\nMySecondClass.java\r\n\r\n    public class MySecondClass{\r\n      String p1Param;\r\n      String p2Param;\r\n      String p3Param;\r\n      String p4Param;\r\n    //setters and getters\r\n    }\r\n\r\n\r\nTestClass.java\r\n\r\n    public void doProcessing(MyFirstClass pObj){\r\n      for(int i=0;i&lt;3;i++){\r\n      System.out.println() ;\r\n      //###question is here\r\n    }\r\n\r\nI want to use java reflection and call the pObj.getP**Param() methods in for loop by providing the parameters to g\r\n\r\n   \r\n\r\n    Method m= cls.getMethod(&quot;getP&quot;+(i+1)+&quot;Param&quot;);\r\n    pObj.getSecClass.[ invokeMethod m ]\r\n\r\nHow it can be made possible. \r\nI don&#39;t want to use array of p*Params.\r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"calling numbered function name in loop using java reflection","body":"<p>i have a problem as :\nMyFirstClass.java</p>\n\n<pre><code>public class MyFirstClass{\n  String strParam;\n  MySecondClass secClass;\n  //getters and setters\n}\n</code></pre>\n\n<p>MySecondClass.java</p>\n\n<pre><code>public class MySecondClass{\n  String p1Param;\n  String p2Param;\n  String p3Param;\n  String p4Param;\n//setters and getters\n}\n</code></pre>\n\n<p>TestClass.java</p>\n\n<pre><code>public void doProcessing(MyFirstClass pObj){\n  for(int i=0;i&lt;3;i++){\n  System.out.println() ;\n  //###question is here\n}\n</code></pre>\n\n<p>I want to use java reflection and call the pObj.getP**Param() methods in for loop by providing the parameters to g</p>\n\n<pre><code>Method m= cls.getMethod(\"getP\"+(i+1)+\"Param\");\npObj.getSecClass.[ invokeMethod m ]\n</code></pre>\n\n<p>How it can be made possible. \nI don't want to use array of p*Params.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","media-player","wear-os"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663072394,"creation_date":1663072394,"answer_id":73703127,"question_id":73701889,"body_markdown":"No, it&#39;s not possible without a companion app.  \r\n\r\nThere is not a public API for this, so only the system can enable this currently. But there are a few ways to implement it, mostly with a companion app which means the wear and mobile apps share the same package and signature. The most obvious way is to use the Wear DataLayer, specifically the MessageClient and DataClient to send commands between the paired apps that you control.\r\n\r\nIf you implemented a paired app on Mobile that uses special notification permissions, then it could control the sessions for other apps on the mobile on your behalf. Essentially doing the same as the [MCT app][1] does.\r\n\r\nMedia Remote control is something we are considering implementing in https://github.com/google/horologist for Wear Media Apps. But not for controlling sessions for other apps.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/media-apps/audio-app/media-controller-test","title":"Controlling Media on phone from WearOS Watch","body":"<p>No, it's not possible without a companion app.</p>\n<p>There is not a public API for this, so only the system can enable this currently. But there are a few ways to implement it, mostly with a companion app which means the wear and mobile apps share the same package and signature. The most obvious way is to use the Wear DataLayer, specifically the MessageClient and DataClient to send commands between the paired apps that you control.</p>\n<p>If you implemented a paired app on Mobile that uses special notification permissions, then it could control the sessions for other apps on the mobile on your behalf. Essentially doing the same as the <a href=\"https://developer.android.com/guide/topics/media-apps/audio-app/media-controller-test\" rel=\"nofollow noreferrer\">MCT app</a> does.</p>\n<p>Media Remote control is something we are considering implementing in <a href=\"https://github.com/google/horologist\" rel=\"nofollow noreferrer\">https://github.com/google/horologist</a> for Wear Media Apps. But not for controlling sessions for other apps.</p>\n"}],"owner":{"account_id":12614909,"reputation":65,"user_id":10750114,"display_name":"Madmagic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73703127,"answer_count":1,"score":2,"last_activity_date":1663072394,"creation_date":1663067255,"question_id":73701889,"body_markdown":"Is it possible to make an app like the media controller app that WearOS comes with yourself?  \r\nIm asking because I want to design my own watch face that has media controls on it. There is a surprising lack of online documentation and people with this same question about this, which makes me think this is impossible to do.  \r\n\r\nIve seen some watch faces that do this, such as the default face for the Wacth4 Classic from Samsung, but thats a system installed app so ofcourse it has moer permissions.  \r\n\r\nI have tried to use androidx mediaRouter but i keep getting a &quot;There is no current session&quot; error on the only available route when trying to use any command from the RemotePlaybackClient, which would indicate its controlling the media from the watch itself and not the phone.\r\n\r\nIs there any possibility to do this without a companion app or is this restricted to system apps only?","title":"Controlling Media on phone from WearOS Watch","body":"<p>Is it possible to make an app like the media controller app that WearOS comes with yourself?<br />\nIm asking because I want to design my own watch face that has media controls on it. There is a surprising lack of online documentation and people with this same question about this, which makes me think this is impossible to do.</p>\n<p>Ive seen some watch faces that do this, such as the default face for the Wacth4 Classic from Samsung, but thats a system installed app so ofcourse it has moer permissions.</p>\n<p>I have tried to use androidx mediaRouter but i keep getting a &quot;There is no current session&quot; error on the only available route when trying to use any command from the RemotePlaybackClient, which would indicate its controlling the media from the watch itself and not the phone.</p>\n<p>Is there any possibility to do this without a companion app or is this restricted to system apps only?</p>\n"},{"tags":["java","kotlin","hdmi","hdmi-cec"],"owner":{"account_id":25986756,"reputation":11,"user_id":19699622,"display_name":"Sameer Meena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663072379,"creation_date":1663072132,"question_id":73703046,"body_markdown":"https://stackoverflow.com/questions/47892639/hdmi-cec-on-android\r\n\r\nHello in regard of the above post I have some questions Please first **go through** the above mentioned link.\r\nReflection has been used to access the HDMI cec apis in android I want to send power ON/OFF command through android tv which has been installed on Raspberry pie and a TV is connected to the \r\nraspberry pie through HDMI I want to send simple power ON/OFF command to the target device(i.e TV)\r\n \r\n\r\n     fun PowerOFFTargetTv(context: Context){\r\n            try {\r\n                val hdmiDeviceInfoClass =\r\n                    Class.forName(&quot;android.hardware.hdmi.HdmiDeviceInfo&quot;)\r\n    \r\n                val m: Method = context.javaClass.getMethod(&quot;getSystemService&quot;, String::class.java)\r\n                val objHdmicontrolmanager: Any = m.invoke(context, &quot;hdmi_control&quot; as Any)\r\n    \r\n                val objectDeviceBuilder = hdmiDeviceInfoClass.javaClass.getMethod(&quot;cecDeviceBuilder&quot;)\r\n                val m_hdmiDeviceInfo = hdmiDeviceInfoClass.javaClass.getConstructor()\r\n                val objDeviceInfo = m_hdmiDeviceInfo.newInstance();\r\n    \r\n                Log.d(\r\n                    &quot;HdmiHelper&quot;,\r\n                    &quot;obj &quot; + objDeviceInfo +&quot;|&quot;+objDeviceInfo.javaClass\r\n                )\r\n                val m_PowerOffTargetTv: Method =\r\n                    objHdmicontrolmanager.javaClass.getMethod(&quot;powerOffRemoteDevice&quot;,hdmiDeviceInfoClass)\r\n    \r\n                m_PowerOffTargetTv.invoke(objHdmicontrolmanager, objDeviceInfo)\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n    \r\n        }\r\n\r\nThis is the Function I have written which will be called for sending the Say Power OFF command\r\nhttps://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/hdmi/HdmiDeviceInfo.java -&gt; link for the HDMI device info class\r\n\r\nCan anyone help me in this, how to make an instance of HdmiDeviceInfo in my case using reflection and so that it can be sent as  a param using reflection in the powerOffDevice  method of HdmiControlManager Class of android \r\n","title":"Android system apis using reflection","body":"<p><a href=\"https://stackoverflow.com/questions/47892639/hdmi-cec-on-android\">HDMI CEC on android</a></p>\n<p>Hello in regard of the above post I have some questions Please first <strong>go through</strong> the above mentioned link.\nReflection has been used to access the HDMI cec apis in android I want to send power ON/OFF command through android tv which has been installed on Raspberry pie and a TV is connected to the\nraspberry pie through HDMI I want to send simple power ON/OFF command to the target device(i.e TV)</p>\n<pre><code> fun PowerOFFTargetTv(context: Context){\n        try {\n            val hdmiDeviceInfoClass =\n                Class.forName(&quot;android.hardware.hdmi.HdmiDeviceInfo&quot;)\n\n            val m: Method = context.javaClass.getMethod(&quot;getSystemService&quot;, String::class.java)\n            val objHdmicontrolmanager: Any = m.invoke(context, &quot;hdmi_control&quot; as Any)\n\n            val objectDeviceBuilder = hdmiDeviceInfoClass.javaClass.getMethod(&quot;cecDeviceBuilder&quot;)\n            val m_hdmiDeviceInfo = hdmiDeviceInfoClass.javaClass.getConstructor()\n            val objDeviceInfo = m_hdmiDeviceInfo.newInstance();\n\n            Log.d(\n                &quot;HdmiHelper&quot;,\n                &quot;obj &quot; + objDeviceInfo +&quot;|&quot;+objDeviceInfo.javaClass\n            )\n            val m_PowerOffTargetTv: Method =\n                objHdmicontrolmanager.javaClass.getMethod(&quot;powerOffRemoteDevice&quot;,hdmiDeviceInfoClass)\n\n            m_PowerOffTargetTv.invoke(objHdmicontrolmanager, objDeviceInfo)\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n\n    }\n</code></pre>\n<p>This is the Function I have written which will be called for sending the Say Power OFF command\n<a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/hdmi/HdmiDeviceInfo.java\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/hdmi/HdmiDeviceInfo.java</a> -&gt; link for the HDMI device info class</p>\n<p>Can anyone help me in this, how to make an instance of HdmiDeviceInfo in my case using reflection and so that it can be sent as  a param using reflection in the powerOffDevice  method of HdmiControlManager Class of android</p>\n"},{"tags":["java","oop","design-patterns","continuous-deployment","state-pattern"],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663021574,"creation_date":1663021574,"answer_id":73695837,"question_id":73692289,"body_markdown":"I think you&#39;re making a mistake.  A lot of times, this &quot;mixed fleet&quot; issue is going to be a feature, not a bug.  In addition, this notion of &quot;version&quot; that you want to add creates complexity and restrictions, but adds very little value.\r\n\r\nI think you just need to change your idea of what a state is.  It&#39;s not &quot;a step in the workflow&quot;.  It&#39;s the entire remainder workflow process.  That remaining process may involve multiple steps or it may not, but it&#39;s up to the state implementation to decide.\r\n\r\nIn a typical implementation of this kind of workflow system, there is a persisted &quot;current state&quot;.  When an event occurs, the current state is read from the DB and hydrated somehow into an implementation object.  A handler in that object is then called to perform the appropriate action, and optionally return a new current state definition to be persisted.\r\n\r\nThe key to making a system like this comprehensible and maintainable is the design of the persisted state representation.  This representation is the *language* that a state implementation uses to define what happens next.  That language should be expressive enough to define any remaining process that might be necessary, and also *simple, straightforward, and unambiguous*, so that there is no confusion about how the serialized definition of &quot;what happens next&quot; turns into an implementation.\r\n\r\nYour version idea ruins the &quot;simple, straightforward&quot; part, making it more difficult to figure out what&#39;s going to happen next in any workflow.\r\n\r\nTo make this concrete, lets consider your example...\r\n\r\nIn version 1, the start state transitions to the &quot;RetrieveAndPublishFile&quot; state.  That state then transitions to the &quot;PublishFileData&quot; state.  See how the name reflects the whole remainder of the process?\r\n\r\nIn version 2, you change the &quot;RetrieveAndPublishFile&quot; implementation so that it transitions to &quot;CleanPiiAndPublish&quot; instead of &quot;PublishFileData&quot;.  The &quot;CleanPiiAndPublish&quot; state cleans out the PII and then transitions to the &quot;PublishFileData&quot; state that you already have. ","title":"Best way to apply versioning to State object-oriented design pattern?","body":"<p>I think you're making a mistake.  A lot of times, this &quot;mixed fleet&quot; issue is going to be a feature, not a bug.  In addition, this notion of &quot;version&quot; that you want to add creates complexity and restrictions, but adds very little value.</p>\n<p>I think you just need to change your idea of what a state is.  It's not &quot;a step in the workflow&quot;.  It's the entire remainder workflow process.  That remaining process may involve multiple steps or it may not, but it's up to the state implementation to decide.</p>\n<p>In a typical implementation of this kind of workflow system, there is a persisted &quot;current state&quot;.  When an event occurs, the current state is read from the DB and hydrated somehow into an implementation object.  A handler in that object is then called to perform the appropriate action, and optionally return a new current state definition to be persisted.</p>\n<p>The key to making a system like this comprehensible and maintainable is the design of the persisted state representation.  This representation is the <em>language</em> that a state implementation uses to define what happens next.  That language should be expressive enough to define any remaining process that might be necessary, and also <em>simple, straightforward, and unambiguous</em>, so that there is no confusion about how the serialized definition of &quot;what happens next&quot; turns into an implementation.</p>\n<p>Your version idea ruins the &quot;simple, straightforward&quot; part, making it more difficult to figure out what's going to happen next in any workflow.</p>\n<p>To make this concrete, lets consider your example...</p>\n<p>In version 1, the start state transitions to the &quot;RetrieveAndPublishFile&quot; state.  That state then transitions to the &quot;PublishFileData&quot; state.  See how the name reflects the whole remainder of the process?</p>\n<p>In version 2, you change the &quot;RetrieveAndPublishFile&quot; implementation so that it transitions to &quot;CleanPiiAndPublish&quot; instead of &quot;PublishFileData&quot;.  The &quot;CleanPiiAndPublish&quot; state cleans out the PII and then transitions to the &quot;PublishFileData&quot; state that you already have.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663072336,"creation_date":1663045816,"answer_id":73697760,"question_id":73692289,"body_markdown":"State pattern is not about to add new step into behaviour, it is about change the whole behaviour without adding new steps.\r\nAs wiki says about [State pattern][1]:\r\n\r\n&gt; The state pattern is a behavioral software design pattern that allows\r\n&gt; an object to alter its behavior when its internal state changes. This\r\n&gt; pattern is close to the concept of **finite-state machines.**\r\n\r\nSo if you have the following methods in `State`:\r\n\r\n    public interface IState\r\n    {\r\n        void Run();\r\n    \r\n        void Swim();\r\n    \r\n        void Fly();\r\n    \r\n        IState GetNextState();\r\n    }\r\n\r\nThen if you will add new method in the above interface, then **you will need to add this new method in all concrete states**. And that what you do not want to do.\r\n\r\nIf you want to add new step or behavior, then Decorator pattern can be used. As wiki says [about decorator pattern][2]:\r\n\r\n&gt; In object-oriented programming, the decorator pattern is a design\r\n&gt; pattern **that allows behavior to be added to an individual object,\r\n&gt; dynamically, without affecting the behavior of other objects from the\r\n&gt; same class**. The decorator pattern is often useful for adhering to\r\n&gt; the Single Responsibility Principle, as it allows functionality to be\r\n&gt; divided between classes with unique areas of concern. Decorator use\r\n&gt; can be more efficient than subclassing, because an object&#39;s behavior\r\n&gt; can be augmented without defining an entirely new object.\r\n\r\nSo it looks like Decorator pattern is better fit for your requirements.\r\n \r\n&gt; Keeps state machine implementations fully isolated, but at the cost of an explosion of classes.\r\n\r\nyeah, if you add new step, then it is better to add new class. Yeah, the cost is an explosion of classes. On the other hand, your classes will have:\r\n- [single responsibility][3]  \r\n- great [separation of concerns][4] \r\n- your class will be smaller and it allows to be unit tested very well\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/State_pattern\r\n  [2]: https://en.wikipedia.org/wiki/Decorator_pattern\r\n  [3]: https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle\r\n  [4]: https://softwareengineering.stackexchange.com/questions/32581/how-do-you-explain-separation-of-concerns-to-others\r\n","title":"Best way to apply versioning to State object-oriented design pattern?","body":"<p>State pattern is not about to add new step into behaviour, it is about change the whole behaviour without adding new steps.\nAs wiki says about <a href=\"https://en.wikipedia.org/wiki/State_pattern\" rel=\"nofollow noreferrer\">State pattern</a>:</p>\n<blockquote>\n<p>The state pattern is a behavioral software design pattern that allows\nan object to alter its behavior when its internal state changes. This\npattern is close to the concept of <strong>finite-state machines.</strong></p>\n</blockquote>\n<p>So if you have the following methods in <code>State</code>:</p>\n<pre><code>public interface IState\n{\n    void Run();\n\n    void Swim();\n\n    void Fly();\n\n    IState GetNextState();\n}\n</code></pre>\n<p>Then if you will add new method in the above interface, then <strong>you will need to add this new method in all concrete states</strong>. And that what you do not want to do.</p>\n<p>If you want to add new step or behavior, then Decorator pattern can be used. As wiki says <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">about decorator pattern</a>:</p>\n<blockquote>\n<p>In object-oriented programming, the decorator pattern is a design\npattern <strong>that allows behavior to be added to an individual object,\ndynamically, without affecting the behavior of other objects from the\nsame class</strong>. The decorator pattern is often useful for adhering to\nthe Single Responsibility Principle, as it allows functionality to be\ndivided between classes with unique areas of concern. Decorator use\ncan be more efficient than subclassing, because an object's behavior\ncan be augmented without defining an entirely new object.</p>\n</blockquote>\n<p>So it looks like Decorator pattern is better fit for your requirements.</p>\n<blockquote>\n<p>Keeps state machine implementations fully isolated, but at the cost of an explosion of classes.</p>\n</blockquote>\n<p>yeah, if you add new step, then it is better to add new class. Yeah, the cost is an explosion of classes. On the other hand, your classes will have:</p>\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle\">single responsibility</a></li>\n<li>great <a href=\"https://softwareengineering.stackexchange.com/questions/32581/how-do-you-explain-separation-of-concerns-to-others\">separation of concerns</a></li>\n<li>your class will be smaller and it allows to be unit tested very well</li>\n</ul>\n"}],"owner":{"account_id":2654974,"reputation":33,"user_id":2295856,"display_name":"frankp124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73695837,"answer_count":2,"score":1,"last_activity_date":1663072336,"creation_date":1662999517,"question_id":73692289,"body_markdown":"## Main question\r\n\r\nWhat are some good ways to manage state machine versions (including states themselves, state transition methods, etc) in object-oriented design, particularly during deployments when multiple versions are available?\r\n\r\n## Context/application\r\n\r\nMy team is working on re-architecting a back-end microservice with better OOP design, and we&#39;ve opted to use the [State pattern](https://refactoring.guru/design-patterns/state) to model the various parts of the workflow. Execution of work in different states can often be separated by long periods of time as workflow execution is event-driven and sometimes can involve calling external services -- in other wrods: in one state, we&#39;ll call a dependency and wait until we get an asynchronous response/notification before moving to and executing work in the next state. \r\n\r\nAs such, there is a chance that we can run into a &quot;mixed fleet&quot; issue during software deployments when we update the state machine, the transition methods, etc. For example, suppose the &quot;v1&quot; state machine transitions looks like:\r\n\r\n```\r\nStart -&gt; File Retrieved -&gt; Hashing Complete -&gt; File Published   -&gt; Finished\r\n```\r\n\r\nand then suppose I want to add a new state to remove personally identifiable information (PII), which would go between *File Retrieved* and *Hashing Complete* and change the state transitions out of/into those states, respectively. The &quot;v2&quot; state machine transitions would now look like this: \r\n\r\n```\r\nStart -&gt; File Retrieved -&gt; PII Removed      -&gt; Hashing Complete -&gt; File Published -&gt; Finished\r\n```\r\n\r\nDuring deployment of this change, I want to make sure that **any requests that start with the OLD/&quot;v1&quot; state machine workflow continue to use that workflow,** rather than transitioning to the NEW/&quot;v2&quot; state machine workflow as it rolls out to the fleet.\r\n\r\n\r\nMy current approach is to store a &quot;version&quot; property/field in the database records with each request, so that it&#39;s easy to figure out with which state machine version the request was initiated. **Right now, I am stuck figuring out the best way to model the versions in code.** Some ideas I had:\r\n\r\n- Use separate Java packages for different versions. Use a Factory pattern or something that can instantiate state objects based on whatever version number is provided. Keeps state machine implementations fully isolated, but at the cost of an explosion of classes.\r\n- Integrate a &quot;version&quot; property/field into the state classes directly. Not sure how hard this would be to manage over time, and code might get ugly.\r\n- Something else?\r\n\r\nOpen to any suggestions. We&#39;ve also considered some alternative design patterns ([Pipeline](https://java-design-patterns.com/patterns/pipeline/), [CoR](https://refactoring.guru/design-patterns/chain-of-responsibility/java/example), etc) so open to exploring any of those as well.\r\n\r\nFor additional context: We&#39;re using the State pattern to make the workflows idempotent, abstract the business logic from orchestration,  and (most importantly) make it extremely easy for future developers to see exactly where business logic SHOULD live and how to add to/modify the workflow going forward.\r\n\r\nThanks!","title":"Best way to apply versioning to State object-oriented design pattern?","body":"<h2>Main question</h2>\n<p>What are some good ways to manage state machine versions (including states themselves, state transition methods, etc) in object-oriented design, particularly during deployments when multiple versions are available?</p>\n<h2>Context/application</h2>\n<p>My team is working on re-architecting a back-end microservice with better OOP design, and we've opted to use the <a href=\"https://refactoring.guru/design-patterns/state\" rel=\"nofollow noreferrer\">State pattern</a> to model the various parts of the workflow. Execution of work in different states can often be separated by long periods of time as workflow execution is event-driven and sometimes can involve calling external services -- in other wrods: in one state, we'll call a dependency and wait until we get an asynchronous response/notification before moving to and executing work in the next state.</p>\n<p>As such, there is a chance that we can run into a &quot;mixed fleet&quot; issue during software deployments when we update the state machine, the transition methods, etc. For example, suppose the &quot;v1&quot; state machine transitions looks like:</p>\n<pre><code>Start -&gt; File Retrieved -&gt; Hashing Complete -&gt; File Published   -&gt; Finished\n</code></pre>\n<p>and then suppose I want to add a new state to remove personally identifiable information (PII), which would go between <em>File Retrieved</em> and <em>Hashing Complete</em> and change the state transitions out of/into those states, respectively. The &quot;v2&quot; state machine transitions would now look like this:</p>\n<pre><code>Start -&gt; File Retrieved -&gt; PII Removed      -&gt; Hashing Complete -&gt; File Published -&gt; Finished\n</code></pre>\n<p>During deployment of this change, I want to make sure that <strong>any requests that start with the OLD/&quot;v1&quot; state machine workflow continue to use that workflow,</strong> rather than transitioning to the NEW/&quot;v2&quot; state machine workflow as it rolls out to the fleet.</p>\n<p>My current approach is to store a &quot;version&quot; property/field in the database records with each request, so that it's easy to figure out with which state machine version the request was initiated. <strong>Right now, I am stuck figuring out the best way to model the versions in code.</strong> Some ideas I had:</p>\n<ul>\n<li>Use separate Java packages for different versions. Use a Factory pattern or something that can instantiate state objects based on whatever version number is provided. Keeps state machine implementations fully isolated, but at the cost of an explosion of classes.</li>\n<li>Integrate a &quot;version&quot; property/field into the state classes directly. Not sure how hard this would be to manage over time, and code might get ugly.</li>\n<li>Something else?</li>\n</ul>\n<p>Open to any suggestions. We've also considered some alternative design patterns (<a href=\"https://java-design-patterns.com/patterns/pipeline/\" rel=\"nofollow noreferrer\">Pipeline</a>, <a href=\"https://refactoring.guru/design-patterns/chain-of-responsibility/java/example\" rel=\"nofollow noreferrer\">CoR</a>, etc) so open to exploring any of those as well.</p>\n<p>For additional context: We're using the State pattern to make the workflows idempotent, abstract the business logic from orchestration,  and (most importantly) make it extremely easy for future developers to see exactly where business logic SHOULD live and how to add to/modify the workflow going forward.</p>\n<p>Thanks!</p>\n"},{"tags":["java","math","equation"],"comments":[{"owner":{"account_id":992647,"reputation":120424,"user_id":1009479,"accept_rate":64,"display_name":"Yu Hao"},"score":1,"creation_date":1415953292,"post_id":26925669,"comment_id":42397765,"body_markdown":"Is it related to programming? Why is there lots of *s-h-i-t-s*?","body":"Is it related to programming? Why is there lots of <i>s-h-i-t-s</i>?"},{"owner":{"account_id":992647,"reputation":120424,"user_id":1009479,"accept_rate":64,"display_name":"Yu Hao"},"score":1,"creation_date":1415953719,"post_id":26925669,"comment_id":42397916,"body_markdown":"Add the programming language tag and include your code to the question. Right now the question isn&#39;t clear enough.","body":"Add the programming language tag and include your code to the question. Right now the question isn&#39;t clear enough."},{"owner":{"account_id":5330978,"reputation":29,"user_id":4251536,"display_name":"Mimi"},"score":0,"creation_date":1415954140,"post_id":26925669,"comment_id":42398084,"body_markdown":"Actuanlly I am just looking for that part of code that will return the number of papers that need moving for reaching specific paper. I want to make all other stuff on my own, arent looking for the entire program.","body":"Actuanlly I am just looking for that part of code that will return the number of papers that need moving for reaching specific paper. I want to make all other stuff on my own, arent looking for the entire program."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1415955435,"post_id":26925669,"comment_id":42398672,"body_markdown":"So **a** is the initial stack size, and **b** is the incrementation of the stack&#39;s size. Are you sure you can solve this without a loop? Unless you somehow write the recursive formula to determine the index, then use the formula for linear recursion to make it be a closed formula. I was trying to figure out a recursive formula just now, but I kinda got stuck and I&#39;m at work so my time is limited, sorry.","body":"So <b>a</b> is the initial stack size, and <b>b</b> is the incrementation of the stack&#39;s size. Are you sure you can solve this without a loop? Unless you somehow write the recursive formula to determine the index, then use the formula for linear recursion to make it be a closed formula. I was trying to figure out a recursive formula just now, but I kinda got stuck and I&#39;m at work so my time is limited, sorry."},{"owner":{"account_id":5330978,"reputation":29,"user_id":4251536,"display_name":"Mimi"},"score":0,"creation_date":1415955586,"post_id":26925669,"comment_id":42398738,"body_markdown":"Yes, this is what I am trying, actually I need the top paper number of that stack in which the indexed paper is in.\nSince number of papers that I will be searching for can be up to 5 digit number and that the paper numbers can be up to 16 digits, think that the loop would take to long. Having it for all searched papers yes, but not having a nested one for searching hoe many papers to move for each.","body":"Yes, this is what I am trying, actually I need the top paper number of that stack in which the indexed paper is in. Since number of papers that I will be searching for can be up to 5 digit number and that the paper numbers can be up to 16 digits, think that the loop would take to long. Having it for all searched papers yes, but not having a nested one for searching hoe many papers to move for each."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1415957096,"post_id":26925669,"comment_id":42399421,"body_markdown":"Getting the answer you&#39;re looking for seems better suited for http://math.stackexchange.com/","body":"Getting the answer you&#39;re looking for seems better suited for <a href=\"http://math.stackexchange.com/\">math.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":5075352,"reputation":742,"user_id":4072870,"accept_rate":90,"display_name":"Dane I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415955865,"creation_date":1415955865,"answer_id":26926335,"question_id":26925669,"body_markdown":"You need some sort of loop to do this. I can help with the math, but someone else may have to help with the programming\r\n\r\n    j=1\r\n    TOTAL = ja + (j-1)b\r\n    If the TOTAL is less than c, then let j=j+1 and loop\r\n    If the TOTAL is greater than c, end the loop (this loop shouldn&#39;t take too long)\r\n    Then calc TOTAL - c from it to get your answer\r\n\r\nThat method should work. But a presume a loop like this shouldnt take much power even with long numbers.\r\n","title":"Math &quot;non loop&quot; equation","body":"<p>You need some sort of loop to do this. I can help with the math, but someone else may have to help with the programming</p>\n\n<pre><code>j=1\nTOTAL = ja + (j-1)b\nIf the TOTAL is less than c, then let j=j+1 and loop\nIf the TOTAL is greater than c, end the loop (this loop shouldn't take too long)\nThen calc TOTAL - c from it to get your answer\n</code></pre>\n\n<p>That method should work. But a presume a loop like this shouldnt take much power even with long numbers.</p>\n"},{"tags":[],"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415958143,"creation_date":1415957835,"answer_id":26926879,"question_id":26925669,"body_markdown":"Mathy answer, but it might be enough to help you:\r\n\r\nStack number is the single integer solution of two inequalities:\r\n\r\n    ax + b(x-1)&gt; argument AND a(x-1) + b(x-2) &lt; argument\r\n\r\nWhether that can be computed without using a loop I cannot say and I don&#39;t know of any library that could help you (though I am not an expert in math Java libraries). After that the answer you&#39;re looking for is\r\n\r\n    a*x + b(x-1) - argument","title":"Math &quot;non loop&quot; equation","body":"<p>Mathy answer, but it might be enough to help you:</p>\n\n<p>Stack number is the single integer solution of two inequalities:</p>\n\n<pre><code>ax + b(x-1)&gt; argument AND a(x-1) + b(x-2) &lt; argument\n</code></pre>\n\n<p>Whether that can be computed without using a loop I cannot say and I don't know of any library that could help you (though I am not an expert in math Java libraries). After that the answer you're looking for is</p>\n\n<pre><code>a*x + b(x-1) - argument\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415960445,"creation_date":1415958181,"answer_id":26926984,"question_id":26925669,"body_markdown":"You don&#39;t need any loops for this. The number of papers in the `n`th pile is `a + (n-1)b`. So the number of papers in the first `n` piles is (arithmetic series) `(b/2)n^2 + (a - b/2)n`. \r\n\r\nUsing this, find the number of piles needed to get your paper. In your example, set this equal to 20 (and use 3 and 5). So you have `20 = 1.5n^2 + 3.5n`. [Solving this][1] (using the quadratic formula) gives `n = -5` and `n = 8/3`. Ignore the negative one as it doesn&#39;t make sense in this situation.\r\n\r\nIf you need 8/3 piles to get to your paper, it must be in the 3rd pile (round up to nearest int (ceiling function)). Use the formula above with `n = 3` to find there are 24 papers in the first three piles (`1.5 * 3^2 + 3.5 * 3 = 13.5 + 10.5 = 24`).\r\n\r\n24 - 20 = 4 = the number of papers you need to remove.\r\n\r\n[mockup solution, you need to remove hardcoding and make sure nothing overflows for the large numbers](https://gist.github.com/anonymous/f0f4156d958a9f62f99c)\r\n\r\n\r\n  [1]: http://www.wolframalpha.com/input/?i=3x%5E2%20%2B7x%20-40%20%3D%200","title":"Math &quot;non loop&quot; equation","body":"<p>You don't need any loops for this. The number of papers in the <code>n</code>th pile is <code>a + (n-1)b</code>. So the number of papers in the first <code>n</code> piles is (arithmetic series) <code>(b/2)n^2 + (a - b/2)n</code>. </p>\n\n<p>Using this, find the number of piles needed to get your paper. In your example, set this equal to 20 (and use 3 and 5). So you have <code>20 = 1.5n^2 + 3.5n</code>. <a href=\"http://www.wolframalpha.com/input/?i=3x%5E2%20%2B7x%20-40%20%3D%200\" rel=\"nofollow\">Solving this</a> (using the quadratic formula) gives <code>n = -5</code> and <code>n = 8/3</code>. Ignore the negative one as it doesn't make sense in this situation.</p>\n\n<p>If you need 8/3 piles to get to your paper, it must be in the 3rd pile (round up to nearest int (ceiling function)). Use the formula above with <code>n = 3</code> to find there are 24 papers in the first three piles (<code>1.5 * 3^2 + 3.5 * 3 = 13.5 + 10.5 = 24</code>).</p>\n\n<p>24 - 20 = 4 = the number of papers you need to remove.</p>\n\n<p><a href=\"https://gist.github.com/anonymous/f0f4156d958a9f62f99c\" rel=\"nofollow\">mockup solution, you need to remove hardcoding and make sure nothing overflows for the large numbers</a></p>\n"}],"owner":{"account_id":5330978,"reputation":29,"user_id":4251536,"display_name":"Mimi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1415963299,"answer_count":3,"score":0,"last_activity_date":1663072255,"creation_date":1415953086,"question_id":26925669,"body_markdown":"I am creating a **Java** program but am dealing with a math problem but can&#39;t seem to solve it. This is my assignment:\r\n\r\n    I have infinite numbers of numbered papers(1,2,3, ..). \r\n    This papers are stacked into stacks using 2 variables a and b.\r\n    \r\n    If a = 5 and b = 3 the stacks look like:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n    So the first stack has &quot;a&quot; items (5) and each next has &quot;b&quot; more (3) as previous.\r\n\r\nNow I have to figure out *an equation* that would tell me *how many papers I need to remove to get to the specific one*. \r\n\r\n**For example**, if I want to get to the paper numbered with 20, I will need to remove 4 papers to get to it. And this is the solution I am looking for, when I would enter a number of a specific paper, I just need to know how many I need to move (in the stack that it is in) to get to it. When I have this *I put all papers back* and search for the next one.\r\n\r\n\r\nSince I will make a program with it, that will deal with long numbers (up to 16 digits), the best solution would be to find some &quot;non loop&quot; equation. For example, if I will set a = 34354 and b = 56774 and I want to know how many papers to remove to get to paper numbered with 533663634611112.\r\n\r\nMy **inputs** will be: &lt;br /&gt;\r\n - numbers a and b &lt;br /&gt;\r\n - number of papers I want to reach (c) &lt;br /&gt;\r\n - regarding the above variable (c), I will input this many numbers that represent numbered papers \r\n &lt;br /&gt;\r\n\r\n **Output**: &lt;br /&gt;\r\n   - number of papers I have to move to get to all the papers that I have inserted &lt;br /&gt;\r\n\r\nAll number will be very long, so would be the best to make a non loop program.\r\nThanks for all help about this issue.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8IEKa.png\r\n","title":"Math &quot;non loop&quot; equation","body":"<p>I am creating a <strong>Java</strong> program but am dealing with a math problem but can't seem to solve it. This is my assignment:</p>\n\n<pre><code>I have infinite numbers of numbered papers(1,2,3, ..). \nThis papers are stacked into stacks using 2 variables a and b.\n\nIf a = 5 and b = 3 the stacks look like:\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/8IEKa.png\" alt=\"enter image description here\"></p>\n\n<pre><code>So the first stack has \"a\" items (5) and each next has \"b\" more (3) as previous.\n</code></pre>\n\n<p>Now I have to figure out <em>an equation</em> that would tell me <em>how many papers I need to remove to get to the specific one</em>. </p>\n\n<p><strong>For example</strong>, if I want to get to the paper numbered with 20, I will need to remove 4 papers to get to it. And this is the solution I am looking for, when I would enter a number of a specific paper, I just need to know how many I need to move (in the stack that it is in) to get to it. When I have this <em>I put all papers back</em> and search for the next one.</p>\n\n<p>Since I will make a program with it, that will deal with long numbers (up to 16 digits), the best solution would be to find some \"non loop\" equation. For example, if I will set a = 34354 and b = 56774 and I want to know how many papers to remove to get to paper numbered with 533663634611112.</p>\n\n<p>My <strong>inputs</strong> will be: <br />\n - numbers a and b <br />\n - number of papers I want to reach (c) <br />\n - regarding the above variable (c), I will input this many numbers that represent numbered papers \n <br /></p>\n\n<p><strong>Output</strong>: <br />\n   - number of papers I have to move to get to all the papers that I have inserted <br /></p>\n\n<p>All number will be very long, so would be the best to make a non loop program.\nThanks for all help about this issue.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1617635607,"post_id":66955140,"comment_id":118351669,"body_markdown":"Have another look at your `y` loop, and explain to yourself why that loop is there, and what it does. Then fix the code, using appropriate indentations and `{ }` braces.","body":"Have another look at your <code>y</code> loop, and explain to yourself why that loop is there, and what it does. Then fix the code, using appropriate indentations and <code>{ }</code> braces."},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1617635960,"post_id":66955140,"comment_id":118351824,"body_markdown":"What did you put into the search bar when you &quot;googled around&quot;? This an honest question - knowing how to search to find answers is half the battle. Also, it would be helpful if you really want answers from this site, as it would prove that you actually tried something to fix the problem on your own.","body":"What did you put into the search bar when you &quot;googled around&quot;? This an honest question - knowing how to search to find answers is half the battle. Also, it would be helpful if you really want answers from this site, as it would prove that you actually tried something to fix the problem on your own."},{"owner":{"account_id":9031021,"reputation":63,"user_id":6728618,"display_name":"Richard Marto"},"score":0,"creation_date":1617636394,"post_id":66955140,"comment_id":118352028,"body_markdown":"Are you just looking for a way to print this information or you need an index in the map to execute further logic?","body":"Are you just looking for a way to print this information or you need an index in the map to execute further logic?"},{"owner":{"account_id":9031021,"reputation":63,"user_id":6728618,"display_name":"Richard Marto"},"score":0,"creation_date":1617636466,"post_id":66955140,"comment_id":118352061,"body_markdown":"I don&#39;t think Java has a zipWithIndex on the List collection, but you can use this post for reference if you need to add the index on a map. https://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8","body":"I don&#39;t think Java has a zipWithIndex on the List collection, but you can use this post for reference if you need to add the index on a map. <a href=\"https://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8\" title=\"is there a concise way to iterate over a stream with indices in java 8\">stackoverflow.com/questions/18552005/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617636312,"creation_date":1617635943,"answer_id":66955331,"question_id":66955140,"body_markdown":"replace \r\n```\r\nSystem.out.println(&quot;Your bank accounts: &quot;);\r\nSystem.out.println(Arrays.toString(Bankaccounts));\r\n```\r\nwith\r\n```\r\n{\r\n  System.out.println((y+1)+&quot;.&quot;+ bank account ID: &quot;+Bankaccounts[y]);\r\n}\r\n```","title":"How can I make a numbered list of a String array?","body":"<p>replace</p>\n<pre><code>System.out.println(&quot;Your bank accounts: &quot;);\nSystem.out.println(Arrays.toString(Bankaccounts));\n</code></pre>\n<p>with</p>\n<pre><code>{\n  System.out.println((y+1)+&quot;.&quot;+ bank account ID: &quot;+Bankaccounts[y]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6631118,"reputation":1,"user_id":5119797,"display_name":"Sharan L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617636108,"creation_date":1617636108,"answer_id":66955366,"question_id":66955140,"body_markdown":"You are printing the whole array in form of a string.to get the output in the format you have asked simply print using array index in your loop like \r\n\r\n```\r\nSystem.out.println(y + &quot;. &quot;+Bankaccounts[y]);\r\n```","title":"How can I make a numbered list of a String array?","body":"<p>You are printing the whole array in form of a string.to get the output in the format you have asked simply print using array index in your loop like</p>\n<pre><code>System.out.println(y + &quot;. &quot;+Bankaccounts[y]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21116330,"reputation":1,"user_id":15523361,"display_name":"Kek Pepe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617636428,"creation_date":1617636428,"answer_id":66955441,"question_id":66955140,"body_markdown":"Thank you for all the answers I figured it out, I know I am a big noob, and looking for problem solutions is part of the struggle but I am actually a noob in that too.\r\nIt eezz what it eezz\r\n\r\n     \r\n        } else if (inputin == 1) {\r\n            for (int y = 0; y &lt; Bankaccounts.length; y++ ) {\r\n                System.out.printf(&quot;%d %s%n&quot;, y + 1, Bankaccounts[y]);\r\n                //System.out.println(y + &quot;. &quot;+Bankaccounts[y]);\r\n\r\nAlso, prinln does not work but printf does? wtf","title":"How can I make a numbered list of a String array?","body":"<p>Thank you for all the answers I figured it out, I know I am a big noob, and looking for problem solutions is part of the struggle but I am actually a noob in that too.\nIt eezz what it eezz</p>\n<pre><code>    } else if (inputin == 1) {\n        for (int y = 0; y &lt; Bankaccounts.length; y++ ) {\n            System.out.printf(&quot;%d %s%n&quot;, y + 1, Bankaccounts[y]);\n            //System.out.println(y + &quot;. &quot;+Bankaccounts[y]);\n</code></pre>\n<p>Also, prinln does not work but printf does? wtf</p>\n"}],"owner":{"account_id":21116330,"reputation":1,"user_id":15523361,"display_name":"Kek Pepe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1663072247,"creation_date":1617635155,"question_id":66955140,"body_markdown":"This is my code so far:\r\n\r\n```\r\npublic class BankAccountService {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        System.out.println(&quot;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&quot;);\r\n        System.out.println(&quot;!                 Welcome To San Andreas Bank               !&quot;);\r\n        System.out.println(&quot;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&quot;);\r\n\r\n        System.out.println(&quot;Enter one of the following numbers to select: &quot;);\r\n        System.out.println(&quot;1.Select bank account &quot;);\r\n        System.out.println(&quot;2.Check account balance &quot;);\r\n        System.out.println(&quot;3.Deposit &quot;);\r\n        System.out.println(&quot;4.Withdraw money &quot;);\r\n        System.out.println(&quot;5.Transfer money &quot;);\r\n        System.out.println(&quot;6.Exit &quot;);\r\n\r\n        String bankaccountsstring = &quot;BE68 5390 0754 7034, BE68 5320 0744 7534, BE68 5570 0723 7547&quot;;\r\n        String[] Bankaccounts = bankaccountsstring.split(&quot;,&quot;);\r\n\r\n        Scanner inputin1 = new Scanner(System.in);\r\n        int inputin = inputin1.nextInt();\r\n\r\n        if (inputin &lt;= 0 || inputin &gt; 6 ) {\r\n            System.out.println(&quot;Please try again, choose a number between 1 and 6&quot;);\r\n        }\r\n        else if (inputin == 1 ) {\r\n            for (int y = 0; y &lt; Bankaccounts.length; y++ )\r\n\r\n\r\n            System.out.println(&quot;Your bank accounts: &quot;);\r\n            System.out.println(Arrays.toString(Bankaccounts));\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\nThis is what I get in console\r\n\r\n[![image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f99AJ.png\r\n\r\nBut I want it to be like this:\r\n```none\r\nYour Bank accounts:\r\n1. bank account ID 1\r\n2. bank account ID 2\r\n3. bank account ID 3\r\n```\r\nanother example:\r\n```none\r\n1. BE68 5390 0754 7034\r\n2. BE68 5320 0744 7534\r\n3. BE68 5570 0723 7547\r\n```\r\n\r\nHow can I achieve this? I googled around but have not found a good solution for this.\r\n\r\nThank you in advance\r\n\r\n\r\n","title":"How can I make a numbered list of a String array?","body":"<p>This is my code so far:</p>\n<pre><code>public class BankAccountService {\n\n    public static void main(String[] args) {\n\n\n        System.out.println(&quot;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&quot;);\n        System.out.println(&quot;!                 Welcome To San Andreas Bank               !&quot;);\n        System.out.println(&quot;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&quot;);\n\n        System.out.println(&quot;Enter one of the following numbers to select: &quot;);\n        System.out.println(&quot;1.Select bank account &quot;);\n        System.out.println(&quot;2.Check account balance &quot;);\n        System.out.println(&quot;3.Deposit &quot;);\n        System.out.println(&quot;4.Withdraw money &quot;);\n        System.out.println(&quot;5.Transfer money &quot;);\n        System.out.println(&quot;6.Exit &quot;);\n\n        String bankaccountsstring = &quot;BE68 5390 0754 7034, BE68 5320 0744 7534, BE68 5570 0723 7547&quot;;\n        String[] Bankaccounts = bankaccountsstring.split(&quot;,&quot;);\n\n        Scanner inputin1 = new Scanner(System.in);\n        int inputin = inputin1.nextInt();\n\n        if (inputin &lt;= 0 || inputin &gt; 6 ) {\n            System.out.println(&quot;Please try again, choose a number between 1 and 6&quot;);\n        }\n        else if (inputin == 1 ) {\n            for (int y = 0; y &lt; Bankaccounts.length; y++ )\n\n\n            System.out.println(&quot;Your bank accounts: &quot;);\n            System.out.println(Arrays.toString(Bankaccounts));\n\n\n        }\n\n\n    }\n</code></pre>\n<p>This is what I get in console</p>\n<p><a href=\"https://i.stack.imgur.com/f99AJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f99AJ.png\" alt=\"image\" /></a></p>\n<p>But I want it to be like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Your Bank accounts:\n1. bank account ID 1\n2. bank account ID 2\n3. bank account ID 3\n</code></pre>\n<p>another example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1. BE68 5390 0754 7034\n2. BE68 5320 0744 7534\n3. BE68 5570 0723 7547\n</code></pre>\n<p>How can I achieve this? I googled around but have not found a good solution for this.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","mysql","spring","hibernate","multiple-databases"],"answers":[{"tags":[],"owner":{"account_id":6488296,"reputation":351,"user_id":5023133,"display_name":"Liuk"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1576506657,"creation_date":1576506657,"answer_id":59358702,"question_id":59358493,"body_markdown":"A **microservices** **architecture** solve your problem. Using Spring is more easy to create it. \r\n\r\nIn short, you will create one database (called *gateway*) and other databases for your services. All requests go through the gateway to other databases.\r\n\r\nRead this article for more information! ⬇️\r\n\r\nhttps://spring.io/blog/2015/07/14/microservices-with-spring\r\n\r\nMoreover, if you search there are more guides.","title":"How to use multiple databases with spring?","body":"<p>A <strong>microservices</strong> <strong>architecture</strong> solve your problem. Using Spring is more easy to create it. </p>\n\n<p>In short, you will create one database (called <em>gateway</em>) and other databases for your services. All requests go through the gateway to other databases.</p>\n\n<p>Read this article for more information! ⬇️</p>\n\n<p><a href=\"https://spring.io/blog/2015/07/14/microservices-with-spring\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/07/14/microservices-with-spring</a></p>\n\n<p>Moreover, if you search there are more guides.</p>\n"},{"tags":[],"owner":{"account_id":5849881,"reputation":261,"user_id":9758456,"display_name":"Bush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576509301,"creation_date":1576509301,"answer_id":59359421,"question_id":59358493,"body_markdown":"Spring Boot simplifies the configuration of datasource.\r\n\r\nBy default, Spring Boot will instantiate its default DataSource with the configuration properties prefixed by spring.datasource.*:\r\n\r\n    spring.datasource.jdbcUrl = [url]\r\n    spring.datasource.username = [username]\r\n    spring.datasource.password = [password]\r\n\r\nWe now want to keep on using the same way to configure the second DataSource, but with a different property namespace:\r\n\r\n    spring.second-datasource.jdbcUrl = [url]\r\n    spring.second-datasource.username = [username]\r\n    spring.second-datasource.password = [password]\r\n\r\nBecause we want the Spring Boot autoconfiguration to pick up those different properties (and actually instantiate two different DataSources), we&#39;ll define 2 configuration classes similar to the ones in the previous sections:\r\n\r\n    @Configuration\r\n    @PropertySource({&quot;classpath:persistence-multiple-db-boot.properties&quot;})\r\n    @EnableJpaRepositories(\r\n      basePackages = &quot;com.myProj.multipledb.dao.user&quot;,\r\n      entityManagerFactoryRef = &quot;userEntityManager&quot;,\r\n      transactionManagerRef = &quot;userTransactionManager&quot;)\r\n    public class PersistenceUserAutoConfiguration {\r\n         \r\n        @Primary\r\n        @Bean\r\n        @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n        public DataSource userDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n        // userEntityManager bean \r\n     \r\n        // userTransactionManager bean\r\n    }\r\n\r\nAnd then this\r\n\r\n    @Configuration\r\n    @PropertySource({&quot;classpath:persistence-multiple-db-boot.properties&quot;})\r\n    @EnableJpaRepositories(\r\n      basePackages = &quot;com.myProj.multipledb.dao.product&quot;, \r\n      entityManagerFactoryRef = &quot;productEntityManager&quot;, \r\n      transactionManagerRef = &quot;productTransactionManager&quot;)\r\n    public class PersistenceProductAutoConfiguration {\r\n        \r\n        @Bean\r\n        @ConfigurationProperties(prefix=&quot;spring.second-datasource&quot;)\r\n        public DataSource productDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n        \r\n        // productEntityManager bean \r\n     \r\n        // productTransactionManager bean\r\n    }\r\n\r\n\r\nWe have defined the data source properties inside persistence-multiple-db-boot.properties according to the Boot auto-configuration convention.\r\n\r\nThe interesting part is annotating the data source bean creation method with @ConfigurationProperties. We just need to specify the corresponding config prefix. Inside this method, we&#39;re using a DataSourceBuilder, and Spring Boot will automatically take care of the rest.\r\nBut how do the configured properties actually get injected into the DataSource configuration?\r\n\r\nWhen calling the build() method on the DataSourceBuilder, it&#39;ll call its private bind() method:\r\n\r\n    public T build() {\r\n        Class&lt;? extends DataSource&gt; type = getType();\r\n        DataSource result = BeanUtils.instantiateClass(type);\r\n        maybeGetDriverClassName();\r\n        bind(result);\r\n        return (T) result;\r\n    }\r\n\r\nThis private method performs much of the autoconfiguration magic, binding the resolved configuration to the actual DataSource instance:\r\n\r\n    private void bind(DataSource result) {\r\n        ConfigurationPropertySource source = new MapConfigurationPropertySource(this.properties);\r\n        ConfigurationPropertyNameAliases aliases = new ConfigurationPropertyNameAliases();\r\n        aliases.addAliases(&quot;url&quot;, &quot;jdbc-url&quot;);\r\n        aliases.addAliases(&quot;username&quot;, &quot;user&quot;);\r\n        Binder binder = new Binder(source.withAliases(aliases));\r\n        binder.bind(ConfigurationPropertyName.EMPTY, Bindable.ofInstance(result));\r\n\r\nAlthough we don&#39;t have to touch any of this code ourselves, it&#39;s still useful to know what&#39;s happening under the hood of the Spring Boot autoconfiguration.\r\n\r\nBesides this, the Transaction Manager and Entity Manager beans configuration is the same as the standard Spring application.\r\n\r\n\r\nkindly refer the below link for an example:\r\n[https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7][1]\r\n\r\n\r\n  [1]: https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7","title":"How to use multiple databases with spring?","body":"<p>Spring Boot simplifies the configuration of datasource.</p>\n\n<p>By default, Spring Boot will instantiate its default DataSource with the configuration properties prefixed by spring.datasource.*:</p>\n\n<pre><code>spring.datasource.jdbcUrl = [url]\nspring.datasource.username = [username]\nspring.datasource.password = [password]\n</code></pre>\n\n<p>We now want to keep on using the same way to configure the second DataSource, but with a different property namespace:</p>\n\n<pre><code>spring.second-datasource.jdbcUrl = [url]\nspring.second-datasource.username = [username]\nspring.second-datasource.password = [password]\n</code></pre>\n\n<p>Because we want the Spring Boot autoconfiguration to pick up those different properties (and actually instantiate two different DataSources), we'll define 2 configuration classes similar to the ones in the previous sections:</p>\n\n<pre><code>@Configuration\n@PropertySource({\"classpath:persistence-multiple-db-boot.properties\"})\n@EnableJpaRepositories(\n  basePackages = \"com.myProj.multipledb.dao.user\",\n  entityManagerFactoryRef = \"userEntityManager\",\n  transactionManagerRef = \"userTransactionManager\")\npublic class PersistenceUserAutoConfiguration {\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(prefix=\"spring.datasource\")\n    public DataSource userDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n    // userEntityManager bean \n\n    // userTransactionManager bean\n}\n</code></pre>\n\n<p>And then this</p>\n\n<pre><code>@Configuration\n@PropertySource({\"classpath:persistence-multiple-db-boot.properties\"})\n@EnableJpaRepositories(\n  basePackages = \"com.myProj.multipledb.dao.product\", \n  entityManagerFactoryRef = \"productEntityManager\", \n  transactionManagerRef = \"productTransactionManager\")\npublic class PersistenceProductAutoConfiguration {\n\n    @Bean\n    @ConfigurationProperties(prefix=\"spring.second-datasource\")\n    public DataSource productDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    // productEntityManager bean \n\n    // productTransactionManager bean\n}\n</code></pre>\n\n<p>We have defined the data source properties inside persistence-multiple-db-boot.properties according to the Boot auto-configuration convention.</p>\n\n<p>The interesting part is annotating the data source bean creation method with @ConfigurationProperties. We just need to specify the corresponding config prefix. Inside this method, we're using a DataSourceBuilder, and Spring Boot will automatically take care of the rest.\nBut how do the configured properties actually get injected into the DataSource configuration?</p>\n\n<p>When calling the build() method on the DataSourceBuilder, it'll call its private bind() method:</p>\n\n<pre><code>public T build() {\n    Class&lt;? extends DataSource&gt; type = getType();\n    DataSource result = BeanUtils.instantiateClass(type);\n    maybeGetDriverClassName();\n    bind(result);\n    return (T) result;\n}\n</code></pre>\n\n<p>This private method performs much of the autoconfiguration magic, binding the resolved configuration to the actual DataSource instance:</p>\n\n<pre><code>private void bind(DataSource result) {\n    ConfigurationPropertySource source = new MapConfigurationPropertySource(this.properties);\n    ConfigurationPropertyNameAliases aliases = new ConfigurationPropertyNameAliases();\n    aliases.addAliases(\"url\", \"jdbc-url\");\n    aliases.addAliases(\"username\", \"user\");\n    Binder binder = new Binder(source.withAliases(aliases));\n    binder.bind(ConfigurationPropertyName.EMPTY, Bindable.ofInstance(result));\n</code></pre>\n\n<p>Although we don't have to touch any of this code ourselves, it's still useful to know what's happening under the hood of the Spring Boot autoconfiguration.</p>\n\n<p>Besides this, the Transaction Manager and Entity Manager beans configuration is the same as the standard Spring application.</p>\n\n<p>kindly refer the below link for an example:\n<a href=\"https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\" rel=\"nofollow noreferrer\">https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7</a></p>\n"}],"owner":{"account_id":17257396,"reputation":59,"user_id":12496193,"display_name":"Harord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663072214,"creation_date":1576505923,"question_id":59358493,"body_markdown":"i need to create web-app (with spring+mysql) which should be a little like **&quot;MySQL Workbench online&quot;**.\r\nIn my application, Users will be able to create their own databases. I did it as follows:\r\n\r\nUser press (button for example) &#39;create new database&#39; and after that I create a file.sql and write the following code to it:\r\n   \r\n\r\n&gt;  CREATE SCHEMA &#39;db_name&#39;;\r\n\r\nIf user choose option &quot;create table&quot; i will open this file again and I will write proper code to it\r\n\r\n**After all of that when user finally finish his database i have file.sql when i have all SQL code which need to be execute in my java code... Well and the things start to get complicated, here is my question:**\r\n\r\nThis is my datasource in application.properties:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/\r\n    spring.datasource.username=root\r\n    spring.datasource.password=1234\r\n\r\nIf you look at that i didnt specify database, i only choose port i have connection only to server not to a specific database. **Can i do some operation on databases if i didnt specify single specific database?** Before that i had that configuration:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase\r\n    spring.datasource.username=root\r\n    spring.datasource.password=1234\r\nEverything worked fine, for example: my select looked like that:\r\n\r\n&gt; Select * from table1;\r\n\r\n**Can i change datasource from localhost:3306/mydatabase to: localhost:3306/ and execute that select?**\r\n\r\n&gt; Select * from mydatabase.table1;\r\n\r\n**If i can what else i need to configure? I all time have errors &quot;No database selected&quot;.**\r\n\r\n*(I need get connection only to server not to a specific database because i want to execute sql code &quot;Create schema&quot; in java code)*\r\n ","title":"How to use multiple databases with spring?","body":"<p>i need to create web-app (with spring+mysql) which should be a little like <strong>\"MySQL Workbench online\"</strong>.\nIn my application, Users will be able to create their own databases. I did it as follows:</p>\n\n<p>User press (button for example) 'create new database' and after that I create a file.sql and write the following code to it:</p>\n\n<blockquote>\n  <p>CREATE SCHEMA 'db_name';</p>\n</blockquote>\n\n<p>If user choose option \"create table\" i will open this file again and I will write proper code to it</p>\n\n<p><strong>After all of that when user finally finish his database i have file.sql when i have all SQL code which need to be execute in my java code... Well and the things start to get complicated, here is my question:</strong></p>\n\n<p>This is my datasource in application.properties:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/\nspring.datasource.username=root\nspring.datasource.password=1234\n</code></pre>\n\n<p>If you look at that i didnt specify database, i only choose port i have connection only to server not to a specific database. <strong>Can i do some operation on databases if i didnt specify single specific database?</strong> Before that i had that configuration:</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase\nspring.datasource.username=root\nspring.datasource.password=1234\n</code></pre>\n\n<p>Everything worked fine, for example: my select looked like that:</p>\n\n<blockquote>\n  <p>Select * from table1;</p>\n</blockquote>\n\n<p><strong>Can i change datasource from localhost:3306/mydatabase to: localhost:3306/ and execute that select?</strong></p>\n\n<blockquote>\n  <p>Select * from mydatabase.table1;</p>\n</blockquote>\n\n<p><strong>If i can what else i need to configure? I all time have errors \"No database selected\".</strong></p>\n\n<p><em>(I need get connection only to server not to a specific database because i want to execute sql code \"Create schema\" in java code)</em></p>\n"},{"tags":["java","image","pdf","vaadin","jpeg"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1663071652,"post_id":73702778,"comment_id":130148574,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":170090,"reputation":2858,"user_id":396573,"display_name":"Jouni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663071828,"creation_date":1663071828,"answer_id":73702975,"question_id":73702778,"body_markdown":"This seems like a generic HTML to PDF conversion question, so here’s a related Q&amp;A for that: https://stackoverflow.com/questions/18191893/generate-pdf-from-html-in-div-using-javascript\r\n\r\nThen how to integrate JS stuff in Vaadin: https://vaadin.com/docs/latest/create-ui/element-api/client-server-rpc","title":"Java Vaadin - How to save/export content of Panel with scroll to PDF or JPEG?","body":"<p>This seems like a generic HTML to PDF conversion question, so here’s a related Q&amp;A for that: <a href=\"https://stackoverflow.com/questions/18191893/generate-pdf-from-html-in-div-using-javascript\">Generate pdf from HTML in div using Javascript</a></p>\n<p>Then how to integrate JS stuff in Vaadin: <a href=\"https://vaadin.com/docs/latest/create-ui/element-api/client-server-rpc\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/create-ui/element-api/client-server-rpc</a></p>\n"}],"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1663071828,"creation_date":1663071068,"question_id":73702778,"body_markdown":"Like in title.\r\n\r\nIs there some simply way to save/export content of Panel with scroll to PDF or JPEG??\r\n\r\n\r\nRegards\r\n","title":"Java Vaadin - How to save/export content of Panel with scroll to PDF or JPEG?","body":"<p>Like in title.</p>\n<p>Is there some simply way to save/export content of Panel with scroll to PDF or JPEG??</p>\n<p>Regards</p>\n"},{"tags":["java","spring","spring-context"],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663071778,"creation_date":1645869125,"answer_id":71275637,"question_id":71275374,"body_markdown":"The Spring [`org.springframework.context.annotation.Lazy`][1] annotation indicates whether a bean is to be lazily initialized.\r\n\r\nYou can add it to a `@Configuration` class, a `@Bean` method or a `@Component` (for example `@Service` annotated class)\r\n\r\n\r\nExample for a single bean:\r\n\r\n```\r\n@Configuration\r\npublic class MyConfig {\r\n\r\n   @Bean\r\n   @Lazy\r\n   public Example myLayzBean() {\r\n        return new Example();\r\n   }\r\n  \r\n}\r\n```\r\n\r\nExample for all beans in one configuration class\r\n\r\n```\r\n@Configuration\r\n@Lazy\r\npublic class MyConfig {\r\n\r\n   @Bean\r\n   public Example1 myLayzBean1() {\r\n        return new Example1();\r\n   }\r\n\r\n   @Bean\r\n   public Example2 myLayzBean2() {\r\n        return new Example2();\r\n   }\r\n  \r\n}\r\n```\r\n\r\nExample for bean found by component scan\r\n\r\n```\r\n@Service\r\n@Lazy\r\npublic class Example3 {\r\n  \r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Lazy.html","title":"Is there any annotation equivalent of &quot;default-lazy-init&quot; attribute in Spring Framework?","body":"<p>The Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Lazy.html\" rel=\"nofollow noreferrer\"><code>org.springframework.context.annotation.Lazy</code></a> annotation indicates whether a bean is to be lazily initialized.</p>\n<p>You can add it to a <code>@Configuration</code> class, a <code>@Bean</code> method or a <code>@Component</code> (for example <code>@Service</code> annotated class)</p>\n<p>Example for a single bean:</p>\n<pre><code>@Configuration\npublic class MyConfig {\n\n   @Bean\n   @Lazy\n   public Example myLayzBean() {\n        return new Example();\n   }\n  \n}\n</code></pre>\n<p>Example for all beans in one configuration class</p>\n<pre><code>@Configuration\n@Lazy\npublic class MyConfig {\n\n   @Bean\n   public Example1 myLayzBean1() {\n        return new Example1();\n   }\n\n   @Bean\n   public Example2 myLayzBean2() {\n        return new Example2();\n   }\n  \n}\n</code></pre>\n<p>Example for bean found by component scan</p>\n<pre><code>@Service\n@Lazy\npublic class Example3 {\n  \n}\n</code></pre>\n"}],"owner":{"account_id":18533276,"reputation":85,"user_id":13503517,"display_name":"toiepp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71275637,"answer_count":1,"score":1,"last_activity_date":1663071778,"creation_date":1645866500,"question_id":71275374,"body_markdown":"How can I set this attribute in my JavaConfig application context?\r\n\r\n```\r\n&lt;beans default-lazy-init=&quot;true&quot;&gt;\r\n    &lt;!-- no beans will be pre-instantiated... --&gt;\r\n&lt;/beans&gt;\r\n```","title":"Is there any annotation equivalent of &quot;default-lazy-init&quot; attribute in Spring Framework?","body":"<p>How can I set this attribute in my JavaConfig application context?</p>\n<pre><code>&lt;beans default-lazy-init=&quot;true&quot;&gt;\n    &lt;!-- no beans will be pre-instantiated... --&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","database","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":10026018,"reputation":761,"user_id":7414166,"display_name":"MOnkey"},"score":1,"creation_date":1584975688,"post_id":60815886,"comment_id":107599685,"body_markdown":"have you checked this https://www.baeldung.com/spring-data-jpa-multiple-databases?","body":"have you checked this <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-multiple-databases</a>?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1584975898,"post_id":60815886,"comment_id":107599800,"body_markdown":"I have seen it, but cannot access his git repo to understand the whole demo. I am working behind a proxy. Thanks.","body":"I have seen it, but cannot access his git repo to understand the whole demo. I am working behind a proxy. Thanks."},{"owner":{"account_id":10026018,"reputation":761,"user_id":7414166,"display_name":"MOnkey"},"score":1,"creation_date":1584976100,"post_id":60815886,"comment_id":107599895,"body_markdown":"you can also check this one, this one is looking even more simpler, https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7","body":"you can also check this one, this one is looking even more simpler, <a href=\"https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\" rel=\"nofollow noreferrer\">medium.com/@joeclever/&hellip;</a>"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":1,"creation_date":1584976453,"post_id":60815886,"comment_id":107600069,"body_markdown":"Worked!!! Thanks a lot.","body":"Worked!!! Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":6991152,"reputation":54,"user_id":5360380,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624987985,"creation_date":1584976480,"answer_id":60816315,"question_id":60815886,"body_markdown":"Create Different DataSource bean in your configuration file. You should able to provide all db related configuration in beans:\r\n    \r\n\r\n    @Bean\r\n    public DataSource db1(String url, String dbuser, String password) {\r\n    } \r\n    \r\n    \r\n    @Bean\r\n    public DataSource db2(String url, String dbuser, String password) {\r\n    } \r\n\r\n","title":"How to connect multiple databases in JPA?","body":"<p>Create Different DataSource bean in your configuration file. You should able to provide all db related configuration in beans:</p>\n<pre><code>@Bean\npublic DataSource db1(String url, String dbuser, String password) {\n} \n\n\n@Bean\npublic DataSource db2(String url, String dbuser, String password) {\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10026018,"reputation":761,"user_id":7414166,"display_name":"MOnkey"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1584977294,"creation_date":1584977294,"answer_id":60816561,"question_id":60815886,"body_markdown":"Follow the below steps:\r\n\r\n 1. Add an additional datasource configuration to your\r\n    application.properties.\r\n    \r\n 2. Set the SQL Dialect to “default” in your application.properties to\r\n    let Spring autodetect the different SQL Dialects of each datasource\r\n 3. Create a Java Package for each datasource with two nested Packages\r\n 4. Create a Configuration Class for the First database\r\n 5. Create a Configuration Class for the Second database\r\n 6. Create an Entity for the First database\r\n 7. Create a Repository  for the First database\r\n 8. Create an Entity for the Second database\r\n 9. Create a Repository for the Second database\r\n\r\nFull code is available here, \r\n\r\n    https://github.com/jahe/spring-boot-multiple-datasources\r\n\r\nAbove steps are took from this tutorials\r\n    \r\n    https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\r\n\r\nHope this will helps:)","title":"How to connect multiple databases in JPA?","body":"<p>Follow the below steps:</p>\n\n<ol>\n<li><p>Add an additional datasource configuration to your\napplication.properties.</p></li>\n<li><p>Set the SQL Dialect to “default” in your application.properties to\nlet Spring autodetect the different SQL Dialects of each datasource</p></li>\n<li>Create a Java Package for each datasource with two nested Packages</li>\n<li>Create a Configuration Class for the First database</li>\n<li>Create a Configuration Class for the Second database</li>\n<li>Create an Entity for the First database</li>\n<li>Create a Repository  for the First database</li>\n<li>Create an Entity for the Second database</li>\n<li>Create a Repository for the Second database</li>\n</ol>\n\n<p>Full code is available here, </p>\n\n<pre><code>https://github.com/jahe/spring-boot-multiple-datasources\n</code></pre>\n\n<p>Above steps are took from this tutorials</p>\n\n<pre><code>https://medium.com/@joeclever/using-multiple-datasources-with-spring-boot-and-spring-data-6430b00c02e7\n</code></pre>\n\n<p>Hope this will helps:)</p>\n"},{"tags":[],"owner":{"account_id":4100631,"reputation":41,"user_id":3366273,"display_name":"iftekher2283"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663071584,"creation_date":1663071584,"answer_id":73702899,"question_id":60815886,"body_markdown":"Just add second DB source parameters in `application.properties` file as below\r\n\r\n    #DATABASE_ONE\r\n    spring.datasource.url=jdbc:oracle:thin:@//host:port/instancename\r\n    spring.datasource.username=SCHEMA_ONE\r\n    spring.datasource.password=SCHEMA_ONE_PASSWORD\r\n    \r\n    #DATABASE_TWO\r\n    spring.second-datasource.jdbcUrl=jdbc:oracle:thin:@//host:port/instancename\r\n    spring.second-datasource.username=SCHEMA_TWO\r\n    spring.second-datasource.password=SCHEMA_TWO_PASSWORD\r\n\r\nUse the `schema` key in `@Table` annotation to define which database to be used for the entity\r\n\r\n    @Entity\r\n    @Table(schema = &quot;SCHEMA_ONE&quot;, name=&quot;TABLE_NAME&quot;)\r\n    public class ClassOne{\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int paramOne;\r\n        private String paramTwo;\r\n        private String paramThree;\r\n        private int paramFour;\r\n        private Date paramFive;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(schema = &quot;SCHEMA_TWO&quot;, name=&quot;TABLE_NAME&quot;)\r\n    public class ClassTwo{\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int paramOne;\r\n        private String paramTwo;\r\n        private String paramThree;\r\n        private int paramFour;\r\n        private Date paramFive;\r\n    }\r\n\r\nWrite the repositories and services as it.","title":"How to connect multiple databases in JPA?","body":"<p>Just add second DB source parameters in <code>application.properties</code> file as below</p>\n<pre><code>#DATABASE_ONE\nspring.datasource.url=jdbc:oracle:thin:@//host:port/instancename\nspring.datasource.username=SCHEMA_ONE\nspring.datasource.password=SCHEMA_ONE_PASSWORD\n\n#DATABASE_TWO\nspring.second-datasource.jdbcUrl=jdbc:oracle:thin:@//host:port/instancename\nspring.second-datasource.username=SCHEMA_TWO\nspring.second-datasource.password=SCHEMA_TWO_PASSWORD\n</code></pre>\n<p>Use the <code>schema</code> key in <code>@Table</code> annotation to define which database to be used for the entity</p>\n<pre><code>@Entity\n@Table(schema = &quot;SCHEMA_ONE&quot;, name=&quot;TABLE_NAME&quot;)\npublic class ClassOne{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int paramOne;\n    private String paramTwo;\n    private String paramThree;\n    private int paramFour;\n    private Date paramFive;\n}\n\n@Entity\n@Table(schema = &quot;SCHEMA_TWO&quot;, name=&quot;TABLE_NAME&quot;)\npublic class ClassTwo{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int paramOne;\n    private String paramTwo;\n    private String paramThree;\n    private int paramFour;\n    private Date paramFive;\n}\n</code></pre>\n<p>Write the repositories and services as it.</p>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26079,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":60816561,"answer_count":3,"score":8,"last_activity_date":1663071584,"creation_date":1584974949,"question_id":60815886,"body_markdown":"I have a Spring Boot App which is currently connected to a single database using JPA. Connection details in its application.properties file:\r\n\r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1522:orcl\r\n    spring.datasource.username=example\r\n    spring.datasource.password=example\r\n    spring.datasource.driver.class=oracle.jdbc.driver.OracleDriver\r\n\r\nNow I have a new database I would like to connect to, so my application connects with 2 databases now. I can connect it using JDBC, there I will have to manually write connection code.\r\n\r\nI have looked for solutions. Some are in hibernate with multiple config files. Others are using JDBC. \r\n\r\nI tried looking in spring docs if there are provisions for defining multiple datasources in application.properties file, but couldn&#39;t find anything.\r\n\r\nI would like to know if a solution exists using JPA alone. Thanks for your time.","title":"How to connect multiple databases in JPA?","body":"<p>I have a Spring Boot App which is currently connected to a single database using JPA. Connection details in its application.properties file:</p>\n\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@localhost:1522:orcl\nspring.datasource.username=example\nspring.datasource.password=example\nspring.datasource.driver.class=oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p>Now I have a new database I would like to connect to, so my application connects with 2 databases now. I can connect it using JDBC, there I will have to manually write connection code.</p>\n\n<p>I have looked for solutions. Some are in hibernate with multiple config files. Others are using JDBC. </p>\n\n<p>I tried looking in spring docs if there are provisions for defining multiple datasources in application.properties file, but couldn't find anything.</p>\n\n<p>I would like to know if a solution exists using JPA alone. Thanks for your time.</p>\n"},{"tags":["java","google-analytics","google-analytics-api"],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663071065,"creation_date":1663071065,"answer_id":73702777,"question_id":73660571,"body_markdown":"Finally I found out the answer. the dependencies are as follows:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.14.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-auth-library-credentials&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;api-common&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-alts&lt;/artifactId&gt;\r\n        &lt;version&gt;1.49.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-google-longrunning-v1&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n        &lt;version&gt;1.49.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-protobuf --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n        &lt;version&gt;1.49.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;failureaccess&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Thanks for using https://jar-download.com --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.33.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Thanks for using https://jar-download.com --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;grpc-grpclb&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.49.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Thanks for using https://jar-download.com --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.perfmark&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;perfmark-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\nplus, I added before the main: \r\n\r\n    static {\r\n    \tLoadBalancerRegistry.getDefaultRegistry().register( new GrpclbLoadBalancerProvider());\r\n    }\r\n\r\n","title":"What are maven dependencies for a java program (jdk 1.8) which uses Google Data Analytics API (ga4) to get analytics report?","body":"<p>Finally I found out the answer. the dependencies are as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n    &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n    &lt;version&gt;0.14.5&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;google-auth-library-credentials&lt;/artifactId&gt;\n    &lt;version&gt;1.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;api-common&lt;/artifactId&gt;\n    &lt;version&gt;2.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-alts&lt;/artifactId&gt;\n    &lt;version&gt;1.49.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;gax&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-google-longrunning-v1&lt;/artifactId&gt;\n    &lt;version&gt;0.1.24&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n    &lt;version&gt;1.49.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-protobuf --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n    &lt;version&gt;1.49.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;failureaccess&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- Thanks for using https://jar-download.com --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\n    &lt;version&gt;1.33.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- Thanks for using https://jar-download.com --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-grpclb&lt;/artifactId&gt;\n    &lt;version&gt;1.49.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- Thanks for using https://jar-download.com --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.perfmark&lt;/groupId&gt;\n    &lt;artifactId&gt;perfmark-api&lt;/artifactId&gt;\n    &lt;version&gt;0.21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>plus, I added before the main:</p>\n<pre><code>static {\n    LoadBalancerRegistry.getDefaultRegistry().register( new GrpclbLoadBalancerProvider());\n}\n</code></pre>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73702777,"answer_count":1,"score":1,"last_activity_date":1663071065,"creation_date":1662718507,"question_id":73660571,"body_markdown":"I am trying to use the new API of `Google Analytics Data (g4)`. I wanna switch from `universal API` into `G4`, the problem is that in Java 8 there are errors in dependencies while I am importing them all. It is working well in Java 18!! but not in java 8. \r\nThe documentation and sample codes are [Here][1]. I have added to my maven dependency :\r\n\r\n\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n     &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.14.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-auth-library-credentials&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;api-common&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-alts&lt;/artifactId&gt;\r\n        &lt;version&gt;1.49.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-google-longrunning-v1&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n and the error is \r\n \r\n\r\n   \r\n\r\n     Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/longrunning/GetOperationRequest\r\n            at com.google.longrunning.stub.GrpcOperationsStub.&lt;clinit&gt;(GrpcOperationsStub.java:68)\r\n            at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.&lt;init&gt;(GrpcBetaAnalyticsDataStub.java:185)\r\n            at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.&lt;init&gt;(GrpcBetaAnalyticsDataStub.java:171)\r\n            at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149)\r\n            at com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:161)\r\n            at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:163)\r\n            at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:145)\r\n            at com.google.report.ga4.Ga4DataAnalytics.main(Ga4DataAnalytics.java:42)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.longrunning.GetOperationRequest\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n            ... 8 more\r\n    [Exit 1]\r\n\r\n\r\nAny help is appreciated.\r\n\r\n  [1]: https://developers.google.com/analytics/devguides/migration/api/reporting-ua-to-ga4","title":"What are maven dependencies for a java program (jdk 1.8) which uses Google Data Analytics API (ga4) to get analytics report?","body":"<p>I am trying to use the new API of <code>Google Analytics Data (g4)</code>. I wanna switch from <code>universal API</code> into <code>G4</code>, the problem is that in Java 8 there are errors in dependencies while I am importing them all. It is working well in Java 18!! but not in java 8.\nThe documentation and sample codes are <a href=\"https://developers.google.com/analytics/devguides/migration/api/reporting-ua-to-ga4\" rel=\"nofollow noreferrer\">Here</a>. I have added to my maven dependency :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n    &lt;version&gt;1.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n &lt;dependency&gt;\n    &lt;groupId&gt;com.google.analytics&lt;/groupId&gt;\n    &lt;artifactId&gt;google-analytics-data&lt;/artifactId&gt;\n    &lt;version&gt;0.14.4&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;google-auth-library-credentials&lt;/artifactId&gt;\n    &lt;version&gt;1.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;api-common&lt;/artifactId&gt;\n    &lt;version&gt;2.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-alts&lt;/artifactId&gt;\n    &lt;version&gt;1.49.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n    &lt;artifactId&gt;gax&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-google-longrunning-v1&lt;/artifactId&gt;\n    &lt;version&gt;0.1.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the error is</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/longrunning/GetOperationRequest\n        at com.google.longrunning.stub.GrpcOperationsStub.&lt;clinit&gt;(GrpcOperationsStub.java:68)\n        at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.&lt;init&gt;(GrpcBetaAnalyticsDataStub.java:185)\n        at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.&lt;init&gt;(GrpcBetaAnalyticsDataStub.java:171)\n        at com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149)\n        at com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:161)\n        at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:163)\n        at com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:145)\n        at com.google.report.ga4.Ga4DataAnalytics.main(Ga4DataAnalytics.java:42)\nCaused by: java.lang.ClassNotFoundException: com.google.longrunning.GetOperationRequest\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n        ... 8 more\n[Exit 1]\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":7616825,"reputation":178,"user_id":5775990,"accept_rate":62,"display_name":"Ashish"},"score":0,"creation_date":1671453828,"post_id":73702774,"comment_id":132095600,"body_markdown":"I am facing the same issue. Any luck?","body":"I am facing the same issue. Any luck?"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663071035,"creation_date":1663071035,"question_id":73702774,"body_markdown":"I have a problem not creating docker image for spring boot microservice.\r\n\r\nWhen I run spring boot through maven to create docker image (./mvnw spring-boot:build-image -DskipTests), I get this issue in the console.\r\n\r\nHere is the output of console\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  06:09 min\r\n    [INFO] Finished at: 2022-09-13T14:43:50+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.3:build-image (default-cli) on project currency-exchange-service: Execution default-cli of goal org\r\n    .springframework.boot:spring-boot-maven-plugin:2.7.3:build-image failed: Docker API call to &#39;localhost/v1.24/images/docker.io/paketobuildpacks/builder:base/json&#39; failed with status cod\r\n    e 404 &quot;Not Found&quot; -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\nHere is the pom.xml of microservice shown below.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;currency-exchange-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;currency-exchange-service&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.4&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;image&gt;\r\n    \t\t\t\t\t\t&lt;name&gt;in28min/mmv2-${project.artifactId}:${project.version}&lt;/name&gt;\r\n    \t\t\t\t\t&lt;/image&gt;\r\n    \t\t\t\t\t&lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nHow can I fix it?","title":"Spring Boot Microservice cannot create Docker Image","body":"<p>I have a problem not creating docker image for spring boot microservice.</p>\n<p>When I run spring boot through maven to create docker image (./mvnw spring-boot:build-image -DskipTests), I get this issue in the console.</p>\n<p>Here is the output of console</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  06:09 min\n[INFO] Finished at: 2022-09-13T14:43:50+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.3:build-image (default-cli) on project currency-exchange-service: Execution default-cli of goal org\n.springframework.boot:spring-boot-maven-plugin:2.7.3:build-image failed: Docker API call to 'localhost/v1.24/images/docker.io/paketobuildpacks/builder:base/json' failed with status cod\ne 404 &quot;Not Found&quot; -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>Here is the pom.xml of microservice shown below.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;currency-exchange-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;currency-exchange-service&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;name&gt;in28min/mmv2-${project.artifactId}:${project.version}&lt;/name&gt;\n                    &lt;/image&gt;\n                    &lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","garbage-collection","g1gc"],"answers":[{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663071032,"creation_date":1650030166,"answer_id":71884795,"question_id":71882599,"body_markdown":"Answer my question:\r\n\r\n    Live humongous region 926\r\nIt means the live humongous objects take 926 regions.\r\n\r\n    object size 3915320\r\nIt means total humongous objects take 3,915,320(Byte)\r\n\r\nThe humongous objects don&#39;t mean it&#39;s terrible. Sometimes your application level cache might be kept in the old generation as humongous objects.\r\n\r\nAnd after each GC, there&#39;s information on how many regions were freed:\r\n\r\n    [&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Eden regions: 1114-&gt;0\r\n    [&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Survivor regions: 12-&gt;11\r\n    [&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Old regions: 1325-&gt;1222\r\n    [&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Humongous regions: 926-&gt;825\r\n\r\nFrom this message, you can have an idea of how many humongous regions it used and decide if it needs to be tuned.\r\n\r\nSource code: https://github.com/openjdk/jdk11u/blob/master/src/hotspot/share/gc/g1/g1CollectedHeap.cpp#L4537\r\n\r\n\r\n","title":"G1GC - How to check if the humongous objects is a bottleneck in GC?","body":"<p>Answer my question:</p>\n<pre><code>Live humongous region 926\n</code></pre>\n<p>It means the live humongous objects take 926 regions.</p>\n<pre><code>object size 3915320\n</code></pre>\n<p>It means total humongous objects take 3,915,320(Byte)</p>\n<p>The humongous objects don't mean it's terrible. Sometimes your application level cache might be kept in the old generation as humongous objects.</p>\n<p>And after each GC, there's information on how many regions were freed:</p>\n<pre><code>[&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Eden regions: 1114-&gt;0\n[&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Survivor regions: 12-&gt;11\n[&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Old regions: 1325-&gt;1222\n[&lt;timestamp&gt;][info ][gc,heap       ] GC(14) Humongous regions: 926-&gt;825\n</code></pre>\n<p>From this message, you can have an idea of how many humongous regions it used and decide if it needs to be tuned.</p>\n<p>Source code: <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/hotspot/share/gc/g1/g1CollectedHeap.cpp#L4537\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk11u/blob/master/src/hotspot/share/gc/g1/g1CollectedHeap.cpp#L4537</a></p>\n"}],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663071032,"creation_date":1650016518,"question_id":71882599,"body_markdown":"\r\nMy Java application generated the following parts of logs:\r\n\r\n```\r\n[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 926 object size 3914888 start 0x0000000673c00000  with remset 2 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 942 object size 3913024 start 0x0000000675c00000  with remset 1 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 944 object size 3912448 start 0x0000000676000000  with remset 2 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 954 object size 3915320 start 0x0000000677400000  with remset 1 code roots 0 is marked 0 reclaim candidate 0 type array 1\r\n```\r\nFrom my understanding, it means the humongous regions are up to 954, if one region is taking 2mb then it&#39;s up to 2gb taken by the humongous regions. Am I correct?\r\n\r\nIs there any better way/tool of finding the humongous objects?","title":"G1GC - How to check if the humongous objects is a bottleneck in GC?","body":"<p>My Java application generated the following parts of logs:</p>\n<pre><code>[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 926 object size 3914888 start 0x0000000673c00000  with remset 2 code roots 0 is marked 0 reclaim candidate 0 type array 1\n[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 942 object size 3913024 start 0x0000000675c00000  with remset 1 code roots 0 is marked 0 reclaim candidate 0 type array 1\n[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 944 object size 3912448 start 0x0000000676000000  with remset 2 code roots 0 is marked 0 reclaim candidate 0 type array 1\n[2022-04-15T08:30:22.722+0000][debug][gc,humongous      ] GC(1574) Live humongous region 954 object size 3915320 start 0x0000000677400000  with remset 1 code roots 0 is marked 0 reclaim candidate 0 type array 1\n</code></pre>\n<p>From my understanding, it means the humongous regions are up to 954, if one region is taking 2mb then it's up to 2gb taken by the humongous regions. Am I correct?</p>\n<p>Is there any better way/tool of finding the humongous objects?</p>\n"},{"tags":["java","android","calculator"],"comments":[{"owner":{"account_id":6337624,"reputation":780,"user_id":4920579,"accept_rate":88,"display_name":"amza"},"score":2,"creation_date":1465493797,"post_id":37732631,"comment_id":62936566,"body_markdown":"Set the operator button to disabled with `button.setEnabled(false)`. When a user presses one of the number buttons in the `OnPressed` function enable them. If the user presses a &quot;clear&quot; button or something equivalent then disable your operator buttons again because the field implicitly has no numbers.","body":"Set the operator button to disabled with <code>button.setEnabled(false)</code>. When a user presses one of the number buttons in the <code>OnPressed</code> function enable them. If the user presses a &quot;clear&quot; button or something equivalent then disable your operator buttons again because the field implicitly has no numbers."},{"owner":{"account_id":8090943,"reputation":31,"user_id":6096894,"accept_rate":50,"display_name":"lulu"},"score":0,"creation_date":1465495983,"post_id":37732631,"comment_id":62937870,"body_markdown":"Thank you amza! It works :)","body":"Thank you amza! It works :)"}],"owner":{"account_id":8090943,"reputation":31,"user_id":6096894,"accept_rate":50,"display_name":"lulu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663070976,"creation_date":1465493399,"question_id":37732631,"body_markdown":"When click operator buttons( +, -, *, / ) in calculator app made by android studio, before putting number buttons, the calculator is closed, which means putting number and then putting operator is okay. I want nothing happens when click operator, before number clicked.\r\n\r\n- case 1 :   number buttons click -&gt; operator button click     is working.\r\n- case 2 :   operator button click or equals button click      is closed.","title":"How to fix Operator button bugs of my calculator app in android studio?","body":"<p>When click operator buttons( +, -, *, / ) in calculator app made by android studio, before putting number buttons, the calculator is closed, which means putting number and then putting operator is okay. I want nothing happens when click operator, before number clicked.</p>\n\n<ul>\n<li>case 1 :   number buttons click -> operator button click     is working.</li>\n<li>case 2 :   operator button click or equals button click      is closed.</li>\n</ul>\n"},{"tags":["java","junit","unhandled-exception"],"comments":[{"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":1,"creation_date":1518429762,"post_id":48743568,"comment_id":84487340,"body_markdown":"*... or this is actually internally done by JUnit?* Try it out and you will know.","body":"<i>... or this is actually internally done by JUnit?</i> Try it out and you will know."}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518429259,"creation_date":1518429259,"answer_id":48743608,"question_id":48743568,"body_markdown":"Yes, an `@After` method is always run, even if an exception is thrown in a `@Test` method.\r\n\r\nThe test will fail if it isn&#39;t configured with `@Test(expected=ExceptionClass.class)`.","title":"In JUnit, will @After method run, when @Test method throws an exception which is unhandled?","body":"<p>Yes, an <code>@After</code> method is always run, even if an exception is thrown in a <code>@Test</code> method.</p>\n\n<p>The test will fail if it isn't configured with <code>@Test(expected=ExceptionClass.class)</code>.</p>\n"},{"tags":[],"owner":{"account_id":18163,"reputation":1371,"user_id":41362,"display_name":"migu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1518430116,"creation_date":1518430116,"answer_id":48743861,"question_id":48743568,"body_markdown":"JUnit runs methods annotated with `@After` after each test case regardless of thrown exceptions.\r\n\r\nTo quote [the JUnit documentation][1]:\r\n\r\n&gt; All @After methods are guaranteed to run even if a Before or Test method throws an exception.\r\n\r\n\r\n  [1]: https://junit.org/junit4/javadoc/latest/org/junit/After.html &quot;API doc for @After&quot;","title":"In JUnit, will @After method run, when @Test method throws an exception which is unhandled?","body":"<p>JUnit runs methods annotated with <code>@After</code> after each test case regardless of thrown exceptions.</p>\n\n<p>To quote <a href=\"https://junit.org/junit4/javadoc/latest/org/junit/After.html\" rel=\"noreferrer\" title=\"API doc for @After\">the JUnit documentation</a>:</p>\n\n<blockquote>\n  <p>All @After methods are guaranteed to run even if a Before or Test method throws an exception.</p>\n</blockquote>\n"}],"owner":{"account_id":9284888,"reputation":75,"user_id":7398818,"display_name":"AlwaysNoob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3324,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48743861,"answer_count":2,"score":4,"last_activity_date":1663070950,"creation_date":1518429138,"question_id":48743568,"body_markdown":"How will I make sure that my @After method runs even if @Test method throws an exception which is unhandled or this is actually internally done by JUnit?\r\n\r\n","title":"In JUnit, will @After method run, when @Test method throws an exception which is unhandled?","body":"<p>How will I make sure that my @After method runs even if @Test method throws an exception which is unhandled or this is actually internally done by JUnit?</p>\n"},{"tags":["java","weblogic","wlst","bea"],"answers":[{"tags":[],"owner":{"account_id":1731216,"reputation":965,"user_id":1584789,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347432645,"creation_date":1347432645,"answer_id":12382615,"question_id":12369972,"body_markdown":"Couple of things to try:\r\n\r\n1 - Setting CompatibilityMBeanServerEnabled to true, perform these steps from command line wlst (replace username, password, hostname, adminport, DomainName with your settings)\r\n\r\n    connect(&#39;username&#39;,&#39;password&#39;,&#39;t3://hostname:adminport&#39;)\r\n    cd(&#39;JMX/DomainName&#39;)\r\n    ls()\r\nnow check the value of &quot;CompatibilityMBeanServerEnabled&quot; parameter, if its false then do the following\r\n\r\n    edit()\r\n    startEdit()\r\n    set(&#39;CompatibilityMBeanServerEnabled&#39;, &#39;true&#39;)\r\n    save()\r\n    activate()\r\n    shutdown()\r\n\r\nstartup the AdminServer now, and try invoking your WLST Embedded code\r\n\r\n2 - If the above fix doesn&#39;t work then add &quot;dumpStack()&quot; in your WLST Embedded code to get the stack trace which will help in identifying the root cause.\r\n\r\n3- To answer your question on which jar is required for WLST Embed mode , its weblogic.jar","title":"wlst embeded mode not working","body":"<p>Couple of things to try:</p>\n\n<p>1 - Setting CompatibilityMBeanServerEnabled to true, perform these steps from command line wlst (replace username, password, hostname, adminport, DomainName with your settings)</p>\n\n<pre><code>connect('username','password','t3://hostname:adminport')\ncd('JMX/DomainName')\nls()\n</code></pre>\n\n<p>now check the value of \"CompatibilityMBeanServerEnabled\" parameter, if its false then do the following</p>\n\n<pre><code>edit()\nstartEdit()\nset('CompatibilityMBeanServerEnabled', 'true')\nsave()\nactivate()\nshutdown()\n</code></pre>\n\n<p>startup the AdminServer now, and try invoking your WLST Embedded code</p>\n\n<p>2 - If the above fix doesn't work then add \"dumpStack()\" in your WLST Embedded code to get the stack trace which will help in identifying the root cause.</p>\n\n<p>3- To answer your question on which jar is required for WLST Embed mode , its weblogic.jar</p>\n"},{"tags":[],"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470317163,"creation_date":1470317163,"answer_id":38768662,"question_id":12369972,"body_markdown":"Asumming that your WLS domain is located in /oracle/app/oracle/gc_inst/user_projects/domains/GCDomain, the following WLST commands worked for me on **WLS10.3.6** and allow us to enable RuntimeMBeanServer:\r\n\r\n1) Enable Platform MBean Server if disabled:\r\n     1.1. From WLS admin console, go to GCDomain &gt; Configuration &gt; General &gt; Advanced\r\n     1.2. Select **Platform MBean Server Enabled**, save the changes and activate the changes.\r\n     1.3. Restart the admin server.\r\n\r\n2) enable env variables for GCDomain\r\n\r\n    cd /oracle/app/oracle/gc_inst/user_projects/domains/GCDomain/bin\r\n    source setDomainEnv.sh\r\n\r\n3) enable the RuntimeMBeanServerEnabled from WLST\r\n    java weblogic.WLST\r\n\r\n    Initializing WebLogic Scripting Tool (WLST) ...\r\n    Welcome to WebLogic Server Administration Scripting Shell\r\n    Type help() for help on available commands\r\n    wls:/offline&gt; readDomain(&#39;/oracle/app/oracle/gc_inst/user_projects/domains/GCDomain&#39;)\r\n    wls:/offline/GCDomain&gt;cd(&#39;JMX/NO_NAME_0&#39;)\r\n    wls:/offline/GCDomain/JMX/NO_NAME_0&gt;set(&#39;PlatformMBeanServerUsed&#39;,&#39;true&#39;)\r\n    wls:/offline/GCDomain/JMX/NO_NAME_0&gt;set(&#39;PlatformMBeanServerEnabled&#39;,&#39;true&#39;)\r\n    wls:/offline/GCDomain/JMX/NO_NAME_0&gt;set(&#39;RuntimeMBeanServerEnabled&#39;, &#39;true&#39;)\r\n    wls:/offline/GCDomain/JMX/NO_NAME_0&gt;updateDomain()\r\n    wls:/offline/GCDomain/JMX/NO_NAME_0&gt;closeDomain()\r\n    wls:/offline&gt;exit() \r\n\r\nHope it works for you too.","title":"wlst embeded mode not working","body":"<p>Asumming that your WLS domain is located in /oracle/app/oracle/gc_inst/user_projects/domains/GCDomain, the following WLST commands worked for me on <strong>WLS10.3.6</strong> and allow us to enable RuntimeMBeanServer:</p>\n\n<p>1) Enable Platform MBean Server if disabled:\n     1.1. From WLS admin console, go to GCDomain > Configuration > General > Advanced\n     1.2. Select <strong>Platform MBean Server Enabled</strong>, save the changes and activate the changes.\n     1.3. Restart the admin server.</p>\n\n<p>2) enable env variables for GCDomain</p>\n\n<pre><code>cd /oracle/app/oracle/gc_inst/user_projects/domains/GCDomain/bin\nsource setDomainEnv.sh\n</code></pre>\n\n<p>3) enable the RuntimeMBeanServerEnabled from WLST\n    java weblogic.WLST</p>\n\n<pre><code>Initializing WebLogic Scripting Tool (WLST) ...\nWelcome to WebLogic Server Administration Scripting Shell\nType help() for help on available commands\nwls:/offline&gt; readDomain('/oracle/app/oracle/gc_inst/user_projects/domains/GCDomain')\nwls:/offline/GCDomain&gt;cd('JMX/NO_NAME_0')\nwls:/offline/GCDomain/JMX/NO_NAME_0&gt;set('PlatformMBeanServerUsed','true')\nwls:/offline/GCDomain/JMX/NO_NAME_0&gt;set('PlatformMBeanServerEnabled','true')\nwls:/offline/GCDomain/JMX/NO_NAME_0&gt;set('RuntimeMBeanServerEnabled', 'true')\nwls:/offline/GCDomain/JMX/NO_NAME_0&gt;updateDomain()\nwls:/offline/GCDomain/JMX/NO_NAME_0&gt;closeDomain()\nwls:/offline&gt;exit() \n</code></pre>\n\n<p>Hope it works for you too.</p>\n"},{"tags":[],"owner":{"account_id":7547247,"reputation":71,"user_id":5775151,"display_name":"Okan KOCAT&#220;RK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611163183,"creation_date":1610724921,"answer_id":65738968,"question_id":12369972,"body_markdown":"stopped node manager\r\n\r\nkilled the java process of server\r\n\r\nthan issued a \r\n\r\n&gt; start.sh -c \r\n\r\nto clear cached passwords and all the servers started. \r\n\r\n","title":"wlst embeded mode not working","body":"<p>stopped node manager</p>\n<p>killed the java process of server</p>\n<p>than issued a</p>\n<blockquote>\n<p>start.sh -c</p>\n</blockquote>\n<p>to clear cached passwords and all the servers started.</p>\n"},{"tags":[],"owner":{"account_id":26323937,"reputation":1,"user_id":19985572,"display_name":"Navanat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663070583,"creation_date":1663070583,"answer_id":73702673,"question_id":12369972,"body_markdown":"#!/bin/sh\r\n\r\nadd this in .sh file. worked for me ","title":"wlst embeded mode not working","body":"<p>#!/bin/sh</p>\n<p>add this in .sh file. worked for me</p>\n"}],"owner":{"account_id":416901,"reputation":4877,"user_id":792580,"accept_rate":74,"display_name":"srk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7740,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1663070583,"creation_date":1347367273,"question_id":12369972,"body_markdown":"I&#39;m trying to build a small Utility for tasks like\r\n1) connecting to weblogic admin server.\r\n2) Add managed server.\r\n3) Register domain with nodemanager, etcetera.\r\n\r\n\r\nI started development in eclipse, added all the jars of weblogic\\wlserver103\\server\\lib to my project buildpath.(I don&#39;t know which jars are required for wlst embeded mode) Development environment is set without any errors. When I&#39;m trying to run the simple task like connecting to admin server. An exception was thrown as shown below\r\n\r\n    Connecting to t3://ksai.domain.simpledevelopers.com:7001 with userid javadev13 ...\r\n    The CompatabilityMBeanServer is not initialized properly. \r\n    This might happen if the CompatabilityMBeanServer is \r\n    disabled via the JMXMBean.\r\n         \r\n    To view the root cause exception use dumpStack()\r\n        \r\n    WLST detected that the RuntimeMBeanServer is not enabled. This \r\n    might happen if the RuntimeMBeanServer is disabled via the JMXMBean. \r\n    Please ensure that this MBeanServer is enabled. Online WLST cannot \r\n    function without this MBeanServer.\r\n    Exception in thread &quot;main&quot; Traceback (innermost last):\r\n    File &quot;&lt;string&gt;&quot;, line 1, in ?\r\n    File &quot;&lt;iostream&gt;&quot;, line 22, in connect\r\n    File &quot;&lt;iostream&gt;&quot;, line 618, in raiseWLSTException\r\n    WLSTException: Error occured while performing connect : &quot;Cannot connect to WLST.&quot; \r\n    Use dumpStack() to view the full stacktrace\r\n\r\nI can do the same connect from wlst offline mode with the same username and password, which works well.As a workaround I&#39;ve also tried giving userconfig and userKey secure files as parameters to connect command.\r\n\r\nNote: Admin server is already started and running. ","title":"wlst embeded mode not working","body":"<p>I'm trying to build a small Utility for tasks like\n1) connecting to weblogic admin server.\n2) Add managed server.\n3) Register domain with nodemanager, etcetera.</p>\n\n<p>I started development in eclipse, added all the jars of weblogic\\wlserver103\\server\\lib to my project buildpath.(I don't know which jars are required for wlst embeded mode) Development environment is set without any errors. When I'm trying to run the simple task like connecting to admin server. An exception was thrown as shown below</p>\n\n<pre><code>Connecting to t3://ksai.domain.simpledevelopers.com:7001 with userid javadev13 ...\nThe CompatabilityMBeanServer is not initialized properly. \nThis might happen if the CompatabilityMBeanServer is \ndisabled via the JMXMBean.\n\nTo view the root cause exception use dumpStack()\n\nWLST detected that the RuntimeMBeanServer is not enabled. This \nmight happen if the RuntimeMBeanServer is disabled via the JMXMBean. \nPlease ensure that this MBeanServer is enabled. Online WLST cannot \nfunction without this MBeanServer.\nException in thread \"main\" Traceback (innermost last):\nFile \"&lt;string&gt;\", line 1, in ?\nFile \"&lt;iostream&gt;\", line 22, in connect\nFile \"&lt;iostream&gt;\", line 618, in raiseWLSTException\nWLSTException: Error occured while performing connect : \"Cannot connect to WLST.\" \nUse dumpStack() to view the full stacktrace\n</code></pre>\n\n<p>I can do the same connect from wlst offline mode with the same username and password, which works well.As a workaround I've also tried giving userconfig and userKey secure files as parameters to connect command.</p>\n\n<p>Note: Admin server is already started and running. </p>\n"},{"tags":["java","google-kubernetes-engine","stackdriver"],"answers":[{"tags":[],"owner":{"account_id":2050945,"reputation":61,"user_id":1829981,"display_name":"BLiN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562996337,"creation_date":1562967381,"answer_id":57014273,"question_id":56989993,"body_markdown":"I had the same issue, and in my case this particular GKE service had its own service account with permissions to access BigQuery datasets, and secret was placed to `/var/secrets/google/key.json` inside container in order for application BiqQuery lib to find it there during launch as well as GOOGLE_APPLICATION_CREDENTIALS environment variable, the issue here may be that profiler agent looks like is also checking path that was set in this variable, when it starts, and if it finds it - it is starting to use it for all requests to cloudprofiler.googleapis.com.\r\nSome info on this can be found here - https://cloud.google.com/profiler/docs/profiling-external#using_service_accounts\r\nOne of the solution may be to provide this service account additional permissions to access google profiler service.\r\n\r\nAlso, if this is not your case, you should check permissions of the default service account attached to your GKE nodes, more info on this here - https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster\r\n\r\n```\r\nEach GKE node has an IAM Service Account associated with it. By default, nodes are given the Compute Engine default service account, which you can find by navigating to the IAM section of the Cloud Console. \r\n```\r\nHope this can help someone. ","title":"Stackdriver profiler failes to create profile because of permission running Java on GKE","body":"<p>I had the same issue, and in my case this particular GKE service had its own service account with permissions to access BigQuery datasets, and secret was placed to <code>/var/secrets/google/key.json</code> inside container in order for application BiqQuery lib to find it there during launch as well as GOOGLE_APPLICATION_CREDENTIALS environment variable, the issue here may be that profiler agent looks like is also checking path that was set in this variable, when it starts, and if it finds it - it is starting to use it for all requests to cloudprofiler.googleapis.com.\nSome info on this can be found here - <a href=\"https://cloud.google.com/profiler/docs/profiling-external#using_service_accounts\" rel=\"nofollow noreferrer\">https://cloud.google.com/profiler/docs/profiling-external#using_service_accounts</a>\nOne of the solution may be to provide this service account additional permissions to access google profiler service.</p>\n\n<p>Also, if this is not your case, you should check permissions of the default service account attached to your GKE nodes, more info on this here - <a href=\"https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster\" rel=\"nofollow noreferrer\">https://cloud.google.com/kubernetes-engine/docs/how-to/hardening-your-cluster</a></p>\n\n<pre><code>Each GKE node has an IAM Service Account associated with it. By default, nodes are given the Compute Engine default service account, which you can find by navigating to the IAM section of the Cloud Console. \n</code></pre>\n\n<p>Hope this can help someone. </p>\n"}],"owner":{"account_id":1809469,"reputation":464,"user_id":1645837,"accept_rate":86,"display_name":"montss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663070562,"creation_date":1562850516,"question_id":56989993,"body_markdown":"We are trying to connect our app to the stackdriver profiler but it is failing because of a permission issue it seems.\r\n\r\nWe are running a Java app on GKE.\r\n\r\nBelow is the `Dockerfile` \r\n\r\n    FROM gcr.io/google-appengine/jetty\r\n    \r\n    RUN mkdir -p /opt/cprof &amp;&amp; \\\r\n      wget -q -O- https://storage.googleapis.com/cloud-profiler/java/latest/profiler_java_agent.tar.gz \\\r\n      | tar xzv -C /opt/cprof\r\n    \r\n    RUN java \\\r\n    \t-agentpath:/opt/cprof/profiler_java_agent.so=-cprof_service=gke,-logtostderr,-minloglevel=0,-cprof_service_version=1.0.0,-cprof_gce_metadata_server_retry_sleep_sec=10,-cprof_gce_metadata_server_retry_count=12 \\\r\n    \t-jar &quot;$JETTY_HOME/start.jar&quot; --create-startd --add-to-start=gcloud,http2c --approve-all-licenses\r\n    \r\n    ENV JETTY_ARGS -Djava.util.logging.config.file=WEB-INF/flex.logging.properties\r\n    \r\n    ENV DBG_ENABLE true\r\n    \r\n    ADD . $APP_DESTINATION_EXPLODED_WAR\r\n    \r\n    ENV JAVA_USER_OPTS -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseStringDeduplication -XX:+PrintStringDeduplicationStatistics -Xloggc:/tmp/logs.gc\r\n\r\nThe cluster has been created using the following command:-\r\n\r\n    gcloud beta container clusters create $cluster_name --machine-type=n1-highmem-8 --project=$project_id --zone=us-central1-c --scopes=&quot;cloud-platform&quot; --num-nodes=2\r\n\r\nWe followed steps in [profiling-java][1] to configure the `Dockerfile` however the profiler fails with the following message.\r\n\r\n`Failed to create profile, will retry: 7 (The caller does not have permission)`\r\n\r\nCheck the full deploy logs below:-\r\n\r\n    12:53:42 starting build &quot;18a3a03c-6dc8-4683-8fae-92ec22aa84a8&quot;\r\n    12:53:42 \r\n    12:53:42 FETCHSOURCE\r\n    12:53:42 Fetching storage object: gs://project_id_cloudbuild/source/1562838709.77-78c301e261714cd2a46391b235d5edc5.tgz#1562838738548166\r\n    12:53:42 Copying gs://project_id_cloudbuild/source/1562838709.77-78c301e261714cd2a46391b235d5edc5.tgz#1562838738548166...\r\n    12:53:42 / [0 files][    0.0 B/239.8 MiB]                                                \r\n    -\r\n    - [0 files][ 56.0 MiB/239.8 MiB]                                                \r\n    \\\r\n    |\r\n    | [0 files][165.0 MiB/239.8 MiB]                                                \r\n    /\r\n    / [1 files][239.8 MiB/239.8 MiB]                                                \r\n    12:53:42 Operation completed over 1 objects/239.8 MiB.                                    \r\n    12:53:42 BUILD\r\n    12:53:42 Already have image (with digest): gcr.io/cloud-builders/docker\r\n    12:53:42 Sending build context to Docker daemon  396.6MB\r\n    \r\n    12:53:42 Step 1/8 : FROM gcr.io/google-appengine/jetty\r\n    12:53:42 latest: Pulling from google-appengine/jetty\r\n    12:53:42 Digest: sha256:7e37b8561b2f25660d1aa492dea4f09a6121fe7f8b7f6b2e9f8c65e1cf33328e\r\n    12:53:42 Status: Downloaded newer image for gcr.io/google-appengine/jetty:latest\r\n    12:53:42  ---&gt; dac4353b3a0c\r\n    12:53:42 Step 2/8 : RUN mkdir -p /opt/cprof &amp;&amp;   wget -q -O- https://storage.googleapis.com/cloud-profiler/java/latest/profiler_java_agent.tar.gz   | tar xzv -C /opt/cprof\r\n    12:53:42  ---&gt; Running in 3799f9af9c33\r\n    12:53:42 NOTICES\r\n    12:53:42 profiler_java_agent.so\r\n    12:53:42 Removing intermediate container 3799f9af9c33\r\n    12:53:42  ---&gt; 8cd480829757\r\n    12:53:42 Step 3/8 : RUN java \t-agentpath:/opt/cprof/profiler_java_agent.so=-cprof_service=gke,-logtostderr,-minloglevel=0,-cprof_service_version=1.0.0,-cprof_gce_metadata_server_retry_sleep_sec=10,-cprof_gce_metadata_server_retry_count=12 \t-jar &quot;$JETTY_HOME/start.jar&quot; --create-startd --add-to-start=gcloud,http2c --approve-all-licenses\r\n    12:53:42  ---&gt; Running in bad2457cd65c\r\n    12:53:42 [91mI0711 09:52:57.100730     7 entry.cc:268] Profiler agent loaded\r\n    12:53:42 [0m[91mI0711 09:52:57.105134     7 entry.cc:154] Prepare JVMTI\r\n    12:53:42 [0m[91mI0711 09:52:57.301863     7 entry.cc:108] On VM init\r\n    12:53:42 [0m[91mI0711 09:52:57.304172     7 cloud_env.cc:136] Project ID is not set via flag or environment, will get from the metadata server\r\n    12:53:42 [0m[91mI0711 09:52:57.304981     7 throttler_api.cc:269] Will use profiler service cloudprofiler.googleapis.com to create and upload profiles\r\n    12:53:42 [0m[91mI0711 09:52:57.315691    15 throttler_api.cc:202] Initialized deployment: project_id=project_id, service=gke, service_version=1.0.0, zone_name=us-central1-f\r\n    12:53:42 [0m[91mI0711 09:52:57.320428    15 throttler_api.cc:302] Creating a new profile via profiler service\r\n    12:53:42 [0m[91mW0711 09:52:57.539041    15 throttler_api.cc:382] Failed to create profile, will retry: 7 (The caller does not have permission)\r\n    12:53:42 [0m[91mINFO  [0m[91m: [0m[91mAll Licenses Approved via Command Line Option[0m[91m\r\n    12:53:42 [0m[91mINFO  [0m[91m: [0m[91mgcloud          initialized in ${jetty.base}/start.d/gcloud.ini[0m[91m\r\n    12:53:42 [0m[91mINFO  [0m[91m: [0m[91mhttp2c          initialized in ${jetty.base}/start.d/http2c.ini[0m[91m\r\n    12:53:42 [0m[91mINFO  [0m[91m: [0m[91mBase directory was modified[0m[91m\r\n    12:53:42 [0m[91mI0711 09:52:58.506006     7 entry.cc:143] On VM death\r\n    12:53:42 [0m[91mI0711 09:53:25.504830    15 throttler_api.cc:302] Creating a new profile via profiler service\r\n    12:53:42 I0711 09:53:25.505025    15 worker.cc:177] Exiting the profiling loop\r\n    12:53:42 [0mRemoving intermediate container bad2457cd65c\r\n    12:53:42  ---&gt; e9a969345ed1\r\n    12:53:42 Step 4/8 : ENV JETTY_ARGS -Djava.util.logging.config.file=WEB-INF/flex.logging.properties\r\n    12:53:42  ---&gt; Running in d3e4b6456694\r\n    12:53:42 Removing intermediate container d3e4b6456694\r\n    12:53:42  ---&gt; 52deb5efe19d\r\n    12:53:42 Step 5/8 : ENV DBG_ENABLE true\r\n    12:53:42  ---&gt; Running in 6bd2b94ae0fc\r\n    12:53:42 Removing intermediate container 6bd2b94ae0fc\r\n    12:53:42  ---&gt; 9800d1e2d074\r\n    12:53:42 Step 6/8 : ADD . $APP_DESTINATION_EXPLODED_WAR\r\n    12:53:42  ---&gt; e1d7881f4558\r\n    12:53:42 Step 7/8 : ENV JAVA_USER_OPTS -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseStringDeduplication -XX:+PrintStringDeduplicationStatistics -Xloggc:/tmp/logs.gc\r\n    12:53:42  ---&gt; Running in 81247ccde74f\r\n    12:53:42 Removing intermediate container 81247ccde74f\r\n    12:53:42  ---&gt; d66dbce64869\r\n    12:53:42 Step 8/8 : ENV GCLOUD_PROJECT project_id\r\n    12:54:07  ---&gt; Running in af00f02783b7\r\n    12:54:07 Removing intermediate container af00f02783b7\r\n    12:54:07  ---&gt; 77826e33ef3c\r\n    12:54:07 Successfully built 77826e33ef3c\r\n    12:54:07 Successfully tagged gcr.io/project_id/ram-image:1\r\n    12:54:07 PUSH\r\n    12:54:07 Pushing gcr.io/project_id/ram-image:1\r\n    12:54:07 The push refers to repository [gcr.io/project_id/ram-image]\r\n\r\nThe service account we use to deploy has `roles/cloudprofiler.agent` but it is still failing. any idea what permission we are missing ?\r\n\r\n**Update:**\r\nThe GKE nodes uses [the default compute engine service account][2], I added `roles/cloudprofiler.agent` to it but still the same error.\r\n\r\n\r\n  [1]: https://cloud.google.com/profiler/docs/profiling-java\r\n  [2]: https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--service-account","title":"Stackdriver profiler failes to create profile because of permission running Java on GKE","body":"<p>We are trying to connect our app to the stackdriver profiler but it is failing because of a permission issue it seems.</p>\n<p>We are running a Java app on GKE.</p>\n<p>Below is the <code>Dockerfile</code></p>\n<pre><code>FROM gcr.io/google-appengine/jetty\n\nRUN mkdir -p /opt/cprof &amp;&amp; \\\n  wget -q -O- https://storage.googleapis.com/cloud-profiler/java/latest/profiler_java_agent.tar.gz \\\n  | tar xzv -C /opt/cprof\n\nRUN java \\\n    -agentpath:/opt/cprof/profiler_java_agent.so=-cprof_service=gke,-logtostderr,-minloglevel=0,-cprof_service_version=1.0.0,-cprof_gce_metadata_server_retry_sleep_sec=10,-cprof_gce_metadata_server_retry_count=12 \\\n    -jar &quot;$JETTY_HOME/start.jar&quot; --create-startd --add-to-start=gcloud,http2c --approve-all-licenses\n\nENV JETTY_ARGS -Djava.util.logging.config.file=WEB-INF/flex.logging.properties\n\nENV DBG_ENABLE true\n\nADD . $APP_DESTINATION_EXPLODED_WAR\n\nENV JAVA_USER_OPTS -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseStringDeduplication -XX:+PrintStringDeduplicationStatistics -Xloggc:/tmp/logs.gc\n</code></pre>\n<p>The cluster has been created using the following command:-</p>\n<pre><code>gcloud beta container clusters create $cluster_name --machine-type=n1-highmem-8 --project=$project_id --zone=us-central1-c --scopes=&quot;cloud-platform&quot; --num-nodes=2\n</code></pre>\n<p>We followed steps in <a href=\"https://cloud.google.com/profiler/docs/profiling-java\" rel=\"nofollow noreferrer\">profiling-java</a> to configure the <code>Dockerfile</code> however the profiler fails with the following message.</p>\n<p><code>Failed to create profile, will retry: 7 (The caller does not have permission)</code></p>\n<p>Check the full deploy logs below:-</p>\n<pre><code>12:53:42 starting build &quot;18a3a03c-6dc8-4683-8fae-92ec22aa84a8&quot;\n12:53:42 \n12:53:42 FETCHSOURCE\n12:53:42 Fetching storage object: gs://project_id_cloudbuild/source/1562838709.77-78c301e261714cd2a46391b235d5edc5.tgz#1562838738548166\n12:53:42 Copying gs://project_id_cloudbuild/source/1562838709.77-78c301e261714cd2a46391b235d5edc5.tgz#1562838738548166...\n12:53:42 / [0 files][    0.0 B/239.8 MiB]                                                \n-\n- [0 files][ 56.0 MiB/239.8 MiB]                                                \n\\\n|\n| [0 files][165.0 MiB/239.8 MiB]                                                \n/\n/ [1 files][239.8 MiB/239.8 MiB]                                                \n12:53:42 Operation completed over 1 objects/239.8 MiB.                                    \n12:53:42 BUILD\n12:53:42 Already have image (with digest): gcr.io/cloud-builders/docker\n12:53:42 Sending build context to Docker daemon  396.6MB\n\n12:53:42 Step 1/8 : FROM gcr.io/google-appengine/jetty\n12:53:42 latest: Pulling from google-appengine/jetty\n12:53:42 Digest: sha256:7e37b8561b2f25660d1aa492dea4f09a6121fe7f8b7f6b2e9f8c65e1cf33328e\n12:53:42 Status: Downloaded newer image for gcr.io/google-appengine/jetty:latest\n12:53:42  ---&gt; dac4353b3a0c\n12:53:42 Step 2/8 : RUN mkdir -p /opt/cprof &amp;&amp;   wget -q -O- https://storage.googleapis.com/cloud-profiler/java/latest/profiler_java_agent.tar.gz   | tar xzv -C /opt/cprof\n12:53:42  ---&gt; Running in 3799f9af9c33\n12:53:42 NOTICES\n12:53:42 profiler_java_agent.so\n12:53:42 Removing intermediate container 3799f9af9c33\n12:53:42  ---&gt; 8cd480829757\n12:53:42 Step 3/8 : RUN java    -agentpath:/opt/cprof/profiler_java_agent.so=-cprof_service=gke,-logtostderr,-minloglevel=0,-cprof_service_version=1.0.0,-cprof_gce_metadata_server_retry_sleep_sec=10,-cprof_gce_metadata_server_retry_count=12    -jar &quot;$JETTY_HOME/start.jar&quot; --create-startd --add-to-start=gcloud,http2c --approve-all-licenses\n12:53:42  ---&gt; Running in bad2457cd65c\n12:53:42 [91mI0711 09:52:57.100730     7 entry.cc:268] Profiler agent loaded\n12:53:42 [0m[91mI0711 09:52:57.105134     7 entry.cc:154] Prepare JVMTI\n12:53:42 [0m[91mI0711 09:52:57.301863     7 entry.cc:108] On VM init\n12:53:42 [0m[91mI0711 09:52:57.304172     7 cloud_env.cc:136] Project ID is not set via flag or environment, will get from the metadata server\n12:53:42 [0m[91mI0711 09:52:57.304981     7 throttler_api.cc:269] Will use profiler service cloudprofiler.googleapis.com to create and upload profiles\n12:53:42 [0m[91mI0711 09:52:57.315691    15 throttler_api.cc:202] Initialized deployment: project_id=project_id, service=gke, service_version=1.0.0, zone_name=us-central1-f\n12:53:42 [0m[91mI0711 09:52:57.320428    15 throttler_api.cc:302] Creating a new profile via profiler service\n12:53:42 [0m[91mW0711 09:52:57.539041    15 throttler_api.cc:382] Failed to create profile, will retry: 7 (The caller does not have permission)\n12:53:42 [0m[91mINFO  [0m[91m: [0m[91mAll Licenses Approved via Command Line Option[0m[91m\n12:53:42 [0m[91mINFO  [0m[91m: [0m[91mgcloud          initialized in ${jetty.base}/start.d/gcloud.ini[0m[91m\n12:53:42 [0m[91mINFO  [0m[91m: [0m[91mhttp2c          initialized in ${jetty.base}/start.d/http2c.ini[0m[91m\n12:53:42 [0m[91mINFO  [0m[91m: [0m[91mBase directory was modified[0m[91m\n12:53:42 [0m[91mI0711 09:52:58.506006     7 entry.cc:143] On VM death\n12:53:42 [0m[91mI0711 09:53:25.504830    15 throttler_api.cc:302] Creating a new profile via profiler service\n12:53:42 I0711 09:53:25.505025    15 worker.cc:177] Exiting the profiling loop\n12:53:42 [0mRemoving intermediate container bad2457cd65c\n12:53:42  ---&gt; e9a969345ed1\n12:53:42 Step 4/8 : ENV JETTY_ARGS -Djava.util.logging.config.file=WEB-INF/flex.logging.properties\n12:53:42  ---&gt; Running in d3e4b6456694\n12:53:42 Removing intermediate container d3e4b6456694\n12:53:42  ---&gt; 52deb5efe19d\n12:53:42 Step 5/8 : ENV DBG_ENABLE true\n12:53:42  ---&gt; Running in 6bd2b94ae0fc\n12:53:42 Removing intermediate container 6bd2b94ae0fc\n12:53:42  ---&gt; 9800d1e2d074\n12:53:42 Step 6/8 : ADD . $APP_DESTINATION_EXPLODED_WAR\n12:53:42  ---&gt; e1d7881f4558\n12:53:42 Step 7/8 : ENV JAVA_USER_OPTS -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseStringDeduplication -XX:+PrintStringDeduplicationStatistics -Xloggc:/tmp/logs.gc\n12:53:42  ---&gt; Running in 81247ccde74f\n12:53:42 Removing intermediate container 81247ccde74f\n12:53:42  ---&gt; d66dbce64869\n12:53:42 Step 8/8 : ENV GCLOUD_PROJECT project_id\n12:54:07  ---&gt; Running in af00f02783b7\n12:54:07 Removing intermediate container af00f02783b7\n12:54:07  ---&gt; 77826e33ef3c\n12:54:07 Successfully built 77826e33ef3c\n12:54:07 Successfully tagged gcr.io/project_id/ram-image:1\n12:54:07 PUSH\n12:54:07 Pushing gcr.io/project_id/ram-image:1\n12:54:07 The push refers to repository [gcr.io/project_id/ram-image]\n</code></pre>\n<p>The service account we use to deploy has <code>roles/cloudprofiler.agent</code> but it is still failing. any idea what permission we are missing ?</p>\n<p><strong>Update:</strong>\nThe GKE nodes uses <a href=\"https://cloud.google.com/sdk/gcloud/reference/container/clusters/create#--service-account\" rel=\"nofollow noreferrer\">the default compute engine service account</a>, I added <code>roles/cloudprofiler.agent</code> to it but still the same error.</p>\n"},{"tags":["java","eclipse","mssql-jdbc"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1634601330,"post_id":69623611,"comment_id":123063763,"body_markdown":"Wow, TLS 1.1 was introduced 16.5 years ago. Uh, you&#39;re kinda lacking when it comes to upgrades, but kudo&#39;s for keeping that server running for that long :P","body":"Wow, TLS 1.1 was introduced 16.5 years ago. Uh, you&#39;re kinda lacking when it comes to upgrades, but kudo&#39;s for keeping that server running for that long :P"},{"owner":{"account_id":3790359,"reputation":2316,"user_id":3147100,"display_name":"Kevin"},"score":1,"creation_date":1634701015,"post_id":69623611,"comment_id":123092800,"body_markdown":"True, but it&#39;s the only mssql I have a license for &amp; it&#39;s only a sandbox. No point fixing a &quot;security issue&quot; that&#39;s not even open to the public. Besides, just wanted to spend time developing java, not down a mssql rabbit hole as we all know this turns into! Thx for feedback","body":"True, but it&#39;s the only mssql I have a license for &amp; it&#39;s only a sandbox. No point fixing a &quot;security issue&quot; that&#39;s not even open to the public. Besides, just wanted to spend time developing java, not down a mssql rabbit hole as we all know this turns into! Thx for feedback"}],"answers":[{"tags":[],"owner":{"account_id":3790359,"reputation":2316,"user_id":3147100,"display_name":"Kevin"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1634600028,"creation_date":1634600028,"answer_id":69623612,"question_id":69623611,"body_markdown":"Solution (though be aware of security risks):\r\n* C:\\Program Files\\Java\\jdk-16.0.1\\conf\\security\\java.security\r\n* Or C:\\Program Files\\Java\\jre7\\lib\\security\\java.security\r\n* Remove &quot;TLSv1, TLSv1.1, &quot; from this line:\r\n\r\n`jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\`\r\n\r\n`    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL`","title":"How do I allow Java client TLS10 connections?","body":"<p>Solution (though be aware of security risks):</p>\n<ul>\n<li>C:\\Program Files\\Java\\jdk-16.0.1\\conf\\security\\java.security</li>\n<li>Or C:\\Program Files\\Java\\jre7\\lib\\security\\java.security</li>\n<li>Remove &quot;TLSv1, TLSv1.1, &quot; from this line:</li>\n</ul>\n<p><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\</code></p>\n<p><code>    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL</code></p>\n"},{"tags":[],"owner":{"account_id":11439295,"reputation":679,"user_id":8385477,"display_name":"srp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663070243,"creation_date":1663070243,"answer_id":73702590,"question_id":69623611,"body_markdown":"**TLS 1.0 and 1.1** are disabled by default in latest Java versions (OpenJDK 11.0.11 onwards). Because these versions of TLS have weakened over time and lack support for stronger, more modern algorithms.\r\n\r\n**Solution:**\r\n\r\nPatch your MSSQL server and enable TLS1.2 on your MSSQL Server as per the Microsoft KB article:\r\nhttps://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe\r\n\r\n**Alternate Solutions**: (Prone to security risks)\r\n\r\n\r\n \r\n\r\n 1. Enabling them by doing modification in existing java.security file of installed JDK as mentioned in Kevin&#39;s answer.\r\n 2. Or by overriding java.security for your specific application as given below.(**preferred**)\r\n\r\n\r\n\r\n - Create a file named enableLegacyTLS.security.\r\n - In that file, add an entry for jdk.tls.disabledAlgorithms with the same contents as the jdk.tls.disabledAlgorithms property in the java.security file.\r\n\r\n&gt;     jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n&gt;      DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL,...\r\n\r\n - Remove **TLSv1, TLSv1.1,** from the list on the enableLegacyTLS.security.\r\n\r\n - Start your application with -Djava.security.properties=path/to/enableLegacyTLS.security\r\n\r\n\r\nNote: In last point, When you use a double equals sign (==), you tell the JVM to ignore the default java.security file and load only this file. But if a single equals sign (=) is used, it loads both your copy and superimposes it over the default java.security file","title":"How do I allow Java client TLS10 connections?","body":"<p><strong>TLS 1.0 and 1.1</strong> are disabled by default in latest Java versions (OpenJDK 11.0.11 onwards). Because these versions of TLS have weakened over time and lack support for stronger, more modern algorithms.</p>\n<p><strong>Solution:</strong></p>\n<p>Patch your MSSQL server and enable TLS1.2 on your MSSQL Server as per the Microsoft KB article:\n<a href=\"https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe</a></p>\n<p><strong>Alternate Solutions</strong>: (Prone to security risks)</p>\n<ol>\n<li>Enabling them by doing modification in existing java.security file of installed JDK as mentioned in Kevin's answer.</li>\n<li>Or by overriding java.security for your specific application as given below.(<strong>preferred</strong>)</li>\n</ol>\n<ul>\n<li>Create a file named enableLegacyTLS.security.</li>\n<li>In that file, add an entry for jdk.tls.disabledAlgorithms with the same contents as the jdk.tls.disabledAlgorithms property in the java.security file.</li>\n</ul>\n<blockquote>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL,...\n</code></pre>\n</blockquote>\n<ul>\n<li><p>Remove <strong>TLSv1, TLSv1.1,</strong> from the list on the enableLegacyTLS.security.</p>\n</li>\n<li><p>Start your application with -Djava.security.properties=path/to/enableLegacyTLS.security</p>\n</li>\n</ul>\n<p>Note: In last point, When you use a double equals sign (==), you tell the JVM to ignore the default java.security file and load only this file. But if a single equals sign (=) is used, it loads both your copy and superimposes it over the default java.security file</p>\n"}],"owner":{"account_id":3790359,"reputation":2316,"user_id":3147100,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1663070243,"creation_date":1634600028,"question_id":69623611,"body_markdown":"While attempting to do a hello world MSSQL JDBC connection in Eclipse with Java 16, I&#39;m getting this error:\r\n\r\n`&quot;...server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]...&quot;`\r\n\r\nUpon searching, it appears my Java client is not allowing this TLS version while trying to connect to my deprecated MSSQL instance. How do I enable it?\r\n\r\nHere&#39;s how I added the MSSQL JDBC driver:\r\n* Download jar driver: https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\r\n* Add jar to build path, under Class path, jar for java version (version listed above)\r\n","title":"How do I allow Java client TLS10 connections?","body":"<p>While attempting to do a hello world MSSQL JDBC connection in Eclipse with Java 16, I'm getting this error:</p>\n<p><code>&quot;...server selected protocol version TLS10 is not accepted by client preferences [TLS13, TLS12]...&quot;</code></p>\n<p>Upon searching, it appears my Java client is not allowing this TLS version while trying to connect to my deprecated MSSQL instance. How do I enable it?</p>\n<p>Here's how I added the MSSQL JDBC driver:</p>\n<ul>\n<li>Download jar driver: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15</a></li>\n<li>Add jar to build path, under Class path, jar for java version (version listed above)</li>\n</ul>\n"},{"tags":["java","hibernate","jpa","class-hierarchy"],"answers":[{"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1352156233,"creation_date":1351840181,"answer_id":13190858,"question_id":13186572,"body_markdown":"Short answer: The behaviour you describe complies with JPA standard.  There is no JPA standard way to restrict the JPA provider to retrieve only the superclass.\r\n\r\nThe provider can choose query implementation logic to achieve functionality, consistency &amp; performance.  As long as it respects your entity annotations and returns the requested information in the query all is good.  Think of the outer join to Dog as private implementation detail that should not concern you.  The provider has coded an outer join to assist performance and consistency.  \r\n\r\n\r\nConsider:\r\n\r\n- JPA is defined to work on java object Entities not tables\r\n- Root of your Entity hierarchy, Animal, is not abstract, so you can create an instance and persist it.   \r\n- You have a default value for Animal @DescriminatorColumn and @DescriminatorType - so Animal table will have a discriminator column added with name &quot;DTYPE&quot; and type &quot;some String type&quot;.  You have a default value for @DescriminatorValue - will be equal to the Entity name: Animal.  So Animal.DTYPE column = &quot;Animal&quot; when you create this entity.\r\n- The Entity Dog has a superclass Animal.  The default value is also used for its @DescriminatorValue - Dog.  So Animal.DTYPE column = &quot;Dog&quot; when you create this entity.\r\n- Java class restrictions ensure that whenever a Dog object exists a corresponding Animal superclass object also exists.  \r\n- Very often, when you have an Entity Animal loaded into JPA persistence context, with a @DescriminatorValue (value stored in DTYPE column) = &quot;Dog&quot;, then it is very useful to have Dog object loaded into PC for consistency.  Even though it is not required by the JPA standard.\r\n- The inheritance relationship cannot be specified to be EAGER or LAZY (like a basic type field or entity relationship field).  If you needed to read/update dog properties and the Dog class was not loaded what would you do?  Run a separate query to reload it?  This would hurt consistency and performance greatly.\r\n- The main concern for performance is the total number of separate SQL commands sent to the DB.  \r\nIn terms of time taken:\r\nquery with animal table is only slightly faster (10s of microseconds???) than query with animal outer joined to dog, but is much faster than two separate queries (one for animal and one for dog)\r\n\r\n","title":"Retrieve only the superclass from a class hierarchy","body":"<p>Short answer: The behaviour you describe complies with JPA standard.  There is no JPA standard way to restrict the JPA provider to retrieve only the superclass.</p>\n\n<p>The provider can choose query implementation logic to achieve functionality, consistency &amp; performance.  As long as it respects your entity annotations and returns the requested information in the query all is good.  Think of the outer join to Dog as private implementation detail that should not concern you.  The provider has coded an outer join to assist performance and consistency.  </p>\n\n<p>Consider:</p>\n\n<ul>\n<li>JPA is defined to work on java object Entities not tables</li>\n<li>Root of your Entity hierarchy, Animal, is not abstract, so you can create an instance and persist it.   </li>\n<li>You have a default value for Animal @DescriminatorColumn and @DescriminatorType - so Animal table will have a discriminator column added with name \"DTYPE\" and type \"some String type\".  You have a default value for @DescriminatorValue - will be equal to the Entity name: Animal.  So Animal.DTYPE column = \"Animal\" when you create this entity.</li>\n<li>The Entity Dog has a superclass Animal.  The default value is also used for its @DescriminatorValue - Dog.  So Animal.DTYPE column = \"Dog\" when you create this entity.</li>\n<li>Java class restrictions ensure that whenever a Dog object exists a corresponding Animal superclass object also exists.  </li>\n<li>Very often, when you have an Entity Animal loaded into JPA persistence context, with a @DescriminatorValue (value stored in DTYPE column) = \"Dog\", then it is very useful to have Dog object loaded into PC for consistency.  Even though it is not required by the JPA standard.</li>\n<li>The inheritance relationship cannot be specified to be EAGER or LAZY (like a basic type field or entity relationship field).  If you needed to read/update dog properties and the Dog class was not loaded what would you do?  Run a separate query to reload it?  This would hurt consistency and performance greatly.</li>\n<li>The main concern for performance is the total number of separate SQL commands sent to the DB.<br>\nIn terms of time taken:\nquery with animal table is only slightly faster (10s of microseconds???) than query with animal outer joined to dog, but is much faster than two separate queries (one for animal and one for dog)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7510035,"reputation":431,"user_id":5705300,"display_name":"Fl&#225;vio Henrique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525911850,"creation_date":1525897993,"answer_id":50261593,"question_id":13186572,"body_markdown":"Actually, there is a way to get just the superclass: you just need to use the native query from JPA. In my case, I am using JPA Repositories. Therefore, it would be something like that:\r\n\r\n    @Query(value = &quot;SELECT * FROM animal&quot;, nativeQuery = true)\r\n\tList&lt;Resource&gt; findAllAnimal();\r\nThe flag nativeQuery as true allow running the native SQL on database.\r\n\r\nIf you are using Entity Manager then check this out: https://www.thoughts-on-java.org/jpa-native-queries/","title":"Retrieve only the superclass from a class hierarchy","body":"<p>Actually, there is a way to get just the superclass: you just need to use the native query from JPA. In my case, I am using JPA Repositories. Therefore, it would be something like that:</p>\n\n<pre><code>@Query(value = \"SELECT * FROM animal\", nativeQuery = true)\nList&lt;Resource&gt; findAllAnimal();\n</code></pre>\n\n<p>The flag nativeQuery as true allow running the native SQL on database.</p>\n\n<p>If you are using Entity Manager then check this out: <a href=\"https://www.thoughts-on-java.org/jpa-native-queries/\" rel=\"nofollow noreferrer\">https://www.thoughts-on-java.org/jpa-native-queries/</a></p>\n"},{"tags":[],"owner":{"account_id":26323579,"reputation":1,"user_id":19985256,"display_name":"Dmitriy Dovakhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663070032,"creation_date":1663070032,"answer_id":73702552,"question_id":13186572,"body_markdown":"Hibernate uses a property &quot;clazz_&quot; to determine subclasses.\r\n\r\nExample:\r\n```\r\nselect \r\n  animal0_.animal_id as animal_i1_0_,..., \r\n  case \r\n    when animal0_1_.animal_id is not null then 1 \r\n    when animal0_2_.animal_id is not null then 2 \r\n    when animal0_.animal_id is not null then 0 \r\n  end as clazz_\r\nfrom animal animal0_ \r\nleft outer join dog animal0_1_ on animal0_.animal_id=animal0_1_.animal_id\r\nleft outer join cat animal0_2_ on animal0_.animal_id=animal0_2_.animal_id\r\n```\r\n\r\nYou should specify SQL with &quot;**0 AS clazz_**&quot;\r\n```\r\n@Query(value = &quot;SELECT *, 0 AS clazz_ FROM animal&quot;, nativeQuery = true)\r\nList&lt;Animal&gt; findAllAnimal();\r\n```","title":"Retrieve only the superclass from a class hierarchy","body":"<p>Hibernate uses a property &quot;clazz_&quot; to determine subclasses.</p>\n<p>Example:</p>\n<pre><code>select \n  animal0_.animal_id as animal_i1_0_,..., \n  case \n    when animal0_1_.animal_id is not null then 1 \n    when animal0_2_.animal_id is not null then 2 \n    when animal0_.animal_id is not null then 0 \n  end as clazz_\nfrom animal animal0_ \nleft outer join dog animal0_1_ on animal0_.animal_id=animal0_1_.animal_id\nleft outer join cat animal0_2_ on animal0_.animal_id=animal0_2_.animal_id\n</code></pre>\n<p>You should specify SQL with &quot;<strong>0 AS clazz_</strong>&quot;</p>\n<pre><code>@Query(value = &quot;SELECT *, 0 AS clazz_ FROM animal&quot;, nativeQuery = true)\nList&lt;Animal&gt; findAllAnimal();\n</code></pre>\n"}],"owner":{"account_id":2001894,"reputation":63,"user_id":1792724,"display_name":"Gustavo Fava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4642,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13190858,"answer_count":3,"score":4,"last_activity_date":1663070032,"creation_date":1351809451,"question_id":13186572,"body_markdown":"I have an scenario as the following:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ANIMAL&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    \t\t\r\n    public class Animal implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;S_ANIMAL&quot;)\r\n    \t@SequenceGenerator(name = &quot;S_ANIMAL&quot;, sequenceName = &quot;S_ANIMAL&quot;, allocationSize = 1)\r\n    \tpublic int getNumero() {\r\n    \t\treturn numero;\r\n    \t}\r\n    \r\n    \tpublic void setNumero(int numero) {\r\n    \t\tthis.numero = numero;\r\n    \t}\r\n            .\r\n            .\r\n            .\r\n    }\r\n\r\nand as the subclass:\r\n\r\n    @Entity\r\n    @Table(name = &quot;DOG&quot;)\r\n    public class Dog extends Animal {\r\n    \r\n    \tprivate static final long serialVersionUID = -7341592543130659641L;\r\n            .\r\n            .\r\n            .\r\n    }\r\n\r\nI have a JPA Select statement like this:\r\n\r\n    SELECT a FROM Animal a;\r\n\r\nI&#39;m using Hibernate 3.3.1\r\n\r\nAs I can see the framework retrieves instances of `Animal` and also of `Dog` using a left outer join. \r\n\r\nIs there a way to Select only the &quot;part&quot; `Animal`? I mean, the previous `Select` will get all the `Animal`s, those that are only `Animal`s but not `Dog`s and those that are `Dog`s.\r\n\r\nI want them all, but in the case of `Dog`s I want to only retrieve the &quot;Animal part&quot; of them.\r\n\r\nI found the `@org.hibernate.annotations.Entity(polymorphism = PolymorphismType.EXPLICIT)`\r\nbut as I could see this only works if Animal isn&#39;t an `@Entity`.\r\n\r\nThanks a lot.\r\n","title":"Retrieve only the superclass from a class hierarchy","body":"<p>I have an scenario as the following:</p>\n\n<pre><code>@Entity\n@Table(name = \"ANIMAL\")\n@Inheritance(strategy = InheritanceType.JOINED)\n\npublic class Animal implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"S_ANIMAL\")\n    @SequenceGenerator(name = \"S_ANIMAL\", sequenceName = \"S_ANIMAL\", allocationSize = 1)\n    public int getNumero() {\n        return numero;\n    }\n\n    public void setNumero(int numero) {\n        this.numero = numero;\n    }\n        .\n        .\n        .\n}\n</code></pre>\n\n<p>and as the subclass:</p>\n\n<pre><code>@Entity\n@Table(name = \"DOG\")\npublic class Dog extends Animal {\n\n    private static final long serialVersionUID = -7341592543130659641L;\n        .\n        .\n        .\n}\n</code></pre>\n\n<p>I have a JPA Select statement like this:</p>\n\n<pre><code>SELECT a FROM Animal a;\n</code></pre>\n\n<p>I'm using Hibernate 3.3.1</p>\n\n<p>As I can see the framework retrieves instances of <code>Animal</code> and also of <code>Dog</code> using a left outer join. </p>\n\n<p>Is there a way to Select only the \"part\" <code>Animal</code>? I mean, the previous <code>Select</code> will get all the <code>Animal</code>s, those that are only <code>Animal</code>s but not <code>Dog</code>s and those that are <code>Dog</code>s.</p>\n\n<p>I want them all, but in the case of <code>Dog</code>s I want to only retrieve the \"Animal part\" of them.</p>\n\n<p>I found the <code>@org.hibernate.annotations.Entity(polymorphism = PolymorphismType.EXPLICIT)</code>\nbut as I could see this only works if Animal isn't an <code>@Entity</code>.</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","parsing","encoding","utf-8"],"answers":[{"tags":[],"owner":{"account_id":5879762,"reputation":4720,"user_id":4629534,"accept_rate":75,"display_name":"W&#252;rgspa&#223;"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1625202333,"creation_date":1433936388,"answer_id":30755227,"question_id":30755014,"body_markdown":"Use an `InputStreamReader` with `Properties.load(Reader reader)`:\r\n\r\n    FileInputStream input = new FileInputStream(new File(&quot;uinsoaptest.properties&quot;));\r\n    props.load(new InputStreamReader(input, Charset.forName(&quot;UTF-8&quot;)));\r\n\r\n---\r\n\r\nAs a method, this may resemble the following:\r\n\r\n&lt;!-- language: Java --&gt;\r\n\r\n      private Properties read( final Path file ) throws IOException {\r\n        final var properties = new Properties();\r\n    \r\n        try( final var in = new InputStreamReader(\r\n          new FileInputStream( file.toFile() ), StandardCharsets.UTF_8 ) ) {\r\n          properties.load( in );\r\n        }\r\n    \r\n        return properties;\r\n      }\r\n\r\nDon&#39;t forget to close your streams. Java 7 introduced `StandardCharsets.UTF_8`.\r\n","title":"Reading from property file containing utf 8 character","body":"<p>Use an <code>InputStreamReader</code> with <code>Properties.load(Reader reader)</code>:</p>\n<pre><code>FileInputStream input = new FileInputStream(new File(&quot;uinsoaptest.properties&quot;));\nprops.load(new InputStreamReader(input, Charset.forName(&quot;UTF-8&quot;)));\n</code></pre>\n<hr />\n<p>As a method, this may resemble the following:</p>\n<pre><code>  private Properties read( final Path file ) throws IOException {\n    final var properties = new Properties();\n\n    try( final var in = new InputStreamReader(\n      new FileInputStream( file.toFile() ), StandardCharsets.UTF_8 ) ) {\n      properties.load( in );\n    }\n\n    return properties;\n  }\n</code></pre>\n<p>Don't forget to close your streams. Java 7 introduced <code>StandardCharsets.UTF_8</code>.</p>\n"},{"tags":[],"owner":{"account_id":3688787,"reputation":3018,"user_id":3071928,"accept_rate":57,"display_name":"Binkan Salaryman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1433936944,"creation_date":1433936406,"answer_id":30755233,"question_id":30755014,"body_markdown":"Use `props.load(new FileReader(&quot;uinsoaptest.properties&quot;))` instead. By default it uses the encoding `Charset.forName(System.getProperty(&quot;file.encoding&quot;))` which can be set to UTF-8 with `System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;)` or with the commandline parameter `-Dfile.encoding=UTF-8`.","title":"Reading from property file containing utf 8 character","body":"<p>Use <code>props.load(new FileReader(\"uinsoaptest.properties\"))</code> instead. By default it uses the encoding <code>Charset.forName(System.getProperty(\"file.encoding\"))</code> which can be set to UTF-8 with <code>System.setProperty(\"file.encoding\", \"UTF-8\")</code> or with the commandline parameter <code>-Dfile.encoding=UTF-8</code>.</p>\n"},{"tags":[],"owner":{"account_id":4902391,"reputation":501,"user_id":3950169,"accept_rate":83,"display_name":"Lexicographical"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1433936498,"creation_date":1433936498,"answer_id":30755279,"question_id":30755014,"body_markdown":"You should specify the UTF-8 encoding when you construct your FileInputStream object. You can use this constructor:\r\n\r\n    new FileInputStream(&quot;uinsoaptest.properties&quot;, &quot;UTF-8&quot;);\r\nIf you want to make a change to your JVM so as to be able to read UTF-8 files by default, you will have to change the JAVA_TOOL_OPTIONS in your JVM options to something like this : \r\n\r\n    -Dfile.encoding=UTF-8","title":"Reading from property file containing utf 8 character","body":"<p>You should specify the UTF-8 encoding when you construct your FileInputStream object. You can use this constructor:</p>\n\n<pre><code>new FileInputStream(\"uinsoaptest.properties\", \"UTF-8\");\n</code></pre>\n\n<p>If you want to make a change to your JVM so as to be able to read UTF-8 files by default, you will have to change the JAVA_TOOL_OPTIONS in your JVM options to something like this : </p>\n\n<pre><code>-Dfile.encoding=UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6183866,"reputation":301,"user_id":4818535,"display_name":"Ilya Khudyakov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564172225,"creation_date":1564172225,"answer_id":57226549,"question_id":30755014,"body_markdown":"If somebody use @Value annotation, could try StringUils.\r\n\r\n    @Value(&quot;${title}&quot;)\r\n    private String pageTitle;\r\n    \r\n    public String getPageTitle() {\r\n\t\treturn StringUtils.toEncodedString(pageTitle.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\r\n\t}","title":"Reading from property file containing utf 8 character","body":"<p>If somebody use @Value annotation, could try StringUils.</p>\n\n<pre><code>@Value(\"${title}\")\nprivate String pageTitle;\n\npublic String getPageTitle() {\n    return StringUtils.toEncodedString(pageTitle.getBytes(Charset.forName(\"ISO-8859-1\")), Charset.forName(\"UTF-8\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5644060,"reputation":303,"user_id":4466828,"display_name":"waldrabe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663069686,"creation_date":1663069686,"answer_id":73702475,"question_id":30755014,"body_markdown":"If anybody comes across this problem in **Kotlin**, like me:\r\nThe accepted solution of @W&#252;rgspa&#223; works here as well. The corresponding Kotlin syntax:\r\n\r\nInstead of the usual \r\n\r\n    val properties = Properties()\r\n    filePath.toFile().inputStream().use { stream -&gt; properties.load(stream) }\r\n\r\nI had to use\r\n\r\n    val properties = Properties()\r\n    InputStreamReader(FileInputStream(filePath.toFile()), StandardCharsets.UTF_8).use { stream -&gt; properties.load(stream) }\r\n\r\nWith this, special UTF-8 characters are loaded correctly from the properties file given in `filePath`.\r\n    ","title":"Reading from property file containing utf 8 character","body":"<p>If anybody comes across this problem in <strong>Kotlin</strong>, like me:\nThe accepted solution of @Würgspaß works here as well. The corresponding Kotlin syntax:</p>\n<p>Instead of the usual</p>\n<pre><code>val properties = Properties()\nfilePath.toFile().inputStream().use { stream -&gt; properties.load(stream) }\n</code></pre>\n<p>I had to use</p>\n<pre><code>val properties = Properties()\nInputStreamReader(FileInputStream(filePath.toFile()), StandardCharsets.UTF_8).use { stream -&gt; properties.load(stream) }\n</code></pre>\n<p>With this, special UTF-8 characters are loaded correctly from the properties file given in <code>filePath</code>.</p>\n"}],"owner":{"account_id":3299215,"reputation":846,"user_id":2775766,"accept_rate":83,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47900,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":30755227,"answer_count":5,"score":32,"last_activity_date":1663069686,"creation_date":1433935860,"question_id":30755014,"body_markdown":"I am reading a property file which consists of a message in the UTF-8 character set. \r\n\r\n**Problem** \r\n\r\nThe output is not in the appropriate format. I am using an `InputStream`.\r\n\r\nThe property file looks like \r\n\r\n    username=LBSUSER\r\n    password=Lbs@123\r\n    url=http://localhost:1010/soapfe/services/MessagingWS\r\n    timeout=20000\r\n    message=Spanish character are = {&#225; &#233; &#237;, &#243;,&#250; ,&#252;, &#241;, &#231;, &#229;, &#193;, &#201;, &#205;, &#211;, &#218;, &#220;, &#209;, &#199;, &#191;, &#176;, 4&#176; a&#241;o = cuarto a&#241;o, €, &#162;, &#163;, &#165;}\r\n\r\n\r\nAnd I am reading the file like this,\r\n\r\n    Properties props = new Properties();\r\n\tprops.load(new FileInputStream(&quot;uinsoaptest.properties&quot;));\r\n\tString username = props.getProperty(&quot;username&quot;, &quot;test&quot;);\r\n\tString password = props.getProperty(&quot;password&quot;, &quot;12345&quot;);\r\n\tString url = props.getProperty(&quot;url&quot;, &quot;12345&quot;);\r\n\tint timeout = Integer.parseInt(props.getProperty(&quot;timeout&quot;, &quot;8000&quot;));\r\n\tString messagetext = props.getProperty(&quot;message&quot;);\r\n\tSystem.out.println(&quot;This is soap msg : &quot; + messagetext);\r\n\r\nThe output of the above message is \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5KbW3.png\r\n\r\n\r\nYou can see the message in the console after the line\r\n\r\n```{************************ SOAP MESSAGE TEST***********************}```\r\n\r\n\r\n\r\n\r\nI will be obliged if I can get any help reading this file properly. I can read this file with another approach but I am looking for less code modification.","title":"Reading from property file containing utf 8 character","body":"<p>I am reading a property file which consists of a message in the UTF-8 character set. </p>\n\n<p><strong>Problem</strong> </p>\n\n<p>The output is not in the appropriate format. I am using an <code>InputStream</code>.</p>\n\n<p>The property file looks like </p>\n\n<pre><code>username=LBSUSER\npassword=Lbs@123\nurl=http://localhost:1010/soapfe/services/MessagingWS\ntimeout=20000\nmessage=Spanish character are = {á é í, ó,ú ,ü, ñ, ç, å, Á, É, Í, Ó, Ú, Ü, Ñ, Ç, ¿, °, 4° año = cuarto año, €, ¢, £, ¥}\n</code></pre>\n\n<p>And I am reading the file like this,</p>\n\n<pre><code>Properties props = new Properties();\nprops.load(new FileInputStream(\"uinsoaptest.properties\"));\nString username = props.getProperty(\"username\", \"test\");\nString password = props.getProperty(\"password\", \"12345\");\nString url = props.getProperty(\"url\", \"12345\");\nint timeout = Integer.parseInt(props.getProperty(\"timeout\", \"8000\"));\nString messagetext = props.getProperty(\"message\");\nSystem.out.println(\"This is soap msg : \" + messagetext);\n</code></pre>\n\n<p>The output of the above message is </p>\n\n<p><img src=\"https://i.stack.imgur.com/5KbW3.png\" alt=\"enter image description here\"></p>\n\n<p>You can see the message in the console after the line</p>\n\n<p><code>{************************ SOAP MESSAGE TEST***********************}</code></p>\n\n<p>I will be obliged if I can get any help reading this file properly. I can read this file with another approach but I am looking for less code modification.</p>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1663069231,"post_id":73702121,"comment_id":130147651,"body_markdown":"Check for incompability in your dependencies.","body":"Check for incompability in your dependencies."}],"answers":[{"tags":[],"owner":{"account_id":26269184,"reputation":49,"user_id":19939324,"display_name":"xiaowei"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663069116,"creation_date":1663069116,"answer_id":73702353,"question_id":73702121,"body_markdown":"it can not find method.you should check you code or jar.","title":"I am getting error when I try to execute script with rest assured framework for API automation. Please guide me to resolve the same","body":"<p>it can not find method.you should check you code or jar.</p>\n"}],"owner":{"account_id":26323531,"reputation":1,"user_id":19985214,"display_name":"Kush Pratap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1663069116,"creation_date":1663068230,"question_id":73702121,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: io.restassured.common.mapper.resolver.ObjectMapperResolver.isJakartaEEInClassPath()Z\r\n\tat rest.assured@5.1.1/io.restassured.config.ObjectMapperConfig.newJakartaEEObjectMapperFactoryOrNullIfNotInClasspath(ObjectMapperConfig.java:265)\r\n\tat rest.assured@5.1.1/io.restassured.config.ObjectMapperConfig.&lt;init&gt;(ObjectMapperConfig.java:60)\r\n\tat rest.assured@5.1.1/io.restassured.config.RestAssuredConfig.&lt;init&gt;(RestAssuredConfig.java:41)\r\n\tat rest.assured@5.1.1/io.restassured.RestAssured.&lt;clinit&gt;(RestAssured.java:422)\r\n\tat GoogleplaceProject/Basics.Api.main(Api.java:17)\r\n","title":"I am getting error when I try to execute script with rest assured framework for API automation. Please guide me to resolve the same","body":"<p>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: io.restassured.common.mapper.resolver.ObjectMapperResolver.isJakartaEEInClassPath()Z\nat rest.assured@5.1.1/io.restassured.config.ObjectMapperConfig.newJakartaEEObjectMapperFactoryOrNullIfNotInClasspath(ObjectMapperConfig.java:265)\nat rest.assured@5.1.1/io.restassured.config.ObjectMapperConfig.(ObjectMapperConfig.java:60)\nat rest.assured@5.1.1/io.restassured.config.RestAssuredConfig.(RestAssuredConfig.java:41)\nat rest.assured@5.1.1/io.restassured.RestAssured.(RestAssured.java:422)\nat GoogleplaceProject/Basics.Api.main(Api.java:17)</p>\n"},{"tags":["java","processing","classpath","leap-motion"],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662733609,"creation_date":1662733609,"answer_id":73663664,"question_id":73594858,"body_markdown":"Have you tried the Darius&#39; [Leap Motion Processing Library][1] ?\r\n\r\nYou should be able to install it via **Processing &gt; Sketch &gt; Import Library... &gt; Add Library...** &gt; which opens **Contribution Manager** (from there you can search &quot;leap&quot;)\r\n\r\n[![Leap Motion for Processing library logo: the pocessing logo and Leap Motion logo next to each other][2]][2]\r\n\r\n```java\r\nimport de.voidplus.leapmotion.*;\r\n\r\nLeapMotion leap;\r\n\r\nvoid setup() {\r\n  size(800, 500);\r\n  background(255);\r\n  \r\n  leap = new LeapMotion(this);\r\n}\r\n\r\nvoid draw() {\r\n  background(255);\r\n  \r\n  for (Hand hand : leap.getHands ()) {\r\n    hand.draw();\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/nok/leap-motion-processing\r\n  [2]: https://i.stack.imgur.com/jvt46.png","title":"How to set CLASSPATH to use Leap Motion in Processing?","body":"<p>Have you tried the Darius' <a href=\"https://github.com/nok/leap-motion-processing\" rel=\"nofollow noreferrer\">Leap Motion Processing Library</a> ?</p>\n<p>You should be able to install it via <strong>Processing &gt; Sketch &gt; Import Library... &gt; Add Library...</strong> &gt; which opens <strong>Contribution Manager</strong> (from there you can search &quot;leap&quot;)</p>\n<p><a href=\"https://i.stack.imgur.com/jvt46.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jvt46.png\" alt=\"Leap Motion for Processing library logo: the pocessing logo and Leap Motion logo next to each other\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import de.voidplus.leapmotion.*;\n\nLeapMotion leap;\n\nvoid setup() {\n  size(800, 500);\n  background(255);\n  \n  leap = new LeapMotion(this);\n}\n\nvoid draw() {\n  background(255);\n  \n  for (Hand hand : leap.getHands ()) {\n    hand.draw();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9345338,"reputation":395,"user_id":6936774,"display_name":"stefan de boer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663069017,"creation_date":1663069017,"answer_id":73702332,"question_id":73594858,"body_markdown":"I gave up on trying to get the Leap Motion to work on my Mac Pro M1. I tried @George Profenza his answer and it worked on Windows 10. \r\n\r\nAfter this i had connection issues with the Leap Motion camera because i had to install an older SDK. I Finally got everything working after this article on the Leap Motion forum. Apparantly i had to dive into the Leap folder structure and manually install some extra drivers. \r\n\r\nhttps://forums.leapmotion.com/t/leap-motion-controller-wont-connect-for-2-3-1-but-will-for-4-0-0/8517\r\n\r\n ","title":"How to set CLASSPATH to use Leap Motion in Processing?","body":"<p>I gave up on trying to get the Leap Motion to work on my Mac Pro M1. I tried @George Profenza his answer and it worked on Windows 10.</p>\n<p>After this i had connection issues with the Leap Motion camera because i had to install an older SDK. I Finally got everything working after this article on the Leap Motion forum. Apparantly i had to dive into the Leap folder structure and manually install some extra drivers.</p>\n<p><a href=\"https://forums.leapmotion.com/t/leap-motion-controller-wont-connect-for-2-3-1-but-will-for-4-0-0/8517\" rel=\"nofollow noreferrer\">https://forums.leapmotion.com/t/leap-motion-controller-wont-connect-for-2-3-1-but-will-for-4-0-0/8517</a></p>\n"}],"owner":{"account_id":9345338,"reputation":395,"user_id":6936774,"display_name":"stefan de boer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73663664,"answer_count":2,"score":-1,"last_activity_date":1663069017,"creation_date":1662232302,"question_id":73594858,"body_markdown":"I am trying to use the Leap Motion tracking device in Processing 4. I added the LeapJava library but whenever i try to run my project i get this error message:\r\n\r\n    Native code library failed to load. \r\n    java.lang.UnsatisfiedLinkError: no LeapJava in java.library.path:\r\n\r\nSince i am a beginner i do not understand or know how i can add the LeapJava.jar to my class path. I hope someone can explain how i can do this so my project will run. \r\n\r\nI already tried following these two tutorials but i cannot seem to get it working:\r\n\r\nhttps://developer-archive.leapmotion.com/documentation/v2/java/devguide/Project_Setup.html\r\n\r\nhttps://developer-archive.leapmotion.com/documentation/java/devguide/Leap_Processing.html\r\n\r\n ","title":"How to set CLASSPATH to use Leap Motion in Processing?","body":"<p>I am trying to use the Leap Motion tracking device in Processing 4. I added the LeapJava library but whenever i try to run my project i get this error message:</p>\n<pre><code>Native code library failed to load. \njava.lang.UnsatisfiedLinkError: no LeapJava in java.library.path:\n</code></pre>\n<p>Since i am a beginner i do not understand or know how i can add the LeapJava.jar to my class path. I hope someone can explain how i can do this so my project will run.</p>\n<p>I already tried following these two tutorials but i cannot seem to get it working:</p>\n<p><a href=\"https://developer-archive.leapmotion.com/documentation/v2/java/devguide/Project_Setup.html\" rel=\"nofollow noreferrer\">https://developer-archive.leapmotion.com/documentation/v2/java/devguide/Project_Setup.html</a></p>\n<p><a href=\"https://developer-archive.leapmotion.com/documentation/java/devguide/Leap_Processing.html\" rel=\"nofollow noreferrer\">https://developer-archive.leapmotion.com/documentation/java/devguide/Leap_Processing.html</a></p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663068589,"creation_date":1663068589,"answer_id":73702225,"question_id":73702013,"body_markdown":"It&#39;s just a class, not a complete sample...\r\nThe entry method returns an InputStream, from there you can read the result and store ist to e.g. a file.\r\n\r\n    public InputStream merge(final List&lt;RandomAccessRead&gt; sources) throws IOException\r\n\r\nhttps://www.baeldung.com/convert-input-stream-to-a-file","title":"pdfbox git merge example. Where the final merged file is stored?","body":"<p>It's just a class, not a complete sample...\nThe entry method returns an InputStream, from there you can read the result and store ist to e.g. a file.</p>\n<pre><code>public InputStream merge(final List&lt;RandomAccessRead&gt; sources) throws IOException\n</code></pre>\n<p><a href=\"https://www.baeldung.com/convert-input-stream-to-a-file\" rel=\"nofollow noreferrer\">https://www.baeldung.com/convert-input-stream-to-a-file</a></p>\n"}],"owner":{"display_name":"user16049828"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73702225,"answer_count":1,"score":1,"last_activity_date":1663068600,"creation_date":1663067812,"question_id":73702013,"body_markdown":"I want to use the pdfbox library for java to merge thousands of small pdf files. Looking for an example I found one on the pdfbox site and specifically in the examples it has([PDFMergerExample][1]).\r\nBut where the final merged file is saved?\r\n\r\n\r\n  [1]: https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/util/PDFMergerExample.java?view=markup","title":"pdfbox git merge example. Where the final merged file is stored?","body":"<p>I want to use the pdfbox library for java to merge thousands of small pdf files. Looking for an example I found one on the pdfbox site and specifically in the examples it has(<a href=\"https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/util/PDFMergerExample.java?view=markup\" rel=\"nofollow noreferrer\">PDFMergerExample</a>).\nBut where the final merged file is saved?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665491011,"post_id":73702166,"comment_id":130708401,"body_markdown":"Why are you mocking the service which you are testing? (`when(service.checkBackground…)`)","body":"Why are you mocking the service which you are testing? (<code>when(service.checkBackground…)</code>)"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665491031,"post_id":73702166,"comment_id":130708407,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"owner":{"account_id":8027683,"reputation":331,"user_id":6053969,"accept_rate":30,"display_name":"purplewind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663068362,"creation_date":1663068362,"question_id":73702166,"body_markdown":"I am facing some issues with my stubbing with Mockito. In my @Test class, I am using userRes object for both stubbing, but I am getting NullPointerException in newService.checkBackground(newUser.getId(),false). I assume that the newUser.getId() is causing the issue because when i hardcode both the test call and change newUser.getId() to &quot;444&quot;, it works. \r\n\r\nAny ideas?\r\n\r\n    class MyService {\r\n        public void grantAccess() {\r\n              User user = new User();\r\n              user.setId(&quot;444&quot;);\r\n              User newUser = UserDao.putUserData(user);\r\n              newService.checkBackground(newUser.getId(), false);  \r\n\r\n         }\r\n\r\n     }\r\n\r\n\r\nThis is the test I have written\r\n\r\n    @ExtendWith(MockitoExtention.class)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    class MyServiceTest {\r\n\r\n    @InjectMocks\r\n    private MyService myService;\r\n\r\n  \r\n\r\n     @Test\r\n     void testMyStuff() {\r\n     User user = new User();\r\n     user.setId(&quot;444&quot;);\r\n     \r\n     User userRes = new User();\r\n     userRes.setId(&quot;444&quot;);\r\n\r\n     try(MockedStatic&lt;UserDao&gt; userDao = mockStatic(UserDao.class)) {\r\n         userDao.when(() -&gt; UserDao.putUserData(user)).thenReturn(userRes);\r\n         when(service.checkBackground(userRes.getId(), false)).thenReturn(&quot;test&quot;);\r\n\r\n      }\r\n    }\r\n    } //end class\r\n","title":"Using the results of thenReturn() in subsequent stubbing mockito","body":"<p>I am facing some issues with my stubbing with Mockito. In my @Test class, I am using userRes object for both stubbing, but I am getting NullPointerException in newService.checkBackground(newUser.getId(),false). I assume that the newUser.getId() is causing the issue because when i hardcode both the test call and change newUser.getId() to &quot;444&quot;, it works.</p>\n<p>Any ideas?</p>\n<pre><code>class MyService {\n    public void grantAccess() {\n          User user = new User();\n          user.setId(&quot;444&quot;);\n          User newUser = UserDao.putUserData(user);\n          newService.checkBackground(newUser.getId(), false);  \n\n     }\n\n }\n</code></pre>\n<p>This is the test I have written</p>\n<pre><code>@ExtendWith(MockitoExtention.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\nclass MyServiceTest {\n\n@InjectMocks\nprivate MyService myService;\n\n\n\n @Test\n void testMyStuff() {\n User user = new User();\n user.setId(&quot;444&quot;);\n \n User userRes = new User();\n userRes.setId(&quot;444&quot;);\n\n try(MockedStatic&lt;UserDao&gt; userDao = mockStatic(UserDao.class)) {\n     userDao.when(() -&gt; UserDao.putUserData(user)).thenReturn(userRes);\n     when(service.checkBackground(userRes.getId(), false)).thenReturn(&quot;test&quot;);\n\n  }\n}\n} //end class\n</code></pre>\n"},{"tags":["java","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663072818,"post_id":73700511,"comment_id":130149040,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22049479,"reputation":41,"user_id":16313975,"display_name":"Drl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663068332,"creation_date":1663068332,"answer_id":73702159,"question_id":73700511,"body_markdown":"For small project you need e little workaround here:\r\n\r\n - First create e post script for maven (`mavenrc_post.bat`for windows) see [here][1]\r\n - In this script you have to move build files via ssh, and restart tomcat(you need to configure ssh on server). \r\n\r\nFor large projects you need software for automation like:\r\n - Ansible Automation platform\r\n - Docker Containers\r\n - Azure Devops etc.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5649568/how-to-trigger-command-after-build","title":"run configuration to build maven project and deploy to tomcat server","body":"<p>For small project you need e little workaround here:</p>\n<ul>\n<li>First create e post script for maven (<code>mavenrc_post.bat</code>for windows) see <a href=\"https://stackoverflow.com/questions/5649568/how-to-trigger-command-after-build\">here</a></li>\n<li>In this script you have to move build files via ssh, and restart tomcat(you need to configure ssh on server).</li>\n</ul>\n<p>For large projects you need software for automation like:</p>\n<ul>\n<li>Ansible Automation platform</li>\n<li>Docker Containers</li>\n<li>Azure Devops etc.</li>\n</ul>\n"}],"owner":{"account_id":26322430,"reputation":1,"user_id":19984260,"display_name":"Leonardo Brenna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663068332,"creation_date":1663061021,"question_id":73700511,"body_markdown":"I am writing a java program using maven and running on a tomcat 9 server.\r\nI created a run configuration to build the project, but I was wondering if there is a way to modify the configuration to build the project and also deploy it to my server.\r\nThanks in advance!","title":"run configuration to build maven project and deploy to tomcat server","body":"<p>I am writing a java program using maven and running on a tomcat 9 server.\nI created a run configuration to build the project, but I was wondering if there is a way to modify the configuration to build the project and also deploy it to my server.\nThanks in advance!</p>\n"},{"tags":["java","json","cucumber","rest-assured"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1663064531,"post_id":73701292,"comment_id":130146006,"body_markdown":"Parse the json - eg. into a generic structure like JsonObject etc. - , change the data as needed and reserialize it to json.","body":"Parse the json - eg. into a generic structure like JsonObject etc. - , change the data as needed and reserialize it to json."}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663068045,"creation_date":1663068045,"answer_id":73702083,"question_id":73701292,"body_markdown":"Your user name is stored in **invitees** `Array` so you need to replace that. For that, we can use `JSONObject` like below,\r\n\r\n\t\tString body = new String(Files\r\n\t\t\t\t.readAllBytes(Paths.get(&quot;src/test/resources/config/environments/sharePrivately.json&quot;)));\r\n\t\tJSONObject jsonObject = new JSONObject(body);\r\n\t\tjsonObject.put(&quot;invitees&quot;, new JSONArray(&quot;[{\\&quot;username\\&quot;: \\&quot;Nandan@gmail.com\\&quot;,\\&quot;role\\&quot;: \\&quot;VIEWER\\&quot;}]&quot;));\r\n\r\nIn your code,\r\n\r\n    response = header.body(jsonObject.toString())\r\n                .when()\r\n                .post(&quot;/shares&quot;)\r\n                .then()\r\n                .assertThat()\r\n                .extract()\r\n                .response();\r\n\r\nOutput:\r\n\r\n    {\r\n    \t&quot;duration&quot;: &quot;NO_EXPIRE&quot;,\r\n    \t&quot;invitees&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;role&quot;: &quot;VIEWER&quot;,\r\n    \t\t\t&quot;username&quot;: &quot;Nandan@gmail.com&quot;\r\n    \t\t}\r\n    \t],\r\n    \t&quot;invitationMessage&quot;: &quot;&quot;,\r\n    \t&quot;type&quot;: &quot;FILE&quot;,\r\n    \t&quot;items&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;uuid&quot;: &quot;shdy28-9b03-4c21-9c80-f96f31f9cee9&quot;,\r\n    \t\t\t&quot;projectId&quot;: &quot;65ht8f99694454a658yef17a95e8f&quot;\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nYou need to use below import,\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20160212&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n","title":"How to use variable in .json file and change it in java","body":"<p>Your user name is stored in <strong>invitees</strong> <code>Array</code> so you need to replace that. For that, we can use <code>JSONObject</code> like below,</p>\n<pre><code>    String body = new String(Files\n            .readAllBytes(Paths.get(&quot;src/test/resources/config/environments/sharePrivately.json&quot;)));\n    JSONObject jsonObject = new JSONObject(body);\n    jsonObject.put(&quot;invitees&quot;, new JSONArray(&quot;[{\\&quot;username\\&quot;: \\&quot;Nandan@gmail.com\\&quot;,\\&quot;role\\&quot;: \\&quot;VIEWER\\&quot;}]&quot;));\n</code></pre>\n<p>In your code,</p>\n<pre><code>response = header.body(jsonObject.toString())\n            .when()\n            .post(&quot;/shares&quot;)\n            .then()\n            .assertThat()\n            .extract()\n            .response();\n</code></pre>\n<p>Output:</p>\n<pre><code>{\n    &quot;duration&quot;: &quot;NO_EXPIRE&quot;,\n    &quot;invitees&quot;: [\n        {\n            &quot;role&quot;: &quot;VIEWER&quot;,\n            &quot;username&quot;: &quot;Nandan@gmail.com&quot;\n        }\n    ],\n    &quot;invitationMessage&quot;: &quot;&quot;,\n    &quot;type&quot;: &quot;FILE&quot;,\n    &quot;items&quot;: [\n        {\n            &quot;uuid&quot;: &quot;shdy28-9b03-4c21-9c80-f96f31f9cee9&quot;,\n            &quot;projectId&quot;: &quot;65ht8f99694454a658yef17a95e8f&quot;\n        }\n    ]\n}\n</code></pre>\n<p>You need to use below import,</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20160212&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":25954920,"reputation":37,"user_id":19672397,"display_name":"Mert &#199;evik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73702083,"answer_count":1,"score":0,"last_activity_date":1663068045,"creation_date":1663064395,"question_id":73701292,"body_markdown":"I have a .json file and i read it to use  `Files.readAllBytes(Paths.get(&quot;classpath&quot;))`. It works but i need to use variable in .json file and i just want to change variable in other method. \r\n\r\nHere is my .json file:\r\n\r\n        {\r\n      &quot;type&quot;: &quot;FILE&quot;,\r\n      &quot;invitationMessage&quot;: &quot;&quot;,\r\n      &quot;duration&quot;: &quot;NO_EXPIRE&quot;,\r\n      &quot;items&quot;: [\r\n        {\r\n          &quot;uuid&quot;: &quot;shdy28-9b03-4c21-9c80-f96f31f9cee9&quot;,\r\n          &quot;projectId&quot;: &quot;65ht8f99694454a658yef17a95e8f&quot;\r\n        }\r\n      ],\r\n      &quot;invitees&quot;: [\r\n        {\r\n          &quot;username&quot;: &quot;variable@gmail.com&quot;,\r\n          &quot;role&quot;: &quot;VIEWER&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\nThis is the method I used the file:\r\n\r\n    @When(&quot;^I send share privately api$&quot;)\r\n    public void sharePrivately() throws IOException {\r\n    \r\n        String body = new String(Files.readAllBytes(Paths.get(&quot;src/test/resources/config/environments/sharePrivately.json&quot;)));\r\n        \r\n    \r\n        RequestSpecification header = rh.share(payload.userAuth());\r\n    \r\n        response = header.body(body)\r\n                .when()\r\n                .post(&quot;/shares&quot;)\r\n                .then()\r\n                .assertThat()\r\n                .extract()\r\n                .response();\r\n        System.out.println(response.getStatusCode());\r\n        }\r\n\r\nWhen i read .json file i want to change username in this method. How can do that ?\r\n\r\nThank you for your advice","title":"How to use variable in .json file and change it in java","body":"<p>I have a .json file and i read it to use  <code>Files.readAllBytes(Paths.get(&quot;classpath&quot;))</code>. It works but i need to use variable in .json file and i just want to change variable in other method.</p>\n<p>Here is my .json file:</p>\n<pre><code>    {\n  &quot;type&quot;: &quot;FILE&quot;,\n  &quot;invitationMessage&quot;: &quot;&quot;,\n  &quot;duration&quot;: &quot;NO_EXPIRE&quot;,\n  &quot;items&quot;: [\n    {\n      &quot;uuid&quot;: &quot;shdy28-9b03-4c21-9c80-f96f31f9cee9&quot;,\n      &quot;projectId&quot;: &quot;65ht8f99694454a658yef17a95e8f&quot;\n    }\n  ],\n  &quot;invitees&quot;: [\n    {\n      &quot;username&quot;: &quot;variable@gmail.com&quot;,\n      &quot;role&quot;: &quot;VIEWER&quot;\n    }\n  ]\n}\n</code></pre>\n<p>This is the method I used the file:</p>\n<pre><code>@When(&quot;^I send share privately api$&quot;)\npublic void sharePrivately() throws IOException {\n\n    String body = new String(Files.readAllBytes(Paths.get(&quot;src/test/resources/config/environments/sharePrivately.json&quot;)));\n    \n\n    RequestSpecification header = rh.share(payload.userAuth());\n\n    response = header.body(body)\n            .when()\n            .post(&quot;/shares&quot;)\n            .then()\n            .assertThat()\n            .extract()\n            .response();\n    System.out.println(response.getStatusCode());\n    }\n</code></pre>\n<p>When i read .json file i want to change username in this method. How can do that ?</p>\n<p>Thank you for your advice</p>\n"},{"tags":["java","spring","spring-boot","pagination","optional-chaining"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1590692375,"post_id":62072462,"comment_id":109784383,"body_markdown":"does your `paymentLogRepository` have a method like `getAll()`?","body":"does your <code>paymentLogRepository</code> have a method like <code>getAll()</code>?"},{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":1,"creation_date":1590692488,"post_id":62072462,"comment_id":109784438,"body_markdown":"`status.map(s -&gt; getPaymentLog(s, page)).orElseGet(() -&gt;  getPaymentLog(page))`?","body":"<code>status.map(s -&gt; getPaymentLog(s, page)).orElseGet(() -&gt;  getPaymentLog(page))</code>?"},{"owner":{"display_name":"user13123978"},"score":1,"creation_date":1590692987,"post_id":62072462,"comment_id":109784663,"body_markdown":"Thank you. &quot;s&quot; is the value of  &quot;status&quot;, I assume.","body":"Thank you. &quot;s&quot; is the value of  &quot;status&quot;, I assume."},{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":1,"creation_date":1590693615,"post_id":62072462,"comment_id":109784973,"body_markdown":"@Dc235 Yeah, call it whatever you want in the lambda, it&#39;s just the element inside the Optional","body":"@Dc235 Yeah, call it whatever you want in the lambda, it&#39;s just the element inside the Optional"}],"answers":[{"tags":[],"owner":{"display_name":"user13123978"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590693522,"creation_date":1590693522,"answer_id":62072832,"question_id":62072462,"body_markdown":"@123 answered the question in the commenting session:\r\n\r\n    status.map(s -&gt; getPaymentLog(s, page)).orElseGet(() -&gt; getPaymentLog(page))","title":"Define what method to call based on value of Optional","body":"<p>@123 answered the question in the commenting session:</p>\n\n<pre><code>status.map(s -&gt; getPaymentLog(s, page)).orElseGet(() -&gt; getPaymentLog(page))\n</code></pre>\n"}],"owner":{"display_name":"user13123978"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663067909,"creation_date":1590692209,"question_id":62072462,"body_markdown":"Is it possible, to somehow alter the code below, so in case of no `status` value provided to return all the PaymentLog objects stored in the database instead of only the ones with `status` equal with `404`? Basically, I would like if the `status` variable has not been provided to call another method in the service layer `logService.getAllPaymentLogs()`\r\n\r\n\r\n    @GetMapping(Endpoints.LOGS.PAYMENT_LOGS)\r\n    public Page&lt;PaymentLog&gt; getPaymentLog(@RequestParam Optional&lt;Integer&gt; status) {\r\n        return logService.getPaymentLogStatus(status.orElse(404), PageRequest.of(0, 10));\r\n    }\r\n\r\nThese are the `getPaymentLogStatus()` and `getAllPaymentLogs`\r\n\r\n    @Override\r\n    public Page&lt;PaymentLog&gt; getPaymentLog(Pageable pageable) {\r\n        return paymentLogRepository.getAllBy(pageable);\r\n    }\r\n\r\nAnd\r\n\r\n    @Override\r\n    public Page&lt;PaymentLog&gt; getPaymentLog(int status, Pageable pageable) {\r\n        return paymentLogRepository.getAllByStatus(status, pageable);\r\n    }","title":"Define what method to call based on value of Optional","body":"<p>Is it possible, to somehow alter the code below, so in case of no <code>status</code> value provided to return all the PaymentLog objects stored in the database instead of only the ones with <code>status</code> equal with <code>404</code>? Basically, I would like if the <code>status</code> variable has not been provided to call another method in the service layer <code>logService.getAllPaymentLogs()</code></p>\n\n<pre><code>@GetMapping(Endpoints.LOGS.PAYMENT_LOGS)\npublic Page&lt;PaymentLog&gt; getPaymentLog(@RequestParam Optional&lt;Integer&gt; status) {\n    return logService.getPaymentLogStatus(status.orElse(404), PageRequest.of(0, 10));\n}\n</code></pre>\n\n<p>These are the <code>getPaymentLogStatus()</code> and <code>getAllPaymentLogs</code></p>\n\n<pre><code>@Override\npublic Page&lt;PaymentLog&gt; getPaymentLog(Pageable pageable) {\n    return paymentLogRepository.getAllBy(pageable);\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Override\npublic Page&lt;PaymentLog&gt; getPaymentLog(int status, Pageable pageable) {\n    return paymentLogRepository.getAllByStatus(status, pageable);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663053469,"post_id":73698870,"comment_id":130142168,"body_markdown":"As the error tells you the JPQL is wrong. Your entity, I assume is named `Deliverypartnerrecord` **not** `deliverypartnerrecord`.","body":"As the error tells you the JPQL is wrong. Your entity, I assume is named <code>Deliverypartnerrecord</code> <b>not</b> <code>deliverypartnerrecord</code>."}],"answers":[{"tags":[],"owner":{"account_id":23653788,"reputation":67,"user_id":17682368,"display_name":"Shubham Shaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663067819,"creation_date":1663067819,"answer_id":73702016,"question_id":73698870,"body_markdown":"I changed my query syntax to the following:\r\n```\r\n@Query(value=&quot;select * from deliverypartnerrecord d where d.status = :d_status and d.id = :d_id&quot;, nativeQuery=true)\r\n```\r\nAnd now it&#39;s working.","title":"Error creating bean with name &#39;deliveryPartnerRecordController&#39;: Unsatisfied dependency expressed through field &#39;dService&#39;; nested exception","body":"<p>I changed my query syntax to the following:</p>\n<pre><code>@Query(value=&quot;select * from deliverypartnerrecord d where d.status = :d_status and d.id = :d_id&quot;, nativeQuery=true)\n</code></pre>\n<p>And now it's working.</p>\n"}],"owner":{"account_id":23653788,"reputation":67,"user_id":17682368,"display_name":"Shubham Shaw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73702016,"answer_count":1,"score":0,"last_activity_date":1663067819,"creation_date":1663053215,"question_id":73698870,"body_markdown":"Can anyone help me figure out my mistake?\r\n\r\n\r\n**JPA function:**\r\n\r\n\t@Query(&quot;select d from deliverypartnerrecord d where d.status = :d_status and d.id = :d_id&quot;)\r\n\tpublic Deliverypartnerrecord findDeliveryPartnerRecordById(@Param(&quot;d_id&quot;) int id, @Param(&quot;d_status&quot;) String status);\r\n\r\n\r\n**error:**\r\n```\r\nError creating bean with name &#39;deliveryPartnerRecordController&#39;: Unsatisfied dependency expressed through field &#39;dService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;deliveryPartnerRecordService&#39;: Unsatisfied dependency expressed through field &#39;dRepo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;deliveryPartnerRecordRepo&#39; defined in com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.diatozSnacks.snacks_management.model.Deliverypartnerrecord com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo.findDeliveryPartnerRecordById(int,java.lang.String); Reason: Validation failed for query for method public abstract com.diatozSnacks.snacks_management.model.Deliverypartnerrecord com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo.findDeliveryPartnerRecordById(int,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract com.diatozSnacks.snacks_management.model.Deliverypartnerrecord com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo.findDeliveryPartnerRecordById(int,java.lang.String)!\r\n```\t","title":"Error creating bean with name &#39;deliveryPartnerRecordController&#39;: Unsatisfied dependency expressed through field &#39;dService&#39;; nested exception","body":"<p>Can anyone help me figure out my mistake?</p>\n<p><strong>JPA function:</strong></p>\n<pre><code>@Query(&quot;select d from deliverypartnerrecord d where d.status = :d_status and d.id = :d_id&quot;)\npublic Deliverypartnerrecord findDeliveryPartnerRecordById(@Param(&quot;d_id&quot;) int id, @Param(&quot;d_status&quot;) String status);\n</code></pre>\n<p><strong>error:</strong></p>\n<pre><code>Error creating bean with name 'deliveryPartnerRecordController': Unsatisfied dependency expressed through field 'dService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'deliveryPartnerRecordService': Unsatisfied dependency expressed through field 'dRepo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'deliveryPartnerRecordRepo' defined in com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.diatozSnacks.snacks_management.model.Deliverypartnerrecord com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo.findDeliveryPartnerRecordById(int,java.lang.String); Reason: Validation failed for query for method public abstract com.diatozSnacks.snacks_management.model.Deliverypartnerrecord com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo.findDeliveryPartnerRecordById(int,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract com.diatozSnacks.snacks_management.model.Deliverypartnerrecord com.diatozSnacks.snacks_management.repository.DeliveryPartnerRecordRepo.findDeliveryPartnerRecordById(int,java.lang.String)!\n</code></pre>\n"},{"tags":["java","powershell"],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429712979,"creation_date":1429712979,"answer_id":29800767,"question_id":29799158,"body_markdown":"The option you pass to the installer are only valid for an [installation configuration file](https://docs.oracle.com/javase/8/docs/technotes/guides/install/config.html#config_file_options). If you do not want to use a configuration file you can use the following command line options for a [silent install](https://www.java.com/en/download/help/silent_install.xml).","title":"Powershell install Java silently","body":"<p>The option you pass to the installer are only valid for an <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/config.html#config_file_options\" rel=\"nofollow\">installation configuration file</a>. If you do not want to use a configuration file you can use the following command line options for a <a href=\"https://www.java.com/en/download/help/silent_install.xml\" rel=\"nofollow\">silent install</a>.</p>\n"},{"tags":[],"owner":{"account_id":4005688,"reputation":372,"user_id":3300393,"accept_rate":75,"display_name":"Jerry1"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1429793087,"creation_date":1429793087,"answer_id":29823860,"question_id":29799158,"body_markdown":"I found solution in cmdLet `Execute-Process` via this [script][1]. Works fine!\r\n\r\nAnd calling it:\r\n\r\n    Execute-Process &#39;\\\\srv\\java\\jre-8u45-windows-x64.exe&#39; -Arguments &#39;/s INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0 /L c:\\temp\\jre-8u45-windows-x64.log&#39;\r\n\r\n  [1]: https://gallery.technet.microsoft.com/scriptcenter/Install-Java-within-an-4daea195\r\n","title":"Powershell install Java silently","body":"<p>I found solution in cmdLet <code>Execute-Process</code> via this <a href=\"https://gallery.technet.microsoft.com/scriptcenter/Install-Java-within-an-4daea195\" rel=\"noreferrer\">script</a>. Works fine!</p>\n\n<p>And calling it:</p>\n\n<pre><code>Execute-Process '\\\\srv\\java\\jre-8u45-windows-x64.exe' -Arguments '/s INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0 /L c:\\temp\\jre-8u45-windows-x64.log'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12457111,"reputation":136,"user_id":10836810,"display_name":"Patrick Burwell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632326680,"creation_date":1632326680,"answer_id":69287703,"question_id":29799158,"body_markdown":"[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12","title":"Powershell install Java silently","body":"<p>[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12</p>\n"}],"owner":{"account_id":4005688,"reputation":372,"user_id":3300393,"accept_rate":75,"display_name":"Jerry1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45574,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":29823860,"answer_count":3,"score":8,"last_activity_date":1663067732,"creation_date":1429709448,"question_id":29799158,"body_markdown":"I need to install new Java update silently. I have these arguments for installation:\r\n\r\n    INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0\r\n\r\nand I tried:\r\n\r\n    Start-Process -Wait &#39;\\\\srv\\netlogon\\java\\jre-8u45-windows-i586.exe&#39; -ArgumentList &#39;/s INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0&#39;\r\nand also:\r\n\r\n    $arguments = @(\r\n        &#39;/s&#39;,\r\n        &quot;/v/qn `&quot;INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0 /L \\`&quot;c:\\temp\\java_install.log\\`&quot;`&quot;&quot;\r\n    )\r\n    \r\n    $proc = Start-Process &quot;\\\\srv\\netlogon\\java\\jre-8u45-windows-i586.exe&quot; -ArgumentList $arguments -Wait -PassThru\r\n    if($proc.ExitCode -ne 0) {\r\n        Throw &quot;ERROR&quot;\r\n    }\r\n\r\nand both version has prompt dialog. How to install it silently?","title":"Powershell install Java silently","body":"<p>I need to install new Java update silently. I have these arguments for installation:</p>\n\n<pre><code>INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0\n</code></pre>\n\n<p>and I tried:</p>\n\n<pre><code>Start-Process -Wait '\\\\srv\\netlogon\\java\\jre-8u45-windows-i586.exe' -ArgumentList '/s INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0'\n</code></pre>\n\n<p>and also:</p>\n\n<pre><code>$arguments = @(\n    '/s',\n    \"/v/qn `\"INSTALL_SILENT=1 STATIC=0 AUTO_UPDATE=0 WEB_JAVA=1 WEB_JAVA_SECURITY_LEVEL=H WEB_ANALYTICS=0 EULA=0 REBOOT=0 NOSTARTMENU=0 SPONSORS=0 /L \\`\"c:\\temp\\java_install.log\\`\"`\"\"\n)\n\n$proc = Start-Process \"\\\\srv\\netlogon\\java\\jre-8u45-windows-i586.exe\" -ArgumentList $arguments -Wait -PassThru\nif($proc.ExitCode -ne 0) {\n    Throw \"ERROR\"\n}\n</code></pre>\n\n<p>and both version has prompt dialog. How to install it silently?</p>\n"},{"tags":["java","spring-boot","metrics","micrometer"],"comments":[{"owner":{"account_id":1843111,"reputation":746,"user_id":1672111,"accept_rate":40,"display_name":"San"},"score":0,"creation_date":1596874557,"post_id":50193287,"comment_id":111955466,"body_markdown":"I am also using spring boot 1.5 with same configuration. Are you logging this periodically into some file? `LoggingMeterRegistry` is not available with v1.5. How did you achieve this?","body":"I am also using spring boot 1.5 with same configuration. Are you logging this periodically into some file? <code>LoggingMeterRegistry</code> is not available with v1.5. How did you achieve this?"}],"answers":[{"tags":[],"owner":{"account_id":240022,"reputation":27037,"user_id":510017,"accept_rate":88,"display_name":"Jonathan Schneider"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544146130,"creation_date":1526499502,"answer_id":50378736,"question_id":50193287,"body_markdown":"You can implement a custom `MeterRegistry` and wire it as a `@Bean`. One of the roles of `MeterRegistry` implementations are to define the exposition format to a particular monitoring system (in your case, a log).\r\n\r\nHere&#39;s a start:\r\n\r\n    public class LogMeterRegistry extends StepMeterRegistry {\r\n        private final Logger logger = LoggerFactory.getLogger(LogMeterRegistry.class);\r\n    \r\n        /**\r\n         * @param step Governs on what frequency metrics are logged\r\n         */\r\n        public LogMeterRegistry(Duration step) {\r\n            super(new StepRegistryConfig() {\r\n                @Override\r\n                public String prefix() {\r\n                    return &quot;log&quot;;\r\n                }\r\n    \r\n                @Override\r\n                public String get(String key) {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public Duration step() {\r\n                    return step;\r\n                }\r\n            }, Clock.SYSTEM);\r\n        }\r\n    \r\n        @Override\r\n        protected void publish() {\r\n            for (Meter meter : getMeters()) {\r\n                logger.info(meter.getId().toString());\r\n                for (Measurement measurement : meter.measure()) {\r\n                    logger.info(measurement.getStatistic().toString() + &quot;=&quot; + measurement.getValue());\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected TimeUnit getBaseTimeUnit() {\r\n            return TimeUnit.SECONDS;\r\n        }\r\n    }\r\n\r\n\r\nAn [issue][1] is open for Micrometer 1.1 to provide an out-of-the-box `LogMeterRegistry`.\r\n\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/issues/605","title":"Exporting Metrics to files when using Spring Boot 2.0","body":"<p>You can implement a custom <code>MeterRegistry</code> and wire it as a <code>@Bean</code>. One of the roles of <code>MeterRegistry</code> implementations are to define the exposition format to a particular monitoring system (in your case, a log).</p>\n\n<p>Here's a start:</p>\n\n<pre><code>public class LogMeterRegistry extends StepMeterRegistry {\n    private final Logger logger = LoggerFactory.getLogger(LogMeterRegistry.class);\n\n    /**\n     * @param step Governs on what frequency metrics are logged\n     */\n    public LogMeterRegistry(Duration step) {\n        super(new StepRegistryConfig() {\n            @Override\n            public String prefix() {\n                return \"log\";\n            }\n\n            @Override\n            public String get(String key) {\n                return null;\n            }\n\n            @Override\n            public Duration step() {\n                return step;\n            }\n        }, Clock.SYSTEM);\n    }\n\n    @Override\n    protected void publish() {\n        for (Meter meter : getMeters()) {\n            logger.info(meter.getId().toString());\n            for (Measurement measurement : meter.measure()) {\n                logger.info(measurement.getStatistic().toString() + \"=\" + measurement.getValue());\n            }\n\n        }\n    }\n\n    @Override\n    protected TimeUnit getBaseTimeUnit() {\n        return TimeUnit.SECONDS;\n    }\n}\n</code></pre>\n\n<p>An <a href=\"https://github.com/micrometer-metrics/micrometer/issues/605\" rel=\"nofollow noreferrer\">issue</a> is open for Micrometer 1.1 to provide an out-of-the-box <code>LogMeterRegistry</code>.</p>\n"},{"tags":[],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569238131,"creation_date":1569238131,"answer_id":58061489,"question_id":50193287,"body_markdown":"If you are using Spring Boot 2.x which means version of Micrometer &gt;= 1.1.0, you could simply configure a bean like\r\n\r\n    @Bean\r\n    LoggingMeterRegistry loggingMeterRegistry() {\r\n        return new LoggingMeterRegistry();//by default, it will log metrics every 1m\r\n    }\r\n\r\nYou can also configure a different period cycle like : \r\n\r\n    @Bean\r\n    LoggingMeterRegistry loggingMeterRegistry() {\r\n\r\n       \r\n        return new LoggingMeterRegistry(new LoggingRegistryConfig() {\r\n            @Override\r\n            public Duration step() {\r\n                return Duration.ofSeconds(10); // log every 10 seconds\r\n            }\r\n\r\n            @Override\r\n            public String get(String key) {\r\n                return null;\r\n            }\r\n        }, Clock.SYSTEM);\r\n    }\r\n\r\n\r\nIf you don&#39;t use a higher enough spring boot version, try declare a version of 1.1.x of in micrometer-core your pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n\r\n\r\n\r\n","title":"Exporting Metrics to files when using Spring Boot 2.0","body":"<p>If you are using Spring Boot 2.x which means version of Micrometer >= 1.1.0, you could simply configure a bean like</p>\n\n<pre><code>@Bean\nLoggingMeterRegistry loggingMeterRegistry() {\n    return new LoggingMeterRegistry();//by default, it will log metrics every 1m\n}\n</code></pre>\n\n<p>You can also configure a different period cycle like : </p>\n\n<pre><code>@Bean\nLoggingMeterRegistry loggingMeterRegistry() {\n\n\n    return new LoggingMeterRegistry(new LoggingRegistryConfig() {\n        @Override\n        public Duration step() {\n            return Duration.ofSeconds(10); // log every 10 seconds\n        }\n\n        @Override\n        public String get(String key) {\n            return null;\n        }\n    }, Clock.SYSTEM);\n}\n</code></pre>\n\n<p>If you don't use a higher enough spring boot version, try declare a version of 1.1.x of in micrometer-core your pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663067271,"creation_date":1663067271,"answer_id":73701893,"question_id":50193287,"body_markdown":"I wanted to do something similar to what [Jonathan][1] suggests, but I wanted to publish all metrics on one log line using Slf4j MDCs.\r\n\r\nI output my logs as json (and in my case to AWS CloudWatch) so I can draw queries and visualise the data. \r\n\r\n    import io.micrometer.core.instrument.Clock;\r\n    import io.micrometer.core.instrument.step.StepMeterRegistry;\r\n    import io.micrometer.core.instrument.step.StepRegistryConfig;\r\n    import io.micrometer.core.instrument.util.NamedThreadFactory;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.slf4j.MDC;\r\n    \r\n    import java.text.DecimalFormat;\r\n    import java.util.concurrent.TimeUnit;\r\n   \r\n    \r\n    public class LogMeterRegistry extends StepMeterRegistry {\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(LogMeterRegistry.class);\r\n    \tprivate final DecimalFormat df;\r\n    \tpublic LogMeterRegistry(CustomRegistryConfig config, Clock clock) {\r\n    \t\tsuper(config, clock);\r\n    \t\tstart(new NamedThreadFactory(&quot;log-meter-registry-publisher&quot;));\r\n    \t\tdf = new DecimalFormat(&quot;0&quot;);\r\n    \t\tdf.setMaximumFractionDigits(3);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void publish() {\r\n    \t\tMDC.put(&quot;server&quot;, getHostName());\r\n    \t\tgetMeters().forEach(meter -&gt; meter.measure().forEach(\r\n    \t\t\t\tmeasurement -&gt; MDC.put(meter.getId().getName(), df.format(measurement.getValue()))));\r\n    \t\tlogger.info(&quot;metrics&quot;);\r\n    \t\tMDC.clear();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected TimeUnit getBaseTimeUnit() {\r\n    \t\treturn TimeUnit.MILLISECONDS;\r\n    \t}\r\n    \tpublic interface CustomRegistryConfig extends StepRegistryConfig {\r\n    \r\n    \t\tCustomRegistryConfig DEFAULT = k -&gt; null;\r\n    \r\n    \t\t@Override\r\n    \t\tdefault String prefix() {\r\n    \t\t\treturn &quot;&quot;;\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nSo using the following Metrics:\r\n\r\n\t\tnew JvmHeapPressureMetrics().bindTo(meterRegistry);\r\n\t\tnew JvmThreadMetrics().bindTo(meterRegistry);\r\n\t\tnew UptimeMetrics().bindTo(meterRegistry);\r\n\t\tnew ProcessorMetrics().bindTo(meterRegistry);\r\n\r\nThe json output looks like the following:\r\n\r\n    {\r\n        &quot;@timestamp&quot;: &quot;2022-xx-xxT11:03:00.027Z&quot;,\r\n        &quot;level&quot;: &quot;INFO&quot;,\r\n        &quot;message&quot;: &quot;metrics&quot;,\r\n        &quot;process.thread.name&quot;: &quot;log-meter-registry-publisher&quot;,\r\n        &quot;log.logger&quot;: &quot;MyClass&quot;,\r\n        &quot;jvm.gc.overhead&quot;: &quot;0&quot;,\r\n        &quot;jvm.memory.usage.after.gc&quot;: &quot;0.036&quot;,\r\n        &quot;jvm.threads.daemon&quot;: &quot;46&quot;,\r\n        &quot;jvm.threads.live&quot;: &quot;47&quot;,\r\n        &quot;jvm.threads.peak&quot;: &quot;54&quot;,\r\n        &quot;jvm.threads.states&quot;: &quot;23&quot;,\r\n        &quot;process.cpu.usage&quot;: &quot;0.001&quot;,\r\n        &quot;process.start.time&quot;: &quot;1663065827068&quot;,\r\n        &quot;process.uptime&quot;: &quot;1152989&quot;,\r\n        &quot;server&quot;: &quot;MyServer.localdomain&quot;,\r\n        &quot;system.cpu.count&quot;: &quot;12&quot;,\r\n        &quot;system.cpu.usage&quot;: &quot;0.051&quot;,\r\n        &quot;system.load.average.1m&quot;: &quot;2.351&quot;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/510017/jonathan-schneider","title":"Exporting Metrics to files when using Spring Boot 2.0","body":"<p>I wanted to do something similar to what <a href=\"https://stackoverflow.com/users/510017/jonathan-schneider\">Jonathan</a> suggests, but I wanted to publish all metrics on one log line using Slf4j MDCs.</p>\n<p>I output my logs as json (and in my case to AWS CloudWatch) so I can draw queries and visualise the data.</p>\n<pre><code>import io.micrometer.core.instrument.Clock;\nimport io.micrometer.core.instrument.step.StepMeterRegistry;\nimport io.micrometer.core.instrument.step.StepRegistryConfig;\nimport io.micrometer.core.instrument.util.NamedThreadFactory;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.MDC;\n\nimport java.text.DecimalFormat;\nimport java.util.concurrent.TimeUnit;\n\n\npublic class LogMeterRegistry extends StepMeterRegistry {\n    private static final Logger logger = LoggerFactory.getLogger(LogMeterRegistry.class);\n    private final DecimalFormat df;\n    public LogMeterRegistry(CustomRegistryConfig config, Clock clock) {\n        super(config, clock);\n        start(new NamedThreadFactory(&quot;log-meter-registry-publisher&quot;));\n        df = new DecimalFormat(&quot;0&quot;);\n        df.setMaximumFractionDigits(3);\n    }\n\n    @Override\n    protected void publish() {\n        MDC.put(&quot;server&quot;, getHostName());\n        getMeters().forEach(meter -&gt; meter.measure().forEach(\n                measurement -&gt; MDC.put(meter.getId().getName(), df.format(measurement.getValue()))));\n        logger.info(&quot;metrics&quot;);\n        MDC.clear();\n    }\n\n    @Override\n    protected TimeUnit getBaseTimeUnit() {\n        return TimeUnit.MILLISECONDS;\n    }\n    public interface CustomRegistryConfig extends StepRegistryConfig {\n\n        CustomRegistryConfig DEFAULT = k -&gt; null;\n\n        @Override\n        default String prefix() {\n            return &quot;&quot;;\n        }\n\n    }\n}\n</code></pre>\n<p>So using the following Metrics:</p>\n<pre><code>    new JvmHeapPressureMetrics().bindTo(meterRegistry);\n    new JvmThreadMetrics().bindTo(meterRegistry);\n    new UptimeMetrics().bindTo(meterRegistry);\n    new ProcessorMetrics().bindTo(meterRegistry);\n</code></pre>\n<p>The json output looks like the following:</p>\n<pre><code>{\n    &quot;@timestamp&quot;: &quot;2022-xx-xxT11:03:00.027Z&quot;,\n    &quot;level&quot;: &quot;INFO&quot;,\n    &quot;message&quot;: &quot;metrics&quot;,\n    &quot;process.thread.name&quot;: &quot;log-meter-registry-publisher&quot;,\n    &quot;log.logger&quot;: &quot;MyClass&quot;,\n    &quot;jvm.gc.overhead&quot;: &quot;0&quot;,\n    &quot;jvm.memory.usage.after.gc&quot;: &quot;0.036&quot;,\n    &quot;jvm.threads.daemon&quot;: &quot;46&quot;,\n    &quot;jvm.threads.live&quot;: &quot;47&quot;,\n    &quot;jvm.threads.peak&quot;: &quot;54&quot;,\n    &quot;jvm.threads.states&quot;: &quot;23&quot;,\n    &quot;process.cpu.usage&quot;: &quot;0.001&quot;,\n    &quot;process.start.time&quot;: &quot;1663065827068&quot;,\n    &quot;process.uptime&quot;: &quot;1152989&quot;,\n    &quot;server&quot;: &quot;MyServer.localdomain&quot;,\n    &quot;system.cpu.count&quot;: &quot;12&quot;,\n    &quot;system.cpu.usage&quot;: &quot;0.051&quot;,\n    &quot;system.load.average.1m&quot;: &quot;2.351&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":13509748,"reputation":101,"user_id":9746520,"display_name":"Chuck Bartoski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6014,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1663067271,"creation_date":1525548604,"question_id":50193287,"body_markdown":"I am looking for a way to export spring boot metrics to file in Spring Boot 2.\r\n\r\nIn Spring Boot 1.5.10, we used a Custom **MetricsExporter** class which implements **MetricWriter** and overrides set and increment methods to write the metrics using loggers. We used a log file because we have a different mechanism to process the log file later for metrics analysis.\r\n\r\nWe also used MetricsConfig class, which uses the bean **MetricsEndpointMetricReader** to read metrics from the metrics endpoint reader in a custom config class.\r\n\r\nBut, when we upgraded to Spring Boot 2.0.1 those are not working as there was a breaking change in the existing metrics classes.\r\n\r\nCan someone help us with how we can export the metrics and write them using loggers when using Spring Boot 2.0?\r\n```java\r\n@ExportMetricWriter\r\npublic class MetricsExporter implements MetricWriter {\r\n  private static Logger LOGGER = LoggerFactory.getLogger(&quot;metrics&quot;);\r\n  @Override\r\n  public void set(Metric&lt;?&gt; value) {\r\n    // Write the Gauge metrics to log file\r\n    LOGGER.info(&quot;timestamp={}, name={}, value={}&quot;, value.getTimestamp(), value.getName(),value.getValue());\r\n  }\r\n\r\n  @Override\r\n  public void increment(Delta&lt;?&gt; delta) {\r\n    //Write the Counter metrics to log file\r\n    LOGGER.info(&quot;timestamp={}, name={}, value={}&quot;, delta.getTimestamp(), delta.getName(),delta.getValue());\r\n  }\r\n\r\n  @Override\r\n  public void reset(String metricName) {\r\n    \r\n  }\r\n}\r\n```\r\n\r\nThe **MetricsConfig** Class is as below:\r\n```java\r\n@Configuration\r\npublic class MetricsConfig {\r\n  //Define the MetricsExporter bean to export metrics at regular interval to a log file \r\n  @Bean\r\n  public MetricsExporter metricsExporter() {\r\n    return new MetricsExporter();\r\n  }\r\n  \r\n  \r\n  //Define the MetricsEndpointMetricReader bean to export both push(counters and gauges) and pull(public) metrics \r\n  @Bean\r\n    public MetricsEndpointMetricReader metricsEndpointMetricReader(MetricsEndpoint metricsEndpoint) {\r\n    return new MetricsEndpointMetricReader(metricsEndpoint);\r\n    }\r\n}\r\n```","title":"Exporting Metrics to files when using Spring Boot 2.0","body":"<p>I am looking for a way to export spring boot metrics to file in Spring Boot 2.</p>\n<p>In Spring Boot 1.5.10, we used a Custom <strong>MetricsExporter</strong> class which implements <strong>MetricWriter</strong> and overrides set and increment methods to write the metrics using loggers. We used a log file because we have a different mechanism to process the log file later for metrics analysis.</p>\n<p>We also used MetricsConfig class, which uses the bean <strong>MetricsEndpointMetricReader</strong> to read metrics from the metrics endpoint reader in a custom config class.</p>\n<p>But, when we upgraded to Spring Boot 2.0.1 those are not working as there was a breaking change in the existing metrics classes.</p>\n<p>Can someone help us with how we can export the metrics and write them using loggers when using Spring Boot 2.0?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExportMetricWriter\npublic class MetricsExporter implements MetricWriter {\n  private static Logger LOGGER = LoggerFactory.getLogger(&quot;metrics&quot;);\n  @Override\n  public void set(Metric&lt;?&gt; value) {\n    // Write the Gauge metrics to log file\n    LOGGER.info(&quot;timestamp={}, name={}, value={}&quot;, value.getTimestamp(), value.getName(),value.getValue());\n  }\n\n  @Override\n  public void increment(Delta&lt;?&gt; delta) {\n    //Write the Counter metrics to log file\n    LOGGER.info(&quot;timestamp={}, name={}, value={}&quot;, delta.getTimestamp(), delta.getName(),delta.getValue());\n  }\n\n  @Override\n  public void reset(String metricName) {\n    \n  }\n}\n</code></pre>\n<p>The <strong>MetricsConfig</strong> Class is as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MetricsConfig {\n  //Define the MetricsExporter bean to export metrics at regular interval to a log file \n  @Bean\n  public MetricsExporter metricsExporter() {\n    return new MetricsExporter();\n  }\n  \n  \n  //Define the MetricsEndpointMetricReader bean to export both push(counters and gauges) and pull(public) metrics \n  @Bean\n    public MetricsEndpointMetricReader metricsEndpointMetricReader(MetricsEndpoint metricsEndpoint) {\n    return new MetricsEndpointMetricReader(metricsEndpoint);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","interface","factory","spring-statemachine"],"owner":{"account_id":4055564,"reputation":11,"user_id":3333720,"display_name":"user3333720"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663066802,"creation_date":1663066802,"question_id":73701804,"body_markdown":"I write a simple custom implementation of \r\n\r\n```\r\npublic class AdditionalMethodContext&lt;S,E&gt; extends DefaultStateContext&lt;S,E&gt; implements StateContext&lt;S,E&gt;{\r\n      \r\n    \r\n\tpublic AdditionalMethodContext(Stage stage, Message&lt;E&gt; message, MessageHeaders messageHeaders, ExtendedState extendedState,\r\n\t\t\tTransition&lt;S, E&gt; transition, StateMachine&lt;S, E&gt; stateMachine, State&lt;S, E&gt; source, State&lt;S, E&gt; target, Exception exception) {\r\n\t\tsuper(stage,message,messageHeaders,extendedState,transition,stateMachine,source,target,exception);\r\n\t}\r\n\r\n\r\n\tpublic void printParam(String input) {\r\n\t\tSystem.out.println(&quot;input=&quot;+input);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**but I can&#39;t force my stateMachine factory to use it. How can i do it?**\r\n","title":"Spring State Machine change DefaultStateContext to custom implementation","body":"<p>I write a simple custom implementation of</p>\n<pre><code>public class AdditionalMethodContext&lt;S,E&gt; extends DefaultStateContext&lt;S,E&gt; implements StateContext&lt;S,E&gt;{\n      \n    \n    public AdditionalMethodContext(Stage stage, Message&lt;E&gt; message, MessageHeaders messageHeaders, ExtendedState extendedState,\n            Transition&lt;S, E&gt; transition, StateMachine&lt;S, E&gt; stateMachine, State&lt;S, E&gt; source, State&lt;S, E&gt; target, Exception exception) {\n        super(stage,message,messageHeaders,extendedState,transition,stateMachine,source,target,exception);\n    }\n\n\n    public void printParam(String input) {\n        System.out.println(&quot;input=&quot;+input);\n        \n    }\n\n}\n</code></pre>\n<p><strong>but I can't force my stateMachine factory to use it. How can i do it?</strong></p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":986214,"reputation":975,"user_id":1004631,"display_name":"robot_alien"},"score":0,"creation_date":1557834661,"post_id":56129733,"comment_id":98890654,"body_markdown":"Try doing a mvn eclipse:eclipse command. And also clean &amp; refresh your project in eclipse.","body":"Try doing a mvn eclipse:eclipse command. And also clean &amp; refresh your project in eclipse."},{"owner":{"account_id":7291436,"reputation":875,"user_id":5557698,"accept_rate":45,"display_name":"IllegalSkillsException"},"score":0,"creation_date":1557835390,"post_id":56129733,"comment_id":98891068,"body_markdown":"Clean the project and then right click on the project go to Maven -&gt; Update project. I this should help.","body":"Clean the project and then right click on the project go to Maven -&gt; Update project. I this should help."},{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1557836799,"post_id":56129733,"comment_id":98891932,"body_markdown":"Can you post your pom.xml? Also have you tried deleting your entire maven repository?","body":"Can you post your pom.xml? Also have you tried deleting your entire maven repository?"},{"owner":{"account_id":6752752,"reputation":153,"user_id":5202277,"display_name":"mius"},"score":0,"creation_date":1557837255,"post_id":56129733,"comment_id":98892176,"body_markdown":"@AndreasHartmann I did try deleting the whole repository which didn&#39;t help. Here is the pom.xml: https://github.com/NetCal/DNC/blob/master/pom.xml","body":"@AndreasHartmann I did try deleting the whole repository which didn&#39;t help. Here is the pom.xml: <a href=\"https://github.com/NetCal/DNC/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/NetCal/DNC/blob/master/pom.xml</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1557842098,"post_id":56129733,"comment_id":98895222,"body_markdown":"I suppose you have `module-info.java` in your project?","body":"I suppose you have <code>module-info.java</code> in your project?"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1557842258,"post_id":56129733,"comment_id":98895327,"body_markdown":"If it doesn&#39;t build on Maven command line or in Eclipse, there&#39;s likely a classpath issue of some sort. The error suggests the code is trying to access something that is not public. Try `mvn dependency:tree` (or the Eclipse equivalent). Look carefully at all usage of the commons Math library, to ensure versions are consistent. If not, that&#39;s where to start fixing.","body":"If it doesn&#39;t build on Maven command line or in Eclipse, there&#39;s likely a classpath issue of some sort. The error suggests the code is trying to access something that is not public. Try <code>mvn dependency:tree</code> (or the Eclipse equivalent). Look carefully at all usage of the commons Math library, to ensure versions are consistent. If not, that&#39;s where to start fixing."}],"answers":[{"tags":[],"owner":{"account_id":251006,"reputation":368,"user_id":528074,"display_name":"fbcyborg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557835193,"creation_date":1557835193,"answer_id":56129947,"question_id":56129733,"body_markdown":"one time it happened to me too. Looks like a permission issue in my case or a disk space problem.\r\nAlso, try to delete the dependency from te disk and run `mvn clean install` again.\r\nMake sure you&#39;re using an up-to-date maven version and perform ALT+F5 + force maven dependency update.","title":"Maven dependencies not accessible in Java","body":"<p>one time it happened to me too. Looks like a permission issue in my case or a disk space problem.\nAlso, try to delete the dependency from te disk and run <code>mvn clean install</code> again.\nMake sure you're using an up-to-date maven version and perform ALT+F5 + force maven dependency update.</p>\n"},{"tags":[],"owner":{"account_id":6752752,"reputation":153,"user_id":5202277,"display_name":"mius"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1557853062,"creation_date":1557853062,"answer_id":56135217,"question_id":56129733,"body_markdown":"I managed to fix it. I don&#39;t know why but by not creating the module-info.java file when eclipse asked me, everything worked just fine.","title":"Maven dependencies not accessible in Java","body":"<p>I managed to fix it. I don't know why but by not creating the module-info.java file when eclipse asked me, everything worked just fine.</p>\n"},{"tags":[],"owner":{"account_id":16236253,"reputation":21,"user_id":11723687,"display_name":"winter98"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635724287,"creation_date":1635724287,"answer_id":69791445,"question_id":56129733,"body_markdown":"I had an incomplete module-info.java file : removing this fixed my problems.   I imagine setting this properly would also have worked but I need to understand module files.","title":"Maven dependencies not accessible in Java","body":"<p>I had an incomplete module-info.java file : removing this fixed my problems.   I imagine setting this properly would also have worked but I need to understand module files.</p>\n"},{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663066238,"creation_date":1663066238,"answer_id":73701688,"question_id":56129733,"body_markdown":"The other answers here didn&#39;t fix this for me. Instead it was a classpath clash, due to an &quot;uberjar&quot;.\r\n\r\nIn the classpath were both:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAnd\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.neo4j.procedure&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;apoc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.2.0.11&lt;/version&gt;\r\n\t\t&lt;classifier&gt;core&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe latter one is an uberjar, which also contains all the same classes from the former. Somehow Eclipse can&#39;t cope with this.\r\n\r\n[![Open Type][1]][1]\r\n\r\nThe fix was to re-compile `apoc` without this dependency in the uberjar.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pCPZj.png","title":"Maven dependencies not accessible in Java","body":"<p>The other answers here didn't fix this for me. Instead it was a classpath clash, due to an &quot;uberjar&quot;.</p>\n<p>In the classpath were both:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.neo4j.procedure&lt;/groupId&gt;\n    &lt;artifactId&gt;apoc&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0.11&lt;/version&gt;\n    &lt;classifier&gt;core&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The latter one is an uberjar, which also contains all the same classes from the former. Somehow Eclipse can't cope with this.</p>\n<p><a href=\"https://i.stack.imgur.com/pCPZj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pCPZj.png\" alt=\"Open Type\" /></a></p>\n<p>The fix was to re-compile <code>apoc</code> without this dependency in the uberjar.</p>\n"}],"owner":{"account_id":6752752,"reputation":153,"user_id":5202277,"display_name":"mius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3080,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56135217,"answer_count":4,"score":4,"last_activity_date":1663066238,"creation_date":1557834478,"question_id":56129733,"body_markdown":"I have a project managed by Maven which I am trying to get to work in Eclipse.\r\nThe problem is that all the dependencies which are being managed by Maven are not accessible inside the Java code.\r\n\r\nIn Eclipse I get an error on the imports for the respective classes:\r\n\r\n    The type org.apache.commons.math3.util.Pair is not accessible\r\n\r\nwhile when I try to build the project with Maven I get the error: \r\n\r\n    package org.apache.commons.math3.util is not visible (package org.apache.commons.math3.util is declared in the unnamed module, but module org.apache.commons.math3.util does not read it)\r\n\r\nThe dependencies have been downloaded by Maven and I can find them in the .m2 folder. I can even see the jar files when looking at the Java build path in Eclipse.\r\n\r\nI also get the same error when I try to use Maven through the command line.\r\n\r\nDoes anyone know why this could be happening?","title":"Maven dependencies not accessible in Java","body":"<p>I have a project managed by Maven which I am trying to get to work in Eclipse.\nThe problem is that all the dependencies which are being managed by Maven are not accessible inside the Java code.</p>\n\n<p>In Eclipse I get an error on the imports for the respective classes:</p>\n\n<pre><code>The type org.apache.commons.math3.util.Pair is not accessible\n</code></pre>\n\n<p>while when I try to build the project with Maven I get the error: </p>\n\n<pre><code>package org.apache.commons.math3.util is not visible (package org.apache.commons.math3.util is declared in the unnamed module, but module org.apache.commons.math3.util does not read it)\n</code></pre>\n\n<p>The dependencies have been downloaded by Maven and I can find them in the .m2 folder. I can even see the jar files when looking at the Java build path in Eclipse.</p>\n\n<p>I also get the same error when I try to use Maven through the command line.</p>\n\n<p>Does anyone know why this could be happening?</p>\n"},{"tags":["java","datetime","jodatime"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1663064016,"post_id":73701122,"comment_id":130145850,"body_markdown":"Do you have a strong reason for continuing to use Joda Time, vs the `java.time` package?","body":"Do you have a strong reason for continuing to use Joda Time, vs the <code>java.time</code> package?"},{"owner":{"account_id":20508597,"reputation":5,"user_id":15050826,"display_name":"jjj"},"score":0,"creation_date":1663064062,"post_id":73701122,"comment_id":130145869,"body_markdown":"Yes, it is used throughout the project","body":"Yes, it is used throughout the project"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1663064067,"post_id":73701122,"comment_id":130145873,"body_markdown":"I suspect you are looking for [`DateTime.withZoneRetainFields`](https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withZoneRetainFields-org.joda.time.DateTimeZone-).","body":"I suspect you are looking for <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withZoneRetainFields-org.joda.time.DateTimeZone-\" rel=\"nofollow noreferrer\"><code>DateTime.withZoneRetainFields</code></a>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1663064096,"post_id":73701122,"comment_id":130145884,"body_markdown":"&quot;Yes, it is used throughout the project&quot; does the project have a strong reason for the continuing use of Joda Time?","body":"&quot;Yes, it is used throughout the project&quot; does the project have a strong reason for the continuing use of Joda Time?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1663064251,"post_id":73701122,"comment_id":130145930,"body_markdown":"[The homepage of JodaTime](https://www.joda.org/joda-time/) states: *Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.*","body":"<a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">The homepage of JodaTime</a> states: <i>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</i>"},{"owner":{"account_id":20508597,"reputation":5,"user_id":15050826,"display_name":"jjj"},"score":0,"creation_date":1663064455,"post_id":73701122,"comment_id":130145985,"body_markdown":"&quot;does the project have a strong reason for the continuing use of Joda Time?&quot;\nIt&#39;s a legacy project and switching to java.time is out of scope for now.","body":"&quot;does the project have a strong reason for the continuing use of Joda Time?&quot; It&#39;s a legacy project and switching to java.time is out of scope for now."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1663064892,"post_id":73701122,"comment_id":130146116,"body_markdown":"@jjj does [this](https://stackoverflow.com/questions/73701122/how-to-convert-joda-datetime-with-timezone-to-datetime-with-same-time-in-utc#comment130145873_73701122) not work for you?","body":"@jjj does <a href=\"https://stackoverflow.com/questions/73701122/how-to-convert-joda-datetime-with-timezone-to-datetime-with-same-time-in-utc#comment130145873_73701122\">this</a> not work for you?"},{"owner":{"account_id":20508597,"reputation":5,"user_id":15050826,"display_name":"jjj"},"score":0,"creation_date":1663065165,"post_id":73701122,"comment_id":130146208,"body_markdown":"@AndyTurner no, I tried `dt.withZoneRetainFields(DateTimeZone.UTC);`","body":"@AndyTurner no, I tried <code>dt.withZoneRetainFields(DateTimeZone.UTC);</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1663065364,"post_id":73701122,"comment_id":130146287,"body_markdown":"@jjj please show how you are determining this. &quot;if I call date.getMillis();, I get &quot;2020-10-29&quot; in UTC&quot; doesn&#39;t make sense, because `date.getMillis()` returns a `long`, not any kind of a date, so you must be doing something with that `long` that you&#39;re not showing us.","body":"@jjj please show how you are determining this. &quot;if I call date.getMillis();, I get &quot;2020-10-29&quot; in UTC&quot; doesn&#39;t make sense, because <code>date.getMillis()</code> returns a <code>long</code>, not any kind of a date, so you must be doing something with that <code>long</code> that you&#39;re not showing us."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663066120,"creation_date":1663066120,"answer_id":73701664,"question_id":73701122,"body_markdown":"I&#39;m not sure you&#39;re doing what you think you&#39;re doing here.\r\n\r\nThe date you&#39;re creating doesn&#39;t have a UTC+11 offset, it&#39;s in your JVM&#39;s default time zone ([demo](https://onecompiler.com/java/3yfvxz4gu)):\r\n\r\n```\r\nSystem.out.println(DateTimeZone.getDefault());\r\nDateTime date = new DateTime(&quot;2022-10-30T00:00:00.000+11:00&quot;);\r\nSystem.out.println(date);\r\n```\r\n\r\nprints\r\n\r\n```\r\nEtc/UTC\r\n2022-10-29T13:00:00.000Z\r\n```\r\n\r\nso the local date portion of this is `2022-10-29`.\r\n\r\nIf you want to create it with the specified offset, you have to either use `DateTime.parse`:\r\n\r\n```\r\nDateTime date = DateTime.parse(&quot;2022-10-30T00:00:00.000+11:00&quot;);\r\n```\r\n\r\nor specify it:\r\n\r\n```\r\nDateTime date = new DateTime(&quot;2022-10-30T00:00:00.000+11:00&quot;, DateTimeZone.forOffsetHours(11));\r\n```\r\n\r\nPrinting either of these results in:\r\n\r\n```\r\n2022-10-30T00:00:00.000+11:00\r\n```\r\n\r\nNow, `date.withZoneRetainFields(DateTimeZone.UTC)` is:\r\n\r\n```\r\n2022-10-30T00:00:00.000Z\r\n```\r\n\r\nas required.","title":"How to convert joda DateTime with timezone to DateTime with same time in UTC?","body":"<p>I'm not sure you're doing what you think you're doing here.</p>\n<p>The date you're creating doesn't have a UTC+11 offset, it's in your JVM's default time zone (<a href=\"https://onecompiler.com/java/3yfvxz4gu\" rel=\"nofollow noreferrer\">demo</a>):</p>\n<pre><code>System.out.println(DateTimeZone.getDefault());\nDateTime date = new DateTime(&quot;2022-10-30T00:00:00.000+11:00&quot;);\nSystem.out.println(date);\n</code></pre>\n<p>prints</p>\n<pre><code>Etc/UTC\n2022-10-29T13:00:00.000Z\n</code></pre>\n<p>so the local date portion of this is <code>2022-10-29</code>.</p>\n<p>If you want to create it with the specified offset, you have to either use <code>DateTime.parse</code>:</p>\n<pre><code>DateTime date = DateTime.parse(&quot;2022-10-30T00:00:00.000+11:00&quot;);\n</code></pre>\n<p>or specify it:</p>\n<pre><code>DateTime date = new DateTime(&quot;2022-10-30T00:00:00.000+11:00&quot;, DateTimeZone.forOffsetHours(11));\n</code></pre>\n<p>Printing either of these results in:</p>\n<pre><code>2022-10-30T00:00:00.000+11:00\n</code></pre>\n<p>Now, <code>date.withZoneRetainFields(DateTimeZone.UTC)</code> is:</p>\n<pre><code>2022-10-30T00:00:00.000Z\n</code></pre>\n<p>as required.</p>\n"}],"owner":{"account_id":20508597,"reputation":5,"user_id":15050826,"display_name":"jjj"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73701664,"answer_count":1,"score":-1,"last_activity_date":1663066120,"creation_date":1663063649,"question_id":73701122,"body_markdown":"I have such input date:\r\n\r\n    DateTime date = new DateTime(&quot;2022-10-30T00:00:00.000+11:00&quot;);\r\n\r\nHow can I convert it to UTC while keeping the same time:`&quot;2022-10-30 00:00:00.000&quot;`?\r\n\r\nIn other words, I want the `date.getMillis();` method to return the midnight of &quot;2022-10-30&quot; in UTC.\r\n\r\nFor now, if I call `date.getMillis();`, I get &quot;2020-10-29&quot; in UTC.","title":"How to convert joda DateTime with timezone to DateTime with same time in UTC?","body":"<p>I have such input date:</p>\n<pre><code>DateTime date = new DateTime(&quot;2022-10-30T00:00:00.000+11:00&quot;);\n</code></pre>\n<p>How can I convert it to UTC while keeping the same time:<code>&quot;2022-10-30 00:00:00.000&quot;</code>?</p>\n<p>In other words, I want the <code>date.getMillis();</code> method to return the midnight of &quot;2022-10-30&quot; in UTC.</p>\n<p>For now, if I call <code>date.getMillis();</code>, I get &quot;2020-10-29&quot; in UTC.</p>\n"},{"tags":["java","docker","h2"],"answers":[{"tags":[],"owner":{"account_id":11207325,"reputation":101,"user_id":8274315,"display_name":"cosmic_M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663066110,"creation_date":1663066110,"answer_id":73701663,"question_id":73694107,"body_markdown":"solved the problem. It needs to open console with http://localhost:(localport)/h2 (&quot;sa&quot; , withot password). God, I tried to open with h2-console, as before","title":"Whitelabel Error Page while try to connect to h2 from Docker","body":"<p>solved the problem. It needs to open console with http://localhost:(localport)/h2 (&quot;sa&quot; , withot password). God, I tried to open with h2-console, as before</p>\n"}],"owner":{"account_id":11207325,"reputation":101,"user_id":8274315,"display_name":"cosmic_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663066110,"creation_date":1663009334,"question_id":73694107,"body_markdown":"Helo everyone.\r\nI try to resolve this problem for about several hours... and it seems to me it got under my skin.\r\nI run doker file, its working and I can send request to endpoinds via swagger. Having analised obtained data I was sure that h2 was working under the hood. Without docker everything is fine, I mean h2 and swagger are working. Maybe someone has some guesses.\r\n\r\napplication.properties:\r\n\r\n&lt;!-- language: lang-toml --&gt;\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n    # Enabling H2 Console\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    spring.h2.console.settings.trace=true \r\n    spring.h2.console.settings.web-allow-others=true\r\n    spring.jpa.hibernate.ddl-auto=none\r\n\r\n    privateBankApiLink=https://api.privatbank.ua/p24api/pubinfo?json&amp;exchange&amp;coursid=5\r\n    spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\nAnd Dockerfile:\r\n\r\n&lt;!-- language: lang-dockerfile --&gt;\r\n\r\n    FROM openjdk:17-jdk-alpine\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;, &quot;-web -webAllowOthers -tcp -tcpAllowOthers -browser&quot;]\r\n    EXPOSE 8080\r\n\r\n","title":"Whitelabel Error Page while try to connect to h2 from Docker","body":"<p>Helo everyone.\nI try to resolve this problem for about several hours... and it seems to me it got under my skin.\nI run doker file, its working and I can send request to endpoinds via swagger. Having analised obtained data I was sure that h2 was working under the hood. Without docker everything is fine, I mean h2 and swagger are working. Maybe someone has some guesses.</p>\n<p>application.properties:</p>\n<pre class=\"lang-toml prettyprint-override\"><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\n# Enabling H2 Console\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\nspring.h2.console.settings.trace=true \nspring.h2.console.settings.web-allow-others=true\nspring.jpa.hibernate.ddl-auto=none\n\nprivateBankApiLink=https://api.privatbank.ua/p24api/pubinfo?json&amp;exchange&amp;coursid=5\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p>And Dockerfile:</p>\n<pre class=\"lang-dockerfile prettyprint-override\"><code>FROM openjdk:17-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;, &quot;-web -webAllowOthers -tcp -tcpAllowOthers -browser&quot;]\nEXPOSE 8080\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1663060572,"post_id":73700389,"comment_id":130144548,"body_markdown":"I think you confuse `@InjectMocks` with it&#39;s counter part(s) `@Mock`/-`Bean`!? MyService is null?(!)","body":"I think you confuse <code>@InjectMocks</code> with it&#39;s counter part(s) <code>@Mock</code>/-<code>Bean</code>!? MyService is null?(!)"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1663060574,"post_id":73700389,"comment_id":130144551,"body_markdown":"Please [edit] your question to include the full exception message and stacktrace. It looks like you are calling the static method `MyService.createUser()`, but there is no such call in your code/unit test.","body":"Please <a href=\"https://stackoverflow.com/posts/73700389/edit\">edit</a> your question to include the full exception message and stacktrace. It looks like you are calling the static method <code>MyService.createUser()</code>, but there is no such call in your code/unit test."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1663060575,"post_id":73700389,"comment_id":130144552,"body_markdown":"Your service class does not compile, and I&#39;m reasonably sure those methods do not need to be static","body":"Your service class does not compile, and I&#39;m reasonably sure those methods do not need to be static"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1663060939,"post_id":73700389,"comment_id":130144691,"body_markdown":"Your methods are static. You can&#39;t mock static methods with Mockito.","body":"Your methods are static. You can&#39;t mock static methods with Mockito."},{"owner":{"account_id":8027683,"reputation":331,"user_id":6053969,"accept_rate":30,"display_name":"purplewind"},"score":0,"creation_date":1663061902,"post_id":73700389,"comment_id":130145054,"body_markdown":"updated the question to remove the static, which is still causing Null Pointer","body":"updated the question to remove the static, which is still causing Null Pointer"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663062471,"post_id":73700389,"comment_id":130145301,"body_markdown":"Most important question, you must clarify: is `MyService` &quot;subject under test&quot; ..(x)or is it a mock ?","body":"Most important question, you must clarify: is <code>MyService</code> &quot;subject under test&quot; ..(x)or is it a mock ?"},{"owner":{"account_id":8027683,"reputation":331,"user_id":6053969,"accept_rate":30,"display_name":"purplewind"},"score":0,"creation_date":1663062863,"post_id":73700389,"comment_id":130145449,"body_markdown":"@xerx593 updated the question. Yes MyService.class is the class being tested. Hence, i showed MyServiceTest.class. Lol.","body":"@xerx593 updated the question. Yes MyService.class is the class being tested. Hence, i showed MyServiceTest.class. Lol."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1663063717,"post_id":73700389,"comment_id":130145756,"body_markdown":"Your code doesn&#39;t compile. What is `mockService`?","body":"Your code doesn&#39;t compile. What is <code>mockService</code>?"},{"owner":{"account_id":8027683,"reputation":331,"user_id":6053969,"accept_rate":30,"display_name":"purplewind"},"score":0,"creation_date":1663063982,"post_id":73700389,"comment_id":130145843,"body_markdown":"@tgdavies updated the question, it should be myService. Basically I just want to mock the response of another method in the same test class. Having issues with NullPointer","body":"@tgdavies updated the question, it should be myService. Basically I just want to mock the response of another method in the same test class. Having issues with NullPointer"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1663064087,"post_id":73700389,"comment_id":130145882,"body_markdown":"Please edit your question to include the full stack trace.","body":"Please edit your question to include the full stack trace."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663073195,"post_id":73700389,"comment_id":130149191,"body_markdown":"..then why are you trying to mock it, when it is class under Test?","body":"..then why are you trying to mock it, when it is class under Test?"}],"answers":[{"tags":[],"owner":{"account_id":6600231,"reputation":672,"user_id":5098772,"display_name":"Victor1125"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663066103,"creation_date":1663066103,"answer_id":73701659,"question_id":73700389,"body_markdown":"Annotation `@InjectMock` is for dependency injection - its real class bean. But later in method you try mock method of injected bean.\r\nIn your case will be enougth when you add method instead annotation:\r\n\r\n    @Before\r\n    public void init() {\r\n        myService = Mockito.mock(MyService.class)\r\n    }\r\n","title":"NullPointerException when doNothing() is called on Junit Mockito","body":"<p>Annotation <code>@InjectMock</code> is for dependency injection - its real class bean. But later in method you try mock method of injected bean.\nIn your case will be enougth when you add method instead annotation:</p>\n<pre><code>@Before\npublic void init() {\n    myService = Mockito.mock(MyService.class)\n}\n</code></pre>\n"}],"owner":{"account_id":8027683,"reputation":331,"user_id":6053969,"accept_rate":30,"display_name":"purplewind"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663066103,"creation_date":1663060421,"question_id":73700389,"body_markdown":"I am writing a my unit test using Mockito but I am facing some error stubbing a method in the same class as my test class.\r\n\r\nSo basically, I am testing my service class MyService.class(**Subject being tested**) and this is how I am declaring my Mocks and @InjectMocks.\r\n\r\nI am facing a null pointer whenever i hit the checkUserBackground() method when I am using doNothing() because the method returns void. I have also tried using verify() but I am getting error saying &quot;Wanted but not invoked&quot;.\r\n\r\nHow do I get pass this error? Been stuck for 13 hours, appreciate some help thanks!\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings(strictness = &quot;Strictness.LENIENT&quot;)\r\n    class MyServiceTest {\r\n    \r\n    @InjectMocks\r\n    private MyService myService;\r\n\r\n\r\n\r\n    @Test\r\n    void testCreateUser() {\r\n      User user = new User();\r\n      user.setAge(25);\r\n      user.setName(Jack);\r\n\r\n\r\n      Mockito.doNothing().when(myService).checkUserBackground(user.getName(), true); \r\n      assertEquals(myService.createUser().getName(), &quot;Jack&quot;);\r\n    }\r\n    }\r\n    \r\n\r\n\r\n\r\nThis is the actual Service class:\r\n\r\n    class MyService() {\r\n     public static void createUser(User user) {\r\n\r\n      checkUserBackground(user.getName(), true);      //Null Pointer here\r\n\r\n    }\r\n\r\n    public void checkUserBackground(String name, Boolean newUser){\r\n\r\n     //some logic which doesnt matter\r\n    }\r\n   }\r\n\r\n\r\n","title":"NullPointerException when doNothing() is called on Junit Mockito","body":"<p>I am writing a my unit test using Mockito but I am facing some error stubbing a method in the same class as my test class.</p>\n<p>So basically, I am testing my service class MyService.class(<strong>Subject being tested</strong>) and this is how I am declaring my Mocks and @InjectMocks.</p>\n<p>I am facing a null pointer whenever i hit the checkUserBackground() method when I am using doNothing() because the method returns void. I have also tried using verify() but I am getting error saying &quot;Wanted but not invoked&quot;.</p>\n<p>How do I get pass this error? Been stuck for 13 hours, appreciate some help thanks!</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = &quot;Strictness.LENIENT&quot;)\nclass MyServiceTest {\n\n@InjectMocks\nprivate MyService myService;\n\n\n\n@Test\nvoid testCreateUser() {\n  User user = new User();\n  user.setAge(25);\n  user.setName(Jack);\n\n\n  Mockito.doNothing().when(myService).checkUserBackground(user.getName(), true); \n  assertEquals(myService.createUser().getName(), &quot;Jack&quot;);\n}\n}\n</code></pre>\n<p>This is the actual Service class:</p>\n<pre><code>class MyService() {\n public static void createUser(User user) {\n\n  checkUserBackground(user.getName(), true);      //Null Pointer here\n\n}\n\npublic void checkUserBackground(String name, Boolean newUser){\n\n //some logic which doesnt matter\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663065511,"post_id":73701512,"comment_id":130146342,"body_markdown":"&quot;In my mind this doesn&#39;t make sense&quot; why not?","body":"&quot;In my mind this doesn&#39;t make sense&quot; why not?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663065578,"post_id":73701512,"comment_id":130146360,"body_markdown":"Also, it&#39;s inside the class that *runs it*, not the class *it runs*. Could this be what confused you?","body":"Also, it&#39;s inside the class that <i>runs it</i>, not the class <i>it runs</i>. Could this be what confused you?"},{"owner":{"account_id":20308281,"reputation":8024,"user_id":14895985,"display_name":"Gass"},"score":0,"creation_date":1663065594,"post_id":73701512,"comment_id":130146364,"body_markdown":"@FedericoklezCulloca I don&#39;t know if its because I&#39;ve been coding in JavaScript for a long time. But for me it would make more sense to call from the outside.","body":"@FedericoklezCulloca I don&#39;t know if its because I&#39;ve been coding in JavaScript for a long time. But for me it would make more sense to call from the outside."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663065738,"post_id":73701512,"comment_id":130146405,"body_markdown":"from outside of what? It&#39;s inside the `main` method of the main class of the application. What else should start the framework? (I&#39;m not being flippant, I&#39;m trying to understand what you expected instead and why)","body":"from outside of what? It&#39;s inside the <code>main</code> method of the main class of the application. What else should start the framework? (I&#39;m not being flippant, I&#39;m trying to understand what you expected instead and why)"},{"owner":{"account_id":20308281,"reputation":8024,"user_id":14895985,"display_name":"Gass"},"score":0,"creation_date":1663065941,"post_id":73701512,"comment_id":130146459,"body_markdown":"I would rather prefer to see a class named something like `FrameworkIni` and inside that class execute the `SpringApplication.run(SomeApp.class, args)` method. That would make more sense to me.","body":"I would rather prefer to see a class named something like <code>FrameworkIni</code> and inside that class execute the <code>SpringApplication.run(SomeApp.class, args)</code> method. That would make more sense to me."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663066099,"post_id":73701512,"comment_id":130146521,"body_markdown":"And what would you then put inside the `SomeApp` class? Notice that the application logic in a Spring application does *not* go inside the main class.","body":"And what would you then put inside the <code>SomeApp</code> class? Notice that the application logic in a Spring application does <i>not</i> go inside the main class."},{"owner":{"account_id":20308281,"reputation":8024,"user_id":14895985,"display_name":"Gass"},"score":0,"creation_date":1663066157,"post_id":73701512,"comment_id":130146535,"body_markdown":"Well, everything else related to that class.","body":"Well, everything else related to that class."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1663066224,"post_id":73701512,"comment_id":130146558,"body_markdown":"Like what? And, again, what for? It just seems wasteful for no practical advantage to me.","body":"Like what? And, again, what for? It just seems wasteful for no practical advantage to me."},{"owner":{"account_id":20308281,"reputation":8024,"user_id":14895985,"display_name":"Gass"},"score":0,"creation_date":1663066599,"post_id":73701512,"comment_id":130146680,"body_markdown":"Okay, I get it. But what I still don&#39;t understand is that this main class is been runed before the `SpringApplication.run()`is executed. So why run it again ? Please help me understand the logic.","body":"Okay, I get it. But what I still don&#39;t understand is that this main class is been runed before the <code>SpringApplication.run()</code>is executed. So why run it again ? Please help me understand the logic."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1663066729,"post_id":73701512,"comment_id":130146722,"body_markdown":"There&#39;s nothing being run again here. The main class starts the framework. That&#39;s it. Nothing is being run twice.","body":"There&#39;s nothing being run again here. The main class starts the framework. That&#39;s it. Nothing is being run twice."},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1663067087,"post_id":73701512,"comment_id":130146851,"body_markdown":"Java needs `public static void main(String[] args) {...}` entry point to kick off. At this point there&#39;s no Spring, just pure Java. Then, Spring needs to kick off, so we invoke it with `SpringApplication.run(...)`. Only then, Spring annotations are being read, Spring beans created, etc. We could pass any class as a parameter here, but this same main class makes the most sense.","body":"Java needs <code>public static void main(String[] args) {...}</code> entry point to kick off. At this point there&#39;s no Spring, just pure Java. Then, Spring needs to kick off, so we invoke it with <code>SpringApplication.run(...)</code>. Only then, Spring annotations are being read, Spring beans created, etc. We could pass any class as a parameter here, but this same main class makes the most sense."},{"owner":{"account_id":20308281,"reputation":8024,"user_id":14895985,"display_name":"Gass"},"score":0,"creation_date":1663067524,"post_id":73701512,"comment_id":130147013,"body_markdown":"@sp00m thanks, it makes more sense. Wouldn&#39;t it be more logical to have a `public class AppIni {}` that starts `Spring` with `SpringApplication.run(myApp.class, args)` ?","body":"@sp00m thanks, it makes more sense. Wouldn&#39;t it be more logical to have a <code>public class AppIni {}</code> that starts <code>Spring</code> with <code>SpringApplication.run(myApp.class, args)</code> ?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1663068785,"post_id":73701512,"comment_id":130147459,"body_markdown":"@Gass maybe a more objective question would be [why do we need to pass `run` anything in the first place?](https://stackoverflow.com/questions/62975942/purpose-of-class-argument-in-springapplication-run-class-args)","body":"@Gass maybe a more objective question would be <a href=\"https://stackoverflow.com/questions/62975942/purpose-of-class-argument-in-springapplication-run-class-args\">why do we need to pass <code>run</code> anything in the first place?</a>"}],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1663066084,"creation_date":1663066084,"answer_id":73701654,"question_id":73701512,"body_markdown":"Because there is no practical need.\r\n\r\nTechnically you could do something like that:\r\n\r\n    @SpringBootApplication\r\n    public class ConsumingRestApplication&#160;{}\r\n\r\n    public class Init {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ConsumingRestApplication.class, args);\r\n        }\r\n    }\r\n\r\nBut you wouldn&#39;t gain anything from it, that&#39;s why it&#39;s just simplified into one class with the annotation and the main method.","title":"Why is the SpringApplication.run() inside the class that it runs?","body":"<p>Because there is no practical need.</p>\n<p>Technically you could do something like that:</p>\n<pre><code>@SpringBootApplication\npublic class ConsumingRestApplication {}\n\npublic class Init {\n    public static void main(String[] args) {\n        SpringApplication.run(ConsumingRestApplication.class, args);\n    }\n}\n</code></pre>\n<p>But you wouldn't gain anything from it, that's why it's just simplified into one class with the annotation and the main method.</p>\n"}],"owner":{"account_id":20308281,"reputation":8024,"user_id":14895985,"display_name":"Gass"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1663316483,"accepted_answer_id":73701654,"answer_count":1,"score":-2,"last_activity_date":1663066084,"creation_date":1663065405,"question_id":73701512,"body_markdown":"I&#39;m new to SpringBoot and I&#39;ve been a long time without coding with Java. In my mind this doesn&#39;t make sense. Why is the `SpringApplication.run()` inside the class that it runs ?\r\n\r\nLike so: \r\n\r\n```\r\n@SpringBootApplication\r\npublic class ConsumingRestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ConsumingRestApplication.class, args);\r\n\t}\r\n}\r\n```","title":"Why is the SpringApplication.run() inside the class that it runs?","body":"<p>I'm new to SpringBoot and I've been a long time without coding with Java. In my mind this doesn't make sense. Why is the <code>SpringApplication.run()</code> inside the class that it runs ?</p>\n<p>Like so:</p>\n<pre><code>@SpringBootApplication\npublic class ConsumingRestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ConsumingRestApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":17743196,"reputation":55,"user_id":12883017,"display_name":"Şageldi Aly&#253;ew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663065928,"creation_date":1662588159,"answer_id":73641878,"question_id":73599596,"body_markdown":"**Do you want editText.setText() from reacyclerview adapter? You can do like this:**\r\n\r\n    public class RecyclerViewAdapter1 extends RecyclerView.Adapter&lt;RecyclerViewAdapter1.ViewHolder&gt; {\r\n    \r\n    \r\n        private Context context;\r\n        private List&lt;Result&gt; results;\r\n        private EditText editText;\r\n    \r\n        public RecyclerViewAdapter1(Context context, List&lt;Result&gt; results,EditText editText) {\r\n            this.context = context;\r\n            this.results = results;\r\n            this.editText=editText;\r\n        }\r\n    \r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.arraylist1, parent,false);\r\n            ViewHolder holder = new ViewHolder(v);\r\n    \r\n            return holder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            Result result = results.get(position);\r\n            holder.textViewid.setText(result.getRef_desa_id());\r\n            holder.textViewNm_desa.setText(result.getNama_desa());\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return results.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder  implements View.OnClickListener{\r\n            @BindView(R.id.txtid)\r\n            TextView textViewid;\r\n            @BindView(R.id.txtnm_desa)\r\n            TextView textViewNm_desa;\r\n    \r\n    \r\n    \r\n    \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                ButterKnife.bind(this, itemView);\r\n            }\r\n            @Override\r\n            public void onClick(View v) {\r\n                String id = textViewid.getText().toString();\r\n                editText.setText(id);\r\n    \r\n            }\r\n        }\r\n        }\r\n\r\n\r\n**Usage**\r\n\r\n    public class MainActivity extends AppCompatActivity{\r\n       private Context context=this;\r\n       private List&lt;Result&gt; results;\r\n       private EditText editText;\r\n       private RecyclerView rec;\r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n           super.onCreate(savedInstanceState);\r\n           setContentView(R.layout.activity_main);\r\n           editText=findViewById(R.id.my_edit_text_id_in_xml);\r\n           rec=findViewById(R.id.my_recycler_view_id);\r\n           // add items to your result List\r\n           rec.setAdapter(new RecyclerViewAdapter1(context,results,editText));\r\n           rec.setLayoutManager(new LinearLayoutManager(context));\r\n       }\r\n    }","title":"How to send data from RecyclerView to edit text in the same activity using adapter? (Android)","body":"<p><strong>Do you want editText.setText() from reacyclerview adapter? You can do like this:</strong></p>\n<pre><code>public class RecyclerViewAdapter1 extends RecyclerView.Adapter&lt;RecyclerViewAdapter1.ViewHolder&gt; {\n\n\n    private Context context;\n    private List&lt;Result&gt; results;\n    private EditText editText;\n\n    public RecyclerViewAdapter1(Context context, List&lt;Result&gt; results,EditText editText) {\n        this.context = context;\n        this.results = results;\n        this.editText=editText;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.arraylist1, parent,false);\n        ViewHolder holder = new ViewHolder(v);\n\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        Result result = results.get(position);\n        holder.textViewid.setText(result.getRef_desa_id());\n        holder.textViewNm_desa.setText(result.getNama_desa());\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return results.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder  implements View.OnClickListener{\n        @BindView(R.id.txtid)\n        TextView textViewid;\n        @BindView(R.id.txtnm_desa)\n        TextView textViewNm_desa;\n\n\n\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            ButterKnife.bind(this, itemView);\n        }\n        @Override\n        public void onClick(View v) {\n            String id = textViewid.getText().toString();\n            editText.setText(id);\n\n        }\n    }\n    }\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity{\n   private Context context=this;\n   private List&lt;Result&gt; results;\n   private EditText editText;\n   private RecyclerView rec;\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n       editText=findViewById(R.id.my_edit_text_id_in_xml);\n       rec=findViewById(R.id.my_recycler_view_id);\n       // add items to your result List\n       rec.setAdapter(new RecyclerViewAdapter1(context,results,editText));\n       rec.setLayoutManager(new LinearLayoutManager(context));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":16299988,"reputation":3,"user_id":11771340,"display_name":"andri putra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73641878,"answer_count":1,"score":0,"last_activity_date":1663065928,"creation_date":1662296247,"question_id":73599596,"body_markdown":"I have a problem in my code, I want to send the data I clicked from the RecyclerView to edit text in the same activity\r\n\r\nMy adapter:\r\n\r\n    public class RecyclerViewAdapter1 extends RecyclerView.Adapter&lt;RecyclerViewAdapter1.ViewHolder&gt; {\r\n    \r\n    \r\n        private Context context;\r\n        private List&lt;Result&gt; results;\r\n    \r\n        public RecyclerViewAdapter1(Context context, List&lt;Result&gt; results) {\r\n            this.context = context;\r\n            this.results = results;\r\n        }\r\n    \r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.arraylist1, parent,false);\r\n            ViewHolder holder = new ViewHolder(v);\r\n    \r\n            return holder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            Result result = results.get(position);\r\n            holder.textViewid.setText(result.getRef_desa_id());\r\n            holder.textViewNm_desa.setText(result.getNama_desa());\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return results.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder  implements View.OnClickListener{\r\n            @BindView(R.id.txtid)\r\n            TextView textViewid;\r\n            @BindView(R.id.txtnm_desa)\r\n            TextView textViewNm_desa;\r\n    \r\n    \r\n    \r\n    \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                ButterKnife.bind(this, itemView);\r\n            }\r\n            @Override\r\n            public void onClick(View v) {\r\n                String id = textViewid.getText().toString();\r\n    \r\n    \r\n                Intent i = new Intent(context, DaftarDukaActivity2.class);\r\n                ((Activity)context).finish();\r\n    \r\n                i.putExtra(&quot;id&quot;, id);\r\n    \r\n                context.startActivity(i);\r\n    \r\n            }\r\n        }\r\n        }\r\n\r\nIn the code above, my coding has succeeded in displaying data to another Edit text activity. I want to ask, how to send data from the RecyclerView I clicked to EditText in the same activity?","title":"How to send data from RecyclerView to edit text in the same activity using adapter? (Android)","body":"<p>I have a problem in my code, I want to send the data I clicked from the RecyclerView to edit text in the same activity</p>\n<p>My adapter:</p>\n<pre><code>public class RecyclerViewAdapter1 extends RecyclerView.Adapter&lt;RecyclerViewAdapter1.ViewHolder&gt; {\n\n\n    private Context context;\n    private List&lt;Result&gt; results;\n\n    public RecyclerViewAdapter1(Context context, List&lt;Result&gt; results) {\n        this.context = context;\n        this.results = results;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.arraylist1, parent,false);\n        ViewHolder holder = new ViewHolder(v);\n\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        Result result = results.get(position);\n        holder.textViewid.setText(result.getRef_desa_id());\n        holder.textViewNm_desa.setText(result.getNama_desa());\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return results.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder  implements View.OnClickListener{\n        @BindView(R.id.txtid)\n        TextView textViewid;\n        @BindView(R.id.txtnm_desa)\n        TextView textViewNm_desa;\n\n\n\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            ButterKnife.bind(this, itemView);\n        }\n        @Override\n        public void onClick(View v) {\n            String id = textViewid.getText().toString();\n\n\n            Intent i = new Intent(context, DaftarDukaActivity2.class);\n            ((Activity)context).finish();\n\n            i.putExtra(&quot;id&quot;, id);\n\n            context.startActivity(i);\n\n        }\n    }\n    }\n</code></pre>\n<p>In the code above, my coding has succeeded in displaying data to another Edit text activity. I want to ask, how to send data from the RecyclerView I clicked to EditText in the same activity?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663065817,"creation_date":1663065817,"answer_id":73701606,"question_id":73529636,"body_markdown":"I tried \r\n```java\r\n   driver.close();\r\n   driver.quit();\r\n```\r\nit does not throw any exception now.","title":"Timed out waiting for driver server to stop","body":"<p>I tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>   driver.close();\n   driver.quit();\n</code></pre>\n<p>it does not throw any exception now.</p>\n"}],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663065817,"creation_date":1661779946,"question_id":73529636,"body_markdown":"I have written a scrapper using selenium which uses chrome driver. It works well but some time it fails to quit chrome driver with following exception\r\n```\r\norg.openqa.selenium.WebDriverException: Timed out waiting for driver server to stop.\r\nBuild info: version: &#39;4.1.3&#39;, revision: &#39;7b1ebf28ef&#39;\r\nSystem info: host: &#39;45-79-216-229.ip.linodeusercontent.com&#39;, ip: &#39;45.79.216.229&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;4.18.0-348.12.2.el8_5.x86_64&#39;, java.version: &#39;11.0.14&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [66aa12cc87af0a6cf095436a6bbece90, quit {}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 102.0.5005.61, chrome: {chromedriverVersion: 102.0.5005.61 (0e59bcc00cc4..., userDataDir: /tmp/.com.google.Chrome.DhJaWB}, goog:chromeOptions: {debuggerAddress: localhost:45009}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://localhost:45009/devtoo..., se:cdpVersion: 102.0.5005.61, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 66aa12cc87af0a6cf095436a6bbece90\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:132)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:567)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:622)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:626)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.quit(RemoteWebDriver.java:463)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.quit(ChromiumDriver.java:293)\r\n```\r\n\r\n**Code**\r\nI am adding my code here.\r\n```java\r\n\r\npublic class SeleniumScraper {\r\n\r\n    private WebDriver driver;\r\n\r\n    public SeleniumScraper() {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions options = this.getDefaultChromeOptions();\r\n        this.driver = new ChromeDriver(options);\r\n        driver.manage().window().maximize();\r\n    }\r\n\r\n    public WebDriver getPage(String url) {\r\n        this.driver.get(url);\r\n        return driver;\r\n    }\r\n\r\n    public boolean quitDriver() {\r\n        this.driver.quit();\r\n        return true;\r\n    }\r\n\r\n    protected ChromeOptions getDefaultChromeOptions() {\r\n        HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;&gt;(2);\r\n        chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, false);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n        options.setHeadless(true);\r\n        return options;\r\n    }\r\n}\r\n```","title":"Timed out waiting for driver server to stop","body":"<p>I have written a scrapper using selenium which uses chrome driver. It works well but some time it fails to quit chrome driver with following exception</p>\n<pre><code>org.openqa.selenium.WebDriverException: Timed out waiting for driver server to stop.\nBuild info: version: '4.1.3', revision: '7b1ebf28ef'\nSystem info: host: '45-79-216-229.ip.linodeusercontent.com', ip: '45.79.216.229', os.name: 'Linux', os.arch: 'amd64', os.version: '4.18.0-348.12.2.el8_5.x86_64', java.version: '11.0.14'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [66aa12cc87af0a6cf095436a6bbece90, quit {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 102.0.5005.61, chrome: {chromedriverVersion: 102.0.5005.61 (0e59bcc00cc4..., userDataDir: /tmp/.com.google.Chrome.DhJaWB}, goog:chromeOptions: {debuggerAddress: localhost:45009}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://localhost:45009/devtoo..., se:cdpVersion: 102.0.5005.61, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 66aa12cc87af0a6cf095436a6bbece90\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:132)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:567)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:622)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:626)\n    at org.openqa.selenium.remote.RemoteWebDriver.quit(RemoteWebDriver.java:463)\n    at org.openqa.selenium.chromium.ChromiumDriver.quit(ChromiumDriver.java:293)\n</code></pre>\n<p><strong>Code</strong>\nI am adding my code here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class SeleniumScraper {\n\n    private WebDriver driver;\n\n    public SeleniumScraper() {\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = this.getDefaultChromeOptions();\n        this.driver = new ChromeDriver(options);\n        driver.manage().window().maximize();\n    }\n\n    public WebDriver getPage(String url) {\n        this.driver.get(url);\n        return driver;\n    }\n\n    public boolean quitDriver() {\n        this.driver.quit();\n        return true;\n    }\n\n    protected ChromeOptions getDefaultChromeOptions() {\n        HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;&gt;(2);\n        chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, false);\n        ChromeOptions options = new ChromeOptions();\n        options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n        options.setHeadless(true);\n        return options;\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8953,"page":1039,"page_size":100}
